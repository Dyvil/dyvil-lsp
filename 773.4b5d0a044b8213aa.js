"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[773],{3847:(Z,H,a)=>{a.d(H,{IP:()=>L,ns:()=>T,rv:()=>O});var g=a(55885),d=a(33562),p=a(63663),P=a(82344),b=a(32243),R=a(73317),U=a(54922),v=a(58571),_=a(17324),N=a(32064),w=a(39108),I=a(48780),W=a(69486),F=a(11113);let T=class extends p.bU{constructor(r,l,h,C,D,x,M,X){super(r,l,D,h),this.storageService=h,this.instantiationService=C,this.contextMenuService=x,this.extensionService=M,this.contextService=X}create(r){this.viewPaneContainer=this._register(this.createViewPaneContainer(r)),this._register(this.viewPaneContainer.onTitleAreaUpdate(()=>this.updateTitleArea())),this.viewPaneContainer.create(r)}setVisible(r){super.setVisible(r),this.viewPaneContainer?.setVisible(r)}layout(r){this.viewPaneContainer?.layout(r)}setBoundarySashes(r){this.viewPaneContainer?.setBoundarySashes(r)}getOptimalWidth(){return this.viewPaneContainer?.getOptimalWidth()??0}openView(r,l){return this.viewPaneContainer?.openView(r,l)}getViewPaneContainer(){return this.viewPaneContainer}getActionsContext(){return this.getViewPaneContainer()?.getActionsContext()}getContextMenuActions(){return this.viewPaneContainer?.menuActions?.getContextMenuActions()??[]}getMenuIds(){const r=[];return this.viewPaneContainer?.menuActions&&(r.push(this.viewPaneContainer.menuActions.menuId),this.viewPaneContainer.isViewMergedWithContainer()&&r.push(this.viewPaneContainer.panes[0].menuActions.menuId)),r}getActions(){const r=[];if(this.viewPaneContainer?.menuActions&&(r.push(...this.viewPaneContainer.menuActions.getPrimaryActions()),this.viewPaneContainer.isViewMergedWithContainer())){const l=this.viewPaneContainer.panes[0];l.shouldShowFilterInHeader()&&r.push(F.IJ),r.push(...l.menuActions.getPrimaryActions())}return r}getSecondaryActions(){if(!this.viewPaneContainer?.menuActions)return[];const r=this.viewPaneContainer.isViewMergedWithContainer()?this.viewPaneContainer.panes[0].menuActions.getSecondaryActions():[];let l=this.viewPaneContainer.menuActions.getSecondaryActions();const h=l.findIndex(C=>C instanceof R.NZ&&C.item.submenu===I.jc);if(-1!==h){const C=l[h];C.actions.some(({enabled:D})=>D)?1===l.length&&0===r.length?l=C.actions.slice():0!==h&&(l=[C,...l.slice(0,h),...l.slice(h+1)]):l.splice(h,1)}return l.length&&r.length?[...l,new b.Z0,...r]:l.length?l:r}getActionViewItem(r){return this.viewPaneContainer?.getActionViewItem(r)}getTitle(){return this.viewPaneContainer?.getTitle()??""}focus(){this.viewPaneContainer?.focus()}};T=(0,g.gn)([(0,g.fM)(1,_.bU),(0,g.fM)(2,v.Uy),(0,g.fM)(3,P.TG),(0,g.fM)(4,N.XE),(0,g.fM)(5,U.i),(0,g.fM)(6,W.QS),(0,g.fM)(7,w.ec)],T);class O extends p.Vj{static create(r,l,h,C,D,x,M){return new O(r,l,h,C,D,x,M)}constructor(r,l,h,C,D,x,M){super(r,l,h,C,D,x),this.iconUrl=M}}const L={Viewlets:"workbench.contributions.viewlets",Panels:"workbench.contributions.panels",Auxiliary:"workbench.contributions.auxiliary"};class B extends p.Nl{registerPaneComposite(r){super.registerComposite(r)}deregisterPaneComposite(r){super.deregisterComposite(r)}getPaneComposite(r){return this.getComposite(r)}getPaneComposites(){return this.getComposites()}}d.B.add(L.Viewlets,new B),d.B.add(L.Panels,new B),d.B.add(L.Auxiliary,new B)},29773:(Z,H,a)=>{a.d(H,{h:()=>$,L:()=>G});var g=a(58054),d=a(55885),p=a(12997),P=a(73059),b=a(86682),R=a(33562),U=a(58571),v=a(76972),_=a(13683),N=a(93358),w=a(73317),I=a(12829),W=a(82344),F=a(17324),T=a(32064),O=a(54922),L=a(69486),B=a(39108),E=a(3847),r=a(94401),l=a(58535),h=a(38707),C=a(59796),D=a(48780),x=a(31719);let M=class extends D.XV{constructor(e,i,t,n,o,c,s,u,V,m,y,A){super(e,{mergeViewWithContainerWhenSingleView:!1},s,t,n,V,o,m,u,c,y,A),this.constantViewDescriptors=new Map,this.allViews=new Map,this._register(i(S=>{this.filterValue=S,this.onFilterChanged(S)})),this._register(this.onDidChangeViewVisibility(S=>{const f=Array.from(this.allViews.entries()).find(j=>j[1].has(S.id));f&&!this.filterValue?.includes(f[0])&&this.setFilter(f[1].get(S.id))})),this._register(this.viewContainerModel.onDidChangeActiveViewDescriptors(()=>{this.updateAllViews(this.viewContainerModel.activeViewDescriptors)}))}updateAllViews(e){e.forEach(i=>{const t=this.getFilterOn(i);t&&(this.allViews.has(t)||this.allViews.set(t,new Map),this.allViews.get(t).set(i.id,i),this.filterValue&&!this.filterValue.includes(t)&&this.panes.find(n=>n.id===i.id)&&this.viewContainerModel.setVisible(i.id,!1))})}addConstantViewDescriptors(e){e.forEach(i=>this.constantViewDescriptors.set(i.id,i))}onFilterChanged(e){0===this.allViews.size&&this.updateAllViews(this.viewContainerModel.activeViewDescriptors),this.getViewsNotForTarget(e).forEach(i=>this.viewContainerModel.setVisible(i.id,!1)),this.getViewsForTarget(e).forEach(i=>this.viewContainerModel.setVisible(i.id,!0))}getViewsForTarget(e){const i=[];for(let t=0;t<e.length;t++)this.allViews.has(e[t])&&i.push(...Array.from(this.allViews.get(e[t]).values()));return i}getViewsNotForTarget(e){const i=this.allViews.keys();let t=i.next(),n=[];for(;!t.done;){let o=!1;e.forEach(c=>{t.value===c&&(o=!0)}),o||(n=n.concat(this.getViewsForTarget([t.value]))),t=i.next()}return n}onDidAddViewDescriptors(e){const i=super.onDidAddViewDescriptors(e);for(let t=0;t<e.length;t++)this.constantViewDescriptors.has(e[t].viewDescriptor.id)&&i[t].setExpanded(!1);return 0===this.allViews.size&&this.updateAllViews(this.viewContainerModel.activeViewDescriptors),i}};M=(0,d.gn)([(0,d.fM)(2,x.Ui),(0,d.fM)(3,r.z),(0,d.fM)(4,F.bU),(0,d.fM)(5,U.Uy),(0,d.fM)(6,W.TG),(0,d.fM)(7,T.XE),(0,d.fM)(8,O.i),(0,d.fM)(9,L.QS),(0,d.fM)(10,B.ec),(0,d.fM)(11,P.XH)],M);var X=a(73794);let $=class extends p.JT{constructor(e,i,t,n){super(),this.viewDescriptorService=e,this.paneCompositeService=i,this.contextKeyService=t,this.layoutService=n,this._onDidChangeViewVisibility=this._register(new _.Q5),this.onDidChangeViewVisibility=this._onDidChangeViewVisibility.event,this._onDidChangeViewContainerVisibility=this._register(new _.Q5),this.onDidChangeViewContainerVisibility=this._onDidChangeViewContainerVisibility.event,this.viewDisposable=new Map,this.visibleViewContextKeys=new Map,this.viewPaneContainers=new Map,this._register((0,p.OF)(()=>{this.viewDisposable.forEach(o=>o.dispose()),this.viewDisposable.clear()})),this.viewDescriptorService.viewContainers.forEach(o=>this.onDidRegisterViewContainer(o,this.viewDescriptorService.getViewContainerLocation(o))),this._register(this.viewDescriptorService.onDidChangeViewContainers(({added:o,removed:c})=>this.onDidChangeContainers(o,c))),this._register(this.viewDescriptorService.onDidChangeContainerLocation(({viewContainer:o,from:c,to:s})=>this.onDidChangeContainerLocation(o,c,s))),this._register(this.paneCompositeService.onDidPaneCompositeOpen(o=>this._onDidChangeViewContainerVisibility.fire({id:o.composite.getId(),visible:!0,location:o.viewContainerLocation}))),this._register(this.paneCompositeService.onDidPaneCompositeClose(o=>this._onDidChangeViewContainerVisibility.fire({id:o.composite.getId(),visible:!1,location:o.viewContainerLocation}))),this.focusedViewContextKey=b.PY.bindTo(t)}onViewsAdded(e){for(const i of e)this.onViewsVisibilityChanged(i,i.isBodyVisible())}onViewsVisibilityChanged(e,i){this.getOrCreateActiveViewContextKey(e).set(i),this._onDidChangeViewVisibility.fire({id:e.id,visible:i})}onViewsRemoved(e){for(const i of e)this.onViewsVisibilityChanged(i,!1)}getOrCreateActiveViewContextKey(e){const i=(0,b.yd)(e.id);let t=this.visibleViewContextKeys.get(i);return t||(t=new v.uy(i,!1).bindTo(this.contextKeyService),this.visibleViewContextKeys.set(i,t)),t}onDidChangeContainers(e,i){for(const{container:t,location:n}of i)this.deregisterPaneComposite(t,n);for(const{container:t,location:n}of e)this.onDidRegisterViewContainer(t,n)}onDidRegisterViewContainer(e,i){this.registerPaneComposite(e,i);const t=this.viewDescriptorService.getViewContainerModel(e);this.onViewDescriptorsAdded(t.allViewDescriptors,e),this._register(t.onDidChangeAllViewDescriptors(({added:n,removed:o})=>{this.onViewDescriptorsAdded(n,e),this.onViewDescriptorsRemoved(o)})),this._register(this.registerOpenViewContainerAction(e))}onDidChangeContainerLocation(e,i,t){this.deregisterPaneComposite(e,i),this.registerPaneComposite(e,t)}onViewDescriptorsAdded(e,i){const t=this.viewDescriptorService.getViewContainerLocation(i);if(null===t)return;const n=this.getComposite(i.id,t);for(const o of e){const c=new p.SL;c.add(this.registerOpenViewAction(o)),c.add(this.registerFocusViewAction(o,n?.name&&n.name!==n.id?n.name:h.R.View)),c.add(this.registerResetViewLocationAction(o)),this.viewDisposable.set(o,c)}}onViewDescriptorsRemoved(e){for(const i of e){const t=this.viewDisposable.get(i);t&&(t.dispose(),this.viewDisposable.delete(i))}}openComposite(e,i,t){var n=this;return(0,g.Z)(function*(){return n.paneCompositeService.openPaneComposite(e,i,t)})()}getComposite(e,i){return this.paneCompositeService.getPaneComposite(e,i)}isViewContainerVisible(e){const i=this.viewDescriptorService.getViewContainerById(e);if(i){const t=this.viewDescriptorService.getViewContainerLocation(i);if(null!==t)return this.paneCompositeService.getActivePaneComposite(t)?.getId()===e}return!1}getVisibleViewContainer(e){const i=this.paneCompositeService.getActivePaneComposite(e)?.getId();return i?this.viewDescriptorService.getViewContainerById(i):null}getActiveViewPaneContainerWithId(e){const i=this.viewDescriptorService.getViewContainerById(e);return i?this.getActiveViewPaneContainer(i):null}openViewContainer(e,i){var t=this;return(0,g.Z)(function*(){const n=t.viewDescriptorService.getViewContainerById(e);if(n){const o=t.viewDescriptorService.getViewContainerLocation(n);if(null!==o)return(yield t.paneCompositeService.openPaneComposite(e,o,i))||null}return null})()}closeViewContainer(e){var i=this;return(0,g.Z)(function*(){const t=i.viewDescriptorService.getViewContainerById(e);if(t){const n=i.viewDescriptorService.getViewContainerLocation(t),o=null!==n&&i.paneCompositeService.getActivePaneComposite(n);if(null!==n)return o?i.layoutService.setPartHidden(!0,G(n)):void 0}})()}isViewVisible(e){return this.getActiveViewWithId(e)?.isBodyVisible()||!1}getActiveViewWithId(e){const i=this.viewDescriptorService.getViewContainerByViewId(e);if(i){const t=this.getActiveViewPaneContainer(i);if(t)return t.getView(e)}return null}getViewWithId(e){const i=this.viewDescriptorService.getViewContainerByViewId(e);if(i){const t=this.viewPaneContainers.get(i.id);if(t)return t.getView(e)}return null}openView(e,i){var t=this;return(0,g.Z)(function*(){const n=t.viewDescriptorService.getViewContainerByViewId(e);if(!n||!t.viewDescriptorService.getViewContainerModel(n).activeViewDescriptors.some(s=>s.id===e))return null;const o=t.viewDescriptorService.getViewContainerLocation(n),c=t.getComposite(n.id,o);if(c){const s=yield t.openComposite(c.id,o);if(s&&s.openView)return s.openView(e,i)||null;i&&s?.focus()}return null})()}closeView(e){const i=this.viewDescriptorService.getViewContainerByViewId(e);if(i){const t=this.getActiveViewPaneContainer(i);if(t){const n=t.getView(e);if(n)if(1===t.views.length){const o=this.viewDescriptorService.getViewContainerLocation(i);0===o?this.layoutService.setPartHidden(!0,"workbench.parts.sidebar"):(1===o||2===o)&&this.paneCompositeService.hideActivePaneComposite(o),this.focusedViewContextKey.get()===e&&this.focusedViewContextKey.reset()}else n.setExpanded(!1)}}}getActiveViewPaneContainer(e){const i=this.viewDescriptorService.getViewContainerLocation(e);if(null===i)return null;const t=this.paneCompositeService.getActivePaneComposite(i);return t?.getId()===e.id&&t.getViewPaneContainer()||null}getViewProgressIndicator(e){const i=this.viewDescriptorService.getViewContainerByViewId(e);if(!i)return;const t=this.viewPaneContainers.get(i.id);if(!t)return;const n=t.getView(e);return n?t.isViewMergedWithContainer()?this.getViewContainerProgressIndicator(i):n.getProgressIndicator():void 0}getViewContainerProgressIndicator(e){const i=this.viewDescriptorService.getViewContainerLocation(e);if(null!==i)return this.paneCompositeService.getProgressIndicator(e.id,i)}registerOpenViewContainerAction(e){const i=new p.SL;if(e.openCommandActionDescriptor){const{id:t,mnemonicTitle:n,keybindings:o,order:c}=e.openCommandActionDescriptor??{id:e.id},s=e.openCommandActionDescriptor.title??e.title,u=this;if(i.add((0,w.r1)(class extends w.Ke{constructor(){super({id:t,get title(){const m=u.viewDescriptorService.getViewContainerLocation(e),y="string"==typeof s?s:s.value,A="string"==typeof s?s:s.original;return 0===m?{value:(0,I.NC)("show view","Show {0}",y),original:`Show ${A}`}:{value:(0,I.NC)("toggle view","Toggle {0}",y),original:`Toggle ${A}`}},category:h.R.View,precondition:v.Ao.has((0,b.l0)(e.id)),keybinding:o?{...o,weight:200}:void 0,f1:!0})}run(m){return(0,g.Z)(function*(){const y=m.get(C.Qw),A=m.get(P.XH),S=m.get(r.z),f=m.get(P.qC),j=A.getViewContainerLocation(e);switch(j){case 2:case 0:{const Q=0===j?"workbench.parts.sidebar":"workbench.parts.auxiliarybar";f.isViewContainerVisible(e.id)&&S.hasFocus(Q)?y.activeGroup.focus():yield f.openViewContainer(e.id,!0);break}case 1:f.isViewContainerVisible(e.id)&&S.hasFocus("workbench.parts.panel")?f.closeViewContainer(e.id):yield f.openViewContainer(e.id,!0)}})()}})),n){const V=this.viewDescriptorService.getDefaultViewContainerLocation(e);i.add(w.BH.appendMenuItem(w.eH.MenubarViewMenu,{command:{id:t,title:n},group:0===V?"3_views":"4_panels",when:v.Ao.has((0,b.l0)(e.id)),order:c??Number.MAX_VALUE}))}}return i}registerOpenViewAction(e){const i=new p.SL;if(e.openCommandActionDescriptor){const t=e.openCommandActionDescriptor.title??e.name,n=e.openCommandActionDescriptor.id,o=this;if(i.add((0,w.r1)(class extends w.Ke{constructor(){super({id:n,get title(){const s=o.viewDescriptorService.getViewLocationById(e.id),u="string"==typeof t?t:t.value,V="string"==typeof t?t:t.original;return 0===s?{value:(0,I.NC)("show view","Show {0}",u),original:`Show ${V}`}:{value:(0,I.NC)("toggle view","Toggle {0}",u),original:`Toggle ${V}`}},category:h.R.View,precondition:v.Ao.has(`${e.id}.active`),keybinding:e.openCommandActionDescriptor.keybindings?{...e.openCommandActionDescriptor.keybindings,weight:200}:void 0,f1:!0})}run(s){return(0,g.Z)(function*(){const u=s.get(C.Qw),V=s.get(P.XH),m=s.get(r.z),y=s.get(P.qC),A=s.get(v.i6);if(b.PY.getValue(A)===e.id){const f=V.getViewLocationById(e.id);0===V.getViewLocationById(e.id)?u.activeGroup.focus():null!==f&&m.setPartHidden(!0,G(f))}else y.openView(e.id,!0)})()}})),e.openCommandActionDescriptor.mnemonicTitle){const c=this.viewDescriptorService.getDefaultContainerById(e.id);if(c){const s=this.viewDescriptorService.getDefaultViewContainerLocation(c);i.add(w.BH.appendMenuItem(w.eH.MenubarViewMenu,{command:{id:n,title:e.openCommandActionDescriptor.mnemonicTitle},group:0===s?"3_views":"4_panels",when:v.Ao.has(`${e.id}.active`),order:e.openCommandActionDescriptor.order??Number.MAX_VALUE}))}}}return i}registerFocusViewAction(e,i){return(0,w.r1)(class extends w.Ke{constructor(){const n=(0,I.NC)({key:"focus view",comment:["{0} indicates the name of the view to be focused."]},"Focus on {0} View",e.name);super({id:e.focusCommand?e.focusCommand.id:`${e.id}.focus`,title:{original:`Focus on ${e.name} View`,value:n},category:i,menu:[{id:w.eH.CommandPalette,when:e.when}],keybinding:{when:v.Ao.has(`${e.id}.active`),weight:200,primary:e.focusCommand?.keybindings?.primary,secondary:e.focusCommand?.keybindings?.secondary,linux:e.focusCommand?.keybindings?.linux,mac:e.focusCommand?.keybindings?.mac,win:e.focusCommand?.keybindings?.win},description:{description:n,args:[{name:"focusOptions",description:"Focus Options",schema:{type:"object",properties:{preserveFocus:{type:"boolean",default:!1}}}}]}})}run(n,o){n.get(P.qC).openView(e.id,!o?.preserveFocus)}})}registerResetViewLocationAction(e){return(0,w.r1)(class extends w.Ke{constructor(){super({id:`${e.id}.resetViewLocation`,title:{original:"Reset Location",value:(0,I.NC)("resetViewLocation","Reset Location")},menu:[{id:w.eH.ViewTitleContext,when:v.Ao.or(v.Ao.and(v.Ao.equals("view",e.id),v.Ao.equals(`${e.id}.defaultViewLocation`,!1))),group:"1_hide",order:2}]})}run(t){const n=t.get(P.XH),o=n.getDefaultContainerById(e.id),c=n.getViewContainerModel(o);if(o.hideIfEmpty&&0===c.visibleViewDescriptors.length){const s=n.getDefaultViewContainerLocation(o);n.moveViewContainerToLocation(o,s)}n.moveViewsToContainer([e],n.getDefaultContainerById(e.id)),t.get(P.qC).openView(e.id,!0)}})}registerPaneComposite(e,i){const t=this;let n=class extends E.ns{constructor(c,s,u,V,m,y,A){super(e.id,c,u,V,m,y,A,s)}createViewPaneContainer(c){const s=this._register(new p.SL),u=t.createViewPaneContainer(c,e,i,s,this.instantiationService);return u instanceof M||s.add(_.ju.any(u.onDidAddViews,u.onDidRemoveViews,u.onTitleAreaUpdate)(()=>{this.updateTitleArea()})),u}};n=(0,d.gn)([(0,d.fM)(0,F.bU),(0,d.fM)(1,B.ec),(0,d.fM)(2,U.Uy),(0,d.fM)(3,W.TG),(0,d.fM)(4,T.XE),(0,d.fM)(5,O.i),(0,d.fM)(6,L.QS)],n),R.B.as(z(i)).registerPaneComposite(E.rv.create(n,e.id,"string"==typeof e.title?e.title:e.title.value,(0,N.HD)(e.icon)?e.icon:void 0,e.order,e.requestedIndex,e.icon instanceof l.ov?e.icon:void 0))}deregisterPaneComposite(e,i){R.B.as(z(i)).deregisterPaneComposite(e.id)}createViewPaneContainer(e,i,t,n,o){const c=o.createInstance(i.ctorDescriptor.ctor,...i.ctorDescriptor.staticArguments||[]);return this.viewPaneContainers.set(c.getId(),c),n.add((0,p.OF)(()=>this.viewPaneContainers.delete(c.getId()))),n.add(c.onDidAddViews(s=>this.onViewsAdded(s))),n.add(c.onDidChangeViewVisibility(s=>this.onViewsVisibilityChanged(s,s.isBodyVisible()))),n.add(c.onDidRemoveViews(s=>this.onViewsRemoved(s))),n.add(c.onDidFocusView(s=>this.focusedViewContextKey.set(s.id))),n.add(c.onDidBlurView(s=>{this.focusedViewContextKey.get()===s.id&&this.focusedViewContextKey.reset()})),c}};function z(K){switch(K){case 2:return E.IP.Auxiliary;case 1:return E.IP.Panels;default:return E.IP.Viewlets}}function G(K){switch(K){case 2:return"workbench.parts.auxiliarybar";case 1:return"workbench.parts.panel";default:return"workbench.parts.sidebar"}}$=(0,d.gn)([(0,d.fM)(0,P.XH),(0,d.fM)(1,X.c),(0,d.fM)(2,v.i6),(0,d.fM)(3,r.z)],$)}}]);