(self.webpackChunkweb=self.webpackChunkweb||[]).push([[425],{37425:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{EditorModule:()=>Pa});var d=e(69648),n=e(20881),E=(e(68025),e(44305),e(84616),e(55147),e(75610),e(29535));e(71692),e(52821),e(90510);const Gn=new n.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ci}),ci="always";let ut=(()=>{class ot{}return ot.\u0275fac=function(se){return new(se||ot)},ot.\u0275mod=n.oAB({type:ot}),ot.\u0275inj=n.cJS({}),ot})(),zi=(()=>{class ot{}return ot.\u0275fac=function(se){return new(se||ot)},ot.\u0275mod=n.oAB({type:ot}),ot.\u0275inj=n.cJS({imports:[ut]}),ot})(),_o=(()=>{class ot{static withConfig(se){return{ngModule:ot,providers:[{provide:Gn,useValue:se.callSetDisabledState??ci}]}}}return ot.\u0275fac=function(se){return new(se||ot)},ot.\u0275mod=n.oAB({type:ot}),ot.\u0275inj=n.cJS({imports:[zi]}),ot})();var rr=e(63497),Xo=e(17374),ar=e(22849),Ws=e(97194);class Vs extends Ws.w0{constructor($,se){super()}schedule($,se=0){return this}}const hr={setInterval(ot,$,...se){const{delegate:Ze}=hr;return Ze?.setInterval?Ze.setInterval(ot,$,...se):setInterval(ot,$,...se)},clearInterval(ot){const{delegate:$}=hr;return($?.clearInterval||clearInterval)(ot)},delegate:void 0};var $s=e(29513);const ks={now:()=>(ks.delegate||Date).now(),delegate:void 0};class Es{constructor($,se=Es.now){this.schedulerActionCtor=$,this.now=se}schedule($,se=0,Ze){return new this.schedulerActionCtor(this,$).schedule(Ze,se)}}Es.now=ks.now;const xs=new class fr extends Es{constructor($,se=Es.now){super($,se),this.actions=[],this._active=!1}flush($){const{actions:se}=this;if(this._active)return void se.push($);let Ze;this._active=!0;do{if(Ze=$.execute($.state,$.delay))break}while($=se.shift());if(this._active=!1,Ze){for(;$=se.shift();)$.unsubscribe();throw Ze}}}(class Dr extends Vs{constructor($,se){super($,se),this.scheduler=$,this.work=se,this.pending=!1}schedule($,se=0){var Ze;if(this.closed)return this;this.state=$;const Ot=this.id,zn=this.scheduler;return null!=Ot&&(this.id=this.recycleAsyncId(zn,Ot,se)),this.pending=!0,this.delay=se,this.id=null!==(Ze=this.id)&&void 0!==Ze?Ze:this.requestAsyncId(zn,this.id,se),this}requestAsyncId($,se,Ze=0){return hr.setInterval($.flush.bind($,this),Ze)}recycleAsyncId($,se,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return se;null!=se&&hr.clearInterval(se)}execute($,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute($,se);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($,se){let Ot,Ze=!1;try{this.work($)}catch(zn){Ze=!0,Ot=zn||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),Ot}unsubscribe(){if(!this.closed){const{id:$,scheduler:se}=this,{actions:Ze}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$s.P)(Ze,this),null!=$&&(this.id=this.recycleAsyncId(se,$,null)),this.delay=null,super.unsubscribe()}}});var Gs=e(31484),Go=e(89982),lr=e(67519),zs=e(34469),vr=e(28712),ms=e(5074),us=e(25599),gr=e(30429),er=e(66808),Ur=e(37619),jr=e(19323),Zs=e(72966),As=e(8203),Gi=e(823),dr=e(39229),tr=e(84453),nr=e(24146),Ts=e(93049),Er=e(29236),mr=e(77917),Lr=e(94749),lo=e(95907),Po=e(91433),as=e(22722),ls=e(54767),vs=e(88139),hs=e(35234),Ps=e(44303),Qs=e(96140),Rr=e(55890),sa=e(18715);class Ks extends zs.dp{constructor({id:$,name:se,clientOptions:Ze,connectionProvider:Ot}){super($||se.toLowerCase(),se,Ze),(0,lr.Z)(this,"connectionProvider",void 0),this.connectionProvider=Ot;const zn=this.handleRegistrationRequest.bind(this);this.handleRegistrationRequest=Di=>{zn({...Di,registrations:Di.registrations.filter(Oi=>null!=this.getFeature(Oi.method))})};const ri=this.handleUnregistrationRequest.bind(this);this.handleUnregistrationRequest=Di=>{ri({...Di,unregisterations:Di.unregisterations.filter(Oi=>null!=this.getFeature(Oi.method))})}}createMessageTransports($){return this.connectionProvider.get($)}getLocale(){return navigator.language||"en-US"}registerBuiltinFeatures(){this.registerFeature(new ms.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new ms.DidChangeTextDocumentFeature(this)),this.registerFeature(new ms.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new us.CompletionItemFeature(this)),this.registerFeature(new gr.HoverFeature(this)),this.registerFeature(new er.SignatureHelpFeature(this)),this.registerFeature(new Ur.DefinitionFeature(this)),this.registerFeature(new jr.ReferencesFeature(this)),this.registerFeature(new Zs.DocumentHighlightFeature(this)),this.registerFeature(new As.DocumentSymbolFeature(this)),this.registerFeature(new Gi.CodeActionFeature(this)),this.registerFeature(new dr.CodeLensFeature(this)),this.registerFeature(new tr.DocumentFormattingFeature(this)),this.registerFeature(new tr.DocumentRangeFormattingFeature(this)),this.registerFeature(new tr.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new nr.RenameFeature(this)),this.registerFeature(new Ts.DocumentLinkFeature(this)),this.registerFeature(new Er.ExecuteCommandFeature(this)),this.registerFeature(new mr.TypeDefinitionFeature(this)),this.registerFeature(new Lr.ImplementationFeature(this)),this.registerFeature(new lo.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new Po.WorkspaceFoldersFeature(this)),this.registerFeature(new as.FoldingRangeFeature(this)),this.registerFeature(new ls.DeclarationFeature(this)),this.registerFeature(new vs.SelectionRangeFeature(this)),this.registerFeature(new hs.SemanticTokensFeature(this)),this.registerFeature(new Ps.LinkedEditingFeature(this)),this.registerFeature(new Qs.InlayHintsFeature(this)),this.registerFeature(new Rr.DiagnosticFeature(this))}registerTextDocumentSaveFeatures(){this.registerFeature(new ms.WillSaveFeature(this)),this.registerFeature(new ms.WillSaveWaitUntilFeature(this)),this.registerFeature(new ms.DidSaveTextDocumentFeature(this))}registerConfigurationFeatures(){this.registerFeature(new vr.ConfigurationFeature(this)),this.registerFeature(new vr.SyncConfigurationFeature(this))}registerProgressFeatures(){this.registerFeature(new sa.ProgressFeature(this))}}var Ui,An=e(4496),te=e(67044),pe=e(53559),We=e(66549),Et=e(54436),rn=(e(61560),e(33745)),wn=e(45358),wo=(e(94911),e(81534),e(90790),e(59602)),Fo=(e(1149),e(25787)),Ns=e(78610),Ys=e(9265),Yr=(e(58177),e(44827)),Wa=(e(73622),e(24131)),rs=(e(94667),e(40902)),ba=(e(24596),e(48190)),es=e(50819);class Cr{constructor(){(0,lr.Z)(this,"channels",new Map)}showMessage($,se,...Ze){return $===es.Z.Error&&console.error(se),$===es.Z.Warning&&console.warn(se),$===es.Z.Info&&console.info(se),$===es.Z.Ignore&&console.debug(se),Promise.resolve(void 0)}createOutputChannel($){const se=this.channels.get($);if(se)return se;const Ze={name:"default",append(Ot){console.log($+": "+Ot)},appendLine(Ot){console.log($+": "+Ot)},show(){},dispose(){},replace:function(Ot){},clear:function(){},hide:function(){}};return this.channels.set($,Ze),Ze}}class Or{constructor($,se){(0,lr.Z)(this,"workspaceFolders",void 0),(0,lr.Z)(this,"rootPath",void 0),this.workspaceFolders=$,this.rootPath=se}}!function(ot){function $(Ot={}){return{workspace:new Or(Ot.workspaceFolders,Ot.rootPath),window:new Cr}}ot.create=$,ot.install=function se(Ot={}){const zn=$(Ot);return An.S.install(zn)},ot.get=function Ze(){return An.S.get()}}(Ui||(Ui={})),e(49372),e(46057);var Xs=e(4938);e(61699);var la=e(34042),da=e(5183),Bo=e(58783),br=e(69355),Vt=e(80142),De=e(98463),Ge=e(6276),xt=e(62922),Jt=e(97139),pn=e(827),zt=e(55197),On=e(41140),Xn=e(8841),Qn=e(1689),qn=e(65065),kn=e(4062),xi=e(29739),Ti=e(29693),ki=e(67021),ji=e(14759);const co=(0,An.s)(ki.F),oo=new(e(78708).EventEmitter),Vo=oo.event;let No=!1;const po=pe.IO.initialize;pe.IO.initialize=ot=>{const $=po.call(pe.IO,ot);return No||(No=!0,oo.fire($)),$};var Ji=e(81184),vo=[],ko=[];function Wo(ot,$){if(ot&&typeof document<"u"){var se,Ze=!0===$.prepend?"prepend":"append",Ot=!0===$.singleTag,zn="string"==typeof $.container?document.querySelector($.container):document.getElementsByTagName("head")[0];if(Ot){var ri=vo.indexOf(zn);-1===ri&&(ri=vo.push(zn)-1,ko[ri]={}),se=ko[ri]&&ko[ri][Ze]?ko[ri][Ze]:ko[ri][Ze]=Di()}else se=Di();65279===ot.charCodeAt(0)&&(ot=ot.substring(1)),se.styleSheet?se.styleSheet.cssText+=ot:se.appendChild(document.createTextNode(ot))}function Di(){var Oi=document.createElement("style");if(Oi.setAttribute("type","text/css"),$.attributes)for(var qi=Object.keys($.attributes),xo=0;xo<qi.length;xo++)Oi.setAttribute(qi[xo],$.attributes[qi[xo]]);return zn.insertAdjacentElement("prepend"===Ze?"afterbegin":"beforeend",Oi),Oi}}const qo={inputActiveOptionBorder:br.Il.fromHex("#007ACC00"),inputActiveOptionForeground:br.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:br.Il.fromHex("#0E639C50")};class So extends da.${constructor($){super(),this._onChange=this._register(new te.E),this.onChange=this._onChange.event,this._onKeyDown=this._register(new te.E),this.onKeyDown=this._onKeyDown.event,this._opts={...qo,...$},this._checked=this._opts.isChecked;const se=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,se.push(...Bo.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&se.push(...this._opts.actionClassName.split(" ")),this._checked&&se.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...se),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,Ze=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),Ze.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,Ze=>{if(10===Ze.keyCode||3===Ze.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),Ze.preventDefault(),void Ze.stopPropagation();this._onKeyDown.fire(Ze)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked($){this._checked=$,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon($){this._icon&&this.domNode.classList.remove(...Bo.dT.asClassNameArray(this._icon)),this._icon=$,this._icon&&this.domNode.classList.add(...Bo.dT.asClassNameArray(this._icon))}width(){return 22}style($){$.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=$.inputActiveOptionBorder),$.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=$.inputActiveOptionForeground),$.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=$.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle($){this.domNode.title=$,this.domNode.setAttribute("aria-label",$)}}class ns extends da.${constructor($,se){super(),this.title=$,this.isChecked=se,this.checkbox=new So({title:this.title,isChecked:this.isChecked,icon:Bo.lA.check,actionClassName:"monaco-checkbox"}),this.domNode=this.checkbox.domNode,this.styles={},this.checkbox.onChange(()=>{this.applyStyles()})}get checked(){return this.checkbox.checked}set checked($){this.checkbox.checked=$,this.applyStyles()}focus(){this.domNode.focus()}hasFocus(){return this.domNode===document.activeElement}style($){this.styles=$,this.applyStyles()}applyStyles(){this.domNode.style.color=this.styles.checkboxForeground?this.styles.checkboxForeground.toString():"",this.domNode.style.backgroundColor=this.styles.checkboxBackground?this.styles.checkboxBackground.toString():"",this.domNode.style.borderColor=this.styles.checkboxBorder?this.styles.checkboxBorder.toString():""}}function Zo(ot,$,se){function Ze(){const Ot=function Rs(ot,$){const se=Object.create(null);for(const Ze in $){const Ot=$[Ze];Ot&&(se[Ze]=(0,kn.Snq)(Ot,ot))}return se}(ot.getColorTheme(),$);"function"==typeof se?se(Ot):se.style(Ot)}return Ze(),ot.onDidColorThemeChange(Ze)}function Fs(ot,$,se){return Zo($,{buttonForeground:se?.buttonForeground||kn.j5u,buttonSeparator:se?.buttonSeparator||kn.iFQ,buttonBackground:se?.buttonBackground||kn.b7$,buttonHoverBackground:se?.buttonHoverBackground||kn.GO4,buttonSecondaryForeground:se?.buttonSecondaryForeground||kn.qBU,buttonSecondaryBackground:se?.buttonSecondaryBackground||kn.ESD,buttonSecondaryHoverBackground:se?.buttonSecondaryHoverBackground||kn.xEn,buttonBorder:se?.buttonBorder||kn.GYc},ot)}const Ro={dialogBackground:kn.D0T,dialogForeground:kn.Hfx,dialogShadow:kn.rh,dialogBorder:kn.lRK,buttonForeground:kn.j5u,buttonSeparator:kn.iFQ,buttonBackground:kn.b7$,buttonSecondaryBackground:kn.ESD,buttonSecondaryForeground:kn.qBU,buttonSecondaryHoverBackground:kn.xEn,buttonHoverBackground:kn.GO4,buttonBorder:kn.GYc,checkboxBorder:kn.nd,checkboxBackground:kn.SUp,checkboxForeground:kn.BQ0,errorIconForeground:kn.JpG,warningIconForeground:kn.BOY,infoIconForeground:kn.OLZ,inputBackground:kn.sEe,inputForeground:kn.zJb,inputBorder:kn.dt_,textLinkForeground:kn.url},Us={buttonBackground:br.Il.fromHex("#0E639C"),buttonHoverBackground:br.Il.fromHex("#006BB3"),buttonSeparator:br.Il.white,buttonForeground:br.Il.white};class Ir extends Vt.JT{constructor($,se){super(),this._onDidClick=this._register(new te.E),this.options=se||Object.create(null),(0,Ge.jB)(this.options,Us,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),$.appendChild(this._element),this._register(xt.o.addTarget(this._element)),[De.tw.CLICK,xt.t.Tap].forEach(Ze=>{this._register((0,De.nm)(this._element,Ze,Ot=>{this.enabled?this._onDidClick.fire(Ot):De.zB.stop(Ot)}))}),this._register((0,De.nm)(this._element,De.tw.KEY_DOWN,Ze=>{const Ot=new On.y(Ze);let zn=!1;this.enabled&&(Ot.equals(3)||Ot.equals(10))?(this._onDidClick.fire(Ze),zn=!0):Ot.equals(9)&&(this._element.blur(),zn=!0),zn&&De.zB.stop(Ot,!0)})),this._register((0,De.nm)(this._element,De.tw.MOUSE_OVER,Ze=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,De.nm)(this._element,De.tw.MOUSE_OUT,Ze=>{this.applyStyles()})),this.focusTracker=this._register((0,De.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let $;$=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,$&&(this._element.style.backgroundColor=$)}style($){this.buttonForeground=$.buttonForeground,this.buttonBackground=$.buttonBackground,this.buttonHoverBackground=$.buttonHoverBackground,this.buttonSecondaryForeground=$.buttonSecondaryForeground,this.buttonSecondaryBackground=$.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=$.buttonSecondaryHoverBackground,this.buttonBorder=$.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let $,se;this.options.secondary?(se=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",$=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(se=this.buttonForeground?this.buttonForeground.toString():"",$=this.buttonBackground?this.buttonBackground.toString():"");const Ze=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=se,this._element.style.backgroundColor=$,this._element.style.borderWidth=Ze?"1px":"",this._element.style.borderStyle=Ze?"solid":"",this._element.style.borderColor=Ze}}get element(){return this._element}set label($){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,De.mc)(this._element,...(0,Jt.T)($)):this._element.textContent=$,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=$)}set icon($){this._element.classList.add(...Bo.dT.asClassNameArray($))}set enabled($){$?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}focus(){this._element.focus()}hasFocus(){return this._element===document.activeElement}}class zr extends Vt.JT{constructor($,se){var Ze;super(),Ze=this,this._onDidClick=this._register(new te.E),this.onDidClick=this._onDidClick.event,this.element=document.createElement("div"),this.element.classList.add("monaco-button-dropdown"),$.appendChild(this.element),this.button=this._register(new Ir(this.element,se)),this._register(this.button.onDidClick(Ot=>this._onDidClick.fire(Ot))),this.action=this._register(new pn.aU("primaryAction",this.button.label,void 0,!0,(0,Xo.Z)(function*(){return Ze._onDidClick.fire(void 0)}))),this.separatorContainer=document.createElement("div"),this.separatorContainer.classList.add("monaco-button-dropdown-separator"),this.separator=document.createElement("div"),this.separatorContainer.appendChild(this.separator),this.element.appendChild(this.separatorContainer),this.dropdownButton=this._register(new Ir(this.element,{...se,title:!1,supportIcons:!0})),this.dropdownButton.element.title=(0,zt.NC)("button dropdown more actions","More Actions..."),this.dropdownButton.element.setAttribute("aria-haspopup","true"),this.dropdownButton.element.setAttribute("aria-expanded","false"),this.dropdownButton.element.classList.add("monaco-dropdown-button"),this.dropdownButton.icon=Bo.lA.dropDownButton,this._register(this.dropdownButton.onDidClick(Ot=>{se.contextMenuProvider.showContextMenu({getAnchor:()=>this.dropdownButton.element,getActions:()=>!1===se.addPrimaryActionToDropdown?[...se.actions]:[this.action,...se.actions],actionRunner:se.actionRunner,onHide:()=>this.dropdownButton.element.setAttribute("aria-expanded","false")}),this.dropdownButton.element.setAttribute("aria-expanded","true")}))}set label($){this.button.label=$,this.action.label=$}set icon($){this.button.icon=$}set enabled($){this.button.enabled=$,this.dropdownButton.enabled=$,this.element.classList.toggle("disabled",!$)}get enabled(){return this.button.enabled}style($){this.button.style($),this.dropdownButton.style($);const se=$.buttonBorder?$.buttonBorder.toString():"";this.separatorContainer.style.borderTopWidth=se?"1px":"",this.separatorContainer.style.borderTopStyle=se?"solid":"",this.separatorContainer.style.borderTopColor=se,this.separatorContainer.style.borderBottomWidth=se?"1px":"",this.separatorContainer.style.borderBottomStyle=se?"solid":"",this.separatorContainer.style.borderBottomColor=se,this.separatorContainer.style.backgroundColor=$.buttonBackground?.toString()??"",this.separator.style.backgroundColor=$.buttonSeparator?.toString()??""}focus(){this.button.focus()}hasFocus(){return this.button.hasFocus()||this.dropdownButton.hasFocus()}}class Kr extends Ir{constructor($,se){super($,se),this._element.classList.add("monaco-description-button"),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._descriptionElement=document.createElement("div"),this._descriptionElement.classList.add("monaco-button-description"),this._element.appendChild(this._descriptionElement)}set label($){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,De.mc)(this._labelElement,...(0,Jt.T)($)):this._labelElement.textContent=$,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=$)}set description($){this.options.supportIcons?(0,De.mc)(this._descriptionElement,...(0,Jt.T)($)):this._descriptionElement.textContent=$}}class Sa extends Vt.JT{constructor($){super(),this.container=$,this._buttons=[]}get buttons(){return this._buttons}addButton($){const se=this._register(new Ir(this.container,$));return this.pushButton(se),se}addButtonWithDescription($){const se=this._register(new Kr(this.container,$));return this.pushButton(se),se}addButtonWithDropdown($){const se=this._register(new zr(this.container,$));return this.pushButton(se),se}pushButton($){this._buttons.push($);const se=this._buttons.length-1;this._register((0,De.nm)($.element,De.tw.KEY_DOWN,Ze=>{const Ot=new On.y(Ze);let ri,zn=!0;Ot.equals(15)?ri=se>0?se-1:this._buttons.length-1:Ot.equals(17)?ri=se===this._buttons.length-1?0:se+1:zn=!1,zn&&"number"==typeof ri&&(this._buttons[ri].focus(),De.zB.stop(Ze,!0))}))}}Wo("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/** Dialog: Modal Block */\n.monaco-dialog-modal-block {\n\tposition: fixed;\n\theight: 100%;\n\twidth: 100%;\n\tleft:0;\n\ttop:0;\n\tz-index: 2600;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-dialog-modal-block.dimmed {\n\tbackground: rgba(0, 0, 0, 0.3);\n}\n\n/** Dialog: Container */\n.monaco-dialog-box {\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\twidth: min-content;\n\tmin-width: 500px;\n\tmax-width: 90vw;\n\tmin-height: 75px;\n\tpadding: 10px;\n\ttransform: translate3d(0px, 0px, 0px);\n}\n\n/** Dialog: Title Actions Row */\n.monaco-dialog-box .dialog-toolbar-row {\n\theight: 22px;\n\tpadding-bottom: 4px;\n}\n\n.monaco-dialog-box .dialog-toolbar-row .actions-container {\n\tjustify-content: flex-end;\n}\n\n/** Dialog: Message Row */\n.monaco-dialog-box .dialog-message-row {\n\tdisplay: flex;\n\tflex-grow: 1;\n\talign-items: center;\n\tpadding: 0 10px;\n}\n\n.monaco-dialog-box .dialog-message-row > .dialog-icon.codicon {\n\tflex: 0 0 48px;\n\theight: 48px;\n\talign-self: baseline;\n\tfont-size: 48px;\n}\n\n/** Dialog: Message Container */\n.monaco-dialog-box .dialog-message-row .dialog-message-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tpadding-left: 24px;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n\twhite-space: normal;\n}\n\n/** Dialog: Message */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message {\n\tline-height: 22px;\n\tfont-size: 18px;\n\tflex: 1; /* let the message always grow */\n\twhite-space: normal;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n\tmin-height: 48px; /* matches icon height */\n\tmargin-bottom: 8px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n/** Dialog: Details */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-detail {\n\tline-height: 22px;\n\tflex: 1; /* let the message always grow */\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message a:focus {\n\toutline-width: 1px;\n\toutline-style: solid;\n}\n\n/** Dialog: Checkbox */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row {\n\tpadding: 15px 0px 0px;\n\tdisplay: flex;\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row .dialog-checkbox-message {\n\tcursor: pointer;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Dialog: Input */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input {\n\tpadding: 15px 0px 0px;\n\tdisplay: flex;\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input .monaco-inputbox {\n\tflex: 1;\n}\n\n/** Dialog: File Path */\n.monaco-dialog-box code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n/** Dialog: Buttons Row */\n.monaco-dialog-box > .dialog-buttons-row {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-right: 1px;\n\toverflow: hidden; /* buttons row should never overflow */\n}\n\n.monaco-dialog-box > .dialog-buttons-row {\n\tdisplay: flex;\n\twhite-space: nowrap;\n\tpadding: 20px 10px 10px;\n}\n\n/** Dialog: Buttons */\n.monaco-dialog-box > .dialog-buttons-row > .dialog-buttons {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: flex-end;\n\toverflow: hidden;\n\tmargin-left: 67px; /* for long buttons, force align with text */\n}\n\n.monaco-dialog-box > .dialog-buttons-row > .dialog-buttons > .monaco-button {\n\twidth: fit-content;\n\twidth: -moz-fit-content;\n\tpadding: 5px 10px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n\toutline-offset: 2px !important;\n}\n",{});class ca extends Vt.JT{constructor($,se,Ze,Ot){super(),this.container=$,this.message=se,this.options=Ot,this.modalElement=this.container.appendChild((0,De.$)(".monaco-dialog-modal-block.dimmed")),this.shadowElement=this.modalElement.appendChild((0,De.$)(".dialog-shadow")),this.element=this.shadowElement.appendChild((0,De.$)(".monaco-dialog-box")),this.element.setAttribute("role","dialog"),this.element.tabIndex=-1,(0,De.Cp)(this.element),this.buttons=Array.isArray(Ze)&&Ze.length>0?Ze:this.options.disableDefaultAction?[]:[(0,zt.NC)("ok","OK")];const zn=this.element.appendChild((0,De.$)(".dialog-buttons-row"));this.buttonsContainer=zn.appendChild((0,De.$)(".dialog-buttons"));const ri=this.element.appendChild((0,De.$)(".dialog-message-row"));if(this.iconElement=ri.appendChild((0,De.$)("#monaco-dialog-icon.dialog-icon")),this.iconElement.setAttribute("aria-label",this.getIconAriaLabel()),this.messageContainer=ri.appendChild((0,De.$)(".dialog-message-container")),(this.options.detail||this.options.renderBody)&&(this.messageContainer.appendChild((0,De.$)(".dialog-message")).appendChild((0,De.$)("#monaco-dialog-message-text.dialog-message-text")).innerText=this.message),this.messageDetailElement=this.messageContainer.appendChild((0,De.$)("#monaco-dialog-message-detail.dialog-message-detail")),this.options.detail||!this.options.renderBody?this.messageDetailElement.innerText=this.options.detail?this.options.detail:se:this.messageDetailElement.style.display="none",this.options.renderBody){const Oi=this.messageContainer.appendChild((0,De.$)("#monaco-dialog-message-body.dialog-message-body"));this.options.renderBody(Oi);for(const qi of this.messageContainer.querySelectorAll("a"))qi.tabIndex=0}if(this.inputs=this.options.inputs?this.options.inputs.map(Oi=>{const qi=this.messageContainer.appendChild((0,De.$)(".dialog-message-input")),xo=this._register(new Qn.W(qi,void 0,{placeholder:Oi.placeholder,type:Oi.type??"text"}));return Oi.value&&(xo.value=Oi.value),xo}):[],this.options.checkboxLabel){const Oi=this.messageContainer.appendChild((0,De.$)(".dialog-checkbox-row")),qi=this.checkbox=this._register(new ns(this.options.checkboxLabel,!!this.options.checkboxChecked));Oi.appendChild(qi.domNode);const xo=Oi.appendChild((0,De.$)(".dialog-checkbox-message"));xo.innerText=this.options.checkboxLabel,this._register((0,De.nm)(xo,De.tw.CLICK,()=>qi.checked=!qi.checked))}const Di=this.element.appendChild((0,De.$)(".dialog-toolbar-row"));this.toolbarContainer=Di.appendChild((0,De.$)(".dialog-toolbar"))}getIconAriaLabel(){return(0,zt.NC)("dialogInfoMessage","Info")}updateMessage($){this.messageDetailElement.innerText=$}show(){var $=this;return(0,Xo.Z)(function*(){return $.focusToReturn=document.activeElement,new Promise(se=>{(0,De.PO)($.buttonsContainer);const Ze=$.buttonBar=$._register(new Sa($.buttonsContainer)),Ot=$.rearrangeButtons($.buttons,$.options.cancelId);Ot.forEach((ri,Di)=>{const Oi=0===Ot[Di].index,qi=$._register($.options.buttonDetails?Ze.addButtonWithDescription({title:!0,secondary:!Oi}):Ze.addButton({title:!0,secondary:!Oi}));qi.label=function wa(ot,$){return Xn.dz||$?ot.replace(/\(&&\w\)|&&/g,""):Xn.ED?ot.replace(/&&|&/g,se=>"&"===se?"&&":"&"):ot.replace(/&&/g,"_")}(Ot[Di].label,!0),qi instanceof Kr&&(qi.description=$.options.buttonDetails[Ot[Di].index]),$._register(qi.onDidClick(xo=>{xo&&De.zB.stop(xo),se({button:Ot[Di].index,checkboxChecked:$.checkbox?$.checkbox.checked:void 0,values:$.inputs.length>0?$.inputs.map(zo=>zo.value):void 0})}))}),$._register((0,De.nm)(window,"keydown",ri=>{const Di=new On.y(ri);if(Di.equals(512)&&Di.preventDefault(),Di.equals(3))return void($.inputs.some(qi=>qi.hasFocus())&&(De.zB.stop(ri),se({button:Ot.find(qi=>qi.index!==$.options.cancelId)?.index??0,checkboxChecked:$.checkbox?$.checkbox.checked:void 0,values:$.inputs.length>0?$.inputs.map(qi=>qi.value):void 0})));if(Di.equals(10))return;let Oi=!1;if(Di.equals(2)||Di.equals(17)||Di.equals(1026)||Di.equals(15)){const qi=[];let xo=-1;if($.messageContainer){const zo=$.messageContainer.querySelectorAll("a");for(const cr of zo)qi.push(cr),cr===document.activeElement&&(xo=qi.length-1)}for(const zo of $.inputs)qi.push(zo),zo.hasFocus()&&(xo=qi.length-1);if($.checkbox&&(qi.push($.checkbox),$.checkbox.hasFocus()&&(xo=qi.length-1)),$.buttonBar)for(const zo of $.buttonBar.buttons)qi.push(zo),zo.hasFocus()&&(xo=qi.length-1);if(Di.equals(2)||Di.equals(17))-1===xo&&(xo=0),qi[(xo+1)%qi.length].focus();else{-1===xo&&(xo=qi.length);let zo=xo-1;-1===zo&&(zo=qi.length-1),qi[zo].focus()}Oi=!0}Oi?De.zB.stop(ri,!0):$.options.keyEventProcessor&&$.options.keyEventProcessor(Di)},!0)),$._register((0,De.nm)(window,"keyup",ri=>{De.zB.stop(ri,!0);const Di=new On.y(ri);!$.options.disableCloseAction&&Di.equals(9)&&se({button:$.options.cancelId||0,checkboxChecked:$.checkbox?$.checkbox.checked:void 0})},!0)),$._register((0,De.nm)($.element,"focusout",ri=>{ri.relatedTarget&&$.element&&((0,De.jg)(ri.relatedTarget,$.element)||($.focusToReturn=ri.relatedTarget,ri.target&&(ri.target.focus(),De.zB.stop(ri,!0))))},!1));const zn="codicon-modifier-spin";if($.iconElement.classList.remove(...Bo.lA.dialogError.classNamesArray,...Bo.lA.dialogWarning.classNamesArray,...Bo.lA.dialogInfo.classNamesArray,...Bo.lA.loading.classNamesArray,zn),$.options.icon)$.iconElement.classList.add(...$.options.icon.classNamesArray);else switch($.options.type){case"error":$.iconElement.classList.add(...Bo.lA.dialogError.classNamesArray);break;case"warning":$.iconElement.classList.add(...Bo.lA.dialogWarning.classNamesArray);break;case"pending":$.iconElement.classList.add(...Bo.lA.loading.classNamesArray,zn);break;default:$.iconElement.classList.add(...Bo.lA.dialogInfo.classNamesArray)}if(!$.options.disableCloseAction){const ri=$._register(new qn.o($.toolbarContainer,{})),Di=$._register(new pn.aU("dialog.close",(0,zt.NC)("dialogClose","Close Dialog"),Bo.lA.dialogClose.classNames,!0,(0,Xo.Z)(function*(){se({button:$.options.cancelId||0,checkboxChecked:$.checkbox?$.checkbox.checked:void 0})})));ri.push(Di,{icon:!0,label:!1})}$.applyStyles(),$.element.setAttribute("aria-modal","true"),$.element.setAttribute("aria-labelledby","monaco-dialog-icon monaco-dialog-message-text"),$.element.setAttribute("aria-describedby","monaco-dialog-icon monaco-dialog-message-text monaco-dialog-message-detail monaco-dialog-message-body"),(0,De.$Z)($.element),$.inputs.length>0?($.inputs[0].focus(),$.inputs[0].select()):Ot.forEach((ri,Di)=>{0===ri.index&&Ze.buttons[Di].focus()})})})()}applyStyles(){if(this.styles){const $=this.styles,se=$.dialogForeground,Ze=$.dialogBackground,zn=$.dialogBorder?`1px solid ${$.dialogBorder}`:"",ri=$.textLinkForeground;if(this.shadowElement.style.boxShadow=$.dialogShadow?`0 0px 8px ${$.dialogShadow}`:"",this.element.style.color=se?.toString()??"",this.element.style.backgroundColor=Ze?.toString()??"",this.element.style.border=zn,this.buttonBar?.buttons.forEach(Oi=>Oi.style($)),this.checkbox?.style($),se&&Ze){const Oi=se.transparent(.9);this.messageDetailElement.style.color=Oi.makeOpaque(Ze).toString()}if(ri)for(const Oi of this.messageContainer.getElementsByTagName("a"))Oi.style.color=ri.toString();let Di;switch(this.options.type){case"error":Di=$.errorIconForeground;break;case"warning":Di=$.warningIconForeground;break;default:Di=$.infoIconForeground}Di&&(this.iconElement.style.color=Di.toString());for(const Oi of this.inputs)Oi.style($)}}style($){this.styles=$,this.applyStyles()}dispose(){super.dispose(),this.modalElement&&(this.modalElement.remove(),this.modalElement=void 0),this.focusToReturn&&(0,De.jg)(this.focusToReturn,document.body)&&(this.focusToReturn.focus(),this.focusToReturn=void 0)}rearrangeButtons($,se){const Ze=[];if(0===$.length)return Ze;if($.forEach((Ot,zn)=>{Ze.push({label:Ot,index:zn})}),(Xn.dz||Xn.IJ)&&void 0!==se&&se<$.length){const Ot=Ze.splice(se,1)[0];Ze.reverse(),Ze.splice(Ze.length-1,0,Ot)}return Ze}}function xa(ot,$,se){"number"!=typeof ot&&(ot=ot.getTime());const Ze=Math.round(((new Date).getTime()-ot)/1e3);if(Ze<-30)return(0,zt.NC)("date.fromNow.in","in {0}",xa((new Date).getTime()+1e3*Ze,!1));if(Ze<30)return(0,zt.NC)("date.fromNow.now","now");let Ot;return Ze<60?(Ot=Ze,$?1===Ot?se?(0,zt.NC)("date.fromNow.seconds.singular.ago.fullWord","{0} second ago",Ot):(0,zt.NC)("date.fromNow.seconds.singular.ago","{0} sec ago",Ot):se?(0,zt.NC)("date.fromNow.seconds.plural.ago.fullWord","{0} seconds ago",Ot):(0,zt.NC)("date.fromNow.seconds.plural.ago","{0} secs ago",Ot):1===Ot?se?(0,zt.NC)("date.fromNow.seconds.singular.fullWord","{0} second",Ot):(0,zt.NC)("date.fromNow.seconds.singular","{0} sec",Ot):se?(0,zt.NC)("date.fromNow.seconds.plural.fullWord","{0} seconds",Ot):(0,zt.NC)("date.fromNow.seconds.plural","{0} secs",Ot)):Ze<3600?(Ot=Math.floor(Ze/60),$?1===Ot?se?(0,zt.NC)("date.fromNow.minutes.singular.ago.fullWord","{0} minute ago",Ot):(0,zt.NC)("date.fromNow.minutes.singular.ago","{0} min ago",Ot):se?(0,zt.NC)("date.fromNow.minutes.plural.ago.fullWord","{0} minutes ago",Ot):(0,zt.NC)("date.fromNow.minutes.plural.ago","{0} mins ago",Ot):1===Ot?se?(0,zt.NC)("date.fromNow.minutes.singular.fullWord","{0} minute",Ot):(0,zt.NC)("date.fromNow.minutes.singular","{0} min",Ot):se?(0,zt.NC)("date.fromNow.minutes.plural.fullWord","{0} minutes",Ot):(0,zt.NC)("date.fromNow.minutes.plural","{0} mins",Ot)):Ze<86400?(Ot=Math.floor(Ze/3600),$?1===Ot?se?(0,zt.NC)("date.fromNow.hours.singular.ago.fullWord","{0} hour ago",Ot):(0,zt.NC)("date.fromNow.hours.singular.ago","{0} hr ago",Ot):se?(0,zt.NC)("date.fromNow.hours.plural.ago.fullWord","{0} hours ago",Ot):(0,zt.NC)("date.fromNow.hours.plural.ago","{0} hrs ago",Ot):1===Ot?se?(0,zt.NC)("date.fromNow.hours.singular.fullWord","{0} hour",Ot):(0,zt.NC)("date.fromNow.hours.singular","{0} hr",Ot):se?(0,zt.NC)("date.fromNow.hours.plural.fullWord","{0} hours",Ot):(0,zt.NC)("date.fromNow.hours.plural","{0} hrs",Ot)):Ze<604800?(Ot=Math.floor(Ze/86400),$?1===Ot?(0,zt.NC)("date.fromNow.days.singular.ago","{0} day ago",Ot):(0,zt.NC)("date.fromNow.days.plural.ago","{0} days ago",Ot):1===Ot?(0,zt.NC)("date.fromNow.days.singular","{0} day",Ot):(0,zt.NC)("date.fromNow.days.plural","{0} days",Ot)):Ze<2592e3?(Ot=Math.floor(Ze/604800),$?1===Ot?se?(0,zt.NC)("date.fromNow.weeks.singular.ago.fullWord","{0} week ago",Ot):(0,zt.NC)("date.fromNow.weeks.singular.ago","{0} wk ago",Ot):se?(0,zt.NC)("date.fromNow.weeks.plural.ago.fullWord","{0} weeks ago",Ot):(0,zt.NC)("date.fromNow.weeks.plural.ago","{0} wks ago",Ot):1===Ot?se?(0,zt.NC)("date.fromNow.weeks.singular.fullWord","{0} week",Ot):(0,zt.NC)("date.fromNow.weeks.singular","{0} wk",Ot):se?(0,zt.NC)("date.fromNow.weeks.plural.fullWord","{0} weeks",Ot):(0,zt.NC)("date.fromNow.weeks.plural","{0} wks",Ot)):Ze<31536e3?(Ot=Math.floor(Ze/2592e3),$?1===Ot?se?(0,zt.NC)("date.fromNow.months.singular.ago.fullWord","{0} month ago",Ot):(0,zt.NC)("date.fromNow.months.singular.ago","{0} mo ago",Ot):se?(0,zt.NC)("date.fromNow.months.plural.ago.fullWord","{0} months ago",Ot):(0,zt.NC)("date.fromNow.months.plural.ago","{0} mos ago",Ot):1===Ot?se?(0,zt.NC)("date.fromNow.months.singular.fullWord","{0} month",Ot):(0,zt.NC)("date.fromNow.months.singular","{0} mo",Ot):se?(0,zt.NC)("date.fromNow.months.plural.fullWord","{0} months",Ot):(0,zt.NC)("date.fromNow.months.plural","{0} mos",Ot)):(Ot=Math.floor(Ze/31536e3),$?1===Ot?se?(0,zt.NC)("date.fromNow.years.singular.ago.fullWord","{0} year ago",Ot):(0,zt.NC)("date.fromNow.years.singular.ago","{0} yr ago",Ot):se?(0,zt.NC)("date.fromNow.years.plural.ago.fullWord","{0} years ago",Ot):(0,zt.NC)("date.fromNow.years.plural.ago","{0} yrs ago",Ot):1===Ot?se?(0,zt.NC)("date.fromNow.years.singular.fullWord","{0} year",Ot):(0,zt.NC)("date.fromNow.years.singular","{0} yr",Ot):se?(0,zt.NC)("date.fromNow.years.plural.fullWord","{0} years",Ot):(0,zt.NC)("date.fromNow.years.plural","{0} yrs",Ot))}let Xr=class sc{constructor($,se,Ze,Ot,zn,ri,Di){this.logService=$,this.layoutService=se,this.themeService=Ze,this.keybindingService=Ot,this.instantiationService=zn,this.productService=ri,this.clipboardService=Di,this.markdownRenderer=this.instantiationService.createInstance(xi.$,{})}confirm($){var se=this;return(0,Xo.Z)(function*(){se.logService.trace("DialogService#confirm",$.message);const Ze=[];Ze.push($.primaryButton?$.primaryButton:(0,zt.NC)({key:"yesButton",comment:["&& denotes a mnemonic"]},"&&Yes")),$.secondaryButton?Ze.push($.secondaryButton):typeof $.secondaryButton>"u"&&Ze.push((0,zt.NC)("cancelButton","Cancel"));const Ot=yield se.doShow($.type,$.message,Ze,$.detail,1,$.checkbox);return{confirmed:0===Ot.button,checkboxChecked:Ot.checkboxChecked}})()}getDialogType($){return $===es.Z.Info?"question":$===es.Z.Error?"error":$===es.Z.Warning?"warning":"none"}show($,se,Ze,Ot){var zn=this;return(0,Xo.Z)(function*(){zn.logService.trace("DialogService#show",se);const ri=yield zn.doShow(zn.getDialogType($),se,Ze,Ot?.detail,Ot?.cancelId,Ot?.checkbox,void 0,"object"==typeof Ot?.custom?Ot.custom:void 0);return{choice:ri.button,checkboxChecked:ri.checkboxChecked}})()}doShow($,se,Ze,Ot,zn,ri,Di,Oi){var qi=this;return(0,Xo.Z)(function*(){const xo=new Vt.SL,zo=Oi?ma=>{ma.classList.add(...Oi.classes||[]),Oi.markdownDetails?.forEach(pa=>{const Sl=qi.markdownRenderer.render(pa.markdown);ma.appendChild(Sl.element),Sl.element.classList.add(...pa.classes||[]),xo.add(Sl)})}:void 0,cr=new ca(qi.layoutService.container,se,Ze,{detail:Ot,cancelId:zn,type:$,keyEventProcessor:ma=>{const pa=qi.keybindingService.softDispatch(ma,qi.layoutService.container);pa?.commandId&&-1===sc.ALLOWABLE_COMMANDS.indexOf(pa.commandId)&&De.zB.stop(ma,!0)},renderBody:zo,icon:Oi?.icon,disableCloseAction:Oi?.disableCloseAction,buttonDetails:Oi?.buttonDetails,checkboxLabel:ri?.label,checkboxChecked:ri?.checked,inputs:Di});xo.add(cr),xo.add(function Js(ot,$,se){return Zo($,{...Ro,...se},ot)}(cr,qi.themeService));const Wr=yield cr.show();return xo.dispose(),Wr})()}input($,se,Ze,Ot,zn){var ri=this;return(0,Xo.Z)(function*(){ri.logService.trace("DialogService#input",se);const Di=yield ri.doShow(ri.getDialogType($),se,Ze,zn?.detail,zn?.cancelId,zn?.checkbox,Ot);return{choice:Di.button,checkboxChecked:Di.checkboxChecked,values:Di.values}})()}about(){var $=this;return(0,Xo.Z)(function*(){const se=ri=>(0,zt.NC)("aboutDetail","Version: {0}\nCommit: {1}\nDate: {2}\nBrowser: {3}",$.productService.version||"Unknown",$.productService.commit||"Unknown",$.productService.date?`${$.productService.date}${ri?" ("+xa(new Date($.productService.date),!0)+")":""}`:"Unknown",navigator.userAgent),Ze=se(!0),Ot=se(!1),{choice:zn}=yield $.show(es.Z.Info,$.productService.nameLong,[(0,zt.NC)("copy","Copy"),(0,zt.NC)("ok","OK")],{detail:Ze,cancelId:1});0===zn&&$.clipboardService.writeText(Ot)})()}};Xr.ALLOWABLE_COMMANDS=["copy","cut","editor.action.selectAll","editor.action.clipboardCopyAction","editor.action.clipboardCutAction","editor.action.clipboardPasteAction"],Xr=(0,te._)([(0,te.a)(0,Ti.VZ),(0,te.a)(1,ki.F),(0,te.a)(2,rs.XE),(0,te.a)(3,ji.d),(0,te.a)(4,Ys.TG),(0,te.a)(5,An.c),(0,te.a)(6,Fo.p)],Xr);let Ri=class extends Vt.JT{constructor($,se,Ze,Ot,zn,ri,Di,Oi){super(),this.dialogService=$,this.impl=new Xr(se,Ze,Ot,zn,ri,Di,Oi),this.model=this.dialogService.model,this._register(this.model.onWillShowDialog(()=>{this.currentDialog||this.processDialogs()})),this.processDialogs()}processDialogs(){var $=this;return(0,Xo.Z)(function*(){for(;$.model.dialogs.length;){let se;if($.currentDialog=$.model.dialogs[0],$.currentDialog.args.confirmArgs){const Ze=$.currentDialog.args.confirmArgs;se=yield $.impl.confirm(Ze.confirmation)}else if($.currentDialog.args.inputArgs){const Ze=$.currentDialog.args.inputArgs;se=yield $.impl.input(Ze.severity,Ze.message,Ze.buttons,Ze.inputs,Ze.options)}else if($.currentDialog.args.showArgs){const Ze=$.currentDialog.args.showArgs;se=yield $.impl.show(Ze.severity,Ze.message,Ze.buttons,Ze.options)}else yield $.impl.about();$.currentDialog.close(se),$.currentDialog=void 0}})()}};Ri=(0,te._)([(0,te.a)(0,Ns.S),(0,te.a)(1,Ti.VZ),(0,te.a)(2,ki.F),(0,te.a)(3,rs.XE),(0,te.a)(4,ji.d),(0,te.a)(5,Ys.TG),(0,te.a)(6,An.c),(0,te.a)(7,Fo.p)],Ri);class Ia{constructor($){this.container=$,this.offset={top:0,quickPickTop:0},this._onDidLayout=new te.E,this.onDidLayout=this._onDidLayout.event,window.addEventListener("resize",()=>this.layout()),this.layout()}isVisible(){return!1}get dimension(){return this._dimension}layout(){this._dimension=(0,De.D6)(window.document.body),this._onDidLayout.fire(this._dimension)}get hasContainer(){return!0}focus(){pe.IO.get(rn.$).getFocusedCodeEditor()?.focus()}}function ha(ot){ot.invokeFunction(se=>se.get(ki.F)).container.classList.add("monaco-workbench")}function Jr(ot=document.body){return Vo(ha),{[ki.F.toString()]:new Ji.M(Ia,[ot]),[co.toString()]:new Ji.M(Ia,[ot])}}var yr=e(3778),Oo=e(4125),ds=e(93979),Sr=e(64023),$r=e(7626),Cs=e(16468),qr=e(40734),Tr=e(98915),ea=e(27299),bs=e(74918),fa=e(66287),Ra=e(75366),ja=e(24738),Ya=e(50703),Xa=e(59547),Tl=e(21040),Ta=e(39021),qs=e(72715),ta=e(59797);Wo("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench > .notifications-toasts {\n\tposition: absolute;\n\tz-index: 1000;\n\tright: 3px;\n\tbottom: 26px;\n\tdisplay: none;\n\toverflow: hidden;\n}\n\n.monaco-workbench.nostatusbar > .notifications-toasts {\n\tbottom: 3px;\n}\n\n.monaco-workbench > .notifications-toasts.visible {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container {\n\toverflow: hidden; /* this ensures that the notification toast does not shine through */\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast {\n\tmargin: 8px; /* enables separation and drop shadows around toasts */\n\ttransform: translate3d(0px, 100%, 0px); /* move the notification 50px to the bottom (to prevent bleed through) */\n\topacity: 0; /*  fade the toast in */\n\ttransition:\ttransform 300ms ease-out, opacity 300ms ease-out;\n}\n\n.monaco-workbench.reduce-motion > .notifications-toasts .notification-toast-container > .notification-toast {\n\ttransition:\ttransform 0ms ease-out, opacity 0ms ease-out;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast.notification-fade-in {\n\topacity: 1;\n\ttransform: none;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast.notification-fade-in-done {\n\topacity: 1;\n\ttransform: none;\n\ttransition:\tnone;\n}\n",{}),Wo("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/** Notification: Container */\n\n.monaco-workbench .notifications-list-container .notification-list-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-direction: column-reverse; /* the details row appears first in order for better keyboard access to notification buttons */\n\tpadding: 10px 5px;\n\theight: 100%;\n\tbox-sizing: border-box;\n}\n\n.monaco-workbench .notifications-list-container .notification-offset-helper {\n\topacity: 0;\n\tposition: absolute;\n\tline-height: 22px;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n}\n\n/** Notification: Main Row */\n\n.monaco-workbench .notifications-list-container .notification-list-item > .notification-list-item-main-row {\n\tdisplay: flex;\n\tflex-grow: 1;\n}\n\n/** Notification: Icon */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 0 0 16px;\n\theight: 22px;\n\tmargin-right: 4px;\n\tmargin-left: 4px;\n\tfont-size: 18px;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n/** Notification: Message */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message {\n\tline-height: 22px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1; /* let the message always grow */\n\tuser-select: text;\n\t-webkit-user-select: text;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a:focus {\n\toutline-width: 1px;\n\toutline-style: solid;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item.expanded .notification-list-item-message {\n\twhite-space: normal;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n}\n\n/** Notification: Toolbar Container */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container {\n\tdisplay: none;\n\theight: 22px;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item:hover .notification-list-item-toolbar-container,\n.monaco-workbench .notifications-list-container .monaco-list-row.focused .notification-list-item .notification-list-item-toolbar-container,\n.monaco-workbench .notifications-list-container .notification-list-item.expanded .notification-list-item-toolbar-container {\n\tdisplay: block;\n}\n\n/** Notification: Details Row */\n\n.monaco-workbench .notifications-list-container .notification-list-item > .notification-list-item-details-row {\n\tdisplay: none;\n\talign-items: center;\n\tpadding-left: 5px;\n\toverflow: hidden; /* details row should never overflow */\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item.expanded > .notification-list-item-details-row {\n\tdisplay: flex;\n}\n\n/** Notification: Source */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-source {\n\tflex: 1;\n\tfont-size: 12px;\n\toverflow: hidden; /* always give away space to buttons container */\n\ttext-overflow: ellipsis;\n}\n\n/** Notification: Buttons */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container {\n\tdisplay: flex;\n\toverflow: hidden;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container > .monaco-button-dropdown,\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container > .monaco-button {\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-button {\n\toutline-offset: 2px !important;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-text-button {\n\twidth: fit-content;\n\twidth: -moz-fit-content;\n\tpadding: 5px 10px;\n\tdisplay: inline-block;\t/* to enable ellipsis in text overflow */\n\tfont-size: 12px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-dropdown-button {\n\tpadding: 5px\n}\n\n/** Notification: Progress */\n\n.monaco-workbench .notifications-list-container .progress-bit {\n\theight: 2px;\n\tbottom: 0;\n}\n",{});const za=(0,kn.P6G)("notificationCenter.border",{dark:null,light:null,hcDark:kn.lRK,hcLight:kn.lRK},(0,zt.NC)("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window.")),Oa=(0,kn.P6G)("notificationToast.border",{dark:null,light:null,hcDark:kn.lRK,hcLight:kn.lRK},(0,zt.NC)("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window.")),Ka=(0,kn.P6G)("notifications.foreground",{dark:kn.Hfx,light:kn.Hfx,hcDark:kn.Hfx,hcLight:kn.Hfx},(0,zt.NC)("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window.")),Gr=(0,kn.P6G)("notifications.background",{dark:kn.D0T,light:kn.D0T,hcDark:kn.D0T,hcLight:kn.D0T},(0,zt.NC)("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window.")),pl=(0,kn.P6G)("notificationLink.foreground",{dark:kn.url,light:kn.url,hcDark:kn.url,hcLight:kn.url},(0,zt.NC)("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window.")),qa=(0,kn.P6G)("notificationCenterHeader.foreground",{dark:null,light:null,hcDark:null,hcLight:null},(0,zt.NC)("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window.")),Mr=(0,kn.P6G)("notificationCenterHeader.background",{dark:(0,kn.$ny)(Gr,.3),light:(0,kn._jn)(Gr,.05),hcDark:Gr,hcLight:Gr},(0,zt.NC)("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window.")),_l=(0,kn.P6G)("notifications.border",{dark:Mr,light:Mr,hcDark:Mr,hcLight:Mr},(0,zt.NC)("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window.")),$a=(0,kn.P6G)("notificationsErrorIcon.foreground",{dark:kn.lXJ,light:kn.lXJ,hcDark:kn.lXJ,hcLight:kn.lXJ},(0,zt.NC)("notificationsErrorIconForeground","The color used for the icon of error notifications. Notifications slide in from the bottom right of the window.")),el=(0,kn.P6G)("notificationsWarningIcon.foreground",{dark:kn.uoC,light:kn.uoC,hcDark:kn.uoC,hcLight:kn.uoC},(0,zt.NC)("notificationsWarningIconForeground","The color used for the icon of warning notifications. Notifications slide in from the bottom right of the window.")),Ga=(0,kn.P6G)("notificationsInfoIcon.foreground",{dark:kn.c63,light:kn.c63,hcDark:kn.c63,hcLight:kn.c63},(0,zt.NC)("notificationsInfoIconForeground","The color used for the icon of info notifications. Notifications slide in from the bottom right of the window."));class tl{constructor($){this.nodes=$}toString(){return this.nodes.map($=>"string"==typeof $?$:$.label).join("")}}const nl=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: ("|')([^\3]+)(\3))?\)/gi;class Al extends Vt.JT{constructor($,se){super(),this.item=$,this.onClose=se,this._onDidClose=this._register(new te.E),this.onDidClose=this._onDidClose.event,this._onDidChangeVisibility=this._register(new te.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.registerListeners()}registerListeners(){this._register(this.item.onDidChangeVisibility($=>this._onDidChangeVisibility.fire($))),yr.ju.once(this.item.onDidClose)(()=>{this._onDidClose.fire(),this.dispose()})}get progress(){return this.item.progress}updateSeverity($){this.item.updateSeverity($)}updateMessage($){this.item.updateMessage($)}updateActions($){this.item.updateActions($)}close(){this.onClose(this.item),this.dispose()}}class ia extends Vt.JT{constructor(){super(...arguments),this._onDidChangeNotification=this._register(new te.E),this.onDidChangeNotification=this._onDidChangeNotification.event,this._onDidChangeStatusMessage=this._register(new te.E),this.onDidChangeStatusMessage=this._onDidChangeStatusMessage.event,this._onDidChangeFilter=this._register(new te.E),this.onDidChangeFilter=this._onDidChangeFilter.event,this._notifications=[],this.filter=te.f.OFF}get notifications(){return this._notifications}get statusMessage(){return this._statusMessage}setFilter($){this.filter=$,this._onDidChangeFilter.fire($)}addNotification($){const se=this.createViewItem($);if(!se)return ia.NO_OP_NOTIFICATION;const Ze=this.findNotification(se);return Ze&&Ze.close(),this._notifications.splice(0,0,se),this._onDidChangeNotification.fire({item:se,index:0,kind:0}),new Al(se,Ot=>this.onClose(Ot))}onClose($){const se=this.findNotification($);se&&se!==$?se.close():$.close()}findNotification($){return this._notifications.find(se=>se.equals($))}createViewItem($){const se=Ar.create($,this.filter);if(!se)return;const Ze=(ri,Di)=>{const Oi=this._notifications.indexOf(se);Oi>=0&&this._onDidChangeNotification.fire({item:se,index:Oi,kind:ri,detail:Di})},Ot=se.onDidChangeExpansion(()=>Ze(2)),zn=se.onDidChangeContent(ri=>Ze(1,ri.kind));return yr.ju.once(se.onDidClose)(()=>{Ot.dispose(),zn.dispose();const ri=this._notifications.indexOf(se);ri>=0&&(this._notifications.splice(ri,1),this._onDidChangeNotification.fire({item:se,index:ri,kind:3}))}),se}showStatusMessage($,se){const Ze=Pl.create($,se);return Ze?(this._statusMessage=Ze,this._onDidChangeStatusMessage.fire({kind:0,item:Ze}),(0,Vt.OF)(()=>{this._statusMessage===Ze&&(this._statusMessage=void 0,this._onDidChangeStatusMessage.fire({kind:1,item:Ze}))})):Vt.JT.None}}function fs(ot){return ot instanceof Ar}ia.NO_OP_NOTIFICATION=new Et.EO;class ir extends Vt.JT{constructor(){super(),this._onDidChange=this._register(new te.E),this.onDidChange=this._onDidChange.event,this._state=Object.create(null)}get state(){return this._state}infinite(){this._state.infinite||(this._state.infinite=!0,this._state.total=void 0,this._state.worked=void 0,this._state.done=void 0,this._onDidChange.fire())}done(){this._state.done||(this._state.done=!0,this._state.infinite=void 0,this._state.total=void 0,this._state.worked=void 0,this._onDidChange.fire())}total($){this._state.total!==$&&(this._state.total=$,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire())}worked($){"number"==typeof this._state.worked?this._state.worked+=$:this._state.worked=$,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire()}}let Ar=(()=>{class ot extends Vt.JT{constructor(se,Ze,Ot,zn,ri,Di,Oi,qi){super(),this.id=se,this._severity=Ze,this._sticky=Ot,this._silent=zn,this._message=ri,this._source=Di,this._visible=!1,this._onDidChangeExpansion=this._register(new te.E),this.onDidChangeExpansion=this._onDidChangeExpansion.event,this._onDidClose=this._register(new te.E),this.onDidClose=this._onDidClose.event,this._onDidChangeContent=this._register(new te.E),this.onDidChangeContent=this._onDidChangeContent.event,this._onDidChangeVisibility=this._register(new te.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,Oi&&this.setProgress(Oi),this.setActions(qi)}static create(se,Ze=te.f.OFF){if(!se||!se.message||(0,Oo.n2)(se.message))return;let Ot;Ot="number"==typeof se.severity?se.severity:Et.zb.Info;const zn=ot.parseNotificationMessage(se.message);if(!zn)return;let ri;return se.actions?ri=se.actions:function Bs(ot){return ot instanceof Error&&Array.isArray(ot.actions)}(se.message)&&(ri={primary:se.message.actions}),new ot(se.id,Ot,se.sticky,se.silent||Ze===te.f.SILENT||Ze===te.f.ERROR&&se.severity!==Et.zb.Error,zn,se.source,se.progress,ri)}static parseNotificationMessage(se){let Ze;if(se instanceof Error?Ze=(0,ds.y)(se,!1):"string"==typeof se&&(Ze=se),!Ze)return;const Ot=Ze;Ze.length>ot.MAX_MESSAGE_LENGTH&&(Ze=`${Ze.substr(0,ot.MAX_MESSAGE_LENGTH)}...`),Ze=Ze.replace(/(\r\n|\n|\r)/gm," ").trim();const zn=function Ml(ot){const $=[];let Ze,se=0;for(;Ze=nl.exec(ot);){Ze.index-se>0&&$.push(ot.substring(se,Ze.index));const[,Ot,zn,,ri]=Ze;$.push(ri?{label:Ot,href:zn,title:ri}:{label:Ot,href:zn}),se=Ze.index+Ze[0].length}return se<ot.length&&$.push(ot.substring(se)),new tl($)}(Ze);return{raw:Ot,linkedText:zn,original:se}}setProgress(se){se.infinite?this.progress.infinite():se.total&&(this.progress.total(se.total),se.worked&&this.progress.worked(se.worked))}setActions(se={primary:[],secondary:[]}){this._actions={primary:Array.isArray(se.primary)?se.primary:[],secondary:Array.isArray(se.secondary)?se.secondary:[]},this._expanded=se.primary&&se.primary.length>0}get canCollapse(){return!this.hasActions}get expanded(){return!!this._expanded}get severity(){return this._severity}get sticky(){if(this._sticky)return!0;const se=this.hasActions;return!!(se&&this._severity===Et.zb.Error||!se&&this._expanded||this._progress&&!this._progress.state.done)}get silent(){return!!this._silent}get hasActions(){return!(!this._actions||!this._actions.primary)&&this._actions.primary.length>0}get hasProgress(){return!!this._progress}get progress(){return this._progress||(this._progress=this._register(new ir),this._register(this._progress.onDidChange(()=>this._onDidChangeContent.fire({kind:3})))),this._progress}get message(){return this._message}get source(){return"string"==typeof this._source?this._source:this._source?this._source.label:void 0}get sourceId(){return this._source&&"string"!=typeof this._source&&"id"in this._source?this._source.id:void 0}get actions(){return this._actions}get visible(){return this._visible}updateSeverity(se){se!==this._severity&&(this._severity=se,this._onDidChangeContent.fire({kind:0}))}updateMessage(se){const Ze=ot.parseNotificationMessage(se);!Ze||Ze.raw===this._message.raw||(this._message=Ze,this._onDidChangeContent.fire({kind:1}))}updateActions(se){this.setActions(se),this._onDidChangeContent.fire({kind:2})}updateVisibility(se){this._visible!==se&&(this._visible=se,this._onDidChangeVisibility.fire(se))}expand(){this._expanded||!this.canCollapse||(this._expanded=!0,this._onDidChangeExpansion.fire())}collapse(se){!this._expanded||!this.canCollapse||(this._expanded=!1,se||this._onDidChangeExpansion.fire())}toggle(){this._expanded?this.collapse():this.expand()}close(){this._onDidClose.fire(),this.dispose()}equals(se){if(this.hasProgress||se.hasProgress)return!1;if("string"==typeof this.id||"string"==typeof se.id)return this.id===se.id;if("object"==typeof this._source){if(this._source.label!==se.source||this._source.id!==se.sourceId)return!1}else if(this._source!==se.source)return!1;return this._message.raw===se.message.raw&&(0,Sr.fS)(this._actions&&this._actions.primary||[],se.actions&&se.actions.primary||[],(zn,ri)=>zn.id+zn.label===ri.id+ri.label)}}return ot.MAX_MESSAGE_LENGTH=1e3,ot})();class Fr extends pn.aU{constructor($,se){var Ze;super($,se.label,void 0,!0,(0,Xo.Z)(function*(){se.run(),Ze._onDidRun.fire()})),Ze=this,this._onDidRun=this._register(new te.E),this.onDidRun=this._onDidRun.event,this._keepOpen=!!se.keepOpen,this._menu=!se.isSecondary&&se.menu?se.menu.map((Ot,zn)=>new Fr(`${$}.${zn}`,Ot)):void 0}get menu(){return this._menu}get keepOpen(){return this._keepOpen}}class Pl{static create($,se){if(!$||(0,Oo.n2)($))return;let Ze;return $ instanceof Error?Ze=(0,ds.y)($,!1):"string"==typeof $&&(Ze=$),Ze?{message:Ze,options:se}:void 0}}function Pr(ot,$,se){return{id:(0,$r.vp)(ot.toString()).toString(),silent:se,source:$||"core"}}Wo("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container .action-item,\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .action-item {\n\tmargin-right: 4px;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container .action-item:first-child,\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .action-item:first-child {\n\tmargin-left: 4px;\n}\n",{});let ol=class extends Vt.JT{constructor($,se){super(),this.telemetryService=$,this.notificationService=se,this.registerListeners()}registerListeners(){this._register(this.notificationService.onDidAddNotification($=>{this.telemetryService.publicLog2("notification:show",Pr($.message,$.source&&"string"!=typeof $.source?$.source.id:$.source,!!$.silent))})),this._register(this.notificationService.onDidRemoveNotification($=>{this.telemetryService.publicLog2("notification:close",Pr($.message,$.source&&"string"!=typeof $.source?$.source.id:$.source,!!$.silent))}))}};ol=(0,te._)([(0,te.a)(0,Wa.b),(0,te.a)(1,Et.lT)],ol),new Cs.uy("multipleEditorGroups",!1,(0,zt.NC)("multipleEditorGroups","Whether there are multiple editor groups opened")).toNegated();const Br=new Cs.uy("notificationFocus",!0,(0,zt.NC)("notificationFocus","Whether a notification has keyboard focus")),ga=new Cs.uy("notificationCenterVisible",!1,(0,zt.NC)("notificationCenterVisible","Whether the notifications center is visible")),Zr=new Cs.uy("notificationToastsVisible",!1,(0,zt.NC)("notificationToastsVisible","Whether a notification toast is visible"));let Nr=class Na{constructor($,se,Ze,Ot){this._contextKeyService=$,this._fileService=se,this._languageService=Ze,this._modelService=Ot,this._disposables=new Vt.SL,this._schemeKey=Na.Scheme.bindTo(this._contextKeyService),this._filenameKey=Na.Filename.bindTo(this._contextKeyService),this._dirnameKey=Na.Dirname.bindTo(this._contextKeyService),this._pathKey=Na.Path.bindTo(this._contextKeyService),this._langIdKey=Na.LangId.bindTo(this._contextKeyService),this._resourceKey=Na.Resource.bindTo(this._contextKeyService),this._extensionKey=Na.Extension.bindTo(this._contextKeyService),this._hasResource=Na.HasResource.bindTo(this._contextKeyService),this._isFileSystemResource=Na.IsFileSystemResource.bindTo(this._contextKeyService),this._disposables.add(se.onDidChangeFileSystemProviderRegistrations(()=>{const zn=this.get();this._isFileSystemResource.set(Boolean(zn&&se.hasProvider(zn)))})),this._disposables.add(Ot.onModelAdded(zn=>{(0,qr.Xy)(zn.uri,this.get())&&this._setLangId()})),this._disposables.add(Ot.onModelLanguageChanged(zn=>{(0,qr.Xy)(zn.model.uri,this.get())&&this._setLangId()}))}dispose(){this._disposables.dispose()}_setLangId(){const $=this.get();if(!$)return void this._langIdKey.set(null);const se=this._modelService.getModel($)?.getLanguageId()??this._languageService.guessLanguageIdByFilepathOrFirstLine($);this._langIdKey.set(se)}set($){!(0,qr.Xy)(this._value,$=$??void 0)&&(this._value=$,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.set($?$.toString():null),this._schemeKey.set($?$.scheme:null),this._filenameKey.set($?(0,qr.EZ)($):null),this._dirnameKey.set($?(0,qr.XX)($).fsPath:null),this._pathKey.set($?$.fsPath:null),this._setLangId(),this._extensionKey.set($?(0,qr.DZ)($):null),this._hasResource.set(Boolean($)),this._isFileSystemResource.set(!!$&&this._fileService.hasProvider($))}))}reset(){this._value=void 0,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.reset(),this._schemeKey.reset(),this._filenameKey.reset(),this._dirnameKey.reset(),this._pathKey.reset(),this._langIdKey.reset(),this._extensionKey.reset(),this._hasResource.reset(),this._isFileSystemResource.reset()})}get(){return this._value}};Nr.Scheme=new Cs.uy("resourceScheme",void 0,{type:"string",description:(0,zt.NC)("resourceScheme","The scheme of the resource")}),Nr.Filename=new Cs.uy("resourceFilename",void 0,{type:"string",description:(0,zt.NC)("resourceFilename","The file name of the resource")}),Nr.Dirname=new Cs.uy("resourceDirname",void 0,{type:"string",description:(0,zt.NC)("resourceDirname","The folder name the resource is contained in")}),Nr.Path=new Cs.uy("resourcePath",void 0,{type:"string",description:(0,zt.NC)("resourcePath","The full path of the resource")}),Nr.LangId=new Cs.uy("resourceLangId",void 0,{type:"string",description:(0,zt.NC)("resourceLangId","The language identifier of the resource")}),Nr.Resource=new Cs.uy("resource",void 0,{type:"URI",description:(0,zt.NC)("resource","The full value of the resource including scheme and path")}),Nr.Extension=new Cs.uy("resourceExtname",void 0,{type:"string",description:(0,zt.NC)("resourceExtname","The extension name of the resource")}),Nr.HasResource=new Cs.uy("resourceSet",void 0,{type:"boolean",description:(0,zt.NC)("resourceSet","Whether a resource is present or not")}),Nr.IsFileSystemResource=new Cs.uy("isFileSystemResource",void 0,{type:"boolean",description:(0,zt.NC)("isFileSystemResource","Whether the resource is backed by a file system provider")}),Nr=(0,te._)([(0,te.a)(0,Cs.i6),(0,te.a)(1,An.i),(0,te.a)(2,wn.O),(0,te.a)(3,wo.q)],Nr);const oa="notifications.hideList",vl="notifications.hideToasts",rl="notification.collapse",Wt="notification.expand",r="notification.clear",I="notifications.clearAll",B="notifications.toggleDoNotDisturbMode",Le=(0,fa.q5)("notifications-clear",Bo.lA.close,(0,zt.NC)("clearIcon","Icon for the clear action in notifications.")),Be=(0,fa.q5)("notifications-clear-all",Bo.lA.clearAll,(0,zt.NC)("clearAllIcon","Icon for the clear all action in notifications.")),lt=(0,fa.q5)("notifications-hide",Bo.lA.chevronDown,(0,zt.NC)("hideIcon","Icon for the hide action in notifications.")),wt=(0,fa.q5)("notifications-expand",Bo.lA.chevronUp,(0,zt.NC)("expandIcon","Icon for the expand action in notifications.")),Nt=(0,fa.q5)("notifications-collapse",Bo.lA.chevronDown,(0,zt.NC)("collapseIcon","Icon for the collapse action in notifications.")),Zt=(0,fa.q5)("notifications-configure",Bo.lA.gear,(0,zt.NC)("configureIcon","Icon for the configure action in notifications.")),ln=(0,fa.q5)("notifications-do-not-disturb",Bo.lA.bellSlash,(0,zt.NC)("doNotDisturbIcon","Icon for the mute all action in notifications."));let hn=class extends pn.aU{constructor($,se,Ze){super($,se,rs.kS.asClassName(Le)),this.commandService=Ze}run($){var se=this;return(0,Xo.Z)(function*(){se.commandService.executeCommand(r,$)})()}};hn.ID=r,hn.LABEL=(0,zt.NC)("clearNotification","Clear Notification"),hn=(0,te._)([(0,te.a)(2,We.Hy)],hn);let Fn=class extends pn.aU{constructor($,se,Ze){super($,se,rs.kS.asClassName(Be)),this.commandService=Ze}run(){var $=this;return(0,Xo.Z)(function*(){$.commandService.executeCommand(I)})()}};Fn.ID=I,Fn.LABEL=(0,zt.NC)("clearNotifications","Clear All Notifications"),Fn=(0,te._)([(0,te.a)(2,We.Hy)],Fn);let $n=class extends pn.aU{constructor($,se,Ze){super($,se,rs.kS.asClassName(ln)),this.commandService=Ze}run(){var $=this;return(0,Xo.Z)(function*(){$.commandService.executeCommand(B)})()}};$n.ID=B,$n.LABEL=(0,zt.NC)("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),$n=(0,te._)([(0,te.a)(2,We.Hy)],$n);let Zn=class extends pn.aU{constructor($,se,Ze){super($,se,rs.kS.asClassName(lt)),this.commandService=Ze}run(){var $=this;return(0,Xo.Z)(function*(){$.commandService.executeCommand(oa)})()}};Zn.ID=oa,Zn.LABEL=(0,zt.NC)("hideNotificationsCenter","Hide Notifications"),Zn=(0,te._)([(0,te.a)(2,We.Hy)],Zn);let ai=class extends pn.aU{constructor($,se,Ze){super($,se,rs.kS.asClassName(wt)),this.commandService=Ze}run($){var se=this;return(0,Xo.Z)(function*(){se.commandService.executeCommand(Wt,$)})()}};ai.ID=Wt,ai.LABEL=(0,zt.NC)("expandNotification","Expand Notification"),ai=(0,te._)([(0,te.a)(2,We.Hy)],ai);let vi=class extends pn.aU{constructor($,se,Ze){super($,se,rs.kS.asClassName(Nt)),this.commandService=Ze}run($){var se=this;return(0,Xo.Z)(function*(){se.commandService.executeCommand(rl,$)})()}};vi.ID=rl,vi.LABEL=(0,zt.NC)("collapseNotification","Collapse Notification"),vi=(0,te._)([(0,te.a)(2,We.Hy)],vi);class yi extends pn.aU{constructor($,se,Ze){super($,se,rs.kS.asClassName(Zt)),this.configurationActions=Ze}}yi.ID="workbench.action.configureNotification",yi.LABEL=(0,zt.NC)("configureNotification","Configure Notification");let Vi=class extends pn.aU{constructor($,se,Ze){super($,se),this.clipboardService=Ze}run($){return this.clipboardService.writeText($.message.raw)}};Vi.ID="workbench.action.copyNotificationMessage",Vi.LABEL=(0,zt.NC)("copyNotification","Copy Text"),Vi=(0,te._)([(0,te.a)(2,Fo.p)],Vi);let Xi=class extends pn.Wi{constructor($,se){super(),this.telemetryService=$,this.notificationService=se}runAction($,se){var Ze=()=>super.runAction,Ot=this;return(0,Xo.Z)(function*(){Ot.telemetryService.publicLog2("workbenchActionExecuted",{id:$.id,from:"message"}),fs(se)&&Ot.telemetryService.publicLog2("notification:actionExecuted",{id:(0,$r.vp)(se.message.original.toString()).toString(),actionLabel:$.label,source:se.sourceId||"core",silent:se.silent});try{yield Ze().call(Ot,$,se)}catch(zn){Ot.notificationService.error(zn)}})()}};Xi=(0,te._)([(0,te.a)(0,Wa.b),(0,te.a)(1,Et.lT)],Xi);let Zi=(()=>{class ot{constructor(se){this.offsetHelper=this.createOffsetHelper(se)}createOffsetHelper(se){const Ze=document.createElement("div");return Ze.classList.add("notification-offset-helper"),se.appendChild(Ze),Ze}getHeight(se){if(!se.expanded)return ot.ROW_HEIGHT;let Ze=ot.ROW_HEIGHT;const Ot=this.computePreferredHeight(se);return ot.LINE_HEIGHT<Ot&&(Ze+=Ot-ot.LINE_HEIGHT),(se.source||(0,Sr.Of)(se.actions&&se.actions.primary))&&(Ze+=ot.ROW_HEIGHT),Ze===ot.ROW_HEIGHT&&se.collapse(!0),Ze}computePreferredHeight(se){let Ze=1;se.canCollapse&&Ze++,(0,Sr.Of)(se.actions&&se.actions.secondary)&&Ze++,this.offsetHelper.style.width=450-(36+32*Ze-4)+"px";const Ot=eo.render(se.message);this.offsetHelper.appendChild(Ot);const zn=Math.max(this.offsetHelper.offsetHeight,this.offsetHelper.scrollHeight);return(0,De.PO)(this.offsetHelper),zn}getTemplateId(se){if(se instanceof Ar)return Hi.TEMPLATE_ID;throw new Error("unknown element type: "+se)}}return ot.ROW_HEIGHT=42,ot.LINE_HEIGHT=22,ot})();class eo{static render($,se){const Ze=document.createElement("span");for(const Ot of $.linkedText.nodes)if("string"==typeof Ot)Ze.appendChild(document.createTextNode(Ot));else{let zn=Ot.title;!zn&&Ot.href.startsWith("command:")?zn=(0,zt.NC)("executeCommand","Click to execute command '{0}'",Ot.href.substr(8)):zn||(zn=Ot.href);const ri=(0,De.$)("a",{href:Ot.href,title:zn},Ot.label);if(se){const Di=xo=>{De.zB.stop(xo,!0),se.callback(Ot.href)},Oi=se.toDispose.add(new Ra.Y(ri,"click")).event;se.toDispose.add(xt.o.addTarget(ri));const qi=se.toDispose.add(new Ra.Y(ri,xt.t.Tap)).event;yr.ju.any(Oi,qi)(Di,null,se.toDispose)}Ze.appendChild(ri)}return Ze}}let Hi=class rc{constructor($,se,Ze,Ot){this.actionRunner=$,this.themeService=se,this.contextMenuService=Ze,this.instantiationService=Ot}get templateId(){return rc.TEMPLATE_ID}renderTemplate($){const se=Object.create(null);se.toDispose=new Vt.SL,se.container=document.createElement("div"),se.container.classList.add("notification-list-item"),se.mainRow=document.createElement("div"),se.mainRow.classList.add("notification-list-item-main-row"),se.icon=document.createElement("div"),se.icon.classList.add("notification-list-item-icon","codicon"),se.message=document.createElement("div"),se.message.classList.add("notification-list-item-message");const Ze=document.createElement("div");return Ze.classList.add("notification-list-item-toolbar-container"),se.toolbar=new qn.o(Ze,{ariaLabel:(0,zt.NC)("notificationActions","Notification Actions"),actionViewItemProvider:Ot=>{if(Ot&&Ot instanceof yi){const zn=new Tl.C(Ot,Ot.configurationActions,this.contextMenuService,{actionRunner:this.actionRunner,classNames:Ot.class});return se.toDispose.add(zn),zn}},actionRunner:this.actionRunner}),se.toDispose.add(se.toolbar),se.detailsRow=document.createElement("div"),se.detailsRow.classList.add("notification-list-item-details-row"),se.source=document.createElement("div"),se.source.classList.add("notification-list-item-source"),se.buttonsContainer=document.createElement("div"),se.buttonsContainer.classList.add("notification-list-item-buttons-container"),$.appendChild(se.container),se.container.appendChild(se.detailsRow),se.detailsRow.appendChild(se.source),se.detailsRow.appendChild(se.buttonsContainer),se.container.appendChild(se.mainRow),se.mainRow.appendChild(se.icon),se.mainRow.appendChild(se.message),se.mainRow.appendChild(Ze),se.progress=new ja.k($),se.toDispose.add(function Os(ot,$,se){return Zo($,{progressBarBackground:se?.progressBarBackground||kn.zRJ},ot)}(se.progress,this.themeService)),se.toDispose.add(se.progress),se.renderer=this.instantiationService.createInstance(ao,se,this.actionRunner),se.toDispose.add(se.renderer),se}renderElement($,se,Ze){Ze.renderer.setInput($)}disposeTemplate($){(0,Vt.B9)($.toDispose)}};Hi.TEMPLATE_ID="notification",Hi=(0,te._)([(0,te.a)(1,rs.XE),(0,te.a)(2,Ya.i),(0,te.a)(3,Ys.TG)],Hi);let ao=class Fa extends Vt.JT{constructor($,se,Ze,Ot,zn,ri,Di){super(),this.template=$,this.actionRunner=se,this.openerService=Ze,this.instantiationService=Ot,this.themeService=zn,this.keybindingService=ri,this.contextMenuService=Di,this.inputDisposables=this._register(new Vt.SL),Fa.closeNotificationAction||(Fa.closeNotificationAction=Ot.createInstance(hn,hn.ID,hn.LABEL),Fa.expandNotificationAction=Ot.createInstance(ai,ai.ID,ai.LABEL),Fa.collapseNotificationAction=Ot.createInstance(vi,vi.ID,vi.LABEL))}setInput($){this.inputDisposables.clear(),this.render($)}render($){this.template.container.classList.toggle("expanded",$.expanded),this.inputDisposables.add((0,De.nm)(this.template.container,De.tw.MOUSE_UP,Ze=>{1===Ze.button&&De.zB.stop(Ze,!0)})),this.inputDisposables.add((0,De.nm)(this.template.container,De.tw.AUXCLICK,Ze=>{!$.hasProgress&&1===Ze.button&&(De.zB.stop(Ze,!0),$.close())})),this.renderSeverity($);const se=this.renderMessage($);this.renderSecondaryActions($,se),this.renderSource($),this.renderButtons($),this.renderProgress($),this.inputDisposables.add($.onDidChangeContent(Ze=>{switch(Ze.kind){case 0:this.renderSeverity($);break;case 3:this.renderProgress($);break;case 1:this.renderMessage($)}}))}renderSeverity($){Fa.SEVERITIES.forEach(se=>{$.severity!==se&&this.template.icon.classList.remove(...this.toSeverityIcon(se).classNamesArray)}),this.template.icon.classList.add(...this.toSeverityIcon($.severity).classNamesArray)}renderMessage($){(0,De.PO)(this.template.message),this.template.message.appendChild(eo.render($.message,{callback:Ot=>this.openerService.open(Xa.o.parse(Ot),{allowCommands:!0}),toDispose:this.inputDisposables}));const se=$.canCollapse&&!$.expanded&&this.template.message.scrollWidth>this.template.message.clientWidth;se?this.template.message.title=this.template.message.textContent+"":this.template.message.removeAttribute("title");const Ze=this.template.message.querySelectorAll("a");for(let Ot=0;Ot<Ze.length;Ot++)Ze.item(Ot).tabIndex=-1;return se}renderSecondaryActions($,se){const Ze=[],Ot=$.actions?$.actions.secondary:void 0;if((0,Sr.Of)(Ot)){const ri=this.instantiationService.createInstance(yi,yi.ID,yi.LABEL,Ot);Ze.push(ri),this.inputDisposables.add(ri)}let zn=!1;$.canCollapse&&($.expanded||$.source||se)&&(zn=!0),zn&&Ze.push($.expanded?Fa.collapseNotificationAction:Fa.expandNotificationAction),$.hasProgress||Ze.push(Fa.closeNotificationAction),this.template.toolbar.clear(),this.template.toolbar.context=$,Ze.forEach(ri=>this.template.toolbar.push(ri,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(ri)}))}renderSource($){$.expanded&&$.source?(this.template.source.textContent=(0,zt.NC)("notificationSource","Source: {0}",$.source),this.template.source.title=$.source):(this.template.source.textContent="",this.template.source.removeAttribute("title"))}renderButtons($){(0,De.PO)(this.template.buttonsContainer);const se=$.actions?$.actions.primary:void 0;if($.expanded&&(0,Sr.Of)(se)){const Ze=this,Ot=new class extends pn.Wi{runAction(ri){return(0,Xo.Z)(function*(){Ze.actionRunner.run(ri,$),(!(ri instanceof Fr)||!ri.keepOpen)&&$.close()})()}},zn=this.inputDisposables.add(new Sa(this.template.buttonsContainer));for(let ri=0;ri<se.length;ri++){const Di=se[ri],Oi={title:!0,secondary:ri>0},qi=Di instanceof Fr?Di.menu:void 0,xo=this.inputDisposables.add(qi?zn.addButtonWithDropdown({...Oi,contextMenuProvider:this.contextMenuService,actions:qi,actionRunner:Ot}):zn.addButton(Oi));xo.label=Di.label,this.inputDisposables.add(xo.onDidClick(zo=>{zo&&De.zB.stop(zo,!0),Ot.run(Di)})),this.inputDisposables.add(Fs(xo,this.themeService))}}}renderProgress($){if(!$.hasProgress)return void this.template.progress.stop().hide();const se=$.progress.state;se.infinite?this.template.progress.infinite().show():"number"==typeof se.total||"number"==typeof se.worked?("number"==typeof se.total&&!this.template.progress.hasTotal()&&this.template.progress.total(se.total),"number"==typeof se.worked&&this.template.progress.setWorked(se.worked).show()):this.template.progress.done().hide()}toSeverityIcon($){switch($){case Et.zb.Warning:return Bo.lA.warning;case Et.zb.Error:return Bo.lA.error}return Bo.lA.info}getKeybindingLabel($){const se=this.keybindingService.lookupKeybinding($.id);return se?se.getLabel():null}};ao.SEVERITIES=[Et.zb.Info,Et.zb.Warning,Et.zb.Error],ao=(0,te._)([(0,te.a)(2,Yr.v4),(0,te.a)(3,Ys.TG),(0,te.a)(4,rs.XE),(0,te.a)(5,ji.d),(0,te.a)(6,Ya.i)],ao);let Do=class extends rs.bB{constructor($,se,Ze,Ot,zn){super(Ot),this.container=$,this.options=se,this.instantiationService=Ze,this.contextMenuService=zn,this.viewModel=[]}show($){this.isVisible||(this.list||this.createNotificationsList(),this.isVisible=!0),$&&(0,qs.cW)(this.list).domFocus()}createNotificationsList(){this.listContainer=document.createElement("div"),this.listContainer.classList.add("notifications-list-container");const $=this._register(this.instantiationService.createInstance(Xi)),se=this.instantiationService.createInstance(Hi,$),Ze=this.listDelegate=new Zi(this.listContainer),Ot=this.options,zn=this.list=this._register(this.instantiationService.createInstance(ea.ev,"NotificationsList",this.listContainer,Ze,[se],{...Ot,setRowLineHeight:!1,horizontalScrolling:!1,overrideStyles:{listBackground:Gr},accessibilityProvider:{getAriaLabel:Oi=>Oi.source?(0,zt.NC)("notificationWithSourceAriaLabel","{0}, source: {1}, notification",Oi.message.raw,Oi.source):(0,zt.NC)("notificationAriaLabel","{0}, notification",Oi.message.raw),getWidgetAriaLabel:()=>Ot.widgetAriaLabel??(0,zt.NC)("notificationsList","Notifications List"),getRole:()=>"dialog"}})),ri=this._register(this.instantiationService.createInstance(Vi,Vi.ID,Vi.LABEL));this._register(zn.onContextMenu(Oi=>{!Oi.element||this.contextMenuService.showContextMenu({getAnchor:()=>Oi.anchor,getActions:()=>[ri],getActionsContext:()=>Oi.element,actionRunner:$})})),this._register(zn.onMouseDblClick(Oi=>Oi.element.toggle()));const Di=this._register((0,De.go)(zn.getHTMLElement()));this._register(Di.onDidBlur(()=>{document.hasFocus()&&zn.setFocus([])})),Br.bindTo(zn.contextKeyService),this._register(zn.onDidChangeSelection(Oi=>{Oi.indexes.length>0&&zn.setSelection([])})),this.container.appendChild(this.listContainer),this.updateStyles()}updateNotificationsList($,se,Ze=[]){const[Ot,zn]=(0,Ta.a)(this.list,this.listContainer),ri=(0,De.jg)(document.activeElement,zn),Di=Ot.getFocus()[0],Oi=this.viewModel[Di];let qi=null;if("number"==typeof Di&&(qi=Ot.getRelativeTop(Di)),this.viewModel.splice($,se,...Ze),Ot.splice($,se,Ze),Ot.layout(),0===this.viewModel.length)this.hide();else if("number"==typeof Di){let xo=0;if(Oi){let zo=this.viewModel.indexOf(Oi);-1===zo&&(zo=Di-1),zo<this.viewModel.length&&zo>=0&&(xo=zo)}"number"==typeof qi&&Ot.reveal(xo,qi),Ot.setFocus([xo])}this.isVisible&&ri&&Ot.domFocus()}updateNotificationHeight($){const se=this.viewModel.indexOf($);if(-1===se)return;const[Ze,Ot]=(0,Ta.a)(this.list,this.listDelegate);Ze.updateElementHeight(se,Ot.getHeight($)),Ze.layout()}hide(){!this.isVisible||!this.list||(this.isVisible=!1,this.list.splice(0,this.viewModel.length),this.viewModel=[])}focusFirst(){!this.isVisible||!this.list||(this.list.focusFirst(),this.list.domFocus())}hasFocus(){return!(!this.isVisible||!this.listContainer)&&(0,De.jg)(document.activeElement,this.listContainer)}updateStyles(){if(this.listContainer){const $=this.getColor(Ka);this.listContainer.style.color=$||"";const se=this.getColor(Gr);this.listContainer.style.background=se||"";const Ze=this.getColor(kn.lRK);this.listContainer.style.outlineColor=Ze||""}}layout($,se){this.listContainer&&this.list&&(this.listContainer.style.width=`${$}px`,"number"==typeof se&&(this.list.getHTMLElement().style.maxHeight=`${se}px`),this.list.layout())}dispose(){this.hide(),super.dispose()}};Do=(0,te._)([(0,te.a)(2,Ys.TG),(0,te.a)(3,rs.XE),(0,te.a)(4,Ya.i)],Do),(0,rs.Ic)((ot,$)=>{const se=ot.getColor(pl);se&&$.addRule(`.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a { color: ${se}; }`);const Ze=ot.getColor(kn.R80);Ze&&$.addRule(`\n\t\t.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a:focus {\n\t\t\toutline-color: ${Ze};\n\t\t}`);const Ot=ot.getColor($a);Ot&&$.addRule(`\n\t\t.monaco-workbench .notifications-center ${Bo.lA.error.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${Bo.lA.error.cssSelector} {\n\t\t\tcolor: ${Ot};\n\t\t}`);const zn=ot.getColor(el);zn&&$.addRule(`\n\t\t.monaco-workbench .notifications-center ${Bo.lA.warning.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${Bo.lA.warning.cssSelector} {\n\t\t\tcolor: ${zn};\n\t\t}`);const ri=ot.getColor(Ga);ri&&$.addRule(`\n\t\t.monaco-workbench .notifications-center ${Bo.lA.info.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${Bo.lA.info.cssSelector} {\n\t\t\tcolor: ${ri};\n\t\t}`)});var so=(()=>{return(ot=so||(so={}))[ot.HIDDEN_OR_VISIBLE=0]="HIDDEN_OR_VISIBLE",ot[ot.HIDDEN=1]="HIDDEN",ot[ot.VISIBLE=2]="VISIBLE",so;var ot})();let Yo=class Dl extends rs.bB{constructor($,se,Ze,Ot,zn,ri,Di,Oi,qi){super(zn),this.container=$,this.model=se,this.instantiationService=Ze,this.layoutService=Ot,this.editorGroupService=ri,this.contextKeyService=Di,this.lifecycleService=Oi,this.hostService=qi,this._onDidChangeVisibility=this._register(new te.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._isVisible=!1,this.mapNotificationToToast=new Map,this.mapNotificationToDisposable=new Map,this.notificationsToastsVisibleContextKey=Zr.bindTo(this.contextKeyService),this.addedToastsIntervalCounter=new la.a(Dl.SPAM_PROTECTION.interval),this.registerListeners()}get isVisible(){return!!this._isVisible}registerListeners(){this._register(this.layoutService.onDidLayout($=>this.layout(De.Ro.lift($)))),this.lifecycleService.when(3).then(()=>{this.model.notifications.forEach($=>this.addToast($)),this._register(this.model.onDidChangeNotification($=>this.onDidChangeNotification($)))}),this._register(this.model.onDidChangeFilter($=>{($===te.f.SILENT||$===te.f.ERROR)&&this.hide()}))}onDidChangeNotification($){switch($.kind){case 0:return this.addToast($.item);case 3:return this.removeToast($.item)}}addToast($){if(this.isNotificationsCenterVisible||$.silent||this.addedToastsIntervalCounter.increment()>Dl.SPAM_PROTECTION.limit)return;const se=new Vt.SL;this.mapNotificationToDisposable.set($,se),se.add((0,De.jL)(()=>this.doAddToast($,se)))}doAddToast($,se){let Ze=this.notificationsToastsContainer;Ze||(Ze=this.notificationsToastsContainer=document.createElement("div"),Ze.classList.add("notifications-toasts"),this.container.appendChild(Ze)),Ze.classList.add("visible");const Ot=document.createElement("div");Ot.classList.add("notification-toast-container");const zn=Ze.firstChild;zn?Ze.insertBefore(Ot,zn):Ze.appendChild(Ot);const ri=document.createElement("div");ri.classList.add("notification-toast"),Ot.appendChild(ri);const Di=this.instantiationService.createInstance(Do,ri,{verticalScrollMode:2,widgetAriaLabel:$.source?(0,zt.NC)("notificationWithSourceAriaLabel","{0}, source: {1}, notification",$.message.raw,$.source):(0,zt.NC)("notificationAriaLabel","{0}, notification",$.message.raw)});se.add(Di);const Oi={item:$,list:Di,container:Ot,toast:ri};this.mapNotificationToToast.set($,Oi),se.add((0,Vt.OF)(()=>this.updateToastVisibility(Oi,!1))),Di.show();const qi=this.computeMaxDimensions();this.layoutLists(qi.width),Di.updateNotificationsList(0,0,[$]),this.layoutContainer(qi.height),se.add($.onDidChangeExpansion(()=>{Di.updateNotificationsList(0,1,[$])})),se.add($.onDidChangeContent(xo=>{switch(xo.kind){case 2:Di.updateNotificationsList(0,1,[$]);break;case 1:$.expanded&&Di.updateNotificationHeight($)}})),yr.ju.once($.onDidClose)(()=>{this.removeToast($)}),this.purgeNotification($,Ot,Di,se),this.updateStyles(),this.notificationsToastsVisibleContextKey.set(!0),ri.classList.add("notification-fade-in"),se.add((0,De.nm)(ri,"transitionend",()=>{ri.classList.remove("notification-fade-in"),ri.classList.add("notification-fade-in-done")})),$.updateVisibility(!0),this._isVisible||(this._isVisible=!0,this._onDidChangeVisibility.fire())}purgeNotification($,se,Ze,Ot){let ri,Di,zn=!1;Ot.add((0,De.nm)(se,De.tw.MOUSE_OVER,()=>zn=!0)),Ot.add((0,De.nm)(se,De.tw.MOUSE_OUT,()=>zn=!1));const Oi=()=>{ri=setTimeout(()=>{this.hostService.hasFocus?$.sticky||Ze.hasFocus()||zn?Oi():this.removeToast($):Di||(Di=this.hostService.onDidChangeFocus(qi=>{qi&&Oi()}),Ot.add(Di))},Dl.PURGE_TIMEOUT[$.severity])};Oi(),Ot.add((0,Vt.OF)(()=>clearTimeout(ri)))}removeToast($){let se=!1;const Ze=this.mapNotificationToToast.get($);Ze&&((0,De.jg)(document.activeElement,Ze.container)&&(se=!(this.focusNext()||this.focusPrevious())),this.mapNotificationToToast.delete($));const Ot=this.mapNotificationToDisposable.get($);Ot&&((0,Vt.B9)(Ot),this.mapNotificationToDisposable.delete($)),this.mapNotificationToToast.size>0?this.layout(this.workbenchDimensions):(this.doHide(),se&&this.editorGroupService.activeGroup.focus())}removeToasts(){this.mapNotificationToToast.clear(),this.mapNotificationToDisposable.forEach($=>(0,Vt.B9)($)),this.mapNotificationToDisposable.clear(),this.doHide()}doHide(){this.notificationsToastsContainer?.classList.remove("visible"),this.notificationsToastsVisibleContextKey.set(!1),this._isVisible&&(this._isVisible=!1,this._onDidChangeVisibility.fire())}hide(){const $=!!this.notificationsToastsContainer&&(0,De.jg)(document.activeElement,this.notificationsToastsContainer);this.removeToasts(),$&&this.editorGroupService.activeGroup.focus()}focus(){const $=this.getToasts(so.VISIBLE);return $.length>0&&($[0].list.focusFirst(),!0)}focusNext(){const $=this.getToasts(so.VISIBLE);for(let se=0;se<$.length;se++)if($[se].list.hasFocus()){const Ot=$[se+1];if(Ot)return Ot.list.focusFirst(),!0;break}return!1}focusPrevious(){const $=this.getToasts(so.VISIBLE);for(let se=0;se<$.length;se++)if($[se].list.hasFocus()){const Ot=$[se-1];if(Ot)return Ot.list.focusFirst(),!0;break}return!1}focusFirst(){const $=this.getToasts(so.VISIBLE)[0];return!!$&&($.list.focusFirst(),!0)}focusLast(){const $=this.getToasts(so.VISIBLE);return $.length>0&&($[$.length-1].list.focusFirst(),!0)}update($){this.isNotificationsCenterVisible!==$&&(this.isNotificationsCenterVisible=$,this.isNotificationsCenterVisible&&this.removeToasts())}updateStyles(){this.mapNotificationToToast.forEach(({toast:$})=>{const se=this.getColor(Gr);$.style.background=se||"";const Ze=this.getColor(kn.rh);$.style.boxShadow=Ze?`0 0 8px 2px ${Ze}`:"";const Ot=this.getColor(Oa);$.style.border=Ot?`1px solid ${Ot}`:""})}getToasts($){const se=[];return this.mapNotificationToToast.forEach(Ze=>{switch($){case so.HIDDEN_OR_VISIBLE:se.push(Ze);break;case so.HIDDEN:this.isToastInDOM(Ze)||se.push(Ze);break;case so.VISIBLE:this.isToastInDOM(Ze)&&se.push(Ze)}}),se.reverse()}layout($){this.workbenchDimensions=$;const se=this.computeMaxDimensions();se.height&&this.layoutContainer(se.height),this.layoutLists(se.width)}computeMaxDimensions(){const $=Dl.MAX_WIDTH;let Ze,se=$;return this.workbenchDimensions&&(se=this.workbenchDimensions.width,se-=16,Ze=this.workbenchDimensions.height,this.layoutService.isVisible("workbench.parts.statusbar")&&(Ze-=22),this.layoutService.isVisible("workbench.parts.titlebar")&&(Ze-=22),Ze-=24),Ze="number"==typeof Ze?Math.round(.618*Ze):0,new De.Ro(Math.min($,se),Ze)}layoutLists($){this.mapNotificationToToast.forEach(({list:se})=>se.layout($))}layoutContainer($){let se=0;for(const Ze of this.getToasts(so.HIDDEN_OR_VISIBLE)){Ze.container.style.opacity="0",this.updateToastVisibility(Ze,!0),$-=Ze.container.offsetHeight;let Ot=!1;se===Dl.MAX_NOTIFICATIONS?Ot=!1:$>=0&&(Ot=!0),this.updateToastVisibility(Ze,Ot),Ze.container.style.opacity="",Ot&&se++}}updateToastVisibility($,se){if(this.isToastInDOM($)===se)return;const Ze=(0,qs.cW)(this.notificationsToastsContainer);se?Ze.appendChild($.container):Ze.removeChild($.container),$.item.updateVisibility(se)}isToastInDOM($){return!!$.container.parentElement}};Yo.MAX_WIDTH=450,Yo.MAX_NOTIFICATIONS=3,Yo.PURGE_TIMEOUT={[Et.zb.Info]:15e3,[Et.zb.Warning]:18e3,[Et.zb.Error]:2e4},Yo.SPAM_PROTECTION={interval:800,limit:Yo.MAX_NOTIFICATIONS},Yo=(0,te._)([(0,te.a)(2,Ys.TG),(0,te.a)(3,co),(0,te.a)(4,rs.XE),(0,te.a)(5,An.b),(0,te.a)(6,Cs.i6),(0,te.a)(7,la.b),(0,te.a)(8,An.o)],Yo);let is=class Dd extends Vt.JT{constructor($){super(),this.storageService=$,this.model=this._register(new ia),this._onDidAddNotification=this._register(new te.E),this.onDidAddNotification=this._onDidAddNotification.event,this._onDidRemoveNotification=this._register(new te.E),this.onDidRemoveNotification=this._onDidRemoveNotification.event,this._onDidChangeDoNotDisturbMode=this._register(new te.E),this.onDidChangeDoNotDisturbMode=this._onDidChangeDoNotDisturbMode.event,this._doNotDisturbMode=this.storageService.getBoolean(Dd.DND_SETTINGS_KEY,-1,!1),this.updateDoNotDisturbFilters(),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification($=>{switch($.kind){case 0:case 3:{const se={message:$.item.message.original,severity:$.item.severity,source:"string"==typeof $.item.sourceId&&"string"==typeof $.item.source?{id:$.item.sourceId,label:$.item.source}:$.item.source,silent:$.item.silent};0===$.kind&&this._onDidAddNotification.fire(se),3===$.kind&&this._onDidRemoveNotification.fire(se);break}}}))}get doNotDisturbMode(){return this._doNotDisturbMode}set doNotDisturbMode($){this._doNotDisturbMode!==$&&(this.storageService.store(Dd.DND_SETTINGS_KEY,$,-1,1),this._doNotDisturbMode=$,this.updateDoNotDisturbFilters(),this._onDidChangeDoNotDisturbMode.fire())}updateDoNotDisturbFilters(){let $;$=this._doNotDisturbMode?te.f.ERROR:te.f.OFF,this.model.setFilter($)}info($){Array.isArray($)?$.forEach(se=>this.info(se)):this.model.addNotification({severity:Et.zb.Info,message:$})}warn($){Array.isArray($)?$.forEach(se=>this.warn(se)):this.model.addNotification({severity:Et.zb.Warning,message:$})}error($){Array.isArray($)?$.forEach(se=>this.error(se)):this.model.addNotification({severity:Et.zb.Error,message:$})}notify($){var se=this;const Ze=new Vt.SL;if($.neverShowAgain){const zn=this.toStorageScope($.neverShowAgain),ri=$.neverShowAgain.id;if(this.storageService.getBoolean(ri,zn))return new Et.EO;const Di=Ze.add(new pn.aU("workbench.notification.neverShowAgain",(0,zt.NC)("neverShowAgain","Don't Show Again"),void 0,!0,(0,Xo.Z)(function*(){Ot.close(),se.storageService.store(ri,!0,zn,0)}))),Oi={primary:$.actions?.primary||[],secondary:$.actions?.secondary||[]};$.neverShowAgain.isSecondary?Oi.secondary=[...Oi.secondary,Di]:Oi.primary=[Di,...Oi.primary],$.actions=Oi}const Ot=this.model.addNotification($);return yr.ju.once(Ot.onDidClose)(()=>Ze.dispose()),Ot}toStorageScope($){switch($.scope){case te.g.APPLICATION:return-1;case te.g.PROFILE:return 0;case te.g.WORKSPACE:return 1;default:return-1}}prompt($,se,Ze,Ot){const zn=new Vt.SL;if(Ot?.neverShowAgain){const zo=this.toStorageScope(Ot.neverShowAgain),cr=Ot.neverShowAgain.id;if(this.storageService.getBoolean(cr,zo))return new Et.EO;const Wr={label:(0,zt.NC)("neverShowAgain","Don't Show Again"),run:()=>this.storageService.store(cr,!0,zo,0),isSecondary:Ot.neverShowAgain.isSecondary};Ze=Ot.neverShowAgain.isSecondary?[...Ze,Wr]:[Wr,...Ze]}let ri=!1;const Di=[],Oi=[];Ze.forEach((zo,cr)=>{const Wr=new Fr(`workbench.dialog.choice.${cr}`,zo);zo.isSecondary?Oi.push(Wr):Di.push(Wr),zn.add(Wr.onDidRun(()=>{ri=!0,zo.keepOpen||xo.close()})),zn.add(Wr)});const xo=this.notify({severity:$,message:se,actions:{primary:Di,secondary:Oi},sticky:Ot?.sticky,silent:Ot?.silent});return yr.ju.once(xo.onDidClose)(()=>{zn.dispose(),Ot&&"function"==typeof Ot.onCancel&&!ri&&Ot.onCancel()}),xo}status($,se){return this.model.showStatusMessage($,se)}};is.DND_SETTINGS_KEY="notifications.doNotDisturbMode",is=(0,te._)([(0,te.a)(0,ba.Uy)],is),Wo("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench > .notifications-center {\n\tposition: absolute;\n\tz-index: 1000;\n\tright: 8px;\n\tbottom: 31px;\n\tdisplay: none;\n\toverflow: hidden;\n}\n\n.monaco-workbench.nostatusbar > .notifications-center {\n\tbottom: 8px;\n}\n\n.monaco-workbench > .notifications-center.visible {\n\tdisplay: block;\n}\n\n/* Header */\n\n.monaco-workbench > .notifications-center > .notifications-center-header {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: 8px;\n\tpadding-right: 5px;\n\theight: 35px;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-title {\n\ttext-transform: uppercase;\n\tfont-size: 11px;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar {\n\tflex: 1;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .actions-container {\n\tjustify-content: flex-end;\n}\n",{});let Ho=class Ed extends rs.bB{constructor($,se,Ze,Ot,zn,ri,Di,Oi,qi){super(Ze),this.container=$,this.model=se,this.instantiationService=Ot,this.layoutService=zn,this.contextKeyService=ri,this.editorGroupService=Di,this.keybindingService=Oi,this.notificationService=qi,this._onDidChangeVisibility=this._register(new te.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.notificationsCenterVisibleContextKey=ga.bindTo(this.contextKeyService),this.notificationsCenterVisibleContextKey=ga.bindTo(ri),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification($=>this.onDidChangeNotification($))),this._register(this.layoutService.onDidLayout($=>this.layout(De.Ro.lift($)))),this._register(this.notificationService.onDidChangeDoNotDisturbMode(()=>this.onDidChangeDoNotDisturbMode()))}onDidChangeDoNotDisturbMode(){this.hide()}get isVisible(){return!!this._isVisible}show(){if(this._isVisible)return void(0,qs.cW)(this.notificationsList).show(!0);this.notificationsCenterContainer||this.create(),this.updateTitle();const[$,se]=(0,Ta.a)(this.notificationsList,this.notificationsCenterContainer);this._isVisible=!0,se.classList.add("visible"),$.show(),this.layout(this.workbenchDimensions),$.updateNotificationsList(0,0,this.model.notifications),$.focusFirst(),this.updateStyles(),this.model.notifications.forEach(Ze=>Ze.updateVisibility(!0)),this.notificationsCenterVisibleContextKey.set(!0),this._onDidChangeVisibility.fire()}updateTitle(){const[$,se]=(0,Ta.a)(this.notificationsCenterTitle,this.clearAllAction);0===this.model.notifications.length?($.textContent=(0,zt.NC)("notificationsEmpty","No new notifications"),se.enabled=!1):($.textContent=(0,zt.NC)("notifications","Notifications"),se.enabled=this.model.notifications.some(Ze=>!Ze.hasProgress))}create(){this.notificationsCenterContainer=document.createElement("div"),this.notificationsCenterContainer.classList.add("notifications-center"),this.notificationsCenterHeader=document.createElement("div"),this.notificationsCenterHeader.classList.add("notifications-center-header"),this.notificationsCenterContainer.appendChild(this.notificationsCenterHeader),this.notificationsCenterTitle=document.createElement("span"),this.notificationsCenterTitle.classList.add("notifications-center-header-title"),this.notificationsCenterHeader.appendChild(this.notificationsCenterTitle);const $=document.createElement("div");$.classList.add("notifications-center-header-toolbar"),this.notificationsCenterHeader.appendChild($);const se=this._register(this.instantiationService.createInstance(Xi)),Ze=this._register(new qn.o($,{ariaLabel:(0,zt.NC)("notificationsToolbar","Notification Center Actions"),actionRunner:se}));this.clearAllAction=this._register(this.instantiationService.createInstance(Fn,Fn.ID,Fn.LABEL)),Ze.push(this.clearAllAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.clearAllAction)}),this.toggleDoNotDisturbAction=this._register(this.instantiationService.createInstance($n,$n.ID,$n.LABEL)),Ze.push(this.toggleDoNotDisturbAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.toggleDoNotDisturbAction)});const Ot=this._register(this.instantiationService.createInstance(Zn,Zn.ID,Zn.LABEL));Ze.push(Ot,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(Ot)}),this.notificationsList=this.instantiationService.createInstance(Do,this.notificationsCenterContainer,{widgetAriaLabel:(0,zt.NC)("notificationsCenterWidgetAriaLabel","Notifications Center")}),this.container.appendChild(this.notificationsCenterContainer)}getKeybindingLabel($){const se=this.keybindingService.lookupKeybinding($.id);return se?se.getLabel():null}onDidChangeNotification($){if(!this._isVisible)return;let se=!1;const[Ze,Ot]=(0,Ta.a)(this.notificationsList,this.notificationsCenterContainer);switch($.kind){case 0:Ze.updateNotificationsList($.index,0,[$.item]),$.item.updateVisibility(!0);break;case 1:switch($.detail){case 2:Ze.updateNotificationsList($.index,1,[$.item]);break;case 1:$.item.expanded&&Ze.updateNotificationHeight($.item)}break;case 2:Ze.updateNotificationsList($.index,1,[$.item]);break;case 3:se=(0,De.jg)(document.activeElement,Ot),Ze.updateNotificationsList($.index,1),$.item.updateVisibility(!1)}this.updateTitle(),0===this.model.notifications.length&&(this.hide(),se&&this.editorGroupService.activeGroup.focus())}hide(){if(!this._isVisible||!this.notificationsCenterContainer||!this.notificationsList)return;const $=(0,De.jg)(document.activeElement,this.notificationsCenterContainer);this._isVisible=!1,this.notificationsCenterContainer.classList.remove("visible"),this.notificationsList.hide(),this.model.notifications.forEach(se=>se.updateVisibility(!1)),this.notificationsCenterVisibleContextKey.set(!1),this._onDidChangeVisibility.fire(),$&&this.editorGroupService.activeGroup.focus()}updateStyles(){if(this.notificationsCenterContainer&&this.notificationsCenterHeader){const $=this.getColor(kn.rh);this.notificationsCenterContainer.style.boxShadow=$?`0 0 8px 2px ${$}`:"";const se=this.getColor(za);this.notificationsCenterContainer.style.border=se?`1px solid ${se}`:"";const Ze=this.getColor(qa);this.notificationsCenterHeader.style.color=Ze?Ze.toString():"";const Ot=this.getColor(Mr);this.notificationsCenterHeader.style.background=Ot?Ot.toString():""}}layout($){if(this.workbenchDimensions=$,this._isVisible&&this.notificationsCenterContainer){const se=Ed.MAX_DIMENSIONS.width,Ze=Ed.MAX_DIMENSIONS.height;let Ot=se,zn=Ze;this.workbenchDimensions&&(Ot=this.workbenchDimensions.width,Ot-=16,zn=this.workbenchDimensions.height-35,this.layoutService.isVisible("workbench.parts.statusbar")&&(zn-=22),this.layoutService.isVisible("workbench.parts.titlebar")&&(zn-=22),zn-=24),(0,qs.cW)(this.notificationsList).layout(Math.min(se,Ot),Math.min(Ze,zn))}}clearAll(){this.hide();for(const $ of[...this.model.notifications])$.hasProgress||$.close()}};Ho.MAX_DIMENSIONS=new De.Ro(450,400),Ho=(0,te._)([(0,te.a)(2,rs.XE),(0,te.a)(3,Ys.TG),(0,te.a)(4,co),(0,te.a)(5,Cs.i6),(0,te.a)(6,An.b),(0,te.a)(7,ji.d),(0,te.a)(8,Et.lT)],Ho),(0,rs.Ic)((ot,$)=>{const se=ot.getColor(_l);se&&$.addRule(`.monaco-workbench > .notifications-center .notifications-list-container .monaco-list-row[data-last-element="false"] > .notification-list-item { border-bottom: 1px solid ${se}; }`)});class Is extends Vt.JT{constructor($){super(),this.model=$;for(const se of $.notifications)this.triggerAriaAlert(se);this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification($=>this.onDidChangeNotification($)))}onDidChangeNotification($){0===$.kind&&(this.triggerAriaAlert($.item),$.item.severity===Et.zb.Error&&($.item.message.original instanceof Error?console.error($.item.message.original):console.error((0,ds.y)($.item.message.linkedText.toString(),!0))))}triggerAriaAlert($){if($.silent)return;const se=$.onDidChangeContent(Ze=>{1===Ze.kind&&this.doTriggerAriaAlert($)});yr.ju.once($.onDidClose)(()=>se.dispose()),this.doTriggerAriaAlert($)}doTriggerAriaAlert($){let se;se=$.severity===Et.zb.Error?(0,zt.NC)("alertErrorMessage","Error: {0}",$.message.linkedText.toString()):$.severity===Et.zb.Warning?(0,zt.NC)("alertWarningMessage","Warning: {0}",$.message.linkedText.toString()):(0,zt.NC)("alertInfoMessage","Info: {0}",$.message.linkedText.toString()),(0,ta.Z9)(se)}}function ys(ot){const $=ot.invokeFunction(zn=>zn.get(ki.F)).container,se=ot.invokeFunction(zn=>zn.get(Et.lT)).model,Ze=ot.createInstance(Ho,$,se),Ot=ot.createInstance(Yo,$,se);ot.createInstance(Is,se),ot.createInstance(ol),function X(ot,$,se){function Ze(zn,ri){if(fs(ri))return ri;const Di=zn.lastFocusedList;if(Di instanceof ea.ev){const Oi=Di.getFocusedElements()[0];if(fs(Oi))return Oi}}Tr.W.registerCommandAndKeybindingRule({id:oa,weight:250,when:ga,primary:9,handler:zn=>{const ri=zn.get(Wa.b);for(const Di of se.notifications)Di.visible&&ri.publicLog2("notification:hide",Pr(Di.message.original,Di.sourceId,Di.silent));ot.hide()}}),Tr.W.registerCommandAndKeybindingRule({id:r,weight:200,when:Br,primary:20,mac:{primary:2049},handler:(zn,ri)=>{const Di=Ze(zn.get(ea.Lw),ri);Di&&!Di.hasProgress&&Di.close()}}),Tr.W.registerCommandAndKeybindingRule({id:Wt,weight:200,when:Br,primary:17,handler:(zn,ri)=>{const Di=Ze(zn.get(ea.Lw),ri);Di&&Di.expand()}}),Tr.W.registerCommandAndKeybindingRule({id:rl,weight:200,when:Br,primary:15,handler:(zn,ri)=>{const Di=Ze(zn.get(ea.Lw),ri);Di&&Di.collapse()}}),Tr.W.registerCommandAndKeybindingRule({id:"notification.toggle",weight:200,when:Br,primary:10,secondary:[3],handler:zn=>{const ri=Ze(zn.get(ea.Lw));ri&&ri.toggle()}}),Tr.W.registerKeybindingRule({id:vl,weight:150,when:Zr,primary:9}),Tr.W.registerKeybindingRule({id:vl,weight:300,when:Cs.Ao.and(Zr,Br),primary:9}),Tr.W.registerCommandAndKeybindingRule({id:"notifications.focusNextToast",weight:200,when:Cs.Ao.and(Br,Zr),primary:18,handler:zn=>{$.focusNext()}}),Tr.W.registerCommandAndKeybindingRule({id:"notifications.focusPreviousToast",weight:200,when:Cs.Ao.and(Br,Zr),primary:16,handler:zn=>{$.focusPrevious()}}),Tr.W.registerCommandAndKeybindingRule({id:"notifications.focusFirstToast",weight:200,when:Cs.Ao.and(Br,Zr),primary:11,secondary:[14],handler:zn=>{$.focusFirst()}}),Tr.W.registerCommandAndKeybindingRule({id:"notifications.focusLastToast",weight:200,when:Cs.Ao.and(Br,Zr),primary:12,secondary:[13],handler:zn=>{$.focusLast()}});const Ot={value:(0,zt.NC)("notifications","Notifications"),original:"Notifications"};bs.BH.appendMenuItem(bs.eH.CommandPalette,{command:{id:"notifications.showList",title:{value:(0,zt.NC)("showNotifications","Show Notifications"),original:"Show Notifications"},category:Ot}}),bs.BH.appendMenuItem(bs.eH.CommandPalette,{command:{id:oa,title:{value:(0,zt.NC)("hideNotifications","Hide Notifications"),original:"Hide Notifications"},category:Ot},when:ga}),bs.BH.appendMenuItem(bs.eH.CommandPalette,{command:{id:I,title:{value:(0,zt.NC)("clearAllNotifications","Clear All Notifications"),original:"Clear All Notifications"},category:Ot}}),bs.BH.appendMenuItem(bs.eH.CommandPalette,{command:{id:B,title:{value:(0,zt.NC)("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),original:"Toggle Do Not Disturb Mode"},category:Ot}}),bs.BH.appendMenuItem(bs.eH.CommandPalette,{command:{id:"notifications.focusToasts",title:{value:(0,zt.NC)("focusNotificationToasts","Focus Notification Toast"),original:"Focus Notification Toast"},category:Ot},when:Zr})}(Ze,Ot,se),Ot.layout((0,De.D6)($)),ot.createInstance(Ri)}function Ss(ot){return Vo(ys),{[Et.lT.toString()]:new Ji.M(is),...Jr(ot)}}var pr=e(48648);class Wd extends Vt.JT{constructor(){super(...arguments),this.dialogs=[],this._onWillShowDialog=this._register(new te.E),this.onWillShowDialog=this._onWillShowDialog.event,this._onDidShowDialog=this._register(new te.E),this.onDidShowDialog=this._onDidShowDialog.event}show($){const se=new pr.CR,Ze={args:$,close:Ot=>{this.dialogs.splice(0,1),se.complete(Ot),this._onDidShowDialog.fire()}};return this.dialogs.push(Ze),this._onWillShowDialog.fire(),{item:Ze,result:se.p}}}let al=class extends Vt.JT{constructor($,se){super(),this.environmentService=$,this.logService=se,this.model=this._register(new Wd),this.onWillShowDialog=this.model.onWillShowDialog,this.onDidShowDialog=this.model.onDidShowDialog}skipDialogs(){return!(!this.environmentService.isExtensionDevelopment||!this.environmentService.extensionTestsLocationURI)||!!this.environmentService.enableSmokeTestDriver}confirm($){var se=this;return(0,Xo.Z)(function*(){return se.skipDialogs()?(se.logService.trace("DialogService: refused to show confirmation dialog in tests."),{confirmed:!0}):yield se.model.show({confirmArgs:{confirmation:$}}).result})()}show($,se,Ze,Ot){var zn=this;return(0,Xo.Z)(function*(){if(zn.skipDialogs())throw new Error("DialogService: refused to show dialog in tests.");return yield zn.model.show({showArgs:{severity:$,message:se,buttons:Ze,options:Ot}}).result})()}input($,se,Ze,Ot,zn){var ri=this;return(0,Xo.Z)(function*(){if(ri.skipDialogs())throw new Error("DialogService: refused to show input dialog in tests.");return yield ri.model.show({inputArgs:{severity:$,message:se,buttons:Ze,inputs:Ot,options:zn}}).result})()}about(){var $=this;return(0,Xo.Z)(function*(){if($.skipDialogs())throw new Error("DialogService: refused to show about dialog in tests.");yield $.model.show({}).result})()}};function bl(ot){ot.createInstance(Ri)}function Ol(ot){return Vo(bl),{[Ns.S.toString()]:new Ji.M(al),...Jr(ot)}}al=(0,te._)([(0,te.a)(0,An.j),(0,te.a)(1,Ti.VZ)],al),pe.IO.initialize({...function Za(ot){return{...Ss(ot),...Ol(ot)}}(document.body)}),function ya(ot,$,se){const Ze=self,Ot={basePath:$,workerPath:ot,workerOptions:{type:se?"module":"classic"}};Ze.MonacoEnvironment||(Ze.MonacoEnvironment={workerOverrideGlobals:Ot}),Ze.MonacoEnvironment.getWorker=(ri,Di)=>{console.log("getWorker: workerId: "+ri+" label: "+Di);const Oi=(qi,xo,zo,cr)=>{qi.workerOptions.name=xo;const ma=`${qi.workerPath}/${"module"===qi.workerOptions.type?`${zo}-es.js`:`${zo}-iife.js`}`,pa=new URL(ma,qi.basePath);return console.log(`${cr}: url: ${pa.href} created from basePath: ${qi.basePath} and file: ${ma}`),new Worker(pa.href,qi.workerOptions)};switch(Di){case"typescript":case"javascript":return Oi(Ot,Di,"tsWorker","TS Worker");case"html":case"handlebars":case"razor":return Oi(Ot,Di,"htmlWorker","HTML Worker");case"css":case"scss":case"less":return Oi(Ot,Di,"cssWorker","CSS Worker");case"json":return Oi(Ot,Di,"jsonWorker","JSON Worker");default:return Oi(Ot,Di,"editorWorker","Editor Worker")}}}("./assets/monaco-editor-workers/workers",window.location.href+"../..",!1),Go.languages.register({id:"dyvil",aliases:["Dyvil"],extensions:[".dyv"]}),Go.languages.setMonarchTokensProvider("dyvil",{keywords:"class|var|init|func|true|false|this|super".split("|"),typeKeywords:["boolean","int","void","string"],operators:/[+\-*/%&|<>!:^=]+/,escapes:/\\./,tokenizer:{root:[[/[a-z][A-Za-z0-9_]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][A-Za-z0-9_]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@operators/,"operator"],[/[+-]?\d+\.\d+/,"number.float"],[/[+-]?\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}});const kl=["container"];class ll{constructor(){this.language="dyvil",this.codeChanged=new n.vpe}ngAfterViewInit(){var $=this;return(0,Xo.Z)(function*(){if($.editor=Go.editor.create($.container.nativeElement,{value:$.code,language:$.language,theme:"vs-dark",glyphMargin:!0,lightbulb:{enabled:!0},automaticLayout:!0}),$.editor.onDidChangeModelContent(()=>{$.editor&&$.codeChanged.next($.editor.getValue())}),"dyvil"===$.language){Ui.install(),$.worker=new Worker(e.tu(new URL(e.p+e.u(433),e.b)));const Ze=new Xs.BrowserMessageReader($.worker),Ot=new Xs.BrowserMessageWriter($.worker);$.lspClient=function ud(ot){return new Ks({name:"Dyvil Language Client",clientOptions:{documentSelector:[{language:"dyvil"}],errorHandler:{error:()=>({action:zs._X.Continue}),closed:()=>({action:zs.UY.DoNotRestart})}},connectionProvider:{get:()=>Promise.resolve(ot)}})}({reader:Ze,writer:Ot}),$.lspClient.start(),Ze.onClose(()=>$.lspClient?.stop())}})()}ngOnChanges($){$.code&&this.editor?.setValue($.code.currentValue)}ngOnDestroy(){var $=this;return(0,Xo.Z)(function*(){$.editor?.dispose(),yield $.lspClient?.stop(),$.worker?.terminate()})()}}ll.\u0275fac=function($){return new($||ll)},ll.\u0275cmp=n.Xpm({type:ll,selectors:[["stc-editor"]],viewQuery:function($,se){if(1&$&&n.Gf(kl,7),2&$){let Ze;n.iGM(Ze=n.CRH())&&(se.container=Ze.first)}},inputs:{language:"language",code:"code"},outputs:{codeChanged:"codeChanged"},features:[n.TTD],decls:2,vars:0,consts:[[2,"height","100vh"],["container",""]],template:function($,se){1&$&&n._UZ(0,"div",0,1)}});const Fl=["editor"];class dl{constructor(){this.code="",this.compiled="class Foo {}",this.compile$=new ar.x}ngOnInit(){var $=this;return(0,Xo.Z)(function*(){$.code=yield fetch("/assets/examples/Greeter.dyv").then(Ze=>Ze.text()),$.compile$.pipe(function Ms(ot,$=xs){return(0,Gs.e)((se,Ze)=>{let Ot=null,zn=null,ri=null;const Di=()=>{if(Ot){Ot.unsubscribe(),Ot=null;const qi=zn;zn=null,Ze.next(qi)}};function Oi(){const qi=ri+ot,xo=$.now();if(xo<qi)return Ot=this.schedule(void 0,qi-xo),void Ze.add(Ot);Di()}se.subscribe((0,E.x)(Ze,qi=>{zn=qi,ri=$.now(),Ot||(Ot=$.schedule(Oi,ot),Ze.add(Ot))},()=>{Di(),Ze.complete()},void 0,()=>{zn=Ot=null}))})}(400)).subscribe(Ze=>{$.compile(Ze).then(Ot=>$.compiled=Ot)}),$.worker=new Worker(e.tu(new URL(e.p+e.u(702),e.b)))})()}compile($){var se=this;return(0,Xo.Z)(function*(){return new Promise((Ze,Ot)=>{!se.worker||(se.worker.postMessage({compile:$}),se.worker.addEventListener("message",zn=>{const ri=zn.data.compiled;ri&&Ze(ri)}))})})()}}dl.\u0275fac=function($){return new($||dl)},dl.\u0275cmp=n.Xpm({type:dl,selectors:[["stc-playground"]],viewQuery:function($,se){if(1&$&&n.Gf(Fl,7),2&$){let Ze;n.iGM(Ze=n.CRH())&&(se.editor=Ze.first)}},decls:4,vars:2,consts:[[2,"display","flex"],[2,"width","50%",3,"code","codeChanged"],["editor",""],["language","javascript",2,"width","50%",3,"code"]],template:function($,se){1&$&&(n.TgZ(0,"div",0)(1,"stc-editor",1,2),n.NdJ("codeChanged",function(Ot){return se.compile$.next(Ot)}),n.qZA(),n._UZ(3,"stc-editor",3),n.qZA()),2&$&&(n.xp6(1),n.Q6J("code",se.code),n.xp6(2),n.Q6J("code",se.compiled))},dependencies:[ll]});const yl=[{path:"",component:dl}];class Aa{}Aa.\u0275fac=function($){return new($||Aa)},Aa.\u0275mod=n.oAB({type:Aa}),Aa.\u0275inj=n.cJS({imports:[rr.Bz.forChild(yl),rr.Bz]});class Pa{}Pa.\u0275fac=function($){return new($||Pa)},Pa.\u0275mod=n.oAB({type:Pa}),Pa.\u0275inj=n.cJS({imports:[d.ez,_o,Aa]})},28982:Dt=>{"use strict";function Y(n,l,S){n instanceof RegExp&&(n=e(n,S)),l instanceof RegExp&&(l=e(l,S));var v=d(n,l,S);return v&&{start:v[0],end:v[1],pre:S.slice(0,v[0]),body:S.slice(v[0]+n.length,v[1]),post:S.slice(v[1]+l.length)}}function e(n,l){var S=l.match(n);return S?S[0]:null}function d(n,l,S){var v,T,C,E,L,_=S.indexOf(n),s=S.indexOf(l,_+1),m=_;if(_>=0&&s>0){if(n===l)return[_,s];for(v=[],C=S.length;m>=0&&!L;)m==_?(v.push(m),_=S.indexOf(n,m+1)):1==v.length?L=[v.pop(),s]:((T=v.pop())<C&&(C=T,E=s),s=S.indexOf(l,m+1)),m=_<s&&_>=0?_:s;v.length&&(L=[C,E])}return L}Dt.exports=Y,Y.range=d},7238:(Dt,Y,e)=>{var d=e(44327),n=e(28982);Dt.exports=function m(b){return b?("{}"===b.substr(0,2)&&(b="\\{\\}"+b.substr(2)),g(function L(b){return b.split("\\\\").join(l).split("\\{").join(S).split("\\}").join(v).split("\\,").join(T).split("\\.").join(C)}(b),!0).map(_)):[]};var l="\0SLASH"+Math.random()+"\0",S="\0OPEN"+Math.random()+"\0",v="\0CLOSE"+Math.random()+"\0",T="\0COMMA"+Math.random()+"\0",C="\0PERIOD"+Math.random()+"\0";function E(b){return parseInt(b,10)==b?parseInt(b,10):b.charCodeAt(0)}function _(b){return b.split(l).join("\\").split(S).join("{").split(v).join("}").split(T).join(",").split(C).join(".")}function s(b){if(!b)return[""];var y=[],w=n("{","}",b);if(!w)return b.split(",");var x=w.body,P=w.post,O=w.pre.split(",");O[O.length-1]+="{"+x+"}";var V=s(P);return P.length&&(O[O.length-1]+=V.shift(),O.push.apply(O,V)),y.push.apply(y,O),y}function t(b){return"{"+b+"}"}function a(b){return/^-?0\d/.test(b)}function p(b,y){return b<=y}function u(b,y){return b>=y}function g(b,y){var w=[],D=n("{","}",b);if(!D||/\$$/.test(D.pre))return[b];var H,x=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(D.body),P=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(D.body),O=x||P,V=D.body.indexOf(",")>=0;if(!O&&!V)return D.post.match(/,.*\}/)?g(b=D.pre+"{"+D.body+v+D.post):[b];if(O)H=D.body.split(/\.\./);else if(1===(H=s(D.body)).length&&1===(H=g(H[0],!1).map(t)).length)return(k=D.post.length?g(D.post,!1):[""]).map(function(Ie){return D.pre+H[0]+Ie});var F,z=D.pre,k=D.post.length?g(D.post,!1):[""];if(O){var j=E(H[0]),K=E(H[1]),U=Math.max(H[0].length,H[1].length),ne=3==H.length?Math.abs(E(H[2])):1,N=p;K<j&&(ne*=-1,N=u);var Z=H.some(a);F=[];for(var ge=j;N(ge,K);ge+=ne){var M;if(P)"\\"===(M=String.fromCharCode(ge))&&(M="");else if(M=String(ge),Z){var we=U-M.length;if(we>0){var Ee=new Array(we+1).join("0");M=ge<0?"-"+Ee+M.slice(1):Ee+M}}F.push(M)}}else F=d(H,function(Se){return g(Se,!1)});for(var xe=0;xe<F.length;xe++)for(var Ne=0;Ne<k.length;Ne++){var oe=z+F[xe]+k[Ne];(!y||O||oe)&&w.push(oe)}return w}},44327:Dt=>{Dt.exports=function(e,d){for(var n=[],l=0;l<e.length;l++){var S=d(e[l],l);Y(S)?n.push.apply(n,S):n.push(S)}return n};var Y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},22521:Dt=>{"use strict";Dt.exports=function(Y){var e=[];return e.toString=function(){return this.map(function(n){var l="",S=typeof n[5]<"u";return n[4]&&(l+="@supports (".concat(n[4],") {")),n[2]&&(l+="@media ".concat(n[2]," {")),S&&(l+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),l+=Y(n),S&&(l+="}"),n[2]&&(l+="}"),n[4]&&(l+="}"),l}).join("")},e.i=function(n,l,S,v,T){"string"==typeof n&&(n=[[null,n,void 0]]);var C={};if(S)for(var E=0;E<this.length;E++){var L=this[E][0];null!=L&&(C[L]=!0)}for(var _=0;_<n.length;_++){var s=[].concat(n[_]);S&&C[s[0]]||(typeof T<"u"&&(typeof s[5]>"u"||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=T),l&&(s[2]&&(s[1]="@media ".concat(s[2]," {").concat(s[1],"}")),s[2]=l),v&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=v):s[4]="".concat(v)),e.push(s))}},e}},35887:Dt=>{"use strict";Dt.exports=function(Y){return Y[1]}},34916:(Dt,Y,e)=>{Dt.exports=t,t.Minimatch=a;var d=function(){try{return e(15289)}catch{}}()||{sep:"/"};t.sep=d.sep;var n=t.GLOBSTAR=a.GLOBSTAR={},l=e(7238),S={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},v="[^/]",T=v+"*?",L=function _(V){return V.split("").reduce(function(H,z){return H[z]=!0,H},{})}("().*{}+?[]^$\\!"),s=/\/+/;function c(V,H){H=H||{};var z={};return Object.keys(V).forEach(function(k){z[k]=V[k]}),Object.keys(H).forEach(function(k){z[k]=H[k]}),z}function t(V,H,z){return y(H),z||(z={}),!(!z.nocomment&&"#"===H.charAt(0))&&new a(H,z).match(V)}function a(V,H){if(!(this instanceof a))return new a(V,H);y(V),H||(H={}),V=V.trim(),!H.allowWindowsEscape&&"/"!==d.sep&&(V=V.split(d.sep).join("/")),this.options=H,this.set=[],this.pattern=V,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!H.partial,this.make()}function g(V,H){return H||(H=this instanceof a?this.options:{}),y(V=typeof V>"u"?this.pattern:V),H.nobrace||!/\{(?:(?!\{).)*\}/.test(V)?[V]:l(V)}t.filter=function m(V,H){return H=H||{},function(z,k,F){return t(z,V,H)}},t.defaults=function(V){if(!V||"object"!=typeof V||!Object.keys(V).length)return t;var H=t,z=function(F,j,K){return H(F,j,c(V,K))};return(z.Minimatch=function(F,j){return new H.Minimatch(F,c(V,j))}).defaults=function(F){return H.defaults(c(V,F)).Minimatch},z.filter=function(F,j){return H.filter(F,c(V,j))},z.defaults=function(F){return H.defaults(c(V,F))},z.makeRe=function(F,j){return H.makeRe(F,c(V,j))},z.braceExpand=function(F,j){return H.braceExpand(F,c(V,j))},z.match=function(k,F,j){return H.match(k,F,c(V,j))},z},a.defaults=function(V){return t.defaults(V).Minimatch},a.prototype.debug=function(){},a.prototype.make=function p(){var V=this.pattern,H=this.options;if(H.nocomment||"#"!==V.charAt(0))if(V){this.parseNegate();var z=this.globSet=this.braceExpand();H.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,z),z=this.globParts=z.map(function(k){return k.split(s)}),this.debug(this.pattern,z),z=z.map(function(k,F,j){return k.map(this.parse,this)},this),this.debug(this.pattern,z),z=z.filter(function(k){return-1===k.indexOf(!1)}),this.debug(this.pattern,z),this.set=z}else this.empty=!0;else this.comment=!0},a.prototype.parseNegate=function u(){var V=this.pattern,H=!1,k=0;if(!this.options.nonegate){for(var F=0,j=V.length;F<j&&"!"===V.charAt(F);F++)H=!H,k++;k&&(this.pattern=V.substr(k)),this.negate=H}},t.braceExpand=function(V,H){return g(V,H)},a.prototype.braceExpand=g;var y=function(V){if("string"!=typeof V)throw new TypeError("invalid pattern");if(V.length>65536)throw new TypeError("pattern is too long")};a.prototype.parse=function D(V,H){y(V);var z=this.options;if("**"===V){if(!z.noglobstar)return n;V="*"}if(""===V)return"";var ne,k="",F=!!z.nocase,j=!1,K=[],U=[],N=!1,W=-1,Z=-1,ge="."===V.charAt(0)?"":z.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",M=this;function we(){if(ne){switch(ne){case"*":k+=T,F=!0;break;case"?":k+=v,F=!0;break;default:k+="\\"+ne}M.debug("clearStateChar %j %j",ne,k),ne=!1}}for(var Ne,Ee=0,xe=V.length;Ee<xe&&(Ne=V.charAt(Ee));Ee++)if(this.debug("%s\t%s %s %j",V,Ee,k,Ne),j&&L[Ne])k+="\\"+Ne,j=!1;else switch(Ne){case"/":return!1;case"\\":we(),j=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",V,Ee,k,Ne),N){this.debug("  in class"),"!"===Ne&&Ee===Z+1&&(Ne="^"),k+=Ne;continue}M.debug("call clearStateChar %j",ne),we(),ne=Ne,z.noext&&we();continue;case"(":if(N){k+="(";continue}if(!ne){k+="\\(";continue}K.push({type:ne,start:Ee-1,reStart:k.length,open:S[ne].open,close:S[ne].close}),this.debug("plType %j %j",ne,k+="!"===ne?"(?:(?!(?:":"(?:"),ne=!1;continue;case")":if(N||!K.length){k+="\\)";continue}we(),F=!0;var oe=K.pop();k+=oe.close,"!"===oe.type&&U.push(oe),oe.reEnd=k.length;continue;case"|":if(N||!K.length||j){k+="\\|",j=!1;continue}we(),k+="|";continue;case"[":if(we(),N){k+="\\"+Ne;continue}N=!0,Z=Ee,W=k.length,k+=Ne;continue;case"]":if(Ee===Z+1||!N){k+="\\"+Ne,j=!1;continue}var Se=V.substring(Z+1,Ee);try{RegExp("["+Se+"]")}catch{var Ie=this.parse(Se,w);k=k.substr(0,W)+"\\["+Ie[0]+"\\]",F=F||Ie[1],N=!1;continue}F=!0,N=!1,k+=Ne;continue;default:we(),j?j=!1:L[Ne]&&!("^"===Ne&&N)&&(k+="\\"),k+=Ne}for(N&&(Se=V.substr(Z+1),Ie=this.parse(Se,w),k=k.substr(0,W)+"\\["+Ie[0],F=F||Ie[1]),oe=K.pop();oe;oe=K.pop()){var me=k.slice(oe.reStart+oe.open.length);this.debug("setting tail",k,oe),me=me.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(le,Q,Ce){return Ce||(Ce="\\"),Q+Q+Ce+"|"}),this.debug("tail=%j\n   %s",me,me,oe,k);var Me="*"===oe.type?T:"?"===oe.type?v:"\\"+oe.type;F=!0,k=k.slice(0,oe.reStart)+Me+"\\("+me}we(),j&&(k+="\\\\");var de=!1;switch(k.charAt(0)){case"[":case".":case"(":de=!0}for(var ke=U.length-1;ke>-1;ke--){var Ue=U[ke],ze=k.slice(0,Ue.reStart),ce=k.slice(Ue.reStart,Ue.reEnd-8),Ve=k.slice(Ue.reEnd-8,Ue.reEnd),tt=k.slice(Ue.reEnd);Ve+=tt;var Ct=ze.split("(").length-1,Lt=tt;for(Ee=0;Ee<Ct;Ee++)Lt=Lt.replace(/\)[+*?]?/,"");var $e="";""===(tt=Lt)&&H!==w&&($e="$"),k=ze+ce+tt+$e+Ve}if(""!==k&&F&&(k="(?=.)"+k),de&&(k=ge+k),H===w)return[k,F];if(!F)return function P(V){return V.replace(/\\(.)/g,"$1")}(V);var ve=z.nocase?"i":"";try{var he=new RegExp("^"+k+"$",ve)}catch{return new RegExp("$.")}return he._glob=V,he._src=k,he};var w={};t.makeRe=function(V,H){return new a(V,H||{}).makeRe()},a.prototype.makeRe=function x(){if(this.regexp||!1===this.regexp)return this.regexp;var V=this.set;if(!V.length)return this.regexp=!1,this.regexp;var H=this.options,z=H.noglobstar?T:H.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",k=H.nocase?"i":"",F=V.map(function(j){return j.map(function(K){return K===n?z:"string"==typeof K?function O(V){return V.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(K):K._src}).join("\\/")}).join("|");F="^(?:"+F+")$",this.negate&&(F="^(?!"+F+").*$");try{this.regexp=new RegExp(F,k)}catch{this.regexp=!1}return this.regexp},t.match=function(V,H,z){var k=new a(H,z=z||{});return V=V.filter(function(F){return k.match(F)}),k.options.nonull&&!V.length&&V.push(H),V},a.prototype.match=function(H,z){if(typeof z>"u"&&(z=this.partial),this.debug("match",H,this.pattern),this.comment)return!1;if(this.empty)return""===H;if("/"===H&&z)return!0;var k=this.options;"/"!==d.sep&&(H=H.split(d.sep).join("/")),H=H.split(s),this.debug(this.pattern,"split",H);var j,K,F=this.set;for(this.debug(this.pattern,"set",F),K=H.length-1;K>=0&&!(j=H[K]);K--);for(K=0;K<F.length;K++){var U=F[K],ne=H;if(k.matchBase&&1===U.length&&(ne=[j]),this.matchOne(ne,U,z))return!!k.flipNegate||!this.negate}return!k.flipNegate&&this.negate},a.prototype.matchOne=function(V,H,z){var k=this.options;this.debug("matchOne",{this:this,file:V,pattern:H}),this.debug("matchOne",V.length,H.length);for(var F=0,j=0,K=V.length,U=H.length;F<K&&j<U;F++,j++){this.debug("matchOne loop");var M,ne=H[j],N=V[F];if(this.debug(H,ne,N),!1===ne)return!1;if(ne===n){this.debug("GLOBSTAR",[H,ne,N]);var W=F,Z=j+1;if(Z===U){for(this.debug("** at the end");F<K;F++)if("."===V[F]||".."===V[F]||!k.dot&&"."===V[F].charAt(0))return!1;return!0}for(;W<K;){var ge=V[W];if(this.debug("\nglobstar while",V,W,H,Z,ge),this.matchOne(V.slice(W),H.slice(Z),z))return this.debug("globstar found match!",W,K,ge),!0;if("."===ge||".."===ge||!k.dot&&"."===ge.charAt(0)){this.debug("dot detected!",V,W,H,Z);break}this.debug("globstar swallow a segment, and continue"),W++}return!(!z||(this.debug("\n>>> no match, partial?",V,W,H,Z),W!==K))}if("string"==typeof ne?this.debug("string match",ne,N,M=N===ne):(M=N.match(ne),this.debug("pattern match",ne,N,M)),!M)return!1}if(F===K&&j===U)return!0;if(F===K)return z;if(j===U)return F===K-1&&""===V[F];throw new Error("wtf?")}},89982:(Dt,Y,e)=>{var d;self.MonacoEnvironment=(d={editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js"},{globalAPI:!1,getWorkerUrl:function(l,S){var T=function n(l){return l.replace(/\/$/,"")}("/")+"/"+d[S];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(T)){var C=String(window.location),E=C.substr(0,C.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(T.substring(0,E.length)!==E){/^(\/\/)/.test(T)&&(T=window.location.protocol+T);var _=new Blob(["/*"+S+'*/importScripts("'+T+'");'],{type:"application/javascript"});return URL.createObjectURL(_)}}return T}}),e(70748),e(76924),e(8902),e(41442),e(84564),e(61888),e(84783),e(25583),e(43351),e(63175),e(53178),e(89427),e(98590),e(44266),e(77993),e(70466),e(32402),e(88014),e(87145),e(7150),e(56628),e(98674),e(5429),e(21021),e(75446),e(39610),e(50295),e(29406),e(1182),e(77906),e(56806),e(23414),e(12039),e(66564),e(52610),e(76224),e(57714),e(69066),e(16763),e(49976),e(1706),e(31257),e(14175),e(35108),e(34465),e(31583),e(32638),e(69207),e(99401),e(78746),e(92047),e(9192),e(57436),e(59525),e(51337),e(45505),e(20940),e(74999),Dt.exports=e(21955),e(93213),e(811),e(76746)},37428:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{PixelRatio:()=>E,addMatchMediaChangeListener:()=>C,getZoomFactor:()=>L,isAndroid:()=>u,isChrome:()=>c,isElectron:()=>p,isFirefox:()=>s,isSafari:()=>t,isStandalone:()=>b,isWebKit:()=>m,isWebkitWebView:()=>a});var d=e(3778),n=e(80142);class l{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}l.INSTANCE=new l;class S extends n.JT{constructor(){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(w){var D;null===(D=this._mediaQueryList)||void 0===D||D.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),w&&this._onDidChange.fire()}}class v extends n.JT{constructor(){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const w=this._register(new S);this._register(w.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const w=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1)}}function C(y,w){"string"==typeof y&&(y=window.matchMedia(y)),y.addEventListener("change",w)}const E=new class T{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,n.dk)(new v)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function L(){return l.INSTANCE.getZoomFactor()}const _=navigator.userAgent,s=_.indexOf("Firefox")>=0,m=_.indexOf("AppleWebKit")>=0,c=_.indexOf("Chrome")>=0,t=!c&&_.indexOf("Safari")>=0,a=!c&&!t&&m,p=_.indexOf("Electron/")>=0,u=_.indexOf("Android")>=0;let g=!1;if(window.matchMedia){const y=window.matchMedia("(display-mode: standalone)");g=y.matches,C(y,({matches:w})=>{g=w})}function b(){return g}},15278:(Dt,Y,e)=>{"use strict";e.d(Y,{D:()=>l});var d=e(37428),n=e(8841);const l={clipboard:{writeText:n.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:n.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:n.tY||d.isStandalone()?0:navigator.keyboard||d.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},67719:(Dt,Y,e)=>{"use strict";e.d(Y,{P:()=>l,g:()=>n});const n={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:e(34189).v.text},l={CurrentDragAndDropData:void 0}},98463:(Dt,Y,e)=>{"use strict";e.d(Y,{$:()=>st,$Z:()=>qe,Ay:()=>Ie,Ce:()=>le,Cp:()=>Qe,D6:()=>k,DI:()=>W,Dx:()=>z,FK:()=>ge,Fx:()=>xe,GQ:()=>g,H$:()=>et,I8:()=>N,IC:()=>D,If:()=>M,OO:()=>Se,PO:()=>s,R3:()=>he,Re:()=>Ve,Ro:()=>j,Uh:()=>vt,Uw:()=>m,V3:()=>mt,_0:()=>$e,_F:()=>Ke,_h:()=>Bt,_q:()=>ht,dS:()=>Me,dp:()=>U,eg:()=>jt,fk:()=>ze,go:()=>ve,i:()=>ne,jL:()=>V,jg:()=>Ee,jt:()=>_t,lI:()=>O,mc:()=>Q,mu:()=>u,nm:()=>t,tw:()=>tt,uN:()=>ce,uU:()=>Ne,vL:()=>Lt,vY:()=>me,w:()=>Z,wY:()=>$t,wn:()=>we,xQ:()=>K,zB:()=>Ct});var d=e(37428),n=e(15278),l=e(41140),S=e(97340),v=e(4125),T=e(3778),C=e(44043),E=e(80142),L=e(59310),_=e(8841);function s(He){for(;He.firstChild;)He.firstChild.remove()}function m(He){var ye;return null!==(ye=He?.isConnected)&&void 0!==ye&&ye}class c{constructor(ye,Ae,ue,be){this._node=ye,this._type=Ae,this._handler=ue,this._options=be||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function t(He,ye,Ae,ue){return new c(He,ye,Ae,ue)}function a(He){return function(ye){return He(new S.n(ye))}}const u=function(ye,Ae,ue,be){let Je=ue;return"click"===Ae||"mousedown"===Ae?Je=a(ue):("keydown"===Ae||"keypress"===Ae||"keyup"===Ae)&&(Je=function p(He){return function(ye){return He(new l.y(ye))}}(ue)),t(ye,Ae,Je,be)},g=function(ye,Ae,ue){return function y(He,ye,Ae){return t(He,_.gn&&n.D.pointerEvents?tt.POINTER_DOWN:tt.MOUSE_DOWN,ye,Ae)}(ye,a(Ae),ue)};function D(He,ye,Ae){let ue=null;const be=bt=>nt.fire(bt),nt=new T.Q5({onFirstListenerAdd:()=>{ue||(ue=new c(He,ye,be,Ae))},onLastListenerRemove:()=>{ue&&(ue.dispose(),ue=null)}});return nt}let O,V,x=null;class H{constructor(ye,Ae=0){this._runner=ye,this.priority=Ae,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ye){(0,v.dL)(ye)}}static sort(ye,Ae){return Ae.priority-ye.priority}}function z(He){return document.defaultView.getComputedStyle(He,null)}function k(He){if(He!==document.body)return new j(He.clientWidth,He.clientHeight);if(_.gn&&window.visualViewport)return new j(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new j(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new j(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new j(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}!function(){let He=[],ye=null,Ae=!1,ue=!1;const be=()=>{for(Ae=!1,ye=He,He=[],ue=!0;ye.length>0;)ye.sort(H.sort),ye.shift().execute();ue=!1};V=(Je,Fe=0)=>{const nt=new H(Je,Fe);return He.push(nt),Ae||(Ae=!0,function P(He){if(!x){const ye=Ae=>setTimeout(()=>Ae((new Date).getTime()),0);x=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ye}x.call(self,He)}(be)),nt},O=(Je,Fe)=>{if(ue){const nt=new H(Je,Fe);return ye.push(nt),nt}return V(Je,Fe)}}();class F{static convertToPixels(ye,Ae){return parseFloat(Ae)||0}static getDimension(ye,Ae,ue){const be=z(ye);let Je="0";return be&&(Je=be.getPropertyValue?be.getPropertyValue(Ae):be.getAttribute(ue)),F.convertToPixels(ye,Je)}static getBorderLeftWidth(ye){return F.getDimension(ye,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ye){return F.getDimension(ye,"border-right-width","borderRightWidth")}static getBorderTopWidth(ye){return F.getDimension(ye,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ye){return F.getDimension(ye,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ye){return F.getDimension(ye,"padding-left","paddingLeft")}static getPaddingRight(ye){return F.getDimension(ye,"padding-right","paddingRight")}static getPaddingTop(ye){return F.getDimension(ye,"padding-top","paddingTop")}static getPaddingBottom(ye){return F.getDimension(ye,"padding-bottom","paddingBottom")}static getMarginLeft(ye){return F.getDimension(ye,"margin-left","marginLeft")}static getMarginTop(ye){return F.getDimension(ye,"margin-top","marginTop")}static getMarginRight(ye){return F.getDimension(ye,"margin-right","marginRight")}static getMarginBottom(ye){return F.getDimension(ye,"margin-bottom","marginBottom")}}class j{constructor(ye,Ae){this.width=ye,this.height=Ae}with(ye=this.width,Ae=this.height){return ye!==this.width||Ae!==this.height?new j(ye,Ae):this}static is(ye){return"object"==typeof ye&&"number"==typeof ye.height&&"number"==typeof ye.width}static lift(ye){return ye instanceof j?ye:new j(ye.width,ye.height)}static equals(ye,Ae){return ye===Ae||!(!ye||!Ae)&&ye.width===Ae.width&&ye.height===Ae.height}}function K(He){let ye=He.offsetParent,Ae=He.offsetTop,ue=He.offsetLeft;for(;null!==(He=He.parentNode)&&He!==document.body&&He!==document.documentElement;){Ae-=He.scrollTop;const be=oe(He)?null:z(He);be&&(ue-="rtl"!==be.direction?He.scrollLeft:-He.scrollLeft),He===ye&&(ue+=F.getBorderLeftWidth(He),Ae+=F.getBorderTopWidth(He),Ae+=He.offsetTop,ue+=He.offsetLeft,ye=He.offsetParent)}return{left:ue,top:Ae}}function U(He,ye,Ae){"number"==typeof ye&&(He.style.width=`${ye}px`),"number"==typeof Ae&&(He.style.height=`${Ae}px`)}function ne(He){const ye=He.getBoundingClientRect();return{left:ye.left+W.scrollX,top:ye.top+W.scrollY,width:ye.width,height:ye.height}}function N(He){let ye=He,Ae=1;do{const ue=z(ye).zoom;null!=ue&&"1"!==ue&&(Ae*=ue),ye=ye.parentElement}while(null!==ye&&ye!==document.documentElement);return Ae}j.None=new j(0,0);const W=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Z(He){const ye=F.getMarginLeft(He)+F.getMarginRight(He);return He.offsetWidth+ye}function ge(He){const ye=F.getBorderLeftWidth(He)+F.getBorderRightWidth(He),Ae=F.getPaddingLeft(He)+F.getPaddingRight(He);return He.offsetWidth-ye-Ae}function M(He){const ye=F.getBorderTopWidth(He)+F.getBorderBottomWidth(He),Ae=F.getPaddingTop(He)+F.getPaddingBottom(He);return He.offsetHeight-ye-Ae}function we(He){const ye=F.getMarginTop(He)+F.getMarginBottom(He);return He.offsetHeight+ye}function Ee(He,ye){for(;He;){if(He===ye)return!0;He=He.parentNode}return!1}function xe(He,ye,Ae){for(;He&&He.nodeType===He.ELEMENT_NODE;){if(He.classList.contains(ye))return He;if(Ae)if("string"==typeof Ae){if(He.classList.contains(Ae))return null}else if(He===Ae)return null;He=He.parentNode}return null}function Ne(He,ye,Ae){return!!xe(He,ye,Ae)}function oe(He){return He&&!!He.host&&!!He.mode}function Se(He){return!!Ie(He)}function Ie(He){for(;He.parentNode;){if(He===document.body)return null;He=He.parentNode}return oe(He)?He:null}function me(){let He=document.activeElement;for(;He?.shadowRoot;)He=He.shadowRoot.activeElement;return He}function Me(He=document.getElementsByTagName("head")[0]){const ye=document.createElement("style");return ye.type="text/css",ye.media="screen",He.appendChild(ye),ye}let de=null;function ke(){return de||(de=Me()),de}function ze(He,ye,Ae=ke()){!Ae||!ye||Ae.sheet.insertRule(He+"{"+ye+"}",0)}function ce(He,ye=ke()){if(!ye)return;const Ae=function Ue(He){var ye,Ae;return null!==(ye=He?.sheet)&&void 0!==ye&&ye.rules?He.sheet.rules:null!==(Ae=He?.sheet)&&void 0!==Ae&&Ae.cssRules?He.sheet.cssRules:[]}(ye),ue=[];for(let be=0;be<Ae.length;be++)-1!==Ae[be].selectorText.indexOf(He)&&ue.push(be);for(let be=ue.length-1;be>=0;be--)ye.sheet.deleteRule(ue[be])}function Ve(He){return"object"==typeof HTMLElement?He instanceof HTMLElement:He&&"object"==typeof He&&1===He.nodeType&&"string"==typeof He.nodeName}const tt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:d.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:d.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:d.isWebKit?"webkitAnimationIteration":"animationiteration"},Ct={stop:function(He,ye){He.preventDefault?He.preventDefault():He.returnValue=!1,ye&&(He.stopPropagation?He.stopPropagation():He.cancelBubble=!0)}};function Lt(He){const ye=[];for(let Ae=0;He&&He.nodeType===He.ELEMENT_NODE;Ae++)ye[Ae]=He.scrollTop,He=He.parentNode;return ye}function $e(He,ye){for(let Ae=0;He&&He.nodeType===He.ELEMENT_NODE;Ae++)He.scrollTop!==ye[Ae]&&(He.scrollTop=ye[Ae]),He=He.parentNode}class ae extends E.JT{constructor(ye){super(),this._onDidFocus=this._register(new T.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new T.Q5),this.onDidBlur=this._onDidBlur.event;let Ae=ae.hasFocusWithin(ye),ue=!1;const be=()=>{ue=!1,Ae||(Ae=!0,this._onDidFocus.fire())},Je=()=>{Ae&&(ue=!0,window.setTimeout(()=>{ue&&(ue=!1,Ae=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ae.hasFocusWithin(ye)!==Ae&&(Ae?Je():be())},this._register(t(ye,tt.FOCUS,be,!0)),this._register(t(ye,tt.BLUR,Je,!0)),this._register(t(ye,tt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(t(ye,tt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(ye){const Ae=Ie(ye);return Ee(Ae?Ae.activeElement:document.activeElement,ye)}}function ve(He){return new ae(He)}function he(He,...ye){if(He.append(...ye),1===ye.length&&"string"!=typeof ye[0])return ye[0]}function le(He,ye){return He.insertBefore(ye,He.firstChild),ye}function Q(He,...ye){He.innerText="",he(He,...ye)}const Ce=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Pe=(()=>{return(He=Pe||(Pe={})).HTML="http://www.w3.org/1999/xhtml",He.SVG="http://www.w3.org/2000/svg",Pe;var He})();function dt(He,ye,Ae,...ue){const be=Ce.exec(ye);if(!be)throw new Error("Bad use of emmet");Ae=Object.assign({},Ae||{});const Je=be[1]||"div";let Fe;return Fe=He!==Pe.HTML?document.createElementNS(He,Je):document.createElement(Je),be[3]&&(Fe.id=be[3]),be[4]&&(Fe.className=be[4].replace(/\./g," ").trim()),Object.keys(Ae).forEach(nt=>{const bt=Ae[nt];typeof bt>"u"||(/^on\w+$/.test(nt)?Fe[nt]=bt:"selected"===nt?bt&&Fe.setAttribute(nt,"true"):Fe.setAttribute(nt,bt))}),Fe.append(...ue),Fe}function st(He,ye,...Ae){return dt(Pe.HTML,He,ye,...Ae)}function qe(...He){for(const ye of He)ye.style.display="",ye.removeAttribute("aria-hidden")}function Qe(...He){for(const ye of He)ye.style.display="none",ye.setAttribute("aria-hidden","true")}function et(He){return Array.prototype.slice.call(document.getElementsByTagName(He),0)}function vt(He){const ye=window.devicePixelRatio*He;return Math.max(1,Math.floor(ye))/window.devicePixelRatio}function mt(He){window.open(He,"_blank","noopener")}function _t(He){const ye=()=>{He(),Ae=V(ye)};let Ae=V(ye);return(0,E.OF)(()=>Ae.dispose())}function $t(He){return He?`url('${L.Gi.asBrowserUri(He).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Bt(He){return`'${He.replace(/'/g,"%27")}'`}function Ke(He,ye=!1){const Ae=document.createElement("a");return C.v5("afterSanitizeAttributes",ue=>{for(const be of["href","src"])if(ue.hasAttribute(be)){const Je=ue.getAttribute(be);if("href"===be&&Je.startsWith("#"))continue;if(Ae.href=Je,!He.includes(Ae.protocol.replace(/:$/,""))){if(ye&&"src"===be&&Ae.href.startsWith("data:"))continue;ue.removeAttribute(be)}}}),(0,E.OF)(()=>{C.ok("afterSanitizeAttributes")})}st.SVG=function(He,ye,...Ae){return dt(Pe.SVG,He,ye,...Ae)},L.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class ht extends T.Q5{constructor(){super(),this._subscriptions=new E.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(t(window,"keydown",ye=>{if(ye.defaultPrevented)return;const Ae=new l.y(ye);if(6!==Ae.keyCode||!ye.repeat){if(ye.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ye.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ye.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ye.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===Ae.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=ye.altKey,this._keyStatus.ctrlKey=ye.ctrlKey,this._keyStatus.metaKey=ye.metaKey,this._keyStatus.shiftKey=ye.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ye,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(t(window,"keyup",ye=>{ye.defaultPrevented||(this._keyStatus.lastKeyReleased=!ye.altKey&&this._keyStatus.altKey?"alt":!ye.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!ye.metaKey&&this._keyStatus.metaKey?"meta":!ye.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ye.altKey,this._keyStatus.ctrlKey=ye.ctrlKey,this._keyStatus.metaKey=ye.metaKey,this._keyStatus.shiftKey=ye.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ye,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(t(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(t(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(t(document.body,"mousemove",ye=>{ye.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(t(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return ht.instance||(ht.instance=new ht),ht.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class jt extends E.JT{constructor(ye,Ae){super(),this.element=ye,this.callbacks=Ae,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(t(this.element,tt.DRAG_ENTER,ye=>{this.counter++,this.dragStartTime=ye.timeStamp,this.callbacks.onDragEnter(ye)})),this._register(t(this.element,tt.DRAG_OVER,ye=>{var Ae,ue;ye.preventDefault(),null===(ue=(Ae=this.callbacks).onDragOver)||void 0===ue||ue.call(Ae,ye,ye.timeStamp-this.dragStartTime)})),this._register(t(this.element,tt.DRAG_LEAVE,ye=>{this.counter--,0===this.counter&&(this.dragStartTime=0,this.callbacks.onDragLeave(ye))})),this._register(t(this.element,tt.DRAG_END,ye=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(ye)})),this._register(t(this.element,tt.DROP,ye=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(ye)}))}}},44043:(Dt,Y,e)=>{"use strict";e.d(Y,{Nw:()=>tt,ok:()=>ve,v5:()=>ae});var n=Object.hasOwnProperty,l=Object.setPrototypeOf,S=Object.isFrozen,v=Object.getPrototypeOf,T=Object.getOwnPropertyDescriptor,C=Object.freeze,E=Object.seal,L=Object.create,_=typeof Reflect<"u"&&Reflect,s=_.apply,m=_.construct;s||(s=function(Ce,Pe,dt){return Ce.apply(Pe,dt)}),C||(C=function(Ce){return Ce}),E||(E=function(Ce){return Ce}),m||(m=function(Ce,Pe){return new(Function.prototype.bind.apply(Ce,[null].concat(function d(Q){if(Array.isArray(Q)){for(var Ce=0,Pe=Array(Q.length);Ce<Q.length;Ce++)Pe[Ce]=Q[Ce];return Pe}return Array.from(Q)}(Pe))))});var c=x(Array.prototype.forEach),t=x(Array.prototype.pop),a=x(Array.prototype.push),p=x(String.prototype.toLowerCase),u=x(String.prototype.match),g=x(String.prototype.replace),b=x(String.prototype.indexOf),y=x(String.prototype.trim),w=x(RegExp.prototype.test),D=function P(Q){return function(){for(var Ce=arguments.length,Pe=Array(Ce),dt=0;dt<Ce;dt++)Pe[dt]=arguments[dt];return m(Q,Pe)}}(TypeError);function x(Q){return function(Ce){for(var Pe=arguments.length,dt=Array(Pe>1?Pe-1:0),st=1;st<Pe;st++)dt[st-1]=arguments[st];return s(Q,Ce,dt)}}function O(Q,Ce){l&&l(Q,null);for(var Pe=Ce.length;Pe--;){var dt=Ce[Pe];if("string"==typeof dt){var st=p(dt);st!==dt&&(S(Ce)||(Ce[Pe]=st),dt=st)}Q[dt]=!0}return Q}function V(Q){var Ce=L(null),Pe=void 0;for(Pe in Q)s(n,Q,[Pe])&&(Ce[Pe]=Q[Pe]);return Ce}function H(Q,Ce){for(;null!==Q;){var Pe=T(Q,Ce);if(Pe){if(Pe.get)return x(Pe.get);if("function"==typeof Pe.value)return x(Pe.value)}Q=v(Q)}return function dt(st){return console.warn("fallback value for",st),null}}var z=C(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k=C(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=C(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j=C(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K=C(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=C(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ne=C(["#text"]),N=C(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=C(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Z=C(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ge=C(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),M=E(/\{\{[\s\S]*|[\s\S]*\}\}/gm),we=E(/<%[\s\S]*|[\s\S]*%>/gm),Ee=E(/^data-[\-\w.\u00B7-\uFFFF]/),xe=E(/^aria-[\-\w]+$/),Ne=E(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oe=E(/^(?:\w+script|data):/i),Se=E(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};function me(Q){if(Array.isArray(Q)){for(var Ce=0,Pe=Array(Q.length);Ce<Q.length;Ce++)Pe[Ce]=Q[Ce];return Pe}return Array.from(Q)}var Me=function(){return typeof window>"u"?null:window},de=function(Ce,Pe){if("object"!==(typeof Ce>"u"?"undefined":Ie(Ce))||"function"!=typeof Ce.createPolicy)return null;var dt=null,st="data-tt-policy-suffix";Pe.currentScript&&Pe.currentScript.hasAttribute(st)&&(dt=Pe.currentScript.getAttribute(st));var qe="dompurify"+(dt?"#"+dt:"");try{return Ce.createPolicy(qe,{createHTML:function(et){return et}})}catch{return console.warn("TrustedTypes policy "+qe+" could not be created."),null}},Ue=function ke(){var Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me(),Ce=function(ct){return ke(ct)};if(Ce.version="2.3.1",Ce.removed=[],!Q||!Q.document||9!==Q.document.nodeType)return Ce.isSupported=!1,Ce;var Pe=Q.document,dt=Q.document,st=Q.DocumentFragment,qe=Q.HTMLTemplateElement,Qe=Q.Node,et=Q.Element,vt=Q.NodeFilter,mt=Q.NamedNodeMap,_t=void 0===mt?Q.NamedNodeMap||Q.MozNamedAttrMap:mt,$t=Q.Text,Bt=Q.Comment,Ke=Q.DOMParser,ht=Q.trustedTypes,jt=et.prototype,fn=H(jt,"cloneNode"),Dn=H(jt,"nextSibling"),yt=H(jt,"childNodes"),He=H(jt,"parentNode");if("function"==typeof qe){var ye=dt.createElement("template");ye.content&&ye.content.ownerDocument&&(dt=ye.content.ownerDocument)}var Ae=de(ht,Pe),ue=Ae&&jn?Ae.createHTML(""):"",be=dt,Je=be.implementation,Fe=be.createNodeIterator,nt=be.createDocumentFragment,bt=be.getElementsByTagName,Ut=Pe.importNode,vn={};try{vn=V(dt).documentMode?dt.documentMode:{}}catch{}var Mn={};Ce.isSupported="function"==typeof He&&Je&&typeof Je.createHTMLDocument<"u"&&9!==vn;var St=M,gn=we,Vn=Ee,Sn=xe,Gn=oe,ci=Se,ii=Ne,Ei=null,no=O({},[].concat(me(z),me(k),me(F),me(K),me(ne))),to=null,Co=O({},[].concat(me(N),me(W),me(Z),me(ge))),io=null,uo=null,go=!0,si=!0,Yt=!1,pt=!1,gt=!1,Kt=!1,nn=!1,an=!1,mn=!1,Nn=!0,jn=!1,Yn=!0,wi=!0,Li=!1,Qi={},Pi=null,Ki=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Wi=null,ro=O({},["audio","video","img","source","image","track"]),mo=null,Ko=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Eo="http://www.w3.org/1998/Math/MathML",Mo="http://www.w3.org/2000/svg",Io="http://www.w3.org/1999/xhtml",Yi=Io,ho=!1,Ao=null,li=dt.createElement("form"),Xt=function(ct){Ao&&Ao===ct||((!ct||"object"!==(typeof ct>"u"?"undefined":Ie(ct)))&&(ct={}),ct=V(ct),Ei="ALLOWED_TAGS"in ct?O({},ct.ALLOWED_TAGS):no,to="ALLOWED_ATTR"in ct?O({},ct.ALLOWED_ATTR):Co,mo="ADD_URI_SAFE_ATTR"in ct?O(V(Ko),ct.ADD_URI_SAFE_ATTR):Ko,Wi="ADD_DATA_URI_TAGS"in ct?O(V(ro),ct.ADD_DATA_URI_TAGS):ro,Pi="FORBID_CONTENTS"in ct?O({},ct.FORBID_CONTENTS):Ki,io="FORBID_TAGS"in ct?O({},ct.FORBID_TAGS):{},uo="FORBID_ATTR"in ct?O({},ct.FORBID_ATTR):{},go=!1!==ct.ALLOW_ARIA_ATTR,si=!1!==ct.ALLOW_DATA_ATTR,Yt=ct.ALLOW_UNKNOWN_PROTOCOLS||!1,gt=ct.WHOLE_DOCUMENT||!1,an=ct.RETURN_DOM||!1,Nn=!1!==ct.RETURN_DOM_IMPORT,jn=ct.RETURN_TRUSTED_TYPE||!1,nn=ct.FORCE_BODY||!1,Yn=!1!==ct.SANITIZE_DOM,wi=!1!==ct.KEEP_CONTENT,Li=ct.IN_PLACE||!1,ii=ct.ALLOWED_URI_REGEXP||ii,Yi=ct.NAMESPACE||Io,(pt=ct.SAFE_FOR_TEMPLATES||!1)&&(si=!1),(mn=ct.RETURN_DOM_FRAGMENT||!1)&&(an=!0),(Qi="USE_PROFILES"in ct&&ct.USE_PROFILES)&&(Ei=O({},[].concat(me(ne))),to=[],!0===Qi.html&&(O(Ei,z),O(to,N)),!0===Qi.svg&&(O(Ei,k),O(to,W),O(to,ge)),!0===Qi.svgFilters&&(O(Ei,F),O(to,W),O(to,ge)),!0===Qi.mathMl&&(O(Ei,K),O(to,Z),O(to,ge))),ct.ADD_TAGS&&(Ei===no&&(Ei=V(Ei)),O(Ei,ct.ADD_TAGS)),ct.ADD_ATTR&&(to===Co&&(to=V(to)),O(to,ct.ADD_ATTR)),ct.ADD_URI_SAFE_ATTR&&O(mo,ct.ADD_URI_SAFE_ATTR),ct.FORBID_CONTENTS&&(Pi===Ki&&(Pi=V(Pi)),O(Pi,ct.FORBID_CONTENTS)),wi&&(Ei["#text"]=!0),gt&&O(Ei,["html","head","body"]),Ei.table&&(O(Ei,["tbody"]),delete io.tbody),C&&C(ct),Ao=ct)},kt=O({},["mi","mo","mn","ms","mtext"]),un=O({},["foreignobject","desc","title","annotation-xml"]),Rn=O({},k);O(Rn,F),O(Rn,j);var Wn=O({},K);O(Wn,U);var dn=function(ct){var Cn=He(ct);(!Cn||!Cn.tagName)&&(Cn={namespaceURI:Io,tagName:"template"});var Hn=p(ct.tagName),Ii=p(Cn.tagName);if(ct.namespaceURI===Mo)return Cn.namespaceURI===Io?"svg"===Hn:Cn.namespaceURI===Eo?"svg"===Hn&&("annotation-xml"===Ii||kt[Ii]):Boolean(Rn[Hn]);if(ct.namespaceURI===Eo)return Cn.namespaceURI===Io?"math"===Hn:Cn.namespaceURI===Mo?"math"===Hn&&un[Ii]:Boolean(Wn[Hn]);if(ct.namespaceURI===Io){if(Cn.namespaceURI===Mo&&!un[Ii]||Cn.namespaceURI===Eo&&!kt[Ii])return!1;var bi=O({},["title","style","font","a","script"]);return!Wn[Hn]&&(bi[Hn]||!Rn[Hn])}return!1},ft=function(ct){a(Ce.removed,{element:ct});try{ct.parentNode.removeChild(ct)}catch{try{ct.outerHTML=ue}catch{ct.remove()}}},sn=function(ct,Cn){try{a(Ce.removed,{attribute:Cn.getAttributeNode(ct),from:Cn})}catch{a(Ce.removed,{attribute:null,from:Cn})}if(Cn.removeAttribute(ct),"is"===ct&&!to[ct])if(an||mn)try{ft(Cn)}catch{}else try{Cn.setAttribute(ct,"")}catch{}},tn=function(ct){var Cn=void 0,Hn=void 0;if(nn)ct="<remove></remove>"+ct;else{var Ii=u(ct,/^[\r\n\t ]+/);Hn=Ii&&Ii[0]}var bi=Ae?Ae.createHTML(ct):ct;if(Yi===Io)try{Cn=(new Ke).parseFromString(bi,"text/html")}catch{}if(!Cn||!Cn.documentElement){Cn=Je.createDocument(Yi,"template",null);try{Cn.documentElement.innerHTML=ho?"":bi}catch{}}var di=Cn.body||Cn.documentElement;return ct&&Hn&&di.insertBefore(dt.createTextNode(Hn),di.childNodes[0]||null),Yi===Io?bt.call(Cn,gt?"html":"body")[0]:gt?Cn.documentElement:di},xn=function(ct){return Fe.call(ct.ownerDocument||ct,ct,vt.SHOW_ELEMENT|vt.SHOW_COMMENT|vt.SHOW_TEXT,null,!1)},Pn=function(ct){return!(ct instanceof $t||ct instanceof Bt||"string"==typeof ct.nodeName&&"string"==typeof ct.textContent&&"function"==typeof ct.removeChild&&ct.attributes instanceof _t&&"function"==typeof ct.removeAttribute&&"function"==typeof ct.setAttribute&&"string"==typeof ct.namespaceURI&&"function"==typeof ct.insertBefore)},En=function(ct){return"object"===(typeof Qe>"u"?"undefined":Ie(Qe))?ct instanceof Qe:ct&&"object"===(typeof ct>"u"?"undefined":Ie(ct))&&"number"==typeof ct.nodeType&&"string"==typeof ct.nodeName},ut=function(ct,Cn,Hn){!Mn[ct]||c(Mn[ct],function(Ii){Ii.call(Ce,Cn,Hn,Ao)})},Pt=function(ct){var Cn=void 0;if(ut("beforeSanitizeElements",ct,null),Pn(ct)||u(ct.nodeName,/[\u0080-\uFFFF]/))return ft(ct),!0;var Hn=p(ct.nodeName);if(ut("uponSanitizeElement",ct,{tagName:Hn,allowedTags:Ei}),!En(ct.firstElementChild)&&(!En(ct.content)||!En(ct.content.firstElementChild))&&w(/<[/\w]/g,ct.innerHTML)&&w(/<[/\w]/g,ct.textContent)||"select"===Hn&&w(/<template/i,ct.innerHTML))return ft(ct),!0;if(!Ei[Hn]||io[Hn]){if(wi&&!Pi[Hn]){var Ii=He(ct)||ct.parentNode,bi=yt(ct)||ct.childNodes;if(bi&&Ii)for(var Ft=bi.length-1;Ft>=0;--Ft)Ii.insertBefore(fn(bi[Ft],!0),Dn(ct))}return ft(ct),!0}return ct instanceof et&&!dn(ct)||("noscript"===Hn||"noembed"===Hn)&&w(/<\/no(script|embed)/i,ct.innerHTML)?(ft(ct),!0):(pt&&3===ct.nodeType&&(Cn=g(Cn=ct.textContent,St," "),Cn=g(Cn,gn," "),ct.textContent!==Cn&&(a(Ce.removed,{element:ct.cloneNode()}),ct.textContent=Cn)),ut("afterSanitizeElements",ct,null),!1)},Ht=function(ct,Cn,Hn){if(Yn&&("id"===Cn||"name"===Cn)&&(Hn in dt||Hn in li))return!1;if((!si||uo[Cn]||!w(Vn,Cn))&&(!go||!w(Sn,Cn))){if(!to[Cn]||uo[Cn])return!1;if(!mo[Cn]&&!w(ii,g(Hn,ci,""))&&("src"!==Cn&&"xlink:href"!==Cn&&"href"!==Cn||"script"===ct||0!==b(Hn,"data:")||!Wi[ct])&&(!Yt||w(Gn,g(Hn,ci,"")))&&Hn)return!1}return!0},Qt=function(ct){var Cn=void 0,Hn=void 0,Ii=void 0,bi=void 0;ut("beforeSanitizeAttributes",ct,null);var di=ct.attributes;if(di){var Ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:to};for(bi=di.length;bi--;){var J=(Cn=di[bi]).name,_e=Cn.namespaceURI;if(Hn=y(Cn.value),Ii=p(J),Ft.attrName=Ii,Ft.attrValue=Hn,Ft.keepAttr=!0,Ft.forceKeepAttr=void 0,ut("uponSanitizeAttribute",ct,Ft),Hn=Ft.attrValue,!Ft.forceKeepAttr&&(sn(J,ct),Ft.keepAttr)){if(w(/\/>/i,Hn)){sn(J,ct);continue}pt&&(Hn=g(Hn,St," "),Hn=g(Hn,gn," "));var je=ct.nodeName.toLowerCase();if(Ht(je,Ii,Hn))try{_e?ct.setAttributeNS(_e,J,Hn):ct.setAttribute(J,Hn),t(Ce.removed)}catch{}}}ut("afterSanitizeAttributes",ct,null)}},bn=function Re(ct){var Cn=void 0,Hn=xn(ct);for(ut("beforeSanitizeShadowDOM",ct,null);Cn=Hn.nextNode();)ut("uponSanitizeShadowNode",Cn,null),!Pt(Cn)&&(Cn.content instanceof st&&Re(Cn.content),Qt(Cn));ut("afterSanitizeShadowDOM",ct,null)};return Ce.sanitize=function(Re,ct){var Cn=void 0,Hn=void 0,Ii=void 0,bi=void 0,di=void 0;if((ho=!Re)&&(Re="\x3c!--\x3e"),"string"!=typeof Re&&!En(Re)){if("function"!=typeof Re.toString)throw D("toString is not a function");if("string"!=typeof(Re=Re.toString()))throw D("dirty is not a string, aborting")}if(!Ce.isSupported){if("object"===Ie(Q.toStaticHTML)||"function"==typeof Q.toStaticHTML){if("string"==typeof Re)return Q.toStaticHTML(Re);if(En(Re))return Q.toStaticHTML(Re.outerHTML)}return Re}if(Kt||Xt(ct),Ce.removed=[],"string"==typeof Re&&(Li=!1),!Li)if(Re instanceof Qe)1===(Hn=(Cn=tn("\x3c!----\x3e")).ownerDocument.importNode(Re,!0)).nodeType&&"BODY"===Hn.nodeName||"HTML"===Hn.nodeName?Cn=Hn:Cn.appendChild(Hn);else{if(!an&&!pt&&!gt&&-1===Re.indexOf("<"))return Ae&&jn?Ae.createHTML(Re):Re;if(!(Cn=tn(Re)))return an?null:ue}Cn&&nn&&ft(Cn.firstChild);for(var Ft=xn(Li?Re:Cn);Ii=Ft.nextNode();)3===Ii.nodeType&&Ii===bi||Pt(Ii)||(Ii.content instanceof st&&bn(Ii.content),Qt(Ii),bi=Ii);if(bi=null,Li)return Re;if(an){if(mn)for(di=nt.call(Cn.ownerDocument);Cn.firstChild;)di.appendChild(Cn.firstChild);else di=Cn;return Nn&&(di=Ut.call(Pe,di,!0)),di}var R=gt?Cn.outerHTML:Cn.innerHTML;return pt&&(R=g(R,St," "),R=g(R,gn," ")),Ae&&jn?Ae.createHTML(R):R},Ce.setConfig=function(Re){Xt(Re),Kt=!0},Ce.clearConfig=function(){Ao=null,Kt=!1},Ce.isValidAttribute=function(Re,ct,Cn){Ao||Xt({});var Hn=p(Re),Ii=p(ct);return Ht(Hn,Ii,Cn)},Ce.addHook=function(Re,ct){"function"==typeof ct&&(Mn[Re]=Mn[Re]||[],a(Mn[Re],ct))},Ce.removeHook=function(Re){Mn[Re]&&t(Mn[Re])},Ce.removeHooks=function(Re){Mn[Re]&&(Mn[Re]=[])},Ce.removeAllHooks=function(){Mn={}},Ce}();const tt=Ue.sanitize,ae=Ue.addHook,ve=Ue.removeHook},75366:(Dt,Y,e)=>{"use strict";e.d(Y,{Y:()=>n,p:()=>l});var d=e(3778);class n{constructor(v,T,C){const E=L=>this.emitter.fire(L);this.emitter=new d.Q5({onFirstListenerAdd:()=>v.addEventListener(T,E,C),onLastListenerRemove:()=>v.removeEventListener(T,E,C)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function l(S){return S.preventDefault(),S.stopPropagation(),S}},12226:(Dt,Y,e)=>{"use strict";e.d(Y,{X:()=>l,Z:()=>d});class d{constructor(v){this.domNode=v,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(v){const T=n(v);this._maxWidth!==T&&(this._maxWidth=T,this.domNode.style.maxWidth=this._maxWidth)}setWidth(v){const T=n(v);this._width!==T&&(this._width=T,this.domNode.style.width=this._width)}setHeight(v){const T=n(v);this._height!==T&&(this._height=T,this.domNode.style.height=this._height)}setTop(v){const T=n(v);this._top!==T&&(this._top=T,this.domNode.style.top=this._top)}setLeft(v){const T=n(v);this._left!==T&&(this._left=T,this.domNode.style.left=this._left)}setBottom(v){const T=n(v);this._bottom!==T&&(this._bottom=T,this.domNode.style.bottom=this._bottom)}setRight(v){const T=n(v);this._right!==T&&(this._right=T,this.domNode.style.right=this._right)}setFontFamily(v){this._fontFamily!==v&&(this._fontFamily=v,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(v){this._fontWeight!==v&&(this._fontWeight=v,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(v){const T=n(v);this._fontSize!==T&&(this._fontSize=T,this.domNode.style.fontSize=this._fontSize)}setFontStyle(v){this._fontStyle!==v&&(this._fontStyle=v,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(v){this._fontFeatureSettings!==v&&(this._fontFeatureSettings=v,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(v){this._textDecoration!==v&&(this._textDecoration=v,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(v){const T=n(v);this._lineHeight!==T&&(this._lineHeight=T,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(v){const T=n(v);this._letterSpacing!==T&&(this._letterSpacing=T,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(v){this._className!==v&&(this._className=v,this.domNode.className=this._className)}toggleClassName(v,T){this.domNode.classList.toggle(v,T),this._className=this.domNode.className}setDisplay(v){this._display!==v&&(this._display=v,this.domNode.style.display=this._display)}setPosition(v){this._position!==v&&(this._position=v,this.domNode.style.position=this._position)}setVisibility(v){this._visibility!==v&&(this._visibility=v,this.domNode.style.visibility=this._visibility)}setColor(v){this._color!==v&&(this._color=v,this.domNode.style.color=this._color)}setBackgroundColor(v){this._backgroundColor!==v&&(this._backgroundColor=v,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(v){this._layerHint!==v&&(this._layerHint=v,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(v){this._boxShadow!==v&&(this._boxShadow=v,this.domNode.style.boxShadow=v)}setContain(v){this._contain!==v&&(this._contain=v,this.domNode.style.contain=this._contain)}setAttribute(v,T){this.domNode.setAttribute(v,T)}removeAttribute(v){this.domNode.removeAttribute(v)}appendChild(v){this.domNode.appendChild(v.domNode)}removeChild(v){this.domNode.removeChild(v.domNode)}}function n(S){return"number"==typeof S?`${S}px`:S}function l(S){return new d(S)}},86998:(Dt,Y,e)=>{"use strict";e.d(Y,{BO:()=>l,IY:()=>n,az:()=>S});var d=e(98463);function n(_,s={}){const m=S(s);return m.textContent=_,m}function l(_,s={}){const m=S(s);return T(m,function C(_,s){const m={type:1,children:[]};let c=0,t=m;const a=[],p=new v(_);for(;!p.eos();){let u=p.next();const g="\\"===u&&0!==L(p.peek(),s);if(g&&(u=p.next()),!g&&E(u,s)&&u===p.peek()){p.advance(),2===t.type&&(t=a.pop());const b=L(u,s);if(t.type===b||5===t.type&&6===b)t=a.pop();else{const y={type:b,children:[]};5===b&&(y.index=c,c++),t.children.push(y),a.push(t),t=y}}else if("\n"===u)2===t.type&&(t=a.pop()),t.children.push({type:8});else if(2!==t.type){const b={type:2,content:u};t.children.push(b),a.push(t),t=b}else t.content+=u}return 2===t.type&&(t=a.pop()),m}(_,!!s.renderCodeSegments),s.actionHandler,s.renderCodeSegments),m}function S(_){const m=document.createElement(_.inline?"span":"div");return _.className&&(m.className=_.className),m}class v{constructor(s){this.source=s,this.index=0}eos(){return this.index>=this.source.length}next(){const s=this.peek();return this.advance(),s}peek(){return this.source[this.index]}advance(){this.index++}}function T(_,s,m,c){let t;if(2===s.type)t=document.createTextNode(s.content||"");else if(3===s.type)t=document.createElement("b");else if(4===s.type)t=document.createElement("i");else if(7===s.type&&c)t=document.createElement("code");else if(5===s.type&&m){const a=document.createElement("a");m.disposables.add(d.mu(a,"click",p=>{m.callback(String(s.index),p)})),t=a}else 8===s.type?t=document.createElement("br"):1===s.type&&(t=_);t&&_!==t&&_.appendChild(t),t&&Array.isArray(s.children)&&s.children.forEach(a=>{T(t,a,m,c)})}function E(_,s){return 0!==L(_,s)}function L(_,s){switch(_){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return s?7:0;default:return 0}}},11210:(Dt,Y,e)=>{"use strict";e.d(Y,{C:()=>l});var d=e(98463),n=e(80142);class l{constructor(){this._hooks=new n.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(v,T){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const C=this._onStopCallback;this._onStopCallback=null,v&&C&&C(T)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(v,T,C,E,L){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=E,this._onStopCallback=L;let _=v;try{v.setPointerCapture(T),this._hooks.add((0,n.OF)(()=>{v.releasePointerCapture(T)}))}catch{_=window}this._hooks.add(d.nm(_,d.tw.POINTER_MOVE,s=>{s.buttons===C?(s.preventDefault(),this._pointerMoveCallback(s)):this.stopMonitoring(!0)})),this._hooks.add(d.nm(_,d.tw.POINTER_UP,s=>this.stopMonitoring(!0)))}}},41140:(Dt,Y,e)=>{"use strict";e.d(Y,{y:()=>_});var d=e(37428),n=e(53993),l=e(37451),S=e(8841);const T=S.dz?256:2048,L=S.dz?2048:256;class _{constructor(m){this._standardKeyboardEventBrand=!0;const c=m;this.browserEvent=c,this.target=c.target,this.ctrlKey=c.ctrlKey,this.shiftKey=c.shiftKey,this.altKey=c.altKey,this.metaKey=c.metaKey,this.keyCode=function v(s){if(s.charCode){const c=String.fromCharCode(s.charCode).toUpperCase();return n.kL.fromString(c)}const m=s.keyCode;if(3===m)return 7;if(d.isFirefox){if(59===m)return 80;if(107===m)return 81;if(109===m)return 83;if(S.dz&&224===m)return 57}else if(d.isWebKit){if(91===m)return 57;if(S.dz&&93===m)return 57;if(!S.dz&&92===m)return 57}return n.H_[m]||0}(c),this.code=c.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(m){return this._asKeybinding===m}_computeKeybinding(){let m=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(m=this.keyCode);let c=0;return this.ctrlKey&&(c|=T),this.altKey&&(c|=512),this.shiftKey&&(c|=1024),this.metaKey&&(c|=L),c|=m,c}_computeRuntimeKeybinding(){let m=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(m=this.keyCode),new l.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,m)}}},97340:(Dt,Y,e)=>{"use strict";e.d(Y,{n:()=>C,q:()=>E});var d=e(37428);let n=!1,l=null;function S(L){if(!L.parent||L.parent===L)return null;try{const _=L.location,s=L.parent.location;if("null"!==_.origin&&"null"!==s.origin&&_.origin!==s.origin)return n=!0,null}catch{return n=!0,null}return L.parent}class v{static getSameOriginWindowChain(){if(!l){l=[];let s,_=window;do{s=S(_),l.push(s?{window:_,iframeElement:_.frameElement||null}:{window:_,iframeElement:null}),_=s}while(_)}return l.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(_,s){if(!s||_===s)return{top:0,left:0};let m=0,c=0;const t=this.getSameOriginWindowChain();for(const a of t){if(m+=a.window.scrollY,c+=a.window.scrollX,a.window===s||!a.iframeElement)break;const p=a.iframeElement.getBoundingClientRect();m+=p.top,c+=p.left}return{top:m,left:c}}}var T=e(8841);class C{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=0===_.button,this.middleButton=1===_.button,this.rightButton=2===_.button,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,"dblclick"===_.type&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,"number"==typeof _.pageX?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=_.clientY+document.body.scrollTop+document.documentElement.scrollTop);const s=v.getPositionOfChildWindowRelativeToAncestorWindow(self,_.view);this.posx-=s.left,this.posy-=s.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class E{constructor(_,s=0,m=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=m,this.deltaX=s,_){const c=_,t=_;typeof c.wheelDeltaY<"u"?this.deltaY=c.wheelDeltaY/120:typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS?this.deltaY=-t.detail/3:"wheel"===_.type&&(this.deltaY=_.deltaMode===_.DOM_DELTA_LINE?d.isFirefox&&!T.dz?-_.deltaY/3:-_.deltaY:-_.deltaY/40),typeof c.wheelDeltaX<"u"?this.deltaX=d.isSafari&&T.ED?-c.wheelDeltaX/120:c.wheelDeltaX/120:typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS?this.deltaX=-_.detail/3:"wheel"===_.type&&(this.deltaX=_.deltaMode===_.DOM_DELTA_LINE?d.isFirefox&&!T.dz?-_.deltaX/3:-_.deltaX:-_.deltaX/40),0===this.deltaY&&0===this.deltaX&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},62922:(Dt,Y,e)=>{"use strict";e.d(Y,{o:()=>C,t:()=>T});var d=e(98463),n=e(64023),l=e(66471),S=e(80142),T=(()=>{return(E=T||(T={})).Tap="-monaco-gesturetap",E.Change="-monaco-gesturechange",E.Start="-monaco-gesturestart",E.End="-monaco-gesturesend",E.Contextmenu="-monaco-gesturecontextmenu",T;var E})();class C extends S.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(d.nm(document,"touchstart",L=>this.onTouchStart(L),{passive:!1})),this._register(d.nm(document,"touchend",L=>this.onTouchEnd(L))),this._register(d.nm(document,"touchmove",L=>this.onTouchMove(L),{passive:!1}))}static addTarget(L){return C.isTouchDevice()?(C.INSTANCE||(C.INSTANCE=new C),C.INSTANCE.targets.push(L),{dispose:()=>{C.INSTANCE.targets=C.INSTANCE.targets.filter(_=>_!==L)}}):S.JT.None}static ignoreTarget(L){return C.isTouchDevice()?(C.INSTANCE||(C.INSTANCE=new C),C.INSTANCE.ignoreTargets.push(L),{dispose:()=>{C.INSTANCE.ignoreTargets=C.INSTANCE.ignoreTargets.filter(_=>_!==L)}}):S.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(L){const _=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,m=L.targetTouches.length;s<m;s++){const c=L.targetTouches.item(s);this.activeTouches[c.identifier]={id:c.identifier,initialTarget:c.target,initialTimeStamp:_,initialPageX:c.pageX,initialPageY:c.pageY,rollingTimestamps:[_],rollingPageX:[c.pageX],rollingPageY:[c.pageY]};const t=this.newGestureEvent(T.Start,c.target);t.pageX=c.pageX,t.pageY=c.pageY,this.dispatchEvent(t)}this.dispatched&&(L.preventDefault(),L.stopPropagation(),this.dispatched=!1)}onTouchEnd(L){const _=Date.now(),s=Object.keys(this.activeTouches).length;for(let m=0,c=L.changedTouches.length;m<c;m++){const t=L.changedTouches.item(m);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("move of an UNKNOWN touch",t);continue}const a=this.activeTouches[t.identifier],p=Date.now()-a.initialTimeStamp;if(p<C.HOLD_DELAY&&Math.abs(a.initialPageX-n.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-n.Gb(a.rollingPageY))<30){const u=this.newGestureEvent(T.Tap,a.initialTarget);u.pageX=n.Gb(a.rollingPageX),u.pageY=n.Gb(a.rollingPageY),this.dispatchEvent(u)}else if(p>=C.HOLD_DELAY&&Math.abs(a.initialPageX-n.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-n.Gb(a.rollingPageY))<30){const u=this.newGestureEvent(T.Contextmenu,a.initialTarget);u.pageX=n.Gb(a.rollingPageX),u.pageY=n.Gb(a.rollingPageY),this.dispatchEvent(u)}else if(1===s){const u=n.Gb(a.rollingPageX),g=n.Gb(a.rollingPageY),b=n.Gb(a.rollingTimestamps)-a.rollingTimestamps[0],y=u-a.rollingPageX[0],w=g-a.rollingPageY[0],D=this.targets.filter(x=>a.initialTarget instanceof Node&&x.contains(a.initialTarget));this.inertia(D,_,Math.abs(y)/b,y>0?1:-1,u,Math.abs(w)/b,w>0?1:-1,g)}this.dispatchEvent(this.newGestureEvent(T.End,a.initialTarget)),delete this.activeTouches[t.identifier]}this.dispatched&&(L.preventDefault(),L.stopPropagation(),this.dispatched=!1)}newGestureEvent(L,_){const s=document.createEvent("CustomEvent");return s.initEvent(L,!1,!0),s.initialTarget=_,s.tapCount=0,s}dispatchEvent(L){if(L.type===T.Tap){const _=(new Date).getTime();let s=0;s=_-this._lastSetTapCountTime>C.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=_,L.tapCount=s}else(L.type===T.Change||L.type===T.Contextmenu)&&(this._lastSetTapCountTime=0);for(let _=0;_<this.ignoreTargets.length;_++)if(L.initialTarget instanceof Node&&this.ignoreTargets[_].contains(L.initialTarget))return;this.targets.forEach(_=>{L.initialTarget instanceof Node&&_.contains(L.initialTarget)&&(_.dispatchEvent(L),this.dispatched=!0)})}inertia(L,_,s,m,c,t,a,p){this.handle=d.jL(()=>{const u=Date.now(),g=u-_;let b=0,y=0,w=!0;(s+=C.SCROLL_FRICTION*g)>0&&(w=!1,b=m*s*g),(t+=C.SCROLL_FRICTION*g)>0&&(w=!1,y=a*t*g);const D=this.newGestureEvent(T.Change);D.translationX=b,D.translationY=y,L.forEach(x=>x.dispatchEvent(D)),w||this.inertia(L,u,s,m,c+b,t,a,p+y)})}onTouchMove(L){const _=Date.now();for(let s=0,m=L.changedTouches.length;s<m;s++){const c=L.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("end of an UNKNOWN touch",c);continue}const t=this.activeTouches[c.identifier],a=this.newGestureEvent(T.Change,t.initialTarget);a.translationX=c.pageX-n.Gb(t.rollingPageX),a.translationY=c.pageY-n.Gb(t.rollingPageY),a.pageX=c.pageX,a.pageY=c.pageY,this.dispatchEvent(a),t.rollingPageX.length>3&&(t.rollingPageX.shift(),t.rollingPageY.shift(),t.rollingTimestamps.shift()),t.rollingPageX.push(c.pageX),t.rollingPageY.push(c.pageY),t.rollingTimestamps.push(_)}this.dispatched&&(L.preventDefault(),L.stopPropagation(),this.dispatched=!1)}}C.SCROLL_FRICTION=-.005,C.HOLD_DELAY=700,C.CLEAR_TAP_COUNT_TIME=400,function(E,L,_,s){var t,m=arguments.length,c=m<3?L:null===s?s=Object.getOwnPropertyDescriptor(L,_):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(E,L,_,s);else for(var a=E.length-1;a>=0;a--)(t=E[a])&&(c=(m<3?t(c):m>3?t(L,_,c):t(L,_))||c);m>3&&c&&Object.defineProperty(L,_,c)}([l.H],C,"isTouchDevice",null)},34872:(Dt,Y,e)=>{"use strict";e.d(Y,{Y:()=>m,g:()=>c});var d=e(37428),n=e(67719),l=e(98463),S=e(62922),v=e(68123),T=e(827),C=e(80142),E=e(8841),L=e(72715),s=(e(3247),e(55197));class m extends C.JT{constructor(a,p,u={}){super(),this.options=u,this._context=a||this,this._action=p,p instanceof T.aU&&this._register(p.onDidChange(g=>{!this.element||this.handleActionChangeEvent(g)}))}get action(){return this._action}handleActionChangeEvent(a){void 0!==a.enabled&&this.updateEnabled(),void 0!==a.checked&&this.updateChecked(),void 0!==a.class&&this.updateClass(),void 0!==a.label&&(this.updateLabel(),this.updateTooltip()),void 0!==a.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new T.Wi)),this._actionRunner}set actionRunner(a){this._actionRunner=a}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(a){this._context=a}render(a){const p=this.element=a;this._register(S.o.addTarget(a));const u=this.options&&this.options.draggable;u&&(a.draggable=!0,d.isFirefox&&this._register((0,l.nm)(a,l.tw.DRAG_START,g=>{var b;return null===(b=g.dataTransfer)||void 0===b?void 0:b.setData(n.g.TEXT,this._action.label)}))),this._register((0,l.nm)(p,S.t.Tap,g=>this.onClick(g,!0))),this._register((0,l.nm)(p,l.tw.MOUSE_DOWN,g=>{u||l.zB.stop(g,!0),this._action.enabled&&0===g.button&&p.classList.add("active")})),E.dz&&this._register((0,l.nm)(p,l.tw.CONTEXT_MENU,g=>{0===g.button&&!0===g.ctrlKey&&this.onClick(g)})),this._register((0,l.nm)(p,l.tw.CLICK,g=>{l.zB.stop(g,!0),this.options&&this.options.isMenu||this.onClick(g)})),this._register((0,l.nm)(p,l.tw.DBLCLICK,g=>{l.zB.stop(g,!0)})),[l.tw.MOUSE_UP,l.tw.MOUSE_OUT].forEach(g=>{this._register((0,l.nm)(p,g,b=>{l.zB.stop(b),p.classList.remove("active")}))})}onClick(a,p=!1){var u;l.zB.stop(a,!0);const g=L.Jp(this._context)?null!==(u=this.options)&&void 0!==u&&u.useEventAsContext?a:{preserveFocus:p}:this._context;this.actionRunner.run(this._action,g)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(a){this.element&&(this.element.tabIndex=a?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var a;if(!this.element)return;const p=null!==(a=this.getTooltip())&&void 0!==a?a:"";this.element.setAttribute("aria-label",p),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(p):(this.customHover=(0,v.g)(this.options.hoverDelegate,this.element,p),this._store.add(this.customHover))):this.element.title=p}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class c extends m{constructor(a,p,u={}){super(a,p,u),this.options=u,this.options.icon=void 0!==u.icon&&u.icon,this.options.label=void 0===u.label||u.label,this.cssClass=""}render(a){super.render(a),this.element&&(this.label=(0,l.R3)(this.element,(0,l.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===T.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,l.R3)(this.element,(0,l.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(a){this.label&&(this.label.tabIndex=a?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let a=null;return this.getAction().tooltip?a=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(a=this.getAction().label,this.options.keybinding&&(a=s.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",a,this.options.keybinding))),a??void 0}updateClass(){var a;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(a=this.label)||void 0===a||a.classList.remove("codicon")}updateEnabled(){var a,p;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(a=this.element)||void 0===a||a.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(p=this.element)||void 0===p||p.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},65065:(Dt,Y,e)=>{"use strict";e.d(Y,{o:()=>_});var d=e(98463),n=e(41140),l=e(34872),S=e(827),v=e(3778),T=e(80142),C=e(72715),L=(e(3247),function(s,m,c,t){return new(c||(c=Promise))(function(p,u){function g(w){try{y(t.next(w))}catch(D){u(D)}}function b(w){try{y(t.throw(w))}catch(D){u(D)}}function y(w){w.done?p(w.value):function a(p){return p instanceof c?p:new c(function(u){u(p)})}(w.value).then(g,b)}y((t=t.apply(s,m||[])).next())})});class _ extends T.JT{constructor(m,c={}){var t,a,p,u,g,b;let y,w;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new v.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new v.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new v.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new v.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=c,this._context=null!==(t=c.context)&&void 0!==t?t:null,this._orientation=null!==(a=this.options.orientation)&&void 0!==a?a:0,this._triggerKeys={keyDown:null!==(u=null===(p=this.options.triggerKeys)||void 0===p?void 0:p.keyDown)&&void 0!==u&&u,keys:null!==(b=null===(g=this.options.triggerKeys)||void 0===g?void 0:g.keys)&&void 0!==b?b:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new S.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(D=>this._onDidRun.fire(D))),this._register(this._actionRunner.onBeforeRun(D=>this._onBeforeRun.fire(D))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==c.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:y=[15],w=[17];break;case 1:y=[16],w=[18],this.domNode.className+=" vertical"}this._register(d.nm(this.domNode,d.tw.KEY_DOWN,D=>{const x=new n.y(D);let P=!0;const O="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;y&&(x.equals(y[0])||x.equals(y[1]))?P=this.focusPrevious():w&&(x.equals(w[0])||x.equals(w[1]))?P=this.focusNext():x.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():x.equals(14)?P=this.focusFirst():x.equals(13)?P=this.focusLast():x.equals(2)&&O instanceof l.Y&&O.trapsArrowNavigation?P=this.focusNext():this.isTriggerKeyEvent(x)?this._triggerKeys.keyDown?this.doTrigger(x):this.triggerKeyDown=!0:P=!1,P&&(x.preventDefault(),x.stopPropagation())})),this._register(d.nm(this.domNode,d.tw.KEY_UP,D=>{const x=new n.y(D);this.isTriggerKeyEvent(x)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(x)),x.preventDefault(),x.stopPropagation()):(x.equals(2)||x.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(d.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(d.vY()===this.domNode||!d.jg(d.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),m.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(m){if(this.focusable=m,this.focusable){const c=this.viewItems.find(t=>t instanceof l.Y&&t.isEnabled());c instanceof l.Y&&c.setFocusable(!0)}else this.viewItems.forEach(c=>{c instanceof l.Y&&c.setFocusable(!1)})}isTriggerKeyEvent(m){let c=!1;return this._triggerKeys.keys.forEach(t=>{c=c||m.equals(t)}),c}updateFocusedItem(){for(let m=0;m<this.actionsList.children.length;m++){const c=this.actionsList.children[m];if(d.jg(d.vY(),c)){this.focusedItem=m;break}}}get context(){return this._context}set context(m){this._context=m,this.viewItems.forEach(c=>c.setActionContext(m))}get actionRunner(){return this._actionRunner}set actionRunner(m){m&&(this._actionRunner=m,this.viewItems.forEach(c=>c.actionRunner=m))}getContainer(){return this.domNode}push(m,c={}){const t=Array.isArray(m)?m:[m];let a=C.hj(c.index)?c.index:null;t.forEach(p=>{const u=document.createElement("li");let g;u.className="action-item",u.setAttribute("role","presentation"),this.options.actionViewItemProvider&&(g=this.options.actionViewItemProvider(p)),g||(g=new l.g(this.context,p,Object.assign({hoverDelegate:this.options.hoverDelegate},c))),this.options.allowContextMenu||this.viewItemDisposables.set(g,d.nm(u,d.tw.CONTEXT_MENU,b=>{d.zB.stop(b,!0)})),g.actionRunner=this._actionRunner,g.setActionContext(this.context),g.render(u),this.focusable&&g instanceof l.Y&&0===this.viewItems.length&&g.setFocusable(!0),null===a||a<0||a>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(g),this._actionIds.push(p.id)):(this.actionsList.insertBefore(u,this.actionsList.children[a]),this.viewItems.splice(a,0,g),this._actionIds.splice(a,0,p.id),a++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,T.B9)(this.viewItems),this.viewItemDisposables.forEach(m=>m.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],d.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(m){let t,c=!1;if(void 0===m?c=!0:"number"==typeof m?t=m:"boolean"==typeof m&&(c=m),c&&typeof this.focusedItem>"u"){const a=this.viewItems.findIndex(p=>p.isEnabled());this.focusedItem=-1===a?void 0:a,this.updateFocus(void 0,void 0,!0)}else void 0!==t&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(m){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const c=this.focusedItem;let t;do{if(!m&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=c,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===S.Z0.ID));return this.updateFocus(),!0}focusPrevious(m){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const c=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!m&&this.options.preventLoopNavigation)return this.focusedItem=c,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===S.Z0.ID));return this.updateFocus(!0),!0}updateFocus(m,c,t=!1){var a;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:c}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(a=this.viewItems[this.previouslyFocusedItem])||void 0===a||a.blur());const p=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(p){let u=!0;C.mf(p.focus)||(u=!1),this.options.focusOnlyEnabledItems&&C.mf(p.isEnabled)&&!p.isEnabled()&&(u=!1),p.action.id===S.Z0.ID&&(u=!1),u?(t||this.previouslyFocusedItem!==this.focusedItem)&&(p.focus(m),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:c}),this.previouslyFocusedItem=void 0)}}doTrigger(m){if(typeof this.focusedItem>"u")return;const c=this.viewItems[this.focusedItem];c instanceof l.Y&&this.run(c._action,null==c._context?m:c._context)}run(m,c){return L(this,void 0,void 0,function*(){yield this._actionRunner.run(m,c)})}dispose(){(0,T.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},59797:(Dt,Y,e)=>{"use strict";e.d(Y,{Z9:()=>V,wW:()=>O,i7:()=>H});var d=e(98463),n=e(8841),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),t=e.n(c),a=e(38022),p={};let y,w,D,x,P;function O(k){y=document.createElement("div"),y.className="monaco-aria-container";const F=()=>{const K=document.createElement("div");return K.className="monaco-alert",K.setAttribute("role","alert"),K.setAttribute("aria-atomic","true"),y.appendChild(K),K};w=F(),D=F();const j=()=>{const K=document.createElement("div");return K.className="monaco-status",K.setAttribute("role","complementary"),K.setAttribute("aria-live","polite"),K.setAttribute("aria-atomic","true"),y.appendChild(K),K};x=j(),P=j(),k.appendChild(y)}function V(k){!y||(w.textContent!==k?(d.PO(D),z(w,k)):(d.PO(w),z(D,k)))}function H(k){!y||(n.dz?V(k):x.textContent!==k?(d.PO(P),z(x,k)):(d.PO(x),z(P,k)))}function z(k,F){d.PO(k),F.length>2e4&&(F=F.substr(0,2e4)),k.textContent=F,k.style.visibility="hidden",k.style.visibility="visible"}p.styleTagTransform=t(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p)},82099:(Dt,Y,e)=>{"use strict";e.d(Y,{a:()=>D});var d=e(58783),n=e(57856),l=e.n(n),S=e(38470),v=e.n(S),T=e(43370),C=e.n(T),E=e(28458),L=e.n(E),_=e(71278),s=e.n(_),m=e(29488),c=e.n(m),t=e(72981),a={};a.styleTagTransform=c(),a.setAttributes=L(),a.insert=C().bind(null,"head"),a.domAPI=v(),a.insertStyleElement=s(),l()(t.Z,a);var g=e(21756),b={};function D(x){let P=x.definition;for(;P instanceof d.lA;)P=P.definition;return`.codicon-${x.id}:before { content: '${P.fontCharacter}'; }`}b.styleTagTransform=c(),b.setAttributes=L(),b.insert=C().bind(null,"head"),b.domAPI=v(),b.insertStyleElement=s(),l()(g.Z,b)},30535:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>D});var d=e(98463),n=e(69355),l=e(6276),S=e(73879),v=e(57856),T=e.n(v),C=e(38470),E=e.n(C),L=e(43370),_=e.n(L),s=e(28458),m=e.n(s),c=e(71278),t=e.n(c),a=e(29488),p=e.n(a),u=e(12003),g={};g.styleTagTransform=p(),g.setAttributes=m(),g.insert=_().bind(null,"head"),g.domAPI=E(),g.insertStyleElement=t(),T()(u.Z,g);const w={badgeBackground:n.Il.fromHex("#4D4D4D"),badgeForeground:n.Il.fromHex("#FFFFFF")};class D{constructor(P,O){this.count=0,this.options=O||Object.create(null),(0,l.jB)(this.options,w,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,d.R3)(P,(0,d.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(P){this.count=P,this.render()}setTitleFormat(P){this.titleFormat=P,this.render()}render(){this.element.textContent=(0,S.WU)(this.countFormat,this.count),this.element.title=(0,S.WU)(this.titleFormat,this.count),this.applyStyles()}style(P){this.badgeBackground=P.badgeBackground,this.badgeForeground=P.badgeForeground,this.badgeBorder=P.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const P=this.badgeBackground?this.badgeBackground.toString():"",O=this.badgeForeground?this.badgeForeground.toString():"",V=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=P,this.element.style.color=O,this.element.style.borderWidth=V?"1px":"",this.element.style.borderStyle=V?"solid":"",this.element.style.borderColor=V}}}},21040:(Dt,Y,e)=>{"use strict";e.d(Y,{C:()=>O});var d=e(98463),n=e(34872),l=e(41140),S=e(62922),v=e(827),T=e(3778),C=e(57856),E=e.n(C),L=e(38470),_=e.n(L),s=e(43370),m=e.n(s),c=e(28458),t=e.n(c),a=e(71278),p=e.n(a),u=e(29488),g=e.n(u),b=e(35437),y={};y.styleTagTransform=g(),y.setAttributes=t(),y.insert=m().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=p(),E()(b.Z,y);class x extends v.Wi{constructor(H,z){super(),this._onDidChangeVisibility=this._register(new T.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,d.R3)(H,(0,d.$)(".monaco-dropdown")),this._label=(0,d.R3)(this._element,(0,d.$)(".dropdown-label"));let k=z.labelRenderer;k||(k=j=>(j.textContent=z.label||"",null));for(const j of[d.tw.CLICK,d.tw.MOUSE_DOWN,S.t.Tap])this._register((0,d.nm)(this.element,j,K=>d.zB.stop(K,!0)));for(const j of[d.tw.MOUSE_DOWN,S.t.Tap])this._register((0,d.nm)(this._label,j,K=>{K instanceof MouseEvent&&(K.detail>1||0!==K.button)||(this.visible?this.hide():this.show())}));this._register((0,d.nm)(this._label,d.tw.KEY_UP,j=>{const K=new l.y(j);(K.equals(3)||K.equals(10))&&(d.zB.stop(j,!0),this.visible?this.hide():this.show())}));const F=k(this._label);F&&this._register(F),this._register(S.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class P extends x{constructor(H,z){super(H,z),this._actions=[],this._contextMenuProvider=z.contextMenuProvider,this.actions=z.actions||[],this.actionProvider=z.actionProvider,this.menuClassName=z.menuClassName||"",this.menuAsChild=!!z.menuAsChild}set menuOptions(H){this._menuOptions=H}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(H){this._actions=H}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:H=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(H):void 0,getKeyBinding:H=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(H):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class O extends n.Y{constructor(H,z,k,F=Object.create(null)){super(null,H,F),this.actionItem=null,this._onDidChangeVisibility=this._register(new T.Q5),this.menuActionsOrProvider=z,this.contextMenuProvider=k,this.options=F,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(H){this.actionItem=H;const k=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new P(H,{contextMenuProvider:this.contextMenuProvider,labelRenderer:j=>{this.element=(0,d.R3)(j,(0,d.$)("a.action-label"));let K=[];return"string"==typeof this.options.classNames?K=this.options.classNames.split(/\s+/g).filter(U=>!!U):this.options.classNames&&(K=this.options.classNames),K.find(U=>"icon"===U)||K.push("codicon"),this.element.classList.add(...K),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:k?this.menuActionsOrProvider:void 0,actionProvider:k?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(j=>{var K;null===(K=this.element)||void 0===K||K.setAttribute("aria-expanded",`${j}`),this._onDidChangeVisibility.fire(j)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const j=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return j.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let H=null;return this.getAction().tooltip?H=this.getAction().tooltip:this.getAction().label&&(H=this.getAction().label),H??void 0}setActionContext(H){super.setActionContext(H),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=H:this.dropdownMenu.menuOptions={context:H})}updateEnabled(){var H,z;const k=!this.getAction().enabled;null===(H=this.actionItem)||void 0===H||H.classList.toggle("disabled",k),null===(z=this.element)||void 0===z||z.classList.toggle("disabled",k)}}},96841:(Dt,Y,e)=>{"use strict";e.d(Y,{V:()=>L});var d=e(98463),n=e(75789),l=e(1689),S=e(5183),v=e(3778);e(51426);const E=e(55197).NC("defaultLabel","input");class L extends S.${constructor(s,m,c,t){var a;super(),this._showOptionButtons=c,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new v.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new v.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new v.Q5),this._onKeyUp=this._register(new v.Q5),this._onCaseSensitiveKeyDown=this._register(new v.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new v.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=m,this.placeholder=t.placeholder||"",this.validation=t.validation,this.label=t.label||E,this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground;const p=t.appendCaseSensitiveLabel||"",u=t.appendWholeWordsLabel||"",g=t.appendRegexLabel||"",b=t.history||[],y=!!t.flexibleHeight,w=!!t.flexibleWidth,D=t.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new l.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:b,showHistoryHint:t.showHistoryHint,flexibleHeight:y,flexibleWidth:w,flexibleMaxHeight:D})),this.regex=this._register(new n.eH({appendTitle:g,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(P=>{this._onRegexKeyDown.fire(P)})),this.wholeWords=this._register(new n.Qx({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new n.rk({appendTitle:p,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(P=>{this._onCaseSensitiveKeyDown.fire(P)}));const x=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,P=>{if(P.equals(15)||P.equals(17)||P.equals(9)){const O=x.indexOf(document.activeElement);if(O>=0){let V=-1;P.equals(17)?V=(O+1)%x.length:P.equals(15)&&(V=0===O?x.length-1:O-1),P.equals(9)?(x[O].blur(),this.inputBox.focus()):V>=0&&x[V].focus(),d.zB.stop(P,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const P of null!==(a=t?.additionalToggles)&&void 0!==a?a:[])this._register(P),this.controls.appendChild(P.domNode),this._register(P.onChange(O=>{this._onDidOptionChange.fire(O),!O&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(P);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((P,O)=>P+O.width(),0),this.domNode.appendChild(this.controls),s?.appendChild(this.domNode),this._register(d.nm(this.inputBox.inputElement,"compositionstart",P=>{this.imeSessionInProgress=!0})),this._register(d.nm(this.inputBox.inputElement,"compositionend",P=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,P=>this._onKeyDown.fire(P)),this.onkeyup(this.inputBox.inputElement,P=>this._onKeyUp.fire(P)),this.oninput(this.inputBox.inputElement,P=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,P=>this._onMouseDown.fire(P))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const s of this.additionalToggles)s.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const s of this.additionalToggles)s.disable()}setFocusInputOnOptionClick(s){this.fixFocusOnOptionClickEnabled=s}setEnabled(s){s?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(s){this.inputBox.value!==s&&(this.inputBox.value=s)}style(s){this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const s={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(s),this.wholeWords.style(s),this.caseSensitive.style(s);for(const c of this.additionalToggles)c.style(s);this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(s){this.caseSensitive.checked=s}getWholeWords(){return this.wholeWords.checked}setWholeWords(s){this.wholeWords.checked=s}getRegex(){return this.regex.checked}setRegex(s){this.regex.checked=s,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(s){this.inputBox.showMessage(s)}clearMessage(){this.inputBox.hideMessage()}}},75789:(Dt,Y,e)=>{"use strict";e.d(Y,{Qx:()=>E,eH:()=>L,rk:()=>C});var d=e(99952),n=e(58783),l=e(55197);const S=l.NC("caseDescription","Match Case"),v=l.NC("wordsDescription","Match Whole Word"),T=l.NC("regexDescription","Use Regular Expression");class C extends d.Z{constructor(s){super({icon:n.lA.caseSensitive,title:S+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}class E extends d.Z{constructor(s){super({icon:n.lA.wholeWord,title:v+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}class L extends d.Z{constructor(s){super({icon:n.lA.regex,title:T+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}},87969:(Dt,Y,e)=>{"use strict";e.d(Y,{q:()=>S});var d=e(98463),n=e(97139),l=e(6276);class S{constructor(T,C){var E;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(E=C?.supportIcons)&&void 0!==E&&E,this.domNode=d.R3(T,d.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(T,C=[],E="",L){T||(T=""),L&&(T=S.escapeNewLines(T,C)),(!this.didEverRender||this.text!==T||this.title!==E||!l.fS(this.highlights,C))&&(this.text=T,this.title=E,this.highlights=C,this.render())}render(){const T=[];let C=0;for(const E of this.highlights){if(E.end===E.start)continue;if(C<E.start){const s=this.text.substring(C,E.start);T.push(d.$("span",void 0,...this.supportIcons?(0,n.T)(s):[s])),C=E.end}const L=this.text.substring(E.start,E.end),_=d.$("span.highlight",void 0,...this.supportIcons?(0,n.T)(L):[L]);E.extraClasses&&_.classList.add(...E.extraClasses),T.push(_),C=E.end}if(C<this.text.length){const E=this.text.substring(C);T.push(d.$("span",void 0,...this.supportIcons?(0,n.T)(E):[E]))}d.mc(this.domNode,...T),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(T,C){let E=0,L=0;return T.replace(/\r\n|\r|\n/g,(_,s)=>{L="\r\n"===_?-1:0,s+=E;for(const m of C)m.end<=s||(m.start>=s&&(m.start+=L),m.end>=s&&(m.end+=L));return E+=L,"\u23ce"})}}},80757:(Dt,Y,e)=>{"use strict";e.d(Y,{g:()=>P});var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(64047),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t);var u=e(98463),g=e(87969),b=e(68123),y=e(80142),w=e(6276),D=e(36969);class x{constructor(k){this._element=k}get element(){return this._element}set textContent(k){this.disposed||k===this._textContent||(this._textContent=k,this._element.textContent=k)}set className(k){this.disposed||k===this._className||(this._className=k,this._element.className=k)}set empty(k){this.disposed||k===this._empty||(this._empty=k,this._element.style.marginLeft=k?"0":"")}dispose(){this.disposed=!0}}class P extends y.JT{constructor(k,F){super(),this.customHovers=new Map,this.domNode=this._register(new x(u.R3(k,u.$(".monaco-icon-label")))),this.labelContainer=u.R3(this.domNode.element,u.$(".monaco-icon-label-container"));const j=u.R3(this.labelContainer,u.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new x(u.R3(this.labelContainer,u.$("span.monaco-icon-description-container")))),this.nameNode=F?.supportHighlights||F?.supportIcons?new H(j,!!F.supportIcons):new O(j),this.descriptionNodeFactory=F?.supportDescriptionHighlights?()=>new g.q(u.R3(this.descriptionContainer.element,u.$("span.label-description")),{supportIcons:!!F.supportIcons}):()=>this._register(new x(u.R3(this.descriptionContainer.element,u.$("span.label-description")))),this.hoverDelegate=F?.hoverDelegate}get element(){return this.domNode.element}setLabel(k,F,j){const K=["monaco-icon-label"];j&&(j.extraClasses&&K.push(...j.extraClasses),j.italic&&K.push("italic"),j.strikethrough&&K.push("strikethrough")),this.domNode.className=K.join(" "),this.setupHover(j?.descriptionTitle?this.labelContainer:this.element,j?.title),this.nameNode.setLabel(k,j),(F||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof g.q?(this.descriptionNode.set(F||"",j?j.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,j?.descriptionTitle)):(this.descriptionNode.textContent=F||"",this.setupHover(this.descriptionNode.element,j?.descriptionTitle||""),this.descriptionNode.empty=!F))}setupHover(k,F){const j=this.customHovers.get(k);if(j&&(j.dispose(),this.customHovers.delete(k)),F)if(this.hoverDelegate){const K=(0,b.g)(this.hoverDelegate,k,F);K&&this.customHovers.set(k,K)}else(0,b.O)(k,F);else k.removeAttribute("title")}dispose(){super.dispose();for(const k of this.customHovers.values())k.dispose();this.customHovers.clear()}}class O{constructor(k){this.container=k,this.label=void 0,this.singleLabel=void 0}setLabel(k,F){if(this.label!==k||!(0,w.fS)(this.options,F))if(this.label=k,this.options=F,"string"==typeof k)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=u.R3(this.container,u.$("a.label-name",{id:F?.domId}))),this.singleLabel.textContent=k;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let j=0;j<k.length;j++)u.R3(this.container,u.$("a.label-name",{id:F?.domId&&`${F?.domId}_${j}`,"data-icon-label-count":k.length,"data-icon-label-index":j,role:"treeitem"},k[j])),j<k.length-1&&u.R3(this.container,u.$("span.label-separator",void 0,F?.separator||"/"))}}}class H{constructor(k,F){this.container=k,this.supportIcons=F,this.label=void 0,this.singleLabel=void 0}setLabel(k,F){if(this.label!==k||!(0,w.fS)(this.options,F))if(this.label=k,this.options=F,"string"==typeof k)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new g.q(u.R3(this.container,u.$("a.label-name",{id:F?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(k,F?.matches,void 0,F?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const j=F?.separator||"/",K=function V(z,k,F){if(!F)return;let j=0;return z.map(K=>{const U={start:j,end:j+K.length},ne=F.map(N=>D.e.intersect(U,N)).filter(N=>!D.e.isEmpty(N)).map(({start:N,end:W})=>({start:N-j,end:W-j}));return j=U.end+k.length,ne})}(k,j,F?.matches);for(let U=0;U<k.length;U++){const ne=k[U],N=K?K[U]:void 0,Z=u.$("a.label-name",{id:F?.domId&&`${F?.domId}_${U}`,"data-icon-label-count":k.length,"data-icon-label-index":U,role:"treeitem"});new g.q(u.R3(this.container,Z),{supportIcons:this.supportIcons}).set(ne,N,void 0,F?.labelEscapeNewLines),U<k.length-1&&u.R3(Z,u.$("span.label-separator",void 0,j))}}}}},68123:(Dt,Y,e)=>{"use strict";e.d(Y,{O:()=>_,g:()=>m});var d=e(98463),n=e(48648),l=e(73888),S=e(48701),v=e(59882),T=e(80142),C=e(72715),E=e(55197),L=function(c,t,a,p){return new(a||(a=Promise))(function(g,b){function y(x){try{D(p.next(x))}catch(P){b(P)}}function w(x){try{D(p.throw(x))}catch(P){b(P)}}function D(x){x.done?g(x.value):function u(g){return g instanceof a?g:new a(function(b){b(g)})}(x.value).then(y,w)}D((p=p.apply(c,t||[])).next())})};function _(c,t){(0,C.HD)(t)?c.title=(0,v.x$)(t):t?.markdownNotSupportedFallback?c.title=t.markdownNotSupportedFallback:c.removeAttribute("title")}class s{constructor(t,a,p){this.hoverDelegate=t,this.target=a,this.fadeInAnimation=p}update(t,a,p){var u;return L(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let g;if(void 0===t||(0,C.HD)(t)||t instanceof HTMLElement)g=t;else if((0,C.mf)(t.markdown)){this._hoverWidget||this.show((0,E.NC)("iconLabel.loading","Loading..."),a),this._cancellationTokenSource=new l.A;const b=this._cancellationTokenSource.token;if(g=yield t.markdown(b),void 0===g&&(g=t.markdownNotSupportedFallback),this.isDisposed||b.isCancellationRequested)return}else g=null!==(u=t.markdown)&&void 0!==u?u:t.markdownNotSupportedFallback;this.show(g,a,p)})}show(t,a,p){const u=this._hoverWidget;if(this.hasContent(t)){const g=Object.assign({content:t,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!u},p);this._hoverWidget=this.hoverDelegate.showHover(g,a)}u?.dispose()}hasContent(t){return!(!t||(0,S.Fr)(t)&&!t.value)}get isDisposed(){var t;return null===(t=this._hoverWidget)||void 0===t?void 0:t.isDisposed}dispose(){var t,a;null===(t=this._hoverWidget)||void 0===t||t.dispose(),null===(a=this._cancellationTokenSource)||void 0===a||a.dispose(!0),this._cancellationTokenSource=void 0}}function m(c,t,a,p){let u,g;const b=(P,O)=>{var V;P&&(g?.dispose(),g=void 0),O&&(u?.dispose(),u=void 0),null===(V=c.onDidHideHover)||void 0===V||V.call(c)},y=(P,O,V)=>new n._F(()=>L(this,void 0,void 0,function*(){(!g||g.isDisposed)&&(g=new s(c,V||t,P>0),yield g.update(a,O,p))}),P),D=d.nm(t,d.tw.MOUSE_OVER,()=>{if(u)return;const P=new T.SL;P.add(d.nm(t,d.tw.MOUSE_LEAVE,z=>b(!1,z.fromElement===t),!0)),P.add(d.nm(t,d.tw.MOUSE_DOWN,()=>b(!0,!0),!0));const H={targetElements:[t],dispose:()=>{}};void 0!==c.placement&&"mouse"!==c.placement||P.add(d.nm(t,d.tw.MOUSE_MOVE,k=>{H.x=k.x+10,k.target instanceof HTMLElement&&k.target.classList.contains("action-label")&&b(!0,!0)},!0)),P.add(y(c.delay,!1,H)),u=P},!0);return{show:P=>{b(!1,!0),y(0,P)},hide:()=>{b(!0,!0)},update:(P,O)=>L(this,void 0,void 0,function*(){a=P,yield g?.update(a,void 0,O)}),dispose:()=>{D.dispose(),b(!0,!0)}}}},97139:(Dt,Y,e)=>{"use strict";e.d(Y,{T:()=>S});var d=e(98463),n=e(58783);const l=new RegExp(`(\\\\)?\\$\\((${n.dT.iconNameExpression}(?:${n.dT.iconModifierExpression})?)\\)`,"g");function S(T){const C=new Array;let E,L=0,_=0;for(;null!==(E=l.exec(T));){_=E.index||0,C.push(T.substring(L,_)),L=(E.index||0)+E[0].length;const[,s,m]=E;C.push(s?`$(${m})`:v({id:m}))}return L<T.length&&C.push(T.substring(L)),C}function v(T){const C=d.$("span");return C.classList.add(...n.dT.asClassNameArray(T)),C}},1689:(Dt,Y,e)=>{"use strict";e.d(Y,{p:()=>U,W:()=>K});var d=e(98463),n=e(75366),l=e(86998),S=e(65065),v=e(59797),T=e(3067),C=e(5183),E=e(69355),L=e(3778);class _{constructor(N,W=0,Z=N.length,ge=W-1){this.items=N,this.start=W,this.end=Z,this.index=ge}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class s{constructor(N=[],W=10){this._initialize(N),this._limit=W,this._onChange()}getHistory(){return this._elements}add(N){this._history.delete(N),this._history.add(N),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(N){return this._history.has(N)}_onChange(){this._reduceToLimit();const N=this._elements;this._navigator=new _(N,0,N.length,N.length)}_reduceToLimit(){const N=this._elements;N.length>this._limit&&this._initialize(N.slice(N.length-this._limit))}_currentPosition(){const N=this._navigator.current();return N?this._elements.indexOf(N):-1}_initialize(N){this._history=new Set;for(const W of N)this._history.add(W)}get _elements(){const N=[];return this._history.forEach(W=>N.push(W)),N}}var m=e(6276),c=e(57856),t=e.n(c),a=e(38470),p=e.n(a),u=e(43370),g=e.n(u),b=e(28458),y=e.n(b),w=e(71278),D=e.n(w),x=e(29488),P=e.n(x),O=e(4260),V={};V.styleTagTransform=P(),V.setAttributes=y(),V.insert=g().bind(null,"head"),V.domAPI=p(),V.insertStyleElement=D(),t()(O.Z,V);var k=e(55197);const F=d.$,j={inputBackground:E.Il.fromHex("#3C3C3C"),inputForeground:E.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:E.Il.fromHex("#55AAFF"),inputValidationInfoBackground:E.Il.fromHex("#063B49"),inputValidationWarningBorder:E.Il.fromHex("#B89500"),inputValidationWarningBackground:E.Il.fromHex("#352A05"),inputValidationErrorBorder:E.Il.fromHex("#BE1100"),inputValidationErrorBackground:E.Il.fromHex("#5A1D1D")};class K extends C.${constructor(N,W,Z){var ge;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new L.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new L.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=W,this.options=Z||Object.create(null),(0,m.jB)(this.options,j,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(ge=this.options.tooltip)&&void 0!==ge?ge:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=d.R3(N,F(".monaco-inputbox.idle"));const M=this.options.flexibleHeight?"textarea":"input",we=d.R3(this.element,F(".ibwrapper"));if(this.input=d.R3(we,F(M+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=d.R3(we,F("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new T.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),d.R3(N,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(Ne=>this.input.scrollTop=Ne.scrollTop));const Ee=this._register(new n.Y(document,"selectionchange")),xe=L.ju.filter(Ee.event,()=>document.getSelection()?.anchorNode===we);this._register(xe(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(N){this.placeholder=N,this.input.setAttribute("placeholder",N)}setTooltip(N){this.tooltip=N,this.input.title=N}setAriaLabel(N){this.ariaLabel=N,N?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(N){this.input.value!==N&&(this.input.value=N,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:d.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(N=null){this.input.select(),N&&(this.input.setSelectionRange(N.start,N.end),N.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return d.w(this.input)}set width(N){if(this.options.flexibleHeight&&this.options.flexibleWidth){let W=0;this.mirror&&(W=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=N-W+"px"}else this.input.style.width=N+"px";this.mirror&&(this.mirror.style.width=N+"px")}set paddingRight(N){this.input.style.width=`calc(100% - ${N}px)`,this.mirror&&(this.mirror.style.paddingRight=N+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const Z=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:Z})}showMessage(N,W){this.message=N,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(N.type));const Z=this.stylesForType(this.message.type);this.element.style.border=Z.border?`1px solid ${Z.border}`:"",(this.hasFocus()||W)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let N=null;return this.validation&&(N=this.validation(this.value),N?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(N)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),N?.type}stylesForType(N){switch(N){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(N){switch(N){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let N;const W=()=>N.style.width=d.w(this.element)+"px";let Z;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:ge=>{if(!this.message)return null;N=d.R3(ge,F(".monaco-inputbox-container")),W();const M={inline:!0,className:"monaco-inputbox-message"},we=this.message.formatContent?(0,l.BO)(this.message.content,M):(0,l.IY)(this.message.content,M);we.classList.add(this.classForType(this.message.type));const Ee=this.stylesForType(this.message.type);return we.style.backgroundColor=Ee.background?Ee.background.toString():"",we.style.color=Ee.foreground?Ee.foreground.toString():"",we.style.border=Ee.border?`1px solid ${Ee.border}`:"",d.R3(N,we),null},onHide:()=>{this.state="closed"},layout:W}),Z=3===this.message.type?k.NC("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?k.NC("alertWarningMessage","Warning: {0}",this.message.content):k.NC("alertInfoMessage","Info: {0}",this.message.content),v.Z9(Z),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const N=this.value,Z=10===N.charCodeAt(N.length-1)?" ":"";(N+Z).replace(/\u000c/g,"")?this.mirror.textContent=N+Z:this.mirror.innerText="\xa0",this.layout()}style(N){this.inputBackground=N.inputBackground,this.inputForeground=N.inputForeground,this.inputBorder=N.inputBorder,this.inputValidationInfoBackground=N.inputValidationInfoBackground,this.inputValidationInfoForeground=N.inputValidationInfoForeground,this.inputValidationInfoBorder=N.inputValidationInfoBorder,this.inputValidationWarningBackground=N.inputValidationWarningBackground,this.inputValidationWarningForeground=N.inputValidationWarningForeground,this.inputValidationWarningBorder=N.inputValidationWarningBorder,this.inputValidationErrorBackground=N.inputValidationErrorBackground,this.inputValidationErrorForeground=N.inputValidationErrorForeground,this.inputValidationErrorBorder=N.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const N=this.inputBackground?this.inputBackground.toString():"",W=this.inputForeground?this.inputForeground.toString():"",Z=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=N,this.element.style.color=W,this.input.style.backgroundColor="inherit",this.input.style.color=W,this.element.style.borderWidth=Z?"1px":"",this.element.style.borderStyle=Z?"solid":"",this.element.style.borderColor=Z}layout(){if(!this.mirror)return;const N=this.cachedContentHeight;this.cachedContentHeight=d.wn(this.mirror),N!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(N){const W=this.inputElement,Z=W.selectionStart,ge=W.selectionEnd,M=W.value;null!==Z&&null!==ge&&(this.value=M.substr(0,Z)+N+M.substr(ge),W.setSelectionRange(Z+1,Z+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class U extends K{constructor(N,W,Z){const ge=k.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),M=` or \u21c5 ${ge}`,we=` (\u21c5 ${ge})`;super(N,W,Z),this._onDidFocus=this._register(new L.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new L.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new s(Z.history,100);const Ee=()=>{if(Z.showHistoryHint&&Z.showHistoryHint()&&!this.placeholder.endsWith(M)&&!this.placeholder.endsWith(we)&&this.history.getHistory().length){const xe=this.placeholder.endsWith(")")?M:we,Ne=this.placeholder+xe;Z.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=Ne:this.setPlaceHolder(Ne)}};this.observer=new MutationObserver((xe,Ne)=>{xe.forEach(oe=>{oe.target.textContent||Ee()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>Ee()),this.onblur(this.input,()=>{const xe=Ne=>{if(this.placeholder.endsWith(Ne)){const oe=this.placeholder.slice(0,this.placeholder.length-Ne.length);return Z.showPlaceholderOnFocus?this.placeholder=oe:this.setPlaceHolder(oe),!0}return!1};xe(we)||xe(M)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let N=this.getNextValue();N&&(N=N===this.value?this.getNextValue():N),N&&(this.value=N,v.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let N=this.getPreviousValue();N&&(N=N===this.value?this.getPreviousValue():N),N&&(this.value=N,v.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let N=this.history.current();return N||(N=this.history.last(),this.history.next()),N}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},15175:(Dt,Y,e)=>{"use strict";e.d(Y,{A:()=>d});class d extends Error{constructor(l,S){super(`ListError [${l}] ${S}`)}}},66127:(Dt,Y,e)=>{"use strict";e.d(Y,{kX:()=>x,Bv:()=>z});var d=e(37428),n=e(67719),l=e(98463),S=e(75366),v=e(62922),T=e(3067),C=e(64023),E=e(48648),L=e(66471),_=e(3778),s=e(80142),m=e(36969),c=e(87188);function t(k,F){const j=[];for(const K of F){if(k.start>=K.range.end)continue;if(k.end<K.range.start)break;const U=m.e.intersect(k,K.range);m.e.isEmpty(U)||j.push({range:U,size:K.size})}return j}function a({start:k,end:F},j){return{start:k+j,end:F+j}}class g{constructor(){this.groups=[],this._size=0}splice(F,j,K=[]){const U=K.length-j,ne=t({start:0,end:F},this.groups),N=t({start:F+j,end:Number.POSITIVE_INFINITY},this.groups).map(Z=>({range:a(Z.range,U),size:Z.size})),W=K.map((Z,ge)=>({range:{start:F+ge,end:F+ge+1},size:Z.size}));this.groups=function u(...k){return function p(k){const F=[];let j=null;for(const K of k){const U=K.range.start,ne=K.range.end,N=K.size;j&&N===j.size?j.range.end=ne:(j={range:{start:U,end:ne},size:N},F.push(j))}return F}(k.reduce((F,j)=>F.concat(j),[]))}(ne,W,N),this._size=this.groups.reduce((Z,ge)=>Z+ge.size*(ge.range.end-ge.range.start),0)}get count(){const F=this.groups.length;return F?this.groups[F-1].range.end:0}get size(){return this._size}indexAt(F){if(F<0)return-1;let j=0,K=0;for(const U of this.groups){const ne=U.range.end-U.range.start,N=K+ne*U.size;if(F<N)return j+Math.floor((F-K)/U.size);j+=ne,K=N}return j}indexAfter(F){return Math.min(this.indexAt(F)+1,this.count)}positionAt(F){if(F<0)return-1;let j=0,K=0;for(const U of this.groups){const ne=U.range.end-U.range.start,N=K+ne;if(F<N)return j+(F-K)*U.size;j+=ne*U.size,K=N}return-1}}class y{constructor(F){this.renderers=F,this.cache=new Map}alloc(F){let j=this.getTemplateCache(F).pop();if(!j){const K=(0,l.$)(".monaco-list-row");j={domNode:K,templateId:F,templateData:this.getRenderer(F).renderTemplate(K)}}return j}release(F){!F||this.releaseRow(F)}releaseRow(F){const{domNode:j,templateId:K}=F;j&&(j.classList.remove("scrolling"),function b(k){var F;try{null===(F=k.parentElement)||void 0===F||F.removeChild(k)}catch{}}(j)),this.getTemplateCache(K).push(F)}getTemplateCache(F){let j=this.cache.get(F);return j||(j=[],this.cache.set(F,j)),j}dispose(){this.cache.forEach((F,j)=>{for(const K of F)this.getRenderer(j).disposeTemplate(K.templateData),K.templateData=null}),this.cache.clear()}getRenderer(F){const j=this.renderers.get(F);if(!j)throw new Error(`No renderer found for ${F}`);return j}}var w=function(k,F,j,K){var N,U=arguments.length,ne=U<3?F:null===K?K=Object.getOwnPropertyDescriptor(F,j):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(k,F,j,K);else for(var W=k.length-1;W>=0;W--)(N=k[W])&&(ne=(U<3?N(ne):U>3?N(F,j,ne):N(F,j))||ne);return U>3&&ne&&Object.defineProperty(F,j,ne),ne};const D={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:k=>[k],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class x{constructor(F){this.elements=F}update(){}getData(){return this.elements}}class P{constructor(F){this.elements=F}update(){}getData(){return this.elements}}class O{constructor(){this.types=[],this.files=[]}update(F){if(F.types&&this.types.splice(0,this.types.length,...F.types),F.files){this.files.splice(0,this.files.length);for(let j=0;j<F.files.length;j++){const K=F.files.item(j);K&&(K.size||K.type)&&this.files.push(K)}}}getData(){return{types:this.types,files:this.files}}}class H{constructor(F){this.getSetSize=F?.getSetSize?F.getSetSize.bind(F):(j,K,U)=>U,this.getPosInSet=F?.getPosInSet?F.getPosInSet.bind(F):(j,K)=>K+1,this.getRole=F?.getRole?F.getRole.bind(F):j=>"listitem",this.isChecked=F?.isChecked?F.isChecked.bind(F):j=>{}}}class z{constructor(F,j,K,U=D){var ne,N,W,Z,ge,M,we,Ee,xe,Ne;if(this.virtualDelegate=j,this.domId="list_id_"+ ++z.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new E.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=s.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=s.JT.None,this.onDragLeaveTimeout=s.JT.None,this.disposables=new s.SL,this._onDidChangeContentHeight=new _.Q5,this._horizontalScrolling=!1,U.horizontalScrolling&&U.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new g;for(const Se of K)this.renderers.set(Se.templateId,Se);this.cache=this.disposables.add(new y(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof U.mouseSupport||U.mouseSupport),this._horizontalScrolling=null!==(ne=U.horizontalScrolling)&&void 0!==ne?ne:D.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof U.additionalScrollHeight>"u"?0:U.additionalScrollHeight,this.accessibilityProvider=new H(U.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(null!==(N=U.transformOptimization)&&void 0!==N?N:D.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(v.o.addTarget(this.rowsContainer)),this.scrollable=new c.Rm({forceIntegerValues:!0,smoothScrollDuration:null!==(W=U.smoothScrolling)&&void 0!==W&&W?125:0,scheduleAtNextAnimationFrame:Se=>(0,l.jL)(Se)}),this.scrollableElement=this.disposables.add(new T.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(Z=U.alwaysConsumeMouseWheel)&&void 0!==Z?Z:D.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(ge=U.verticalScrollMode)&&void 0!==ge?ge:D.verticalScrollMode,useShadows:null!==(M=U.useShadows)&&void 0!==M?M:D.useShadows,mouseWheelScrollSensitivity:U.mouseWheelScrollSensitivity,fastScrollSensitivity:U.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),F.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,l.nm)(this.rowsContainer,v.t.Change,Se=>this.onTouchChange(Se))),this.disposables.add((0,l.nm)(this.scrollableElement.getDomNode(),"scroll",Se=>Se.target.scrollTop=0)),this.disposables.add((0,l.nm)(this.domNode,"dragover",Se=>this.onDragOver(this.toDragEvent(Se)))),this.disposables.add((0,l.nm)(this.domNode,"drop",Se=>this.onDrop(this.toDragEvent(Se)))),this.disposables.add((0,l.nm)(this.domNode,"dragleave",Se=>this.onDragLeave(this.toDragEvent(Se)))),this.disposables.add((0,l.nm)(this.domNode,"dragend",Se=>this.onDragEnd(Se))),this.setRowLineHeight=null!==(we=U.setRowLineHeight)&&void 0!==we?we:D.setRowLineHeight,this.setRowHeight=null!==(Ee=U.setRowHeight)&&void 0!==Ee?Ee:D.setRowHeight,this.supportDynamicHeights=null!==(xe=U.supportDynamicHeights)&&void 0!==xe?xe:D.supportDynamicHeights,this.dnd=null!==(Ne=U.dnd)&&void 0!==Ne?Ne:D.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(F){if(F!==this._horizontalScrolling){if(F&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=F,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const j of this.items)this.measureItemWidth(j);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,l.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(F){void 0!==F.additionalScrollHeight&&(this.additionalScrollHeight=F.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==F.smoothScrolling&&this.scrollable.setSmoothScrollDuration(F.smoothScrolling?125:0),void 0!==F.horizontalScrolling&&(this.horizontalScrolling=F.horizontalScrolling),void 0!==F.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:F.mouseWheelScrollSensitivity}),void 0!==F.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:F.fastScrollSensitivity})}splice(F,j,K=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(F,j,K)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(F,j,K=[]){const U=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N=m.e.intersect(U,{start:F,end:F+j}),W=new Map;for(let Ue=N.end-1;Ue>=N.start;Ue--){const ze=this.items[Ue];if(ze.dragStartDisposable.dispose(),ze.checkedDisposable.dispose(),ze.row){let ce=W.get(ze.templateId);ce||(ce=[],W.set(ze.templateId,ce));const Ve=this.renderers.get(ze.templateId);Ve&&Ve.disposeElement&&Ve.disposeElement(ze.element,Ue,ze.row.templateData,ze.size),ce.push(ze.row)}ze.row=null}const Z={start:F+j,end:this.items.length},ge=m.e.intersect(Z,U),M=m.e.relativeComplement(Z,U),we=K.map(Ue=>({id:String(this.itemId++),element:Ue,templateId:this.virtualDelegate.getTemplateId(Ue),size:this.virtualDelegate.getHeight(Ue),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ue),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:s.JT.None,checkedDisposable:s.JT.None}));let Ee;0===F&&j>=this.items.length?(this.rangeMap=new g,this.rangeMap.splice(0,0,we),Ee=this.items,this.items=we):(this.rangeMap.splice(F,j,we),Ee=this.items.splice(F,j,...we));const xe=K.length-j,Ne=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),oe=a(ge,xe),Se=m.e.intersect(Ne,oe);for(let Ue=Se.start;Ue<Se.end;Ue++)this.updateItemInDOM(this.items[Ue],Ue);const Ie=m.e.relativeComplement(oe,Ne);for(const Ue of Ie)for(let ze=Ue.start;ze<Ue.end;ze++)this.removeItemFromDOM(ze);const me=M.map(Ue=>a(Ue,xe)),de=[{start:F,end:F+K.length},...me].map(Ue=>m.e.intersect(Ne,Ue)),ke=this.getNextToLastElement(de);for(const Ue of de)for(let ze=Ue.start;ze<Ue.end;ze++){const tt=W.get(this.items[ze].templateId)?.pop();this.insertItemInDOM(ze,ke,tt)}for(const Ue of W.values())for(const ze of Ue)this.cache.release(ze);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Ee.map(Ue=>Ue.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,l.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let F=0;for(const j of this.items)typeof j.width<"u"&&(F=Math.max(F,j.width));this.scrollWidth=F,this.scrollableElement.setScrollDimensions({scrollWidth:0===F?0:F+10})}rerender(){if(this.supportDynamicHeights){for(const F of this.items)F.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(F){return this.items[F].element}domElement(F){const j=this.items[F].row;return j&&j.domNode}elementHeight(F){return this.items[F].size}elementTop(F){return this.rangeMap.positionAt(F)}indexAt(F){return this.rangeMap.indexAt(F)}indexAfter(F){return this.rangeMap.indexAfter(F)}layout(F,j){const K={height:"number"==typeof F?F:(0,l.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,K.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(K),typeof j<"u"&&(this.renderWidth=j,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof j?j:(0,l.FK)(this.domNode)})}render(F,j,K,U,ne,N=!1){const W=this.getRenderRange(j,K),Z=m.e.relativeComplement(W,F),ge=m.e.relativeComplement(F,W),M=this.getNextToLastElement(Z);if(N){const we=m.e.intersect(F,W);for(let Ee=we.start;Ee<we.end;Ee++)this.updateItemInDOM(this.items[Ee],Ee)}for(const we of Z)for(let Ee=we.start;Ee<we.end;Ee++)this.insertItemInDOM(Ee,M);for(const we of ge)for(let Ee=we.start;Ee<we.end;Ee++)this.removeItemFromDOM(Ee);void 0!==U&&(this.rowsContainer.style.left=`-${U}px`),this.rowsContainer.style.top=`-${j}px`,this.horizontalScrolling&&void 0!==ne&&(this.rowsContainer.style.width=`${Math.max(ne,this.renderWidth)}px`),this.lastRenderTop=j,this.lastRenderHeight=K}insertItemInDOM(F,j,K){const U=this.items[F];U.row||(U.row=K??this.cache.alloc(U.templateId));const ne=this.accessibilityProvider.getRole(U.element)||"listitem";U.row.domNode.setAttribute("role",ne);const N=this.accessibilityProvider.isChecked(U.element);if("boolean"==typeof N)U.row.domNode.setAttribute("aria-checked",String(!!N));else if(N){const ge=M=>U.row.domNode.setAttribute("aria-checked",String(!!M));ge(N.value),U.checkedDisposable=N.onDidChange(ge)}U.row.domNode.parentElement||(j?this.rowsContainer.insertBefore(U.row.domNode,j):this.rowsContainer.appendChild(U.row.domNode)),this.updateItemInDOM(U,F);const W=this.renderers.get(U.templateId);if(!W)throw new Error(`No renderer found for template id ${U.templateId}`);W?.renderElement(U.element,F,U.row.templateData,U.size);const Z=this.dnd.getDragURI(U.element);U.dragStartDisposable.dispose(),U.row.domNode.draggable=!!Z,Z&&(U.dragStartDisposable=(0,l.nm)(U.row.domNode,"dragstart",ge=>this.onDragStart(U.element,Z,ge))),this.horizontalScrolling&&(this.measureItemWidth(U),this.eventuallyUpdateScrollWidth())}measureItemWidth(F){if(!F.row||!F.row.domNode)return;F.row.domNode.style.width=d.isFirefox?"-moz-fit-content":"fit-content",F.width=(0,l.FK)(F.row.domNode);const j=window.getComputedStyle(F.row.domNode);j.paddingLeft&&(F.width+=parseFloat(j.paddingLeft)),j.paddingRight&&(F.width+=parseFloat(j.paddingRight)),F.row.domNode.style.width=""}updateItemInDOM(F,j){F.row.domNode.style.top=`${this.elementTop(j)}px`,this.setRowHeight&&(F.row.domNode.style.height=`${F.size}px`),this.setRowLineHeight&&(F.row.domNode.style.lineHeight=`${F.size}px`),F.row.domNode.setAttribute("data-index",`${j}`),F.row.domNode.setAttribute("data-last-element",j===this.length-1?"true":"false"),F.row.domNode.setAttribute("data-parity",j%2==0?"even":"odd"),F.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(F.element,j,this.length))),F.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(F.element,j))),F.row.domNode.setAttribute("id",this.getElementDomId(j)),F.row.domNode.classList.toggle("drop-target",F.dropTarget)}removeItemFromDOM(F){const j=this.items[F];if(j.dragStartDisposable.dispose(),j.checkedDisposable.dispose(),j.row){const K=this.renderers.get(j.templateId);K&&K.disposeElement&&K.disposeElement(j.element,F,j.row.templateData,j.size),this.cache.release(j.row),j.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(F,j){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:F,reuseAnimation:j})}get scrollTop(){return this.getScrollTop()}set scrollTop(F){this.setScrollTop(F)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"click")).event,F=>this.toMouseEvent(F),this.disposables)}get onMouseDblClick(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"dblclick")).event,F=>this.toMouseEvent(F),this.disposables)}get onMouseMiddleClick(){return _.ju.filter(_.ju.map(this.disposables.add(new S.Y(this.domNode,"auxclick")).event,F=>this.toMouseEvent(F),this.disposables),F=>1===F.browserEvent.button,this.disposables)}get onMouseDown(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"mousedown")).event,F=>this.toMouseEvent(F),this.disposables)}get onMouseOver(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"mouseover")).event,F=>this.toMouseEvent(F),this.disposables)}get onContextMenu(){return _.ju.any(_.ju.map(this.disposables.add(new S.Y(this.domNode,"contextmenu")).event,F=>this.toMouseEvent(F),this.disposables),_.ju.map(this.disposables.add(new S.Y(this.domNode,v.t.Contextmenu)).event,F=>this.toGestureEvent(F),this.disposables))}get onTouchStart(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"touchstart")).event,F=>this.toTouchEvent(F),this.disposables)}get onTap(){return _.ju.map(this.disposables.add(new S.Y(this.rowsContainer,v.t.Tap)).event,F=>this.toGestureEvent(F),this.disposables)}toMouseEvent(F){const j=this.getItemIndexFromEventTarget(F.target||null),K=typeof j>"u"?void 0:this.items[j];return{browserEvent:F,index:j,element:K&&K.element}}toTouchEvent(F){const j=this.getItemIndexFromEventTarget(F.target||null),K=typeof j>"u"?void 0:this.items[j];return{browserEvent:F,index:j,element:K&&K.element}}toGestureEvent(F){const j=this.getItemIndexFromEventTarget(F.initialTarget||null),K=typeof j>"u"?void 0:this.items[j];return{browserEvent:F,index:j,element:K&&K.element}}toDragEvent(F){const j=this.getItemIndexFromEventTarget(F.target||null),K=typeof j>"u"?void 0:this.items[j];return{browserEvent:F,index:j,element:K&&K.element}}onScroll(F){try{const j=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(j,F.scrollTop,F.height,F.scrollLeft,F.scrollWidth),this.supportDynamicHeights&&this._rerender(F.scrollTop,F.height,F.inSmoothScrolling)}catch(j){throw console.error("Got bad scroll event:",F),j}}onTouchChange(F){F.preventDefault(),F.stopPropagation(),this.scrollTop-=F.translationY}onDragStart(F,j,K){var U,ne;if(!K.dataTransfer)return;const N=this.dnd.getDragElements(F);if(K.dataTransfer.effectAllowed="copyMove",K.dataTransfer.setData(n.g.TEXT,j),K.dataTransfer.setDragImage){let W;this.dnd.getDragLabel&&(W=this.dnd.getDragLabel(N,K)),typeof W>"u"&&(W=String(N.length));const Z=(0,l.$)(".monaco-drag-image");Z.textContent=W,document.body.appendChild(Z),K.dataTransfer.setDragImage(Z,-10,-10),setTimeout(()=>document.body.removeChild(Z),0)}this.currentDragData=new x(N),n.P.CurrentDragAndDropData=new P(N),null===(ne=(U=this.dnd).onDragStart)||void 0===ne||ne.call(U,this.currentDragData,K)}onDragOver(F){var j;if(F.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),n.P.CurrentDragAndDropData&&"vscode-ui"===n.P.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(F.browserEvent),!F.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(n.P.CurrentDragAndDropData)this.currentDragData=n.P.CurrentDragAndDropData;else{if(!F.browserEvent.dataTransfer.types)return!1;this.currentDragData=new O}const K=this.dnd.onDragOver(this.currentDragData,F.element,F.index,F.browserEvent);if(this.canDrop="boolean"==typeof K?K:K.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let U;if(F.browserEvent.dataTransfer.dropEffect="boolean"!=typeof K&&0===K.effect?"copy":"move",U="boolean"!=typeof K&&K.feedback?K.feedback:typeof F.index>"u"?[-1]:[F.index],U=(0,C.EB)(U).filter(ne=>ne>=-1&&ne<this.length).sort((ne,N)=>ne-N),U=-1===U[0]?[-1]:U,function V(k,F){return Array.isArray(k)&&Array.isArray(F)?(0,C.fS)(k,F):k===F}(this.currentDragFeedback,U))return!0;if(this.currentDragFeedback=U,this.currentDragFeedbackDisposable.dispose(),-1===U[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,s.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const ne of U){const N=this.items[ne];N.dropTarget=!0,null===(j=N.row)||void 0===j||j.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,s.OF)(()=>{var ne;for(const N of U){const W=this.items[N];W.dropTarget=!1,null===(ne=W.row)||void 0===ne||ne.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(F){var j,K;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,E.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(K=(j=this.dnd).onDragLeave)||void 0===K||K.call(j,this.currentDragData,F.element,F.index,F.browserEvent))}onDrop(F){if(!this.canDrop)return;const j=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,n.P.CurrentDragAndDropData=void 0,j&&F.browserEvent.dataTransfer&&(F.browserEvent.preventDefault(),j.update(F.browserEvent.dataTransfer),this.dnd.drop(j,F.element,F.index,F.browserEvent))}onDragEnd(F){var j,K;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,n.P.CurrentDragAndDropData=void 0,null===(K=(j=this.dnd).onDragEnd)||void 0===K||K.call(j,F)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=s.JT.None}setupDragAndDropScrollTopAnimation(F){if(!this.dragOverAnimationDisposable){const j=(0,l.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,l.jt)(this.animateDragAndDropScrollTop.bind(this,j))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,E.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=F.pageY}animateDragAndDropScrollTop(F){if(void 0===this.dragOverMouseY)return;const j=this.dragOverMouseY-F,K=this.renderHeight-35;j<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(j-35))):j>K&&(this.scrollTop+=Math.min(14,Math.floor(.3*(j-K))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(F){const j=this.scrollableElement.getDomNode();let K=F;for(;K instanceof HTMLElement&&K!==this.rowsContainer&&j.contains(K);){const U=K.getAttribute("data-index");if(U){const ne=Number(U);if(!isNaN(ne))return ne}K=K.parentElement}}getRenderRange(F,j){return{start:this.rangeMap.indexAt(F),end:this.rangeMap.indexAfter(F+j-1)}}_rerender(F,j,K){const U=this.getRenderRange(F,j);let ne,N;F===this.elementTop(U.start)?(ne=U.start,N=0):U.end-U.start>1&&(ne=U.start+1,N=this.elementTop(ne)-F);let W=0;for(;;){const Z=this.getRenderRange(F,j);let ge=!1;for(let M=Z.start;M<Z.end;M++){const we=this.probeDynamicHeight(M);0!==we&&this.rangeMap.splice(M,1,[this.items[M]]),W+=we,ge=ge||0!==we}if(!ge){0!==W&&this.eventuallyUpdateScrollDimensions();const M=m.e.relativeComplement(U,Z);for(const Ee of M)for(let xe=Ee.start;xe<Ee.end;xe++)this.items[xe].row&&this.removeItemFromDOM(xe);const we=m.e.relativeComplement(Z,U);for(const Ee of we)for(let xe=Ee.start;xe<Ee.end;xe++){const Ne=xe+1,oe=Ne<this.items.length?this.items[Ne].row:null;this.insertItemInDOM(xe,oe?oe.domNode:null)}for(let Ee=Z.start;Ee<Z.end;Ee++)this.items[Ee].row&&this.updateItemInDOM(this.items[Ee],Ee);if("number"==typeof ne){const Ee=this.scrollable.getFutureScrollPosition().scrollTop-F,xe=this.elementTop(ne)-N+Ee;this.setScrollTop(xe,K)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(F){var j,K,U;const ne=this.items[F];if(this.virtualDelegate.getDynamicHeight){const ge=this.virtualDelegate.getDynamicHeight(ne.element);if(null!==ge){const M=ne.size;return ne.size=ge,ne.lastDynamicHeightWidth=this.renderWidth,ge-M}}if(!ne.hasDynamicHeight||ne.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(ne.element))return 0;const N=ne.size;if(!this.setRowHeight&&ne.row){const ge=ne.row.domNode.offsetHeight;return ne.size=ge,ne.lastDynamicHeightWidth=this.renderWidth,ge-N}const W=this.cache.alloc(ne.templateId);W.domNode.style.height="",this.rowsContainer.appendChild(W.domNode);const Z=this.renderers.get(ne.templateId);return Z&&(Z.renderElement(ne.element,F,W.templateData,void 0),null===(j=Z.disposeElement)||void 0===j||j.call(Z,ne.element,F,W.templateData,void 0)),ne.size=W.domNode.offsetHeight,null===(U=(K=this.virtualDelegate).setDynamicHeight)||void 0===U||U.call(K,ne.element,ne.size),ne.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(W.domNode),this.cache.release(W),ne.size-N}getNextToLastElement(F){const j=F[F.length-1];if(!j)return null;const K=this.items[j.end];return K&&K.row?K.row.domNode:null}getElementDomId(F){return`${this.domId}_${F}`}dispose(){var F;if(this.items){for(const j of this.items)if(j.row){const K=this.renderers.get(j.row.templateId);K&&(null===(F=K.disposeElement)||void 0===F||F.call(K,j.element,-1,j.row.templateData,void 0),K.disposeTemplate(j.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,s.B9)(this.disposables)}}z.InstanceCount=0,w([L.H],z.prototype,"onMouseClick",null),w([L.H],z.prototype,"onMouseDblClick",null),w([L.H],z.prototype,"onMouseMiddleClick",null),w([L.H],z.prototype,"onMouseDown",null),w([L.H],z.prototype,"onMouseOver",null),w([L.H],z.prototype,"onContextMenu",null),w([L.H],z.prototype,"onTouchStart",null),w([L.H],z.prototype,"onTap",null)},25478:(Dt,Y,e)=>{"use strict";e.d(Y,{AA:()=>j,Zo:()=>W,aV:()=>Ue,cK:()=>H,hD:()=>z,iK:()=>k,sx:()=>we,wD:()=>Ee,wn:()=>Z});var d=e(98463),n=e(75366),l=e(41140),S=e(62922),v=e(59797),T=e(83256),C=e(64023),E=e(48648),L=e(69355),_=e(66471),s=e(3778),m=e(25715),c=e(80142),t=e(73455),a=e(6276),p=e(8841),u=e(72715),b=(e(57948),e(15175)),y=e(66127),w=function(ze,ce,Ve,tt){var $e,Ct=arguments.length,Lt=Ct<3?ce:null===tt?tt=Object.getOwnPropertyDescriptor(ce,Ve):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Lt=Reflect.decorate(ze,ce,Ve,tt);else for(var ae=ze.length-1;ae>=0;ae--)($e=ze[ae])&&(Lt=(Ct<3?$e(Lt):Ct>3?$e(ce,Ve,Lt):$e(ce,Ve))||Lt);return Ct>3&&Lt&&Object.defineProperty(ce,Ve,Lt),Lt},D=function(ze,ce,Ve,tt){return new(Ve||(Ve=Promise))(function(Lt,$e){function ae(le){try{he(tt.next(le))}catch(Q){$e(Q)}}function ve(le){try{he(tt.throw(le))}catch(Q){$e(Q)}}function he(le){le.done?Lt(le.value):function Ct(Lt){return Lt instanceof Ve?Lt:new Ve(function($e){$e(Lt)})}(le.value).then(ae,ve)}he((tt=tt.apply(ze,ce||[])).next())})};class x{constructor(ce){this.trait=ce,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ce){return ce}renderElement(ce,Ve,tt){const Ct=this.renderedElements.findIndex(Lt=>Lt.templateData===tt);if(Ct>=0){const Lt=this.renderedElements[Ct];this.trait.unrender(tt),Lt.index=Ve}else this.renderedElements.push({index:Ve,templateData:tt});this.trait.renderIndex(Ve,tt)}splice(ce,Ve,tt){const Ct=[];for(const Lt of this.renderedElements)Lt.index<ce?Ct.push(Lt):Lt.index>=ce+Ve&&Ct.push({index:Lt.index+tt-Ve,templateData:Lt.templateData});this.renderedElements=Ct}renderIndexes(ce){for(const{index:Ve,templateData:tt}of this.renderedElements)ce.indexOf(Ve)>-1&&this.trait.renderIndex(Ve,tt)}disposeTemplate(ce){const Ve=this.renderedElements.findIndex(tt=>tt.templateData===ce);Ve<0||this.renderedElements.splice(Ve,1)}}class P{constructor(ce){this._trait=ce,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new s.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new x(this)}splice(ce,Ve,tt){var Ct;Ve=Math.max(0,Math.min(Ve,this.length-ce));const Lt=tt.length-Ve,$e=ce+Ve,ae=[...this.sortedIndexes.filter(he=>he<ce),...tt.map((he,le)=>he?le+ce:-1).filter(he=>-1!==he),...this.sortedIndexes.filter(he=>he>=$e).map(he=>he+Lt)],ve=this.length+Lt;if(this.sortedIndexes.length>0&&0===ae.length&&ve>0){const he=null!==(Ct=this.sortedIndexes.find(le=>le>=ce))&&void 0!==Ct?Ct:ve-1;ae.push(Math.min(he,ve-1))}this.renderer.splice(ce,Ve,tt.length),this._set(ae,ae),this.length=ve}renderIndex(ce,Ve){Ve.classList.toggle(this._trait,this.contains(ce))}unrender(ce){ce.classList.remove(this._trait)}set(ce,Ve){return this._set(ce,[...ce].sort(me),Ve)}_set(ce,Ve,tt){const Ct=this.indexes,Lt=this.sortedIndexes;this.indexes=ce,this.sortedIndexes=Ve;const $e=Se(Lt,ce);return this.renderer.renderIndexes($e),this._onChange.fire({indexes:ce,browserEvent:tt}),Ct}get(){return this.indexes}contains(ce){return(0,C.ry)(this.sortedIndexes,ce,me)>=0}dispose(){(0,c.B9)(this._onChange)}}w([_.H],P.prototype,"renderer",null);class O extends P{constructor(ce){super("selected"),this.setAriaSelected=ce}renderIndex(ce,Ve){super.renderIndex(ce,Ve),this.setAriaSelected&&(this.contains(ce)?Ve.setAttribute("aria-selected","true"):Ve.setAttribute("aria-selected","false"))}}class V{constructor(ce,Ve,tt){this.trait=ce,this.view=Ve,this.identityProvider=tt}splice(ce,Ve,tt){if(!this.identityProvider)return this.trait.splice(ce,Ve,tt.map(()=>!1));const Ct=this.trait.get().map($e=>this.identityProvider.getId(this.view.element($e)).toString()),Lt=tt.map($e=>Ct.indexOf(this.identityProvider.getId($e).toString())>-1);this.trait.splice(ce,Ve,Lt)}}function H(ze){return"INPUT"===ze.tagName||"TEXTAREA"===ze.tagName}function z(ze){return!!ze.classList.contains("monaco-editor")||!(ze.classList.contains("monaco-list")||!ze.parentElement)&&z(ze.parentElement)}function k(ze){return!!("A"===ze.tagName&&ze.classList.contains("monaco-button")||"DIV"===ze.tagName&&ze.classList.contains("monaco-button-dropdown"))||!(ze.classList.contains("monaco-list")||!ze.parentElement)&&k(ze.parentElement)}class F{constructor(ce,Ve,tt){this.list=ce,this.view=Ve,this.disposables=new c.SL,this.multipleSelectionDisposables=new c.SL,this.onKeyDown.filter(Ct=>3===Ct.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Ct=>16===Ct.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Ct=>18===Ct.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Ct=>11===Ct.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Ct=>12===Ct.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Ct=>9===Ct.keyCode).on(this.onEscape,this,this.disposables),!1!==tt.multipleSelectionSupport&&this.onKeyDown.filter(Ct=>(p.dz?Ct.metaKey:Ct.ctrlKey)&&31===Ct.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(s.ju.chain(this.disposables.add(new n.Y(this.view.domNode,"keydown")).event).filter(ce=>!H(ce.target)).map(ce=>new l.y(ce)))}updateOptions(ce){void 0!==ce.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),ce.multipleSelectionSupport&&this.onKeyDown.filter(Ve=>(p.dz?Ve.metaKey:Ve.ctrlKey)&&31===Ve.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(ce){ce.preventDefault(),ce.stopPropagation(),this.list.setSelection(this.list.getFocus(),ce.browserEvent)}onUpArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusPrevious(1,!1,ce.browserEvent);const Ve=this.list.getFocus()[0];this.list.setAnchor(Ve),this.list.reveal(Ve),this.view.domNode.focus()}onDownArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusNext(1,!1,ce.browserEvent);const Ve=this.list.getFocus()[0];this.list.setAnchor(Ve),this.list.reveal(Ve),this.view.domNode.focus()}onPageUpArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusPreviousPage(ce.browserEvent);const Ve=this.list.getFocus()[0];this.list.setAnchor(Ve),this.list.reveal(Ve),this.view.domNode.focus()}onPageDownArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusNextPage(ce.browserEvent);const Ve=this.list.getFocus()[0];this.list.setAnchor(Ve),this.list.reveal(Ve),this.view.domNode.focus()}onCtrlA(ce){ce.preventDefault(),ce.stopPropagation(),this.list.setSelection((0,C.w6)(this.list.length),ce.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ce){this.list.getSelection().length&&(ce.preventDefault(),ce.stopPropagation(),this.list.setSelection([],ce.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}w([_.H],F.prototype,"onKeyDown",null);var j=(()=>{return(ze=j||(j={}))[ze.Automatic=0]="Automatic",ze[ze.Trigger=1]="Trigger",j;var ze})(),K=(()=>{return(ze=K||(K={}))[ze.Idle=0]="Idle",ze[ze.Typing=1]="Typing",K;var ze})();const U=new class{mightProducePrintableCharacter(ze){return!(ze.ctrlKey||ze.metaKey||ze.altKey)&&(ze.keyCode>=31&&ze.keyCode<=56||ze.keyCode>=21&&ze.keyCode<=30||ze.keyCode>=93&&ze.keyCode<=102||ze.keyCode>=80&&ze.keyCode<=90)}};class ne{constructor(ce,Ve,tt,Ct,Lt){this.list=ce,this.view=Ve,this.keyboardNavigationLabelProvider=tt,this.keyboardNavigationEventFilter=Ct,this.delegate=Lt,this.enabled=!1,this.state=K.Idle,this.mode=j.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new c.SL,this.disposables=new c.SL,this.updateOptions(ce.options)}updateOptions(ce){var Ve,tt;null===(Ve=ce.typeNavigationEnabled)||void 0===Ve||Ve?this.enable():this.disable(),this.mode=null!==(tt=ce.typeNavigationMode)&&void 0!==tt?tt:j.Automatic}enable(){if(this.enabled)return;let ce=!1;const Ve=this.enabledDisposables.add(s.ju.chain(this.enabledDisposables.add(new n.Y(this.view.domNode,"keydown")).event)).filter(Lt=>!H(Lt.target)).filter(()=>this.mode===j.Automatic||this.triggered).map(Lt=>new l.y(Lt)).filter(Lt=>ce||this.keyboardNavigationEventFilter(Lt)).filter(Lt=>this.delegate.mightProducePrintableCharacter(Lt)).forEach(n.p).map(Lt=>Lt.browserEvent.key).event,tt=s.ju.debounce(Ve,()=>null,800,void 0,void 0,this.enabledDisposables);s.ju.reduce(s.ju.any(Ve,tt),(Lt,$e)=>null===$e?null:(Lt||"")+$e,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),tt(this.onClear,this,this.enabledDisposables),Ve(()=>ce=!0,void 0,this.enabledDisposables),tt(()=>ce=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ce;const Ve=this.list.getFocus();if(Ve.length>0&&Ve[0]===this.previouslyFocused){const tt=null===(ce=this.list.options.accessibilityProvider)||void 0===ce?void 0:ce.getAriaLabel(this.list.element(Ve[0]));tt&&(0,v.Z9)(tt)}this.previouslyFocused=-1}onInput(ce){if(!ce)return this.state=K.Idle,void(this.triggered=!1);const Ve=this.list.getFocus(),tt=Ve.length>0?Ve[0]:0,Ct=this.state===K.Idle?1:0;this.state=K.Typing;for(let Lt=0;Lt<this.list.length;Lt++){const $e=(tt+Lt+Ct)%this.list.length,ae=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element($e)),ve=ae&&ae.toString();if(typeof ve>"u"||(0,m.Ji)(ce,ve))return this.previouslyFocused=tt,this.list.setFocus([$e]),void this.list.reveal($e)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class N{constructor(ce,Ve){this.list=ce,this.view=Ve,this.disposables=new c.SL,this.disposables.add(s.ju.chain(this.disposables.add(new n.Y(Ve.domNode,"keydown")).event)).filter(Ct=>!H(Ct.target)).map(Ct=>new l.y(Ct)).filter(Ct=>!(2!==Ct.keyCode||Ct.ctrlKey||Ct.metaKey||Ct.shiftKey||Ct.altKey)).on(this.onTab,this,this.disposables)}onTab(ce){if(ce.target!==this.view.domNode)return;const Ve=this.list.getFocus();if(0===Ve.length)return;const tt=this.view.domElement(Ve[0]);if(!tt)return;const Ct=tt.querySelector("[tabIndex]");if(!(Ct&&Ct instanceof HTMLElement&&-1!==Ct.tabIndex))return;const Lt=window.getComputedStyle(Ct);"hidden"===Lt.visibility||"none"===Lt.display||(ce.preventDefault(),ce.stopPropagation(),Ct.focus())}dispose(){this.disposables.dispose()}}function W(ze){return p.dz?ze.browserEvent.metaKey:ze.browserEvent.ctrlKey}function Z(ze){return ze.browserEvent.shiftKey}const M={isSelectionSingleChangeEvent:W,isSelectionRangeChangeEvent:Z};class we{constructor(ce){this.list=ce,this.disposables=new c.SL,this._onPointer=new s.Q5,this.onPointer=this._onPointer.event,!1!==ce.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||M),this.mouseSupport=typeof ce.options.mouseSupport>"u"||!!ce.options.mouseSupport,this.mouseSupport&&(ce.onMouseDown(this.onMouseDown,this,this.disposables),ce.onContextMenu(this.onContextMenu,this,this.disposables),ce.onMouseDblClick(this.onDoubleClick,this,this.disposables),ce.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(S.o.addTarget(ce.getHTMLElement()))),s.ju.any(ce.onMouseClick,ce.onMouseMiddleClick,ce.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ce){void 0!==ce.multipleSelectionSupport&&(this.multipleSelectionController=void 0,ce.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||M))}isSelectionSingleChangeEvent(ce){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(ce)}isSelectionRangeChangeEvent(ce){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(ce)}isSelectionChangeEvent(ce){return this.isSelectionSingleChangeEvent(ce)||this.isSelectionRangeChangeEvent(ce)}onMouseDown(ce){z(ce.browserEvent.target)||document.activeElement!==ce.browserEvent.target&&this.list.domFocus()}onContextMenu(ce){z(ce.browserEvent.target)||this.list.setFocus(typeof ce.index>"u"?[]:[ce.index],ce.browserEvent)}onViewPointer(ce){if(!this.mouseSupport||H(ce.browserEvent.target)||z(ce.browserEvent.target))return;const Ve=ce.index;return typeof Ve>"u"?(this.list.setFocus([],ce.browserEvent),this.list.setSelection([],ce.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(ce)||this.isSelectionChangeEvent(ce)?this.changeSelection(ce):(this.list.setFocus([Ve],ce.browserEvent),this.list.setAnchor(Ve),function ge(ze){return ze instanceof MouseEvent&&2===ze.button}(ce.browserEvent)||this.list.setSelection([Ve],ce.browserEvent),void this._onPointer.fire(ce))}onDoubleClick(ce){if(H(ce.browserEvent.target)||z(ce.browserEvent.target)||this.isSelectionChangeEvent(ce))return;const Ve=this.list.getFocus();this.list.setSelection(Ve,ce.browserEvent)}changeSelection(ce){const Ve=ce.index;let tt=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ce)){typeof tt>"u"&&(tt=this.list.getFocus()[0]??Ve,this.list.setAnchor(tt));const Ct=Math.min(tt,Ve),Lt=Math.max(tt,Ve),$e=(0,C.w6)(Ct,Lt+1),ae=this.list.getSelection(),ve=function oe(ze,ce){const Ve=ze.indexOf(ce);if(-1===Ve)return[];const tt=[];let Ct=Ve-1;for(;Ct>=0&&ze[Ct]===ce-(Ve-Ct);)tt.push(ze[Ct--]);for(tt.reverse(),Ct=Ve;Ct<ze.length&&ze[Ct]===ce+(Ct-Ve);)tt.push(ze[Ct++]);return tt}(Se(ae,[tt]),tt);if(0===ve.length)return;const he=Se($e,function Ie(ze,ce){const Ve=[];let tt=0,Ct=0;for(;tt<ze.length||Ct<ce.length;)if(tt>=ze.length)Ve.push(ce[Ct++]);else if(Ct>=ce.length)Ve.push(ze[tt++]);else{if(ze[tt]===ce[Ct]){tt++,Ct++;continue}ze[tt]<ce[Ct]?Ve.push(ze[tt++]):Ct++}return Ve}(ae,ve));this.list.setSelection(he,ce.browserEvent),this.list.setFocus([Ve],ce.browserEvent)}else if(this.isSelectionSingleChangeEvent(ce)){const Ct=this.list.getSelection(),Lt=Ct.filter($e=>$e!==Ve);this.list.setFocus([Ve]),this.list.setAnchor(Ve),this.list.setSelection(Ct.length===Lt.length?[...Lt,Ve]:Lt,ce.browserEvent)}}dispose(){this.disposables.dispose()}}class Ee{constructor(ce,Ve){this.styleElement=ce,this.selectorSuffix=Ve}style(ce){const Ve=this.selectorSuffix&&`.${this.selectorSuffix}`,tt=[];ce.listBackground&&(ce.listBackground.isOpaque()?tt.push(`.monaco-list${Ve} .monaco-list-rows { background: ${ce.listBackground}; }`):p.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),ce.listFocusBackground&&(tt.push(`.monaco-list${Ve}:focus .monaco-list-row.focused { background-color: ${ce.listFocusBackground}; }`),tt.push(`.monaco-list${Ve}:focus .monaco-list-row.focused:hover { background-color: ${ce.listFocusBackground}; }`)),ce.listFocusForeground&&tt.push(`.monaco-list${Ve}:focus .monaco-list-row.focused { color: ${ce.listFocusForeground}; }`),ce.listActiveSelectionBackground&&(tt.push(`.monaco-list${Ve}:focus .monaco-list-row.selected { background-color: ${ce.listActiveSelectionBackground}; }`),tt.push(`.monaco-list${Ve}:focus .monaco-list-row.selected:hover { background-color: ${ce.listActiveSelectionBackground}; }`)),ce.listActiveSelectionForeground&&tt.push(`.monaco-list${Ve}:focus .monaco-list-row.selected { color: ${ce.listActiveSelectionForeground}; }`),ce.listActiveSelectionIconForeground&&tt.push(`.monaco-list${Ve}:focus .monaco-list-row.selected .codicon { color: ${ce.listActiveSelectionIconForeground}; }`),ce.listFocusAndSelectionOutline&&tt.push(`.monaco-list${Ve}:focus .monaco-list-row.selected { outline-color: ${ce.listFocusAndSelectionOutline} !important; }`),ce.listFocusAndSelectionBackground&&tt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ve}:focus .monaco-list-row.selected.focused { background-color: ${ce.listFocusAndSelectionBackground}; }\n\t\t\t`),ce.listFocusAndSelectionForeground&&tt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ve}:focus .monaco-list-row.selected.focused { color: ${ce.listFocusAndSelectionForeground}; }\n\t\t\t`),ce.listInactiveFocusForeground&&(tt.push(`.monaco-list${Ve} .monaco-list-row.focused { color:  ${ce.listInactiveFocusForeground}; }`),tt.push(`.monaco-list${Ve} .monaco-list-row.focused:hover { color:  ${ce.listInactiveFocusForeground}; }`)),ce.listInactiveSelectionIconForeground&&tt.push(`.monaco-list${Ve} .monaco-list-row.focused .codicon { color:  ${ce.listInactiveSelectionIconForeground}; }`),ce.listInactiveFocusBackground&&(tt.push(`.monaco-list${Ve} .monaco-list-row.focused { background-color:  ${ce.listInactiveFocusBackground}; }`),tt.push(`.monaco-list${Ve} .monaco-list-row.focused:hover { background-color:  ${ce.listInactiveFocusBackground}; }`)),ce.listInactiveSelectionBackground&&(tt.push(`.monaco-list${Ve} .monaco-list-row.selected { background-color:  ${ce.listInactiveSelectionBackground}; }`),tt.push(`.monaco-list${Ve} .monaco-list-row.selected:hover { background-color:  ${ce.listInactiveSelectionBackground}; }`)),ce.listInactiveSelectionForeground&&tt.push(`.monaco-list${Ve} .monaco-list-row.selected { color: ${ce.listInactiveSelectionForeground}; }`),ce.listHoverBackground&&tt.push(`.monaco-list${Ve}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ce.listHoverBackground}; }`),ce.listHoverForeground&&tt.push(`.monaco-list${Ve} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ce.listHoverForeground}; }`),ce.listSelectionOutline&&tt.push(`.monaco-list${Ve} .monaco-list-row.selected { outline: 1px dotted ${ce.listSelectionOutline}; outline-offset: -1px; }`),ce.listFocusOutline&&tt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ve}:focus .monaco-list-row.focused { outline: 1px solid ${ce.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ve}.last-focused .monaco-list-row.focused { outline: 1px solid ${ce.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),ce.listInactiveFocusOutline&&tt.push(`.monaco-list${Ve} .monaco-list-row.focused { outline: 1px dotted ${ce.listInactiveFocusOutline}; outline-offset: -1px; }`),ce.listHoverOutline&&tt.push(`.monaco-list${Ve} .monaco-list-row:hover { outline: 1px dashed ${ce.listHoverOutline}; outline-offset: -1px; }`),ce.listDropBackground&&tt.push(`\n\t\t\t\t.monaco-list${Ve}.drop-target,\n\t\t\t\t.monaco-list${Ve} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ve} .monaco-list-row.drop-target { background-color: ${ce.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),ce.tableColumnsBorder&&tt.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${ce.tableColumnsBorder};\n\t\t\t}`),ce.tableOddRowsBackgroundColor&&tt.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${ce.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=tt.join("\n")}}const xe={listFocusBackground:L.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:L.Il.fromHex("#0E639C"),listActiveSelectionForeground:L.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:L.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:L.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:L.Il.fromHex("#094771"),listFocusAndSelectionForeground:L.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:L.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:L.Il.fromHex("#FFFFFF"),listHoverBackground:L.Il.fromHex("#2A2D2E"),listDropBackground:L.Il.fromHex("#383B3D"),treeIndentGuidesStroke:L.Il.fromHex("#a9a9a9"),tableColumnsBorder:L.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:L.Il.fromHex("#cccccc").transparent(.04)},Ne={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function Se(ze,ce){const Ve=[];let tt=0,Ct=0;for(;tt<ze.length||Ct<ce.length;)if(tt>=ze.length)Ve.push(ce[Ct++]);else if(Ct>=ce.length)Ve.push(ze[tt++]);else{if(ze[tt]===ce[Ct]){Ve.push(ze[tt]),tt++,Ct++;continue}Ve.push(ze[tt]<ce[Ct]?ze[tt++]:ce[Ct++])}return Ve}const me=(ze,ce)=>ze-ce;class Me{constructor(ce,Ve){this._templateId=ce,this.renderers=Ve}get templateId(){return this._templateId}renderTemplate(ce){return this.renderers.map(Ve=>Ve.renderTemplate(ce))}renderElement(ce,Ve,tt,Ct){let Lt=0;for(const $e of this.renderers)$e.renderElement(ce,Ve,tt[Lt++],Ct)}disposeElement(ce,Ve,tt,Ct){var Lt;let $e=0;for(const ae of this.renderers)null===(Lt=ae.disposeElement)||void 0===Lt||Lt.call(ae,ce,Ve,tt[$e],Ct),$e+=1}disposeTemplate(ce){let Ve=0;for(const tt of this.renderers)tt.disposeTemplate(ce[Ve++])}}class de{constructor(ce){this.accessibilityProvider=ce,this.templateId="a18n"}renderTemplate(ce){return ce}renderElement(ce,Ve,tt){const Ct=this.accessibilityProvider.getAriaLabel(ce);Ct?tt.setAttribute("aria-label",Ct):tt.removeAttribute("aria-label");const Lt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ce);"number"==typeof Lt?tt.setAttribute("aria-level",`${Lt}`):tt.removeAttribute("aria-level")}disposeTemplate(ce){}}class ke{constructor(ce,Ve){this.list=ce,this.dnd=Ve}getDragElements(ce){const Ve=this.list.getSelectedElements();return Ve.indexOf(ce)>-1?Ve:[ce]}getDragURI(ce){return this.dnd.getDragURI(ce)}getDragLabel(ce,Ve){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ce,Ve)}onDragStart(ce,Ve){var tt,Ct;null===(Ct=(tt=this.dnd).onDragStart)||void 0===Ct||Ct.call(tt,ce,Ve)}onDragOver(ce,Ve,tt,Ct){return this.dnd.onDragOver(ce,Ve,tt,Ct)}onDragLeave(ce,Ve,tt,Ct){var Lt,$e;null===($e=(Lt=this.dnd).onDragLeave)||void 0===$e||$e.call(Lt,ce,Ve,tt,Ct)}onDragEnd(ce){var Ve,tt;null===(tt=(Ve=this.dnd).onDragEnd)||void 0===tt||tt.call(Ve,ce)}drop(ce,Ve,tt,Ct){this.dnd.drop(ce,Ve,tt,Ct)}}class Ue{constructor(ce,Ve,tt,Ct,Lt=Ne){var $e,ae,ve,he;this.user=ce,this._options=Lt,this.focus=new P("focused"),this.anchor=new P("anchor"),this.eventBufferer=new s.E7,this._ariaLabel="",this.disposables=new c.SL,this._onDidDispose=new s.Q5,this.onDidDispose=this._onDidDispose.event;const le=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===($e=this._options.accessibilityProvider)||void 0===$e?void 0:$e.getWidgetRole():"list";this.selection=new O("listbox"!==le),(0,a.jB)(Lt,xe,!1);const Q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Lt.accessibilityProvider,this.accessibilityProvider&&(Q.push(new de(this.accessibilityProvider)),null===(ve=(ae=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===ve||ve.call(ae,this.onDidChangeActiveDescendant,this,this.disposables)),Ct=Ct.map(Pe=>new Me(Pe.templateId,[...Q,Pe]));const Ce=Object.assign(Object.assign({},Lt),{dnd:Lt.dnd&&new ke(this,Lt.dnd)});if(this.view=new y.Bv(Ve,tt,Ct,Ce),this.view.domNode.setAttribute("role",le),Lt.styleController)this.styleController=Lt.styleController(this.view.domId);else{const Pe=(0,d.dS)(this.view.domNode);this.styleController=new Ee(Pe,this.view.domId)}this.spliceable=new T.J([new V(this.focus,this.view,Lt.identityProvider),new V(this.selection,this.view,Lt.identityProvider),new V(this.anchor,this.view,Lt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new N(this,this.view)),("boolean"!=typeof Lt.keyboardSupport||Lt.keyboardSupport)&&(this.keyboardController=new F(this,this.view,Lt),this.disposables.add(this.keyboardController)),Lt.keyboardNavigationLabelProvider&&(this.typeNavigationController=new ne(this,this.view,Lt.keyboardNavigationLabelProvider,null!==(he=Lt.keyboardNavigationEventFilter)&&void 0!==he?he:()=>!0,Lt.keyboardNavigationDelegate||U),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(Lt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return s.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ce=>this.toListEvent(ce),this.disposables)}get onDidChangeSelection(){return s.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ce=>this.toListEvent(ce),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ce=!1;const Ve=this.disposables.add(s.ju.chain(this.disposables.add(new n.Y(this.view.domNode,"keydown")).event)).map(Lt=>new l.y(Lt)).filter(Lt=>ce=58===Lt.keyCode||Lt.shiftKey&&68===Lt.keyCode).map(n.p).filter(()=>!1).event,tt=this.disposables.add(s.ju.chain(this.disposables.add(new n.Y(this.view.domNode,"keyup")).event)).forEach(()=>ce=!1).map(Lt=>new l.y(Lt)).filter(Lt=>58===Lt.keyCode||Lt.shiftKey&&68===Lt.keyCode).map(n.p).map(({browserEvent:Lt})=>{const $e=this.getFocus(),ae=$e.length?$e[0]:void 0;return{index:ae,element:typeof ae<"u"?this.view.element(ae):void 0,anchor:typeof ae<"u"?this.view.domElement(ae):this.view.domNode,browserEvent:Lt}}).event,Ct=this.disposables.add(s.ju.chain(this.view.onContextMenu)).filter(Lt=>!ce).map(({element:Lt,index:$e,browserEvent:ae})=>({element:Lt,index:$e,anchor:{x:ae.pageX+1,y:ae.pageY},browserEvent:ae})).event;return s.ju.any(Ve,tt,Ct)}get onKeyDown(){return this.disposables.add(new n.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return s.ju.signal(this.disposables.add(new n.Y(this.view.domNode,"focus",!0)).event)}createMouseController(ce){return new we(this)}updateOptions(ce={}){var Ve,tt;this._options=Object.assign(Object.assign({},this._options),ce),null===(Ve=this.typeNavigationController)||void 0===Ve||Ve.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ce),null===(tt=this.keyboardController)||void 0===tt||tt.updateOptions(ce),this.view.updateOptions(ce)}get options(){return this._options}splice(ce,Ve,tt=[]){if(ce<0||ce>this.view.length)throw new b.A(this.user,`Invalid start index: ${ce}`);if(Ve<0)throw new b.A(this.user,`Invalid delete count: ${Ve}`);0===Ve&&0===tt.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ce,Ve,tt))}rerender(){this.view.rerender()}element(ce){return this.view.element(ce)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ce){this.view.setScrollTop(ce)}get ariaLabel(){return this._ariaLabel}set ariaLabel(ce){this._ariaLabel=ce,this.view.domNode.setAttribute("aria-label",ce)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ce,Ve){this.view.layout(ce,Ve)}setSelection(ce,Ve){for(const tt of ce)if(tt<0||tt>=this.length)throw new b.A(this.user,`Invalid index ${tt}`);this.selection.set(ce,Ve)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ce=>this.view.element(ce))}setAnchor(ce){if(typeof ce>"u")this.anchor.set([]);else{if(ce<0||ce>=this.length)throw new b.A(this.user,`Invalid index ${ce}`);this.anchor.set([ce])}}getAnchor(){return(0,C.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ce=this.getAnchor();return typeof ce>"u"?void 0:this.element(ce)}setFocus(ce,Ve){for(const tt of ce)if(tt<0||tt>=this.length)throw new b.A(this.user,`Invalid index ${tt}`);this.focus.set(ce,Ve)}focusNext(ce=1,Ve=!1,tt,Ct){if(0===this.length)return;const Lt=this.focus.get(),$e=this.findNextIndex(Lt.length>0?Lt[0]+ce:0,Ve,Ct);$e>-1&&this.setFocus([$e],tt)}focusPrevious(ce=1,Ve=!1,tt,Ct){if(0===this.length)return;const Lt=this.focus.get(),$e=this.findPreviousIndex(Lt.length>0?Lt[0]-ce:0,Ve,Ct);$e>-1&&this.setFocus([$e],tt)}focusNextPage(ce,Ve){return D(this,void 0,void 0,function*(){let tt=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);tt=0===tt?0:tt-1;const Ct=this.getFocus()[0];if(Ct!==tt&&(void 0===Ct||tt>Ct)){const Lt=this.findPreviousIndex(tt,!1,Ve);this.setFocus(Lt>-1&&Ct!==Lt?[Lt]:[tt],ce)}else{const Lt=this.view.getScrollTop();let $e=Lt+this.view.renderHeight;tt>Ct&&($e-=this.view.elementHeight(tt)),this.view.setScrollTop($e),this.view.getScrollTop()!==Lt&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusNextPage(ce,Ve))}})}focusPreviousPage(ce,Ve){return D(this,void 0,void 0,function*(){let tt;const Ct=this.view.getScrollTop();tt=0===Ct?this.view.indexAt(Ct):this.view.indexAfter(Ct-1);const Lt=this.getFocus()[0];if(Lt!==tt&&(void 0===Lt||Lt>=tt)){const $e=this.findNextIndex(tt,!1,Ve);this.setFocus($e>-1&&Lt!==$e?[$e]:[tt],ce)}else{const $e=Ct;this.view.setScrollTop(Ct-this.view.renderHeight),this.view.getScrollTop()!==$e&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusPreviousPage(ce,Ve))}})}focusLast(ce,Ve){if(0===this.length)return;const tt=this.findPreviousIndex(this.length-1,!1,Ve);tt>-1&&this.setFocus([tt],ce)}focusFirst(ce,Ve){this.focusNth(0,ce,Ve)}focusNth(ce,Ve,tt){if(0===this.length)return;const Ct=this.findNextIndex(ce,!1,tt);Ct>-1&&this.setFocus([Ct],Ve)}findNextIndex(ce,Ve=!1,tt){for(let Ct=0;Ct<this.length;Ct++){if(ce>=this.length&&!Ve)return-1;if(ce%=this.length,!tt||tt(this.element(ce)))return ce;ce++}return-1}findPreviousIndex(ce,Ve=!1,tt){for(let Ct=0;Ct<this.length;Ct++){if(ce<0&&!Ve)return-1;if(ce=(this.length+ce%this.length)%this.length,!tt||tt(this.element(ce)))return ce;ce--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ce=>this.view.element(ce))}reveal(ce,Ve){if(ce<0||ce>=this.length)throw new b.A(this.user,`Invalid index ${ce}`);const tt=this.view.getScrollTop(),Ct=this.view.elementTop(ce),Lt=this.view.elementHeight(ce);if((0,u.hj)(Ve))this.view.setScrollTop((Lt-this.view.renderHeight)*(0,t.uZ)(Ve,0,1)+Ct);else{const $e=Ct+Lt,ae=tt+this.view.renderHeight;Ct<tt&&$e>=ae||(Ct<tt||$e>=ae&&Lt>=this.view.renderHeight?this.view.setScrollTop(Ct):$e>=ae&&this.view.setScrollTop($e-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(ce){return this.view.getElementDomId(ce)}style(ce){this.styleController.style(ce)}toListEvent({indexes:ce,browserEvent:Ve}){return{indexes:ce,elements:ce.map(tt=>this.view.element(tt)),browserEvent:Ve}}_onFocusChange(){const ce=this.focus.get();this.view.domNode.classList.toggle("element-focused",ce.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ce;const Ve=this.focus.get();if(Ve.length>0){let tt;!(null===(ce=this.accessibilityProvider)||void 0===ce)&&ce.getActiveDescendantId&&(tt=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ve[0]))),this.view.domNode.setAttribute("aria-activedescendant",tt||this.view.getElementDomId(Ve[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ce=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===ce.length),this.view.domNode.classList.toggle("selection-single",1===ce.length),this.view.domNode.classList.toggle("selection-multiple",ce.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}w([_.H],Ue.prototype,"onDidChangeFocus",null),w([_.H],Ue.prototype,"onDidChangeSelection",null),w([_.H],Ue.prototype,"onContextMenu",null),w([_.H],Ue.prototype,"onKeyDown",null),w([_.H],Ue.prototype,"onDidFocus",null)},83256:(Dt,Y,e)=>{"use strict";e.d(Y,{J:()=>d});class d{constructor(l){this.spliceables=l}splice(l,S,v){this.spliceables.forEach(T=>T.splice(l,S,v))}}},92273:(Dt,Y,e)=>{"use strict";e.d(Y,{S:()=>u});var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(26390),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t);const u="monaco-mouse-cursor-text"},24738:(Dt,Y,e)=>{"use strict";e.d(Y,{k:()=>z});var d=e(98463),n=e(48648),l=e(69355),S=e(80142),v=e(6276),T=e(57856),C=e.n(T),E=e(38470),L=e.n(E),_=e(43370),s=e.n(_),m=e(28458),c=e.n(m),t=e(71278),a=e.n(t),p=e(29488),u=e.n(p),g=e(71689),b={};b.styleTagTransform=u(),b.setAttributes=c(),b.insert=s().bind(null,"head"),b.domAPI=L(),b.insertStyleElement=a(),C()(g.Z,b);const D="done",x="active",P="infinite",O="infinite-long-running",V="discrete",H={progressBarBackground:l.Il.fromHex("#0E70C0")};let z=(()=>{class k extends S.JT{constructor(j,K){super(),this.options=K||Object.create(null),(0,v.jB)(this.options,H,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new n.pY(()=>(0,d.$Z)(this.element),0)),this.longRunningScheduler=this._register(new n.pY(()=>this.infiniteLongRunning(),k.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(j)}create(j){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),j.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(x,P,O,V),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(j){return this.element.classList.add(D),this.element.classList.contains(P)?(this.bit.style.opacity="0",j?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",j?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(V,D,O),this.element.classList.add(x,P),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(O)}getContainer(){return this.element}style(j){this.progressBarBackground=j.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const j=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=j}}}return k.LONG_RUNNING_INFINITE_THRESHOLD=1e4,k})()},84075:(Dt,Y,e)=>{"use strict";e.d(Y,{l:()=>H,g:()=>W});var d=e(98463),n=e(75366),l=e(62922),S=e(48648),v=e(66471),T=e(3778),C=e(80142),E=e(8841),L=e(57856),_=e.n(L),s=e(38470),m=e.n(s),c=e(43370),t=e.n(c),a=e(28458),p=e.n(a),u=e(71278),g=e.n(u),b=e(29488),y=e.n(b),w=e(43226),D={};D.styleTagTransform=y(),D.setAttributes=p(),D.insert=t().bind(null,"head"),D.domAPI=m(),D.insertStyleElement=g(),_()(w.Z,D);var O=function(Z,ge,M,we){var Ne,Ee=arguments.length,xe=Ee<3?ge:null===we?we=Object.getOwnPropertyDescriptor(ge,M):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(Z,ge,M,we);else for(var oe=Z.length-1;oe>=0;oe--)(Ne=Z[oe])&&(xe=(Ee<3?Ne(xe):Ee>3?Ne(ge,M,xe):Ne(ge,M))||xe);return Ee>3&&xe&&Object.defineProperty(ge,M,xe),xe},H=(()=>{return(Z=H||(H={})).North="north",Z.South="south",Z.East="east",Z.West="west",H;var Z})();const k=new T.Q5,j=new T.Q5;class K{constructor(){this.disposables=new C.SL}get onPointerMove(){return this.disposables.add(new n.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new n.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}O([v.H],K.prototype,"onPointerMove",null),O([v.H],K.prototype,"onPointerUp",null);class U{constructor(ge){this.el=ge,this.disposables=new C.SL}get onPointerMove(){return this.disposables.add(new n.Y(this.el,l.t.Change)).event}get onPointerUp(){return this.disposables.add(new n.Y(this.el,l.t.End)).event}dispose(){this.disposables.dispose()}}O([v.H],U.prototype,"onPointerMove",null),O([v.H],U.prototype,"onPointerUp",null);class ne{constructor(ge){this.factory=ge}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}O([v.H],ne.prototype,"onPointerMove",null),O([v.H],ne.prototype,"onPointerUp",null);const N="pointer-events-disabled";class W extends C.JT{constructor(ge,M,we){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new S.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new T.Q5),this._onDidStart=this._register(new T.Q5),this._onDidChange=this._register(new T.Q5),this._onDidReset=this._register(new T.Q5),this._onDidEnd=this._register(new T.Q5),this.orthogonalStartSashDisposables=this._register(new C.SL),this.orthogonalStartDragHandleDisposables=this._register(new C.SL),this.orthogonalEndSashDisposables=this._register(new C.SL),this.orthogonalEndDragHandleDisposables=this._register(new C.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,d.R3)(ge,(0,d.$)(".monaco-sash")),we.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${we.orthogonalEdge}`),E.dz&&this.el.classList.add("mac");const Ee=this._register(new n.Y(this.el,"mousedown")).event;this._register(Ee(Me=>this.onPointerStart(Me,new K),this));const xe=this._register(new n.Y(this.el,"dblclick")).event;this._register(xe(this.onPointerDoublePress,this));const Ne=this._register(new n.Y(this.el,"mouseenter")).event;this._register(Ne(()=>W.onMouseEnter(this)));const oe=this._register(new n.Y(this.el,"mouseleave")).event;this._register(oe(()=>W.onMouseLeave(this))),this._register(l.o.addTarget(this.el));const Se=T.ju.map(this._register(new n.Y(this.el,l.t.Start)).event,Me=>{var de;return Object.assign(Object.assign({},Me),{target:null!==(de=Me.initialTarget)&&void 0!==de?de:null})});this._register(Se(Me=>this.onPointerStart(Me,new U(this.el)),this));const Ie=this._register(new n.Y(this.el,l.t.Tap)).event,me=T.ju.map(T.ju.filter(T.ju.debounce(Ie,(Me,de)=>{var ke;return{event:de,count:(null!==(ke=Me?.count)&&void 0!==ke?ke:0)+1}},250),({count:Me})=>2===Me),({event:Me})=>{var de;return Object.assign(Object.assign({},Me),{target:null!==(de=Me.initialTarget)&&void 0!==de?de:null})});this._register(me(this.onPointerDoublePress,this)),"number"==typeof we.size?(this.size=we.size,0===we.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(k.event(Me=>{this.size=Me,this.layout()}))),this._register(j.event(Me=>this.hoverDelay=Me)),this.layoutProvider=M,this.orthogonalStartSash=we.orthogonalStartSash,this.orthogonalEndSash=we.orthogonalEndSash,this.orientation=we.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(ge){this._state!==ge&&(this.el.classList.toggle("disabled",0===ge),this.el.classList.toggle("minimum",1===ge),this.el.classList.toggle("maximum",2===ge),this._state=ge,this.onDidEnablementChange.fire(ge))}set orthogonalStartSash(ge){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),ge){const M=we=>{this.orthogonalStartDragHandleDisposables.clear(),0!==we&&(this._orthogonalStartDragHandle=(0,d.R3)(this.el,(0,d.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,C.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new n.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>W.onMouseEnter(ge),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new n.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>W.onMouseLeave(ge),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(ge.onDidEnablementChange.event(M,this)),M(ge.state)}this._orthogonalStartSash=ge}set orthogonalEndSash(ge){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),ge){const M=we=>{this.orthogonalEndDragHandleDisposables.clear(),0!==we&&(this._orthogonalEndDragHandle=(0,d.R3)(this.el,(0,d.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,C.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new n.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>W.onMouseEnter(ge),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new n.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>W.onMouseLeave(ge),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(ge.onDidEnablementChange.event(M,this)),M(ge.state)}this._orthogonalEndSash=ge}onPointerStart(ge,M){d.zB.stop(ge);let we=!1;if(!ge.__orthogonalSashEvent){const Ue=this.getOrthogonalSash(ge);Ue&&(we=!0,ge.__orthogonalSashEvent=!0,Ue.onPointerStart(ge,new ne(M)))}if(this.linkedSash&&!ge.__linkedSashEvent&&(ge.__linkedSashEvent=!0,this.linkedSash.onPointerStart(ge,new ne(M))),!this.state)return;const Ee=(0,d.H$)("iframe");for(const Ue of Ee)Ue.classList.add(N);const xe=ge.pageX,Ne=ge.pageY,oe=ge.altKey,Se={startX:xe,currentX:xe,startY:Ne,currentY:Ne,altKey:oe};this.el.classList.add("active"),this._onDidStart.fire(Se);const Ie=(0,d.dS)(this.el),me=()=>{let Ue="";Ue=we?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":E.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":E.dz?"col-resize":"ew-resize",Ie.textContent=`* { cursor: ${Ue} !important; }`},Me=new C.SL;me(),we||this.onDidEnablementChange.event(me,null,Me),M.onPointerMove(Ue=>{d.zB.stop(Ue,!1),this._onDidChange.fire({startX:xe,currentX:Ue.pageX,startY:Ne,currentY:Ue.pageY,altKey:oe})},null,Me),M.onPointerUp(Ue=>{d.zB.stop(Ue,!1),this.el.removeChild(Ie),this.el.classList.remove("active"),this._onDidEnd.fire(),Me.dispose();for(const ze of Ee)ze.classList.remove(N)},null,Me),Me.add(M)}onPointerDoublePress(ge){const M=this.getOrthogonalSash(ge);M&&M._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(ge,M=!1){ge.el.classList.contains("active")?(ge.hoverDelayer.cancel(),ge.el.classList.add("hover")):ge.hoverDelayer.trigger(()=>ge.el.classList.add("hover"),ge.hoverDelay).then(void 0,()=>{}),!M&&ge.linkedSash&&W.onMouseEnter(ge.linkedSash,!0)}static onMouseLeave(ge,M=!1){ge.hoverDelayer.cancel(),ge.el.classList.remove("hover"),!M&&ge.linkedSash&&W.onMouseLeave(ge.linkedSash,!0)}clearSashHoverState(){W.onMouseLeave(this)}layout(){if(0===this.orientation){const ge=this.layoutProvider;this.el.style.left=ge.getVerticalSashLeft(this)-this.size/2+"px",ge.getVerticalSashTop&&(this.el.style.top=ge.getVerticalSashTop(this)+"px"),ge.getVerticalSashHeight&&(this.el.style.height=ge.getVerticalSashHeight(this)+"px")}else{const ge=this.layoutProvider;this.el.style.top=ge.getHorizontalSashTop(this)-this.size/2+"px",ge.getHorizontalSashLeft&&(this.el.style.left=ge.getHorizontalSashLeft(this)+"px"),ge.getHorizontalSashWidth&&(this.el.style.width=ge.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(ge){if(ge.target&&ge.target instanceof HTMLElement&&ge.target.classList.contains("orthogonal-drag-handle"))return ge.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},3067:(Dt,Y,e)=>{"use strict";e.d(Y,{s$:()=>Ie,NB:()=>oe,$Z:()=>Se});var d=e(37428),n=e(98463),l=e(12226),S=e(97340),v=e(11210),T=e(5183),C=e(48648);class L extends T.${constructor(de){super(),this._onActivate=de.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=de.bgWidth+"px",this.bgDomNode.style.height=de.bgHeight+"px",typeof de.top<"u"&&(this.bgDomNode.style.top="0px"),typeof de.left<"u"&&(this.bgDomNode.style.left="0px"),typeof de.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof de.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=de.className,this.domNode.classList.add(...de.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",typeof de.top<"u"&&(this.domNode.style.top=de.top+"px"),typeof de.left<"u"&&(this.domNode.style.left=de.left+"px"),typeof de.bottom<"u"&&(this.domNode.style.bottom=de.bottom+"px"),typeof de.right<"u"&&(this.domNode.style.right=de.right+"px"),this._pointerMoveMonitor=this._register(new v.C),this._register(n.mu(this.bgDomNode,n.tw.POINTER_DOWN,ke=>this._arrowPointerDown(ke))),this._register(n.mu(this.domNode,n.tw.POINTER_DOWN,ke=>this._arrowPointerDown(ke))),this._pointerdownRepeatTimer=this._register(new C.zh),this._pointerdownScheduleRepeatTimer=this._register(new C._F)}_arrowPointerDown(de){de.target&&de.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._pointerMoveMonitor.startMonitoring(de.target,de.pointerId,de.buttons,Ue=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),de.preventDefault())}}var _=e(80142);class s extends _.JT{constructor(de,ke,Ue){super(),this._visibility=de,this._visibleClassName=ke,this._invisibleClassName=Ue,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new C._F)}setVisibility(de){this._visibility!==de&&(this._visibility=de,this._updateShouldBeVisible())}setShouldBeVisible(de){this._rawShouldBeVisible=de,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const de=this._applyVisibilitySetting();this._shouldBeVisible!==de&&(this._shouldBeVisible=de,this.ensureVisibility())}setIsNeeded(de){this._isNeeded!==de&&(this._isNeeded=de,this.ensureVisibility())}setDomNode(de){this._domNode=de,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var de;null===(de=this._domNode)||void 0===de||de.setClassName(this._visibleClassName)},0))}_hide(de){var ke;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(ke=this._domNode)||void 0===ke||ke.setClassName(this._invisibleClassName+(de?" fade":"")))}}var m=e(8841);class t extends T.${constructor(de){super(),this._lazyRender=de.lazyRender,this._host=de.host,this._scrollable=de.scrollable,this._scrollByPage=de.scrollByPage,this._scrollbarState=de.scrollbarState,this._visibilityController=this._register(new s(de.visibility,"visible scrollbar "+de.extraScrollbarClassName,"invisible scrollbar "+de.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new v.C),this._shouldRender=!0,this.domNode=(0,l.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(n.nm(this.domNode.domNode,n.tw.POINTER_DOWN,ke=>this._domNodePointerDown(ke)))}_createArrow(de){const ke=this._register(new L(de));this.domNode.domNode.appendChild(ke.bgDomNode),this.domNode.domNode.appendChild(ke.domNode)}_createSlider(de,ke,Ue,ze){this.slider=(0,l.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(de),this.slider.setLeft(ke),"number"==typeof Ue&&this.slider.setWidth(Ue),"number"==typeof ze&&this.slider.setHeight(ze),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(n.nm(this.slider.domNode,n.tw.POINTER_DOWN,ce=>{0===ce.button&&(ce.preventDefault(),this._sliderPointerDown(ce))})),this.onclick(this.slider.domNode,ce=>{ce.leftButton&&ce.stopPropagation()})}_onElementSize(de){return this._scrollbarState.setVisibleSize(de)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(de){return this._scrollbarState.setScrollSize(de)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(de){return this._scrollbarState.setScrollPosition(de)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(de){de.target===this.domNode.domNode&&this._onPointerDown(de)}delegatePointerDown(de){const ke=this.domNode.domNode.getClientRects()[0].top,Ue=ke+this._scrollbarState.getSliderPosition(),ze=ke+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ce=this._sliderPointerPosition(de);Ue<=ce&&ce<=ze?0===de.button&&(de.preventDefault(),this._sliderPointerDown(de)):this._onPointerDown(de)}_onPointerDown(de){let ke,Ue;if(de.target===this.domNode.domNode&&"number"==typeof de.offsetX&&"number"==typeof de.offsetY)ke=de.offsetX,Ue=de.offsetY;else{const ce=n.i(this.domNode.domNode);ke=de.pageX-ce.left,Ue=de.pageY-ce.top}const ze=this._pointerDownRelativePosition(ke,Ue);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ze):this._scrollbarState.getDesiredScrollPositionFromOffset(ze)),0===de.button&&(de.preventDefault(),this._sliderPointerDown(de))}_sliderPointerDown(de){if(!(de.target&&de.target instanceof Element))return;const ke=this._sliderPointerPosition(de),Ue=this._sliderOrthogonalPointerPosition(de),ze=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(de.target,de.pointerId,de.buttons,ce=>{const Ve=this._sliderOrthogonalPointerPosition(ce),tt=Math.abs(Ve-Ue);if(m.ED&&tt>140)return void this._setDesiredScrollPositionNow(ze.getScrollPosition());const Lt=this._sliderPointerPosition(ce)-ke;this._setDesiredScrollPositionNow(ze.getDesiredScrollPositionFromDelta(Lt))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(de){const ke={};this.writeScrollPosition(ke,de),this._scrollable.setScrollPositionNow(ke)}updateScrollbarSize(de){this._updateScrollbarSize(de),this._scrollbarState.setScrollbarSize(de),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class p{constructor(de,ke,Ue,ze,ce,Ve){this._scrollbarSize=Math.round(ke),this._oppositeScrollbarSize=Math.round(Ue),this._arrowSize=Math.round(de),this._visibleSize=ze,this._scrollSize=ce,this._scrollPosition=Ve,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new p(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(de){const ke=Math.round(de);return this._visibleSize!==ke&&(this._visibleSize=ke,this._refreshComputedValues(),!0)}setScrollSize(de){const ke=Math.round(de);return this._scrollSize!==ke&&(this._scrollSize=ke,this._refreshComputedValues(),!0)}setScrollPosition(de){const ke=Math.round(de);return this._scrollPosition!==ke&&(this._scrollPosition=ke,this._refreshComputedValues(),!0)}setScrollbarSize(de){this._scrollbarSize=Math.round(de)}setOppositeScrollbarSize(de){this._oppositeScrollbarSize=Math.round(de)}static _computeValues(de,ke,Ue,ze,ce){const Ve=Math.max(0,Ue-de),tt=Math.max(0,Ve-2*ke),Ct=ze>0&&ze>Ue;if(!Ct)return{computedAvailableSize:Math.round(Ve),computedIsNeeded:Ct,computedSliderSize:Math.round(tt),computedSliderRatio:0,computedSliderPosition:0};const Lt=Math.round(Math.max(20,Math.floor(Ue*tt/ze))),$e=(tt-Lt)/(ze-Ue),ae=ce*$e;return{computedAvailableSize:Math.round(Ve),computedIsNeeded:Ct,computedSliderSize:Math.round(Lt),computedSliderRatio:$e,computedSliderPosition:Math.round(ae)}}_refreshComputedValues(){const de=p._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=de.computedAvailableSize,this._computedIsNeeded=de.computedIsNeeded,this._computedSliderSize=de.computedSliderSize,this._computedSliderRatio=de.computedSliderRatio,this._computedSliderPosition=de.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(de){return this._computedIsNeeded?Math.round((de-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(de){if(!this._computedIsNeeded)return 0;let Ue=this._scrollPosition;return de-this._arrowSize<this._computedSliderPosition?Ue-=this._visibleSize:Ue+=this._visibleSize,Ue}getDesiredScrollPositionFromDelta(de){return this._computedIsNeeded?Math.round((this._computedSliderPosition+de)/this._computedSliderRatio):0}}var u=e(58783);class g extends t{constructor(de,ke,Ue){const ze=de.getScrollDimensions(),ce=de.getCurrentScrollPosition();if(super({lazyRender:ke.lazyRender,host:Ue,scrollbarState:new p(ke.horizontalHasArrows?ke.arrowSize:0,2===ke.horizontal?0:ke.horizontalScrollbarSize,2===ke.vertical?0:ke.verticalScrollbarSize,ze.width,ze.scrollWidth,ce.scrollLeft),visibility:ke.horizontal,extraScrollbarClassName:"horizontal",scrollable:de,scrollByPage:ke.scrollByPage}),ke.horizontalHasArrows){const Ve=(ke.arrowSize-11)/2,tt=(ke.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:u.lA.scrollbarButtonLeft,top:tt,left:Ve,bottom:void 0,right:void 0,bgWidth:ke.arrowSize,bgHeight:ke.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,1,0))}),this._createArrow({className:"scra",icon:u.lA.scrollbarButtonRight,top:tt,left:void 0,bottom:void 0,right:Ve,bgWidth:ke.arrowSize,bgHeight:ke.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,-1,0))})}this._createSlider(Math.floor((ke.horizontalScrollbarSize-ke.horizontalSliderSize)/2),0,void 0,ke.horizontalSliderSize)}_updateSlider(de,ke){this.slider.setWidth(de),this.slider.setLeft(ke)}_renderDomNode(de,ke){this.domNode.setWidth(de),this.domNode.setHeight(ke),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(de){return this._shouldRender=this._onElementScrollSize(de.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(de.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(de.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(de,ke){return de}_sliderPointerPosition(de){return de.pageX}_sliderOrthogonalPointerPosition(de){return de.pageY}_updateScrollbarSize(de){this.slider.setHeight(de)}writeScrollPosition(de,ke){de.scrollLeft=ke}updateOptions(de){this.updateScrollbarSize(2===de.horizontal?0:de.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===de.vertical?0:de.verticalScrollbarSize),this._visibilityController.setVisibility(de.horizontal),this._scrollByPage=de.scrollByPage}}class b extends t{constructor(de,ke,Ue){const ze=de.getScrollDimensions(),ce=de.getCurrentScrollPosition();if(super({lazyRender:ke.lazyRender,host:Ue,scrollbarState:new p(ke.verticalHasArrows?ke.arrowSize:0,2===ke.vertical?0:ke.verticalScrollbarSize,0,ze.height,ze.scrollHeight,ce.scrollTop),visibility:ke.vertical,extraScrollbarClassName:"vertical",scrollable:de,scrollByPage:ke.scrollByPage}),ke.verticalHasArrows){const Ve=(ke.arrowSize-11)/2,tt=(ke.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:u.lA.scrollbarButtonUp,top:Ve,left:tt,bottom:void 0,right:void 0,bgWidth:ke.verticalScrollbarSize,bgHeight:ke.arrowSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,0,1))}),this._createArrow({className:"scra",icon:u.lA.scrollbarButtonDown,top:void 0,left:tt,bottom:Ve,right:void 0,bgWidth:ke.verticalScrollbarSize,bgHeight:ke.arrowSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,0,-1))})}this._createSlider(0,Math.floor((ke.verticalScrollbarSize-ke.verticalSliderSize)/2),ke.verticalSliderSize,void 0)}_updateSlider(de,ke){this.slider.setHeight(de),this.slider.setTop(ke)}_renderDomNode(de,ke){this.domNode.setWidth(ke),this.domNode.setHeight(de),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(de){return this._shouldRender=this._onElementScrollSize(de.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(de.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(de.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(de,ke){return ke}_sliderPointerPosition(de){return de.pageY}_sliderOrthogonalPointerPosition(de){return de.pageX}_updateScrollbarSize(de){this.slider.setWidth(de)}writeScrollPosition(de,ke){de.scrollTop=ke}updateOptions(de){this.updateScrollbarSize(2===de.vertical?0:de.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(de.vertical),this._scrollByPage=de.scrollByPage}}var y=e(3778),w=e(87188),D=e(57856),x=e.n(D),P=e(38470),O=e.n(P),V=e(43370),H=e.n(V),z=e(28458),k=e.n(z),F=e(71278),j=e.n(F),K=e(29488),U=e.n(K),ne=e(43586),N={};N.styleTagTransform=U(),N.setAttributes=k(),N.insert=H().bind(null,"head"),N.domAPI=O(),N.insertStyleElement=j(),x()(ne.Z,N);class Ee{constructor(de,ke,Ue){this.timestamp=de,this.deltaX=ke,this.deltaY=Ue,this.score=0}}class xe{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let de=1,ke=0,Ue=1,ze=this._rear;for(;;){const ce=ze===this._front?de:Math.pow(2,-Ue);if(de-=ce,ke+=this._memory[ze].score*ce,ze===this._front)break;ze=(this._capacity+ze-1)%this._capacity,Ue++}return ke<=.5}accept(de,ke,Ue){const ze=new Ee(de,ke,Ue);ze.score=this._computeScore(ze),-1===this._front&&-1===this._rear?(this._memory[0]=ze,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ze)}_computeScore(de){if(Math.abs(de.deltaX)>0&&Math.abs(de.deltaY)>0)return 1;let ke=.5;return(!this._isAlmostInt(de.deltaX)||!this._isAlmostInt(de.deltaY))&&(ke+=.25),Math.min(Math.max(ke,0),1)}_isAlmostInt(de){return Math.abs(Math.round(de)-de)<.01}}xe.INSTANCE=new xe;class Ne extends T.${constructor(de,ke,Ue){super(),this._onScroll=this._register(new y.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y.Q5),de.style.overflow="hidden",this._options=function me(Me){const de={lazyRender:typeof Me.lazyRender<"u"&&Me.lazyRender,className:typeof Me.className<"u"?Me.className:"",useShadows:!(typeof Me.useShadows<"u")||Me.useShadows,handleMouseWheel:!(typeof Me.handleMouseWheel<"u")||Me.handleMouseWheel,flipAxes:typeof Me.flipAxes<"u"&&Me.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:typeof Me.consumeMouseWheelIfScrollbarIsNeeded<"u"&&Me.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:typeof Me.alwaysConsumeMouseWheel<"u"&&Me.alwaysConsumeMouseWheel,scrollYToX:typeof Me.scrollYToX<"u"&&Me.scrollYToX,mouseWheelScrollSensitivity:typeof Me.mouseWheelScrollSensitivity<"u"?Me.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof Me.fastScrollSensitivity<"u"?Me.fastScrollSensitivity:5,scrollPredominantAxis:!(typeof Me.scrollPredominantAxis<"u")||Me.scrollPredominantAxis,mouseWheelSmoothScroll:!(typeof Me.mouseWheelSmoothScroll<"u")||Me.mouseWheelSmoothScroll,arrowSize:typeof Me.arrowSize<"u"?Me.arrowSize:11,listenOnDomNode:typeof Me.listenOnDomNode<"u"?Me.listenOnDomNode:null,horizontal:typeof Me.horizontal<"u"?Me.horizontal:1,horizontalScrollbarSize:typeof Me.horizontalScrollbarSize<"u"?Me.horizontalScrollbarSize:10,horizontalSliderSize:typeof Me.horizontalSliderSize<"u"?Me.horizontalSliderSize:0,horizontalHasArrows:typeof Me.horizontalHasArrows<"u"&&Me.horizontalHasArrows,vertical:typeof Me.vertical<"u"?Me.vertical:1,verticalScrollbarSize:typeof Me.verticalScrollbarSize<"u"?Me.verticalScrollbarSize:10,verticalHasArrows:typeof Me.verticalHasArrows<"u"&&Me.verticalHasArrows,verticalSliderSize:typeof Me.verticalSliderSize<"u"?Me.verticalSliderSize:0,scrollByPage:typeof Me.scrollByPage<"u"&&Me.scrollByPage};return de.horizontalSliderSize=typeof Me.horizontalSliderSize<"u"?Me.horizontalSliderSize:de.horizontalScrollbarSize,de.verticalSliderSize=typeof Me.verticalSliderSize<"u"?Me.verticalSliderSize:de.verticalScrollbarSize,m.dz&&(de.className+=" mac"),de}(ke),this._scrollable=Ue,this._register(this._scrollable.onScroll(ce=>{this._onWillScroll.fire(ce),this._onDidScroll(ce),this._onScroll.fire(ce)}));const ze={onMouseWheel:ce=>this._onMouseWheel(ce),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b(this._scrollable,this._options,ze)),this._horizontalScrollbar=this._register(new g(this._scrollable,this._options,ze)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(de),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,l.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,l.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,l.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ce=>this._onMouseOver(ce)),this.onmouseleave(this._listenOnDomNode,ce=>this._onMouseLeave(ce)),this._hideTimeout=this._register(new C._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(de){this._verticalScrollbar.delegatePointerDown(de)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(de){this._scrollable.setScrollDimensions(de,!1)}updateClassName(de){this._options.className=de,m.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(de){typeof de.handleMouseWheel<"u"&&(this._options.handleMouseWheel=de.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof de.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=de.mouseWheelScrollSensitivity),typeof de.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=de.fastScrollSensitivity),typeof de.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=de.scrollPredominantAxis),typeof de.horizontal<"u"&&(this._options.horizontal=de.horizontal),typeof de.vertical<"u"&&(this._options.vertical=de.vertical),typeof de.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=de.horizontalScrollbarSize),typeof de.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=de.verticalScrollbarSize),typeof de.scrollByPage<"u"&&(this._options.scrollByPage=de.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(de){this._mouseWheelToDispose.length>0!==de&&(this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),de)&&this._mouseWheelToDispose.push(n.nm(this._listenOnDomNode,n.tw.MOUSE_WHEEL,ze=>{this._onMouseWheel(new S.q(ze))},{passive:!1}))}_onMouseWheel(de){const ke=xe.INSTANCE;{const ce=window.devicePixelRatio/(0,d.getZoomFactor)();m.ED||m.IJ?ke.accept(Date.now(),de.deltaX/ce,de.deltaY/ce):ke.accept(Date.now(),de.deltaX,de.deltaY)}let Ue=!1;if(de.deltaY||de.deltaX){let ce=de.deltaY*this._options.mouseWheelScrollSensitivity,Ve=de.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ce)>=Math.abs(Ve)?Ve=0:ce=0),this._options.flipAxes&&([ce,Ve]=[Ve,ce]);const tt=!m.dz&&de.browserEvent&&de.browserEvent.shiftKey;(this._options.scrollYToX||tt)&&!Ve&&(Ve=ce,ce=0),de.browserEvent&&de.browserEvent.altKey&&(Ve*=this._options.fastScrollSensitivity,ce*=this._options.fastScrollSensitivity);const Ct=this._scrollable.getFutureScrollPosition();let Lt={};if(ce){const $e=50*ce,ae=Ct.scrollTop-($e<0?Math.floor($e):Math.ceil($e));this._verticalScrollbar.writeScrollPosition(Lt,ae)}if(Ve){const $e=50*Ve,ae=Ct.scrollLeft-($e<0?Math.floor($e):Math.ceil($e));this._horizontalScrollbar.writeScrollPosition(Lt,ae)}Lt=this._scrollable.validateScrollPosition(Lt),(Ct.scrollLeft!==Lt.scrollLeft||Ct.scrollTop!==Lt.scrollTop)&&(this._options.mouseWheelSmoothScroll&&ke.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Lt):this._scrollable.setScrollPositionNow(Lt),Ue=!0)}let ze=Ue;!ze&&this._options.alwaysConsumeMouseWheel&&(ze=!0),!ze&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ze=!0),ze&&(de.preventDefault(),de.stopPropagation())}_onDidScroll(de){this._shouldRender=this._horizontalScrollbar.onDidScroll(de)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(de)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const de=this._scrollable.getCurrentScrollPosition(),ke=de.scrollTop>0,Ue=de.scrollLeft>0,ze=Ue?" left":"",ce=ke?" top":"",Ve=Ue||ke?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ze}`),this._topShadowDomNode.setClassName(`shadow${ce}`),this._topLeftShadowDomNode.setClassName(`shadow${Ve}${ce}${ze}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(de){this._mouseIsOver=!1,this._hide()}_onMouseOver(de){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class oe extends Ne{constructor(de,ke){(ke=ke||{}).mouseWheelSmoothScroll=!1;const Ue=new w.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ze=>n.jL(ze)});super(de,ke,Ue),this._register(Ue)}setScrollPosition(de){this._scrollable.setScrollPositionNow(de)}}class Se extends Ne{constructor(de,ke,Ue){super(de,ke,Ue)}setScrollPosition(de){de.reuseAnimation?this._scrollable.setScrollPositionSmooth(de,de.reuseAnimation):this._scrollable.setScrollPositionNow(de)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Ie extends Ne{constructor(de,ke){(ke=ke||{}).mouseWheelSmoothScroll=!1;const Ue=new w.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ze=>n.jL(ze)});super(de,ke,Ue),this._register(Ue),this._element=de,this.onScroll(ze=>{ze.scrollTopChanged&&(this._element.scrollTop=ze.scrollTop),ze.scrollLeftChanged&&(this._element.scrollLeft=ze.scrollLeft)}),this.scanDomNode()}setScrollPosition(de){this._scrollable.setScrollPositionNow(de)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},93656:(Dt,Y,e)=>{"use strict";e.d(Y,{M:()=>K,z:()=>U});var d=e(98463),n=e(84075),l=e(3067),S=e(64023),v=e(69355),T=e(3778),C=e(80142),E=e(73455),L=e(87188),_=e(72715),s=e(57856),m=e.n(s),c=e(38470),t=e.n(c),a=e(43370),p=e.n(a),u=e(28458),g=e.n(u),b=e(71278),y=e.n(b),w=e(29488),D=e.n(w),x=e(9740),P={};P.styleTagTransform=D(),P.setAttributes=g(),P.insert=p().bind(null,"head"),P.domAPI=t(),P.insertStyleElement=y(),m()(x.Z,P);const H={separatorBorder:v.Il.transparent};class z{constructor(N,W,Z,ge){this.container=N,this.view=W,this.disposable=ge,this._cachedVisibleSize=void 0,"number"==typeof Z?(this._size=Z,this._cachedVisibleSize=void 0,N.classList.add("visible")):(this._size=0,this._cachedVisibleSize=Z.cachedVisibleSize)}set size(N){this._size=N}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(N,W){var Z,ge;N!==this.visible&&(N?(this.size=(0,E.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof W?W:this.size,this.size=0),this.container.classList.toggle("visible",N),null===(ge=(Z=this.view).setVisible)||void 0===ge||ge.call(Z,N))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(N){this.container.style.pointerEvents=N?"":"none"}layout(N,W){this.layoutContainer(N),this.view.layout(this.size,N,W)}dispose(){return this.disposable.dispose(),this.view}}class k extends z{layoutContainer(N){this.container.style.top=`${N}px`,this.container.style.height=`${this.size}px`}}class F extends z{layoutContainer(N){this.container.style.left=`${N}px`,this.container.style.width=`${this.size}px`}}var K,ne,j=(()=>{return(ne=j||(j={}))[ne.Idle=0]="Idle",ne[ne.Busy=1]="Busy",j;var ne})();(ne=K||(K={})).Distribute={type:"distribute"},ne.Split=function N(Z){return{type:"split",index:Z}},ne.Invisible=function W(Z){return{type:"invisible",cachedVisibleSize:Z}};class U extends C.JT{constructor(N,W={}){var Z,ge,M,we,Ee;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=j.Idle,this._onDidSashChange=this._register(new T.Q5),this._onDidSashReset=this._register(new T.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(Z=W.orientation)&&void 0!==Z?Z:0,this.inverseAltBehavior=null!==(ge=W.inverseAltBehavior)&&void 0!==ge&&ge,this.proportionalLayout=null===(M=W.proportionalLayout)||void 0===M||M,this.getSashOrthogonalSize=W.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),N.appendChild(this.el),this.sashContainer=(0,d.R3)(this.el,(0,d.$)(".sash-container")),this.viewContainer=(0,d.$)(".split-view-container"),this.scrollable=new L.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:d.jL}),this.scrollableElement=this._register(new l.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(we=W.scrollbarVisibility)&&void 0!==we?we:1:2,horizontal:1===this.orientation?null!==(Ee=W.scrollbarVisibility)&&void 0!==Ee?Ee:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(xe=>{this.viewContainer.scrollTop=xe.scrollTop,this.viewContainer.scrollLeft=xe.scrollLeft})),(0,d.R3)(this.el,this.scrollableElement.getDomNode()),this.style(W.styles||H),W.descriptor&&(this.size=W.descriptor.size,W.descriptor.views.forEach((xe,Ne)=>{const oe=_.o8(xe.visible)||xe.visible?xe.size:{type:"invisible",cachedVisibleSize:xe.size};this.doAddView(xe.view,oe,Ne,!0)}),this.contentSize=this.viewItems.reduce((xe,Ne)=>xe+Ne.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(N){for(const W of this.sashItems)W.sash.orthogonalStartSash=N;this._orthogonalStartSash=N}set orthogonalEndSash(N){for(const W of this.sashItems)W.sash.orthogonalEndSash=N;this._orthogonalEndSash=N}set startSnappingEnabled(N){this._startSnappingEnabled!==N&&(this._startSnappingEnabled=N,this.updateSashEnablement())}set endSnappingEnabled(N){this._endSnappingEnabled!==N&&(this._endSnappingEnabled=N,this.updateSashEnablement())}style(N){N.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",N.separatorBorder.toString()))}addView(N,W,Z=this.viewItems.length,ge){this.doAddView(N,W,Z,ge)}layout(N,W){const Z=Math.max(this.size,this.contentSize);if(this.size=N,this.layoutContext=W,this.proportions)for(let ge=0;ge<this.viewItems.length;ge++){const M=this.viewItems[ge];M.size=(0,E.uZ)(Math.round(this.proportions[ge]*N),M.minimumSize,M.maximumSize)}else{const ge=(0,S.w6)(this.viewItems.length),M=ge.filter(Ee=>1===this.viewItems[Ee].priority),we=ge.filter(Ee=>2===this.viewItems[Ee].priority);this.resize(this.viewItems.length-1,N-Z,void 0,M,we)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(N=>N.size/this.contentSize))}onSashStart({sash:N,start:W,alt:Z}){for(const Ee of this.viewItems)Ee.enabled=!1;const ge=this.sashItems.findIndex(Ee=>Ee.sash===N),M=(0,C.F8)((0,d.nm)(document.body,"keydown",Ee=>we(this.sashDragState.current,Ee.altKey)),(0,d.nm)(document.body,"keyup",()=>we(this.sashDragState.current,!1))),we=(Ee,xe)=>{const Ne=this.viewItems.map(Me=>Me.size);let Ie,me,oe=Number.NEGATIVE_INFINITY,Se=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(xe=!xe),xe)if(ge===this.sashItems.length-1){const de=this.viewItems[ge];oe=(de.minimumSize-de.size)/2,Se=(de.maximumSize-de.size)/2}else{const de=this.viewItems[ge+1];oe=(de.size-de.maximumSize)/2,Se=(de.size-de.minimumSize)/2}if(!xe){const Me=(0,S.w6)(ge,-1),de=(0,S.w6)(ge+1,this.viewItems.length),ke=Me.reduce(($e,ae)=>$e+(this.viewItems[ae].minimumSize-Ne[ae]),0),Ue=Me.reduce(($e,ae)=>$e+(this.viewItems[ae].viewMaximumSize-Ne[ae]),0),ze=0===de.length?Number.POSITIVE_INFINITY:de.reduce(($e,ae)=>$e+(Ne[ae]-this.viewItems[ae].minimumSize),0),ce=0===de.length?Number.NEGATIVE_INFINITY:de.reduce(($e,ae)=>$e+(Ne[ae]-this.viewItems[ae].viewMaximumSize),0),Ve=Math.max(ke,ce),tt=Math.min(ze,Ue),Ct=this.findFirstSnapIndex(Me),Lt=this.findFirstSnapIndex(de);if("number"==typeof Ct){const $e=this.viewItems[Ct],ae=Math.floor($e.viewMinimumSize/2);Ie={index:Ct,limitDelta:$e.visible?Ve-ae:Ve+ae,size:$e.size}}if("number"==typeof Lt){const $e=this.viewItems[Lt],ae=Math.floor($e.viewMinimumSize/2);me={index:Lt,limitDelta:$e.visible?tt+ae:tt-ae,size:$e.size}}}this.sashDragState={start:Ee,current:Ee,index:ge,sizes:Ne,minDelta:oe,maxDelta:Se,alt:xe,snapBefore:Ie,snapAfter:me,disposable:M}};we(W,Z)}onSashChange({current:N}){const{index:W,start:Z,sizes:ge,alt:M,minDelta:we,maxDelta:Ee,snapBefore:xe,snapAfter:Ne}=this.sashDragState;this.sashDragState.current=N;const Se=this.resize(W,N-Z,ge,void 0,void 0,we,Ee,xe,Ne);if(M){const Ie=W===this.sashItems.length-1,me=this.viewItems.map(ce=>ce.size),de=this.viewItems[Ie?W:W+1];this.resize(Ie?W-1:W+1,-Se,me,void 0,void 0,de.size-de.maximumSize,de.size-de.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(N){this._onDidSashChange.fire(N),this.sashDragState.disposable.dispose(),this.saveProportions();for(const W of this.viewItems)W.enabled=!0}onViewChange(N,W){const Z=this.viewItems.indexOf(N);Z<0||Z>=this.viewItems.length||(W=(0,E.uZ)(W="number"==typeof W?W:N.size,N.minimumSize,N.maximumSize),this.inverseAltBehavior&&Z>0?(this.resize(Z-1,Math.floor((N.size-W)/2)),this.distributeEmptySpace(),this.layoutViews()):(N.size=W,this.relayout([Z],void 0)))}resizeView(N,W){if(this.state!==j.Idle)throw new Error("Cant modify splitview");if(this.state=j.Busy,N<0||N>=this.viewItems.length)return;const Z=(0,S.w6)(this.viewItems.length).filter(Ee=>Ee!==N),ge=[...Z.filter(Ee=>1===this.viewItems[Ee].priority),N],M=Z.filter(Ee=>2===this.viewItems[Ee].priority),we=this.viewItems[N];W=Math.round(W),W=(0,E.uZ)(W,we.minimumSize,Math.min(we.maximumSize,this.size)),we.size=W,this.relayout(ge,M),this.state=j.Idle}distributeViewSizes(){const N=[];let W=0;for(const Ee of this.viewItems)Ee.maximumSize-Ee.minimumSize>0&&(N.push(Ee),W+=Ee.size);const Z=Math.floor(W/N.length);for(const Ee of N)Ee.size=(0,E.uZ)(Z,Ee.minimumSize,Ee.maximumSize);const ge=(0,S.w6)(this.viewItems.length),M=ge.filter(Ee=>1===this.viewItems[Ee].priority),we=ge.filter(Ee=>2===this.viewItems[Ee].priority);this.relayout(M,we)}getViewSize(N){return N<0||N>=this.viewItems.length?-1:this.viewItems[N].size}doAddView(N,W,Z=this.viewItems.length,ge){if(this.state!==j.Idle)throw new Error("Cant modify splitview");this.state=j.Busy;const M=(0,d.$)(".split-view-view");Z===this.viewItems.length?this.viewContainer.appendChild(M):this.viewContainer.insertBefore(M,this.viewContainer.children.item(Z));const we=N.onDidChange(Ie=>this.onViewChange(oe,Ie)),Ee=(0,C.OF)(()=>this.viewContainer.removeChild(M)),xe=(0,C.F8)(we,Ee);let Ne;Ne="number"==typeof W?W:"split"===W.type?this.getViewSize(W.index)/2:"invisible"===W.type?{cachedVisibleSize:W.cachedVisibleSize}:N.minimumSize;const oe=0===this.orientation?new k(M,N,Ne,xe):new F(M,N,Ne,xe);if(this.viewItems.splice(Z,0,oe),this.viewItems.length>1){const Ie={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},me=0===this.orientation?new n.g(this.sashContainer,{getHorizontalSashTop:$e=>this.getSashPosition($e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Ie),{orientation:1})):new n.g(this.sashContainer,{getVerticalSashLeft:$e=>this.getSashPosition($e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Ie),{orientation:0})),Me=0===this.orientation?$e=>({sash:me,start:$e.startY,current:$e.currentY,alt:$e.altKey}):$e=>({sash:me,start:$e.startX,current:$e.currentX,alt:$e.altKey}),ke=T.ju.map(me.onDidStart,Me)(this.onSashStart,this),ze=T.ju.map(me.onDidChange,Me)(this.onSashChange,this),Ve=T.ju.map(me.onDidEnd,()=>this.sashItems.findIndex($e=>$e.sash===me))(this.onSashEnd,this),tt=me.onDidReset(()=>{const $e=this.sashItems.findIndex(Q=>Q.sash===me),ae=(0,S.w6)($e,-1),ve=(0,S.w6)($e+1,this.viewItems.length),he=this.findFirstSnapIndex(ae),le=this.findFirstSnapIndex(ve);"number"==typeof he&&!this.viewItems[he].visible||"number"==typeof le&&!this.viewItems[le].visible||this._onDidSashReset.fire($e)}),Ct=(0,C.F8)(ke,ze,Ve,tt,me);this.sashItems.splice(Z-1,0,{sash:me,disposable:Ct})}let Se;M.appendChild(N.element),"number"!=typeof W&&"split"===W.type&&(Se=[W.index]),ge||this.relayout([Z],Se),this.state=j.Idle,!ge&&"number"!=typeof W&&"distribute"===W.type&&this.distributeViewSizes()}relayout(N,W){const Z=this.viewItems.reduce((ge,M)=>ge+M.size,0);this.resize(this.viewItems.length-1,this.size-Z,void 0,N,W),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(N,W,Z=this.viewItems.map(oe=>oe.size),ge,M,we=Number.NEGATIVE_INFINITY,Ee=Number.POSITIVE_INFINITY,xe,Ne){if(N<0||N>=this.viewItems.length)return 0;const oe=(0,S.w6)(N,-1),Se=(0,S.w6)(N+1,this.viewItems.length);if(M)for(const Lt of M)(0,S.zI)(oe,Lt),(0,S.zI)(Se,Lt);if(ge)for(const Lt of ge)(0,S.al)(oe,Lt),(0,S.al)(Se,Lt);const Ie=oe.map(Lt=>this.viewItems[Lt]),me=oe.map(Lt=>Z[Lt]),Me=Se.map(Lt=>this.viewItems[Lt]),de=Se.map(Lt=>Z[Lt]),ke=oe.reduce((Lt,$e)=>Lt+(this.viewItems[$e].minimumSize-Z[$e]),0),Ue=oe.reduce((Lt,$e)=>Lt+(this.viewItems[$e].maximumSize-Z[$e]),0),ze=0===Se.length?Number.POSITIVE_INFINITY:Se.reduce((Lt,$e)=>Lt+(Z[$e]-this.viewItems[$e].minimumSize),0),ce=0===Se.length?Number.NEGATIVE_INFINITY:Se.reduce((Lt,$e)=>Lt+(Z[$e]-this.viewItems[$e].maximumSize),0),Ve=Math.max(ke,ce,we),tt=Math.min(ze,Ue,Ee);let Ct=!1;if(xe){const Lt=this.viewItems[xe.index],$e=W>=xe.limitDelta;Ct=$e!==Lt.visible,Lt.setVisible($e,xe.size)}if(!Ct&&Ne){const Lt=this.viewItems[Ne.index],$e=W<Ne.limitDelta;Ct=$e!==Lt.visible,Lt.setVisible($e,Ne.size)}if(Ct)return this.resize(N,W,Z,ge,M,we,Ee);for(let Lt=0,$e=W=(0,E.uZ)(W,Ve,tt);Lt<Ie.length;Lt++){const ae=Ie[Lt],ve=(0,E.uZ)(me[Lt]+$e,ae.minimumSize,ae.maximumSize);$e-=ve-me[Lt],ae.size=ve}for(let Lt=0,$e=W;Lt<Me.length;Lt++){const ae=Me[Lt],ve=(0,E.uZ)(de[Lt]-$e,ae.minimumSize,ae.maximumSize);$e+=ve-de[Lt],ae.size=ve}return W}distributeEmptySpace(N){const W=this.viewItems.reduce((Ee,xe)=>Ee+xe.size,0);let Z=this.size-W;const ge=(0,S.w6)(this.viewItems.length-1,-1),M=ge.filter(Ee=>1===this.viewItems[Ee].priority),we=ge.filter(Ee=>2===this.viewItems[Ee].priority);for(const Ee of we)(0,S.zI)(ge,Ee);for(const Ee of M)(0,S.al)(ge,Ee);"number"==typeof N&&(0,S.al)(ge,N);for(let Ee=0;0!==Z&&Ee<ge.length;Ee++){const xe=this.viewItems[ge[Ee]],Ne=(0,E.uZ)(xe.size+Z,xe.minimumSize,xe.maximumSize);Z-=Ne-xe.size,xe.size=Ne}}layoutViews(){this.contentSize=this.viewItems.reduce((W,Z)=>W+Z.size,0);let N=0;for(const W of this.viewItems)W.layout(N,this.layoutContext),N+=W.size;this.sashItems.forEach(W=>W.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let N=!1;const W=this.viewItems.map(xe=>N=xe.size-xe.minimumSize>0||N);N=!1;const Z=this.viewItems.map(xe=>N=xe.maximumSize-xe.size>0||N),ge=[...this.viewItems].reverse();N=!1;const M=ge.map(xe=>N=xe.size-xe.minimumSize>0||N).reverse();N=!1;const we=ge.map(xe=>N=xe.maximumSize-xe.size>0||N).reverse();let Ee=0;for(let xe=0;xe<this.sashItems.length;xe++){const{sash:Ne}=this.sashItems[xe];Ee+=this.viewItems[xe].size;const Se=!(W[xe]&&we[xe+1]),Ie=!(Z[xe]&&M[xe+1]);if(Se&&Ie){const me=(0,S.w6)(xe,-1),Me=(0,S.w6)(xe+1,this.viewItems.length),de=this.findFirstSnapIndex(me),ke=this.findFirstSnapIndex(Me),ze="number"==typeof ke&&!this.viewItems[ke].visible;Ne.state="number"==typeof de&&!this.viewItems[de].visible&&M[xe]&&(Ee>0||this.startSnappingEnabled)?1:ze&&W[xe]&&(Ee<this.contentSize||this.endSnappingEnabled)?2:0}else Ne.state=Se&&!Ie?1:!Se&&Ie?2:3}}getSashPosition(N){let W=0;for(let Z=0;Z<this.sashItems.length;Z++)if(W+=this.viewItems[Z].size,this.sashItems[Z].sash===N)return W;return 0}findFirstSnapIndex(N){for(const W of N){const Z=this.viewItems[W];if(Z.visible&&Z.snap)return W}for(const W of N){const Z=this.viewItems[W];if(Z.visible&&Z.maximumSize-Z.minimumSize>0)return;if(!Z.visible&&Z.snap)return W}}dispose(){super.dispose(),(0,C.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(N=>N.disposable.dispose()),this.sashItems=[]}}},99952:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>D});var d=e(5183),n=e(58783),l=e(69355),S=e(3778),v=e(57856),T=e.n(v),C=e(38470),E=e.n(C),L=e(43370),_=e.n(L),s=e(28458),m=e.n(s),c=e(71278),t=e.n(c),a=e(29488),p=e.n(a),u=e(78322),g={};g.styleTagTransform=p(),g.setAttributes=m(),g.insert=_().bind(null,"head"),g.domAPI=E(),g.insertStyleElement=t(),T()(u.Z,g);const w={inputActiveOptionBorder:l.Il.fromHex("#007ACC00"),inputActiveOptionForeground:l.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:l.Il.fromHex("#0E639C50")};class D extends d.${constructor(P){super(),this._onChange=this._register(new S.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new S.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},w),P),this._checked=this._opts.isChecked;const O=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,O.push(...n.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&O.push(...this._opts.actionClassName.split(" ")),this._checked&&O.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...O),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,V=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),V.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,V=>{if(10===V.keyCode||3===V.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),V.preventDefault(),void V.stopPropagation();this._onKeyDown.fire(V)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(P){this._checked=P,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(P){P.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=P.inputActiveOptionBorder),P.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=P.inputActiveOptionForeground),P.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=P.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},5183:(Dt,Y,e)=>{"use strict";e.d(Y,{$:()=>T});var d=e(98463),n=e(41140),l=e(97340),S=e(62922),v=e(80142);class T extends v.JT{onclick(E,L){this._register(d.nm(E,d.tw.CLICK,_=>L(new l.n(_))))}onmousedown(E,L){this._register(d.nm(E,d.tw.MOUSE_DOWN,_=>L(new l.n(_))))}onmouseover(E,L){this._register(d.nm(E,d.tw.MOUSE_OVER,_=>L(new l.n(_))))}onmouseleave(E,L){this._register(d.nm(E,d.tw.MOUSE_LEAVE,_=>L(new l.n(_))))}onkeydown(E,L){this._register(d.nm(E,d.tw.KEY_DOWN,_=>L(new n.y(_))))}onkeyup(E,L){this._register(d.nm(E,d.tw.KEY_UP,_=>L(new n.y(_))))}oninput(E,L){this._register(d.nm(E,d.tw.INPUT,L))}onblur(E,L){this._register(d.nm(E,d.tw.BLUR,L))}onfocus(E,L){this._register(d.nm(E,d.tw.FOCUS,L))}ignoreGesture(E){S.o.ignoreTarget(E)}}},827:(Dt,Y,e)=>{"use strict";e.d(Y,{Wi:()=>T,Z0:()=>C,aU:()=>v,eZ:()=>L,wY:()=>E,xw:()=>_});var d=e(3778),n=e(80142),l=e(55197),S=function(s,m,c,t){return new(c||(c=Promise))(function(p,u){function g(w){try{y(t.next(w))}catch(D){u(D)}}function b(w){try{y(t.throw(w))}catch(D){u(D)}}function y(w){w.done?p(w.value):function a(p){return p instanceof c?p:new c(function(u){u(p)})}(w.value).then(g,b)}y((t=t.apply(s,m||[])).next())})};class v extends n.JT{constructor(m,c="",t="",a=!0,p){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=m,this._label=c,this._cssClass=t,this._enabled=a,this._actionCallback=p}get id(){return this._id}get label(){return this._label}set label(m){this._setLabel(m)}_setLabel(m){this._label!==m&&(this._label=m,this._onDidChange.fire({label:m}))}get tooltip(){return this._tooltip||""}set tooltip(m){this._setTooltip(m)}_setTooltip(m){this._tooltip!==m&&(this._tooltip=m,this._onDidChange.fire({tooltip:m}))}get class(){return this._cssClass}set class(m){this._setClass(m)}_setClass(m){this._cssClass!==m&&(this._cssClass=m,this._onDidChange.fire({class:m}))}get enabled(){return this._enabled}set enabled(m){this._setEnabled(m)}_setEnabled(m){this._enabled!==m&&(this._enabled=m,this._onDidChange.fire({enabled:m}))}get checked(){return this._checked}set checked(m){this._setChecked(m)}_setChecked(m){this._checked!==m&&(this._checked=m,this._onDidChange.fire({checked:m}))}run(m,c){return S(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(m))})}}class T extends n.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new d.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new d.Q5),this.onDidRun=this._onDidRun.event}run(m,c){return S(this,void 0,void 0,function*(){if(!m.enabled)return;let t;this._onBeforeRun.fire({action:m});try{yield this.runAction(m,c)}catch(a){t=a}this._onDidRun.fire({action:m,error:t})})}runAction(m,c){return S(this,void 0,void 0,function*(){yield m.run(c)})}}let C=(()=>{class s extends v{constructor(c){super(s.ID,c,c?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return s.ID="vs.actions.separator",s})();class E{constructor(m,c,t,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=m,this.label=c,this.class=a,this._actions=t}get actions(){return this._actions}dispose(){}run(){return S(this,void 0,void 0,function*(){})}}let L=(()=>{class s extends v{constructor(){super(s.ID,l.NC("submenu.empty","(empty)"),void 0,!1)}}return s.ID="vs.actions.empty",s})();function _(s){var m,c;return{id:s.id,label:s.label,class:void 0,enabled:null===(m=s.enabled)||void 0===m||m,checked:null!==(c=s.checked)&&void 0!==c&&c,run:()=>S(this,void 0,void 0,function*(){return s.run()}),tooltip:s.label,dispose:()=>{}}}},64023:(Dt,Y,e)=>{"use strict";function d(U,ne=0){return U[U.length-(1+ne)]}function n(U){if(0===U.length)throw new Error("Invalid tail call");return[U.slice(0,U.length-1),U[U.length-1]]}function l(U,ne,N=((W,Z)=>W===Z)){if(U===ne)return!0;if(!U||!ne||U.length!==ne.length)return!1;for(let W=0,Z=U.length;W<Z;W++)if(!N(U[W],ne[W]))return!1;return!0}function S(U,ne){const N=U.length-1;ne<N&&(U[ne]=U[N]),U.pop()}function v(U,ne,N){return function T(U,ne){let N=0,W=U-1;for(;N<=W;){const Z=(N+W)/2|0,ge=ne(Z);if(ge<0)N=Z+1;else{if(!(ge>0))return Z;W=Z-1}}return-(N+1)}(U.length,W=>N(U[W],ne))}function C(U,ne){let N=0,W=U.length;if(0===W)return 0;for(;N<W;){const Z=Math.floor((N+W)/2);ne(U[Z])?W=Z:N=Z+1}return N}function E(U,ne,N){if((U|=0)>=ne.length)throw new TypeError("invalid index");const W=ne[Math.floor(ne.length*Math.random())],Z=[],ge=[],M=[];for(const we of ne){const Ee=N(we,W);Ee<0?Z.push(we):Ee>0?ge.push(we):M.push(we)}return U<Z.length?E(U,Z,N):U<Z.length+M.length?M[0]:E(U-(Z.length+M.length),ge,N)}function L(U,ne){const N=[];let W;for(const Z of U.slice(0).sort(ne))W&&0===ne(W[0],Z)?W.push(Z):(W=[Z],N.push(W));return N}function _(U){return U.filter(ne=>!!ne)}function s(U){return!Array.isArray(U)||0===U.length}function m(U){return Array.isArray(U)&&U.length>0}function c(U,ne=(N=>N)){const N=new Set;return U.filter(W=>{const Z=ne(W);return!N.has(Z)&&(N.add(Z),!0)})}function t(U,ne){const N=function a(U,ne){for(let N=U.length-1;N>=0;N--)if(ne(U[N]))return N;return-1}(U,ne);if(-1!==N)return U[N]}function p(U,ne){return U.length>0?U[0]:ne}function u(U,ne){let N="number"==typeof ne?U:0;"number"==typeof ne?N=U:(N=0,ne=U);const W=[];if(N<=ne)for(let Z=N;Z<ne;Z++)W.push(Z);else for(let Z=N;Z>ne;Z--)W.push(Z);return W}function g(U,ne,N){const W=U.slice(0,ne),Z=U.slice(ne);return W.concat(N,Z)}function b(U,ne){const N=U.indexOf(ne);N>-1&&(U.splice(N,1),U.unshift(ne))}function y(U,ne){const N=U.indexOf(ne);N>-1&&(U.splice(N,1),U.push(ne))}function w(U,ne){for(const N of ne)U.push(N)}function D(U){return Array.isArray(U)?U:[U]}function P(U,ne,N,W){const Z=O(U,ne),ge=U.splice(Z,N);return function x(U,ne,N){const W=O(U,ne),Z=U.length,ge=N.length;U.length=Z+ge;for(let M=Z-1;M>=W;M--)U[M+ge]=U[M];for(let M=0;M<ge;M++)U[M+W]=N[M]}(U,Z,W),ge}function O(U,ne){return ne<0?Math.max(ne+U.length,0):Math.min(ne,U.length)}var V,U;function H(U,ne){return(N,W)=>ne(U(N),U(W))}e.d(Y,{Dc:()=>k,EB:()=>c,Gb:()=>d,H9:()=>K,HW:()=>E,JH:()=>n,LS:()=>S,Of:()=>m,VJ:()=>j,XY:()=>s,Xh:()=>p,Zv:()=>g,_2:()=>D,al:()=>y,dF:()=>t,db:()=>P,fS:()=>l,fv:()=>z,jV:()=>F,kX:()=>_,lG:()=>C,ry:()=>v,tT:()=>H,vA:()=>w,vM:()=>L,w6:()=>u,zI:()=>b}),(U=V||(V={})).isLessThan=function ne(Z){return Z<0},U.isGreaterThan=function N(Z){return Z>0},U.isNeitherLessOrGreaterThan=function W(Z){return 0===Z},U.greaterThan=1,U.lessThan=-1,U.neitherLessOrGreaterThan=0;const z=(U,ne)=>U-ne;function k(U,ne){if(0===U.length)return;let N=U[0];for(let W=1;W<U.length;W++){const Z=U[W];ne(Z,N)>0&&(N=Z)}return N}function F(U,ne){if(0===U.length)return;let N=U[0];for(let W=1;W<U.length;W++){const Z=U[W];ne(Z,N)>=0&&(N=Z)}return N}function j(U,ne){return k(U,(N,W)=>-ne(N,W))}class K{constructor(ne){this.items=ne,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(ne){let N=this.firstIdx;for(;N<this.items.length&&ne(this.items[N]);)N++;const W=N===this.firstIdx?null:this.items.slice(this.firstIdx,N);return this.firstIdx=N,W}takeFromEndWhile(ne){let N=this.lastIdx;for(;N>=0&&ne(this.items[N]);)N--;const W=N===this.lastIdx?null:this.items.slice(N+1,this.lastIdx+1);return this.lastIdx=N,W}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const ne=this.items[this.firstIdx];return this.firstIdx++,ne}takeCount(ne){const N=this.items.slice(this.firstIdx,this.firstIdx+ne);return this.firstIdx+=ne,N}}},94772:(Dt,Y,e)=>{"use strict";function d(n,l){if(!n)throw new Error(l?`Assertion failed (${l})`:"Assertion Failed")}e.d(Y,{ok:()=>d})},48648:(Dt,Y,e)=>{"use strict";e.d(Y,{Aq:()=>H,CR:()=>O,J8:()=>E,PG:()=>L,Ps:()=>b,To:()=>x,Ue:()=>P,Vg:()=>g,Vs:()=>u,_F:()=>y,eP:()=>_,jT:()=>V,ne:()=>t,pY:()=>D,rH:()=>p,vp:()=>a,zS:()=>k,zh:()=>w});var d=e(73888),n=e(4125),l=e(3778),S=e(80142),v=e(8841),T=function(F,j,K,U){return new(K||(K=Promise))(function(N,W){function Z(we){try{M(U.next(we))}catch(Ee){W(Ee)}}function ge(we){try{M(U.throw(we))}catch(Ee){W(Ee)}}function M(we){we.done?N(we.value):function ne(N){return N instanceof K?N:new K(function(W){W(N)})}(we.value).then(Z,ge)}M((U=U.apply(F,j||[])).next())})},C=function(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,j=F[Symbol.asyncIterator];return j?j.call(F):(F="function"==typeof __values?__values(F):F[Symbol.iterator](),K={},U("next"),U("throw"),U("return"),K[Symbol.asyncIterator]=function(){return this},K);function U(N){K[N]=F[N]&&function(W){return new Promise(function(Z,ge){!function ne(N,W,Z,ge){Promise.resolve(ge).then(function(M){N({value:M,done:Z})},W)}(Z,ge,(W=F[N](W)).done,W.value)})}}};function E(F){return!!F&&"function"==typeof F.then}function L(F){const j=new d.A,K=F(j.token),U=new Promise((ne,N)=>{const W=j.token.onCancellationRequested(()=>{W.dispose(),j.dispose(),N(new n.FU)});Promise.resolve(K).then(Z=>{W.dispose(),j.dispose(),ne(Z)},Z=>{W.dispose(),j.dispose(),N(Z)})});return new class{cancel(){j.cancel()}then(ne,N){return U.then(ne,N)}catch(ne){return this.then(void 0,ne)}finally(ne){return U.finally(ne)}}}function _(F,j,K){return new Promise((U,ne)=>{const N=j.onCancellationRequested(()=>{N.dispose(),U(K)});F.then(U,ne).finally(()=>N.dispose())})}class s{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(j){if(this.activePromise){if(this.queuedPromiseFactory=j,!this.queuedPromise){const K=()=>{this.queuedPromise=null;const U=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,U};this.queuedPromise=new Promise(U=>{this.activePromise.then(K,K).then(U)})}return new Promise((K,U)=>{this.queuedPromise.then(K,U)})}return this.activePromise=j(),new Promise((K,U)=>{this.activePromise.then(ne=>{this.activePromise=null,K(ne)},ne=>{this.activePromise=null,U(ne)})})}}const t=Symbol("MicrotaskDelay");class a{constructor(j){this.defaultDelay=j,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(j,K=this.defaultDelay){this.task=j,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((ne,N)=>{this.doResolve=ne,this.doReject=N}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const ne=this.task;return this.task=null,ne()}}));const U=()=>{var ne;this.deferred=null,null===(ne=this.doResolve)||void 0===ne||ne.call(this,null)};return this.deferred=K===t?(F=>{let j=!0;return queueMicrotask(()=>{j&&(j=!1,F())}),{isTriggered:()=>j,dispose:()=>{j=!1}}})(U):((F,j)=>{let K=!0;const U=setTimeout(()=>{K=!1,j()},F);return{isTriggered:()=>K,dispose:()=>{clearTimeout(U),K=!1}}})(K,U),this.completionPromise}isTriggered(){var j;return!(null===(j=this.deferred)||void 0===j||!j.isTriggered())}cancel(){var j;this.cancelTimeout(),this.completionPromise&&(null===(j=this.doReject)||void 0===j||j.call(this,new n.FU),this.completionPromise=null)}cancelTimeout(){var j;null===(j=this.deferred)||void 0===j||j.dispose(),this.deferred=null}dispose(){this.cancel()}}class p{constructor(j){this.delayer=new a(j),this.throttler=new s}trigger(j,K){return this.delayer.trigger(()=>this.throttler.queue(j),K)}dispose(){this.delayer.dispose()}}function u(F,j){return j?new Promise((K,U)=>{const ne=setTimeout(()=>{N.dispose(),K()},F),N=j.onCancellationRequested(()=>{clearTimeout(ne),N.dispose(),U(new n.FU)})}):L(K=>u(F,K))}function g(F,j=0){const K=setTimeout(F,j);return(0,S.OF)(()=>clearTimeout(K))}function b(F,j=(U=>!!U),K=null){let U=0;const ne=F.length,N=()=>{if(U>=ne)return Promise.resolve(K);const W=F[U++];return Promise.resolve(W()).then(ge=>j(ge)?Promise.resolve(ge):N())};return N()}class y{constructor(j,K){this._token=-1,"function"==typeof j&&"number"==typeof K&&this.setIfNotSet(j,K)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(j,K){this.cancel(),this._token=setTimeout(()=>{this._token=-1,j()},K)}setIfNotSet(j,K){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,j()},K))}}class w{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(j,K){this.cancel(),this._token=setInterval(()=>{j()},K)}}class D{constructor(j,K){this.timeoutToken=-1,this.runner=j,this.timeout=K,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(j=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,j)}get delay(){return this.timeout}set delay(j){this.timeout=j}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var j;null===(j=this.runner)||void 0===j||j.call(this)}}let x;x="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?F=>{(0,v.fn)(()=>{if(j)return;const K=Date.now()+15;F(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,K-Date.now())}))});let j=!1;return{dispose(){j||(j=!0)}}}:(F,j)=>{const K=requestIdleCallback(F,"number"==typeof j?{timeout:j}:void 0);let U=!1;return{dispose(){U||(U=!0,cancelIdleCallback(K))}}};class P{constructor(j){this._didRun=!1,this._executor=()=>{try{this._value=j()}catch(K){this._error=K}finally{this._didRun=!0}},this._handle=x(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class O{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((j,K)=>{this.completeCallback=j,this.errorCallback=K})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(j){return new Promise(K=>{this.completeCallback(j),this.resolved=!0,K()})}cancel(){new Promise(j=>{this.errorCallback(new n.FU),this.rejected=!0,j()})}}var V,F;(F=V||(V={})).settled=function j(U){return T(this,void 0,void 0,function*(){let ne;const N=yield Promise.all(U.map(W=>W.then(Z=>Z,Z=>{ne||(ne=Z)})));if(typeof ne<"u")throw ne;return N})},F.withAsyncBody=function K(U){return new Promise((ne,N)=>T(this,void 0,void 0,function*(){try{yield U(ne,N)}catch(W){N(W)}}))};class H{constructor(j){this._state=0,this._results=[],this._error=null,this._onStateChanged=new l.Q5,queueMicrotask(()=>T(this,void 0,void 0,function*(){const K={emitOne:U=>this.emitOne(U),emitMany:U=>this.emitMany(U),reject:U=>this.reject(U)};try{yield Promise.resolve(j(K)),this.resolve()}catch(U){this.reject(U)}finally{K.emitOne=void 0,K.emitMany=void 0,K.reject=void 0}}))}static fromArray(j){return new H(K=>{K.emitMany(j)})}static fromPromise(j){return new H(K=>T(this,void 0,void 0,function*(){K.emitMany(yield j)}))}static fromPromises(j){return new H(K=>T(this,void 0,void 0,function*(){yield Promise.all(j.map(U=>T(this,void 0,void 0,function*(){return K.emitOne(yield U)})))}))}static merge(j){return new H(K=>T(this,void 0,void 0,function*(){yield Promise.all(j.map(U=>{var ne,N;return T(this,void 0,void 0,function*(){var W,Z;try{for(ne=C(U);!(N=yield ne.next()).done;)K.emitOne(N.value)}catch(ge){W={error:ge}}finally{try{N&&!N.done&&(Z=ne.return)&&(yield Z.call(ne))}finally{if(W)throw W.error}}})}))}))}[Symbol.asyncIterator](){let j=0;return{next:()=>T(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(j<this._results.length)return{done:!1,value:this._results[j++]};if(1===this._state)return{done:!0,value:void 0};yield l.ju.toPromise(this._onStateChanged.event)}})}}static map(j,K){return new H(U=>T(this,void 0,void 0,function*(){var ne,N;try{for(var Z,W=C(j);!(Z=yield W.next()).done;)U.emitOne(K(Z.value))}catch(ge){ne={error:ge}}finally{try{Z&&!Z.done&&(N=W.return)&&(yield N.call(W))}finally{if(ne)throw ne.error}}}))}map(j){return H.map(this,j)}static filter(j,K){return new H(U=>T(this,void 0,void 0,function*(){var ne,N;try{for(var Z,W=C(j);!(Z=yield W.next()).done;){const ge=Z.value;K(ge)&&U.emitOne(ge)}}catch(ge){ne={error:ge}}finally{try{Z&&!Z.done&&(N=W.return)&&(yield N.call(W))}finally{if(ne)throw ne.error}}}))}filter(j){return H.filter(this,j)}static coalesce(j){return H.filter(j,K=>!!K)}coalesce(){return H.coalesce(this)}static toPromise(j){var K,U,ne,N;return T(this,void 0,void 0,function*(){const W=[];try{for(K=C(j);!(U=yield K.next()).done;)W.push(U.value)}catch(Z){ne={error:Z}}finally{try{U&&!U.done&&(N=K.return)&&(yield N.call(K))}finally{if(ne)throw ne.error}}return W})}toPromise(){return H.toPromise(this)}emitOne(j){0===this._state&&(this._results.push(j),this._onStateChanged.fire())}emitMany(j){0===this._state&&(this._results=this._results.concat(j),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(j){0===this._state&&(this._state=2,this._error=j,this._onStateChanged.fire())}}H.EMPTY=H.fromArray([]);class z extends H{constructor(j,K){super(K),this._source=j}cancel(){this._source.cancel()}}function k(F){const j=new d.A,K=F(j.token);return new z(j,U=>T(this,void 0,void 0,function*(){var ne,N;const W=j.token.onCancellationRequested(()=>{W.dispose(),j.dispose(),U.reject(new n.FU)});try{try{for(var ge,Z=C(K);!(ge=yield Z.next()).done;){if(j.token.isCancellationRequested)return;U.emitOne(ge.value)}}catch(M){ne={error:M}}finally{try{ge&&!ge.done&&(N=Z.return)&&(yield N.call(Z))}finally{if(ne)throw ne.error}}W.dispose(),j.dispose()}catch(M){W.dispose(),j.dispose(),U.reject(M)}}))}},32068:(Dt,Y,e)=>{"use strict";e.d(Y,{Ag:()=>T,Cg:()=>L,KN:()=>l,Q$:()=>E,T4:()=>C,mP:()=>S,oq:()=>v});const d=typeof Buffer<"u";let n;class l{constructor(s){this.buffer=s,this.byteLength=this.buffer.byteLength}static wrap(s){return d&&!Buffer.isBuffer(s)&&(s=Buffer.from(s.buffer,s.byteOffset,s.byteLength)),new l(s)}toString(){return d?this.buffer.toString():(n||(n=new TextDecoder),n.decode(this.buffer))}}function S(_,s){return _[s+0]<<0>>>0|_[s+1]<<8>>>0}function v(_,s,m){_[m+0]=255&s,_[m+1]=255&(s>>>=8)}function T(_,s){return _[s]*Math.pow(2,24)+_[s+1]*Math.pow(2,16)+_[s+2]*Math.pow(2,8)+_[s+3]}function C(_,s,m){_[m+3]=s,_[m+2]=s>>>=8,_[m+1]=s>>>=8,_[m]=s>>>=8}function E(_,s){return _[s]}function L(_,s,m){_[m]=s}},71664:(Dt,Y,e)=>{"use strict";e.d(Y,{b:()=>n,t:()=>d});class d{constructor(S){this.fn=S,this.lastCache=void 0,this.lastArgKey=void 0}get(S){const v=JSON.stringify(S);return this.lastArgKey!==v&&(this.lastArgKey=v,this.lastCache=this.fn(S)),this.lastCache}}class n{constructor(S){this.fn=S,this._map=new Map}get cachedValues(){return this._map}get(S){if(this._map.has(S))return this._map.get(S);const v=this.fn(S);return this._map.set(S,v),v}}},73888:(Dt,Y,e)=>{"use strict";e.d(Y,{A:()=>v,T:()=>l});var d=e(3778);const n=Object.freeze(function(T,C){const E=setTimeout(T.bind(C),0);return{dispose(){clearTimeout(E)}}});var l,T;(T=l||(l={})).isCancellationToken=function C(E){return E===T.None||E===T.Cancelled||E instanceof S||!(!E||"object"!=typeof E)&&"boolean"==typeof E.isCancellationRequested&&"function"==typeof E.onCancellationRequested},T.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:d.ju.None}),T.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n});class S{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?n:(this._emitter||(this._emitter=new d.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class v{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new S),this._token}cancel(){this._token?this._token instanceof S&&this._token.cancel():this._token=l.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof S&&this._token.dispose():this._token=l.None}}},58783:(Dt,Y,e)=>{"use strict";function d(S){return S?S.replace(/\$\((.*?)\)/g,(v,T)=>` ${T} `).trim():""}e.d(Y,{JL:()=>d,dT:()=>l,lA:()=>n});class n{constructor(v,T,C){this.id=v,this.definition=T,this.description=C,n._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return n._allCodicons}}var l;n._allCodicons=[],n.add=new n("add",{fontCharacter:"\\ea60"}),n.plus=new n("plus",n.add.definition),n.gistNew=new n("gist-new",n.add.definition),n.repoCreate=new n("repo-create",n.add.definition),n.lightbulb=new n("lightbulb",{fontCharacter:"\\ea61"}),n.lightBulb=new n("light-bulb",{fontCharacter:"\\ea61"}),n.repo=new n("repo",{fontCharacter:"\\ea62"}),n.repoDelete=new n("repo-delete",{fontCharacter:"\\ea62"}),n.gistFork=new n("gist-fork",{fontCharacter:"\\ea63"}),n.repoForked=new n("repo-forked",{fontCharacter:"\\ea63"}),n.gitPullRequest=new n("git-pull-request",{fontCharacter:"\\ea64"}),n.gitPullRequestAbandoned=new n("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),n.recordKeys=new n("record-keys",{fontCharacter:"\\ea65"}),n.keyboard=new n("keyboard",{fontCharacter:"\\ea65"}),n.tag=new n("tag",{fontCharacter:"\\ea66"}),n.tagAdd=new n("tag-add",{fontCharacter:"\\ea66"}),n.tagRemove=new n("tag-remove",{fontCharacter:"\\ea66"}),n.person=new n("person",{fontCharacter:"\\ea67"}),n.personFollow=new n("person-follow",{fontCharacter:"\\ea67"}),n.personOutline=new n("person-outline",{fontCharacter:"\\ea67"}),n.personFilled=new n("person-filled",{fontCharacter:"\\ea67"}),n.gitBranch=new n("git-branch",{fontCharacter:"\\ea68"}),n.gitBranchCreate=new n("git-branch-create",{fontCharacter:"\\ea68"}),n.gitBranchDelete=new n("git-branch-delete",{fontCharacter:"\\ea68"}),n.sourceControl=new n("source-control",{fontCharacter:"\\ea68"}),n.mirror=new n("mirror",{fontCharacter:"\\ea69"}),n.mirrorPublic=new n("mirror-public",{fontCharacter:"\\ea69"}),n.star=new n("star",{fontCharacter:"\\ea6a"}),n.starAdd=new n("star-add",{fontCharacter:"\\ea6a"}),n.starDelete=new n("star-delete",{fontCharacter:"\\ea6a"}),n.starEmpty=new n("star-empty",{fontCharacter:"\\ea6a"}),n.comment=new n("comment",{fontCharacter:"\\ea6b"}),n.commentAdd=new n("comment-add",{fontCharacter:"\\ea6b"}),n.alert=new n("alert",{fontCharacter:"\\ea6c"}),n.warning=new n("warning",{fontCharacter:"\\ea6c"}),n.search=new n("search",{fontCharacter:"\\ea6d"}),n.searchSave=new n("search-save",{fontCharacter:"\\ea6d"}),n.logOut=new n("log-out",{fontCharacter:"\\ea6e"}),n.signOut=new n("sign-out",{fontCharacter:"\\ea6e"}),n.logIn=new n("log-in",{fontCharacter:"\\ea6f"}),n.signIn=new n("sign-in",{fontCharacter:"\\ea6f"}),n.eye=new n("eye",{fontCharacter:"\\ea70"}),n.eyeUnwatch=new n("eye-unwatch",{fontCharacter:"\\ea70"}),n.eyeWatch=new n("eye-watch",{fontCharacter:"\\ea70"}),n.circleFilled=new n("circle-filled",{fontCharacter:"\\ea71"}),n.primitiveDot=new n("primitive-dot",{fontCharacter:"\\ea71"}),n.closeDirty=new n("close-dirty",{fontCharacter:"\\ea71"}),n.debugBreakpoint=new n("debug-breakpoint",{fontCharacter:"\\ea71"}),n.debugBreakpointDisabled=new n("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),n.debugHint=new n("debug-hint",{fontCharacter:"\\ea71"}),n.primitiveSquare=new n("primitive-square",{fontCharacter:"\\ea72"}),n.edit=new n("edit",{fontCharacter:"\\ea73"}),n.pencil=new n("pencil",{fontCharacter:"\\ea73"}),n.info=new n("info",{fontCharacter:"\\ea74"}),n.issueOpened=new n("issue-opened",{fontCharacter:"\\ea74"}),n.gistPrivate=new n("gist-private",{fontCharacter:"\\ea75"}),n.gitForkPrivate=new n("git-fork-private",{fontCharacter:"\\ea75"}),n.lock=new n("lock",{fontCharacter:"\\ea75"}),n.mirrorPrivate=new n("mirror-private",{fontCharacter:"\\ea75"}),n.close=new n("close",{fontCharacter:"\\ea76"}),n.removeClose=new n("remove-close",{fontCharacter:"\\ea76"}),n.x=new n("x",{fontCharacter:"\\ea76"}),n.repoSync=new n("repo-sync",{fontCharacter:"\\ea77"}),n.sync=new n("sync",{fontCharacter:"\\ea77"}),n.clone=new n("clone",{fontCharacter:"\\ea78"}),n.desktopDownload=new n("desktop-download",{fontCharacter:"\\ea78"}),n.beaker=new n("beaker",{fontCharacter:"\\ea79"}),n.microscope=new n("microscope",{fontCharacter:"\\ea79"}),n.vm=new n("vm",{fontCharacter:"\\ea7a"}),n.deviceDesktop=new n("device-desktop",{fontCharacter:"\\ea7a"}),n.file=new n("file",{fontCharacter:"\\ea7b"}),n.fileText=new n("file-text",{fontCharacter:"\\ea7b"}),n.more=new n("more",{fontCharacter:"\\ea7c"}),n.ellipsis=new n("ellipsis",{fontCharacter:"\\ea7c"}),n.kebabHorizontal=new n("kebab-horizontal",{fontCharacter:"\\ea7c"}),n.mailReply=new n("mail-reply",{fontCharacter:"\\ea7d"}),n.reply=new n("reply",{fontCharacter:"\\ea7d"}),n.organization=new n("organization",{fontCharacter:"\\ea7e"}),n.organizationFilled=new n("organization-filled",{fontCharacter:"\\ea7e"}),n.organizationOutline=new n("organization-outline",{fontCharacter:"\\ea7e"}),n.newFile=new n("new-file",{fontCharacter:"\\ea7f"}),n.fileAdd=new n("file-add",{fontCharacter:"\\ea7f"}),n.newFolder=new n("new-folder",{fontCharacter:"\\ea80"}),n.fileDirectoryCreate=new n("file-directory-create",{fontCharacter:"\\ea80"}),n.trash=new n("trash",{fontCharacter:"\\ea81"}),n.trashcan=new n("trashcan",{fontCharacter:"\\ea81"}),n.history=new n("history",{fontCharacter:"\\ea82"}),n.clock=new n("clock",{fontCharacter:"\\ea82"}),n.folder=new n("folder",{fontCharacter:"\\ea83"}),n.fileDirectory=new n("file-directory",{fontCharacter:"\\ea83"}),n.symbolFolder=new n("symbol-folder",{fontCharacter:"\\ea83"}),n.logoGithub=new n("logo-github",{fontCharacter:"\\ea84"}),n.markGithub=new n("mark-github",{fontCharacter:"\\ea84"}),n.github=new n("github",{fontCharacter:"\\ea84"}),n.terminal=new n("terminal",{fontCharacter:"\\ea85"}),n.console=new n("console",{fontCharacter:"\\ea85"}),n.repl=new n("repl",{fontCharacter:"\\ea85"}),n.zap=new n("zap",{fontCharacter:"\\ea86"}),n.symbolEvent=new n("symbol-event",{fontCharacter:"\\ea86"}),n.error=new n("error",{fontCharacter:"\\ea87"}),n.stop=new n("stop",{fontCharacter:"\\ea87"}),n.variable=new n("variable",{fontCharacter:"\\ea88"}),n.symbolVariable=new n("symbol-variable",{fontCharacter:"\\ea88"}),n.array=new n("array",{fontCharacter:"\\ea8a"}),n.symbolArray=new n("symbol-array",{fontCharacter:"\\ea8a"}),n.symbolModule=new n("symbol-module",{fontCharacter:"\\ea8b"}),n.symbolPackage=new n("symbol-package",{fontCharacter:"\\ea8b"}),n.symbolNamespace=new n("symbol-namespace",{fontCharacter:"\\ea8b"}),n.symbolObject=new n("symbol-object",{fontCharacter:"\\ea8b"}),n.symbolMethod=new n("symbol-method",{fontCharacter:"\\ea8c"}),n.symbolFunction=new n("symbol-function",{fontCharacter:"\\ea8c"}),n.symbolConstructor=new n("symbol-constructor",{fontCharacter:"\\ea8c"}),n.symbolBoolean=new n("symbol-boolean",{fontCharacter:"\\ea8f"}),n.symbolNull=new n("symbol-null",{fontCharacter:"\\ea8f"}),n.symbolNumeric=new n("symbol-numeric",{fontCharacter:"\\ea90"}),n.symbolNumber=new n("symbol-number",{fontCharacter:"\\ea90"}),n.symbolStructure=new n("symbol-structure",{fontCharacter:"\\ea91"}),n.symbolStruct=new n("symbol-struct",{fontCharacter:"\\ea91"}),n.symbolParameter=new n("symbol-parameter",{fontCharacter:"\\ea92"}),n.symbolTypeParameter=new n("symbol-type-parameter",{fontCharacter:"\\ea92"}),n.symbolKey=new n("symbol-key",{fontCharacter:"\\ea93"}),n.symbolText=new n("symbol-text",{fontCharacter:"\\ea93"}),n.symbolReference=new n("symbol-reference",{fontCharacter:"\\ea94"}),n.goToFile=new n("go-to-file",{fontCharacter:"\\ea94"}),n.symbolEnum=new n("symbol-enum",{fontCharacter:"\\ea95"}),n.symbolValue=new n("symbol-value",{fontCharacter:"\\ea95"}),n.symbolRuler=new n("symbol-ruler",{fontCharacter:"\\ea96"}),n.symbolUnit=new n("symbol-unit",{fontCharacter:"\\ea96"}),n.activateBreakpoints=new n("activate-breakpoints",{fontCharacter:"\\ea97"}),n.archive=new n("archive",{fontCharacter:"\\ea98"}),n.arrowBoth=new n("arrow-both",{fontCharacter:"\\ea99"}),n.arrowDown=new n("arrow-down",{fontCharacter:"\\ea9a"}),n.arrowLeft=new n("arrow-left",{fontCharacter:"\\ea9b"}),n.arrowRight=new n("arrow-right",{fontCharacter:"\\ea9c"}),n.arrowSmallDown=new n("arrow-small-down",{fontCharacter:"\\ea9d"}),n.arrowSmallLeft=new n("arrow-small-left",{fontCharacter:"\\ea9e"}),n.arrowSmallRight=new n("arrow-small-right",{fontCharacter:"\\ea9f"}),n.arrowSmallUp=new n("arrow-small-up",{fontCharacter:"\\eaa0"}),n.arrowUp=new n("arrow-up",{fontCharacter:"\\eaa1"}),n.bell=new n("bell",{fontCharacter:"\\eaa2"}),n.bold=new n("bold",{fontCharacter:"\\eaa3"}),n.book=new n("book",{fontCharacter:"\\eaa4"}),n.bookmark=new n("bookmark",{fontCharacter:"\\eaa5"}),n.debugBreakpointConditionalUnverified=new n("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),n.debugBreakpointConditional=new n("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),n.debugBreakpointConditionalDisabled=new n("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),n.debugBreakpointDataUnverified=new n("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),n.debugBreakpointData=new n("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),n.debugBreakpointDataDisabled=new n("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),n.debugBreakpointLogUnverified=new n("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),n.debugBreakpointLog=new n("debug-breakpoint-log",{fontCharacter:"\\eaab"}),n.debugBreakpointLogDisabled=new n("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),n.briefcase=new n("briefcase",{fontCharacter:"\\eaac"}),n.broadcast=new n("broadcast",{fontCharacter:"\\eaad"}),n.browser=new n("browser",{fontCharacter:"\\eaae"}),n.bug=new n("bug",{fontCharacter:"\\eaaf"}),n.calendar=new n("calendar",{fontCharacter:"\\eab0"}),n.caseSensitive=new n("case-sensitive",{fontCharacter:"\\eab1"}),n.check=new n("check",{fontCharacter:"\\eab2"}),n.checklist=new n("checklist",{fontCharacter:"\\eab3"}),n.chevronDown=new n("chevron-down",{fontCharacter:"\\eab4"}),n.dropDownButton=new n("drop-down-button",n.chevronDown.definition),n.chevronLeft=new n("chevron-left",{fontCharacter:"\\eab5"}),n.chevronRight=new n("chevron-right",{fontCharacter:"\\eab6"}),n.chevronUp=new n("chevron-up",{fontCharacter:"\\eab7"}),n.chromeClose=new n("chrome-close",{fontCharacter:"\\eab8"}),n.chromeMaximize=new n("chrome-maximize",{fontCharacter:"\\eab9"}),n.chromeMinimize=new n("chrome-minimize",{fontCharacter:"\\eaba"}),n.chromeRestore=new n("chrome-restore",{fontCharacter:"\\eabb"}),n.circleOutline=new n("circle-outline",{fontCharacter:"\\eabc"}),n.debugBreakpointUnverified=new n("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),n.circleSlash=new n("circle-slash",{fontCharacter:"\\eabd"}),n.circuitBoard=new n("circuit-board",{fontCharacter:"\\eabe"}),n.clearAll=new n("clear-all",{fontCharacter:"\\eabf"}),n.clippy=new n("clippy",{fontCharacter:"\\eac0"}),n.closeAll=new n("close-all",{fontCharacter:"\\eac1"}),n.cloudDownload=new n("cloud-download",{fontCharacter:"\\eac2"}),n.cloudUpload=new n("cloud-upload",{fontCharacter:"\\eac3"}),n.code=new n("code",{fontCharacter:"\\eac4"}),n.collapseAll=new n("collapse-all",{fontCharacter:"\\eac5"}),n.colorMode=new n("color-mode",{fontCharacter:"\\eac6"}),n.commentDiscussion=new n("comment-discussion",{fontCharacter:"\\eac7"}),n.compareChanges=new n("compare-changes",{fontCharacter:"\\eafd"}),n.creditCard=new n("credit-card",{fontCharacter:"\\eac9"}),n.dash=new n("dash",{fontCharacter:"\\eacc"}),n.dashboard=new n("dashboard",{fontCharacter:"\\eacd"}),n.database=new n("database",{fontCharacter:"\\eace"}),n.debugContinue=new n("debug-continue",{fontCharacter:"\\eacf"}),n.debugDisconnect=new n("debug-disconnect",{fontCharacter:"\\ead0"}),n.debugPause=new n("debug-pause",{fontCharacter:"\\ead1"}),n.debugRestart=new n("debug-restart",{fontCharacter:"\\ead2"}),n.debugStart=new n("debug-start",{fontCharacter:"\\ead3"}),n.debugStepInto=new n("debug-step-into",{fontCharacter:"\\ead4"}),n.debugStepOut=new n("debug-step-out",{fontCharacter:"\\ead5"}),n.debugStepOver=new n("debug-step-over",{fontCharacter:"\\ead6"}),n.debugStop=new n("debug-stop",{fontCharacter:"\\ead7"}),n.debug=new n("debug",{fontCharacter:"\\ead8"}),n.deviceCameraVideo=new n("device-camera-video",{fontCharacter:"\\ead9"}),n.deviceCamera=new n("device-camera",{fontCharacter:"\\eada"}),n.deviceMobile=new n("device-mobile",{fontCharacter:"\\eadb"}),n.diffAdded=new n("diff-added",{fontCharacter:"\\eadc"}),n.diffIgnored=new n("diff-ignored",{fontCharacter:"\\eadd"}),n.diffModified=new n("diff-modified",{fontCharacter:"\\eade"}),n.diffRemoved=new n("diff-removed",{fontCharacter:"\\eadf"}),n.diffRenamed=new n("diff-renamed",{fontCharacter:"\\eae0"}),n.diff=new n("diff",{fontCharacter:"\\eae1"}),n.discard=new n("discard",{fontCharacter:"\\eae2"}),n.editorLayout=new n("editor-layout",{fontCharacter:"\\eae3"}),n.emptyWindow=new n("empty-window",{fontCharacter:"\\eae4"}),n.exclude=new n("exclude",{fontCharacter:"\\eae5"}),n.extensions=new n("extensions",{fontCharacter:"\\eae6"}),n.eyeClosed=new n("eye-closed",{fontCharacter:"\\eae7"}),n.fileBinary=new n("file-binary",{fontCharacter:"\\eae8"}),n.fileCode=new n("file-code",{fontCharacter:"\\eae9"}),n.fileMedia=new n("file-media",{fontCharacter:"\\eaea"}),n.filePdf=new n("file-pdf",{fontCharacter:"\\eaeb"}),n.fileSubmodule=new n("file-submodule",{fontCharacter:"\\eaec"}),n.fileSymlinkDirectory=new n("file-symlink-directory",{fontCharacter:"\\eaed"}),n.fileSymlinkFile=new n("file-symlink-file",{fontCharacter:"\\eaee"}),n.fileZip=new n("file-zip",{fontCharacter:"\\eaef"}),n.files=new n("files",{fontCharacter:"\\eaf0"}),n.filter=new n("filter",{fontCharacter:"\\eaf1"}),n.flame=new n("flame",{fontCharacter:"\\eaf2"}),n.foldDown=new n("fold-down",{fontCharacter:"\\eaf3"}),n.foldUp=new n("fold-up",{fontCharacter:"\\eaf4"}),n.fold=new n("fold",{fontCharacter:"\\eaf5"}),n.folderActive=new n("folder-active",{fontCharacter:"\\eaf6"}),n.folderOpened=new n("folder-opened",{fontCharacter:"\\eaf7"}),n.gear=new n("gear",{fontCharacter:"\\eaf8"}),n.gift=new n("gift",{fontCharacter:"\\eaf9"}),n.gistSecret=new n("gist-secret",{fontCharacter:"\\eafa"}),n.gist=new n("gist",{fontCharacter:"\\eafb"}),n.gitCommit=new n("git-commit",{fontCharacter:"\\eafc"}),n.gitCompare=new n("git-compare",{fontCharacter:"\\eafd"}),n.gitMerge=new n("git-merge",{fontCharacter:"\\eafe"}),n.githubAction=new n("github-action",{fontCharacter:"\\eaff"}),n.githubAlt=new n("github-alt",{fontCharacter:"\\eb00"}),n.globe=new n("globe",{fontCharacter:"\\eb01"}),n.grabber=new n("grabber",{fontCharacter:"\\eb02"}),n.graph=new n("graph",{fontCharacter:"\\eb03"}),n.gripper=new n("gripper",{fontCharacter:"\\eb04"}),n.heart=new n("heart",{fontCharacter:"\\eb05"}),n.home=new n("home",{fontCharacter:"\\eb06"}),n.horizontalRule=new n("horizontal-rule",{fontCharacter:"\\eb07"}),n.hubot=new n("hubot",{fontCharacter:"\\eb08"}),n.inbox=new n("inbox",{fontCharacter:"\\eb09"}),n.issueClosed=new n("issue-closed",{fontCharacter:"\\eba4"}),n.issueReopened=new n("issue-reopened",{fontCharacter:"\\eb0b"}),n.issues=new n("issues",{fontCharacter:"\\eb0c"}),n.italic=new n("italic",{fontCharacter:"\\eb0d"}),n.jersey=new n("jersey",{fontCharacter:"\\eb0e"}),n.json=new n("json",{fontCharacter:"\\eb0f"}),n.kebabVertical=new n("kebab-vertical",{fontCharacter:"\\eb10"}),n.key=new n("key",{fontCharacter:"\\eb11"}),n.law=new n("law",{fontCharacter:"\\eb12"}),n.lightbulbAutofix=new n("lightbulb-autofix",{fontCharacter:"\\eb13"}),n.linkExternal=new n("link-external",{fontCharacter:"\\eb14"}),n.link=new n("link",{fontCharacter:"\\eb15"}),n.listOrdered=new n("list-ordered",{fontCharacter:"\\eb16"}),n.listUnordered=new n("list-unordered",{fontCharacter:"\\eb17"}),n.liveShare=new n("live-share",{fontCharacter:"\\eb18"}),n.loading=new n("loading",{fontCharacter:"\\eb19"}),n.location=new n("location",{fontCharacter:"\\eb1a"}),n.mailRead=new n("mail-read",{fontCharacter:"\\eb1b"}),n.mail=new n("mail",{fontCharacter:"\\eb1c"}),n.markdown=new n("markdown",{fontCharacter:"\\eb1d"}),n.megaphone=new n("megaphone",{fontCharacter:"\\eb1e"}),n.mention=new n("mention",{fontCharacter:"\\eb1f"}),n.milestone=new n("milestone",{fontCharacter:"\\eb20"}),n.mortarBoard=new n("mortar-board",{fontCharacter:"\\eb21"}),n.move=new n("move",{fontCharacter:"\\eb22"}),n.multipleWindows=new n("multiple-windows",{fontCharacter:"\\eb23"}),n.mute=new n("mute",{fontCharacter:"\\eb24"}),n.noNewline=new n("no-newline",{fontCharacter:"\\eb25"}),n.note=new n("note",{fontCharacter:"\\eb26"}),n.octoface=new n("octoface",{fontCharacter:"\\eb27"}),n.openPreview=new n("open-preview",{fontCharacter:"\\eb28"}),n.package_=new n("package",{fontCharacter:"\\eb29"}),n.paintcan=new n("paintcan",{fontCharacter:"\\eb2a"}),n.pin=new n("pin",{fontCharacter:"\\eb2b"}),n.play=new n("play",{fontCharacter:"\\eb2c"}),n.run=new n("run",{fontCharacter:"\\eb2c"}),n.plug=new n("plug",{fontCharacter:"\\eb2d"}),n.preserveCase=new n("preserve-case",{fontCharacter:"\\eb2e"}),n.preview=new n("preview",{fontCharacter:"\\eb2f"}),n.project=new n("project",{fontCharacter:"\\eb30"}),n.pulse=new n("pulse",{fontCharacter:"\\eb31"}),n.question=new n("question",{fontCharacter:"\\eb32"}),n.quote=new n("quote",{fontCharacter:"\\eb33"}),n.radioTower=new n("radio-tower",{fontCharacter:"\\eb34"}),n.reactions=new n("reactions",{fontCharacter:"\\eb35"}),n.references=new n("references",{fontCharacter:"\\eb36"}),n.refresh=new n("refresh",{fontCharacter:"\\eb37"}),n.regex=new n("regex",{fontCharacter:"\\eb38"}),n.remoteExplorer=new n("remote-explorer",{fontCharacter:"\\eb39"}),n.remote=new n("remote",{fontCharacter:"\\eb3a"}),n.remove=new n("remove",{fontCharacter:"\\eb3b"}),n.replaceAll=new n("replace-all",{fontCharacter:"\\eb3c"}),n.replace=new n("replace",{fontCharacter:"\\eb3d"}),n.repoClone=new n("repo-clone",{fontCharacter:"\\eb3e"}),n.repoForcePush=new n("repo-force-push",{fontCharacter:"\\eb3f"}),n.repoPull=new n("repo-pull",{fontCharacter:"\\eb40"}),n.repoPush=new n("repo-push",{fontCharacter:"\\eb41"}),n.report=new n("report",{fontCharacter:"\\eb42"}),n.requestChanges=new n("request-changes",{fontCharacter:"\\eb43"}),n.rocket=new n("rocket",{fontCharacter:"\\eb44"}),n.rootFolderOpened=new n("root-folder-opened",{fontCharacter:"\\eb45"}),n.rootFolder=new n("root-folder",{fontCharacter:"\\eb46"}),n.rss=new n("rss",{fontCharacter:"\\eb47"}),n.ruby=new n("ruby",{fontCharacter:"\\eb48"}),n.saveAll=new n("save-all",{fontCharacter:"\\eb49"}),n.saveAs=new n("save-as",{fontCharacter:"\\eb4a"}),n.save=new n("save",{fontCharacter:"\\eb4b"}),n.screenFull=new n("screen-full",{fontCharacter:"\\eb4c"}),n.screenNormal=new n("screen-normal",{fontCharacter:"\\eb4d"}),n.searchStop=new n("search-stop",{fontCharacter:"\\eb4e"}),n.server=new n("server",{fontCharacter:"\\eb50"}),n.settingsGear=new n("settings-gear",{fontCharacter:"\\eb51"}),n.settings=new n("settings",{fontCharacter:"\\eb52"}),n.shield=new n("shield",{fontCharacter:"\\eb53"}),n.smiley=new n("smiley",{fontCharacter:"\\eb54"}),n.sortPrecedence=new n("sort-precedence",{fontCharacter:"\\eb55"}),n.splitHorizontal=new n("split-horizontal",{fontCharacter:"\\eb56"}),n.splitVertical=new n("split-vertical",{fontCharacter:"\\eb57"}),n.squirrel=new n("squirrel",{fontCharacter:"\\eb58"}),n.starFull=new n("star-full",{fontCharacter:"\\eb59"}),n.starHalf=new n("star-half",{fontCharacter:"\\eb5a"}),n.symbolClass=new n("symbol-class",{fontCharacter:"\\eb5b"}),n.symbolColor=new n("symbol-color",{fontCharacter:"\\eb5c"}),n.symbolCustomColor=new n("symbol-customcolor",{fontCharacter:"\\eb5c"}),n.symbolConstant=new n("symbol-constant",{fontCharacter:"\\eb5d"}),n.symbolEnumMember=new n("symbol-enum-member",{fontCharacter:"\\eb5e"}),n.symbolField=new n("symbol-field",{fontCharacter:"\\eb5f"}),n.symbolFile=new n("symbol-file",{fontCharacter:"\\eb60"}),n.symbolInterface=new n("symbol-interface",{fontCharacter:"\\eb61"}),n.symbolKeyword=new n("symbol-keyword",{fontCharacter:"\\eb62"}),n.symbolMisc=new n("symbol-misc",{fontCharacter:"\\eb63"}),n.symbolOperator=new n("symbol-operator",{fontCharacter:"\\eb64"}),n.symbolProperty=new n("symbol-property",{fontCharacter:"\\eb65"}),n.wrench=new n("wrench",{fontCharacter:"\\eb65"}),n.wrenchSubaction=new n("wrench-subaction",{fontCharacter:"\\eb65"}),n.symbolSnippet=new n("symbol-snippet",{fontCharacter:"\\eb66"}),n.tasklist=new n("tasklist",{fontCharacter:"\\eb67"}),n.telescope=new n("telescope",{fontCharacter:"\\eb68"}),n.textSize=new n("text-size",{fontCharacter:"\\eb69"}),n.threeBars=new n("three-bars",{fontCharacter:"\\eb6a"}),n.thumbsdown=new n("thumbsdown",{fontCharacter:"\\eb6b"}),n.thumbsup=new n("thumbsup",{fontCharacter:"\\eb6c"}),n.tools=new n("tools",{fontCharacter:"\\eb6d"}),n.triangleDown=new n("triangle-down",{fontCharacter:"\\eb6e"}),n.triangleLeft=new n("triangle-left",{fontCharacter:"\\eb6f"}),n.triangleRight=new n("triangle-right",{fontCharacter:"\\eb70"}),n.triangleUp=new n("triangle-up",{fontCharacter:"\\eb71"}),n.twitter=new n("twitter",{fontCharacter:"\\eb72"}),n.unfold=new n("unfold",{fontCharacter:"\\eb73"}),n.unlock=new n("unlock",{fontCharacter:"\\eb74"}),n.unmute=new n("unmute",{fontCharacter:"\\eb75"}),n.unverified=new n("unverified",{fontCharacter:"\\eb76"}),n.verified=new n("verified",{fontCharacter:"\\eb77"}),n.versions=new n("versions",{fontCharacter:"\\eb78"}),n.vmActive=new n("vm-active",{fontCharacter:"\\eb79"}),n.vmOutline=new n("vm-outline",{fontCharacter:"\\eb7a"}),n.vmRunning=new n("vm-running",{fontCharacter:"\\eb7b"}),n.watch=new n("watch",{fontCharacter:"\\eb7c"}),n.whitespace=new n("whitespace",{fontCharacter:"\\eb7d"}),n.wholeWord=new n("whole-word",{fontCharacter:"\\eb7e"}),n.window=new n("window",{fontCharacter:"\\eb7f"}),n.wordWrap=new n("word-wrap",{fontCharacter:"\\eb80"}),n.zoomIn=new n("zoom-in",{fontCharacter:"\\eb81"}),n.zoomOut=new n("zoom-out",{fontCharacter:"\\eb82"}),n.listFilter=new n("list-filter",{fontCharacter:"\\eb83"}),n.listFlat=new n("list-flat",{fontCharacter:"\\eb84"}),n.listSelection=new n("list-selection",{fontCharacter:"\\eb85"}),n.selection=new n("selection",{fontCharacter:"\\eb85"}),n.listTree=new n("list-tree",{fontCharacter:"\\eb86"}),n.debugBreakpointFunctionUnverified=new n("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),n.debugBreakpointFunction=new n("debug-breakpoint-function",{fontCharacter:"\\eb88"}),n.debugBreakpointFunctionDisabled=new n("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),n.debugStackframeActive=new n("debug-stackframe-active",{fontCharacter:"\\eb89"}),n.circleSmallFilled=new n("circle-small-filled",{fontCharacter:"\\eb8a"}),n.debugStackframeDot=new n("debug-stackframe-dot",n.circleSmallFilled.definition),n.debugStackframe=new n("debug-stackframe",{fontCharacter:"\\eb8b"}),n.debugStackframeFocused=new n("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),n.debugBreakpointUnsupported=new n("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),n.symbolString=new n("symbol-string",{fontCharacter:"\\eb8d"}),n.debugReverseContinue=new n("debug-reverse-continue",{fontCharacter:"\\eb8e"}),n.debugStepBack=new n("debug-step-back",{fontCharacter:"\\eb8f"}),n.debugRestartFrame=new n("debug-restart-frame",{fontCharacter:"\\eb90"}),n.callIncoming=new n("call-incoming",{fontCharacter:"\\eb92"}),n.callOutgoing=new n("call-outgoing",{fontCharacter:"\\eb93"}),n.menu=new n("menu",{fontCharacter:"\\eb94"}),n.expandAll=new n("expand-all",{fontCharacter:"\\eb95"}),n.feedback=new n("feedback",{fontCharacter:"\\eb96"}),n.groupByRefType=new n("group-by-ref-type",{fontCharacter:"\\eb97"}),n.ungroupByRefType=new n("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),n.account=new n("account",{fontCharacter:"\\eb99"}),n.bellDot=new n("bell-dot",{fontCharacter:"\\eb9a"}),n.debugConsole=new n("debug-console",{fontCharacter:"\\eb9b"}),n.library=new n("library",{fontCharacter:"\\eb9c"}),n.output=new n("output",{fontCharacter:"\\eb9d"}),n.runAll=new n("run-all",{fontCharacter:"\\eb9e"}),n.syncIgnored=new n("sync-ignored",{fontCharacter:"\\eb9f"}),n.pinned=new n("pinned",{fontCharacter:"\\eba0"}),n.githubInverted=new n("github-inverted",{fontCharacter:"\\eba1"}),n.debugAlt=new n("debug-alt",{fontCharacter:"\\eb91"}),n.serverProcess=new n("server-process",{fontCharacter:"\\eba2"}),n.serverEnvironment=new n("server-environment",{fontCharacter:"\\eba3"}),n.pass=new n("pass",{fontCharacter:"\\eba4"}),n.stopCircle=new n("stop-circle",{fontCharacter:"\\eba5"}),n.playCircle=new n("play-circle",{fontCharacter:"\\eba6"}),n.record=new n("record",{fontCharacter:"\\eba7"}),n.debugAltSmall=new n("debug-alt-small",{fontCharacter:"\\eba8"}),n.vmConnect=new n("vm-connect",{fontCharacter:"\\eba9"}),n.cloud=new n("cloud",{fontCharacter:"\\ebaa"}),n.merge=new n("merge",{fontCharacter:"\\ebab"}),n.exportIcon=new n("export",{fontCharacter:"\\ebac"}),n.graphLeft=new n("graph-left",{fontCharacter:"\\ebad"}),n.magnet=new n("magnet",{fontCharacter:"\\ebae"}),n.notebook=new n("notebook",{fontCharacter:"\\ebaf"}),n.redo=new n("redo",{fontCharacter:"\\ebb0"}),n.checkAll=new n("check-all",{fontCharacter:"\\ebb1"}),n.pinnedDirty=new n("pinned-dirty",{fontCharacter:"\\ebb2"}),n.passFilled=new n("pass-filled",{fontCharacter:"\\ebb3"}),n.circleLargeFilled=new n("circle-large-filled",{fontCharacter:"\\ebb4"}),n.circleLargeOutline=new n("circle-large-outline",{fontCharacter:"\\ebb5"}),n.combine=new n("combine",{fontCharacter:"\\ebb6"}),n.gather=new n("gather",{fontCharacter:"\\ebb6"}),n.table=new n("table",{fontCharacter:"\\ebb7"}),n.variableGroup=new n("variable-group",{fontCharacter:"\\ebb8"}),n.typeHierarchy=new n("type-hierarchy",{fontCharacter:"\\ebb9"}),n.typeHierarchySub=new n("type-hierarchy-sub",{fontCharacter:"\\ebba"}),n.typeHierarchySuper=new n("type-hierarchy-super",{fontCharacter:"\\ebbb"}),n.gitPullRequestCreate=new n("git-pull-request-create",{fontCharacter:"\\ebbc"}),n.runAbove=new n("run-above",{fontCharacter:"\\ebbd"}),n.runBelow=new n("run-below",{fontCharacter:"\\ebbe"}),n.notebookTemplate=new n("notebook-template",{fontCharacter:"\\ebbf"}),n.debugRerun=new n("debug-rerun",{fontCharacter:"\\ebc0"}),n.workspaceTrusted=new n("workspace-trusted",{fontCharacter:"\\ebc1"}),n.workspaceUntrusted=new n("workspace-untrusted",{fontCharacter:"\\ebc2"}),n.workspaceUnspecified=new n("workspace-unspecified",{fontCharacter:"\\ebc3"}),n.terminalCmd=new n("terminal-cmd",{fontCharacter:"\\ebc4"}),n.terminalDebian=new n("terminal-debian",{fontCharacter:"\\ebc5"}),n.terminalLinux=new n("terminal-linux",{fontCharacter:"\\ebc6"}),n.terminalPowershell=new n("terminal-powershell",{fontCharacter:"\\ebc7"}),n.terminalTmux=new n("terminal-tmux",{fontCharacter:"\\ebc8"}),n.terminalUbuntu=new n("terminal-ubuntu",{fontCharacter:"\\ebc9"}),n.terminalBash=new n("terminal-bash",{fontCharacter:"\\ebca"}),n.arrowSwap=new n("arrow-swap",{fontCharacter:"\\ebcb"}),n.copy=new n("copy",{fontCharacter:"\\ebcc"}),n.personAdd=new n("person-add",{fontCharacter:"\\ebcd"}),n.filterFilled=new n("filter-filled",{fontCharacter:"\\ebce"}),n.wand=new n("wand",{fontCharacter:"\\ebcf"}),n.debugLineByLine=new n("debug-line-by-line",{fontCharacter:"\\ebd0"}),n.inspect=new n("inspect",{fontCharacter:"\\ebd1"}),n.layers=new n("layers",{fontCharacter:"\\ebd2"}),n.layersDot=new n("layers-dot",{fontCharacter:"\\ebd3"}),n.layersActive=new n("layers-active",{fontCharacter:"\\ebd4"}),n.compass=new n("compass",{fontCharacter:"\\ebd5"}),n.compassDot=new n("compass-dot",{fontCharacter:"\\ebd6"}),n.compassActive=new n("compass-active",{fontCharacter:"\\ebd7"}),n.azure=new n("azure",{fontCharacter:"\\ebd8"}),n.issueDraft=new n("issue-draft",{fontCharacter:"\\ebd9"}),n.gitPullRequestClosed=new n("git-pull-request-closed",{fontCharacter:"\\ebda"}),n.gitPullRequestDraft=new n("git-pull-request-draft",{fontCharacter:"\\ebdb"}),n.debugAll=new n("debug-all",{fontCharacter:"\\ebdc"}),n.debugCoverage=new n("debug-coverage",{fontCharacter:"\\ebdd"}),n.runErrors=new n("run-errors",{fontCharacter:"\\ebde"}),n.folderLibrary=new n("folder-library",{fontCharacter:"\\ebdf"}),n.debugContinueSmall=new n("debug-continue-small",{fontCharacter:"\\ebe0"}),n.beakerStop=new n("beaker-stop",{fontCharacter:"\\ebe1"}),n.graphLine=new n("graph-line",{fontCharacter:"\\ebe2"}),n.graphScatter=new n("graph-scatter",{fontCharacter:"\\ebe3"}),n.pieChart=new n("pie-chart",{fontCharacter:"\\ebe4"}),n.bracket=new n("bracket",n.json.definition),n.bracketDot=new n("bracket-dot",{fontCharacter:"\\ebe5"}),n.bracketError=new n("bracket-error",{fontCharacter:"\\ebe6"}),n.lockSmall=new n("lock-small",{fontCharacter:"\\ebe7"}),n.azureDevops=new n("azure-devops",{fontCharacter:"\\ebe8"}),n.verifiedFilled=new n("verified-filled",{fontCharacter:"\\ebe9"}),n.newLine=new n("newline",{fontCharacter:"\\ebea"}),n.layout=new n("layout",{fontCharacter:"\\ebeb"}),n.layoutActivitybarLeft=new n("layout-activitybar-left",{fontCharacter:"\\ebec"}),n.layoutActivitybarRight=new n("layout-activitybar-right",{fontCharacter:"\\ebed"}),n.layoutPanelLeft=new n("layout-panel-left",{fontCharacter:"\\ebee"}),n.layoutPanelCenter=new n("layout-panel-center",{fontCharacter:"\\ebef"}),n.layoutPanelJustify=new n("layout-panel-justify",{fontCharacter:"\\ebf0"}),n.layoutPanelRight=new n("layout-panel-right",{fontCharacter:"\\ebf1"}),n.layoutPanel=new n("layout-panel",{fontCharacter:"\\ebf2"}),n.layoutSidebarLeft=new n("layout-sidebar-left",{fontCharacter:"\\ebf3"}),n.layoutSidebarRight=new n("layout-sidebar-right",{fontCharacter:"\\ebf4"}),n.layoutStatusbar=new n("layout-statusbar",{fontCharacter:"\\ebf5"}),n.layoutMenubar=new n("layout-menubar",{fontCharacter:"\\ebf6"}),n.layoutCentered=new n("layout-centered",{fontCharacter:"\\ebf7"}),n.layoutSidebarRightOff=new n("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),n.layoutPanelOff=new n("layout-panel-off",{fontCharacter:"\\ec01"}),n.layoutSidebarLeftOff=new n("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),n.target=new n("target",{fontCharacter:"\\ebf8"}),n.indent=new n("indent",{fontCharacter:"\\ebf9"}),n.recordSmall=new n("record-small",{fontCharacter:"\\ebfa"}),n.errorSmall=new n("error-small",{fontCharacter:"\\ebfb"}),n.arrowCircleDown=new n("arrow-circle-down",{fontCharacter:"\\ebfc"}),n.arrowCircleLeft=new n("arrow-circle-left",{fontCharacter:"\\ebfd"}),n.arrowCircleRight=new n("arrow-circle-right",{fontCharacter:"\\ebfe"}),n.arrowCircleUp=new n("arrow-circle-up",{fontCharacter:"\\ebff"}),n.heartFilled=new n("heart-filled",{fontCharacter:"\\ec04"}),n.map=new n("map",{fontCharacter:"\\ec05"}),n.mapFilled=new n("map-filled",{fontCharacter:"\\ec06"}),n.circleSmall=new n("circle-small",{fontCharacter:"\\ec07"}),n.bellSlash=new n("bell-slash",{fontCharacter:"\\ec08"}),n.bellSlashDot=new n("bell-slash-dot",{fontCharacter:"\\ec09"}),n.commentUnresolved=new n("comment-unresolved",{fontCharacter:"\\ec0a"}),n.gitPullRequestGoToChanges=new n("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),n.gitPullRequestNewChanges=new n("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),n.dialogError=new n("dialog-error",n.error.definition),n.dialogWarning=new n("dialog-warning",n.warning.definition),n.dialogInfo=new n("dialog-info",n.info.definition),n.dialogClose=new n("dialog-close",n.close.definition),n.treeItemExpanded=new n("tree-item-expanded",n.chevronDown.definition),n.treeFilterOnTypeOn=new n("tree-filter-on-type-on",n.listFilter.definition),n.treeFilterOnTypeOff=new n("tree-filter-on-type-off",n.listSelection.definition),n.treeFilterClear=new n("tree-filter-clear",n.close.definition),n.treeItemLoading=new n("tree-item-loading",n.loading.definition),n.menuSelection=new n("menu-selection",n.check.definition),n.menuSubmenu=new n("menu-submenu",n.chevronRight.definition),n.menuBarMore=new n("menubar-more",n.more.definition),n.scrollbarButtonLeft=new n("scrollbar-button-left",n.triangleLeft.definition),n.scrollbarButtonRight=new n("scrollbar-button-right",n.triangleRight.definition),n.scrollbarButtonUp=new n("scrollbar-button-up",n.triangleUp.definition),n.scrollbarButtonDown=new n("scrollbar-button-down",n.triangleDown.definition),n.toolBarMore=new n("toolbar-more",n.more.definition),n.quickInputBack=new n("quick-input-back",n.arrowLeft.definition),function(S){S.iconNameSegment="[A-Za-z0-9]+",S.iconNameExpression="[A-Za-z0-9-]+",S.iconModifierExpression="~[A-Za-z]+",S.iconNameCharacter="[A-Za-z0-9~-]";const v=new RegExp(`^(${S.iconNameExpression})(${S.iconModifierExpression})?$`);function T(L){if(L instanceof n)return["codicon","codicon-"+L.id];const _=v.exec(L.id);if(!_)return T(n.error);const[,s,m]=_,c=["codicon","codicon-"+s];return m&&c.push("codicon-modifier-"+m.substr(1)),c}S.asClassNameArray=T,S.asClassName=function C(L){return T(L).join(" ")},S.asCSSSelector=function E(L){return"."+T(L).join(".")}}(l||(l={}))},69355:(Dt,Y,e)=>{"use strict";function d(T,C){const E=Math.pow(10,C);return Math.round(T*E)/E}e.d(Y,{Il:()=>v,VS:()=>n,tx:()=>S});class n{constructor(C,E,L,_=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,C)),this.g=0|Math.min(255,Math.max(0,E)),this.b=0|Math.min(255,Math.max(0,L)),this.a=d(Math.max(Math.min(1,_),0),3)}static equals(C,E){return C.r===E.r&&C.g===E.g&&C.b===E.b&&C.a===E.a}}class l{constructor(C,E,L,_){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,C),0),this.s=d(Math.max(Math.min(1,E),0),3),this.l=d(Math.max(Math.min(1,L),0),3),this.a=d(Math.max(Math.min(1,_),0),3)}static equals(C,E){return C.h===E.h&&C.s===E.s&&C.l===E.l&&C.a===E.a}static fromRGBA(C){const E=C.r/255,L=C.g/255,_=C.b/255,s=C.a,m=Math.max(E,L,_),c=Math.min(E,L,_);let t=0,a=0;const p=(c+m)/2,u=m-c;if(u>0){switch(a=Math.min(p<=.5?u/(2*p):u/(2-2*p),1),m){case E:t=(L-_)/u+(L<_?6:0);break;case L:t=(_-E)/u+2;break;case _:t=(E-L)/u+4}t*=60,t=Math.round(t)}return new l(t,a,p,s)}static _hue2rgb(C,E,L){return L<0&&(L+=1),L>1&&(L-=1),L<1/6?C+6*(E-C)*L:L<.5?E:L<2/3?C+(E-C)*(2/3-L)*6:C}static toRGBA(C){const E=C.h/360,{s:L,l:_,a:s}=C;let m,c,t;if(0===L)m=c=t=_;else{const a=_<.5?_*(1+L):_+L-_*L,p=2*_-a;m=l._hue2rgb(p,a,E+1/3),c=l._hue2rgb(p,a,E),t=l._hue2rgb(p,a,E-1/3)}return new n(Math.round(255*m),Math.round(255*c),Math.round(255*t),s)}}class S{constructor(C,E,L,_){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,C),0),this.s=d(Math.max(Math.min(1,E),0),3),this.v=d(Math.max(Math.min(1,L),0),3),this.a=d(Math.max(Math.min(1,_),0),3)}static equals(C,E){return C.h===E.h&&C.s===E.s&&C.v===E.v&&C.a===E.a}static fromRGBA(C){const E=C.r/255,L=C.g/255,_=C.b/255,s=Math.max(E,L,_),c=s-Math.min(E,L,_),t=0===s?0:c/s;let a;return a=0===c?0:s===E?((L-_)/c%6+6)%6:s===L?(_-E)/c+2:(E-L)/c+4,new S(Math.round(60*a),t,s,C.a)}static toRGBA(C){const{h:E,s:L,v:_,a:s}=C,m=_*L,c=m*(1-Math.abs(E/60%2-1)),t=_-m;let[a,p,u]=[0,0,0];return E<60?(a=m,p=c):E<120?(a=c,p=m):E<180?(p=m,u=c):E<240?(p=c,u=m):E<300?(a=c,u=m):E<=360&&(a=m,u=c),a=Math.round(255*(a+t)),p=Math.round(255*(p+t)),u=Math.round(255*(u+t)),new n(a,p,u,s)}}class v{constructor(C){if(!C)throw new Error("Color needs a value");if(C instanceof n)this.rgba=C;else if(C instanceof l)this._hsla=C,this.rgba=l.toRGBA(C);else{if(!(C instanceof S))throw new Error("Invalid color ctor argument");this._hsva=C,this.rgba=S.toRGBA(C)}}static fromHex(C){return v.Format.CSS.parseHex(C)||v.red}get hsla(){return this._hsla?this._hsla:l.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:S.fromRGBA(this.rgba)}equals(C){return!!C&&n.equals(this.rgba,C.rgba)&&l.equals(this.hsla,C.hsla)&&S.equals(this.hsva,C.hsva)}getRelativeLuminance(){return d(.2126*v._relativeLuminanceForComponent(this.rgba.r)+.7152*v._relativeLuminanceForComponent(this.rgba.g)+.0722*v._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(C){const E=C/255;return E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(C){return this.getRelativeLuminance()>C.getRelativeLuminance()}isDarkerThan(C){return this.getRelativeLuminance()<C.getRelativeLuminance()}lighten(C){return new v(new l(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new v(new l(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:E,g:L,b:_,a:s}=this.rgba;return new v(new n(E,L,_,s*C))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new v(new n(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=v.Format.CSS.format(this)),this._toString}static getLighterColor(C,E,L){if(C.isLighterThan(E))return C;L=L||.5;const _=C.getRelativeLuminance(),s=E.getRelativeLuminance();return C.lighten(L=L*(s-_)/s)}static getDarkerColor(C,E,L){if(C.isDarkerThan(E))return C;L=L||.5;const _=C.getRelativeLuminance(),s=E.getRelativeLuminance();return C.darken(L=L*(_-s)/_)}}v.white=new v(new n(255,255,255,1)),v.black=new v(new n(0,0,0,1)),v.red=new v(new n(255,0,0,1)),v.blue=new v(new n(0,0,255,1)),v.green=new v(new n(0,255,0,1)),v.cyan=new v(new n(0,255,255,1)),v.lightgrey=new v(new n(211,211,211,1)),v.transparent=new v(new n(0,0,0,0)),function(T){let C;!function(E){let L;!function(_){function a(w){const D=w.toString(16);return 2!==D.length?"0"+D:D}function y(w){switch(w){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}_.formatRGB=function s(w){return 1===w.rgba.a?`rgb(${w.rgba.r}, ${w.rgba.g}, ${w.rgba.b})`:T.Format.CSS.formatRGBA(w)},_.formatRGBA=function m(w){return`rgba(${w.rgba.r}, ${w.rgba.g}, ${w.rgba.b}, ${+w.rgba.a.toFixed(2)})`},_.formatHSL=function c(w){return 1===w.hsla.a?`hsl(${w.hsla.h}, ${(100*w.hsla.s).toFixed(2)}%, ${(100*w.hsla.l).toFixed(2)}%)`:T.Format.CSS.formatHSLA(w)},_.formatHSLA=function t(w){return`hsla(${w.hsla.h}, ${(100*w.hsla.s).toFixed(2)}%, ${(100*w.hsla.l).toFixed(2)}%, ${w.hsla.a.toFixed(2)})`},_.formatHex=function p(w){return`#${a(w.rgba.r)}${a(w.rgba.g)}${a(w.rgba.b)}`},_.formatHexA=function u(w,D=!1){return D&&1===w.rgba.a?T.Format.CSS.formatHex(w):`#${a(w.rgba.r)}${a(w.rgba.g)}${a(w.rgba.b)}${a(Math.round(255*w.rgba.a))}`},_.format=function g(w){return w.isOpaque()?T.Format.CSS.formatHex(w):T.Format.CSS.formatRGBA(w)},_.parseHex=function b(w){const D=w.length;if(0===D||35!==w.charCodeAt(0))return null;if(7===D){const x=16*y(w.charCodeAt(1))+y(w.charCodeAt(2)),P=16*y(w.charCodeAt(3))+y(w.charCodeAt(4)),O=16*y(w.charCodeAt(5))+y(w.charCodeAt(6));return new T(new n(x,P,O,1))}if(9===D){const x=16*y(w.charCodeAt(1))+y(w.charCodeAt(2)),P=16*y(w.charCodeAt(3))+y(w.charCodeAt(4)),O=16*y(w.charCodeAt(5))+y(w.charCodeAt(6)),V=16*y(w.charCodeAt(7))+y(w.charCodeAt(8));return new T(new n(x,P,O,V/255))}if(4===D){const x=y(w.charCodeAt(1)),P=y(w.charCodeAt(2)),O=y(w.charCodeAt(3));return new T(new n(16*x+x,16*P+P,16*O+O))}if(5===D){const x=y(w.charCodeAt(1)),P=y(w.charCodeAt(2)),O=y(w.charCodeAt(3)),V=y(w.charCodeAt(4));return new T(new n(16*x+x,16*P+P,16*O+O,(16*V+V)/255))}return null}}(L=E.CSS||(E.CSS={}))}(C=T.Format||(T.Format={}))}(v||(v={}))},1187:(Dt,Y,e)=>{"use strict";e.d(Y,{Hl:()=>S,Ix:()=>l,ZO:()=>n});var d=function(v,T,C,E){return new(C||(C=Promise))(function(_,s){function m(a){try{t(E.next(a))}catch(p){s(p)}}function c(a){try{t(E.throw(a))}catch(p){s(p)}}function t(a){a.done?_(a.value):function L(_){return _ instanceof C?_:new C(function(s){s(_)})}(a.value).then(m,c)}t((E=E.apply(v,T||[])).next())})};function n(v){return{asString:()=>d(this,void 0,void 0,function*(){return v}),asFile:()=>{},value:"string"==typeof v?v:void 0}}function l(v,T,C){return{asString:()=>d(this,void 0,void 0,function*(){return""}),asFile:()=>({name:v,uri:T,data:C}),value:void 0}}class S{constructor(){this._entries=new Map}get size(){return this._entries.size}has(T){return this._entries.has(this.toKey(T))}get(T){var C;return null===(C=this._entries.get(this.toKey(T)))||void 0===C?void 0:C[0]}append(T,C){const E=this._entries.get(T);E?E.push(C):this._entries.set(this.toKey(T),[C])}replace(T,C){this._entries.set(this.toKey(T),[C])}delete(T){this._entries.delete(this.toKey(T))}*entries(){for(const[T,C]of this._entries.entries())for(const E of C)yield[T,E]}values(){return Array.from(this._entries.values()).flat()}forEach(T){for(const[C,E]of this.entries())T(E,C)}toKey(T){return T.toLowerCase()}}},66471:(Dt,Y,e)=>{"use strict";function d(n,l,S){let v=null,T=null;if("function"==typeof S.value?(v="value",T=S.value,0!==T.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof S.get&&(v="get",T=S.get),!T)throw new Error("not supported");const C=`$memoize$${l}`;S[v]=function(...E){return this.hasOwnProperty(C)||Object.defineProperty(this,C,{configurable:!1,enumerable:!1,writable:!1,value:T.apply(this,E)}),this[C]}}e.d(Y,{H:()=>d})},52237:(Dt,Y,e)=>{"use strict";e.d(Y,{Hs:()=>E,a$:()=>S});class d{constructor(_,s,m,c){this.originalStart=_,this.originalLength=s,this.modifiedStart=m,this.modifiedLength=c}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var n=e(7626);class l{constructor(_){this.source=_}getElements(){const _=this.source,s=new Int32Array(_.length);for(let m=0,c=_.length;m<c;m++)s[m]=_.charCodeAt(m);return s}}function S(L,_,s){return new E(new l(L),new l(_)).ComputeDiff(s).changes}class v{static Assert(_,s){if(!_)throw new Error(s)}}class T{static Copy(_,s,m,c,t){for(let a=0;a<t;a++)m[c+a]=_[s+a]}static Copy2(_,s,m,c,t){for(let a=0;a<t;a++)m[c+a]=_[s+a]}}class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new d(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(_,s){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_originalCount++}AddModifiedElement(_,s){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class E{constructor(_,s,m=null){this.ContinueProcessingPredicate=m,this._originalSequence=_,this._modifiedSequence=s;const[c,t,a]=E._getElements(_),[p,u,g]=E._getElements(s);this._hasStrings=a&&g,this._originalStringElements=c,this._originalElementsOrHash=t,this._modifiedStringElements=p,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(_){return _.length>0&&"string"==typeof _[0]}static _getElements(_){const s=_.getElements();if(E._isStringArray(s)){const m=new Int32Array(s.length);for(let c=0,t=s.length;c<t;c++)m[c]=(0,n.Cv)(s[c],0);return[s,m,!0]}return s instanceof Int32Array?[[],s,!1]:[[],new Int32Array(s),!1]}ElementsAreEqual(_,s){return this._originalElementsOrHash[_]===this._modifiedElementsOrHash[s]&&(!this._hasStrings||this._originalStringElements[_]===this._modifiedStringElements[s])}ElementsAreStrictEqual(_,s){return!!this.ElementsAreEqual(_,s)&&E._getStrictElement(this._originalSequence,_)===E._getStrictElement(this._modifiedSequence,s)}static _getStrictElement(_,s){return"function"==typeof _.getStrictElement?_.getStrictElement(s):null}OriginalElementsAreEqual(_,s){return this._originalElementsOrHash[_]===this._originalElementsOrHash[s]&&(!this._hasStrings||this._originalStringElements[_]===this._originalStringElements[s])}ModifiedElementsAreEqual(_,s){return this._modifiedElementsOrHash[_]===this._modifiedElementsOrHash[s]&&(!this._hasStrings||this._modifiedStringElements[_]===this._modifiedStringElements[s])}ComputeDiff(_){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,_)}_ComputeDiff(_,s,m,c,t){const a=[!1];let p=this.ComputeDiffRecursive(_,s,m,c,a);return t&&(p=this.PrettifyChanges(p)),{quitEarly:a[0],changes:p}}ComputeDiffRecursive(_,s,m,c,t){for(t[0]=!1;_<=s&&m<=c&&this.ElementsAreEqual(_,m);)_++,m++;for(;s>=_&&c>=m&&this.ElementsAreEqual(s,c);)s--,c--;if(_>s||m>c){let y;return m<=c?(v.Assert(_===s+1,"originalStart should only be one more than originalEnd"),y=[new d(_,0,m,c-m+1)]):_<=s?(v.Assert(m===c+1,"modifiedStart should only be one more than modifiedEnd"),y=[new d(_,s-_+1,m,0)]):(v.Assert(_===s+1,"originalStart should only be one more than originalEnd"),v.Assert(m===c+1,"modifiedStart should only be one more than modifiedEnd"),y=[]),y}const a=[0],p=[0],u=this.ComputeRecursionPoint(_,s,m,c,a,p,t),g=a[0],b=p[0];if(null!==u)return u;if(!t[0]){const y=this.ComputeDiffRecursive(_,g,m,b,t);let w=[];return w=t[0]?[new d(g+1,s-(g+1)+1,b+1,c-(b+1)+1)]:this.ComputeDiffRecursive(g+1,s,b+1,c,t),this.ConcatenateChanges(y,w)}return[new d(_,s-_+1,m,c-m+1)]}WALKTRACE(_,s,m,c,t,a,p,u,g,b,y,w,D,x,P,O,V,H){let z=null,k=null,F=new C,j=s,K=m,U=D[0]-O[0]-c,ne=-1073741824,N=this.m_forwardHistory.length-1;do{const W=U+_;W===j||W<K&&g[W-1]<g[W+1]?(x=(y=g[W+1])-U-c,y<ne&&F.MarkNextChange(),ne=y,F.AddModifiedElement(y+1,x),U=W+1-_):(x=(y=g[W-1]+1)-U-c,y<ne&&F.MarkNextChange(),ne=y-1,F.AddOriginalElement(y,x+1),U=W-1-_),N>=0&&(_=(g=this.m_forwardHistory[N])[0],j=1,K=g.length-1)}while(--N>=-1);if(z=F.getReverseChanges(),H[0]){let W=D[0]+1,Z=O[0]+1;if(null!==z&&z.length>0){const ge=z[z.length-1];W=Math.max(W,ge.getOriginalEnd()),Z=Math.max(Z,ge.getModifiedEnd())}k=[new d(W,w-W+1,Z,P-Z+1)]}else{F=new C,j=a,K=p,U=D[0]-O[0]-u,ne=1073741824,N=V?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const W=U+t;W===j||W<K&&b[W-1]>=b[W+1]?(x=(y=b[W+1]-1)-U-u,y>ne&&F.MarkNextChange(),ne=y+1,F.AddOriginalElement(y+1,x+1),U=W+1-t):(x=(y=b[W-1])-U-u,y>ne&&F.MarkNextChange(),ne=y,F.AddModifiedElement(y+1,x+1),U=W-1-t),N>=0&&(t=(b=this.m_reverseHistory[N])[0],j=1,K=b.length-1)}while(--N>=-1);k=F.getChanges()}return this.ConcatenateChanges(z,k)}ComputeRecursionPoint(_,s,m,c,t,a,p){let u=0,g=0,b=0,y=0,w=0,D=0;_--,m--,t[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const x=s-_+(c-m),P=x+1,O=new Int32Array(P),V=new Int32Array(P),H=c-m,z=s-_,k=_-m,F=s-c,K=(z-H)%2==0;O[H]=_,V[z]=s,p[0]=!1;for(let U=1;U<=x/2+1;U++){let ne=0,N=0;b=this.ClipDiagonalBound(H-U,U,H,P),y=this.ClipDiagonalBound(H+U,U,H,P);for(let Z=b;Z<=y;Z+=2){u=Z===b||Z<y&&O[Z-1]<O[Z+1]?O[Z+1]:O[Z-1]+1,g=u-(Z-H)-k;const ge=u;for(;u<s&&g<c&&this.ElementsAreEqual(u+1,g+1);)u++,g++;if(O[Z]=u,u+g>ne+N&&(ne=u,N=g),!K&&Math.abs(Z-z)<=U-1&&u>=V[Z])return t[0]=u,a[0]=g,ge<=V[Z]&&U<=1448?this.WALKTRACE(H,b,y,k,z,w,D,F,O,V,u,s,t,g,c,a,K,p):null}const W=(ne-_+(N-m)-U)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(ne,W))return p[0]=!0,t[0]=ne,a[0]=N,W>0&&U<=1448?this.WALKTRACE(H,b,y,k,z,w,D,F,O,V,u,s,t,g,c,a,K,p):(_++,m++,[new d(_,s-_+1,m,c-m+1)]);w=this.ClipDiagonalBound(z-U,U,z,P),D=this.ClipDiagonalBound(z+U,U,z,P);for(let Z=w;Z<=D;Z+=2){u=Z===w||Z<D&&V[Z-1]>=V[Z+1]?V[Z+1]-1:V[Z-1],g=u-(Z-z)-F;const ge=u;for(;u>_&&g>m&&this.ElementsAreEqual(u,g);)u--,g--;if(V[Z]=u,K&&Math.abs(Z-H)<=U&&u<=O[Z])return t[0]=u,a[0]=g,ge>=O[Z]&&U<=1448?this.WALKTRACE(H,b,y,k,z,w,D,F,O,V,u,s,t,g,c,a,K,p):null}if(U<=1447){let Z=new Int32Array(y-b+2);Z[0]=H-b+1,T.Copy2(O,b,Z,1,y-b+1),this.m_forwardHistory.push(Z),Z=new Int32Array(D-w+2),Z[0]=z-w+1,T.Copy2(V,w,Z,1,D-w+1),this.m_reverseHistory.push(Z)}}return this.WALKTRACE(H,b,y,k,z,w,D,F,O,V,u,s,t,g,c,a,K,p)}PrettifyChanges(_){for(let s=0;s<_.length;s++){const m=_[s],c=s<_.length-1?_[s+1].originalStart:this._originalElementsOrHash.length,t=s<_.length-1?_[s+1].modifiedStart:this._modifiedElementsOrHash.length,a=m.originalLength>0,p=m.modifiedLength>0;for(;m.originalStart+m.originalLength<c&&m.modifiedStart+m.modifiedLength<t&&(!a||this.OriginalElementsAreEqual(m.originalStart,m.originalStart+m.originalLength))&&(!p||this.ModifiedElementsAreEqual(m.modifiedStart,m.modifiedStart+m.modifiedLength));){const g=this.ElementsAreStrictEqual(m.originalStart,m.modifiedStart);if(this.ElementsAreStrictEqual(m.originalStart+m.originalLength,m.modifiedStart+m.modifiedLength)&&!g)break;m.originalStart++,m.modifiedStart++}const u=[null];s<_.length-1&&this.ChangesOverlap(_[s],_[s+1],u)&&(_[s]=u[0],_.splice(s+1,1),s--)}for(let s=_.length-1;s>=0;s--){const m=_[s];let c=0,t=0;if(s>0){const y=_[s-1];c=y.originalStart+y.originalLength,t=y.modifiedStart+y.modifiedLength}const a=m.originalLength>0,p=m.modifiedLength>0;let u=0,g=this._boundaryScore(m.originalStart,m.originalLength,m.modifiedStart,m.modifiedLength);for(let y=1;;y++){const w=m.originalStart-y,D=m.modifiedStart-y;if(w<c||D<t||a&&!this.OriginalElementsAreEqual(w,w+m.originalLength)||p&&!this.ModifiedElementsAreEqual(D,D+m.modifiedLength))break;const P=(w===c&&D===t?5:0)+this._boundaryScore(w,m.originalLength,D,m.modifiedLength);P>g&&(g=P,u=y)}m.originalStart-=u,m.modifiedStart-=u;const b=[null];s>0&&this.ChangesOverlap(_[s-1],_[s],b)&&(_[s-1]=b[0],_.splice(s,1),s++)}if(this._hasStrings)for(let s=1,m=_.length;s<m;s++){const c=_[s-1],t=_[s],a=t.originalStart-c.originalStart-c.originalLength,p=c.originalStart,u=t.originalStart+t.originalLength,g=u-p,b=c.modifiedStart,y=t.modifiedStart+t.modifiedLength,w=y-b;if(a<5&&g<20&&w<20){const D=this._findBetterContiguousSequence(p,g,b,w,a);if(D){const[x,P]=D;(x!==c.originalStart+c.originalLength||P!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=x-c.originalStart,c.modifiedLength=P-c.modifiedStart,t.originalStart=x+a,t.modifiedStart=P+a,t.originalLength=u-t.originalStart,t.modifiedLength=y-t.modifiedStart)}}}return _}_findBetterContiguousSequence(_,s,m,c,t){if(s<t||c<t)return null;const a=_+s-t+1,p=m+c-t+1;let u=0,g=0,b=0;for(let y=_;y<a;y++)for(let w=m;w<p;w++){const D=this._contiguousSequenceScore(y,w,t);D>0&&D>u&&(u=D,g=y,b=w)}return u>0?[g,b]:null}_contiguousSequenceScore(_,s,m){let c=0;for(let t=0;t<m;t++){if(!this.ElementsAreEqual(_+t,s+t))return 0;c+=this._originalStringElements[_+t].length}return c}_OriginalIsBoundary(_){return _<=0||_>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[_])}_OriginalRegionIsBoundary(_,s){if(this._OriginalIsBoundary(_)||this._OriginalIsBoundary(_-1))return!0;if(s>0){const m=_+s;if(this._OriginalIsBoundary(m-1)||this._OriginalIsBoundary(m))return!0}return!1}_ModifiedIsBoundary(_){return _<=0||_>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[_])}_ModifiedRegionIsBoundary(_,s){if(this._ModifiedIsBoundary(_)||this._ModifiedIsBoundary(_-1))return!0;if(s>0){const m=_+s;if(this._ModifiedIsBoundary(m-1)||this._ModifiedIsBoundary(m))return!0}return!1}_boundaryScore(_,s,m,c){return(this._OriginalRegionIsBoundary(_,s)?1:0)+(this._ModifiedRegionIsBoundary(m,c)?1:0)}ConcatenateChanges(_,s){const m=[];if(0===_.length||0===s.length)return s.length>0?s:_;if(this.ChangesOverlap(_[_.length-1],s[0],m)){const c=new Array(_.length+s.length-1);return T.Copy(_,0,c,0,_.length-1),c[_.length-1]=m[0],T.Copy(s,1,c,_.length,s.length-1),c}{const c=new Array(_.length+s.length);return T.Copy(_,0,c,0,_.length),T.Copy(s,0,c,_.length,s.length),c}}ChangesOverlap(_,s,m){if(v.Assert(_.originalStart<=s.originalStart,"Left change is not less than or equal to right change"),v.Assert(_.modifiedStart<=s.modifiedStart,"Left change is not less than or equal to right change"),_.originalStart+_.originalLength>=s.originalStart||_.modifiedStart+_.modifiedLength>=s.modifiedStart){let t=_.originalLength,p=_.modifiedLength;return _.originalStart+_.originalLength>=s.originalStart&&(t=s.originalStart+s.originalLength-_.originalStart),_.modifiedStart+_.modifiedLength>=s.modifiedStart&&(p=s.modifiedStart+s.modifiedLength-_.modifiedStart),m[0]=new d(_.originalStart,t,_.modifiedStart,p),!0}return m[0]=null,!1}ClipDiagonalBound(_,s,m,c){if(_>=0&&_<c)return _;const p=s%2==0;return _<0?p===(m%2==0)?0:1:p===((c-m-1)%2==0)?c-1:c-2}}},93979:(Dt,Y,e)=>{"use strict";e.d(Y,{y:()=>C});var d=e(64023),n=e(72715),l=e(55197);function S(E,L){return L&&(E.stack||E.stacktrace)?l.NC("stackTrace.format","{0}: {1}",T(E),v(E.stack)||v(E.stacktrace)):T(E)}function v(E){return Array.isArray(E)?E.join("\n"):E}function T(E){return"string"==typeof E.code&&"number"==typeof E.errno&&"string"==typeof E.syscall?l.NC("nodeExceptionMessage","A system error occurred ({0})",E.message):E.message||l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function C(E=null,L=!1){if(!E)return l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(E)){const _=d.kX(E),s=C(_[0],L);return _.length>1?l.NC("error.moreErrors","{0} ({1} errors in total)",s,_.length):s}if(n.HD(E))return E;if(E.detail){const _=E.detail;if(_.error)return S(_.error,L);if(_.exception)return S(_.exception,L)}return E.stack?S(E,L):E.message?E.message:l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}},4125:(Dt,Y,e)=>{"use strict";e.d(Y,{B8:()=>m,Cp:()=>S,F0:()=>L,FU:()=>E,L6:()=>s,b1:()=>_,dL:()=>l,he:()=>t,n2:()=>C,qL:()=>d,ri:()=>v});class d{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(p){setTimeout(()=>{throw p.stack?c.isErrorNoTelemetry(p)?new c(p.message+"\n\n"+p.stack):new Error(p.message+"\n\n"+p.stack):p},0)}}emit(p){this.listeners.forEach(u=>{u(p)})}onUnexpectedError(p){this.unexpectedErrorHandler(p),this.emit(p)}onUnexpectedExternalError(p){this.unexpectedErrorHandler(p)}}const n=new d;function l(a){C(a)||n.onUnexpectedError(a)}function S(a){C(a)||n.onUnexpectedExternalError(a)}function v(a){if(a instanceof Error){const{name:p,message:u}=a;return{$isError:!0,name:p,message:u,stack:a.stacktrace||a.stack,noTelemetry:c.isErrorNoTelemetry(a)}}return a}const T="Canceled";function C(a){return a instanceof E||a instanceof Error&&a.name===T&&a.message===T}class E extends Error{constructor(){super(T),this.name=this.message}}function L(){const a=new Error(T);return a.name=a.message,a}function _(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}function s(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}class m extends Error{constructor(p){super("NotSupported"),p&&(this.message=p)}}class c extends Error{constructor(p){super(p),this.name="ErrorNoTelemetry"}static fromError(p){if(p instanceof c)return p;const u=new c;return u.message=p.message,u.stack=p.stack,u}static isErrorNoTelemetry(p){return"ErrorNoTelemetry"===p.name}}class t extends Error{constructor(p){super(p||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}},3778:(Dt,Y,e)=>{"use strict";e.d(Y,{D0:()=>g,E7:()=>b,F3:()=>t,K3:()=>u,Q5:()=>c,ZD:()=>y,ju:()=>C});var C,d=e(4125),n=e(80142),l=e(85739),S=e(631);!function(w){function x(oe){return(Se,Ie=null,me)=>{let de,Me=!1;return de=oe(ke=>{if(!Me)return de?de.dispose():Me=!0,Se.call(Ie,ke)},null,me),Me&&de.dispose(),de}}function P(oe,Se,Ie){return F((me,Me=null,de)=>oe(ke=>me.call(Me,Se(ke)),null,de),Ie)}function O(oe,Se,Ie){return F((me,Me=null,de)=>oe(ke=>{Se(ke),me.call(Me,ke)},null,de),Ie)}function V(oe,Se,Ie){return F((me,Me=null,de)=>oe(ke=>Se(ke)&&me.call(Me,ke),null,de),Ie)}function k(oe,Se,Ie,me){let Me=Ie;return P(oe,de=>(Me=Se(Me,de),Me),me)}function F(oe,Se){let Ie;const Me=new c({onFirstListenerAdd(){Ie=oe(Me.fire,Me)},onLastListenerRemove(){Ie?.dispose()}});return Se?.add(Me),Me.event}function j(oe,Se,Ie=100,me=!1,Me,de){let ke,Ue,ze,ce=0;const tt=new c({leakWarningThreshold:Me,onFirstListenerAdd(){ke=oe(Ct=>{ce++,Ue=Se(Ue,Ct),me&&!ze&&(tt.fire(Ue),Ue=void 0),clearTimeout(ze),ze=setTimeout(()=>{const Lt=Ue;Ue=void 0,ze=void 0,(!me||ce>1)&&tt.fire(Lt),ce=0},Ie)})},onLastListenerRemove(){ke.dispose()}});return de?.add(tt),tt.event}function K(oe,Se=((me,Me)=>me===Me),Ie){let Me,me=!0;return V(oe,de=>{const ke=me||!Se(de,Me);return me=!1,Me=de,ke},Ie)}w.None=()=>n.JT.None,w.once=x,w.map=P,w.forEach=O,w.filter=V,w.signal=function H(oe){return oe},w.any=function z(...oe){return(Se,Ie=null,me)=>(0,n.F8)(...oe.map(Me=>Me(de=>Se.call(Ie,de),null,me)))},w.reduce=k,w.debounce=j,w.latch=K,w.split=function U(oe,Se,Ie){return[w.filter(oe,Se,Ie),w.filter(oe,me=>!Se(me),Ie)]},w.buffer=function ne(oe,Se=!1,Ie=[]){let me=Ie.slice(),Me=oe(Ue=>{me?me.push(Ue):ke.fire(Ue)});const de=()=>{me?.forEach(Ue=>ke.fire(Ue)),me=null},ke=new c({onFirstListenerAdd(){Me||(Me=oe(Ue=>ke.fire(Ue)))},onFirstListenerDidAdd(){me&&(Se?setTimeout(de):de())},onLastListenerRemove(){Me&&Me.dispose(),Me=null}});return ke.event};class N{constructor(Se){this.event=Se,this.disposables=new n.SL}map(Se){return new N(P(this.event,Se,this.disposables))}forEach(Se){return new N(O(this.event,Se,this.disposables))}filter(Se){return new N(V(this.event,Se,this.disposables))}reduce(Se,Ie){return new N(k(this.event,Se,Ie,this.disposables))}latch(){return new N(K(this.event,void 0,this.disposables))}debounce(Se,Ie=100,me=!1,Me){return new N(j(this.event,Se,Ie,me,Me,this.disposables))}on(Se,Ie,me){return this.event(Se,Ie,me)}once(Se,Ie,me){return x(this.event)(Se,Ie,me)}dispose(){this.disposables.dispose()}}w.chain=function W(oe){return new N(oe)},w.fromNodeEventEmitter=function Z(oe,Se,Ie=(me=>me)){const me=(...Ue)=>ke.fire(Ie(...Ue)),ke=new c({onFirstListenerAdd:()=>oe.on(Se,me),onLastListenerRemove:()=>oe.removeListener(Se,me)});return ke.event},w.fromDOMEventEmitter=function ge(oe,Se,Ie=(me=>me)){const me=(...Ue)=>ke.fire(Ie(...Ue)),ke=new c({onFirstListenerAdd:()=>oe.addEventListener(Se,me),onLastListenerRemove:()=>oe.removeEventListener(Se,me)});return ke.event},w.toPromise=function M(oe){return new Promise(Se=>x(oe)(Se))},w.runAndSubscribe=function we(oe,Se){return Se(void 0),oe(Ie=>Se(Ie))},w.runAndSubscribeWithStore=function Ee(oe,Se){let Ie=null;function me(de){Ie?.dispose(),Ie=new n.SL,Se(de,Ie)}me(void 0);const Me=oe(de=>me(de));return(0,n.OF)(()=>{Me.dispose(),Ie?.dispose()})};class xe{constructor(Se,Ie){this.obs=Se,this._counter=0,this._hasChanged=!1;this.emitter=new c({onFirstListenerAdd:()=>{Se.addObserver(this)},onLastListenerRemove:()=>{Se.removeObserver(this)}}),Ie&&Ie.add(this.emitter)}beginUpdate(Se){this._counter++}handleChange(Se,Ie){this._hasChanged=!0}endUpdate(Se){0==--this._counter&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}w.fromObservable=function Ne(oe,Se){return new xe(oe,Se).emitter.event}}(C||(C={}));let E=(()=>{class w{constructor(x){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${x}_${w._idPool++}`}start(x){this._stopWatch=new S.G(!0),this._listenerCount=x}stop(){if(this._stopWatch){const x=this._stopWatch.elapsed();this._elapsedOverall+=x,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${x.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return w._idPool=0,w})();class s{constructor(D){this.value=D}static create(){var D;return new s(null!==(D=(new Error).stack)&&void 0!==D?D:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class m{constructor(D,x,P){this.callback=D,this.callbackThis=x,this.stack=P,this.subscription=new n.dt}invoke(D){this.callback.call(this.callbackThis,D)}}class c{constructor(D){var x,P;this._disposed=!1,this._options=D,this._leakageMon=void 0,this._perfMon=null!==(x=this._options)&&void 0!==x&&x._profName?new E(this._options._profName):void 0,this._deliveryQueue=null===(P=this._options)||void 0===P?void 0:P.deliveryQueue}dispose(){var D,x,P,O;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(D=this._deliveryQueue)||void 0===D||D.clear(this),null===(P=null===(x=this._options)||void 0===x?void 0:x.onLastListenerRemove)||void 0===P||P.call(x),null===(O=this._leakageMon)||void 0===O||O.dispose())}get event(){return this._event||(this._event=(D,x,P)=>{var O,V,H;this._listeners||(this._listeners=new l.S);const z=this._listeners.isEmpty();let k,F;z&&(null===(O=this._options)||void 0===O?void 0:O.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(F=s.create(),k=this._leakageMon.check(F,this._listeners.size+1));const j=new m(D,x,F),K=this._listeners.push(j);z&&(null===(V=this._options)||void 0===V?void 0:V.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),null!==(H=this._options)&&void 0!==H&&H.onListenerDidAdd&&this._options.onListenerDidAdd(this,D,x);const U=j.subscription.set(()=>{k?.(),this._disposed||(K(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return P instanceof n.SL?P.add(U):Array.isArray(P)&&P.push(U),U}),this._event}fire(D){var x,P;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new a);for(const O of this._listeners)this._deliveryQueue.push(this,O,D);null===(x=this._perfMon)||void 0===x||x.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),null===(P=this._perfMon)||void 0===P||P.stop()}}}class t{constructor(){this._queue=new l.S}get size(){return this._queue.size}push(D,x,P){this._queue.push(new p(D,x,P))}clear(D){const x=new l.S;for(const P of this._queue)P.emitter!==D&&x.push(P);this._queue=x}deliver(){for(;this._queue.size>0;){const D=this._queue.shift();try{D.listener.invoke(D.event)}catch(x){(0,d.dL)(x)}}}}class a extends t{clear(D){this._queue.clear()}}class p{constructor(D,x,P){this.emitter=D,this.listener=x,this.event=P}}class u extends c{constructor(D){super(D),this._isPaused=0,this._eventQueue=new l.S,this._mergeFn=D?.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const D=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(D))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(D){this._listeners&&(0!==this._isPaused?this._eventQueue.push(D):super.fire(D))}}class g extends u{constructor(D){var x;super(D),this._delay=null!==(x=D.delay)&&void 0!==x?x:100}fire(D){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(D)}}class b{constructor(){this.buffers=[]}wrapEvent(D){return(x,P,O)=>D(V=>{const H=this.buffers[this.buffers.length-1];H?H.push(()=>x.call(P,V)):x.call(P,V)},void 0,O)}bufferEvents(D){const x=[];this.buffers.push(x);const P=D();return this.buffers.pop(),x.forEach(O=>O()),P}}class y{constructor(){this.listening=!1,this.inputEvent=C.None,this.inputEventListener=n.JT.None,this.emitter=new c({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(D){this.inputEvent=D,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=D(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15240:(Dt,Y,e)=>{"use strict";e.d(Y,{KM:()=>E,ej:()=>v,fn:()=>T,oP:()=>_,yj:()=>C});var d=e(61283),n=e(8841),l=e(73879);function S(s){return 47===s||92===s}function v(s){return s.replace(/[\\/]/g,d.KR.sep)}function T(s){return-1===s.indexOf("/")&&(s=v(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function C(s,m=d.KR.sep){if(!s)return"";const c=s.length,t=s.charCodeAt(0);if(S(t)){if(S(s.charCodeAt(1))&&!S(s.charCodeAt(2))){let p=3;const u=p;for(;p<c&&!S(s.charCodeAt(p));p++);if(u!==p&&!S(s.charCodeAt(p+1)))for(p+=1;p<c;p++)if(S(s.charCodeAt(p)))return s.slice(0,p+1).replace(/[\\/]/g,m)}return m}if(L(t)&&58===s.charCodeAt(1))return S(s.charCodeAt(2))?s.slice(0,2)+m:s.slice(0,2);let a=s.indexOf("://");if(-1!==a)for(a+=3;a<c;a++)if(S(s.charCodeAt(a)))return s.slice(0,a+1);return""}function E(s,m,c,t=d.ir){if(s===m)return!0;if(!s||!m||m.length>s.length)return!1;if(c){if(!(0,l.ok)(s,m))return!1;if(m.length===s.length)return!0;let p=m.length;return m.charAt(m.length-1)===t&&p--,s.charAt(p)===t}return m.charAt(m.length-1)!==t&&(m+=t),0===s.indexOf(m)}function L(s){return s>=65&&s<=90||s>=97&&s<=122}function _(s,m=n.ED){return!!m&&L(s.charCodeAt(0))&&58===s.charCodeAt(1)}},25715:(Dt,Y,e)=>{"use strict";e.d(Y,{CL:()=>ke,EW:()=>ze,Ji:()=>v,KZ:()=>V,Oh:()=>K,Sy:()=>E,ir:()=>C,jB:()=>U,l7:()=>tt,mB:()=>ne,mX:()=>Ue,or:()=>l});var d=e(5067),n=e(73879);function l(...$e){return function(ae,ve){for(let he=0,le=$e.length;he<le;he++){const Q=$e[he](ae,ve);if(Q)return Q}return null}}T.bind(void 0,!1);const v=T.bind(void 0,!0);function T($e,ae,ve){if(!ve||ve.length<ae.length)return null;let he;return he=$e?n.ok(ve,ae):0===ve.indexOf(ae),he?ae.length>0?[{start:0,end:ae.length}]:[]:null}function C($e,ae){const ve=ae.toLowerCase().indexOf($e.toLowerCase());return-1===ve?null:[{start:ve,end:ve+$e.length}]}function E($e,ae){return L($e.toLowerCase(),ae.toLowerCase(),0,0)}function L($e,ae,ve,he){if(ve===$e.length)return[];if(he===ae.length)return null;if($e[ve]===ae[he]){let le=null;return(le=L($e,ae,ve+1,he+1))?g({start:he,end:he+1},le):null}return L($e,ae,ve,he+1)}function _($e){return 97<=$e&&$e<=122}function s($e){return 65<=$e&&$e<=90}function m($e){return 48<=$e&&$e<=57}function c($e){return 32===$e||9===$e||10===$e||13===$e}const t=new Set;function a($e){return c($e)||t.has($e)}function u($e){return _($e)||s($e)||m($e)}function g($e,ae){return 0===ae.length?ae=[$e]:$e.end===ae[0].start?ae[0].start=$e.start:ae.unshift($e),ae}function b($e,ae){for(let ve=ae;ve<$e.length;ve++){const he=$e.charCodeAt(ve);if(s(he)||m(he)||ve>0&&!u($e.charCodeAt(ve-1)))return ve}return $e.length}function y($e,ae,ve,he){if(ve===$e.length)return[];if(he===ae.length)return null;if($e[ve]!==ae[he].toLowerCase())return null;{let le=null,Q=he+1;for(le=y($e,ae,ve+1,he+1);!le&&(Q=b(ae,Q))<ae.length;)le=y($e,ae,ve+1,Q),Q++;return null===le?null:g({start:he,end:he+1},le)}}function O($e,ae){if(!ae||0===(ae=ae.trim()).length||!function P($e){let ae=0,ve=0,he=0,le=0;for(let Q=0;Q<$e.length;Q++)he=$e.charCodeAt(Q),s(he)&&ae++,_(he)&&ve++,c(he)&&le++;return 0!==ae&&0!==ve||0!==le?ae<=5:$e.length<=30}($e)||ae.length>60)return null;const ve=function w($e){let ae=0,ve=0,he=0,le=0,Q=0;for(let qe=0;qe<$e.length;qe++)Q=$e.charCodeAt(qe),s(Q)&&ae++,_(Q)&&ve++,u(Q)&&he++,m(Q)&&le++;return{upperPercent:ae/$e.length,lowerPercent:ve/$e.length,alphaPercent:he/$e.length,numericPercent:le/$e.length}}(ae);if(!function x($e){const{upperPercent:ae,lowerPercent:ve,alphaPercent:he,numericPercent:le}=$e;return ve>.2&&ae<.8&&he>.6&&le<.2}(ve)){if(!function D($e){const{upperPercent:ae,lowerPercent:ve}=$e;return 0===ve&&ae>.6}(ve))return null;ae=ae.toLowerCase()}let he=null,le=0;for($e=$e.toLowerCase();le<ae.length&&null===(he=y($e,ae,0,le));)le=b(ae,le+1);return he}function V($e,ae,ve=!1){if(!ae||0===ae.length)return null;let he=null,le=0;for($e=$e.toLowerCase(),ae=ae.toLowerCase();le<ae.length&&null===(he=H($e,ae,0,le,ve));)le=z(ae,le+1);return he}function H($e,ae,ve,he,le){if(ve===$e.length)return[];if(he===ae.length)return null;if(function p($e,ae){return $e===ae||a($e)&&a(ae)}($e.charCodeAt(ve),ae.charCodeAt(he))){let Q=null,Ce=he+1;if(Q=H($e,ae,ve+1,he+1,le),!le)for(;!Q&&(Ce=z(ae,Ce))<ae.length;)Q=H($e,ae,ve+1,Ce,le),Ce++;return null===Q?null:g({start:he,end:he+1},Q)}return null}function z($e,ae){for(let ve=ae;ve<$e.length;ve++)if(a($e.charCodeAt(ve))||ve>0&&a($e.charCodeAt(ve-1)))return ve;return $e.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach($e=>t.add($e.charCodeAt(0)));const k=l(v,O,C),F=l(v,O,E),j=new d.z6(1e4);function K($e,ae,ve=!1){if("string"!=typeof $e||"string"!=typeof ae)return null;let he=j.get($e);he||(he=new RegExp(n.un($e),"i"),j.set($e,he));const le=he.exec(ae);return le?[{start:le.index,end:le.index+le[0].length}]:ve?F($e,ae):k($e,ae)}function U($e,ae,ve,he,le,Q){const Ce=Math.min(13,$e.length);for(;ve<Ce;ve++){const Pe=ze($e,ae,ve,he,le,Q,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Pe)return Pe}return[0,Q]}function ne($e){if(typeof $e>"u")return[];const ae=[],ve=$e[1];for(let he=$e.length-1;he>1;he--){const le=$e[he]+ve,Q=ae[ae.length-1];Q&&Q.end===le?Q.end=le+1:ae.push({start:le,end:le+1})}return ae}const N=128;function W(){const $e=[],ae=[];for(let ve=0;ve<=N;ve++)ae[ve]=0;for(let ve=0;ve<=N;ve++)$e.push(ae.slice(0));return $e}function Z($e){const ae=[];for(let ve=0;ve<=$e;ve++)ae[ve]=0;return ae}const ge=Z(256),M=Z(256),we=W(),Ee=W(),xe=W();function Ie($e,ae){if(ae<0||ae>=$e.length)return!1;const ve=$e.codePointAt(ae);switch(ve){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!n.C8(ve)}}function me($e,ae){if(ae<0||ae>=$e.length)return!1;switch($e.charCodeAt(ae)){case 32:case 9:return!0;default:return!1}}function Me($e,ae,ve){return ae[$e]!==ve[$e]}var ke,$e;($e=ke||(ke={})).Default=[-100,0],$e.isDefault=function ae(ve){return!ve||2===ve.length&&-100===ve[0]&&0===ve[1]};let Ue=(()=>{class $e{constructor(ve,he){this.firstMatchCanBeWeak=ve,this.boostFullMatch=he}}return $e.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},$e})();function ze($e,ae,ve,he,le,Q,Ce=Ue.default){const Pe=$e.length>N?N:$e.length,dt=he.length>N?N:he.length;if(ve>=Pe||Q>=dt||Pe-ve>dt-Q||!function de($e,ae,ve,he,le,Q,Ce=!1){for(;ae<ve&&le<Q;)$e[ae]===he[le]&&(Ce&&(ge[ae]=le),ae+=1),le+=1;return ae===ve}(ae,ve,Pe,le,Q,dt,!0))return;!function ce($e,ae,ve,he,le,Q){let Ce=$e-1,Pe=ae-1;for(;Ce>=ve&&Pe>=he;)le[Ce]===Q[Pe]&&(M[Ce]=Pe,Ce--),Pe--}(Pe,dt,ve,Q,ae,le);let st=1,qe=1,Qe=ve,et=Q;const vt=[!1];for(st=1,Qe=ve;Qe<Pe;st++,Qe++){const Ke=ge[Qe],ht=M[Qe],jt=Qe+1<Pe?M[Qe+1]:dt;for(qe=Ke-Q+1,et=Ke;et<jt;qe++,et++){let fn=Number.MIN_SAFE_INTEGER,Dn=!1;et<=ht&&(fn=Ve($e,ae,Qe,ve,he,le,et,dt,Q,0===we[st-1][qe-1],vt));let yt=0;fn!==Number.MAX_SAFE_INTEGER&&(Dn=!0,yt=fn+Ee[st-1][qe-1]);const He=et>Ke,ye=He?Ee[st][qe-1]+(we[st][qe-1]>0?-5:0):0,Ae=et>Ke+1&&we[st][qe-1]>0,ue=Ae?Ee[st][qe-2]+(we[st][qe-2]>0?-5:0):0;if(Ae&&(!He||ue>=ye)&&(!Dn||ue>=yt))Ee[st][qe]=ue,xe[st][qe]=3,we[st][qe]=0;else if(He&&(!Dn||ye>=yt))Ee[st][qe]=ye,xe[st][qe]=2,we[st][qe]=0;else{if(!Dn)throw new Error("not possible");Ee[st][qe]=yt,xe[st][qe]=1,we[st][qe]=we[st-1][qe-1]+1}}}if(!vt[0]&&!Ce.firstMatchCanBeWeak)return;st--,qe--;const mt=[Ee[st][qe],Q];let _t=0,$t=0;for(;st>=1;){let Ke=qe;do{const ht=xe[st][Ke];if(3===ht)Ke-=2;else{if(2!==ht)break;Ke-=1}}while(Ke>=1);_t>1&&ae[ve+st-1]===le[Q+qe-1]&&!Me(Ke+Q-1,he,le)&&_t+1>we[st][Ke]&&(Ke=qe),Ke===qe?_t++:_t=1,$t||($t=Ke),st--,qe=Ke-1,mt.push(qe)}return dt===Pe&&Ce.boostFullMatch&&(mt[0]+=2),mt[0]-=$t-Pe,mt}function Ve($e,ae,ve,he,le,Q,Ce,Pe,dt,st,qe){if(ae[ve]!==Q[Ce])return Number.MIN_SAFE_INTEGER;let Qe=1,et=!1;return Ce===ve-he?Qe=$e[ve]===le[Ce]?7:5:!Me(Ce,le,Q)||0!==Ce&&Me(Ce-1,le,Q)?!Ie(Q,Ce)||0!==Ce&&Ie(Q,Ce-1)?(Ie(Q,Ce-1)||me(Q,Ce-1))&&(Qe=5,et=!0):Qe=5:(Qe=$e[ve]===le[Ce]?7:5,et=!0),Qe>1&&ve===he&&(qe[0]=!0),et||(et=Me(Ce,le,Q)||Ie(Q,Ce-1)||me(Q,Ce-1)),ve===he?Ce>dt&&(Qe-=et?3:5):Qe+=st?et?2:0:et?0:1,Ce+1===Pe&&(Qe-=et?3:5),Qe}function tt($e,ae,ve,he,le,Q,Ce){return function Ct($e,ae,ve,he,le,Q,Ce,Pe){let dt=ze($e,ae,ve,he,le,Q,Pe);if(dt&&!Ce)return dt;if($e.length>=3){const st=Math.min(7,$e.length-1);for(let qe=ve+1;qe<st;qe++){const Qe=Lt($e,qe);if(Qe){const et=ze(Qe,Qe.toLowerCase(),ve,he,le,Q,Pe);et&&(et[0]-=3,(!dt||et[0]>dt[0])&&(dt=et))}}}return dt}($e,ae,ve,he,le,Q,!0,Ce)}function Lt($e,ae){if(ae+1>=$e.length)return;const ve=$e[ae],he=$e[ae+1];return ve!==he?$e.slice(0,ae)+he+ve+$e.slice(ae+2):void 0}},92192:(Dt,Y,e)=>{"use strict";function d(n){const l=this;let v,S=!1;return function(){return S||(S=!0,v=n.apply(l,arguments)),v}}e.d(Y,{I:()=>d})},85425:(Dt,Y,e)=>{"use strict";e.d(Y,{EQ:()=>U,Qc:()=>ne});var d=e(48648),n=e(15240),l=e(5067),S=e(61283),v=e(8841),T=e(73879),C=function(M,we,Ee,xe){return new(Ee||(Ee=Promise))(function(oe,Se){function Ie(de){try{Me(xe.next(de))}catch(ke){Se(ke)}}function me(de){try{Me(xe.throw(de))}catch(ke){Se(ke)}}function Me(de){de.done?oe(de.value):function Ne(oe){return oe instanceof Ee?oe:new Ee(function(Se){Se(oe)})}(de.value).then(Ie,me)}Me((xe=xe.apply(M,we||[])).next())})};const E="**",_="[/\\\\]",s="[^/\\\\]",m=/\//g;function c(M,we){switch(M){case 0:return"";case 1:return`${s}*?`;default:return`(?:${_}|${s}+${_}${we?`|${_}${s}+`:""})*?`}}function t(M,we){if(!M)return[];const Ee=[];let xe=!1,Ne=!1,oe="";for(const Se of M){switch(Se){case we:if(!xe&&!Ne){Ee.push(oe),oe="";continue}break;case"{":xe=!0;break;case"}":xe=!1;break;case"[":Ne=!0;break;case"]":Ne=!1}oe+=Se}return oe&&Ee.push(oe),Ee}function a(M){if(!M)return"";let we="";const Ee=t(M,"/");if(Ee.every(xe=>xe===E))we=".*";else{let xe=!1;Ee.forEach((Ne,oe)=>{if(Ne===E){if(xe)return;we+=c(2,oe===Ee.length-1)}else{let Se=!1,Ie="",me=!1,Me="";for(const de of Ne)if("}"!==de&&Se)Ie+=de;else if(!me||"]"===de&&Me)switch(de){case"{":Se=!0;continue;case"[":me=!0;continue;case"}":{const Ue=`(?:${t(Ie,",").map(ze=>a(ze)).join("|")})`;we+=Ue,Se=!1,Ie="";break}case"]":we+="["+Me+"]",me=!1,Me="";break;case"?":we+=s;continue;case"*":we+=c(1);continue;default:we+=(0,T.ec)(de)}else{let ke;ke="-"===de?de:"^"!==de&&"!"!==de||Me?"/"===de?"":(0,T.ec)(de):"^",Me+=ke}oe<Ee.length-1&&(Ee[oe+1]!==E||oe+2<Ee.length)&&(we+=_)}xe=Ne===E})}return we}const p=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,g=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,b=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,y=/^\*\*((\/[\w\.-]+)+)\/?$/,w=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,D=new l.z6(1e4),x=function(){return!1},P=function(){return null};function O(M,we){if(!M)return P;let Ee;Ee="string"!=typeof M?M.pattern:M,Ee=Ee.trim();const xe=`${Ee}_${!!we.trimForExclusions}`;let oe,Ne=D.get(xe);return Ne||(Ne=p.test(Ee)?function z(M,we){return function(Ee,xe){return"string"==typeof Ee&&Ee.endsWith(M)?we:null}}(Ee.substr(4),Ee):(oe=u.exec(H(Ee,we)))?function k(M,we){const Ee=`/${M}`,xe=`\\${M}`,Ne=function(Se,Ie){return"string"!=typeof Se?null:Ie?Ie===M?we:null:Se===M||Se.endsWith(Ee)||Se.endsWith(xe)?we:null},oe=[M];return Ne.basenames=oe,Ne.patterns=[we],Ne.allBasenames=oe,Ne}(oe[1],Ee):(we.trimForExclusions?b:g).test(Ee)?function F(M,we){const Ee=ge(M.slice(1,-1).split(",").map(Ie=>O(Ie,we)).filter(Ie=>Ie!==P),M),xe=Ee.length;if(!xe)return P;if(1===xe)return Ee[0];const Ne=function(Ie,me){for(let Me=0,de=Ee.length;Me<de;Me++)if(Ee[Me](Ie,me))return M;return null},oe=Ee.find(Ie=>!!Ie.allBasenames);oe&&(Ne.allBasenames=oe.allBasenames);const Se=Ee.reduce((Ie,me)=>me.allPaths?Ie.concat(me.allPaths):Ie,[]);return Se.length&&(Ne.allPaths=Se),Ne}(Ee,we):(oe=y.exec(H(Ee,we)))?j(oe[1].substr(1),Ee,!0):(oe=w.exec(H(Ee,we)))?j(oe[1],Ee,!1):function K(M){try{const we=new RegExp(`^${a(M)}$`);return function(Ee){return we.lastIndex=0,"string"==typeof Ee&&we.test(Ee)?M:null}}catch{return P}}(Ee),D.set(xe,Ne)),function V(M,we){if("string"==typeof we)return M;const Ee=function(xe,Ne){return(0,n.KM)(xe,we.base,!v.IJ)?M(xe.substr(we.base.length+1),Ne):null};return Ee.allBasenames=M.allBasenames,Ee.allPaths=M.allPaths,Ee.basenames=M.basenames,Ee.patterns=M.patterns,Ee}(Ne,M)}function H(M,we){return we.trimForExclusions&&M.endsWith("/**")?M.substr(0,M.length-2):M}function j(M,we,Ee){const xe=S.ir===S.KR.sep,Ne=xe?M:M.replace(m,S.ir),oe=S.ir+Ne,Se=S.KR.sep+M;let Ie;return Ie=Ee?function(me,Me){return"string"!=typeof me||me!==Ne&&!me.endsWith(oe)&&(xe||me!==M&&!me.endsWith(Se))?null:we}:function(me,Me){return"string"!=typeof me||me!==Ne&&(xe||me!==M)?null:we},Ie.allPaths=[(Ee?"*/":"./")+M],Ie}function U(M,we,Ee){return!(!M||"string"!=typeof we)&&ne(M)(we,void 0,Ee)}function ne(M,we={}){if(!M)return x;if("string"==typeof M||function N(M){return!!M&&"string"==typeof M.base&&"string"==typeof M.pattern}(M)){const Ee=O(M,we);if(Ee===P)return x;const xe=function(Ne,oe){return!!Ee(Ne,oe)};return Ee.allBasenames&&(xe.allBasenames=Ee.allBasenames),Ee.allPaths&&(xe.allPaths=Ee.allPaths),xe}return function W(M,we){const Ee=ge(Object.getOwnPropertyNames(M).map(Ie=>function Z(M,we,Ee){if(!1===we)return P;const xe=O(M,Ee);if(xe===P)return P;if("boolean"==typeof we)return xe;if(we){const Ne=we.when;if("string"==typeof Ne){const oe=(Se,Ie,me,Me)=>{if(!Me||!xe(Se,Ie))return null;const ke=Me(Ne.replace("$(basename)",me));return(0,d.J8)(ke)?ke.then(Ue=>Ue?M:null):ke?M:null};return oe.requiresSiblings=!0,oe}}return xe}(Ie,M[Ie],we)).filter(Ie=>Ie!==P)),xe=Ee.length;if(!xe)return P;if(!Ee.some(Ie=>!!Ie.requiresSiblings)){if(1===xe)return Ee[0];const Ie=function(de,ke){let Ue;for(let ze=0,ce=Ee.length;ze<ce;ze++){const Ve=Ee[ze](de,ke);if("string"==typeof Ve)return Ve;(0,d.J8)(Ve)&&(Ue||(Ue=[]),Ue.push(Ve))}return Ue?(()=>C(this,void 0,void 0,function*(){for(const ze of Ue){const ce=yield ze;if("string"==typeof ce)return ce}return null}))():null},me=Ee.find(de=>!!de.allBasenames);me&&(Ie.allBasenames=me.allBasenames);const Me=Ee.reduce((de,ke)=>ke.allPaths?de.concat(ke.allPaths):de,[]);return Me.length&&(Ie.allPaths=Me),Ie}const Ne=function(Ie,me,Me){let de,ke;for(let Ue=0,ze=Ee.length;Ue<ze;Ue++){const ce=Ee[Ue];ce.requiresSiblings&&Me&&(me||(me=(0,S.EZ)(Ie)),de||(de=me.substr(0,me.length-(0,S.DZ)(Ie).length)));const Ve=ce(Ie,me,de,Me);if("string"==typeof Ve)return Ve;(0,d.J8)(Ve)&&(ke||(ke=[]),ke.push(Ve))}return ke?(()=>C(this,void 0,void 0,function*(){for(const Ue of ke){const ze=yield Ue;if("string"==typeof ze)return ze}return null}))():null},oe=Ee.find(Ie=>!!Ie.allBasenames);oe&&(Ne.allBasenames=oe.allBasenames);const Se=Ee.reduce((Ie,me)=>me.allPaths?Ie.concat(me.allPaths):Ie,[]);return Se.length&&(Ne.allPaths=Se),Ne}(M,we)}function ge(M,we){const Ee=M.filter(Ie=>!!Ie.basenames);if(Ee.length<2)return M;const xe=Ee.reduce((Ie,me)=>{const Me=me.basenames;return Me?Ie.concat(Me):Ie},[]);let Ne;if(we){Ne=[];for(let Ie=0,me=xe.length;Ie<me;Ie++)Ne.push(we)}else Ne=Ee.reduce((Ie,me)=>{const Me=me.patterns;return Me?Ie.concat(Me):Ie},[]);const oe=function(Ie,me){if("string"!=typeof Ie)return null;if(!me){let de;for(de=Ie.length;de>0;de--){const ke=Ie.charCodeAt(de-1);if(47===ke||92===ke)break}me=Ie.substr(de)}const Me=xe.indexOf(me);return-1!==Me?Ne[Me]:null};oe.basenames=xe,oe.patterns=Ne,oe.allBasenames=xe;const Se=M.filter(Ie=>!Ie.basenames);return Se.push(oe),Se}},7626:(Dt,Y,e)=>{"use strict";e.d(Y,{Cv:()=>T,SP:()=>l,vp:()=>n,yP:()=>c});var d=e(73879);function n(t){return l(t,0)}function l(t,a){switch(typeof t){case"object":return null===t?S(349,a):Array.isArray(t)?function C(t,a){return a=S(104579,a),t.reduce((p,u)=>l(u,p),a)}(t,a):function E(t,a){return a=S(181387,a),Object.keys(t).sort().reduce((p,u)=>(p=T(u,p),l(t[u],p)),a)}(t,a);case"string":return T(t,a);case"boolean":return function v(t,a){return S(t?433:863,a)}(t,a);case"number":return S(t,a);case"undefined":return S(937,a);default:return S(617,a)}}function S(t,a){return(a<<5)-a+t|0}function T(t,a){a=S(149417,a);for(let p=0,u=t.length;p<u;p++)a=S(t.charCodeAt(p),a);return a}function L(t,a,p=32){const u=p-a;return(t<<a|(~((1<<u)-1)&t)>>>u)>>>0}function _(t,a=0,p=t.byteLength,u=0){for(let g=0;g<p;g++)t[a+g]=u}function m(t,a=32){return t instanceof ArrayBuffer?Array.from(new Uint8Array(t)).map(p=>p.toString(16).padStart(2,"0")).join(""):function s(t,a,p="0"){for(;t.length<a;)t=p+t;return t}((t>>>0).toString(16),a/4)}class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(a){const p=a.length;if(0===p)return;const u=this._buff;let y,w,g=this._buffLen,b=this._leftoverHighSurrogate;for(0!==b?(y=b,w=-1,b=0):(y=a.charCodeAt(0),w=0);;){let D=y;if(d.ZG(y)){if(!(w+1<p)){b=y;break}{const x=a.charCodeAt(w+1);d.YK(x)?(w++,D=d.rL(y,x)):D=65533}}else d.YK(y)&&(D=65533);if(g=this._push(u,g,D),w++,!(w<p))break;y=a.charCodeAt(w)}this._buffLen=g,this._leftoverHighSurrogate=b}_push(a,p,u){return u<128?a[p++]=u:u<2048?(a[p++]=192|(1984&u)>>>6,a[p++]=128|(63&u)>>>0):u<65536?(a[p++]=224|(61440&u)>>>12,a[p++]=128|(4032&u)>>>6,a[p++]=128|(63&u)>>>0):(a[p++]=240|(1835008&u)>>>18,a[p++]=128|(258048&u)>>>12,a[p++]=128|(4032&u)>>>6,a[p++]=128|(63&u)>>>0),p>=64&&(this._step(),p-=64,this._totalLen+=64,a[0]=a[64],a[1]=a[65],a[2]=a[66]),p}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),m(this._h0)+m(this._h1)+m(this._h2)+m(this._h3)+m(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,_(this._buff,this._buffLen),this._buffLen>56&&(this._step(),_(this._buff));const a=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(a/4294967296),!1),this._buffDV.setUint32(60,a%4294967296,!1),this._step()}_step(){const a=c._bigBlock32,p=this._buffDV;for(let O=0;O<64;O+=4)a.setUint32(O,p.getUint32(O,!1),!1);for(let O=64;O<320;O+=4)a.setUint32(O,L(a.getUint32(O-12,!1)^a.getUint32(O-32,!1)^a.getUint32(O-56,!1)^a.getUint32(O-64,!1),1),!1);let D,x,P,u=this._h0,g=this._h1,b=this._h2,y=this._h3,w=this._h4;for(let O=0;O<80;O++)O<20?(D=g&b|~g&y,x=1518500249):O<40?(D=g^b^y,x=1859775393):O<60?(D=g&b|g&y|b&y,x=2400959708):(D=g^b^y,x=3395469782),P=L(u,5)+D+w+x+a.getUint32(4*O,!1)&4294967295,w=y,y=b,b=L(g,30),g=u,u=P;this._h0=this._h0+u&4294967295,this._h1=this._h1+g&4294967295,this._h2=this._h2+b&4294967295,this._h3=this._h3+y&4294967295,this._h4=this._h4+w&4294967295}}c._bigBlock32=new DataView(new ArrayBuffer(320))},48701:(Dt,Y,e)=>{"use strict";e.d(Y,{CP:()=>v,Fr:()=>T,W5:()=>S,d9:()=>E,oR:()=>L,v1:()=>_});var d=e(4125),n=e(59882),l=e(73879);class S{constructor(m="",c=!1){var t,a,p;if(this.value=m,"string"!=typeof this.value)throw(0,d.b1)("value");"boolean"==typeof c?(this.isTrusted=c,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(t=c.isTrusted)&&void 0!==t?t:void 0,this.supportThemeIcons=null!==(a=c.supportThemeIcons)&&void 0!==a&&a,this.supportHtml=null!==(p=c.supportHtml)&&void 0!==p&&p)}appendText(m,c=0){return this.value+=function C(s){return s.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(0,n.Qo)(m):m).replace(/([ \t]+)/g,(t,a)=>"&nbsp;".repeat(a.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===c?"\\\n":"\n\n"),this}appendMarkdown(m){return this.value+=m,this}appendCodeblock(m,c){return this.value+="\n```",this.value+=m,this.value+="\n",this.value+=c,this.value+="\n```\n",this}appendLink(m,c,t){return this.value+="[",this.value+=this._escape(c,"]"),this.value+="](",this.value+=this._escape(String(m),")"),t&&(this.value+=` "${this._escape(this._escape(t,'"'),")")}"`),this.value+=")",this}_escape(m,c){const t=new RegExp((0,l.ec)(c),"g");return m.replace(t,(a,p)=>"\\"!==m.charAt(p-1)?`\\${a}`:a)}}function v(s){return T(s)?!s.value:!Array.isArray(s)||s.every(v)}function T(s){return s instanceof S||!(!s||"object"!=typeof s)&&!("string"!=typeof s.value||"boolean"!=typeof s.isTrusted&&void 0!==s.isTrusted||"boolean"!=typeof s.supportThemeIcons&&void 0!==s.supportThemeIcons)}function E(s){return s.replace(/"/g,"&quot;")}function L(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function _(s){const m=[],c=s.split("|").map(a=>a.trim());s=c[0];const t=c[1];if(t){const a=/height=(\d+)/.exec(t),p=/width=(\d+)/.exec(t),u=a?a[1]:"",g=p?p[1]:"",b=isFinite(parseInt(g)),y=isFinite(parseInt(u));b&&m.push(`width="${g}"`),y&&m.push(`height="${u}"`)}return{href:s,dimensions:m}}},59882:(Dt,Y,e)=>{"use strict";e.d(Y,{Gt:()=>a,Ho:()=>c,Qo:()=>E,f$:()=>_,x$:()=>m});var d=e(58783),n=e(25715),l=e(73879);const S="$(",v=new RegExp(`\\$\\(${d.dT.iconNameExpression}(?:${d.dT.iconModifierExpression})?\\)`,"g"),T=new RegExp(d.dT.iconNameCharacter),C=new RegExp(`(\\\\)?${v.source}`,"g");function E(p){return p.replace(C,(u,g)=>g?u:`\\${u}`)}const L=new RegExp(`\\\\${v.source}`,"g");function _(p){return p.replace(L,u=>`\\${u}`)}const s=new RegExp(`(\\s)?(\\\\)?${v.source}(\\s)?`,"g");function m(p){return-1===p.indexOf(S)?p:p.replace(s,(u,g,b,y)=>b?u:g||y||"")}function c(p){const u=p.indexOf(S);return-1===u?{text:p}:function t(p,u){const g=[];let b="";function y(z){if(z){b+=z;for(const k of z)g.push(x)}}let P,O,w=-1,D="",x=0,V=u;const H=p.length;for(y(p.substr(0,u));V<H;)P=p[V],O=p[V+1],P===S[0]&&O===S[1]?(w=V,y(D),D=S,V++):")"===P&&-1!==w?(x+=V-w+1,w=-1,D=""):-1!==w?T.test(P)?D+=P:(y(D),w=-1,D=""):y(P),V++;return y(D),{text:b,iconOffsets:g}}(p,u)}function a(p,u,g=!1){const{text:b,iconOffsets:y}=u;if(!y||0===y.length)return(0,n.Oh)(p,b,g);const w=(0,l.j3)(b," "),D=b.length-w.length,x=(0,n.Oh)(p,w,g);if(x)for(const P of x){const O=y[P.start+D]+D;P.start+=O,P.end+=O}return x}},84575:(Dt,Y,e)=>{"use strict";e.d(Y,{R:()=>d,a:()=>n});class d{constructor(S){this._prefix=S,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const n=new d("id#")},1999:(Dt,Y,e)=>{"use strict";var d;e.d(Y,{$:()=>d}),function(n){n.is=function l(D){return D&&"object"==typeof D&&"function"==typeof D[Symbol.iterator]};const S=Object.freeze([]);function b(D,x=Number.POSITIVE_INFINITY){const P=[];if(0===x)return[P,D];const O=D[Symbol.iterator]();for(let V=0;V<x;V++){const H=O.next();if(H.done)return[P,n.empty()];P.push(H.value)}return[P,{[Symbol.iterator]:()=>O}]}n.empty=function v(){return S},n.single=function*T(D){yield D},n.from=function C(D){return D||S},n.isEmpty=function E(D){return!D||!0===D[Symbol.iterator]().next().done},n.first=function L(D){return D[Symbol.iterator]().next().value},n.some=function _(D,x){for(const P of D)if(x(P))return!0;return!1},n.find=function s(D,x){for(const P of D)if(x(P))return P},n.filter=function*m(D,x){for(const P of D)x(P)&&(yield P)},n.map=function*c(D,x){let P=0;for(const O of D)yield x(O,P++)},n.concat=function*t(...D){for(const x of D)for(const P of x)yield P},n.concatNested=function*a(D){for(const x of D)for(const P of x)yield P},n.reduce=function p(D,x,P){let O=P;for(const V of D)O=x(O,V);return O},n.forEach=function u(D,x){let P=0;for(const O of D)x(O,P++)},n.slice=function*g(D,x,P=D.length){for(x<0&&(x+=D.length),P<0?P+=D.length:P>D.length&&(P=D.length);x<P;x++)yield D[x]},n.consume=b,n.collect=function y(D){return b(D)[0]},n.equals=function w(D,x,P=((O,V)=>O===V)){const O=D[Symbol.iterator](),V=x[Symbol.iterator]();for(;;){const H=O.next(),z=V.next();if(H.done!==z.done)return!1;if(H.done)return!0;if(!P(H.value,z.value))return!1}}}(d||(d={}))},53993:(Dt,Y,e)=>{"use strict";e.d(Y,{H_:()=>v,Vd:()=>_,gx:()=>c,kL:()=>m});class d{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(a,p){this._keyCodeToStr[a]=p,this._strToKeyCode[p.toLowerCase()]=a}keyCodeToStr(a){return this._keyCodeToStr[a]}strToKeyCode(a){return this._strToKeyCode[a.toLowerCase()]||0}}const n=new d,l=new d,S=new d,v=new Array(230),T={},C=[],E=Object.create(null),L=Object.create(null),_=[],s=[];for(let t=0;t<=193;t++)_[t]=-1;for(let t=0;t<=127;t++)s[t]=-1;var m,t;function c(t,a){return(t|(65535&a)<<16>>>0)>>>0}!function(){const t="",a=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",t,t],[0,1,1,"Hyper",0,t,0,t,t,t],[0,1,2,"Super",0,t,0,t,t,t],[0,1,3,"Fn",0,t,0,t,t,t],[0,1,4,"FnLock",0,t,0,t,t,t],[0,1,5,"Suspend",0,t,0,t,t,t],[0,1,6,"Resume",0,t,0,t,t,t],[0,1,7,"Turbo",0,t,0,t,t,t],[0,1,8,"Sleep",0,t,0,"VK_SLEEP",t,t],[0,1,9,"WakeUp",0,t,0,t,t,t],[31,0,10,"KeyA",31,"A",65,"VK_A",t,t],[32,0,11,"KeyB",32,"B",66,"VK_B",t,t],[33,0,12,"KeyC",33,"C",67,"VK_C",t,t],[34,0,13,"KeyD",34,"D",68,"VK_D",t,t],[35,0,14,"KeyE",35,"E",69,"VK_E",t,t],[36,0,15,"KeyF",36,"F",70,"VK_F",t,t],[37,0,16,"KeyG",37,"G",71,"VK_G",t,t],[38,0,17,"KeyH",38,"H",72,"VK_H",t,t],[39,0,18,"KeyI",39,"I",73,"VK_I",t,t],[40,0,19,"KeyJ",40,"J",74,"VK_J",t,t],[41,0,20,"KeyK",41,"K",75,"VK_K",t,t],[42,0,21,"KeyL",42,"L",76,"VK_L",t,t],[43,0,22,"KeyM",43,"M",77,"VK_M",t,t],[44,0,23,"KeyN",44,"N",78,"VK_N",t,t],[45,0,24,"KeyO",45,"O",79,"VK_O",t,t],[46,0,25,"KeyP",46,"P",80,"VK_P",t,t],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",t,t],[48,0,27,"KeyR",48,"R",82,"VK_R",t,t],[49,0,28,"KeyS",49,"S",83,"VK_S",t,t],[50,0,29,"KeyT",50,"T",84,"VK_T",t,t],[51,0,30,"KeyU",51,"U",85,"VK_U",t,t],[52,0,31,"KeyV",52,"V",86,"VK_V",t,t],[53,0,32,"KeyW",53,"W",87,"VK_W",t,t],[54,0,33,"KeyX",54,"X",88,"VK_X",t,t],[55,0,34,"KeyY",55,"Y",89,"VK_Y",t,t],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",t,t],[22,0,36,"Digit1",22,"1",49,"VK_1",t,t],[23,0,37,"Digit2",23,"2",50,"VK_2",t,t],[24,0,38,"Digit3",24,"3",51,"VK_3",t,t],[25,0,39,"Digit4",25,"4",52,"VK_4",t,t],[26,0,40,"Digit5",26,"5",53,"VK_5",t,t],[27,0,41,"Digit6",27,"6",54,"VK_6",t,t],[28,0,42,"Digit7",28,"7",55,"VK_7",t,t],[29,0,43,"Digit8",29,"8",56,"VK_8",t,t],[30,0,44,"Digit9",30,"9",57,"VK_9",t,t],[21,0,45,"Digit0",21,"0",48,"VK_0",t,t],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",t,t],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",t,t],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",t,t],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",t,t],[10,1,50,"Space",10,"Space",32,"VK_SPACE",t,t],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,t,0,t,t,t],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",t,t],[59,1,64,"F1",59,"F1",112,"VK_F1",t,t],[60,1,65,"F2",60,"F2",113,"VK_F2",t,t],[61,1,66,"F3",61,"F3",114,"VK_F3",t,t],[62,1,67,"F4",62,"F4",115,"VK_F4",t,t],[63,1,68,"F5",63,"F5",116,"VK_F5",t,t],[64,1,69,"F6",64,"F6",117,"VK_F6",t,t],[65,1,70,"F7",65,"F7",118,"VK_F7",t,t],[66,1,71,"F8",66,"F8",119,"VK_F8",t,t],[67,1,72,"F9",67,"F9",120,"VK_F9",t,t],[68,1,73,"F10",68,"F10",121,"VK_F10",t,t],[69,1,74,"F11",69,"F11",122,"VK_F11",t,t],[70,1,75,"F12",70,"F12",123,"VK_F12",t,t],[0,1,76,"PrintScreen",0,t,0,t,t,t],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",t,t],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",t,t],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",t,t],[14,1,80,"Home",14,"Home",36,"VK_HOME",t,t],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",t,t],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",t,t],[13,1,83,"End",13,"End",35,"VK_END",t,t],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",t,t],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",t],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",t],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",t],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",t],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",t,t],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",t,t],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",t,t],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",t,t],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",t,t],[3,1,94,"NumpadEnter",3,t,0,t,t,t],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",t,t],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",t,t],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",t,t],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",t,t],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",t,t],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",t,t],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",t,t],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",t,t],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",t,t],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",t,t],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",t,t],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",t,t],[58,1,107,"ContextMenu",58,"ContextMenu",93,t,t,t],[0,1,108,"Power",0,t,0,t,t,t],[0,1,109,"NumpadEqual",0,t,0,t,t,t],[71,1,110,"F13",71,"F13",124,"VK_F13",t,t],[72,1,111,"F14",72,"F14",125,"VK_F14",t,t],[73,1,112,"F15",73,"F15",126,"VK_F15",t,t],[74,1,113,"F16",74,"F16",127,"VK_F16",t,t],[75,1,114,"F17",75,"F17",128,"VK_F17",t,t],[76,1,115,"F18",76,"F18",129,"VK_F18",t,t],[77,1,116,"F19",77,"F19",130,"VK_F19",t,t],[0,1,117,"F20",0,t,0,"VK_F20",t,t],[0,1,118,"F21",0,t,0,"VK_F21",t,t],[0,1,119,"F22",0,t,0,"VK_F22",t,t],[0,1,120,"F23",0,t,0,"VK_F23",t,t],[0,1,121,"F24",0,t,0,"VK_F24",t,t],[0,1,122,"Open",0,t,0,t,t,t],[0,1,123,"Help",0,t,0,t,t,t],[0,1,124,"Select",0,t,0,t,t,t],[0,1,125,"Again",0,t,0,t,t,t],[0,1,126,"Undo",0,t,0,t,t,t],[0,1,127,"Cut",0,t,0,t,t,t],[0,1,128,"Copy",0,t,0,t,t,t],[0,1,129,"Paste",0,t,0,t,t,t],[0,1,130,"Find",0,t,0,t,t,t],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",t,t],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",t,t],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",t,t],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",t,t],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",t,t],[0,1,136,"KanaMode",0,t,0,t,t,t],[0,0,137,"IntlYen",0,t,0,t,t,t],[0,1,138,"Convert",0,t,0,t,t,t],[0,1,139,"NonConvert",0,t,0,t,t,t],[0,1,140,"Lang1",0,t,0,t,t,t],[0,1,141,"Lang2",0,t,0,t,t,t],[0,1,142,"Lang3",0,t,0,t,t,t],[0,1,143,"Lang4",0,t,0,t,t,t],[0,1,144,"Lang5",0,t,0,t,t,t],[0,1,145,"Abort",0,t,0,t,t,t],[0,1,146,"Props",0,t,0,t,t,t],[0,1,147,"NumpadParenLeft",0,t,0,t,t,t],[0,1,148,"NumpadParenRight",0,t,0,t,t,t],[0,1,149,"NumpadBackspace",0,t,0,t,t,t],[0,1,150,"NumpadMemoryStore",0,t,0,t,t,t],[0,1,151,"NumpadMemoryRecall",0,t,0,t,t,t],[0,1,152,"NumpadMemoryClear",0,t,0,t,t,t],[0,1,153,"NumpadMemoryAdd",0,t,0,t,t,t],[0,1,154,"NumpadMemorySubtract",0,t,0,t,t,t],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",t,t],[0,1,156,"NumpadClearEntry",0,t,0,t,t,t],[5,1,0,t,5,"Ctrl",17,"VK_CONTROL",t,t],[4,1,0,t,4,"Shift",16,"VK_SHIFT",t,t],[6,1,0,t,6,"Alt",18,"VK_MENU",t,t],[57,1,0,t,57,"Meta",0,"VK_COMMAND",t,t],[5,1,157,"ControlLeft",5,t,0,"VK_LCONTROL",t,t],[4,1,158,"ShiftLeft",4,t,0,"VK_LSHIFT",t,t],[6,1,159,"AltLeft",6,t,0,"VK_LMENU",t,t],[57,1,160,"MetaLeft",57,t,0,"VK_LWIN",t,t],[5,1,161,"ControlRight",5,t,0,"VK_RCONTROL",t,t],[4,1,162,"ShiftRight",4,t,0,"VK_RSHIFT",t,t],[6,1,163,"AltRight",6,t,0,"VK_RMENU",t,t],[57,1,164,"MetaRight",57,t,0,"VK_RWIN",t,t],[0,1,165,"BrightnessUp",0,t,0,t,t,t],[0,1,166,"BrightnessDown",0,t,0,t,t,t],[0,1,167,"MediaPlay",0,t,0,t,t,t],[0,1,168,"MediaRecord",0,t,0,t,t,t],[0,1,169,"MediaFastForward",0,t,0,t,t,t],[0,1,170,"MediaRewind",0,t,0,t,t,t],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",t,t],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",t,t],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",t,t],[0,1,174,"Eject",0,t,0,t,t,t],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",t,t],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",t,t],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",t,t],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",t,t],[0,1,179,"LaunchApp1",0,t,0,"VK_MEDIA_LAUNCH_APP1",t,t],[0,1,180,"SelectTask",0,t,0,t,t,t],[0,1,181,"LaunchScreenSaver",0,t,0,t,t,t],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",t,t],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",t,t],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",t,t],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",t,t],[0,1,186,"BrowserStop",0,t,0,"VK_BROWSER_STOP",t,t],[0,1,187,"BrowserRefresh",0,t,0,"VK_BROWSER_REFRESH",t,t],[0,1,188,"BrowserFavorites",0,t,0,"VK_BROWSER_FAVORITES",t,t],[0,1,189,"ZoomToggle",0,t,0,t,t,t],[0,1,190,"MailReply",0,t,0,t,t,t],[0,1,191,"MailForward",0,t,0,t,t,t],[0,1,192,"MailSend",0,t,0,t,t,t],[109,1,0,t,109,"KeyInComposition",229,t,t,t],[111,1,0,t,111,"ABNT_C2",194,"VK_ABNT_C2",t,t],[91,1,0,t,91,"OEM_8",223,"VK_OEM_8",t,t],[0,1,0,t,0,t,0,"VK_KANA",t,t],[0,1,0,t,0,t,0,"VK_HANGUL",t,t],[0,1,0,t,0,t,0,"VK_JUNJA",t,t],[0,1,0,t,0,t,0,"VK_FINAL",t,t],[0,1,0,t,0,t,0,"VK_HANJA",t,t],[0,1,0,t,0,t,0,"VK_KANJI",t,t],[0,1,0,t,0,t,0,"VK_CONVERT",t,t],[0,1,0,t,0,t,0,"VK_NONCONVERT",t,t],[0,1,0,t,0,t,0,"VK_ACCEPT",t,t],[0,1,0,t,0,t,0,"VK_MODECHANGE",t,t],[0,1,0,t,0,t,0,"VK_SELECT",t,t],[0,1,0,t,0,t,0,"VK_PRINT",t,t],[0,1,0,t,0,t,0,"VK_EXECUTE",t,t],[0,1,0,t,0,t,0,"VK_SNAPSHOT",t,t],[0,1,0,t,0,t,0,"VK_HELP",t,t],[0,1,0,t,0,t,0,"VK_APPS",t,t],[0,1,0,t,0,t,0,"VK_PROCESSKEY",t,t],[0,1,0,t,0,t,0,"VK_PACKET",t,t],[0,1,0,t,0,t,0,"VK_DBE_SBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_DBE_DBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_ATTN",t,t],[0,1,0,t,0,t,0,"VK_CRSEL",t,t],[0,1,0,t,0,t,0,"VK_EXSEL",t,t],[0,1,0,t,0,t,0,"VK_EREOF",t,t],[0,1,0,t,0,t,0,"VK_PLAY",t,t],[0,1,0,t,0,t,0,"VK_ZOOM",t,t],[0,1,0,t,0,t,0,"VK_NONAME",t,t],[0,1,0,t,0,t,0,"VK_PA1",t,t],[0,1,0,t,0,t,0,"VK_OEM_CLEAR",t,t]],p=[],u=[];for(const g of a){const[b,y,w,D,x,P,O,V,H,z]=g;if(u[w]||(u[w]=!0,C[w]=D,E[D]=w,L[D.toLowerCase()]=w,y&&(_[w]=x,0!==x&&3!==x&&5!==x&&4!==x&&6!==x&&57!==x&&(s[x]=w))),!p[x]){if(p[x]=!0,!P)throw new Error(`String representation missing for key code ${x} around scan code ${D}`);n.define(x,P),l.define(x,H||P),S.define(x,z||H||P)}O&&(v[O]=x),V&&(T[V]=x)}s[3]=46}(),(t=m||(m={})).toString=function a(w){return n.keyCodeToStr(w)},t.fromString=function p(w){return n.strToKeyCode(w)},t.toUserSettingsUS=function u(w){return l.keyCodeToStr(w)},t.toUserSettingsGeneral=function g(w){return S.keyCodeToStr(w)},t.fromUserSettings=function b(w){return l.strToKeyCode(w)||S.strToKeyCode(w)},t.toElectronAccelerator=function y(w){if(w>=93&&w<=108)return null;switch(w){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return n.keyCodeToStr(w)}},11719:(Dt,Y,e)=>{"use strict";e.d(Y,{X4:()=>S,jC:()=>v,xo:()=>l});var d=e(55197);class n{constructor(L,_,s=_){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=_,this.modifierLabels[3]=s}toLabel(L,_,s){if(0===_.length)return null;const m=[];for(let c=0,t=_.length;c<t;c++){const a=_[c],p=s(a);if(null===p)return null;m[c]=C(a,p,this.modifierLabels[L])}return m.join(" ")}}const l=new n({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:d.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:d.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:d.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:d.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),S=new n({ctrlKey:d.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:d.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:d.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:d.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),v=new n({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function C(E,L,_){if(null===L)return"";const s=[];return E.ctrlKey&&s.push(_.ctrlKey),E.shiftKey&&s.push(_.shiftKey),E.altKey&&s.push(_.altKey),E.metaKey&&s.push(_.metaKey),""!==L&&s.push(L),s.join(_.separator)}new n({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},37451:(Dt,Y,e)=>{"use strict";e.d(Y,{BQ:()=>C,QC:()=>S,X_:()=>v,f1:()=>E,gm:()=>n});var d=e(4125);function n(L,_){if(0===L)return null;const s=(65535&L)>>>0,m=(4294901760&L)>>>16;return new v(0!==m?[l(s,_),l(m,_)]:[l(s,_)])}function l(L,_){const s=!!(2048&L),m=!!(256&L);return new S(2===_?m:s,!!(1024&L),!!(512&L),2===_?s:m,255&L)}class S{constructor(_,s,m,c,t){this.ctrlKey=_,this.shiftKey=s,this.altKey=m,this.metaKey=c,this.keyCode=t}equals(_){return this.ctrlKey===_.ctrlKey&&this.shiftKey===_.shiftKey&&this.altKey===_.altKey&&this.metaKey===_.metaKey&&this.keyCode===_.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new v([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class v{constructor(_){if(0===_.length)throw(0,d.b1)("parts");this.parts=_}}class C{constructor(_,s,m,c,t,a){this.ctrlKey=_,this.shiftKey=s,this.altKey=m,this.metaKey=c,this.keyLabel=t,this.keyAriaLabel=a}}class E{}},27386:(Dt,Y,e)=>{"use strict";e.d(Y,{o:()=>d});class d{constructor(l){this.executor=l,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(l){this._error=l}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},80142:(Dt,Y,e)=>{"use strict";e.d(Y,{B9:()=>c,F8:()=>t,JT:()=>u,Jz:()=>w,L6:()=>b,OF:()=>a,SL:()=>p,Wf:()=>m,XK:()=>g,dk:()=>_,dt:()=>y});var d=e(92192),n=e(1999);let S=null;function T(D){return S?.trackDisposable(D),D}function C(D){S?.markAsDisposed(D)}function E(D,x){S?.setParent(D,x)}function _(D){return S?.markAsSingleton(D),D}class s extends Error{constructor(x){super(`Encountered errors while disposing of store. Errors: [${x.join(", ")}]`),this.errors=x}}function m(D){return"function"==typeof D.dispose&&0===D.dispose.length}function c(D){if(n.$.is(D)){const x=[];for(const P of D)if(P)try{P.dispose()}catch(O){x.push(O)}if(1===x.length)throw x[0];if(x.length>1)throw new s(x);return Array.isArray(D)?[]:D}if(D)return D.dispose(),D}function t(...D){const x=a(()=>c(D));return function L(D,x){S}(),x}function a(D){const x=T({dispose:(0,d.I)(()=>{C(x),D()})});return x}let p=(()=>{class D{constructor(){this._toDispose=new Set,this._isDisposed=!1,T(this)}dispose(){this._isDisposed||(C(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{c(this._toDispose.values())}finally{this._toDispose.clear()}}add(P){if(!P)return P;if(P===this)throw new Error("Cannot register a disposable on itself!");return E(P,this),this._isDisposed?D.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(P),P}}return D.DISABLE_DISPOSED_WARNING=!1,D})();class u{constructor(){this._store=new p,T(this),E(this._store,this)}dispose(){C(this),this._store.dispose()}_register(x){if(x===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(x)}}u.None=Object.freeze({dispose(){}});class g{constructor(){this._isDisposed=!1,T(this)}get value(){return this._isDisposed?void 0:this._value}set value(x){var P;this._isDisposed||x===this._value||(null===(P=this._value)||void 0===P||P.dispose(),x&&E(x,this),this._value=x)}clear(){this.value=void 0}dispose(){var x;this._isDisposed=!0,C(this),null===(x=this._value)||void 0===x||x.dispose(),this._value=void 0}clearAndLeak(){const x=this._value;return this._value=void 0,x&&E(x,null),x}}class b{constructor(x){this._disposable=x,this._counter=1}acquire(){return this._counter++,this}release(){return 0==--this._counter&&this._disposable.dispose(),this}}class y{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,T(this)}set(x){let P=x;return this.unset=()=>P=void 0,this.isset=()=>void 0!==P,this.dispose=()=>{P&&(P(),P=void 0,C(this))},this}}class w{constructor(x){this.object=x}dispose(){}}},85739:(Dt,Y,e)=>{"use strict";e.d(Y,{S:()=>n});class d{constructor(S){this.element=S,this.next=d.Undefined,this.prev=d.Undefined}}d.Undefined=new d(void 0);class n{constructor(){this._first=d.Undefined,this._last=d.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===d.Undefined}clear(){let S=this._first;for(;S!==d.Undefined;){const v=S.next;S.prev=d.Undefined,S.next=d.Undefined,S=v}this._first=d.Undefined,this._last=d.Undefined,this._size=0}unshift(S){return this._insert(S,!1)}push(S){return this._insert(S,!0)}_insert(S,v){const T=new d(S);if(this._first===d.Undefined)this._first=T,this._last=T;else if(v){const E=this._last;this._last=T,T.prev=E,E.next=T}else{const E=this._first;this._first=T,T.next=E,E.prev=T}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(T))}}shift(){if(this._first!==d.Undefined){const S=this._first.element;return this._remove(this._first),S}}pop(){if(this._last!==d.Undefined){const S=this._last.element;return this._remove(this._last),S}}_remove(S){if(S.prev!==d.Undefined&&S.next!==d.Undefined){const v=S.prev;v.next=S.next,S.next.prev=v}else S.prev===d.Undefined&&S.next===d.Undefined?(this._first=d.Undefined,this._last=d.Undefined):S.next===d.Undefined?(this._last=this._last.prev,this._last.next=d.Undefined):S.prev===d.Undefined&&(this._first=this._first.next,this._first.prev=d.Undefined);this._size-=1}*[Symbol.iterator](){let S=this._first;for(;S!==d.Undefined;)yield S.element,S=S.next}}},5067:(Dt,Y,e)=>{"use strict";e.d(Y,{Id:()=>L,Y9:()=>s,z6:()=>c});var n,l,d=e(73879);class S{constructor(){this._value="",this._pos=0}reset(a){return this._value=a,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(a){return a.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class v{constructor(a=!0){this._caseSensitive=a}reset(a){return this._value=a,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let a=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!a)break;this._from++}else a=!1;return this}cmp(a){return this._caseSensitive?(0,d.TT)(a,this._value,0,a.length,this._from,this._to):(0,d.j_)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class T{constructor(a=!0,p=!0){this._splitOnBackslash=a,this._caseSensitive=p}reset(a){this._from=0,this._to=0,this._value=a,this._valueLen=a.length;for(let p=a.length-1;p>=0;p--,this._valueLen--){const u=this._value.charCodeAt(p);if(!(47===u||this._splitOnBackslash&&92===u))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let a=!0;for(;this._to<this._valueLen;this._to++){const p=this._value.charCodeAt(this._to);if(47===p||this._splitOnBackslash&&92===p){if(!a)break;this._from++}else a=!1}return this}cmp(a){return this._caseSensitive?(0,d.TT)(a,this._value,0,a.length,this._from,this._to):(0,d.j_)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class C{constructor(a,p){this._ignorePathCasing=a,this._ignoreQueryAndFragment=p,this._states=[],this._stateIdx=0}reset(a){return this._value=a,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new T(!1,!this._ignorePathCasing(a)),this._pathIterator.reset(a.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(a)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(a){if(1===this._states[this._stateIdx])return(0,d.zY)(a,this._value.scheme);if(2===this._states[this._stateIdx])return(0,d.zY)(a,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(a);if(4===this._states[this._stateIdx])return(0,d.qu)(a,this._value.query);if(5===this._states[this._stateIdx])return(0,d.qu)(a,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class E{constructor(){this.height=1}rotateLeft(){const a=this.right;return this.right=a.left,a.left=this,this.updateHeight(),a.updateHeight(),a}rotateRight(){const a=this.left;return this.left=a.right,a.right=this,this.updateHeight(),a.updateHeight(),a}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var a,p;return null!==(p=null===(a=this.left)||void 0===a?void 0:a.height)&&void 0!==p?p:0}get heightRight(){var a,p;return null!==(p=null===(a=this.right)||void 0===a?void 0:a.height)&&void 0!==p?p:0}}class L{constructor(a){this._iter=a}static forUris(a=(()=>!1),p=(()=>!1)){return new L(new C(a,p))}static forStrings(){return new L(new S)}static forConfigKeys(){return new L(new v)}clear(){this._root=void 0}set(a,p){const u=this._iter.reset(a);let g;this._root||(this._root=new E,this._root.segment=u.value());const b=[];for(g=this._root;;){const w=u.cmp(g.segment);if(w>0)g.left||(g.left=new E,g.left.segment=u.value()),b.push([-1,g]),g=g.left;else if(w<0)g.right||(g.right=new E,g.right.segment=u.value()),b.push([1,g]),g=g.right;else{if(!u.hasNext())break;u.next(),g.mid||(g.mid=new E,g.mid.segment=u.value()),b.push([0,g]),g=g.mid}}const y=g.value;g.value=p,g.key=a;for(let w=b.length-1;w>=0;w--){const D=b[w][1];D.updateHeight();const x=D.balanceFactor();if(x<-1||x>1){const P=b[w][0],O=b[w+1][0];if(1===P&&1===O)b[w][1]=D.rotateLeft();else if(-1===P&&-1===O)b[w][1]=D.rotateRight();else if(1===P&&-1===O)D.right=b[w+1][1]=b[w+1][1].rotateRight(),b[w][1]=D.rotateLeft();else{if(-1!==P||1!==O)throw new Error;D.left=b[w+1][1]=b[w+1][1].rotateLeft(),b[w][1]=D.rotateRight()}if(w>0)switch(b[w-1][0]){case-1:b[w-1][1].left=b[w][1];break;case 1:b[w-1][1].right=b[w][1];break;case 0:b[w-1][1].mid=b[w][1]}else this._root=b[0][1]}}return y}get(a){var p;return null===(p=this._getNode(a))||void 0===p?void 0:p.value}_getNode(a){const p=this._iter.reset(a);let u=this._root;for(;u;){const g=p.cmp(u.segment);if(g>0)u=u.left;else if(g<0)u=u.right;else{if(!p.hasNext())break;p.next(),u=u.mid}}return u}has(a){const p=this._getNode(a);return!(void 0===p?.value&&void 0===p?.mid)}delete(a){return this._delete(a,!1)}deleteSuperstr(a){return this._delete(a,!0)}_delete(a,p){var u;const g=this._iter.reset(a),b=[];let y=this._root;for(;y;){const w=g.cmp(y.segment);if(w>0)b.push([-1,y]),y=y.left;else if(w<0)b.push([1,y]),y=y.right;else{if(!g.hasNext())break;g.next(),b.push([0,y]),y=y.mid}}if(y){if(p?(y.left=void 0,y.mid=void 0,y.right=void 0,y.height=1):(y.key=void 0,y.value=void 0),!y.mid&&!y.value)if(y.left&&y.right){const w=this._min(y.right),{key:D,value:x,segment:P}=w;this._delete(w.key,!1),y.key=D,y.value=x,y.segment=P}else{const w=null!==(u=y.left)&&void 0!==u?u:y.right;if(b.length>0){const[D,x]=b[b.length-1];switch(D){case-1:x.left=w;break;case 0:x.mid=w;break;case 1:x.right=w}}else this._root=w}for(let w=b.length-1;w>=0;w--){const D=b[w][1];D.updateHeight();const x=D.balanceFactor();if(x>1?(D.right.balanceFactor()>=0||(D.right=D.right.rotateRight()),b[w][1]=D.rotateLeft()):x<-1&&(D.left.balanceFactor()<=0||(D.left=D.left.rotateLeft()),b[w][1]=D.rotateRight()),w>0)switch(b[w-1][0]){case-1:b[w-1][1].left=b[w][1];break;case 1:b[w-1][1].right=b[w][1];break;case 0:b[w-1][1].mid=b[w][1]}else this._root=b[0][1]}}}_min(a){for(;a.left;)a=a.left;return a}findSubstr(a){const p=this._iter.reset(a);let g,u=this._root;for(;u;){const b=p.cmp(u.segment);if(b>0)u=u.left;else if(b<0)u=u.right;else{if(!p.hasNext())break;p.next(),g=u.value||g,u=u.mid}}return u&&u.value||g}findSuperstr(a){const p=this._iter.reset(a);let u=this._root;for(;u;){const g=p.cmp(u.segment);if(g>0)u=u.left;else if(g<0)u=u.right;else{if(!p.hasNext())return u.mid?this._entries(u.mid):void 0;p.next(),u=u.mid}}}forEach(a){for(const[p,u]of this)a(u,p)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(a){const p=[];return this._dfsEntries(a,p),p[Symbol.iterator]()}_dfsEntries(a,p){!a||(a.left&&this._dfsEntries(a.left,p),a.value&&p.push([a.key,a.value]),a.mid&&this._dfsEntries(a.mid,p),a.right&&this._dfsEntries(a.right,p))}}class _{constructor(a,p){this.uri=a,this.value=p}}let s=(()=>{class t{constructor(p,u){this[n]="ResourceMap",p instanceof t?(this.map=new Map(p.map),this.toKey=u??t.defaultToKey):(this.map=new Map,this.toKey=p??t.defaultToKey)}set(p,u){return this.map.set(this.toKey(p),new _(p,u)),this}get(p){var u;return null===(u=this.map.get(this.toKey(p)))||void 0===u?void 0:u.value}has(p){return this.map.has(this.toKey(p))}get size(){return this.map.size}clear(){this.map.clear()}delete(p){return this.map.delete(this.toKey(p))}forEach(p,u){typeof u<"u"&&(p=p.bind(u));for(const[g,b]of this.map)p(b.value,b.uri,this)}*values(){for(const p of this.map.values())yield p.value}*keys(){for(const p of this.map.values())yield p.uri}*entries(){for(const p of this.map.values())yield[p.uri,p.value]}*[(n=Symbol.toStringTag,Symbol.iterator)](){for(const[,p]of this.map)yield[p.uri,p.value]}}return t.defaultToKey=a=>a.toString(),t})();class m{constructor(){this[l]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var a;return null===(a=this._head)||void 0===a?void 0:a.value}get last(){var a;return null===(a=this._tail)||void 0===a?void 0:a.value}has(a){return this._map.has(a)}get(a,p=0){const u=this._map.get(a);if(u)return 0!==p&&this.touch(u,p),u.value}set(a,p,u=0){let g=this._map.get(a);if(g)g.value=p,0!==u&&this.touch(g,u);else{switch(g={key:a,value:p,next:void 0,previous:void 0},u){case 0:case 2:default:this.addItemLast(g);break;case 1:this.addItemFirst(g)}this._map.set(a,g),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const p=this._map.get(a);if(p)return this._map.delete(a),this.removeItem(p),this._size--,p.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,p){const u=this._state;let g=this._head;for(;g;){if(p?a.bind(p)(g.value,g.key,this):a(g.value,g.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");g=g.next}}keys(){const a=this,p=this._state;let u=this._head;const g={[Symbol.iterator]:()=>g,next(){if(a._state!==p)throw new Error("LinkedMap got modified during iteration.");if(u){const b={value:u.key,done:!1};return u=u.next,b}return{value:void 0,done:!0}}};return g}values(){const a=this,p=this._state;let u=this._head;const g={[Symbol.iterator]:()=>g,next(){if(a._state!==p)throw new Error("LinkedMap got modified during iteration.");if(u){const b={value:u.value,done:!1};return u=u.next,b}return{value:void 0,done:!0}}};return g}entries(){const a=this,p=this._state;let u=this._head;const g={[Symbol.iterator]:()=>g,next(){if(a._state!==p)throw new Error("LinkedMap got modified during iteration.");if(u){const b={value:[u.key,u.value],done:!1};return u=u.next,b}return{value:void 0,done:!0}}};return g}[(l=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(0===a)return void this.clear();let p=this._head,u=this.size;for(;p&&u>a;)this._map.delete(p.key),p=p.next,u--;this._head=p,this._size=u,p&&(p.previous=void 0),this._state++}addItemFirst(a){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");a.next=this._head,this._head.previous=a}else this._tail=a;this._head=a,this._state++}addItemLast(a){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");a.previous=this._tail,this._tail.next=a}else this._head=a;this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{const p=a.next,u=a.previous;if(!p||!u)throw new Error("Invalid list");p.previous=u,u.next=p}a.next=void 0,a.previous=void 0,this._state++}touch(a,p){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===p||2===p)if(1===p){if(a===this._head)return;const u=a.next,g=a.previous;a===this._tail?(g.next=void 0,this._tail=g):(u.previous=g,g.next=u),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(2===p){if(a===this._tail)return;const u=a.next,g=a.previous;a===this._head?(u.previous=void 0,this._head=u):(u.previous=g,g.next=u),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}toJSON(){const a=[];return this.forEach((p,u)=>{a.push([u,p])}),a}fromJSON(a){this.clear();for(const[p,u]of a)this.set(p,u)}}class c extends m{constructor(a,p=1){super(),this._limit=a,this._ratio=Math.min(Math.max(0,p),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get(a,p=2){return super.get(a,p)}peek(a){return super.get(a,0)}set(a,p){return super.set(a,p,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},26662:(Dt,Y,e)=>{"use strict";e.d(Y,{T:()=>n});let d={};!function(){function l(S,v){v(d)}var S,v;l.amd=!0,S=this,v=function(S){function v(ae,ve){for(var he=0;he<ve.length;he++){var le=ve[he];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ae,le.key,le)}}function E(ae,ve){(null==ve||ve>ae.length)&&(ve=ae.length);for(var he=0,le=new Array(ve);he<ve;he++)le[he]=ae[he];return le}function L(ae,ve){var he=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(he)return(he=he.call(ae)).next.bind(he);if(Array.isArray(ae)||(he=function C(ae,ve){if(ae){if("string"==typeof ae)return E(ae,ve);var he=Object.prototype.toString.call(ae).slice(8,-1);if("Object"===he&&ae.constructor&&(he=ae.constructor.name),"Map"===he||"Set"===he)return Array.from(ae);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return E(ae,ve)}}(ae))||ve&&ae&&"number"==typeof ae.length){he&&(ae=he);var le=0;return function(){return le>=ae.length?{done:!0}:{done:!1,value:ae[le++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}S.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var m=/[&<>"']/,c=/[&<>"']/g,t=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(ve){return p[ve]};function g(ae,ve){if(ve){if(m.test(ae))return ae.replace(c,u)}else if(t.test(ae))return ae.replace(a,u);return ae}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function y(ae){return ae.replace(b,function(ve,he){return"colon"===(he=he.toLowerCase())?":":"#"===he.charAt(0)?"x"===he.charAt(1)?String.fromCharCode(parseInt(he.substring(2),16)):String.fromCharCode(+he.substring(1)):""})}var w=/(^|[^\[])\^/g;function D(ae,ve){ae="string"==typeof ae?ae:ae.source,ve=ve||"";var he={replace:function(Q,Ce){return Ce=(Ce=Ce.source||Ce).replace(w,"$1"),ae=ae.replace(Q,Ce),he},getRegex:function(){return new RegExp(ae,ve)}};return he}var x=/[^\w:]/g,P=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function O(ae,ve,he){if(ae){var le;try{le=decodeURIComponent(y(he)).replace(x,"").toLowerCase()}catch{return null}if(0===le.indexOf("javascript:")||0===le.indexOf("vbscript:")||0===le.indexOf("data:"))return null}ve&&!P.test(he)&&(he=function F(ae,ve){V[" "+ae]||(V[" "+ae]=H.test(ae)?ae+"/":ne(ae,"/",!0));var he=-1===(ae=V[" "+ae]).indexOf(":");return"//"===ve.substring(0,2)?he?ve:ae.replace(z,"$1")+ve:"/"===ve.charAt(0)?he?ve:ae.replace(k,"$1")+ve:ae+ve}(ve,he));try{he=encodeURI(he).replace(/%25/g,"%")}catch{return null}return he}var V={},H=/^[^:]+:\/*[^/]*$/,z=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/,j={exec:function(){}};function K(ae){for(var he,le,ve=1;ve<arguments.length;ve++)for(le in he=arguments[ve])Object.prototype.hasOwnProperty.call(he,le)&&(ae[le]=he[le]);return ae}function U(ae,ve){var le=ae.replace(/\|/g,function(Ce,Pe,dt){for(var st=!1,qe=Pe;--qe>=0&&"\\"===dt[qe];)st=!st;return st?"|":" |"}).split(/ \|/),Q=0;if(le[0].trim()||le.shift(),le.length>0&&!le[le.length-1].trim()&&le.pop(),le.length>ve)le.splice(ve);else for(;le.length<ve;)le.push("");for(;Q<le.length;Q++)le[Q]=le[Q].trim().replace(/\\\|/g,"|");return le}function ne(ae,ve,he){var le=ae.length;if(0===le)return"";for(var Q=0;Q<le;){var Ce=ae.charAt(le-Q-1);if(Ce!==ve||he){if(Ce===ve||!he)break;Q++}else Q++}return ae.slice(0,le-Q)}function W(ae){ae&&ae.sanitize&&!ae.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Z(ae,ve){if(ve<1)return"";for(var he="";ve>1;)1&ve&&(he+=ae),ve>>=1,ae+=ae;return he+ae}function ge(ae,ve,he,le){var Q=ve.href,Ce=ve.title?g(ve.title):null,Pe=ae[1].replace(/\\([\[\]])/g,"$1");if("!"!==ae[0].charAt(0)){le.state.inLink=!0;var dt={type:"link",raw:he,href:Q,title:Ce,text:Pe,tokens:le.inlineTokens(Pe,[])};return le.state.inLink=!1,dt}return{type:"image",raw:he,href:Q,title:Ce,text:g(Pe)}}var we=function(){function ae(he){this.options=he||S.defaults}var ve=ae.prototype;return ve.space=function(le){var Q=this.rules.block.newline.exec(le);if(Q&&Q[0].length>0)return{type:"space",raw:Q[0]}},ve.code=function(le){var Q=this.rules.block.code.exec(le);if(Q){var Ce=Q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Q[0],codeBlockStyle:"indented",text:this.options.pedantic?Ce:ne(Ce,"\n")}}},ve.fences=function(le){var Q=this.rules.block.fences.exec(le);if(Q){var Ce=Q[0],Pe=function M(ae,ve){var he=ae.match(/^(\s+)(?:```)/);if(null===he)return ve;var le=he[1];return ve.split("\n").map(function(Q){var Ce=Q.match(/^\s+/);return null===Ce?Q:Ce[0].length>=le.length?Q.slice(le.length):Q}).join("\n")}(Ce,Q[3]||"");return{type:"code",raw:Ce,lang:Q[2]?Q[2].trim():Q[2],text:Pe}}},ve.heading=function(le){var Q=this.rules.block.heading.exec(le);if(Q){var Ce=Q[2].trim();if(/#$/.test(Ce)){var Pe=ne(Ce,"#");(this.options.pedantic||!Pe||/ $/.test(Pe))&&(Ce=Pe.trim())}var dt={type:"heading",raw:Q[0],depth:Q[1].length,text:Ce,tokens:[]};return this.lexer.inline(dt.text,dt.tokens),dt}},ve.hr=function(le){var Q=this.rules.block.hr.exec(le);if(Q)return{type:"hr",raw:Q[0]}},ve.blockquote=function(le){var Q=this.rules.block.blockquote.exec(le);if(Q){var Ce=Q[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Q[0],tokens:this.lexer.blockTokens(Ce,[]),text:Ce}}},ve.list=function(le){var Q=this.rules.block.list.exec(le);if(Q){var Ce,Pe,dt,st,qe,Qe,et,vt,mt,_t,$t,Bt,Ke=Q[1].trim(),ht=Ke.length>1,jt={type:"list",raw:"",ordered:ht,start:ht?+Ke.slice(0,-1):"",loose:!1,items:[]};Ke=ht?"\\d{1,9}\\"+Ke.slice(-1):"\\"+Ke,this.options.pedantic&&(Ke=ht?Ke:"[*+-]");for(var fn=new RegExp("^( {0,3}"+Ke+")((?:[\t ][^\\n]*)?(?:\\n|$))");le&&(Bt=!1,(Q=fn.exec(le))&&!this.rules.block.hr.test(le));){if(le=le.substring((Ce=Q[0]).length),vt=Q[2].split("\n",1)[0],mt=le.split("\n",1)[0],this.options.pedantic?(st=2,$t=vt.trimLeft()):(st=Q[2].search(/[^ ]/),$t=vt.slice(st=st>4?1:st),st+=Q[1].length),Qe=!1,!vt&&/^ *$/.test(mt)&&(Ce+=mt+"\n",le=le.substring(mt.length+1),Bt=!0),!Bt)for(var Dn=new RegExp("^ {0,"+Math.min(3,st-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),yt=new RegExp("^ {0,"+Math.min(3,st-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");le&&(vt=_t=le.split("\n",1)[0],this.options.pedantic&&(vt=vt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Dn.test(vt)&&!yt.test(le));){if(vt.search(/[^ ]/)>=st||!vt.trim())$t+="\n"+vt.slice(st);else{if(Qe)break;$t+="\n"+vt}!Qe&&!vt.trim()&&(Qe=!0),Ce+=_t+"\n",le=le.substring(_t.length+1)}jt.loose||(et?jt.loose=!0:/\n *\n *$/.test(Ce)&&(et=!0)),this.options.gfm&&(Pe=/^\[[ xX]\] /.exec($t))&&(dt="[ ] "!==Pe[0],$t=$t.replace(/^\[[ xX]\] +/,"")),jt.items.push({type:"list_item",raw:Ce,task:!!Pe,checked:dt,loose:!1,text:$t}),jt.raw+=Ce}jt.items[jt.items.length-1].raw=Ce.trimRight(),jt.items[jt.items.length-1].text=$t.trimRight(),jt.raw=jt.raw.trimRight();var He=jt.items.length;for(qe=0;qe<He;qe++){this.lexer.state.top=!1,jt.items[qe].tokens=this.lexer.blockTokens(jt.items[qe].text,[]);var ye=jt.items[qe].tokens.filter(function(ue){return"space"===ue.type}),Ae=ye.every(function(ue){for(var nt,Je=0,Fe=L(ue.raw.split(""));!(nt=Fe()).done;)if("\n"===nt.value&&(Je+=1),Je>1)return!0;return!1});!jt.loose&&ye.length&&Ae&&(jt.loose=!0,jt.items[qe].loose=!0)}return jt}},ve.html=function(le){var Q=this.rules.block.html.exec(le);if(Q){var Ce={type:"html",raw:Q[0],pre:!this.options.sanitizer&&("pre"===Q[1]||"script"===Q[1]||"style"===Q[1]),text:Q[0]};return this.options.sanitize&&(Ce.type="paragraph",Ce.text=this.options.sanitizer?this.options.sanitizer(Q[0]):g(Q[0]),Ce.tokens=[],this.lexer.inline(Ce.text,Ce.tokens)),Ce}},ve.def=function(le){var Q=this.rules.block.def.exec(le);if(Q)return Q[3]&&(Q[3]=Q[3].substring(1,Q[3].length-1)),{type:"def",tag:Q[1].toLowerCase().replace(/\s+/g," "),raw:Q[0],href:Q[2],title:Q[3]}},ve.table=function(le){var Q=this.rules.block.table.exec(le);if(Q){var Ce={type:"table",header:U(Q[1]).map(function(et){return{text:et}}),align:Q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Q[3]&&Q[3].trim()?Q[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(Ce.header.length===Ce.align.length){Ce.raw=Q[0];var dt,st,qe,Qe,Pe=Ce.align.length;for(dt=0;dt<Pe;dt++)Ce.align[dt]=/^ *-+: *$/.test(Ce.align[dt])?"right":/^ *:-+: *$/.test(Ce.align[dt])?"center":/^ *:-+ *$/.test(Ce.align[dt])?"left":null;for(Pe=Ce.rows.length,dt=0;dt<Pe;dt++)Ce.rows[dt]=U(Ce.rows[dt],Ce.header.length).map(function(et){return{text:et}});for(Pe=Ce.header.length,st=0;st<Pe;st++)Ce.header[st].tokens=[],this.lexer.inline(Ce.header[st].text,Ce.header[st].tokens);for(Pe=Ce.rows.length,st=0;st<Pe;st++)for(Qe=Ce.rows[st],qe=0;qe<Qe.length;qe++)Qe[qe].tokens=[],this.lexer.inline(Qe[qe].text,Qe[qe].tokens);return Ce}}},ve.lheading=function(le){var Q=this.rules.block.lheading.exec(le);if(Q){var Ce={type:"heading",raw:Q[0],depth:"="===Q[2].charAt(0)?1:2,text:Q[1],tokens:[]};return this.lexer.inline(Ce.text,Ce.tokens),Ce}},ve.paragraph=function(le){var Q=this.rules.block.paragraph.exec(le);if(Q){var Ce={type:"paragraph",raw:Q[0],text:"\n"===Q[1].charAt(Q[1].length-1)?Q[1].slice(0,-1):Q[1],tokens:[]};return this.lexer.inline(Ce.text,Ce.tokens),Ce}},ve.text=function(le){var Q=this.rules.block.text.exec(le);if(Q){var Ce={type:"text",raw:Q[0],text:Q[0],tokens:[]};return this.lexer.inline(Ce.text,Ce.tokens),Ce}},ve.escape=function(le){var Q=this.rules.inline.escape.exec(le);if(Q)return{type:"escape",raw:Q[0],text:g(Q[1])}},ve.tag=function(le){var Q=this.rules.inline.tag.exec(le);if(Q)return!this.lexer.state.inLink&&/^<a /i.test(Q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Q[0]):g(Q[0]):Q[0]}},ve.link=function(le){var Q=this.rules.inline.link.exec(le);if(Q){var Ce=Q[2].trim();if(!this.options.pedantic&&/^</.test(Ce)){if(!/>$/.test(Ce))return;var Pe=ne(Ce.slice(0,-1),"\\");if((Ce.length-Pe.length)%2==0)return}else{var dt=function N(ae,ve){if(-1===ae.indexOf(ve[1]))return-1;for(var he=ae.length,le=0,Q=0;Q<he;Q++)if("\\"===ae[Q])Q++;else if(ae[Q]===ve[0])le++;else if(ae[Q]===ve[1]&&--le<0)return Q;return-1}(Q[2],"()");if(dt>-1){var qe=(0===Q[0].indexOf("!")?5:4)+Q[1].length+dt;Q[2]=Q[2].substring(0,dt),Q[0]=Q[0].substring(0,qe).trim(),Q[3]=""}}var Qe=Q[2],et="";if(this.options.pedantic){var vt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Qe);vt&&(Qe=vt[1],et=vt[3])}else et=Q[3]?Q[3].slice(1,-1):"";return Qe=Qe.trim(),/^</.test(Qe)&&(Qe=this.options.pedantic&&!/>$/.test(Ce)?Qe.slice(1):Qe.slice(1,-1)),ge(Q,{href:Qe&&Qe.replace(this.rules.inline._escapes,"$1"),title:et&&et.replace(this.rules.inline._escapes,"$1")},Q[0],this.lexer)}},ve.reflink=function(le,Q){var Ce;if((Ce=this.rules.inline.reflink.exec(le))||(Ce=this.rules.inline.nolink.exec(le))){var Pe=(Ce[2]||Ce[1]).replace(/\s+/g," ");if(!(Pe=Q[Pe.toLowerCase()])||!Pe.href){var dt=Ce[0].charAt(0);return{type:"text",raw:dt,text:dt}}return ge(Ce,Pe,Ce[0],this.lexer)}},ve.emStrong=function(le,Q,Ce){void 0===Ce&&(Ce="");var Pe=this.rules.inline.emStrong.lDelim.exec(le);if(Pe&&(!Pe[3]||!Ce.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var dt=Pe[1]||Pe[2]||"";if(!dt||dt&&(""===Ce||this.rules.inline.punctuation.exec(Ce))){var qe,Qe,st=Pe[0].length-1,et=st,vt=0,mt="*"===Pe[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(mt.lastIndex=0,Q=Q.slice(-1*le.length+st);null!=(Pe=mt.exec(Q));)if(qe=Pe[1]||Pe[2]||Pe[3]||Pe[4]||Pe[5]||Pe[6]){if(Qe=qe.length,Pe[3]||Pe[4]){et+=Qe;continue}if((Pe[5]||Pe[6])&&st%3&&!((st+Qe)%3)){vt+=Qe;continue}if(!((et-=Qe)>0)){if(Qe=Math.min(Qe,Qe+et+vt),Math.min(st,Qe)%2){var _t=le.slice(1,st+Pe.index+Qe);return{type:"em",raw:le.slice(0,st+Pe.index+Qe+1),text:_t,tokens:this.lexer.inlineTokens(_t,[])}}var $t=le.slice(2,st+Pe.index+Qe-1);return{type:"strong",raw:le.slice(0,st+Pe.index+Qe+1),text:$t,tokens:this.lexer.inlineTokens($t,[])}}}}}},ve.codespan=function(le){var Q=this.rules.inline.code.exec(le);if(Q){var Ce=Q[2].replace(/\n/g," "),Pe=/[^ ]/.test(Ce),dt=/^ /.test(Ce)&&/ $/.test(Ce);return Pe&&dt&&(Ce=Ce.substring(1,Ce.length-1)),Ce=g(Ce,!0),{type:"codespan",raw:Q[0],text:Ce}}},ve.br=function(le){var Q=this.rules.inline.br.exec(le);if(Q)return{type:"br",raw:Q[0]}},ve.del=function(le){var Q=this.rules.inline.del.exec(le);if(Q)return{type:"del",raw:Q[0],text:Q[2],tokens:this.lexer.inlineTokens(Q[2],[])}},ve.autolink=function(le,Q){var Pe,dt,Ce=this.rules.inline.autolink.exec(le);if(Ce)return dt="@"===Ce[2]?"mailto:"+(Pe=g(this.options.mangle?Q(Ce[1]):Ce[1])):Pe=g(Ce[1]),{type:"link",raw:Ce[0],text:Pe,href:dt,tokens:[{type:"text",raw:Pe,text:Pe}]}},ve.url=function(le,Q){var Ce;if(Ce=this.rules.inline.url.exec(le)){var Pe,dt;if("@"===Ce[2])dt="mailto:"+(Pe=g(this.options.mangle?Q(Ce[0]):Ce[0]));else{var st;do{st=Ce[0],Ce[0]=this.rules.inline._backpedal.exec(Ce[0])[0]}while(st!==Ce[0]);Pe=g(Ce[0]),dt="www."===Ce[1]?"http://"+Pe:Pe}return{type:"link",raw:Ce[0],text:Pe,href:dt,tokens:[{type:"text",raw:Pe,text:Pe}]}}},ve.inlineText=function(le,Q){var Pe,Ce=this.rules.inline.text.exec(le);if(Ce)return Pe=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):g(Ce[0]):Ce[0]:g(this.options.smartypants?Q(Ce[0]):Ce[0]),{type:"text",raw:Ce[0],text:Pe}},ae}(),Ee={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:j,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ee.def=D(Ee.def).replace("label",Ee._label).replace("title",Ee._title).getRegex(),Ee.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ee.listItemStart=D(/^( *)(bull) */).replace("bull",Ee.bullet).getRegex(),Ee.list=D(Ee.list).replace(/bull/g,Ee.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ee.def.source+")").getRegex(),Ee._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ee._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ee.html=D(Ee.html,"i").replace("comment",Ee._comment).replace("tag",Ee._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ee.paragraph=D(Ee._paragraph).replace("hr",Ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ee._tag).getRegex(),Ee.blockquote=D(Ee.blockquote).replace("paragraph",Ee.paragraph).getRegex(),Ee.normal=K({},Ee),Ee.gfm=K({},Ee.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ee.gfm.table=D(Ee.gfm.table).replace("hr",Ee.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ee._tag).getRegex(),Ee.gfm.paragraph=D(Ee._paragraph).replace("hr",Ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ee.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ee._tag).getRegex(),Ee.pedantic=K({},Ee.normal,{html:D("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ee._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:j,paragraph:D(Ee.normal._paragraph).replace("hr",Ee.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ee.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var xe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:j,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:j,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Ne(ae){return ae.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function oe(ae){var he,le,ve="",Q=ae.length;for(he=0;he<Q;he++)le=ae.charCodeAt(he),Math.random()>.5&&(le="x"+le.toString(16)),ve+="&#"+le+";";return ve}xe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",xe.punctuation=D(xe.punctuation).replace(/punctuation/g,xe._punctuation).getRegex(),xe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,xe.escapedEmSt=/\\\*|\\_/g,xe._comment=D(Ee._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),xe.emStrong.lDelim=D(xe.emStrong.lDelim).replace(/punct/g,xe._punctuation).getRegex(),xe.emStrong.rDelimAst=D(xe.emStrong.rDelimAst,"g").replace(/punct/g,xe._punctuation).getRegex(),xe.emStrong.rDelimUnd=D(xe.emStrong.rDelimUnd,"g").replace(/punct/g,xe._punctuation).getRegex(),xe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,xe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,xe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,xe.autolink=D(xe.autolink).replace("scheme",xe._scheme).replace("email",xe._email).getRegex(),xe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,xe.tag=D(xe.tag).replace("comment",xe._comment).replace("attribute",xe._attribute).getRegex(),xe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,xe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,xe.link=D(xe.link).replace("label",xe._label).replace("href",xe._href).replace("title",xe._title).getRegex(),xe.reflink=D(xe.reflink).replace("label",xe._label).replace("ref",Ee._label).getRegex(),xe.nolink=D(xe.nolink).replace("ref",Ee._label).getRegex(),xe.reflinkSearch=D(xe.reflinkSearch,"g").replace("reflink",xe.reflink).replace("nolink",xe.nolink).getRegex(),xe.normal=K({},xe),xe.pedantic=K({},xe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:D(/^!?\[(label)\]\((.*?)\)/).replace("label",xe._label).getRegex(),reflink:D(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xe._label).getRegex()}),xe.gfm=K({},xe.normal,{escape:D(xe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),xe.gfm.url=D(xe.gfm.url,"i").replace("email",xe.gfm._extended_email).getRegex(),xe.breaks=K({},xe.gfm,{br:D(xe.br).replace("{2,}","*").getRegex(),text:D(xe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Se=function(){function ae(he){this.tokens=[],this.tokens.links=Object.create(null),this.options=he||S.defaults,this.options.tokenizer=this.options.tokenizer||new we,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var le={block:Ee.normal,inline:xe.normal};this.options.pedantic?(le.block=Ee.pedantic,le.inline=xe.pedantic):this.options.gfm&&(le.block=Ee.gfm,le.inline=this.options.breaks?xe.breaks:xe.gfm),this.tokenizer.rules=le}ae.lex=function(le,Q){return new ae(Q).lex(le)},ae.lexInline=function(le,Q){return new ae(Q).inlineTokens(le)};var ve=ae.prototype;return ve.lex=function(le){le=le.replace(/\r\n|\r/g,"\n"),this.blockTokens(le,this.tokens);for(var Q;Q=this.inlineQueue.shift();)this.inlineTokens(Q.src,Q.tokens);return this.tokens},ve.blockTokens=function(le,Q){var Pe,dt,st,qe,Ce=this;for(void 0===Q&&(Q=[]),le=this.options.pedantic?le.replace(/\t/g,"    ").replace(/^ +$/gm,""):le.replace(/^( *)(\t+)/gm,function(et,vt,mt){return vt+"    ".repeat(mt.length)});le;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(et){return!!(Pe=et.call({lexer:Ce},le,Q))&&(le=le.substring(Pe.raw.length),Q.push(Pe),!0)}))){if(Pe=this.tokenizer.space(le)){le=le.substring(Pe.raw.length),1===Pe.raw.length&&Q.length>0?Q[Q.length-1].raw+="\n":Q.push(Pe);continue}if(Pe=this.tokenizer.code(le)){le=le.substring(Pe.raw.length),!(dt=Q[Q.length-1])||"paragraph"!==dt.type&&"text"!==dt.type?Q.push(Pe):(dt.raw+="\n"+Pe.raw,dt.text+="\n"+Pe.text,this.inlineQueue[this.inlineQueue.length-1].src=dt.text);continue}if(Pe=this.tokenizer.fences(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.heading(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.hr(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.blockquote(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.list(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.html(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.def(le)){le=le.substring(Pe.raw.length),!(dt=Q[Q.length-1])||"paragraph"!==dt.type&&"text"!==dt.type?this.tokens.links[Pe.tag]||(this.tokens.links[Pe.tag]={href:Pe.href,title:Pe.title}):(dt.raw+="\n"+Pe.raw,dt.text+="\n"+Pe.raw,this.inlineQueue[this.inlineQueue.length-1].src=dt.text);continue}if(Pe=this.tokenizer.table(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.lheading(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(st=le,this.options.extensions&&this.options.extensions.startBlock&&function(){var et=1/0,vt=le.slice(1),mt=void 0;Ce.options.extensions.startBlock.forEach(function(_t){"number"==typeof(mt=_t.call({lexer:this},vt))&&mt>=0&&(et=Math.min(et,mt))}),et<1/0&&et>=0&&(st=le.substring(0,et+1))}(),this.state.top&&(Pe=this.tokenizer.paragraph(st))){dt=Q[Q.length-1],qe&&"paragraph"===dt.type?(dt.raw+="\n"+Pe.raw,dt.text+="\n"+Pe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dt.text):Q.push(Pe),qe=st.length!==le.length,le=le.substring(Pe.raw.length);continue}if(Pe=this.tokenizer.text(le)){le=le.substring(Pe.raw.length),(dt=Q[Q.length-1])&&"text"===dt.type?(dt.raw+="\n"+Pe.raw,dt.text+="\n"+Pe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dt.text):Q.push(Pe);continue}if(le){var Qe="Infinite loop on byte: "+le.charCodeAt(0);if(this.options.silent){console.error(Qe);break}throw new Error(Qe)}}return this.state.top=!0,Q},ve.inline=function(le,Q){this.inlineQueue.push({src:le,tokens:Q})},ve.inlineTokens=function(le,Q){var Ce=this;void 0===Q&&(Q=[]);var Pe,dt,st,Qe,et,vt,qe=le;if(this.tokens.links){var mt=Object.keys(this.tokens.links);if(mt.length>0)for(;null!=(Qe=this.tokenizer.rules.inline.reflinkSearch.exec(qe));)mt.includes(Qe[0].slice(Qe[0].lastIndexOf("[")+1,-1))&&(qe=qe.slice(0,Qe.index)+"["+Z("a",Qe[0].length-2)+"]"+qe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Qe=this.tokenizer.rules.inline.blockSkip.exec(qe));)qe=qe.slice(0,Qe.index)+"["+Z("a",Qe[0].length-2)+"]"+qe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Qe=this.tokenizer.rules.inline.escapedEmSt.exec(qe));)qe=qe.slice(0,Qe.index)+"++"+qe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;le;)if(et||(vt=""),et=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function($t){return!!(Pe=$t.call({lexer:Ce},le,Q))&&(le=le.substring(Pe.raw.length),Q.push(Pe),!0)}))){if(Pe=this.tokenizer.escape(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.tag(le)){le=le.substring(Pe.raw.length),(dt=Q[Q.length-1])&&"text"===Pe.type&&"text"===dt.type?(dt.raw+=Pe.raw,dt.text+=Pe.text):Q.push(Pe);continue}if(Pe=this.tokenizer.link(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.reflink(le,this.tokens.links)){le=le.substring(Pe.raw.length),(dt=Q[Q.length-1])&&"text"===Pe.type&&"text"===dt.type?(dt.raw+=Pe.raw,dt.text+=Pe.text):Q.push(Pe);continue}if(Pe=this.tokenizer.emStrong(le,qe,vt)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.codespan(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.br(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.del(le)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(Pe=this.tokenizer.autolink(le,oe)){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(!this.state.inLink&&(Pe=this.tokenizer.url(le,oe))){le=le.substring(Pe.raw.length),Q.push(Pe);continue}if(st=le,this.options.extensions&&this.options.extensions.startInline&&function(){var $t=1/0,Bt=le.slice(1),Ke=void 0;Ce.options.extensions.startInline.forEach(function(ht){"number"==typeof(Ke=ht.call({lexer:this},Bt))&&Ke>=0&&($t=Math.min($t,Ke))}),$t<1/0&&$t>=0&&(st=le.substring(0,$t+1))}(),Pe=this.tokenizer.inlineText(st,Ne)){le=le.substring(Pe.raw.length),"_"!==Pe.raw.slice(-1)&&(vt=Pe.raw.slice(-1)),et=!0,(dt=Q[Q.length-1])&&"text"===dt.type?(dt.raw+=Pe.raw,dt.text+=Pe.text):Q.push(Pe);continue}if(le){var _t="Infinite loop on byte: "+le.charCodeAt(0);if(this.options.silent){console.error(_t);break}throw new Error(_t)}}return Q},function T(ae,ve,he){ve&&v(ae.prototype,ve),he&&v(ae,he),Object.defineProperty(ae,"prototype",{writable:!1})}(ae,null,[{key:"rules",get:function(){return{block:Ee,inline:xe}}}]),ae}(),Ie=function(){function ae(he){this.options=he||S.defaults}var ve=ae.prototype;return ve.code=function(le,Q,Ce){var Pe=(Q||"").match(/\S*/)[0];if(this.options.highlight){var dt=this.options.highlight(le,Pe);null!=dt&&dt!==le&&(Ce=!0,le=dt)}return le=le.replace(/\n$/,"")+"\n",Pe?'<pre><code class="'+this.options.langPrefix+g(Pe,!0)+'">'+(Ce?le:g(le,!0))+"</code></pre>\n":"<pre><code>"+(Ce?le:g(le,!0))+"</code></pre>\n"},ve.blockquote=function(le){return"<blockquote>\n"+le+"</blockquote>\n"},ve.html=function(le){return le},ve.heading=function(le,Q,Ce,Pe){return this.options.headerIds?"<h"+Q+' id="'+(this.options.headerPrefix+Pe.slug(Ce))+'">'+le+"</h"+Q+">\n":"<h"+Q+">"+le+"</h"+Q+">\n"},ve.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},ve.list=function(le,Q,Ce){var Pe=Q?"ol":"ul";return"<"+Pe+(Q&&1!==Ce?' start="'+Ce+'"':"")+">\n"+le+"</"+Pe+">\n"},ve.listitem=function(le){return"<li>"+le+"</li>\n"},ve.checkbox=function(le){return"<input "+(le?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ve.paragraph=function(le){return"<p>"+le+"</p>\n"},ve.table=function(le,Q){return Q&&(Q="<tbody>"+Q+"</tbody>"),"<table>\n<thead>\n"+le+"</thead>\n"+Q+"</table>\n"},ve.tablerow=function(le){return"<tr>\n"+le+"</tr>\n"},ve.tablecell=function(le,Q){var Ce=Q.header?"th":"td";return(Q.align?"<"+Ce+' align="'+Q.align+'">':"<"+Ce+">")+le+"</"+Ce+">\n"},ve.strong=function(le){return"<strong>"+le+"</strong>"},ve.em=function(le){return"<em>"+le+"</em>"},ve.codespan=function(le){return"<code>"+le+"</code>"},ve.br=function(){return this.options.xhtml?"<br/>":"<br>"},ve.del=function(le){return"<del>"+le+"</del>"},ve.link=function(le,Q,Ce){if(null===(le=O(this.options.sanitize,this.options.baseUrl,le)))return Ce;var Pe='<a href="'+g(le)+'"';return Q&&(Pe+=' title="'+Q+'"'),Pe+">"+Ce+"</a>"},ve.image=function(le,Q,Ce){if(null===(le=O(this.options.sanitize,this.options.baseUrl,le)))return Ce;var Pe='<img src="'+le+'" alt="'+Ce+'"';return Q&&(Pe+=' title="'+Q+'"'),Pe+(this.options.xhtml?"/>":">")},ve.text=function(le){return le},ae}(),me=function(){function ae(){}var ve=ae.prototype;return ve.strong=function(le){return le},ve.em=function(le){return le},ve.codespan=function(le){return le},ve.del=function(le){return le},ve.html=function(le){return le},ve.text=function(le){return le},ve.link=function(le,Q,Ce){return""+Ce},ve.image=function(le,Q,Ce){return""+Ce},ve.br=function(){return""},ae}(),Me=function(){function ae(){this.seen={}}var ve=ae.prototype;return ve.serialize=function(le){return le.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ve.getNextSafeSlug=function(le,Q){var Ce=le,Pe=0;if(this.seen.hasOwnProperty(Ce)){Pe=this.seen[le];do{Ce=le+"-"+ ++Pe}while(this.seen.hasOwnProperty(Ce))}return Q||(this.seen[le]=Pe,this.seen[Ce]=0),Ce},ve.slug=function(le,Q){void 0===Q&&(Q={});var Ce=this.serialize(le);return this.getNextSafeSlug(Ce,Q.dryrun)},ae}(),de=function(){function ae(he){this.options=he||S.defaults,this.options.renderer=this.options.renderer||new Ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new me,this.slugger=new Me}ae.parse=function(le,Q){return new ae(Q).parse(le)},ae.parseInline=function(le,Q){return new ae(Q).parseInline(le)};var ve=ae.prototype;return ve.parse=function(le,Q){void 0===Q&&(Q=!0);var Pe,dt,st,qe,Qe,et,vt,mt,_t,$t,Bt,Ke,ht,jt,fn,Dn,yt,He,ye,Ce="",Ae=le.length;for(Pe=0;Pe<Ae;Pe++)if($t=le[Pe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[$t.type]&&(!1!==(ye=this.options.extensions.renderers[$t.type].call({parser:this},$t))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes($t.type)))Ce+=ye||"";else switch($t.type){case"space":continue;case"hr":Ce+=this.renderer.hr();continue;case"heading":Ce+=this.renderer.heading(this.parseInline($t.tokens),$t.depth,y(this.parseInline($t.tokens,this.textRenderer)),this.slugger);continue;case"code":Ce+=this.renderer.code($t.text,$t.lang,$t.escaped);continue;case"table":for(mt="",vt="",qe=$t.header.length,dt=0;dt<qe;dt++)vt+=this.renderer.tablecell(this.parseInline($t.header[dt].tokens),{header:!0,align:$t.align[dt]});for(mt+=this.renderer.tablerow(vt),_t="",qe=$t.rows.length,dt=0;dt<qe;dt++){for(vt="",Qe=(et=$t.rows[dt]).length,st=0;st<Qe;st++)vt+=this.renderer.tablecell(this.parseInline(et[st].tokens),{header:!1,align:$t.align[st]});_t+=this.renderer.tablerow(vt)}Ce+=this.renderer.table(mt,_t);continue;case"blockquote":_t=this.parse($t.tokens),Ce+=this.renderer.blockquote(_t);continue;case"list":for(Bt=$t.ordered,Ke=$t.start,ht=$t.loose,qe=$t.items.length,_t="",dt=0;dt<qe;dt++)Dn=(fn=$t.items[dt]).checked,yt=fn.task,jt="",fn.task&&(He=this.renderer.checkbox(Dn),ht?fn.tokens.length>0&&"paragraph"===fn.tokens[0].type?(fn.tokens[0].text=He+" "+fn.tokens[0].text,fn.tokens[0].tokens&&fn.tokens[0].tokens.length>0&&"text"===fn.tokens[0].tokens[0].type&&(fn.tokens[0].tokens[0].text=He+" "+fn.tokens[0].tokens[0].text)):fn.tokens.unshift({type:"text",text:He}):jt+=He),jt+=this.parse(fn.tokens,ht),_t+=this.renderer.listitem(jt,yt,Dn);Ce+=this.renderer.list(_t,Bt,Ke);continue;case"html":Ce+=this.renderer.html($t.text);continue;case"paragraph":Ce+=this.renderer.paragraph(this.parseInline($t.tokens));continue;case"text":for(_t=$t.tokens?this.parseInline($t.tokens):$t.text;Pe+1<Ae&&"text"===le[Pe+1].type;)_t+="\n"+(($t=le[++Pe]).tokens?this.parseInline($t.tokens):$t.text);Ce+=Q?this.renderer.paragraph(_t):_t;continue;default:var ue='Token with "'+$t.type+'" type was not found.';if(this.options.silent)return void console.error(ue);throw new Error(ue)}return Ce},ve.parseInline=function(le,Q){Q=Q||this.renderer;var Pe,dt,st,Ce="",qe=le.length;for(Pe=0;Pe<qe;Pe++)if(dt=le[Pe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[dt.type]&&(!1!==(st=this.options.extensions.renderers[dt.type].call({parser:this},dt))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(dt.type)))Ce+=st||"";else switch(dt.type){case"escape":case"text":Ce+=Q.text(dt.text);break;case"html":Ce+=Q.html(dt.text);break;case"link":Ce+=Q.link(dt.href,dt.title,this.parseInline(dt.tokens,Q));break;case"image":Ce+=Q.image(dt.href,dt.title,dt.text);break;case"strong":Ce+=Q.strong(this.parseInline(dt.tokens,Q));break;case"em":Ce+=Q.em(this.parseInline(dt.tokens,Q));break;case"codespan":Ce+=Q.codespan(dt.text);break;case"br":Ce+=Q.br();break;case"del":Ce+=Q.del(this.parseInline(dt.tokens,Q));break;default:var Qe='Token with "'+dt.type+'" type was not found.';if(this.options.silent)return void console.error(Qe);throw new Error(Qe)}return Ce},ae}();function ke(ae,ve,he){if(typeof ae>"u"||null===ae)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof ae)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");if("function"==typeof ve&&(he=ve,ve=null),W(ve=K({},ke.defaults,ve||{})),he){var Q,le=ve.highlight;try{Q=Se.lex(ae,ve)}catch(st){return he(st)}var Ce=function(qe){var Qe;if(!qe)try{ve.walkTokens&&ke.walkTokens(Q,ve.walkTokens),Qe=de.parse(Q,ve)}catch(et){qe=et}return ve.highlight=le,qe?he(qe):he(null,Qe)};if(!le||le.length<3||(delete ve.highlight,!Q.length))return Ce();var Pe=0;return ke.walkTokens(Q,function(st){"code"===st.type&&(Pe++,setTimeout(function(){le(st.text,st.lang,function(qe,Qe){if(qe)return Ce(qe);null!=Qe&&Qe!==st.text&&(st.text=Qe,st.escaped=!0),0==--Pe&&Ce()})},0))}),void(0===Pe&&Ce())}try{var dt=Se.lex(ae,ve);return ve.walkTokens&&ke.walkTokens(dt,ve.walkTokens),de.parse(dt,ve)}catch(st){if(st.message+="\nPlease report this to https://github.com/markedjs/marked.",ve.silent)return"<p>An error occurred:</p><pre>"+g(st.message+"",!0)+"</pre>";throw st}}ke.options=ke.setOptions=function(ae){return K(ke.defaults,ae),function s(ae){S.defaults=ae}(ke.defaults),ke},ke.getDefaults=_,ke.defaults=S.defaults,ke.use=function(){for(var ae=arguments.length,ve=new Array(ae),he=0;he<ae;he++)ve[he]=arguments[he];var Ce,le=K.apply(void 0,[{}].concat(ve)),Q=ke.defaults.extensions||{renderers:{},childTokens:{}};ve.forEach(function(Pe){if(Pe.extensions&&(Ce=!0,Pe.extensions.forEach(function(st){if(!st.name)throw new Error("extension name required");if(st.renderer){var qe=Q.renderers?Q.renderers[st.name]:null;Q.renderers[st.name]=qe?function(){for(var Qe=arguments.length,et=new Array(Qe),vt=0;vt<Qe;vt++)et[vt]=arguments[vt];var mt=st.renderer.apply(this,et);return!1===mt&&(mt=qe.apply(this,et)),mt}:st.renderer}if(st.tokenizer){if(!st.level||"block"!==st.level&&"inline"!==st.level)throw new Error("extension level must be 'block' or 'inline'");Q[st.level]?Q[st.level].unshift(st.tokenizer):Q[st.level]=[st.tokenizer],st.start&&("block"===st.level?Q.startBlock?Q.startBlock.push(st.start):Q.startBlock=[st.start]:"inline"===st.level&&(Q.startInline?Q.startInline.push(st.start):Q.startInline=[st.start]))}st.childTokens&&(Q.childTokens[st.name]=st.childTokens)})),Pe.renderer&&function(){var st=ke.defaults.renderer||new Ie,qe=function(vt){var mt=st[vt];st[vt]=function(){for(var _t=arguments.length,$t=new Array(_t),Bt=0;Bt<_t;Bt++)$t[Bt]=arguments[Bt];var Ke=Pe.renderer[vt].apply(st,$t);return!1===Ke&&(Ke=mt.apply(st,$t)),Ke}};for(var Qe in Pe.renderer)qe(Qe);le.renderer=st}(),Pe.tokenizer&&function(){var st=ke.defaults.tokenizer||new we,qe=function(vt){var mt=st[vt];st[vt]=function(){for(var _t=arguments.length,$t=new Array(_t),Bt=0;Bt<_t;Bt++)$t[Bt]=arguments[Bt];var Ke=Pe.tokenizer[vt].apply(st,$t);return!1===Ke&&(Ke=mt.apply(st,$t)),Ke}};for(var Qe in Pe.tokenizer)qe(Qe);le.tokenizer=st}(),Pe.walkTokens){var dt=ke.defaults.walkTokens;le.walkTokens=function(st){Pe.walkTokens.call(this,st),dt&&dt.call(this,st)}}Ce&&(le.extensions=Q),ke.setOptions(le)})},ke.walkTokens=function(ae,ve){for(var Q,he=function(){var Pe=Q.value;switch(ve.call(ke,Pe),Pe.type){case"table":for(var st,dt=L(Pe.header);!(st=dt()).done;)ke.walkTokens(st.value.tokens,ve);for(var et,Qe=L(Pe.rows);!(et=Qe()).done;)for(var _t,mt=L(et.value);!(_t=mt()).done;)ke.walkTokens(_t.value.tokens,ve);break;case"list":ke.walkTokens(Pe.items,ve);break;default:ke.defaults.extensions&&ke.defaults.extensions.childTokens&&ke.defaults.extensions.childTokens[Pe.type]?ke.defaults.extensions.childTokens[Pe.type].forEach(function(Bt){ke.walkTokens(Pe[Bt],ve)}):Pe.tokens&&ke.walkTokens(Pe.tokens,ve)}},le=L(ae);!(Q=le()).done;)he()},ke.parseInline=function(ae,ve){if(typeof ae>"u"||null===ae)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof ae)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");W(ve=K({},ke.defaults,ve||{}));try{var he=Se.lexInline(ae,ve);return ve.walkTokens&&ke.walkTokens(he,ve.walkTokens),de.parseInline(he,ve)}catch(le){if(le.message+="\nPlease report this to https://github.com/markedjs/marked.",ve.silent)return"<p>An error occurred:</p><pre>"+g(le.message+"",!0)+"</pre>";throw le}},ke.Parser=de,ke.parser=de.parse,ke.Renderer=Ie,ke.TextRenderer=me,ke.Lexer=Se,ke.lexer=Se.lex,ke.Tokenizer=we,ke.Slugger=Me,ke.parse=ke;var Ue=ke.options,ze=ke.setOptions,ce=ke.use,Ve=ke.walkTokens,tt=ke.parseInline,Ct=ke,Lt=de.parse,$e=Se.lex;S.Lexer=Se,S.Parser=de,S.Renderer=Ie,S.Slugger=Me,S.TextRenderer=me,S.Tokenizer=we,S.getDefaults=_,S.lexer=$e,S.marked=ke,S.options=Ue,S.parse=Ct,S.parseInline=tt,S.parser=Lt,S.setOptions=ze,S.use=ce,S.walkTokens=Ve,Object.defineProperty(S,"__esModule",{value:!0})},"object"==typeof exports?v(exports):l.amd?l(0,v):v((S=typeof globalThis<"u"?globalThis:S||self).marked={})}();var n=d||exports},61408:(Dt,Y,e)=>{"use strict";e.d(Y,{Q:()=>l,w:()=>S});var d=e(32068),n=e(59547);function l(v){let T=JSON.parse(v);return T=S(T),T}function S(v,T=0){if(!v||T>200)return v;if("object"==typeof v){switch(v.$mid){case 1:return n.o.revive(v);case 2:return new RegExp(v.source,v.flags);case 14:return new Date(v.source)}if(v instanceof d.KN||v instanceof Uint8Array)return v;if(Array.isArray(v))for(let C=0;C<v.length;++C)v[C]=S(v[C],T+1);else for(const C in v)Object.hasOwnProperty.call(v,C)&&(v[C]=S(v[C],T+1))}return v}},34189:(Dt,Y,e)=>{"use strict";e.d(Y,{v:()=>d});const d=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},59310:(Dt,Y,e)=>{"use strict";e.d(Y,{Gi:()=>E,WX:()=>T,lg:()=>l});var d=e(8841),n=e(59547),l=(()=>{return(L=l||(l={})).inMemory="inmemory",L.vscode="vscode",L.internal="private",L.walkThrough="walkThrough",L.walkThroughSnippet="walkThroughSnippet",L.http="http",L.https="https",L.file="file",L.mailto="mailto",L.untitled="untitled",L.data="data",L.command="command",L.vscodeRemote="vscode-remote",L.vscodeRemoteResource="vscode-remote-resource",L.vscodeUserData="vscode-userdata",L.vscodeCustomEditor="vscode-custom-editor",L.vscodeNotebook="vscode-notebook",L.vscodeNotebookCell="vscode-notebook-cell",L.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",L.vscodeNotebookCellOutput="vscode-notebook-cell-output",L.vscodeInteractive="vscode-interactive",L.vscodeInteractiveInput="vscode-interactive-input",L.vscodeSettings="vscode-settings",L.vscodeWorkspaceTrust="vscode-workspace-trust",L.vscodeTerminal="vscode-terminal",L.webviewPanel="webview-panel",L.vscodeWebview="vscode-webview",L.extension="extension",L.vscodeFileResource="vscode-file",L.tmp="tmp",L.vsls="vsls",L.vscodeSourceControl="vscode-scm",l;var L})();const T=new class v{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${l.vscodeRemoteResource}`}setPreferredWebSchema(_){this._preferredWebSchema=_}rewrite(_){if(this._delegate)return this._delegate(_);const s=_.authority;let m=this._hosts[s];m&&-1!==m.indexOf(":")&&(m=`[${m}]`);const c=this._ports[s],t=this._connectionTokens[s];let a=`path=${encodeURIComponent(_.path)}`;return"string"==typeof t&&(a+=`&tkn=${encodeURIComponent(t)}`),n.o.from({scheme:d.$L?this._preferredWebSchema:l.vscodeRemoteResource,authority:`${m}:${c}`,path:this._remoteResourcesPath,query:a})}},E=new((()=>{class L{asBrowserUri(s,m){const c=this.toUri(s,m);return c.scheme===l.vscodeRemote?T.rewrite(c):c.scheme===l.file&&(d.tY||d.n2&&d.li.origin===`${l.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?c.with({scheme:l.vscodeFileResource,authority:c.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):c}toUri(s,m){return n.o.isUri(s)?s:n.o.parse(m.toUrl(s))}}return L.FALLBACK_AUTHORITY="vscode-app",L})())},73455:(Dt,Y,e)=>{"use strict";function d(S,v,T){return Math.min(Math.max(S,v),T)}e.d(Y,{N:()=>l,nM:()=>n,uZ:()=>d});class n{constructor(){this._n=1,this._val=0}update(v){return this._val=this._val+(v-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class l{constructor(v){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(v),this._values.fill(0,0,v)}update(v){const T=this._values[this._index];return this._values[this._index]=v,this._index=(this._index+1)%this._values.length,this._sum-=T,this._sum+=v,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},6276:(Dt,Y,e)=>{"use strict";e.d(Y,{I8:()=>n,_A:()=>l,fS:()=>E,jB:()=>C,rs:()=>v});var d=e(72715);function n(L){if(!L||"object"!=typeof L||L instanceof RegExp)return L;const _=Array.isArray(L)?[]:{};return Object.keys(L).forEach(s=>{_[s]=L[s]&&"object"==typeof L[s]?n(L[s]):L[s]}),_}function l(L){if(!L||"object"!=typeof L)return L;const _=[L];for(;_.length>0;){const s=_.shift();Object.freeze(s);for(const m in s)if(S.call(s,m)){const c=s[m];"object"==typeof c&&!Object.isFrozen(c)&&!(0,d.fU)(c)&&_.push(c)}}return L}const S=Object.prototype.hasOwnProperty;function v(L,_){return T(L,_,new Set)}function T(L,_,s){if((0,d.Jp)(L))return L;const m=_(L);if(typeof m<"u")return m;if((0,d.kJ)(L)){const c=[];for(const t of L)c.push(T(t,_,s));return c}if((0,d.Kn)(L)){if(s.has(L))throw new Error("Cannot clone recursive data-structure");s.add(L);const c={};for(const t in L)S.call(L,t)&&(c[t]=T(L[t],_,s));return s.delete(L),c}return L}function C(L,_,s=!0){return(0,d.Kn)(L)?((0,d.Kn)(_)&&Object.keys(_).forEach(m=>{m in L?s&&((0,d.Kn)(L[m])&&(0,d.Kn)(_[m])?C(L[m],_[m],s):L[m]=_[m]):L[m]=_[m]}),L):_}function E(L,_){if(L===_)return!0;if(null==L||null==_||typeof L!=typeof _||"object"!=typeof L||Array.isArray(L)!==Array.isArray(_))return!1;let s,m;if(Array.isArray(L)){if(L.length!==_.length)return!1;for(s=0;s<L.length;s++)if(!E(L[s],_[s]))return!1}else{const c=[];for(m in L)c.push(m);c.sort();const t=[];for(m in _)t.push(m);if(t.sort(),!E(c,t))return!1;for(s=0;s<c.length;s++)if(!E(L[c[s]],_[c[s]]))return!1}return!0}},61283:(Dt,Y,e)=>{"use strict";e.d(Y,{EZ:()=>k,XX:()=>z,DZ:()=>F,Fv:()=>O,KR:()=>P,Gf:()=>H,DB:()=>V,ir:()=>j,Ku:()=>x});var d=e(8841),n=e(1762);let l;if(typeof d.li.vscode<"u"&&typeof d.li.vscode.process<"u"){const K=d.li.vscode.process;l={get platform(){return K.platform},get arch(){return K.arch},get env(){return K.env},cwd:()=>K.cwd()}}else l=typeof n<"u"?{get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd:()=>n.env.VSCODE_CWD||n.cwd()}:{get platform(){return d.ED?"win32":d.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const S=l.cwd,v=l.env,T=l.platform,s=46,m=47,c=92,t=58;class p extends Error{constructor(U,ne,N){let W;"string"==typeof ne&&0===ne.indexOf("not ")?(W="must not be",ne=ne.replace(/^not /,"")):W="must be";const Z=-1!==U.indexOf(".")?"property":"argument";let ge=`The "${U}" ${Z} ${W} of type ${ne}`;ge+=". Received type "+typeof N,super(ge),this.code="ERR_INVALID_ARG_TYPE"}}function u(K,U){if("string"!=typeof K)throw new p(U,"string",K)}function g(K){return K===m||K===c}function b(K){return K===m}function y(K){return K>=65&&K<=90||K>=97&&K<=122}function w(K,U,ne,N){let W="",Z=0,ge=-1,M=0,we=0;for(let Ee=0;Ee<=K.length;++Ee){if(Ee<K.length)we=K.charCodeAt(Ee);else{if(N(we))break;we=m}if(N(we)){if(ge!==Ee-1&&1!==M)if(2===M){if(W.length<2||2!==Z||W.charCodeAt(W.length-1)!==s||W.charCodeAt(W.length-2)!==s){if(W.length>2){const xe=W.lastIndexOf(ne);-1===xe?(W="",Z=0):(W=W.slice(0,xe),Z=W.length-1-W.lastIndexOf(ne)),ge=Ee,M=0;continue}if(0!==W.length){W="",Z=0,ge=Ee,M=0;continue}}U&&(W+=W.length>0?`${ne}..`:"..",Z=2)}else W.length>0?W+=`${ne}${K.slice(ge+1,Ee)}`:W=K.slice(ge+1,Ee),Z=Ee-ge-1;ge=Ee,M=0}else we===s&&-1!==M?++M:M=-1}return W}function D(K,U){if(null===U||"object"!=typeof U)throw new p("pathObject","Object",U);const ne=U.dir||U.root,N=U.base||`${U.name||""}${U.ext||""}`;return ne?ne===U.root?`${ne}${N}`:`${ne}${K}${N}`:N}const x={resolve(...K){let U="",ne="",N=!1;for(let W=K.length-1;W>=-1;W--){let Z;if(W>=0){if(Z=K[W],u(Z,"path"),0===Z.length)continue}else 0===U.length?Z=S():(Z=v[`=${U}`]||S(),(void 0===Z||Z.slice(0,2).toLowerCase()!==U.toLowerCase()&&Z.charCodeAt(2)===c)&&(Z=`${U}\\`));const ge=Z.length;let M=0,we="",Ee=!1;const xe=Z.charCodeAt(0);if(1===ge)g(xe)&&(M=1,Ee=!0);else if(g(xe))if(Ee=!0,g(Z.charCodeAt(1))){let Ne=2,oe=Ne;for(;Ne<ge&&!g(Z.charCodeAt(Ne));)Ne++;if(Ne<ge&&Ne!==oe){const Se=Z.slice(oe,Ne);for(oe=Ne;Ne<ge&&g(Z.charCodeAt(Ne));)Ne++;if(Ne<ge&&Ne!==oe){for(oe=Ne;Ne<ge&&!g(Z.charCodeAt(Ne));)Ne++;(Ne===ge||Ne!==oe)&&(we=`\\\\${Se}\\${Z.slice(oe,Ne)}`,M=Ne)}}}else M=1;else y(xe)&&Z.charCodeAt(1)===t&&(we=Z.slice(0,2),M=2,ge>2&&g(Z.charCodeAt(2))&&(Ee=!0,M=3));if(we.length>0)if(U.length>0){if(we.toLowerCase()!==U.toLowerCase())continue}else U=we;if(N){if(U.length>0)break}else if(ne=`${Z.slice(M)}\\${ne}`,N=Ee,Ee&&U.length>0)break}return ne=w(ne,!N,"\\",g),N?`${U}\\${ne}`:`${U}${ne}`||"."},normalize(K){u(K,"path");const U=K.length;if(0===U)return".";let N,ne=0,W=!1;const Z=K.charCodeAt(0);if(1===U)return b(Z)?"\\":K;if(g(Z))if(W=!0,g(K.charCodeAt(1))){let M=2,we=M;for(;M<U&&!g(K.charCodeAt(M));)M++;if(M<U&&M!==we){const Ee=K.slice(we,M);for(we=M;M<U&&g(K.charCodeAt(M));)M++;if(M<U&&M!==we){for(we=M;M<U&&!g(K.charCodeAt(M));)M++;if(M===U)return`\\\\${Ee}\\${K.slice(we)}\\`;M!==we&&(N=`\\\\${Ee}\\${K.slice(we,M)}`,ne=M)}}}else ne=1;else y(Z)&&K.charCodeAt(1)===t&&(N=K.slice(0,2),ne=2,U>2&&g(K.charCodeAt(2))&&(W=!0,ne=3));let ge=ne<U?w(K.slice(ne),!W,"\\",g):"";return 0===ge.length&&!W&&(ge="."),ge.length>0&&g(K.charCodeAt(U-1))&&(ge+="\\"),void 0===N?W?`\\${ge}`:ge:W?`${N}\\${ge}`:`${N}${ge}`},isAbsolute(K){u(K,"path");const U=K.length;if(0===U)return!1;const ne=K.charCodeAt(0);return g(ne)||U>2&&y(ne)&&K.charCodeAt(1)===t&&g(K.charCodeAt(2))},join(...K){if(0===K.length)return".";let U,ne;for(let Z=0;Z<K.length;++Z){const ge=K[Z];u(ge,"path"),ge.length>0&&(void 0===U?U=ne=ge:U+=`\\${ge}`)}if(void 0===U)return".";let N=!0,W=0;if("string"==typeof ne&&g(ne.charCodeAt(0))){++W;const Z=ne.length;Z>1&&g(ne.charCodeAt(1))&&(++W,Z>2&&(g(ne.charCodeAt(2))?++W:N=!1))}if(N){for(;W<U.length&&g(U.charCodeAt(W));)W++;W>=2&&(U=`\\${U.slice(W)}`)}return x.normalize(U)},relative(K,U){if(u(K,"from"),u(U,"to"),K===U)return"";const ne=x.resolve(K),N=x.resolve(U);if(ne===N||(K=ne.toLowerCase())===(U=N.toLowerCase()))return"";let W=0;for(;W<K.length&&K.charCodeAt(W)===c;)W++;let Z=K.length;for(;Z-1>W&&K.charCodeAt(Z-1)===c;)Z--;const ge=Z-W;let M=0;for(;M<U.length&&U.charCodeAt(M)===c;)M++;let we=U.length;for(;we-1>M&&U.charCodeAt(we-1)===c;)we--;const Ee=we-M,xe=ge<Ee?ge:Ee;let Ne=-1,oe=0;for(;oe<xe;oe++){const Ie=K.charCodeAt(W+oe);if(Ie!==U.charCodeAt(M+oe))break;Ie===c&&(Ne=oe)}if(oe!==xe){if(-1===Ne)return N}else{if(Ee>xe){if(U.charCodeAt(M+oe)===c)return N.slice(M+oe+1);if(2===oe)return N.slice(M+oe)}ge>xe&&(K.charCodeAt(W+oe)===c?Ne=oe:2===oe&&(Ne=3)),-1===Ne&&(Ne=0)}let Se="";for(oe=W+Ne+1;oe<=Z;++oe)(oe===Z||K.charCodeAt(oe)===c)&&(Se+=0===Se.length?"..":"\\..");return M+=Ne,Se.length>0?`${Se}${N.slice(M,we)}`:(N.charCodeAt(M)===c&&++M,N.slice(M,we))},toNamespacedPath(K){if("string"!=typeof K)return K;if(0===K.length)return"";const U=x.resolve(K);if(U.length<=2)return K;if(U.charCodeAt(0)===c){if(U.charCodeAt(1)===c){const ne=U.charCodeAt(2);if(63!==ne&&ne!==s)return`\\\\?\\UNC\\${U.slice(2)}`}}else if(y(U.charCodeAt(0))&&U.charCodeAt(1)===t&&U.charCodeAt(2)===c)return`\\\\?\\${U}`;return K},dirname(K){u(K,"path");const U=K.length;if(0===U)return".";let ne=-1,N=0;const W=K.charCodeAt(0);if(1===U)return g(W)?K:".";if(g(W)){if(ne=N=1,g(K.charCodeAt(1))){let M=2,we=M;for(;M<U&&!g(K.charCodeAt(M));)M++;if(M<U&&M!==we){for(we=M;M<U&&g(K.charCodeAt(M));)M++;if(M<U&&M!==we){for(we=M;M<U&&!g(K.charCodeAt(M));)M++;if(M===U)return K;M!==we&&(ne=N=M+1)}}}}else y(W)&&K.charCodeAt(1)===t&&(ne=U>2&&g(K.charCodeAt(2))?3:2,N=ne);let Z=-1,ge=!0;for(let M=U-1;M>=N;--M)if(g(K.charCodeAt(M))){if(!ge){Z=M;break}}else ge=!1;if(-1===Z){if(-1===ne)return".";Z=ne}return K.slice(0,Z)},basename(K,U){void 0!==U&&u(U,"ext"),u(K,"path");let Z,ne=0,N=-1,W=!0;if(K.length>=2&&y(K.charCodeAt(0))&&K.charCodeAt(1)===t&&(ne=2),void 0!==U&&U.length>0&&U.length<=K.length){if(U===K)return"";let ge=U.length-1,M=-1;for(Z=K.length-1;Z>=ne;--Z){const we=K.charCodeAt(Z);if(g(we)){if(!W){ne=Z+1;break}}else-1===M&&(W=!1,M=Z+1),ge>=0&&(we===U.charCodeAt(ge)?-1==--ge&&(N=Z):(ge=-1,N=M))}return ne===N?N=M:-1===N&&(N=K.length),K.slice(ne,N)}for(Z=K.length-1;Z>=ne;--Z)if(g(K.charCodeAt(Z))){if(!W){ne=Z+1;break}}else-1===N&&(W=!1,N=Z+1);return-1===N?"":K.slice(ne,N)},extname(K){u(K,"path");let U=0,ne=-1,N=0,W=-1,Z=!0,ge=0;K.length>=2&&K.charCodeAt(1)===t&&y(K.charCodeAt(0))&&(U=N=2);for(let M=K.length-1;M>=U;--M){const we=K.charCodeAt(M);if(g(we)){if(!Z){N=M+1;break}}else-1===W&&(Z=!1,W=M+1),we===s?-1===ne?ne=M:1!==ge&&(ge=1):-1!==ne&&(ge=-1)}return-1===ne||-1===W||0===ge||1===ge&&ne===W-1&&ne===N+1?"":K.slice(ne,W)},format:D.bind(null,"\\"),parse(K){u(K,"path");const U={root:"",dir:"",base:"",ext:"",name:""};if(0===K.length)return U;const ne=K.length;let N=0,W=K.charCodeAt(0);if(1===ne)return g(W)?(U.root=U.dir=K,U):(U.base=U.name=K,U);if(g(W)){if(N=1,g(K.charCodeAt(1))){let Ne=2,oe=Ne;for(;Ne<ne&&!g(K.charCodeAt(Ne));)Ne++;if(Ne<ne&&Ne!==oe){for(oe=Ne;Ne<ne&&g(K.charCodeAt(Ne));)Ne++;if(Ne<ne&&Ne!==oe){for(oe=Ne;Ne<ne&&!g(K.charCodeAt(Ne));)Ne++;Ne===ne?N=Ne:Ne!==oe&&(N=Ne+1)}}}}else if(y(W)&&K.charCodeAt(1)===t){if(ne<=2)return U.root=U.dir=K,U;if(N=2,g(K.charCodeAt(2))){if(3===ne)return U.root=U.dir=K,U;N=3}}N>0&&(U.root=K.slice(0,N));let Z=-1,ge=N,M=-1,we=!0,Ee=K.length-1,xe=0;for(;Ee>=N;--Ee)if(W=K.charCodeAt(Ee),g(W)){if(!we){ge=Ee+1;break}}else-1===M&&(we=!1,M=Ee+1),W===s?-1===Z?Z=Ee:1!==xe&&(xe=1):-1!==Z&&(xe=-1);return-1!==M&&(-1===Z||0===xe||1===xe&&Z===M-1&&Z===ge+1?U.base=U.name=K.slice(ge,M):(U.name=K.slice(ge,Z),U.base=K.slice(ge,M),U.ext=K.slice(Z,M))),U.dir=ge>0&&ge!==N?K.slice(0,ge-1):U.root,U},sep:"\\",delimiter:";",win32:null,posix:null},P={resolve(...K){let U="",ne=!1;for(let N=K.length-1;N>=-1&&!ne;N--){const W=N>=0?K[N]:S();u(W,"path"),0!==W.length&&(U=`${W}/${U}`,ne=W.charCodeAt(0)===m)}return U=w(U,!ne,"/",b),ne?`/${U}`:U.length>0?U:"."},normalize(K){if(u(K,"path"),0===K.length)return".";const U=K.charCodeAt(0)===m,ne=K.charCodeAt(K.length-1)===m;return 0===(K=w(K,!U,"/",b)).length?U?"/":ne?"./":".":(ne&&(K+="/"),U?`/${K}`:K)},isAbsolute:K=>(u(K,"path"),K.length>0&&K.charCodeAt(0)===m),join(...K){if(0===K.length)return".";let U;for(let ne=0;ne<K.length;++ne){const N=K[ne];u(N,"path"),N.length>0&&(void 0===U?U=N:U+=`/${N}`)}return void 0===U?".":P.normalize(U)},relative(K,U){if(u(K,"from"),u(U,"to"),K===U||(K=P.resolve(K))===(U=P.resolve(U)))return"";const N=K.length,W=N-1,ge=U.length-1,M=W<ge?W:ge;let we=-1,Ee=0;for(;Ee<M;Ee++){const Ne=K.charCodeAt(1+Ee);if(Ne!==U.charCodeAt(1+Ee))break;Ne===m&&(we=Ee)}if(Ee===M)if(ge>M){if(U.charCodeAt(1+Ee)===m)return U.slice(1+Ee+1);if(0===Ee)return U.slice(1+Ee)}else W>M&&(K.charCodeAt(1+Ee)===m?we=Ee:0===Ee&&(we=0));let xe="";for(Ee=1+we+1;Ee<=N;++Ee)(Ee===N||K.charCodeAt(Ee)===m)&&(xe+=0===xe.length?"..":"/..");return`${xe}${U.slice(1+we)}`},toNamespacedPath:K=>K,dirname(K){if(u(K,"path"),0===K.length)return".";const U=K.charCodeAt(0)===m;let ne=-1,N=!0;for(let W=K.length-1;W>=1;--W)if(K.charCodeAt(W)===m){if(!N){ne=W;break}}else N=!1;return-1===ne?U?"/":".":U&&1===ne?"//":K.slice(0,ne)},basename(K,U){void 0!==U&&u(U,"ext"),u(K,"path");let Z,ne=0,N=-1,W=!0;if(void 0!==U&&U.length>0&&U.length<=K.length){if(U===K)return"";let ge=U.length-1,M=-1;for(Z=K.length-1;Z>=0;--Z){const we=K.charCodeAt(Z);if(we===m){if(!W){ne=Z+1;break}}else-1===M&&(W=!1,M=Z+1),ge>=0&&(we===U.charCodeAt(ge)?-1==--ge&&(N=Z):(ge=-1,N=M))}return ne===N?N=M:-1===N&&(N=K.length),K.slice(ne,N)}for(Z=K.length-1;Z>=0;--Z)if(K.charCodeAt(Z)===m){if(!W){ne=Z+1;break}}else-1===N&&(W=!1,N=Z+1);return-1===N?"":K.slice(ne,N)},extname(K){u(K,"path");let U=-1,ne=0,N=-1,W=!0,Z=0;for(let ge=K.length-1;ge>=0;--ge){const M=K.charCodeAt(ge);if(M!==m)-1===N&&(W=!1,N=ge+1),M===s?-1===U?U=ge:1!==Z&&(Z=1):-1!==U&&(Z=-1);else if(!W){ne=ge+1;break}}return-1===U||-1===N||0===Z||1===Z&&U===N-1&&U===ne+1?"":K.slice(U,N)},format:D.bind(null,"/"),parse(K){u(K,"path");const U={root:"",dir:"",base:"",ext:"",name:""};if(0===K.length)return U;const ne=K.charCodeAt(0)===m;let N;ne?(U.root="/",N=1):N=0;let W=-1,Z=0,ge=-1,M=!0,we=K.length-1,Ee=0;for(;we>=N;--we){const xe=K.charCodeAt(we);if(xe!==m)-1===ge&&(M=!1,ge=we+1),xe===s?-1===W?W=we:1!==Ee&&(Ee=1):-1!==W&&(Ee=-1);else if(!M){Z=we+1;break}}if(-1!==ge){const xe=0===Z&&ne?1:Z;-1===W||0===Ee||1===Ee&&W===ge-1&&W===Z+1?U.base=U.name=K.slice(xe,ge):(U.name=K.slice(xe,W),U.base=K.slice(xe,ge),U.ext=K.slice(W,ge))}return Z>0?U.dir=K.slice(0,Z-1):ne&&(U.dir="/"),U},sep:"/",delimiter:":",win32:null,posix:null};P.win32=x.win32=x,P.posix=x.posix=P;const O="win32"===T?x.normalize:P.normalize,V="win32"===T?x.resolve:P.resolve,H="win32"===T?x.relative:P.relative,z="win32"===T?x.dirname:P.dirname,k="win32"===T?x.basename:P.basename,F="win32"===T?x.extname:P.extname,j="win32"===T?x.sep:P.sep},8841:(Dt,Y,e)=>{"use strict";e.d(Y,{$L:()=>H,ED:()=>x,G6:()=>we,IJ:()=>O,OS:()=>ne,dK:()=>j,dz:()=>P,fn:()=>U,gn:()=>k,i7:()=>ge,li:()=>g,n2:()=>z,r:()=>Z,tY:()=>V,un:()=>Ee,vU:()=>M});var l,d=e(55197),n=e(1762);const S="en";let t,u,v=!1,T=!1,C=!1,E=!1,L=!1,_=!1,s=!1,m=!1,c=!1,a=S,p=null;const g="object"==typeof self?self:"object"==typeof global?global:{};let b;typeof g.vscode<"u"&&typeof g.vscode.process<"u"?b=g.vscode.process:typeof n<"u"&&(b=n);const y="string"==typeof(null===(l=b?.versions)||void 0===l?void 0:l.electron);if("object"!=typeof navigator||y&&"renderer"===b?.type)if("object"==typeof b){v="win32"===b.platform,T="darwin"===b.platform,C="linux"===b.platform,E=C&&!!b.env.SNAP&&!!b.env.SNAP_REVISION,s=y,c=!!b.env.CI||!!b.env.BUILD_ARTIFACTSTAGINGDIRECTORY,t=S,a=S;const Ne=b.env.VSCODE_NLS_CONFIG;if(Ne)try{const oe=JSON.parse(Ne);t=oe.locale,a=oe.availableLanguages["*"]||S,p=oe._translationsConfigFile}catch{}L=!0}else console.error("Unable to resolve platform.");else u=navigator.userAgent,v=u.indexOf("Windows")>=0,T=u.indexOf("Macintosh")>=0,m=(u.indexOf("Macintosh")>=0||u.indexOf("iPad")>=0||u.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,C=u.indexOf("Linux")>=0,_=!0,t=d.aj(d.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||S,a=t;let D=0;T?D=1:v?D=3:C&&(D=2);const x=v,P=T,O=C,V=L,H=_,z=_&&"function"==typeof g.importScripts,k=m,F=u,j=a,K="function"==typeof g.postMessage&&!g.importScripts,U=(()=>{if(K){const Ne=[];g.addEventListener("message",Se=>{if(Se.data&&Se.data.vscodeScheduleAsyncWork)for(let Ie=0,me=Ne.length;Ie<me;Ie++){const Me=Ne[Ie];if(Me.id===Se.data.vscodeScheduleAsyncWork)return Ne.splice(Ie,1),void Me.callback()}});let oe=0;return Se=>{const Ie=++oe;Ne.push({id:Ie,callback:Se}),g.postMessage({vscodeScheduleAsyncWork:Ie},"*")}}return Ne=>setTimeout(Ne)})(),ne=T||m?2:v?1:3;let N=!0,W=!1;function Z(){if(!W){W=!0;const Ne=new Uint8Array(2);Ne[0]=1,Ne[1]=2,N=513===new Uint16Array(Ne.buffer)[0]}return N}const ge=!!(F&&F.indexOf("Chrome")>=0),M=!!(F&&F.indexOf("Firefox")>=0),we=!!(!ge&&F&&F.indexOf("Safari")>=0),Ee=!!(F&&F.indexOf("Edg/")>=0);F&&F.indexOf("Android")},36969:(Dt,Y,e)=>{"use strict";var d;e.d(Y,{e:()=>d}),function(n){function l(C,E){if(C.start>=E.end||E.start>=C.end)return{start:0,end:0};const L=Math.max(C.start,E.start),_=Math.min(C.end,E.end);return _-L<=0?{start:0,end:0}:{start:L,end:_}}function S(C){return C.end-C.start<=0}n.intersect=l,n.isEmpty=S,n.intersects=function v(C,E){return!S(l(C,E))},n.relativeComplement=function T(C,E){const L=[],_={start:C.start,end:Math.min(E.start,C.end)},s={start:Math.max(E.end,C.start),end:C.end};return S(_)||L.push(_),S(s)||L.push(s),L}}(d||(d={}))},40734:(Dt,Y,e)=>{"use strict";e.d(Y,{AH:()=>y,DZ:()=>u,EZ:()=>p,Hx:()=>a,SF:()=>L,U9:()=>E,Vb:()=>z,Vo:()=>b,XX:()=>g,Xy:()=>m,i3:()=>D,lX:()=>w,z_:()=>C});var d=e(15240),n=e(59310),l=e(61283),S=e(8841),v=e(73879),T=e(59547);function C(k){return(0,T.q)(k,!0)}class E{constructor(F){this._ignorePathCasing=F}compare(F,j,K=!1){return F===j?0:(0,v.qu)(this.getComparisonKey(F,K),this.getComparisonKey(j,K))}isEqual(F,j,K=!1){return F===j||!(!F||!j)&&this.getComparisonKey(F,K)===this.getComparisonKey(j,K)}getComparisonKey(F,j=!1){return F.with({path:this._ignorePathCasing(F)?F.path.toLowerCase():void 0,fragment:j?null:void 0}).toString()}isEqualOrParent(F,j,K=!1){if(F.scheme===j.scheme){if(F.scheme===n.lg.file)return d.KM(C(F),C(j),this._ignorePathCasing(F))&&F.query===j.query&&(K||F.fragment===j.fragment);if(P(F.authority,j.authority))return d.KM(F.path,j.path,this._ignorePathCasing(F),"/")&&F.query===j.query&&(K||F.fragment===j.fragment)}return!1}joinPath(F,...j){return T.o.joinPath(F,...j)}basenameOrAuthority(F){return p(F)||F.authority}basename(F){return l.KR.basename(F.path)}extname(F){return l.KR.extname(F.path)}dirname(F){if(0===F.path.length)return F;let j;return F.scheme===n.lg.file?j=T.o.file(l.XX(C(F))).path:(j=l.KR.dirname(F.path),F.authority&&j.length&&47!==j.charCodeAt(0)&&(console.error(`dirname("${F.toString})) resulted in a relative path`),j="/")),F.with({path:j})}normalizePath(F){if(!F.path.length)return F;let j;return j=F.scheme===n.lg.file?T.o.file(l.Fv(C(F))).path:l.KR.normalize(F.path),F.with({path:j})}relativePath(F,j){if(F.scheme!==j.scheme||!P(F.authority,j.authority))return;if(F.scheme===n.lg.file){const ne=l.Gf(C(F),C(j));return S.ED?d.ej(ne):ne}let K=F.path||"/";const U=j.path||"/";if(this._ignorePathCasing(F)){let ne=0;for(const N=Math.min(K.length,U.length);ne<N&&(K.charCodeAt(ne)===U.charCodeAt(ne)||K.charAt(ne).toLowerCase()===U.charAt(ne).toLowerCase());ne++);K=U.substr(0,ne)+K.substr(ne)}return l.KR.relative(K,U)}resolvePath(F,j){if(F.scheme===n.lg.file){const K=T.o.file(l.DB(C(F),j));return F.with({authority:K.authority,path:K.path})}return j=d.fn(j),F.with({path:l.KR.resolve(F.path,j)})}isAbsolutePath(F){return!!F.path&&"/"===F.path[0]}isEqualAuthority(F,j){return F===j||void 0!==F&&void 0!==j&&(0,v.qq)(F,j)}hasTrailingPathSeparator(F,j=l.ir){if(F.scheme===n.lg.file){const K=C(F);return K.length>d.yj(K).length&&K[K.length-1]===j}{const K=F.path;return K.length>1&&47===K.charCodeAt(K.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(F.fsPath)}}removeTrailingPathSeparator(F,j=l.ir){return O(F,j)?F.with({path:F.path.substr(0,F.path.length-1)}):F}addTrailingPathSeparator(F,j=l.ir){let K=!1;if(F.scheme===n.lg.file){const U=C(F);K=void 0!==U&&U.length===d.yj(U).length&&U[U.length-1]===j}else{j="/";const U=F.path;K=1===U.length&&47===U.charCodeAt(U.length-1)}return K||O(F,j)?F:F.with({path:F.path+"/"})}}const L=new E(()=>!1),m=(new E(k=>k.scheme!==n.lg.file||!S.IJ),new E(k=>!0),L.isEqual.bind(L)),a=(L.isEqualOrParent.bind(L),L.getComparisonKey.bind(L),L.basenameOrAuthority.bind(L)),p=L.basename.bind(L),u=L.extname.bind(L),g=L.dirname.bind(L),b=L.joinPath.bind(L),y=L.normalizePath.bind(L),w=L.relativePath.bind(L),D=L.resolvePath.bind(L),P=(L.isAbsolutePath.bind(L),L.isEqualAuthority.bind(L)),O=L.hasTrailingPathSeparator.bind(L);var z,k;L.removeTrailingPathSeparator.bind(L),L.addTrailingPathSeparator.bind(L),(k=z||(z={})).META_DATA_LABEL="label",k.META_DATA_DESCRIPTION="description",k.META_DATA_SIZE="size",k.META_DATA_MIME="mime",k.parseMetaData=function F(j){const K=new Map;j.path.substring(j.path.indexOf(";")+1,j.path.lastIndexOf(";")).split(";").forEach(N=>{const[W,Z]=N.split(":");W&&Z&&K.set(W,Z)});const ne=j.path.substring(0,j.path.indexOf(";"));return ne&&K.set(k.META_DATA_MIME,ne),K}},87188:(Dt,Y,e)=>{"use strict";e.d(Y,{Rm:()=>S});var d=e(3778),n=e(80142);class l{constructor(m,c,t,a,p,u,g){this._forceIntegerValues=m,this._scrollStateBrand=void 0,this._forceIntegerValues&&(c|=0,t|=0,a|=0,p|=0,u|=0,g|=0),this.rawScrollLeft=a,this.rawScrollTop=g,c<0&&(c=0),a+c>t&&(a=t-c),a<0&&(a=0),p<0&&(p=0),g+p>u&&(g=u-p),g<0&&(g=0),this.width=c,this.scrollWidth=t,this.scrollLeft=a,this.height=p,this.scrollHeight=u,this.scrollTop=g}equals(m){return this.rawScrollLeft===m.rawScrollLeft&&this.rawScrollTop===m.rawScrollTop&&this.width===m.width&&this.scrollWidth===m.scrollWidth&&this.scrollLeft===m.scrollLeft&&this.height===m.height&&this.scrollHeight===m.scrollHeight&&this.scrollTop===m.scrollTop}withScrollDimensions(m,c){return new l(this._forceIntegerValues,typeof m.width<"u"?m.width:this.width,typeof m.scrollWidth<"u"?m.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof m.height<"u"?m.height:this.height,typeof m.scrollHeight<"u"?m.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(m){return new l(this._forceIntegerValues,this.width,this.scrollWidth,typeof m.scrollLeft<"u"?m.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof m.scrollTop<"u"?m.scrollTop:this.rawScrollTop)}createScrollEvent(m,c){return{inSmoothScrolling:c,oldWidth:m.width,oldScrollWidth:m.scrollWidth,oldScrollLeft:m.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:m.height,oldScrollHeight:m.scrollHeight,oldScrollTop:m.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==m.width,scrollWidthChanged:this.scrollWidth!==m.scrollWidth,scrollLeftChanged:this.scrollLeft!==m.scrollLeft,heightChanged:this.height!==m.height,scrollHeightChanged:this.scrollHeight!==m.scrollHeight,scrollTopChanged:this.scrollTop!==m.scrollTop}}}class S extends n.JT{constructor(m){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new d.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=m.smoothScrollDuration,this._scheduleAtNextAnimationFrame=m.scheduleAtNextAnimationFrame,this._state=new l(m.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(m){this._smoothScrollDuration=m}validateScrollPosition(m){return this._state.withScrollPosition(m)}getScrollDimensions(){return this._state}setScrollDimensions(m,c){var t;const a=this._state.withScrollDimensions(m,c);this._setState(a,Boolean(this._smoothScrolling)),null===(t=this._smoothScrolling)||void 0===t||t.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(m){const c=this._state.withScrollPosition(m);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(m,c){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(m);if(this._smoothScrolling){const t=this._state.withScrollPosition(m={scrollLeft:typeof m.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:m.scrollLeft,scrollTop:typeof m.scrollTop>"u"?this._smoothScrolling.to.scrollTop:m.scrollTop});if(this._smoothScrolling.to.scrollLeft===t.scrollLeft&&this._smoothScrolling.to.scrollTop===t.scrollTop)return;let a;a=c?new E(this._smoothScrolling.from,t,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,t,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=a}else{const t=this._state.withScrollPosition(m);this._smoothScrolling=E.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const m=this._smoothScrolling.tick(),c=this._state.withScrollPosition(m);if(this._setState(c,!0),this._smoothScrolling){if(m.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(m,c){const t=this._state;t.equals(m)||(this._state=m,this._onScroll.fire(this._state.createScrollEvent(t,c)))}}class v{constructor(m,c,t){this.scrollLeft=m,this.scrollTop=c,this.isDone=t}}function T(s,m){const c=m-s;return function(t){return s+c*function _(s){return 1-function L(s){return Math.pow(s,3)}(1-s)}(t)}}class E{constructor(m,c,t,a){this.from=m,this.to=c,this.duration=a,this.startTime=t,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(m,c,t){if(Math.abs(m-c)>2.5*t){let p,u;return m<c?(p=m+.75*t,u=c-.75*t):(p=m-.75*t,u=c+.75*t),function C(s,m,c){return function(t){return t<c?s(t/c):m((t-c)/(1-c))}}(T(m,p),T(u,c),.33)}return T(m,c)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(m){this.to=m.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(m){const c=(m-this.startTime)/this.duration;if(c<1){const t=this.scrollLeft(c),a=this.scrollTop(c);return new v(t,a,!1)}return new v(this.to.scrollLeft,this.to.scrollTop,!0)}combine(m,c,t){return E.start(m,c,t)}static start(m,c,t){t+=10;const a=Date.now()-10;return new E(m,c,a,t)}}},50819:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>l});var d=e(73879),n=(()=>{return(S=n||(n={}))[S.Ignore=0]="Ignore",S[S.Info=1]="Info",S[S.Warning=2]="Warning",S[S.Error=3]="Error",n;var S})();!function(S){const v="error",T="warning",E="info";S.fromValue=function _(m){return m?d.qq(v,m)?S.Error:d.qq(T,m)||d.qq("warn",m)?S.Warning:d.qq(E,m)?S.Info:S.Ignore:S.Ignore},S.toString=function s(m){switch(m){case S.Error:return v;case S.Warning:return T;case S.Info:return E;default:return"ignore"}}}(n||(n={}));const l=n},631:(Dt,Y,e)=>{"use strict";e.d(Y,{G:()=>l});var d=e(8841);const n=d.li.performance&&"function"==typeof d.li.performance.now;class l{constructor(v){this._highResolution=n&&v,this._startTime=this._now(),this._stopTime=-1}static create(v=!0){return new l(v)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?d.li.performance.now():Date.now()}}},73879:(Dt,Y,e)=>{"use strict";e.d(Y,{$i:()=>Se,B4:()=>ve,C8:()=>de,GF:()=>t,HO:()=>we,IO:()=>a,J_:()=>Ee,K7:()=>Me,Kw:()=>ze,LC:()=>g,Mh:()=>F,P1:()=>j,PJ:()=>ce,Qe:()=>Ie,R1:()=>c,T5:()=>O,TT:()=>D,Ut:()=>Ne,V8:()=>b,W1:()=>ge,WU:()=>T,YK:()=>U,YU:()=>C,ZG:()=>K,ZH:()=>N,ZK:()=>he,ab:()=>me,c1:()=>ke,df:()=>H,ec:()=>E,fy:()=>L,j3:()=>_,j_:()=>P,m5:()=>S,mK:()=>V,mr:()=>p,oH:()=>Lt,oL:()=>s,ok:()=>k,ow:()=>y,qq:()=>z,qu:()=>w,rL:()=>ne,uS:()=>Ue,un:()=>m,uq:()=>u,vH:()=>M,vU:()=>le,zY:()=>x});var l,d=e(71664),n=e(27386);function S(Q){return!Q||"string"!=typeof Q||0===Q.trim().length}const v=/{(\d+)}/g;function T(Q,...Ce){return 0===Ce.length?Q:Q.replace(v,function(Pe,dt){const st=parseInt(dt,10);return isNaN(st)||st<0||st>=Ce.length?Pe:Ce[st]})}function C(Q){return Q.replace(/[<>&]/g,function(Ce){switch(Ce){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ce}})}function E(Q){return Q.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function L(Q,Ce=" "){return s(_(Q,Ce),Ce)}function _(Q,Ce){if(!Q||!Ce)return Q;const Pe=Ce.length;if(0===Pe||0===Q.length)return Q;let dt=0;for(;Q.indexOf(Ce,dt)===dt;)dt+=Pe;return Q.substring(dt)}function s(Q,Ce){if(!Q||!Ce)return Q;const Pe=Ce.length,dt=Q.length;if(0===Pe||0===dt)return Q;let st=dt,qe=-1;for(;qe=Q.lastIndexOf(Ce,st-1),-1!==qe&&qe+Pe===st;){if(0===qe)return"";st=qe}return Q.substring(0,st)}function m(Q){return Q.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function c(Q){return Q.replace(/\*/g,"")}function t(Q,Ce,Pe={}){if(!Q)throw new Error("Cannot create regex from empty string");Ce||(Q=E(Q)),Pe.wholeWord&&(/\B/.test(Q.charAt(0))||(Q="\\b"+Q),/\B/.test(Q.charAt(Q.length-1))||(Q+="\\b"));let dt="";return Pe.global&&(dt+="g"),Pe.matchCase||(dt+="i"),Pe.multiline&&(dt+="m"),Pe.unicode&&(dt+="u"),new RegExp(Q,dt)}function a(Q){return"^"!==Q.source&&"^$"!==Q.source&&"$"!==Q.source&&"^\\s*$"!==Q.source&&!(!Q.exec("")||0!==Q.lastIndex)}function p(Q){return(Q.global?"g":"")+(Q.ignoreCase?"i":"")+(Q.multiline?"m":"")+(Q.unicode?"u":"")}function u(Q){return Q.split(/\r\n|\r|\n/)}function g(Q){for(let Ce=0,Pe=Q.length;Ce<Pe;Ce++){const dt=Q.charCodeAt(Ce);if(32!==dt&&9!==dt)return Ce}return-1}function b(Q,Ce=0,Pe=Q.length){for(let dt=Ce;dt<Pe;dt++){const st=Q.charCodeAt(dt);if(32!==st&&9!==st)return Q.substring(Ce,dt)}return Q.substring(Ce,Pe)}function y(Q,Ce=Q.length-1){for(let Pe=Ce;Pe>=0;Pe--){const dt=Q.charCodeAt(Pe);if(32!==dt&&9!==dt)return Pe}return-1}function w(Q,Ce){return Q<Ce?-1:Q>Ce?1:0}function D(Q,Ce,Pe=0,dt=Q.length,st=0,qe=Ce.length){for(;Pe<dt&&st<qe;Pe++,st++){const vt=Q.charCodeAt(Pe),mt=Ce.charCodeAt(st);if(vt<mt)return-1;if(vt>mt)return 1}const Qe=dt-Pe,et=qe-st;return Qe<et?-1:Qe>et?1:0}function x(Q,Ce){return P(Q,Ce,0,Q.length,0,Ce.length)}function P(Q,Ce,Pe=0,dt=Q.length,st=0,qe=Ce.length){for(;Pe<dt&&st<qe;Pe++,st++){let vt=Q.charCodeAt(Pe),mt=Ce.charCodeAt(st);if(vt===mt)continue;if(vt>=128||mt>=128)return D(Q.toLowerCase(),Ce.toLowerCase(),Pe,dt,st,qe);V(vt)&&(vt-=32),V(mt)&&(mt-=32);const _t=vt-mt;if(0!==_t)return _t}const Qe=dt-Pe,et=qe-st;return Qe<et?-1:Qe>et?1:0}function O(Q){return Q>=48&&Q<=57}function V(Q){return Q>=97&&Q<=122}function H(Q){return Q>=65&&Q<=90}function z(Q,Ce){return Q.length===Ce.length&&0===P(Q,Ce)}function k(Q,Ce){return!(Ce.length>Q.length)&&0===P(Q,Ce,0,Ce.length)}function F(Q,Ce){const Pe=Math.min(Q.length,Ce.length);let dt;for(dt=0;dt<Pe;dt++)if(Q.charCodeAt(dt)!==Ce.charCodeAt(dt))return dt;return Pe}function j(Q,Ce){const Pe=Math.min(Q.length,Ce.length);let dt;const st=Q.length-1,qe=Ce.length-1;for(dt=0;dt<Pe;dt++)if(Q.charCodeAt(st-dt)!==Ce.charCodeAt(qe-dt))return dt;return Pe}function K(Q){return 55296<=Q&&Q<=56319}function U(Q){return 56320<=Q&&Q<=57343}function ne(Q,Ce){return Ce-56320+(Q-55296<<10)+65536}function N(Q,Ce,Pe){const dt=Q.charCodeAt(Pe);if(K(dt)&&Pe+1<Ce){const st=Q.charCodeAt(Pe+1);if(U(st))return ne(dt,st)}return dt}class Z{constructor(Ce,Pe=0){this._str=Ce,this._len=Ce.length,this._offset=Pe}get offset(){return this._offset}setOffset(Ce){this._offset=Ce}prevCodePoint(){const Ce=function W(Q,Ce){const Pe=Q.charCodeAt(Ce-1);if(U(Pe)&&Ce>1){const dt=Q.charCodeAt(Ce-2);if(K(dt))return ne(dt,Pe)}return Pe}(this._str,this._offset);return this._offset-=Ce>=65536?2:1,Ce}nextCodePoint(){const Ce=N(this._str,this._len,this._offset);return this._offset+=Ce>=65536?2:1,Ce}eol(){return this._offset>=this._len}}class ge{constructor(Ce,Pe=0){this._iterator=new Z(Ce,Pe)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Ce=tt.getInstance(),Pe=this._iterator,dt=Pe.offset;let st=Ce.getGraphemeBreakType(Pe.nextCodePoint());for(;!Pe.eol();){const qe=Pe.offset,Qe=Ce.getGraphemeBreakType(Pe.nextCodePoint());if(Ve(st,Qe)){Pe.setOffset(qe);break}st=Qe}return Pe.offset-dt}prevGraphemeLength(){const Ce=tt.getInstance(),Pe=this._iterator,dt=Pe.offset;let st=Ce.getGraphemeBreakType(Pe.prevCodePoint());for(;Pe.offset>0;){const qe=Pe.offset,Qe=Ce.getGraphemeBreakType(Pe.prevCodePoint());if(Ve(Qe,st)){Pe.setOffset(qe);break}st=Qe}return dt-Pe.offset}eol(){return this._iterator.eol()}}function M(Q,Ce){return new ge(Q,Ce).nextGraphemeLength()}function we(Q,Ce){return new ge(Q,Ce).prevGraphemeLength()}function Ee(Q,Ce){Ce>0&&U(Q.charCodeAt(Ce))&&Ce--;const Pe=Ce+M(Q,Ce);return[Pe-we(Q,Pe),Pe]}const xe=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Ne(Q){return xe.test(Q)}const oe=/^[\t\n\r\x20-\x7E]*$/;function Se(Q){return oe.test(Q)}const Ie=/[\u2028\u2029]/;function me(Q){return Ie.test(Q)}function Me(Q){return Q>=11904&&Q<=55215||Q>=63744&&Q<=64255||Q>=65281&&Q<=65374}function de(Q){return Q>=127462&&Q<=127487||8986===Q||8987===Q||9200===Q||9203===Q||Q>=9728&&Q<=10175||11088===Q||11093===Q||Q>=127744&&Q<=128591||Q>=128640&&Q<=128764||Q>=128992&&Q<=129008||Q>=129280&&Q<=129535||Q>=129648&&Q<=129782}const ke=String.fromCharCode(65279);function Ue(Q){return!!(Q&&Q.length>0&&65279===Q.charCodeAt(0))}function ze(Q,Ce=!1){return!!Q&&(Ce&&(Q=Q.replace(/\\./g,"")),Q.toLowerCase()!==Q)}function ce(Q){return Q%=52,String.fromCharCode(Q<26?97+Q:65+Q-26)}function Ve(Q,Ce){return 0===Q?5!==Ce&&7!==Ce:!(2===Q&&3===Ce||4!==Q&&2!==Q&&3!==Q&&4!==Ce&&2!==Ce&&3!==Ce&&(8===Q&&(8===Ce||9===Ce||11===Ce||12===Ce)||(11===Q||9===Q)&&(9===Ce||10===Ce)||(12===Q||10===Q)&&10===Ce||5===Ce||13===Ce||7===Ce||1===Q||13===Q&&14===Ce||6===Q&&6===Ce))}let tt=(()=>{class Q{constructor(){this._data=function Ct(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}static getInstance(){return Q._INSTANCE||(Q._INSTANCE=new Q),Q._INSTANCE}getGraphemeBreakType(Pe){if(Pe<32)return 10===Pe?3:13===Pe?2:4;if(Pe<127)return 0;const dt=this._data,st=dt.length/3;let qe=1;for(;qe<=st;)if(Pe<dt[3*qe])qe*=2;else{if(!(Pe>dt[3*qe+1]))return dt[3*qe+2];qe=2*qe+1}return 0}}return Q._INSTANCE=null,Q})();function Lt(Q,Ce){if(0===Q)return 0;const Pe=function $e(Q,Ce){const Pe=new Z(Ce,Q);let dt=Pe.prevCodePoint();for(;ae(dt)||65039===dt||8419===dt;){if(0===Pe.offset)return;dt=Pe.prevCodePoint()}if(!de(dt))return;let st=Pe.offset;return st>0&&8205===Pe.prevCodePoint()&&(st=Pe.offset),st}(Q,Ce);if(void 0!==Pe)return Pe;const dt=new Z(Ce,Q);return dt.prevCodePoint(),dt.offset}function ae(Q){return 127995<=Q&&Q<=127999}const ve="\xa0";class he{constructor(Ce){this.confusableDictionary=Ce}static getInstance(Ce){return he.cache.get(Array.from(Ce))}static getLocales(){return he._locales.getValue()}isAmbiguous(Ce){return this.confusableDictionary.has(Ce)}getPrimaryConfusable(Ce){return this.confusableDictionary.get(Ce)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}l=he,he.ambiguousCharacterData=new n.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),he.cache=new d.t(Q=>{function Ce(mt){const _t=new Map;for(let $t=0;$t<mt.length;$t+=2)_t.set(mt[$t],mt[$t+1]);return _t}function dt(mt,_t){if(!mt)return _t;const $t=new Map;for(const[Bt,Ke]of mt)_t.has(Bt)&&$t.set(Bt,Ke);return $t}const st=l.ambiguousCharacterData.getValue();let Qe,qe=Q.filter(mt=>!mt.startsWith("_")&&mt in st);0===qe.length&&(qe=["_default"]);for(const mt of qe)Qe=dt(Qe,Ce(st[mt]));const vt=function Pe(mt,_t){const $t=new Map(mt);for(const[Bt,Ke]of _t)$t.set(Bt,Ke);return $t}(Ce(st._common),Qe);return new he(vt)}),he._locales=new n.o(()=>Object.keys(he.ambiguousCharacterData.getValue()).filter(Q=>!Q.startsWith("_")));class le{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(le.getRawData())),this._data}static isInvisibleCharacter(Ce){return le.getData().has(Ce)}static get codePoints(){return le.getData()}}le._data=void 0},72715:(Dt,Y,e)=>{"use strict";function d(w){return Array.isArray(w)}function n(w){return"string"==typeof w}function l(w){return!("object"!=typeof w||null===w||Array.isArray(w)||w instanceof RegExp||w instanceof Date)}function S(w){const D=Object.getPrototypeOf(Uint8Array);return"object"==typeof w&&w instanceof D}function v(w){return"number"==typeof w&&!isNaN(w)}function T(w){return!!w&&"function"==typeof w[Symbol.iterator]}function C(w){return!0===w||!1===w}function E(w){return typeof w>"u"}function L(w){return!_(w)}function _(w){return E(w)||null===w}function s(w,D){if(!w)throw new Error(D?`Unexpected type, expected '${D}'`:"Unexpected type")}function m(w){if(_(w))throw new Error("Assertion Failed: argument is undefined or null");return w}function c(w){return"function"==typeof w}function t(w,D){const x=Math.min(w.length,D.length);for(let P=0;P<x;P++)a(w[P],D[P])}function a(w,D){if(n(D)){if(typeof w!==D)throw new Error(`argument does not match constraint: typeof ${D}`)}else if(c(D)){try{if(w instanceof D)return}catch{}if(!_(w)&&w.constructor===D||1===D.length&&!0===D.call(void 0,w))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function u(w){const D=[];for(const x of function p(w){let D=[],x=Object.getPrototypeOf(w);for(;Object.prototype!==x;)D=D.concat(Object.getOwnPropertyNames(x)),x=Object.getPrototypeOf(x);return D}(w))"function"==typeof w[x]&&D.push(x);return D}function g(w,D){const x=O=>function(){const V=Array.prototype.slice.call(arguments,0);return D(O,V)},P={};for(const O of w)P[O]=x(O);return P}function b(w){return null===w?void 0:w}function y(w,D="Unreachable"){throw new Error(D)}e.d(Y,{$E:()=>u,$K:()=>L,D8:()=>t,HD:()=>n,IU:()=>g,Jp:()=>_,Kn:()=>l,Nf:()=>a,TW:()=>T,cW:()=>m,f6:()=>b,fU:()=>S,hj:()=>v,jn:()=>C,kJ:()=>d,mf:()=>c,o8:()=>E,p_:()=>s,vE:()=>y})},48071:(Dt,Y,e)=>{"use strict";function d(l){return l<0?0:l>255?255:0|l}function n(l){return l<0?0:l>4294967295?4294967295:0|l}e.d(Y,{A:()=>n,K:()=>d})},59547:(Dt,Y,e)=>{"use strict";e.d(Y,{o:()=>m,q:()=>g});var d=e(61283),n=e(8841);const l=/^\w[\w\d+.-]*$/,S=/^\//,v=/^\/\//;function T(x,P){if(!x.scheme&&P)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${x.authority}", path: "${x.path}", query: "${x.query}", fragment: "${x.fragment}"}`);if(x.scheme&&!l.test(x.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(x.path)if(x.authority){if(!S.test(x.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(x.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const L="",_="/",s=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{constructor(P,O,V,H,z,k=!1){"object"==typeof P?(this.scheme=P.scheme||L,this.authority=P.authority||L,this.path=P.path||L,this.query=P.query||L,this.fragment=P.fragment||L):(this.scheme=function C(x,P){return x||P?x:"file"}(P,k),this.authority=O||L,this.path=function E(x,P){switch(x){case"https":case"http":case"file":P?P[0]!==_&&(P=_+P):P=_}return P}(this.scheme,V||L),this.query=H||L,this.fragment=z||L,T(this,k))}static isUri(P){return P instanceof m||!!P&&"string"==typeof P.authority&&"string"==typeof P.fragment&&"string"==typeof P.path&&"string"==typeof P.query&&"string"==typeof P.scheme&&"string"==typeof P.fsPath&&"function"==typeof P.with&&"function"==typeof P.toString}get fsPath(){return g(this,!1)}with(P){if(!P)return this;let{scheme:O,authority:V,path:H,query:z,fragment:k}=P;return void 0===O?O=this.scheme:null===O&&(O=L),void 0===V?V=this.authority:null===V&&(V=L),void 0===H?H=this.path:null===H&&(H=L),void 0===z?z=this.query:null===z&&(z=L),void 0===k?k=this.fragment:null===k&&(k=L),O===this.scheme&&V===this.authority&&H===this.path&&z===this.query&&k===this.fragment?this:new t(O,V,H,z,k)}static parse(P,O=!1){const V=s.exec(P);return V?new t(V[2]||L,D(V[4]||L),D(V[5]||L),D(V[7]||L),D(V[9]||L),O):new t(L,L,L,L,L)}static file(P){let O=L;if(n.ED&&(P=P.replace(/\\/g,_)),P[0]===_&&P[1]===_){const V=P.indexOf(_,2);-1===V?(O=P.substring(2),P=_):(O=P.substring(2,V),P=P.substring(V)||_)}return new t("file",O,P,L,L)}static from(P){const O=new t(P.scheme,P.authority,P.path,P.query,P.fragment);return T(O,!0),O}static joinPath(P,...O){if(!P.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let V;return V=n.ED&&"file"===P.scheme?m.file(d.Ku.join(g(P,!0),...O)).path:d.KR.join(P.path,...O),P.with({path:V})}toString(P=!1){return b(this,P)}toJSON(){return this}static revive(P){if(P){if(P instanceof m)return P;{const O=new t(P);return O._formatted=P.external,O._fsPath=P._sep===c?P.fsPath:null,O}}return P}}const c=n.ED?1:void 0;class t extends m{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=g(this,!1)),this._fsPath}toString(P=!1){return P?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const P={$mid:1};return this._fsPath&&(P.fsPath=this._fsPath,P._sep=c),this._formatted&&(P.external=this._formatted),this.path&&(P.path=this.path),this.scheme&&(P.scheme=this.scheme),this.authority&&(P.authority=this.authority),this.query&&(P.query=this.query),this.fragment&&(P.fragment=this.fragment),P}}const a={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p(x,P){let O,V=-1;for(let H=0;H<x.length;H++){const z=x.charCodeAt(H);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||45===z||46===z||95===z||126===z||P&&47===z)-1!==V&&(O+=encodeURIComponent(x.substring(V,H)),V=-1),void 0!==O&&(O+=x.charAt(H));else{void 0===O&&(O=x.substr(0,H));const k=a[z];void 0!==k?(-1!==V&&(O+=encodeURIComponent(x.substring(V,H)),V=-1),O+=k):-1===V&&(V=H)}}return-1!==V&&(O+=encodeURIComponent(x.substring(V))),void 0!==O?O:x}function u(x){let P;for(let O=0;O<x.length;O++){const V=x.charCodeAt(O);35===V||63===V?(void 0===P&&(P=x.substr(0,O)),P+=a[V]):void 0!==P&&(P+=x[O])}return void 0!==P?P:x}function g(x,P){let O;return O=x.authority&&x.path.length>1&&"file"===x.scheme?`//${x.authority}${x.path}`:47===x.path.charCodeAt(0)&&(x.path.charCodeAt(1)>=65&&x.path.charCodeAt(1)<=90||x.path.charCodeAt(1)>=97&&x.path.charCodeAt(1)<=122)&&58===x.path.charCodeAt(2)?P?x.path.substr(1):x.path[1].toLowerCase()+x.path.substr(2):x.path,n.ED&&(O=O.replace(/\//g,"\\")),O}function b(x,P){const O=P?u:p;let V="",{scheme:H,authority:z,path:k,query:F,fragment:j}=x;if(H&&(V+=H,V+=":"),(z||"file"===H)&&(V+=_,V+=_),z){let K=z.indexOf("@");if(-1!==K){const U=z.substr(0,K);z=z.substr(K+1),K=U.indexOf(":"),-1===K?V+=O(U,!1):(V+=O(U.substr(0,K),!1),V+=":",V+=O(U.substr(K+1),!1)),V+="@"}z=z.toLowerCase(),K=z.indexOf(":"),-1===K?V+=O(z,!1):(V+=O(z.substr(0,K),!1),V+=z.substr(K))}if(k){if(k.length>=3&&47===k.charCodeAt(0)&&58===k.charCodeAt(2)){const K=k.charCodeAt(1);K>=65&&K<=90&&(k=`/${String.fromCharCode(K+32)}:${k.substr(3)}`)}else if(k.length>=2&&58===k.charCodeAt(1)){const K=k.charCodeAt(0);K>=65&&K<=90&&(k=`${String.fromCharCode(K+32)}:${k.substr(2)}`)}V+=O(k,!0)}return F&&(V+="?",V+=O(F,!1)),j&&(V+="#",V+=P?j:p(j,!1)),V}function y(x){try{return decodeURIComponent(x)}catch{return x.length>3?x.substr(0,3)+y(x.substr(3)):x}}const w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function D(x){return x.match(w)?x.replace(w,P=>y(P)):x}},15067:(Dt,Y,e)=>{"use strict";e.d(Y,{R:()=>d});const d=function(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let n;n="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(v){for(let T=0;T<v.length;T++)v[T]=Math.floor(256*Math.random());return v};const l=new Uint8Array(16),S=[];for(let v=0;v<256;v++)S.push(v.toString(16).padStart(2,"0"));return function(){n(l),l[6]=15&l[6]|64,l[8]=63&l[8]|128;let T=0,C="";return C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C}}()},50342:(Dt,Y,e)=>{"use strict";e.d(Y,{O:()=>be});var d=e(98463),n=e(41140),l=e(65065),S=e(62922),v=e(97139),T=e(69355),C=e(3778),E=e(80142),L=e(6276),_=e(57856),s=e.n(_),m=e(38470),c=e.n(m),t=e(43370),a=e.n(t),p=e(28458),u=e.n(p),g=e(71278),b=e.n(g),y=e(29488),w=e.n(y),D=e(91169),x={};x.styleTagTransform=w(),x.setAttributes=u(),x.insert=a().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=b(),s()(D.Z,x);const V={buttonBackground:T.Il.fromHex("#0E639C"),buttonHoverBackground:T.Il.fromHex("#006BB3"),buttonSeparator:T.Il.white,buttonForeground:T.Il.white};class H extends E.JT{constructor(Fe,nt){super(),this._onDidClick=this._register(new C.Q5),this.options=nt||Object.create(null),(0,L.jB)(this.options,V,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),Fe.appendChild(this._element),this._register(S.o.addTarget(this._element)),[d.tw.CLICK,S.t.Tap].forEach(bt=>{this._register((0,d.nm)(this._element,bt,Ut=>{this.enabled?this._onDidClick.fire(Ut):d.zB.stop(Ut)}))}),this._register((0,d.nm)(this._element,d.tw.KEY_DOWN,bt=>{const Ut=new n.y(bt);let vn=!1;this.enabled&&(Ut.equals(3)||Ut.equals(10))?(this._onDidClick.fire(bt),vn=!0):Ut.equals(9)&&(this._element.blur(),vn=!0),vn&&d.zB.stop(Ut,!0)})),this._register((0,d.nm)(this._element,d.tw.MOUSE_OVER,bt=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,d.nm)(this._element,d.tw.MOUSE_OUT,bt=>{this.applyStyles()})),this.focusTracker=this._register((0,d.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let Fe;Fe=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,Fe&&(this._element.style.backgroundColor=Fe)}style(Fe){this.buttonForeground=Fe.buttonForeground,this.buttonBackground=Fe.buttonBackground,this.buttonHoverBackground=Fe.buttonHoverBackground,this.buttonSecondaryForeground=Fe.buttonSecondaryForeground,this.buttonSecondaryBackground=Fe.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=Fe.buttonSecondaryHoverBackground,this.buttonBorder=Fe.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let Fe,nt;this.options.secondary?(nt=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",Fe=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(nt=this.buttonForeground?this.buttonForeground.toString():"",Fe=this.buttonBackground?this.buttonBackground.toString():"");const bt=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=nt,this._element.style.backgroundColor=Fe,this._element.style.borderWidth=bt?"1px":"",this._element.style.borderStyle=bt?"solid":"",this._element.style.borderColor=bt}}get element(){return this._element}set label(Fe){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,d.mc)(this._element,...(0,v.T)(Fe)):this._element.textContent=Fe,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=Fe)}set enabled(Fe){Fe?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var z=e(30535),k=e(24738),F=e(827),j=e(64023),K=e(48648),U=e(73888),ne=e(58783),N=e(8841),W=e(50819),Z=e(72715),ge=e(84575),M=e(41015),we={};we.styleTagTransform=w(),we.setAttributes=u(),we.insert=a().bind(null,"head"),we.domAPI=c(),we.insertStyleElement=b(),s()(M.Z,we);const Ne={},oe=new ge.R("quick-input-button-icon-");function Se(Je){if(!Je)return;let Fe;const nt=Je.dark.toString();return Ne[nt]?Fe=Ne[nt]:(Fe=oe.nextId(),d.fk(`.${Fe}, .hc-light .${Fe}`,`background-image: ${d.wY(Je.light||Je.dark)}`),d.fk(`.vs-dark .${Fe}, .hc-black .${Fe}`,`background-image: ${d.wY(Je.dark)}`),Ne[nt]=Fe),Fe}var Ie=e(39263),me=e(55197),Me=e(97340),de=e(1689);const ke=d.$;class Ue extends E.JT{constructor(Fe){super(),this.parent=Fe,this.onKeyDown=nt=>d.nm(this.inputBox.inputElement,d.tw.KEY_DOWN,bt=>{nt(new n.y(bt))}),this.onMouseDown=nt=>d.nm(this.inputBox.inputElement,d.tw.MOUSE_DOWN,bt=>{nt(new Me.n(bt))}),this.onDidChange=nt=>this.inputBox.onDidChange(nt),this.container=d.R3(this.parent,ke(".quick-input-box")),this.inputBox=this._register(new de.W(this.container,void 0))}get value(){return this.inputBox.value}set value(Fe){this.inputBox.value=Fe}select(Fe=null){this.inputBox.select(Fe)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(Fe){this.inputBox.setPlaceHolder(Fe)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(Fe){this.inputBox.setAriaLabel(Fe)}get password(){return"password"===this.inputBox.inputElement.type}set password(Fe){this.inputBox.inputElement.type=Fe?"password":"text"}setAttribute(Fe,nt){this.inputBox.inputElement.setAttribute(Fe,nt)}removeAttribute(Fe){this.inputBox.inputElement.removeAttribute(Fe)}showDecoration(Fe){Fe===W.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:Fe===W.Z.Info?1:Fe===W.Z.Warning?2:3,content:""})}stylesForType(Fe){return this.inputBox.stylesForType(Fe===W.Z.Info?1:Fe===W.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(Fe){this.inputBox.style(Fe)}}var ze=e(80757),ce=e(11719),Ve=e(30333),tt={};tt.styleTagTransform=w(),tt.setAttributes=u(),tt.insert=a().bind(null,"head"),tt.domAPI=c(),tt.insertStyleElement=b(),s()(Ve.Z,tt);const $e=d.$;class ae{constructor(Fe,nt,bt){this.os=nt,this.keyElements=new Set,this.options=bt||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=d.R3(Fe,$e(".monaco-keybinding")),this.didEverRender=!1,Fe.appendChild(this.domNode)}get element(){return this.domNode}set(Fe,nt){this.didEverRender&&this.keybinding===Fe&&ae.areSame(this.matches,nt)||(this.keybinding=Fe,this.matches=nt,this.render())}render(){if(this.clear(),this.keybinding){const[Fe,nt]=this.keybinding.getParts();Fe&&this.renderPart(this.domNode,Fe,this.matches?this.matches.firstPart:null),nt&&(d.R3(this.domNode,$e("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,nt,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){d.PO(this.domNode),this.keyElements.clear()}renderPart(Fe,nt,bt){const Ut=ce.xo.modifierLabels[this.os];nt.ctrlKey&&this.renderKey(Fe,Ut.ctrlKey,Boolean(bt?.ctrlKey),Ut.separator),nt.shiftKey&&this.renderKey(Fe,Ut.shiftKey,Boolean(bt?.shiftKey),Ut.separator),nt.altKey&&this.renderKey(Fe,Ut.altKey,Boolean(bt?.altKey),Ut.separator),nt.metaKey&&this.renderKey(Fe,Ut.metaKey,Boolean(bt?.metaKey),Ut.separator);const vn=nt.keyLabel;vn&&this.renderKey(Fe,vn,Boolean(bt?.keyCode),"")}renderKey(Fe,nt,bt,Ut){d.R3(Fe,this.createKeyElement(nt,bt?".highlight":"")),Ut&&d.R3(Fe,$e("span.monaco-keybinding-key-separator",void 0,Ut))}renderUnbound(Fe){d.R3(Fe,this.createKeyElement((0,me.NC)("unbound","Unbound")))}createKeyElement(Fe,nt=""){const bt=$e("span.monaco-keybinding-key"+nt,void 0,Fe);return this.keyElements.add(bt),bt}style(Fe){this.labelBackground=Fe.keybindingLabelBackground,this.labelForeground=Fe.keybindingLabelForeground,this.labelBorder=Fe.keybindingLabelBorder,this.labelBottomBorder=Fe.keybindingLabelBottomBorder,this.labelShadow=Fe.keybindingLabelShadow,this.applyStyles()}applyStyles(){var Fe;if(this.element){for(const nt of this.keyElements)this.labelBackground&&(nt.style.backgroundColor=null===(Fe=this.labelBackground)||void 0===Fe?void 0:Fe.toString()),this.labelBorder&&(nt.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(nt.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(nt.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(Fe,nt){return Fe===nt||!Fe&&!nt||!!Fe&&!!nt&&(0,L.fS)(Fe.firstPart,nt.firstPart)&&(0,L.fS)(Fe.chordPart,nt.chordPart)}}const ve=new K.Ue(()=>{const Je=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:Je,collatorIsNumeric:Je.resolvedOptions().numeric}});new K.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new K.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var dt=e(66471),st=e(59882),qe=e(73879),Qe=function(Je,Fe,nt,bt){var Mn,Ut=arguments.length,vn=Ut<3?Fe:null===bt?bt=Object.getOwnPropertyDescriptor(Fe,nt):bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)vn=Reflect.decorate(Je,Fe,nt,bt);else for(var St=Je.length-1;St>=0;St--)(Mn=Je[St])&&(vn=(Ut<3?Mn(vn):Ut>3?Mn(Fe,nt,vn):Mn(Fe,nt))||vn);return Ut>3&&vn&&Object.defineProperty(Fe,nt,vn),vn};const vt=d.$;class mt{constructor(Fe){this.hidden=!1,this._onChecked=new C.Q5,this.onChecked=this._onChecked.event,Object.assign(this,Fe)}get checked(){return!!this._checked}set checked(Fe){Fe!==this._checked&&(this._checked=Fe,this._onChecked.fire(Fe))}dispose(){this._onChecked.dispose()}}let _t=(()=>{class Je{get templateId(){return Je.ID}renderTemplate(nt){const bt=Object.create(null);bt.toDisposeElement=[],bt.toDisposeTemplate=[],bt.entry=d.R3(nt,vt(".quick-input-list-entry"));const Ut=d.R3(bt.entry,vt("label.quick-input-list-label"));bt.toDisposeTemplate.push(d.mu(Ut,d.tw.CLICK,Sn=>{bt.checkbox.offsetParent||Sn.preventDefault()})),bt.checkbox=d.R3(Ut,vt("input.quick-input-list-checkbox")),bt.checkbox.type="checkbox",bt.toDisposeTemplate.push(d.mu(bt.checkbox,d.tw.CHANGE,Sn=>{bt.element.checked=bt.checkbox.checked}));const vn=d.R3(Ut,vt(".quick-input-list-rows")),Mn=d.R3(vn,vt(".quick-input-list-row")),St=d.R3(vn,vt(".quick-input-list-row"));bt.label=new ze.g(Mn,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const gn=d.R3(Mn,vt(".quick-input-list-entry-keybinding"));bt.keybinding=new ae(gn,N.OS);const Vn=d.R3(St,vt(".quick-input-list-label-meta"));return bt.detail=new ze.g(Vn,{supportHighlights:!0,supportIcons:!0}),bt.separator=d.R3(bt.entry,vt(".quick-input-list-separator")),bt.actionBar=new l.o(bt.entry),bt.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),bt.toDisposeTemplate.push(bt.actionBar),bt}renderElement(nt,bt,Ut){Ut.toDisposeElement=(0,E.B9)(Ut.toDisposeElement),Ut.element=nt,Ut.checkbox.checked=nt.checked,Ut.toDisposeElement.push(nt.onChecked(Sn=>Ut.checkbox.checked=Sn));const{labelHighlights:vn,descriptionHighlights:Mn,detailHighlights:St}=nt,gn=Object.create(null);gn.matches=vn||[],gn.descriptionTitle=nt.saneDescription,gn.descriptionMatches=Mn||[],gn.extraClasses=nt.item.iconClasses,gn.italic=nt.item.italic,gn.strikethrough=nt.item.strikethrough,Ut.label.setLabel(nt.saneLabel,nt.saneDescription,gn),Ut.keybinding.set(nt.item.keybinding),nt.saneDetail&&Ut.detail.setLabel(nt.saneDetail,void 0,{matches:St,title:nt.saneDetail}),nt.separator&&nt.separator.label?(Ut.separator.textContent=nt.separator.label,Ut.separator.style.display=""):Ut.separator.style.display="none",Ut.entry.classList.toggle("quick-input-list-separator-border",!!nt.separator),Ut.actionBar.clear();const Vn=nt.item.buttons;Vn&&Vn.length?(Ut.actionBar.push(Vn.map((Sn,Gn)=>{let ci=Sn.iconClass||(Sn.iconPath?Se(Sn.iconPath):void 0);Sn.alwaysVisible&&(ci=ci?`${ci} always-visible`:"always-visible");const ii=new F.aU(`id-${Gn}`,"",ci,!0,()=>function(Je,Fe,nt,bt){return new(nt||(nt=Promise))(function(vn,Mn){function St(Sn){try{Vn(bt.next(Sn))}catch(Gn){Mn(Gn)}}function gn(Sn){try{Vn(bt.throw(Sn))}catch(Gn){Mn(Gn)}}function Vn(Sn){Sn.done?vn(Sn.value):function Ut(vn){return vn instanceof nt?vn:new nt(function(Mn){Mn(vn)})}(Sn.value).then(St,gn)}Vn((bt=bt.apply(Je,Fe||[])).next())})}(this,void 0,void 0,function*(){nt.fireButtonTriggered({button:Sn,item:nt.item})}));return ii.tooltip=Sn.tooltip||"",ii}),{icon:!0,label:!1}),Ut.entry.classList.add("has-actions")):Ut.entry.classList.remove("has-actions")}disposeElement(nt,bt,Ut){Ut.toDisposeElement=(0,E.B9)(Ut.toDisposeElement)}disposeTemplate(nt){nt.toDisposeElement=(0,E.B9)(nt.toDisposeElement),nt.toDisposeTemplate=(0,E.B9)(nt.toDisposeTemplate)}}return Je.ID="listelement",Je})();class $t{getHeight(Fe){return Fe.saneDetail?44:22}getTemplateId(Fe){return _t.ID}}var Bt=(()=>{return(Je=Bt||(Bt={}))[Je.First=1]="First",Je[Je.Second=2]="Second",Je[Je.Last=3]="Last",Je[Je.Next=4]="Next",Je[Je.Previous=5]="Previous",Je[Je.NextPage=6]="NextPage",Je[Je.PreviousPage=7]="PreviousPage",Bt;var Je})();class Ke{constructor(Fe,nt,bt){this.parent=Fe,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new C.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new C.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new C.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new C.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new C.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new C.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new C.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=nt,this.container=d.R3(this.parent,vt(".quick-input-list"));const Ut=new $t,vn=new Dn;this.list=bt.createList("QuickInput",this.container,Ut,[new _t],{identityProvider:{getId:Mn=>Mn.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:vn}),this.list.getHTMLElement().id=nt,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Mn=>{const St=new n.y(Mn);switch(St.keyCode){case 10:this.toggleCheckbox();break;case 31:(N.dz?Mn.metaKey:Mn.ctrlKey)&&this.list.setFocus((0,j.w6)(this.list.length));break;case 16:{const gn=this.list.getFocus();1===gn.length&&0===gn[0]&&this._onLeave.fire();break}case 18:{const gn=this.list.getFocus();1===gn.length&&gn[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(St)})),this.disposables.push(this.list.onMouseDown(Mn=>{2!==Mn.browserEvent.button&&Mn.browserEvent.preventDefault()})),this.disposables.push(d.nm(this.container,d.tw.CLICK,Mn=>{(Mn.x||Mn.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Mn=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Mn=>{"number"==typeof Mn.index&&(Mn.browserEvent.preventDefault(),this.list.setSelection([Mn.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return C.ju.map(this.list.onDidChangeFocus,Fe=>Fe.elements.map(nt=>nt.item))}get onDidChangeSelection(){return C.ju.map(this.list.onDidChangeSelection,Fe=>({items:Fe.elements.map(nt=>nt.item),event:Fe.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(Fe){this.list.scrollTop=Fe}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(Fe,nt=!0){for(let bt=0,Ut=Fe.length;bt<Ut;bt++){const vn=Fe[bt];if(!vn.hidden){if(!vn.checked)return!1;nt=!0}}return nt}getCheckedCount(){let Fe=0;const nt=this.elements;for(let bt=0,Ut=nt.length;bt<Ut;bt++)nt[bt].checked&&Fe++;return Fe}getVisibleCount(){let Fe=0;const nt=this.elements;for(let bt=0,Ut=nt.length;bt<Ut;bt++)nt[bt].hidden||Fe++;return Fe}setAllVisibleChecked(Fe){try{this._fireCheckedEvents=!1,this.elements.forEach(nt=>{nt.hidden||(nt.checked=Fe)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(Fe){this.elementDisposables=(0,E.B9)(this.elementDisposables);const nt=bt=>this.fireButtonTriggered(bt);this.inputElements=Fe,this.elements=Fe.reduce((bt,Ut,vn)=>{var Mn,St,gn;if("separator"!==Ut.type){const Vn=vn&&Fe[vn-1],Sn=Ut.label&&Ut.label.replace(/\r?\n/g," "),Gn=(0,st.Ho)(Sn).text.trim(),ci=Ut.meta&&Ut.meta.replace(/\r?\n/g," "),ii=Ut.description&&Ut.description.replace(/\r?\n/g," "),Ei=Ut.detail&&Ut.detail.replace(/\r?\n/g," "),no=Ut.ariaLabel||[Sn,ii,Ei].map(Co=>(0,ne.JL)(Co)).filter(Co=>!!Co).join(", "),to=this.parent.classList.contains("show-checkboxes");bt.push(new mt({hasCheckbox:to,index:vn,item:Ut,saneLabel:Sn,saneSortLabel:Gn,saneMeta:ci,saneAriaLabel:no,saneDescription:ii,saneDetail:Ei,labelHighlights:null===(Mn=Ut.highlights)||void 0===Mn?void 0:Mn.label,descriptionHighlights:null===(St=Ut.highlights)||void 0===St?void 0:St.description,detailHighlights:null===(gn=Ut.highlights)||void 0===gn?void 0:gn.detail,checked:!1,separator:Vn&&"separator"===Vn.type?Vn:void 0,fireButtonTriggered:nt}))}return bt},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(bt=>bt.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((bt,Ut,vn)=>(bt.set(Ut.item,vn),bt),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(Fe=>Fe.item)}setFocusedElements(Fe){if(this.list.setFocus(Fe.filter(nt=>this.elementsToIndexes.has(nt)).map(nt=>this.elementsToIndexes.get(nt))),Fe.length>0){const nt=this.list.getFocus()[0];"number"==typeof nt&&this.list.reveal(nt)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(Fe){this.list.setSelection(Fe.filter(nt=>this.elementsToIndexes.has(nt)).map(nt=>this.elementsToIndexes.get(nt)))}getCheckedElements(){return this.elements.filter(Fe=>Fe.checked).map(Fe=>Fe.item)}setCheckedElements(Fe){try{this._fireCheckedEvents=!1;const nt=new Set;for(const bt of Fe)nt.add(bt);for(const bt of this.elements)bt.checked=nt.has(bt.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(Fe){this.list.getHTMLElement().style.pointerEvents=Fe?"":"none"}focus(Fe){if(!this.list.length)return;switch(Fe===Bt.Next&&this.list.getFocus()[0]===this.list.length-1&&(Fe=Bt.First),Fe===Bt.Previous&&0===this.list.getFocus()[0]&&(Fe=Bt.Last),Fe===Bt.Second&&this.list.length<2&&(Fe=Bt.First),Fe){case Bt.First:this.list.focusFirst();break;case Bt.Second:this.list.focusNth(1);break;case Bt.Last:this.list.focusLast();break;case Bt.Next:this.list.focusNext();break;case Bt.Previous:this.list.focusPrevious();break;case Bt.NextPage:this.list.focusNextPage();break;case Bt.PreviousPage:this.list.focusPreviousPage()}const nt=this.list.getFocus()[0];"number"==typeof nt&&this.list.reveal(nt)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(Fe){this.list.getHTMLElement().style.maxHeight=Fe?`calc(${44*Math.floor(Fe/44)}px)`:"",this.list.layout()}filter(Fe){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const nt=Fe;if((Fe=Fe.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let Ut;this.elements.forEach(vn=>{let Mn;Mn="fuzzy"===this.matchOnLabelMode?this.matchOnLabel?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneLabel))):void 0:this.matchOnLabel?(0,Z.f6)(function ht(Je,Fe){const{text:nt,iconOffsets:bt}=Fe;if(!bt||0===bt.length)return jt(Je,nt);const Ut=(0,qe.j3)(nt," "),vn=nt.length-Ut.length,Mn=jt(Je,Ut);if(Mn)for(const St of Mn){const gn=bt[St.start+vn]+vn;St.start+=gn,St.end+=gn}return Mn}(nt,(0,st.Ho)(vn.saneLabel))):void 0;const St=this.matchOnDescription?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneDescription||""))):void 0,gn=this.matchOnDetail?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneDetail||""))):void 0,Vn=this.matchOnMeta?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneMeta||""))):void 0;if(Mn||St||gn||Vn?(vn.labelHighlights=Mn,vn.descriptionHighlights=St,vn.detailHighlights=gn,vn.hidden=!1):(vn.labelHighlights=void 0,vn.descriptionHighlights=void 0,vn.detailHighlights=void 0,vn.hidden=!vn.item.alwaysShow),vn.separator=void 0,!this.sortByLabel){const Sn=vn.index&&this.inputElements[vn.index-1];Ut=Sn&&"separator"===Sn.type?Sn:Ut,Ut&&!vn.hidden&&(vn.separator=Ut,Ut=void 0)}})}else this.elements.forEach(Ut=>{Ut.labelHighlights=void 0,Ut.descriptionHighlights=void 0,Ut.detailHighlights=void 0,Ut.hidden=!1;const vn=Ut.index&&this.inputElements[Ut.index-1];Ut.separator=vn&&"separator"===vn.type?vn:void 0});const bt=this.elements.filter(Ut=>!Ut.hidden);if(this.sortByLabel&&Fe){const Ut=Fe.toLowerCase();bt.sort((vn,Mn)=>function fn(Je,Fe,nt){const bt=Je.labelHighlights||[],Ut=Fe.labelHighlights||[];return bt.length&&!Ut.length?-1:!bt.length&&Ut.length?1:0===bt.length&&0===Ut.length?0:function Ce(Je,Fe,nt){const bt=Je.toLowerCase(),Ut=Fe.toLowerCase(),vn=function Pe(Je,Fe,nt){const bt=Je.toLowerCase(),Ut=Fe.toLowerCase(),vn=bt.startsWith(nt),Mn=Ut.startsWith(nt);if(vn!==Mn)return vn?-1:1;if(vn&&Mn){if(bt.length<Ut.length)return-1;if(bt.length>Ut.length)return 1}return 0}(Je,Fe,nt);if(vn)return vn;const Mn=bt.endsWith(nt);if(Mn!==Ut.endsWith(nt))return Mn?-1:1;const gn=function Q(Je,Fe,nt=!1){const bt=Je||"",Ut=Fe||"",vn=ve.value.collator.compare(bt,Ut);return ve.value.collatorIsNumeric&&0===vn&&bt!==Ut?bt<Ut?-1:1:vn}(bt,Ut);return 0!==gn?gn:bt.localeCompare(Ut)}(Je.saneSortLabel,Fe.saneSortLabel,nt)}(vn,Mn,Ut))}return this.elementsToIndexes=bt.reduce((Ut,vn,Mn)=>(Ut.set(vn.item,Mn),Ut),new Map),this.list.splice(0,this.list.length,bt),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(bt.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const Fe=this.list.getFocusedElements(),nt=this.allVisibleChecked(Fe);for(const bt of Fe)bt.checked=!nt}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(Fe){this.container.style.display=Fe?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,E.B9)(this.elementDisposables),this.disposables=(0,E.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(Fe){this._onButtonTriggered.fire(Fe)}style(Fe){this.list.style(Fe)}}function jt(Je,Fe){const nt=Fe.toLowerCase().indexOf(Je.toLowerCase());return-1!==nt?[{start:nt,end:nt+Je.length}]:null}Qe([dt.H],Ke.prototype,"onDidChangeFocus",null),Qe([dt.H],Ke.prototype,"onDidChangeSelection",null);class Dn{getWidgetAriaLabel(){return(0,me.NC)("quickInput","Quick Input")}getAriaLabel(Fe){var nt;return null!==(nt=Fe.separator)&&void 0!==nt&&nt.label?`${Fe.saneAriaLabel}, ${Fe.separator.label}`:Fe.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(Fe){return Fe.hasCheckbox?"checkbox":"option"}isChecked(Fe){if(Fe.hasCheckbox)return{value:Fe.checked,onDidChange:Fe.onChecked}}}var yt=function(Je,Fe,nt,bt){return new(nt||(nt=Promise))(function(vn,Mn){function St(Sn){try{Vn(bt.next(Sn))}catch(Gn){Mn(Gn)}}function gn(Sn){try{Vn(bt.throw(Sn))}catch(Gn){Mn(Gn)}}function Vn(Sn){Sn.done?vn(Sn.value):function Ut(vn){return vn instanceof nt?vn:new nt(function(Mn){Mn(vn)})}(Sn.value).then(St,gn)}Vn((bt=bt.apply(Je,Fe||[])).next())})};const He=d.$,ye={iconClass:ne.lA.quickInputBack.classNames,tooltip:(0,me.NC)("quickInput.back","Back"),handle:-1};class Ae extends E.JT{constructor(Fe){super(),this.ui=Fe,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Ae.noPromptMessage,this._severity=W.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new C.Q5),this.onDidHideEmitter=this._register(new C.Q5),this.onDisposeEmitter=this._register(new C.Q5),this.visibleDisposables=this._register(new E.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(Fe){this._title=Fe,this.update()}get description(){return this._description}set description(Fe){this._description=Fe,this.update()}get step(){return this._steps}set step(Fe){this._steps=Fe,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(Fe){this._totalSteps=Fe,this.update()}get enabled(){return this._enabled}set enabled(Fe){this._enabled=Fe,this.update()}get contextKey(){return this._contextKey}set contextKey(Fe){this._contextKey=Fe,this.update()}get busy(){return this._busy}set busy(Fe){this._busy=Fe,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(Fe){const nt=this._ignoreFocusOut!==Fe&&!N.gn;this._ignoreFocusOut=Fe&&!N.gn,nt&&this.update()}get buttons(){return this._buttons}set buttons(Fe){this._buttons=Fe,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(Fe){this._validationMessage=Fe,this.update()}get severity(){return this._severity}set severity(Fe){this._severity=Fe,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(Fe=>{-1!==this.buttons.indexOf(Fe)&&this.onDidTriggerButtonEmitter.fire(Fe)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(Fe=Ie.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:Fe})}update(){if(!this.visible)return;const Fe=this.getTitle();Fe&&this.ui.title.textContent!==Fe?this.ui.title.textContent=Fe:!Fe&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const nt=this.getDescription();if(this.ui.description1.textContent!==nt&&(this.ui.description1.textContent=nt),this.ui.description2.textContent!==nt&&(this.ui.description2.textContent=nt),this.busy&&!this.busyDelay&&(this.busyDelay=new K._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Ut=this.buttons.filter(Mn=>Mn===ye);this.ui.leftActionBar.push(Ut.map((Mn,St)=>{const gn=new F.aU(`id-${St}`,"",Mn.iconClass||Se(Mn.iconPath),!0,()=>yt(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Mn)}));return gn.tooltip=Mn.tooltip||"",gn}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const vn=this.buttons.filter(Mn=>Mn!==ye);this.ui.rightActionBar.push(vn.map((Mn,St)=>{const gn=new F.aU(`id-${St}`,"",Mn.iconClass||Se(Mn.iconPath),!0,()=>yt(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Mn)}));return gn.tooltip=Mn.tooltip||"",gn}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const bt=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==bt&&(this._lastValidationMessage=bt,d.mc(this.ui.message,...(0,v.T)(bt))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,me.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(Fe){if(this.ui.inputBox.showDecoration(Fe),Fe!==W.Z.Ignore){const nt=this.ui.inputBox.stylesForType(Fe);this.ui.message.style.color=nt.foreground?`${nt.foreground}`:"",this.ui.message.style.backgroundColor=nt.background?`${nt.background}`:"",this.ui.message.style.border=nt.border?`1px solid ${nt.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Ae.noPromptMessage=(0,me.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class ue extends Ae{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new C.Q5),this.onWillAcceptEmitter=this._register(new C.Q5),this.onDidAcceptEmitter=this._register(new C.Q5),this.onDidCustomEmitter=this._register(new C.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Ie.jG.NONE:Ie.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new C.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new C.Q5),this.onDidTriggerItemButtonEmitter=this._register(new C.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=Fe=>Fe,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(Fe){this._quickNavigate=Fe,this.update()}get value(){return this._value}set value(Fe){this.doSetValue(Fe)}doSetValue(Fe,nt){this._value!==Fe&&(this._value=Fe,nt||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(Fe){this._ariaLabel=Fe,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(Fe){this._placeholder=Fe,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(Fe){this.ui.list.scrollTop=Fe}set items(Fe){this._items=Fe,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(Fe){this._canSelectMany=Fe,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(Fe){this._canAcceptInBackground=Fe}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(Fe){this._matchOnDescription=Fe,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(Fe){this._matchOnDetail=Fe,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(Fe){this._matchOnLabel=Fe,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(Fe){this._matchOnLabelMode=Fe,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(Fe){this._sortByLabel=Fe,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(Fe){this._autoFocusOnList=Fe,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(Fe){this._keepScrollPosition=Fe}get itemActivation(){return this._itemActivation}set itemActivation(Fe){this._itemActivation=Fe}get activeItems(){return this._activeItems}set activeItems(Fe){this._activeItems=Fe,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(Fe){this._selectedItems=Fe,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Ie.X5:this.ui.keyMods}set valueSelection(Fe){this._valueSelection=Fe,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(Fe){this._customButton=Fe,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(Fe){this._customButtonLabel=Fe,this.update()}get customHover(){return this._customButtonHover}set customHover(Fe){this._customButtonHover=Fe,this.update()}get ok(){return this._ok}set ok(Fe){this._ok=Fe,this.update()}get hideInput(){return!!this._hideInput}set hideInput(Fe){this._hideInput=Fe,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Bt.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(Fe=>{this.doSetValue(Fe,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(Fe=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(Fe=>{switch(Fe.keyCode){case 18:this.ui.list.focus(Bt.Next),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Bt.Previous):this.ui.list.focus(Bt.Last),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 12:this.ui.list.focus(Bt.NextPage),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 11:this.ui.list.focus(Bt.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(Fe.ctrlKey||Fe.metaKey)&&!Fe.shiftKey&&!Fe.altKey&&(this.ui.list.focus(Bt.First),d.zB.stop(Fe,!0));break;case 13:(Fe.ctrlKey||Fe.metaKey)&&!Fe.shiftKey&&!Fe.altKey&&(this.ui.list.focus(Bt.Last),d.zB.stop(Fe,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(Fe=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,j.fS)(Fe,this._activeItems,(nt,bt)=>nt===bt)||(this._activeItems=Fe,this.onDidChangeActiveEmitter.fire(Fe))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:Fe,event:nt})=>{this.canSelectMany?Fe.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,j.fS)(Fe,this._selectedItems,(bt,Ut)=>bt===Ut)||(this._selectedItems=Fe,this.onDidChangeSelectionEmitter.fire(Fe),Fe.length&&this.handleAccept(nt instanceof MouseEvent&&1===nt.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(Fe=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,j.fS)(Fe,this._selectedItems,(nt,bt)=>nt===bt)||(this._selectedItems=Fe,this.onDidChangeSelectionEmitter.fire(Fe))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(Fe=>this.onDidTriggerItemButtonEmitter.fire(Fe))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(Fe){let nt=!1;this.onWillAcceptEmitter.fire({veto:()=>nt=!0}),nt||this.onDidAcceptEmitter.fire({inBackground:Fe})}registerQuickNavigation(){return d.nm(this.ui.container,d.tw.KEY_UP,Fe=>{if(this.canSelectMany||!this._quickNavigate)return;const nt=new n.y(Fe),bt=nt.keyCode;this._quickNavigate.keybindings.some(Mn=>{const[St,gn]=Mn.getParts();return!(gn||(St.shiftKey&&4===bt?nt.ctrlKey||nt.altKey||nt.metaKey:!(St.altKey&&6===bt||St.ctrlKey&&5===bt||St.metaKey&&57===bt)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const Fe=this.keepScrollPosition?this.scrollTop:0,nt=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",nt&&!this.description);const bt={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!nt,progressBar:!nt,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(bt),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let Ut=this.ariaLabel;if(Ut||(Ut=this.placeholder||ue.DEFAULT_ARIA_LABEL,this.title&&(Ut+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==Ut&&(this.ui.inputBox.ariaLabel=Ut),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ie.jG.NONE:this._itemActivation=Ie.jG.FIRST;break;case Ie.jG.SECOND:this.ui.list.focus(Bt.Second),this._itemActivation=Ie.jG.FIRST;break;case Ie.jG.LAST:this.ui.list.focus(Bt.Last),this._itemActivation=Ie.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),bt.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Bt.First)),this.keepScrollPosition&&(this.scrollTop=Fe)}}ue.DEFAULT_ARIA_LABEL=(0,me.NC)("quickInputBox.ariaLabel","Type to narrow down results.");let be=(()=>{class Je extends E.JT{constructor(nt){super(),this.options=nt,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new C.Q5),this.onDidCustomEmitter=this._register(new C.Q5),this.onDidTriggerButtonEmitter=this._register(new C.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new C.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new C.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=nt.idPrefix,this.parentElement=nt.container,this.styles=nt.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const nt=bt=>{this.keyMods.ctrlCmd=bt.ctrlKey||bt.metaKey,this.keyMods.alt=bt.altKey};this._register(d.nm(window,d.tw.KEY_DOWN,nt,!0)),this._register(d.nm(window,d.tw.KEY_UP,nt,!0)),this._register(d.nm(window,d.tw.MOUSE_DOWN,nt,!0))}getUI(){if(this.ui)return this.ui;const nt=d.R3(this.parentElement,He(".quick-input-widget.show-file-icons"));nt.tabIndex=-1,nt.style.display="none";const bt=d.dS(nt),Ut=d.R3(nt,He(".quick-input-titlebar")),vn=this._register(new l.o(Ut));vn.domNode.classList.add("quick-input-left-action-bar");const Mn=d.R3(Ut,He(".quick-input-title")),St=this._register(new l.o(Ut));St.domNode.classList.add("quick-input-right-action-bar");const gn=d.R3(nt,He(".quick-input-description")),Vn=d.R3(nt,He(".quick-input-header")),Sn=d.R3(Vn,He("input.quick-input-check-all"));Sn.type="checkbox",Sn.setAttribute("aria-label",(0,me.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(d.mu(Sn,d.tw.CHANGE,an=>{gt.setAllVisibleChecked(Sn.checked)})),this._register(d.nm(Sn,d.tw.CLICK,an=>{(an.x||an.y)&&Ei.setFocus()}));const Gn=d.R3(Vn,He(".quick-input-description")),ci=d.R3(Vn,He(".quick-input-and-message")),ii=d.R3(ci,He(".quick-input-filter")),Ei=this._register(new Ue(ii));Ei.setAttribute("aria-describedby",`${this.idPrefix}message`);const no=d.R3(ii,He(".quick-input-visible-count"));no.setAttribute("aria-live","polite"),no.setAttribute("aria-atomic","true");const to=new z.Z(no,{countFormat:(0,me.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),Co=d.R3(ii,He(".quick-input-count"));Co.setAttribute("aria-live","polite");const io=new z.Z(Co,{countFormat:(0,me.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),uo=d.R3(Vn,He(".quick-input-action")),go=new H(uo);go.label=(0,me.NC)("ok","OK"),this._register(go.onDidClick(an=>{this.onDidAcceptEmitter.fire()}));const si=d.R3(Vn,He(".quick-input-action")),Yt=new H(si);Yt.label=(0,me.NC)("custom","Custom"),this._register(Yt.onDidClick(an=>{this.onDidCustomEmitter.fire()}));const pt=d.R3(ci,He(`#${this.idPrefix}message.quick-input-message`)),gt=this._register(new Ke(nt,this.idPrefix+"list",this.options));this._register(gt.onChangedAllVisibleChecked(an=>{Sn.checked=an})),this._register(gt.onChangedVisibleCount(an=>{to.setCount(an)})),this._register(gt.onChangedCheckedCount(an=>{io.setCount(an)})),this._register(gt.onLeave(()=>{setTimeout(()=>{Ei.setFocus(),this.controller instanceof ue&&this.controller.canSelectMany&&gt.clearFocus()},0)})),this._register(gt.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Kt=new k.k(nt);Kt.getContainer().classList.add("quick-input-progress");const nn=d.go(nt);return this._register(nn),this._register(d.nm(nt,d.tw.FOCUS,an=>{this.previousFocusElement=an.relatedTarget instanceof HTMLElement?an.relatedTarget:void 0},!0)),this._register(nn.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Ie.Jq.Blur),this.previousFocusElement=void 0})),this._register(d.nm(nt,d.tw.FOCUS,an=>{Ei.setFocus()})),this._register(d.nm(nt,d.tw.KEY_DOWN,an=>{const mn=new n.y(an);switch(mn.keyCode){case 3:d.zB.stop(an,!0),this.onDidAcceptEmitter.fire();break;case 9:d.zB.stop(an,!0),this.hide(Ie.Jq.Gesture);break;case 2:if(!mn.altKey&&!mn.ctrlKey&&!mn.metaKey){const Nn=[".action-label.codicon"];nt.classList.contains("show-checkboxes")?Nn.push("input"):Nn.push("input[type=text]"),this.getUI().list.isDisplayed()&&Nn.push(".monaco-list");const jn=nt.querySelectorAll(Nn.join(", "));mn.shiftKey&&mn.target===jn[0]?(d.zB.stop(an,!0),jn[jn.length-1].focus()):!mn.shiftKey&&mn.target===jn[jn.length-1]&&(d.zB.stop(an,!0),jn[0].focus())}}})),this.ui={container:nt,styleSheet:bt,leftActionBar:vn,titleBar:Ut,title:Mn,description1:gn,description2:Gn,rightActionBar:St,checkAll:Sn,filterContainer:ii,inputBox:Ei,visibleCountContainer:no,visibleCount:to,countContainer:Co,count:io,okContainer:uo,ok:go,message:pt,customButtonContainer:si,customButton:Yt,list:gt,progressBar:Kt,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:an=>this.show(an),hide:()=>this.hide(),setVisibilities:an=>this.setVisibilities(an),setComboboxAccessibility:an=>this.setComboboxAccessibility(an),setEnabled:an=>this.setEnabled(an),setContextKey:an=>this.options.setContextKey(an)},this.updateStyles(),this.ui}pick(nt,bt={},Ut=U.T.None){return new Promise((vn,Mn)=>{let St=Gn=>{var ci;St=vn,null===(ci=bt.onKeyMods)||void 0===ci||ci.call(bt,gn.keyMods),vn(Gn)};if(Ut.isCancellationRequested)return void St(void 0);const gn=this.createQuickPick();let Vn;const Sn=[gn,gn.onDidAccept(()=>{if(gn.canSelectMany)St(gn.selectedItems.slice()),gn.hide();else{const Gn=gn.activeItems[0];Gn&&(St(Gn),gn.hide())}}),gn.onDidChangeActive(Gn=>{const ci=Gn[0];ci&&bt.onDidFocus&&bt.onDidFocus(ci)}),gn.onDidChangeSelection(Gn=>{if(!gn.canSelectMany){const ci=Gn[0];ci&&(St(ci),gn.hide())}}),gn.onDidTriggerItemButton(Gn=>bt.onDidTriggerItemButton&&bt.onDidTriggerItemButton(Object.assign(Object.assign({},Gn),{removeItem:()=>{const ci=gn.items.indexOf(Gn.item);if(-1!==ci){const ii=gn.items.slice(),Ei=ii.splice(ci,1),no=gn.activeItems.filter(Co=>Co!==Ei[0]),to=gn.keepScrollPosition;gn.keepScrollPosition=!0,gn.items=ii,no&&(gn.activeItems=no),gn.keepScrollPosition=to}}}))),gn.onDidChangeValue(Gn=>{Vn&&!Gn&&(1!==gn.activeItems.length||gn.activeItems[0]!==Vn)&&(gn.activeItems=[Vn])}),Ut.onCancellationRequested(()=>{gn.hide()}),gn.onDidHide(()=>{(0,E.B9)(Sn),St(void 0)})];gn.title=bt.title,gn.canSelectMany=!!bt.canPickMany,gn.placeholder=bt.placeHolder,gn.ignoreFocusOut=!!bt.ignoreFocusLost,gn.matchOnDescription=!!bt.matchOnDescription,gn.matchOnDetail=!!bt.matchOnDetail,gn.matchOnLabel=void 0===bt.matchOnLabel||bt.matchOnLabel,gn.autoFocusOnList=void 0===bt.autoFocusOnList||bt.autoFocusOnList,gn.quickNavigate=bt.quickNavigate,gn.hideInput=!!bt.hideInput,gn.contextKey=bt.contextKey,gn.busy=!0,Promise.all([nt,bt.activeItem]).then(([Gn,ci])=>{Vn=ci,gn.busy=!1,gn.items=Gn,gn.canSelectMany&&(gn.selectedItems=Gn.filter(ii=>"separator"!==ii.type&&ii.picked)),Vn&&(gn.activeItems=[Vn])}),gn.show(),Promise.resolve(nt).then(void 0,Gn=>{Mn(Gn),gn.hide()})})}createQuickPick(){const nt=this.getUI();return new ue(nt)}show(nt){const bt=this.getUI();this.onShowEmitter.fire();const Ut=this.controller;this.controller=nt,Ut&&Ut.didHide(),this.setEnabled(!0),bt.leftActionBar.clear(),bt.title.textContent="",bt.description1.textContent="",bt.description2.textContent="",bt.rightActionBar.clear(),bt.checkAll.checked=!1,bt.inputBox.placeholder="",bt.inputBox.password=!1,bt.inputBox.showDecoration(W.Z.Ignore),bt.visibleCount.setCount(0),bt.count.setCount(0),d.mc(bt.message),bt.progressBar.stop(),bt.list.setElements([]),bt.list.matchOnDescription=!1,bt.list.matchOnDetail=!1,bt.list.matchOnLabel=!0,bt.list.sortByLabel=!0,bt.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),bt.inputBox.ariaLabel="";const vn=this.options.backKeybindingLabel();ye.tooltip=vn?(0,me.NC)("quickInput.backWithKeybinding","Back ({0})",vn):(0,me.NC)("quickInput.back","Back"),bt.container.style.display="",this.updateLayout(),bt.inputBox.setFocus()}setVisibilities(nt){const bt=this.getUI();bt.title.style.display=nt.title?"":"none",bt.description1.style.display=nt.description&&(nt.inputBox||nt.checkAll)?"":"none",bt.description2.style.display=!nt.description||nt.inputBox||nt.checkAll?"none":"",bt.checkAll.style.display=nt.checkAll?"":"none",bt.filterContainer.style.display=nt.inputBox?"":"none",bt.visibleCountContainer.style.display=nt.visibleCount?"":"none",bt.countContainer.style.display=nt.count?"":"none",bt.okContainer.style.display=nt.ok?"":"none",bt.customButtonContainer.style.display=nt.customButton?"":"none",bt.message.style.display=nt.message?"":"none",bt.progressBar.getContainer().style.display=nt.progressBar?"":"none",bt.list.display(!!nt.list),bt.container.classList[nt.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(nt){if(nt!==this.comboboxAccessibility){const bt=this.getUI();this.comboboxAccessibility=nt,this.comboboxAccessibility?(bt.inputBox.setAttribute("role","combobox"),bt.inputBox.setAttribute("aria-haspopup","true"),bt.inputBox.setAttribute("aria-autocomplete","list"),bt.inputBox.setAttribute("aria-activedescendant",bt.list.getActiveDescendant()||"")):(bt.inputBox.removeAttribute("role"),bt.inputBox.removeAttribute("aria-haspopup"),bt.inputBox.removeAttribute("aria-autocomplete"),bt.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(nt){if(nt!==this.enabled){this.enabled=nt;for(const bt of this.getUI().leftActionBar.viewItems)bt.getAction().enabled=nt;for(const bt of this.getUI().rightActionBar.viewItems)bt.getAction().enabled=nt;this.getUI().checkAll.disabled=!nt,this.getUI().ok.enabled=nt,this.getUI().list.enabled=nt}}hide(nt){var bt;const Ut=this.controller;if(Ut){const vn=!(null!==(bt=this.ui)&&void 0!==bt&&bt.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!vn){let Mn=this.previousFocusElement;for(;Mn&&!Mn.offsetParent;)Mn=(0,Z.f6)(Mn.parentElement);Mn?.offsetParent?(Mn.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}Ut.didHide(nt)}}layout(nt,bt){this.dimension=nt,this.titleBarOffset=bt,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const nt=this.ui.container.style,bt=Math.min(.62*this.dimension.width,Je.MAX_WIDTH);nt.width=bt+"px",nt.marginLeft="-"+bt/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(nt){this.styles=nt,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:nt,quickInputBackground:bt,quickInputForeground:Ut,contrastBorder:vn,widgetShadow:Mn}=this.styles.widget;this.ui.titleBar.style.backgroundColor=nt?nt.toString():"",this.ui.container.style.backgroundColor=bt?bt.toString():"",this.ui.container.style.color=Ut?Ut.toString():"",this.ui.container.style.border=vn?`1px solid ${vn}`:"",this.ui.container.style.boxShadow=Mn?`0 0 8px 2px ${Mn}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const St=[];this.styles.list.pickerGroupBorder&&St.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&St.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(St.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&St.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&St.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&St.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&St.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&St.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),St.push("}"));const gn=St.join("\n");gn!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=gn)}}}return Je.MAX_WIDTH=600,Je})()},39263:(Dt,Y,e)=>{"use strict";e.d(Y,{Jq:()=>n,X5:()=>d,jG:()=>l});const d={ctrlCmd:!1,alt:!1};var n=(()=>{return(T=n||(n={}))[T.Blur=1]="Blur",T[T.Gesture=2]="Gesture",T[T.Other=3]="Other",n;var T})(),l=(()=>{return(T=l||(l={}))[T.NONE=0]="NONE",T[T.FIRST=1]="FIRST",T[T.SECOND=2]="SECOND",T[T.LAST=3]="LAST",l;var T})();new class S{constructor(C){this.options=C}}},88652:(Dt,Y,e)=>{"use strict";e.d(Y,{H:()=>p});var d=e(17374),n=e(67519),l=e(89982),S=Object.defineProperty,v=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,E=(u,g,b,y)=>{if(g&&"object"==typeof g||"function"==typeof g)for(let w of T(g))!C.call(u,w)&&w!==b&&S(u,w,{get:()=>g[w],enumerable:!(y=v(g,w))||y.enumerable});return u},_={};E(_,l,"default");var s={},m={},c=class ac{static getOrCreate(g){return m[g]||(m[g]=new ac(g)),m[g]}constructor(g){(0,n.Z)(this,"_languageId",void 0),(0,n.Z)(this,"_loadingTriggered",void 0),(0,n.Z)(this,"_lazyLoadPromise",void 0),(0,n.Z)(this,"_lazyLoadPromiseResolve",void 0),(0,n.Z)(this,"_lazyLoadPromiseReject",void 0),this._languageId=g,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((b,y)=>{this._lazyLoadPromiseResolve=b,this._lazyLoadPromiseReject=y})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,s[this._languageId].loader().then(g=>this._lazyLoadPromiseResolve(g),g=>this._lazyLoadPromiseReject(g))),this._lazyLoadPromise}};function p(u){const g=u.id;s[g]=u,_.languages.register(u);const b=c.getOrCreate(g);var y;_.languages.registerTokensProviderFactory(g,{create:(y=(0,d.Z)(function*(){return(yield b.load()).language}),function(){return y.apply(this,arguments)})}),_.languages.onLanguage(g,(0,d.Z)(function*(){const y=yield b.load();_.languages.setLanguageConfiguration(g,y.conf)}))}},76746:(Dt,Y,e)=>{"use strict";e.r(Y),(0,e(88652).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([e.e(592),e.e(274)]).then(e.bind(e,79274))})},93213:(Dt,Y,e)=>{"use strict";e.r(Y),(0,e(88652).H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(592).then(e.bind(e,39798))})},44716:(Dt,Y,e)=>{"use strict";e.d(Y,{N:()=>n});var d=e(12226);function n(l,S){l instanceof d.Z?(l.setFontFamily(S.getMassagedFontFamily()),l.setFontWeight(S.fontWeight),l.setFontSize(S.fontSize),l.setFontFeatureSettings(S.fontFeatureSettings),l.setLineHeight(S.lineHeight),l.setLetterSpacing(S.letterSpacing)):(l.style.fontFamily=S.getMassagedFontFamily(),l.style.fontWeight=S.fontWeight,l.style.fontSize=S.fontSize+"px",l.style.fontFeatureSettings=S.fontFeatureSettings,l.style.lineHeight=S.lineHeight+"px",l.style.letterSpacing=S.letterSpacing+"px")}},93972:(Dt,Y,e)=>{"use strict";e.d(Y,{I:()=>l});var d=e(80142),n=e(3778);class l extends d.JT{constructor(v,T){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=v,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,T)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(v=>{v&&v[0]&&v[0].contentRect?this.observe({width:v[0].contentRect.width,height:v[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(v){this.measureReferenceDomElement(!0,v)}measureReferenceDomElement(v,T){let C=0,E=0;T?(C=T.width,E=T.height):this._referenceDomElement&&(C=this._referenceDomElement.clientWidth,E=this._referenceDomElement.clientHeight),C=Math.max(5,C),E=Math.max(5,E),(this._width!==C||this._height!==E)&&(this._width=C,this._height=E,v&&this._onDidChange.fire())}}},15057:(Dt,Y,e)=>{"use strict";e.d(Y,{g:()=>m});var d=e(37428),n=e(3778),l=e(80142),S=e(44716);class v{constructor(t,a){this.chr=t,this.type=a,this.width=0}fulfill(t){this.width=t}}class T{constructor(t,a){this._bareFontInfo=t,this._requests=a,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const a=document.createElement("div");(0,S.N)(a,this._bareFontInfo),t.appendChild(a);const p=document.createElement("div");(0,S.N)(p,this._bareFontInfo),p.style.fontWeight="bold",t.appendChild(p);const u=document.createElement("div");(0,S.N)(u,this._bareFontInfo),u.style.fontStyle="italic",t.appendChild(u);const g=[];for(const b of this._requests){let y;0===b.type&&(y=a),2===b.type&&(y=p),1===b.type&&(y=u),y.appendChild(document.createElement("br"));const w=document.createElement("span");T._render(w,b),y.appendChild(w),g.push(w)}this._container=t,this._testElements=g}static _render(t,a){if(" "===a.chr){let p="\xa0";for(let u=0;u<8;u++)p+=p;t.innerText=p}else{let p=a.chr;for(let u=0;u<8;u++)p+=p;t.textContent=p}}_readFromDomElements(){for(let t=0,a=this._requests.length;t<a;t++)this._requests[t].fulfill(this._testElements[t].offsetWidth/256)}}var E=e(54862),L=e(44120);class s{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(t){const a=t.getId();return!!this._values[a]}get(t){const a=t.getId();return this._values[a]}put(t,a){const p=t.getId();this._keys[p]=t,this._values[p]=a}remove(t){const a=t.getId();delete this._keys[a],delete this._values[a]}getValues(){return Object.keys(this._keys).map(t=>this._values[t])}}const m=new class _ extends l.JT{constructor(){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,this._cache=new s,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new s,this._onDidChange.fire()}_writeToCache(t,a){this._cache.put(t,a),!a.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const t=this._cache.getValues();let a=!1;for(const p of t)p.isTrusted||(a=!0,this._cache.remove(p));a&&this._onDidChange.fire()}readFontInfo(t){if(!this._cache.has(t)){let a=this._actualReadFontInfo(t);(a.typicalHalfwidthCharacterWidth<=2||a.typicalFullwidthCharacterWidth<=2||a.spaceWidth<=2||a.maxDigitWidth<=2)&&(a=new L.pR({pixelRatio:d.PixelRatio.value,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFeatureSettings:a.fontFeatureSettings,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:a.isMonospace,typicalHalfwidthCharacterWidth:Math.max(a.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(a.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:a.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(a.spaceWidth,5),middotWidth:Math.max(a.middotWidth,5),wsmiddotWidth:Math.max(a.wsmiddotWidth,5),maxDigitWidth:Math.max(a.maxDigitWidth,5)},!1)),this._writeToCache(t,a)}return this._cache.get(t)}_createRequest(t,a,p,u){const g=new v(t,a);return p.push(g),u?.push(g),g}_actualReadFontInfo(t){const a=[],p=[],u=this._createRequest("n",0,a,p),g=this._createRequest("\uff4d",0,a,null),b=this._createRequest(" ",0,a,p),y=this._createRequest("0",0,a,p),w=this._createRequest("1",0,a,p),D=this._createRequest("2",0,a,p),x=this._createRequest("3",0,a,p),P=this._createRequest("4",0,a,p),O=this._createRequest("5",0,a,p),V=this._createRequest("6",0,a,p),H=this._createRequest("7",0,a,p),z=this._createRequest("8",0,a,p),k=this._createRequest("9",0,a,p),F=this._createRequest("\u2192",0,a,p),j=this._createRequest("\uffeb",0,a,null),K=this._createRequest("\xb7",0,a,p),U=this._createRequest(String.fromCharCode(11825),0,a,null),ne="|/-_ilm%";for(let M=0,we=ne.length;M<we;M++)this._createRequest(ne.charAt(M),0,a,p),this._createRequest(ne.charAt(M),1,a,p),this._createRequest(ne.charAt(M),2,a,p);!function C(c,t){new T(c,t).read()}(t,a);const N=Math.max(y.width,w.width,D.width,x.width,P.width,O.width,V.width,H.width,z.width,k.width);let W=t.fontFeatureSettings===E.n0.OFF;const Z=p[0].width;for(let M=1,we=p.length;W&&M<we;M++){const Ee=Z-p[M].width;if(Ee<-.001||Ee>.001){W=!1;break}}let ge=!0;return W&&j.width!==Z&&(ge=!1),j.width>F.width&&(ge=!1),new L.pR({pixelRatio:d.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:W,typicalHalfwidthCharacterWidth:u.width,typicalFullwidthCharacterWidth:g.width,canUseHalfwidthRightwardsArrow:ge,spaceWidth:b.width,middotWidth:K.width,wsmiddotWidth:U.width,maxDigitWidth:N},!0)}}},5825:(Dt,Y,e)=>{"use strict";e.d(Y,{n:()=>l});var d=e(3778);const l=new class n{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new d.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(v){this._tabFocus!==v&&(this._tabFocus=v,this._onDidChangeTabFocus.fire(this._tabFocus))}}},85375:(Dt,Y,e)=>{"use strict";e.d(Y,{Fz:()=>a,Nl:()=>c,RA:()=>m,Tj:()=>u,pd:()=>s});var d=e(37428),n=e(98463),l=e(41140),S=e(48648),v=e(3778),T=e(80142),C=e(34189),E=e(73879),L=e(431),_=e(7233),s=(()=>((s||(s={})).Tap="-monaco-textarea-synthetic-tap",s))();const m={forceCopyWithSyntaxHighlighting:!1};class c{constructor(){this._lastState=null}set(b,y){this._lastState={lastCopiedValue:b,data:y}}get(b){return this._lastState&&this._lastState.lastCopiedValue===b?this._lastState.data:(this._lastState=null,null)}}c.INSTANCE=new c;class t{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(b){const y={text:b=b||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=b.length,y}}class a extends T.JT{constructor(b,y,w,D){super(),this._host=b,this._textArea=y,this._OS=w,this._browser=D,this._onFocus=this._register(new v.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new v.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new v.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new v.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new v.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new v.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new v.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new v.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new v.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new v.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new S.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new S.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=L.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let x=null;this._register(this._textArea.onKeyDown(P=>{const O=new l.y(P);(109===O.keyCode||this._currentComposition&&1===O.keyCode)&&O.stopPropagation(),O.equals(9)&&O.preventDefault(),x=O,this._onKeyDown.fire(O)})),this._register(this._textArea.onKeyUp(P=>{const O=new l.y(P);this._onKeyUp.fire(O)})),this._register(this._textArea.onCompositionStart(P=>{L.al&&console.log("[compositionstart]",P);const O=new t;if(!this._currentComposition)return this._currentComposition=O,2===this._OS&&x&&x.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===P.data&&("ArrowRight"===x.code||"ArrowLeft"===x.code)?(L.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",P),O.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:P.data})):void this._onCompositionStart.fire({data:P.data});this._currentComposition=O})),this._register(this._textArea.onCompositionUpdate(P=>{L.al&&console.log("[compositionupdate]",P);const O=this._currentComposition;if(!O)return;if(this._browser.isAndroid){const H=L.un.readFromTextArea(this._textArea),z=L.un.deduceAndroidCompositionInput(this._textAreaState,H);return this._textAreaState=H,this._onType.fire(z),void this._onCompositionUpdate.fire(P)}const V=O.handleCompositionUpdate(P.data);this._textAreaState=L.un.readFromTextArea(this._textArea),this._onType.fire(V),this._onCompositionUpdate.fire(P)})),this._register(this._textArea.onCompositionEnd(P=>{L.al&&console.log("[compositionend]",P);const O=this._currentComposition;if(!O)return;if(this._currentComposition=null,this._browser.isAndroid){const H=L.un.readFromTextArea(this._textArea),z=L.un.deduceAndroidCompositionInput(this._textAreaState,H);return this._textAreaState=H,this._onType.fire(z),void this._onCompositionEnd.fire()}const V=O.handleCompositionUpdate(P.data);this._textAreaState=L.un.readFromTextArea(this._textArea),this._onType.fire(V),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(P=>{if(L.al&&console.log("[input]",P),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const O=L.un.readFromTextArea(this._textArea),V=L.un.deduceInput(this._textAreaState,O,2===this._OS);0===V.replacePrevCharCnt&&1===V.text.length&&E.ZG(V.text.charCodeAt(0))||(this._textAreaState=O,(""!==V.text||0!==V.replacePrevCharCnt||0!==V.replaceNextCharCnt||0!==V.positionDelta)&&this._onType.fire(V))})),this._register(this._textArea.onCut(P=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(P),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(P=>{this._ensureClipboardGetsEditorSelection(P)})),this._register(this._textArea.onPaste(P=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),P.preventDefault(),!P.clipboardData)return;let[O,V]=p.getTextData(P.clipboardData);!O||(V=V||c.INSTANCE.get(O),this._onPaste.fire({text:O,metadata:V}))})),this._register(this._textArea.onFocus(()=>{const P=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!P&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let b=0;return n.nm(document,"selectionchange",y=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const w=Date.now(),D=w-b;if(b=w,D<5)return;const x=w-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),x<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const P=this._textArea.getValue();if(this._textAreaState.value!==P)return;const O=this._textArea.getSelectionStart(),V=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===O&&this._textAreaState.selectionEnd===V)return;const H=this._textAreaState.deduceEditorPosition(O),z=this._host.deduceModelPosition(H[0],H[1],H[2]),k=this._textAreaState.deduceEditorPosition(V),F=this._host.deduceModelPosition(k[0],k[1],k[2]),j=new _.Y(z.lineNumber,z.column,F.lineNumber,F.column);this._onSelectionChangeRequest.fire(j)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(b){this._hasFocus!==b&&(this._hasFocus=b,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(b,y){this._hasFocus||(y=y.collapseSelection()),y.writeToTextArea(b,this._textArea,this._hasFocus),this._textAreaState=y}writeScreenReaderContent(b){this._currentComposition||this._setAndWriteTextAreaState(b,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(b){const y=this._host.getDataToCopy(),w={version:1,isFromEmptySelection:y.isFromEmptySelection,multicursorText:y.multicursorText,mode:y.mode};c.INSTANCE.set(this._browser.isFirefox?y.text.replace(/\r\n/g,"\n"):y.text,w),b.preventDefault(),b.clipboardData&&p.setTextData(b.clipboardData,y.text,y.html,w)}}class p{static getTextData(b){const y=b.getData(C.v.text);let w=null;const D=b.getData("vscode-editor-data");if("string"==typeof D)try{w=JSON.parse(D),1!==w.version&&(w=null)}catch{}return 0===y.length&&null===w&&b.files.length>0?[Array.prototype.slice.call(b.files,0).map(P=>P.name).join("\n"),null]:[y,w]}static setTextData(b,y,w,D){b.setData(C.v.text,y),"string"==typeof w&&b.setData("text/html",w),b.setData("vscode-editor-data",JSON.stringify(D))}}class u extends T.JT{constructor(b){super(),this._actual=b,this.onKeyDown=this._register(n.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(n.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(n.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(n.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(n.IC(this._actual,"compositionend")).event,this.onInput=this._register(n.IC(this._actual,"input")).event,this.onCut=this._register(n.IC(this._actual,"cut")).event,this.onCopy=this._register(n.IC(this._actual,"copy")).event,this.onPaste=this._register(n.IC(this._actual,"paste")).event,this.onFocus=this._register(n.IC(this._actual,"focus")).event,this.onBlur=this._register(n.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new v.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(n.nm(this._actual,s.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const b=n.Ay(this._actual);return b?b.activeElement===this._actual:!!n.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(b){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(b,y){const w=this._actual;w.value!==y&&(this.setIgnoreSelectionChangeTime("setValue"),w.value=y)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(b,y,w){const D=this._actual;let x=null;const P=n.Ay(D);x=P?P.activeElement:document.activeElement;const O=x===D;if(O&&D.selectionStart===y&&D.selectionEnd===w)d.isFirefox&&window.parent!==window&&D.focus();else{if(O)return this.setIgnoreSelectionChangeTime("setSelectionRange"),D.setSelectionRange(y,w),void(d.isFirefox&&window.parent!==window&&D.focus());try{const z=n.vL(D);this.setIgnoreSelectionChangeTime("setSelectionRange"),D.focus(),D.setSelectionRange(y,w),n._0(D,z)}catch{}}}}},431:(Dt,Y,e)=>{"use strict";e.d(Y,{al:()=>S,ee:()=>T,un:()=>v});var d=e(73879),n=e(18723),l=e(98570);const S=!1;class v{constructor(E,L,_,s,m){this.value=E,this.selectionStart=L,this.selectionEnd=_,this.selectionStartPosition=s,this.selectionEndPosition=m}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(E){return new v(E.getValue(),E.getSelectionStart(),E.getSelectionEnd(),null,null)}collapseSelection(){return new v(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(E,L,_){S&&console.log(`writeToTextArea ${E}: ${this.toString()}`),L.setValue(E,this.value),_&&L.setSelectionRange(E,this.selectionStart,this.selectionEnd)}deduceEditorPosition(E){if(E<=this.selectionStart){const s=this.value.substring(E,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,s,-1)}if(E>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,E);return this._finishDeduceEditorPosition(this.selectionEndPosition,s,1)}const L=this.value.substring(this.selectionStart,E);if(-1===L.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,L,1);const _=this.value.substring(E,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,-1)}_finishDeduceEditorPosition(E,L,_){let s=0,m=-1;for(;-1!==(m=L.indexOf("\n",m+1));)s++;return[E,_*L.length,s]}static deduceInput(E,L,_){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};S&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${E.toString()}`),console.log(`CURRENT STATE: ${L.toString()}`));const s=Math.min(d.Mh(E.value,L.value),E.selectionStart,L.selectionStart),m=Math.min(d.P1(E.value,L.value),E.value.length-E.selectionEnd,L.value.length-L.selectionEnd),c=E.value.substring(s,E.value.length-m),t=L.value.substring(s,L.value.length-m),a=E.selectionStart-s,p=E.selectionEnd-s,u=L.selectionStart-s,g=L.selectionEnd-s;if(S&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${c}>, selectionStart: ${a}, selectionEnd: ${p}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${u}, selectionEnd: ${g}`)),u===g){const y=E.selectionStart-s;return S&&console.log(`REMOVE PREVIOUS: ${y} chars`),{text:t,replacePrevCharCnt:y,replaceNextCharCnt:0,positionDelta:0}}return{text:t,replacePrevCharCnt:p-a,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(E,L){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(S&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${E.toString()}`),console.log(`CURRENT STATE: ${L.toString()}`)),E.value===L.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:L.selectionEnd-E.selectionEnd};const _=Math.min(d.Mh(E.value,L.value),E.selectionEnd),s=Math.min(d.P1(E.value,L.value),E.value.length-E.selectionEnd),m=E.value.substring(_,E.value.length-s),c=L.value.substring(_,L.value.length-s),a=E.selectionEnd-_,p=L.selectionStart-_,u=L.selectionEnd-_;return S&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${m}>, selectionStart: ${E.selectionStart-_}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${c}>, selectionStart: ${p}, selectionEnd: ${u}`)),{text:c,replacePrevCharCnt:a,replaceNextCharCnt:m.length-a,positionDelta:u-c.length}}}v.EMPTY=new v("",0,0,null,null);class T{static _getPageOfLine(E,L){return Math.floor((E-1)/L)}static _getRangeForPage(E,L){const _=E*L;return new l.e(_+1,1,_+L+1,1)}static fromEditorSelection(E,L,_,s,m){const c=T._getPageOfLine(_.startLineNumber,s),t=T._getRangeForPage(c,s),a=T._getPageOfLine(_.endLineNumber,s),p=T._getRangeForPage(a,s),u=t.intersectRanges(new l.e(1,1,_.startLineNumber,_.startColumn));let g=L.getValueInRange(u,1);const b=L.getLineCount(),y=L.getLineMaxColumn(b),w=p.intersectRanges(new l.e(_.endLineNumber,_.endColumn,b,y));let x,D=L.getValueInRange(w,1);if(c===a||c+1===a)x=L.getValueInRange(_,1);else{const P=t.intersectRanges(_),O=p.intersectRanges(_);x=L.getValueInRange(P,1)+String.fromCharCode(8230)+L.getValueInRange(O,1)}return m&&(g.length>500&&(g=g.substring(g.length-500,g.length)),D.length>500&&(D=D.substring(0,500)),x.length>1e3&&(x=x.substring(0,500)+String.fromCharCode(8230)+x.substring(x.length-500,x.length))),new v(g+x+D,g.length,g.length+x.length,new n.L(_.startLineNumber,_.startColumn),new n.L(_.endLineNumber,_.endColumn))}}},41442:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CoreEditingCommands:()=>V,CoreEditorCommand:()=>g,CoreNavigationCommands:()=>D,EditorScroll_:()=>b,RevealLine_:()=>y});var d=e(55197),n=e(37428),l=e(72715),S=e(59797),v=e(26845),T=e(33745),C=e(76336),E=e(18723),L=e(98570);class _{static columnSelect(F,j,K,U,ne,N){const W=Math.abs(ne-K)+1,Z=K>ne,ge=U>N,M=U<N,we=[];for(let Ee=0;Ee<W;Ee++){const xe=K+(Z?-Ee:Ee),Ne=F.columnFromVisibleColumn(j,xe,U),oe=F.columnFromVisibleColumn(j,xe,N),Se=F.visibleColumnFromColumn(j,new E.L(xe,Ne)),Ie=F.visibleColumnFromColumn(j,new E.L(xe,oe));M&&(Se>N||Ie<U)||ge&&(Ie>U||Se<N)||we.push(new C.rS(new L.e(xe,Ne,xe,Ne),0,new E.L(xe,oe),0))}if(0===we.length)for(let Ee=0;Ee<W;Ee++){const xe=K+(Z?-Ee:Ee),Ne=j.getLineMaxColumn(xe);we.push(new C.rS(new L.e(xe,Ne,xe,Ne),0,new E.L(xe,Ne),0))}return{viewStates:we,reversed:Z,fromLineNumber:K,fromVisualColumn:U,toLineNumber:ne,toVisualColumn:N}}static columnSelectLeft(F,j,K){let U=K.toViewVisualColumn;return U>0&&U--,_.columnSelect(F,j,K.fromViewLineNumber,K.fromViewVisualColumn,K.toViewLineNumber,U)}static columnSelectRight(F,j,K){let U=0;const ne=Math.min(K.fromViewLineNumber,K.toViewLineNumber),N=Math.max(K.fromViewLineNumber,K.toViewLineNumber);for(let Z=ne;Z<=N;Z++){const ge=j.getLineMaxColumn(Z),M=F.visibleColumnFromColumn(j,new E.L(Z,ge));U=Math.max(U,M)}let W=K.toViewVisualColumn;return W<U&&W++,this.columnSelect(F,j,K.fromViewLineNumber,K.fromViewVisualColumn,K.toViewLineNumber,W)}static columnSelectUp(F,j,K,U){const N=Math.max(1,K.toViewLineNumber-(U?F.pageSize:1));return this.columnSelect(F,j,K.fromViewLineNumber,K.fromViewVisualColumn,N,K.toViewVisualColumn)}static columnSelectDown(F,j,K,U){const ne=U?F.pageSize:1,N=Math.min(j.getLineCount(),K.toViewLineNumber+ne);return this.columnSelect(F,j,K.fromViewLineNumber,K.fromViewVisualColumn,N,K.toViewVisualColumn)}}var b,k,y,D,s=e(8445),m=e(21073),c=e(97979),t=e(82290),a=e(16468),p=e(98915);class g extends v._l{runEditorCommand(F,j,K){const U=j._getViewModel();!U||this.runCoreEditorCommand(U,K||{})}}(k=b||(b={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(K){if(!l.Kn(K))return!1;const U=K;return!(!l.HD(U.to)||!l.o8(U.by)&&!l.HD(U.by)||!l.o8(U.value)&&!l.hj(U.value)||!l.o8(U.revealCursor)&&!l.jn(U.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},k.RawDirection={Up:"up",Down:"down"},k.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"},k.parse=function j(K){let U,ne;switch(K.to){case k.RawDirection.Up:U=1;break;case k.RawDirection.Down:U=2;break;default:return null}switch(K.by){case k.RawUnit.Line:ne=1;break;case k.RawUnit.WrappedLine:ne=2;break;case k.RawUnit.Page:ne=3;break;case k.RawUnit.HalfPage:ne=4;break;case k.RawUnit.Editor:ne=5;break;default:ne=2}return{direction:U,unit:ne,value:Math.floor(K.value||1),revealCursor:!!K.revealCursor,select:!!K.select}},function(k){k.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(j){if(!l.Kn(j))return!1;const K=j;return!(!l.hj(K.lineNumber)&&!l.HD(K.lineNumber)||!l.o8(K.at)&&!l.HD(K.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},k.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(y||(y={}));class w{constructor(F){F.addImplementation(1e4,"code-editor",(j,K)=>{const U=j.get(T.$).getFocusedCodeEditor();return!(!U||!U.hasTextFocus())&&this._runEditorCommand(j,U,K)}),F.addImplementation(1e3,"generic-dom-input-textarea",(j,K)=>{const U=document.activeElement;return!!(U&&["input","textarea"].indexOf(U.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),F.addImplementation(0,"generic-dom",(j,K)=>{const U=j.get(T.$).getActiveCodeEditor();return!!U&&(U.focus(),this._runEditorCommand(j,U,K))})}_runEditorCommand(F,j,K){return this.runEditorCommand(F,j,K)||!0}}!function(k){class F extends g{constructor(me){super(me),this._minimalReveal=me.minimalReveal,this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,[m.P.moveTo(me,me.getPrimaryCursorState(),this._inSelectionMode,Me.position,Me.viewPosition)])&&me.revealPrimaryCursor(Me.source,!0,this._minimalReveal)}}k.MoveTo=(0,v.fK)(new F({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),k.MoveToSelect=(0,v.fK)(new F({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class j extends g{runCoreEditorCommand(me,Me){me.model.pushStackElement();const de=this._getColumnSelectResult(me,me.getPrimaryCursorState(),me.getCursorColumnSelectData(),Me);me.setCursorStates(Me.source,3,de.viewStates.map(ke=>C.Vi.fromViewState(ke))),me.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:de.fromLineNumber,fromViewVisualColumn:de.fromVisualColumn,toViewLineNumber:de.toLineNumber,toViewVisualColumn:de.toVisualColumn}),de.reversed?me.revealTopMostCursor(Me.source):me.revealBottomMostCursor(Me.source)}}k.ColumnSelect=(0,v.fK)(new class extends j{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Ie,me,Me,de){const ke=Ie.model.validatePosition(de.position),Ue=Ie.coordinatesConverter.validateViewPosition(new E.L(de.viewPosition.lineNumber,de.viewPosition.column),ke);return _.columnSelect(Ie.cursorConfig,Ie,de.doColumnSelect?Me.fromViewLineNumber:Ue.lineNumber,de.doColumnSelect?Me.fromViewVisualColumn:de.mouseColumn-1,Ue.lineNumber,de.mouseColumn-1)}}),k.CursorColumnSelectLeft=(0,v.fK)(new class extends j{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Ie,me,Me,de){return _.columnSelectLeft(Ie.cursorConfig,Ie,Me)}}),k.CursorColumnSelectRight=(0,v.fK)(new class extends j{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Ie,me,Me,de){return _.columnSelectRight(Ie.cursorConfig,Ie,Me)}});class K extends j{constructor(me){super(me),this._isPaged=me.isPaged}_getColumnSelectResult(me,Me,de,ke){return _.columnSelectUp(me.cursorConfig,me,de,this._isPaged)}}k.CursorColumnSelectUp=(0,v.fK)(new K({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3600,linux:{primary:0}}})),k.CursorColumnSelectPageUp=(0,v.fK)(new K({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3595,linux:{primary:0}}}));class U extends j{constructor(me){super(me),this._isPaged=me.isPaged}_getColumnSelectResult(me,Me,de,ke){return _.columnSelectDown(me.cursorConfig,me,de,this._isPaged)}}k.CursorColumnSelectDown=(0,v.fK)(new U({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3602,linux:{primary:0}}})),k.CursorColumnSelectPageDown=(0,v.fK)(new U({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3596,linux:{primary:0}}}));class ne extends g{constructor(){super({id:"cursorMove",precondition:void 0,description:m.N.description})}runCoreEditorCommand(me,Me){const de=m.N.parse(Me);!de||this._runCursorMove(me,Me.source,de)}_runCursorMove(me,Me,de){me.model.pushStackElement(),me.setCursorStates(Me,3,ne._move(me,me.getCursorStates(),de)),me.revealPrimaryCursor(Me,!0)}static _move(me,Me,de){const ke=de.select,Ue=de.value;switch(de.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return m.P.simpleMove(me,Me,de.direction,ke,Ue,de.unit);case 11:case 13:case 12:case 14:return m.P.viewportMove(me,Me,de.direction,ke,Ue);default:return null}}}k.CursorMoveImpl=ne,k.CursorMove=(0,v.fK)(new ne);class N extends g{constructor(me){super(me),this._staticArgs=me.args}runCoreEditorCommand(me,Me){let de=this._staticArgs;-1===this._staticArgs.value&&(de={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Me.pageSize||me.cursorConfig.pageSize}),me.model.pushStackElement(),me.setCursorStates(Me.source,3,m.P.simpleMove(me,me.getCursorStates(),de.direction,de.select,de.value,de.unit)),me.revealPrimaryCursor(Me.source,!0)}}k.CursorLeft=(0,v.fK)(new N({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),k.CursorLeftSelect=(0,v.fK)(new N({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1039}})),k.CursorRight=(0,v.fK)(new N({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),k.CursorRightSelect=(0,v.fK)(new N({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1041}})),k.CursorUp=(0,v.fK)(new N({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),k.CursorUpSelect=(0,v.fK)(new N({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),k.CursorPageUp=(0,v.fK)(new N({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:11}})),k.CursorPageUpSelect=(0,v.fK)(new N({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1035}})),k.CursorDown=(0,v.fK)(new N({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),k.CursorDownSelect=(0,v.fK)(new N({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),k.CursorPageDown=(0,v.fK)(new N({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:12}})),k.CursorPageDownSelect=(0,v.fK)(new N({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1036}})),k.CreateCursor=(0,v.fK)(new class extends g{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Ie,me){let Me;Me=me.wholeLine?m.P.line(Ie,Ie.getPrimaryCursorState(),!1,me.position,me.viewPosition):m.P.moveTo(Ie,Ie.getPrimaryCursorState(),!1,me.position,me.viewPosition);const de=Ie.getCursorStates();if(de.length>1){const ke=Me.modelState?Me.modelState.position:null,Ue=Me.viewState?Me.viewState.position:null;for(let ze=0,ce=de.length;ze<ce;ze++){const Ve=de[ze];if((!ke||Ve.modelState.selection.containsPosition(ke))&&(!Ue||Ve.viewState.selection.containsPosition(Ue)))return de.splice(ze,1),Ie.model.pushStackElement(),void Ie.setCursorStates(me.source,3,de)}}de.push(Me),Ie.model.pushStackElement(),Ie.setCursorStates(me.source,3,de)}}),k.LastCursorMoveToSelect=(0,v.fK)(new class extends g{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Ie,me){const Me=Ie.getLastAddedCursorIndex(),de=Ie.getCursorStates(),ke=de.slice(0);ke[Me]=m.P.moveTo(Ie,de[Me],!0,me.position,me.viewPosition),Ie.model.pushStackElement(),Ie.setCursorStates(me.source,3,ke)}});class W extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,m.P.moveToBeginningOfLine(me,me.getCursorStates(),this._inSelectionMode)),me.revealPrimaryCursor(Me.source,!0)}}k.CursorHome=(0,v.fK)(new W({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),k.CursorHomeSelect=(0,v.fK)(new W({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class Z extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,this._exec(me.getCursorStates())),me.revealPrimaryCursor(Me.source,!0)}_exec(me){const Me=[];for(let de=0,ke=me.length;de<ke;de++){const Ue=me[de];Me[de]=C.Vi.fromModelState(Ue.modelState.move(this._inSelectionMode,Ue.modelState.position.lineNumber,1,0))}return Me}}k.CursorLineStart=(0,v.fK)(new Z({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:0,mac:{primary:287}}})),k.CursorLineStartSelect=(0,v.fK)(new Z({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ge extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,m.P.moveToEndOfLine(me,me.getCursorStates(),this._inSelectionMode,Me.sticky||!1)),me.revealPrimaryCursor(Me.source,!0)}}k.CursorEnd=(0,v.fK)(new ge({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:t.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:d.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),k.CursorEndSelect=(0,v.fK)(new ge({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:t.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:d.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class M extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,this._exec(me,me.getCursorStates())),me.revealPrimaryCursor(Me.source,!0)}_exec(me,Me){const de=[];for(let ke=0,Ue=Me.length;ke<Ue;ke++){const ze=Me[ke],ce=ze.modelState.position.lineNumber,Ve=me.model.getLineMaxColumn(ce);de[ke]=C.Vi.fromModelState(ze.modelState.move(this._inSelectionMode,ce,Ve,0))}return de}}k.CursorLineEnd=(0,v.fK)(new M({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:0,mac:{primary:291}}})),k.CursorLineEndSelect=(0,v.fK)(new M({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:0,mac:{primary:1315}}}));class we extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,m.P.moveToBeginningOfBuffer(me,me.getCursorStates(),this._inSelectionMode)),me.revealPrimaryCursor(Me.source,!0)}}k.CursorTop=(0,v.fK)(new we({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:2062,mac:{primary:2064}}})),k.CursorTopSelect=(0,v.fK)(new we({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Ee extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,m.P.moveToEndOfBuffer(me,me.getCursorStates(),this._inSelectionMode)),me.revealPrimaryCursor(Me.source,!0)}}k.CursorBottom=(0,v.fK)(new Ee({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:2061,mac:{primary:2066}}})),k.CursorBottomSelect=(0,v.fK)(new Ee({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class xe extends g{constructor(){super({id:"editorScroll",precondition:void 0,description:b.description})}runCoreEditorCommand(me,Me){const de=b.parse(Me);!de||this._runEditorScroll(me,Me.source,de)}_runEditorScroll(me,Me,de){const ke=this._computeDesiredScrollTop(me,de);if(de.revealCursor){const Ue=me.getCompletelyVisibleViewRangeAtScrollTop(ke);me.setCursorStates(Me,3,[m.P.findPositionInViewportIfOutside(me,me.getPrimaryCursorState(),Ue,de.select)])}me.viewLayout.setScrollPosition({scrollTop:ke},0)}_computeDesiredScrollTop(me,Me){if(1===Me.unit){const Ue=me.getCompletelyVisibleViewRange(),ze=me.coordinatesConverter.convertViewRangeToModelRange(Ue);let ce;ce=1===Me.direction?Math.max(1,ze.startLineNumber-Me.value):Math.min(me.model.getLineCount(),ze.startLineNumber+Me.value);const Ve=me.coordinatesConverter.convertModelPositionToViewPosition(new E.L(ce,1));return me.viewLayout.getVerticalOffsetForLineNumber(Ve.lineNumber)}if(5===Me.unit){let Ue=0;return 2===Me.direction&&(Ue=me.model.getLineCount()-me.cursorConfig.pageSize),me.viewLayout.getVerticalOffsetForLineNumber(Ue)}let de;de=3===Me.unit?me.cursorConfig.pageSize*Me.value:4===Me.unit?Math.round(me.cursorConfig.pageSize/2)*Me.value:Me.value;const ke=(1===Me.direction?-1:1)*de;return me.viewLayout.getCurrentScrollTop()+ke*me.cursorConfig.lineHeight}}k.EditorScrollImpl=xe,k.EditorScroll=(0,v.fK)(new xe),k.ScrollLineUp=(0,v.fK)(new class extends g{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Ie,me){k.EditorScroll._runEditorScroll(Ie,me.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageUp=(0,v.fK)(new class extends g{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Ie,me){k.EditorScroll._runEditorScroll(Ie,me.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),k.ScrollEditorTop=(0,v.fK)(new class extends g{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus}})}runCoreEditorCommand(Ie,me){k.EditorScroll._runEditorScroll(Ie,me.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),k.ScrollLineDown=(0,v.fK)(new class extends g{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Ie,me){k.EditorScroll._runEditorScroll(Ie,me.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageDown=(0,v.fK)(new class extends g{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Ie,me){k.EditorScroll._runEditorScroll(Ie,me.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),k.ScrollEditorBottom=(0,v.fK)(new class extends g{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus}})}runCoreEditorCommand(Ie,me){k.EditorScroll._runEditorScroll(Ie,me.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class Ne extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,[m.P.word(me,me.getPrimaryCursorState(),this._inSelectionMode,Me.position)]),me.revealPrimaryCursor(Me.source,!0)}}k.WordSelect=(0,v.fK)(new Ne({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),k.WordSelectDrag=(0,v.fK)(new Ne({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),k.LastCursorWordSelect=(0,v.fK)(new class extends g{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Ie,me){const Me=Ie.getLastAddedCursorIndex(),de=Ie.getCursorStates(),ke=de.slice(0),Ue=de[Me];ke[Me]=m.P.word(Ie,Ue,Ue.modelState.hasSelection(),me.position),Ie.model.pushStackElement(),Ie.setCursorStates(me.source,3,ke)}});class oe extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){me.model.pushStackElement(),me.setCursorStates(Me.source,3,[m.P.line(me,me.getPrimaryCursorState(),this._inSelectionMode,Me.position,Me.viewPosition)]),me.revealPrimaryCursor(Me.source,!1)}}k.LineSelect=(0,v.fK)(new oe({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),k.LineSelectDrag=(0,v.fK)(new oe({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Se extends g{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Me){const de=me.getLastAddedCursorIndex(),ke=me.getCursorStates(),Ue=ke.slice(0);Ue[de]=m.P.line(me,ke[de],this._inSelectionMode,Me.position,Me.viewPosition),me.model.pushStackElement(),me.setCursorStates(Me.source,3,Ue)}}k.LastCursorLineSelect=(0,v.fK)(new Se({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),k.LastCursorLineSelectDrag=(0,v.fK)(new Se({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),k.CancelSelection=(0,v.fK)(new class extends g{constructor(){super({id:"cancelSelection",precondition:t.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ie,me){Ie.model.pushStackElement(),Ie.setCursorStates(me.source,3,[m.P.cancelSelection(Ie,Ie.getPrimaryCursorState())]),Ie.revealPrimaryCursor(me.source,!0)}}),k.RemoveSecondaryCursors=(0,v.fK)(new class extends g{constructor(){super({id:"removeSecondaryCursors",precondition:t.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:t.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ie,me){Ie.model.pushStackElement(),Ie.setCursorStates(me.source,3,[Ie.getPrimaryCursorState()]),Ie.revealPrimaryCursor(me.source,!0),(0,S.i7)(d.NC("removedCursor","Removed secondary cursors"))}}),k.RevealLine=(0,v.fK)(new class extends g{constructor(){super({id:"revealLine",precondition:void 0,description:y.description})}runCoreEditorCommand(Ie,me){const Me=me,de=Me.lineNumber||0;let ke="number"==typeof de?de+1:parseInt(de)+1;ke<1&&(ke=1);const Ue=Ie.model.getLineCount();ke>Ue&&(ke=Ue);const ze=new L.e(ke,1,ke,Ie.model.getLineMaxColumn(ke));let ce=0;if(Me.at)switch(Me.at){case y.RawAtArgument.Top:ce=3;break;case y.RawAtArgument.Center:ce=1;break;case y.RawAtArgument.Bottom:ce=4}const Ve=Ie.coordinatesConverter.convertModelRangeToViewRange(ze);Ie.revealRange(me.source,!1,Ve,ce,0)}}),k.SelectAll=new class extends w{constructor(){super(v.Sq)}runDOMCommand(){n.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Ie,me,Me){const de=me._getViewModel();!de||this.runCoreEditorCommand(de,Me)}runCoreEditorCommand(Ie,me){Ie.model.pushStackElement(),Ie.setCursorStates("keyboard",3,[m.P.selectAll(Ie,Ie.getPrimaryCursorState())])}},k.SetSelection=(0,v.fK)(new class extends g{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Ie,me){Ie.model.pushStackElement(),Ie.setCursorStates(me.source,3,[C.Vi.fromModelSelection(me.selection)])}})}(D||(D={}));const x=a.Ao.and(t.u.textInputFocus,t.u.columnSelection);function P(k,F){p.W.registerKeybindingRule({id:k,primary:F,when:x,weight:1})}function O(k){return k.register(),k}var V;P(D.CursorColumnSelectLeft.id,1039),P(D.CursorColumnSelectRight.id,1041),P(D.CursorColumnSelectUp.id,1040),P(D.CursorColumnSelectPageUp.id,1035),P(D.CursorColumnSelectDown.id,1042),P(D.CursorColumnSelectPageDown.id,1036),function(k){class F extends v._l{runEditorCommand(K,U,ne){const N=U._getViewModel();!N||this.runCoreEditingCommand(U,N,ne||{})}}k.CoreEditingCommand=F,k.LineBreakInsert=(0,v.fK)(new class extends F{constructor(){super({id:"lineBreakInsert",precondition:t.u.writable,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(j,K,U){j.pushUndoStop(),j.executeCommands(this.id,c.u6.lineBreakInsert(K.cursorConfig,K.model,K.getCursorStates().map(ne=>ne.modelState.selection)))}}),k.Outdent=(0,v.fK)(new class extends F{constructor(){super({id:"outdent",precondition:t.u.writable,kbOpts:{weight:0,kbExpr:a.Ao.and(t.u.editorTextFocus,t.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(j,K,U){j.pushUndoStop(),j.executeCommands(this.id,c.u6.outdent(K.cursorConfig,K.model,K.getCursorStates().map(ne=>ne.modelState.selection))),j.pushUndoStop()}}),k.Tab=(0,v.fK)(new class extends F{constructor(){super({id:"tab",precondition:t.u.writable,kbOpts:{weight:0,kbExpr:a.Ao.and(t.u.editorTextFocus,t.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(j,K,U){j.pushUndoStop(),j.executeCommands(this.id,c.u6.tab(K.cursorConfig,K.model,K.getCursorStates().map(ne=>ne.modelState.selection))),j.pushUndoStop()}}),k.DeleteLeft=(0,v.fK)(new class extends F{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(j,K,U){const[ne,N]=s.A.deleteLeft(K.getPrevEditOperationType(),K.cursorConfig,K.model,K.getCursorStates().map(W=>W.modelState.selection),K.getCursorAutoClosedCharacters());ne&&j.pushUndoStop(),j.executeCommands(this.id,N),K.setPrevEditOperationType(2)}}),k.DeleteRight=(0,v.fK)(new class extends F{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:t.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(j,K,U){const[ne,N]=s.A.deleteRight(K.getPrevEditOperationType(),K.cursorConfig,K.model,K.getCursorStates().map(W=>W.modelState.selection));ne&&j.pushUndoStop(),j.executeCommands(this.id,N),K.setPrevEditOperationType(3)}}),k.Undo=new class extends w{constructor(){super(v.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(j,K,U){if(K.hasModel()&&!0!==K.getOption(83))return K.getModel().undo()}},k.Redo=new class extends w{constructor(){super(v.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(j,K,U){if(K.hasModel()&&!0!==K.getOption(83))return K.getModel().redo()}}}(V||(V={}));class H extends v.mY{constructor(F,j,K){super({id:F,precondition:void 0,description:K}),this._handlerId=j}runCommand(F,j){const K=F.get(T.$).getFocusedCodeEditor();!K||K.trigger("keyboard",this._handlerId,j)}}function z(k,F){O(new H("default:"+k,k)),O(new H(k,k,F))}z("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),z("replacePreviousChar"),z("compositionType"),z("compositionStart"),z("compositionEnd"),z("paste"),z("cut")},78812:(Dt,Y,e)=>{"use strict";e.d(Y,{Z0:()=>b,dR:()=>g,Bo:()=>a});var d=e(67719),n=e(64023),l=e(1187),S=e(34189),v=e(59547),T=e(61408),C=e(44827),E=e(4259);const c={DragAndDropContribution:"workbench.contributions.dragAndDrop"};E.B.add(c.DragAndDropContribution,new class m{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}});function a(y){const w=new l.Hl;for(const D of y.items){const x=D.type;if("string"===D.kind){const P=new Promise(O=>D.getAsString(O));w.append(x,(0,l.ZO)(P))}else if("file"===D.kind){const P=D.getAsFile();P&&w.append(x,p(P))}}return w}function p(y){const w=y.path?v.o.parse(y.path):void 0;return(0,l.Ix)(y.name,w,()=>function(y,w,D,x){return new(D||(D=Promise))(function(O,V){function H(F){try{k(x.next(F))}catch(j){V(j)}}function z(F){try{k(x.throw(F))}catch(j){V(j)}}function k(F){F.done?O(F.value):function P(O){return O instanceof D?O:new D(function(V){V(O)})}(F.value).then(H,z)}k((x=x.apply(y,w||[])).next())})}(this,void 0,void 0,function*(){return new Uint8Array(yield y.arrayBuffer())}))}const u=Object.freeze(["CodeEditors","CodeFiles",d.g.RESOURCES]);function g(y,w,D=!1){var x;if(w.dataTransfer&&(D||!y.has(S.v.uriList))){const P=function _(y){var w;const D=[];if(y.dataTransfer&&y.dataTransfer.types.length>0){const x=y.dataTransfer.getData("CodeEditors");if(x)try{D.push(...(0,T.Q)(x))}catch{}else try{const V=y.dataTransfer.getData(d.g.RESOURCES);D.push(...function s(y){const w=[];if(y){const D=JSON.parse(y);for(const x of D)if(x.indexOf(":")>0){const{selection:P,uri:O}=(0,C.xI)(v.o.parse(x));w.push({resource:O,options:{selection:P}})}}return w}(V))}catch{}if(null!==(w=y.dataTransfer)&&void 0!==w&&w.files)for(let V=0;V<y.dataTransfer.files.length;V++){const H=y.dataTransfer.files[V];if(H&&H.path)try{D.push({resource:v.o.file(H.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const P=y.dataTransfer.getData("CodeFiles");if(P)try{const V=JSON.parse(P);for(const H of V)D.push({resource:v.o.file(H),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const O=E.B.as(c.DragAndDropContribution).getAll();for(const V of O){const H=y.dataTransfer.getData(V.dataFormatKey);if(H)try{D.push(...V.getEditorInputs(H))}catch{}}}return D}(w).filter(O=>O.resource).map(O=>O.resource.toString());for(const O of null===(x=w.dataTransfer)||void 0===x?void 0:x.items){const V=O.getAsFile();V&&P.push(V.path?v.o.file(V.path).toString():V.name)}P.length&&y.replace(S.v.uriList,(0,l.ZO)(b.create(P)))}for(const P of u)y.delete(P)}const b=Object.freeze({create:y=>(0,n.EB)(y.map(w=>w.toString())).join("\r\n"),parse:y=>y.split("\r\n").filter(w=>!w.startsWith("#"))})},91353:(Dt,Y,e)=>{"use strict";e.d(Y,{CL:()=>n,Pi:()=>S,QI:()=>l});var d=e(22859);function n(v){return!(!v||"function"!=typeof v.getEditorType)&&v.getEditorType()===d.g.ICodeEditor}function l(v){return!(!v||"function"!=typeof v.getEditorType)&&v.getEditorType()===d.g.IDiffEditor}function S(v){return n(v)?v:l(v)?v.getModifiedEditor():null}},69545:(Dt,Y,e)=>{"use strict";e.d(Y,{AL:()=>p,N5:()=>t,Pp:()=>m,YN:()=>C,gy:()=>c,kG:()=>s,rU:()=>E,t7:()=>u,tC:()=>a});var d=e(98463),n=e(11210),l=e(97340),S=e(48648),v=e(80142),T=e(4062);class C{constructor(w,D){this.x=w,this.y=D,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new E(this.x-d.DI.scrollX,this.y-d.DI.scrollY)}}class E{constructor(w,D){this.clientX=w,this.clientY=D,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new C(this.clientX+d.DI.scrollX,this.clientY+d.DI.scrollY)}}class L{constructor(w,D,x,P){this.x=w,this.y=D,this.width=x,this.height=P,this._editorPagePositionBrand=void 0}}class _{constructor(w,D){this.x=w,this.y=D,this._positionRelativeToEditorBrand=void 0}}function s(y){const w=d.i(y);return new L(w.left,w.top,w.width,w.height)}function m(y,w,D){return new _((D.x-w.x)/(w.width/y.offsetWidth),(D.y-w.y)/(w.height/y.offsetHeight))}class c extends l.n{constructor(w,D,x){super(w),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=D,this.pos=new C(this.posx,this.posy),this.editorPos=s(x),this.relativePos=m(x,this.editorPos,this.pos)}}class t{constructor(w){this._editorViewDomNode=w}_create(w){return new c(w,!1,this._editorViewDomNode)}onContextMenu(w,D){return d.nm(w,"contextmenu",x=>{D(this._create(x))})}onMouseUp(w,D){return d.nm(w,"mouseup",x=>{D(this._create(x))})}onMouseDown(w,D){return d.nm(w,d.tw.MOUSE_DOWN,x=>{D(this._create(x))})}onPointerDown(w,D){return d.nm(w,d.tw.POINTER_DOWN,x=>{D(this._create(x),x.pointerId)})}onMouseLeave(w,D){return d.nm(w,d.tw.MOUSE_LEAVE,x=>{D(this._create(x))})}onMouseMove(w,D){return d.nm(w,"mousemove",x=>D(this._create(x)))}}class a{constructor(w){this._editorViewDomNode=w}_create(w){return new c(w,!1,this._editorViewDomNode)}onPointerUp(w,D){return d.nm(w,"pointerup",x=>{D(this._create(x))})}onPointerDown(w,D){return d.nm(w,d.tw.POINTER_DOWN,x=>{D(this._create(x),x.pointerId)})}onPointerLeave(w,D){return d.nm(w,d.tw.POINTER_LEAVE,x=>{D(this._create(x))})}onPointerMove(w,D){return d.nm(w,"pointermove",x=>D(this._create(x)))}}class p extends v.JT{constructor(w){super(),this._editorViewDomNode=w,this._globalPointerMoveMonitor=this._register(new n.C),this._keydownListener=null}startMonitoring(w,D,x,P,O){this._keydownListener=d.mu(document,"keydown",V=>{V.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,V.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(w,D,x,V=>{P(new c(V,!0,this._editorViewDomNode))},V=>{this._keydownListener.dispose(),O(V)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}let u=(()=>{class y{constructor(D){this._editor=D,this._instanceId=++y._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new S.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(D){const x=this.getOrCreateRule(D);return x.increaseRefCount(),{className:x.className,dispose:()=>{x.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(D){const x=this.computeUniqueKey(D);let P=this._rules.get(x);if(!P){const O=this._counter++;P=new g(x,`dyn-rule-${this._instanceId}-${O}`,d.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,D),this._rules.set(x,P)}return P}computeUniqueKey(D){return JSON.stringify(D)}garbageCollect(){for(const D of this._rules.values())D.hasReferences()||(this._rules.delete(D.key),D.dispose())}}return y._idPool=0,y})();class g{constructor(w,D,x,P){this.key=w,this.className=D,this.properties=P,this._referenceCount=0,this._styleElement=d.dS(x),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(w,D){let x=`.${w} {`;for(const P in D){const O=D[P];let V;V="object"==typeof O?`var(${(0,T.QO2)(O.id)})`:O;const H=P.replace(/(^[A-Z])/,([w])=>w.toLowerCase()).replace(/([A-Z])/g,([w])=>`-${w.toLowerCase()}`);x+=`\n\t${H}: ${V};`}return x+="\n}",x}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},26845:(Dt,Y,e)=>{"use strict";e.d(Y,{AJ:()=>u,QG:()=>V,Qr:()=>P,R6:()=>y,Sq:()=>ne,Uc:()=>z,_K:()=>H,_l:()=>b,fK:()=>x,jY:()=>w,kz:()=>U,mY:()=>p,n_:()=>K,rn:()=>O,sb:()=>D});var z,N,d=e(55197),n=e(59547),l=e(33745),S=e(18723),v=e(59602),T=e(1149),C=e(74918),E=e(66549),L=e(16468),_=e(9265),s=e(98915),m=e(4259),c=e(24131),t=e(72715),a=e(29693);class p{constructor(W){this.id=W.id,this.precondition=W.precondition,this._kbOpts=W.kbOpts,this._menuOpts=W.menuOpts,this._description=W.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const W=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const Z of W){let ge=Z.kbExpr;this.precondition&&(ge=ge?L.Ao.and(ge,this.precondition):this.precondition),s.W.registerKeybindingRule({id:this.id,weight:Z.weight,args:Z.args,when:ge,primary:Z.primary,secondary:Z.secondary,win:Z.win,linux:Z.linux,mac:Z.mac})}}E.P0.registerCommand({id:this.id,handler:(W,Z)=>this.runCommand(W,Z),description:this._description})}_registerMenuItem(W){C.BH.appendMenuItem(W.menuId,{group:W.group,command:{id:this.id,title:W.title,icon:W.icon,precondition:this.precondition},when:W.when,order:W.order})}}class u extends p{constructor(){super(...arguments),this._implementations=[]}addImplementation(W,Z,ge){return this._implementations.push({priority:W,name:Z,implementation:ge}),this._implementations.sort((M,we)=>we.priority-M.priority),{dispose:()=>{for(let M=0;M<this._implementations.length;M++)if(this._implementations[M].implementation===ge)return void this._implementations.splice(M,1)}}}runCommand(W,Z){const ge=W.get(a.VZ);ge.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const M of this._implementations){const we=M.implementation(W,Z);if(we)return ge.trace(`Command '${this.id}' was handled by '${M.name}'.`),"boolean"==typeof we?void 0:we}ge.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class g extends p{constructor(W,Z){super(Z),this.command=W}runCommand(W,Z){return this.command.runCommand(W,Z)}}class b extends p{static bindToContribution(W){return class extends b{constructor(ge){super(ge),this._callback=ge.handler}runEditorCommand(ge,M,we){const Ee=W(M);Ee&&this._callback(Ee,we)}}}static runEditorCommand(W,Z,ge,M){const we=W.get(l.$),Ee=we.getFocusedCodeEditor()||we.getActiveCodeEditor();if(Ee)return Ee.invokeWithinContext(xe=>{if(xe.get(L.i6).contextMatchesRules((0,t.f6)(ge)))return M(xe,Ee,Z)})}runCommand(W,Z){return b.runEditorCommand(W,Z,this.precondition,(ge,M,we)=>this.runEditorCommand(ge,M,we))}}class y extends b{constructor(W){super(y.convertOptions(W)),this.label=W.label,this.alias=W.alias}static convertOptions(W){let Z;function ge(M){return M.menuId||(M.menuId=C.eH.EditorContext),M.title||(M.title=W.label),M.when=L.Ao.and(W.precondition,M.when),M}return Z=Array.isArray(W.menuOpts)?W.menuOpts:W.menuOpts?[W.menuOpts]:[],Array.isArray(W.contextMenuOpts)?Z.push(...W.contextMenuOpts.map(ge)):W.contextMenuOpts&&Z.push(ge(W.contextMenuOpts)),W.menuOpts=Z,W}runEditorCommand(W,Z,ge){return this.reportTelemetry(W,Z),this.run(W,Z,ge||{})}reportTelemetry(W,Z){W.get(c.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class w extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(W,Z){return this._implementations.push([W,Z]),this._implementations.sort((ge,M)=>M[0]-ge[0]),{dispose:()=>{for(let ge=0;ge<this._implementations.length;ge++)if(this._implementations[ge][1]===Z)return void this._implementations.splice(ge,1)}}}run(W,Z,ge){for(const M of this._implementations){const we=M[1](W,Z,ge);if(we)return"boolean"==typeof we?void 0:we}}}function D(N,W){E.P0.registerCommand(N,function(Z,...ge){const M=Z.get(_.TG),[we,Ee]=ge;(0,t.p_)(n.o.isUri(we)),(0,t.p_)(S.L.isIPosition(Ee));const xe=Z.get(v.q).getModel(we);if(xe){const Ne=S.L.lift(Ee);return M.invokeFunction(W,xe,Ne,...ge.slice(2))}return Z.get(T.S).createModelReference(we).then(Ne=>new Promise((oe,Se)=>{try{oe(M.invokeFunction(W,Ne.object.textEditorModel,S.L.lift(Ee),ge.slice(2)))}catch(Ie){Se(Ie)}}).finally(()=>{Ne.dispose()}))})}function x(N){return F.INSTANCE.registerEditorCommand(N),N}function P(N){const W=new N;return F.INSTANCE.registerEditorAction(W),W}function O(N){return F.INSTANCE.registerEditorAction(N),N}function V(N){F.INSTANCE.registerEditorAction(N)}function H(N,W){F.INSTANCE.registerEditorContribution(N,W)}(N=z||(z={})).getEditorCommand=function W(Ee){return F.INSTANCE.getEditorCommand(Ee)},N.getEditorActions=function Z(){return F.INSTANCE.getEditorActions()},N.getEditorContributions=function ge(){return F.INSTANCE.getEditorContributions()},N.getSomeEditorContributions=function M(Ee){return F.INSTANCE.getEditorContributions().filter(xe=>Ee.indexOf(xe.id)>=0)},N.getDiffEditorContributions=function we(){return F.INSTANCE.getDiffEditorContributions()};class F{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(W,Z){this.editorContributions.push({id:W,ctor:Z})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(W){W.register(),this.editorActions.push(W)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(W){W.register(),this.editorCommands[W.id]=W}getEditorCommand(W){return this.editorCommands[W]||null}}function j(N){return N.register(),N}F.INSTANCE=new F,m.B.add("editor.contributions",F.INSTANCE);const K=j(new u({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:C.eH.MenubarEditMenu,group:"1_do",title:d.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:C.eH.CommandPalette,group:"",title:d.NC("undo","Undo"),order:1}]}));j(new g(K,{id:"default:undo",precondition:void 0}));const U=j(new u({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:C.eH.MenubarEditMenu,group:"1_do",title:d.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:C.eH.CommandPalette,group:"",title:d.NC("redo","Redo"),order:1}]}));j(new g(U,{id:"default:redo",precondition:void 0}));const ne=j(new u({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:C.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:C.eH.CommandPalette,group:"",title:d.NC("selectAll","Select All"),order:1}]}))},61560:(Dt,Y,e)=>{"use strict";e.d(Y,{Gl:()=>T,fo:()=>v,pH:()=>C,vu:()=>S});var d=e(9265),n=e(59547),l=e(72715);const S=(0,d.yh)("IWorkspaceEditService");class v{constructor(L){this.metadata=L}static convert(L){return L.edits.map(_=>{if(T.is(_))return T.lift(_);if(C.is(_))return C.lift(_);throw new Error("Unsupported edit")})}}class T extends v{constructor(L,_,s,m){super(m),this.resource=L,this.textEdit=_,this.versionId=s}static is(L){return L instanceof T||(0,l.Kn)(L)&&n.o.isUri(L.resource)&&(0,l.Kn)(L.textEdit)}static lift(L){return L instanceof T?L:new T(L.resource,L.textEdit,L.versionId,L.metadata)}}class C extends v{constructor(L,_,s={},m){super(m),this.oldResource=L,this.newResource=_,this.options=s}static is(L){return L instanceof C||(0,l.Kn)(L)&&(Boolean(L.newResource)||Boolean(L.oldResource))}static lift(L){return L instanceof C?L:new C(L.oldResource,L.newResource,L.options,L.metadata)}}},33745:(Dt,Y,e)=>{"use strict";e.d(Y,{$:()=>n});const n=(0,e(9265).yh)("codeEditorService")},30910:(Dt,Y,e)=>{"use strict";e.d(Y,{Q8:()=>yt,eu:()=>Bt});var d=e(48648),n=e(80142),l=e(4125),S=e(3778),v=e(8841),T=e(72715),C=e(73879);let L=!1;function _(He){!v.$L||(L||(L=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(He.message))}class s{constructor(ye,Ae,ue,be){this.vsWorker=ye,this.req=Ae,this.method=ue,this.args=be,this.type=0}}class m{constructor(ye,Ae,ue,be){this.vsWorker=ye,this.seq=Ae,this.res=ue,this.err=be,this.type=1}}class c{constructor(ye,Ae,ue,be){this.vsWorker=ye,this.req=Ae,this.eventName=ue,this.arg=be,this.type=2}}class t{constructor(ye,Ae,ue){this.vsWorker=ye,this.req=Ae,this.event=ue,this.type=3}}class a{constructor(ye,Ae){this.vsWorker=ye,this.req=Ae,this.type=4}}class p{constructor(ye){this._workerId=-1,this._handler=ye,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(ye){this._workerId=ye}sendMessage(ye,Ae){const ue=String(++this._lastSentReq);return new Promise((be,Je)=>{this._pendingReplies[ue]={resolve:be,reject:Je},this._send(new s(this._workerId,ue,ye,Ae))})}listen(ye,Ae){let ue=null;const be=new S.Q5({onFirstListenerAdd:()=>{ue=String(++this._lastSentReq),this._pendingEmitters.set(ue,be),this._send(new c(this._workerId,ue,ye,Ae))},onLastListenerRemove:()=>{this._pendingEmitters.delete(ue),this._send(new a(this._workerId,ue)),ue=null}});return be.event}handleMessage(ye){!ye||!ye.vsWorker||-1!==this._workerId&&ye.vsWorker!==this._workerId||this._handleMessage(ye)}_handleMessage(ye){switch(ye.type){case 1:return this._handleReplyMessage(ye);case 0:return this._handleRequestMessage(ye);case 2:return this._handleSubscribeEventMessage(ye);case 3:return this._handleEventMessage(ye);case 4:return this._handleUnsubscribeEventMessage(ye)}}_handleReplyMessage(ye){if(!this._pendingReplies[ye.seq])return void console.warn("Got reply to unknown seq");const Ae=this._pendingReplies[ye.seq];if(delete this._pendingReplies[ye.seq],ye.err){let ue=ye.err;return ye.err.$isError&&(ue=new Error,ue.name=ye.err.name,ue.message=ye.err.message,ue.stack=ye.err.stack),void Ae.reject(ue)}Ae.resolve(ye.res)}_handleRequestMessage(ye){const Ae=ye.req;this._handler.handleMessage(ye.method,ye.args).then(be=>{this._send(new m(this._workerId,Ae,be,void 0))},be=>{be.detail instanceof Error&&(be.detail=(0,l.ri)(be.detail)),this._send(new m(this._workerId,Ae,void 0,(0,l.ri)(be)))})}_handleSubscribeEventMessage(ye){const Ae=ye.req,ue=this._handler.handleEvent(ye.eventName,ye.arg)(be=>{this._send(new t(this._workerId,Ae,be))});this._pendingEvents.set(Ae,ue)}_handleEventMessage(ye){this._pendingEmitters.has(ye.req)?this._pendingEmitters.get(ye.req).fire(ye.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(ye){this._pendingEvents.has(ye.req)?(this._pendingEvents.get(ye.req).dispose(),this._pendingEvents.delete(ye.req)):console.warn("Got unsubscribe for unknown req")}_send(ye){const Ae=[];if(0===ye.type)for(let ue=0;ue<ye.args.length;ue++)ye.args[ue]instanceof ArrayBuffer&&Ae.push(ye.args[ue]);else 1===ye.type&&ye.res instanceof ArrayBuffer&&Ae.push(ye.res);this._handler.sendMessage(ye,Ae)}}class u extends n.JT{constructor(ye,Ae,ue){super();let be=null;this._worker=this._register(ye.create("vs/base/common/worker/simpleWorker",Ut=>{this._protocol.handleMessage(Ut)},Ut=>{be?.(Ut)})),this._protocol=new p({sendMessage:(Ut,vn)=>{this._worker.postMessage(Ut,vn)},handleMessage:(Ut,vn)=>{if("function"!=typeof ue[Ut])return Promise.reject(new Error("Missing method "+Ut+" on main thread host."));try{return Promise.resolve(ue[Ut].apply(ue,vn))}catch(Mn){return Promise.reject(Mn)}},handleEvent:(Ut,vn)=>{if(b(Ut)){const Mn=ue[Ut].call(ue,vn);if("function"!=typeof Mn)throw new Error(`Missing dynamic event ${Ut} on main thread host.`);return Mn}if(g(Ut)){const Mn=ue[Ut];if("function"!=typeof Mn)throw new Error(`Missing event ${Ut} on main thread host.`);return Mn}throw new Error(`Malformed event name ${Ut}`)}}),this._protocol.setWorkerId(this._worker.getId());let Je=null;typeof v.li.require<"u"&&"function"==typeof v.li.require.getConfig?Je=v.li.require.getConfig():typeof v.li.requirejs<"u"&&(Je=v.li.requirejs.s.contexts._.config);const Fe=T.$E(ue);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(Je)),Ae,Fe]);const nt=(Ut,vn)=>this._request(Ut,vn),bt=(Ut,vn)=>this._protocol.listen(Ut,vn);this._lazyProxy=new Promise((Ut,vn)=>{be=vn,this._onModuleLoaded.then(Mn=>{Ut(function y(He,ye,Ae){const ue=Fe=>function(){const nt=Array.prototype.slice.call(arguments,0);return ye(Fe,nt)},be=Fe=>function(nt){return Ae(Fe,nt)},Je={};for(const Fe of He)Je[Fe]=b(Fe)?be(Fe):g(Fe)?Ae(Fe,void 0):ue(Fe);return Je}(Mn,nt,bt))},Mn=>{vn(Mn),this._onError("Worker failed to load "+Ae,Mn)})})}getProxyObject(){return this._lazyProxy}_request(ye,Ae){return new Promise((ue,be)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(ye,Ae).then(ue,be)},be)})}_onError(ye,Ae){console.error(ye),console.info(Ae)}}function g(He){return"o"===He[0]&&"n"===He[1]&&C.df(He.charCodeAt(2))}function b(He){return/^onDynamic/.test(He)&&C.df(He.charCodeAt(9))}var x;const P=null===(x=window.trustedTypes)||void 0===x?void 0:x.createPolicy("defaultWorkerFactory",{createScriptURL:He=>He});class H{constructor(ye,Ae,ue,be,Je){this.id=Ae;const Fe=function O(He){if(v.li.MonacoEnvironment){if("function"==typeof v.li.MonacoEnvironment.getWorker)return v.li.MonacoEnvironment.getWorker("workerMain.js",He);if("function"==typeof v.li.MonacoEnvironment.getWorkerUrl){const ye=v.li.MonacoEnvironment.getWorkerUrl("workerMain.js",He);return new Worker(P?P.createScriptURL(ye):ye,{name:He})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(ue);this.worker=function V(He){return"function"==typeof He.then}(Fe)?Fe:Promise.resolve(Fe),this.postMessage(ye,[]),this.worker.then(nt=>{nt.onmessage=function(bt){be(bt.data)},nt.onmessageerror=Je,"function"==typeof nt.addEventListener&&nt.addEventListener("error",Je)})}getId(){return this.id}postMessage(ye,Ae){var ue;null===(ue=this.worker)||void 0===ue||ue.then(be=>be.postMessage(ye,Ae))}dispose(){var ye;null===(ye=this.worker)||void 0===ye||ye.then(Ae=>Ae.terminate()),this.worker=null}}let z=(()=>{class He{constructor(Ae){this._label=Ae,this._webWorkerFailedBeforeError=!1}create(Ae,ue,be){const Je=++He.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new H(Ae,Je,this._label||"anonymous"+Je,ue,Fe=>{_(Fe),this._webWorkerFailedBeforeError=Fe,be(Fe)})}}return He.LAST_WORKER_ID=0,He})();var k=e(98570),F=e(94911),j=e(52237),K=e(59547),U=e(18723);function N(He,ye,Ae,ue){return new j.Hs(He,ye,Ae).ComputeDiff(ue)}class W{constructor(ye){const Ae=[],ue=[];for(let be=0,Je=ye.length;be<Je;be++)Ae[be]=xe(ye[be],1),ue[be]=Ne(ye[be],1);this.lines=ye,this._startColumns=Ae,this._endColumns=ue}getElements(){const ye=[];for(let Ae=0,ue=this.lines.length;Ae<ue;Ae++)ye[Ae]=this.lines[Ae].substring(this._startColumns[Ae]-1,this._endColumns[Ae]-1);return ye}getStrictElement(ye){return this.lines[ye]}getStartLineNumber(ye){return ye+1}getEndLineNumber(ye){return ye+1}createCharSequence(ye,Ae,ue){const be=[],Je=[],Fe=[];let nt=0;for(let bt=Ae;bt<=ue;bt++){const Ut=this.lines[bt],Mn=ye?this._endColumns[bt]:Ut.length+1;for(let St=ye?this._startColumns[bt]:1;St<Mn;St++)be[nt]=Ut.charCodeAt(St-1),Je[nt]=bt+1,Fe[nt]=St,nt++;!ye&&bt<ue&&(be[nt]=10,Je[nt]=bt+1,Fe[nt]=Ut.length+1,nt++)}return new Z(be,Je,Fe)}}class Z{constructor(ye,Ae,ue){this._charCodes=ye,this._lineNumbers=Ae,this._columns=ue}toString(){return"["+this._charCodes.map((ye,Ae)=>(10===ye?"\\n":String.fromCharCode(ye))+`-(${this._lineNumbers[Ae]},${this._columns[Ae]})`).join(", ")+"]"}_assertIndex(ye,Ae){if(ye<0||ye>=Ae.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(ye){return ye>0&&ye===this._lineNumbers.length?this.getEndLineNumber(ye-1):(this._assertIndex(ye,this._lineNumbers),this._lineNumbers[ye])}getEndLineNumber(ye){return-1===ye?this.getStartLineNumber(ye+1):(this._assertIndex(ye,this._lineNumbers),10===this._charCodes[ye]?this._lineNumbers[ye]+1:this._lineNumbers[ye])}getStartColumn(ye){return ye>0&&ye===this._columns.length?this.getEndColumn(ye-1):(this._assertIndex(ye,this._columns),this._columns[ye])}getEndColumn(ye){return-1===ye?this.getStartColumn(ye+1):(this._assertIndex(ye,this._columns),10===this._charCodes[ye]?1:this._columns[ye]+1)}}class ge{constructor(ye,Ae,ue,be,Je,Fe,nt,bt){this.originalStartLineNumber=ye,this.originalStartColumn=Ae,this.originalEndLineNumber=ue,this.originalEndColumn=be,this.modifiedStartLineNumber=Je,this.modifiedStartColumn=Fe,this.modifiedEndLineNumber=nt,this.modifiedEndColumn=bt}static createFromDiffChange(ye,Ae,ue){const be=Ae.getStartLineNumber(ye.originalStart),Je=Ae.getStartColumn(ye.originalStart),Fe=Ae.getEndLineNumber(ye.originalStart+ye.originalLength-1),nt=Ae.getEndColumn(ye.originalStart+ye.originalLength-1),bt=ue.getStartLineNumber(ye.modifiedStart),Ut=ue.getStartColumn(ye.modifiedStart),vn=ue.getEndLineNumber(ye.modifiedStart+ye.modifiedLength-1),Mn=ue.getEndColumn(ye.modifiedStart+ye.modifiedLength-1);return new ge(be,Je,Fe,nt,bt,Ut,vn,Mn)}}class we{constructor(ye,Ae,ue,be,Je){this.originalStartLineNumber=ye,this.originalEndLineNumber=Ae,this.modifiedStartLineNumber=ue,this.modifiedEndLineNumber=be,this.charChanges=Je}static createFromDiffResult(ye,Ae,ue,be,Je,Fe,nt){let bt,Ut,vn,Mn,St;if(0===Ae.originalLength?(bt=ue.getStartLineNumber(Ae.originalStart)-1,Ut=0):(bt=ue.getStartLineNumber(Ae.originalStart),Ut=ue.getEndLineNumber(Ae.originalStart+Ae.originalLength-1)),0===Ae.modifiedLength?(vn=be.getStartLineNumber(Ae.modifiedStart)-1,Mn=0):(vn=be.getStartLineNumber(Ae.modifiedStart),Mn=be.getEndLineNumber(Ae.modifiedStart+Ae.modifiedLength-1)),Fe&&Ae.originalLength>0&&Ae.originalLength<20&&Ae.modifiedLength>0&&Ae.modifiedLength<20&&Je()){const gn=ue.createCharSequence(ye,Ae.originalStart,Ae.originalStart+Ae.originalLength-1),Vn=be.createCharSequence(ye,Ae.modifiedStart,Ae.modifiedStart+Ae.modifiedLength-1);if(gn.getElements().length>0&&Vn.getElements().length>0){let Sn=N(gn,Vn,Je,!0).changes;nt&&(Sn=function M(He){if(He.length<=1)return He;const ye=[He[0]];let Ae=ye[0];for(let ue=1,be=He.length;ue<be;ue++){const Je=He[ue];Math.min(Je.originalStart-(Ae.originalStart+Ae.originalLength),Je.modifiedStart-(Ae.modifiedStart+Ae.modifiedLength))<3?(Ae.originalLength=Je.originalStart+Je.originalLength-Ae.originalStart,Ae.modifiedLength=Je.modifiedStart+Je.modifiedLength-Ae.modifiedStart):(ye.push(Je),Ae=Je)}return ye}(Sn)),St=[];for(let Gn=0,ci=Sn.length;Gn<ci;Gn++)St.push(ge.createFromDiffChange(Sn[Gn],gn,Vn))}}return new we(bt,Ut,vn,Mn,St)}}class Ee{constructor(ye,Ae,ue){this.shouldComputeCharChanges=ue.shouldComputeCharChanges,this.shouldPostProcessCharChanges=ue.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=ue.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=ue.shouldMakePrettyDiff,this.originalLines=ye,this.modifiedLines=Ae,this.original=new W(ye),this.modified=new W(Ae),this.continueLineDiff=oe(ue.maxComputationTime),this.continueCharDiff=oe(0===ue.maxComputationTime?0:Math.min(ue.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const ye=N(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),Ae=ye.changes,ue=ye.quitEarly;if(this.shouldIgnoreTrimWhitespace){const nt=[];for(let bt=0,Ut=Ae.length;bt<Ut;bt++)nt.push(we.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ae[bt],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:ue,changes:nt}}const be=[];let Je=0,Fe=0;for(let nt=-1,bt=Ae.length;nt<bt;nt++){const Ut=nt+1<bt?Ae[nt+1]:null,vn=Ut?Ut.originalStart:this.originalLines.length,Mn=Ut?Ut.modifiedStart:this.modifiedLines.length;for(;Je<vn&&Fe<Mn;){const St=this.originalLines[Je],gn=this.modifiedLines[Fe];if(St!==gn){{let Vn=xe(St,1),Sn=xe(gn,1);for(;Vn>1&&Sn>1&&St.charCodeAt(Vn-2)===gn.charCodeAt(Sn-2);)Vn--,Sn--;(Vn>1||Sn>1)&&this._pushTrimWhitespaceCharChange(be,Je+1,1,Vn,Fe+1,1,Sn)}{let Vn=Ne(St,1),Sn=Ne(gn,1);const Gn=St.length+1,ci=gn.length+1;for(;Vn<Gn&&Sn<ci&&St.charCodeAt(Vn-1)===St.charCodeAt(Sn-1);)Vn++,Sn++;(Vn<Gn||Sn<ci)&&this._pushTrimWhitespaceCharChange(be,Je+1,Vn,Gn,Fe+1,Sn,ci)}}Je++,Fe++}Ut&&(be.push(we.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ut,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Je+=Ut.originalLength,Fe+=Ut.modifiedLength)}return{quitEarly:ue,changes:be}}_pushTrimWhitespaceCharChange(ye,Ae,ue,be,Je,Fe,nt){if(this._mergeTrimWhitespaceCharChange(ye,Ae,ue,be,Je,Fe,nt))return;let bt;this.shouldComputeCharChanges&&(bt=[new ge(Ae,ue,Ae,be,Je,Fe,Je,nt)]),ye.push(new we(Ae,Ae,Je,Je,bt))}_mergeTrimWhitespaceCharChange(ye,Ae,ue,be,Je,Fe,nt){const bt=ye.length;if(0===bt)return!1;const Ut=ye[bt-1];return 0!==Ut.originalEndLineNumber&&0!==Ut.modifiedEndLineNumber&&Ut.originalEndLineNumber+1===Ae&&Ut.modifiedEndLineNumber+1===Je&&(Ut.originalEndLineNumber=Ae,Ut.modifiedEndLineNumber=Je,this.shouldComputeCharChanges&&Ut.charChanges&&Ut.charChanges.push(new ge(Ae,ue,Ae,be,Je,Fe,Je,nt)),!0)}}function xe(He,ye){const Ae=C.LC(He);return-1===Ae?ye:Ae+1}function Ne(He,ye){const Ae=C.ow(He);return-1===Ae?ye:Ae+2}function oe(He){if(0===He)return()=>!0;const ye=Date.now();return()=>Date.now()-ye<He}var Se=e(98950),Ie=e(50894),me=e(81742);class Me{constructor(ye,Ae,ue){const be=new Uint8Array(ye*Ae);for(let Je=0,Fe=ye*Ae;Je<Fe;Je++)be[Je]=ue;this._data=be,this.rows=ye,this.cols=Ae}get(ye,Ae){return this._data[ye*this.cols+Ae]}set(ye,Ae,ue){this._data[ye*this.cols+Ae]=ue}}class de{constructor(ye){let Ae=0,ue=0;for(let Je=0,Fe=ye.length;Je<Fe;Je++){const[nt,bt,Ut]=ye[Je];bt>Ae&&(Ae=bt),nt>ue&&(ue=nt),Ut>ue&&(ue=Ut)}Ae++,ue++;const be=new Me(ue,Ae,0);for(let Je=0,Fe=ye.length;Je<Fe;Je++){const[nt,bt,Ut]=ye[Je];be.set(nt,bt,Ut)}this._states=be,this._maxCharCode=Ae}nextState(ye,Ae){return Ae<0||Ae>=this._maxCharCode?0:this._states.get(ye,Ae)}}let ke=null,ze=null;class Ve{static _createLink(ye,Ae,ue,be,Je){let Fe=Je-1;do{const nt=Ae.charCodeAt(Fe);if(2!==ye.get(nt))break;Fe--}while(Fe>be);if(be>0){const nt=Ae.charCodeAt(be-1),bt=Ae.charCodeAt(Fe);(40===nt&&41===bt||91===nt&&93===bt||123===nt&&125===bt)&&Fe--}return{range:{startLineNumber:ue,startColumn:be+1,endLineNumber:ue,endColumn:Fe+2},url:Ae.substring(be,Fe+1)}}static computeLinks(ye,Ae=function Ue(){return null===ke&&(ke=new de([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ke}()){const ue=function ce(){if(null===ze){ze=new me.N(0);const He=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let Ae=0;Ae<He.length;Ae++)ze.set(He.charCodeAt(Ae),1);const ye=".,;:";for(let Ae=0;Ae<ye.length;Ae++)ze.set(ye.charCodeAt(Ae),2)}return ze}(),be=[];for(let Je=1,Fe=ye.getLineCount();Je<=Fe;Je++){const nt=ye.getLineContent(Je),bt=nt.length;let Ut=0,vn=0,Mn=0,St=1,gn=!1,Vn=!1,Sn=!1,Gn=!1;for(;Ut<bt;){let ci=!1;const ii=nt.charCodeAt(Ut);if(13===St){let Ei;switch(ii){case 40:gn=!0,Ei=0;break;case 41:Ei=gn?0:1;break;case 91:Sn=!0,Vn=!0,Ei=0;break;case 93:Sn=!1,Ei=Vn?0:1;break;case 123:Gn=!0,Ei=0;break;case 125:Ei=Gn?0:1;break;case 39:Ei=39===Mn?1:0;break;case 34:Ei=34===Mn?1:0;break;case 96:Ei=96===Mn?1:0;break;case 42:Ei=42===Mn?1:0;break;case 124:Ei=124===Mn?1:0;break;case 32:Ei=Sn?0:1;break;default:Ei=ue.get(ii)}1===Ei&&(be.push(Ve._createLink(ue,nt,Je,vn,Ut)),ci=!0)}else if(12===St){let Ei;91===ii?(Vn=!0,Ei=0):Ei=ue.get(ii),1===Ei?ci=!0:St=13}else St=Ae.nextState(St,ii),0===St&&(ci=!0);ci&&(St=1,gn=!1,Vn=!1,Gn=!1,vn=Ut+1,Mn=ii),Ut++}13===St&&be.push(Ve._createLink(ue,nt,Je,vn,bt))}return be}}class Ct{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(ye,Ae,ue,be,Je){if(ye&&Ae){const Fe=this.doNavigateValueSet(Ae,Je);if(Fe)return{range:ye,value:Fe}}if(ue&&be){const Fe=this.doNavigateValueSet(be,Je);if(Fe)return{range:ue,value:Fe}}return null}doNavigateValueSet(ye,Ae){const ue=this.numberReplace(ye,Ae);return null!==ue?ue:this.textReplace(ye,Ae)}numberReplace(ye,Ae){const ue=Math.pow(10,ye.length-(ye.lastIndexOf(".")+1));let be=Number(ye);const Je=parseFloat(ye);return isNaN(be)||isNaN(Je)||be!==Je?null:0!==be||Ae?(be=Math.floor(be*ue),be+=Ae?ue:-ue,String(be/ue)):null}textReplace(ye,Ae){return this.valueSetsReplace(this._defaultValueSet,ye,Ae)}valueSetsReplace(ye,Ae,ue){let be=null;for(let Je=0,Fe=ye.length;null===be&&Je<Fe;Je++)be=this.valueSetReplace(ye[Je],Ae,ue);return be}valueSetReplace(ye,Ae,ue){let be=ye.indexOf(Ae);return be>=0?(be+=ue?1:-1,be<0?be=ye.length-1:be%=ye.length,ye[be]):null}}Ct.INSTANCE=new Ct;var Lt=e(48885),$e=e(631),ae=e(27245),ve=function(He,ye,Ae,ue){return new(Ae||(Ae=Promise))(function(Je,Fe){function nt(vn){try{Ut(ue.next(vn))}catch(Mn){Fe(Mn)}}function bt(vn){try{Ut(ue.throw(vn))}catch(Mn){Fe(Mn)}}function Ut(vn){vn.done?Je(vn.value):function be(Je){return Je instanceof Ae?Je:new Ae(function(Fe){Fe(Je)})}(vn.value).then(nt,bt)}Ut((ue=ue.apply(He,ye||[])).next())})};class he extends Se.v{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(ye){return this._lines[ye-1]}getWordAtPosition(ye,Ae){const ue=(0,Ie.t2)(ye.column,(0,Ie.eq)(Ae),this._lines[ye.lineNumber-1],0);return ue?new k.e(ye.lineNumber,ue.startColumn,ye.lineNumber,ue.endColumn):null}words(ye){const Ae=this._lines,ue=this._wordenize.bind(this);let be=0,Je="",Fe=0,nt=[];return{*[Symbol.iterator](){for(;;)if(Fe<nt.length){const bt=Je.substring(nt[Fe].start,nt[Fe].end);Fe+=1,yield bt}else{if(!(be<Ae.length))break;Je=Ae[be],nt=ue(Je,ye),Fe=0,be+=1}}}}getLineWords(ye,Ae){const ue=this._lines[ye-1],be=this._wordenize(ue,Ae),Je=[];for(const Fe of be)Je.push({word:ue.substring(Fe.start,Fe.end),startColumn:Fe.start+1,endColumn:Fe.end+1});return Je}_wordenize(ye,Ae){const ue=[];let be;for(Ae.lastIndex=0;(be=Ae.exec(ye))&&0!==be[0].length;)ue.push({start:be.index,end:be.index+be[0].length});return ue}getValueInRange(ye){if((ye=this._validateRange(ye)).startLineNumber===ye.endLineNumber)return this._lines[ye.startLineNumber-1].substring(ye.startColumn-1,ye.endColumn-1);const Ae=this._eol,ue=ye.startLineNumber-1,be=ye.endLineNumber-1,Je=[];Je.push(this._lines[ue].substring(ye.startColumn-1));for(let Fe=ue+1;Fe<be;Fe++)Je.push(this._lines[Fe]);return Je.push(this._lines[be].substring(0,ye.endColumn-1)),Je.join(Ae)}offsetAt(ye){return ye=this._validatePosition(ye),this._ensureLineStarts(),this._lineStarts.getPrefixSum(ye.lineNumber-2)+(ye.column-1)}positionAt(ye){ye=Math.floor(ye),ye=Math.max(0,ye),this._ensureLineStarts();const Ae=this._lineStarts.getIndexOf(ye);return{lineNumber:1+Ae.index,column:1+Math.min(Ae.remainder,this._lines[Ae.index].length)}}_validateRange(ye){const Ae=this._validatePosition({lineNumber:ye.startLineNumber,column:ye.startColumn}),ue=this._validatePosition({lineNumber:ye.endLineNumber,column:ye.endColumn});return Ae.lineNumber!==ye.startLineNumber||Ae.column!==ye.startColumn||ue.lineNumber!==ye.endLineNumber||ue.column!==ye.endColumn?{startLineNumber:Ae.lineNumber,startColumn:Ae.column,endLineNumber:ue.lineNumber,endColumn:ue.column}:ye}_validatePosition(ye){if(!U.L.isIPosition(ye))throw new Error("bad position");let{lineNumber:Ae,column:ue}=ye,be=!1;if(Ae<1)Ae=1,ue=1,be=!0;else if(Ae>this._lines.length)Ae=this._lines.length,ue=this._lines[Ae-1].length+1,be=!0;else{const Je=this._lines[Ae-1].length+1;ue<1?(ue=1,be=!0):ue>Je&&(ue=Je,be=!0)}return be?{lineNumber:Ae,column:ue}:ye}}let le=(()=>{class He{constructor(Ae,ue){this._host=Ae,this._models=Object.create(null),this._foreignModuleFactory=ue,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(Ae){return this._models[Ae]}_getModels(){const Ae=[];return Object.keys(this._models).forEach(ue=>Ae.push(this._models[ue])),Ae}acceptNewModel(Ae){this._models[Ae.url]=new he(K.o.parse(Ae.url),Ae.lines,Ae.EOL,Ae.versionId)}acceptModelChanged(Ae,ue){this._models[Ae]&&this._models[Ae].onEvents(ue)}acceptRemovedModel(Ae){!this._models[Ae]||delete this._models[Ae]}computeUnicodeHighlights(Ae,ue,be){return ve(this,void 0,void 0,function*(){const Je=this._getModel(Ae);return Je?ae.a.computeUnicodeHighlights(Je,ue,be):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(Ae,ue,be,Je){return ve(this,void 0,void 0,function*(){const Fe=this._getModel(Ae),nt=this._getModel(ue);return Fe&&nt?He.computeDiff(Fe,nt,be,Je):null})}static computeDiff(Ae,ue,be,Je){const Fe=Ae.getLinesContent(),nt=ue.getLinesContent(),Ut=new Ee(Fe,nt,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:be,shouldMakePrettyDiff:!0,maxComputationTime:Je}).computeDiff(),vn=!(Ut.changes.length>0)&&this._modelsAreIdentical(Ae,ue);return{quitEarly:Ut.quitEarly,identical:vn,changes:Ut.changes}}static _modelsAreIdentical(Ae,ue){const be=Ae.getLineCount();if(be!==ue.getLineCount())return!1;for(let Fe=1;Fe<=be;Fe++)if(Ae.getLineContent(Fe)!==ue.getLineContent(Fe))return!1;return!0}computeMoreMinimalEdits(Ae,ue){return ve(this,void 0,void 0,function*(){const be=this._getModel(Ae);if(!be)return ue;const Je=[];let Fe;ue=ue.slice(0).sort((nt,bt)=>nt.range&&bt.range?k.e.compareRangesUsingStarts(nt.range,bt.range):(nt.range?0:1)-(bt.range?0:1));for(let{range:nt,text:bt,eol:Ut}of ue){if("number"==typeof Ut&&(Fe=Ut),k.e.isEmpty(nt)&&!bt)continue;const vn=be.getValueInRange(nt);if(bt=bt.replace(/\r\n|\n|\r/g,be.eol),vn===bt)continue;if(Math.max(bt.length,vn.length)>He._diffLimit){Je.push({range:nt,text:bt});continue}const Mn=(0,j.a$)(vn,bt,!1),St=be.offsetAt(k.e.lift(nt).getStartPosition());for(const gn of Mn){const Vn=be.positionAt(St+gn.originalStart),Sn=be.positionAt(St+gn.originalStart+gn.originalLength),Gn={text:bt.substr(gn.modifiedStart,gn.modifiedLength),range:{startLineNumber:Vn.lineNumber,startColumn:Vn.column,endLineNumber:Sn.lineNumber,endColumn:Sn.column}};be.getValueInRange(Gn.range)!==Gn.text&&Je.push(Gn)}}return"number"==typeof Fe&&Je.push({eol:Fe,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Je})}computeLinks(Ae){return ve(this,void 0,void 0,function*(){const ue=this._getModel(Ae);return ue?function tt(He){return He&&"function"==typeof He.getLineCount&&"function"==typeof He.getLineContent?Ve.computeLinks(He):[]}(ue):null})}textualSuggest(Ae,ue,be,Je){return ve(this,void 0,void 0,function*(){const Fe=new $e.G(!0),nt=new RegExp(be,Je),bt=new Set;e:for(const Ut of Ae){const vn=this._getModel(Ut);if(vn)for(const Mn of vn.words(nt))if(Mn!==ue&&isNaN(Number(Mn))&&(bt.add(Mn),bt.size>He._suggestionsLimit))break e}return{words:Array.from(bt),duration:Fe.elapsed()}})}computeWordRanges(Ae,ue,be,Je){return ve(this,void 0,void 0,function*(){const Fe=this._getModel(Ae);if(!Fe)return Object.create(null);const nt=new RegExp(be,Je),bt=Object.create(null);for(let Ut=ue.startLineNumber;Ut<ue.endLineNumber;Ut++){const vn=Fe.getLineWords(Ut,nt);for(const Mn of vn){if(!isNaN(Number(Mn.word)))continue;let St=bt[Mn.word];St||(St=[],bt[Mn.word]=St),St.push({startLineNumber:Ut,startColumn:Mn.startColumn,endLineNumber:Ut,endColumn:Mn.endColumn})}}return bt})}navigateValueSet(Ae,ue,be,Je,Fe){return ve(this,void 0,void 0,function*(){const nt=this._getModel(Ae);if(!nt)return null;const bt=new RegExp(Je,Fe);ue.startColumn===ue.endColumn&&(ue={startLineNumber:ue.startLineNumber,startColumn:ue.startColumn,endLineNumber:ue.endLineNumber,endColumn:ue.endColumn+1});const Ut=nt.getValueInRange(ue),vn=nt.getWordAtPosition({lineNumber:ue.startLineNumber,column:ue.startColumn},bt);if(!vn)return null;const Mn=nt.getValueInRange(vn);return Ct.INSTANCE.navigateValueSet(ue,Ut,vn,Mn,be)})}loadForeignModule(Ae,ue,be){const nt={host:T.IU(be,(bt,Ut)=>this._host.fhr(bt,Ut)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(nt,ue),Promise.resolve(T.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(Ae,ue){if(!this._foreignModule||"function"!=typeof this._foreignModule[Ae])return Promise.reject(new Error("Missing requestHandler or method: "+Ae));try{return Promise.resolve(this._foreignModule[Ae].apply(this._foreignModule,ue))}catch(be){return Promise.reject(be)}}}return He._diffLimit=1e5,He._suggestionsLimit=1e4,He})();"function"==typeof importScripts&&(v.li.monaco=(0,Lt.O)());var Ce=e(59602),Pe=e(19147),dt=e(64023),st=e(29693),qe=e(90790),et=function(He,ye){return function(Ae,ue){ye(Ae,ue,He)}},vt=function(He,ye,Ae,ue){return new(Ae||(Ae=Promise))(function(Je,Fe){function nt(vn){try{Ut(ue.next(vn))}catch(Mn){Fe(Mn)}}function bt(vn){try{Ut(ue.throw(vn))}catch(Mn){Fe(Mn)}}function Ut(vn){vn.done?Je(vn.value):function be(Je){return Je instanceof Ae?Je:new Ae(function(Fe){Fe(Je)})}(vn.value).then(nt,bt)}Ut((ue=ue.apply(He,ye||[])).next())})};function $t(He,ye){const Ae=He.getModel(ye);return!(!Ae||Ae.isTooLargeForSyncing())}let Bt=class extends n.JT{constructor(ye,Ae,ue,be,Je){super(),this._modelService=ye,this._workerManager=this._register(new ht(this._modelService,be)),this._logService=ue,this._register(Je.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(Fe,nt)=>$t(this._modelService,Fe.uri)?this._workerManager.withWorker().then(bt=>bt.computeLinks(Fe.uri)).then(bt=>bt&&{links:bt}):Promise.resolve({links:[]})})),this._register(Je.completionProvider.register("*",new Ke(this._workerManager,Ae,this._modelService,be)))}dispose(){super.dispose()}canComputeUnicodeHighlights(ye){return $t(this._modelService,ye)}computedUnicodeHighlights(ye,Ae,ue){return this._workerManager.withWorker().then(be=>be.computedUnicodeHighlights(ye,Ae,ue))}computeDiff(ye,Ae,ue,be){return this._workerManager.withWorker().then(Je=>Je.computeDiff(ye,Ae,ue,be))}computeMoreMinimalEdits(ye,Ae){if((0,dt.Of)(Ae)){if(!$t(this._modelService,ye))return Promise.resolve(Ae);const ue=$e.G.create(!0),be=this._workerManager.withWorker().then(Je=>Je.computeMoreMinimalEdits(ye,Ae));return be.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",ye.toString(!0),ue.elapsed())),Promise.race([be,(0,d.Vs)(1e3).then(()=>Ae)])}return Promise.resolve(void 0)}canNavigateValueSet(ye){return $t(this._modelService,ye)}navigateValueSet(ye,Ae,ue){return this._workerManager.withWorker().then(be=>be.navigateValueSet(ye,Ae,ue))}canComputeWordRanges(ye){return $t(this._modelService,ye)}computeWordRanges(ye,Ae){return this._workerManager.withWorker().then(ue=>ue.computeWordRanges(ye,Ae))}};Bt=function(He,ye,Ae,ue){var Fe,be=arguments.length,Je=be<3?ye:null===ue?ue=Object.getOwnPropertyDescriptor(ye,Ae):ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(He,ye,Ae,ue);else for(var nt=He.length-1;nt>=0;nt--)(Fe=He[nt])&&(Je=(be<3?Fe(Je):be>3?Fe(ye,Ae,Je):Fe(ye,Ae))||Je);return be>3&&Je&&Object.defineProperty(ye,Ae,Je),Je}([et(0,Ce.q),et(1,Pe.V),et(2,st.VZ),et(3,F.c_),et(4,qe.p)],Bt);class Ke{constructor(ye,Ae,ue,be){this.languageConfigurationService=be,this._debugDisplayName="wordbasedCompletions",this._workerManager=ye,this._configurationService=Ae,this._modelService=ue}provideCompletionItems(ye,Ae){return vt(this,void 0,void 0,function*(){const ue=this._configurationService.getValue(ye.uri,Ae,"editor");if(!ue.wordBasedSuggestions)return;const be=[];if("currentDocument"===ue.wordBasedSuggestionsMode)$t(this._modelService,ye.uri)&&be.push(ye.uri);else for(const Mn of this._modelService.getModels())!$t(this._modelService,Mn.uri)||(Mn===ye?be.unshift(Mn.uri):("allDocuments"===ue.wordBasedSuggestionsMode||Mn.getLanguageId()===ye.getLanguageId())&&be.push(Mn.uri));if(0===be.length)return;const Je=this.languageConfigurationService.getLanguageConfiguration(ye.getLanguageId()).getWordDefinition(),Fe=ye.getWordAtPosition(Ae),nt=Fe?new k.e(Ae.lineNumber,Fe.startColumn,Ae.lineNumber,Fe.endColumn):k.e.fromPositions(Ae),bt=nt.setEndPosition(Ae.lineNumber,Ae.column),vn=yield(yield this._workerManager.withWorker()).textualSuggest(be,Fe?.word,Je);return vn?{duration:vn.duration,suggestions:vn.words.map(Mn=>({kind:18,label:Mn,insertText:Mn,range:{insert:bt,replace:nt}}))}:void 0})}}class ht extends n.JT{constructor(ye,Ae){super(),this.languageConfigurationService=Ae,this._modelService=ye,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new d.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(be=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new yt(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class jt extends n.JT{constructor(ye,Ae,ue){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=ye,this._modelService=Ae,!ue){const be=new d.zh;be.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(be)}}dispose(){for(const ye in this._syncedModels)(0,n.B9)(this._syncedModels[ye]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(ye,Ae){for(const ue of ye){const be=ue.toString();this._syncedModels[be]||this._beginModelSync(ue,Ae),this._syncedModels[be]&&(this._syncedModelsLastUsedTime[be]=(new Date).getTime())}}_checkStopModelSync(){const ye=(new Date).getTime(),Ae=[];for(const ue in this._syncedModelsLastUsedTime)ye-this._syncedModelsLastUsedTime[ue]>6e4&&Ae.push(ue);for(const ue of Ae)this._stopModelSync(ue)}_beginModelSync(ye,Ae){const ue=this._modelService.getModel(ye);if(!ue||!Ae&&ue.isTooLargeForSyncing())return;const be=ye.toString();this._proxy.acceptNewModel({url:ue.uri.toString(),lines:ue.getLinesContent(),EOL:ue.getEOL(),versionId:ue.getVersionId()});const Je=new n.SL;Je.add(ue.onDidChangeContent(Fe=>{this._proxy.acceptModelChanged(be.toString(),Fe)})),Je.add(ue.onWillDispose(()=>{this._stopModelSync(be)})),Je.add((0,n.OF)(()=>{this._proxy.acceptRemovedModel(be)})),this._syncedModels[be]=Je}_stopModelSync(ye){const Ae=this._syncedModels[ye];delete this._syncedModels[ye],delete this._syncedModelsLastUsedTime[ye],(0,n.B9)(Ae)}}class fn{constructor(ye){this._instance=ye,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Dn{constructor(ye){this._workerClient=ye}fhr(ye,Ae){return this._workerClient.fhr(ye,Ae)}}class yt extends n.JT{constructor(ye,Ae,ue,be){super(),this.languageConfigurationService=be,this._disposed=!1,this._modelService=ye,this._keepIdleModels=Ae,this._workerFactory=new z(ue),this._worker=null,this._modelManager=null}fhr(ye,Ae){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new u(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Dn(this)))}catch(ye){_(ye),this._worker=new fn(new le(new Dn(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,ye=>(_(ye),this._worker=new fn(new le(new Dn(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(ye){return this._modelManager||(this._modelManager=this._register(new jt(ye,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(ye,Ae=!1){return vt(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,l.F0)()):this._getProxy().then(ue=>(this._getOrCreateModelManager(ue).ensureSyncedResources(ye,Ae),ue))})}computedUnicodeHighlights(ye,Ae,ue){return this._withSyncedResources([ye]).then(be=>be.computeUnicodeHighlights(ye.toString(),Ae,ue))}computeDiff(ye,Ae,ue,be){return this._withSyncedResources([ye,Ae],!0).then(Je=>Je.computeDiff(ye.toString(),Ae.toString(),ue,be))}computeMoreMinimalEdits(ye,Ae){return this._withSyncedResources([ye]).then(ue=>ue.computeMoreMinimalEdits(ye.toString(),Ae))}computeLinks(ye){return this._withSyncedResources([ye]).then(Ae=>Ae.computeLinks(ye.toString()))}textualSuggest(ye,Ae,ue){return vt(this,void 0,void 0,function*(){const be=yield this._withSyncedResources(ye),Je=ue.source,Fe=(0,C.mr)(ue);return be.textualSuggest(ye.map(nt=>nt.toString()),Ae,Je,Fe)})}computeWordRanges(ye,Ae){return this._withSyncedResources([ye]).then(ue=>{const be=this._modelService.getModel(ye);if(!be)return Promise.resolve(null);const Je=this.languageConfigurationService.getLanguageConfiguration(be.getLanguageId()).getWordDefinition(),Fe=Je.source,nt=(0,C.mr)(Je);return ue.computeWordRanges(ye.toString(),Ae,Fe,nt)})}navigateValueSet(ye,Ae,ue){return this._withSyncedResources([ye]).then(be=>{const Je=this._modelService.getModel(ye);if(!Je)return null;const Fe=this.languageConfigurationService.getLanguageConfiguration(Je.getLanguageId()).getWordDefinition(),nt=Fe.source,bt=(0,C.mr)(Fe);return be.navigateValueSet(ye.toString(),Ae,ue,nt,bt)})}dispose(){super.dispose(),this._disposed=!0}}},46780:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>d});class d{constructor(l,S,v){this._visiblePosition=l,this._visiblePositionScrollDelta=S,this._cursorPosition=v}static capture(l){let S=null,v=0;if(0!==l.getScrollTop()){const T=l.getVisibleRanges();if(T.length>0){S=T[0].getStartPosition();const C=l.getTopForPosition(S.lineNumber,S.column);v=l.getScrollTop()-C}}return new d(S,v,l.getPosition())}restore(l){if(this._visiblePosition){const S=l.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);l.setScrollTop(S+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(l){const S=l.getPosition();if(!this._cursorPosition||!S)return;const v=l.getTopForLineNumber(S.lineNumber)-l.getTopForLineNumber(this._cursorPosition.lineNumber);l.setScrollTop(l.getScrollTop()+v)}}},85421:(Dt,Y,e)=>{"use strict";e.d(Y,{Gm:()=>ga});var d=e(55585),n=e(26845);let v=class{constructor(i,r){}dispose(){}};var i;v.ID="editor.contrib.markerDecorations",v=function(Wt,i,r,I){var Le,B=arguments.length,X=B<3?i:null===I?I=Object.getOwnPropertyDescriptor(i,r):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(Wt,i,r,I);else for(var Be=Wt.length-1;Be>=0;Be--)(Le=Wt[Be])&&(X=(B<3?Le(X):B>3?Le(i,r,X):Le(i,r))||X);return B>3&&X&&Object.defineProperty(i,r,X),X}([(1,i=d.i,function(r,I){i(r,I,1)})],v),(0,n._K)(v.ID,v);var T=e(57856),C=e.n(T),E=e(38470),L=e.n(E),_=e(43370),s=e.n(_),m=e(28458),c=e.n(m),t=e(71278),a=e.n(t),p=e(29488),u=e.n(p),g=e(89009),b={};b.styleTagTransform=u(),b.setAttributes=c(),b.insert=s().bind(null,"head"),b.domAPI=L(),b.insertStyleElement=a(),C()(g.Z,b);var D=e(55197),x=e(98463),P=e(4125),O=e(3778),V=e(80142),H=e(59310),z=e(37428),k=e(64023),F=e(6276),j=e(8841),K=e(93972),U=e(15057);let ne=(()=>{class Wt{constructor(r,I){this.key=r,this.migrate=I}apply(r){const I=Wt._read(r,this.key);this.migrate(I,Le=>Wt._read(r,Le),(Le,Be)=>Wt._write(r,Le,Be))}static _read(r,I){if(typeof r>"u")return;const B=I.indexOf(".");if(B>=0){const X=I.substring(0,B);return this._read(r[X],I.substring(B+1))}return r[I]}static _write(r,I,B){const X=I.indexOf(".");if(X>=0){const Le=I.substring(0,X);return r[Le]=r[Le]||{},void this._write(r[Le],I.substring(X+1),B)}r[I]=B}}return Wt.items=[],Wt})();function N(Wt,i){ne.items.push(new ne(Wt,i))}function W(Wt,i){N(Wt,(r,I,B)=>{if(typeof r<"u")for(const[X,Le]of i)if(r===X)return void B(Wt,Le)})}W("wordWrap",[[!0,"on"],[!1,"off"]]),W("lineNumbers",[[!0,"on"],[!1,"off"]]),W("cursorBlinking",[["visible","solid"]]),W("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),W("renderLineHighlight",[[!0,"line"],[!1,"none"]]),W("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),W("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),W("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),W("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),W("autoIndent",[[!1,"advanced"],[!0,"full"]]),W("matchBrackets",[[!0,"always"],[!1,"never"]]),N("autoClosingBrackets",(Wt,i,r)=>{!1===Wt&&(r("autoClosingBrackets","never"),typeof i("autoClosingQuotes")>"u"&&r("autoClosingQuotes","never"),typeof i("autoSurround")>"u"&&r("autoSurround","never"))}),N("renderIndentGuides",(Wt,i,r)=>{typeof Wt<"u"&&(r("renderIndentGuides",void 0),typeof i("guides.indentation")>"u"&&r("guides.indentation",!!Wt))}),N("highlightActiveIndentGuide",(Wt,i,r)=>{typeof Wt<"u"&&(r("highlightActiveIndentGuide",void 0),typeof i("guides.highlightActiveIndentation")>"u"&&r("guides.highlightActiveIndentation",!!Wt))});const ge={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};N("suggest.filteredTypes",(Wt,i,r)=>{if(Wt&&"object"==typeof Wt){for(const I of Object.entries(ge))!1===Wt[I[0]]&&typeof i(`suggest.${I[1]}`)>"u"&&r(`suggest.${I[1]}`,!1);r("suggest.filteredTypes",void 0)}}),N("quickSuggestions",(Wt,i,r)=>{if("boolean"==typeof Wt){const I=Wt?"on":"off";r("quickSuggestions",{comments:I,strings:I,other:I})}});var M=e(5825),we=e(54862),Ee=e(66198),xe=e(44120),Ne=e(64280);let Ie=class extends V.JT{constructor(i,r,I,B){super(),this._accessibilityService=B,this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new O.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new we.LJ,this.isSimpleWidget=i,this._containerObserver=this._register(new K.I(I,r.dimension)),this._rawOptions=ze(r),this._validatedOptions=Ue.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(Ee.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(M.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(U.g.onDidChange(()=>this._recomputeOptions())),this._register(z.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const i=this._computeOptions(),r=Ue.checkEquals(this.options,i);null!==r&&(this.options=i,this._onDidChangeFast.fire(r),this._onDidChange.fire(r))}_computeOptions(){const i=this._readEnvConfiguration(),r=xe.E4.createFromValidatedSettings(this._validatedOptions,i.pixelRatio,this.isSimpleWidget),I=this._readFontInfo(r),B={memory:this._computeOptionsMemory,outerWidth:i.outerWidth,outerHeight:i.outerHeight-this._reservedHeight,fontInfo:I,extraEditorClassName:i.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:i.emptySelectionClipboard,pixelRatio:i.pixelRatio,tabFocusMode:M.n.getTabFocusMode(),accessibilitySupport:i.accessibilitySupport};return Ue.computeOptions(this._validatedOptions,B)}_readEnvConfiguration(){return{extraEditorClassName:Me(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:z.isWebKit||z.isFirefox,pixelRatio:z.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(i){return U.g.readFontInfo(i)}getRawOptions(){return this._rawOptions}updateOptions(i){const r=ze(i);!Ue.applyUpdate(this._rawOptions,r)||(this._validatedOptions=Ue.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(i){this._containerObserver.observe(i)}setIsDominatedByLongLines(i){this._isDominatedByLongLines!==i&&(this._isDominatedByLongLines=i,this._recomputeOptions())}setModelLineCount(i){const r=function me(Wt){let i=0;for(;Wt;)Wt=Math.floor(Wt/10),i++;return i||1}(i);this._lineNumbersDigitCount!==r&&(this._lineNumbersDigitCount=r,this._recomputeOptions())}setViewLineCount(i){this._viewLineCount!==i&&(this._viewLineCount=i,this._recomputeOptions())}setReservedHeight(i){this._reservedHeight!==i&&(this._reservedHeight=i,this._recomputeOptions())}};function Me(){let Wt="";return!z.isSafari&&!z.isWebkitWebView&&(Wt+="no-user-select "),z.isSafari&&(Wt+="no-minimap-shadow ",Wt+="enable-user-select "),j.dz&&(Wt+="mac "),Wt}Ie=function(Wt,i,r,I){var Le,B=arguments.length,X=B<3?i:null===I?I=Object.getOwnPropertyDescriptor(i,r):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(Wt,i,r,I);else for(var Be=Wt.length-1;Be>=0;Be--)(Le=Wt[Be])&&(X=(B<3?Le(X):B>3?Le(i,r,X):Le(i,r))||X);return B>3&&X&&Object.defineProperty(i,r,X),X}([function(Wt,i){return function(r,I){i(r,I,3)}}(0,Ne.F)],Ie);class de{constructor(){this._values=[]}_read(i){return this._values[i]}get(i){return this._values[i]}_write(i,r){this._values[i]=r}}class ke{constructor(){this._values=[]}_read(i){if(i>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[i]}get(i){return this._read(i)}_write(i,r){this._values[i]=r}}class Ue{static validateOptions(i){const r=new de;for(const I of we.Bc)r._write(I.id,I.validate("_never_"===I.name?void 0:i[I.name]));return r}static computeOptions(i,r){const I=new ke;for(const B of we.Bc)I._write(B.id,B.compute(r,I,i._read(B.id)));return I}static _deepEquals(i,r){if("object"!=typeof i||"object"!=typeof r||!i||!r)return i===r;if(Array.isArray(i)||Array.isArray(r))return!(!Array.isArray(i)||!Array.isArray(r))&&k.fS(i,r);if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const I in i)if(!Ue._deepEquals(i[I],r[I]))return!1;return!0}static checkEquals(i,r){const I=[];let B=!1;for(const X of we.Bc){const Le=!Ue._deepEquals(i._read(X.id),r._read(X.id));I[X.id]=Le,Le&&(B=!0)}return B?new we.Bb(I):null}static applyUpdate(i,r){let I=!1;for(const B of we.Bc)if(r.hasOwnProperty(B.name)){const X=B.applyUpdate(i[B.name],r[B.name]);i[B.name]=X.newValue,I=I||X.didChange}return I}}function ze(Wt){const i=F.I8(Wt);return function Z(Wt){ne.items.forEach(i=>i.apply(Wt))}(i),i}var ce=e(33745),Ve=e(7233),tt=e(12226),Ct=e(62922),Lt=e(97340),$e=e(48648),ae=e(69545);class ve extends V.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(i){return!1}onCompositionEnd(i){return!1}onConfigurationChanged(i){return!1}onCursorStateChanged(i){return!1}onDecorationsChanged(i){return!1}onFlushed(i){return!1}onFocusChanged(i){return!1}onLanguageConfigurationChanged(i){return!1}onLineMappingChanged(i){return!1}onLinesChanged(i){return!1}onLinesDeleted(i){return!1}onLinesInserted(i){return!1}onRevealRangeRequest(i){return!1}onScrollChanged(i){return!1}onThemeChanged(i){return!1}onTokensChanged(i){return!1}onTokensColorsChanged(i){return!1}onZonesChanged(i){return!1}handleEvents(i){let r=!1;for(let I=0,B=i.length;I<B;I++){const X=i[I];switch(X.type){case 0:this.onCompositionStart(X)&&(r=!0);break;case 1:this.onCompositionEnd(X)&&(r=!0);break;case 2:this.onConfigurationChanged(X)&&(r=!0);break;case 3:this.onCursorStateChanged(X)&&(r=!0);break;case 4:this.onDecorationsChanged(X)&&(r=!0);break;case 5:this.onFlushed(X)&&(r=!0);break;case 6:this.onFocusChanged(X)&&(r=!0);break;case 7:this.onLanguageConfigurationChanged(X)&&(r=!0);break;case 8:this.onLineMappingChanged(X)&&(r=!0);break;case 9:this.onLinesChanged(X)&&(r=!0);break;case 10:this.onLinesDeleted(X)&&(r=!0);break;case 11:this.onLinesInserted(X)&&(r=!0);break;case 12:this.onRevealRangeRequest(X)&&(r=!0);break;case 13:this.onScrollChanged(X)&&(r=!0);break;case 15:this.onTokensChanged(X)&&(r=!0);break;case 14:this.onThemeChanged(X)&&(r=!0);break;case 16:this.onTokensColorsChanged(X)&&(r=!0);break;case 17:this.onZonesChanged(X)&&(r=!0);break;default:console.info("View received unknown event: "),console.info(X)}}r&&(this._shouldRender=!0)}}class he extends ve{constructor(i){super(),this._context=i,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class le{static write(i,r){i.setAttribute("data-mprt",String(r))}static read(i){const r=i.getAttribute("data-mprt");return null===r?0:parseInt(r,10)}static collect(i,r){const I=[];let B=0;for(;i&&i!==document.body&&i!==r;)i.nodeType===i.ELEMENT_NODE&&(I[B++]=this.read(i)),i=i.parentElement;const X=new Uint8Array(B);for(let Le=0;Le<B;Le++)X[Le]=I[B-Le-1];return X}}class Q{constructor(i,r){this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=r,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const I=this._viewLayout.getCurrentViewport();this.scrollTop=I.top,this.scrollLeft=I.left,this.viewportWidth=I.width,this.viewportHeight=I.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class Ce extends Q{constructor(i,r,I){super(i,r),this._renderingContextBrand=void 0,this._viewLines=I}linesVisibleRangesForRange(i,r){return this._viewLines.linesVisibleRangesForRange(i,r)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}class Pe{constructor(i,r,I){this.outsideRenderedLine=i,this.lineNumber=r,this.ranges=I}}class dt{constructor(i,r){this._horizontalRangeBrand=void 0,this.left=Math.round(i),this.width=Math.round(r)}static from(i){const r=new Array(i.length);for(let I=0,B=i.length;I<B;I++){const X=i[I];r[I]=new dt(X.left,X.width)}return r}toString(){return`[${this.left},${this.width}]`}}class st{constructor(i,r){this._floatHorizontalRangeBrand=void 0,this.left=i,this.width=r}toString(){return`[${this.left},${this.width}]`}static compare(i,r){return i.left-r.left}}class qe{constructor(i,r){this.outsideRenderedLine=i,this.originalLeft=r,this.left=Math.round(this.originalLeft)}}class Qe{constructor(i,r){this.outsideRenderedLine=i,this.ranges=r}}class et{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(i,r){i.selectNodeContents(r)}static _readClientRects(i,r,I,B,X){const Le=this._createRange();try{return Le.setStart(i,r),Le.setEnd(I,B),Le.getClientRects()}catch{return null}finally{this._detachRange(Le,X)}}static _mergeAdjacentRanges(i){if(1===i.length)return i;i.sort(st.compare);const r=[];let I=0,B=i[0];for(let X=1,Le=i.length;X<Le;X++){const Be=i[X];B.left+B.width+.9>=Be.left?B.width=Math.max(B.width,Be.left+Be.width-B.left):(r[I++]=B,B=Be)}return r[I++]=B,r}static _createHorizontalRangesFromClientRects(i,r,I){if(!i||0===i.length)return null;const B=[];for(let X=0,Le=i.length;X<Le;X++){const Be=i[X];B[X]=new st(Math.max(0,(Be.left-r)/I),Be.width/I)}return this._mergeAdjacentRanges(B)}static readHorizontalRanges(i,r,I,B,X,Le,Be,lt){const Nt=i.children.length-1;if(0>Nt)return null;if((r=Math.min(Nt,Math.max(0,r)))===(B=Math.min(Nt,Math.max(0,B)))&&I===X&&0===I&&!i.children[r].firstChild){const Fn=i.children[r].getClientRects();return this._createHorizontalRangesFromClientRects(Fn,Le,Be)}r!==B&&B>0&&0===X&&(B--,X=1073741824);let Zt=i.children[r].firstChild,ln=i.children[B].firstChild;if((!Zt||!ln)&&(!Zt&&0===I&&r>0&&(Zt=i.children[r-1].firstChild,I=1073741824),!ln&&0===X&&B>0&&(ln=i.children[B-1].firstChild,X=1073741824)),!Zt||!ln)return null;I=Math.min(Zt.textContent.length,Math.max(0,I)),X=Math.min(ln.textContent.length,Math.max(0,X));const hn=this._readClientRects(Zt,I,ln,X,lt);return this._createHorizontalRangesFromClientRects(hn,Le,Be)}}var vt=e(56110),mt=e(27131),_t=e(18034);const $t=!!j.tY||!(j.IJ||z.isFirefox||z.isSafari);let Bt=!0;class Ke{constructor(i,r){this._domNode=i,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=r}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const i=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=i.left,this._clientRectScale=i.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class ht{constructor(i,r){this.themeType=r;const I=i.options,B=I.get(46);this.renderWhitespace=I.get(90),this.renderControlCharacters=I.get(85),this.spaceWidth=B.spaceWidth,this.middotWidth=B.middotWidth,this.wsmiddotWidth=B.wsmiddotWidth,this.useMonospaceOptimizations=B.isMonospace&&!I.get(29),this.canUseHalfwidthRightwardsArrow=B.canUseHalfwidthRightwardsArrow,this.lineHeight=I.get(61),this.stopRenderingLineAfter=I.get(107),this.fontLigatures=I.get(47)}equals(i){return this.themeType===i.themeType&&this.renderWhitespace===i.renderWhitespace&&this.renderControlCharacters===i.renderControlCharacters&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.useMonospaceOptimizations===i.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.lineHeight===i.lineHeight&&this.stopRenderingLineAfter===i.stopRenderingLineAfter&&this.fontLigatures===i.fontLigatures}}let jt=(()=>{class Wt{constructor(r){this._options=r,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(r){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,tt.X)(r)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(r){this._isMaybeInvalid=!0,this._options=r}onSelectionChanged(){return!(!(0,_t.c3)(this._options.themeType)&&"selection"!==this._options.renderWhitespace||(this._isMaybeInvalid=!0,0))}renderLine(r,I,B,X){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const Le=B.getViewLineRenderingData(r),Be=this._options,lt=vt.Kp.filter(Le.inlineDecorations,r,Le.minColumn,Le.maxColumn);let wt=null;if((0,_t.c3)(Be.themeType)||"selection"===this._options.renderWhitespace){const hn=B.selections;for(const Fn of hn){if(Fn.endLineNumber<r||Fn.startLineNumber>r)continue;const $n=Fn.startLineNumber===r?Fn.startColumn:Le.minColumn,Zn=Fn.endLineNumber===r?Fn.endColumn:Le.maxColumn;$n<Zn&&((0,_t.c3)(Be.themeType)||"selection"!==this._options.renderWhitespace?lt.push(new vt.Kp($n,Zn,"inline-selected-text",0)):(wt||(wt=[]),wt.push(new mt.zG($n-1,Zn-1))))}}const Nt=new mt.IJ(Be.useMonospaceOptimizations,Be.canUseHalfwidthRightwardsArrow,Le.content,Le.continuesWithWrappedLine,Le.isBasicASCII,Le.containsRTL,Le.minColumn-1,Le.tokens,lt,Le.tabSize,Le.startVisibleColumn,Be.spaceWidth,Be.middotWidth,Be.wsmiddotWidth,Be.stopRenderingLineAfter,Be.renderWhitespace,Be.renderControlCharacters,Be.fontLigatures!==we.n0.OFF,wt);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Nt))return!1;X.appendASCIIString('<div style="top:'),X.appendASCIIString(String(I)),X.appendASCIIString("px;height:"),X.appendASCIIString(String(this._options.lineHeight)),X.appendASCIIString('px;" class="'),X.appendASCIIString(Wt.CLASS_NAME),X.appendASCIIString('">');const Zt=(0,mt.d1)(Nt,X);X.appendASCIIString("</div>");let ln=null;return Bt&&$t&&Le.isBasicASCII&&Be.useMonospaceOptimizations&&0===Zt.containsForeignElements&&Le.content.length<300&&Nt.lineTokens.getCount()<100&&(ln=new fn(this._renderedViewLine?this._renderedViewLine.domNode:null,Nt,Zt.characterMapping)),ln||(ln=He(this._renderedViewLine?this._renderedViewLine.domNode:null,Nt,Zt.characterMapping,Zt.containsRTL,Zt.containsForeignElements)),this._renderedViewLine=ln,!0}layoutLine(r,I){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(I),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof fn}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof fn?this._renderedViewLine.monospaceAssumptionsAreValid():Bt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof fn&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(r,I,B,X){if(!this._renderedViewLine)return null;I=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,I)),B=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,B));const Le=this._renderedViewLine.input.stopRenderingLineAfter;let Be=!1;-1!==Le&&I>Le+1&&B>Le+1&&(Be=!0),-1!==Le&&I>Le+1&&(I=Le+1),-1!==Le&&B>Le+1&&(B=Le+1);const lt=this._renderedViewLine.getVisibleRangesForRange(r,I,B,X);return lt&&lt.length>0?new Qe(Be,lt):null}getColumnOfNodeOffset(r,I,B){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(r,I,B):1}}return Wt.CLASS_NAME="view-line",Wt})();class fn{constructor(i,r,I){this.domNode=i,this.input=r,this._characterMapping=I,this._charWidth=r.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Bt;const i=this.getWidth();return Math.abs(i-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Bt=!1),Bt}toSlowRenderedLine(){return He(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(i,r,I,B){const X=this._getCharPosition(r),Le=this._getCharPosition(I);return[new st(X,Le-X)]}_getCharPosition(i){const r=this._characterMapping.getHorizontalOffset(i);return this._charWidth*r}getColumnOfNodeOffset(i,r,I){const B=r.textContent.length;let X=-1;for(;r;)r=r.previousSibling,X++;return this._characterMapping.getColumn(new mt.Nd(X,I),B)}}class Dn{constructor(i,r,I,B,X){if(this.domNode=i,this.input=r,this._characterMapping=I,this._isWhitespaceOnly=/^\s*$/.test(r.lineContent),this._containsForeignElements=X,this._cachedWidth=-1,this._pixelOffsetCache=null,!B||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Le=0,Be=this._characterMapping.length;Le<=Be;Le++)this._pixelOffsetCache[Le]=-1}}_getReadingTarget(i){return i.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(i,r,I,B){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const X=this._readPixelOffset(this.domNode,i,r,B);if(-1===X)return null;const Le=this._readPixelOffset(this.domNode,i,I,B);return-1===Le?null:[new st(X,Le-X)]}return this._readVisibleRangesForRange(this.domNode,i,r,I,B)}_readVisibleRangesForRange(i,r,I,B,X){if(I===B){const Le=this._readPixelOffset(i,r,I,X);return-1===Le?null:[new st(Le,0)]}return this._readRawVisibleRangesForRange(i,I,B,X)}_readPixelOffset(i,r,I,B){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const X=this._getReadingTarget(i);return X.firstChild?X.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const X=this._pixelOffsetCache[I];if(-1!==X)return X;const Le=this._actualReadPixelOffset(i,r,I,B);return this._pixelOffsetCache[I]=Le,Le}return this._actualReadPixelOffset(i,r,I,B)}_actualReadPixelOffset(i,r,I,B){if(0===this._characterMapping.length){const lt=et.readHorizontalRanges(this._getReadingTarget(i),0,0,0,0,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);return lt&&0!==lt.length?lt[0].left:-1}if(I===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const X=this._characterMapping.getDomPosition(I),Le=et.readHorizontalRanges(this._getReadingTarget(i),X.partIndex,X.charIndex,X.partIndex,X.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);if(!Le||0===Le.length)return-1;const Be=Le[0].left;if(this.input.isBasicASCII){const lt=this._characterMapping.getHorizontalOffset(I),wt=Math.round(this.input.spaceWidth*lt);if(Math.abs(wt-Be)<=1)return wt}return Be}_readRawVisibleRangesForRange(i,r,I,B){if(1===r&&I===this._characterMapping.length)return[new st(0,this.getWidth())];const X=this._characterMapping.getDomPosition(r),Le=this._characterMapping.getDomPosition(I);return et.readHorizontalRanges(this._getReadingTarget(i),X.partIndex,X.charIndex,Le.partIndex,Le.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode)}getColumnOfNodeOffset(i,r,I){const B=r.textContent.length;let X=-1;for(;r;)r=r.previousSibling,X++;return this._characterMapping.getColumn(new mt.Nd(X,I),B)}}class yt extends Dn{_readVisibleRangesForRange(i,r,I,B,X){const Le=super._readVisibleRangesForRange(i,r,I,B,X);if(!Le||0===Le.length||I===B||1===I&&B===this._characterMapping.length)return Le;if(!this.input.containsRTL){const Be=this._readPixelOffset(i,r,B,X);if(-1!==Be){const lt=Le[Le.length-1];lt.left<Be&&(lt.width=Be-lt.left)}}return Le}}const He=z.isWebKit?function ye(Wt,i,r,I,B){return new yt(Wt,i,r,I,B)}:function Ae(Wt,i,r,I,B){return new Dn(Wt,i,r,I,B)};var Ut,ue=e(18723),be=e(98570),Je=e(5409),Fe=e(19123);class nt{constructor(i=null){this.hitTarget=i,this.type=0}}class bt{constructor(i,r,I){this.position=i,this.spanNode=r,this.injectedText=I,this.type=1}}!function(Wt){Wt.createFromDOMInfo=function i(r,I,B){const X=r.getPositionFromDOMInfo(I,B);return X?new bt(X,I,null):new nt(I)}}(Ut||(Ut={}));class vn{constructor(i,r){this.lastViewCursorsRenderData=i,this.lastTextareaPosition=r}}class Mn{static _deduceRage(i,r=null){return!r&&i?new be.e(i.lineNumber,i.column,i.lineNumber,i.column):r??null}static createUnknown(i,r,I){return{type:0,element:i,mouseColumn:r,position:I,range:this._deduceRage(I)}}static createTextarea(i,r){return{type:1,element:i,mouseColumn:r,position:null,range:null}}static createMargin(i,r,I,B,X,Le){return{type:i,element:r,mouseColumn:I,position:B,range:X,detail:Le}}static createViewZone(i,r,I,B,X){return{type:i,element:r,mouseColumn:I,position:B,range:this._deduceRage(B),detail:X}}static createContentText(i,r,I,B,X){return{type:6,element:i,mouseColumn:r,position:I,range:this._deduceRage(I,B),detail:X}}static createContentEmpty(i,r,I,B){return{type:7,element:i,mouseColumn:r,position:I,range:this._deduceRage(I),detail:B}}static createContentWidget(i,r,I){return{type:9,element:i,mouseColumn:r,position:null,range:null,detail:I}}static createScrollbar(i,r,I){return{type:11,element:i,mouseColumn:r,position:I,range:this._deduceRage(I)}}static createOverlayWidget(i,r,I){return{type:12,element:i,mouseColumn:r,position:null,range:null,detail:I}}static createOutsideEditor(i,r){return{type:13,element:null,mouseColumn:i,position:r,range:this._deduceRage(r)}}static _typeToString(i){return 1===i?"TEXTAREA":2===i?"GUTTER_GLYPH_MARGIN":3===i?"GUTTER_LINE_NUMBERS":4===i?"GUTTER_LINE_DECORATIONS":5===i?"GUTTER_VIEW_ZONE":6===i?"CONTENT_TEXT":7===i?"CONTENT_EMPTY":8===i?"CONTENT_VIEW_ZONE":9===i?"CONTENT_WIDGET":10===i?"OVERVIEW_RULER":11===i?"SCROLLBAR":12===i?"OVERLAY_WIDGET":"UNKNOWN"}static toString(i){return this._typeToString(i.type)+": "+i.position+" - "+i.range+" - "+JSON.stringify(i.detail)}}class St{static isTextArea(i){return 2===i.length&&3===i[0]&&6===i[1]}static isChildOfViewLines(i){return i.length>=4&&3===i[0]&&7===i[3]}static isStrictChildOfViewLines(i){return i.length>4&&3===i[0]&&7===i[3]}static isChildOfScrollableElement(i){return i.length>=2&&3===i[0]&&5===i[1]}static isChildOfMinimap(i){return i.length>=2&&3===i[0]&&8===i[1]}static isChildOfContentWidgets(i){return i.length>=4&&3===i[0]&&1===i[3]}static isChildOfOverflowingContentWidgets(i){return i.length>=1&&2===i[0]}static isChildOfOverlayWidgets(i){return i.length>=2&&3===i[0]&&4===i[1]}}class gn{constructor(i,r,I){this.viewModel=i.viewModel;const B=i.configuration.options;this.layoutInfo=B.get(133),this.viewDomNode=r.viewDomNode,this.lineHeight=B.get(61),this.stickyTabStops=B.get(106),this.typicalHalfwidthCharacterWidth=B.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=I,this._context=i,this._viewHelper=r}getZoneAtCoord(i){return gn.getZoneAtCoord(this._context,i)}static getZoneAtCoord(i,r){const I=i.viewLayout.getWhitespaceAtVerticalOffset(r);if(I){const B=I.verticalOffset+I.height/2,X=i.viewModel.getLineCount();let Be,Le=null,lt=null;return I.afterLineNumber!==X&&(lt=new ue.L(I.afterLineNumber+1,1)),I.afterLineNumber>0&&(Le=new ue.L(I.afterLineNumber,i.viewModel.getLineMaxColumn(I.afterLineNumber))),Be=null===lt?Le:null===Le?lt:r<B?Le:lt,{viewZoneId:I.id,afterLineNumber:I.afterLineNumber,positionBefore:Le,positionAfter:lt,position:Be}}return null}getFullLineRangeAtCoord(i){if(this._context.viewLayout.isAfterLines(i)){const B=this._context.viewModel.getLineCount(),X=this._context.viewModel.getLineMaxColumn(B);return{range:new be.e(B,X,B,X),isAfterLines:!0}}const r=this._context.viewLayout.getLineNumberAtVerticalOffset(i),I=this._context.viewModel.getLineMaxColumn(r);return{range:new be.e(r,1,r,I),isAfterLines:!1}}getLineNumberAtVerticalOffset(i){return this._context.viewLayout.getLineNumberAtVerticalOffset(i)}isAfterLines(i){return this._context.viewLayout.isAfterLines(i)}isInTopPadding(i){return this._context.viewLayout.isInTopPadding(i)}isInBottomPadding(i){return this._context.viewLayout.isInBottomPadding(i)}getVerticalOffsetForLineNumber(i){return this._context.viewLayout.getVerticalOffsetForLineNumber(i)}findAttribute(i,r){return gn._findAttribute(i,r,this._viewHelper.viewDomNode)}static _findAttribute(i,r,I){for(;i&&i!==document.body;){if(i.hasAttribute&&i.hasAttribute(r))return i.getAttribute(r);if(i===I)return null;i=i.parentNode}return null}getLineWidth(i){return this._viewHelper.getLineWidth(i)}visibleRangeForPosition(i,r){return this._viewHelper.visibleRangeForPosition(i,r)}getPositionFromDOMInfo(i,r){return this._viewHelper.getPositionFromDOMInfo(i,r)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Vn{constructor(i,r,I,B){this.editorPos=r,this.pos=I,this.relativePos=B,this.mouseVerticalOffset=Math.max(0,i.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=i.getCurrentScrollLeft()+this.relativePos.x-i.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<i.layoutInfo.contentLeft&&this.relativePos.x>=i.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ii._getMouseColumn(this.mouseContentHorizontalOffset,i.typicalHalfwidthCharacterWidth))}}class Sn extends Vn{constructor(i,r,I,B,X){super(i,r,I,B),this._ctx=i,X?(this.target=X,this.targetPath=le.collect(X,i.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(i=null){return i&&i.column<this._ctx.viewModel.getLineMaxColumn(i.lineNumber)?Je.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(i.lineNumber),i.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(i=null){return Mn.createUnknown(this.target,this._getMouseColumn(i),i)}fulfillTextarea(){return Mn.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(i,r,I,B){return Mn.createMargin(i,this.target,this._getMouseColumn(r),r,I,B)}fulfillViewZone(i,r,I){return Mn.createViewZone(i,this.target,this._getMouseColumn(r),r,I)}fulfillContentText(i,r,I){return Mn.createContentText(this.target,this._getMouseColumn(i),i,r,I)}fulfillContentEmpty(i,r){return Mn.createContentEmpty(this.target,this._getMouseColumn(i),i,r)}fulfillContentWidget(i){return Mn.createContentWidget(this.target,this._getMouseColumn(),i)}fulfillScrollbar(i){return Mn.createScrollbar(this.target,this._getMouseColumn(i),i)}fulfillOverlayWidget(i){return Mn.createOverlayWidget(this.target,this._getMouseColumn(),i)}withTarget(i){return new Sn(this._ctx,this.editorPos,this.pos,this.relativePos,i)}}const Gn={isAfterLines:!0};function ci(Wt){return{isAfterLines:!1,horizontalDistanceToText:Wt}}class ii{constructor(i,r){this._context=i,this._viewHelper=r}mouseTargetIsWidget(i){const I=le.collect(i.target,this._viewHelper.viewDomNode);return!!(St.isChildOfContentWidgets(I)||St.isChildOfOverflowingContentWidgets(I)||St.isChildOfOverlayWidgets(I))}createMouseTarget(i,r,I,B,X){const Le=new gn(this._context,this._viewHelper,i),Be=new Sn(Le,r,I,B,X);try{return ii._createMouseTarget(Le,Be,!1)}catch{return Be.fulfillUnknown()}}static _createMouseTarget(i,r,I){if(null===r.target){if(I)return r.fulfillUnknown();const Le=ii._doHitTest(i,r);return 1===Le.type?ii.createMouseTargetFromHitTestPosition(i,r,Le.spanNode,Le.position,Le.injectedText):this._createMouseTarget(i,r.withTarget(Le.hitTarget),!0)}const B=r;let X=null;return X=X||ii._hitTestContentWidget(i,B),X=X||ii._hitTestOverlayWidget(i,B),X=X||ii._hitTestMinimap(i,B),X=X||ii._hitTestScrollbarSlider(i,B),X=X||ii._hitTestViewZone(i,B),X=X||ii._hitTestMargin(i,B),X=X||ii._hitTestViewCursor(i,B),X=X||ii._hitTestTextArea(i,B),X=X||ii._hitTestViewLines(i,B,I),X=X||ii._hitTestScrollbar(i,B),X||r.fulfillUnknown()}static _hitTestContentWidget(i,r){if(St.isChildOfContentWidgets(r.targetPath)||St.isChildOfOverflowingContentWidgets(r.targetPath)){const I=i.findAttribute(r.target,"widgetId");return I?r.fulfillContentWidget(I):r.fulfillUnknown()}return null}static _hitTestOverlayWidget(i,r){if(St.isChildOfOverlayWidgets(r.targetPath)){const I=i.findAttribute(r.target,"widgetId");return I?r.fulfillOverlayWidget(I):r.fulfillUnknown()}return null}static _hitTestViewCursor(i,r){if(r.target){const I=i.lastRenderData.lastViewCursorsRenderData;for(const B of I)if(r.target===B.domNode)return r.fulfillContentText(B.position,null,{mightBeForeignElement:!1,injectedText:null})}if(r.isInContentArea){const I=i.lastRenderData.lastViewCursorsRenderData,B=r.mouseContentHorizontalOffset,X=r.mouseVerticalOffset;for(const Le of I){if(B<Le.contentLeft||B>Le.contentLeft+Le.width)continue;const Be=i.getVerticalOffsetForLineNumber(Le.position.lineNumber);if(Be<=X&&X<=Be+Le.height)return r.fulfillContentText(Le.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(i,r){const I=i.getZoneAtCoord(r.mouseVerticalOffset);return I?r.fulfillViewZone(r.isInContentArea?8:5,I.position,I):null}static _hitTestTextArea(i,r){return St.isTextArea(r.targetPath)?i.lastRenderData.lastTextareaPosition?r.fulfillContentText(i.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):r.fulfillTextarea():null}static _hitTestMargin(i,r){if(r.isInMarginArea){const I=i.getFullLineRangeAtCoord(r.mouseVerticalOffset),B=I.range.getStartPosition();let X=Math.abs(r.relativePos.x);const Le={isAfterLines:I.isAfterLines,glyphMarginLeft:i.layoutInfo.glyphMarginLeft,glyphMarginWidth:i.layoutInfo.glyphMarginWidth,lineNumbersWidth:i.layoutInfo.lineNumbersWidth,offsetX:X};return X-=i.layoutInfo.glyphMarginLeft,X<=i.layoutInfo.glyphMarginWidth?r.fulfillMargin(2,B,I.range,Le):(X-=i.layoutInfo.glyphMarginWidth,X<=i.layoutInfo.lineNumbersWidth?r.fulfillMargin(3,B,I.range,Le):(X-=i.layoutInfo.lineNumbersWidth,r.fulfillMargin(4,B,I.range,Le)))}return null}static _hitTestViewLines(i,r,I){if(!St.isChildOfViewLines(r.targetPath))return null;if(i.isInTopPadding(r.mouseVerticalOffset))return r.fulfillContentEmpty(new ue.L(1,1),Gn);if(i.isAfterLines(r.mouseVerticalOffset)||i.isInBottomPadding(r.mouseVerticalOffset)){const X=i.viewModel.getLineCount(),Le=i.viewModel.getLineMaxColumn(X);return r.fulfillContentEmpty(new ue.L(X,Le),Gn)}if(I){if(St.isStrictChildOfViewLines(r.targetPath)){const X=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset);if(0===i.viewModel.getLineLength(X)){const Be=i.getLineWidth(X),lt=ci(r.mouseContentHorizontalOffset-Be);return r.fulfillContentEmpty(new ue.L(X,1),lt)}const Le=i.getLineWidth(X);if(r.mouseContentHorizontalOffset>=Le){const Be=ci(r.mouseContentHorizontalOffset-Le),lt=new ue.L(X,i.viewModel.getLineMaxColumn(X));return r.fulfillContentEmpty(lt,Be)}}return r.fulfillUnknown()}const B=ii._doHitTest(i,r);return 1===B.type?ii.createMouseTargetFromHitTestPosition(i,r,B.spanNode,B.position,B.injectedText):this._createMouseTarget(i,r.withTarget(B.hitTarget),!0)}static _hitTestMinimap(i,r){if(St.isChildOfMinimap(r.targetPath)){const I=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),B=i.viewModel.getLineMaxColumn(I);return r.fulfillScrollbar(new ue.L(I,B))}return null}static _hitTestScrollbarSlider(i,r){if(St.isChildOfScrollableElement(r.targetPath)&&r.target&&1===r.target.nodeType){const I=r.target.className;if(I&&/\b(slider|scrollbar)\b/.test(I)){const B=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),X=i.viewModel.getLineMaxColumn(B);return r.fulfillScrollbar(new ue.L(B,X))}}return null}static _hitTestScrollbar(i,r){if(St.isChildOfScrollableElement(r.targetPath)){const I=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),B=i.viewModel.getLineMaxColumn(I);return r.fulfillScrollbar(new ue.L(I,B))}return null}getMouseColumn(i){const r=this._context.configuration.options,I=r.get(133),B=this._context.viewLayout.getCurrentScrollLeft()+i.x-I.contentLeft;return ii._getMouseColumn(B,r.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(i,r){return i<0?1:Math.round(i/r)+1}static createMouseTargetFromHitTestPosition(i,r,I,B,X){const Le=B.lineNumber,Be=B.column,lt=i.getLineWidth(Le);if(r.mouseContentHorizontalOffset>lt){const Zn=ci(r.mouseContentHorizontalOffset-lt);return r.fulfillContentEmpty(B,Zn)}const wt=i.visibleRangeForPosition(Le,Be);if(!wt)return r.fulfillUnknown(B);if(r.mouseContentHorizontalOffset===wt.left)return r.fulfillContentText(B,null,{mightBeForeignElement:!!X,injectedText:X});const Zt=[];if(Zt.push({offset:wt.left,column:Be}),Be>1){const Zn=i.visibleRangeForPosition(Le,Be-1);Zn&&Zt.push({offset:Zn.left,column:Be-1})}if(Be<i.viewModel.getLineMaxColumn(Le)){const Zn=i.visibleRangeForPosition(Le,Be+1);Zn&&Zt.push({offset:Zn.left,column:Be+1})}Zt.sort((Zn,ai)=>Zn.offset-ai.offset);const hn=r.pos.toClientCoordinates(),Fn=I.getBoundingClientRect(),$n=Fn.left<=hn.clientX&&hn.clientX<=Fn.right;for(let Zn=1;Zn<Zt.length;Zn++){const ai=Zt[Zn-1],vi=Zt[Zn];if(ai.offset<=r.mouseContentHorizontalOffset&&r.mouseContentHorizontalOffset<=vi.offset){const yi=new be.e(Le,ai.column,Le,vi.column),Vi=Math.abs(ai.offset-r.mouseContentHorizontalOffset),Xi=Math.abs(vi.offset-r.mouseContentHorizontalOffset),Zi=new ue.L(Le,Vi<Xi?ai.column:vi.column);return r.fulfillContentText(Zi,yi,{mightBeForeignElement:!$n||!!X,injectedText:X})}}return r.fulfillContentText(B,null,{mightBeForeignElement:!$n||!!X,injectedText:X})}static _doHitTestWithCaretRangeFromPoint(i,r){const I=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),X=i.getVerticalOffsetForLineNumber(I)+Math.floor(i.lineHeight/2);let Le=r.pos.y+(X-r.mouseVerticalOffset);Le<=r.editorPos.y&&(Le=r.editorPos.y+1),Le>=r.editorPos.y+r.editorPos.height&&(Le=r.editorPos.y+r.editorPos.height-1);const Be=new ae.YN(r.pos.x,Le),lt=this._actualDoHitTestWithCaretRangeFromPoint(i,Be.toClientCoordinates());return 1===lt.type?lt:this._actualDoHitTestWithCaretRangeFromPoint(i,r.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(i,r){const I=x.Ay(i.viewDomNode);let B;if(B=I?typeof I.caretRangeFromPoint>"u"?function Ei(Wt,i,r){const I=document.createRange();let B=Wt.elementFromPoint(i,r);if(null!==B){for(;B&&B.firstChild&&B.firstChild.nodeType!==B.firstChild.TEXT_NODE&&B.lastChild&&B.lastChild.firstChild;)B=B.lastChild;const X=B.getBoundingClientRect(),Le=window.getComputedStyle(B,null).getPropertyValue("font"),Be=B.innerText;let Nt,lt=X.left,wt=0;if(i>X.left+X.width)wt=Be.length;else{const Zt=no.getInstance();for(let ln=0;ln<Be.length+1;ln++){if(Nt=Zt.getCharWidth(Be.charAt(ln),Le)/2,lt+=Nt,i<lt){wt=ln;break}lt+=Nt}}I.setStart(B.firstChild,wt),I.setEnd(B.firstChild,wt)}return I}(I,r.clientX,r.clientY):I.caretRangeFromPoint(r.clientX,r.clientY):document.caretRangeFromPoint(r.clientX,r.clientY),!B||!B.startContainer)return new nt;const X=B.startContainer;if(X.nodeType===X.TEXT_NODE){const Le=X.parentNode,Be=Le?Le.parentNode:null,lt=Be?Be.parentNode:null;return(lt&&lt.nodeType===lt.ELEMENT_NODE?lt.className:null)===jt.CLASS_NAME?Ut.createFromDOMInfo(i,Le,B.startOffset):new nt(X.parentNode)}if(X.nodeType===X.ELEMENT_NODE){const Le=X.parentNode,Be=Le?Le.parentNode:null;return(Be&&Be.nodeType===Be.ELEMENT_NODE?Be.className:null)===jt.CLASS_NAME?Ut.createFromDOMInfo(i,X,X.textContent.length):new nt(X)}return new nt}static _doHitTestWithCaretPositionFromPoint(i,r){const I=document.caretPositionFromPoint(r.clientX,r.clientY);if(I.offsetNode.nodeType===I.offsetNode.TEXT_NODE){const B=I.offsetNode.parentNode,X=B?B.parentNode:null,Le=X?X.parentNode:null;return(Le&&Le.nodeType===Le.ELEMENT_NODE?Le.className:null)===jt.CLASS_NAME?Ut.createFromDOMInfo(i,I.offsetNode.parentNode,I.offset):new nt(I.offsetNode.parentNode)}if(I.offsetNode.nodeType===I.offsetNode.ELEMENT_NODE){const B=I.offsetNode.parentNode,Le=B?B.parentNode:null,Be=Le&&Le.nodeType===Le.ELEMENT_NODE?Le.className:null;if((B&&B.nodeType===B.ELEMENT_NODE?B.className:null)===jt.CLASS_NAME){const lt=I.offsetNode.childNodes[Math.min(I.offset,I.offsetNode.childNodes.length-1)];if(lt)return Ut.createFromDOMInfo(i,lt,0)}else if(Be===jt.CLASS_NAME)return Ut.createFromDOMInfo(i,I.offsetNode,0)}return new nt(I.offsetNode)}static _snapToSoftTabBoundary(i,r){const I=r.getLineContent(i.lineNumber),{tabSize:B}=r.model.getOptions(),X=Fe.l.atomicPosition(I,i.column-1,B,2);return-1!==X?new ue.L(i.lineNumber,X+1):i}static _doHitTest(i,r){let I=new nt;if("function"==typeof document.caretRangeFromPoint?I=this._doHitTestWithCaretRangeFromPoint(i,r):document.caretPositionFromPoint&&(I=this._doHitTestWithCaretPositionFromPoint(i,r.pos.toClientCoordinates())),1===I.type){const B=i.viewModel.getInjectedTextAt(I.position),X=i.viewModel.normalizePosition(I.position,2);(B||!X.equals(I.position))&&(I=new bt(X,I.spanNode,B))}return 1===I.type&&i.stickyTabStops&&(I=new bt(this._snapToSoftTabBoundary(I.position,i.viewModel),I.spanNode,I.injectedText)),I}}let no=(()=>{class Wt{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Wt._INSTANCE||(Wt._INSTANCE=new Wt),Wt._INSTANCE}getCharWidth(r,I){const B=r+I;if(this._cache[B])return this._cache[B];const X=this._canvas.getContext("2d");X.font=I;const Be=X.measureText(r).width;return this._cache[B]=Be,Be}}return Wt._INSTANCE=null,Wt})();class to extends ve{constructor(i,r,I){super(),this._mouseLeaveMonitor=null,this._context=i,this.viewController=r,this.viewHelper=I,this.mouseTargetFactory=new ii(this._context,I),this._mouseDownOperation=this._register(new Co(this._context,this.viewController,this.viewHelper,(Be,lt)=>this._createMouseTarget(Be,lt),Be=>this._getMouseColumn(Be))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const B=new ae.N5(this.viewHelper.viewDomNode);this._register(B.onContextMenu(this.viewHelper.viewDomNode,Be=>this._onContextMenu(Be,!0))),this._register(B.onMouseMove(this.viewHelper.viewDomNode,Be=>{this._onMouseMove(Be),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=x.nm(document,"mousemove",lt=>{this.viewHelper.viewDomNode.contains(lt.target)||this._onMouseLeave(new ae.gy(lt,!1,this.viewHelper.viewDomNode))}))})),this._register(B.onMouseUp(this.viewHelper.viewDomNode,Be=>this._onMouseUp(Be))),this._register(B.onMouseLeave(this.viewHelper.viewDomNode,Be=>this._onMouseLeave(Be)));let X=0;this._register(B.onPointerDown(this.viewHelper.viewDomNode,(Be,lt)=>{X=lt})),this._register(x.nm(this.viewHelper.viewDomNode,x.tw.POINTER_UP,Be=>{this._mouseDownOperation.onPointerUp()})),this._register(B.onMouseDown(this.viewHelper.viewDomNode,Be=>this._onMouseDown(Be,X))),this._register(x.nm(this.viewHelper.viewDomNode,x.tw.MOUSE_WHEEL,Be=>{if(this.viewController.emitMouseWheel(Be),!this._context.configuration.options.get(70))return;const lt=new Lt.q(Be);if(j.dz?(Be.metaKey||Be.ctrlKey)&&!Be.shiftKey&&!Be.altKey:Be.ctrlKey&&!Be.metaKey&&!Be.shiftKey&&!Be.altKey){const Nt=Ee.C.getZoomLevel();Ee.C.setZoomLevel(Nt+(lt.deltaY>0?1:-1)),lt.preventDefault(),lt.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(i){if(i.hasChanged(133)){const r=this._context.configuration.options.get(133).height;this._height!==r&&(this._height=r,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(i){return this._mouseDownOperation.onCursorStateChanged(i),!1}onFocusChanged(i){return!1}onScrollChanged(i){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(i,r){const B=new ae.rU(i,r).toPageCoordinates(),X=(0,ae.kG)(this.viewHelper.viewDomNode);if(B.y<X.y||B.y>X.y+X.height||B.x<X.x||B.x>X.x+X.width)return null;const Le=(0,ae.Pp)(this.viewHelper.viewDomNode,X,B);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),X,B,Le,null)}_createMouseTarget(i,r){let I=i.target;if(!this.viewHelper.viewDomNode.contains(I)){const B=x.Ay(this.viewHelper.viewDomNode);B&&(I=B.elementsFromPoint(i.posx,i.posy).find(X=>this.viewHelper.viewDomNode.contains(X)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i.editorPos,i.pos,i.relativePos,r?I:null)}_getMouseColumn(i){return this.mouseTargetFactory.getMouseColumn(i.relativePos)}_onContextMenu(i,r){this.viewController.emitContextMenu({event:i,target:this._createMouseTarget(i,r)})}_onMouseMove(i){this.mouseTargetFactory.mouseTargetIsWidget(i)||i.preventDefault(),!(this._mouseDownOperation.isActive()||i.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:i,target:this._createMouseTarget(i,!0)})}_onMouseLeave(i){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:i,target:null})}_onMouseUp(i){this.viewController.emitMouseUp({event:i,target:this._createMouseTarget(i,!0)})}_onMouseDown(i,r){const I=this._createMouseTarget(i,!0),B=6===I.type||7===I.type,X=2===I.type||3===I.type||4===I.type,Le=3===I.type,Be=this._context.configuration.options.get(100),lt=8===I.type||5===I.type,wt=9===I.type;let Nt=i.leftButton||i.middleButton;j.dz&&i.leftButton&&i.ctrlKey&&(Nt=!1);const Zt=()=>{i.preventDefault(),this.viewHelper.focusTextArea()};if(Nt&&(B||Le&&Be))Zt(),this._mouseDownOperation.start(I.type,i,r);else if(X)i.preventDefault();else if(lt){const ln=I.detail;Nt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(ln.viewZoneId)&&(Zt(),this._mouseDownOperation.start(I.type,i,r),i.preventDefault())}else wt&&this.viewHelper.shouldSuppressMouseDownOnWidget(I.detail)&&(Zt(),i.preventDefault());this.viewController.emitMouseDown({event:i,target:I})}}class Co extends V.JT{constructor(i,r,I,B,X){super(),this._context=i,this._viewController=r,this._viewHelper=I,this._createMouseTarget=B,this._getMouseColumn=X,this._mouseMoveMonitor=this._register(new ae.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new $e._F),this._mouseState=new io,this._currentSelection=new Ve.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(i){this._lastMouseEvent=i,this._mouseState.setModifiers(i);const r=this._findMousePosition(i,!1);!r||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:i,target:r}):this._dispatchMouse(r,!0))}start(i,r,I){this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(3===i),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);const B=this._findMousePosition(r,!0);if(!B||!B.position)return;this._mouseState.trySetCount(r.detail,B.position),r.detail=this._mouseState.count;const X=this._context.configuration.options;if(!X.get(83)&&X.get(31)&&!X.get(18)&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===B.type&&B.position&&this._currentSelection.containsPosition(B.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,I,r.buttons,Le=>this._onMouseDownThenMove(Le),Le=>{const Be=this._findMousePosition(this._lastMouseEvent,!1);Le&&Le instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Be?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(B,r.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,I,r.buttons,Le=>this._onMouseDownThenMove(Le),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const i=this._findMousePosition(this._lastMouseEvent,!1);!i||this._mouseState.isDragAndDrop||this._dispatchMouse(i,!0)},10)}onCursorStateChanged(i){this._currentSelection=i.selections[0]}_getPositionOutsideEditor(i){const r=i.editorPos,I=this._context.viewModel,B=this._context.viewLayout,X=this._getMouseColumn(i);if(i.posy<r.y){const Be=Math.max(B.getCurrentScrollTop()-(r.y-i.posy),0),lt=gn.getZoneAtCoord(this._context,Be);if(lt){const Nt=this._helpPositionJumpOverViewZone(lt);if(Nt)return Mn.createOutsideEditor(X,Nt)}const wt=B.getLineNumberAtVerticalOffset(Be);return Mn.createOutsideEditor(X,new ue.L(wt,1))}if(i.posy>r.y+r.height){const Be=B.getCurrentScrollTop()+i.relativePos.y,lt=gn.getZoneAtCoord(this._context,Be);if(lt){const Nt=this._helpPositionJumpOverViewZone(lt);if(Nt)return Mn.createOutsideEditor(X,Nt)}const wt=B.getLineNumberAtVerticalOffset(Be);return Mn.createOutsideEditor(X,new ue.L(wt,I.getLineMaxColumn(wt)))}const Le=B.getLineNumberAtVerticalOffset(B.getCurrentScrollTop()+i.relativePos.y);return i.posx<r.x?Mn.createOutsideEditor(X,new ue.L(Le,1)):i.posx>r.x+r.width?Mn.createOutsideEditor(X,new ue.L(Le,I.getLineMaxColumn(Le))):null}_findMousePosition(i,r){const I=this._getPositionOutsideEditor(i);if(I)return I;const B=this._createMouseTarget(i,r);if(!B.position)return null;if(8===B.type||5===B.type){const Le=this._helpPositionJumpOverViewZone(B.detail);if(Le)return Mn.createViewZone(B.type,B.element,B.mouseColumn,Le,B.detail)}return B}_helpPositionJumpOverViewZone(i){const r=new ue.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),I=i.positionBefore,B=i.positionAfter;return I&&B?I.isBefore(r)?I:B:null}_dispatchMouse(i,r){!i.position||this._viewController.dispatchMouse({position:i.position,mouseColumn:i.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===i.type&&null!==i.detail.injectedText})}}let io=(()=>{class Wt{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(r){this._altKey=r.altKey,this._ctrlKey=r.ctrlKey,this._metaKey=r.metaKey,this._shiftKey=r.shiftKey}setStartButtons(r){this._leftButton=r.leftButton,this._middleButton=r.middleButton}setStartedOnLineNumbers(r){this._startedOnLineNumbers=r}trySetCount(r,I){const B=(new Date).getTime();B-this._lastSetMouseDownCountTime>Wt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(r=1),this._lastSetMouseDownCountTime=B,r>this._lastMouseDownCount+1&&(r=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(I)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=I,this._lastMouseDownCount=Math.min(r,this._lastMouseDownPositionEqualCount)}}return Wt.CLEAR_MOUSE_DOWN_COUNT_TIME=400,Wt})();var uo=e(15278),go=e(85375);class si extends to{constructor(i,r,I){super(i,r,I),this._register(Ct.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,Ct.t.Tap,X=>this.onTap(X))),this._register(x.nm(this.viewHelper.linesContentDomNode,Ct.t.Change,X=>this.onChange(X))),this._register(x.nm(this.viewHelper.linesContentDomNode,Ct.t.Contextmenu,X=>this._onContextMenu(new ae.gy(X,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(x.nm(this.viewHelper.linesContentDomNode,"pointerdown",X=>{const Le=X.pointerType;this._lastPointerType="mouse"!==Le?"touch"===Le?"touch":"pen":"mouse"}));const B=new ae.tC(this.viewHelper.viewDomNode);this._register(B.onPointerMove(this.viewHelper.viewDomNode,X=>this._onMouseMove(X))),this._register(B.onPointerUp(this.viewHelper.viewDomNode,X=>this._onMouseUp(X))),this._register(B.onPointerLeave(this.viewHelper.viewDomNode,X=>this._onMouseLeave(X))),this._register(B.onPointerDown(this.viewHelper.viewDomNode,(X,Le)=>this._onMouseDown(X,Le)))}onTap(i){if(!i.initialTarget||!this.viewHelper.linesContentDomNode.contains(i.initialTarget))return;i.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new ae.gy(i,!1,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,mouseDownCount:i.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===r.type&&null!==r.detail.injectedText})}onChange(i){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}_onMouseDown(i,r){"touch"!==i.browserEvent.pointerType&&super._onMouseDown(i,r)}}class Yt extends to{constructor(i,r,I){super(i,r,I),this._register(Ct.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,Ct.t.Tap,B=>this.onTap(B))),this._register(x.nm(this.viewHelper.linesContentDomNode,Ct.t.Change,B=>this.onChange(B))),this._register(x.nm(this.viewHelper.linesContentDomNode,Ct.t.Contextmenu,B=>this._onContextMenu(new ae.gy(B,!1,this.viewHelper.viewDomNode),!1)))}onTap(i){i.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new ae.gy(i,!1,this.viewHelper.viewDomNode),!1);if(r.position){const I=document.createEvent("CustomEvent");I.initEvent(go.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(I),this.viewController.moveTo(r.position)}}onChange(i){this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}}class pt extends V.JT{constructor(i,r,I){super(),this.handler=j.gn&&uo.D.pointerEvents?this._register(new si(i,r,I)):window.TouchEvent?this._register(new Yt(i,r,I)):this._register(new to(i,r,I))}getTargetAtClientPoint(i,r){return this.handler.getTargetAtClientPoint(i,r)}}var gt=e(31082),Kt={};Kt.styleTagTransform=u(),Kt.setAttributes=c(),Kt.insert=s().bind(null,"head"),Kt.domAPI=L(),Kt.insertStyleElement=a(),C()(gt.Z,Kt);var mn=e(73879),Nn=e(44716),jn=e(431),Yn=e(17609),wi={};wi.styleTagTransform=u(),wi.setAttributes=c(),wi.insert=s().bind(null,"head"),wi.domAPI=L(),wi.insertStyleElement=a(),C()(Yn.Z,wi);class Pi extends ve{}var Ki=e(43944),Wi=e(40902);let ro=(()=>{class Wt extends Pi{constructor(r){super(),this._context=r,this._readConfig(),this._lastCursorModelPosition=new ue.L(1,1),this._lastCursorViewPosition=new ue.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const r=this._context.configuration.options;this._lineHeight=r.get(61);const I=r.get(62);this._renderLineNumbers=I.renderType,this._renderCustomLineNumbers=I.renderFn,this._renderFinalNewline=r.get(86);const B=r.get(133);this._lineNumbersLeft=B.lineNumbersLeft,this._lineNumbersWidth=B.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){return this._readConfig(),!0}onCursorStateChanged(r){const I=r.selections[0].getPosition();this._lastCursorViewPosition=I,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(I);let B=!1;return this._activeLineNumber!==I.lineNumber&&(this._activeLineNumber=I.lineNumber,B=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(B=!0),B}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getLineRenderLineNumber(r){const I=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(r,1));if(1!==I.column)return"";const B=I.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(B):3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===B||B%10==0?String(B):"":String(B)}prepareRender(r){if(0===this._renderLineNumbers)return void(this._renderResult=null);const I=j.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",B=r.visibleRange.startLineNumber,X=r.visibleRange.endLineNumber,Le='<div class="'+Wt.CLASS_NAME+I+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let Be=null;if(2===this._renderLineNumbers){Be=new Array(X-B+1),this._lastCursorViewPosition.lineNumber>=B&&this._lastCursorViewPosition.lineNumber<=X&&(Be[this._lastCursorViewPosition.lineNumber-B]=this._lastCursorModelPosition.lineNumber);{let Nt=0;for(let Zt=this._lastCursorViewPosition.lineNumber+1;Zt<=X;Zt++){const hn=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(Zt,1)).column;hn||Nt++,Zt>=B&&(Be[Zt-B]=hn?0:Nt)}}{let Nt=0;for(let Zt=this._lastCursorViewPosition.lineNumber-1;Zt>=B;Zt--){const hn=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(Zt,1)).column;hn||Nt++,Zt<=X&&(Be[Zt-B]=hn?0:Nt)}}}const lt=this._context.viewModel.getLineCount(),wt=[];for(let Nt=B;Nt<=X;Nt++){const Zt=Nt-B;if(!this._renderFinalNewline&&Nt===lt&&0===this._context.viewModel.getLineLength(Nt)){wt[Zt]="";continue}let ln;if(Be){const hn=Be[Zt];ln=this._lastCursorViewPosition.lineNumber===Nt?`<span class="relative-current-line-number">${hn}</span>`:hn?String(hn):""}else ln=this._getLineRenderLineNumber(Nt);wt[Zt]=ln?Nt===this._activeLineNumber?'<div class="active-line-number '+Wt.CLASS_NAME+I+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+ln+"</div>":Le+ln+"</div>":""}this._renderResult=wt}render(r,I){if(!this._renderResult)return"";const B=I-r;return B<0||B>=this._renderResult.length?"":this._renderResult[B]}}return Wt.CLASS_NAME="line-numbers",Wt})();(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.hw);r&&i.addRule(`.monaco-editor .line-numbers { color: ${r}; }`);const I=Wt.getColor(Ki.DD);I&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${I}; }`)});let mo=(()=>{class Wt extends he{constructor(r){super(r);const I=this._context.configuration.options,B=I.get(133);this._canUseLayerHinting=!I.get(28),this._contentLeft=B.contentLeft,this._glyphMarginLeft=B.glyphMarginLeft,this._glyphMarginWidth=B.glyphMarginWidth,this._domNode=(0,tt.X)(document.createElement("div")),this._domNode.setClassName(Wt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,tt.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Wt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(r){const I=this._context.configuration.options,B=I.get(133);return this._canUseLayerHinting=!I.get(28),this._contentLeft=B.contentLeft,this._glyphMarginLeft=B.glyphMarginLeft,this._glyphMarginWidth=B.glyphMarginWidth,!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollTopChanged}prepareRender(r){}render(r){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(r.scrollTop-r.bigNumbersDelta));const B=Math.min(r.scrollHeight,1e6);this._domNode.setHeight(B),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(B)}}return Wt.CLASS_NAME="glyph-margin",Wt.OUTER_CLASS_NAME="margin",Wt})();var Ko=e(91609),Eo=e(92273),Mo=e(45337),Io=e(69355);class Yi{constructor(i,r,I,B,X){this._context=i,this.modelLineNumber=r,this.distanceToModelLineStart=I,this.widthOfHiddenLineTextBefore=B,this.distanceToModelLineEnd=X,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(i){const r=new ue.L(this.modelLineNumber,this.distanceToModelLineStart+1),I=new ue.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(I),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=i.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=i.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(i){return this._previousPresentation||(this._previousPresentation=i||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const ho=z.isFirefox;class Ao extends he{constructor(i,r,I){super(i),this._primaryCursorPosition=new ue.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=r,this._visibleRangeProvider=I,this._scrollLeft=0,this._scrollTop=0;const B=this._context.configuration.options,X=B.get(133);this._setAccessibilityOptions(B),this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._contentHeight=X.height,this._fontInfo=B.get(46),this._lineHeight=B.get(61),this._emptySelectionClipboard=B.get(33),this._copyWithSyntaxHighlighting=B.get(21),this._visibleTextArea=null,this._selections=[new Ve.Y(1,1,1,1)],this._modelSelections=[new Ve.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,tt.X)(document.createElement("textarea")),le.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Eo.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(B)),this.textArea.setAttribute("tabindex",String(B.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",D.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),B.get(30)&&B.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,tt.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Le={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:wt=>this._context.viewModel.getLineMaxColumn(wt),getValueInRange:(wt,Nt)=>this._context.viewModel.getValueInRange(wt,Nt)},Be={getDataToCopy:()=>{const wt=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,j.ED),Nt=this._context.viewModel.model.getEOL(),Zt=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),ln=Array.isArray(wt)?wt:null,hn=Array.isArray(wt)?wt.join(Nt):wt;let Fn,$n=null;if(go.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&hn.length<65536){const Zn=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Zn&&(Fn=Zn.html,$n=Zn.mode)}return{isFromEmptySelection:Zt,multicursorText:ln,text:hn,html:Fn,mode:$n}},getScreenReaderContent:wt=>{if(1===this._accessibilitySupport){const Nt=this._selections[0];if(j.dz&&Nt.isEmpty()){const Zt=Nt.getStartPosition();let ln=this._getWordBeforePosition(Zt);if(0===ln.length&&(ln=this._getCharacterBeforePosition(Zt)),ln.length>0)return new jn.un(ln,ln.length,ln.length,Zt,Zt)}if(z.isSafari&&!Nt.isEmpty()){const Zt="vscode-placeholder";return new jn.un(Zt,0,Zt.length,null,null)}return jn.un.EMPTY}if(z.isAndroid){const Nt=this._selections[0];if(Nt.isEmpty()){const Zt=Nt.getStartPosition(),[ln,hn]=this._getAndroidWordAtPosition(Zt);if(ln.length>0)return new jn.un(ln,hn,hn,Zt,Zt)}return jn.un.EMPTY}return jn.ee.fromEditorSelection(wt,Le,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(wt,Nt,Zt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(wt,Nt,Zt)},lt=this._register(new go.Tj(this.textArea.domNode));this._textAreaInput=this._register(new go.Fz(Be,lt,j.OS,z)),this._register(this._textAreaInput.onKeyDown(wt=>{this._viewController.emitKeyDown(wt)})),this._register(this._textAreaInput.onKeyUp(wt=>{this._viewController.emitKeyUp(wt)})),this._register(this._textAreaInput.onPaste(wt=>{let Nt=!1,Zt=null,ln=null;wt.metadata&&(Nt=this._emptySelectionClipboard&&!!wt.metadata.isFromEmptySelection,Zt=typeof wt.metadata.multicursorText<"u"?wt.metadata.multicursorText:null,ln=wt.metadata.mode),this._viewController.paste(wt.text,Nt,Zt,ln)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(wt=>{wt.replacePrevCharCnt||wt.replaceNextCharCnt||wt.positionDelta?(jn.al&&console.log(` => compositionType: <<${wt.text}>>, ${wt.replacePrevCharCnt}, ${wt.replaceNextCharCnt}, ${wt.positionDelta}`),this._viewController.compositionType(wt.text,wt.replacePrevCharCnt,wt.replaceNextCharCnt,wt.positionDelta)):(jn.al&&console.log(` => type: <<${wt.text}>>`),this._viewController.type(wt.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(wt=>{this._viewController.setSelection(wt)})),this._register(this._textAreaInput.onCompositionStart(wt=>{const Nt=this.textArea.domNode,Zt=this._modelSelections[0],{distanceToModelLineStart:ln,widthOfHiddenTextBefore:hn}=(()=>{const $n=Nt.value.substring(0,Math.min(Nt.selectionStart,Nt.selectionEnd)),Zn=$n.lastIndexOf("\n"),ai=$n.substring(Zn+1),vi=ai.lastIndexOf("\t"),yi=ai.length-vi-1,Vi=Zt.getStartPosition(),Xi=Math.min(Vi.column-1,yi),Zi=Vi.column-1-Xi,Hi=function li(Wt,i){if(0===Wt.length)return 0;const r=document.createElement("div");r.style.position="absolute",r.style.top="-50000px",r.style.width="50000px";const I=document.createElement("span");(0,Nn.N)(I,i),I.style.whiteSpace="pre",I.append(Wt),r.appendChild(I),document.body.appendChild(r);const B=I.offsetWidth;return document.body.removeChild(r),B}(ai.substring(0,ai.length-Xi),this._fontInfo);return{distanceToModelLineStart:Zi,widthOfHiddenTextBefore:Hi}})(),{distanceToModelLineEnd:Fn}=(()=>{const $n=Nt.value.substring(Math.max(Nt.selectionStart,Nt.selectionEnd)),Zn=$n.indexOf("\n"),ai=-1===Zn?$n:$n.substring(0,Zn),vi=ai.indexOf("\t"),yi=-1===vi?ai.length:ai.length-vi-1,Vi=Zt.getEndPosition(),Xi=Math.min(this._context.viewModel.model.getLineMaxColumn(Vi.lineNumber)-Vi.column,yi);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Vi.lineNumber)-Vi.column-Xi}})();this._context.viewModel.revealRange("keyboard",!0,be.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Yi(this._context,Zt.startLineNumber,ln,hn,Fn),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Eo.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(wt=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Eo.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(i){const I=this._context.viewModel.getLineContent(i.lineNumber),B=(0,Ko.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let X=!0,Le=i.column,Be=!0,lt=i.column,wt=0;for(;wt<50&&(X||Be);){if(X&&Le<=1&&(X=!1),X){const Nt=I.charCodeAt(Le-2);0!==B.get(Nt)?X=!1:Le--}if(Be&&lt>I.length&&(Be=!1),Be){const Nt=I.charCodeAt(lt-1);0!==B.get(Nt)?Be=!1:lt++}wt++}return[I.substring(Le-1,lt-1),i.column-Le]}_getWordBeforePosition(i){const r=this._context.viewModel.getLineContent(i.lineNumber),I=(0,Ko.u)(this._context.configuration.options.get(119));let B=i.column,X=0;for(;B>1;){const Le=r.charCodeAt(B-2);if(0!==I.get(Le)||X>50)return r.substring(B-1,i.column-1);X++,B--}return r.substring(0,i.column-1)}_getCharacterBeforePosition(i){if(i.column>1){const I=this._context.viewModel.getLineContent(i.lineNumber).charAt(i.column-2);if(!mn.ZG(I.charCodeAt(0)))return I}return""}_getAriaLabel(i){return 1===i.get(2)?D.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",j.IJ?"Shift+Alt+F1":"Alt+F1"):i.get(4)}_setAccessibilityOptions(i){this._accessibilitySupport=i.get(2);const r=i.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&r===we.BH.accessibilityPageSize.defaultValue?500:r}onConfigurationChanged(i){const r=this._context.configuration.options,I=r.get(133);return this._setAccessibilityOptions(r),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=r.get(46),this._lineHeight=r.get(61),this._emptySelectionClipboard=r.get(33),this._copyWithSyntaxHighlighting=r.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(r)),this.textArea.setAttribute("tabindex",String(r.get(114))),(i.hasChanged(30)||i.hasChanged(83))&&(r.get(30)&&r.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),i.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),this._modelSelections=i.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return this._scrollLeft=i.scrollLeft,this._scrollTop=i.scrollTop,!0}onZonesChanged(i){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(i){i.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",i.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),i.role&&this.textArea.setAttribute("role",i.role)}prepareRender(i){var r;this._primaryCursorPosition=new ue.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=i.visibleRangeForPosition(this._primaryCursorPosition),null===(r=this._visibleTextArea)||void 0===r||r.prepareRender(i)}render(i){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const I=this._visibleTextArea.visibleTextareaStart,B=this._visibleTextArea.visibleTextareaEnd,X=this._visibleTextArea.startPosition,Le=this._visibleTextArea.endPosition;if(X&&Le&&I&&B&&B.left>=this._scrollLeft&&I.left<=this._scrollLeft+this._contentWidth){const Be=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,lt=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let wt=this._visibleTextArea.widthOfHiddenLineTextBefore,Nt=this._contentLeft+I.left-this._scrollLeft,Zt=B.left-I.left+1;if(Nt<this._contentLeft){const ai=this._contentLeft-Nt;Nt+=ai,wt+=ai,Zt-=ai}Zt>this._contentWidth&&(Zt=this._contentWidth);const ln=this._context.viewModel.getViewLineData(X.lineNumber),hn=ln.tokens.findTokenIndexAtOffset(X.column-1),Fn=ln.tokens.findTokenIndexAtOffset(Le.column-1),Zn=this._visibleTextArea.definePresentation(hn===Fn?ln.tokens.getPresentation(hn):null);this.textArea.domNode.scrollTop=lt*this._lineHeight,this.textArea.domNode.scrollLeft=wt,this._doRender({lastRenderPosition:null,top:Be,left:Nt,width:Zt,height:this._lineHeight,useCover:!1,color:(Mo.RW.getColorMap()||[])[Zn.foreground],italic:Zn.italic,bold:Zn.bold,underline:Zn.underline,strikethrough:Zn.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const i=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(i<this._contentLeft||i>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const r=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(r<0||r>this._contentHeight)this._renderAtTopLeft();else if(j.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:r,left:i,width:ho?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const I=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=I*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:r,left:i,width:ho?0:1,height:ho?0:1,useCover:!1})}_newlinecount(i){let r=0,I=-1;for(;I=i.indexOf("\n",I+1),-1!==I;)r++;return r}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:ho?0:1,height:ho?0:1,useCover:!0})}_doRender(i){this._lastRenderPosition=i.lastRenderPosition;const r=this.textArea,I=this.textAreaCover;(0,Nn.N)(r,this._fontInfo),r.setTop(i.top),r.setLeft(i.left),r.setWidth(i.width),r.setHeight(i.height),r.setColor(i.color?Io.Il.Format.CSS.formatHex(i.color):""),r.setFontStyle(i.italic?"italic":""),i.bold&&r.setFontWeight("bold"),r.setTextDecoration(`${i.underline?" underline":""}${i.strikethrough?" line-through":""}`),I.setTop(i.useCover?i.top:0),I.setLeft(i.useCover?i.left:0),I.setWidth(i.useCover?i.width:0),I.setHeight(i.useCover?i.height:0);const B=this._context.configuration.options;B.get(52)?I.setClassName("monaco-editor-background textAreaCover "+mo.OUTER_CLASS_NAME):0!==B.get(62).renderType?I.setClassName("monaco-editor-background textAreaCover "+ro.CLASS_NAME):I.setClassName("monaco-editor-background textAreaCover")}}var Xt=e(41442);class kt{constructor(i,r,I,B){this.configuration=i,this.viewModel=r,this.userInputEvents=I,this.commandDelegate=B}paste(i,r,I,B){this.commandDelegate.paste(i,r,I,B)}type(i){this.commandDelegate.type(i)}compositionType(i,r,I,B){this.commandDelegate.compositionType(i,r,I,B)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(i){Xt.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:i})}_validateViewColumn(i){const r=this.viewModel.getLineMinColumn(i.lineNumber);return i.column<r?new ue.L(i.lineNumber,r):i}_hasMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.altKey;case"ctrlKey":return i.ctrlKey;case"metaKey":return i.metaKey;default:return!1}}_hasNonMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.ctrlKey||i.metaKey;case"ctrlKey":return i.altKey||i.metaKey;case"metaKey":return i.ctrlKey||i.altKey;default:return!1}}dispatchMouse(i){const r=this.configuration.options,I=j.IJ&&r.get(98),B=r.get(18);i.middleButton&&!I?this._columnSelect(i.position,i.mouseColumn,i.inSelectionMode):i.startedOnLineNumbers?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelect(i.position):this._createCursor(i.position,!0):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):i.mouseDownCount>=4?this._selectAll():3===i.mouseDownCount?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelectDrag(i.position):this._lastCursorLineSelect(i.position):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):2===i.mouseDownCount?i.onInjectedText||(this._hasMulticursorModifier(i)?this._lastCursorWordSelect(i.position):i.inSelectionMode?this._wordSelectDrag(i.position):this._wordSelect(i.position)):this._hasMulticursorModifier(i)?this._hasNonMulticursorModifier(i)||(i.shiftKey?this._columnSelect(i.position,i.mouseColumn,!0):i.inSelectionMode?this._lastCursorMoveToSelect(i.position):this._createCursor(i.position,!1)):i.inSelectionMode?i.altKey||B?this._columnSelect(i.position,i.mouseColumn,!0):this._moveToSelect(i.position):this.moveTo(i.position)}_usualArgs(i){return i=this._validateViewColumn(i),{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i}}moveTo(i){Xt.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_moveToSelect(i){Xt.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_columnSelect(i,r,I){i=this._validateViewColumn(i),Xt.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,mouseColumn:r,doColumnSelect:I})}_createCursor(i,r){i=this._validateViewColumn(i),Xt.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,wholeLine:r})}_lastCursorMoveToSelect(i){Xt.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelect(i){Xt.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelectDrag(i){Xt.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorWordSelect(i){Xt.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelect(i){Xt.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelectDrag(i){Xt.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelect(i){Xt.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelectDrag(i){Xt.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_selectAll(){Xt.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(i){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i)}emitKeyDown(i){this.userInputEvents.emitKeyDown(i)}emitKeyUp(i){this.userInputEvents.emitKeyUp(i)}emitContextMenu(i){this.userInputEvents.emitContextMenu(i)}emitMouseMove(i){this.userInputEvents.emitMouseMove(i)}emitMouseLeave(i){this.userInputEvents.emitMouseLeave(i)}emitMouseUp(i){this.userInputEvents.emitMouseUp(i)}emitMouseDown(i){this.userInputEvents.emitMouseDown(i)}emitMouseDrag(i){this.userInputEvents.emitMouseDrag(i)}emitMouseDrop(i){this.userInputEvents.emitMouseDrop(i)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(i){this.userInputEvents.emitMouseWheel(i)}}class un{constructor(i){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=i}emitKeyDown(i){var r;null===(r=this.onKeyDown)||void 0===r||r.call(this,i)}emitKeyUp(i){var r;null===(r=this.onKeyUp)||void 0===r||r.call(this,i)}emitContextMenu(i){var r;null===(r=this.onContextMenu)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseMove(i){var r;null===(r=this.onMouseMove)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseLeave(i){var r;null===(r=this.onMouseLeave)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDown(i){var r;null===(r=this.onMouseDown)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseUp(i){var r;null===(r=this.onMouseUp)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrag(i){var r;null===(r=this.onMouseDrag)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrop(i){var r;null===(r=this.onMouseDrop)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDropCanceled(){var i;null===(i=this.onMouseDropCanceled)||void 0===i||i.call(this)}emitMouseWheel(i){var r;null===(r=this.onMouseWheel)||void 0===r||r.call(this,i)}_convertViewToModelMouseEvent(i){return i.target?{event:i.event,target:this._convertViewToModelMouseTarget(i.target)}:i}_convertViewToModelMouseTarget(i){return un.convertViewToModelMouseTarget(i,this._coordinatesConverter)}static convertViewToModelMouseTarget(i,r){const I=Object.assign({},i);return I.position&&(I.position=r.convertViewPositionToModelPosition(I.position)),I.range&&(I.range=r.convertViewRangeToModelRange(I.range)),I}}var Wn,Rn=e(8680);class dn{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,r){this._lines=r,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const r=i-this._rendLineNumberStart;if(r<0||r>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[r]}onLinesDeleted(i,r){if(0===this.getCount())return null;const I=this.getStartLineNumber(),B=this.getEndLineNumber();if(r<I)return this._rendLineNumberStart-=r-i+1,null;if(i>B)return null;let X=0,Le=0;for(let lt=I;lt<=B;lt++){const wt=lt-this._rendLineNumberStart;i<=lt&&lt<=r&&(0===Le?(X=wt,Le=1):Le++)}if(i<I){let lt=0;lt=r<I?r-i+1:I-i,this._rendLineNumberStart-=lt}return this._lines.splice(X,Le)}onLinesChanged(i,r){const I=i+r-1;if(0===this.getCount())return!1;const B=this.getStartLineNumber(),X=this.getEndLineNumber();let Le=!1;for(let Be=i;Be<=I;Be++)Be>=B&&Be<=X&&(this._lines[Be-this._rendLineNumberStart].onContentChanged(),Le=!0);return Le}onLinesInserted(i,r){if(0===this.getCount())return null;const I=r-i+1,B=this.getStartLineNumber(),X=this.getEndLineNumber();if(i<=B)return this._rendLineNumberStart+=I,null;if(i>X)return null;if(I+i>X)return this._lines.splice(i-this._rendLineNumberStart,X-i+1);const Le=[];for(let Zt=0;Zt<I;Zt++)Le[Zt]=this._createLine();const Be=i-this._rendLineNumberStart,lt=this._lines.slice(0,Be),wt=this._lines.slice(Be,this._lines.length-I),Nt=this._lines.slice(this._lines.length-I,this._lines.length);return this._lines=lt.concat(Le).concat(wt),Nt}onTokensChanged(i){if(0===this.getCount())return!1;const r=this.getStartLineNumber(),I=this.getEndLineNumber();let B=!1;for(let X=0,Le=i.length;X<Le;X++){const Be=i[X];if(Be.toLineNumber<r||Be.fromLineNumber>I)continue;const lt=Math.max(r,Be.fromLineNumber),wt=Math.min(I,Be.toLineNumber);for(let Nt=lt;Nt<=wt;Nt++)this._lines[Nt-this._rendLineNumberStart].onTokensChanged(),B=!0}return B}}class ft{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new dn(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,tt.X)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(133)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){const r=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(r)for(let I=0,B=r.length;I<B;I++){const X=r[I].getDomNode();X&&this.domNode.domNode.removeChild(X)}return!0}onLinesInserted(i){const r=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(r)for(let I=0,B=r.length;I<B;I++){const X=r[I].getDomNode();X&&this.domNode.domNode.removeChild(X)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const r=this._linesCollection._get(),X=new sn(this.domNode.domNode,this._host,i).render({rendLineNumberStart:r.rendLineNumberStart,lines:r.lines,linesLength:r.lines.length},i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(X.rendLineNumberStart,X.lines)}}class sn{constructor(i,r,I){this.domNode=i,this.host=r,this.viewportData=I}render(i,r,I,B){const X={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(X.rendLineNumberStart+X.linesLength-1<r||I<X.rendLineNumberStart){X.rendLineNumberStart=r,X.linesLength=I-r+1,X.lines=[];for(let Le=r;Le<=I;Le++)X.lines[Le-r]=this.host.createVisibleLine();return this._finishRendering(X,!0,B),X}if(this._renderUntouchedLines(X,Math.max(r-X.rendLineNumberStart,0),Math.min(I-X.rendLineNumberStart,X.linesLength-1),B,r),X.rendLineNumberStart>r){const Le=r,Be=Math.min(I,X.rendLineNumberStart-1);Le<=Be&&(this._insertLinesBefore(X,Le,Be,B,r),X.linesLength+=Be-Le+1)}else if(X.rendLineNumberStart<r){const Le=Math.min(X.linesLength,r-X.rendLineNumberStart);Le>0&&(this._removeLinesBefore(X,Le),X.linesLength-=Le)}if(X.rendLineNumberStart=r,X.rendLineNumberStart+X.linesLength-1<I){const Le=X.rendLineNumberStart+X.linesLength,Be=I;Le<=Be&&(this._insertLinesAfter(X,Le,Be,B,r),X.linesLength+=Be-Le+1)}else if(X.rendLineNumberStart+X.linesLength-1>I){const Le=Math.max(0,I-X.rendLineNumberStart+1),lt=X.linesLength-1-Le+1;lt>0&&(this._removeLinesAfter(X,lt),X.linesLength-=lt)}return this._finishRendering(X,!1,B),X}_renderUntouchedLines(i,r,I,B,X){const Le=i.rendLineNumberStart,Be=i.lines;for(let lt=r;lt<=I;lt++){const wt=Le+lt;Be[lt].layoutLine(wt,B[wt-X])}}_insertLinesBefore(i,r,I,B,X){const Le=[];let Be=0;for(let lt=r;lt<=I;lt++)Le[Be++]=this.host.createVisibleLine();i.lines=Le.concat(i.lines)}_removeLinesBefore(i,r){for(let I=0;I<r;I++){const B=i.lines[I].getDomNode();B&&this.domNode.removeChild(B)}i.lines.splice(0,r)}_insertLinesAfter(i,r,I,B,X){const Le=[];let Be=0;for(let lt=r;lt<=I;lt++)Le[Be++]=this.host.createVisibleLine();i.lines=i.lines.concat(Le)}_removeLinesAfter(i,r){const I=i.linesLength-r;for(let B=0;B<r;B++){const X=i.lines[I+B].getDomNode();X&&this.domNode.removeChild(X)}i.lines.splice(I,r)}_finishRenderingNewLines(i,r,I,B){sn._ttPolicy&&(I=sn._ttPolicy.createHTML(I));const X=this.domNode.lastChild;r||!X?this.domNode.innerHTML=I:X.insertAdjacentHTML("afterend",I);let Le=this.domNode.lastChild;for(let Be=i.linesLength-1;Be>=0;Be--){const lt=i.lines[Be];B[Be]&&(lt.setDomNode(Le),Le=Le.previousSibling)}}_finishRenderingInvalidLines(i,r,I){const B=document.createElement("div");sn._ttPolicy&&(r=sn._ttPolicy.createHTML(r)),B.innerHTML=r;for(let X=0;X<i.linesLength;X++){const Le=i.lines[X];if(I[X]){const Be=B.firstChild,lt=Le.getDomNode();lt.parentNode.replaceChild(Be,lt),Le.setDomNode(Be)}}}_finishRendering(i,r,I){const B=sn._sb,X=i.linesLength,Le=i.lines,Be=i.rendLineNumberStart,lt=[];{B.reset();let wt=!1;for(let Nt=0;Nt<X;Nt++){const Zt=Le[Nt];lt[Nt]=!1,!Zt.getDomNode()&&Zt.renderLine(Nt+Be,I[Nt],this.viewportData,B)&&(lt[Nt]=!0,wt=!0)}wt&&this._finishRenderingNewLines(i,r,B.build(),lt)}{B.reset();let wt=!1;const Nt=[];for(let Zt=0;Zt<X;Zt++){const ln=Le[Zt];Nt[Zt]=!1,!lt[Zt]&&ln.renderLine(Zt+Be,I[Zt],this.viewportData,B)&&(Nt[Zt]=!0,wt=!0)}wt&&this._finishRenderingInvalidLines(i,B.build(),Nt)}}}sn._ttPolicy=null===(Wn=window.trustedTypes)||void 0===Wn?void 0:Wn.createPolicy("editorViewLayer",{createHTML:Wt=>Wt}),sn._sb=(0,Rn.l$)(1e5);class tn extends he{constructor(i){super(i),this._visibleLines=new ft(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,r=this._dynamicOverlays.length;i<r;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,r=this._dynamicOverlays.length;i<r;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new xn(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const r=this._visibleLines.getStartLineNumber(),I=this._visibleLines.getEndLineNumber();for(let B=r;B<=I;B++)this._visibleLines.getVisibleLine(B).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const r=this._dynamicOverlays.filter(I=>I.shouldRender());for(let I=0,B=r.length;I<B;I++){const X=r[I];X.prepareRender(i),X.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}class xn{constructor(i,r){this._configuration=i,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=r,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,tt.X)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(61)}renderLine(i,r,I,B){let X="";for(let Le=0,Be=this._dynamicOverlays.length;Le<Be;Le++)X+=this._dynamicOverlays[Le].render(I.startLineNumber,i);return this._renderedContent!==X&&(this._renderedContent=X,B.appendASCIIString('<div style="position:absolute;top:'),B.appendASCIIString(String(r)),B.appendASCIIString("px;width:100%;height:"),B.appendASCIIString(String(this._lineHeight)),B.appendASCIIString('px;">'),B.appendASCIIString(X),B.appendASCIIString("</div>"),!0)}layoutLine(i,r){this._domNode&&(this._domNode.setTop(r),this._domNode.setHeight(this._lineHeight))}}class Pn extends tn{constructor(i){super(i);const I=this._context.configuration.options.get(133);this._contentWidth=I.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const I=this._context.configuration.options.get(133);return this._contentWidth=I.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}class En extends tn{constructor(i){super(i);const r=this._context.configuration.options,I=r.get(133);this._contentLeft=I.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Nn.N)(this.domNode,r.get(46))}onConfigurationChanged(i){const r=this._context.configuration.options;(0,Nn.N)(this.domNode,r.get(46));const I=r.get(133);return this._contentLeft=I.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const r=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(r),this.domNode.setWidth(this._contentLeft)}}class ut{constructor(i,r){this._coordinateBrand=void 0,this.top=i,this.left=r}}class Pt extends he{constructor(i,r){super(i),this._viewDomNode=r,this._widgets={},this.domNode=(0,tt.X)(document.createElement("div")),le.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,tt.X)(document.createElement("div")),le.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const r=Object.keys(this._widgets);for(const I of r)this._widgets[I].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){const r=Object.keys(this._widgets);for(const I of r)this._widgets[I].onLineMappingChanged(i);return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}addWidget(i){const r=new Ht(this._context,this._viewDomNode,i);this._widgets[r.id]=r,r.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(r.domNode):this.domNode.appendChild(r.domNode),this.setShouldRender()}setWidgetPosition(i,r,I,B){this._widgets[i.getId()].setPosition(r,I,B),this.setShouldRender()}removeWidget(i){const r=i.getId();if(this._widgets.hasOwnProperty(r)){const I=this._widgets[r];delete this._widgets[r];const B=I.domNode.domNode;B.parentNode.removeChild(B),B.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return!!this._widgets.hasOwnProperty(i)&&this._widgets[i].suppressMouseDown}onBeforeRender(i){const r=Object.keys(this._widgets);for(const I of r)this._widgets[I].onBeforeRender(i)}prepareRender(i){const r=Object.keys(this._widgets);for(const I of r)this._widgets[I].prepareRender(i)}render(i){const r=Object.keys(this._widgets);for(const I of r)this._widgets[I].render(i)}}class Ht{constructor(i,r,I){this._context=i,this._viewDomNode=r,this._actual=I,this.domNode=(0,tt.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const B=this._context.configuration.options,X=B.get(133);this._fixedOverflowWidgets=B.get(38),this._contentWidth=X.contentWidth,this._contentLeft=X.contentLeft,this._lineHeight=B.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const r=this._context.configuration.options;if(this._lineHeight=r.get(61),i.hasChanged(133)){const I=r.get(133);this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(i){this._setPosition(this._range,this._affinity)}_setPosition(i,r){var I;if(this._range=i,this._viewRange=null,this._affinity=r,this._range){const B=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(B.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(B.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(B,null!==(I=this._affinity)&&void 0!==I?I:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(i,r,I){this._setPosition(i,I),this._preference=r,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,r,I,B,X){const Le=i.top,lt=r.top+this._lineHeight;let Fn=i.left,$n=r.left;return Fn+I>X.scrollLeft+X.viewportWidth&&(Fn=X.scrollLeft+X.viewportWidth-I),$n+I>X.scrollLeft+X.viewportWidth&&($n=X.scrollLeft+X.viewportWidth-I),Fn<X.scrollLeft&&(Fn=X.scrollLeft),$n<X.scrollLeft&&($n=X.scrollLeft),{fitsAbove:Le>=B,aboveTop:Le-B,aboveLeft:Fn,fitsBelow:X.viewportHeight-lt>=B,belowTop:lt,belowLeft:$n}}_layoutHorizontalSegmentInPage(i,r,I,B){const X=Math.max(0,r.left-B),Le=Math.min(r.left+r.width+B,i.width);let Be=r.left+I-x.DI.scrollX;if(Be+B>Le){const lt=Be-(Le-B);Be-=lt,I-=lt}if(Be<X){const lt=Be-X;Be-=lt,I-=lt}return[I,Be]}_layoutBoxInPage(i,r,I,B,X){const Le=i.top-B,Be=r.top+this._lineHeight,lt=x.i(this._viewDomNode.domNode),wt=lt.top+Le-x.DI.scrollY,Nt=lt.top+Be-x.DI.scrollY,Zt=x.D6(document.body),[ln,hn]=this._layoutHorizontalSegmentInPage(Zt,lt,i.left-X.scrollLeft+this._contentLeft,I),[Fn,$n]=this._layoutHorizontalSegmentInPage(Zt,lt,r.left-X.scrollLeft+this._contentLeft,I),vi=wt>=22,yi=Nt+B<=Zt.height-22;return this._fixedOverflowWidgets?{fitsAbove:vi,aboveTop:Math.max(wt,22),aboveLeft:hn,fitsBelow:yi,belowTop:Nt,belowLeft:$n}:{fitsAbove:vi,aboveTop:Le,aboveLeft:ln,fitsBelow:yi,belowTop:Be,belowLeft:Fn}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new ut(i.top,i.left+this._contentLeft)}_getTopAndBottomLeft(i){if(!this._viewRange)return[null,null];const r=i.linesVisibleRangesForRange(this._viewRange,!1);if(!r||0===r.length)return[null,null];let I=r[0],B=r[0];for(const Zt of r)Zt.lineNumber<I.lineNumber&&(I=Zt),Zt.lineNumber>B.lineNumber&&(B=Zt);let X=1073741824;for(const Zt of I.ranges)Zt.left<X&&(X=Zt.left);let Le=1073741824;for(const Zt of B.ranges)Zt.left<Le&&(Le=Zt.left);const Be=i.getVerticalOffsetForLineNumber(I.lineNumber)-i.scrollTop,lt=new ut(Be,X),wt=i.getVerticalOffsetForLineNumber(B.lineNumber)-i.scrollTop;return[lt,new ut(wt,Le)]}_prepareRenderWidget(i){if(!this._preference||0===this._preference.length)return null;const[r,I]=this._getTopAndBottomLeft(i);if(!r||!I)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let X=null;if("function"==typeof this._actual.beforeRender&&(X=Qt(this._actual.beforeRender,this._actual)),X)this._cachedDomNodeOffsetWidth=X.width,this._cachedDomNodeOffsetHeight=X.height;else{const Be=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Be.width),this._cachedDomNodeOffsetHeight=Math.round(Be.height)}}let B;B=this.allowEditorOverflow?this._layoutBoxInPage(r,I,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):this._layoutBoxInViewport(r,I,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let X=1;X<=2;X++)for(const Le of this._preference)if(1===Le){if(!B)return null;if(2===X||B.fitsAbove)return{coordinate:new ut(B.aboveTop,B.aboveLeft),position:1}}else{if(2!==Le)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(r),position:0}:{coordinate:r,position:0};if(!B)return null;if(2===X||B.fitsBelow)return{coordinate:new ut(B.belowTop,B.belowLeft),position:2}}return null}onBeforeRender(i){!this._viewRange||!this._preference||this._viewRange.endLineNumber<i.startLineNumber||this._viewRange.startLineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Qt(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Qt(this._actual.afterRender,this._actual,this._renderData.position)}}function Qt(Wt,i,...r){try{return Wt.call(i,...r)}catch{return null}}var bn=e(69025),Re={};Re.styleTagTransform=u(),Re.setAttributes=c(),Re.insert=s().bind(null,"head"),Re.domAPI=L(),Re.insertStyleElement=a(),C()(bn.Z,Re);class Hn extends Pi{constructor(i){super(),this._context=i;const r=this._context.configuration.options,I=r.get(133);this._lineHeight=r.get(61),this._renderLineHighlight=r.get(87),this._renderLineHighlightOnlyWhenFocus=r.get(88),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ve.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const r=this._selections.map(B=>B.positionLineNumber);r.sort((B,X)=>B-X),k.fS(this._cursorLineNumbers,r)||(this._cursorLineNumbers=r,i=!0);const I=this._selections.every(B=>B.isEmpty());return this._selectionIsEmpty!==I&&(this._selectionIsEmpty=I,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const r=this._context.configuration.options,I=r.get(133);return this._lineHeight=r.get(61),this._renderLineHighlight=r.get(87),this._renderLineHighlightOnlyWhenFocus=r.get(88),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=i.isFocused,!0)}prepareRender(i){if(!this._shouldRenderThis())return void(this._renderData=null);const r=this._renderOne(i),I=i.visibleRange.startLineNumber,B=i.visibleRange.endLineNumber,X=this._cursorLineNumbers.length;let Le=0;const Be=[];for(let lt=I;lt<=B;lt++){const wt=lt-I;for(;Le<X&&this._cursorLineNumbers[Le]<lt;)Le++;Be[wt]=Le<X&&this._cursorLineNumbers[Le]===lt?r:""}this._renderData=Be}render(i,r){if(!this._renderData)return"";const I=r-i;return I>=this._renderData.length?"":this._renderData[I]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Ii extends Hn{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class bi extends Hn{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.Kh);if(r&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${r}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${r}; border: none; }`)),!r||r.isTransparent()||Wt.defines(Ki.Mm)){const I=Wt.getColor(Ki.Mm);I&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${I}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${I}; }`),(0,_t.c3)(Wt.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var di=e(83772),Ft={};Ft.styleTagTransform=u(),Ft.setAttributes=c(),Ft.insert=s().bind(null,"head"),Ft.domAPI=L(),Ft.insertStyleElement=a(),C()(di.Z,Ft);class _e extends Pi{constructor(i){super(),this._context=i;const r=this._context.configuration.options;this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options;return this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}prepareRender(i){const r=i.getDecorationsInViewport();let I=[],B=0;for(let lt=0,wt=r.length;lt<wt;lt++){const Nt=r[lt];Nt.options.className&&(I[B++]=Nt)}I=I.sort((lt,wt)=>{if(lt.options.zIndex<wt.options.zIndex)return-1;if(lt.options.zIndex>wt.options.zIndex)return 1;const Nt=lt.options.className,Zt=wt.options.className;return Nt<Zt?-1:Nt>Zt?1:be.e.compareRangesUsingStarts(lt.range,wt.range)});const X=i.visibleRange.startLineNumber,Le=i.visibleRange.endLineNumber,Be=[];for(let lt=X;lt<=Le;lt++)Be[lt-X]="";this._renderWholeLineDecorations(i,I,Be),this._renderNormalDecorations(i,I,Be),this._renderResult=Be}_renderWholeLineDecorations(i,r,I){const B=String(this._lineHeight),X=i.visibleRange.startLineNumber,Le=i.visibleRange.endLineNumber;for(let Be=0,lt=r.length;Be<lt;Be++){const wt=r[Be];if(!wt.options.isWholeLine)continue;const Nt='<div class="cdr '+wt.options.className+'" style="left:0;width:100%;height:'+B+'px;"></div>',Zt=Math.max(wt.range.startLineNumber,X),ln=Math.min(wt.range.endLineNumber,Le);for(let hn=Zt;hn<=ln;hn++)I[hn-X]+=Nt}}_renderNormalDecorations(i,r,I){const B=String(this._lineHeight),X=i.visibleRange.startLineNumber;let Le=null,Be=!1,lt=null;for(let wt=0,Nt=r.length;wt<Nt;wt++){const Zt=r[wt];if(Zt.options.isWholeLine)continue;const ln=Zt.options.className,hn=Boolean(Zt.options.showIfCollapsed);let Fn=Zt.range;hn&&1===Fn.endColumn&&Fn.endLineNumber!==Fn.startLineNumber&&(Fn=new be.e(Fn.startLineNumber,Fn.startColumn,Fn.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Fn.endLineNumber-1))),Le===ln&&Be===hn&&be.e.areIntersectingOrTouching(lt,Fn)?lt=be.e.plusRange(lt,Fn):(null!==Le&&this._renderNormalDecoration(i,lt,Le,Be,B,X,I),Le=ln,Be=hn,lt=Fn)}null!==Le&&this._renderNormalDecoration(i,lt,Le,Be,B,X,I)}_renderNormalDecoration(i,r,I,B,X,Le,Be){const lt=i.linesVisibleRangesForRange(r,"findMatch"===I);if(lt)for(let wt=0,Nt=lt.length;wt<Nt;wt++){const Zt=lt[wt];if(Zt.outsideRenderedLine)continue;const ln=Zt.lineNumber-Le;if(B&&1===Zt.ranges.length){const hn=Zt.ranges[0];if(hn.width<this._typicalHalfwidthCharacterWidth){const Fn=Math.round(hn.left+hn.width/2),$n=Math.max(0,Math.round(Fn-this._typicalHalfwidthCharacterWidth/2));Zt.ranges[0]=new dt($n,this._typicalHalfwidthCharacterWidth)}}for(let hn=0,Fn=Zt.ranges.length;hn<Fn;hn++){const $n=Zt.ranges[hn],Zn='<div class="cdr '+I+'" style="left:'+String($n.left)+"px;width:"+String($n.width)+"px;height:"+X+'px;"></div>';Be[ln]+=Zn}}}render(i,r){if(!this._renderResult)return"";const I=r-i;return I<0||I>=this._renderResult.length?"":this._renderResult[I]}}var je=e(3067),Ye=e(4062);class at extends he{constructor(i,r,I,B){super(i);const X=this._context.configuration.options,Le=X.get(94),Be=X.get(69),lt=X.get(36),wt=X.get(97),Nt={listenOnDomNode:I.domNode,className:"editor-scrollable "+(0,Wi.m6)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:Le.vertical,horizontal:Le.horizontal,verticalHasArrows:Le.verticalHasArrows,horizontalHasArrows:Le.horizontalHasArrows,verticalScrollbarSize:Le.verticalScrollbarSize,verticalSliderSize:Le.verticalSliderSize,horizontalScrollbarSize:Le.horizontalScrollbarSize,horizontalSliderSize:Le.horizontalSliderSize,handleMouseWheel:Le.handleMouseWheel,alwaysConsumeMouseWheel:Le.alwaysConsumeMouseWheel,arrowSize:Le.arrowSize,mouseWheelScrollSensitivity:Be,fastScrollSensitivity:lt,scrollPredominantAxis:wt,scrollByPage:Le.scrollByPage};this.scrollbar=this._register(new je.$Z(r.domNode,Nt,this._context.viewLayout.getScrollable())),le.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,tt.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Zt=(ln,hn,Fn)=>{const $n={};if(hn){const Zn=ln.scrollTop;Zn&&($n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Zn,ln.scrollTop=0)}if(Fn){const Zn=ln.scrollLeft;Zn&&($n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Zn,ln.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition($n,1)};this._register(x.nm(I.domNode,"scroll",ln=>Zt(I.domNode,!0,!0))),this._register(x.nm(r.domNode,"scroll",ln=>Zt(r.domNode,!0,!1))),this._register(x.nm(B.domNode,"scroll",ln=>Zt(B.domNode,!0,!1))),this._register(x.nm(this.scrollbarDomNode.domNode,"scroll",ln=>Zt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,r=i.get(133);this.scrollbarDomNode.setLeft(r.contentLeft),"right"===i.get(67).side?this.scrollbarDomNode.setWidth(r.contentWidth+r.minimap.minimapWidth):this.scrollbarDomNode.setWidth(r.contentWidth),this.scrollbarDomNode.setHeight(r.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(i){this.scrollbar.delegateVerticalScrollbarPointerDown(i)}onConfigurationChanged(i){if(i.hasChanged(94)||i.hasChanged(69)||i.hasChanged(36)){const r=this._context.configuration.options,I=r.get(94),B=r.get(69),X=r.get(36),Le=r.get(97);this.scrollbar.updateOptions({vertical:I.vertical,horizontal:I.horizontal,verticalScrollbarSize:I.verticalScrollbarSize,horizontalScrollbarSize:I.horizontalScrollbarSize,scrollByPage:I.scrollByPage,handleMouseWheel:I.handleMouseWheel,mouseWheelScrollSensitivity:B,fastScrollSensitivity:X,scrollPredominantAxis:Le})}return i.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,Wi.m6)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ye._wn);r&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${r} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${r} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${r} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const I=Wt.getColor(Ye.etL);I&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${I};\n\t\t\t}\n\t\t`);const B=Wt.getColor(Ye.ABB);B&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${B};\n\t\t\t}\n\t\t`);const X=Wt.getColor(Ye.ynu);X&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${X};\n\t\t\t}\n\t\t`)});var on=e(30181),qt={};qt.styleTagTransform=u(),qt.setAttributes=c(),qt.insert=s().bind(null,"head"),qt.domAPI=L(),qt.insertStyleElement=a(),C()(on.Z,qt);class Bn{constructor(i,r,I){this._decorationToRenderBrand=void 0,this.startLineNumber=+i,this.endLineNumber=+r,this.className=String(I)}}class Kn extends Pi{_render(i,r,I){const B=[];for(let Be=i;Be<=r;Be++)B[Be-i]=[];if(0===I.length)return B;I.sort((Be,lt)=>Be.className===lt.className?Be.startLineNumber===lt.startLineNumber?Be.endLineNumber-lt.endLineNumber:Be.startLineNumber-lt.startLineNumber:Be.className<lt.className?-1:1);let X=null,Le=0;for(let Be=0,lt=I.length;Be<lt;Be++){const wt=I[Be],Nt=wt.className;let Zt=Math.max(wt.startLineNumber,i)-i;const ln=Math.min(wt.endLineNumber,r)-i;X===Nt?(Zt=Math.max(Le+1,Zt),Le=Math.max(Le,ln)):(X=Nt,Le=ln);for(let hn=Zt;hn<=Le;hn++)B[hn].push(X)}return B}}class ni extends Kn{constructor(i){super(),this._context=i;const r=this._context.configuration.options,I=r.get(133);this._lineHeight=r.get(61),this._glyphMargin=r.get(52),this._glyphMarginLeft=I.glyphMarginLeft,this._glyphMarginWidth=I.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options,I=r.get(133);return this._lineHeight=r.get(61),this._glyphMargin=r.get(52),this._glyphMarginLeft=I.glyphMarginLeft,this._glyphMarginWidth=I.glyphMarginWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const r=i.getDecorationsInViewport(),I=[];let B=0;for(let X=0,Le=r.length;X<Le;X++){const Be=r[X],lt=Be.options.glyphMarginClassName;lt&&(I[B++]=new Bn(Be.range.startLineNumber,Be.range.endLineNumber,lt))}return I}prepareRender(i){if(!this._glyphMargin)return void(this._renderResult=null);const r=i.visibleRange.startLineNumber,I=i.visibleRange.endLineNumber,B=this._render(r,I,this._getDecorations(i)),X=this._lineHeight.toString(),lt='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+X+'px;"></div>',wt=[];for(let Nt=r;Nt<=I;Nt++){const Zt=Nt-r,ln=B[Zt];wt[Zt]=0===ln.length?"":'<div class="cgmr codicon '+ln.join(" ")+lt}this._renderResult=wt}render(i,r){if(!this._renderResult)return"";const I=r-i;return I<0||I>=this._renderResult.length?"":this._renderResult[I]}}var hi=e(74563),fi={};fi.styleTagTransform=u(),fi.setAttributes=c(),fi.insert=s().bind(null,"head"),fi.domAPI=L(),fi.insertStyleElement=a(),C()(hi.Z,fi);var fe=e(72715),it=e(29595),It=e(87570);class en extends Pi{constructor(i){super(),this._context=i,this._primaryPosition=null;const r=this._context.configuration.options,I=r.get(134),B=r.get(46);this._lineHeight=r.get(61),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=-1===I.wrappingColumn?-1:I.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options,I=r.get(134),B=r.get(46);return this._lineHeight=r.get(61),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=-1===I.wrappingColumn?-1:I.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),!0}onCursorStateChanged(i){var r;const B=i.selections[0].getPosition();return!(null!==(r=this._primaryPosition)&&void 0!==r&&r.equals(B)||(this._primaryPosition=B,0))}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var r,I,B,X;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const Le=i.visibleRange.startLineNumber,Be=i.visibleRange.endLineNumber,lt=i.scrollWidth,wt=this._lineHeight,Zt=this.getGuidesByLine(Le,Be,this._primaryPosition),ln=[];for(let hn=Le;hn<=Be;hn++){const Fn=hn-Le,$n=Zt[Fn];let Zn="";const ai=null!==(I=null===(r=i.visibleRangeForPosition(new ue.L(hn,1)))||void 0===r?void 0:r.left)&&void 0!==I?I:0;for(const vi of $n){const yi=-1===vi.column?ai+(vi.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new ue.L(hn,vi.column)).left;if(yi>lt||this._maxIndentLeft>0&&yi>this._maxIndentLeft)break;const Vi=vi.horizontalLine?vi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Xi=vi.horizontalLine?(null!==(X=null===(B=i.visibleRangeForPosition(new ue.L(hn,vi.horizontalLine.endColumn)))||void 0===B?void 0:B.left)&&void 0!==X?X:yi+this._spaceWidth)-yi:this._spaceWidth;Zn+=`<div class="core-guide ${vi.className} ${Vi}" style="left:${yi}px;height:${wt}px;width:${Xi}px"></div>`}ln[Fn]=Zn}this._renderResult=ln}getGuidesByLine(i,r,I){const B=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(i,r,I,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?It.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?It.s6.EnabledForActive:It.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,X=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,r):null;let Le=0,Be=0,lt=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&I){const Zt=this._context.viewModel.getActiveIndentGuide(I.lineNumber,i,r);Le=Zt.startLineNumber,Be=Zt.endLineNumber,lt=Zt.indent}const{indentSize:wt}=this._context.viewModel.model.getOptions(),Nt=[];for(let Zt=i;Zt<=r;Zt++){const ln=new Array;Nt.push(ln);const hn=B?B[Zt-i]:[],Fn=new k.H9(hn),$n=X?X[Zt-i]:[];for(let Zn=1;Zn<=$n;Zn++){const ai=(Zn-1)*wt+1,vi=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===hn.length)&&Le<=Zt&&Zt<=Be&&Zn===lt;ln.push(...Fn.takeWhile(Vi=>Vi.visibleColumn<ai)||[]);const yi=Fn.peek();(!yi||yi.visibleColumn!==ai||yi.horizontalLine)&&ln.push(new It.UO(ai,-1,vi?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}ln.push(...Fn.takeWhile(Zn=>!0)||[])}return Nt}render(i,r){if(!this._renderResult)return"";const I=r-i;return I<0||I>=this._renderResult.length?"":this._renderResult[I]}}function Tt(Wt){if(!Wt||!Wt.isTransparent())return Wt}(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.tR);r&&i.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${r} inset; }`);const I=Wt.getColor(Ki.Ym)||r;I&&i.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${I} inset; }`);const B=[{bracketColor:Ki.zJ,guideColor:Ki.oV,guideColorActive:Ki.Qb},{bracketColor:Ki.Vs,guideColor:Ki.m$,guideColorActive:Ki.m3},{bracketColor:Ki.CE,guideColor:Ki.DS,guideColorActive:Ki.To},{bracketColor:Ki.UP,guideColor:Ki.lS,guideColorActive:Ki.L7},{bracketColor:Ki.r0,guideColor:Ki.Jn,guideColorActive:Ki.HV},{bracketColor:Ki.m1,guideColor:Ki.YF,guideColorActive:Ki.f9}],X=new it.W,Le=B.map(Be=>{var lt,wt;const Nt=Wt.getColor(Be.bracketColor),Zt=Wt.getColor(Be.guideColor),ln=Wt.getColor(Be.guideColorActive),hn=Tt(null!==(lt=Tt(Zt))&&void 0!==lt?lt:Nt?.transparent(.3)),Fn=Tt(null!==(wt=Tt(ln))&&void 0!==wt?wt:Nt);if(hn&&Fn)return{guideColor:hn,guideColorActive:Fn}}).filter(fe.$K);if(Le.length>0){for(let Be=0;Be<30;Be++){const lt=Le[Be%Le.length];i.addRule(`.monaco-editor .${X.getInlineClassNameOfLevel(Be).replace(/ /g,".")} { --guide-color: ${lt.guideColor}; --guide-color-active: ${lt.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${X.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${X.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${X.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});var q=e(43475),Te={};Te.styleTagTransform=u(),Te.setAttributes=c(),Te.insert=s().bind(null,"head"),Te.domAPI=L(),Te.insertStyleElement=a(),C()(q.Z,Te);class cn{constructor(){this._currentVisibleRange=new be.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(i){this._currentVisibleRange=i}}class Ln{constructor(i,r,I,B,X,Le,Be){this.minimalReveal=i,this.lineNumber=r,this.startColumn=I,this.endColumn=B,this.startScrollTop=X,this.stopScrollTop=Le,this.scrollType=Be,this.type="range",this.minLineNumber=r,this.maxLineNumber=r}}class In{constructor(i,r,I,B,X){this.minimalReveal=i,this.selections=r,this.startScrollTop=I,this.stopScrollTop=B,this.scrollType=X,this.type="selections";let Le=r[0].startLineNumber,Be=r[0].endLineNumber;for(let lt=1,wt=r.length;lt<wt;lt++){const Nt=r[lt];Le=Math.min(Le,Nt.startLineNumber),Be=Math.max(Be,Nt.endLineNumber)}this.minLineNumber=Le,this.maxLineNumber=Be}}let ei=(()=>{class Wt extends he{constructor(r,I){super(r),this._linesContent=I,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new ft(this),this.domNode=this._visibleLines.domNode;const B=this._context.configuration,X=this._context.configuration.options,Le=X.get(46),Be=X.get(134),lt=X.get(133);this._lineHeight=X.get(61),this._typicalHalfwidthCharacterWidth=Le.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Be.isViewportWrapping,this._revealHorizontalRightPadding=X.get(91),this._horizontalScrollbarHeight=lt.horizontalScrollbarHeight,this._cursorSurroundingLines=X.get(25),this._cursorSurroundingLinesStyle=X.get(26),this._canUseLayerHinting=!X.get(28),this._viewLineOptions=new ht(B,this._context.theme.type),le.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Eo.S}`),(0,Nn.N)(this.domNode,Le),this._maxLineWidth=0,this._asyncUpdateLineWidths=new $e.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new $e.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new cn,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new jt(this._viewLineOptions)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r),r.hasChanged(134)&&(this._maxLineWidth=0);const I=this._context.configuration.options,B=I.get(46),X=I.get(134),Le=I.get(133);return this._lineHeight=I.get(61),this._typicalHalfwidthCharacterWidth=B.typicalHalfwidthCharacterWidth,this._isViewportWrapping=X.isViewportWrapping,this._revealHorizontalRightPadding=I.get(91),this._horizontalScrollbarHeight=Le.horizontalScrollbarHeight,this._cursorSurroundingLines=I.get(25),this._cursorSurroundingLinesStyle=I.get(26),this._canUseLayerHinting=!I.get(28),(0,Nn.N)(this.domNode,B),this._onOptionsMaybeChanged(),r.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const I=new ht(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(I)){this._viewLineOptions=I;const B=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Le=B;Le<=X;Le++)this._visibleLines.getVisibleLine(Le).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(r){const I=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();let X=!1;for(let Le=I;Le<=B;Le++)X=this._visibleLines.getVisibleLine(Le).onSelectionChanged()||X;return X}onDecorationsChanged(r){{const I=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let X=I;X<=B;X++)this._visibleLines.getVisibleLine(X).onDecorationsChanged()}return!0}onFlushed(r){const I=this._visibleLines.onFlushed(r);return this._maxLineWidth=0,I}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onRevealRangeRequest(r){const I=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),r.source,r.minimalReveal,r.range,r.selections,r.verticalType);if(-1===I)return!1;let B=this._context.viewLayout.validateScrollPosition({scrollTop:I});r.revealHorizontal?r.range&&r.range.startLineNumber!==r.range.endLineNumber?B={scrollTop:B.scrollTop,scrollLeft:0}:r.range?this._horizontalRevealRequest=new Ln(r.minimalReveal,r.range.startLineNumber,r.range.startColumn,r.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),B.scrollTop,r.scrollType):r.selections&&r.selections.length>0&&(this._horizontalRevealRequest=new In(r.minimalReveal,r.selections,this._context.viewLayout.getCurrentScrollTop(),B.scrollTop,r.scrollType)):this._horizontalRevealRequest=null;const Le=Math.abs(this._context.viewLayout.getCurrentScrollTop()-B.scrollTop)<=this._lineHeight?1:r.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(B,Le),!0}onScrollChanged(r){if(this._horizontalRevealRequest&&r.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&r.scrollTopChanged){const I=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),B=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(r.scrollTop<I||r.scrollTop>B)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(r.scrollWidth),this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(r)}onThemeChanged(r){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(r,I){const B=this._getViewLineDomNode(r);if(null===B)return null;const X=this._getLineNumberFor(B);if(-1===X||X<1||X>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(X))return new ue.L(X,1);const Le=this._visibleLines.getStartLineNumber(),Be=this._visibleLines.getEndLineNumber();if(X<Le||X>Be)return null;let lt=this._visibleLines.getVisibleLine(X).getColumnOfNodeOffset(X,r,I);const wt=this._context.viewModel.getLineMinColumn(X);return lt<wt&&(lt=wt),new ue.L(X,lt)}_getViewLineDomNode(r){for(;r&&1===r.nodeType;){if(r.className===jt.CLASS_NAME)return r;r=r.parentElement}return null}_getLineNumberFor(r){const I=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let X=I;X<=B;X++)if(r===this._visibleLines.getVisibleLine(X).getDomNode())return X;return-1}getLineWidth(r){const I=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();return r<I||r>B?-1:this._visibleLines.getVisibleLine(r).getWidth()}linesVisibleRangesForRange(r,I){if(this.shouldRender())return null;const B=r.endLineNumber,X=be.e.intersectRanges(r,this._lastRenderedData.getCurrentVisibleRange());if(!X)return null;const Le=[];let Be=0;const lt=new Ke(this.domNode.domNode,this._textRangeRestingSpot);let wt=0;I&&(wt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(X.startLineNumber,1)).lineNumber);const Nt=this._visibleLines.getStartLineNumber(),Zt=this._visibleLines.getEndLineNumber();for(let ln=X.startLineNumber;ln<=X.endLineNumber;ln++){if(ln<Nt||ln>Zt)continue;const hn=ln===X.startLineNumber?X.startColumn:1,Fn=ln===X.endLineNumber?X.endColumn:this._context.viewModel.getLineMaxColumn(ln),$n=this._visibleLines.getVisibleLine(ln).getVisibleRangesForRange(ln,hn,Fn,lt);if($n){if(I&&ln<B){const Zn=wt;wt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(ln+1,1)).lineNumber,Zn!==wt&&($n.ranges[$n.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Le[Be++]=new Pe($n.outsideRenderedLine,ln,dt.from($n.ranges))}}return 0===Be?null:Le}_visibleRangesForLineRange(r,I,B){return this.shouldRender()||r<this._visibleLines.getStartLineNumber()||r>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(r).getVisibleRangesForRange(r,I,B,new Ke(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(r){const I=this._visibleRangesForLineRange(r.lineNumber,r.column,r.column);return I?new qe(I.outsideRenderedLine,I.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(r){const I=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();let X=1,Le=!0;for(let Be=I;Be<=B;Be++){const lt=this._visibleLines.getVisibleLine(Be);!r||lt.getWidthIsFast()?X=Math.max(X,lt.getWidth()):Le=!1}return Le&&1===I&&B===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(X),Le}_checkMonospaceFontAssumptions(){let r=-1,I=-1;const B=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Le=B;Le<=X;Le++){const Be=this._visibleLines.getVisibleLine(Le);if(Be.needsMonospaceFontCheck()){const lt=Be.getWidth();lt>I&&(I=lt,r=Le)}}if(-1!==r&&!this._visibleLines.getVisibleLine(r).monospaceAssumptionsAreValid())for(let Le=B;Le<=X;Le++)this._visibleLines.getVisibleLine(Le).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(r){if(this._visibleLines.renderLines(r),this._lastRenderedData.setCurrentVisibleRange(r.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const B=this._horizontalRevealRequest;if(r.startLineNumber<=B.minLineNumber&&B.maxLineNumber<=r.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const X=this._computeScrollLeftToReveal(B);X&&(this._isViewportWrapping||this._ensureMaxLineWidth(X.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:X.scrollLeft},B.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),j.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const B=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Le=B;Le<=X;Le++)if(this._visibleLines.getVisibleLine(Le).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const I=this._context.viewLayout.getCurrentScrollTop()-r.bigNumbersDelta;this._linesContent.setTop(-I),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(r){const I=Math.ceil(r);this._maxLineWidth<I&&(this._maxLineWidth=I,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(r,I,B,X,Le,Be){const lt=r.top,wt=r.height,Nt=lt+wt;let Zt,ln,hn,$n;if(Le&&Le.length>0){let Zn=Le[0].startLineNumber,ai=Le[0].endLineNumber;for(let vi=1,yi=Le.length;vi<yi;vi++){const Vi=Le[vi];Zn=Math.min(Zn,Vi.startLineNumber),ai=Math.max(ai,Vi.endLineNumber)}Zt=!1,ln=this._context.viewLayout.getVerticalOffsetForLineNumber(Zn),hn=this._context.viewLayout.getVerticalOffsetForLineNumber(ai)+this._lineHeight}else{if(!X)return-1;Zt=!0,ln=this._context.viewLayout.getVerticalOffsetForLineNumber(X.startLineNumber),hn=this._context.viewLayout.getVerticalOffsetForLineNumber(X.endLineNumber)+this._lineHeight}if("mouse"!==I&&!B||"default"!==this._cursorSurroundingLinesStyle){const Zn=Math.min(wt/this._lineHeight/2,this._cursorSurroundingLines);ln-=Zn*this._lineHeight,hn+=Math.max(0,Zn-1)*this._lineHeight}else B||(ln-=this._lineHeight);if((0===Be||4===Be)&&(hn+=B?this._horizontalScrollbarHeight:this._lineHeight),hn-ln>wt){if(!Zt)return-1;$n=ln}else if(5===Be||6===Be)if(6===Be&&lt<=ln&&hn<=Nt)$n=lt;else{const Zn=Math.max(5*this._lineHeight,.2*wt);$n=Math.max(hn-wt,ln-Zn)}else $n=1===Be||2===Be?2===Be&&lt<=ln&&hn<=Nt?lt:Math.max(0,(ln+hn)/2-wt/2):this._computeMinimumScrolling(lt,Nt,ln,hn,3===Be,4===Be);return $n}_computeScrollLeftToReveal(r){const I=this._context.viewLayout.getCurrentViewport(),B=I.left,X=B+I.width;let Le=1073741824,Be=0;if("range"===r.type){const wt=this._visibleRangesForLineRange(r.lineNumber,r.startColumn,r.endColumn);if(!wt)return null;for(const Nt of wt.ranges)Le=Math.min(Le,Math.round(Nt.left)),Be=Math.max(Be,Math.round(Nt.left+Nt.width))}else for(const wt of r.selections){if(wt.startLineNumber!==wt.endLineNumber)return null;const Nt=this._visibleRangesForLineRange(wt.startLineNumber,wt.startColumn,wt.endColumn);if(!Nt)return null;for(const Zt of Nt.ranges)Le=Math.min(Le,Math.round(Zt.left)),Be=Math.max(Be,Math.round(Zt.left+Zt.width))}return r.minimalReveal||(Le=Math.max(0,Le-Wt.HORIZONTAL_EXTRA_PX),Be+=this._revealHorizontalRightPadding),"selections"===r.type&&Be-Le>I.width?null:{scrollLeft:this._computeMinimumScrolling(B,X,Le,Be),maxHorizontalOffset:Be}}_computeMinimumScrolling(r,I,B,X,Le,Be){Le=!!Le,Be=!!Be;const lt=(I|=0)-(r|=0);return(X|=0)-(B|=0)<lt?Le?B:Be?Math.max(0,X-lt):B<r?B:X>I?Math.max(0,X-lt):r:B}}return Wt.HORIZONTAL_EXTRA_PX=30,Wt})();var Jn=e(3710),gi={};gi.styleTagTransform=u(),gi.setAttributes=c(),gi.insert=s().bind(null,"head"),gi.domAPI=L(),gi.insertStyleElement=a(),C()(Jn.Z,gi);class Mi extends Kn{constructor(i){super(),this._context=i;const I=this._context.configuration.options.get(133);this._decorationsLeft=I.decorationsLeft,this._decorationsWidth=I.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const I=this._context.configuration.options.get(133);return this._decorationsLeft=I.decorationsLeft,this._decorationsWidth=I.decorationsWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const r=i.getDecorationsInViewport(),I=[];let B=0;for(let X=0,Le=r.length;X<Le;X++){const Be=r[X],lt=Be.options.linesDecorationsClassName;lt&&(I[B++]=new Bn(Be.range.startLineNumber,Be.range.endLineNumber,lt));const wt=Be.options.firstLineDecorationClassName;wt&&(I[B++]=new Bn(Be.range.startLineNumber,Be.range.startLineNumber,wt))}return I}prepareRender(i){const r=i.visibleRange.startLineNumber,I=i.visibleRange.endLineNumber,B=this._render(r,I,this._getDecorations(i)),Be='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',lt=[];for(let wt=r;wt<=I;wt++){const Nt=wt-r,Zt=B[Nt];let ln="";for(let hn=0,Fn=Zt.length;hn<Fn;hn++)ln+='<div class="cldr '+Zt[hn]+Be;lt[Nt]=ln}this._renderResult=lt}render(i,r){return this._renderResult?this._renderResult[r-i]:""}}var Bi=e(80025),$i={};$i.styleTagTransform=u(),$i.setAttributes=c(),$i.insert=s().bind(null,"head"),$i.domAPI=L(),$i.insertStyleElement=a(),C()(Bi.Z,$i);class jo extends Kn{constructor(i){super(),this._context=i,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const r=i.getDecorationsInViewport(),I=[];let B=0;for(let X=0,Le=r.length;X<Le;X++){const Be=r[X],lt=Be.options.marginClassName;lt&&(I[B++]=new Bn(Be.range.startLineNumber,Be.range.endLineNumber,lt))}return I}prepareRender(i){const r=i.visibleRange.startLineNumber,I=i.visibleRange.endLineNumber,B=this._render(r,I,this._getDecorations(i)),X=[];for(let Le=r;Le<=I;Le++){const Be=Le-r,lt=B[Be];let wt="";for(let Nt=0,Zt=lt.length;Nt<Zt;Nt++)wt+='<div class="cmdr '+lt[Nt]+'" style=""></div>';X[Be]=wt}this._renderResult=X}render(i,r){return this._renderResult?this._renderResult[r-i]:""}}var To=e(47679),ss={};ss.styleTagTransform=u(),ss.setAttributes=c(),ss.insert=s().bind(null,"head"),ss.domAPI=L(),ss.insertStyleElement=a(),C()(To.Z,ss);var Qo=e(11210);class $o{constructor(i,r,I,B){this._rgba8Brand=void 0,this.r=$o._clamp(i),this.g=$o._clamp(r),this.b=$o._clamp(I),this.a=$o._clamp(B)}equals(i){return this.r===i.r&&this.g===i.g&&this.b===i.b&&this.a===i.a}static _clamp(i){return i<0?0:i>255?255:0|i}}$o.Empty=new $o(0,0,0,0);let wr=(()=>{class Wt extends V.JT{constructor(){super(),this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Mo.RW.onDidChange(r=>{r.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,V.dk)(new Wt)),this._INSTANCE}_updateColorMap(){const r=Mo.RW.getColorMap();if(!r)return this._colors=[$o.Empty],void(this._backgroundIsLight=!0);this._colors=[$o.Empty];for(let B=1;B<r.length;B++){const X=r[B].rgba;this._colors[B]=new $o(X.r,X.g,X.b,Math.round(255*X.a))}const I=r[2].getRelativeLuminance();this._backgroundIsLight=I>=.5,this._onDidChange.fire(void 0)}getColor(r){return(r<1||r>=this._colors.length)&&(r=2),this._colors[r]}backgroundIsLight(){return this._backgroundIsLight}}return Wt._INSTANCE=null,Wt})();var Ds=e(38232);const rr=(()=>{const Wt=[];for(let i=32;i<=126;i++)Wt.push(i);return Wt.push(65533),Wt})();var ar=e(48071);class Ws{constructor(i,r){this.scale=r,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ws.soften(i,.8),this.charDataLight=Ws.soften(i,50/60)}static soften(i,r){const I=new Uint8ClampedArray(i.length);for(let B=0,X=i.length;B<X;B++)I[B]=(0,ar.K)(i[B]*r);return I}renderChar(i,r,I,B,X,Le,Be,lt,wt,Nt,Zt){const ln=1*this.scale,hn=2*this.scale,Fn=Zt?1:hn;if(r+ln>i.width||I+Fn>i.height)return void console.warn("bad render request outside image data");const $n=Nt?this.charDataLight:this.charDataNormal,Zn=((Wt,i)=>(Wt-=32)<0||Wt>96?i<=2?(Wt+96)%96:95:Wt)(B,wt),ai=4*i.width,vi=Be.r,yi=Be.g,Vi=Be.b,Xi=X.r-vi,Zi=X.g-yi,eo=X.b-Vi,Hi=Math.max(Le,lt),ao=i.data;let Do=Zn*ln*hn,so=I*ai+4*r;for(let Yo=0;Yo<Fn;Yo++){let is=so;for(let Ls=0;Ls<ln;Ls++){const Ho=$n[Do++]/255*(Le/255);ao[is++]=vi+Xi*Ho,ao[is++]=yi+Zi*Ho,ao[is++]=Vi+eo*Ho,ao[is++]=Hi}so+=ai}}blockRenderChar(i,r,I,B,X,Le,Be,lt){const wt=1*this.scale,Zt=lt?1:2*this.scale;if(r+wt>i.width||I+Zt>i.height)return void console.warn("bad render request outside image data");const ln=4*i.width,hn=X/255*.5,Fn=Le.r,$n=Le.g,Zn=Le.b,Vi=Fn+(B.r-Fn)*hn,Xi=$n+(B.g-$n)*hn,Zi=Zn+(B.b-Zn)*hn,eo=Math.max(X,Be),Hi=i.data;let ao=I*ln+4*r;for(let Do=0;Do<Zt;Do++){let so=ao;for(let Yo=0;Yo<wt;Yo++)Hi[so++]=Vi,Hi[so++]=Xi,Hi[so++]=Zi,Hi[so++]=eo;ao+=ln}}}var Vs=e(92192);const hr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},$s=Wt=>{const i=new Uint8ClampedArray(Wt.length/2);for(let r=0;r<Wt.length;r+=2)i[r>>1]=hr[Wt[r]]<<4|15&hr[Wt[r+1]];return i},Dr={1:(0,Vs.I)(()=>$s("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Vs.I)(()=>$s("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class ks{static create(i,r){if(this.lastCreated&&i===this.lastCreated.scale&&r===this.lastFontFamily)return this.lastCreated;let I;return I=Dr[i]?new Ws(Dr[i](),i):ks.createFromSampleData(ks.createSampleData(r).data,i),this.lastFontFamily=r,this.lastCreated=I,I}static createSampleData(i){const r=document.createElement("canvas"),I=r.getContext("2d");r.style.height="16px",r.height=16,r.width=960,r.style.width="960px",I.fillStyle="#ffffff",I.font=`bold 16px ${i}`,I.textBaseline="middle";let B=0;for(const X of rr)I.fillText(String.fromCharCode(X),B,8),B+=10;return I.getImageData(0,0,960,16)}static createFromSampleData(i,r){if(61440!==i.length)throw new Error("Unexpected source in MinimapCharRenderer");const B=ks._downsample(i,r);return new Ws(B,r)}static _downsampleChar(i,r,I,B,X){const Le=1*X,Be=2*X;let lt=B,wt=0;for(let Nt=0;Nt<Be;Nt++){const Zt=Nt/Be*16,ln=(Nt+1)/Be*16;for(let hn=0;hn<Le;hn++){const Fn=hn/Le*10,$n=(hn+1)/Le*10;let Zn=0,ai=0;for(let yi=Zt;yi<ln;yi++){const Vi=r+3840*Math.floor(yi),Xi=1-(yi-Math.floor(yi));for(let Zi=Fn;Zi<$n;Zi++){const eo=1-(Zi-Math.floor(Zi)),Hi=Vi+4*Math.floor(Zi),ao=eo*Xi;ai+=ao,Zn+=i[Hi]*i[Hi+3]/255*ao}}const vi=Zn/ai;wt=Math.max(wt,vi),I[lt++]=(0,ar.K)(vi)}}return wt}static _downsample(i,r){const I=2*r*1*r,B=96*I,X=new Uint8ClampedArray(B);let Le=0,Be=0,lt=0;for(let wt=0;wt<96;wt++)lt=Math.max(lt,this._downsampleChar(i,Be,X,Le,r)),Le+=I,Be+=40;if(lt>0){const wt=255/lt;for(let Nt=0;Nt<B;Nt++)X[Nt]*=wt}return X}}var Es=e(47629);class _r{constructor(i,r,I){const B=i.options,X=B.get(131),Le=B.get(133),Be=Le.minimap,lt=B.get(46),wt=B.get(67);this.renderMinimap=Be.renderMinimap,this.size=wt.size,this.minimapHeightIsEditorHeight=Be.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(96),this.showSlider=wt.showSlider,this.autohide=wt.autohide,this.pixelRatio=X,this.typicalHalfwidthCharacterWidth=lt.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(61),this.minimapLeft=Be.minimapLeft,this.minimapWidth=Be.minimapWidth,this.minimapHeight=Le.height,this.canvasInnerWidth=Be.minimapCanvasInnerWidth,this.canvasInnerHeight=Be.minimapCanvasInnerHeight,this.canvasOuterWidth=Be.minimapCanvasOuterWidth,this.canvasOuterHeight=Be.minimapCanvasOuterHeight,this.isSampling=Be.minimapIsSampling,this.editorHeight=Le.height,this.fontScale=Be.minimapScale,this.minimapLineHeight=Be.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Vs.I)(()=>ks.create(this.fontScale,lt.fontFamily)),this.defaultBackgroundColor=I.getColor(2),this.backgroundColor=_r._getMinimapBackground(r,this.defaultBackgroundColor),this.foregroundAlpha=_r._getMinimapForegroundOpacity(r)}static _getMinimapBackground(i,r){const I=i.getColor(Ye.kVY);return I?new $o(I.rgba.r,I.rgba.g,I.rgba.b,Math.round(255*I.rgba.a)):r}static _getMinimapForegroundOpacity(i){const r=i.getColor(Ye.Itd);return r?$o._clamp(Math.round(255*r.rgba.a)):255}equals(i){return this.renderMinimap===i.renderMinimap&&this.size===i.size&&this.minimapHeightIsEditorHeight===i.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===i.scrollBeyondLastLine&&this.showSlider===i.showSlider&&this.autohide===i.autohide&&this.pixelRatio===i.pixelRatio&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.lineHeight===i.lineHeight&&this.minimapLeft===i.minimapLeft&&this.minimapWidth===i.minimapWidth&&this.minimapHeight===i.minimapHeight&&this.canvasInnerWidth===i.canvasInnerWidth&&this.canvasInnerHeight===i.canvasInnerHeight&&this.canvasOuterWidth===i.canvasOuterWidth&&this.canvasOuterHeight===i.canvasOuterHeight&&this.isSampling===i.isSampling&&this.editorHeight===i.editorHeight&&this.fontScale===i.fontScale&&this.minimapLineHeight===i.minimapLineHeight&&this.minimapCharWidth===i.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(i.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(i.backgroundColor)&&this.foregroundAlpha===i.foregroundAlpha}}class Gs{constructor(i,r,I,B,X,Le,Be,lt){this.scrollTop=i,this.scrollHeight=r,this.sliderNeeded=I,this._computedSliderRatio=B,this.sliderTop=X,this.sliderHeight=Le,this.startLineNumber=Be,this.endLineNumber=lt}getDesiredScrollTopFromDelta(i){return Math.round(this.scrollTop+i/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(i){return Math.round((i-this.sliderHeight/2)/this._computedSliderRatio)}static create(i,r,I,B,X,Le,Be,lt,wt,Nt,Zt){const ln=i.pixelRatio,hn=i.minimapLineHeight,Fn=Math.floor(i.canvasInnerHeight/hn),$n=i.lineHeight;if(i.minimapHeightIsEditorHeight){const Zi=Math.max(1,Math.floor(X*X/(lt*i.lineHeight+(i.scrollBeyondLastLine?X-i.lineHeight:0)))),eo=Math.max(0,i.minimapHeight-Zi),Hi=eo/(Nt-X),ao=wt*Hi,Do=eo>0,so=Math.floor(i.canvasInnerHeight/i.minimapLineHeight);return new Gs(wt,Nt,Do,Hi,ao,Zi,1,Math.min(Be,so))}let Zn,ai;Zn=Le&&I!==Be?Math.floor((I-r+1)*hn/ln):Math.floor(X/$n*hn/ln),ai=i.scrollBeyondLastLine?(Be-1)*hn/ln:Math.max(0,Be*hn/ln-Zn),ai=Math.min(i.minimapHeight-Zn,ai);const vi=ai/(Nt-X),yi=wt*vi;let Vi=0;if(i.scrollBeyondLastLine&&(Vi=X/$n-1),Fn>=Be+Vi)return new Gs(wt,Nt,ai>0,vi,yi,Zn,1,Be);{let Xi=Math.max(1,Math.floor(r-yi*ln/hn));Zt&&Zt.scrollHeight===Nt&&(Zt.scrollTop>wt&&(Xi=Math.min(Xi,Zt.startLineNumber)),Zt.scrollTop<wt&&(Xi=Math.max(Xi,Zt.startLineNumber)));const Zi=Math.min(Be,Xi+Fn-1);return new Gs(wt,Nt,!0,vi,(r-Xi+(wt-B)/$n)*hn/ln,Zn,Xi,Zi)}}}class Ms{constructor(i){this.dy=i}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Ms.INVALID=new Ms(-1);class Go{constructor(i,r,I){this.renderedLayout=i,this._imageData=r,this._renderedLines=new dn(()=>Ms.INVALID),this._renderedLines._set(i.startLineNumber,I)}linesEquals(i){if(!this.scrollEquals(i))return!1;const I=this._renderedLines._get().lines;for(let B=0,X=I.length;B<X;B++)if(-1===I[B].dy)return!1;return!0}scrollEquals(i){return this.renderedLayout.startLineNumber===i.startLineNumber&&this.renderedLayout.endLineNumber===i.endLineNumber}_get(){const i=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:i.rendLineNumberStart,lines:i.lines}}onLinesChanged(i,r){return this._renderedLines.onLinesChanged(i,r)}onLinesDeleted(i,r){this._renderedLines.onLinesDeleted(i,r)}onLinesInserted(i,r){this._renderedLines.onLinesInserted(i,r)}onTokensChanged(i){return this._renderedLines.onTokensChanged(i)}}class lr{constructor(i,r,I,B){this._backgroundFillData=lr._createBackgroundFillData(r,I,B),this._buffers=[i.createImageData(r,I),i.createImageData(r,I)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const i=this._buffers[this._lastUsedBuffer];return i.data.set(this._backgroundFillData),i}static _createBackgroundFillData(i,r,I){const B=I.r,X=I.g,Le=I.b,Be=I.a,lt=new Uint8ClampedArray(i*r*4);let wt=0;for(let Nt=0;Nt<r;Nt++)for(let Zt=0;Zt<i;Zt++)lt[wt]=B,lt[wt+1]=X,lt[wt+2]=Le,lt[wt+3]=Be,wt+=4;return lt}}class zs{constructor(i,r){this.samplingRatio=i,this.minimapLines=r}static compute(i,r,I){if(0===i.renderMinimap||!i.isSampling)return[null,[]];const B=i.pixelRatio,X=i.lineHeight,Le=i.scrollBeyondLastLine,{minimapLineCount:Be}=we.gk.computeContainedMinimapLineCount({viewLineCount:r,scrollBeyondLastLine:Le,height:i.editorHeight,lineHeight:X,pixelRatio:B}),lt=r/Be,wt=lt/2;if(!I||0===I.minimapLines.length){const yi=[];if(yi[0]=1,Be>1){for(let Vi=0,Xi=Be-1;Vi<Xi;Vi++)yi[Vi]=Math.round(Vi*lt+wt);yi[Be-1]=r}return[new zs(lt,yi),[]]}const Nt=I.minimapLines,Zt=Nt.length,ln=[];let hn=0,Fn=0,$n=1,ai=[],vi=null;for(let yi=0;yi<Be;yi++){const Vi=Math.max($n,Math.round(yi*lt)),Xi=Math.max(Vi,Math.round((yi+1)*lt));for(;hn<Zt&&Nt[hn]<Vi;){if(ai.length<10){const eo=hn+1+Fn;vi&&"deleted"===vi.type&&vi._oldIndex===hn-1?vi.deleteToLineNumber++:(vi={type:"deleted",_oldIndex:hn,deleteFromLineNumber:eo,deleteToLineNumber:eo},ai.push(vi)),Fn--}hn++}let Zi;if(hn<Zt&&Nt[hn]<=Xi)Zi=Nt[hn],hn++;else if(Zi=0===yi?1:yi+1===Be?r:Math.round(yi*lt+wt),ai.length<10){const eo=hn+1+Fn;vi&&"inserted"===vi.type&&vi._i===yi-1?vi.insertToLineNumber++:(vi={type:"inserted",_i:yi,insertFromLineNumber:eo,insertToLineNumber:eo},ai.push(vi)),Fn++}ln[yi]=Zi,$n=Zi}if(ai.length<10)for(;hn<Zt;){const yi=hn+1+Fn;vi&&"deleted"===vi.type&&vi._oldIndex===hn-1?vi.deleteToLineNumber++:(vi={type:"deleted",_oldIndex:hn,deleteFromLineNumber:yi,deleteToLineNumber:yi},ai.push(vi)),Fn--,hn++}else ai=[{type:"flush"}];return[new zs(lt,ln),ai]}modelLineToMinimapLine(i){return Math.min(this.minimapLines.length,Math.max(1,Math.round(i/this.samplingRatio)))}modelLineRangeToMinimapLineRange(i,r){let I=this.modelLineToMinimapLine(i)-1;for(;I>0&&this.minimapLines[I-1]>=i;)I--;let B=this.modelLineToMinimapLine(r)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=r;)B++;if(I===B){const X=this.minimapLines[I];if(X<i||X>r)return null}return[I+1,B+1]}decorationLineRangeToMinimapLineRange(i,r){let I=this.modelLineToMinimapLine(i),B=this.modelLineToMinimapLine(r);return i!==r&&B===I&&(B===this.minimapLines.length?I>1&&I--:B++),[I,B]}onLinesDeleted(i){const r=i.toLineNumber-i.fromLineNumber+1;let I=this.minimapLines.length,B=0;for(let X=this.minimapLines.length-1;X>=0&&!(this.minimapLines[X]<i.fromLineNumber);X--)this.minimapLines[X]<=i.toLineNumber?(this.minimapLines[X]=Math.max(1,i.fromLineNumber-1),I=Math.min(I,X),B=Math.max(B,X)):this.minimapLines[X]-=r;return[I,B]}onLinesInserted(i){const r=i.toLineNumber-i.fromLineNumber+1;for(let I=this.minimapLines.length-1;I>=0&&!(this.minimapLines[I]<i.fromLineNumber);I--)this.minimapLines[I]+=r}}class vr extends he{constructor(i){super(i),this.tokensColorTracker=wr.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new _r(this._context.configuration,this._context.theme,this.tokensColorTracker);const[r]=zs.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=r,this._shouldCheckSampling=!1,this._actual=new ms(i.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const i=new _r(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(i)&&(this.options=i,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(i){return this._onOptionsMaybeChanged()}onCursorStateChanged(i){return this._selections=i.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(i){return!!i.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(i){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(i){if(this._samplingState){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.fromLineNumber+i.count-1);return!!r&&this._actual.onLinesChanged(r[0],r[1]-r[0]+1)}return this._actual.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){if(this._samplingState){const[r,I]=this._samplingState.onLinesDeleted(i);return r<=I&&this._actual.onLinesChanged(r+1,I-r+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(i.fromLineNumber,i.toLineNumber)}onLinesInserted(i){return this._samplingState?(this._samplingState.onLinesInserted(i),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(i.fromLineNumber,i.toLineNumber)}onScrollChanged(i){return this._actual.onScrollChanged()}onThemeChanged(i){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(i){if(this._samplingState){const r=[];for(const I of i.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(I.fromLineNumber,I.toLineNumber);B&&r.push({fromLineNumber:B[0],toLineNumber:B[1]})}return!!r.length&&this._actual.onTokensChanged(r)}return this._actual.onTokensChanged(i.ranges)}onTokensColorsChanged(i){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(i){return this._actual.onZonesChanged()}prepareRender(i){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(i){let r=i.visibleRange.startLineNumber,I=i.visibleRange.endLineNumber;this._samplingState&&(r=this._samplingState.modelLineToMinimapLine(r),I=this._samplingState.modelLineToMinimapLine(I));const B={viewportContainsWhitespaceGaps:i.viewportData.whitespaceViewportData.length>0,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight,viewportStartLineNumber:r,viewportEndLineNumber:I,viewportStartLineNumberVerticalOffset:i.getVerticalOffsetForLineNumber(r),scrollTop:i.scrollTop,scrollLeft:i.scrollLeft,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const i=Boolean(this._samplingState),[r,I]=zs.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=r,i&&this._samplingState)for(const B of I)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(i){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[i-1]:i)}getLineMaxColumn(i){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[i-1]:i)}getMinimapLinesRenderingData(i,r,I){if(this._samplingState){const B=[];for(let X=0,Le=r-i+1;X<Le;X++)B[X]=I[X]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[i+X-1]):null;return B}return this._context.viewModel.getMinimapLinesRenderingData(i,r,I).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const i of this._selections){const[r,I]=this._samplingState.decorationLineRangeToMinimapLineRange(i.startLineNumber,i.endLineNumber);this._minimapSelections.push(new Ve.Y(r,i.startColumn,I,i.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(i,r){let I;if(this._samplingState){const Le=this._samplingState.minimapLines[r-1];I=new be.e(this._samplingState.minimapLines[i-1],1,Le,this._context.viewModel.getLineMaxColumn(Le))}else I=new be.e(i,1,r,this._context.viewModel.getLineMaxColumn(r));const B=this._context.viewModel.getDecorationsInViewport(I);if(this._samplingState){const X=[];for(const Le of B){if(!Le.options.minimap)continue;const Be=Le.range,lt=this._samplingState.modelLineToMinimapLine(Be.startLineNumber),wt=this._samplingState.modelLineToMinimapLine(Be.endLineNumber);X.push(new Ds.$l(new be.e(lt,Be.startColumn,wt,Be.endColumn),Le.options))}return X}return B}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(i){this._samplingState&&(i=this._samplingState.minimapLines[i-1]),this._context.viewModel.revealRange("mouse",!1,new be.e(i,1,i,1),1,0)}setScrollTop(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i},1)}}class ms extends V.JT{constructor(i,r){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=i,this._model=r,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Ye.ov3),this._domNode=(0,tt.X)(document.createElement("div")),le.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,tt.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,tt.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,tt.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,tt.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,tt.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=x.mu(this._domNode.domNode,x.tw.POINTER_DOWN,I=>{if(I.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===I.button&&this._lastRenderData){const wt=x.i(this._slider.domNode);this._startSliderDragging(I,wt.top+wt.height/2,this._lastRenderData.renderedLayout)}return}let lt=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*I.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;lt=Math.min(lt,this._model.getLineCount()),this._model.revealLineNumber(lt)}),this._sliderPointerMoveMonitor=new Qo.C,this._sliderPointerDownListener=x.mu(this._slider.domNode,x.tw.POINTER_DOWN,I=>{I.preventDefault(),I.stopPropagation(),0===I.button&&this._lastRenderData&&this._startSliderDragging(I,I.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Ct.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=x.nm(this._domNode.domNode,Ct.t.Start,I=>{I.preventDefault(),I.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(I))},{passive:!1}),this._sliderTouchMoveListener=x.nm(this._domNode.domNode,Ct.t.Change,I=>{I.preventDefault(),I.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(I)},{passive:!1}),this._sliderTouchEndListener=x.mu(this._domNode.domNode,Ct.t.End,I=>{I.preventDefault(),I.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(i,r,I){if(!(i.target&&i.target instanceof Element))return;const B=i.pageX;this._slider.toggleClassName("active",!0);const X=(Le,Be)=>{const lt=Math.abs(Be-B);this._model.setScrollTop(j.ED&&lt>140?I.scrollTop:I.getDesiredScrollTopFromDelta(Le-r))};i.pageY!==r&&X(i.pageY,B),this._sliderPointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,Le=>X(Le.pageY,Le.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(i){const r=this._domNode.domNode.getBoundingClientRect().top,I=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(i.pageY-r);this._model.setScrollTop(I)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const i=["minimap"];return i.push("always"===this._model.options.showSlider?"slider-always":"slider-mouseover"),this._model.options.autohide&&i.push("autohide"),i.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new lr(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(i,r){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(i,r)}onLinesDeleted(i,r){var I;return null===(I=this._lastRenderData)||void 0===I||I.onLinesDeleted(i,r),!0}onLinesInserted(i,r){var I;return null===(I=this._lastRenderData)||void 0===I||I.onLinesInserted(i,r),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Ye.ov3),this._renderDecorations=!0,!0}onTokensChanged(i){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(i)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(i){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(i.scrollLeft+i.viewportWidth>=i.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const I=Gs.create(this._model.options,i.viewportStartLineNumber,i.viewportEndLineNumber,i.viewportStartLineNumberVerticalOffset,i.viewportHeight,i.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),i.scrollTop,i.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(I.sliderNeeded?"block":"none"),this._slider.setTop(I.sliderTop),this._slider.setHeight(I.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(I.sliderHeight),this.renderDecorations(I),this._lastRenderData=this.renderLines(I)}renderDecorations(i){if(this._renderDecorations){this._renderDecorations=!1;const r=this._model.getSelections();r.sort(be.e.compareRangesUsingStarts);const I=this._model.getMinimapDecorationsInViewport(i.startLineNumber,i.endLineNumber);I.sort((ln,hn)=>(ln.options.zIndex||0)-(hn.options.zIndex||0));const{canvasInnerWidth:B,canvasInnerHeight:X}=this._model.options,Le=this._model.options.minimapLineHeight,Be=this._model.options.minimapCharWidth,lt=this._model.getOptions().tabSize,wt=this._decorationsCanvas.domNode.getContext("2d");wt.clearRect(0,0,B,X);const Nt=new us(i.startLineNumber,i.endLineNumber,!1);this._renderSelectionLineHighlights(wt,r,Nt,i,Le),this._renderDecorationsLineHighlights(wt,I,Nt,i,Le);const Zt=new us(i.startLineNumber,i.endLineNumber,null);this._renderSelectionsHighlights(wt,r,Zt,i,Le,lt,Be,B),this._renderDecorationsHighlights(wt,I,Zt,i,Le,lt,Be,B)}}_renderSelectionLineHighlights(i,r,I,B,X){if(!this._selectionColor||this._selectionColor.isTransparent())return;i.fillStyle=this._selectionColor.transparent(.5).toString();let Le=0,Be=0;for(const lt of r){const wt=Math.max(B.startLineNumber,lt.startLineNumber),Nt=Math.min(B.endLineNumber,lt.endLineNumber);if(wt>Nt)continue;for(let hn=wt;hn<=Nt;hn++)I.set(hn,!0);const Zt=(wt-B.startLineNumber)*X,ln=(Nt-B.startLineNumber)*X+X;Be>=Zt||(Be>Le&&i.fillRect(we.y0,Le,i.canvas.width,Be-Le),Le=Zt),Be=ln}Be>Le&&i.fillRect(we.y0,Le,i.canvas.width,Be-Le)}_renderDecorationsLineHighlights(i,r,I,B,X){const Le=new Map;for(let Be=r.length-1;Be>=0;Be--){const lt=r[Be],wt=lt.options.minimap;if(!wt||wt.position!==Es.F5.Inline)continue;const Nt=Math.max(B.startLineNumber,lt.range.startLineNumber),Zt=Math.min(B.endLineNumber,lt.range.endLineNumber);if(Nt>Zt)continue;const ln=wt.getColor(this._theme.value);if(!ln||ln.isTransparent())continue;let hn=Le.get(ln.toString());hn||(hn=ln.transparent(.5).toString(),Le.set(ln.toString(),hn)),i.fillStyle=hn;for(let Fn=Nt;Fn<=Zt;Fn++)I.has(Fn)||(I.set(Fn,!0),i.fillRect(we.y0,(Nt-B.startLineNumber)*X,i.canvas.width,X))}}_renderSelectionsHighlights(i,r,I,B,X,Le,Be,lt){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const wt of r){const Nt=Math.max(B.startLineNumber,wt.startLineNumber),Zt=Math.min(B.endLineNumber,wt.endLineNumber);if(!(Nt>Zt))for(let ln=Nt;ln<=Zt;ln++)this.renderDecorationOnLine(i,I,wt,this._selectionColor,B,ln,X,X,Le,Be,lt)}}_renderDecorationsHighlights(i,r,I,B,X,Le,Be,lt){for(const wt of r){const Nt=wt.options.minimap;if(!Nt)continue;const Zt=Math.max(B.startLineNumber,wt.range.startLineNumber),ln=Math.min(B.endLineNumber,wt.range.endLineNumber);if(Zt>ln)continue;const hn=Nt.getColor(this._theme.value);if(hn&&!hn.isTransparent())for(let Fn=Zt;Fn<=ln;Fn++)switch(Nt.position){case Es.F5.Inline:this.renderDecorationOnLine(i,I,wt.range,hn,B,Fn,X,X,Le,Be,lt);continue;case Es.F5.Gutter:this.renderDecoration(i,hn,2,(Fn-B.startLineNumber)*X,2,X);continue}}}renderDecorationOnLine(i,r,I,B,X,Le,Be,lt,wt,Nt,Zt){const ln=(Le-X.startLineNumber)*lt;if(ln+Be<0||ln>this._model.options.canvasInnerHeight)return;const{startLineNumber:hn,endLineNumber:Fn}=I,$n=hn===Le?I.startColumn:1,Zn=Fn===Le?I.endColumn:this._model.getLineMaxColumn(Le),ai=this.getXOffsetForPosition(r,Le,$n,wt,Nt,Zt),vi=this.getXOffsetForPosition(r,Le,Zn,wt,Nt,Zt);this.renderDecoration(i,B,ai,ln,vi-ai,Be)}getXOffsetForPosition(i,r,I,B,X,Le){if(1===I)return we.y0;if((I-1)*X>=Le)return Le;let lt=i.get(r);if(!lt){const wt=this._model.getLineContent(r);lt=[we.y0];let Nt=we.y0;for(let Zt=1;Zt<wt.length+1;Zt++){const ln=wt.charCodeAt(Zt-1),Fn=Nt+(9===ln?B*X:mn.K7(ln)?2*X:X);if(Fn>=Le){lt[Zt]=Le;break}lt[Zt]=Fn,Nt=Fn}i.set(r,lt)}return I-1<lt.length?lt[I-1]:Le}renderDecoration(i,r,I,B,X,Le){i.fillStyle=r&&r.toString()||"",i.fillRect(I,B,X,Le)}renderLines(i){const r=i.startLineNumber,I=i.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(i)){const Ho=this._lastRenderData._get();return new Go(i,Ho.imageData,Ho.lines)}const X=this._getBuffer();if(!X)return null;const[Le,Be,lt]=ms._renderUntouchedLines(X,r,I,B,this._lastRenderData),wt=this._model.getMinimapLinesRenderingData(r,I,lt),Nt=this._model.getOptions().tabSize,Zt=this._model.options.defaultBackgroundColor,ln=this._model.options.backgroundColor,hn=this._model.options.foregroundAlpha,Fn=this._model.tokensColorTracker,$n=Fn.backgroundIsLight(),Zn=this._model.options.renderMinimap,ai=this._model.options.charRenderer(),vi=this._model.options.fontScale,yi=this._model.options.minimapCharWidth,Xi=(1===Zn?2:3)*vi,Zi=B>Xi?Math.floor((B-Xi)/2):0,eo=ln.a/255,Hi=new $o(Math.round((ln.r-Zt.r)*eo+Zt.r),Math.round((ln.g-Zt.g)*eo+Zt.g),Math.round((ln.b-Zt.b)*eo+Zt.b),255);let ao=0;const Do=[];for(let Ho=0,Is=I-r+1;Ho<Is;Ho++)lt[Ho]&&ms._renderLine(X,Hi,ln.a,$n,Zn,yi,Fn,hn,ai,ao,Zi,Nt,wt[Ho],vi,B),Do[Ho]=new Ms(ao),ao+=B;const so=-1===Le?0:Le,is=(-1===Be?X.height:Be)-so;return this._canvas.domNode.getContext("2d").putImageData(X,0,0,0,so,X.width,is),new Go(i,X,Do)}static _renderUntouchedLines(i,r,I,B,X){const Le=[];if(!X){for(let Hi=0,ao=I-r+1;Hi<ao;Hi++)Le[Hi]=!0;return[-1,-1,Le]}const Be=X._get(),lt=Be.imageData.data,wt=Be.rendLineNumberStart,Nt=Be.lines,Zt=Nt.length,ln=i.width,hn=i.data,Fn=(I-r+1)*B*ln*4;let $n=-1,Zn=-1,ai=-1,vi=-1,yi=-1,Vi=-1,Xi=0;for(let Hi=r;Hi<=I;Hi++){const ao=Hi-r,Do=Hi-wt,so=Do>=0&&Do<Zt?Nt[Do].dy:-1;if(-1===so){Le[ao]=!0,Xi+=B;continue}const Yo=so*ln*4,is=(so+B)*ln*4,Ls=Xi*ln*4,Ho=(Xi+B)*ln*4;vi===Yo&&Vi===Ls?(vi=is,Vi=Ho):(-1!==ai&&(hn.set(lt.subarray(ai,vi),yi),-1===$n&&0===ai&&ai===yi&&($n=vi),-1===Zn&&vi===Fn&&ai===yi&&(Zn=ai)),ai=Yo,vi=is,yi=Ls,Vi=Ho),Le[ao]=!1,Xi+=B}return-1!==ai&&(hn.set(lt.subarray(ai,vi),yi),-1===$n&&0===ai&&ai===yi&&($n=vi),-1===Zn&&vi===Fn&&ai===yi&&(Zn=ai)),[-1===$n?-1:$n/(4*ln),-1===Zn?-1:Zn/(4*ln),Le]}static _renderLine(i,r,I,B,X,Le,Be,lt,wt,Nt,Zt,ln,hn,Fn,$n){const Zn=hn.content,ai=hn.tokens,vi=i.width-Le,yi=1===$n;let Vi=we.y0,Xi=0,Zi=0;for(let eo=0,Hi=ai.getCount();eo<Hi;eo++){const ao=ai.getEndOffset(eo),Do=ai.getForeground(eo),so=Be.getColor(Do);for(;Xi<ao;Xi++){if(Vi>vi)return;const Yo=Zn.charCodeAt(Xi);if(9===Yo){const is=ln-(Xi+Zi)%ln;Zi+=is-1,Vi+=is*Le}else if(32===Yo)Vi+=Le;else{const is=mn.K7(Yo)?2:1;for(let Ls=0;Ls<is;Ls++)if(2===X?wt.blockRenderChar(i,Vi,Nt+Zt,so,lt,r,I,yi):wt.renderChar(i,Vi,Nt+Zt,Yo,so,lt,r,I,Fn,B,yi),Vi+=Le,Vi>vi)return}}}}}class us{constructor(i,r,I){this._startLineNumber=i,this._endLineNumber=r,this._defaultValue=I,this._values=[];for(let B=0,X=this._endLineNumber-this._startLineNumber+1;B<X;B++)this._values[B]=I}has(i){return this.get(i)!==this._defaultValue}set(i,r){i<this._startLineNumber||i>this._endLineNumber||(this._values[i-this._startLineNumber]=r)}get(i){return i<this._startLineNumber||i>this._endLineNumber?this._defaultValue:this._values[i-this._startLineNumber]}}(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ye.CA6);r&&i.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${r}; }`);const I=Wt.getColor(Ye.Xy4);I&&i.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${I}; }`);const B=Wt.getColor(Ye.brw);B&&i.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${B}; }`);const X=Wt.getColor(Ye._wn);X&&i.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${X} -6px 0 6px -6px inset; }`)});var gr=e(11724),er={};er.styleTagTransform=u(),er.setAttributes=c(),er.insert=s().bind(null,"head"),er.domAPI=L(),er.insertStyleElement=a(),C()(gr.Z,er);class Zs extends he{constructor(i){super(i);const I=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=I.verticalScrollbarWidth,this._minimapWidth=I.minimap.minimapWidth,this._horizontalScrollbarHeight=I.horizontalScrollbarHeight,this._editorHeight=I.height,this._editorWidth=I.width,this._domNode=(0,tt.X)(document.createElement("div")),le.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(i){const I=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=I.verticalScrollbarWidth,this._minimapWidth=I.minimap.minimapWidth,this._horizontalScrollbarHeight=I.horizontalScrollbarHeight,this._editorHeight=I.height,this._editorWidth=I.width,!0}addWidget(i){const r=(0,tt.X)(i.getDomNode());this._widgets[i.getId()]={widget:i,preference:null,domNode:r},r.setPosition("absolute"),r.setAttribute("widgetId",i.getId()),this._domNode.appendChild(r),this.setShouldRender()}setWidgetPosition(i,r){const I=this._widgets[i.getId()];return I.preference!==r&&(I.preference=r,this.setShouldRender(),!0)}removeWidget(i){const r=i.getId();if(this._widgets.hasOwnProperty(r)){const B=this._widgets[r].domNode.domNode;delete this._widgets[r],B.parentNode.removeChild(B),this.setShouldRender()}}_renderWidget(i){const r=i.domNode;null!==i.preference?0===i.preference?(r.setTop(0),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===i.preference?(r.setTop(this._editorHeight-r.domNode.clientHeight-2*this._horizontalScrollbarHeight),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===i.preference&&(r.setTop(0),r.domNode.style.right="50%"):r.setTop("")}prepareRender(i){}render(i){this._domNode.setWidth(this._editorWidth);const r=Object.keys(this._widgets);for(let I=0,B=r.length;I<B;I++)this._renderWidget(this._widgets[r[I]])}}class As{constructor(i,r){const I=i.options;this.lineHeight=I.get(61),this.pixelRatio=I.get(131),this.overviewRulerLanes=I.get(76),this.renderBorder=I.get(75);const B=r.getColor(Ki.zw);this.borderColor=B?B.toString():null,this.hideCursor=I.get(54);const X=r.getColor(Ki.n0);this.cursorColor=X?X.transparent(.7).toString():null,this.themeType=r.type;const Le=I.get(67),Be=Le.enabled,lt=Le.side,wt=r.getColor(Ki.e_),Nt=Mo.RW.getDefaultBackground();let Zt=null;void 0!==wt?Zt=wt:Be&&(Zt=Nt),this.backgroundColor=null===Zt||"left"===lt?null:Io.Il.Format.CSS.formatHex(Zt);const hn=I.get(133).overviewRuler;this.top=hn.top,this.right=hn.right,this.domWidth=hn.width,this.domHeight=hn.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Fn,$n]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Fn,this.w=$n}_initLanes(i,r,I){const B=r-i;if(I>=3){const X=Math.floor(B/3),Le=Math.floor(B/3),Be=B-X-Le,wt=i+X;return[[0,i,wt,i,i+X+Be,i,wt,i],[0,X,Be,X+Be,Le,X+Be+Le,Be+Le,X+Be+Le]]}if(2===I){const X=Math.floor(B/2),Le=B-X;return[[0,i,i,i,i+X,i,i,i],[0,X,X,X,Le,X+Le,X+Le,X+Le]]}return[[0,i,i,i,i,i,i,i],[0,B,B,B,B,B,B,B]]}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class Gi extends he{constructor(i){super(i),this._domNode=(0,tt.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Mo.RW.onDidChange(r=>{r.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const r=new As(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(r)||(this._settings=r,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),0))}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let r=0,I=i.selections.length;r<I;r++)this._cursorPositions[r]=i.selections[r].getPosition();return this._cursorPositions.sort(ue.L.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const i=this._settings.canvasWidth,r=this._settings.canvasHeight,I=this._settings.lineHeight,B=this._context.viewLayout,Le=r/this._context.viewLayout.getScrollHeight(),Be=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),lt=6*this._settings.pixelRatio|0,wt=lt/2|0,Nt=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?Nt.clearRect(0,0,i,r):(Nt.fillStyle=this._settings.backgroundColor,Nt.fillRect(0,0,i,r));const Zt=this._settings.x,ln=this._settings.w;Be.sort(Ds.SQ.cmp);for(const hn of Be){const $n=hn.data;Nt.fillStyle=hn.color;let Zn=0,ai=0,vi=0;for(let yi=0,Vi=$n.length/3;yi<Vi;yi++){const Xi=$n[3*yi],eo=$n[3*yi+2];let Hi=B.getVerticalOffsetForLineNumber($n[3*yi+1])*Le|0,ao=(B.getVerticalOffsetForLineNumber(eo)+I)*Le|0;if(ao-Hi<lt){let so=(Hi+ao)/2|0;so<wt?so=wt:so+wt>r&&(so=r-wt),Hi=so-wt,ao=so+wt}Hi>vi+1||Xi!==Zn?(0!==yi&&Nt.fillRect(Zt[Zn],ai,ln[Zn],vi-ai),Zn=Xi,ai=Hi,vi=ao):ao>vi&&(vi=ao)}Nt.fillRect(Zt[Zn],ai,ln[Zn],vi-ai)}if(!this._settings.hideCursor&&this._settings.cursorColor){const hn=2*this._settings.pixelRatio|0,Fn=hn/2|0,$n=this._settings.x[7],Zn=this._settings.w[7];Nt.fillStyle=this._settings.cursorColor;let ai=-100,vi=-100;for(let yi=0,Vi=this._cursorPositions.length;yi<Vi;yi++){let Zi=B.getVerticalOffsetForLineNumber(this._cursorPositions[yi].lineNumber)*Le|0;Zi<Fn?Zi=Fn:Zi+Fn>r&&(Zi=r-Fn);const eo=Zi-Fn,Hi=eo+hn;eo>vi+1?(0!==yi&&Nt.fillRect($n,ai,Zn,vi-ai),ai=eo,vi=Hi):Hi>vi&&(vi=Hi)}Nt.fillRect($n,ai,Zn,vi-ai)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Nt.beginPath(),Nt.lineWidth=1,Nt.strokeStyle=this._settings.borderColor,Nt.moveTo(0,0),Nt.lineTo(0,r),Nt.stroke(),Nt.moveTo(0,0),Nt.lineTo(i,0),Nt.stroke())}}var dr=e(18632);class tr extends ve{constructor(i,r){super(),this._context=i;const I=this._context.configuration.options;this._domNode=(0,tt.X)(document.createElement("canvas")),this._domNode.setClassName(r),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new dr.Tj(B=>this._context.viewLayout.getVerticalOffsetForLineNumber(B)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(I.get(61)),this._zoneManager.setPixelRatio(I.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options;return i.hasChanged(61)&&(this._zoneManager.setLineHeight(r.get(61)),this._render()),i.hasChanged(131)&&(this._zoneManager.setPixelRatio(r.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(i){return this._render(),!0}onScrollChanged(i){return i.scrollHeightChanged&&(this._zoneManager.setOuterHeight(i.scrollHeight),this._render()),!0}onZonesChanged(i){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(i){this._domNode.setTop(i.top),this._domNode.setRight(i.right);let r=!1;r=this._zoneManager.setDOMWidth(i.width)||r,r=this._zoneManager.setDOMHeight(i.height)||r,r&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(i){this._zoneManager.setZones(i),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const i=this._zoneManager.getCanvasWidth(),r=this._zoneManager.getCanvasHeight(),I=this._zoneManager.resolveColorZones(),B=this._zoneManager.getId2Color(),X=this._domNode.domNode.getContext("2d");return X.clearRect(0,0,i,r),I.length>0&&this._renderOneLane(X,I,B,i),!0}_renderOneLane(i,r,I,B){let X=0,Le=0,Be=0;for(const lt of r){const wt=lt.colorId,Nt=lt.from,Zt=lt.to;wt!==X?(i.fillRect(0,Le,B,Be-Le),X=wt,i.fillStyle=I[X],Le=Nt,Be=Zt):Be>=Nt?Be=Math.max(Be,Zt):(i.fillRect(0,Le,B,Be-Le),Le=Nt,Be=Zt)}i.fillRect(0,Le,B,Be-Le)}}var nr=e(4439),Ts={};Ts.styleTagTransform=u(),Ts.setAttributes=c(),Ts.insert=s().bind(null,"head"),Ts.domAPI=L(),Ts.insertStyleElement=a(),C()(nr.Z,Ts);class Lr extends he{constructor(i){super(i),this.domNode=(0,tt.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const r=this._context.configuration.options;this._rulers=r.get(93),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options;return this._rulers=r.get(93),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(i){return i.scrollHeightChanged}prepareRender(i){}_ensureRulersCount(){const i=this._renderedRulers.length,r=this._rulers.length;if(i===r)return;if(i<r){const{tabSize:B}=this._context.viewModel.model.getOptions(),X=B;let Le=r-i;for(;Le>0;){const Be=(0,tt.X)(document.createElement("div"));Be.setClassName("view-ruler"),Be.setWidth(X),this.domNode.appendChild(Be),this._renderedRulers.push(Be),Le--}return}let I=i-r;for(;I>0;){const B=this._renderedRulers.pop();this.domNode.removeChild(B),I--}}render(i){this._ensureRulersCount();for(let r=0,I=this._rulers.length;r<I;r++){const B=this._renderedRulers[r],X=this._rulers[r];B.setBoxShadow(X.color?`1px 0 0 0 ${X.color} inset`:""),B.setHeight(Math.min(i.scrollHeight,1e6)),B.setLeft(X.column*this._typicalHalfwidthCharacterWidth)}}}(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.zk);r&&i.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${r} inset; }`)});var lo=e(16858),Po={};Po.styleTagTransform=u(),Po.setAttributes=c(),Po.insert=s().bind(null,"head"),Po.domAPI=L(),Po.insertStyleElement=a(),C()(lo.Z,Po);class vs extends he{constructor(i){super(i),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const I=this._context.configuration.options.get(94);this._useShadows=I.useShadows,this._domNode=(0,tt.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const i=this._useShadows&&this._scrollTop>0;return this._shouldShow!==i&&(this._shouldShow=i,!0)}getDomNode(){return this._domNode}_updateWidth(){const r=this._context.configuration.options.get(133);this._width=0===r.minimap.renderMinimap||r.minimap.minimapWidth>0&&0===r.minimap.minimapLeft?r.width:r.width-r.verticalScrollbarWidth}onConfigurationChanged(i){const I=this._context.configuration.options.get(94);return this._useShadows=I.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(i){return this._scrollTop=i.scrollTop,this._updateShouldShow()}prepareRender(i){}render(i){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ye._wn);r&&i.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${r} 0 6px 6px -6px inset; }`)});var hs=e(5826),Ps={};Ps.styleTagTransform=u(),Ps.setAttributes=c(),Ps.insert=s().bind(null,"head"),Ps.domAPI=L(),Ps.insertStyleElement=a(),C()(hs.Z,Ps);class sa{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class Ks{constructor(i,r){this.lineNumber=i,this.ranges=r}}function An(Wt){return new sa(Wt)}function te(Wt){return new Ks(Wt.lineNumber,Wt.ranges.map(An))}let pe=(()=>{class Wt extends Pi{constructor(r){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=r;const I=this._context.configuration.options;this._lineHeight=I.get(61),this._roundedSelection=I.get(92),this._typicalHalfwidthCharacterWidth=I.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const I=this._context.configuration.options;return this._lineHeight=I.get(61),this._roundedSelection=I.get(92),this._typicalHalfwidthCharacterWidth=I.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_visibleRangesHaveGaps(r){for(let I=0,B=r.length;I<B;I++)if(r[I].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(r,I,B){const X=this._typicalHalfwidthCharacterWidth/4;let Le=null,Be=null;if(B&&B.length>0&&I.length>0){const lt=I[0].lineNumber;if(lt===r.startLineNumber)for(let Nt=0;!Le&&Nt<B.length;Nt++)B[Nt].lineNumber===lt&&(Le=B[Nt].ranges[0]);const wt=I[I.length-1].lineNumber;if(wt===r.endLineNumber)for(let Nt=B.length-1;!Be&&Nt>=0;Nt--)B[Nt].lineNumber===wt&&(Be=B[Nt].ranges[0]);Le&&!Le.startStyle&&(Le=null),Be&&!Be.startStyle&&(Be=null)}for(let lt=0,wt=I.length;lt<wt;lt++){const Nt=I[lt].ranges[0],Zt=Nt.left,ln=Nt.left+Nt.width,hn={top:0,bottom:0},Fn={top:0,bottom:0};if(lt>0){const $n=I[lt-1].ranges[0].left,Zn=I[lt-1].ranges[0].left+I[lt-1].ranges[0].width;We(Zt-$n)<X?hn.top=2:Zt>$n&&(hn.top=1),We(ln-Zn)<X?Fn.top=2:$n<ln&&ln<Zn&&(Fn.top=1)}else Le&&(hn.top=Le.startStyle.top,Fn.top=Le.endStyle.top);if(lt+1<wt){const $n=I[lt+1].ranges[0].left,Zn=I[lt+1].ranges[0].left+I[lt+1].ranges[0].width;We(Zt-$n)<X?hn.bottom=2:$n<Zt&&Zt<Zn&&(hn.bottom=1),We(ln-Zn)<X?Fn.bottom=2:ln<Zn&&(Fn.bottom=1)}else Be&&(hn.bottom=Be.startStyle.bottom,Fn.bottom=Be.endStyle.bottom);Nt.startStyle=hn,Nt.endStyle=Fn}}_getVisibleRangesWithStyle(r,I,B){const Le=(I.linesVisibleRangesForRange(r,!0)||[]).map(te);return!this._visibleRangesHaveGaps(Le)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(I.visibleRange,Le,B),Le}_createSelectionPiece(r,I,B,X,Le){return'<div class="cslr '+B+'" style="top:'+r.toString()+"px;left:"+X.toString()+"px;width:"+Le.toString()+"px;height:"+I+'px;"></div>'}_actualRenderOneSelection(r,I,B,X){if(0===X.length)return;const Le=!!X[0].ranges[0].startStyle,Be=this._lineHeight.toString(),lt=(this._lineHeight-1).toString(),wt=X[0].lineNumber,Nt=X[X.length-1].lineNumber;for(let Zt=0,ln=X.length;Zt<ln;Zt++){const hn=X[Zt],Fn=hn.lineNumber,$n=Fn-I,Zn=!B||Fn!==Nt&&Fn!==wt?Be:lt,ai=B&&Fn===wt?1:0;let vi="",yi="";for(let Vi=0,Xi=hn.ranges.length;Vi<Xi;Vi++){const Zi=hn.ranges[Vi];if(Le){const Hi=Zi.startStyle,ao=Zi.endStyle;if(1===Hi.top||1===Hi.bottom){vi+=this._createSelectionPiece(ai,Zn,Wt.SELECTION_CLASS_NAME,Zi.left-Wt.ROUNDED_PIECE_WIDTH,Wt.ROUNDED_PIECE_WIDTH);let Do=Wt.EDITOR_BACKGROUND_CLASS_NAME;1===Hi.top&&(Do+=" "+Wt.SELECTION_TOP_RIGHT),1===Hi.bottom&&(Do+=" "+Wt.SELECTION_BOTTOM_RIGHT),vi+=this._createSelectionPiece(ai,Zn,Do,Zi.left-Wt.ROUNDED_PIECE_WIDTH,Wt.ROUNDED_PIECE_WIDTH)}if(1===ao.top||1===ao.bottom){vi+=this._createSelectionPiece(ai,Zn,Wt.SELECTION_CLASS_NAME,Zi.left+Zi.width,Wt.ROUNDED_PIECE_WIDTH);let Do=Wt.EDITOR_BACKGROUND_CLASS_NAME;1===ao.top&&(Do+=" "+Wt.SELECTION_TOP_LEFT),1===ao.bottom&&(Do+=" "+Wt.SELECTION_BOTTOM_LEFT),vi+=this._createSelectionPiece(ai,Zn,Do,Zi.left+Zi.width,Wt.ROUNDED_PIECE_WIDTH)}}let eo=Wt.SELECTION_CLASS_NAME;if(Le){const Hi=Zi.startStyle,ao=Zi.endStyle;0===Hi.top&&(eo+=" "+Wt.SELECTION_TOP_LEFT),0===Hi.bottom&&(eo+=" "+Wt.SELECTION_BOTTOM_LEFT),0===ao.top&&(eo+=" "+Wt.SELECTION_TOP_RIGHT),0===ao.bottom&&(eo+=" "+Wt.SELECTION_BOTTOM_RIGHT)}yi+=this._createSelectionPiece(ai,Zn,eo,Zi.left,Zi.width)}r[$n][0]+=vi,r[$n][1]+=yi}}prepareRender(r){const I=[],B=r.visibleRange.startLineNumber,X=r.visibleRange.endLineNumber;for(let Be=B;Be<=X;Be++)I[Be-B]=["",""];const Le=[];for(let Be=0,lt=this._selections.length;Be<lt;Be++){const wt=this._selections[Be];if(wt.isEmpty()){Le[Be]=null;continue}const Nt=this._getVisibleRangesWithStyle(wt,r,this._previousFrameVisibleRangesWithStyle[Be]);Le[Be]=Nt,this._actualRenderOneSelection(I,B,this._selections.length>1,Nt)}this._previousFrameVisibleRangesWithStyle=Le,this._renderResult=I.map(([Be,lt])=>Be+lt)}render(r,I){if(!this._renderResult)return"";const B=I-r;return B<0||B>=this._renderResult.length?"":this._renderResult[B]}}return Wt.SELECTION_CLASS_NAME="selected-text",Wt.SELECTION_TOP_LEFT="top-left-radius",Wt.SELECTION_BOTTOM_LEFT="bottom-left-radius",Wt.SELECTION_TOP_RIGHT="top-right-radius",Wt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Wt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Wt.ROUNDED_PIECE_WIDTH=10,Wt})();function We(Wt){return Wt<0?-Wt:Wt}(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ye.hEj);r&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${r}; }`);const I=Wt.getColor(Ye.ES4);I&&i.addRule(`.monaco-editor .selected-text { background-color: ${I}; }`);const B=Wt.getColor(Ye.yb5);B&&!B.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${B}; }`)});var Et=e(51595),At={};At.styleTagTransform=u(),At.setAttributes=c(),At.insert=s().bind(null,"head"),At.domAPI=L(),At.insertStyleElement=a(),C()(Et.Z,At);class oi{constructor(i,r,I,B,X,Le){this.top=i,this.left=r,this.width=I,this.height=B,this.textContent=X,this.textContentClassName=Le}}class _i{constructor(i){this._context=i;const r=this._context.configuration.options,I=r.get(46);this._cursorStyle=r.get(24),this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=I.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,tt.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Eo.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Nn.N)(this._domNode,I),this._domNode.setDisplay("none"),this._position=new ue.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const r=this._context.configuration.options,I=r.get(46);return this._cursorStyle=r.get(24),this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=I.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),(0,Nn.N)(this._domNode,I),!0}onCursorPositionChanged(i){return this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:r}=this._position,I=this._context.viewModel.getLineContent(i),[B,X]=mn.J_(I,r-1);return[new ue.L(i,B+1),I.substring(B,X)]}_prepareRender(i){let r="";const[I,B]=this._getGraphemeAwarePosition();if(this._cursorStyle===we.d2.Line||this._cursorStyle===we.d2.LineThin){const ln=i.visibleRangeForPosition(I);if(!ln||ln.outsideRenderedLine)return null;let hn;this._cursorStyle===we.d2.Line?(hn=x.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),hn>2&&(r=B)):hn=x.Uh(1);let Fn=ln.left;hn>=2&&Fn>=1&&(Fn-=1);const $n=i.getVerticalOffsetForLineNumber(I.lineNumber)-i.bigNumbersDelta;return new oi($n,Fn,hn,this._lineHeight,r,"")}const X=i.linesVisibleRangesForRange(new be.e(I.lineNumber,I.column,I.lineNumber,I.column+B.length),!1);if(!X||0===X.length)return null;const Le=X[0];if(Le.outsideRenderedLine||0===Le.ranges.length)return null;const Be=Le.ranges[0],lt="\t"===B||Be.width<1?this._typicalHalfwidthCharacterWidth:Be.width;let wt="";if(this._cursorStyle===we.d2.Block){const ln=this._context.viewModel.getViewLineData(I.lineNumber);r=B;const hn=ln.tokens.findTokenIndexAtOffset(I.column-1);wt=ln.tokens.getClassName(hn)}let Nt=i.getVerticalOffsetForLineNumber(I.lineNumber)-i.bigNumbersDelta,Zt=this._lineHeight;return(this._cursorStyle===we.d2.Underline||this._cursorStyle===we.d2.UnderlineThin)&&(Nt+=this._lineHeight-2,Zt=2),new oi(Nt,Be.left,lt,Zt,r,wt)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Eo.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let Ni=(()=>{class Wt extends he{constructor(r){super(r);const I=this._context.configuration.options;this._readOnly=I.get(83),this._cursorBlinking=I.get(22),this._cursorStyle=I.get(24),this._cursorSmoothCaretAnimation=I.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new _i(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,tt.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new $e._F,this._cursorFlatBlinkInterval=new $e.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(r){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(r){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(r){const I=this._context.configuration.options;this._readOnly=I.get(83),this._cursorBlinking=I.get(22),this._cursorStyle=I.get(24),this._cursorSmoothCaretAnimation=I.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(r);for(let B=0,X=this._secondaryCursors.length;B<X;B++)this._secondaryCursors[B].onConfigurationChanged(r);return!0}_onCursorPositionChanged(r,I){if(this._primaryCursor.onCursorPositionChanged(r),this._updateBlinking(),this._secondaryCursors.length<I.length){const B=I.length-this._secondaryCursors.length;for(let X=0;X<B;X++){const Le=new _i(this._context);this._domNode.domNode.insertBefore(Le.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Le)}}else if(this._secondaryCursors.length>I.length){const B=this._secondaryCursors.length-I.length;for(let X=0;X<B;X++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let B=0;B<I.length;B++)this._secondaryCursors[B].onCursorPositionChanged(I[B])}onCursorStateChanged(r){const I=[];for(let X=0,Le=r.selections.length;X<Le;X++)I[X]=r.selections[X].getPosition();this._onCursorPositionChanged(I[0],I.slice(1));const B=r.selections[0].isEmpty();return this._selectionIsEmpty!==B&&(this._selectionIsEmpty=B,this._updateDomClassName()),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onFocusChanged(r){return this._editorHasFocus=r.isFocused,this._updateBlinking(),!1}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onTokensChanged(r){const I=B=>{for(let X=0,Le=r.ranges.length;X<Le;X++)if(r.ranges[X].fromLineNumber<=B.lineNumber&&B.lineNumber<=r.ranges[X].toLineNumber)return!0;return!1};if(I(this._primaryCursor.getPosition()))return!0;for(const B of this._secondaryCursors)if(I(B.getPosition()))return!0;return!1}onZonesChanged(r){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const r=this._getCursorBlinking(),I=0===r,B=5===r;I?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!I&&!B&&(1===r?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Wt.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Wt.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let r="cursors-layer";switch(this._selectionIsEmpty||(r+=" has-selection"),this._cursorStyle){case we.d2.Line:r+=" cursor-line-style";break;case we.d2.Block:r+=" cursor-block-style";break;case we.d2.Underline:r+=" cursor-underline-style";break;case we.d2.LineThin:r+=" cursor-line-thin-style";break;case we.d2.BlockOutline:r+=" cursor-block-outline-style";break;case we.d2.UnderlineThin:r+=" cursor-underline-thin-style";break;default:r+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:r+=" cursor-blink";break;case 2:r+=" cursor-smooth";break;case 3:r+=" cursor-phase";break;case 4:r+=" cursor-expand";break;default:r+=" cursor-solid"}else r+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(r+=" cursor-smooth-caret-animation"),r}_show(){this._primaryCursor.show();for(let r=0,I=this._secondaryCursors.length;r<I;r++)this._secondaryCursors[r].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let r=0,I=this._secondaryCursors.length;r<I;r++)this._secondaryCursors[r].hide();this._isVisible=!1}prepareRender(r){this._primaryCursor.prepareRender(r);for(let I=0,B=this._secondaryCursors.length;I<B;I++)this._secondaryCursors[I].prepareRender(r)}render(r){const I=[];let B=0;const X=this._primaryCursor.render(r);X&&(I[B++]=X);for(let Le=0,Be=this._secondaryCursors.length;Le<Be;Le++){const lt=this._secondaryCursors[Le].render(r);lt&&(I[B++]=lt)}this._renderData=I}getLastRenderData(){return this._renderData}}return Wt.BLINK_INTERVAL=500,Wt})();(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.n0);if(r){let I=Wt.getColor(Ki.fY);I||(I=r.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${r}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${r}; border-color: ${r}; color: ${I}; }`),(0,_t.c3)(Wt.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${I}; border-right: 1px solid ${I}; }`)}});const wo=()=>{throw new Error("Invalid change accessor")};class ts extends he{constructor(i){super(i);const r=this._context.configuration.options,I=r.get(133);this._lineHeight=r.get(61),this._contentWidth=I.contentWidth,this._contentLeft=I.contentLeft,this.domNode=(0,tt.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,tt.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const i=this._context.viewLayout.getWhitespaces(),r=new Map;for(const B of i)r.set(B.id,B);let I=!1;return this._context.viewModel.changeWhitespace(B=>{const X=Object.keys(this._zones);for(let Le=0,Be=X.length;Le<Be;Le++){const lt=X[Le],wt=this._zones[lt],Nt=this._computeWhitespaceProps(wt.delegate);wt.isInHiddenArea=Nt.isInHiddenArea;const Zt=r.get(lt);Zt&&(Zt.afterLineNumber!==Nt.afterViewLineNumber||Zt.height!==Nt.heightInPx)&&(B.changeOneWhitespace(lt,Nt.afterViewLineNumber,Nt.heightInPx),this._safeCallOnComputedHeight(wt.delegate,Nt.heightInPx),I=!0)}}),I}onConfigurationChanged(i){const r=this._context.configuration.options,I=r.get(133);return this._lineHeight=r.get(61),this._contentWidth=I.contentWidth,this._contentLeft=I.contentLeft,i.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(i){return this._recomputeWhitespacesProps()}onLinesDeleted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}onLinesInserted(i){return!0}_getZoneOrdinal(i){return typeof i.afterColumn<"u"?i.afterColumn:1e4}_computeWhitespaceProps(i){if(0===i.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(i),minWidthInPx:this._minWidthInPixels(i)};let r,I;if(typeof i.afterColumn<"u")r=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:i.afterColumn});else{const Le=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:1}).lineNumber;r=new ue.L(Le,this._context.viewModel.model.getLineMaxColumn(Le))}I=r.column===this._context.viewModel.model.getLineMaxColumn(r.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:r.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:r.lineNumber,column:r.column+1});const B=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r,i.afterColumnAffinity),X=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(I);return{isInHiddenArea:!X,afterViewLineNumber:B.lineNumber,heightInPx:X?this._heightInPixels(i):0,minWidthInPx:this._minWidthInPixels(i)}}changeViewZones(i){let r=!1;return this._context.viewModel.changeWhitespace(I=>{const B={addZone:X=>(r=!0,this._addZone(I,X)),removeZone:X=>{!X||(r=this._removeZone(I,X)||r)},layoutZone:X=>{!X||(r=this._layoutZone(I,X)||r)}};(function Fo(Wt,i){try{Wt(i)}catch(r){(0,P.dL)(r)}})(i,B),B.addZone=wo,B.removeZone=wo,B.layoutZone=wo}),r}_addZone(i,r){const I=this._computeWhitespaceProps(r),X={whitespaceId:i.insertWhitespace(I.afterViewLineNumber,this._getZoneOrdinal(r),I.heightInPx,I.minWidthInPx),delegate:r,isInHiddenArea:I.isInHiddenArea,isVisible:!1,domNode:(0,tt.X)(r.domNode),marginDomNode:r.marginDomNode?(0,tt.X)(r.marginDomNode):null};return this._safeCallOnComputedHeight(X.delegate,I.heightInPx),X.domNode.setPosition("absolute"),X.domNode.domNode.style.width="100%",X.domNode.setDisplay("none"),X.domNode.setAttribute("monaco-view-zone",X.whitespaceId),this.domNode.appendChild(X.domNode),X.marginDomNode&&(X.marginDomNode.setPosition("absolute"),X.marginDomNode.domNode.style.width="100%",X.marginDomNode.setDisplay("none"),X.marginDomNode.setAttribute("monaco-view-zone",X.whitespaceId),this.marginDomNode.appendChild(X.marginDomNode)),this._zones[X.whitespaceId]=X,this.setShouldRender(),X.whitespaceId}_removeZone(i,r){if(this._zones.hasOwnProperty(r)){const I=this._zones[r];return delete this._zones[r],i.removeWhitespace(I.whitespaceId),I.domNode.removeAttribute("monaco-visible-view-zone"),I.domNode.removeAttribute("monaco-view-zone"),I.domNode.domNode.parentNode.removeChild(I.domNode.domNode),I.marginDomNode&&(I.marginDomNode.removeAttribute("monaco-visible-view-zone"),I.marginDomNode.removeAttribute("monaco-view-zone"),I.marginDomNode.domNode.parentNode.removeChild(I.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(i,r){if(this._zones.hasOwnProperty(r)){const I=this._zones[r],B=this._computeWhitespaceProps(I.delegate);return I.isInHiddenArea=B.isInHiddenArea,i.changeOneWhitespace(I.whitespaceId,B.afterViewLineNumber,B.heightInPx),this._safeCallOnComputedHeight(I.delegate,B.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(i){return!!this._zones.hasOwnProperty(i)&&Boolean(this._zones[i].delegate.suppressMouseDown)}_heightInPixels(i){return"number"==typeof i.heightInPx?i.heightInPx:"number"==typeof i.heightInLines?this._lineHeight*i.heightInLines:this._lineHeight}_minWidthInPixels(i){return"number"==typeof i.minWidthInPx?i.minWidthInPx:0}_safeCallOnComputedHeight(i,r){if("function"==typeof i.onComputedHeight)try{i.onComputedHeight(r)}catch(I){(0,P.dL)(I)}}_safeCallOnDomNodeTop(i,r){if("function"==typeof i.onDomNodeTop)try{i.onDomNodeTop(r)}catch(I){(0,P.dL)(I)}}prepareRender(i){}render(i){const r=i.viewportData.whitespaceViewportData,I={};let B=!1;for(const Le of r)this._zones[Le.id].isInHiddenArea||(I[Le.id]=Le,B=!0);const X=Object.keys(this._zones);for(let Le=0,Be=X.length;Le<Be;Le++){const lt=X[Le],wt=this._zones[lt];let Nt=0,Zt=0,ln="none";I.hasOwnProperty(lt)?(Nt=I[lt].verticalOffset-i.bigNumbersDelta,Zt=I[lt].height,ln="block",wt.isVisible||(wt.domNode.setAttribute("monaco-visible-view-zone","true"),wt.isVisible=!0),this._safeCallOnDomNodeTop(wt.delegate,i.getScrolledTopFromAbsoluteTop(I[lt].verticalOffset))):(wt.isVisible&&(wt.domNode.removeAttribute("monaco-visible-view-zone"),wt.isVisible=!1),this._safeCallOnDomNodeTop(wt.delegate,i.getScrolledTopFromAbsoluteTop(-1e6))),wt.domNode.setTop(Nt),wt.domNode.setHeight(Zt),wt.domNode.setDisplay(ln),wt.marginDomNode&&(wt.marginDomNode.setTop(Nt),wt.marginDomNode.setHeight(Zt),wt.marginDomNode.setDisplay(ln))}B&&(this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class Ns{constructor(i){this._theme=i}get type(){return this._theme.type}get value(){return this._theme}update(i){this._theme=i}getColor(i){return this._theme.getColor(i)}}class Ys{constructor(i,r,I){this.configuration=i,this.theme=new Ns(r),this.viewModel=I,this.viewLayout=I.viewLayout}addEventHandler(i){this.viewModel.addViewEventHandler(i)}removeEventHandler(i){this.viewModel.removeViewEventHandler(i)}}class xr{constructor(i,r,I,B){this.selections=i,this.startLineNumber=0|r.startLineNumber,this.endLineNumber=0|r.endLineNumber,this.relativeVerticalOffset=r.relativeVerticalOffset,this.bigNumbersDelta=0|r.bigNumbersDelta,this.whitespaceViewportData=I,this._model=B,this.visibleRange=new be.e(r.startLineNumber,this._model.getLineMinColumn(r.startLineNumber),r.endLineNumber,this._model.getLineMaxColumn(r.endLineNumber))}getViewLineRenderingData(i){return this._model.getViewportViewLineRenderingData(this.visibleRange,i)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var Yr=e(11625),ra={};ra.styleTagTransform=u(),ra.setAttributes=c(),ra.insert=s().bind(null,"head"),ra.domAPI=L(),ra.insertStyleElement=a(),C()(Yr.Z,ra);class rs extends he{constructor(i){super(i),this.blocks=[],this.contentWidth=-1,this.domNode=(0,tt.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let i=!1;const I=this._context.configuration.options.get(133),B=I.contentWidth-I.verticalScrollbarWidth;return this.contentWidth!==B&&(this.contentWidth=B,i=!0),i}dispose(){super.dispose()}onConfigurationChanged(i){return this.update()}onScrollChanged(i){return i.scrollTopChanged||i.scrollLeftChanged}onDecorationsChanged(i){return!0}onZonesChanged(i){return!0}prepareRender(i){}render(i){let r=0;const I=i.getDecorationsInViewport();for(const B of I){if(!B.options.blockClassName)continue;let X=this.blocks[r];X||(X=this.blocks[r]=(0,tt.X)(document.createElement("div")),this.domNode.appendChild(X));const Le=i.getVerticalOffsetForLineNumber(B.range.startLineNumber),Be=i.getVerticalOffsetForLineNumber(B.range.endLineNumber+1);X.setClassName("blockDecorations-block "+B.options.blockClassName),X.setLeft(i.scrollLeft),X.setWidth(this.contentWidth),X.setTop(Le),X.setHeight(Be-Le),r++}for(let B=r;B<this.blocks.length;B++)this.blocks[B].domNode.remove();this.blocks.length=r}}class Hs extends ve{constructor(i,r,I,B,X,Le){super(),this._selections=[new Ve.Y(1,1,1,1)],this._renderAnimationFrame=null;const Be=new kt(r,B,X,i);this._context=new Ys(r,I,B),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Ao(this._context,Be,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,tt.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,tt.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,tt.X)(document.createElement("div")),le.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new at(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new ei(this._context,this._linesContent),this._viewZones=new ts(this._context),this._viewParts.push(this._viewZones);const lt=new Gi(this._context);this._viewParts.push(lt);const wt=new vs(this._context);this._viewParts.push(wt);const Nt=new Pn(this._context);this._viewParts.push(Nt),Nt.addDynamicOverlay(new Ii(this._context)),Nt.addDynamicOverlay(new pe(this._context)),Nt.addDynamicOverlay(new en(this._context)),Nt.addDynamicOverlay(new _e(this._context));const Zt=new En(this._context);this._viewParts.push(Zt),Zt.addDynamicOverlay(new bi(this._context)),Zt.addDynamicOverlay(new ni(this._context)),Zt.addDynamicOverlay(new jo(this._context)),Zt.addDynamicOverlay(new Mi(this._context)),Zt.addDynamicOverlay(new ro(this._context));const ln=new mo(this._context);ln.getDomNode().appendChild(this._viewZones.marginDomNode),ln.getDomNode().appendChild(Zt.getDomNode()),this._viewParts.push(ln),this._contentWidgets=new Pt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Ni(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Zs(this._context),this._viewParts.push(this._overlayWidgets);const hn=new Lr(this._context);this._viewParts.push(hn);const Fn=new rs(this._context);this._viewParts.push(Fn);const $n=new vr(this._context);if(this._viewParts.push($n),lt){const Zn=this._scrollbar.getOverviewRulerLayoutInfo();Zn.parent.insertBefore(lt.getDomNode(),Zn.insertBefore)}this._linesContent.appendChild(Nt.getDomNode()),this._linesContent.appendChild(hn.domNode),this._linesContent.appendChild(Fn.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ln.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(wt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild($n.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),Le?Le.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new pt(this._context,Be,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:i=>{this._textAreaHandler.textArea.domNode.dispatchEvent(i)},getLastRenderData:()=>{const i=this._viewCursors.getLastRenderData()||[],r=this._textAreaHandler.getLastRenderData();return new vn(i,r)},shouldSuppressMouseDownOnViewZone:i=>this._viewZones.shouldSuppressMouseDownOnViewZone(i),shouldSuppressMouseDownOnWidget:i=>this._contentWidgets.shouldSuppressMouseDownOnWidget(i),getPositionFromDOMInfo:(i,r)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(i,r)),visibleRangeForPosition:(i,r)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new ue.L(i,r))),getLineWidth:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(i))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(i))}}_applyLayout(){const r=this._context.configuration.options.get(133);this.domNode.setWidth(r.width),this.domNode.setHeight(r.height),this._overflowGuardContainer.setWidth(r.width),this._overflowGuardContainer.setHeight(r.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const i=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,Wi.m6)(this._context.theme.type)+i}handleEvents(i){super.handleEvents(i),this._scheduleRender()}onConfigurationChanged(i){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(i){return this._selections=i.selections,!1}onFocusChanged(i){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(i){return this._context.theme.update(i.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const i of this._viewParts)i.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=x.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function ba(Wt){try{Wt()}catch(i){(0,P.dL)(i)}}(()=>this._actualRender())}_getViewPartsToRender(){const i=[];let r=0;for(const I of this._viewParts)I.shouldRender()&&(i[r++]=I);return i}_actualRender(){if(!x.Uw(this.domNode.domNode))return;let i=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===i.length)return;const r=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(r.startLineNumber,r.endLineNumber,r.centeredLineNumber);const I=new xr(this._selections,r,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(I),this._viewLines.shouldRender()&&(this._viewLines.renderText(I),this._viewLines.onDidRender(),i=this._getViewPartsToRender());const B=new Ce(this._context.viewLayout,I,this._viewLines);for(const X of i)X.prepareRender(B);for(const X of i)X.render(B),X.onDidRender()}delegateVerticalScrollbarPointerDown(i){this._scrollbar.delegateVerticalScrollbarPointerDown(i)}restoreState(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:i.scrollLeft},1)}getOffsetForColumn(i,r){const I=this._context.viewModel.model.validatePosition({lineNumber:i,column:r}),B=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(I);this._flushAccumulatedAndRenderNow();const X=this._viewLines.visibleRangeForPosition(new ue.L(B.lineNumber,B.column));return X?X.left:-1}getTargetAtClientPoint(i,r){const I=this._pointerHandler.getTargetAtClientPoint(i,r);return I?un.convertViewToModelMouseTarget(I,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(i){return new tr(this._context,i)}change(i){this._viewZones.changeViewZones(i),this._scheduleRender()}render(i,r){if(r){this._viewLines.forceShouldRender();for(const I of this._viewParts)I.forceShouldRender()}i?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(i){this._textAreaHandler.setAriaOptions(i)}addContentWidget(i){this._contentWidgets.addWidget(i.widget),this.layoutContentWidget(i),this._scheduleRender()}layoutContentWidget(i){var r,I;let B=i.position&&i.position.range||null;if(null===B){const Le=i.position?i.position.position:null;null!==Le&&(B=new be.e(Le.lineNumber,Le.column,Le.lineNumber,Le.column))}this._contentWidgets.setWidgetPosition(i.widget,B,i.position?i.position.preference:null,null!==(I=null===(r=i.position)||void 0===r?void 0:r.positionAffinity)&&void 0!==I?I:null),this._scheduleRender()}removeContentWidget(i){this._contentWidgets.removeWidget(i.widget),this._scheduleRender()}addOverlayWidget(i){this._overlayWidgets.addWidget(i.widget),this.layoutOverlayWidget(i),this._scheduleRender()}layoutOverlayWidget(i){this._overlayWidgets.setWidgetPosition(i.widget,i.position?i.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(i){this._overlayWidgets.removeWidget(i.widget),this._scheduleRender()}}var es=e(76336);class Cr{constructor(i){this._selTrackedRange=null,this._trackSelection=!0,this._setState(i,new es.rS(new be.e(1,1,1,1),0,new ue.L(1,1),0),new es.rS(new be.e(1,1,1,1),0,new ue.L(1,1),0))}dispose(i){this._removeTrackedRange(i)}startTrackingSelection(i){this._trackSelection=!0,this._updateTrackedRange(i)}stopTrackingSelection(i){this._trackSelection=!1,this._removeTrackedRange(i)}_updateTrackedRange(i){!this._trackSelection||(this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(i){this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new es.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(i){const r=i.model._getTrackedRange(this._selTrackedRange);return Ve.Y.fromRange(r,this.modelState.selection.getDirection())}ensureValidState(i){this._setState(i,this.modelState,this.viewState)}setState(i,r,I){this._setState(i,r,I)}static _validatePositionWithCache(i,r,I,B){return r.equals(I)?B:i.normalizePosition(r,2)}static _validateViewState(i,r){const I=r.position,B=r.selectionStart.getStartPosition(),X=r.selectionStart.getEndPosition(),Le=i.normalizePosition(I,2),Be=this._validatePositionWithCache(i,B,I,Le),lt=this._validatePositionWithCache(i,X,B,Be);return I.equals(Le)&&B.equals(Be)&&X.equals(lt)?r:new es.rS(be.e.fromPositions(Be,lt),r.selectionStartLeftoverVisibleColumns+B.column-Be.column,Le,r.leftoverVisibleColumns+I.column-Le.column)}_setState(i,r,I){if(I&&(I=Cr._validateViewState(i.viewModel,I)),r){const B=i.model.validateRange(r.selectionStart),X=r.selectionStart.equalsRange(B)?r.selectionStartLeftoverVisibleColumns:0,Le=i.model.validatePosition(r.position),Be=r.position.equals(Le)?r.leftoverVisibleColumns:0;r=new es.rS(B,X,Le,Be)}else{if(!I)return;const B=i.model.validateRange(i.coordinatesConverter.convertViewRangeToModelRange(I.selectionStart)),X=i.model.validatePosition(i.coordinatesConverter.convertViewPositionToModelPosition(I.position));r=new es.rS(B,I.selectionStartLeftoverVisibleColumns,X,I.leftoverVisibleColumns)}if(I){const B=i.coordinatesConverter.validateViewRange(I.selectionStart,r.selectionStart),X=i.coordinatesConverter.validateViewPosition(I.position,r.position);I=new es.rS(B,r.selectionStartLeftoverVisibleColumns,X,r.leftoverVisibleColumns)}else{const B=i.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(r.selectionStart.startLineNumber,r.selectionStart.startColumn)),X=i.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(r.selectionStart.endLineNumber,r.selectionStart.endColumn)),Le=new be.e(B.lineNumber,B.column,X.lineNumber,X.column),Be=i.coordinatesConverter.convertModelPositionToViewPosition(r.position);I=new es.rS(Le,r.selectionStartLeftoverVisibleColumns,Be,r.leftoverVisibleColumns)}this.modelState=r,this.viewState=I,this._updateTrackedRange(i)}}class Or{constructor(i){this.context=i,this.cursors=[new Cr(i)],this.lastAddedCursorIndex=0}dispose(){for(const i of this.cursors)i.dispose(this.context)}startTrackingSelections(){for(const i of this.cursors)i.startTrackingSelection(this.context)}stopTrackingSelections(){for(const i of this.cursors)i.stopTrackingSelection(this.context)}updateContext(i){this.context=i}ensureValidState(){for(const i of this.cursors)i.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(i=>i.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(i=>i.asCursorState())}getViewPositions(){return this.cursors.map(i=>i.viewState.position)}getTopMostViewPosition(){return(0,k.VJ)(this.cursors,(0,k.tT)(i=>i.viewState.position,ue.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.jV)(this.cursors,(0,k.tT)(i=>i.viewState.position,ue.L.compare)).viewState.position}getSelections(){return this.cursors.map(i=>i.modelState.selection)}getViewSelections(){return this.cursors.map(i=>i.viewState.selection)}setSelections(i){this.setStates(es.Vi.fromModelSelections(i))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(i){null!==i&&(this.cursors[0].setState(this.context,i[0].modelState,i[0].viewState),this._setSecondaryStates(i.slice(1)))}_setSecondaryStates(i){const r=this.cursors.length-1,I=i.length;if(r<I){const B=I-r;for(let X=0;X<B;X++)this._addSecondaryCursor()}else if(r>I){const B=r-I;for(let X=0;X<B;X++)this._removeSecondaryCursor(this.cursors.length-2)}for(let B=0;B<I;B++)this.cursors[B+1].setState(this.context,i[B].modelState,i[B].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Cr(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(i){this.lastAddedCursorIndex>=i+1&&this.lastAddedCursorIndex--,this.cursors[i+1].dispose(this.context),this.cursors.splice(i+1,1)}normalize(){if(1===this.cursors.length)return;const i=this.cursors.slice(0),r=[];for(let I=0,B=i.length;I<B;I++)r.push({index:I,selection:i[I].modelState.selection});r.sort((0,k.tT)(I=>I.selection,be.e.compareRangesUsingStarts));for(let I=0;I<r.length-1;I++){const B=r[I],X=r[I+1],Le=B.selection,Be=X.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let lt;if(lt=Be.isEmpty()||Le.isEmpty()?Be.getStartPosition().isBeforeOrEqual(Le.getEndPosition()):Be.getStartPosition().isBefore(Le.getEndPosition()),lt){const wt=B.index<X.index?I:I+1,Nt=B.index<X.index?I+1:I,Zt=r[Nt].index,ln=r[wt].index,hn=r[Nt].selection,Fn=r[wt].selection;if(!hn.equalsSelection(Fn)){const $n=hn.plusRange(Fn),Zn=hn.selectionStartLineNumber===hn.startLineNumber&&hn.selectionStartColumn===hn.startColumn,ai=Fn.selectionStartLineNumber===Fn.startLineNumber&&Fn.selectionStartColumn===Fn.startColumn;let vi,yi;Zt===this.lastAddedCursorIndex?(vi=Zn,this.lastAddedCursorIndex=ln):vi=ai,yi=vi?new Ve.Y($n.startLineNumber,$n.startColumn,$n.endLineNumber,$n.endColumn):new Ve.Y($n.endLineNumber,$n.endColumn,$n.startLineNumber,$n.startColumn),r[wt].selection=yi;const Vi=es.Vi.fromModelSelection(yi);i[ln].setState(this.context,Vi.modelState,Vi.viewState)}for(const $n of r)$n.index>Zt&&$n.index--;i.splice(Zt,1),r.splice(Nt,1),this._removeSecondaryCursor(Zt-1),I--}}}}class Ui{constructor(i,r,I,B){this._cursorContextBrand=void 0,this.model=i,this.viewModel=r,this.coordinatesConverter=I,this.cursorConfig=B}}var Va=e(8445),Jo=e(97979),Xs=e(54547);class ya{constructor(){this.type=0}}class aa{constructor(){this.type=1}}class la{constructor(i){this.type=2,this._source=i}hasChanged(i){return this._source.hasChanged(i)}}class da{constructor(i,r){this.type=3,this.selections=i,this.modelSelections=r}}class Bo{constructor(i){this.type=4,i?(this.affectsMinimap=i.affectsMinimap,this.affectsOverviewRuler=i.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class br{constructor(){this.type=5}}class Vt{constructor(i){this.type=6,this.isFocused=i}}class De{constructor(){this.type=7}}class Ge{constructor(){this.type=8}}class xt{constructor(i,r){this.fromLineNumber=i,this.count=r,this.type=9}}class Jt{constructor(i,r){this.type=10,this.fromLineNumber=i,this.toLineNumber=r}}class pn{constructor(i,r){this.type=11,this.fromLineNumber=i,this.toLineNumber=r}}class zt{constructor(i,r,I,B,X,Le,Be){this.source=i,this.minimalReveal=r,this.range=I,this.selections=B,this.verticalType=X,this.revealHorizontal=Le,this.scrollType=Be,this.type=12}}class On{constructor(i){this.type=13,this.scrollWidth=i.scrollWidth,this.scrollLeft=i.scrollLeft,this.scrollHeight=i.scrollHeight,this.scrollTop=i.scrollTop,this.scrollWidthChanged=i.scrollWidthChanged,this.scrollLeftChanged=i.scrollLeftChanged,this.scrollHeightChanged=i.scrollHeightChanged,this.scrollTopChanged=i.scrollTopChanged}}class Xn{constructor(i){this.theme=i,this.type=14}}class Qn{constructor(i){this.type=15,this.ranges=i}}class qn{constructor(){this.type=16}}class kn{constructor(){this.type=17}}class xi extends V.JT{constructor(){super(),this._onEvent=this._register(new O.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(i){this._addOutgoingEvent(i),this._emitOutgoingEvents()}_addOutgoingEvent(i){for(let r=0,I=this._outgoingEvents.length;r<I;r++){const B=this._outgoingEvents[r].kind===i.kind?this._outgoingEvents[r].attemptToMerge(i):null;if(B)return void(this._outgoingEvents[r]=B)}this._outgoingEvents.push(i)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const i=this._outgoingEvents.shift();i.isNoOp()||this._onEvent.fire(i)}}addViewEventHandler(i){for(let r=0,I=this._eventHandlers.length;r<I;r++)this._eventHandlers[r]===i&&console.warn("Detected duplicate listener in ViewEventDispatcher",i);this._eventHandlers.push(i)}removeViewEventHandler(i){for(let r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r]===i){this._eventHandlers.splice(r,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Ti),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const i=this._collector.outgoingEvents,r=this._collector.viewEvents;this._collector=null;for(const I of i)this._addOutgoingEvent(I);r.length>0&&this._emitMany(r)}this._emitOutgoingEvents()}emitSingleViewEvent(i){try{this.beginEmitViewEvents().emitViewEvent(i)}finally{this.endEmitViewEvents()}}_emitMany(i){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(i):i,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const i=this._viewEventQueue;this._viewEventQueue=null;const r=this._eventHandlers.slice(0);for(const I of r)I.handleEvents(i)}}}class Ti{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(i){this.viewEvents.push(i)}emitOutgoingEvent(i){this.outgoingEvents.push(i)}}class ki{constructor(i,r,I,B){this.kind=0,this._oldContentWidth=i,this._oldContentHeight=r,this.contentWidth=I,this.contentHeight=B,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(i){return i.kind!==this.kind?null:new ki(this._oldContentWidth,this._oldContentHeight,i.contentWidth,i.contentHeight)}}class ji{constructor(i,r){this.kind=1,this.oldHasFocus=i,this.hasFocus=r}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(i){return i.kind!==this.kind?null:new ji(this.oldHasFocus,i.hasFocus)}}class co{constructor(i,r,I,B,X,Le,Be,lt){this.kind=2,this._oldScrollWidth=i,this._oldScrollLeft=r,this._oldScrollHeight=I,this._oldScrollTop=B,this.scrollWidth=X,this.scrollLeft=Le,this.scrollHeight=Be,this.scrollTop=lt,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(i){return i.kind!==this.kind?null:new co(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,i.scrollWidth,i.scrollLeft,i.scrollHeight,i.scrollTop)}}class bo{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Lo{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class yo{constructor(i,r,I,B,X,Le,Be){this.kind=6,this.oldSelections=i,this.selections=r,this.oldModelVersionId=I,this.modelVersionId=B,this.source=X,this.reason=Le,this.reachedMaxCursorCount=Be}static _selectionsAreEqual(i,r){if(!i&&!r)return!0;if(!i||!r)return!1;const I=i.length;if(I!==r.length)return!1;for(let X=0;X<I;X++)if(!i[X].equalsSelection(r[X]))return!1;return!0}isNoOp(){return yo._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(i){return i.kind!==this.kind?null:new yo(this.oldSelections,i.selections,this.oldModelVersionId,i.modelVersionId,i.source,i.reason,this.reachedMaxCursorCount||i.reachedMaxCursorCount)}}class oo{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Vo{constructor(i){this.event=i,this.kind=7}isNoOp(){return!1}attemptToMerge(i){return null}}class No{constructor(i){this.event=i,this.kind=8}isNoOp(){return!1}attemptToMerge(i){return null}}class po{constructor(i){this.event=i,this.kind=9}isNoOp(){return!1}attemptToMerge(i){return null}}class Ji{constructor(i){this.event=i,this.kind=10}isNoOp(){return!1}attemptToMerge(i){return null}}class vo{constructor(i){this.event=i,this.kind=11}isNoOp(){return!1}attemptToMerge(i){return null}}class ko{constructor(i){this.event=i,this.kind=12}isNoOp(){return!1}attemptToMerge(i){return null}}let Wo=(()=>{class Wt extends V.JT{constructor(r,I,B,X){super(),this._model=r,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=I,this._coordinatesConverter=B,this.context=new Ui(this._model,this._viewModel,this._coordinatesConverter,X),this._cursors=new Or(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,V.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(r){this.context=new Ui(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors.updateContext(this.context)}onLineMappingChanged(r){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(r,"viewModel",0,this.getCursorStates())}setHasFocus(r){this._hasFocus=r}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const r=this._cursors.getSelections();for(let I=0;I<this._autoClosedActions.length;I++){const B=this._autoClosedActions[I];B.isValid(r)||(B.dispose(),this._autoClosedActions.splice(I,1),I--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(r,I,B,X){let Le=!1;null!==X&&X.length>Wt.MAX_CURSOR_COUNT&&(X=X.slice(0,Wt.MAX_CURSOR_COUNT),Le=!0);const Be=qo.from(this._model,this);return this._cursors.setStates(X),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,I,B,Be,Le)}setCursorColumnSelectData(r){this._columnSelectData=r}revealPrimary(r,I,B,X,Le,Be){const lt=this._cursors.getViewPositions();let wt=null,Nt=null;lt.length>1?Nt=this._cursors.getViewSelections():wt=be.e.fromPositions(lt[0],lt[0]),r.emitViewEvent(new zt(I,B,wt,Nt,X,Le,Be))}saveState(){const r=[],I=this._cursors.getSelections();for(let B=0,X=I.length;B<X;B++){const Le=I[B];r.push({inSelectionMode:!Le.isEmpty(),selectionStart:{lineNumber:Le.selectionStartLineNumber,column:Le.selectionStartColumn},position:{lineNumber:Le.positionLineNumber,column:Le.positionColumn}})}return r}restoreState(r,I){const B=[];for(let X=0,Le=I.length;X<Le;X++){const Be=I[X];let lt=1,wt=1;Be.position&&Be.position.lineNumber&&(lt=Be.position.lineNumber),Be.position&&Be.position.column&&(wt=Be.position.column);let Nt=lt,Zt=wt;Be.selectionStart&&Be.selectionStart.lineNumber&&(Nt=Be.selectionStart.lineNumber),Be.selectionStart&&Be.selectionStart.column&&(Zt=Be.selectionStart.column),B.push({selectionStartLineNumber:Nt,selectionStartColumn:Zt,positionLineNumber:lt,positionColumn:wt})}this.setStates(r,"restoreState",0,es.Vi.fromModelSelections(B)),this.revealPrimary(r,"restoreState",!1,0,!0,1)}onModelContentChanged(r,I){if(I instanceof Xs.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(r,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const B=I.rawContentChangedEvent;if(this._knownModelVersionId=B.versionId,this._isHandling)return;const X=B.containsEvent(1);if(this._prevEditOperationType=0,X)this._cursors.dispose(),this._cursors=new Or(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,"model",1,null,!1);else if(this._hasFocus&&B.resultingSelection&&B.resultingSelection.length>0){const Le=es.Vi.fromModelSelections(B.resultingSelection);this.setStates(r,"modelChange",B.isUndoing?5:B.isRedoing?6:2,Le)&&this.revealPrimary(r,"modelChange",!1,0,!0,0)}else{const Le=this._cursors.readSelectionFromMarkers();this.setStates(r,"modelChange",2,es.Vi.fromModelSelections(Le))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const r=this._cursors.getPrimaryCursor(),I=r.viewState.selectionStart.getStartPosition(),B=r.viewState.position;return{isReal:!1,fromViewLineNumber:I.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,I),toViewLineNumber:B.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,B)}}getSelections(){return this._cursors.getSelections()}setSelections(r,I,B,X){this.setStates(r,I,X,es.Vi.fromModelSelections(B))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(r){this._prevEditOperationType=r}_pushAutoClosedAction(r,I){const B=[],X=[];for(let lt=0,wt=r.length;lt<wt;lt++)B.push({range:r[lt],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),X.push({range:I[lt],options:{description:"auto-closed-enclosing",stickiness:1}});const Le=this._model.deltaDecorations([],B),Be=this._model.deltaDecorations([],X);this._autoClosedActions.push(new So(this._model,Le,Be))}_executeEditOperation(r){if(!r)return;r.shouldPushStackElementBefore&&this._model.pushStackElement();const I=ns.executeCommands(this._model,this._cursors.getSelections(),r.commands);if(I){this._interpretCommandResult(I);const B=[],X=[];for(let Le=0;Le<r.commands.length;Le++){const Be=r.commands[Le];Be instanceof Jo.g_&&Be.enclosingRange&&Be.closeCharacterRange&&(B.push(Be.closeCharacterRange),X.push(Be.enclosingRange))}B.length>0&&this._pushAutoClosedAction(B,X),this._prevEditOperationType=r.type}r.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(r){(!r||0===r.length)&&(r=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(r),this._cursors.normalize()}_emitStateChangedIfNecessary(r,I,B,X,Le){const Be=qo.from(this._model,this);if(Be.equals(X))return!1;const lt=this._cursors.getSelections(),wt=this._cursors.getViewSelections();if(r.emitViewEvent(new da(wt,lt)),!X||X.cursorState.length!==Be.cursorState.length||Be.cursorState.some((Nt,Zt)=>!Nt.modelState.equals(X.cursorState[Zt].modelState))){const Nt=X?X.cursorState.map(ln=>ln.modelState.selection):null;r.emitOutgoingEvent(new yo(Nt,lt,X?X.modelVersionId:0,Be.modelVersionId,I||"keyboard",B,Le))}return!0}_findAutoClosingPairs(r){if(!r.length)return null;const I=[];for(let B=0,X=r.length;B<X;B++){const Le=r[B];if(!Le.text||Le.text.indexOf("\n")>=0)return null;const Be=Le.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Be)return null;const wt=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Be[1]);if(!wt||1!==wt.length)return null;const Zt=Le.text.length-Be[2].length-1,ln=Le.text.lastIndexOf(wt[0].open,Zt-1);if(-1===ln)return null;I.push([ln,Zt])}return I}executeEdits(r,I,B,X){let Le=null;"snippet"===I&&(Le=this._findAutoClosingPairs(B)),Le&&(B[0]._isTracked=!0);const Be=[],lt=[],wt=this._model.pushEditOperations(this.getSelections(),B,Nt=>{if(Le)for(let ln=0,hn=Le.length;ln<hn;ln++){const[Fn,$n]=Le[ln],Zn=Nt[ln],ai=Zn.range.startLineNumber,vi=Zn.range.startColumn-1+Fn,yi=Zn.range.startColumn-1+$n;Be.push(new be.e(ai,yi+1,ai,yi+2)),lt.push(new be.e(ai,vi+1,ai,yi+2))}const Zt=X(Nt);return Zt&&(this._isHandling=!0),Zt});wt&&(this._isHandling=!1,this.setSelections(r,I,wt,0)),Be.length>0&&this._pushAutoClosedAction(Be,lt)}_executeEdit(r,I,B,X=0){if(this.context.cursorConfig.readOnly)return;const Le=qo.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),r()}catch(Be){(0,P.dL)(Be)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(I,B,X,Le,!1)&&this.revealPrimary(I,B,!1,0,!0,0)}getAutoClosedCharacters(){return So.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(r){this._compositionState=new Zo(this._model,this.getSelections())}endComposition(r,I){const B=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{"keyboard"===I&&this._executeEditOperation(Jo.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,B,this.getSelections(),this.getAutoClosedCharacters()))},r,I)}type(r,I,B){this._executeEdit(()=>{if("keyboard"===B){const X=I.length;let Le=0;for(;Le<X;){const Be=mn.vH(I,Le),lt=I.substr(Le,Be);this._executeEditOperation(Jo.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),lt)),Le+=Be}}else this._executeEditOperation(Jo.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),I))},r,B)}compositionType(r,I,B,X,Le,Be){if(0!==I.length||0!==B||0!==X)this._executeEdit(()=>{this._executeEditOperation(Jo.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),I,B,X,Le))},r,Be);else if(0!==Le){const lt=this.getSelections().map(wt=>{const Nt=wt.getPosition();return new Ve.Y(Nt.lineNumber,Nt.column+Le,Nt.lineNumber,Nt.column+Le)});this.setSelections(r,Be,lt,0)}}paste(r,I,B,X,Le){this._executeEdit(()=>{this._executeEditOperation(Jo.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),I,B,X||[]))},r,Le,4)}cut(r,I){this._executeEdit(()=>{this._executeEditOperation(Va.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},r,I)}executeCommand(r,I,B){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new es.Tp(0,[I],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,B)}executeCommands(r,I,B){this._executeEdit(()=>{this._executeEditOperation(new es.Tp(0,I,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,B)}}return Wt.MAX_CURSOR_COUNT=1e4,Wt})();class qo{constructor(i,r){this.modelVersionId=i,this.cursorState=r}static from(i,r){return new qo(i.getVersionId(),r.getCursorStates())}equals(i){if(!i||this.modelVersionId!==i.modelVersionId||this.cursorState.length!==i.cursorState.length)return!1;for(let r=0,I=this.cursorState.length;r<I;r++)if(!this.cursorState[r].equals(i.cursorState[r]))return!1;return!0}}class So{constructor(i,r,I){this._model=i,this._autoClosedCharactersDecorations=r,this._autoClosedEnclosingDecorations=I}static getAllAutoClosedCharacters(i){let r=[];for(const I of i)r=r.concat(I.getAutoClosedCharactersRanges());return r}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const i=[];for(let r=0;r<this._autoClosedCharactersDecorations.length;r++){const I=this._model.getDecorationRange(this._autoClosedCharactersDecorations[r]);I&&i.push(I)}return i}isValid(i){const r=[];for(let I=0;I<this._autoClosedEnclosingDecorations.length;I++){const B=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[I]);if(B&&(r.push(B),B.startLineNumber!==B.endLineNumber))return!1}r.sort(be.e.compareRangesUsingStarts),i.sort(be.e.compareRangesUsingStarts);for(let I=0;I<i.length;I++)if(I>=r.length||!r[I].strictContainsRange(i[I]))return!1;return!0}}class ns{static executeCommands(i,r,I){const B={model:i,selectionsBefore:r,trackedRanges:[],trackedRangesDirection:[]},X=this._innerExecuteCommands(B,I);for(let Le=0,Be=B.trackedRanges.length;Le<Be;Le++)B.model._setTrackedRange(B.trackedRanges[Le],null,0);return X}static _innerExecuteCommands(i,r){if(this._arrayIsEmpty(r))return null;const I=this._getEditOperations(i,r);if(0===I.operations.length)return null;const B=I.operations,X=this._getLoserCursorMap(B);if(X.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Le=[];for(let wt=0,Nt=B.length;wt<Nt;wt++)X.hasOwnProperty(B[wt].identifier.major.toString())||Le.push(B[wt]);I.hadTrackedEditOperation&&Le.length>0&&(Le[0]._isTracked=!0);let Be=i.model.pushEditOperations(i.selectionsBefore,Le,wt=>{const Nt=[];for(let hn=0;hn<i.selectionsBefore.length;hn++)Nt[hn]=[];for(const hn of wt)!hn.identifier||Nt[hn.identifier.major].push(hn);const Zt=(hn,Fn)=>hn.identifier.minor-Fn.identifier.minor,ln=[];for(let hn=0;hn<i.selectionsBefore.length;hn++)Nt[hn].length>0?(Nt[hn].sort(Zt),ln[hn]=r[hn].computeCursorState(i.model,{getInverseEditOperations:()=>Nt[hn],getTrackedSelection:Fn=>{const $n=parseInt(Fn,10),Zn=i.model._getTrackedRange(i.trackedRanges[$n]);return 0===i.trackedRangesDirection[$n]?new Ve.Y(Zn.startLineNumber,Zn.startColumn,Zn.endLineNumber,Zn.endColumn):new Ve.Y(Zn.endLineNumber,Zn.endColumn,Zn.startLineNumber,Zn.startColumn)}})):ln[hn]=i.selectionsBefore[hn];return ln});Be||(Be=i.selectionsBefore);const lt=[];for(const wt in X)X.hasOwnProperty(wt)&&lt.push(parseInt(wt,10));lt.sort((wt,Nt)=>Nt-wt);for(const wt of lt)Be.splice(wt,1);return Be}static _arrayIsEmpty(i){for(let r=0,I=i.length;r<I;r++)if(i[r])return!1;return!0}static _getEditOperations(i,r){let I=[],B=!1;for(let X=0,Le=r.length;X<Le;X++){const Be=r[X];if(Be){const lt=this._getEditOperationsFromCommand(i,X,Be);I=I.concat(lt.operations),B=B||lt.hadTrackedEditOperation}}return{operations:I,hadTrackedEditOperation:B}}static _getEditOperationsFromCommand(i,r,I){const B=[];let X=0;const Le=(Zt,ln,hn=!1)=>{be.e.isEmpty(Zt)&&""===ln||B.push({identifier:{major:r,minor:X++},range:Zt,text:ln,forceMoveMarkers:hn,isAutoWhitespaceEdit:I.insertsAutoWhitespace})};let Be=!1;const Nt={addEditOperation:Le,addTrackedEditOperation:(Zt,ln,hn)=>{Be=!0,Le(Zt,ln,hn)},trackSelection:(Zt,ln)=>{const hn=Ve.Y.liftSelection(Zt);let Fn;if(hn.isEmpty())if("boolean"==typeof ln)Fn=ln?2:3;else{const ai=i.model.getLineMaxColumn(hn.startLineNumber);Fn=hn.startColumn===ai?2:3}else Fn=1;const $n=i.trackedRanges.length,Zn=i.model._setTrackedRange(null,hn,Fn);return i.trackedRanges[$n]=Zn,i.trackedRangesDirection[$n]=hn.getDirection(),$n.toString()}};try{I.getEditOperations(i.model,Nt)}catch(Zt){return(0,P.dL)(Zt),{operations:[],hadTrackedEditOperation:!1}}return{operations:B,hadTrackedEditOperation:Be}}static _getLoserCursorMap(i){(i=i.slice(0)).sort((I,B)=>-be.e.compareRangesUsingEnds(I.range,B.range));const r={};for(let I=1;I<i.length;I++){const B=i[I-1],X=i[I];if(be.e.getStartPosition(B.range).isBefore(be.e.getEndPosition(X.range))){let Le;Le=B.identifier.major>X.identifier.major?B.identifier.major:X.identifier.major,r[Le.toString()]=!0;for(let Be=0;Be<i.length;Be++)i[Be].identifier.major===Le&&(i.splice(Be,1),Be<I&&I--,Be--);I>0&&I--}}return r}}class Rs{constructor(i,r,I){this.text=i,this.startSelection=r,this.endSelection=I}}class Zo{constructor(i,r){this._original=Zo._capture(i,r)}static _capture(i,r){const I=[];for(const B of r){if(B.startLineNumber!==B.endLineNumber)return null;I.push(new Rs(i.getLineContent(B.startLineNumber),B.startColumn-1,B.endColumn-1))}return I}deduceOutcome(i,r){if(!this._original)return null;const I=Zo._capture(i,r);if(!I||this._original.length!==I.length)return null;const B=[];for(let X=0,Le=this._original.length;X<Le;X++)B.push(Zo._deduceOutcome(this._original[X],I[X]));return B}static _deduceOutcome(i,r){const I=Math.min(i.startSelection,r.startSelection,mn.Mh(i.text,r.text)),B=Math.min(i.text.length-i.endSelection,r.text.length-r.endSelection,mn.P1(i.text,r.text)),X=i.text.substring(I,i.text.length-B),Le=r.text.substring(I,r.text.length-B);return new Jo.Nu(X,i.startSelection-I,i.endSelection-I,Le,r.startSelection-I,r.endSelection-I)}}var Fs=e(58397),Os=e(22859),Ro=e(82290),Js=e(59758),Us=e(72188),Ir=e(90076),zr=e(87188);class Kr{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(i){this._hasPending=!0,this._inserts.push(i)}change(i){this._hasPending=!0,this._changes.push(i)}remove(i){this._hasPending=!0,this._removes.push(i)}mustCommit(){return this._hasPending}commit(i){if(!this._hasPending)return;const r=this._inserts,I=this._changes,B=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],i._commitPendingChanges(r,I,B)}}class Sa{constructor(i,r,I,B,X){this.id=i,this.afterLineNumber=r,this.ordinal=I,this.height=B,this.minWidth=X,this.prefixSum=0}}let wa=(()=>{class Wt{constructor(r,I,B,X){this._instanceId=mn.PJ(++Wt.INSTANCE_COUNT),this._pendingChanges=new Kr,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=r,this._lineHeight=I,this._paddingTop=B,this._paddingBottom=X}static findInsertionIndex(r,I,B){let X=0,Le=r.length;for(;X<Le;){const Be=X+Le>>>1;I===r[Be].afterLineNumber?B<r[Be].ordinal?Le=Be:X=Be+1:I<r[Be].afterLineNumber?Le=Be:X=Be+1}return X}setLineHeight(r){this._checkPendingChanges(),this._lineHeight=r}setPadding(r,I){this._paddingTop=r,this._paddingBottom=I}onFlushed(r){this._checkPendingChanges(),this._lineCount=r}changeWhitespace(r){let I=!1;try{r({insertWhitespace:(X,Le,Be,lt)=>{I=!0,X|=0,Le|=0,Be|=0,lt|=0;const wt=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Sa(wt,X,Le,Be,lt)),wt},changeOneWhitespace:(X,Le,Be)=>{I=!0,this._pendingChanges.change({id:X,newAfterLineNumber:Le|=0,newHeight:Be|=0})},removeWhitespace:X=>{I=!0,this._pendingChanges.remove({id:X})}})}finally{this._pendingChanges.commit(this)}return I}_commitPendingChanges(r,I,B){if((r.length>0||B.length>0)&&(this._minWidth=-1),r.length+I.length+B.length<=1){for(const wt of r)this._insertWhitespace(wt);for(const wt of I)this._changeOneWhitespace(wt.id,wt.newAfterLineNumber,wt.newHeight);for(const wt of B){const Nt=this._findWhitespaceIndex(wt.id);-1!==Nt&&this._removeWhitespace(Nt)}return}const X=new Set;for(const wt of B)X.add(wt.id);const Le=new Map;for(const wt of I)Le.set(wt.id,wt);const Be=wt=>{const Nt=[];for(const Zt of wt)if(!X.has(Zt.id)){if(Le.has(Zt.id)){const ln=Le.get(Zt.id);Zt.afterLineNumber=ln.newAfterLineNumber,Zt.height=ln.newHeight}Nt.push(Zt)}return Nt},lt=Be(this._arr).concat(Be(r));lt.sort((wt,Nt)=>wt.afterLineNumber===Nt.afterLineNumber?wt.ordinal-Nt.ordinal:wt.afterLineNumber-Nt.afterLineNumber),this._arr=lt,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(r){const I=Wt.findInsertionIndex(this._arr,r.afterLineNumber,r.ordinal);this._arr.splice(I,0,r),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,I-1)}_findWhitespaceIndex(r){const I=this._arr;for(let B=0,X=I.length;B<X;B++)if(I[B].id===r)return B;return-1}_changeOneWhitespace(r,I,B){const X=this._findWhitespaceIndex(r);if(-1!==X&&(this._arr[X].height!==B&&(this._arr[X].height=B,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,X-1)),this._arr[X].afterLineNumber!==I)){const Le=this._arr[X];this._removeWhitespace(X),Le.afterLineNumber=I,this._insertWhitespace(Le)}}_removeWhitespace(r){this._arr.splice(r,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)}onLinesDeleted(r,I){this._checkPendingChanges(),this._lineCount-=(I|=0)-(r|=0)+1;for(let B=0,X=this._arr.length;B<X;B++){const Le=this._arr[B].afterLineNumber;r<=Le&&Le<=I?this._arr[B].afterLineNumber=r-1:Le>I&&(this._arr[B].afterLineNumber-=I-r+1)}}onLinesInserted(r,I){this._checkPendingChanges(),this._lineCount+=(I|=0)-(r|=0)+1;for(let B=0,X=this._arr.length;B<X;B++)r<=this._arr[B].afterLineNumber&&(this._arr[B].afterLineNumber+=I-r+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(r){this._checkPendingChanges(),r|=0;let I=Math.max(0,this._prefixSumValidIndex+1);0===I&&(this._arr[0].prefixSum=this._arr[0].height,I++);for(let B=I;B<=r;B++)this._arr[B].prefixSum=this._arr[B-1].prefixSum+this._arr[B].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,r),this._arr[r].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(r){this._checkPendingChanges();const I=this._findLastWhitespaceBeforeLineNumber(r|=0);return-1===I?0:this.getWhitespacesAccumulatedHeight(I)}_findLastWhitespaceBeforeLineNumber(r){r|=0;const I=this._arr;let B=0,X=I.length-1;for(;B<=X;){const lt=B+((X-B|0)/2|0)|0;if(I[lt].afterLineNumber<r){if(lt+1>=I.length||I[lt+1].afterLineNumber>=r)return lt;B=lt+1|0}else X=lt-1|0}return-1}_findFirstWhitespaceAfterLineNumber(r){const B=this._findLastWhitespaceBeforeLineNumber(r|=0)+1;return B<this._arr.length?B:-1}getFirstWhitespaceIndexAfterLineNumber(r){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(r|=0)}getVerticalOffsetForLineNumber(r,I=!1){let B;return this._checkPendingChanges(),B=(r|=0)>1?this._lineHeight*(r-1):0,B+this.getWhitespaceAccumulatedHeightBeforeLineNumber(r-(I?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(r,I=!1){return this._checkPendingChanges(),this._lineHeight*(r|=0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(r+(I?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let r=0;for(let I=0,B=this._arr.length;I<B;I++)r=Math.max(r,this._arr[I].minWidth);this._minWidth=r}return this._minWidth}isAfterLines(r){return this._checkPendingChanges(),r>this.getLinesTotalHeight()}isInTopPadding(r){return 0!==this._paddingTop&&(this._checkPendingChanges(),r<this._paddingTop)}isInBottomPadding(r){return 0!==this._paddingBottom&&(this._checkPendingChanges(),r>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(r){if(this._checkPendingChanges(),(r|=0)<0)return 1;const I=0|this._lineCount,B=this._lineHeight;let X=1,Le=I;for(;X<Le;){const Be=(X+Le)/2|0,lt=0|this.getVerticalOffsetForLineNumber(Be);if(r>=lt+B)X=Be+1;else{if(r>=lt)return Be;Le=Be}}return X>I?I:X}getLinesViewportData(r,I){this._checkPendingChanges(),I|=0;const B=this._lineHeight,X=0|this.getLineNumberAtOrAfterVerticalOffset(r|=0),Le=0|this.getVerticalOffsetForLineNumber(X);let Be=0|this._lineCount,lt=0|this.getFirstWhitespaceIndexAfterLineNumber(X);const wt=0|this.getWhitespacesCount();let Nt,Zt;-1===lt?(lt=wt,Zt=Be+1,Nt=0):(Zt=0|this.getAfterLineNumberForWhitespaceIndex(lt),Nt=0|this.getHeightForWhitespaceIndex(lt));let ln=Le,hn=ln;const Fn=5e5;let $n=0;Le>=Fn&&($n=Math.floor(Le/Fn)*Fn,$n=Math.floor($n/B)*B,hn-=$n);const Zn=[],ai=r+(I-r)/2;let vi=-1;for(let Zi=X;Zi<=Be;Zi++){if(-1===vi){const eo=ln,Hi=ln+B;(eo<=ai&&ai<Hi||eo>ai)&&(vi=Zi)}for(ln+=B,Zn[Zi-X]=hn,hn+=B;Zt===Zi;)hn+=Nt,ln+=Nt,lt++,lt>=wt?Zt=Be+1:(Zt=0|this.getAfterLineNumberForWhitespaceIndex(lt),Nt=0|this.getHeightForWhitespaceIndex(lt));if(ln>=I){Be=Zi;break}}-1===vi&&(vi=Be);const yi=0|this.getVerticalOffsetForLineNumber(Be);let Vi=X,Xi=Be;return Vi<Xi&&Le<r&&Vi++,Vi<Xi&&yi+B>I&&Xi--,{bigNumbersDelta:$n,startLineNumber:X,endLineNumber:Be,relativeVerticalOffset:Zn,centeredLineNumber:vi,completelyVisibleStartLineNumber:Vi,completelyVisibleEndLineNumber:Xi}}getVerticalOffsetForWhitespaceIndex(r){this._checkPendingChanges();const I=this.getAfterLineNumberForWhitespaceIndex(r|=0);let B,X;return B=I>=1?this._lineHeight*I:0,X=r>0?this.getWhitespacesAccumulatedHeight(r-1):0,B+X+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(r){this._checkPendingChanges(),r|=0;let I=0,B=this.getWhitespacesCount()-1;if(B<0)return-1;if(r>=this.getVerticalOffsetForWhitespaceIndex(B)+this.getHeightForWhitespaceIndex(B))return-1;for(;I<B;){const Be=Math.floor((I+B)/2),lt=this.getVerticalOffsetForWhitespaceIndex(Be);if(r>=lt+this.getHeightForWhitespaceIndex(Be))I=Be+1;else{if(r>=lt)return Be;B=Be}}return I}getWhitespaceAtVerticalOffset(r){this._checkPendingChanges();const I=this.getWhitespaceIndexAtOrAfterVerticallOffset(r|=0);if(I<0||I>=this.getWhitespacesCount())return null;const B=this.getVerticalOffsetForWhitespaceIndex(I);if(B>r)return null;const X=this.getHeightForWhitespaceIndex(I);return{id:this.getIdForWhitespaceIndex(I),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(I),verticalOffset:B,height:X}}getWhitespaceViewportData(r,I){this._checkPendingChanges(),I|=0;const B=this.getWhitespaceIndexAtOrAfterVerticallOffset(r|=0),X=this.getWhitespacesCount()-1;if(B<0)return[];const Le=[];for(let Be=B;Be<=X;Be++){const lt=this.getVerticalOffsetForWhitespaceIndex(Be),wt=this.getHeightForWhitespaceIndex(Be);if(lt>=I)break;Le.push({id:this.getIdForWhitespaceIndex(Be),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Be),verticalOffset:lt,height:wt})}return Le}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(r){return this._checkPendingChanges(),this._arr[r|=0].id}getAfterLineNumberForWhitespaceIndex(r){return this._checkPendingChanges(),this._arr[r|=0].afterLineNumber}getHeightForWhitespaceIndex(r){return this._checkPendingChanges(),this._arr[r|=0].height}}return Wt.INSTANCE_COUNT=0,Wt})();class ca{constructor(i,r,I,B){(i|=0)<0&&(i=0),(r|=0)<0&&(r=0),(I|=0)<0&&(I=0),(B|=0)<0&&(B=0),this.width=i,this.contentWidth=r,this.scrollWidth=Math.max(i,r),this.height=I,this.contentHeight=B,this.scrollHeight=Math.max(I,B)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class Da extends V.JT{constructor(i,r){super(),this._onDidContentSizeChange=this._register(new O.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new ca(0,0,0,0),this._scrollable=this._register(new zr.Rm({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:r})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const r=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0),(r.contentWidth!==i.contentWidth||r.contentHeight!==i.contentHeight)&&this._onDidContentSizeChange.fire(new ki(r.contentWidth,r.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}}class Ea extends V.JT{constructor(i,r,I){super(),this._configuration=i;const B=this._configuration.options,X=B.get(133),Le=B.get(77);this._linesLayout=new wa(r,B.get(61),Le.top,Le.bottom),this._scrollable=this._register(new Da(0,I)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new ca(X.contentWidth,0,X.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?125:0)}onConfigurationChanged(i){const r=this._configuration.options;if(i.hasChanged(61)&&this._linesLayout.setLineHeight(r.get(61)),i.hasChanged(77)){const I=r.get(77);this._linesLayout.setPadding(I.top,I.bottom)}if(i.hasChanged(133)){const I=r.get(133),B=I.contentWidth,X=I.height,Le=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new ca(B,Le.contentWidth,X,this._getContentHeight(B,X,Le.contentWidth)))}else this._updateHeight();i.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,r){this._linesLayout.onLinesDeleted(i,r)}onLinesInserted(i,r){this._linesLayout.onLinesInserted(i,r)}_getHorizontalScrollbarHeight(i,r){const B=this._configuration.options.get(94);return 2===B.horizontal||i>=r?0:B.horizontalScrollbarSize}_getContentHeight(i,r,I){const B=this._configuration.options;let X=this._linesLayout.getLinesTotalHeight();return B.get(96)?X+=Math.max(0,r-B.get(61)-B.get(77).bottom):X+=this._getHorizontalScrollbarHeight(i,I),X}_updateHeight(){const i=this._scrollable.getScrollDimensions(),r=i.width,I=i.height;this._scrollable.setScrollDimensions(new ca(r,i.contentWidth,I,this._getContentHeight(r,I,i.contentWidth)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),r=this._scrollable.getCurrentScrollPosition();return new Ds.l_(r.scrollTop,r.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),r=this._scrollable.getFutureScrollPosition();return new Ds.l_(r.scrollTop,r.scrollLeft,i.width,i.height)}_computeContentWidth(i){const r=this._configuration.options,I=r.get(134),B=r.get(46),X=r.get(133);if(I.isViewportWrapping){const Le=r.get(67);return i>X.contentWidth+B.typicalHalfwidthCharacterWidth&&Le.enabled&&"right"===Le.side?i+X.verticalScrollbarWidth:i}{const Le=r.get(95)*B.typicalHalfwidthCharacterWidth,Be=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+Le+X.verticalScrollbarWidth,Be)}}setMaxLineWidth(i){const r=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new ca(r.width,this._computeContentWidth(i),r.height,r.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),r=i.scrollTop,I=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r);return{scrollTop:r,scrollTopWithoutViewZones:r-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(I),scrollLeft:i.scrollLeft}}changeWhitespace(i){const r=this._linesLayout.changeWhitespace(i);return r&&this.onHeightMaybeChanged(),r}getVerticalOffsetForLineNumber(i,r=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,r)}getVerticalOffsetAfterLineNumber(i,r=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,r)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const r=this._scrollable.getScrollDimensions();return i+r.height>r.scrollHeight&&(i=r.scrollHeight-r.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+r.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,r){1===r?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}deltaScrollNow(i,r){const I=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:I.scrollLeft+i,scrollTop:I.scrollTop+r})}}var ua=e(53931),Ua=e(71513);function La(Wt,i){return null===Wt?i?xa.INSTANCE:Xr.INSTANCE:new kr(Wt,i)}class kr{constructor(i,r){this._projectionData=i,this._isVisible=r}isVisible(){return this._isVisible}setVisible(i){return this._isVisible=i,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(i,r,I){this._assertVisible();const B=I>0?this._projectionData.breakOffsets[I-1]:0,X=this._projectionData.breakOffsets[I];let Le;if(null!==this._projectionData.injectionOffsets){const Be=this._projectionData.injectionOffsets.map((wt,Nt)=>new Xs.gk(0,0,wt+1,this._projectionData.injectionOptions[Nt],0));Le=Xs.gk.applyInjectedText(i.getLineContent(r),Be).substring(B,X)}else Le=i.getValueInRange({startLineNumber:r,startColumn:B+1,endLineNumber:r,endColumn:X+1});return I>0&&(Le=Ia(this._projectionData.wrappedTextIndentLength)+Le),Le}getViewLineLength(i,r,I){return this._assertVisible(),this._projectionData.getLineLength(I)}getViewLineMinColumn(i,r,I){return this._assertVisible(),this._projectionData.getMinOutputOffset(I)+1}getViewLineMaxColumn(i,r,I){return this._assertVisible(),this._projectionData.getMaxOutputOffset(I)+1}getViewLineData(i,r,I){const B=new Array;return this.getViewLinesData(i,r,I,1,0,[!0],B),B[0]}getViewLinesData(i,r,I,B,X,Le,Be){this._assertVisible();const lt=this._projectionData,wt=lt.injectionOffsets,Nt=lt.injectionOptions;let ln,Zt=null;if(wt){Zt=[];let hn=0,Fn=0;for(let $n=0;$n<lt.getOutputLineCount();$n++){const Zn=new Array;Zt[$n]=Zn;const ai=$n>0?lt.breakOffsets[$n-1]:0,vi=lt.breakOffsets[$n];for(;Fn<wt.length;){const yi=Nt[Fn].content.length,Vi=wt[Fn]+hn,Xi=Vi+yi;if(Vi>vi)break;if(ai<Xi){const Zi=Nt[Fn];if(Zi.inlineClassName){const eo=$n>0?lt.wrappedTextIndentLength:0,Hi=eo+Math.max(Vi-ai,0),ao=eo+Math.min(Xi-ai,vi);Hi!==ao&&Zn.push(new Ds.Wx(Hi,ao,Zi.inlineClassName,Zi.inlineClassNameAffectsLetterSpacing))}}if(!(Xi<=vi))break;hn+=yi,Fn++}}}ln=wt?i.tokenization.getLineTokens(r).withInserted(wt.map((hn,Fn)=>({offset:hn,text:Nt[Fn].content,tokenMetadata:Ua.A.defaultTokenMetadata}))):i.tokenization.getLineTokens(r);for(let hn=I;hn<I+B;hn++){const Fn=X+hn-I;Be[Fn]=Le[Fn]?this._getViewLineData(ln,Zt?Zt[hn]:null,hn):null}}_getViewLineData(i,r,I){this._assertVisible();const B=this._projectionData,lt=i.sliceAndInflate(I>0?B.breakOffsets[I-1]:0,B.breakOffsets[I],I>0?B.wrappedTextIndentLength:0);let wt=lt.getLineContent();I>0&&(wt=Ia(B.wrappedTextIndentLength)+wt);const Nt=this._projectionData.getMinOutputOffset(I)+1,Zt=wt.length+1,ln=I+1<this.getViewLineCount();return new Ds.IP(wt,ln,Nt,Zt,0===I?0:B.breakOffsetsVisibleColumn[I-1],lt,r)}getModelColumnOfViewPosition(i,r){return this._assertVisible(),this._projectionData.translateToInputOffset(i,r-1)+1}getViewPositionOfModelPosition(i,r,I=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(r-1,I).toPosition(i)}getViewLineNumberOfModelPosition(i,r){return this._assertVisible(),i+this._projectionData.translateToOutputPosition(r-1).outputLineIndex}normalizePosition(i,r,I){const B=r.lineNumber-i;return this._projectionData.normalizeOutputPosition(i,r.column-1,I).toPosition(B)}getInjectedTextAt(i,r){return this._projectionData.getInjectedText(i,r-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class xa{constructor(){}isVisible(){return!0}setVisible(i){return i?this:Xr.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(i,r,I){return i.getLineContent(r)}getViewLineLength(i,r,I){return i.getLineLength(r)}getViewLineMinColumn(i,r,I){return i.getLineMinColumn(r)}getViewLineMaxColumn(i,r,I){return i.getLineMaxColumn(r)}getViewLineData(i,r,I){const B=i.tokenization.getLineTokens(r),X=B.getLineContent();return new Ds.IP(X,!1,1,X.length+1,0,B.inflate(),null)}getViewLinesData(i,r,I,B,X,Le,Be){Be[X]=Le[X]?this.getViewLineData(i,r,0):null}getModelColumnOfViewPosition(i,r){return r}getViewPositionOfModelPosition(i,r){return new ue.L(i,r)}getViewLineNumberOfModelPosition(i,r){return i}normalizePosition(i,r,I){return r}getInjectedTextAt(i,r){return null}}xa.INSTANCE=new xa;class Xr{constructor(){}isVisible(){return!1}setVisible(i){return i?xa.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(i,r,I){throw new Error("Not supported")}getViewLineLength(i,r,I){throw new Error("Not supported")}getViewLineMinColumn(i,r,I){throw new Error("Not supported")}getViewLineMaxColumn(i,r,I){throw new Error("Not supported")}getViewLineData(i,r,I){throw new Error("Not supported")}getViewLinesData(i,r,I,B,X,Le,Be){throw new Error("Not supported")}getModelColumnOfViewPosition(i,r){throw new Error("Not supported")}getViewPositionOfModelPosition(i,r){throw new Error("Not supported")}getViewLineNumberOfModelPosition(i,r){throw new Error("Not supported")}normalizePosition(i,r,I){throw new Error("Not supported")}getInjectedTextAt(i,r){throw new Error("Not supported")}}Xr.INSTANCE=new Xr;const Ri=[""];function Ia(Wt){if(Wt>=Ri.length)for(let i=1;i<=Wt;i++)Ri[i]=ha(i);return Ri[Wt]}function ha(Wt){return new Array(Wt+1).join(" ")}var Jr=e(88598);class yr{constructor(i,r,I,B,X,Le,Be,lt,wt){this._editorId=i,this.model=r,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=I,this._monospaceLineBreaksComputerFactory=B,this.fontInfo=X,this.tabSize=Le,this.wrappingStrategy=Be,this.wrappingColumn=lt,this.wrappingIndent=wt,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new $r(this)}_constructLines(i,r){this.modelLineProjections=[],i&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const I=this.model.getLinesContent(),B=this.model.getInjectedTextDecorations(this._editorId),X=I.length,Le=this.createLineBreaksComputer(),Be=new k.H9(Xs.gk.fromDecorations(B));for(let $n=0;$n<X;$n++){const Zn=Be.takeWhile(ai=>ai.lineNumber===$n+1);Le.addRequest(I[$n],Zn,r?r[$n]:null)}const lt=Le.finalize(),wt=[],Nt=this.hiddenAreasDecorationIds.map($n=>this.model.getDecorationRange($n)).sort(be.e.compareRangesUsingStarts);let Zt=1,ln=0,hn=-1,Fn=hn+1<Nt.length?ln+1:X+2;for(let $n=0;$n<X;$n++){const Zn=$n+1;Zn===Fn&&(hn++,Zt=Nt[hn].startLineNumber,ln=Nt[hn].endLineNumber,Fn=hn+1<Nt.length?ln+1:X+2);const vi=La(lt[$n],!(Zn>=Zt&&Zn<=ln));wt[$n]=vi.getViewLineCount(),this.modelLineProjections[$n]=vi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Jr.Ck(wt)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(i=>this.model.getDecorationRange(i))}setHiddenAreas(i){const I=function Oo(Wt){if(0===Wt.length)return[];const i=Wt.slice();i.sort(be.e.compareRangesUsingStarts);const r=[];let I=i[0].startLineNumber,B=i[0].endLineNumber;for(let X=1,Le=i.length;X<Le;X++){const Be=i[X];Be.startLineNumber>B+1?(r.push(new be.e(I,1,B,1)),I=Be.startLineNumber,B=Be.endLineNumber):Be.endLineNumber>B&&(B=Be.endLineNumber)}return r.push(new be.e(I,1,B,1)),r}(i.map(ln=>this.model.validateRange(ln))),B=this.hiddenAreasDecorationIds.map(ln=>this.model.getDecorationRange(ln)).sort(be.e.compareRangesUsingStarts);if(I.length===B.length){let ln=!1;for(let hn=0;hn<I.length;hn++)if(!I[hn].equalsRange(B[hn])){ln=!0;break}if(!ln)return!1}const X=I.map(ln=>({range:ln,options:Js.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,X);const Le=I;let Be=1,lt=0,wt=-1,Nt=wt+1<Le.length?lt+1:this.modelLineProjections.length+2,Zt=!1;for(let ln=0;ln<this.modelLineProjections.length;ln++){const hn=ln+1;hn===Nt&&(wt++,Be=Le[wt].startLineNumber,lt=Le[wt].endLineNumber,Nt=wt+1<Le.length?lt+1:this.modelLineProjections.length+2);let Fn=!1;if(hn>=Be&&hn<=lt?this.modelLineProjections[ln].isVisible()&&(this.modelLineProjections[ln]=this.modelLineProjections[ln].setVisible(!1),Fn=!0):(Zt=!0,this.modelLineProjections[ln].isVisible()||(this.modelLineProjections[ln]=this.modelLineProjections[ln].setVisible(!0),Fn=!0)),Fn){const $n=this.modelLineProjections[ln].getViewLineCount();this.projectedModelLineLineCounts.setValue(ln,$n)}}return Zt||this.setHiddenAreas([]),!0}modelPositionIsVisible(i,r){return!(i<1||i>this.modelLineProjections.length)&&this.modelLineProjections[i-1].isVisible()}getModelLineViewLineCount(i){return i<1||i>this.modelLineProjections.length?1:this.modelLineProjections[i-1].getViewLineCount()}setTabSize(i){return this.tabSize!==i&&(this.tabSize=i,this._constructLines(!1,null),!0)}setWrappingSettings(i,r,I,B){const X=this.fontInfo.equals(i),Le=this.wrappingStrategy===r,Be=this.wrappingColumn===I,lt=this.wrappingIndent===B;if(X&&Le&&Be&&lt)return!1;const wt=X&&Le&&!Be&&lt;this.fontInfo=i,this.wrappingStrategy=r,this.wrappingColumn=I,this.wrappingIndent=B;let Nt=null;if(wt){Nt=[];for(let Zt=0,ln=this.modelLineProjections.length;Zt<ln;Zt++)Nt[Zt]=this.modelLineProjections[Zt].getProjectionData()}return this._constructLines(!1,Nt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(i,r,I){if(!i||i<=this._validModelVersionId)return null;const B=1===r?1:this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,X=this.projectedModelLineLineCounts.getPrefixSum(I);return this.modelLineProjections.splice(r-1,I-r+1),this.projectedModelLineLineCounts.removeValues(r-1,I-r+1),new Jt(B,X)}onModelLinesInserted(i,r,I,B){if(!i||i<=this._validModelVersionId)return null;const X=r>2&&!this.modelLineProjections[r-2].isVisible(),Le=1===r?1:this.projectedModelLineLineCounts.getPrefixSum(r-1)+1;let Be=0;const lt=[],wt=[];for(let Nt=0,Zt=B.length;Nt<Zt;Nt++){const ln=La(B[Nt],!X);lt.push(ln);const hn=ln.getViewLineCount();Be+=hn,wt[Nt]=hn}return this.modelLineProjections=this.modelLineProjections.slice(0,r-1).concat(lt).concat(this.modelLineProjections.slice(r-1)),this.projectedModelLineLineCounts.insertValues(r-1,wt),new pn(Le,Le+Be-1)}onModelLineChanged(i,r,I){if(null!==i&&i<=this._validModelVersionId)return[!1,null,null,null];const B=r-1,X=this.modelLineProjections[B].getViewLineCount(),Be=La(I,this.modelLineProjections[B].isVisible());this.modelLineProjections[B]=Be;const lt=this.modelLineProjections[B].getViewLineCount();let wt=!1,Nt=0,Zt=-1,ln=0,hn=-1,Fn=0,$n=-1;return X>lt?(Nt=this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,Zt=Nt+lt-1,Fn=Zt+1,$n=Fn+(X-lt)-1,wt=!0):X<lt?(Nt=this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,Zt=Nt+X-1,ln=Zt+1,hn=ln+(lt-X)-1,wt=!0):(Nt=this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,Zt=Nt+lt-1),this.projectedModelLineLineCounts.setValue(B,lt),[wt,Nt<=Zt?new xt(Nt,Zt-Nt+1):null,ln<=hn?new pn(ln,hn):null,Fn<=$n?new Jt(Fn,$n):null]}acceptVersionId(i){this._validModelVersionId=i,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(i){if(i<1)return 1;const r=this.getViewLineCount();return i>r?r:0|i}getActiveIndentGuide(i,r,I){i=this._toValidViewLineNumber(i),r=this._toValidViewLineNumber(r),I=this._toValidViewLineNumber(I);const B=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),X=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),Le=this.convertViewPositionToModelPosition(I,this.getViewLineMinColumn(I)),Be=this.model.guides.getActiveIndentGuide(B.lineNumber,X.lineNumber,Le.lineNumber),lt=this.convertModelPositionToViewPosition(Be.startLineNumber,1),wt=this.convertModelPositionToViewPosition(Be.endLineNumber,this.model.getLineMaxColumn(Be.endLineNumber));return{startLineNumber:lt.lineNumber,endLineNumber:wt.lineNumber,indent:Be.indent}}getViewLineInfo(i){i=this._toValidViewLineNumber(i);const r=this.projectedModelLineLineCounts.getIndexOf(i-1);return new ds(r.index+1,r.remainder)}getMinColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(i){const r=this.modelLineProjections[i.modelLineNumber-1],I=r.getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),B=r.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,I);return new ue.L(i.modelLineNumber,B)}getModelEndPositionOfViewLine(i){const r=this.modelLineProjections[i.modelLineNumber-1],I=r.getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),B=r.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,I);return new ue.L(i.modelLineNumber,B)}getViewLineInfosGroupedByModelRanges(i,r){const I=this.getViewLineInfo(i),B=this.getViewLineInfo(r),X=new Array;let Le=this.getModelStartPositionOfViewLine(I),Be=new Array;for(let lt=I.modelLineNumber;lt<=B.modelLineNumber;lt++){const wt=this.modelLineProjections[lt-1];if(wt.isVisible()){const Nt=lt===I.modelLineNumber?I.modelLineWrappedLineIdx:0,Zt=lt===B.modelLineNumber?B.modelLineWrappedLineIdx+1:wt.getViewLineCount();for(let ln=Nt;ln<Zt;ln++)Be.push(new ds(lt,ln))}if(!wt.isVisible()&&Le){const Nt=new ue.L(lt-1,this.model.getLineMaxColumn(lt-1)+1),Zt=be.e.fromPositions(Le,Nt);X.push(new Sr(Zt,Be)),Be=[],Le=null}else wt.isVisible()&&!Le&&(Le=new ue.L(lt,1))}if(Le){const lt=be.e.fromPositions(Le,this.getModelEndPositionOfViewLine(B));X.push(new Sr(lt,Be))}return X}getViewLinesBracketGuides(i,r,I,B){const X=I?this.convertViewPositionToModelPosition(I.lineNumber,I.column):null,Le=[];for(const Be of this.getViewLineInfosGroupedByModelRanges(i,r)){const lt=Be.modelRange.startLineNumber,wt=this.model.guides.getLinesBracketGuides(lt,Be.modelRange.endLineNumber,X,B);for(const Nt of Be.viewLines){const ln=wt[Nt.modelLineNumber-lt].map(hn=>{if(-1!==hn.forWrappedLinesAfterColumn&&this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,hn.forWrappedLinesAfterColumn).lineNumber>=Nt.modelLineWrappedLineIdx||-1!==hn.forWrappedLinesBeforeOrAtColumn&&this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,hn.forWrappedLinesBeforeOrAtColumn).lineNumber<Nt.modelLineWrappedLineIdx)return;if(!hn.horizontalLine)return hn;let Fn=-1;if(-1!==hn.column){const ai=this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,hn.column);if(ai.lineNumber===Nt.modelLineWrappedLineIdx)Fn=ai.column;else if(ai.lineNumber<Nt.modelLineWrappedLineIdx)Fn=this.getMinColumnOfViewLine(Nt);else if(ai.lineNumber>Nt.modelLineWrappedLineIdx)return}const $n=this.convertModelPositionToViewPosition(Nt.modelLineNumber,hn.horizontalLine.endColumn),Zn=this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,hn.horizontalLine.endColumn);return Zn.lineNumber===Nt.modelLineWrappedLineIdx?new It.UO(hn.visibleColumn,Fn,hn.className,new It.vW(hn.horizontalLine.top,$n.column),-1,-1):Zn.lineNumber<Nt.modelLineWrappedLineIdx||-1!==hn.visibleColumn?void 0:new It.UO(hn.visibleColumn,Fn,hn.className,new It.vW(hn.horizontalLine.top,this.getMaxColumnOfViewLine(Nt)),-1,-1)});Le.push(ln.filter(hn=>!!hn))}}return Le}getViewLinesIndentGuides(i,r){i=this._toValidViewLineNumber(i),r=this._toValidViewLineNumber(r);const I=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),B=this.convertViewPositionToModelPosition(r,this.getViewLineMaxColumn(r));let X=[];const Le=[],Be=[],lt=I.lineNumber-1,wt=B.lineNumber-1;let Nt=null;for(let Fn=lt;Fn<=wt;Fn++){const $n=this.modelLineProjections[Fn];if($n.isVisible()){const Zn=$n.getViewLineNumberOfModelPosition(0,Fn===lt?I.column:1),ai=$n.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Fn+1)),vi=ai-Zn+1;let yi=0;vi>1&&1===$n.getViewLineMinColumn(this.model,Fn+1,ai)&&(yi=0===Zn?1:2),Le.push(vi),Be.push(yi),null===Nt&&(Nt=new ue.L(Fn+1,0))}else null!==Nt&&(X=X.concat(this.model.guides.getLinesIndentGuides(Nt.lineNumber,Fn)),Nt=null)}null!==Nt&&(X=X.concat(this.model.guides.getLinesIndentGuides(Nt.lineNumber,B.lineNumber)),Nt=null);const Zt=r-i+1,ln=new Array(Zt);let hn=0;for(let Fn=0,$n=X.length;Fn<$n;Fn++){let Zn=X[Fn];const ai=Math.min(Zt-hn,Le[Fn]),vi=Be[Fn];let yi;yi=2===vi?0:1===vi?1:ai;for(let Vi=0;Vi<ai;Vi++)Vi===yi&&(Zn=0),ln[hn++]=Zn}return ln}getViewLineContent(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineContent(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineLength(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineLength(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineMinColumn(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineMaxColumn(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineData(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineData(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLinesData(i,r,I){i=this._toValidViewLineNumber(i),r=this._toValidViewLineNumber(r);const B=this.projectedModelLineLineCounts.getIndexOf(i-1);let X=i;const Le=B.index,Be=B.remainder,lt=[];for(let wt=Le,Nt=this.model.getLineCount();wt<Nt;wt++){const Zt=this.modelLineProjections[wt];if(!Zt.isVisible())continue;const ln=wt===Le?Be:0;let hn=Zt.getViewLineCount()-ln,Fn=!1;if(X+hn>r&&(Fn=!0,hn=r-X+1),Zt.getViewLinesData(this.model,wt+1,ln,hn,X-i,I,lt),X+=hn,Fn)break}return lt}validateViewPosition(i,r,I){i=this._toValidViewLineNumber(i);const B=this.projectedModelLineLineCounts.getIndexOf(i-1),X=B.index,Le=B.remainder,Be=this.modelLineProjections[X],lt=Be.getViewLineMinColumn(this.model,X+1,Le),wt=Be.getViewLineMaxColumn(this.model,X+1,Le);r<lt&&(r=lt),r>wt&&(r=wt);const Nt=Be.getModelColumnOfViewPosition(Le,r);return this.model.validatePosition(new ue.L(X+1,Nt)).equals(I)?new ue.L(i,r):this.convertModelPositionToViewPosition(I.lineNumber,I.column)}validateViewRange(i,r){const I=this.validateViewPosition(i.startLineNumber,i.startColumn,r.getStartPosition()),B=this.validateViewPosition(i.endLineNumber,i.endColumn,r.getEndPosition());return new be.e(I.lineNumber,I.column,B.lineNumber,B.column)}convertViewPositionToModelPosition(i,r){const I=this.getViewLineInfo(i),B=this.modelLineProjections[I.modelLineNumber-1].getModelColumnOfViewPosition(I.modelLineWrappedLineIdx,r);return this.model.validatePosition(new ue.L(I.modelLineNumber,B))}convertViewRangeToModelRange(i){const r=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),I=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);return new be.e(r.lineNumber,r.column,I.lineNumber,I.column)}convertModelPositionToViewPosition(i,r,I=2){const B=this.model.validatePosition(new ue.L(i,r)),X=B.lineNumber,Le=B.column;let Be=X-1,lt=!1;for(;Be>0&&!this.modelLineProjections[Be].isVisible();)Be--,lt=!0;if(0===Be&&!this.modelLineProjections[Be].isVisible())return new ue.L(1,1);const wt=1+this.projectedModelLineLineCounts.getPrefixSum(Be);let Nt;return Nt=lt?this.modelLineProjections[Be].getViewPositionOfModelPosition(wt,this.model.getLineMaxColumn(Be+1),I):this.modelLineProjections[X-1].getViewPositionOfModelPosition(wt,Le,I),Nt}convertModelRangeToViewRange(i,r=0){if(i.isEmpty()){const I=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,r);return be.e.fromPositions(I)}{const I=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,1),B=this.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn,0);return new be.e(I.lineNumber,I.column,B.lineNumber,B.column)}}getViewLineNumberOfModelPosition(i,r){let I=i-1;if(this.modelLineProjections[I].isVisible()){const X=1+this.projectedModelLineLineCounts.getPrefixSum(I);return this.modelLineProjections[I].getViewLineNumberOfModelPosition(X,r)}for(;I>0&&!this.modelLineProjections[I].isVisible();)I--;if(0===I&&!this.modelLineProjections[I].isVisible())return 1;const B=1+this.projectedModelLineLineCounts.getPrefixSum(I);return this.modelLineProjections[I].getViewLineNumberOfModelPosition(B,this.model.getLineMaxColumn(I+1))}getDecorationsInRange(i,r,I){const B=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),X=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);if(X.lineNumber-B.lineNumber<=i.endLineNumber-i.startLineNumber)return this.model.getDecorationsInRange(new be.e(B.lineNumber,1,X.lineNumber,X.column),r,I);let Le=[];const Be=B.lineNumber-1,lt=X.lineNumber-1;let wt=null;for(let hn=Be;hn<=lt;hn++)if(this.modelLineProjections[hn].isVisible())null===wt&&(wt=new ue.L(hn+1,hn===Be?B.column:1));else if(null!==wt){const $n=this.model.getLineMaxColumn(hn);Le=Le.concat(this.model.getDecorationsInRange(new be.e(wt.lineNumber,wt.column,hn,$n),r,I)),wt=null}null!==wt&&(Le=Le.concat(this.model.getDecorationsInRange(new be.e(wt.lineNumber,wt.column,X.lineNumber,X.column),r,I)),wt=null),Le.sort((hn,Fn)=>{const $n=be.e.compareRangesUsingStarts(hn.range,Fn.range);return 0===$n?hn.id<Fn.id?-1:hn.id>Fn.id?1:0:$n});const Nt=[];let Zt=0,ln=null;for(const hn of Le){const Fn=hn.id;ln!==Fn&&(ln=Fn,Nt[Zt++]=hn)}return Nt}getInjectedTextAt(i){const r=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[r.modelLineNumber-1].getInjectedTextAt(r.modelLineWrappedLineIdx,i.column)}normalizePosition(i,r){const I=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[I.modelLineNumber-1].normalizePosition(I.modelLineWrappedLineIdx,i,r)}getLineIndentColumn(i){const r=this.getViewLineInfo(i);return 0===r.modelLineWrappedLineIdx?this.model.getLineIndentColumn(r.modelLineNumber):0}}class ds{constructor(i,r){this.modelLineNumber=i,this.modelLineWrappedLineIdx=r}}class Sr{constructor(i,r){this.modelRange=i,this.viewLines=r}}class $r{constructor(i){this._lines=i}convertViewPositionToModelPosition(i){return this._lines.convertViewPositionToModelPosition(i.lineNumber,i.column)}convertViewRangeToModelRange(i){return this._lines.convertViewRangeToModelRange(i)}validateViewPosition(i,r){return this._lines.validateViewPosition(i.lineNumber,i.column,r)}validateViewRange(i,r){return this._lines.validateViewRange(i,r)}convertModelPositionToViewPosition(i,r){return this._lines.convertModelPositionToViewPosition(i.lineNumber,i.column,r)}convertModelRangeToViewRange(i,r){return this._lines.convertModelRangeToViewRange(i,r)}modelPositionIsVisible(i){return this._lines.modelPositionIsVisible(i.lineNumber,i.column)}getModelLineViewLineCount(i){return this._lines.getModelLineViewLineCount(i)}getViewLineNumberOfModelPosition(i,r){return this._lines.getViewLineNumberOfModelPosition(i,r)}}class Cs{constructor(i){this.model=i}dispose(){}createCoordinatesConverter(){return new qr(this)}getHiddenAreas(){return[]}setHiddenAreas(i){return!1}setTabSize(i){return!1}setWrappingSettings(i,r,I,B){return!1}createLineBreaksComputer(){const i=[];return{addRequest:(r,I,B)=>{i.push(null)},finalize:()=>i}}onModelFlushed(){}onModelLinesDeleted(i,r,I){return new Jt(r,I)}onModelLinesInserted(i,r,I,B){return new pn(r,I)}onModelLineChanged(i,r,I){return[!1,new xt(r,1),null,null]}acceptVersionId(i){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(i,r,I){return{startLineNumber:i,endLineNumber:i,indent:0}}getViewLinesBracketGuides(i,r,I){return new Array(r-i+1).fill([])}getViewLinesIndentGuides(i,r){const I=r-i+1,B=new Array(I);for(let X=0;X<I;X++)B[X]=0;return B}getViewLineContent(i){return this.model.getLineContent(i)}getViewLineLength(i){return this.model.getLineLength(i)}getViewLineMinColumn(i){return this.model.getLineMinColumn(i)}getViewLineMaxColumn(i){return this.model.getLineMaxColumn(i)}getViewLineData(i){const r=this.model.tokenization.getLineTokens(i),I=r.getLineContent();return new Ds.IP(I,!1,1,I.length+1,0,r.inflate(),null)}getViewLinesData(i,r,I){const B=this.model.getLineCount();i=Math.min(Math.max(1,i),B),r=Math.min(Math.max(1,r),B);const X=[];for(let Le=i;Le<=r;Le++){const Be=Le-i;X[Be]=I[Be]?this.getViewLineData(Le):null}return X}getDecorationsInRange(i,r,I){return this.model.getDecorationsInRange(i,r,I)}normalizePosition(i,r){return this.model.normalizePosition(i,r)}getLineIndentColumn(i){return this.model.getLineIndentColumn(i)}getInjectedTextAt(i){return null}}class qr{constructor(i){this._lines=i}_validPosition(i){return this._lines.model.validatePosition(i)}_validRange(i){return this._lines.model.validateRange(i)}convertViewPositionToModelPosition(i){return this._validPosition(i)}convertViewRangeToModelRange(i){return this._validRange(i)}validateViewPosition(i,r){return this._validPosition(r)}validateViewRange(i,r){return this._validRange(r)}convertModelPositionToViewPosition(i){return this._validPosition(i)}convertModelRangeToViewRange(i){return this._validRange(i)}modelPositionIsVisible(i){const r=this._lines.model.getLineCount();return!(i.lineNumber<1||i.lineNumber>r)}getModelLineViewLineCount(i){return 1}getViewLineNumberOfModelPosition(i,r){return i}}class ea extends V.JT{constructor(i,r,I,B,X,Le,Be,lt){if(super(),this.languageConfigurationService=Be,this._themeService=lt,this._editorId=i,this._configuration=r,this.model=I,this._eventDispatcher=new xi,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new es.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new $e.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new $e.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=bs.create(this.model),this.model.isTooLargeForTokenization())this._lines=new Cs(this.model);else{const wt=this._configuration.options,Nt=wt.get(46),Zt=wt.get(127),ln=wt.get(134),hn=wt.get(126);this._lines=new yr(this._editorId,this.model,B,X,Nt,this.model.getOptions().tabSize,Zt,ln.wrappingColumn,hn)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Wo(I,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Ea(this._configuration,this.getLineCount(),Le)),this._register(this.viewLayout.onDidScroll(wt=>{wt.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),wt.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new On(wt)),this._eventDispatcher.emitOutgoingEvent(new co(wt.oldScrollWidth,wt.oldScrollLeft,wt.oldScrollHeight,wt.oldScrollTop,wt.scrollWidth,wt.scrollLeft,wt.scrollHeight,wt.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(wt=>{this._eventDispatcher.emitOutgoingEvent(wt)})),this._decorations=new ua.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(wt=>{try{const Nt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Nt,wt)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(wr.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new qn)})),this._register(this._themeService.onDidColorThemeChange(wt=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Xn(wt))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(i){this._eventDispatcher.addViewEventHandler(i)}removeViewEventHandler(i){this._eventDispatcher.removeViewEventHandler(i)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const i=this.viewLayout.getLinesViewportData(),r=new be.e(i.startLineNumber,this.getLineMinColumn(i.startLineNumber),i.endLineNumber,this.getLineMaxColumn(i.endLineNumber)),I=this._toModelVisibleRanges(r);for(const B of I)this.model.tokenization.tokenizeViewport(B.startLineNumber,B.endLineNumber)}setHasFocus(i){this._hasFocus=i,this._cursor.setHasFocus(i),this._eventDispatcher.emitSingleViewEvent(new Vt(i)),this._eventDispatcher.emitOutgoingEvent(new ji(!i,i))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new ya)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new aa)}_onConfigurationChanged(i,r){let I=null;if(this._viewportStart.isValid){const Nt=new ue.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));I=this.coordinatesConverter.convertViewPositionToModelPosition(Nt)}let B=!1;const X=this._configuration.options,Le=X.get(46),Be=X.get(127),lt=X.get(134),wt=X.get(126);if(this._lines.setWrappingSettings(Le,Be,lt.wrappingColumn,wt)&&(i.emitViewEvent(new br),i.emitViewEvent(new Ge),i.emitViewEvent(new Bo(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(B=!0),this._updateConfigurationViewLineCount.schedule()),r.hasChanged(83)&&(this._decorations.reset(),i.emitViewEvent(new Bo(null))),i.emitViewEvent(new la(r)),this.viewLayout.onConfigurationChanged(r),B&&I){const Nt=this.coordinatesConverter.convertModelPositionToViewPosition(I),Zt=this.viewLayout.getVerticalOffsetForLineNumber(Nt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Zt+this._viewportStart.startLineDelta},1)}es.LM.shouldRecreate(r)&&(this.cursorConfig=new es.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(i=>{try{const I=this._eventDispatcher.beginEmitViewEvents();let B=!1,X=!1;const Le=i instanceof Xs.fV?i.rawContentChangedEvent.changes:i.changes,Be=i instanceof Xs.fV?i.rawContentChangedEvent.versionId:null,lt=this._lines.createLineBreaksComputer();for(const Zt of Le)switch(Zt.changeType){case 4:for(let ln=0;ln<Zt.detail.length;ln++){const hn=Zt.detail[ln];let Fn=Zt.injectedTexts[ln];Fn&&(Fn=Fn.filter($n=>!$n.ownerId||$n.ownerId===this._editorId)),lt.addRequest(hn,Fn,null)}break;case 2:{let ln=null;Zt.injectedText&&(ln=Zt.injectedText.filter(hn=>!hn.ownerId||hn.ownerId===this._editorId)),lt.addRequest(Zt.detail,ln,null);break}}const wt=lt.finalize(),Nt=new k.H9(wt);for(const Zt of Le)switch(Zt.changeType){case 1:this._lines.onModelFlushed(),I.emitViewEvent(new br),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),B=!0;break;case 3:{const ln=this._lines.onModelLinesDeleted(Be,Zt.fromLineNumber,Zt.toLineNumber);null!==ln&&(I.emitViewEvent(ln),this.viewLayout.onLinesDeleted(ln.fromLineNumber,ln.toLineNumber)),B=!0;break}case 4:{const ln=Nt.takeCount(Zt.detail.length),hn=this._lines.onModelLinesInserted(Be,Zt.fromLineNumber,Zt.toLineNumber,ln);null!==hn&&(I.emitViewEvent(hn),this.viewLayout.onLinesInserted(hn.fromLineNumber,hn.toLineNumber)),B=!0;break}case 2:{const ln=Nt.dequeue(),[hn,Fn,$n,Zn]=this._lines.onModelLineChanged(Be,Zt.lineNumber,ln);X=hn,Fn&&I.emitViewEvent(Fn),$n&&(I.emitViewEvent($n),this.viewLayout.onLinesInserted($n.fromLineNumber,$n.toLineNumber)),Zn&&(I.emitViewEvent(Zn),this.viewLayout.onLinesDeleted(Zn.fromLineNumber,Zn.toLineNumber));break}}null!==Be&&this._lines.acceptVersionId(Be),this.viewLayout.onHeightMaybeChanged(),!B&&X&&(I.emitViewEvent(new Ge),I.emitViewEvent(new Bo(null)),this._cursor.onLineMappingChanged(I),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const r=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&r){const I=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(I){const B=this.coordinatesConverter.convertModelPositionToViewPosition(I.getStartPosition()),X=this.viewLayout.getVerticalOffsetForLineNumber(B.lineNumber);this.viewLayout.setScrollPosition({scrollTop:X+this._viewportStart.startLineDelta},1)}}try{const I=this._eventDispatcher.beginEmitViewEvents();i instanceof Xs.fV&&I.emitOutgoingEvent(new Ji(i.contentChangedEvent)),this._cursor.onModelContentChanged(I,i)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(i=>{const r=[];for(let I=0,B=i.ranges.length;I<B;I++){const X=i.ranges[I],Le=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(X.fromLineNumber,1)).lineNumber,Be=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(X.toLineNumber,this.model.getLineMaxColumn(X.toLineNumber))).lineNumber;r[I]={fromLineNumber:Le,toLineNumber:Be}}this._eventDispatcher.emitSingleViewEvent(new Qn(r)),i.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new ko(i))})),this._register(this.model.onDidChangeLanguageConfiguration(i=>{this._eventDispatcher.emitSingleViewEvent(new De),this.cursorConfig=new es.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new po(i))})),this._register(this.model.onDidChangeLanguage(i=>{this.cursorConfig=new es.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new No(i))})),this._register(this.model.onDidChangeOptions(i=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const r=this._eventDispatcher.beginEmitViewEvents();r.emitViewEvent(new br),r.emitViewEvent(new Ge),r.emitViewEvent(new Bo(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new es.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new vo(i))})),this._register(this.model.onDidChangeDecorations(i=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Bo(i)),this._eventDispatcher.emitOutgoingEvent(new Vo(i))}))}setHiddenAreas(i){let r=!1;try{const I=this._eventDispatcher.beginEmitViewEvents();r=this._lines.setHiddenAreas(i),r&&(I.emitViewEvent(new br),I.emitViewEvent(new Ge),I.emitViewEvent(new Bo(null)),this._cursor.onLineMappingChanged(I),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),r&&this._eventDispatcher.emitOutgoingEvent(new Lo)}getVisibleRangesPlusViewportAboveBelow(){const i=this._configuration.options.get(133),r=this._configuration.options.get(61),I=Math.max(20,Math.round(i.height/r)),B=this.viewLayout.getLinesViewportData(),X=Math.max(1,B.completelyVisibleStartLineNumber-I),Le=Math.min(this.getLineCount(),B.completelyVisibleEndLineNumber+I);return this._toModelVisibleRanges(new be.e(X,this.getLineMinColumn(X),Le,this.getLineMaxColumn(Le)))}getVisibleRanges(){const i=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(i)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(i){const r=this.coordinatesConverter.convertViewRangeToModelRange(i),I=this._lines.getHiddenAreas();if(0===I.length)return[r];const B=[];let X=0,Le=r.startLineNumber,Be=r.startColumn;const lt=r.endLineNumber,wt=r.endColumn;for(let Nt=0,Zt=I.length;Nt<Zt;Nt++){const ln=I[Nt].startLineNumber,hn=I[Nt].endLineNumber;hn<Le||ln>lt||(Le<ln&&(B[X++]=new be.e(Le,Be,ln-1,this.model.getLineMaxColumn(ln-1))),Le=hn+1,Be=1)}return(Le<lt||Le===lt&&Be<wt)&&(B[X++]=new be.e(Le,Be,lt,wt)),B}getCompletelyVisibleViewRange(){const i=this.viewLayout.getLinesViewportData(),r=i.completelyVisibleStartLineNumber,I=i.completelyVisibleEndLineNumber;return new be.e(r,this.getLineMinColumn(r),I,this.getLineMaxColumn(I))}getCompletelyVisibleViewRangeAtScrollTop(i){const r=this.viewLayout.getLinesViewportDataAtScrollTop(i),I=r.completelyVisibleStartLineNumber,B=r.completelyVisibleEndLineNumber;return new be.e(I,this.getLineMinColumn(I),B,this.getLineMaxColumn(B))}saveState(){const i=this.viewLayout.saveState(),r=i.scrollTop,I=this.viewLayout.getLineNumberAtVerticalOffset(r),B=this.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(I,this.getLineMinColumn(I))),X=this.viewLayout.getVerticalOffsetForLineNumber(I)-r;return{scrollLeft:i.scrollLeft,firstPosition:B,firstPositionDeltaTop:X}}reduceRestoreState(i){if(typeof i.firstPosition>"u")return this._reduceRestoreStateCompatibility(i);const r=this.model.validatePosition(i.firstPosition),I=this.coordinatesConverter.convertModelPositionToViewPosition(r),B=this.viewLayout.getVerticalOffsetForLineNumber(I.lineNumber)-i.firstPositionDeltaTop;return{scrollLeft:i.scrollLeft,scrollTop:B}}_reduceRestoreStateCompatibility(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(i,r,I){this._viewportStart.update(this,i)}getActiveIndentGuide(i,r,I){return this._lines.getActiveIndentGuide(i,r,I)}getLinesIndentGuides(i,r){return this._lines.getViewLinesIndentGuides(i,r)}getBracketGuidesInRangeByLine(i,r,I,B){return this._lines.getViewLinesBracketGuides(i,r,I,B)}getLineContent(i){return this._lines.getViewLineContent(i)}getLineLength(i){return this._lines.getViewLineLength(i)}getLineMinColumn(i){return this._lines.getViewLineMinColumn(i)}getLineMaxColumn(i){return this._lines.getViewLineMaxColumn(i)}getLineFirstNonWhitespaceColumn(i){const r=mn.LC(this.getLineContent(i));return-1===r?0:r+1}getLineLastNonWhitespaceColumn(i){const r=mn.ow(this.getLineContent(i));return-1===r?0:r+2}getDecorationsInViewport(i){return this._decorations.getDecorationsViewportData(i).decorations}getInjectedTextAt(i){return this._lines.getInjectedTextAt(i)}getViewportViewLineRenderingData(i,r){const B=this._decorations.getDecorationsViewportData(i).inlineDecorations[r-i.startLineNumber];return this._getViewLineRenderingData(r,B)}getViewLineRenderingData(i){const r=this._decorations.getInlineDecorationsOnLine(i);return this._getViewLineRenderingData(i,r)}_getViewLineRenderingData(i,r){const I=this.model.mightContainRTL(),B=this.model.mightContainNonBasicASCII(),X=this.getTabSize(),Le=this._lines.getViewLineData(i);return Le.inlineDecorations&&(r=[...r,...Le.inlineDecorations.map(Be=>Be.toInlineDecoration(i))]),new Ds.wA(Le.minColumn,Le.maxColumn,Le.content,Le.continuesWithWrappedLine,I,B,Le.tokens,r,X,Le.startVisibleColumn)}getViewLineData(i){return this._lines.getViewLineData(i)}getMinimapLinesRenderingData(i,r,I){const B=this._lines.getViewLinesData(i,r,I);return new Ds.ud(this.getTabSize(),B)}getAllOverviewRulerDecorations(i){const r=this.model.getOverviewRulerDecorations(this._editorId,(0,we.$J)(this._configuration.options)),I=new fa;for(const B of r){const X=B.options,Le=X.overviewRuler;if(!Le)continue;const Be=Le.position;if(0===Be)continue;const lt=Le.getColor(i.value),wt=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.startLineNumber,B.range.startColumn),Nt=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.endLineNumber,B.range.endColumn);I.accept(lt,X.zIndex,wt,Nt,Be)}return I.asArray}_invalidateDecorationsColorCache(){const i=this.model.getOverviewRulerDecorations();for(const r of i){const I=r.options.overviewRuler;I&&I.invalidateCachedColor();const B=r.options.minimap;B&&B.invalidateCachedColor()}}getValueInRange(i,r){const I=this.coordinatesConverter.convertViewRangeToModelRange(i);return this.model.getValueInRange(I,r)}deduceModelPositionRelativeToViewPosition(i,r,I){const B=this.coordinatesConverter.convertViewPositionToModelPosition(i);2===this.model.getEOL().length&&(r<0?r-=I:r+=I);const Le=this.model.getOffsetAt(B)+r;return this.model.getPositionAt(Le)}getPlainTextToCopy(i,r,I){const B=I?"\r\n":this.model.getEOL();(i=i.slice(0)).sort(be.e.compareRangesUsingStarts);let X=!1,Le=!1;for(const lt of i)lt.isEmpty()?X=!0:Le=!0;if(!Le){if(!r)return"";const lt=i.map(Nt=>Nt.startLineNumber);let wt="";for(let Nt=0;Nt<lt.length;Nt++)Nt>0&&lt[Nt-1]===lt[Nt]||(wt+=this.model.getLineContent(lt[Nt])+B);return wt}if(X&&r){const lt=[];let wt=0;for(const Nt of i){const Zt=Nt.startLineNumber;Nt.isEmpty()?Zt!==wt&&lt.push(this.model.getLineContent(Zt)):lt.push(this.model.getValueInRange(Nt,I?2:0)),wt=Zt}return 1===lt.length?lt[0]:lt}const Be=[];for(const lt of i)lt.isEmpty()||Be.push(this.model.getValueInRange(lt,I?2:0));return 1===Be.length?Be[0]:Be}getRichTextToCopy(i,r){const I=this.model.getLanguageId();if(I===Us.bd||1!==i.length)return null;let B=i[0];if(B.isEmpty()){if(!r)return null;const Nt=B.startLineNumber;B=new be.e(Nt,this.model.getLineMinColumn(Nt),Nt,this.model.getLineMaxColumn(Nt))}const X=this._configuration.options.get(46),Le=this._getColorMap();let wt;return/[:;\\\/<>]/.test(X.fontFamily)||X.fontFamily===we.hL.fontFamily?wt=we.hL.fontFamily:(wt=X.fontFamily,wt=wt.replace(/"/g,"'"),/[,']/.test(wt)||/[+ ]/.test(wt)&&(wt=`'${wt}'`),wt=`${wt}, ${we.hL.fontFamily}`),{mode:I,html:`<div style="color: ${Le[1]};background-color: ${Le[2]};font-family: ${wt};font-weight: ${X.fontWeight};font-size: ${X.fontSize}px;line-height: ${X.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(B,Le)+"</div>"}}_getHTMLToCopy(i,r){const I=i.startLineNumber,B=i.startColumn,X=i.endLineNumber,Le=i.endColumn,Be=this.getTabSize();let lt="";for(let wt=I;wt<=X;wt++){const Nt=this.model.tokenization.getLineTokens(wt),Zt=Nt.getLineContent(),ln=wt===I?B-1:0,hn=wt===X?Le-1:Zt.length;lt+=""===Zt?"<br>":(0,Ir.Fq)(Zt,Nt.inflate(),r,ln,hn,Be,j.ED)}return lt}_getColorMap(){const i=Mo.RW.getColorMap(),r=["#000000"];if(i)for(let I=1,B=i.length;I<B;I++)r[I]=Io.Il.Format.CSS.formatHex(i[I]);return r}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(i,r,I){return this._withViewEventsCollector(B=>this._cursor.setStates(B,i,r,I))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(i){this._cursor.setCursorColumnSelectData(i)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(i){this._cursor.setPrevEditOperationType(i)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(i,r,I=0){this._withViewEventsCollector(B=>this._cursor.setSelections(B,i,r,I))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(i){this._withViewEventsCollector(r=>this._cursor.restoreState(r,i))}_executeCursorEdit(i){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new oo):this._withViewEventsCollector(i)}executeEdits(i,r,I){this._executeCursorEdit(B=>this._cursor.executeEdits(B,i,r,I))}startComposition(){this._executeCursorEdit(i=>this._cursor.startComposition(i))}endComposition(i){this._executeCursorEdit(r=>this._cursor.endComposition(r,i))}type(i,r){this._executeCursorEdit(I=>this._cursor.type(I,i,r))}compositionType(i,r,I,B,X){this._executeCursorEdit(Le=>this._cursor.compositionType(Le,i,r,I,B,X))}paste(i,r,I,B){this._executeCursorEdit(X=>this._cursor.paste(X,i,r,I,B))}cut(i){this._executeCursorEdit(r=>this._cursor.cut(r,i))}executeCommand(i,r){this._executeCursorEdit(I=>this._cursor.executeCommand(I,i,r))}executeCommands(i,r){this._executeCursorEdit(I=>this._cursor.executeCommands(I,i,r))}revealPrimaryCursor(i,r,I=!1){this._withViewEventsCollector(B=>this._cursor.revealPrimary(B,i,I,0,r,0))}revealTopMostCursor(i){const r=this._cursor.getTopMostViewPosition(),I=new be.e(r.lineNumber,r.column,r.lineNumber,r.column);this._withViewEventsCollector(B=>B.emitViewEvent(new zt(i,!1,I,null,0,!0,0)))}revealBottomMostCursor(i){const r=this._cursor.getBottomMostViewPosition(),I=new be.e(r.lineNumber,r.column,r.lineNumber,r.column);this._withViewEventsCollector(B=>B.emitViewEvent(new zt(i,!1,I,null,0,!0,0)))}revealRange(i,r,I,B,X){this._withViewEventsCollector(Le=>Le.emitViewEvent(new zt(i,!1,I,null,B,r,X)))}changeWhitespace(i){this.viewLayout.changeWhitespace(i)&&(this._eventDispatcher.emitSingleViewEvent(new kn),this._eventDispatcher.emitOutgoingEvent(new bo))}_withViewEventsCollector(i){try{return i(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(i,r){return this._lines.normalizePosition(i,r)}getLineIndentColumn(i){return this._lines.getLineIndentColumn(i)}}class bs{constructor(i,r,I,B,X){this._model=i,this._viewLineNumber=r,this._isValid=I,this._modelTrackedRange=B,this._startLineDelta=X}static create(i){const r=i._setTrackedRange(null,new be.e(1,1,1,1),1);return new bs(i,1,!1,r,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(i,r){const I=i.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(r,i.getLineMinColumn(r))),B=i.model._setTrackedRange(this._modelTrackedRange,new be.e(I.lineNumber,I.column,I.lineNumber,I.column),1),X=i.viewLayout.getVerticalOffsetForLineNumber(r),Le=i.viewLayout.getCurrentScrollTop();this._viewLineNumber=r,this._isValid=!0,this._modelTrackedRange=B,this._startLineDelta=Le-X}invalidate(){this._isValid=!1}}class fa{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(i,r,I,B,X){const Le=this._asMap[i];if(Le){const Be=Le.data,wt=Be[Be.length-1];if(Be[Be.length-3]===X&&wt+1>=I)return void(B>wt&&(Be[Be.length-1]=B));Be.push(X,I,B)}else{const Be=new Ds.SQ(i,r,[X,I,B]);this._asMap[i]=Be,this.asArray.push(Be)}}}var Ra=e(66549),ja=e(16468),Ya=e(9265),Xa=e(62706),Tl=e(54436),Ta=e(81742);class qs{constructor(i,r,I,B,X){this.injectionOffsets=i,this.injectionOptions=r,this.breakOffsets=I,this.breakOffsetsVisibleColumn=B,this.wrappedTextIndentLength=X}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){let B=this.breakOffsets[i]-(i>0?this.breakOffsets[i-1]:0);return i>0&&(B+=this.wrappedTextIndentLength),B}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,r){i>0&&(r=Math.max(0,r-this.wrappedTextIndentLength));let B=0===i?r:this.breakOffsets[i-1]+r;if(null!==this.injectionOffsets)for(let X=0;X<this.injectionOffsets.length&&B>this.injectionOffsets[X];X++)B<this.injectionOffsets[X]+this.injectionOptions[X].content.length?B=this.injectionOffsets[X]:B-=this.injectionOptions[X].content.length;return B}translateToOutputPosition(i,r=2){let I=i;if(null!==this.injectionOffsets)for(let B=0;B<this.injectionOffsets.length&&!(i<this.injectionOffsets[B]||1!==r&&i===this.injectionOffsets[B]);B++)I+=this.injectionOptions[B].content.length;return this.offsetInInputWithInjectionsToOutputPosition(I,r)}offsetInInputWithInjectionsToOutputPosition(i,r=2){let I=0,B=this.breakOffsets.length-1,X=0,Le=0;for(;I<=B;){X=I+(B-I)/2|0;const lt=this.breakOffsets[X];if(Le=X>0?this.breakOffsets[X-1]:0,0===r)if(i<=Le)B=X-1;else{if(!(i>lt))break;I=X+1}else if(i<Le)B=X-1;else{if(!(i>=lt))break;I=X+1}}let Be=i-Le;return X>0&&(Be+=this.wrappedTextIndentLength),new na(X,Be)}normalizeOutputPosition(i,r,I){if(null!==this.injectionOffsets){const B=this.outputPositionToOffsetInInputWithInjections(i,r),X=this.normalizeOffsetInInputWithInjectionsAroundInjections(B,I);if(X!==B)return this.offsetInInputWithInjectionsToOutputPosition(X,I)}if(0===I){if(i>0&&r===this.getMinOutputOffset(i))return new na(i-1,this.getMaxOutputOffset(i-1))}else if(1===I&&i<this.getOutputLineCount()-1&&r===this.getMaxOutputOffset(i))return new na(i+1,this.getMinOutputOffset(i+1));return new na(i,r)}outputPositionToOffsetInInputWithInjections(i,r){return i>0&&(r=Math.max(0,r-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+r}normalizeOffsetInInputWithInjectionsAroundInjections(i,r){const I=this.getInjectedTextAtOffset(i);if(!I)return i;if(2===r){if(i===I.offsetInInputWithInjections+I.length&&ta(this.injectionOptions[I.injectedTextIndex].cursorStops))return I.offsetInInputWithInjections+I.length;{let B=I.offsetInInputWithInjections;if(Bs(this.injectionOptions[I.injectedTextIndex].cursorStops))return B;let X=I.injectedTextIndex-1;for(;X>=0&&this.injectionOffsets[X]===this.injectionOffsets[I.injectedTextIndex]&&!ta(this.injectionOptions[X].cursorStops)&&(B-=this.injectionOptions[X].content.length,!Bs(this.injectionOptions[X].cursorStops));)X--;return B}}if(1===r||4===r){let B=I.offsetInInputWithInjections+I.length,X=I.injectedTextIndex;for(;X+1<this.injectionOffsets.length&&this.injectionOffsets[X+1]===this.injectionOffsets[X];)B+=this.injectionOptions[X+1].content.length,X++;return B}if(0===r||3===r){let B=I.offsetInInputWithInjections,X=I.injectedTextIndex;for(;X-1>=0&&this.injectionOffsets[X-1]===this.injectionOffsets[X];)B-=this.injectionOptions[X-1].content.length,X--;return B}(0,fe.vE)(r)}getInjectedText(i,r){const I=this.outputPositionToOffsetInInputWithInjections(i,r),B=this.getInjectedTextAtOffset(I);return B?{options:this.injectionOptions[B.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const r=this.injectionOffsets,I=this.injectionOptions;if(null!==r){let B=0;for(let X=0;X<r.length;X++){const Le=I[X].content.length,Be=r[X]+B,lt=r[X]+B+Le;if(Be>i)break;if(i<=lt)return{injectedTextIndex:X,offsetInInputWithInjections:Be,length:Le};B+=Le}}}}function ta(Wt){return null==Wt||Wt===Es.RM.Right||Wt===Es.RM.Both}function Bs(Wt){return null==Wt||Wt===Es.RM.Left||Wt===Es.RM.Both}class na{constructor(i,r){this.outputLineIndex=i,this.outputOffset=r}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new ue.L(i+this.outputLineIndex,this.outputOffset+1)}}class za{constructor(i,r){this.classifier=new Oa(i,r)}static create(i){return new za(i.get(122),i.get(121))}createLineBreaksComputer(i,r,I,B){const X=[],Le=[],Be=[];return{addRequest:(lt,wt,Nt)=>{X.push(lt),Le.push(wt),Be.push(Nt)},finalize:()=>{const lt=i.typicalFullwidthCharacterWidth/i.typicalHalfwidthCharacterWidth,wt=[];for(let Nt=0,Zt=X.length;Nt<Zt;Nt++){const ln=Le[Nt],hn=Be[Nt];wt[Nt]=!hn||hn.injectionOptions||ln?qa(this.classifier,X[Nt],ln,r,I,lt,B):pl(this.classifier,hn,X[Nt],r,I,lt,B)}return Ka.length=0,Gr.length=0,wt}}}}class Oa extends Ta.N{constructor(i,r){super(0);for(let I=0;I<i.length;I++)this.set(i.charCodeAt(I),1);for(let I=0;I<r.length;I++)this.set(r.charCodeAt(I),2)}get(i){return i>=0&&i<256?this._asciiMap[i]:i>=12352&&i<=12543||i>=13312&&i<=19903||i>=19968&&i<=40959?3:this._map.get(i)||this._defaultValue}}let Ka=[],Gr=[];function pl(Wt,i,r,I,B,X,Le){if(-1===B)return null;const Be=r.length;if(Be<=1)return null;const lt=i.breakOffsets,wt=i.breakOffsetsVisibleColumn,Nt=el(r,I,B,X,Le),Zt=B-Nt,ln=Ka,hn=Gr;let Fn=0,$n=0,Zn=0,ai=B;const vi=lt.length;let yi=0;if(yi>=0){let Vi=Math.abs(wt[yi]-ai);for(;yi+1<vi;){const Xi=Math.abs(wt[yi+1]-ai);if(Xi>=Vi)break;Vi=Xi,yi++}}for(;yi<vi;){let Vi=yi<0?0:lt[yi],Xi=yi<0?0:wt[yi];$n>Vi&&(Vi=$n,Xi=Zn);let Zi=0,eo=0,Hi=0,ao=0;if(Xi<=ai){let so=Xi,Yo=0===Vi?0:r.charCodeAt(Vi-1),is=0===Vi?0:Wt.get(Yo),Ls=!0;for(let Ho=Vi;Ho<Be;Ho++){const Is=Ho,ys=r.charCodeAt(Ho);let Ss,pr;if(mn.ZG(ys)?(Ho++,Ss=0,pr=2):(Ss=Wt.get(ys),pr=Mr(ys,so,I,X)),Is>$n&&$a(0,is,ys,Ss)&&(Zi=Is,eo=so),so+=pr,so>ai){Is>$n?(Hi=Is,ao=so-pr):(Hi=Ho+1,ao=so),so-eo>Zt&&(Zi=0),Ls=!1;break}Yo=ys,is=Ss}if(Ls){Fn>0&&(ln[Fn]=lt[lt.length-1],hn[Fn]=wt[lt.length-1],Fn++);break}}if(0===Zi){let so=Xi,Yo=r.charCodeAt(Vi),is=Wt.get(Yo),Ls=!1;for(let Ho=Vi-1;Ho>=$n;Ho--){const Is=Ho+1,ys=r.charCodeAt(Ho);if(9===ys){Ls=!0;break}let Ss,pr;if(mn.YK(ys)?(Ho--,Ss=0,pr=2):(Ss=Wt.get(ys),pr=mn.K7(ys)?X:1),so<=ai){if(0===Hi&&(Hi=Is,ao=so),so<=ai-Zt)break;if($a(0,Ss,Yo,is)){Zi=Is,eo=so;break}}so-=pr,Yo=ys,is=Ss}if(0!==Zi){const Ho=Zt-(ao-eo);if(Ho<=I){const Is=r.charCodeAt(Hi);let ys;ys=mn.ZG(Is)?2:Mr(Is,ao,I,X),Ho-ys<0&&(Zi=0)}}if(Ls){yi--;continue}}if(0===Zi&&(Zi=Hi,eo=ao),Zi<=$n){const so=r.charCodeAt($n);mn.ZG(so)?(Zi=$n+2,eo=Zn+2):(Zi=$n+1,eo=Zn+Mr(so,Zn,I,X))}for($n=Zi,ln[Fn]=Zi,Zn=eo,hn[Fn]=eo,Fn++,ai=eo+Zt;yi<0||yi<vi&&wt[yi]<eo;)yi++;let Do=Math.abs(wt[yi]-ai);for(;yi+1<vi;){const so=Math.abs(wt[yi+1]-ai);if(so>=Do)break;Do=so,yi++}}return 0===Fn?null:(ln.length=Fn,hn.length=Fn,Ka=i.breakOffsets,Gr=i.breakOffsetsVisibleColumn,i.breakOffsets=ln,i.breakOffsetsVisibleColumn=hn,i.wrappedTextIndentLength=Nt,i)}function qa(Wt,i,r,I,B,X,Le){const Be=Xs.gk.applyInjectedText(i,r);let lt,wt;if(r&&r.length>0?(lt=r.map(eo=>eo.options),wt=r.map(eo=>eo.column-1)):(lt=null,wt=null),-1===B)return lt?new qs(wt,lt,[Be.length],[],0):null;const Nt=Be.length;if(Nt<=1)return lt?new qs(wt,lt,[Be.length],[],0):null;const Zt=el(Be,I,B,X,Le),ln=B-Zt,hn=[],Fn=[];let $n=0,Zn=0,ai=0,vi=B,yi=Be.charCodeAt(0),Vi=Wt.get(yi),Xi=Mr(yi,0,I,X),Zi=1;mn.ZG(yi)&&(Xi+=1,yi=Be.charCodeAt(1),Vi=Wt.get(yi),Zi++);for(let eo=Zi;eo<Nt;eo++){const Hi=eo,ao=Be.charCodeAt(eo);let Do,so;mn.ZG(ao)?(eo++,Do=0,so=2):(Do=Wt.get(ao),so=Mr(ao,Xi,I,X)),$a(0,Vi,ao,Do)&&(Zn=Hi,ai=Xi),Xi+=so,Xi>vi&&((0===Zn||Xi-ai>ln)&&(Zn=Hi,ai=Xi-so),hn[$n]=Zn,Fn[$n]=ai,$n++,vi=ai+ln,Zn=0),yi=ao,Vi=Do}return 0!==$n||r&&0!==r.length?(hn[$n]=Nt,Fn[$n]=Xi,new qs(wt,lt,hn,Fn,Zt)):null}function Mr(Wt,i,r,I){return 9===Wt?r-i%r:mn.K7(Wt)||Wt<32?I:1}function _l(Wt,i){return i-Wt%i}function $a(Wt,i,r,I){return 32!==r&&(2===i&&2!==I||1!==i&&1===I||3===i&&2!==I||3===I&&1!==i)}function el(Wt,i,r,I,B){let X=0;if(0!==B){const Le=mn.LC(Wt);if(-1!==Le){for(let lt=0;lt<Le;lt++)X+=9===Wt.charCodeAt(lt)?_l(X,i):1;const Be=3===B?2:2===B?1:0;for(let lt=0;lt<Be;lt++)X+=_l(X,i);X+I>r&&(X=0)}}return X}var Ga;const tl=null===(Ga=window.trustedTypes)||void 0===Ga?void 0:Ga.createPolicy("domLineBreaksComputer",{createHTML:Wt=>Wt});class nl{static create(){return new nl}constructor(){}createLineBreaksComputer(i,r,I,B){const X=[],Le=[];return{addRequest:(Be,lt,wt)=>{X.push(Be),Le.push(lt)},finalize:()=>function Ml(Wt,i,r,I,B,X){var Le;function Be(Hi){const ao=X[Hi];if(ao){const Do=Xs.gk.applyInjectedText(Wt[Hi],ao),so=ao.map(is=>is.options),Yo=ao.map(is=>is.column-1);return new qs(Yo,so,[Do.length],[],0)}return null}if(-1===I){const Hi=[];for(let ao=0,Do=Wt.length;ao<Do;ao++)Hi[ao]=Be(ao);return Hi}const lt=Math.round(I*i.typicalHalfwidthCharacterWidth),Nt=Math.round(r*(3===B?2:2===B?1:0)),Zt=Math.ceil(i.spaceWidth*Nt),ln=document.createElement("div");(0,Nn.N)(ln,i);const hn=(0,Rn.l$)(1e4),Fn=[],$n=[],Zn=[],ai=[],vi=[];for(let Hi=0;Hi<Wt.length;Hi++){const ao=Xs.gk.applyInjectedText(Wt[Hi],X[Hi]);let Do=0,so=0,Yo=lt;if(0!==B)if(Do=mn.LC(ao),-1===Do)Do=0;else{for(let Is=0;Is<Do;Is++)so+=9===ao.charCodeAt(Is)?r-so%r:1;const Ho=Math.ceil(i.spaceWidth*so);Ho+i.typicalFullwidthCharacterWidth>lt?(Do=0,so=0):Yo=lt-Ho}const is=ao.substr(Do),Ls=Al(is,so,r,Yo,hn,Zt);Fn[Hi]=Do,$n[Hi]=so,Zn[Hi]=is,ai[Hi]=Ls[0],vi[Hi]=Ls[1]}const yi=hn.build(),Vi=null!==(Le=tl?.createHTML(yi))&&void 0!==Le?Le:yi;ln.innerHTML=Vi,ln.style.position="absolute",ln.style.top="10000",ln.style.wordWrap="break-word",document.body.appendChild(ln);const Xi=document.createRange(),Zi=Array.prototype.slice.call(ln.children,0),eo=[];for(let Hi=0;Hi<Wt.length;Hi++){const Do=ia(Xi,Zi[Hi],Zn[Hi],ai[Hi]);if(null===Do){eo[Hi]=Be(Hi);continue}const so=Fn[Hi],Yo=$n[Hi]+Nt,is=vi[Hi],Ls=[];for(let Ss=0,pr=Do.length;Ss<pr;Ss++)Ls[Ss]=is[Do[Ss]];if(0!==so)for(let Ss=0,pr=Do.length;Ss<pr;Ss++)Do[Ss]+=so;let Ho,Is;const ys=X[Hi];ys?(Ho=ys.map(Ss=>Ss.options),Is=ys.map(Ss=>Ss.column-1)):(Ho=null,Is=null),eo[Hi]=new qs(Is,Ho,Do,Ls,Yo)}return document.body.removeChild(ln),eo}(X,i,r,I,B,Le)}}}function Al(Wt,i,r,I,B,X){if(0!==X){const ln=String(X);B.appendASCIIString('<div style="text-indent: -'),B.appendASCIIString(ln),B.appendASCIIString("px; padding-left: "),B.appendASCIIString(ln),B.appendASCIIString("px; box-sizing: border-box; width:")}else B.appendASCIIString('<div style="width:');B.appendASCIIString(String(I)),B.appendASCIIString('px;">');const Le=Wt.length;let Be=i,lt=0;const wt=[],Nt=[];let Zt=0<Le?Wt.charCodeAt(0):0;B.appendASCIIString("<span>");for(let ln=0;ln<Le;ln++){0!==ln&&ln%16384==0&&B.appendASCIIString("</span><span>"),wt[ln]=lt,Nt[ln]=Be;const hn=Zt;Zt=ln+1<Le?Wt.charCodeAt(ln+1):0;let Fn=1,$n=1;switch(hn){case 9:Fn=r-Be%r,$n=Fn;for(let Zn=1;Zn<=Fn;Zn++)Zn<Fn?B.write1(160):B.appendASCII(32);break;case 32:32===Zt?B.write1(160):B.appendASCII(32);break;case 60:B.appendASCIIString("&lt;");break;case 62:B.appendASCIIString("&gt;");break;case 38:B.appendASCIIString("&amp;");break;case 0:B.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:B.write1(65533);break;default:mn.K7(hn)&&$n++,B.write1(hn<32?9216+hn:hn)}lt+=Fn,Be+=$n}return B.appendASCIIString("</span>"),wt[Wt.length]=lt,Nt[Wt.length]=Be,B.appendASCIIString("</div>"),[wt,Nt]}function ia(Wt,i,r,I){if(r.length<=1)return null;const B=Array.prototype.slice.call(i.children,0),X=[];try{fs(Wt,B,I,0,null,r.length-1,null,X)}catch(Le){return console.log(Le),null}return 0===X.length?null:(X.push(r.length),X)}function fs(Wt,i,r,I,B,X,Le,Be){if(I===X||(B=B||ir(Wt,i,r[I],r[I+1]),Le=Le||ir(Wt,i,r[X],r[X+1]),Math.abs(B[0].top-Le[0].top)<=.1))return;if(I+1===X)return void Be.push(X);const lt=I+(X-I)/2|0,wt=ir(Wt,i,r[lt],r[lt+1]);fs(Wt,i,r,I,B,lt,wt,Be),fs(Wt,i,r,lt,wt,X,Le,Be)}function ir(Wt,i,r,I){return Wt.setStart(i[r/16384|0].firstChild,r%16384),Wt.setEnd(i[I/16384|0].firstChild,I%16384),Wt.getClientRects()}var Ar=e(7878),Fr=e(94911),Pl=e(90790),Pr=function(Wt,i){return function(r,I){i(r,I,Wt)}};let Yl=0;class Br{constructor(i,r,I,B,X){this.model=i,this.viewModel=r,this.view=I,this.hasRealView=B,this.listenersToRemove=X}dispose(){(0,V.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ga=class El extends V.JT{constructor(i,r,I,B,X,Le,Be,lt,wt,Nt,Zt,ln){super(),this.languageConfigurationService=Zt,this._deliveryQueue=new O.F3,this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Zr({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Zr({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const hn=Object.assign({},r);let Fn;this._domElement=i,this._overflowWidgetsDomNode=hn.overflowWidgetsDomNode,delete hn.overflowWidgetsDomNode,this._id=++Yl,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=I.telemetryData,this._configuration=this._register(this._createConfiguration(I.isSimpleWidget||!1,hn,Nt)),this._register(this._configuration.onDidChange(Zn=>{this._onDidChangeConfiguration.fire(Zn);const ai=this._configuration.options;if(Zn.hasChanged(133)){const vi=ai.get(133);this._onDidLayoutChange.fire(vi)}})),this._contextKeyService=this._register(Be.createScoped(this._domElement)),this._notificationService=wt,this._codeEditorService=X,this._commandService=Le,this._themeService=lt,this._register(new Nr(this,this._contextKeyService)),this._register(new Nl(this,this._contextKeyService,ln)),this._instantiationService=B.createChild(new Xa.y([ja.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new oa(i),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},Fn=Array.isArray(I.contributions)?I.contributions:n.Uc.getEditorContributions();for(const Zn of Fn)if(this._contributions[Zn.id])(0,P.dL)(new Error(`Cannot have two contributions with the same id ${Zn.id}`));else try{const ai=this._instantiationService.createInstance(Zn.ctor,this);this._contributions[Zn.id]=ai}catch(ai){(0,P.dL)(ai)}n.Uc.getEditorActions().forEach(Zn=>{if(this._actions[Zn.id])return void(0,P.dL)(new Error(`Cannot have two actions with the same id ${Zn.id}`));const ai=new Fs.p(Zn.id,Zn.label,Zn.alias,(0,fe.f6)(Zn.precondition),()=>this._instantiationService.invokeFunction(vi=>Promise.resolve(Zn.runEditorCommand(vi,this,null))),this._contextKeyService);this._actions[ai.id]=ai});const $n=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new x.eg(this._domElement,{onDragEnter:()=>{},onDragOver:Zn=>{if(!$n())return;const ai=this.getTargetAtClientPoint(Zn.clientX,Zn.clientY);ai?.position&&this.showDropIndicatorAt(ai.position)},onDrop:Zn=>function(Wt,i,r,I){return new(r||(r=Promise))(function(X,Le){function Be(Nt){try{wt(I.next(Nt))}catch(Zt){Le(Zt)}}function lt(Nt){try{wt(I.throw(Nt))}catch(Zt){Le(Zt)}}function wt(Nt){Nt.done?X(Nt.value):function B(X){return X instanceof r?X:new r(function(Le){Le(X)})}(Nt.value).then(Be,lt)}wt((I=I.apply(Wt,i||[])).next())})}(this,void 0,void 0,function*(){if(!$n()||(this.removeDropIndicator(),!Zn.dataTransfer))return;const ai=this.getTargetAtClientPoint(Zn.clientX,Zn.clientY);ai?.position&&this._onDropIntoEditor.fire({position:ai.position,event:Zn})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(i,r,I){return new Ie(i,r,this._domElement,I)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Os.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const i=Object.keys(this._contributions);for(let r=0,I=i.length;r<I;r++)this._contributions[i[r]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(i){return this._instantiationService.invokeFunction(i)}updateOptions(i){this._configuration.updateOptions(i||{})}getOptions(){return this._configuration.options}getOption(i){return this._configuration.options.get(i)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(i){return this._modelData?Ar.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),i):null}getValue(i=null){if(!this._modelData)return"";let I=0;return i&&i.lineEnding&&"\n"===i.lineEnding?I=1:i&&i.lineEnding&&"\r\n"===i.lineEnding&&(I=2),this._modelData.model.getValue(I,!(!i||!i.preserveBOM))}setValue(i){!this._modelData||this._modelData.model.setValue(i)}getModel(){return this._modelData?this._modelData.model:null}setModel(i=null){const r=i;if(null===this._modelData&&null===r||this._modelData&&this._modelData.model===r)return;const I=this.hasTextFocus(),B=this._detachModel();this._attachModel(r),I&&this.hasModel()&&this.focus();const X={oldModelUrl:B?B.uri:null,newModelUrl:r?r.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(X),this._postDetachModelCleanup(B)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const i in this._decorationTypeSubtypes){const r=this._decorationTypeSubtypes[i];for(const I in r)this._removeDecorationType(i+"-"+I)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(i,r,I,B){const X=i.model.validatePosition({lineNumber:r,column:I}),Le=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return i.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Le.lineNumber,B)}getTopForLineNumber(i,r=!1){return this._modelData?El._getVerticalOffsetForPosition(this._modelData,i,1,r):-1}getTopForPosition(i,r){return this._modelData?El._getVerticalOffsetForPosition(this._modelData,i,r,!1):-1}static _getVerticalOffsetForPosition(i,r,I,B=!1){const X=i.model.validatePosition({lineNumber:r,column:I}),Le=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return i.viewModel.viewLayout.getVerticalOffsetForLineNumber(Le.lineNumber,B)}getBottomForLineNumber(i,r=!1){return this._modelData?El._getVerticalOffsetAfterPosition(this._modelData,i,1,r):-1}setHiddenAreas(i){var r;null===(r=this._modelData)||void 0===r||r.viewModel.setHiddenAreas(i.map(I=>be.e.lift(I)))}getVisibleColumnFromPosition(i){if(!this._modelData)return i.column;const r=this._modelData.model.validatePosition(i),I=this._modelData.model.getOptions().tabSize;return Je.i.visibleColumnFromColumn(this._modelData.model.getLineContent(r.lineNumber),r.column,I)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(i,r="api"){if(this._modelData){if(!ue.L.isIPosition(i))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(r,[{selectionStartLineNumber:i.lineNumber,selectionStartColumn:i.column,positionLineNumber:i.lineNumber,positionColumn:i.column}])}}_sendRevealRange(i,r,I,B){if(!this._modelData)return;if(!be.e.isIRange(i))throw new Error("Invalid arguments");const X=this._modelData.model.validateRange(i),Le=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(X);this._modelData.viewModel.revealRange("api",I,Le,r,B)}revealLine(i,r=0){this._revealLine(i,0,r)}revealLineInCenter(i,r=0){this._revealLine(i,1,r)}revealLineInCenterIfOutsideViewport(i,r=0){this._revealLine(i,2,r)}revealLineNearTop(i,r=0){this._revealLine(i,5,r)}_revealLine(i,r,I){if("number"!=typeof i)throw new Error("Invalid arguments");this._sendRevealRange(new be.e(i,1,i,1),r,!1,I)}revealPosition(i,r=0){this._revealPosition(i,0,!0,r)}revealPositionInCenter(i,r=0){this._revealPosition(i,1,!0,r)}revealPositionInCenterIfOutsideViewport(i,r=0){this._revealPosition(i,2,!0,r)}revealPositionNearTop(i,r=0){this._revealPosition(i,5,!0,r)}_revealPosition(i,r,I,B){if(!ue.L.isIPosition(i))throw new Error("Invalid arguments");this._sendRevealRange(new be.e(i.lineNumber,i.column,i.lineNumber,i.column),r,I,B)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(i,r="api"){const I=Ve.Y.isISelection(i),B=be.e.isIRange(i);if(!I&&!B)throw new Error("Invalid arguments");I?this._setSelectionImpl(i,r):B&&this._setSelectionImpl({selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn},r)}_setSelectionImpl(i,r){if(!this._modelData)return;const I=new Ve.Y(i.selectionStartLineNumber,i.selectionStartColumn,i.positionLineNumber,i.positionColumn);this._modelData.viewModel.setSelections(r,[I])}revealLines(i,r,I=0){this._revealLines(i,r,0,I)}revealLinesInCenter(i,r,I=0){this._revealLines(i,r,1,I)}revealLinesInCenterIfOutsideViewport(i,r,I=0){this._revealLines(i,r,2,I)}revealLinesNearTop(i,r,I=0){this._revealLines(i,r,5,I)}_revealLines(i,r,I,B){if("number"!=typeof i||"number"!=typeof r)throw new Error("Invalid arguments");this._sendRevealRange(new be.e(i,1,r,1),I,!1,B)}revealRange(i,r=0,I=!1,B=!0){this._revealRange(i,I?1:0,B,r)}revealRangeInCenter(i,r=0){this._revealRange(i,1,!0,r)}revealRangeInCenterIfOutsideViewport(i,r=0){this._revealRange(i,2,!0,r)}revealRangeNearTop(i,r=0){this._revealRange(i,5,!0,r)}revealRangeNearTopIfOutsideViewport(i,r=0){this._revealRange(i,6,!0,r)}revealRangeAtTop(i,r=0){this._revealRange(i,3,!0,r)}_revealRange(i,r,I,B){if(!be.e.isIRange(i))throw new Error("Invalid arguments");this._sendRevealRange(be.e.lift(i),r,I,B)}setSelections(i,r="api",I=0){if(this._modelData){if(!i||0===i.length)throw new Error("Invalid arguments");for(let B=0,X=i.length;B<X;B++)if(!Ve.Y.isISelection(i[B]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(r,i,I)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(i,r=1){if(this._modelData){if("number"!=typeof i)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:i},r)}}setScrollTop(i,r=1){if(this._modelData){if("number"!=typeof i)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:i},r)}}setScrollPosition(i,r=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(i,r)}saveViewState(){if(!this._modelData)return null;const i={},r=Object.keys(this._contributions);for(const X of r){const Le=this._contributions[X];"function"==typeof Le.saveViewState&&(i[X]=Le.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:i}}restoreViewState(i){if(!this._modelData||!this._modelData.hasRealView)return;const r=i;if(r&&r.cursorState&&r.viewState){const I=r.cursorState;Array.isArray(I)?I.length>0&&this._modelData.viewModel.restoreCursorState(I):this._modelData.viewModel.restoreCursorState([I]);const B=r.contributionsState||{},X=Object.keys(this._contributions);for(let Be=0,lt=X.length;Be<lt;Be++){const wt=X[Be],Nt=this._contributions[wt];"function"==typeof Nt.restoreViewState&&Nt.restoreViewState(B[wt])}const Le=this._modelData.viewModel.reduceRestoreState(r.viewState);this._modelData.view.restoreState(Le)}}getContribution(i){return this._contributions[i]||null}getActions(){const i=[],r=Object.keys(this._actions);for(let I=0,B=r.length;I<B;I++)i.push(this._actions[r[I]]);return i}getSupportedActions(){let i=this.getActions();return i=i.filter(r=>r.isSupported()),i}getAction(i){return this._actions[i]||null}trigger(i,r,I){switch(I=I||{},r){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(i);case"type":return void this._type(i,I.text||"");case"replacePreviousChar":return void this._compositionType(i,I.text||"",I.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(i,I.text||"",I.replacePrevCharCnt||0,I.replaceNextCharCnt||0,I.positionDelta||0);case"paste":return void this._paste(i,I.text||"",I.pasteOnNewLine||!1,I.multicursorText||null,I.mode||null);case"cut":return void this._cut(i)}const B=this.getAction(r);B?Promise.resolve(B.run()).then(void 0,P.dL):!this._modelData||this._triggerEditorCommand(i,r,I)||this._triggerCommand(r,I)}_triggerCommand(i,r){this._commandService.executeCommand(i,r)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(i){!this._modelData||(this._modelData.viewModel.endComposition(i),this._onDidCompositionEnd.fire())}_type(i,r){!this._modelData||0===r.length||("keyboard"===i&&this._onWillType.fire(r),this._modelData.viewModel.type(r,i),"keyboard"===i&&this._onDidType.fire(r))}_compositionType(i,r,I,B,X){!this._modelData||this._modelData.viewModel.compositionType(r,I,B,X,i)}_paste(i,r,I,B,X){if(!this._modelData||0===r.length)return;const Le=this._modelData.viewModel,Be=Le.getSelection().getStartPosition();Le.paste(r,I,B,i);const lt=Le.getSelection().getStartPosition();"keyboard"===i&&this._onDidPaste.fire({range:new be.e(Be.lineNumber,Be.column,lt.lineNumber,lt.column),languageId:X})}_cut(i){!this._modelData||this._modelData.viewModel.cut(i)}_triggerEditorCommand(i,r,I){const B=n.Uc.getEditorCommand(r);return!!B&&((I=I||{}).source=i,this._instantiationService.invokeFunction(X=>{Promise.resolve(B.runEditorCommand(X,this,I)).then(void 0,P.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.popStackElement(),0))}executeEdits(i,r,I){if(!this._modelData||this._configuration.options.get(83))return!1;let B;return B=I?Array.isArray(I)?()=>I:I:()=>null,this._modelData.viewModel.executeEdits(i,r,B),!0}executeCommand(i,r){!this._modelData||this._modelData.viewModel.executeCommand(r,i)}executeCommands(i,r){!this._modelData||this._modelData.viewModel.executeCommands(r,i)}createDecorationsCollection(i){return new vl(this,i)}changeDecorations(i){return this._modelData?this._modelData.model.changeDecorations(i,this._id):null}getLineDecorations(i){return this._modelData?this._modelData.model.getLineDecorations(i,this._id,(0,we.$J)(this._configuration.options)):null}getDecorationsInRange(i){return this._modelData?this._modelData.model.getDecorationsInRange(i,this._id,(0,we.$J)(this._configuration.options)):null}deltaDecorations(i,r){return this._modelData?0===i.length&&0===r.length?i:this._modelData.model.deltaDecorations(i,r,this._id):[]}removeDecorations(i){!this._modelData||0===i.length||this._modelData.model.changeDecorations(r=>{r.deltaDecorations(i,[])})}removeDecorationsByType(i){const r=this._decorationTypeKeysToIds[i];r&&this.deltaDecorations(r,[]),this._decorationTypeKeysToIds.hasOwnProperty(i)&&delete this._decorationTypeKeysToIds[i],this._decorationTypeSubtypes.hasOwnProperty(i)&&delete this._decorationTypeSubtypes[i]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(i):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(i)}layout(i){this._configuration.observeContainer(i),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(i){const r={widget:i,position:i.getPosition()};this._contentWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[i.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(r)}layoutContentWidget(i){const r=i.getId();if(this._contentWidgets.hasOwnProperty(r)){const I=this._contentWidgets[r];I.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(I)}}removeContentWidget(i){const r=i.getId();if(this._contentWidgets.hasOwnProperty(r)){const I=this._contentWidgets[r];delete this._contentWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(I)}}addOverlayWidget(i){const r={widget:i,position:i.getPosition()};this._overlayWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[i.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(r)}layoutOverlayWidget(i){const r=i.getId();if(this._overlayWidgets.hasOwnProperty(r)){const I=this._overlayWidgets[r];I.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(I)}}removeOverlayWidget(i){const r=i.getId();if(this._overlayWidgets.hasOwnProperty(r)){const I=this._overlayWidgets[r];delete this._overlayWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(I)}}changeViewZones(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(i)}getTargetAtClientPoint(i,r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(i,r):null}getScrolledVisiblePosition(i){if(!this._modelData||!this._modelData.hasRealView)return null;const r=this._modelData.model.validatePosition(i),I=this._configuration.options,B=I.get(133);return{top:El._getVerticalOffsetForPosition(this._modelData,r.lineNumber,r.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(r.lineNumber,r.column)+B.glyphMarginWidth+B.lineNumbersWidth+B.decorationsWidth-this.getScrollLeft(),height:I.get(61)}}getOffsetForColumn(i,r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(i,r):-1}render(i=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,i)}setAriaOptions(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(i)}applyFontInfo(i){(0,Nn.N)(i,this._configuration.options.get(46))}setBanner(i,r){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=i,this._configuration.setReservedHeight(i?r:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(i){if(!i)return void(this._modelData=null);const r=[];this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._configuration.setIsDominatedByLongLines(i.isDominatedByLongLines()),this._configuration.setModelLineCount(i.getLineCount()),i.onBeforeAttached();const I=new ea(this._id,this._configuration,i,nl.create(),za.create(this._configuration.options),Le=>x.jL(Le),this.languageConfigurationService,this._themeService);r.push(i.onWillDispose(()=>this.setModel(null))),r.push(I.onEvent(Le=>{switch(Le.kind){case 0:this._onDidContentSizeChange.fire(Le);break;case 1:this._editorTextFocus.setValue(Le.hasFocus);break;case 2:this._onDidScrollChange.fire(Le);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{Le.reachedMaxCursorCount&&this._notificationService.warn(D.NC("cursors.maximum","The number of cursors has been limited to {0}.",Wo.MAX_CURSOR_COUNT));const Be=[];for(let Nt=0,Zt=Le.selections.length;Nt<Zt;Nt++)Be[Nt]=Le.selections[Nt].getPosition();const lt={position:Be[0],secondaryPositions:Be.slice(1),reason:Le.reason,source:Le.source};this._onDidChangeCursorPosition.fire(lt);const wt={selection:Le.selections[0],secondarySelections:Le.selections.slice(1),modelVersionId:Le.modelVersionId,oldSelections:Le.oldSelections,oldModelVersionId:Le.oldModelVersionId,source:Le.source,reason:Le.reason};this._onDidChangeCursorSelection.fire(wt);break}case 7:this._onDidChangeModelDecorations.fire(Le.event);break;case 8:this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._onDidChangeModelLanguage.fire(Le.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Le.event);break;case 10:this._onDidChangeModelContent.fire(Le.event);break;case 11:this._onDidChangeModelOptions.fire(Le.event);break;case 12:this._onDidChangeModelTokens.fire(Le.event)}}));const[B,X]=this._createView(I);if(X){this._domElement.appendChild(B.domNode.domNode);let Le=Object.keys(this._contentWidgets);for(let Be=0,lt=Le.length;Be<lt;Be++)B.addContentWidget(this._contentWidgets[Le[Be]]);Le=Object.keys(this._overlayWidgets);for(let Be=0,lt=Le.length;Be<lt;Be++)B.addOverlayWidget(this._overlayWidgets[Le[Be]]);B.render(!1,!0),B.domNode.domNode.setAttribute("data-uri",i.uri.toString())}this._modelData=new Br(i,I,B,X,r)}_createView(i){let r;r=this.isSimpleWidget?{paste:(X,Le,Be,lt)=>{this._paste("keyboard",X,Le,Be,lt)},type:X=>{this._type("keyboard",X)},compositionType:(X,Le,Be,lt)=>{this._compositionType("keyboard",X,Le,Be,lt)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(X,Le,Be,lt)=>{this._commandService.executeCommand("paste",{text:X,pasteOnNewLine:Le,multicursorText:Be,mode:lt})},type:X=>{this._commandService.executeCommand("type",{text:X})},compositionType:(X,Le,Be,lt)=>{Be||lt?this._commandService.executeCommand("compositionType",{text:X,replacePrevCharCnt:Le,replaceNextCharCnt:Be,positionDelta:lt}):this._commandService.executeCommand("replacePreviousChar",{text:X,replaceCharCnt:Le})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const I=new un(i.coordinatesConverter);return I.onKeyDown=X=>this._onKeyDown.fire(X),I.onKeyUp=X=>this._onKeyUp.fire(X),I.onContextMenu=X=>this._onContextMenu.fire(X),I.onMouseMove=X=>this._onMouseMove.fire(X),I.onMouseLeave=X=>this._onMouseLeave.fire(X),I.onMouseDown=X=>this._onMouseDown.fire(X),I.onMouseUp=X=>this._onMouseUp.fire(X),I.onMouseDrag=X=>this._onMouseDrag.fire(X),I.onMouseDrop=X=>this._onMouseDrop.fire(X),I.onMouseDropCanceled=X=>this._onMouseDropCanceled.fire(X),I.onMouseWheel=X=>this._onMouseWheel.fire(X),[new Hs(r,this._configuration,this._themeService.getColorTheme(),i,I,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(i){i?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const i=this._modelData.model,r=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),r&&this._domElement.contains(r)&&this._domElement.removeChild(r),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),i}_removeDecorationType(i){this._codeEditorService.removeDecorationType(i)}hasModel(){return null!==this._modelData}showDropIndicatorAt(i){const r=[{range:new be.e(i.lineNumber,i.column,i.lineNumber,i.column),options:El.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(r),this.revealPosition(i,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};ga.dropIntoEditorDecorationOptions=Js.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),ga=function(Wt,i,r,I){var Le,B=arguments.length,X=B<3?i:null===I?I=Object.getOwnPropertyDescriptor(i,r):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(Wt,i,r,I);else for(var Be=Wt.length-1;Be>=0;Be--)(Le=Wt[Be])&&(X=(B<3?Le(X):B>3?Le(i,r,X):Le(i,r))||X);return B>3&&X&&Object.defineProperty(i,r,X),X}([Pr(3,Ya.TG),Pr(4,ce.$),Pr(5,Ra.Hy),Pr(6,ja.i6),Pr(7,Wi.XE),Pr(8,Tl.lT),Pr(9,Ne.F),Pr(10,Fr.c_),Pr(11,Pl.p)],ga);class Zr extends V.JT{constructor(i){super(),this._emitterOptions=i,this._onDidChangeToTrue=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(i){const r=i?2:1;this._value!==r&&(this._value=r,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Nr extends V.JT{constructor(i,r){super(),this._editor=i,r.createKey("editorId",i.getId()),this._editorSimpleInput=Ro.u.editorSimpleInput.bindTo(r),this._editorFocus=Ro.u.focus.bindTo(r),this._textInputFocus=Ro.u.textInputFocus.bindTo(r),this._editorTextFocus=Ro.u.editorTextFocus.bindTo(r),this._editorTabMovesFocus=Ro.u.tabMovesFocus.bindTo(r),this._editorReadonly=Ro.u.readOnly.bindTo(r),this._inDiffEditor=Ro.u.inDiffEditor.bindTo(r),this._editorColumnSelection=Ro.u.columnSelection.bindTo(r),this._hasMultipleSelections=Ro.u.hasMultipleSelections.bindTo(r),this._hasNonEmptySelection=Ro.u.hasNonEmptySelection.bindTo(r),this._canUndo=Ro.u.canUndo.bindTo(r),this._canRedo=Ro.u.canRedo.bindTo(r),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const i=this._editor.getOptions();this._editorTabMovesFocus.set(i.get(132)),this._editorReadonly.set(i.get(83)),this._inDiffEditor.set(i.get(56)),this._editorColumnSelection.set(i.get(18))}_updateFromSelection(){const i=this._editor.getSelections();i?(this._hasMultipleSelections.set(i.length>1),this._hasNonEmptySelection.set(i.some(r=>!r.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const i=this._editor.getModel();this._canUndo.set(Boolean(i&&i.canUndo())),this._canRedo.set(Boolean(i&&i.canRedo()))}}class Nl extends V.JT{constructor(i,r,I){super(),this._editor=i,this._contextKeyService=r,this._languageFeaturesService=I,this._langId=Ro.u.languageId.bindTo(r),this._hasCompletionItemProvider=Ro.u.hasCompletionItemProvider.bindTo(r),this._hasCodeActionsProvider=Ro.u.hasCodeActionsProvider.bindTo(r),this._hasCodeLensProvider=Ro.u.hasCodeLensProvider.bindTo(r),this._hasDefinitionProvider=Ro.u.hasDefinitionProvider.bindTo(r),this._hasDeclarationProvider=Ro.u.hasDeclarationProvider.bindTo(r),this._hasImplementationProvider=Ro.u.hasImplementationProvider.bindTo(r),this._hasTypeDefinitionProvider=Ro.u.hasTypeDefinitionProvider.bindTo(r),this._hasHoverProvider=Ro.u.hasHoverProvider.bindTo(r),this._hasDocumentHighlightProvider=Ro.u.hasDocumentHighlightProvider.bindTo(r),this._hasDocumentSymbolProvider=Ro.u.hasDocumentSymbolProvider.bindTo(r),this._hasReferenceProvider=Ro.u.hasReferenceProvider.bindTo(r),this._hasRenameProvider=Ro.u.hasRenameProvider.bindTo(r),this._hasSignatureHelpProvider=Ro.u.hasSignatureHelpProvider.bindTo(r),this._hasInlayHintsProvider=Ro.u.hasInlayHintsProvider.bindTo(r),this._hasDocumentFormattingProvider=Ro.u.hasDocumentFormattingProvider.bindTo(r),this._hasDocumentSelectionFormattingProvider=Ro.u.hasDocumentSelectionFormattingProvider.bindTo(r),this._hasMultipleDocumentFormattingProvider=Ro.u.hasMultipleDocumentFormattingProvider.bindTo(r),this._hasMultipleDocumentSelectionFormattingProvider=Ro.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(r),this._isInWalkThrough=Ro.u.isInWalkThroughSnippet.bindTo(r);const B=()=>this._update();this._register(i.onDidChangeModel(B)),this._register(i.onDidChangeModelLanguage(B)),this._register(I.completionProvider.onDidChange(B)),this._register(I.codeActionProvider.onDidChange(B)),this._register(I.codeLensProvider.onDidChange(B)),this._register(I.definitionProvider.onDidChange(B)),this._register(I.declarationProvider.onDidChange(B)),this._register(I.implementationProvider.onDidChange(B)),this._register(I.typeDefinitionProvider.onDidChange(B)),this._register(I.hoverProvider.onDidChange(B)),this._register(I.documentHighlightProvider.onDidChange(B)),this._register(I.documentSymbolProvider.onDidChange(B)),this._register(I.referenceProvider.onDidChange(B)),this._register(I.renameProvider.onDidChange(B)),this._register(I.documentFormattingEditProvider.onDidChange(B)),this._register(I.documentRangeFormattingEditProvider.onDidChange(B)),this._register(I.signatureHelpProvider.onDidChange(B)),this._register(I.inlayHintsProvider.onDidChange(B)),B()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const i=this._editor.getModel();i?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(i.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(i)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(i)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(i)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(i)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(i)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(i)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(i)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(i)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(i)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(i)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(i)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(i)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(i)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(i)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(i)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(i).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._isInWalkThrough.set(i.uri.scheme===H.lg.walkThroughSnippet)}):this.reset()}}class oa extends V.JT{constructor(i){super(),this._onChange=this._register(new O.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(x.go(i)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class vl{constructor(i,r){this._editor=i,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(r)&&r.length>0&&this.set(r)}get length(){return this._decorationIds.length}onDidChange(i,r,I){return this._editor.onDidChangeModelDecorations(B=>{this._isChangingDecorations||i.call(r,B)},I)}getRange(i){return!this._editor.hasModel()||i>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[i])}getRanges(){if(!this._editor.hasModel())return[];const i=this._editor.getModel(),r=[];for(const I of this._decorationIds){const B=i.getDecorationRange(I);B&&r.push(B)}return r}has(i){return this._decorationIds.includes(i.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(i){try{this._isChangingDecorations=!0,this._editor.changeDecorations(r=>{this._decorationIds=r.deltaDecorations(this._decorationIds,i)})}finally{this._isChangingDecorations=!1}}}const Rl=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Cl=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ka(Wt){return Rl+encodeURIComponent(Wt.toString())+Cl}const Ma=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),sl=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Wi.Ic)((Wt,i)=>{const r=Wt.getColor(Ye.b6y);r&&i.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${r}; }`);const I=Wt.getColor(Ye.lXJ);I&&i.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ka(I)}") repeat-x bottom left; }`);const B=Wt.getColor(Ye.L_H);B&&i.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${B}; }`);const X=Wt.getColor(Ye.pW3);X&&i.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${X}; }`);const Le=Wt.getColor(Ye.uoC);Le&&i.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ka(Le)}") repeat-x bottom left; }`);const Be=Wt.getColor(Ye.gpD);Be&&i.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Be}; }`);const lt=Wt.getColor(Ye.T83);lt&&i.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${lt}; }`);const wt=Wt.getColor(Ye.c63);wt&&i.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ka(wt)}") repeat-x bottom left; }`);const Nt=Wt.getColor(Ye.few);Nt&&i.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Nt}; }`);const Zt=Wt.getColor(Ye.fEB);Zt&&i.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Zt}; }`);const ln=Wt.getColor(Ye.Dut);ln&&i.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function rl(Wt){return Ma+encodeURIComponent(Wt.toString())+sl}(ln)}") no-repeat bottom left; }`);const hn=Wt.getColor(Ki.zu);hn&&i.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${hn.rgba.a}; }`);const Fn=Wt.getColor(Ki.kp);Fn&&i.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Fn}; }`);const $n=Wt.getColor(Ye.NOs)||"inherit";i.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${$n}}`)})},19186:(Dt,Y,e)=>{"use strict";e.d(Y,{H:()=>t});var d=e(6276),n=e(33745),l=e(85421),S=e(66549),v=e(16468),T=e(9265),C=e(54436),E=e(40902),L=e(64280),_=e(94911),s=e(90790),c=function(a,p){return function(u,g){p(u,g,a)}};let t=class extends l.Gm{constructor(p,u,g,b,y,w,D,x,P,O,V,H){super(p,Object.assign(Object.assign({},g.getRawOptions()),{overflowWidgetsDomNode:g.getOverflowWidgetsDomNode()}),{},b,y,w,D,x,P,O,V,H),this._parentEditor=g,this._overwriteOptions=u,super.updateOptions(this._overwriteOptions),this._register(g.onDidChangeConfiguration(z=>this._onParentConfigurationChanged(z)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(p){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(p){d.jB(this._overwriteOptions,p,!0),super.updateOptions(this._overwriteOptions)}};t=function(a,p,u,g){var w,b=arguments.length,y=b<3?p:null===g?g=Object.getOwnPropertyDescriptor(p,u):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(a,p,u,g);else for(var D=a.length-1;D>=0;D--)(w=a[D])&&(y=(b<3?w(y):b>3?w(p,u,y):w(p,u))||y);return b>3&&y&&Object.defineProperty(p,u,y),y}([c(3,T.TG),c(4,n.$),c(5,S.Hy),c(6,v.i6),c(7,E.XE),c(8,C.lT),c(9,L.F),c(10,_.c_),c(11,s.p)],t)},22599:(Dt,Y,e)=>{"use strict";e.d(Y,{OY:()=>l,Sj:()=>S,T4:()=>n,Uo:()=>v,hP:()=>T});var d=e(7233);class n{constructor(E,L,_=!1){this._range=E,this._text=L,this.insertsAutoWhitespace=_}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromPositions(s.getEndPosition())}}class l{constructor(E,L){this._range=E,this._text=L}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromRange(s,0)}}class S{constructor(E,L,_=!1){this._range=E,this._text=L,this.insertsAutoWhitespace=_}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromPositions(s.getStartPosition())}}class v{constructor(E,L,_,s,m=!1){this._range=E,this._text=L,this._columnDeltaOffset=s,this._lineNumberDeltaOffset=_,this.insertsAutoWhitespace=m}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromPositions(s.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class T{constructor(E,L,_,s=!1){this._range=E,this._text=L,this._initialSelection=_,this._forceMoveMarkers=s,this._selectionId=null}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=L.trackSelection(this._initialSelection)}computeCursorState(E,L){return L.getTrackedSelection(this._selectionId)}}},91117:(Dt,Y,e)=>{"use strict";e.d(Y,{U:()=>s});var d=e(73879),n=e(5409),l=e(98570),S=e(7233),v=e(12969),T=e(94911);const L=Object.create(null);function _(m,c){if(c<=0)return"";L[m]||(L[m]=["",m]);const t=L[m];for(let a=t.length;a<=c;a++)t[a]=t[a-1]+m;return t[c]}let s=class Ld{constructor(c,t,a){this._languageConfigurationService=a,this._opts=t,this._selection=c,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(c,t,a,p,u){const g=n.i.visibleColumnFromColumn(c,t,a);if(u){const b=_(" ",p);return _(b,n.i.prevIndentTabStop(g,p)/p)}return _("\t",n.i.prevRenderTabStop(g,a)/a)}static shiftIndent(c,t,a,p,u){const g=n.i.visibleColumnFromColumn(c,t,a);if(u){const b=_(" ",p);return _(b,n.i.nextIndentTabStop(g,p)/p)}return _("\t",n.i.nextRenderTabStop(g,a)/a)}_addEditOperation(c,t,a){this._useLastEditRangeForCursorEndPosition?c.addTrackedEditOperation(t,a):c.addEditOperation(t,a)}getEditOperations(c,t){const a=this._selection.startLineNumber;let p=this._selection.endLineNumber;1===this._selection.endColumn&&a!==p&&(p-=1);const{tabSize:u,indentSize:g,insertSpaces:b}=this._opts,y=a===p;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(c.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let w=0,D=0;for(let x=a;x<=p;x++,w=D){D=0;const P=c.getLineContent(x);let V,O=d.LC(P);if((!this._opts.isUnshift||0!==P.length&&0!==O)&&(y||this._opts.isUnshift||0!==P.length)){if(-1===O&&(O=P.length),x>1&&n.i.visibleColumnFromColumn(P,O+1,u)%g!=0&&c.tokenization.isCheapToTokenize(x-1)){const z=(0,v.A)(this._opts.autoIndent,c,new l.e(x-1,c.getLineMaxColumn(x-1),x-1,c.getLineMaxColumn(x-1)),this._languageConfigurationService);if(z){if(D=w,z.appendText)for(let k=0,F=z.appendText.length;k<F&&D<g&&32===z.appendText.charCodeAt(k);k++)D++;z.removeText&&(D=Math.max(0,D-z.removeText));for(let k=0;k<D&&0!==O&&32===P.charCodeAt(O-1);k++)O--}}this._opts.isUnshift&&0===O||(V=this._opts.isUnshift?Ld.unshiftIndent(P,O+1,u,g,b):Ld.shiftIndent(P,O+1,u,g,b),this._addEditOperation(t,new l.e(x,1,x,O+1),V),x===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=O+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===c.getLineLength(a)&&(this._useLastEditRangeForCursorEndPosition=!0);const w=b?_(" ",g):"\t";for(let D=a;D<=p;D++){const x=c.getLineContent(D);let P=d.LC(x);if((!this._opts.isUnshift||0!==x.length&&0!==P)&&(y||this._opts.isUnshift||0!==x.length)&&(-1===P&&(P=x.length),!this._opts.isUnshift||0!==P))if(this._opts.isUnshift){P=Math.min(P,g);for(let O=0;O<P;O++)if(9===x.charCodeAt(O)){P=O+1;break}this._addEditOperation(t,new l.e(D,1,D,P+1),"")}else this._addEditOperation(t,new l.e(D,1,D,1),w),D===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(c,t){if(this._useLastEditRangeForCursorEndPosition){const p=t.getInverseEditOperations()[0];return new S.Y(p.range.endLineNumber,p.range.endColumn,p.range.endLineNumber,p.range.endColumn)}const a=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const p=this._selection.startColumn;return a.startColumn<=p?a:0===a.getDirection()?new S.Y(a.startLineNumber,p,a.endLineNumber,a.endColumn):new S.Y(a.endLineNumber,a.endColumn,a.startLineNumber,p)}return a}};var c;s=function(m,c,t,a){var g,p=arguments.length,u=p<3?c:null===a?a=Object.getOwnPropertyDescriptor(c,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(m,c,t,a);else for(var b=m.length-1;b>=0;b--)(g=m[b])&&(u=(p<3?g(u):p>3?g(c,t,u):g(c,t))||u);return p>3&&u&&Object.defineProperty(c,t,u),u}([(2,c=T.c_,function(t,a){c(t,a,2)})],s)},61904:(Dt,Y,e)=>{"use strict";e.d(Y,{Pe:()=>m,ei:()=>s,wk:()=>T});var d=e(54862),n=e(39945),l=e(55197),S=e(29093),v=e(4259);const T=Object.freeze({id:"editor",order:5,type:"object",title:l.NC("editorConfigurationTitle","Editor"),scope:5}),C=Object.assign(Object.assign({},T),{properties:{"editor.tabSize":{type:"number",default:n.D.tabSize,minimum:1,markdownDescription:l.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:n.D.insertSpaces,markdownDescription:l.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:n.D.detectIndentation,markdownDescription:l.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:n.D.trimAutoWhitespace,description:l.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:n.D.largeFileOptimizations,description:l.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:l.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[l.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),l.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),l.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:l.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[l.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),l.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),l.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:l.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:l.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:l.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:l.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:l.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:l.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:l.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:l.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:l.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:l.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:l.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:l.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:l.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:l.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:l.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:l.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[l.NC("wordWrap.off","Lines will never wrap."),l.NC("wordWrap.on","Lines will wrap at the viewport width."),l.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function E(t){return typeof t.type<"u"||typeof t.anyOf<"u"}for(const t of d.Bc){const a=t.schema;if(typeof a<"u")if(E(a))C.properties[`editor.${t.name}`]=a;else for(const p in a)Object.hasOwnProperty.call(a,p)&&(C.properties[p]=a[p])}let L=null;function _(){return null===L&&(L=Object.create(null),Object.keys(C.properties).forEach(t=>{L[t]=!0})),L}function s(t){return _()[`editor.${t}`]||!1}function m(t){return _()[`diffEditor.${t}`]||!1}v.B.as(S.IP.Configuration).registerConfiguration(C)},54862:(Dt,Y,e)=>{"use strict";e.d(Y,{$J:()=>Ue,Av:()=>tt,BH:()=>$t,Bb:()=>E,Bc:()=>mt,LJ:()=>L,NY:()=>w,O7:()=>a,Zc:()=>u,d2:()=>z,gk:()=>M,hL:()=>vt,n0:()=>U,qt:()=>Ct,rk:()=>s,y0:()=>C});var d=e(55197),n=e(8841),l=e(50894),S=e(64023),v=e(6276),T=e(39945);const C=8;class E{constructor(Ke){this._values=Ke}hasChanged(Ke){return this._values[Ke]}}class L{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class _{constructor(Ke,ht,jt,fn){this.id=Ke,this.name=ht,this.defaultValue=jt,this.schema=fn}applyUpdate(Ke,ht){return m(Ke,ht)}compute(Ke,ht,jt){return jt}}class s{constructor(Ke,ht){this.newValue=Ke,this.didChange=ht}}function m(Bt,Ke){if("object"!=typeof Bt||"object"!=typeof Ke||!Bt||!Ke)return new s(Ke,Bt!==Ke);if(Array.isArray(Bt)||Array.isArray(Ke)){const jt=Array.isArray(Bt)&&Array.isArray(Ke)&&S.fS(Bt,Ke);return new s(Ke,!jt)}let ht=!1;for(const jt in Ke)if(Ke.hasOwnProperty(jt)){const fn=m(Bt[jt],Ke[jt]);fn.didChange&&(Bt[jt]=fn.newValue,ht=!0)}return new s(Bt,ht)}class c{constructor(Ke){this.schema=void 0,this.id=Ke,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ke,ht){return m(Ke,ht)}validate(Ke){return this.defaultValue}}class t{constructor(Ke,ht,jt,fn){this.id=Ke,this.name=ht,this.defaultValue=jt,this.schema=fn}applyUpdate(Ke,ht){return m(Ke,ht)}validate(Ke){return typeof Ke>"u"?this.defaultValue:Ke}compute(Ke,ht,jt){return jt}}function a(Bt,Ke){return typeof Bt>"u"?Ke:"false"!==Bt&&Boolean(Bt)}class p extends t{constructor(Ke,ht,jt,fn){typeof fn<"u"&&(fn.type="boolean",fn.default=jt),super(Ke,ht,jt,fn)}validate(Ke){return a(Ke,this.defaultValue)}}function u(Bt,Ke,ht,jt){if(typeof Bt>"u")return Ke;let fn=parseInt(Bt,10);return isNaN(fn)?Ke:(fn=Math.max(ht,fn),fn=Math.min(jt,fn),0|fn)}class g extends t{constructor(Ke,ht,jt,fn,Dn,yt){typeof yt<"u"&&(yt.type="integer",yt.default=jt,yt.minimum=fn,yt.maximum=Dn),super(Ke,ht,jt,yt),this.minimum=fn,this.maximum=Dn}static clampedInt(Ke,ht,jt,fn){return u(Ke,ht,jt,fn)}validate(Ke){return g.clampedInt(Ke,this.defaultValue,this.minimum,this.maximum)}}class b extends t{constructor(Ke,ht,jt,fn,Dn){typeof Dn<"u"&&(Dn.type="number",Dn.default=jt),super(Ke,ht,jt,Dn),this.validationFn=fn}static clamp(Ke,ht,jt){return Ke<ht?ht:Ke>jt?jt:Ke}static float(Ke,ht){if("number"==typeof Ke)return Ke;if(typeof Ke>"u")return ht;const jt=parseFloat(Ke);return isNaN(jt)?ht:jt}validate(Ke){return this.validationFn(b.float(Ke,this.defaultValue))}}class y extends t{static string(Ke,ht){return"string"!=typeof Ke?ht:Ke}constructor(Ke,ht,jt,fn){typeof fn<"u"&&(fn.type="string",fn.default=jt),super(Ke,ht,jt,fn)}validate(Ke){return y.string(Ke,this.defaultValue)}}function w(Bt,Ke,ht){return"string"!=typeof Bt||-1===ht.indexOf(Bt)?Ke:Bt}class D extends t{constructor(Ke,ht,jt,fn,Dn){typeof Dn<"u"&&(Dn.type="string",Dn.enum=fn,Dn.default=jt),super(Ke,ht,jt,Dn),this._allowedValues=fn}validate(Ke){return w(Ke,this.defaultValue,this._allowedValues)}}class x extends _{constructor(Ke,ht,jt,fn,Dn,yt,He){typeof He<"u"&&(He.type="string",He.enum=Dn,He.default=fn),super(Ke,ht,jt,He),this._allowedValues=Dn,this._convert=yt}validate(Ke){return"string"!=typeof Ke||-1===this._allowedValues.indexOf(Ke)?this.defaultValue:this._convert(Ke)}}var z=(()=>{return(Bt=z||(z={}))[Bt.Line=1]="Line",Bt[Bt.Block=2]="Block",Bt[Bt.Underline=3]="Underline",Bt[Bt.LineThin=4]="LineThin",Bt[Bt.BlockOutline=5]="BlockOutline",Bt[Bt.UnderlineThin=6]="UnderlineThin",z;var Bt})();let U=(()=>{class Bt extends _{constructor(){super(47,"fontLigatures",Bt.OFF,{anyOf:[{type:"boolean",description:d.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:d.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:d.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(ht){return typeof ht>"u"?this.defaultValue:"string"==typeof ht?"false"===ht?Bt.OFF:"true"===ht?Bt.ON:ht:Boolean(ht)?Bt.ON:Bt.OFF}}return Bt.OFF='"liga" off, "calt" off',Bt.ON='"liga" on, "calt" on',Bt})(),W=(()=>{class Bt extends _{constructor(){super(49,"fontWeight",vt.fontWeight,{anyOf:[{type:"number",minimum:Bt.MINIMUM_VALUE,maximum:Bt.MAXIMUM_VALUE,errorMessage:d.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Bt.SUGGESTION_VALUES}],default:vt.fontWeight,description:d.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(ht){return"normal"===ht||"bold"===ht?ht:String(g.clampedInt(ht,vt.fontWeight,Bt.MINIMUM_VALUE,Bt.MAXIMUM_VALUE))}}return Bt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Bt.MINIMUM_VALUE=1,Bt.MAXIMUM_VALUE=1e3,Bt})();class M extends c{constructor(){super(133)}compute(Ke,ht,jt){return M.computeLayout(ht,{memory:Ke.memory,outerWidth:Ke.outerWidth,outerHeight:Ke.outerHeight,isDominatedByLongLines:Ke.isDominatedByLongLines,lineHeight:Ke.fontInfo.lineHeight,viewLineCount:Ke.viewLineCount,lineNumbersDigitCount:Ke.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ke.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ke.fontInfo.maxDigitWidth,pixelRatio:Ke.pixelRatio})}static computeContainedMinimapLineCount(Ke){const ht=Ke.height/Ke.lineHeight,jt=Ke.scrollBeyondLastLine?ht-1:0,fn=(Ke.viewLineCount+jt)/(Ke.pixelRatio*Ke.height);return{typicalViewportLineCount:ht,extraLinesBeyondLastLine:jt,desiredRatio:fn,minimapLineCount:Math.floor(Ke.viewLineCount/fn)}}static _computeMinimapLayout(Ke,ht){const jt=Ke.outerWidth,fn=Ke.outerHeight,Dn=Ke.pixelRatio;if(!Ke.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Dn*fn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:fn};const yt=ht.stableMinimapLayoutInput,He=yt&&Ke.outerHeight===yt.outerHeight&&Ke.lineHeight===yt.lineHeight&&Ke.typicalHalfwidthCharacterWidth===yt.typicalHalfwidthCharacterWidth&&Ke.pixelRatio===yt.pixelRatio&&Ke.scrollBeyondLastLine===yt.scrollBeyondLastLine&&Ke.minimap.enabled===yt.minimap.enabled&&Ke.minimap.side===yt.minimap.side&&Ke.minimap.size===yt.minimap.size&&Ke.minimap.showSlider===yt.minimap.showSlider&&Ke.minimap.renderCharacters===yt.minimap.renderCharacters&&Ke.minimap.maxColumn===yt.minimap.maxColumn&&Ke.minimap.scale===yt.minimap.scale&&Ke.verticalScrollbarWidth===yt.verticalScrollbarWidth&&Ke.isViewportWrapping===yt.isViewportWrapping,ye=Ke.lineHeight,Ae=Ke.typicalHalfwidthCharacterWidth,ue=Ke.scrollBeyondLastLine,be=Ke.minimap.renderCharacters;let Je=Dn>=2?Math.round(2*Ke.minimap.scale):Ke.minimap.scale;const Fe=Ke.minimap.maxColumn,nt=Ke.minimap.size,bt=Ke.minimap.side,Ut=Ke.verticalScrollbarWidth,vn=Ke.viewLineCount,Mn=Ke.remainingWidth,St=Ke.isViewportWrapping,gn=be?2:3;let Vn=Math.floor(Dn*fn);const Sn=Vn/Dn;let Gn=!1,ci=!1,ii=gn*Je,Ei=Je/Dn,no=1;if("fill"===nt||"fit"===nt){const{typicalViewportLineCount:Yt,extraLinesBeyondLastLine:pt,desiredRatio:gt,minimapLineCount:Kt}=M.computeContainedMinimapLineCount({viewLineCount:vn,scrollBeyondLastLine:ue,height:fn,lineHeight:ye,pixelRatio:Dn});if(vn/Kt>1)Gn=!0,ci=!0,Je=1,ii=1,Ei=Je/Dn;else{let an=!1,mn=Je+1;if("fit"===nt){const Nn=Math.ceil((vn+pt)*ii);St&&He&&Mn<=ht.stableFitRemainingWidth?(an=!0,mn=ht.stableFitMaxMinimapScale):an=Nn>Vn}if("fill"===nt||an){Gn=!0;const Nn=Je;ii=Math.min(ye*Dn,Math.max(1,Math.floor(1/gt))),St&&He&&Mn<=ht.stableFitRemainingWidth&&(mn=ht.stableFitMaxMinimapScale),Je=Math.min(mn,Math.max(1,Math.floor(ii/gn))),Je>Nn&&(no=Math.min(2,Je/Nn)),Ei=Je/Dn/no,Vn=Math.ceil(Math.max(Yt,vn+pt)*ii),St?(ht.stableMinimapLayoutInput=Ke,ht.stableFitRemainingWidth=Mn,ht.stableFitMaxMinimapScale=Je):(ht.stableMinimapLayoutInput=null,ht.stableFitRemainingWidth=0)}}}const to=Math.floor(Fe*Ei),Co=Math.min(to,Math.max(0,Math.floor((Mn-Ut-2)*Ei/(Ae+Ei)))+C);let io=Math.floor(Dn*Co);const uo=io/Dn;return io=Math.floor(io*no),{renderMinimap:be?1:2,minimapLeft:"left"===bt?0:jt-Co-Ut,minimapWidth:Co,minimapHeightIsEditorHeight:Gn,minimapIsSampling:ci,minimapScale:Je,minimapLineHeight:ii,minimapCanvasInnerWidth:io,minimapCanvasInnerHeight:Vn,minimapCanvasOuterWidth:uo,minimapCanvasOuterHeight:Sn}}static computeLayout(Ke,ht){const jt=0|ht.outerWidth,fn=0|ht.outerHeight,Dn=0|ht.lineHeight,yt=0|ht.lineNumbersDigitCount,He=ht.typicalHalfwidthCharacterWidth,ye=ht.maxDigitWidth,Ae=ht.pixelRatio,ue=ht.viewLineCount,be=Ke.get(125),Je="inherit"===be?Ke.get(124):be,Fe="inherit"===Je?Ke.get(120):Je,nt=Ke.get(123),bt=Ke.get(2),Ut=ht.isDominatedByLongLines,vn=Ke.get(52),Mn=0!==Ke.get(62).renderType,St=Ke.get(63),gn=Ke.get(96),Vn=Ke.get(67),Sn=Ke.get(94),Gn=Sn.verticalScrollbarSize,ci=Sn.verticalHasArrows,ii=Sn.arrowSize,Ei=Sn.horizontalScrollbarSize,no=Ke.get(60),to=Ke.get(39),Co="never"!==Ke.get(101);let io;if("string"==typeof no&&/^\d+(\.\d+)?ch$/.test(no)){const Li=parseFloat(no.substr(0,no.length-2));io=g.clampedInt(Li*He,0,0,1e3)}else io=g.clampedInt(no,0,0,1e3);to&&Co&&(io+=16);let uo=0;if(Mn){const Li=Math.max(yt,St);uo=Math.round(Li*ye)}let go=0;vn&&(go=Dn);let si=0,Yt=si+go,pt=Yt+uo,gt=pt+io;const Kt=jt-go-uo-io;let nn=!1,an=!1,mn=-1;2!==bt&&("inherit"===Je&&Ut?(nn=!0,an=!0):"on"===Fe||"bounded"===Fe?an=!0:"wordWrapColumn"===Fe&&(mn=nt));const Nn=M._computeMinimapLayout({outerWidth:jt,outerHeight:fn,lineHeight:Dn,typicalHalfwidthCharacterWidth:He,pixelRatio:Ae,scrollBeyondLastLine:gn,minimap:Vn,verticalScrollbarWidth:Gn,viewLineCount:ue,remainingWidth:Kt,isViewportWrapping:an},ht.memory||new L);0!==Nn.renderMinimap&&0===Nn.minimapLeft&&(si+=Nn.minimapWidth,Yt+=Nn.minimapWidth,pt+=Nn.minimapWidth,gt+=Nn.minimapWidth);const jn=Kt-Nn.minimapWidth,Yn=Math.max(1,Math.floor((jn-Gn-2)/He)),wi=ci?ii:0;return an&&(mn=Math.max(1,Yn),"bounded"===Fe&&(mn=Math.min(mn,nt))),{width:jt,height:fn,glyphMarginLeft:si,glyphMarginWidth:go,lineNumbersLeft:Yt,lineNumbersWidth:uo,decorationsLeft:pt,decorationsWidth:io,contentLeft:gt,contentWidth:jn,minimap:Nn,viewportColumn:Yn,isWordWrapMinified:nn,isViewportWrapping:an,wrappingColumn:mn,verticalScrollbarWidth:Gn,horizontalScrollbarHeight:Ei,overviewRuler:{top:wi,width:Gn,height:fn-2*wi,right:0}}}}function Ue(Bt){const Ke=Bt.get(89);return"editable"===Ke?Bt.get(83):"on"!==Ke}function ce(Bt,Ke){if("string"!=typeof Bt)return Ke;switch(Bt){case"hidden":return 2;case"visible":return 3;default:return 1}}const tt="inUntrustedWorkspace",Ct={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function he(Bt,Ke,ht){const jt=ht.indexOf(Bt);return-1===jt?Ke:ht[jt]}const vt={fontFamily:n.dz?"Menlo, Monaco, 'Courier New', monospace":n.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:n.dz?12:14,lineHeight:0,letterSpacing:0},mt=[];function _t(Bt){return mt[Bt.id]=Bt,Bt}const $t={acceptSuggestionOnCommitCharacter:_t(new p(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:d.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:_t(new D(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",d.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:d.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:_t(new class O extends _{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[d.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),d.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),d.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:d.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Ke){switch(Ke){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ke,ht,jt){return 0===jt?Ke.accessibilitySupport:jt}}),accessibilityPageSize:_t(new g(3,"accessibilityPageSize",10,1,1073741824,{description:d.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:_t(new y(4,"ariaLabel",d.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:_t(new D(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",d.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),d.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:d.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:_t(new D(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",d.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:d.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:_t(new D(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",d.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:d.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:_t(new D(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",d.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),d.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:d.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:_t(new x(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function P(Bt){switch(Bt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[d.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),d.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),d.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),d.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),d.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:d.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:_t(new p(10,"automaticLayout",!1)),autoSurround:_t(new D(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[d.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),d.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),d.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:d.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:_t(new class ae extends _{constructor(){const Ke={enabled:T.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:T.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",Ke,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ke.enabled,markdownDescription:d.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Ke.independentColorPoolPerBracketType,description:d.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{enabled:a(ht.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:a(ht.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:_t(new class ve extends _{constructor(){const Ke={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Ke,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[d.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),d.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),d.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ke.bracketPairs,description:d.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[d.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),d.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),d.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ke.bracketPairsHorizontal,description:d.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ke.highlightActiveBracketPair,description:d.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ke.indentation,description:d.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[d.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),d.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),d.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Ke.highlightActiveIndentation,description:d.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{bracketPairs:he(ht.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:he(ht.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:a(ht.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:a(ht.indentation,this.defaultValue.indentation),highlightActiveIndentation:he(ht.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:_t(new p(106,"stickyTabStops",!1,{description:d.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:_t(new p(14,"codeLens",!0,{description:d.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:_t(new y(15,"codeLensFontFamily","",{description:d.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:_t(new g(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:d.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:_t(new p(17,"colorDecorators",!0,{description:d.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:_t(new p(18,"columnSelection",!1,{description:d.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:_t(new class V extends _{constructor(){const Ke={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Ke,{"editor.comments.insertSpace":{type:"boolean",default:Ke.insertSpace,description:d.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ke.ignoreEmptyLines,description:d.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{insertSpace:a(ht.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:a(ht.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:_t(new p(20,"contextmenu",!0)),copyWithSyntaxHighlighting:_t(new p(21,"copyWithSyntaxHighlighting",!0,{description:d.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:_t(new x(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function H(Bt){switch(Bt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:d.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:_t(new p(23,"cursorSmoothCaretAnimation",!1,{description:d.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:_t(new x(24,"cursorStyle",z.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function k(Bt){switch(Bt){case"line":return z.Line;case"block":return z.Block;case"underline":return z.Underline;case"line-thin":return z.LineThin;case"block-outline":return z.BlockOutline;case"underline-thin":return z.UnderlineThin}},{description:d.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:_t(new g(25,"cursorSurroundingLines",0,0,1073741824,{description:d.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:_t(new D(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[d.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),d.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:d.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:_t(new g(27,"cursorWidth",0,0,1073741824,{markdownDescription:d.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:_t(new p(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:_t(new p(29,"disableMonospaceOptimizations",!1)),domReadOnly:_t(new p(30,"domReadOnly",!1)),dragAndDrop:_t(new p(31,"dragAndDrop",!0,{description:d.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:_t(new class j extends p{constructor(){super(33,"emptySelectionClipboard",!0,{description:d.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ke,ht,jt){return jt&&Ke.emptySelectionClipboard}}),dropIntoEditor:_t(new class st extends _{constructor(){const Ke={enabled:!0};super(32,"dropIntoEditor",Ke,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Ke.enabled,markdownDescription:d.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(Ke){return Ke&&"object"==typeof Ke?{enabled:a(Ke.enabled,this.defaultValue.enabled)}:this.defaultValue}}),experimental:_t(new class Ee extends _{constructor(){const Ke={stickyScroll:{enabled:!1}};super(34,"experimental",Ke,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:Ke.stickyScroll.enabled,description:d.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(Ke){var ht;return Ke&&"object"==typeof Ke?{stickyScroll:{enabled:a(null===(ht=Ke.stickyScroll)||void 0===ht?void 0:ht.enabled,this.defaultValue.stickyScroll.enabled)}}:this.defaultValue}}),extraEditorClassName:_t(new y(35,"extraEditorClassName","")),fastScrollSensitivity:_t(new b(36,"fastScrollSensitivity",5,Bt=>Bt<=0?5:Bt,{markdownDescription:d.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:_t(new class K extends _{constructor(){const Ke={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",Ke,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ke.cursorMoveOnType,description:d.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ke.seedSearchStringFromSelection,enumDescriptions:[d.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),d.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),d.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:d.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ke.autoFindInSelection,enumDescriptions:[d.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),d.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),d.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:d.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ke.globalFindClipboard,description:d.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:n.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ke.addExtraSpaceOnTop,description:d.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ke.loop,description:d.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{cursorMoveOnType:a(ht.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof Ke.seedSearchStringFromSelection?Ke.seedSearchStringFromSelection?"always":"never":w(ht.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof Ke.autoFindInSelection?Ke.autoFindInSelection?"always":"never":w(ht.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:a(ht.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:a(ht.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:a(ht.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:_t(new p(38,"fixedOverflowWidgets",!1)),folding:_t(new p(39,"folding",!0,{description:d.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:_t(new D(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[d.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),d.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:d.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:_t(new p(41,"foldingHighlight",!0,{description:d.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:_t(new p(42,"foldingImportsByDefault",!1,{description:d.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:_t(new g(43,"foldingMaximumRegions",5e3,10,65e3,{description:d.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:_t(new p(44,"unfoldOnClickAfterEndOfLine",!1,{description:d.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:_t(new y(45,"fontFamily",vt.fontFamily,{description:d.NC("fontFamily","Controls the font family.")})),fontInfo:_t(new class ne extends c{constructor(){super(46)}compute(Ke,ht,jt){return Ke.fontInfo}}),fontLigatures2:_t(new U),fontSize:_t(new class N extends t{constructor(){super(48,"fontSize",vt.fontSize,{type:"number",minimum:6,maximum:100,default:vt.fontSize,description:d.NC("fontSize","Controls the font size in pixels.")})}validate(Ke){const ht=b.float(Ke,this.defaultValue);return 0===ht?vt.fontSize:b.clamp(ht,6,100)}compute(Ke,ht,jt){return Ke.fontInfo.fontSize}}),fontWeight:_t(new W),formatOnPaste:_t(new p(50,"formatOnPaste",!1,{description:d.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:_t(new p(51,"formatOnType",!1,{description:d.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:_t(new p(52,"glyphMargin",!0,{description:d.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:_t(new class Z extends _{constructor(){const Ke={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ht={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ke.multiple,enumDescriptions:[d.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),d.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),d.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},jt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",Ke,{"editor.gotoLocation.multiple":{deprecationMessage:d.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},ht),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},ht),"editor.gotoLocation.multipleDeclarations":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},ht),"editor.gotoLocation.multipleImplementations":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},ht),"editor.gotoLocation.multipleReferences":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},ht),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ke.alternativeDefinitionCommand,enum:jt,description:d.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ke.alternativeTypeDefinitionCommand,enum:jt,description:d.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ke.alternativeDeclarationCommand,enum:jt,description:d.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ke.alternativeImplementationCommand,enum:jt,description:d.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ke.alternativeReferenceCommand,enum:jt,description:d.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ke){var ht,jt,fn,Dn,yt;if(!Ke||"object"!=typeof Ke)return this.defaultValue;const He=Ke;return{multiple:w(He.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(ht=He.multipleDefinitions)&&void 0!==ht?ht:w(He.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(jt=He.multipleTypeDefinitions)&&void 0!==jt?jt:w(He.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(fn=He.multipleDeclarations)&&void 0!==fn?fn:w(He.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(Dn=He.multipleImplementations)&&void 0!==Dn?Dn:w(He.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(yt=He.multipleReferences)&&void 0!==yt?yt:w(He.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:y.string(He.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:y.string(He.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:y.string(He.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:y.string(He.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:y.string(He.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:_t(new p(54,"hideCursorInOverviewRuler",!1,{description:d.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:_t(new class ge extends _{constructor(){const Ke={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",Ke,{"editor.hover.enabled":{type:"boolean",default:Ke.enabled,description:d.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ke.delay,minimum:0,maximum:1e4,description:d.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ke.sticky,description:d.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ke.above,description:d.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{enabled:a(ht.enabled,this.defaultValue.enabled),delay:g.clampedInt(ht.delay,this.defaultValue.delay,0,1e4),sticky:a(ht.sticky,this.defaultValue.sticky),above:a(ht.above,this.defaultValue.above)}}}),inDiffEditor:_t(new p(56,"inDiffEditor",!1)),letterSpacing:_t(new b(58,"letterSpacing",vt.letterSpacing,Bt=>b.clamp(Bt,-5,20),{description:d.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:_t(new class we extends _{constructor(){const Ke={enabled:!0};super(59,"lightbulb",Ke,{"editor.lightbulb.enabled":{type:"boolean",default:Ke.enabled,description:d.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Ke){return Ke&&"object"==typeof Ke?{enabled:a(Ke.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:_t(new t(60,"lineDecorationsWidth",10)),lineHeight:_t(new class Ne extends b{constructor(){super(61,"lineHeight",vt.lineHeight,Ke=>b.clamp(Ke,0,150),{markdownDescription:d.NC("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(Ke,ht,jt){return Ke.fontInfo.lineHeight}}),lineNumbers:_t(new class ke extends _{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[d.NC("lineNumbers.off","Line numbers are not rendered."),d.NC("lineNumbers.on","Line numbers are rendered as absolute number."),d.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),d.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:d.NC("lineNumbers","Controls the display of line numbers.")})}validate(Ke){let ht=this.defaultValue.renderType,jt=this.defaultValue.renderFn;return typeof Ke<"u"&&("function"==typeof Ke?(ht=4,jt=Ke):ht="interval"===Ke?3:"relative"===Ke?2:"on"===Ke?1:0),{renderType:ht,renderFn:jt}}}),lineNumbersMinChars:_t(new g(63,"lineNumbersMinChars",5,1,300)),linkedEditing:_t(new p(64,"linkedEditing",!1,{description:d.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:_t(new p(65,"links",!0,{description:d.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:_t(new D(66,"matchBrackets","always",["always","near","never"],{description:d.NC("matchBrackets","Highlight matching brackets.")})),minimap:_t(new class oe extends _{constructor(){const Ke={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",Ke,{"editor.minimap.enabled":{type:"boolean",default:Ke.enabled,description:d.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Ke.autohide,description:d.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[d.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),d.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),d.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ke.size,description:d.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ke.side,description:d.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ke.showSlider,description:d.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ke.scale,minimum:1,maximum:3,enum:[1,2,3],description:d.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ke.renderCharacters,description:d.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ke.maxColumn,description:d.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{enabled:a(ht.enabled,this.defaultValue.enabled),autohide:a(ht.autohide,this.defaultValue.autohide),size:w(ht.size,this.defaultValue.size,["proportional","fill","fit"]),side:w(ht.side,this.defaultValue.side,["right","left"]),showSlider:w(ht.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:a(ht.renderCharacters,this.defaultValue.renderCharacters),scale:g.clampedInt(ht.scale,1,1,3),maxColumn:g.clampedInt(ht.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:_t(new D(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:_t(new b(69,"mouseWheelScrollSensitivity",1,Bt=>0===Bt?1:Bt,{markdownDescription:d.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:_t(new p(70,"mouseWheelZoom",!1,{markdownDescription:d.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:_t(new p(71,"multiCursorMergeOverlapping",!0,{description:d.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:_t(new x(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function Se(Bt){return"ctrlCmd"===Bt?n.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[d.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),d.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:d.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:_t(new D(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[d.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),d.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:d.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:_t(new p(74,"occurrencesHighlight",!0,{description:d.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:_t(new p(75,"overviewRulerBorder",!0,{description:d.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:_t(new g(76,"overviewRulerLanes",3,0,3)),padding:_t(new class Ie extends _{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:d.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:d.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{top:g.clampedInt(ht.top,0,0,1e3),bottom:g.clampedInt(ht.bottom,0,0,1e3)}}}),parameterHints:_t(new class me extends _{constructor(){const Ke={enabled:!0,cycle:!1};super(78,"parameterHints",Ke,{"editor.parameterHints.enabled":{type:"boolean",default:Ke.enabled,description:d.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ke.cycle,description:d.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{enabled:a(ht.enabled,this.defaultValue.enabled),cycle:a(ht.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:_t(new D(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[d.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),d.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:d.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:_t(new p(80,"definitionLinkOpensInPeek",!1,{description:d.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:_t(new class de extends _{constructor(){const Ke={other:"on",comments:"off",strings:"off"},ht=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[d.NC("on","Quick suggestions show inside the suggest widget"),d.NC("inline","Quick suggestions show as ghost text"),d.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",Ke,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:ht,default:Ke.strings,description:d.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:ht,default:Ke.comments,description:d.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:ht,default:Ke.other,description:d.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Ke,markdownDescription:d.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Ke}validate(Ke){if("boolean"==typeof Ke){const Ae=Ke?"on":"off";return{comments:Ae,strings:Ae,other:Ae}}if(!Ke||"object"!=typeof Ke)return this.defaultValue;const{other:ht,comments:jt,strings:fn}=Ke,Dn=["on","inline","off"];let yt,He,ye;return yt="boolean"==typeof ht?ht?"on":"off":w(ht,this.defaultValue.other,Dn),He="boolean"==typeof jt?jt?"on":"off":w(jt,this.defaultValue.comments,Dn),ye="boolean"==typeof fn?fn?"on":"off":w(fn,this.defaultValue.strings,Dn),{other:yt,comments:He,strings:ye}}}),quickSuggestionsDelay:_t(new g(82,"quickSuggestionsDelay",10,0,1073741824,{description:d.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:_t(new p(83,"readOnly",!1)),renameOnType:_t(new p(84,"renameOnType",!1,{description:d.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:d.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:_t(new p(85,"renderControlCharacters",!0,{description:d.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:_t(new p(86,"renderFinalNewline",!0,{description:d.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:_t(new D(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",d.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:d.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:_t(new p(88,"renderLineHighlightOnlyWhenFocus",!1,{description:d.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:_t(new D(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:_t(new D(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",d.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),d.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),d.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:d.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:_t(new g(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:_t(new p(92,"roundedSelection",!0,{description:d.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:_t(new class ze extends _{constructor(){const Ke=[],ht={type:"number",description:d.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",Ke,{type:"array",items:{anyOf:[ht,{type:["object"],properties:{column:ht,color:{type:"string",description:d.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ke,description:d.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ke){if(Array.isArray(Ke)){const ht=[];for(const jt of Ke)if("number"==typeof jt)ht.push({column:g.clampedInt(jt,0,0,1e4),color:null});else if(jt&&"object"==typeof jt){const fn=jt;ht.push({column:g.clampedInt(fn.column,0,0,1e4),color:fn.color})}return ht.sort((jt,fn)=>jt.column-fn.column),ht}return this.defaultValue}}),scrollbar:_t(new class Ve extends _{constructor(){const Ke={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",Ke,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[d.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),d.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),d.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:d.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[d.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),d.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),d.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:d.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ke.verticalScrollbarSize,description:d.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ke.horizontalScrollbarSize,description:d.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ke.scrollByPage,description:d.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke,jt=g.clampedInt(ht.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),fn=g.clampedInt(ht.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:g.clampedInt(ht.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ce(ht.vertical,this.defaultValue.vertical),horizontal:ce(ht.horizontal,this.defaultValue.horizontal),useShadows:a(ht.useShadows,this.defaultValue.useShadows),verticalHasArrows:a(ht.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:a(ht.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:a(ht.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:a(ht.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:jt,horizontalSliderSize:g.clampedInt(ht.horizontalSliderSize,jt,0,1e3),verticalScrollbarSize:fn,verticalSliderSize:g.clampedInt(ht.verticalSliderSize,fn,0,1e3),scrollByPage:a(ht.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:_t(new g(95,"scrollBeyondLastColumn",4,0,1073741824,{description:d.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:_t(new p(96,"scrollBeyondLastLine",!0,{description:d.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:_t(new p(97,"scrollPredominantAxis",!0,{description:d.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:_t(new p(98,"selectionClipboard",!0,{description:d.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:n.IJ})),selectionHighlight:_t(new p(99,"selectionHighlight",!0,{description:d.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:_t(new p(100,"selectOnLineNumbers",!0)),showFoldingControls:_t(new D(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[d.NC("showFoldingControls.always","Always show the folding controls."),d.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),d.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:d.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:_t(new p(102,"showUnused",!0,{description:d.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:_t(new p(128,"showDeprecated",!0,{description:d.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:_t(new class xe extends _{constructor(){const Ke={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",Ke,{"editor.inlayHints.enabled":{type:"string",default:Ke.enabled,description:d.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[d.NC("editor.inlayHints.on","Inlay hints are enabled"),d.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),d.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),d.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Ke.fontSize,markdownDescription:d.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Ke.fontFamily,markdownDescription:d.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Ke.padding,description:d.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return"boolean"==typeof ht.enabled&&(ht.enabled=ht.enabled?"on":"off"),{enabled:w(ht.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:g.clampedInt(ht.fontSize,this.defaultValue.fontSize,0,100),fontFamily:y.string(ht.fontFamily,this.defaultValue.fontFamily),padding:a(ht.padding,this.defaultValue.padding)}}}),snippetSuggestions:_t(new D(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[d.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),d.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),d.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),d.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:d.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:_t(new class Q extends _{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:d.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ke){return Ke&&"object"==typeof Ke?{selectLeadingAndTrailingWhitespace:a(Ke.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:_t(new p(105,"smoothScrolling",!1,{description:d.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:_t(new g(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:_t(new class le extends _{constructor(){const Ke={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",Ke,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[d.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),d.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ke.insertMode,description:d.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ke.filterGraceful,description:d.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ke.localityBonus,description:d.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ke.shareSuggestSelections,markdownDescription:d.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ke.snippetsPreventQuickSuggestions,description:d.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ke.showIcons,description:d.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ke.showStatusBar,description:d.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ke.preview,description:d.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ke.showInlineDetails,description:d.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:d.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:d.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{insertMode:w(ht.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:a(ht.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:a(ht.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:a(ht.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:a(ht.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:a(ht.showIcons,this.defaultValue.showIcons),showStatusBar:a(ht.showStatusBar,this.defaultValue.showStatusBar),preview:a(ht.preview,this.defaultValue.preview),previewMode:w(ht.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:a(ht.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:a(ht.showMethods,this.defaultValue.showMethods),showFunctions:a(ht.showFunctions,this.defaultValue.showFunctions),showConstructors:a(ht.showConstructors,this.defaultValue.showConstructors),showDeprecated:a(ht.showDeprecated,this.defaultValue.showDeprecated),showFields:a(ht.showFields,this.defaultValue.showFields),showVariables:a(ht.showVariables,this.defaultValue.showVariables),showClasses:a(ht.showClasses,this.defaultValue.showClasses),showStructs:a(ht.showStructs,this.defaultValue.showStructs),showInterfaces:a(ht.showInterfaces,this.defaultValue.showInterfaces),showModules:a(ht.showModules,this.defaultValue.showModules),showProperties:a(ht.showProperties,this.defaultValue.showProperties),showEvents:a(ht.showEvents,this.defaultValue.showEvents),showOperators:a(ht.showOperators,this.defaultValue.showOperators),showUnits:a(ht.showUnits,this.defaultValue.showUnits),showValues:a(ht.showValues,this.defaultValue.showValues),showConstants:a(ht.showConstants,this.defaultValue.showConstants),showEnums:a(ht.showEnums,this.defaultValue.showEnums),showEnumMembers:a(ht.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:a(ht.showKeywords,this.defaultValue.showKeywords),showWords:a(ht.showWords,this.defaultValue.showWords),showColors:a(ht.showColors,this.defaultValue.showColors),showFiles:a(ht.showFiles,this.defaultValue.showFiles),showReferences:a(ht.showReferences,this.defaultValue.showReferences),showFolders:a(ht.showFolders,this.defaultValue.showFolders),showTypeParameters:a(ht.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:a(ht.showSnippets,this.defaultValue.showSnippets),showUsers:a(ht.showUsers,this.defaultValue.showUsers),showIssues:a(ht.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:_t(new class $e extends _{constructor(){const Ke={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",Ke,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ke.enabled,description:d.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{enabled:a(ht.enabled,this.defaultValue.enabled),mode:w(ht.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:_t(new g(109,"suggestFontSize",0,0,1e3,{markdownDescription:d.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:_t(new g(110,"suggestLineHeight",0,0,1e3,{markdownDescription:d.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:_t(new p(111,"suggestOnTriggerCharacters",!0,{description:d.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:_t(new D(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[d.NC("suggestSelection.first","Always select the first suggestion."),d.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),d.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:d.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:_t(new D(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[d.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),d.NC("tabCompletion.off","Disable tab completions."),d.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:d.NC("tabCompletion","Enables tab completions.")})),tabIndex:_t(new g(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:_t(new class Lt extends _{constructor(){const Ke={nonBasicASCII:tt,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:tt,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",Ke,{[Ct.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,tt],default:Ke.nonBasicASCII,description:d.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Ct.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ke.invisibleCharacters,description:d.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Ct.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ke.ambiguousCharacters,description:d.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Ct.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,tt],default:Ke.includeComments,description:d.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Ct.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,tt],default:Ke.includeStrings,description:d.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Ct.allowedCharacters]:{restricted:!0,type:"object",default:Ke.allowedCharacters,description:d.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Ct.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ke.allowedLocales,description:d.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ke,ht){let jt=!1;ht.allowedCharacters&&Ke&&(v.fS(Ke.allowedCharacters,ht.allowedCharacters)||(Ke=Object.assign(Object.assign({},Ke),{allowedCharacters:ht.allowedCharacters}),jt=!0)),ht.allowedLocales&&Ke&&(v.fS(Ke.allowedLocales,ht.allowedLocales)||(Ke=Object.assign(Object.assign({},Ke),{allowedLocales:ht.allowedLocales}),jt=!0));const fn=super.applyUpdate(Ke,ht);return jt?new s(fn.newValue,!0):fn}validate(Ke){if(!Ke||"object"!=typeof Ke)return this.defaultValue;const ht=Ke;return{nonBasicASCII:he(ht.nonBasicASCII,tt,[!0,!1,tt]),invisibleCharacters:a(ht.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:a(ht.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:he(ht.includeComments,tt,[!0,!1,tt]),includeStrings:he(ht.includeStrings,tt,[!0,!1,tt]),allowedCharacters:this.validateBooleanMap(Ke.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ke.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ke,ht){if("object"!=typeof Ke||!Ke)return ht;const jt={};for(const[fn,Dn]of Object.entries(Ke))!0===Dn&&(jt[fn]=!0);return jt}}),unusualLineTerminators:_t(new D(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[d.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),d.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),d.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:d.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:_t(new p(117,"useShadowDOM",!0)),useTabStops:_t(new p(118,"useTabStops",!0,{description:d.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:_t(new y(119,"wordSeparators",l.vu,{description:d.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:_t(new D(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[d.NC("wordWrap.off","Lines will never wrap."),d.NC("wordWrap.on","Lines will wrap at the viewport width."),d.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),d.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:d.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:_t(new y(121,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:_t(new y(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:_t(new g(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:d.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:_t(new D(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:_t(new D(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:_t(new x(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function Pe(Bt){switch(Bt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[d.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),d.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),d.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),d.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:d.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:_t(new D(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[d.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),d.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:d.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:_t(new class F extends c{constructor(){super(130)}compute(Ke,ht,jt){const fn=["monaco-editor"];return ht.get(35)&&fn.push(ht.get(35)),Ke.extraEditorClassName&&fn.push(Ke.extraEditorClassName),"default"===ht.get(68)?fn.push("mouse-default"):"copy"===ht.get(68)&&fn.push("mouse-copy"),ht.get(102)&&fn.push("showUnused"),ht.get(128)&&fn.push("showDeprecated"),fn.join(" ")}}),pixelRatio:_t(new class Me extends c{constructor(){super(131)}compute(Ke,ht,jt){return Ke.pixelRatio}}),tabFocusMode:_t(new class Ce extends c{constructor(){super(132)}compute(Ke,ht,jt){return!!ht.get(83)||Ke.tabFocusMode}}),layoutInfo:_t(new M),wrappingInfo:_t(new class dt extends c{constructor(){super(134)}compute(Ke,ht,jt){const fn=ht.get(133);return{isDominatedByLongLines:Ke.isDominatedByLongLines,isWordWrapMinified:fn.isWordWrapMinified,isViewportWrapping:fn.isViewportWrapping,wrappingColumn:fn.wrappingColumn}}})}},66198:(Dt,Y,e)=>{"use strict";e.d(Y,{C:()=>n});var d=e(3778);const n=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new d.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(l){l=Math.min(Math.max(-5,l),20),this._zoomLevel!==l&&(this._zoomLevel=l,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},44120:(Dt,Y,e)=>{"use strict";e.d(Y,{E4:()=>T,pR:()=>E});var d=e(8841),n=e(54862),l=e(66198);const S=d.dz?1.5:1.35;class T{constructor(_){this._bareFontInfoBrand=void 0,this.pixelRatio=_.pixelRatio,this.fontFamily=String(_.fontFamily),this.fontWeight=String(_.fontWeight),this.fontSize=_.fontSize,this.fontFeatureSettings=_.fontFeatureSettings,this.lineHeight=0|_.lineHeight,this.letterSpacing=_.letterSpacing}static createFromValidatedSettings(_,s,m){const c=_.get(45),t=_.get(49),a=_.get(48),p=_.get(47),u=_.get(61),g=_.get(58);return T._create(c,t,a,p,u,g,s,m)}static _create(_,s,m,c,t,a,p,u){0===t?t=S*m:t<8&&(t*=m),(t=Math.round(t))<8&&(t=8);const g=1+(u?0:.1*l.C.getZoomLevel());return new T({pixelRatio:p,fontFamily:_,fontWeight:s,fontSize:m*=g,fontFeatureSettings:c,lineHeight:t*=g,letterSpacing:a})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const _=n.hL.fontFamily,s=T._wrapInQuotes(this.fontFamily);return _&&this.fontFamily!==_?`${s}, ${_}`:s}static _wrapInQuotes(_){return/[,"']/.test(_)?_:/[+ ]/.test(_)?`"${_}"`:_}}class E extends T{constructor(_,s){super(_),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=s,this.isMonospace=_.isMonospace,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=_.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.maxDigitWidth=_.maxDigitWidth}equals(_){return this.fontFamily===_.fontFamily&&this.fontWeight===_.fontWeight&&this.fontSize===_.fontSize&&this.fontFeatureSettings===_.fontFeatureSettings&&this.lineHeight===_.lineHeight&&this.letterSpacing===_.letterSpacing&&this.typicalHalfwidthCharacterWidth===_.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===_.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.maxDigitWidth===_.maxDigitWidth}}},81742:(Dt,Y,e)=>{"use strict";e.d(Y,{N:()=>n,q:()=>l});var d=e(48071);class n{constructor(v){const T=(0,d.K)(v);this._defaultValue=T,this._asciiMap=n._createAsciiMap(T),this._map=new Map}static _createAsciiMap(v){const T=new Uint8Array(256);for(let C=0;C<256;C++)T[C]=v;return T}set(v,T){const C=(0,d.K)(T);v>=0&&v<256?this._asciiMap[v]=C:this._map.set(v,C)}get(v){return v>=0&&v<256?this._asciiMap[v]:this._map.get(v)||this._defaultValue}}class l{constructor(){this._actual=new n(0)}add(v){this._actual.set(v,1)}has(v){return 1===this._actual.get(v)}}},5409:(Dt,Y,e)=>{"use strict";e.d(Y,{i:()=>n});var d=e(73879);class n{static _nextVisibleColumn(S,v,T){return 9===S?n.nextRenderTabStop(v,T):d.K7(S)||d.C8(S)?v+2:v+1}static visibleColumnFromColumn(S,v,T){const C=Math.min(v-1,S.length),E=S.substring(0,C),L=new d.W1(E);let _=0;for(;!L.eol();){const s=d.ZH(E,C,L.offset);L.nextGraphemeLength(),_=this._nextVisibleColumn(s,_,T)}return _}static columnFromVisibleColumn(S,v,T){if(v<=0)return 1;const C=S.length,E=new d.W1(S);let L=0,_=1;for(;!E.eol();){const s=d.ZH(S,C,E.offset);E.nextGraphemeLength();const m=this._nextVisibleColumn(s,L,T),c=E.offset+1;if(m>=v)return m-v<v-L?c:_;L=m,_=c}return C+1}static nextRenderTabStop(S,v){return S+v-S%v}static nextIndentTabStop(S,v){return S+v-S%v}static prevRenderTabStop(S,v){return Math.max(0,S-1-(S-1)%v)}static prevIndentTabStop(S,v){return Math.max(0,S-1-(S-1)%v)}}},65484:(Dt,Y,e)=>{"use strict";e.d(Y,{h:()=>n});var d=e(98570);class n{static insert(S,v){return{range:new d.e(S.lineNumber,S.column,S.lineNumber,S.column),text:v,forceMoveMarkers:!0}}static delete(S){return{range:S,text:null}}static replace(S,v){return{range:S,text:v}}static replaceMove(S,v){return{range:S,text:v,forceMoveMarkers:!0}}}},43944:(Dt,Y,e)=>{"use strict";e.d(Y,{CE:()=>M,DD:()=>b,DS:()=>Ie,Dl:()=>x,HV:()=>Ve,IO:()=>j,Jn:()=>Me,Kh:()=>T,L7:()=>ce,Mm:()=>C,N5:()=>F,Qb:()=>ke,Re:()=>N,TC:()=>D,To:()=>ze,UP:()=>we,Vs:()=>ge,YF:()=>de,Ym:()=>p,eS:()=>W,e_:()=>O,f9:()=>tt,fY:()=>c,hw:()=>u,kp:()=>H,lK:()=>ne,lS:()=>me,m$:()=>Se,m1:()=>xe,m3:()=>Ue,m9:()=>U,n0:()=>m,oV:()=>oe,r0:()=>Ee,tR:()=>a,ts:()=>Ne,x3:()=>k,zJ:()=>Z,zk:()=>y,zu:()=>z,zw:()=>P});var d=e(55197),n=e(69355),l=e(4062),S=e(40902),v=e(18034);const T=(0,l.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},d.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),C=(0,l.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:l.lRK},d.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),E=(0,l.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},d.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),L=(0,l.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:l.xL1,hcLight:l.xL1},d.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),_=(0,l.P6G)("editor.symbolHighlightBackground",{dark:l.MUv,light:l.MUv,hcDark:null,hcLight:null},d.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),s=(0,l.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:l.xL1,hcLight:l.xL1},d.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),m=(0,l.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:n.Il.black,hcDark:n.Il.white,hcLight:"#0F4A85"},d.NC("caret","Color of the editor cursor.")),c=(0,l.P6G)("editorCursor.background",null,d.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),t=(0,l.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},d.NC("editorWhitespaces","Color of whitespace characters in the editor.")),a=(0,l.P6G)("editorIndentGuide.background",{dark:t,light:t,hcDark:t,hcLight:t},d.NC("editorIndentGuides","Color of the editor indentation guides.")),p=(0,l.P6G)("editorIndentGuide.activeBackground",{dark:t,light:t,hcDark:t,hcLight:t},d.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),u=(0,l.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:n.Il.white,hcLight:"#292929"},d.NC("editorLineNumbers","Color of editor line numbers.")),g=(0,l.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:l.xL1,hcLight:l.xL1},d.NC("editorActiveLineNumber","Color of editor active line number"),!1,d.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),b=(0,l.P6G)("editorLineNumber.activeForeground",{dark:g,light:g,hcDark:g,hcLight:g},d.NC("editorActiveLineNumber","Color of editor active line number")),y=(0,l.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:n.Il.lightgrey,hcDark:n.Il.white,hcLight:"#292929"},d.NC("editorRuler","Color of the editor rulers.")),D=((0,l.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},d.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,l.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},d.NC("editorBracketMatchBackground","Background color behind matching brackets"))),x=(0,l.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:l.lRK,hcLight:l.lRK},d.NC("editorBracketMatchBorder","Color for matching brackets boxes")),P=(0,l.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},d.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),O=(0,l.P6G)("editorOverviewRuler.background",null,d.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),V=(0,l.P6G)("editorGutter.background",{dark:l.cvW,light:l.cvW,hcDark:l.cvW,hcLight:l.cvW},d.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),H=(0,l.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:n.Il.fromHex("#fff").transparent(.8),hcLight:l.lRK},d.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),z=(0,l.P6G)("editorUnnecessaryCode.opacity",{dark:n.Il.fromHex("#000a"),light:n.Il.fromHex("#0007"),hcDark:null,hcLight:null},d.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),k=(0,l.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:n.Il.fromHex("#fff").transparent(.8),hcLight:n.Il.fromHex("#292929").transparent(.8)},d.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),F=(0,l.P6G)("editorGhostText.foreground",{dark:n.Il.fromHex("#ffffff56"),light:n.Il.fromHex("#0007"),hcDark:null,hcLight:null},d.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),j=(0,l.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},d.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),K=new n.Il(new n.VS(0,122,204,.6)),U=(0,l.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:K,light:K,hcDark:K,hcLight:K},d.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ne=(0,l.P6G)("editorOverviewRuler.errorForeground",{dark:new n.Il(new n.VS(255,18,18,.7)),light:new n.Il(new n.VS(255,18,18,.7)),hcDark:new n.Il(new n.VS(255,50,50,1)),hcLight:"#B5200D"},d.NC("overviewRuleError","Overview ruler marker color for errors.")),N=(0,l.P6G)("editorOverviewRuler.warningForeground",{dark:l.uoC,light:l.uoC,hcDark:l.pW3,hcLight:l.pW3},d.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),W=(0,l.P6G)("editorOverviewRuler.infoForeground",{dark:l.c63,light:l.c63,hcDark:l.T83,hcLight:l.T83},d.NC("overviewRuleInfo","Overview ruler marker color for infos.")),Z=(0,l.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},d.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ge=(0,l.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},d.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),M=(0,l.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},d.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),we=(0,l.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ee=(0,l.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),xe=(0,l.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Ne=(0,l.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new n.Il(new n.VS(255,18,18,.8)),light:new n.Il(new n.VS(255,18,18,.8)),hcDark:new n.Il(new n.VS(255,50,50,1)),hcLight:""},d.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),oe=(0,l.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Se=(0,l.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Ie=(0,l.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),me=(0,l.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Me=(0,l.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),de=(0,l.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ke=(0,l.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ue=(0,l.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ze=(0,l.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ce=(0,l.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Ve=(0,l.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),tt=(0,l.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,l.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},d.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,l.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},d.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,S.Ic)(($e,ae)=>{const ve=$e.getColor(l.cvW);ve&&ae.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${ve}; }`);const he=$e.getColor(T),le=he&&!he.isTransparent()?he:ve;le&&ae.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${le}; }`);const Q=$e.getColor(l.NOs);Q&&ae.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Q}; }`);const Ce=$e.getColor(V);Ce&&ae.addRule(`.monaco-editor .margin { background-color: ${Ce}; }`);const Pe=$e.getColor(E);Pe&&ae.addRule(`.monaco-editor .rangeHighlight { background-color: ${Pe}; }`);const dt=$e.getColor(L);dt&&ae.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,v.c3)($e.type)?"dotted":"solid"} ${dt}; }`);const st=$e.getColor(_);st&&ae.addRule(`.monaco-editor .symbolHighlight { background-color: ${st}; }`);const qe=$e.getColor(s);qe&&ae.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,v.c3)($e.type)?"dotted":"solid"} ${qe}; }`);const Qe=$e.getColor(t);Qe&&(ae.addRule(`.monaco-editor .mtkw { color: ${Qe} !important; }`),ae.addRule(`.monaco-editor .mtkz { color: ${Qe} !important; }`))})},93169:(Dt,Y,e)=>{"use strict";function d(n){let l=0,S=0,v=0,T=0;for(let C=0,E=n.length;C<E;C++){const L=n.charCodeAt(C);13===L?(0===l&&(S=C),l++,C+1<E&&10===n.charCodeAt(C+1)?(T|=2,C++):T|=3,v=C+1):10===L&&(T|=1,0===l&&(S=C),l++,v=C+1)}return 0===l&&(S=n.length),[l,S,n.length-v,T]}e.d(Y,{Q:()=>d})},87652:(Dt,Y,e)=>{"use strict";e.d(Y,{x:()=>S});var d=e(73879),n=e(5409);function S(v,T,C){let E=d.LC(v);return-1===E&&(E=v.length),function l(v,T,C){let E=0;for(let _=0;_<v.length;_++)"\t"===v.charAt(_)?E=n.i.nextIndentTabStop(E,T):E++;let L="";if(!C){const _=Math.floor(E/T);E%=T;for(let s=0;s<_;s++)L+="\t"}for(let _=0;_<E;_++)L+=" ";return L}(v.substring(0,E),T,C)+v.substring(E)}},18723:(Dt,Y,e)=>{"use strict";e.d(Y,{L:()=>d});class d{constructor(l,S){this.lineNumber=l,this.column=S}with(l=this.lineNumber,S=this.column){return l===this.lineNumber&&S===this.column?this:new d(l,S)}delta(l=0,S=0){return this.with(this.lineNumber+l,this.column+S)}equals(l){return d.equals(this,l)}static equals(l,S){return!l&&!S||!!l&&!!S&&l.lineNumber===S.lineNumber&&l.column===S.column}isBefore(l){return d.isBefore(this,l)}static isBefore(l,S){return l.lineNumber<S.lineNumber||!(S.lineNumber<l.lineNumber)&&l.column<S.column}isBeforeOrEqual(l){return d.isBeforeOrEqual(this,l)}static isBeforeOrEqual(l,S){return l.lineNumber<S.lineNumber||!(S.lineNumber<l.lineNumber)&&l.column<=S.column}static compare(l,S){const v=0|l.lineNumber,T=0|S.lineNumber;return v===T?(0|l.column)-(0|S.column):v-T}clone(){return new d(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(l){return new d(l.lineNumber,l.column)}static isIPosition(l){return l&&"number"==typeof l.lineNumber&&"number"==typeof l.column}}},98570:(Dt,Y,e)=>{"use strict";e.d(Y,{e:()=>n});var d=e(18723);class n{constructor(S,v,T,C){S>T||S===T&&v>C?(this.startLineNumber=T,this.startColumn=C,this.endLineNumber=S,this.endColumn=v):(this.startLineNumber=S,this.startColumn=v,this.endLineNumber=T,this.endColumn=C)}isEmpty(){return n.isEmpty(this)}static isEmpty(S){return S.startLineNumber===S.endLineNumber&&S.startColumn===S.endColumn}containsPosition(S){return n.containsPosition(this,S)}static containsPosition(S,v){return!(v.lineNumber<S.startLineNumber||v.lineNumber>S.endLineNumber||v.lineNumber===S.startLineNumber&&v.column<S.startColumn||v.lineNumber===S.endLineNumber&&v.column>S.endColumn)}static strictContainsPosition(S,v){return!(v.lineNumber<S.startLineNumber||v.lineNumber>S.endLineNumber||v.lineNumber===S.startLineNumber&&v.column<=S.startColumn||v.lineNumber===S.endLineNumber&&v.column>=S.endColumn)}containsRange(S){return n.containsRange(this,S)}static containsRange(S,v){return!(v.startLineNumber<S.startLineNumber||v.endLineNumber<S.startLineNumber||v.startLineNumber>S.endLineNumber||v.endLineNumber>S.endLineNumber||v.startLineNumber===S.startLineNumber&&v.startColumn<S.startColumn||v.endLineNumber===S.endLineNumber&&v.endColumn>S.endColumn)}strictContainsRange(S){return n.strictContainsRange(this,S)}static strictContainsRange(S,v){return!(v.startLineNumber<S.startLineNumber||v.endLineNumber<S.startLineNumber||v.startLineNumber>S.endLineNumber||v.endLineNumber>S.endLineNumber||v.startLineNumber===S.startLineNumber&&v.startColumn<=S.startColumn||v.endLineNumber===S.endLineNumber&&v.endColumn>=S.endColumn)}plusRange(S){return n.plusRange(this,S)}static plusRange(S,v){let T,C,E,L;return v.startLineNumber<S.startLineNumber?(T=v.startLineNumber,C=v.startColumn):v.startLineNumber===S.startLineNumber?(T=v.startLineNumber,C=Math.min(v.startColumn,S.startColumn)):(T=S.startLineNumber,C=S.startColumn),v.endLineNumber>S.endLineNumber?(E=v.endLineNumber,L=v.endColumn):v.endLineNumber===S.endLineNumber?(E=v.endLineNumber,L=Math.max(v.endColumn,S.endColumn)):(E=S.endLineNumber,L=S.endColumn),new n(T,C,E,L)}intersectRanges(S){return n.intersectRanges(this,S)}static intersectRanges(S,v){let T=S.startLineNumber,C=S.startColumn,E=S.endLineNumber,L=S.endColumn;const _=v.startLineNumber,s=v.startColumn,m=v.endLineNumber,c=v.endColumn;return T<_?(T=_,C=s):T===_&&(C=Math.max(C,s)),E>m?(E=m,L=c):E===m&&(L=Math.min(L,c)),T>E||T===E&&C>L?null:new n(T,C,E,L)}equalsRange(S){return n.equalsRange(this,S)}static equalsRange(S,v){return!!S&&!!v&&S.startLineNumber===v.startLineNumber&&S.startColumn===v.startColumn&&S.endLineNumber===v.endLineNumber&&S.endColumn===v.endColumn}getEndPosition(){return n.getEndPosition(this)}static getEndPosition(S){return new d.L(S.endLineNumber,S.endColumn)}getStartPosition(){return n.getStartPosition(this)}static getStartPosition(S){return new d.L(S.startLineNumber,S.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(S,v){return new n(this.startLineNumber,this.startColumn,S,v)}setStartPosition(S,v){return new n(S,v,this.endLineNumber,this.endColumn)}collapseToStart(){return n.collapseToStart(this)}static collapseToStart(S){return new n(S.startLineNumber,S.startColumn,S.startLineNumber,S.startColumn)}static fromPositions(S,v=S){return new n(S.lineNumber,S.column,v.lineNumber,v.column)}static lift(S){return S?new n(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):null}static isIRange(S){return S&&"number"==typeof S.startLineNumber&&"number"==typeof S.startColumn&&"number"==typeof S.endLineNumber&&"number"==typeof S.endColumn}static areIntersectingOrTouching(S,v){return!(S.endLineNumber<v.startLineNumber||S.endLineNumber===v.startLineNumber&&S.endColumn<v.startColumn||v.endLineNumber<S.startLineNumber||v.endLineNumber===S.startLineNumber&&v.endColumn<S.startColumn)}static areIntersecting(S,v){return!(S.endLineNumber<v.startLineNumber||S.endLineNumber===v.startLineNumber&&S.endColumn<=v.startColumn||v.endLineNumber<S.startLineNumber||v.endLineNumber===S.startLineNumber&&v.endColumn<=S.startColumn)}static compareRangesUsingStarts(S,v){if(S&&v){const E=0|S.startLineNumber,L=0|v.startLineNumber;if(E===L){const _=0|S.startColumn,s=0|v.startColumn;if(_===s){const m=0|S.endLineNumber,c=0|v.endLineNumber;return m===c?(0|S.endColumn)-(0|v.endColumn):m-c}return _-s}return E-L}return(S?1:0)-(v?1:0)}static compareRangesUsingEnds(S,v){return S.endLineNumber===v.endLineNumber?S.endColumn===v.endColumn?S.startLineNumber===v.startLineNumber?S.startColumn-v.startColumn:S.startLineNumber-v.startLineNumber:S.endColumn-v.endColumn:S.endLineNumber-v.endLineNumber}static spansMultipleLines(S){return S.endLineNumber>S.startLineNumber}toJSON(){return this}}},7233:(Dt,Y,e)=>{"use strict";e.d(Y,{Y:()=>l});var d=e(18723),n=e(98570);class l extends n.e{constructor(v,T,C,E){super(v,T,C,E),this.selectionStartLineNumber=v,this.selectionStartColumn=T,this.positionLineNumber=C,this.positionColumn=E}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(v){return l.selectionsEqual(this,v)}static selectionsEqual(v,T){return v.selectionStartLineNumber===T.selectionStartLineNumber&&v.selectionStartColumn===T.selectionStartColumn&&v.positionLineNumber===T.positionLineNumber&&v.positionColumn===T.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(v,T){return 0===this.getDirection()?new l(this.startLineNumber,this.startColumn,v,T):new l(v,T,this.startLineNumber,this.startColumn)}getPosition(){return new d.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new d.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(v,T){return 0===this.getDirection()?new l(v,T,this.endLineNumber,this.endColumn):new l(this.endLineNumber,this.endColumn,v,T)}static fromPositions(v,T=v){return new l(v.lineNumber,v.column,T.lineNumber,T.column)}static fromRange(v,T){return 0===T?new l(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new l(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}static liftSelection(v){return new l(v.selectionStartLineNumber,v.selectionStartColumn,v.positionLineNumber,v.positionColumn)}static selectionsArrEqual(v,T){if(v&&!T||!v&&T)return!1;if(!v&&!T)return!0;if(v.length!==T.length)return!1;for(let C=0,E=v.length;C<E;C++)if(!this.selectionsEqual(v[C],T[C]))return!1;return!0}static isISelection(v){return v&&"number"==typeof v.selectionStartLineNumber&&"number"==typeof v.selectionStartColumn&&"number"==typeof v.positionLineNumber&&"number"==typeof v.positionColumn}static createWithDirection(v,T,C,E,L){return 0===L?new l(v,T,C,E):new l(C,E,v,T)}}},8680:(Dt,Y,e)=>{"use strict";e.d(Y,{kH:()=>m,l$:()=>s,lZ:()=>_,oe:()=>L});var d=e(73879),n=e(8841),l=e(32068);let S,T,E;function v(){return S||(S=new TextDecoder("UTF-16LE")),S}function L(){return E||(E=n.r()?v():function C(){return T||(T=new TextDecoder("UTF-16BE")),T}()),E}const _=typeof TextDecoder<"u";let s,m;function t(u,g,b){const y=[];let w=0;for(let D=0;D<b;D++){const x=l.mP(u,g);g+=2,y[w++]=String.fromCharCode(x)}return y.join("")}_?(s=u=>new a(u),m=function c(u,g,b){const y=new Uint16Array(u.buffer,g,b);return b>0&&(65279===y[0]||65534===y[0])?t(u,g,b):v().decode(y)}):(s=u=>new p,m=t);class a{constructor(g){this._capacity=0|g,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const g=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return L().decode(g)}_flushBuffer(){const g=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[g]:this._completedStrings[this._completedStrings.length]=g}write1(g){const b=this._capacity-this._bufferLength;b<=1&&(0===b||d.ZG(g))&&this._flushBuffer(),this._buffer[this._bufferLength++]=g}appendASCII(g){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=g}appendASCIIString(g){const b=g.length;if(this._bufferLength+b>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=g);for(let y=0;y<b;y++)this._buffer[this._bufferLength++]=g.charCodeAt(y)}}class p{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(g){this._pieces[this._piecesLen++]=String.fromCharCode(g)}appendASCII(g){this._pieces[this._piecesLen++]=String.fromCharCode(g)}appendASCIIString(g){this._pieces[this._piecesLen++]=g}}},66390:(Dt,Y,e)=>{"use strict";e.d(Y,{b:()=>v,q:()=>S});var d=e(32068),n=e(8680);function l(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class S{constructor(E,L,_,s){this.oldPosition=E,this.oldText=L,this.newPosition=_,this.newText=s}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${l(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${l(this.oldText)}")`:`(replace@${this.oldPosition} "${l(this.oldText)}" with "${l(this.newText)}")`}static _writeStringSize(E){return 4+2*E.length}static _writeString(E,L,_){const s=L.length;d.T4(E,s,_),_+=4;for(let m=0;m<s;m++)d.oq(E,L.charCodeAt(m),_),_+=2;return _}static _readString(E,L){const _=d.Ag(E,L);return(0,n.kH)(E,L+=4,_)}writeSize(){return 8+S._writeStringSize(this.oldText)+S._writeStringSize(this.newText)}write(E,L){return d.T4(E,this.oldPosition,L),d.T4(E,this.newPosition,L+=4),L=S._writeString(E,this.oldText,L+=4),S._writeString(E,this.newText,L)}static read(E,L,_){const s=d.Ag(E,L),m=d.Ag(E,L+=4),c=S._readString(E,L+=4);L+=S._writeStringSize(c);const t=S._readString(E,L);return L+=S._writeStringSize(t),_.push(new S(s,c,m,t)),L}}function v(C,E){return null===C||0===C.length?E:new T(C,E).compress()}class T{constructor(E,L){this._prevEdits=E,this._currEdits=L,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let E=0,L=0,_=this._getPrev(E),s=this._getCurr(L);for(;E<this._prevLen||L<this._currLen;){if(null===_){this._acceptCurr(s),s=this._getCurr(++L);continue}if(null===s){this._acceptPrev(_),_=this._getPrev(++E);continue}if(s.oldEnd<=_.newPosition){this._acceptCurr(s),s=this._getCurr(++L);continue}if(_.newEnd<=s.oldPosition){this._acceptPrev(_),_=this._getPrev(++E);continue}if(s.oldPosition<_.newPosition){const[p,u]=T._splitCurr(s,_.newPosition-s.oldPosition);this._acceptCurr(p),s=u;continue}if(_.newPosition<s.oldPosition){const[p,u]=T._splitPrev(_,s.oldPosition-_.newPosition);this._acceptPrev(p),_=u;continue}let t,a;if(s.oldEnd===_.newEnd)t=_,a=s,_=this._getPrev(++E),s=this._getCurr(++L);else if(s.oldEnd<_.newEnd){const[p,u]=T._splitPrev(_,s.oldLength);t=p,a=s,_=u,s=this._getCurr(++L)}else{const[p,u]=T._splitCurr(s,_.newLength);t=_,a=p,_=this._getPrev(++E),s=u}this._result[this._resultLen++]=new S(t.oldPosition,t.oldText,a.newPosition,a.newText),this._prevDeltaOffset+=t.newLength-t.oldLength,this._currDeltaOffset+=a.newLength-a.oldLength}const m=T._merge(this._result);return T._removeNoOps(m)}_acceptCurr(E){this._result[this._resultLen++]=T._rebaseCurr(this._prevDeltaOffset,E),this._currDeltaOffset+=E.newLength-E.oldLength}_getCurr(E){return E<this._currLen?this._currEdits[E]:null}_acceptPrev(E){this._result[this._resultLen++]=T._rebasePrev(this._currDeltaOffset,E),this._prevDeltaOffset+=E.newLength-E.oldLength}_getPrev(E){return E<this._prevLen?this._prevEdits[E]:null}static _rebaseCurr(E,L){return new S(L.oldPosition-E,L.oldText,L.newPosition,L.newText)}static _rebasePrev(E,L){return new S(L.oldPosition,L.oldText,L.newPosition+E,L.newText)}static _splitPrev(E,L){const _=E.newText.substr(0,L),s=E.newText.substr(L);return[new S(E.oldPosition,E.oldText,E.newPosition,_),new S(E.oldEnd,"",E.newPosition+L,s)]}static _splitCurr(E,L){const _=E.oldText.substr(0,L),s=E.oldText.substr(L);return[new S(E.oldPosition,_,E.newPosition,E.newText),new S(E.oldPosition+L,s,E.newEnd,"")]}static _merge(E){if(0===E.length)return E;const L=[];let _=0,s=E[0];for(let m=1;m<E.length;m++){const c=E[m];s.oldEnd===c.oldPosition?s=new S(s.oldPosition,s.oldText+c.oldText,s.newPosition,s.newText+c.newText):(L[_++]=s,s=c)}return L[_++]=s,L}static _removeNoOps(E){if(0===E.length)return E;const L=[];let _=0;for(let s=0;s<E.length;s++){const m=E[s];m.oldText!==m.newText&&(L[_++]=m)}return L}}},39945:(Dt,Y,e)=>{"use strict";e.d(Y,{D:()=>d});const d={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},91609:(Dt,Y,e)=>{"use strict";e.d(Y,{u:()=>S});var d=e(81742);class n extends d.N{constructor(T){super(0);for(let C=0,E=T.length;C<E;C++)this.set(T.charCodeAt(C),2);this.set(32,1),this.set(9,1)}}const S=function l(v){const T={};return C=>(T.hasOwnProperty(C)||(T[C]=v(C)),T[C])}(v=>new n(v))},50894:(Dt,Y,e)=>{"use strict";e.d(Y,{Af:()=>v,eq:()=>T,t2:()=>E,vu:()=>l});var d=e(1999),n=e(85739);const l="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",v=function S(_=""){let s="(-?\\d*\\.\\d\\w*)|([^";for(const m of l)_.indexOf(m)>=0||(s+="\\"+m);return s+="\\s]+)",new RegExp(s,"g")}();function T(_){let s=v;if(_&&_ instanceof RegExp)if(_.global)s=_;else{let m="g";_.ignoreCase&&(m+="i"),_.multiline&&(m+="m"),_.unicode&&(m+="u"),s=new RegExp(_.source,m)}return s.lastIndex=0,s}const C=new n.S;function E(_,s,m,c,t){if(t||(t=d.$.first(C)),m.length>t.maxLen){let b=_-t.maxLen/2;return b<0?b=0:c+=b,E(_,s,m=m.substring(b,_+t.maxLen/2),c,t)}const a=Date.now(),p=_-1-c;let u=-1,g=null;for(let b=1;!(Date.now()-a>=t.timeBudget);b++){const y=p-t.windowSize*b;s.lastIndex=Math.max(0,y);const w=L(s,m,p,u);if(!w&&g||(g=w,y<=0))break;u=y}if(g){const b={word:g[0],startColumn:c+1+g.index,endColumn:c+1+g.index+g[0].length};return s.lastIndex=0,b}return null}function L(_,s,m,c){let t;for(;t=_.exec(s);){const a=t.index||0;if(a<=m&&_.lastIndex>=m)return t;if(c>0&&a>c)return null}return null}C.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},19123:(Dt,Y,e)=>{"use strict";e.d(Y,{l:()=>n});var d=e(5409);class n{static whitespaceVisibleColumn(S,v,T){const C=S.length;let E=0,L=-1,_=-1;for(let s=0;s<C;s++){if(s===v)return[L,_,E];switch(E%T==0&&(L=s,_=E),S.charCodeAt(s)){case 32:E+=1;break;case 9:E=d.i.nextRenderTabStop(E,T);break;default:return[-1,-1,-1]}}return v===C?[L,_,E]:[-1,-1,-1]}static atomicPosition(S,v,T,C){const E=S.length,[L,_,s]=n.whitespaceVisibleColumn(S,v,T);if(-1===s)return-1;let m;switch(C){case 0:m=!0;break;case 1:m=!1;break;case 2:if(s%T==0)return v;m=s%T<=T/2}if(m){if(-1===L)return-1;let a=_;for(let p=L;p<E;++p){if(a===_+T)return L;switch(S.charCodeAt(p)){case 32:a+=1;break;case 9:a=d.i.nextRenderTabStop(a,T);break;default:return-1}}return a===_+T?L:-1}const c=d.i.nextRenderTabStop(s,T);let t=s;for(let a=v;a<E;a++){if(t===c)return a;switch(S.charCodeAt(a)){case 32:t+=1;break;case 9:t=d.i.nextRenderTabStop(t,T);break;default:return-1}}return t===c?E:-1}}},8445:(Dt,Y,e)=>{"use strict";e.d(Y,{A:()=>E});var d=e(73879),n=e(22599),l=e(76336),S=e(5409),v=e(48589),T=e(98570),C=e(18723);class E{static deleteRight(_,s,m,c){const t=[];let a=3!==_;for(let p=0,u=c.length;p<u;p++){const g=c[p];let b=g;if(b.isEmpty()){const y=g.getPosition(),w=v.o.right(s,m,y);b=new T.e(w.lineNumber,w.column,y.lineNumber,y.column)}b.isEmpty()?t[p]=null:(b.startLineNumber!==b.endLineNumber&&(a=!0),t[p]=new n.T4(b,""))}return[a,t]}static isAutoClosingPairDelete(_,s,m,c,t,a,p){if("never"===s&&"never"===m||"never"===_)return!1;for(let u=0,g=a.length;u<g;u++){const b=a[u],y=b.getPosition();if(!b.isEmpty())return!1;const w=t.getLineContent(y.lineNumber);if(y.column<2||y.column>=w.length+1)return!1;const D=w.charAt(y.column-2),x=c.get(D);if(!x)return!1;if((0,l.LN)(D)){if("never"===m)return!1}else if("never"===s)return!1;const P=w.charAt(y.column-1);let O=!1;for(const V of x)V.open===D&&V.close===P&&(O=!0);if(!O)return!1;if("auto"===_){let V=!1;for(let H=0,z=p.length;H<z;H++){const k=p[H];if(y.lineNumber===k.startLineNumber&&y.column===k.startColumn){V=!0;break}}if(!V)return!1}}return!0}static _runAutoClosingPairDelete(_,s,m){const c=[];for(let t=0,a=m.length;t<a;t++){const p=m[t].getPosition(),u=new T.e(p.lineNumber,p.column-1,p.lineNumber,p.column+1);c[t]=new n.T4(u,"")}return[!0,c]}static deleteLeft(_,s,m,c,t){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,m,c,t))return this._runAutoClosingPairDelete(s,m,c);const a=[];let p=2!==_;for(let u=0,g=c.length;u<g;u++){const b=E.getDeleteRange(c[u],m,s);b.isEmpty()?a[u]=null:(b.startLineNumber!==b.endLineNumber&&(p=!0),a[u]=new n.T4(b,""))}return[p,a]}static getDeleteRange(_,s,m){if(!_.isEmpty())return _;const c=_.getPosition();if(m.useTabStops&&c.column>1){const t=s.getLineContent(c.lineNumber),a=d.LC(t);if(c.column<=(-1===a?t.length+1:a+1)){const u=m.visibleColumnFromColumn(s,c),g=S.i.prevIndentTabStop(u,m.indentSize),b=m.columnFromVisibleColumn(s,c.lineNumber,g);return new T.e(c.lineNumber,b,c.lineNumber,c.column)}}return T.e.fromPositions(E.getPositionAfterDeleteLeft(c,s),c)}static getPositionAfterDeleteLeft(_,s){if(_.column>1){const m=d.oH(_.column-1,s.getLineContent(_.lineNumber));return _.with(void 0,m+1)}if(_.lineNumber>1){const m=_.lineNumber-1;return new C.L(m,s.getLineMaxColumn(m))}return _}static cut(_,s,m){const c=[];let t=null;m.sort((a,p)=>C.L.compare(a.getStartPosition(),p.getEndPosition()));for(let a=0,p=m.length;a<p;a++){const u=m[a];if(u.isEmpty())if(_.emptySelectionClipboard){const g=u.getPosition();let b,y,w,D;g.lineNumber<s.getLineCount()?(b=g.lineNumber,y=1,w=g.lineNumber+1,D=1):g.lineNumber>1&&t?.endLineNumber!==g.lineNumber?(b=g.lineNumber-1,y=s.getLineMaxColumn(g.lineNumber-1),w=g.lineNumber,D=s.getLineMaxColumn(g.lineNumber)):(b=g.lineNumber,y=1,w=g.lineNumber,D=s.getLineMaxColumn(g.lineNumber));const x=new T.e(b,y,w,D);t=x,c[a]=x.isEmpty()?null:new n.T4(x,"")}else c[a]=null;else c[a]=new n.T4(u,"")}return new l.Tp(0,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},21073:(Dt,Y,e)=>{"use strict";e.d(Y,{N:()=>E,P:()=>C});var E,L,d=e(72715),n=e(76336),l=e(48589),S=e(7878),v=e(18723),T=e(98570);class C{static addCursorDown(_,s,m){const c=[];let t=0;for(let a=0,p=s.length;a<p;a++){const u=s[a];c[t++]=new n.Vi(u.modelState,u.viewState),c[t++]=m?n.Vi.fromModelState(l.o.translateDown(_.cursorConfig,_.model,u.modelState)):n.Vi.fromViewState(l.o.translateDown(_.cursorConfig,_,u.viewState))}return c}static addCursorUp(_,s,m){const c=[];let t=0;for(let a=0,p=s.length;a<p;a++){const u=s[a];c[t++]=new n.Vi(u.modelState,u.viewState),c[t++]=m?n.Vi.fromModelState(l.o.translateUp(_.cursorConfig,_.model,u.modelState)):n.Vi.fromViewState(l.o.translateUp(_.cursorConfig,_,u.viewState))}return c}static moveToBeginningOfLine(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++)c[t]=this._moveToLineStart(_,s[t],m);return c}static _moveToLineStart(_,s,m){const c=s.viewState.position.column,a=c===s.modelState.position.column,u=_.getLineFirstNonWhitespaceColumn(s.viewState.position.lineNumber);return a||c===u?this._moveToLineStartByModel(_,s,m):this._moveToLineStartByView(_,s,m)}static _moveToLineStartByView(_,s,m){return n.Vi.fromViewState(l.o.moveToBeginningOfLine(_.cursorConfig,_,s.viewState,m))}static _moveToLineStartByModel(_,s,m){return n.Vi.fromModelState(l.o.moveToBeginningOfLine(_.cursorConfig,_.model,s.modelState,m))}static moveToEndOfLine(_,s,m,c){const t=[];for(let a=0,p=s.length;a<p;a++)t[a]=this._moveToLineEnd(_,s[a],m,c);return t}static _moveToLineEnd(_,s,m,c){const t=s.viewState.position,a=_.getLineMaxColumn(t.lineNumber),p=t.column===a,u=s.modelState.position,g=_.model.getLineMaxColumn(u.lineNumber);return p||a-t.column==g-u.column?this._moveToLineEndByModel(_,s,m,c):this._moveToLineEndByView(_,s,m,c)}static _moveToLineEndByView(_,s,m,c){return n.Vi.fromViewState(l.o.moveToEndOfLine(_.cursorConfig,_,s.viewState,m,c))}static _moveToLineEndByModel(_,s,m,c){return n.Vi.fromModelState(l.o.moveToEndOfLine(_.cursorConfig,_.model,s.modelState,m,c))}static expandLineSelection(_,s){const m=[];for(let c=0,t=s.length;c<t;c++){const a=s[c],p=a.modelState.selection.startLineNumber,u=_.model.getLineCount();let b,g=a.modelState.selection.endLineNumber;g===u?b=_.model.getLineMaxColumn(u):(g++,b=1),m[c]=n.Vi.fromModelState(new n.rS(new T.e(p,1,p,1),0,new v.L(g,b),0))}return m}static moveToBeginningOfBuffer(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++)c[t]=n.Vi.fromModelState(l.o.moveToBeginningOfBuffer(_.cursorConfig,_.model,s[t].modelState,m));return c}static moveToEndOfBuffer(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++)c[t]=n.Vi.fromModelState(l.o.moveToEndOfBuffer(_.cursorConfig,_.model,s[t].modelState,m));return c}static selectAll(_,s){const m=_.model.getLineCount(),c=_.model.getLineMaxColumn(m);return n.Vi.fromModelState(new n.rS(new T.e(1,1,1,1),0,new v.L(m,c),0))}static line(_,s,m,c,t){const a=_.model.validatePosition(c),p=t?_.coordinatesConverter.validateViewPosition(new v.L(t.lineNumber,t.column),a):_.coordinatesConverter.convertModelPositionToViewPosition(a);if(!m||!s.modelState.hasSelection()){const g=_.model.getLineCount();let b=a.lineNumber+1,y=1;return b>g&&(b=g,y=_.model.getLineMaxColumn(b)),n.Vi.fromModelState(new n.rS(new T.e(a.lineNumber,1,b,y),0,new v.L(b,y),0))}const u=s.modelState.selectionStart.getStartPosition().lineNumber;if(a.lineNumber<u)return n.Vi.fromViewState(s.viewState.move(s.modelState.hasSelection(),p.lineNumber,1,0));if(a.lineNumber>u){const g=_.getLineCount();let b=p.lineNumber+1,y=1;return b>g&&(b=g,y=_.getLineMaxColumn(b)),n.Vi.fromViewState(s.viewState.move(s.modelState.hasSelection(),b,y,0))}{const g=s.modelState.selectionStart.getEndPosition();return n.Vi.fromModelState(s.modelState.move(s.modelState.hasSelection(),g.lineNumber,g.column,0))}}static word(_,s,m,c){const t=_.model.validatePosition(c);return n.Vi.fromModelState(S.w.word(_.cursorConfig,_.model,s.modelState,m,t))}static cancelSelection(_,s){if(!s.modelState.hasSelection())return new n.Vi(s.modelState,s.viewState);const m=s.viewState.position.lineNumber,c=s.viewState.position.column;return n.Vi.fromViewState(new n.rS(new T.e(m,c,m,c),0,new v.L(m,c),0))}static moveTo(_,s,m,c,t){const a=_.model.validatePosition(c),p=t?_.coordinatesConverter.validateViewPosition(new v.L(t.lineNumber,t.column),a):_.coordinatesConverter.convertModelPositionToViewPosition(a);return n.Vi.fromViewState(s.viewState.move(m,p.lineNumber,p.column,0))}static simpleMove(_,s,m,c,t,a){switch(m){case 0:return 4===a?this._moveHalfLineLeft(_,s,c):this._moveLeft(_,s,c,t);case 1:return 4===a?this._moveHalfLineRight(_,s,c):this._moveRight(_,s,c,t);case 2:return 2===a?this._moveUpByViewLines(_,s,c,t):this._moveUpByModelLines(_,s,c,t);case 3:return 2===a?this._moveDownByViewLines(_,s,c,t):this._moveDownByModelLines(_,s,c,t);case 4:return s.map(2===a?p=>n.Vi.fromViewState(l.o.moveToPrevBlankLine(_.cursorConfig,_,p.viewState,c)):p=>n.Vi.fromModelState(l.o.moveToPrevBlankLine(_.cursorConfig,_.model,p.modelState,c)));case 5:return s.map(2===a?p=>n.Vi.fromViewState(l.o.moveToNextBlankLine(_.cursorConfig,_,p.viewState,c)):p=>n.Vi.fromModelState(l.o.moveToNextBlankLine(_.cursorConfig,_.model,p.modelState,c)));case 6:return this._moveToViewMinColumn(_,s,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(_,s,c);case 8:return this._moveToViewCenterColumn(_,s,c);case 9:return this._moveToViewMaxColumn(_,s,c);case 10:return this._moveToViewLastNonWhitespaceColumn(_,s,c);default:return null}}static viewportMove(_,s,m,c,t){const a=_.getCompletelyVisibleViewRange(),p=_.coordinatesConverter.convertViewRangeToModelRange(a);switch(m){case 11:{const u=this._firstLineNumberInRange(_.model,p,t),g=_.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(_,s[0],c,u,g)]}case 13:{const u=this._lastLineNumberInRange(_.model,p,t),g=_.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(_,s[0],c,u,g)]}case 12:{const u=Math.round((p.startLineNumber+p.endLineNumber)/2),g=_.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(_,s[0],c,u,g)]}case 14:{const u=[];for(let g=0,b=s.length;g<b;g++)u[g]=this.findPositionInViewportIfOutside(_,s[g],a,c);return u}default:return null}}static findPositionInViewportIfOutside(_,s,m,c){const t=s.viewState.position.lineNumber;if(m.startLineNumber<=t&&t<=m.endLineNumber-1)return new n.Vi(s.modelState,s.viewState);{let a;a=t>m.endLineNumber-1?m.endLineNumber-1:t<m.startLineNumber?m.startLineNumber:t;const p=l.o.vertical(_.cursorConfig,_,t,s.viewState.position.column,s.viewState.leftoverVisibleColumns,a,!1);return n.Vi.fromViewState(s.viewState.move(c,p.lineNumber,p.column,p.leftoverVisibleColumns))}}static _firstLineNumberInRange(_,s,m){let c=s.startLineNumber;return s.startColumn!==_.getLineMinColumn(c)&&c++,Math.min(s.endLineNumber,c+m-1)}static _lastLineNumberInRange(_,s,m){let c=s.startLineNumber;return s.startColumn!==_.getLineMinColumn(c)&&c++,Math.max(c,s.endLineNumber-m+1)}static _moveLeft(_,s,m,c){return s.map(t=>n.Vi.fromViewState(l.o.moveLeft(_.cursorConfig,_,t.viewState,m,c)))}static _moveHalfLineLeft(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++){const p=s[t],g=Math.round(_.getLineContent(p.viewState.position.lineNumber).length/2);c[t]=n.Vi.fromViewState(l.o.moveLeft(_.cursorConfig,_,p.viewState,m,g))}return c}static _moveRight(_,s,m,c){return s.map(t=>n.Vi.fromViewState(l.o.moveRight(_.cursorConfig,_,t.viewState,m,c)))}static _moveHalfLineRight(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++){const p=s[t],g=Math.round(_.getLineContent(p.viewState.position.lineNumber).length/2);c[t]=n.Vi.fromViewState(l.o.moveRight(_.cursorConfig,_,p.viewState,m,g))}return c}static _moveDownByViewLines(_,s,m,c){const t=[];for(let a=0,p=s.length;a<p;a++)t[a]=n.Vi.fromViewState(l.o.moveDown(_.cursorConfig,_,s[a].viewState,m,c));return t}static _moveDownByModelLines(_,s,m,c){const t=[];for(let a=0,p=s.length;a<p;a++)t[a]=n.Vi.fromModelState(l.o.moveDown(_.cursorConfig,_.model,s[a].modelState,m,c));return t}static _moveUpByViewLines(_,s,m,c){const t=[];for(let a=0,p=s.length;a<p;a++)t[a]=n.Vi.fromViewState(l.o.moveUp(_.cursorConfig,_,s[a].viewState,m,c));return t}static _moveUpByModelLines(_,s,m,c){const t=[];for(let a=0,p=s.length;a<p;a++)t[a]=n.Vi.fromModelState(l.o.moveUp(_.cursorConfig,_.model,s[a].modelState,m,c));return t}static _moveToViewPosition(_,s,m,c,t){return n.Vi.fromViewState(s.viewState.move(m,c,t,0))}static _moveToModelPosition(_,s,m,c,t){return n.Vi.fromModelState(s.modelState.move(m,c,t,0))}static _moveToViewMinColumn(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++){const p=s[t],u=p.viewState.position.lineNumber,g=_.getLineMinColumn(u);c[t]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewFirstNonWhitespaceColumn(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++){const p=s[t],u=p.viewState.position.lineNumber,g=_.getLineFirstNonWhitespaceColumn(u);c[t]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewCenterColumn(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++){const p=s[t],u=p.viewState.position.lineNumber,g=Math.round((_.getLineMaxColumn(u)+_.getLineMinColumn(u))/2);c[t]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewMaxColumn(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++){const p=s[t],u=p.viewState.position.lineNumber,g=_.getLineMaxColumn(u);c[t]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewLastNonWhitespaceColumn(_,s,m){const c=[];for(let t=0,a=s.length;t<a;t++){const p=s[t],u=p.viewState.position.lineNumber,g=_.getLineLastNonWhitespaceColumn(u);c[t]=this._moveToViewPosition(_,p,m,u,g)}return c}}(L=E||(E={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(m){if(!d.Kn(m))return!1;const c=m;return!(!d.HD(c.to)||!d.o8(c.select)&&!d.jn(c.select)||!d.o8(c.by)&&!d.HD(c.by)||!d.o8(c.value)&&!d.hj(c.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},L.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},L.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},L.parse=function s(m){if(!m.to)return null;let c;switch(m.to){case L.RawDirection.Left:c=0;break;case L.RawDirection.Right:c=1;break;case L.RawDirection.Up:c=2;break;case L.RawDirection.Down:c=3;break;case L.RawDirection.PrevBlankLine:c=4;break;case L.RawDirection.NextBlankLine:c=5;break;case L.RawDirection.WrappedLineStart:c=6;break;case L.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case L.RawDirection.WrappedLineColumnCenter:c=8;break;case L.RawDirection.WrappedLineEnd:c=9;break;case L.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case L.RawDirection.ViewPortTop:c=11;break;case L.RawDirection.ViewPortBottom:c=13;break;case L.RawDirection.ViewPortCenter:c=12;break;case L.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let t=0;switch(m.by){case L.RawUnit.Line:t=1;break;case L.RawUnit.WrappedLine:t=2;break;case L.RawUnit.Character:t=3;break;case L.RawUnit.HalfLine:t=4}return{direction:c,unit:t,select:!!m.select,value:m.value||1}}},48589:(Dt,Y,e)=>{"use strict";e.d(Y,{o:()=>E});var d=e(76336),n=e(5409),l=e(18723),S=e(98570),v=e(73879),T=e(19123);class C{constructor(_,s,m){this._cursorPositionBrand=void 0,this.lineNumber=_,this.column=s,this.leftoverVisibleColumns=m}}class E{static leftPosition(_,s){if(s.column>_.getLineMinColumn(s.lineNumber))return s.delta(void 0,-v.HO(_.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const m=s.lineNumber-1;return new l.L(m,_.getLineMaxColumn(m))}return s}static leftPositionAtomicSoftTabs(_,s,m){if(s.column<=_.getLineIndentColumn(s.lineNumber)){const c=_.getLineMinColumn(s.lineNumber),t=_.getLineContent(s.lineNumber),a=T.l.atomicPosition(t,s.column-1,m,0);if(-1!==a&&a+1>=c)return new l.L(s.lineNumber,a+1)}return this.leftPosition(_,s)}static left(_,s,m){const c=_.stickyTabStops?E.leftPositionAtomicSoftTabs(s,m,_.tabSize):E.leftPosition(s,m);return new C(c.lineNumber,c.column,0)}static moveLeft(_,s,m,c,t){let a,p;if(m.hasSelection()&&!c)a=m.selection.startLineNumber,p=m.selection.startColumn;else{const u=m.position.delta(void 0,-(t-1)),g=s.normalizePosition(E.clipPositionColumn(u,s),0),b=E.left(_,s,g);a=b.lineNumber,p=b.column}return m.move(c,a,p,0)}static clipPositionColumn(_,s){return new l.L(_.lineNumber,E.clipRange(_.column,s.getLineMinColumn(_.lineNumber),s.getLineMaxColumn(_.lineNumber)))}static clipRange(_,s,m){return _<s?s:_>m?m:_}static rightPosition(_,s,m){return m<_.getLineMaxColumn(s)?m+=v.vH(_.getLineContent(s),m-1):s<_.getLineCount()&&(m=_.getLineMinColumn(s+=1)),new l.L(s,m)}static rightPositionAtomicSoftTabs(_,s,m,c,t){if(m<_.getLineIndentColumn(s)){const a=_.getLineContent(s),p=T.l.atomicPosition(a,m-1,c,1);if(-1!==p)return new l.L(s,p+1)}return this.rightPosition(_,s,m)}static right(_,s,m){const c=_.stickyTabStops?E.rightPositionAtomicSoftTabs(s,m.lineNumber,m.column,_.tabSize,_.indentSize):E.rightPosition(s,m.lineNumber,m.column);return new C(c.lineNumber,c.column,0)}static moveRight(_,s,m,c,t){let a,p;if(m.hasSelection()&&!c)a=m.selection.endLineNumber,p=m.selection.endColumn;else{const u=m.position.delta(void 0,t-1),g=s.normalizePosition(E.clipPositionColumn(u,s),1),b=E.right(_,s,g);a=b.lineNumber,p=b.column}return m.move(c,a,p,0)}static vertical(_,s,m,c,t,a,p,u){const g=n.i.visibleColumnFromColumn(s.getLineContent(m),c,_.tabSize)+t,b=s.getLineCount(),y=1===m&&1===c,w=m===b&&c===s.getLineMaxColumn(m),D=a<m?y:w;if((m=a)<1?(m=1,c=p?s.getLineMinColumn(m):Math.min(s.getLineMaxColumn(m),c)):m>b?(m=b,c=p?s.getLineMaxColumn(m):Math.min(s.getLineMaxColumn(m),c)):c=_.columnFromVisibleColumn(s,m,g),t=D?0:g-n.i.visibleColumnFromColumn(s.getLineContent(m),c,_.tabSize),void 0!==u){const x=new l.L(m,c),P=s.normalizePosition(x,u);t+=c-P.column,m=P.lineNumber,c=P.column}return new C(m,c,t)}static down(_,s,m,c,t,a,p){return this.vertical(_,s,m,c,t,m+a,p,4)}static moveDown(_,s,m,c,t){let a,p;m.hasSelection()&&!c?(a=m.selection.endLineNumber,p=m.selection.endColumn):(a=m.position.lineNumber,p=m.position.column);const u=E.down(_,s,a,p,m.leftoverVisibleColumns,t,!0);return m.move(c,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateDown(_,s,m){const c=m.selection,t=E.down(_,s,c.selectionStartLineNumber,c.selectionStartColumn,m.selectionStartLeftoverVisibleColumns,1,!1),a=E.down(_,s,c.positionLineNumber,c.positionColumn,m.leftoverVisibleColumns,1,!1);return new d.rS(new S.e(t.lineNumber,t.column,t.lineNumber,t.column),t.leftoverVisibleColumns,new l.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static up(_,s,m,c,t,a,p){return this.vertical(_,s,m,c,t,m-a,p,3)}static moveUp(_,s,m,c,t){let a,p;m.hasSelection()&&!c?(a=m.selection.startLineNumber,p=m.selection.startColumn):(a=m.position.lineNumber,p=m.position.column);const u=E.up(_,s,a,p,m.leftoverVisibleColumns,t,!0);return m.move(c,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(_,s,m){const c=m.selection,t=E.up(_,s,c.selectionStartLineNumber,c.selectionStartColumn,m.selectionStartLeftoverVisibleColumns,1,!1),a=E.up(_,s,c.positionLineNumber,c.positionColumn,m.leftoverVisibleColumns,1,!1);return new d.rS(new S.e(t.lineNumber,t.column,t.lineNumber,t.column),t.leftoverVisibleColumns,new l.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static _isBlankLine(_,s){return 0===_.getLineFirstNonWhitespaceColumn(s)}static moveToPrevBlankLine(_,s,m,c){let t=m.position.lineNumber;for(;t>1&&this._isBlankLine(s,t);)t--;for(;t>1&&!this._isBlankLine(s,t);)t--;return m.move(c,t,s.getLineMinColumn(t),0)}static moveToNextBlankLine(_,s,m,c){const t=s.getLineCount();let a=m.position.lineNumber;for(;a<t&&this._isBlankLine(s,a);)a++;for(;a<t&&!this._isBlankLine(s,a);)a++;return m.move(c,a,s.getLineMinColumn(a),0)}static moveToBeginningOfLine(_,s,m,c){const t=m.position.lineNumber,a=s.getLineMinColumn(t),p=s.getLineFirstNonWhitespaceColumn(t)||a;let u;return u=m.position.column===p?a:p,m.move(c,t,u,0)}static moveToEndOfLine(_,s,m,c,t){const a=m.position.lineNumber,p=s.getLineMaxColumn(a);return m.move(c,a,p,t?1073741824-p:0)}static moveToBeginningOfBuffer(_,s,m,c){return m.move(c,1,1,0)}static moveToEndOfBuffer(_,s,m,c){const t=s.getLineCount(),a=s.getLineMaxColumn(t);return m.move(c,t,a,0)}}},97979:(Dt,Y,e)=>{"use strict";e.d(Y,{Nu:()=>b,u6:()=>u,g_:()=>g});var d=e(4125),n=e(73879),l=e(22599),S=e(91117),v=e(98570),T=e(7233);class C{constructor(O,V,H){this._range=O,this._charBeforeSelection=V,this._charAfterSelection=H}getEditOperations(O,V){V.addTrackedEditOperation(new v.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),V.addTrackedEditOperation(new v.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(O,V){const H=V.getInverseEditOperations(),z=H[0].range,k=H[1].range;return new T.Y(z.endLineNumber,z.endColumn,k.endLineNumber,k.endColumn-this._charAfterSelection.length)}}class E{constructor(O,V,H){this._position=O,this._text=V,this._charAfter=H}getEditOperations(O,V){V.addTrackedEditOperation(new v.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(O,V){const z=V.getInverseEditOperations()[0].range;return new T.Y(z.endLineNumber,z.startColumn,z.endLineNumber,z.endColumn-this._charAfter.length)}}var L=e(76336),_=e(91609),s=e(18723),m=e(63331),c=e(94911),t=e(32309),a=e(3981),p=e(12969);class u{static indent(O,V,H){if(null===V||null===H)return[];const z=[];for(let k=0,F=H.length;k<F;k++)z[k]=new S.U(H[k],{isUnshift:!1,tabSize:O.tabSize,indentSize:O.indentSize,insertSpaces:O.insertSpaces,useTabStops:O.useTabStops,autoIndent:O.autoIndent},O.languageConfigurationService);return z}static outdent(O,V,H){const z=[];for(let k=0,F=H.length;k<F;k++)z[k]=new S.U(H[k],{isUnshift:!0,tabSize:O.tabSize,indentSize:O.indentSize,insertSpaces:O.insertSpaces,useTabStops:O.useTabStops,autoIndent:O.autoIndent},O.languageConfigurationService);return z}static shiftIndent(O,V,H){return S.U.shiftIndent(V,V.length+(H=H||1),O.tabSize,O.indentSize,O.insertSpaces)}static unshiftIndent(O,V,H){return S.U.unshiftIndent(V,V.length+(H=H||1),O.tabSize,O.indentSize,O.insertSpaces)}static _distributedPaste(O,V,H,z){const k=[];for(let F=0,j=H.length;F<j;F++)k[F]=new l.T4(H[F],z[F]);return new L.Tp(0,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(O,V,H,z,k){const F=[];for(let j=0,K=H.length;j<K;j++){const U=H[j],ne=U.getPosition();if(k&&!U.isEmpty()&&(k=!1),k&&z.indexOf("\n")!==z.length-1&&(k=!1),k){const N=new v.e(ne.lineNumber,1,ne.lineNumber,1);F[j]=new l.hP(N,z,U,!0)}else F[j]=new l.T4(U,z)}return new L.Tp(0,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(O,V,H,z,k){if(z||1===V.length)return null;if(k&&k.length===V.length)return k;if("spread"===O.multiCursorPaste){10===H.charCodeAt(H.length-1)&&(H=H.substr(0,H.length-1)),13===H.charCodeAt(H.length-1)&&(H=H.substr(0,H.length-1));const F=n.uq(H);if(F.length===V.length)return F}return null}static paste(O,V,H,z,k,F){const j=this._distributePasteToCursors(O,H,z,k,F);return j?(H=H.sort(v.e.compareRangesUsingStarts),this._distributedPaste(O,V,H,j)):this._simplePaste(O,V,H,z,k)}static _goodIndentForLine(O,V,H){let z=null,k="";const F=(0,a.r7)(O.autoIndent,V,H,!1,O.languageConfigurationService);if(F)z=F.action,k=F.indentation;else if(H>1){let j;for(j=H-1;j>=1;j--){const ne=V.getLineContent(j);if(n.ow(ne)>=0)break}if(j<1)return null;const K=V.getLineMaxColumn(j),U=(0,p.A)(O.autoIndent,V,new v.e(j,K,j,K),O.languageConfigurationService);U&&(k=U.indentation+U.appendText)}return z&&(z===m.wU.Indent&&(k=u.shiftIndent(O,k)),z===m.wU.Outdent&&(k=u.unshiftIndent(O,k)),k=O.normalizeIndentation(k)),k||null}static _replaceJumpToNextIndent(O,V,H,z){let k="";const F=H.getStartPosition();if(O.insertSpaces){const j=O.visibleColumnFromColumn(V,F),K=O.indentSize,U=K-j%K;for(let ne=0;ne<U;ne++)k+=" "}else k="\t";return new l.T4(H,k,z)}static tab(O,V,H){const z=[];for(let k=0,F=H.length;k<F;k++){const j=H[k];if(j.isEmpty()){const K=V.getLineContent(j.startLineNumber);if(/^\s*$/.test(K)&&V.tokenization.isCheapToTokenize(j.startLineNumber)){let U=this._goodIndentForLine(O,V,j.startLineNumber);U=U||"\t";const ne=O.normalizeIndentation(U);if(!K.startsWith(ne)){z[k]=new l.T4(new v.e(j.startLineNumber,1,j.startLineNumber,K.length+1),ne,!0);continue}}z[k]=this._replaceJumpToNextIndent(O,V,j,!0)}else{if(j.startLineNumber===j.endLineNumber){const K=V.getLineMaxColumn(j.startLineNumber);if(1!==j.startColumn||j.endColumn!==K){z[k]=this._replaceJumpToNextIndent(O,V,j,!1);continue}}z[k]=new S.U(j,{isUnshift:!1,tabSize:O.tabSize,indentSize:O.indentSize,insertSpaces:O.insertSpaces,useTabStops:O.useTabStops,autoIndent:O.autoIndent},O.languageConfigurationService)}}return z}static compositionType(O,V,H,z,k,F,j,K){const U=z.map(ne=>this._compositionType(H,ne,k,F,j,K));return new L.Tp(4,U,{shouldPushStackElementBefore:w(O,4),shouldPushStackElementAfter:!1})}static _compositionType(O,V,H,z,k,F){if(!V.isEmpty())return null;const j=V.getPosition(),K=Math.max(1,j.column-z),U=Math.min(O.getLineMaxColumn(j.lineNumber),j.column+k),ne=new v.e(j.lineNumber,K,j.lineNumber,U);return O.getValueInRange(ne)===H&&0===F?null:new l.Uo(ne,H,0,F)}static _typeCommand(O,V,H){return H?new l.Sj(O,V,!0):new l.T4(O,V,!0)}static _enter(O,V,H,z){if(0===O.autoIndent)return u._typeCommand(z,"\n",H);if(!V.tokenization.isCheapToTokenize(z.getStartPosition().lineNumber)||1===O.autoIndent){const K=V.getLineContent(z.startLineNumber),U=n.V8(K).substring(0,z.startColumn-1);return u._typeCommand(z,"\n"+O.normalizeIndentation(U),H)}const k=(0,p.A)(O.autoIndent,V,z,O.languageConfigurationService);if(k){if(k.indentAction===m.wU.None)return u._typeCommand(z,"\n"+O.normalizeIndentation(k.indentation+k.appendText),H);if(k.indentAction===m.wU.Indent)return u._typeCommand(z,"\n"+O.normalizeIndentation(k.indentation+k.appendText),H);if(k.indentAction===m.wU.IndentOutdent){const K=O.normalizeIndentation(k.indentation),U=O.normalizeIndentation(k.indentation+k.appendText),ne="\n"+U+"\n"+K;return H?new l.Sj(z,ne,!0):new l.Uo(z,ne,-1,U.length-K.length,!0)}if(k.indentAction===m.wU.Outdent){const K=u.unshiftIndent(O,k.indentation);return u._typeCommand(z,"\n"+O.normalizeIndentation(K+k.appendText),H)}}const F=V.getLineContent(z.startLineNumber),j=n.V8(F).substring(0,z.startColumn-1);if(O.autoIndent>=4){const K=(0,a.UF)(O.autoIndent,V,z,{unshiftIndent:U=>u.unshiftIndent(O,U),shiftIndent:U=>u.shiftIndent(O,U),normalizeIndentation:U=>O.normalizeIndentation(U)},O.languageConfigurationService);if(K){let U=O.visibleColumnFromColumn(V,z.getEndPosition());const ne=z.endColumn,N=V.getLineContent(z.endLineNumber),W=n.LC(N);if(z=z.setEndPosition(z.endLineNumber,W>=0?Math.max(z.endColumn,W+1):V.getLineMaxColumn(z.endLineNumber)),H)return new l.Sj(z,"\n"+O.normalizeIndentation(K.afterEnter),!0);{let Z=0;return ne<=W+1&&(O.insertSpaces||(U=Math.ceil(U/O.indentSize)),Z=Math.min(U+1-O.normalizeIndentation(K.afterEnter).length-1,0)),new l.Uo(z,"\n"+O.normalizeIndentation(K.afterEnter),0,Z,!0)}}}return u._typeCommand(z,"\n"+O.normalizeIndentation(j),H)}static _isAutoIndentType(O,V,H){if(O.autoIndent<4)return!1;for(let z=0,k=H.length;z<k;z++)if(!V.tokenization.isCheapToTokenize(H[z].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(O,V,H,z){const k=(0,c.u0)(V,H.startLineNumber,H.startColumn),F=(0,a.$9)(O.autoIndent,V,H,z,{shiftIndent:j=>u.shiftIndent(O,j),unshiftIndent:j=>u.unshiftIndent(O,j)},O.languageConfigurationService);if(null===F)return null;if(F!==O.normalizeIndentation(k)){const j=V.getLineFirstNonWhitespaceColumn(H.startLineNumber);return u._typeCommand(new v.e(H.startLineNumber,1,H.endLineNumber,H.endColumn),0===j?O.normalizeIndentation(F)+z:O.normalizeIndentation(F)+V.getLineContent(H.startLineNumber).substring(j-1,H.startColumn-1)+z,!1)}return null}static _isAutoClosingOvertype(O,V,H,z,k){if("never"===O.autoClosingOvertype||!O.autoClosingPairs.autoClosingPairsCloseSingleChar.has(k))return!1;for(let F=0,j=H.length;F<j;F++){const K=H[F];if(!K.isEmpty())return!1;const U=K.getPosition(),ne=V.getLineContent(U.lineNumber);if(ne.charAt(U.column-1)!==k)return!1;const W=(0,L.LN)(k);if(92===(U.column>2?ne.charCodeAt(U.column-2):0)&&W)return!1;if("auto"===O.autoClosingOvertype){let ge=!1;for(let M=0,we=z.length;M<we;M++){const Ee=z[M];if(U.lineNumber===Ee.startLineNumber&&U.column===Ee.startColumn){ge=!0;break}}if(!ge)return!1}}return!0}static _runAutoClosingOvertype(O,V,H,z,k){const F=[];for(let j=0,K=z.length;j<K;j++){const ne=z[j].getPosition(),N=new v.e(ne.lineNumber,ne.column,ne.lineNumber,ne.column+1);F[j]=new l.T4(N,k)}return new L.Tp(4,F,{shouldPushStackElementBefore:w(O,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(O,V){const H=V.charAt(0),z=O.autoClosingPairs.autoClosingPairsOpenByStart.get(H)||[],k=O.autoClosingPairs.autoClosingPairsCloseByStart.get(H)||[],F=z.some(K=>V.startsWith(K.open)),j=k.some(K=>V.startsWith(K.close));return!F&&j}static _findAutoClosingPairOpen(O,V,H,z){const k=O.autoClosingPairs.autoClosingPairsOpenByEnd.get(z);if(!k)return null;let F=null;for(const j of k)if(null===F||j.open.length>F.open.length){let K=!0;for(const U of H)if(V.getValueInRange(new v.e(U.lineNumber,U.column-j.open.length+1,U.lineNumber,U.column))+z!==j.open){K=!1;break}K&&(F=j)}return F}static _findContainedAutoClosingPair(O,V){if(V.open.length<=1)return null;const H=V.close.charAt(V.close.length-1),z=O.autoClosingPairs.autoClosingPairsCloseByEnd.get(H)||[];let k=null;for(const F of z)F.open!==V.open&&V.open.includes(F.open)&&V.close.endsWith(F.close)&&(!k||F.open.length>k.open.length)&&(k=F);return k}static _getAutoClosingPairClose(O,V,H,z,k){const F=(0,L.LN)(z),j=F?O.autoClosingQuotes:O.autoClosingBrackets,K=F?O.shouldAutoCloseBefore.quote:O.shouldAutoCloseBefore.bracket;if("never"===j)return null;for(const ge of H)if(!ge.isEmpty())return null;const U=H.map(ge=>{const M=ge.getPosition();return k?{lineNumber:M.lineNumber,beforeColumn:M.column-z.length,afterColumn:M.column}:{lineNumber:M.lineNumber,beforeColumn:M.column,afterColumn:M.column}}),ne=this._findAutoClosingPairOpen(O,V,U.map(ge=>new s.L(ge.lineNumber,ge.beforeColumn)),z);if(!ne)return null;const N=this._findContainedAutoClosingPair(O,ne),W=N?N.close:"";let Z=!0;for(const ge of U){const{lineNumber:M,beforeColumn:we,afterColumn:Ee}=ge,xe=V.getLineContent(M),Ne=xe.substring(0,we-1),oe=xe.substring(Ee-1);if(oe.startsWith(W)||(Z=!1),oe.length>0){const Me=oe.charAt(0);if(!u._isBeforeClosingBrace(O,oe)&&!K(Me))return null}if(1===ne.open.length&&("'"===z||'"'===z)&&"always"!==j){const Me=(0,_.u)(O.wordSeparators);if(Ne.length>0){const de=Ne.charCodeAt(Ne.length-1);if(0===Me.get(de))return null}}if(!V.tokenization.isCheapToTokenize(M))return null;V.tokenization.forceTokenization(M);const Se=V.tokenization.getLineTokens(M),Ie=(0,t.wH)(Se,we-1);if(!ne.shouldAutoClose(Ie,we-Ie.firstCharOffset))return null;const me=ne.findNeutralCharacter();if(me){const Me=V.tokenization.getTokenTypeIfInsertingCharacter(M,we,me);if(!ne.isOK(Me))return null}}return Z?ne.close.substring(0,ne.close.length-W.length):ne.close}static _runAutoClosingOpenCharType(O,V,H,z,k,F,j){const K=[];for(let U=0,ne=z.length;U<ne;U++)K[U]=new g(z[U],k,!F,j);return new L.Tp(4,K,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(O,V){return(0,L.LN)(V)?"quotes"===O.autoSurround||"languageDefined"===O.autoSurround:"brackets"===O.autoSurround||"languageDefined"===O.autoSurround}static _isSurroundSelectionType(O,V,H,z){if(!u._shouldSurroundChar(O,z)||!O.surroundingPairs.hasOwnProperty(z))return!1;const k=(0,L.LN)(z);for(const F of H){if(F.isEmpty())return!1;let j=!0;for(let K=F.startLineNumber;K<=F.endLineNumber;K++){const U=V.getLineContent(K),W=U.substring(K===F.startLineNumber?F.startColumn-1:0,K===F.endLineNumber?F.endColumn-1:U.length);if(/[^ \t]/.test(W)){j=!1;break}}if(j)return!1;if(k&&F.startLineNumber===F.endLineNumber&&F.startColumn+1===F.endColumn){const K=V.getValueInRange(F);if((0,L.LN)(K))return!1}}return!0}static _runSurroundSelectionType(O,V,H,z,k){const F=[];for(let j=0,K=z.length;j<K;j++)F[j]=new C(z[j],k,V.surroundingPairs[k]);return new L.Tp(0,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(O,V,H){return!(1!==H.length||!V.tokenization.isCheapToTokenize(H[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(O,V,H,z,k){if(!V.electricChars.hasOwnProperty(k)||!z.isEmpty())return null;const F=z.getPosition();H.tokenization.forceTokenization(F.lineNumber);const j=H.tokenization.getLineTokens(F.lineNumber);let K;try{K=V.onElectricCharacter(k,j,F.column)}catch(U){return(0,d.dL)(U),null}if(!K)return null;if(K.matchOpenBracket){const U=(j.getLineContent()+k).lastIndexOf(K.matchOpenBracket)+1,ne=H.bracketPairs.findMatchingBracketUp(K.matchOpenBracket,{lineNumber:F.lineNumber,column:U},500);if(ne){if(ne.startLineNumber===F.lineNumber)return null;const N=H.getLineContent(ne.startLineNumber),W=n.V8(N),Z=V.normalizeIndentation(W),ge=H.getLineContent(F.lineNumber),M=H.getLineFirstNonWhitespaceColumn(F.lineNumber)||F.column,Ee=Z+ge.substring(M-1,F.column-1)+k,xe=new v.e(F.lineNumber,1,F.lineNumber,F.column),Ne=new l.T4(xe,Ee);return new L.Tp(y(Ee,O),[Ne],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(O,V,H,z,k,F){if(!z)return null;let j=null;for(const N of z)if(null===j)j=N.insertedText;else if(j!==N.insertedText)return null;if(!j||1!==j.length)return null;const K=j;let U=!1;for(const N of z)if(0!==N.deletedText.length){U=!0;break}if(U){if(!u._shouldSurroundChar(V,K)||!V.surroundingPairs.hasOwnProperty(K))return null;const N=(0,L.LN)(K);for(const ge of z)if(0!==ge.deletedSelectionStart||ge.deletedSelectionEnd!==ge.deletedText.length||/^[ \t]+$/.test(ge.deletedText)||N&&(0,L.LN)(ge.deletedText))return null;const W=[];for(const ge of k){if(!ge.isEmpty())return null;W.push(ge.getPosition())}if(W.length!==z.length)return null;const Z=[];for(let ge=0,M=W.length;ge<M;ge++)Z.push(new E(W[ge],z[ge].deletedText,K));return new L.Tp(4,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(V,H,k,F,K)){const N=k.map(W=>new l.T4(new v.e(W.positionLineNumber,W.positionColumn,W.positionLineNumber,W.positionColumn+1),"",!1));return new L.Tp(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const ne=this._getAutoClosingPairClose(V,H,k,K,!0);return null!==ne?this._runAutoClosingOpenCharType(O,V,H,k,K,!0,ne):null}static typeWithInterceptors(O,V,H,z,k,F,j){if(!O&&"\n"===j){const ne=[];for(let N=0,W=k.length;N<W;N++)ne[N]=u._enter(H,z,!1,k[N]);return new L.Tp(4,ne,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!O&&this._isAutoIndentType(H,z,k)){const ne=[];let N=!1;for(let W=0,Z=k.length;W<Z;W++)if(ne[W]=this._runAutoIndentType(H,z,k[W],j),!ne[W]){N=!0;break}if(!N)return new L.Tp(4,ne,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(H,z,k,F,j))return this._runAutoClosingOvertype(V,H,z,k,j);if(!O){const ne=this._getAutoClosingPairClose(H,z,k,j,!1);if(ne)return this._runAutoClosingOpenCharType(V,H,z,k,j,!1,ne)}if(!O&&this._isSurroundSelectionType(H,z,k,j))return this._runSurroundSelectionType(V,H,z,k,j);if(!O&&this._isTypeInterceptorElectricChar(H,z,k)){const ne=this._typeInterceptorElectricChar(V,H,z,k[0],j);if(ne)return ne}const K=[];for(let ne=0,N=k.length;ne<N;ne++)K[ne]=new l.T4(k[ne],j);const U=y(j,V);return new L.Tp(U,K,{shouldPushStackElementBefore:w(V,U),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(O,V,H,z,k){const F=[];for(let K=0,U=z.length;K<U;K++)F[K]=new l.T4(z[K],k);const j=y(k,O);return new L.Tp(j,F,{shouldPushStackElementBefore:w(O,j),shouldPushStackElementAfter:!1})}static lineInsertBefore(O,V,H){if(null===V||null===H)return[];const z=[];for(let k=0,F=H.length;k<F;k++){let j=H[k].positionLineNumber;if(1===j)z[k]=new l.Sj(new v.e(1,1,1,1),"\n");else{j--;const K=V.getLineMaxColumn(j);z[k]=this._enter(O,V,!1,new v.e(j,K,j,K))}}return z}static lineInsertAfter(O,V,H){if(null===V||null===H)return[];const z=[];for(let k=0,F=H.length;k<F;k++){const j=H[k].positionLineNumber,K=V.getLineMaxColumn(j);z[k]=this._enter(O,V,!1,new v.e(j,K,j,K))}return z}static lineBreakInsert(O,V,H){const z=[];for(let k=0,F=H.length;k<F;k++)z[k]=this._enter(O,V,!0,H[k]);return z}}class g extends l.Uo{constructor(O,V,H,z){super(O,(H?V:"")+z,0,-z.length),this._openCharacter=V,this._closeCharacter=z,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(O,V){const z=V.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.e(z.startLineNumber,z.endColumn-this._closeCharacter.length,z.endLineNumber,z.endColumn),this.enclosingRange=new v.e(z.startLineNumber,z.endColumn-this._openCharacter.length-this._closeCharacter.length,z.endLineNumber,z.endColumn),super.computeCursorState(O,V)}}class b{constructor(O,V,H,z,k,F){this.deletedText=O,this.deletedSelectionStart=V,this.deletedSelectionEnd=H,this.insertedText=z,this.insertedSelectionStart=k,this.insertedSelectionEnd=F}}function y(P,O){return" "===P?5===O||6===O?6:5:4}function w(P,O){return!(!x(P)||x(O))||5!==P&&D(P)!==D(O)}function D(P){return 6===P||5===P?"space":P}function x(P){return 4===P||5===P||6===P}},7878:(Dt,Y,e)=>{"use strict";e.d(Y,{L:()=>E,w:()=>C});var d=e(73879),n=e(76336),l=e(8445),S=e(91609),v=e(18723),T=e(98570);class C{static _createWord(s,m,c,t,a){return{start:t,end:a,wordType:m,nextCharClass:c}}static _findPreviousWordOnLine(s,m,c){const t=m.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(t,s,c)}static _doFindPreviousWordOnLine(s,m,c){let t=0;for(let a=c.column-2;a>=0;a--){const p=s.charCodeAt(a),u=m.get(p);if(0===u){if(2===t)return this._createWord(s,t,u,a+1,this._findEndOfWord(s,m,t,a+1));t=1}else if(2===u){if(1===t)return this._createWord(s,t,u,a+1,this._findEndOfWord(s,m,t,a+1));t=2}else if(1===u&&0!==t)return this._createWord(s,t,u,a+1,this._findEndOfWord(s,m,t,a+1))}return 0!==t?this._createWord(s,t,1,0,this._findEndOfWord(s,m,t,0)):null}static _findEndOfWord(s,m,c,t){const a=s.length;for(let p=t;p<a;p++){const u=s.charCodeAt(p),g=m.get(u);if(1===g||1===c&&2===g||2===c&&0===g)return p}return a}static _findNextWordOnLine(s,m,c){const t=m.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(t,s,c)}static _doFindNextWordOnLine(s,m,c){let t=0;const a=s.length;for(let p=c.column-1;p<a;p++){const u=s.charCodeAt(p),g=m.get(u);if(0===g){if(2===t)return this._createWord(s,t,g,this._findStartOfWord(s,m,t,p-1),p);t=1}else if(2===g){if(1===t)return this._createWord(s,t,g,this._findStartOfWord(s,m,t,p-1),p);t=2}else if(1===g&&0!==t)return this._createWord(s,t,g,this._findStartOfWord(s,m,t,p-1),p)}return 0!==t?this._createWord(s,t,1,this._findStartOfWord(s,m,t,a-1),a):null}static _findStartOfWord(s,m,c,t){for(let a=t;a>=0;a--){const p=s.charCodeAt(a),u=m.get(p);if(1===u||1===c&&2===u||2===c&&0===u)return a+1}return 0}static moveWordLeft(s,m,c,t){let a=c.lineNumber,p=c.column;1===p&&a>1&&(a-=1,p=m.getLineMaxColumn(a));let u=C._findPreviousWordOnLine(s,m,new v.L(a,p));if(0===t)return new v.L(a,u?u.start+1:1);if(1===t)return u&&2===u.wordType&&u.end-u.start==1&&0===u.nextCharClass&&(u=C._findPreviousWordOnLine(s,m,new v.L(a,u.start+1))),new v.L(a,u?u.start+1:1);if(3===t){for(;u&&2===u.wordType;)u=C._findPreviousWordOnLine(s,m,new v.L(a,u.start+1));return new v.L(a,u?u.start+1:1)}return u&&p<=u.end+1&&(u=C._findPreviousWordOnLine(s,m,new v.L(a,u.start+1))),new v.L(a,u?u.end+1:1)}static _moveWordPartLeft(s,m){const c=m.lineNumber,t=s.getLineMaxColumn(c);if(1===m.column)return c>1?new v.L(c-1,s.getLineMaxColumn(c-1)):m;const a=s.getLineContent(c);for(let p=m.column-1;p>1;p--){const u=a.charCodeAt(p-2),g=a.charCodeAt(p-1);if(95===u&&95!==g)return new v.L(c,p);if((d.mK(u)||d.T5(u))&&d.df(g))return new v.L(c,p);if(d.df(u)&&d.df(g)&&p+1<t){const b=a.charCodeAt(p);if(d.mK(b)||d.T5(b))return new v.L(c,p)}}return new v.L(c,1)}static moveWordRight(s,m,c,t){let a=c.lineNumber,p=c.column,u=!1;p===m.getLineMaxColumn(a)&&a<m.getLineCount()&&(u=!0,a+=1,p=1);let g=C._findNextWordOnLine(s,m,new v.L(a,p));if(2===t)g&&2===g.wordType&&g.end-g.start==1&&0===g.nextCharClass&&(g=C._findNextWordOnLine(s,m,new v.L(a,g.end+1))),p=g?g.end+1:m.getLineMaxColumn(a);else if(3===t){for(u&&(p=0);g&&(2===g.wordType||g.start+1<=p);)g=C._findNextWordOnLine(s,m,new v.L(a,g.end+1));p=g?g.start+1:m.getLineMaxColumn(a)}else g&&!u&&p>=g.start+1&&(g=C._findNextWordOnLine(s,m,new v.L(a,g.end+1))),p=g?g.start+1:m.getLineMaxColumn(a);return new v.L(a,p)}static _moveWordPartRight(s,m){const c=m.lineNumber,t=s.getLineMaxColumn(c);if(m.column===t)return c<s.getLineCount()?new v.L(c+1,1):m;const a=s.getLineContent(c);for(let p=m.column+1;p<t;p++){const u=a.charCodeAt(p-2),g=a.charCodeAt(p-1);if(95!==u&&95===g)return new v.L(c,p);if((d.mK(u)||d.T5(u))&&d.df(g))return new v.L(c,p);if(d.df(u)&&d.df(g)&&p+1<t){const b=a.charCodeAt(p);if(d.mK(b)||d.T5(b))return new v.L(c,p)}}return new v.L(c,t)}static _deleteWordLeftWhitespace(s,m){const c=s.getLineContent(m.lineNumber),t=m.column-2,a=d.ow(c,t);return a+1<t?new T.e(m.lineNumber,a+2,m.lineNumber,m.column):null}static deleteWordLeft(s,m){const c=s.wordSeparators,t=s.model,a=s.selection,p=s.whitespaceHeuristics;if(!a.isEmpty())return a;if(l.A.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,s.model,[s.selection],s.autoClosedCharacters)){const w=s.selection.getPosition();return new T.e(w.lineNumber,w.column-1,w.lineNumber,w.column+1)}const u=new v.L(a.positionLineNumber,a.positionColumn);let g=u.lineNumber,b=u.column;if(1===g&&1===b)return null;if(p){const w=this._deleteWordLeftWhitespace(t,u);if(w)return w}let y=C._findPreviousWordOnLine(c,t,u);return 0===m?y?b=y.start+1:b>1?b=1:(g--,b=t.getLineMaxColumn(g)):(y&&b<=y.end+1&&(y=C._findPreviousWordOnLine(c,t,new v.L(g,y.start+1))),y?b=y.end+1:b>1?b=1:(g--,b=t.getLineMaxColumn(g))),new T.e(g,b,u.lineNumber,u.column)}static deleteInsideWord(s,m,c){if(!c.isEmpty())return c;const t=new v.L(c.positionLineNumber,c.positionColumn);return this._deleteInsideWordWhitespace(m,t)||this._deleteInsideWordDetermineDeleteRange(s,m,t)}static _charAtIsWhitespace(s,m){const c=s.charCodeAt(m);return 32===c||9===c}static _deleteInsideWordWhitespace(s,m){const c=s.getLineContent(m.lineNumber),t=c.length;if(0===t)return null;let a=Math.max(m.column-2,0);if(!this._charAtIsWhitespace(c,a))return null;let p=Math.min(m.column-1,t-1);if(!this._charAtIsWhitespace(c,p))return null;for(;a>0&&this._charAtIsWhitespace(c,a-1);)a--;for(;p+1<t&&this._charAtIsWhitespace(c,p+1);)p++;return new T.e(m.lineNumber,a+1,m.lineNumber,p+2)}static _deleteInsideWordDetermineDeleteRange(s,m,c){const t=m.getLineContent(c.lineNumber),a=t.length;if(0===a)return c.lineNumber>1?new T.e(c.lineNumber-1,m.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<m.getLineCount()?new T.e(c.lineNumber,1,c.lineNumber+1,1):new T.e(c.lineNumber,1,c.lineNumber,1);const p=w=>w.start+1<=c.column&&c.column<=w.end+1,u=(w,D)=>(w=Math.min(w,c.column),D=Math.max(D,c.column),new T.e(c.lineNumber,w,c.lineNumber,D)),g=w=>{let D=w.start+1,x=w.end+1,P=!1;for(;x-1<a&&this._charAtIsWhitespace(t,x-1);)P=!0,x++;if(!P)for(;D>1&&this._charAtIsWhitespace(t,D-2);)D--;return u(D,x)},b=C._findPreviousWordOnLine(s,m,c);if(b&&p(b))return g(b);const y=C._findNextWordOnLine(s,m,c);return y&&p(y)?g(y):b&&y?u(b.end+1,y.start+1):b?u(b.start+1,b.end+1):y?u(y.start+1,y.end+1):u(1,a+1)}static _deleteWordPartLeft(s,m){if(!m.isEmpty())return m;const c=m.getPosition(),t=C._moveWordPartLeft(s,c);return new T.e(c.lineNumber,c.column,t.lineNumber,t.column)}static _findFirstNonWhitespaceChar(s,m){const c=s.length;for(let t=m;t<c;t++){const a=s.charAt(t);if(" "!==a&&"\t"!==a)return t}return c}static _deleteWordRightWhitespace(s,m){const c=s.getLineContent(m.lineNumber),t=m.column-1,a=this._findFirstNonWhitespaceChar(c,t);return t+1<a?new T.e(m.lineNumber,m.column,m.lineNumber,a+1):null}static deleteWordRight(s,m){const c=s.wordSeparators,t=s.model,a=s.selection,p=s.whitespaceHeuristics;if(!a.isEmpty())return a;const u=new v.L(a.positionLineNumber,a.positionColumn);let g=u.lineNumber,b=u.column;const y=t.getLineCount(),w=t.getLineMaxColumn(g);if(g===y&&b===w)return null;if(p){const x=this._deleteWordRightWhitespace(t,u);if(x)return x}let D=C._findNextWordOnLine(c,t,u);return 2===m?D?b=D.end+1:b<w||g===y?b=w:(g++,D=C._findNextWordOnLine(c,t,new v.L(g,1)),b=D?D.start+1:t.getLineMaxColumn(g)):(D&&b>=D.start+1&&(D=C._findNextWordOnLine(c,t,new v.L(g,D.end+1))),D?b=D.start+1:b<w||g===y?b=w:(g++,D=C._findNextWordOnLine(c,t,new v.L(g,1)),b=D?D.start+1:t.getLineMaxColumn(g))),new T.e(g,b,u.lineNumber,u.column)}static _deleteWordPartRight(s,m){if(!m.isEmpty())return m;const c=m.getPosition(),t=C._moveWordPartRight(s,c);return new T.e(c.lineNumber,c.column,t.lineNumber,t.column)}static _createWordAtPosition(s,m,c){const t=new T.e(m,c.start+1,m,c.end+1);return{word:s.getValueInRange(t),startColumn:t.startColumn,endColumn:t.endColumn}}static getWordAtPosition(s,m,c){const t=(0,S.u)(m),a=C._findPreviousWordOnLine(t,s,c);if(a&&1===a.wordType&&a.start<=c.column-1&&c.column-1<=a.end)return C._createWordAtPosition(s,c.lineNumber,a);const p=C._findNextWordOnLine(t,s,c);return p&&1===p.wordType&&p.start<=c.column-1&&c.column-1<=p.end?C._createWordAtPosition(s,c.lineNumber,p):null}static word(s,m,c,t,a){const p=(0,S.u)(s.wordSeparators),u=C._findPreviousWordOnLine(p,m,a),g=C._findNextWordOnLine(p,m,a);if(!t){let x,P;return u&&1===u.wordType&&u.start<=a.column-1&&a.column-1<=u.end?(x=u.start+1,P=u.end+1):g&&1===g.wordType&&g.start<=a.column-1&&a.column-1<=g.end?(x=g.start+1,P=g.end+1):(x=u?u.end+1:1,P=g?g.start+1:m.getLineMaxColumn(a.lineNumber)),new n.rS(new T.e(a.lineNumber,x,a.lineNumber,P),0,new v.L(a.lineNumber,P),0)}let b,y;u&&1===u.wordType&&u.start<a.column-1&&a.column-1<u.end?(b=u.start+1,y=u.end+1):g&&1===g.wordType&&g.start<a.column-1&&a.column-1<g.end?(b=g.start+1,y=g.end+1):(b=a.column,y=a.column);const w=a.lineNumber;let D;if(c.selectionStart.containsPosition(a))D=c.selectionStart.endColumn;else if(a.isBeforeOrEqual(c.selectionStart.getStartPosition())){D=b;const x=new v.L(w,D);c.selectionStart.containsPosition(x)&&(D=c.selectionStart.endColumn)}else{D=y;const x=new v.L(w,D);c.selectionStart.containsPosition(x)&&(D=c.selectionStart.startColumn)}return c.move(!0,w,D,0)}}class E extends C{static deleteWordPartLeft(s){const m=L([C.deleteWordLeft(s,0),C.deleteWordLeft(s,2),C._deleteWordPartLeft(s.model,s.selection)]);return m.sort(T.e.compareRangesUsingEnds),m[2]}static deleteWordPartRight(s){const m=L([C.deleteWordRight(s,0),C.deleteWordRight(s,2),C._deleteWordPartRight(s.model,s.selection)]);return m.sort(T.e.compareRangesUsingStarts),m[0]}static moveWordPartLeft(s,m,c){const t=L([C.moveWordLeft(s,m,c,0),C.moveWordLeft(s,m,c,2),C._moveWordPartLeft(m,c)]);return t.sort(v.L.compare),t[2]}static moveWordPartRight(s,m,c){const t=L([C.moveWordRight(s,m,c,0),C.moveWordRight(s,m,c,2),C._moveWordPartRight(m,c)]);return t.sort(v.L.compare),t[0]}}function L(_){return _.filter(s=>Boolean(s))}},76336:(Dt,Y,e)=>{"use strict";e.d(Y,{LM:()=>_,LN:()=>p,Tp:()=>a,Vi:()=>s,rS:()=>t});var d=e(18723),n=e(98570),l=e(7233),S=e(32309),v=e(5409),T=e(87652);const C=()=>!0,E=()=>!1,L=u=>" "===u||"\t"===u;class _{constructor(g,b,y,w){this.languageConfigurationService=w,this._cursorMoveConfigurationBrand=void 0,this._languageId=g;const D=y.options,x=D.get(133);this.readOnly=D.get(83),this.tabSize=b.tabSize,this.indentSize=b.indentSize,this.insertSpaces=b.insertSpaces,this.stickyTabStops=D.get(106),this.lineHeight=D.get(61),this.pageSize=Math.max(1,Math.floor(x.height/this.lineHeight)-2),this.useTabStops=D.get(118),this.wordSeparators=D.get(119),this.emptySelectionClipboard=D.get(33),this.copyWithSyntaxHighlighting=D.get(21),this.multiCursorMergeOverlapping=D.get(71),this.multiCursorPaste=D.get(73),this.autoClosingBrackets=D.get(5),this.autoClosingQuotes=D.get(8),this.autoClosingDelete=D.get(6),this.autoClosingOvertype=D.get(7),this.autoSurround=D.get(11),this.autoIndent=D.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(g,this.autoClosingQuotes),bracket:this._getShouldAutoClose(g,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(g).getAutoClosingPairs();const P=this.languageConfigurationService.getLanguageConfiguration(g).getSurroundingPairs();if(P)for(const O of P)this.surroundingPairs[O.open]=O.close}static shouldRecreate(g){return g.hasChanged(133)||g.hasChanged(119)||g.hasChanged(33)||g.hasChanged(71)||g.hasChanged(73)||g.hasChanged(5)||g.hasChanged(8)||g.hasChanged(6)||g.hasChanged(7)||g.hasChanged(11)||g.hasChanged(118)||g.hasChanged(61)||g.hasChanged(83)}get electricChars(){var g;if(!this._electricChars){this._electricChars={};const b=null===(g=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===g?void 0:g.getElectricCharacters();if(b)for(const y of b)this._electricChars[y]=!0}return this._electricChars}onElectricCharacter(g,b,y){const w=(0,S.wH)(b,y-1),D=this.languageConfigurationService.getLanguageConfiguration(w.languageId).electricCharacter;return D?D.onElectricCharacter(g,w,y-w.firstCharOffset):null}normalizeIndentation(g){return(0,T.x)(g,this.indentSize,this.insertSpaces)}_getShouldAutoClose(g,b){switch(b){case"beforeWhitespace":return L;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(g);case"always":return C;case"never":return E}}_getLanguageDefinedShouldAutoClose(g){const b=this.languageConfigurationService.getLanguageConfiguration(g).getAutoCloseBeforeSet();return y=>-1!==b.indexOf(y)}visibleColumnFromColumn(g,b){return v.i.visibleColumnFromColumn(g.getLineContent(b.lineNumber),b.column,this.tabSize)}columnFromVisibleColumn(g,b,y){const w=v.i.columnFromVisibleColumn(g.getLineContent(b),y,this.tabSize),D=g.getLineMinColumn(b);if(w<D)return D;const x=g.getLineMaxColumn(b);return w>x?x:w}}class s{constructor(g,b){this._cursorStateBrand=void 0,this.modelState=g,this.viewState=b}static fromModelState(g){return new m(g)}static fromViewState(g){return new c(g)}static fromModelSelection(g){const b=l.Y.liftSelection(g),y=new t(n.e.fromPositions(b.getSelectionStart()),0,b.getPosition(),0);return s.fromModelState(y)}static fromModelSelections(g){const b=[];for(let y=0,w=g.length;y<w;y++)b[y]=this.fromModelSelection(g[y]);return b}equals(g){return this.viewState.equals(g.viewState)&&this.modelState.equals(g.modelState)}}class m{constructor(g){this.modelState=g,this.viewState=null}}class c{constructor(g){this.modelState=null,this.viewState=g}}class t{constructor(g,b,y,w){this._singleCursorStateBrand=void 0,this.selectionStart=g,this.selectionStartLeftoverVisibleColumns=b,this.position=y,this.leftoverVisibleColumns=w,this.selection=t._computeSelection(this.selectionStart,this.position)}equals(g){return this.selectionStartLeftoverVisibleColumns===g.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===g.leftoverVisibleColumns&&this.position.equals(g.position)&&this.selectionStart.equalsRange(g.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(g,b,y,w){return g?new t(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new d.L(b,y),w):new t(new n.e(b,y,b,y),w,new d.L(b,y),w)}static _computeSelection(g,b){return g.isEmpty()||!b.isBeforeOrEqual(g.getStartPosition())?l.Y.fromPositions(g.getStartPosition(),b):l.Y.fromPositions(g.getEndPosition(),b)}}class a{constructor(g,b,y){this._editOperationResultBrand=void 0,this.type=g,this.commands=b,this.shouldPushStackElementBefore=y.shouldPushStackElementBefore,this.shouldPushStackElementAfter=y.shouldPushStackElementAfter}}function p(u){return"'"===u||'"'===u||"`"===u}},58397:(Dt,Y,e)=>{"use strict";e.d(Y,{p:()=>d});class d{constructor(l,S,v,T,C,E){this.id=l,this.label=S,this.alias=v,this._precondition=T,this._run=C,this._contextKeyService=E}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},22859:(Dt,Y,e)=>{"use strict";e.d(Y,{g:()=>d});const d={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},82290:(Dt,Y,e)=>{"use strict";e.d(Y,{u:()=>l});var l,S,d=e(55197),n=e(16468);(S=l||(l={})).editorSimpleInput=new n.uy("editorSimpleInput",!1,!0),S.editorTextFocus=new n.uy("editorTextFocus",!1,d.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),S.focus=new n.uy("editorFocus",!1,d.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),S.textInputFocus=new n.uy("textInputFocus",!1,d.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),S.readOnly=new n.uy("editorReadonly",!1,d.NC("editorReadonly","Whether the editor is read only")),S.inDiffEditor=new n.uy("inDiffEditor",!1,d.NC("inDiffEditor","Whether the context is a diff editor")),S.columnSelection=new n.uy("editorColumnSelection",!1,d.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),S.writable=S.readOnly.toNegated(),S.hasNonEmptySelection=new n.uy("editorHasSelection",!1,d.NC("editorHasSelection","Whether the editor has text selected")),S.hasOnlyEmptySelection=S.hasNonEmptySelection.toNegated(),S.hasMultipleSelections=new n.uy("editorHasMultipleSelections",!1,d.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),S.hasSingleSelection=S.hasMultipleSelections.toNegated(),S.tabMovesFocus=new n.uy("editorTabMovesFocus",!1,d.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),S.tabDoesNotMoveFocus=S.tabMovesFocus.toNegated(),S.isInWalkThroughSnippet=new n.uy("isInEmbeddedEditor",!1,!0),S.canUndo=new n.uy("canUndo",!1,!0),S.canRedo=new n.uy("canRedo",!1,!0),S.hoverVisible=new n.uy("editorHoverVisible",!1,d.NC("editorHoverVisible","Whether the editor hover is visible")),S.inCompositeEditor=new n.uy("inCompositeEditor",void 0,d.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),S.notInCompositeEditor=S.inCompositeEditor.toNegated(),S.languageId=new n.uy("editorLangId","",d.NC("editorLangId","The language identifier of the editor")),S.hasCompletionItemProvider=new n.uy("editorHasCompletionItemProvider",!1,d.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),S.hasCodeActionsProvider=new n.uy("editorHasCodeActionsProvider",!1,d.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),S.hasCodeLensProvider=new n.uy("editorHasCodeLensProvider",!1,d.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),S.hasDefinitionProvider=new n.uy("editorHasDefinitionProvider",!1,d.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),S.hasDeclarationProvider=new n.uy("editorHasDeclarationProvider",!1,d.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),S.hasImplementationProvider=new n.uy("editorHasImplementationProvider",!1,d.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),S.hasTypeDefinitionProvider=new n.uy("editorHasTypeDefinitionProvider",!1,d.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),S.hasHoverProvider=new n.uy("editorHasHoverProvider",!1,d.NC("editorHasHoverProvider","Whether the editor has a hover provider")),S.hasDocumentHighlightProvider=new n.uy("editorHasDocumentHighlightProvider",!1,d.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),S.hasDocumentSymbolProvider=new n.uy("editorHasDocumentSymbolProvider",!1,d.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),S.hasReferenceProvider=new n.uy("editorHasReferenceProvider",!1,d.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),S.hasRenameProvider=new n.uy("editorHasRenameProvider",!1,d.NC("editorHasRenameProvider","Whether the editor has a rename provider")),S.hasSignatureHelpProvider=new n.uy("editorHasSignatureHelpProvider",!1,d.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),S.hasInlayHintsProvider=new n.uy("editorHasInlayHintsProvider",!1,d.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),S.hasDocumentFormattingProvider=new n.uy("editorHasDocumentFormattingProvider",!1,d.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),S.hasDocumentSelectionFormattingProvider=new n.uy("editorHasDocumentSelectionFormattingProvider",!1,d.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),S.hasMultipleDocumentFormattingProvider=new n.uy("editorHasMultipleDocumentFormattingProvider",!1,d.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),S.hasMultipleDocumentSelectionFormattingProvider=new n.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,d.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},1465:(Dt,Y,e)=>{"use strict";e.d(Y,{N:()=>d});class d{static getLanguageId(l){return(255&l)>>>0}static getTokenType(l){return(768&l)>>>8}static containsBalancedBrackets(l){return 0!=(1024&l)}static getFontStyle(l){return(30720&l)>>>11}static getForeground(l){return(16744448&l)>>>15}static getBackground(l){return(4278190080&l)>>>24}static getClassNameFromMetadata(l){let v="mtk"+this.getForeground(l);const T=this.getFontStyle(l);return 1&T&&(v+=" mtki"),2&T&&(v+=" mtkb"),4&T&&(v+=" mtku"),8&T&&(v+=" mtks"),v}static getInlineStyleFromMetadata(l,S){const v=this.getForeground(l),T=this.getFontStyle(l);let C=`color: ${S[v]};`;1&T&&(C+="font-style: italic;"),2&T&&(C+="font-weight: bold;");let E="";return 4&T&&(E+=" underline"),8&T&&(E+=" line-through"),E&&(C+=`text-decoration:${E};`),C}static getPresentationFromMetadata(l){const S=this.getForeground(l),v=this.getFontStyle(l);return{foreground:S,italic:Boolean(1&v),bold:Boolean(2&v),underline:Boolean(4&v),strikethrough:Boolean(8&v)}}}},46090:(Dt,Y,e)=>{"use strict";e.d(Y,{c:()=>C});var d=e(3778),n=e(80142),l=e(47629),S=e(38224);function v(E){return"string"!=typeof E&&(Array.isArray(E)?E.every(v):!!E.exclusive)}class T{constructor(L,_,s,m){this.uri=L,this.languageId=_,this.notebookUri=s,this.notebookType=m}equals(L){var _,s;return this.notebookType===L.notebookType&&this.languageId===L.languageId&&this.uri.toString()===L.uri.toString()&&(null===(_=this.notebookUri)||void 0===_?void 0:_.toString())===(null===(s=L.notebookUri)||void 0===s?void 0:s.toString())}}class C{constructor(L){this._notebookInfoResolver=L,this._clock=0,this._entries=[],this._onDidChange=new d.Q5,this.onDidChange=this._onDidChange.event}register(L,_){let s={selector:L,provider:_,_score:-1,_time:this._clock++};return this._entries.push(s),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,n.OF)(()=>{if(s){const m=this._entries.indexOf(s);m>=0&&(this._entries.splice(m,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),s=void 0)}})}has(L){return this.all(L).length>0}all(L){if(!L)return[];this._updateScores(L);const _=[];for(const s of this._entries)s._score>0&&_.push(s.provider);return _}ordered(L){const _=[];return this._orderedForEach(L,s=>_.push(s.provider)),_}orderedGroups(L){const _=[];let s,m;return this._orderedForEach(L,c=>{s&&m===c._score?s.push(c.provider):(m=c._score,s=[c.provider],_.push(s))}),_}_orderedForEach(L,_){this._updateScores(L);for(const s of this._entries)s._score>0&&_(s)}_updateScores(L){var _,s;const m=null===(_=this._notebookInfoResolver)||void 0===_?void 0:_.call(this,L.uri),c=m?new T(L.uri,L.getLanguageId(),m.uri,m.type):new T(L.uri,L.getLanguageId(),void 0,void 0);if(null===(s=this._lastCandidate)||void 0===s||!s.equals(c)){this._lastCandidate=c;for(const t of this._entries)if(t._score=(0,S.G)(t.selector,c.uri,c.languageId,(0,l.pt)(L),c.notebookUri,c.notebookType),v(t.selector)&&t._score>0){for(const a of this._entries)a._score=0;t._score=1e3;break}this._entries.sort(C._compareByScoreAndTime)}}static _compareByScoreAndTime(L,_){return L._score<_._score?1:L._score>_._score?-1:L._time<_._time?1:L._time>_._time?-1:0}}},38224:(Dt,Y,e)=>{"use strict";e.d(Y,{G:()=>l});var d=e(85425),n=e(61283);function l(S,v,T,C,E,L){if(Array.isArray(S)){let _=0;for(const s of S){const m=l(s,v,T,C,E,L);if(10===m)return m;m>_&&(_=m)}return _}if("string"==typeof S)return C?"*"===S?5:S===T?10:0:0;if(S){const{language:_,pattern:s,scheme:m,hasAccessToAllModels:c,notebookType:t}=S;if(!C&&!c)return 0;t&&E&&(v=E);let a=0;if(m)if(m===v.scheme)a=10;else{if("*"!==m)return 0;a=5}if(_)if(_===T)a=10;else{if("*"!==_)return 0;a=Math.max(a,5)}if(t)if(t===L)a=10;else{if("*"!==t||void 0===L)return 0;a=Math.max(a,5)}if(s){let p;if(p="string"==typeof s?s:Object.assign(Object.assign({},s),{base:(0,n.Fv)(s.base)}),p!==v.fsPath&&!(0,d.EQ)(p,v.fsPath))return 0;a=10}return a}return 0}},45337:(Dt,Y,e)=>{"use strict";e.d(Y,{mY:()=>b,gX:()=>m,MY:()=>a,DI:()=>s,AD:()=>g,gl:()=>y,bw:()=>c,WW:()=>t,uZ:()=>u,WU:()=>L,RW:()=>w,hG:()=>_,vx:()=>p});var m,d=e(58783),n=e(59547),l=e(98570),S=e(3778),v=e(80142),T=function(D,x,P,O){return new(P||(P=Promise))(function(H,z){function k(K){try{j(O.next(K))}catch(U){z(U)}}function F(K){try{j(O.throw(K))}catch(U){z(U)}}function j(K){K.done?H(K.value):function V(H){return H instanceof P?H:new P(function(z){z(H)})}(K.value).then(k,F)}j((O=O.apply(D,x||[])).next())})};class E extends v.JT{constructor(x,P,O){super(),this._registry=x,this._languageId=P,this._factory=O,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return T(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return T(this,void 0,void 0,function*(){const x=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,x&&!this._isDisposed&&this._register(this._registry.register(this._languageId,x))})}}class L{constructor(x,P,O){this._tokenBrand=void 0,this.offset=x,this.type=P,this.language=O}toString(){return"("+this.offset+", "+this.type+")"}}class _{constructor(x,P){this._tokenizationResultBrand=void 0,this.tokens=x,this.endState=P}}class s{constructor(x,P){this._encodedTokenizationResultBrand=void 0,this.tokens=x,this.endState=P}}!function(D){const x=new Map;x.set(0,d.lA.symbolMethod),x.set(1,d.lA.symbolFunction),x.set(2,d.lA.symbolConstructor),x.set(3,d.lA.symbolField),x.set(4,d.lA.symbolVariable),x.set(5,d.lA.symbolClass),x.set(6,d.lA.symbolStruct),x.set(7,d.lA.symbolInterface),x.set(8,d.lA.symbolModule),x.set(9,d.lA.symbolProperty),x.set(10,d.lA.symbolEvent),x.set(11,d.lA.symbolOperator),x.set(12,d.lA.symbolUnit),x.set(13,d.lA.symbolValue),x.set(15,d.lA.symbolEnum),x.set(14,d.lA.symbolConstant),x.set(15,d.lA.symbolEnum),x.set(16,d.lA.symbolEnumMember),x.set(17,d.lA.symbolKeyword),x.set(27,d.lA.symbolSnippet),x.set(18,d.lA.symbolText),x.set(19,d.lA.symbolColor),x.set(20,d.lA.symbolFile),x.set(21,d.lA.symbolReference),x.set(22,d.lA.symbolCustomColor),x.set(23,d.lA.symbolFolder),x.set(24,d.lA.symbolTypeParameter),x.set(25,d.lA.account),x.set(26,d.lA.issues),D.toIcon=function P(H){let z=x.get(H);return z||(console.info("No codicon found for CompletionItemKind "+H),z=d.lA.symbolProperty),z};const O=new Map;O.set("method",0),O.set("function",1),O.set("constructor",2),O.set("field",3),O.set("variable",4),O.set("class",5),O.set("struct",6),O.set("interface",7),O.set("module",8),O.set("property",9),O.set("event",10),O.set("operator",11),O.set("unit",12),O.set("value",13),O.set("constant",14),O.set("enum",15),O.set("enum-member",16),O.set("enumMember",16),O.set("keyword",17),O.set("snippet",27),O.set("text",18),O.set("color",19),O.set("file",20),O.set("reference",21),O.set("customcolor",22),O.set("folder",23),O.set("type-parameter",24),O.set("typeParameter",24),O.set("account",25),O.set("issue",26),D.fromString=function V(H,z){let k=O.get(H);return typeof k>"u"&&!z&&(k=9),k}}(m||(m={}));var u,b,c=(()=>{return(D=c||(c={}))[D.Automatic=0]="Automatic",D[D.Explicit=1]="Explicit",c;var D})(),t=(()=>{return(D=t||(t={}))[D.Invoke=1]="Invoke",D[D.TriggerCharacter=2]="TriggerCharacter",D[D.ContentChange=3]="ContentChange",t;var D})(),a=(()=>{return(D=a||(a={}))[D.Text=0]="Text",D[D.Read=1]="Read",D[D.Write=2]="Write",a;var D})();function p(D){return D&&n.o.isUri(D.uri)&&l.e.isIRange(D.range)&&(l.e.isIRange(D.originSelectionRange)||l.e.isIRange(D.targetSelectionRange))}!function(D){const x=new Map;x.set(0,d.lA.symbolFile),x.set(1,d.lA.symbolModule),x.set(2,d.lA.symbolNamespace),x.set(3,d.lA.symbolPackage),x.set(4,d.lA.symbolClass),x.set(5,d.lA.symbolMethod),x.set(6,d.lA.symbolProperty),x.set(7,d.lA.symbolField),x.set(8,d.lA.symbolConstructor),x.set(9,d.lA.symbolEnum),x.set(10,d.lA.symbolInterface),x.set(11,d.lA.symbolFunction),x.set(12,d.lA.symbolVariable),x.set(13,d.lA.symbolConstant),x.set(14,d.lA.symbolString),x.set(15,d.lA.symbolNumber),x.set(16,d.lA.symbolBoolean),x.set(17,d.lA.symbolArray),x.set(18,d.lA.symbolObject),x.set(19,d.lA.symbolKey),x.set(20,d.lA.symbolNull),x.set(21,d.lA.symbolEnumMember),x.set(22,d.lA.symbolStruct),x.set(23,d.lA.symbolEvent),x.set(24,d.lA.symbolOperator),x.set(25,d.lA.symbolTypeParameter),D.toIcon=function P(O){let V=x.get(O);return V||(console.info("No codicon found for SymbolKind "+O),V=d.lA.symbolProperty),V}}(u||(u={}));class g{constructor(x){this.value=x}}g.Comment=new g("comment"),g.Imports=new g("imports"),g.Region=new g("region"),(b||(b={})).is=function x(P){return!(!P||"object"!=typeof P)&&"string"==typeof P.id&&"string"==typeof P.title};var y=(()=>{return(D=y||(y={}))[D.Type=1]="Type",D[D.Parameter=2]="Parameter",y;var D})();const w=new class C{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(x){this._onDidChange.fire({changedLanguages:x,changedColorMap:!1})}register(x,P){return this._map.set(x,P),this.fire([x]),(0,v.OF)(()=>{this._map.get(x)===P&&(this._map.delete(x),this.fire([x]))})}registerFactory(x,P){var O;null===(O=this._factories.get(x))||void 0===O||O.dispose();const V=new E(this,x,P);return this._factories.set(x,V),(0,v.OF)(()=>{const H=this._factories.get(x);!H||H!==V||(this._factories.delete(x),H.dispose())})}getOrCreate(x){return T(this,void 0,void 0,function*(){const P=this.get(x);if(P)return P;const O=this._factories.get(x);return!O||O.isResolved?null:(yield O.resolve(),this.get(x))})}get(x){return this._map.get(x)||null}isResolved(x){if(this.get(x))return!0;const O=this._factories.get(x);return!(O&&!O.isResolved)}setColorMap(x){this._colorMap=x,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},3981:(Dt,Y,e)=>{"use strict";e.d(Y,{$9:()=>L,UF:()=>E,n8:()=>C,r7:()=>T,tI:()=>_});var d=e(73879),n=e(63331),l=e(32309),S=e(94911);function T(s,m,c,t=!0,a){if(s<4)return null;const p=a.getLanguageConfiguration(m.tokenization.getLanguageId()).indentRulesSupport;if(!p)return null;if(c<=1)return{indentation:"",action:null};const u=function v(s,m,c){const t=s.tokenization.getLanguageIdAtPosition(m,0);if(m>1){let a,p=-1;for(a=m-1;a>=1;a--){if(s.tokenization.getLanguageIdAtPosition(a,0)!==t)return p;const u=s.getLineContent(a);if(!c.shouldIgnore(u)&&!/^\s+$/.test(u)&&""!==u)return a;p=a}}return-1}(m,c,p);if(u<0)return null;if(u<1)return{indentation:"",action:null};const g=m.getLineContent(u);if(p.shouldIncrease(g)||p.shouldIndentNextLine(g))return{indentation:d.V8(g),action:n.wU.Indent,line:u};if(p.shouldDecrease(g))return{indentation:d.V8(g),action:null,line:u};{if(1===u)return{indentation:d.V8(m.getLineContent(u)),action:null,line:u};const b=u-1,y=p.getIndentMetadata(m.getLineContent(b));if(!(3&y)&&4&y){let w=0;for(let D=b-1;D>0;D--)if(!p.shouldIndentNextLine(m.getLineContent(D))){w=D;break}return{indentation:d.V8(m.getLineContent(w+1)),action:null,line:w+1}}if(t)return{indentation:d.V8(m.getLineContent(u)),action:null,line:u};for(let w=u;w>0;w--){const D=m.getLineContent(w);if(p.shouldIncrease(D))return{indentation:d.V8(D),action:n.wU.Indent,line:w};if(p.shouldIndentNextLine(D)){let x=0;for(let P=w-1;P>0;P--)if(!p.shouldIndentNextLine(m.getLineContent(w))){x=P;break}return{indentation:d.V8(m.getLineContent(x+1)),action:null,line:x+1}}if(p.shouldDecrease(D))return{indentation:d.V8(D),action:null,line:w}}return{indentation:d.V8(m.getLineContent(1)),action:null,line:1}}}function C(s,m,c,t,a,p){if(s<4)return null;const u=p.getLanguageConfiguration(c);if(!u)return null;const g=p.getLanguageConfiguration(c).indentRulesSupport;if(!g)return null;const b=T(s,m,t,void 0,p),y=m.getLineContent(t);if(b){const w=b.line;if(void 0!==w){const D=u.onEnter(s,"",m.getLineContent(w),"");if(D){let x=d.V8(m.getLineContent(w));return D.removeText&&(x=x.substring(0,x.length-D.removeText)),D.indentAction===n.wU.Indent||D.indentAction===n.wU.IndentOutdent?x=a.shiftIndent(x):D.indentAction===n.wU.Outdent&&(x=a.unshiftIndent(x)),g.shouldDecrease(y)&&(x=a.unshiftIndent(x)),D.appendText&&(x+=D.appendText),d.V8(x)}}return g.shouldDecrease(y)?b.action===n.wU.Indent?b.indentation:a.unshiftIndent(b.indentation):b.action===n.wU.Indent?a.shiftIndent(b.indentation):b.indentation}return null}function E(s,m,c,t,a){if(s<4)return null;m.tokenization.forceTokenization(c.startLineNumber);const p=m.tokenization.getLineTokens(c.startLineNumber),u=(0,l.wH)(p,c.startColumn-1),g=u.getLineContent();let y,w,b=!1;u.firstCharOffset>0&&p.getLanguageId(0)!==u.languageId?(b=!0,y=g.substr(0,c.startColumn-1-u.firstCharOffset)):y=p.getLineContent().substring(0,c.startColumn-1),w=c.isEmpty()?g.substr(c.startColumn-1-u.firstCharOffset):(0,S.n2)(m,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-u.firstCharOffset);const D=a.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!D)return null;const x=y,P=d.V8(y),O={tokenization:{getLineTokens:k=>m.tokenization.getLineTokens(k),getLanguageId:()=>m.getLanguageId(),getLanguageIdAtPosition:(k,F)=>m.getLanguageIdAtPosition(k,F)},getLineContent:k=>k===c.startLineNumber?x:m.getLineContent(k)},V=d.V8(p.getLineContent()),H=T(s,O,c.startLineNumber+1,void 0,a);if(!H){const k=b?V:P;return{beforeEnter:k,afterEnter:k}}let z=b?V:H.indentation;return H.action===n.wU.Indent&&(z=t.shiftIndent(z)),D.shouldDecrease(w)&&(z=t.unshiftIndent(z)),{beforeEnter:b?V:P,afterEnter:z}}function L(s,m,c,t,a,p){if(s<4)return null;const u=(0,S.n2)(m,c.startLineNumber,c.startColumn);if(u.firstCharOffset)return null;const g=p.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!g)return null;const b=u.getLineContent(),y=b.substr(0,c.startColumn-1-u.firstCharOffset);let w;if(w=c.isEmpty()?b.substr(c.startColumn-1-u.firstCharOffset):(0,S.n2)(m,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-u.firstCharOffset),!g.shouldDecrease(y+w)&&g.shouldDecrease(y+t+w)){const D=T(s,m,c.startLineNumber,!1,p);if(!D)return null;let x=D.indentation;return D.action!==n.wU.Indent&&(x=a.unshiftIndent(x)),x}return null}function _(s,m,c){const t=c.getLanguageConfiguration(s.getLanguageId()).indentRulesSupport;return!t||m<1||m>s.getLineCount()?null:t.getIndentMetadata(s.getLineContent(m))}},12969:(Dt,Y,e)=>{"use strict";e.d(Y,{A:()=>l});var d=e(63331),n=e(94911);function l(S,v,T,C){const E=(0,n.n2)(v,T.startLineNumber,T.startColumn),L=C.getLanguageConfiguration(E.languageId);if(!L)return null;const _=E.getLineContent(),s=_.substr(0,T.startColumn-1-E.firstCharOffset);let m;m=T.isEmpty()?_.substr(T.startColumn-1-E.firstCharOffset):(0,n.n2)(v,T.endLineNumber,T.endColumn).getLineContent().substr(T.endColumn-1-E.firstCharOffset);let c="";if(T.startLineNumber>1&&0===E.firstCharOffset){const b=(0,n.n2)(v,T.startLineNumber-1);b.languageId===E.languageId&&(c=b.getLineContent())}const t=L.onEnter(S,c,s,m);if(!t)return null;const a=t.indentAction;let p=t.appendText;const u=t.removeText||0;p?a===d.wU.Indent&&(p="\t"+p):p=a===d.wU.Indent||a===d.wU.IndentOutdent?"\t":"";let g=(0,n.u0)(v,T.startLineNumber,T.startColumn);return u&&(g=g.substring(0,g.length-u)),{indentAction:a,appendText:p,removeText:u,indentation:g}}},45358:(Dt,Y,e)=>{"use strict";e.d(Y,{O:()=>n});const n=(0,e(9265).yh)("languageService")},63331:(Dt,Y,e)=>{"use strict";e.d(Y,{V6:()=>n,c$:()=>l,wU:()=>d});var d=(()=>{return(v=d||(d={}))[v.None=0]="None",v[v.Indent=1]="Indent",v[v.IndentOutdent=2]="IndentOutdent",v[v.Outdent=3]="Outdent",d;var v})();class n{constructor(T){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=T.open,this.close=T.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(T.notIn))for(let C=0,E=T.notIn.length;C<E;C++)switch(T.notIn[C]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(T){switch(T){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(T,C){if(0===T.getTokenCount())return!0;const E=T.findTokenIndexAtOffset(C-2),L=T.getStandardTokenType(E);return this.isOK(L)}_findNeutralCharacterInRange(T,C){for(let E=T;E<=C;E++){const L=String.fromCharCode(E);if(!this.open.includes(L)&&!this.close.includes(L))return L}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class l{constructor(T){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of T)S(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),S(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),S(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),S(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),1===C.close.length&&1===C.open.length&&S(this.autoClosingPairsCloseSingleChar,C.close,C)}}function S(v,T,C){v.has(T)?v.get(T).push(C):v.set(T,[C])}},94911:(Dt,Y,e)=>{"use strict";e.d(Y,{c_:()=>k,u0:()=>N,n2:()=>W});var d=e(3778),n=e(80142),l=e(73879),S=e(50894),v=e(63331),T=e(32309);let C=(()=>{class Ne{constructor(Se){if(this._autoClosingPairs=Se.autoClosingPairs?Se.autoClosingPairs.map(Ie=>new v.V6(Ie)):Se.brackets?Se.brackets.map(Ie=>new v.V6({open:Ie[0],close:Ie[1]})):[],Se.__electricCharacterSupport&&Se.__electricCharacterSupport.docComment){const Ie=Se.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new v.V6({open:Ie.open,close:Ie.close||""}))}this._autoCloseBefore="string"==typeof Se.autoCloseBefore?Se.autoCloseBefore:Ne.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=Se.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}return Ne.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",Ne})();var E=e(64023),L=e(64557);class _{constructor(oe){this._richEditBrackets=oe}getElectricCharacters(){const oe=[];if(this._richEditBrackets)for(const Se of this._richEditBrackets.brackets)for(const Ie of Se.close){const me=Ie.charAt(Ie.length-1);oe.push(me)}return(0,E.EB)(oe)}onElectricCharacter(oe,Se,Ie){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const me=Se.findTokenIndexAtOffset(Ie-1);if((0,T.Bu)(Se.getStandardTokenType(me)))return null;const Me=this._richEditBrackets.reversedRegex,de=Se.getLineContent().substring(0,Ie-1)+oe,ke=L.Vr.findPrevBracketInRange(Me,1,de,0,de.length);if(!ke)return null;const Ue=de.substring(ke.startColumn-1,ke.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Ue])return null;const ce=Se.getActualLineContentBefore(ke.startColumn-1);return/^\s*$/.test(ce)?{matchOpenBracket:Ue}:null}}function s(Ne){return Ne.global&&(Ne.lastIndex=0),!0}class m{constructor(oe){this._indentationRules=oe}shouldIncrease(oe){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&s(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(oe))}shouldDecrease(oe){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&s(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(oe))}shouldIndentNextLine(oe){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&s(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(oe))}shouldIgnore(oe){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&s(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(oe))}getIndentMetadata(oe){let Se=0;return this.shouldIncrease(oe)&&(Se+=1),this.shouldDecrease(oe)&&(Se+=2),this.shouldIndentNextLine(oe)&&(Se+=4),this.shouldIgnore(oe)&&(Se+=8),Se}}var c=e(4125);class t{constructor(oe){(oe=oe||{}).brackets=oe.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],oe.brackets.forEach(Se=>{const Ie=t._createOpenBracketRegExp(Se[0]),me=t._createCloseBracketRegExp(Se[1]);Ie&&me&&this._brackets.push({open:Se[0],openRegExp:Ie,close:Se[1],closeRegExp:me})}),this._regExpRules=oe.onEnterRules||[]}onEnter(oe,Se,Ie,me){if(oe>=3)for(let Me=0,de=this._regExpRules.length;Me<de;Me++){const ke=this._regExpRules[Me];if([{reg:ke.beforeText,text:Ie},{reg:ke.afterText,text:me},{reg:ke.previousLineText,text:Se}].every(ze=>!ze.reg||(ze.reg.lastIndex=0,ze.reg.test(ze.text))))return ke.action}if(oe>=2&&Ie.length>0&&me.length>0)for(let Me=0,de=this._brackets.length;Me<de;Me++){const ke=this._brackets[Me];if(ke.openRegExp.test(Ie)&&ke.closeRegExp.test(me))return{indentAction:v.wU.IndentOutdent}}if(oe>=2&&Ie.length>0)for(let Me=0,de=this._brackets.length;Me<de;Me++)if(this._brackets[Me].openRegExp.test(Ie))return{indentAction:v.wU.Indent};return null}static _createOpenBracketRegExp(oe){let Se=l.ec(oe);return/\B/.test(Se.charAt(0))||(Se="\\b"+Se),Se+="\\s*$",t._safeRegExp(Se)}static _createCloseBracketRegExp(oe){let Se=l.ec(oe);return/\B/.test(Se.charAt(Se.length-1))||(Se+="\\b"),Se="^\\s*"+Se,t._safeRegExp(Se)}static _safeRegExp(oe){try{return new RegExp(oe)}catch(Se){return(0,c.dL)(Se),null}}}var a=e(9265),p=e(94667),u=e(45358),g=e(47494),b=e(72188),y=e(71664);class w{constructor(oe,Se){let Ie;this.languageId=oe,Ie=Se.colorizedBracketPairs?D(Se.colorizedBracketPairs.map(de=>[de[0],de[1]])):Se.brackets?D(Se.brackets.map(de=>[de[0],de[1]]).filter(de=>!("<"===de[0]&&">"===de[1]))):[];const me=new y.b(de=>{const ke=new Set;return{info:new P(this,de,ke),closing:ke}}),Me=new y.b(de=>{const ke=new Set;return{info:new O(this,de,ke),opening:ke}});for(const[de,ke]of Ie){const Ue=me.get(de),ze=Me.get(ke);Ue.closing.add(ze.info),ze.opening.add(Ue.info)}this._openingBrackets=new Map([...me.cachedValues].map(([de,ke])=>[de,ke.info])),this._closingBrackets=new Map([...Me.cachedValues].map(([de,ke])=>[de,ke.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(oe){return this._openingBrackets.get(oe)}getClosingBracketInfo(oe){return this._closingBrackets.get(oe)}getBracketInfo(oe){return this.getOpeningBracketInfo(oe)||this.getClosingBracketInfo(oe)}}function D(Ne){return Ne.filter(([oe,Se])=>""!==oe&&""!==Se)}class x{constructor(oe,Se){this.config=oe,this.bracketText=Se}get languageId(){return this.config.languageId}}class P extends x{constructor(oe,Se,Ie){super(oe,Se),this.openedBrackets=Ie,this.isOpeningBracket=!0}}class O extends x{constructor(oe,Se,Ie){super(oe,Se),this.closedBrackets=Ie,this.isOpeningBracket=!1}closes(oe){if(oe.languageId===this.languageId&&oe.config!==this.config)throw new c.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(oe)}getClosedBrackets(){return[...this.closedBrackets]}}var H=function(Ne,oe){return function(Se,Ie){oe(Se,Ie,Ne)}};class z{constructor(oe){this.languageId=oe}affects(oe){return!this.languageId||this.languageId===oe}}const k=(0,a.yh)("languageConfigurationService");let F=class extends n.JT{constructor(oe,Se){super(),this.configurationService=oe,this.languageService=Se,this._registry=this._register(new Ee),this.onDidChangeEmitter=this._register(new d.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Ie=new Set(Object.values(K));this._register(this.configurationService.onDidChangeConfiguration(me=>{const Me=me.change.keys.some(ke=>Ie.has(ke)),de=me.change.overrides.filter(([ke,Ue])=>Ue.some(ze=>Ie.has(ze))).map(([ke])=>ke);if(Me)this.configurations.clear(),this.onDidChangeEmitter.fire(new z(void 0));else for(const ke of de)this.languageService.isRegisteredLanguageId(ke)&&(this.configurations.delete(ke),this.onDidChangeEmitter.fire(new z(ke)))})),this._register(this._registry.onDidChange(me=>{this.configurations.delete(me.languageId),this.onDidChangeEmitter.fire(new z(me.languageId))}))}register(oe,Se,Ie){return this._registry.register(oe,Se,Ie)}getLanguageConfiguration(oe){let Se=this.configurations.get(oe);return Se||(Se=function j(Ne,oe,Se,Ie){let me=oe.getLanguageConfiguration(Ne);if(!me){if(!Ie.isRegisteredLanguageId(Ne))throw new Error(`Language id "${Ne}" is not configured nor known`);me=new xe(Ne,{})}const Me=function U(Ne,oe){const Se=oe.getValue(K.brackets,{overrideIdentifier:Ne}),Ie=oe.getValue(K.colorizedBracketPairs,{overrideIdentifier:Ne});return{brackets:ne(Se),colorizedBracketPairs:ne(Ie)}}(me.languageId,Se),de=ge([me.underlyingConfig,Me]);return new xe(me.languageId,de)}(oe,this._registry,this.configurationService,this.languageService),this.configurations.set(oe,Se)),Se}};F=function(Ne,oe,Se,Ie){var de,me=arguments.length,Me=me<3?oe:null===Ie?Ie=Object.getOwnPropertyDescriptor(oe,Se):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Me=Reflect.decorate(Ne,oe,Se,Ie);else for(var ke=Ne.length-1;ke>=0;ke--)(de=Ne[ke])&&(Me=(me<3?de(Me):me>3?de(oe,Se,Me):de(oe,Se))||Me);return me>3&&Me&&Object.defineProperty(oe,Se,Me),Me}([H(0,p.Ui),H(1,u.O)],F);const K={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function ne(Ne){if(Array.isArray(Ne))return Ne.map(oe=>{if(Array.isArray(oe)&&2===oe.length)return[oe[0],oe[1]]}).filter(oe=>!!oe)}function N(Ne,oe,Se){const Ie=Ne.getLineContent(oe);let me=l.V8(Ie);return me.length>Se-1&&(me=me.substring(0,Se-1)),me}function W(Ne,oe,Se){Ne.tokenization.forceTokenization(oe);const Ie=Ne.tokenization.getLineTokens(oe),me=typeof Se>"u"?Ne.getLineMaxColumn(oe)-1:Se-1;return(0,T.wH)(Ie,me)}class Z{constructor(oe){this.languageId=oe,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(oe,Se){const Ie=new M(oe,Se,++this._order);return this._entries.push(Ie),this._resolved=null,(0,n.OF)(()=>{for(let me=0;me<this._entries.length;me++)if(this._entries[me]===Ie){this._entries.splice(me,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const oe=this._resolve();oe&&(this._resolved=new xe(this.languageId,oe))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(M.cmp),ge(this._entries.map(oe=>oe.configuration)))}}function ge(Ne){let oe={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const Se of Ne)oe={comments:Se.comments||oe.comments,brackets:Se.brackets||oe.brackets,wordPattern:Se.wordPattern||oe.wordPattern,indentationRules:Se.indentationRules||oe.indentationRules,onEnterRules:Se.onEnterRules||oe.onEnterRules,autoClosingPairs:Se.autoClosingPairs||oe.autoClosingPairs,surroundingPairs:Se.surroundingPairs||oe.surroundingPairs,autoCloseBefore:Se.autoCloseBefore||oe.autoCloseBefore,folding:Se.folding||oe.folding,colorizedBracketPairs:Se.colorizedBracketPairs||oe.colorizedBracketPairs,__electricCharacterSupport:Se.__electricCharacterSupport||oe.__electricCharacterSupport};return oe}class M{constructor(oe,Se,Ie){this.configuration=oe,this.priority=Se,this.order=Ie}static cmp(oe,Se){return oe.priority===Se.priority?oe.order-Se.order:oe.priority-Se.priority}}class we{constructor(oe){this.languageId=oe}}class Ee extends n.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(b.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(oe,Se,Ie=0){let me=this._entries.get(oe);me||(me=new Z(oe),this._entries.set(oe,me));const Me=me.register(Se,Ie);return this._onDidChange.fire(new we(oe)),(0,n.OF)(()=>{Me.dispose(),this._onDidChange.fire(new we(oe))})}getLanguageConfiguration(oe){return this._entries.get(oe)?.getResolvedConfiguration()||null}}class xe{constructor(oe,Se){this.languageId=oe,this.underlyingConfig=Se,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new t(this.underlyingConfig):null,this.comments=xe._handleComments(this.underlyingConfig),this.characterPair=new C(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||S.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new m(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new w(oe,this.underlyingConfig)}getWordDefinition(){return(0,S.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new L.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new _(this.brackets)),this._electricCharacter}onEnter(oe,Se,Ie,me){return this._onEnterSupport?this._onEnterSupport.onEnter(oe,Se,Ie,me):null}getAutoClosingPairs(){return new v.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(oe){const Se=oe.comments;if(!Se)return null;const Ie={};if(Se.lineComment&&(Ie.lineCommentToken=Se.lineComment),Se.blockComment){const[me,Me]=Se.blockComment;Ie.blockCommentStartToken=me,Ie.blockCommentEndToken=Me}return Ie}}(0,g.z)(k,F)},72188:(Dt,Y,e)=>{"use strict";e.d(Y,{bd:()=>L,dQ:()=>E});var d=e(55197),n=e(3778),l=e(4259),S=e(34189),v=e(29093);const E=new class C{constructor(){this._onDidChangeLanguages=new n.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(m){return this._languages.push(m),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let c=0,t=this._languages.length;c<t;c++)if(this._languages[c]===m)return void this._languages.splice(c,1)}}}getLanguages(){return this._languages}};l.B.add("editor.modesRegistry",E);const L="plaintext";E.registerLanguage({id:L,extensions:[".txt"],aliases:[d.NC("plainText.alias","Plain Text"),"text"],mimetypes:[S.v.text]}),l.B.as(v.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},88086:(Dt,Y,e)=>{"use strict";e.d(Y,{Dy:()=>S,Ri:()=>l,TJ:()=>n});var d=e(45337);const n=new class{clone(){return this}equals(v){return this===v}};function l(v,T){return new d.hG([new d.WU(0,"",v)],T)}function S(v,T){const C=new Uint32Array(2);return C[0]=0,C[1]=(32768|v<<0|2<<24)>>>0,new d.DI(C,null===T?n:T)}},32309:(Dt,Y,e)=>{"use strict";function d(S,v){const T=S.getCount(),C=S.findTokenIndexAtOffset(v),E=S.getLanguageId(C);let L=C;for(;L+1<T&&S.getLanguageId(L+1)===E;)L++;let _=C;for(;_>0&&S.getLanguageId(_-1)===E;)_--;return new n(S,E,_,L+1,S.getStartOffset(_),S.getEndOffset(L))}e.d(Y,{Bu:()=>l,wH:()=>d});class n{constructor(v,T,C,E,L,_){this._scopedLineTokensBrand=void 0,this._actual=v,this.languageId=T,this._firstTokenIndex=C,this._lastTokenIndex=E,this.firstCharOffset=L,this._lastCharOffset=_}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(v){return this._actual.getLineContent().substring(0,this.firstCharOffset+v)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(v){return this._actual.findTokenIndexAtOffset(v+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(v){return this._actual.getStandardTokenType(v+this._firstTokenIndex)}}function l(S){return 0!=(3&S)}},64557:(Dt,Y,e)=>{"use strict";e.d(Y,{EA:()=>T,Vr:()=>u});var d=e(73879),n=e(8680),l=e(98570);class S{constructor(b,y,w,D,x,P){this._richEditBracketBrand=void 0,this.languageId=b,this.index=y,this.open=w,this.close=D,this.forwardRegex=x,this.reversedRegex=P,this._openSet=S._toSet(this.open),this._closeSet=S._toSet(this.close)}isOpen(b){return this._openSet.has(b)}isClose(b){return this._closeSet.has(b)}static _toSet(b){const y=new Set;for(const w of b)y.add(w);return y}}class T{constructor(b,y){this._richEditBracketsBrand=void 0;const w=function v(g){const b=g.length;g=g.map(P=>[P[0].toLowerCase(),P[1].toLowerCase()]);const y=[];for(let P=0;P<b;P++)y[P]=P;const w=(P,O)=>{const[V,H]=P,[z,k]=O;return V===z||V===k||H===z||H===k},D=(P,O)=>{const V=Math.min(P,O),H=Math.max(P,O);for(let z=0;z<b;z++)y[z]===H&&(y[z]=V)};for(let P=0;P<b;P++){const O=g[P];for(let V=P+1;V<b;V++)w(O,g[V])&&D(y[P],y[V])}const x=[];for(let P=0;P<b;P++){const O=[],V=[];for(let H=0;H<b;H++)if(y[H]===P){const[z,k]=g[H];O.push(z),V.push(k)}O.length>0&&x.push({open:O,close:V})}return x}(y);this.brackets=w.map((D,x)=>new S(b,x,D.open,D.close,function _(g,b,y,w){let D=[];D=D.concat(g),D=D.concat(b);for(let x=0,P=D.length;x<P;x++)C(D[x],y,w,D);return D=L(D),D.sort(E),D.reverse(),a(D)}(D.open,D.close,w,x),function s(g,b,y,w){let D=[];D=D.concat(g),D=D.concat(b);for(let x=0,P=D.length;x<P;x++)C(D[x],y,w,D);return D=L(D),D.sort(E),D.reverse(),a(D.map(p))}(D.open,D.close,w,x))),this.forwardRegex=function m(g){let b=[];for(const y of g){for(const w of y.open)b.push(w);for(const w of y.close)b.push(w)}return b=L(b),a(b)}(this.brackets),this.reversedRegex=function c(g){let b=[];for(const y of g){for(const w of y.open)b.push(w);for(const w of y.close)b.push(w)}return b=L(b),a(b.map(p))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const D of this.brackets){for(const x of D.open)this.textIsBracket[x]=D,this.textIsOpenBracket[x]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,x.length);for(const x of D.close)this.textIsBracket[x]=D,this.textIsOpenBracket[x]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,x.length)}}}function C(g,b,y,w){for(let D=0,x=b.length;D<x;D++){if(D===y)continue;const P=b[D];for(const O of P.open)O.indexOf(g)>=0&&w.push(O);for(const O of P.close)O.indexOf(g)>=0&&w.push(O)}}function E(g,b){return g.length-b.length}function L(g){if(g.length<=1)return g;const b=[],y=new Set;for(const w of g)y.has(w)||(b.push(w),y.add(w));return b}function t(g){const b=/^[\w ]+$/.test(g);return g=d.ec(g),b?`\\b${g}\\b`:g}function a(g){const b=`(${g.map(t).join(")|(")})`;return d.GF(b,!0)}const p=function(){let b=null,y=null;return function(D){return b!==D&&(b=D,y=function g(w){if(n.lZ){const D=new Uint16Array(w.length);let x=0;for(let P=w.length-1;P>=0;P--)D[x++]=w.charCodeAt(P);return n.oe().decode(D)}{const D=[];let x=0;for(let P=w.length-1;P>=0;P--)D[x++]=w.charAt(P);return D.join("")}}(b)),y}}();class u{static _findPrevBracketInText(b,y,w,D){const x=w.match(b);if(!x)return null;const V=D+(w.length-(x.index||0));return new l.e(y,V-x[0].length+1,y,V+1)}static findPrevBracketInRange(b,y,w,D,x){const O=p(w).substring(w.length-x,w.length-D);return this._findPrevBracketInText(b,y,O,D)}static findNextBracketInText(b,y,w,D){const x=w.match(b);if(!x)return null;const O=x[0].length;if(0===O)return null;const V=D+(x.index||0);return new l.e(y,V+1,y,V+1+O)}static findNextBracketInRange(b,y,w,D,x){const P=w.substring(D,x);return this.findNextBracketInText(b,y,P,D)}}},90076:(Dt,Y,e)=>{"use strict";e.d(Y,{C2:()=>C,Fq:()=>E});var d=e(73879),n=e(71513),l=e(45337),S=e(88086);const T={getInitialState:()=>S.TJ,tokenizeEncoded:(_,s,m)=>(0,S.Dy)(0,m)};function C(_,s,m){return function(_,s,m,c){return new(m||(m=Promise))(function(a,p){function u(y){try{b(c.next(y))}catch(w){p(w)}}function g(y){try{b(c.throw(y))}catch(w){p(w)}}function b(y){y.done?a(y.value):function t(a){return a instanceof m?a:new m(function(p){p(a)})}(y.value).then(u,g)}b((c=c.apply(_,s||[])).next())})}(this,void 0,void 0,function*(){if(!m)return L(s,_.languageIdCodec,T);const c=yield l.RW.getOrCreate(m);return L(s,_.languageIdCodec,c||T)})}function E(_,s,m,c,t,a,p){let u="<div>",g=c,b=0,y=!0;for(let w=0,D=s.getCount();w<D;w++){const x=s.getEndOffset(w);if(x<=c)continue;let P="";for(;g<x&&g<t;g++){const O=_.charCodeAt(g);switch(O){case 9:{let V=a-(g+b)%a;for(b+=V-1;V>0;)p&&y?(P+="&#160;",y=!1):(P+=" ",y=!0),V--;break}case 60:P+="&lt;",y=!1;break;case 62:P+="&gt;",y=!1;break;case 38:P+="&amp;",y=!1;break;case 0:P+="&#00;",y=!1;break;case 65279:case 8232:case 8233:case 133:P+="\ufffd",y=!1;break;case 13:P+="&#8203",y=!1;break;case 32:p&&y?(P+="&#160;",y=!1):(P+=" ",y=!0);break;default:P+=String.fromCharCode(O),y=!1}}if(u+=`<span style="${s.getInlineStyle(w,m)}">${P}</span>`,x>t||g>=t)break}return u+="</div>",u}function L(_,s,m){let c='<div class="monaco-tokenized-source">';const t=d.uq(_);let a=m.getInitialState();for(let p=0,u=t.length;p<u;p++){const g=t[p];p>0&&(c+="<br/>");const b=m.tokenizeEncoded(g,!0,a);n.A.convertToEndOffset(b.tokens,g.length);const w=new n.A(b.tokens,g,s).inflate();let D=0;for(let x=0,P=w.getCount();x<P;x++){const O=w.getClassName(x),V=w.getEndOffset(x);c+=`<span class="${O}">${d.YU(g.substring(D,V))}</span>`,D=V}a=b.endState}return c+="</div>",c}},47629:(Dt,Y,e)=>{"use strict";e.d(Y,{F5:()=>l,Hf:()=>C,Qi:()=>E,RM:()=>S,Tx:()=>L,dJ:()=>v,je:()=>_,pt:()=>s,sh:()=>n,tk:()=>T});var d=e(6276),n=(()=>{return(m=n||(n={}))[m.Left=1]="Left",m[m.Center=2]="Center",m[m.Right=4]="Right",m[m.Full=7]="Full",n;var m})(),l=(()=>{return(m=l||(l={}))[m.Inline=1]="Inline",m[m.Gutter=2]="Gutter",l;var m})(),S=(()=>{return(m=S||(S={}))[m.Both=0]="Both",m[m.Right=1]="Right",m[m.Left=2]="Left",m[m.None=3]="None",S;var m})();class v{constructor(c){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|c.tabSize),this.indentSize=0|c.tabSize,this.insertSpaces=Boolean(c.insertSpaces),this.defaultEOL=0|c.defaultEOL,this.trimAutoWhitespace=Boolean(c.trimAutoWhitespace),this.bracketPairColorizationOptions=c.bracketPairColorizationOptions}equals(c){return this.tabSize===c.tabSize&&this.indentSize===c.indentSize&&this.insertSpaces===c.insertSpaces&&this.defaultEOL===c.defaultEOL&&this.trimAutoWhitespace===c.trimAutoWhitespace&&(0,d.fS)(this.bracketPairColorizationOptions,c.bracketPairColorizationOptions)}createChangeEvent(c){return{tabSize:this.tabSize!==c.tabSize,indentSize:this.indentSize!==c.indentSize,insertSpaces:this.insertSpaces!==c.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==c.trimAutoWhitespace}}}class T{constructor(c,t){this._findMatchBrand=void 0,this.range=c,this.matches=t}}function C(m){return m&&"function"==typeof m.read}class E{constructor(c,t,a,p,u,g){this.identifier=c,this.range=t,this.text=a,this.forceMoveMarkers=p,this.isAutoWhitespaceEdit=u,this._isTracked=g}}class L{constructor(c,t,a){this.regex=c,this.wordSeparators=t,this.simpleSearch=a}}class _{constructor(c,t,a){this.reverseEdits=c,this.changes=t,this.trimAutoWhitespaceLineNumbers=a}}function s(m){return!m.isTooLargeForSyncing()&&!m.isForSimpleWidget}},66558:(Dt,Y,e)=>{"use strict";e.d(Y,{BH:()=>c,Dm:()=>a,Kd:()=>v,Y0:()=>T,n2:()=>t});var d=e(5409),n=e(87283),l=e(80125);class S{constructor(u){this._length=u}get length(){return this._length}}class v extends S{constructor(u,g,b,y,w){super(u),this.openingBracket=g,this.child=b,this.closingBracket=y,this.missingOpeningBracketIds=w}static create(u,g,b){let y=u.length;return g&&(y=(0,n.Ii)(y,g.length)),b&&(y=(0,n.Ii)(y,b.length)),new v(y,u,g,b,g?g.missingOpeningBracketIds:l.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(u){switch(u){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const u=new Array;return u.push(this.openingBracket),this.child&&u.push(this.child),this.closingBracket&&u.push(this.closingBracket),u}canBeReused(u){return!(null===this.closingBracket||u.intersects(this.missingOpeningBracketIds))}deepClone(){return new v(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(u,g){return this.child?this.child.computeMinIndentation((0,n.Ii)(u,this.openingBracket.length),g):Number.MAX_SAFE_INTEGER}}class T extends S{constructor(u,g,b){super(u),this.listHeight=g,this._missingOpeningBracketIds=b,this.cachedMinIndentation=-1}static create23(u,g,b,y=!1){let w=u.length,D=u.missingOpeningBracketIds;if(u.listHeight!==g.listHeight)throw new Error("Invalid list heights");if(w=(0,n.Ii)(w,g.length),D=D.merge(g.missingOpeningBracketIds),b){if(u.listHeight!==b.listHeight)throw new Error("Invalid list heights");w=(0,n.Ii)(w,b.length),D=D.merge(b.missingOpeningBracketIds)}return y?new E(w,u.listHeight+1,u,g,b,D):new C(w,u.listHeight+1,u,g,b,D)}static getEmpty(){return new _(n.xl,0,[],l.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const u=this.childrenLength;if(0===u)return;const g=this.getChild(u-1),b=4===g.kind?g.toMutable():g;return g!==b&&this.setChild(u-1,b),b}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const g=this.getChild(0),b=4===g.kind?g.toMutable():g;return g!==b&&this.setChild(0,b),b}canBeReused(u){if(u.intersects(this.missingOpeningBracketIds))return!1;let b,g=this;for(;4===g.kind&&(b=g.childrenLength)>0;)g=g.getChild(b-1);return g.canBeReused(u)}handleChildrenChanged(){this.throwIfImmutable();const u=this.childrenLength;let g=this.getChild(0).length,b=this.getChild(0).missingOpeningBracketIds;for(let y=1;y<u;y++){const w=this.getChild(y);g=(0,n.Ii)(g,w.length),b=b.merge(w.missingOpeningBracketIds)}this._length=g,this._missingOpeningBracketIds=b,this.cachedMinIndentation=-1}computeMinIndentation(u,g){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let b=Number.MAX_SAFE_INTEGER,y=u;for(let w=0;w<this.childrenLength;w++){const D=this.getChild(w);D&&(b=Math.min(b,D.computeMinIndentation(y,g)),y=(0,n.Ii)(y,D.length))}return this.cachedMinIndentation=b,b}}class C extends T{constructor(u,g,b,y,w,D){super(u,g,D),this._item1=b,this._item2=y,this._item3=w}get childrenLength(){return null!==this._item3?3:2}getChild(u){switch(u){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(u,g){switch(u){case 0:return void(this._item1=g);case 1:return void(this._item2=g);case 2:return void(this._item3=g)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new C(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=u,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item3;return this._item3=null,this.handleChildrenChanged(),u}prependChildOfSameHeight(u){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=u,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),u}toMutable(){return this}}class E extends C{toMutable(){return new C(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class L extends T{constructor(u,g,b,y){super(u,g,y),this._children=b}get childrenLength(){return this._children.length}getChild(u){return this._children[u]}setChild(u,g){this._children[u]=g}get children(){return this._children}deepClone(){const u=new Array(this._children.length);for(let g=0;g<this._children.length;g++)u[g]=this._children[g].deepClone();return new L(this.length,this.listHeight,u,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){this.throwIfImmutable(),this._children.push(u),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const u=this._children.pop();return this.handleChildrenChanged(),u}prependChildOfSameHeight(u){this.throwIfImmutable(),this._children.unshift(u),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const u=this._children.shift();return this.handleChildrenChanged(),u}toMutable(){return this}}class _ extends L{toMutable(){return new L(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const s=[];class m extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(u){return null}get children(){return s}deepClone(){return this}}class c extends m{get kind(){return 0}get missingOpeningBracketIds(){return l.tS.getEmpty()}canBeReused(u){return!0}computeMinIndentation(u,g){const b=(0,n.Hw)(u),y=(0===b.columnCount?b.lineCount:b.lineCount+1)+1,w=(0,n.W9)((0,n.Ii)(u,this.length))+1;let D=Number.MAX_SAFE_INTEGER;for(let x=y;x<=w;x++){const P=g.getLineFirstNonWhitespaceColumn(x),O=g.getLineContent(x);if(0===P)continue;const V=d.i.visibleColumnFromColumn(O,P,g.getOptions().tabSize);D=Math.min(D,V)}return D}}class t extends m{constructor(u,g,b){super(u),this.bracketInfo=g,this.bracketIds=b}static create(u,g,b){return new t(u,g,b)}get kind(){return 1}get missingOpeningBracketIds(){return l.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(u){return!1}computeMinIndentation(u,g){return Number.MAX_SAFE_INTEGER}}class a extends m{constructor(u,g){super(g),this.missingOpeningBracketIds=u}get kind(){return 3}canBeReused(u){return!u.intersects(this.missingOpeningBracketIds)}computeMinIndentation(u,g){return Number.MAX_SAFE_INTEGER}}},62467:(Dt,Y,e)=>{"use strict";e.d(Y,{Q:()=>n,Y:()=>l});var d=e(87283);class n{constructor(T,C,E){this.startOffset=T,this.endOffset=C,this.newLength=E}}class l{constructor(T,C){this.documentLength=C,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=T.map(E=>S.from(E))}getOffsetBeforeChange(T){return this.adjustNextEdit(T),this.translateCurToOld(T)}getDistanceToNextChange(T){this.adjustNextEdit(T);const C=this.edits[this.nextEditIdx],E=C?this.translateOldToCur(C.offsetObj):this.documentLength;return(0,d.BE)(T,E)}translateOldToCur(T){return(0,d.Hg)(T.lineCount+this.deltaOldToNewLineCount,T.lineCount===this.deltaLineIdxInOld?T.columnCount+this.deltaOldToNewColumnCount:T.columnCount)}translateCurToOld(T){const C=(0,d.Hw)(T);return(0,d.Hg)(C.lineCount-this.deltaOldToNewLineCount,C.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?C.columnCount-this.deltaOldToNewColumnCount:C.columnCount)}adjustNextEdit(T){for(;this.nextEditIdx<this.edits.length;){const C=this.edits[this.nextEditIdx],E=this.translateOldToCur(C.endOffsetAfterObj);if(!(0,d.By)(E,T))break;{this.nextEditIdx++;const L=(0,d.Hw)(E),_=(0,d.Hw)(this.translateOldToCur(C.endOffsetBeforeObj));this.deltaOldToNewLineCount+=L.lineCount-_.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===C.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(L.columnCount-_.columnCount),this.deltaLineIdxInOld=C.endOffsetBeforeObj.lineCount}}}}class S{constructor(T,C,E){this.endOffsetBeforeObj=(0,d.Hw)(C),this.endOffsetAfterObj=(0,d.Hw)((0,d.Ii)(T,E)),this.offsetObj=(0,d.Hw)(T)}static from(T){return new S(T.startOffset,T.endOffset,T.newLength)}}},33506:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>E});var d=e(73879),n=e(66558),l=e(87283),S=e(80125),v=e(15186);class T{constructor(_){this.map=_,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(_,s){function m(t){return s.getKey(`${t.languageId}:::${t.bracketText}`)}const c=new Map;for(const t of _.bracketsNew.openingBrackets){const a=(0,l.Hg)(0,t.bracketText.length),p=m(t),u=S.tS.getEmpty().add(p,S.Qw);c.set(t.bracketText,new v.WU(a,1,p,u,n.n2.create(a,t,u)))}for(const t of _.bracketsNew.closingBrackets){const a=(0,l.Hg)(0,t.bracketText.length);let p=S.tS.getEmpty();const u=t.getClosedBrackets();for(const g of u)p=p.add(m(g),S.Qw);c.set(t.bracketText,new v.WU(a,2,m(u[0]),p,n.n2.create(a,t,p)))}return new T(c)}getRegExpStr(){if(this.isEmpty)return null;{const _=[...this.map.keys()];return _.sort(),_.reverse(),_.map(s=>function C(L){let _=(0,d.ec)(L);return/^[\w ]+/.test(L)&&(_=`\\b${_}`),/[\w ]+$/.test(L)&&(_=`${_}\\b`),_}(s)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const _=this.getRegExpStr();this._regExpGlobal=_?new RegExp(_,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(_){return this.map.get(_.toLowerCase())}findClosingTokenText(_){for(const[s,m]of this.map)if(2===m.kind&&m.bracketIds.intersects(_))return s}get isEmpty(){return 0===this.map.size}}class E{constructor(_,s){this.denseKeyProvider=_,this.getLanguageConfiguration=s,this.languageIdToBracketTokens=new Map}didLanguageChange(_){return this.languageIdToBracketTokens.has(_)}getSingleLanguageBracketTokens(_){let s=this.languageIdToBracketTokens.get(_);return s||(s=T.createFromLanguage(this.getLanguageConfiguration(_),this.denseKeyProvider),this.languageIdToBracketTokens.set(_,s)),s}}},87283:(Dt,Y,e)=>{"use strict";e.d(Y,{BE:()=>c,By:()=>a,F_:()=>s,Hg:()=>E,Hw:()=>L,Ii:()=>m,PZ:()=>u,Qw:()=>g,VR:()=>t,W9:()=>_,Zq:()=>p,av:()=>S,oR:()=>b,xd:()=>T,xl:()=>v});var d=e(73879),n=e(98570);class l{constructor(w,D){this.lineCount=w,this.columnCount=D}toString(){return`${this.lineCount},${this.columnCount}`}}function S(y,w,D,x){return y!==D?E(D-y,x):E(0,x-w)}l.zero=new l(0,0);const v=0;function T(y){return 0===y}const C=Math.pow(2,26);function E(y,w){return y*C+w}function L(y){const w=y,D=Math.floor(w/C);return new l(D,w-D*C)}function _(y){return Math.floor(y/C)}function s(y){return y}function m(y,w){return w<C?y+w:y-y%C+w}function c(y,w){const D=y,x=w;if(x-D<=0)return v;const O=Math.floor(D/C),V=Math.floor(x/C),H=x-V*C;return O===V?E(0,H-(D-O*C)):E(V-O,H)}function t(y,w){return y<w}function a(y,w){return y<=w}function p(y,w){return y>=w}function u(y){return E(y.lineNumber-1,y.column-1)}function g(y,w){const D=y,x=Math.floor(D/C),P=D-x*C,O=w,V=Math.floor(O/C);return new n.e(x+1,P+1,V+1,O-V*C+1)}function b(y){const w=(0,d.uq)(y);return E(w.length-1,w[w.length-1].length)}},61334:(Dt,Y,e)=>{"use strict";e.d(Y,{w:()=>t});var d=e(66558),n=e(62467),l=e(80125),S=e(87283);function T(p,u=!1){if(0===p.length)return null;if(1===p.length)return p[0];let g=p.length;for(;g>3;){const b=g>>1;for(let y=0;y<b;y++){const w=y<<1;p[y]=d.Y0.create23(p[w],p[w+1],w+3===g?p[w+2]:null,u)}g=b}return d.Y0.create23(p[0],p[1],g>=3?p[2]:null,u)}function C(p,u){return Math.abs(p.listHeight-u.listHeight)}function E(p,u){return p.listHeight===u.listHeight?d.Y0.create23(p,u,null,!1):p.listHeight>u.listHeight?function L(p,u){let g=p=p.toMutable();const b=new Array;let y;for(;;){if(u.listHeight===g.listHeight){y=u;break}if(4!==g.kind)throw new Error("unexpected");b.push(g),g=g.makeLastElementMutable()}for(let w=b.length-1;w>=0;w--){const D=b[w];y?D.childrenLength>=3?y=d.Y0.create23(D.unappendChild(),y,null,!1):(D.appendChildOfSameHeight(y),y=void 0):D.handleChildrenChanged()}return y?d.Y0.create23(p,y,null,!1):p}(p,u):function _(p,u){let g=p=p.toMutable();const b=new Array;for(;u.listHeight!==g.listHeight;){if(4!==g.kind)throw new Error("unexpected");b.push(g),g=g.makeFirstElementMutable()}let y=u;for(let w=b.length-1;w>=0;w--){const D=b[w];y?D.childrenLength>=3?y=d.Y0.create23(y,D.unprependChild(),null,!1):(D.prependChildOfSameHeight(y),y=void 0):D.handleChildrenChanged()}return y?d.Y0.create23(y,p,null,!1):p}(u,p)}class s{constructor(u){this.lastOffset=S.xl,this.nextNodes=[u],this.offsets=[S.xl],this.idxs=[]}readLongestNodeAt(u,g){if((0,S.VR)(u,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=u;;){const b=c(this.nextNodes);if(!b)return;const y=c(this.offsets);if((0,S.VR)(u,y))return;if((0,S.VR)(y,u))if((0,S.Ii)(y,b.length)<=u)this.nextNodeAfterCurrent();else{const w=m(b);-1!==w?(this.nextNodes.push(b.getChild(w)),this.offsets.push(y),this.idxs.push(w)):this.nextNodeAfterCurrent()}else{if(g(b))return this.nextNodeAfterCurrent(),b;{const w=m(b);if(-1===w)return void this.nextNodeAfterCurrent();this.nextNodes.push(b.getChild(w)),this.offsets.push(y),this.idxs.push(w)}}}}nextNodeAfterCurrent(){for(;;){const u=c(this.offsets),g=c(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const b=c(this.nextNodes),y=m(b,this.idxs[this.idxs.length-1]);if(-1!==y){this.nextNodes.push(b.getChild(y)),this.offsets.push((0,S.Ii)(u,g.length)),this.idxs[this.idxs.length-1]=y;break}this.idxs.pop()}}}function m(p,u=-1){for(;;){if(++u>=p.childrenLength)return-1;if(p.getChild(u))return u}}function c(p){return p.length>0?p[p.length-1]:void 0}function t(p,u,g,b){return new a(p,u,g,b).parseDocument()}class a{constructor(u,g,b,y){if(this.tokenizer=u,this.createImmutableLists=y,this._itemsConstructed=0,this._itemsFromCache=0,b&&y)throw new Error("Not supported");this.oldNodeReader=b?new s(b):void 0,this.positionMapper=new n.Y(g,u.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let u=this.parseList(l.tS.getEmpty());return u||(u=d.Y0.getEmpty()),u}parseList(u){const g=new Array;for(;;){const y=this.tokenizer.peek();if(!y||2===y.kind&&y.bracketIds.intersects(u))break;const w=this.parseChild(u);4===w.kind&&0===w.childrenLength||g.push(w)}return this.oldNodeReader?function v(p){if(0===p.length)return null;if(1===p.length)return p[0];let u=0;function g(){if(u>=p.length)return null;const D=u,x=p[D].listHeight;for(u++;u<p.length&&p[u].listHeight===x;)u++;return u-D>=2?T(0===D&&u===p.length?p:p.slice(D,u),!1):p[D]}let b=g(),y=g();if(!y)return b;for(let D=g();D;D=g())C(b,y)<=C(y,D)?(b=E(b,y),y=D):y=E(y,D);return E(b,y)}(g):T(g,this.createImmutableLists)}parseChild(u){if(this.oldNodeReader){const b=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,S.xd)(b)){const y=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),w=>!!(0,S.VR)(w.length,b)&&w.canBeReused(u));if(y)return this._itemsFromCache++,this.tokenizer.skip(y.length),y}}this._itemsConstructed++;const g=this.tokenizer.read();switch(g.kind){case 2:return new d.Dm(g.bracketIds,g.length);case 0:return g.astNode;case 1:{const b=u.merge(g.bracketIds),y=this.parseList(b),w=this.tokenizer.peek();return w&&2===w.kind&&(w.bracketId===g.bracketId||w.bracketIds.intersects(g.bracketIds))?(this.tokenizer.read(),d.Kd.create(g.astNode,y,w.astNode)):d.Kd.create(g.astNode,y,null)}default:throw new Error("unexpected")}}}},80125:(Dt,Y,e)=>{"use strict";e.d(Y,{FE:()=>S,Qw:()=>l,tS:()=>n});const d=new Array;class n{constructor(T,C){this.items=T,this.additionalItems=C}static create(T,C){if(T<=128&&0===C.length){let E=n.cache[T];return E||(E=new n(T,C),n.cache[T]=E),E}return new n(T,C)}static getEmpty(){return this.empty}add(T,C){const E=C.getKey(T);let L=E>>5;if(0===L){const s=1<<E|this.items;return s===this.items?this:n.create(s,this.additionalItems)}L--;const _=this.additionalItems.slice(0);for(;_.length<L;)_.push(0);return _[L]|=1<<(31&E),n.create(this.items,_)}merge(T){const C=this.items|T.items;if(this.additionalItems===d&&T.additionalItems===d)return C===this.items?this:C===T.items?T:n.create(C,d);const E=new Array;for(let L=0;L<Math.max(this.additionalItems.length,T.additionalItems.length);L++)E.push((this.additionalItems[L]||0)|(T.additionalItems[L]||0));return n.create(C,E)}intersects(T){if(0!=(this.items&T.items))return!0;for(let C=0;C<Math.min(this.additionalItems.length,T.additionalItems.length);C++)if(0!=(this.additionalItems[C]&T.additionalItems[C]))return!0;return!1}}n.cache=new Array(129),n.empty=n.create(0,d);const l={getKey:v=>v};class S{constructor(){this.items=new Map}getKey(T){let C=this.items.get(T);return void 0===C&&(C=this.items.size,this.items.set(T,C)),C}}},15186:(Dt,Y,e)=>{"use strict";e.d(Y,{WU:()=>T,g:()=>L,xH:()=>C});var d=e(4125),n=e(1465),l=e(66558),S=e(87283),v=e(80125);class T{constructor(s,m,c,t,a){this.length=s,this.kind=m,this.bracketId=c,this.bracketIds=t,this.astNode=a}}class C{constructor(s,m){this.textModel=s,this.bracketTokens=m,this.reader=new E(this.textModel,this.bracketTokens),this._offset=S.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,S.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(s){this.didPeek=!1,this._offset=(0,S.Ii)(this._offset,s);const m=(0,S.Hw)(this._offset);this.reader.setPosition(m.lineCount,m.columnCount)}read(){let s;return this.peeked?(this.didPeek=!1,s=this.peeked):s=this.reader.read(),s&&(this._offset=(0,S.Ii)(this._offset,s.length)),s}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class E{constructor(s,m){this.textModel=s,this.bracketTokens=m,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}setPosition(s,m){s===this.lineIdx?(this.lineCharOffset=m,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=s,this.lineCharOffset=m,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,S.F_)(a.length),a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const s=this.lineIdx,m=this.lineCharOffset;let c=0;for(;;){const a=this.lineTokens,p=a.getCount();let u=null;if(this.lineTokenOffset<p){const g=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<p&&g===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const b=0===n.N.getTokenType(g),y=n.N.containsBalancedBrackets(g),w=a.getEndOffset(this.lineTokenOffset);if(y&&b&&this.lineCharOffset<w){const D=a.getLanguageId(this.lineTokenOffset),x=this.line.substring(this.lineCharOffset,w),P=this.bracketTokens.getSingleLanguageBracketTokens(D),O=P.regExpGlobal;if(O){O.lastIndex=0;const V=O.exec(x);V&&(u=P.getToken(V[0]),u&&(this.lineCharOffset+=V.index))}}if(c+=w-this.lineCharOffset,u){if(s!==this.lineIdx||m!==this.lineCharOffset){this.peekedToken=u;break}return this.lineCharOffset+=(0,S.F_)(u.length),u}this.lineTokenOffset++,this.lineCharOffset=w}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,c+=33,c>1e3))break;if(c>1500)break}const t=(0,S.av)(s,m,this.lineIdx,this.lineCharOffset);return new T(t,0,-1,v.tS.getEmpty(),new l.BH(t))}}class L{constructor(s,m){this.text=s,this._offset=S.xl,this.idx=0;const c=m.getRegExpStr(),t=c?new RegExp(c+"|\n","gi"):null,a=[];let p,u=0,g=0,b=0,y=0;const w=new Array;for(let P=0;P<60;P++)w.push(new T((0,S.Hg)(0,P),0,-1,v.tS.getEmpty(),new l.BH((0,S.Hg)(0,P))));const D=new Array;for(let P=0;P<60;P++)D.push(new T((0,S.Hg)(1,P),0,-1,v.tS.getEmpty(),new l.BH((0,S.Hg)(1,P))));if(t)for(t.lastIndex=0;null!==(p=t.exec(s));){const P=p.index,O=p[0];if("\n"===O)u++,g=P+1;else{if(b!==P){let V;if(y===u){const H=P-b;if(H<w.length)V=w[H];else{const z=(0,S.Hg)(0,H);V=new T(z,0,-1,v.tS.getEmpty(),new l.BH(z))}}else{const H=u-y,z=P-g;if(1===H&&z<D.length)V=D[z];else{const k=(0,S.Hg)(H,z);V=new T(k,0,-1,v.tS.getEmpty(),new l.BH(k))}}a.push(V)}a.push(m.getToken(O)),b=P+O.length,y=u}}const x=s.length;if(b!==x){const P=y===u?(0,S.Hg)(0,x-b):(0,S.Hg)(u-y,x-g);a.push(new T(P,0,-1,v.tS.getEmpty(),new l.BH(P)))}this.length=(0,S.Hg)(u,x-g),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(s){throw new d.B8}}},83183:(Dt,Y,e)=>{"use strict";e.d(Y,{NL:()=>t,e9:()=>c});var d=e(55197),n=e(4125),l=e(7233),S=e(59547),v=e(66390),T=e(32068),C=e(40734);function E(a){return a.toString()}class L{constructor(p,u,g,b,y,w,D){this.beforeVersionId=p,this.afterVersionId=u,this.beforeEOL=g,this.afterEOL=b,this.beforeCursorState=y,this.afterCursorState=w,this.changes=D}static create(p,u){const g=p.getAlternativeVersionId(),b=m(p);return new L(g,g,b,b,u,u,[])}append(p,u,g,b,y){u.length>0&&(this.changes=(0,v.b)(this.changes,u)),this.afterEOL=g,this.afterVersionId=b,this.afterCursorState=y}static _writeSelectionsSize(p){return 4+16*(p?p.length:0)}static _writeSelections(p,u,g){if(T.T4(p,u?u.length:0,g),g+=4,u)for(const b of u)T.T4(p,b.selectionStartLineNumber,g),T.T4(p,b.selectionStartColumn,g+=4),T.T4(p,b.positionLineNumber,g+=4),T.T4(p,b.positionColumn,g+=4),g+=4;return g}static _readSelections(p,u,g){const b=T.Ag(p,u);u+=4;for(let y=0;y<b;y++){const w=T.Ag(p,u),D=T.Ag(p,u+=4),x=T.Ag(p,u+=4),P=T.Ag(p,u+=4);u+=4,g.push(new l.Y(w,D,x,P))}return u}serialize(){let p=10+L._writeSelectionsSize(this.beforeCursorState)+L._writeSelectionsSize(this.afterCursorState)+4;for(const b of this.changes)p+=b.writeSize();const u=new Uint8Array(p);let g=0;T.T4(u,this.beforeVersionId,g),g+=4,T.T4(u,this.afterVersionId,g),g+=4,T.Cg(u,this.beforeEOL,g),g+=1,T.Cg(u,this.afterEOL,g),g+=1,g=L._writeSelections(u,this.beforeCursorState,g),g=L._writeSelections(u,this.afterCursorState,g),T.T4(u,this.changes.length,g),g+=4;for(const b of this.changes)g=b.write(u,g);return u.buffer}static deserialize(p){const u=new Uint8Array(p);let g=0;const b=T.Ag(u,g);g+=4;const y=T.Ag(u,g);g+=4;const w=T.Q$(u,g);g+=1;const D=T.Q$(u,g);g+=1;const x=[];g=L._readSelections(u,g,x);const P=[];g=L._readSelections(u,g,P);const O=T.Ag(u,g);g+=4;const V=[];for(let H=0;H<O;H++)g=v.q.read(u,g,V);return new L(b,y,w,D,x,P,V)}}class _{constructor(p,u,g,b){this.label=p,this.code=u,this.model=g,this._data=L.create(g,b)}get type(){return 0}get resource(){return S.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof L?this._data:L.deserialize(this._data)).changes.map(u=>u.toString()).join(", ")}matchesResource(p){return(S.o.isUri(this.model)?this.model:this.model.uri).toString()===p.toString()}setModel(p){this.model=p}canAppend(p){return this.model===p&&this._data instanceof L}append(p,u,g,b,y){this._data instanceof L&&this._data.append(p,u,g,b,y)}close(){this._data instanceof L&&(this._data=this._data.serialize())}open(){this._data instanceof L||(this._data=L.deserialize(this._data))}undo(){if(S.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof L&&(this._data=this._data.serialize());const p=L.deserialize(this._data);this.model._applyUndo(p.changes,p.beforeEOL,p.beforeVersionId,p.beforeCursorState)}redo(){if(S.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof L&&(this._data=this._data.serialize());const p=L.deserialize(this._data);this.model._applyRedo(p.changes,p.afterEOL,p.afterVersionId,p.afterCursorState)}heapSize(){return this._data instanceof L&&(this._data=this._data.serialize()),this._data.byteLength+168}}class s{constructor(p,u,g){this.label=p,this.code=u,this.type=1,this._isOpen=!0,this._editStackElementsArr=g.slice(0),this._editStackElementsMap=new Map;for(const b of this._editStackElementsArr){const y=E(b.resource);this._editStackElementsMap.set(y,b)}this._delegate=null}get resources(){return this._editStackElementsArr.map(p=>p.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(p){const u=E(p);return this._editStackElementsMap.has(u)}setModel(p){const u=E(S.o.isUri(p)?p:p.uri);this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).setModel(p)}canAppend(p){if(!this._isOpen)return!1;const u=E(p.uri);return!!this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).canAppend(p)}append(p,u,g,b,y){const w=E(p.uri);this._editStackElementsMap.get(w).append(p,u,g,b,y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const p of this._editStackElementsArr)p.undo()}redo(){for(const p of this._editStackElementsArr)p.redo()}heapSize(p){const u=E(p);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).heapSize():0}split(){return this._editStackElementsArr}toString(){const p=[];for(const u of this._editStackElementsArr)p.push(`${(0,C.EZ)(u.resource)}: ${u}`);return`{${p.join(", ")}}`}}function m(a){return"\n"===a.getEOL()?0:1}function c(a){return!!a&&(a instanceof _||a instanceof s)}class t{constructor(p,u){this._model=p,this._undoRedoService=u}pushStackElement(){const p=this._undoRedoService.getLastElement(this._model.uri);c(p)&&p.close()}popStackElement(){const p=this._undoRedoService.getLastElement(this._model.uri);c(p)&&p.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(p){const u=this._undoRedoService.getLastElement(this._model.uri);if(c(u)&&u.canAppend(this._model))return u;const g=new _(d.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,p);return this._undoRedoService.pushElement(g),g}pushEOL(p){const u=this._getOrCreateEditStackElement(null);this._model.setEOL(p),u.append(this._model,[],m(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(p,u,g){const b=this._getOrCreateEditStackElement(p),y=this._model.applyEdits(u,!0),w=t._computeCursorState(g,y),D=y.map((x,P)=>({index:P,textChange:x.textChange}));return D.sort((x,P)=>x.textChange.oldPosition===P.textChange.oldPosition?x.index-P.index:x.textChange.oldPosition-P.textChange.oldPosition),b.append(this._model,D.map(x=>x.textChange),m(this._model),this._model.getAlternativeVersionId(),w),w}static _computeCursorState(p,u){try{return p?p(u):null}catch(g){return(0,n.dL)(g),null}}}},29595:(Dt,Y,e)=>{"use strict";e.d(Y,{W:()=>L,l:()=>E});var d=e(64023),n=e(73879),l=e(5409),S=e(98570),v=e(32368),T=e(24927),C=e(87570);class E extends v.U{constructor(s,m){super(),this.textModel=s,this.languageConfigurationService=m}getLanguageConfiguration(s){return this.languageConfigurationService.getLanguageConfiguration(s)}_computeIndentLevel(s){return(0,T.q)(this.textModel.getLineContent(s+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(s,m,c){this.assertNotDisposed();const t=this.textModel.getLineCount();if(s<1||s>t)throw new Error("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,p=Boolean(a&&a.offSide);let u=-2,g=-1,b=-2,y=-1;const w=U=>{if(-1!==u&&(-2===u||u>U-1)){u=-1,g=-1;for(let ne=U-2;ne>=0;ne--){const N=this._computeIndentLevel(ne);if(N>=0){u=ne,g=N;break}}}if(-2===b){b=-1,y=-1;for(let ne=U;ne<t;ne++){const N=this._computeIndentLevel(ne);if(N>=0){b=ne,y=N;break}}}};let D=-2,x=-1,P=-2,O=-1;const V=U=>{if(-2===D){D=-1,x=-1;for(let ne=U-2;ne>=0;ne--){const N=this._computeIndentLevel(ne);if(N>=0){D=ne,x=N;break}}}if(-1!==P&&(-2===P||P<U-1)){P=-1,O=-1;for(let ne=U;ne<t;ne++){const N=this._computeIndentLevel(ne);if(N>=0){P=ne,O=N;break}}}};let H=0,z=!0,k=0,F=!0,j=0,K=0;for(let U=0;z||F;U++){const ne=s-U,N=s+U;U>1&&(ne<1||ne<m)&&(z=!1),U>1&&(N>t||N>c)&&(F=!1),U>5e4&&(z=!1,F=!1);let W=-1;if(z&&ne>=1){const ge=this._computeIndentLevel(ne-1);ge>=0?(b=ne-1,y=ge,W=Math.ceil(ge/this.textModel.getOptions().indentSize)):(w(ne),W=this._getIndentLevelForWhitespaceLine(p,g,y))}let Z=-1;if(F&&N<=t){const ge=this._computeIndentLevel(N-1);ge>=0?(D=N-1,x=ge,Z=Math.ceil(ge/this.textModel.getOptions().indentSize)):(V(N),Z=this._getIndentLevelForWhitespaceLine(p,x,O))}if(0!==U){if(1===U){if(N<=t&&Z>=0&&K+1===Z){z=!1,H=N,k=N,j=Z;continue}if(ne>=1&&W>=0&&W-1===K){F=!1,H=ne,k=ne,j=W;continue}if(H=s,k=s,j=K,0===j)return{startLineNumber:H,endLineNumber:k,indent:j}}z&&(W>=j?H=ne:z=!1),F&&(Z>=j?k=N:F=!1)}else K=W}return{startLineNumber:H,endLineNumber:k,indent:j}}getLinesBracketGuides(s,m,c,t){var a;const p=[];for(let D=s;D<=m;D++)p.push([]);const g=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new S.e(s,1,m,this.textModel.getLineMaxColumn(m)));let b;if(c&&g.length>0){const D=(s<=c.lineNumber&&c.lineNumber<=m?g:this.textModel.bracketPairs.getBracketPairsInRange(S.e.fromPositions(c))).filter(x=>S.e.strictContainsPosition(x.range,c));b=null===(a=(0,d.dF)(D,x=>!0))||void 0===a?void 0:a.range}const y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,w=new L;for(const D of g){if(!D.closingBracketRange)continue;const x=b&&D.range.equalsRange(b);if(!x&&!t.includeInactive)continue;const P=w.getInlineClassName(D.nestingLevel,D.nestingLevelOfEqualBracketType,y)+(t.highlightActive&&x?" "+w.activeClassName:""),O=D.openingBracketRange.getStartPosition(),V=D.closingBracketRange.getStartPosition(),H=t.horizontalGuides===C.s6.Enabled||t.horizontalGuides===C.s6.EnabledForActive&&x;if(D.range.startLineNumber===D.range.endLineNumber){H&&p[D.range.startLineNumber-s].push(new C.UO(-1,D.openingBracketRange.getEndPosition().column,P,new C.vW(!1,V.column),-1,-1));continue}const z=this.getVisibleColumnFromPosition(V),k=this.getVisibleColumnFromPosition(D.openingBracketRange.getStartPosition()),F=Math.min(k,z,D.minVisibleColumnIndentation+1);let j=!1;n.LC(this.textModel.getLineContent(D.closingBracketRange.startLineNumber))<D.closingBracketRange.startColumn-1&&(j=!0);const ne=Math.max(O.lineNumber,s),N=Math.min(V.lineNumber,m),W=j?1:0;for(let Z=ne;Z<N+W;Z++)p[Z-s].push(new C.UO(F,-1,P,null,Z===O.lineNumber?O.column:-1,Z===V.lineNumber?V.column:-1));H&&(O.lineNumber>=s&&k>F&&p[O.lineNumber-s].push(new C.UO(F,-1,P,new C.vW(!1,O.column),-1,-1)),V.lineNumber<=m&&z>F&&p[V.lineNumber-s].push(new C.UO(F,-1,P,new C.vW(!j,V.column),-1,-1)))}for(const D of p)D.sort((x,P)=>x.visibleColumn-P.visibleColumn);return p}getVisibleColumnFromPosition(s){return l.i.visibleColumnFromColumn(this.textModel.getLineContent(s.lineNumber),s.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(s,m){this.assertNotDisposed();const c=this.textModel.getLineCount();if(s<1||s>c)throw new Error("Illegal value for startLineNumber");if(m<1||m>c)throw new Error("Illegal value for endLineNumber");const t=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,p=Boolean(a&&a.offSide),u=new Array(m-s+1);let g=-2,b=-1,y=-2,w=-1;for(let D=s;D<=m;D++){const x=D-s,P=this._computeIndentLevel(D-1);if(P>=0)g=D-1,b=P,u[x]=Math.ceil(P/t.indentSize);else{if(-2===g){g=-1,b=-1;for(let O=D-2;O>=0;O--){const V=this._computeIndentLevel(O);if(V>=0){g=O,b=V;break}}}if(-1!==y&&(-2===y||y<D-1)){y=-1,w=-1;for(let O=D;O<c;O++){const V=this._computeIndentLevel(O);if(V>=0){y=O,w=V;break}}}u[x]=this._getIndentLevelForWhitespaceLine(p,b,w)}}return u}_getIndentLevelForWhitespaceLine(s,m,c){const t=this.textModel.getOptions();return-1===m||-1===c?0:m<c?1+Math.floor(m/t.indentSize):m===c||s?Math.ceil(c/t.indentSize):1+Math.floor(c/t.indentSize)}}class L{constructor(){this.activeClassName="indent-active"}getInlineClassName(s,m,c){return this.getInlineClassNameOfLevel(c?m:s)}getInlineClassNameOfLevel(s){return"bracket-indent-guide lvl-"+s%30}}},98950:(Dt,Y,e)=>{"use strict";e.d(Y,{v:()=>S});var d=e(73879),n=e(18723),l=e(88598);class S{constructor(T,C,E,L){this._uri=T,this._lines=C,this._eol=E,this._versionId=L,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(T){T.eol&&T.eol!==this._eol&&(this._eol=T.eol,this._lineStarts=null);const C=T.changes;for(const E of C)this._acceptDeleteRange(E.range),this._acceptInsertText(new n.L(E.range.startLineNumber,E.range.startColumn),E.text);this._versionId=T.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const T=this._eol.length,C=this._lines.length,E=new Uint32Array(C);for(let L=0;L<C;L++)E[L]=this._lines[L].length+T;this._lineStarts=new l.oQ(E)}}_setLineText(T,C){this._lines[T]=C,this._lineStarts&&this._lineStarts.setValue(T,this._lines[T].length+this._eol.length)}_acceptDeleteRange(T){if(T.startLineNumber!==T.endLineNumber)this._setLineText(T.startLineNumber-1,this._lines[T.startLineNumber-1].substring(0,T.startColumn-1)+this._lines[T.endLineNumber-1].substring(T.endColumn-1)),this._lines.splice(T.startLineNumber,T.endLineNumber-T.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(T.startLineNumber,T.endLineNumber-T.startLineNumber);else{if(T.startColumn===T.endColumn)return;this._setLineText(T.startLineNumber-1,this._lines[T.startLineNumber-1].substring(0,T.startColumn-1)+this._lines[T.startLineNumber-1].substring(T.endColumn-1))}}_acceptInsertText(T,C){if(0===C.length)return;const E=(0,d.uq)(C);if(1===E.length)return void this._setLineText(T.lineNumber-1,this._lines[T.lineNumber-1].substring(0,T.column-1)+E[0]+this._lines[T.lineNumber-1].substring(T.column-1));E[E.length-1]+=this._lines[T.lineNumber-1].substring(T.column-1),this._setLineText(T.lineNumber-1,this._lines[T.lineNumber-1].substring(0,T.column-1)+E[0]);const L=new Uint32Array(E.length-1);for(let _=1;_<E.length;_++)this._lines.splice(T.lineNumber+_-1,0,E[_]),L[_-1]=E[_].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(T.lineNumber,L)}}},88598:(Dt,Y,e)=>{"use strict";e.d(Y,{Ck:()=>S,oQ:()=>l});var d=e(64023),n=e(48071);class l{constructor(C){this.values=C,this.prefixSum=new Uint32Array(C.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(C,E){C=(0,n.A)(C);const L=this.values,_=this.prefixSum,s=E.length;return 0!==s&&(this.values=new Uint32Array(L.length+s),this.values.set(L.subarray(0,C),0),this.values.set(L.subarray(C),C+s),this.values.set(E,C),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(C,E){return C=(0,n.A)(C),E=(0,n.A)(E),this.values[C]!==E&&(this.values[C]=E,C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),!0)}removeValues(C,E){C=(0,n.A)(C),E=(0,n.A)(E);const L=this.values,_=this.prefixSum;if(C>=L.length)return!1;const s=L.length-C;return E>=s&&(E=s),0!==E&&(this.values=new Uint32Array(L.length-E),this.values.set(L.subarray(0,C),0),this.values.set(L.subarray(C+E),C),this.prefixSum=new Uint32Array(this.values.length),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(C){return C<0?0:(C=(0,n.A)(C),this._getPrefixSum(C))}_getPrefixSum(C){if(C<=this.prefixSumValidIndex[0])return this.prefixSum[C];let E=this.prefixSumValidIndex[0]+1;0===E&&(this.prefixSum[0]=this.values[0],E++),C>=this.values.length&&(C=this.values.length-1);for(let L=E;L<=C;L++)this.prefixSum[L]=this.prefixSum[L-1]+this.values[L];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],C),this.prefixSum[C]}getIndexOf(C){C=Math.floor(C),this.getTotalSum();let E=0,L=this.values.length-1,_=0,s=0,m=0;for(;E<=L;)if(_=E+(L-E)/2|0,s=this.prefixSum[_],m=s-this.values[_],C<m)L=_-1;else{if(!(C>=s))break;E=_+1}return new v(_,C-m)}}class S{constructor(C){this._values=C,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(C){return this._ensureValid(),0===C?0:this._prefixSum[C-1]}getIndexOf(C){this._ensureValid();const E=this._indexBySum[C];return new v(E,C-(E>0?this._prefixSum[E-1]:0))}removeValues(C,E){this._values.splice(C,E),this._invalidate(C)}insertValues(C,E){this._values=(0,d.Zv)(this._values,C,E),this._invalidate(C)}_invalidate(C){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,C-1)}_ensureValid(){if(!this._isValid){for(let C=this._validEndIndex+1,E=this._values.length;C<E;C++){const L=this._values[C],_=C>0?this._prefixSum[C-1]:0;this._prefixSum[C]=_+L;for(let s=0;s<L;s++)this._indexBySum[_+s]=C}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(C,E){this._values[C]!==E&&(this._values[C]=E,this._invalidate(C))}}class v{constructor(C,E){this.index=C,this.remainder=E,this._prefixSumIndexOfResultBrand=void 0,this.index=C,this.remainder=E}}},59758:(Dt,Y,e)=>{"use strict";e.d(Y,{HS:()=>ct,qx:()=>Cn,yO:()=>xn});var d=e(64023),n=e(69355),l=e(4125),S=e(3778),v=e(80142),T=e(73879),C=e(59547),E=e(93169),L=e(87652),_=e(18723),s=e(98570),m=e(7233),c=e(39945),t=e(45358),a=e(94911),p=e(47629);class u{constructor(R,J,_e,je){this.range=R,this.nestingLevel=J,this.nestingLevelOfEqualBracketType=_e,this.isInvalid=je}}class g{constructor(R,J,_e,je,Ye,at){this.range=R,this.openingBracketRange=J,this.closingBracketRange=_e,this.nestingLevel=je,this.nestingLevelOfEqualBracketType=Ye,this.bracketPairNode=at}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class b extends g{constructor(R,J,_e,je,Ye,at,on){super(R,J,_e,je,Ye,at),this.minVisibleColumnIndentation=on}}var y=e(62467),w=e(33506),D=e(87283),x=e(61334),P=e(80125),O=e(15186);class V extends v.JT{constructor(R,J){if(super(),this.textModel=R,this.getLanguageConfiguration=J,this.didChangeEmitter=new S.Q5,this.denseKeyProvider=new P.FE,this.brackets=new w.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===R.tokenization.backgroundTokenizationState){const _e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),je=new O.g(this.textModel.getValue(),_e);this.initialAstWithoutTokens=(0,x.w)(je,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===R.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===R.tokenization.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(R){return this.brackets.didLanguageChange(R)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const R=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,R||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:R}){const J=R.map(_e=>new y.Q((0,D.Hg)(_e.fromLineNumber-1,0),(0,D.Hg)(_e.toLineNumber,0),(0,D.Hg)(_e.toLineNumber-_e.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(J,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(R){const J=R.changes.map(_e=>{const je=s.e.lift(_e.range);return new y.Q((0,D.PZ)(je.getStartPosition()),(0,D.PZ)(je.getEndPosition()),(0,D.oR)(_e.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(J,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(J,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(R,J,_e){const Ye=J,at=new O.xH(this.textModel,this.brackets);return(0,x.w)(at,R,Ye,_e)}getBracketsInRange(R){const J=(0,D.Hg)(R.startLineNumber-1,R.startColumn-1),_e=(0,D.Hg)(R.endLineNumber-1,R.endColumn-1),je=new Array,Ye=this.initialAstWithoutTokens||this.astWithTokens;return k(Ye,D.xl,Ye.length,J,_e,je,0,new Map),je}getBracketPairsInRange(R,J){const _e=new Array,je=(0,D.PZ)(R.getStartPosition()),Ye=(0,D.PZ)(R.getEndPosition()),at=this.initialAstWithoutTokens||this.astWithTokens,on=new F(_e,J,this.textModel);return j(at,D.xl,at.length,je,Ye,on,0,new Map),_e}getFirstBracketAfter(R){const J=this.initialAstWithoutTokens||this.astWithTokens;return z(J,D.xl,J.length,(0,D.PZ)(R))}getFirstBracketBefore(R){const J=this.initialAstWithoutTokens||this.astWithTokens;return H(J,D.xl,J.length,(0,D.PZ)(R))}}function H(Ft,R,J,_e){if(4===Ft.kind||2===Ft.kind){const je=[];for(const Ye of Ft.children)J=(0,D.Ii)(R,Ye.length),je.push({nodeOffsetStart:R,nodeOffsetEnd:J}),R=J;for(let Ye=je.length-1;Ye>=0;Ye--){const{nodeOffsetStart:at,nodeOffsetEnd:on}=je[Ye];if((0,D.VR)(at,_e)){const qt=H(Ft.children[Ye],at,on,_e);if(qt)return qt}}return null}if(3===Ft.kind)return null;if(1===Ft.kind){const je=(0,D.Qw)(R,J);return{bracketInfo:Ft.bracketInfo,range:je}}return null}function z(Ft,R,J,_e){if(4===Ft.kind||2===Ft.kind){for(const je of Ft.children){if(J=(0,D.Ii)(R,je.length),(0,D.VR)(_e,J)){const Ye=z(je,R,J,_e);if(Ye)return Ye}R=J}return null}if(3===Ft.kind)return null;if(1===Ft.kind){const je=(0,D.Qw)(R,J);return{bracketInfo:Ft.bracketInfo,range:je}}return null}function k(Ft,R,J,_e,je,Ye,at,on){if(!(at>200))if(4===Ft.kind)for(const qt of Ft.children)J=(0,D.Ii)(R,qt.length),(0,D.By)(R,je)&&(0,D.Zq)(J,_e)&&k(qt,R,J,_e,je,Ye,at,on),R=J;else if(2===Ft.kind){let qt=0;if(on){let yn=on.get(Ft.openingBracket.text);void 0===yn&&(yn=0),qt=yn,yn++,on.set(Ft.openingBracket.text,yn)}if(J=(0,D.Ii)(R,Ft.openingBracket.length),(0,D.By)(R,je)&&(0,D.Zq)(J,_e)){const Tn=(0,D.Qw)(R,J);Ye.push(new u(Tn,at,qt,!Ft.closingBracket))}if(R=J,Ft.child){const yn=Ft.child;J=(0,D.Ii)(R,yn.length),(0,D.By)(R,je)&&(0,D.Zq)(J,_e)&&k(yn,R,J,_e,je,Ye,at+1,on),R=J}if(Ft.closingBracket){if(J=(0,D.Ii)(R,Ft.closingBracket.length),(0,D.By)(R,je)&&(0,D.Zq)(J,_e)){const Tn=(0,D.Qw)(R,J);Ye.push(new u(Tn,at,qt,!1))}R=J}on?.set(Ft.openingBracket.text,qt)}else if(3===Ft.kind){const qt=(0,D.Qw)(R,J);Ye.push(new u(qt,at-1,0,!0))}else if(1===Ft.kind){const qt=(0,D.Qw)(R,J);Ye.push(new u(qt,at-1,0,!1))}}class F{constructor(R,J,_e){this.result=R,this.includeMinIndentation=J,this.textModel=_e}}function j(Ft,R,J,_e,je,Ye,at,on){var qt;if(!(at>200))if(2===Ft.kind){let yn=0;if(on){let Kn=on.get(Ft.openingBracket.text);void 0===Kn&&(Kn=0),yn=Kn,Kn++,on.set(Ft.openingBracket.text,Kn)}const Tn=(0,D.Ii)(R,Ft.openingBracket.length);let Bn=-1;if(Ye.includeMinIndentation&&(Bn=Ft.computeMinIndentation(R,Ye.textModel)),Ye.result.push(new b((0,D.Qw)(R,J),(0,D.Qw)(R,Tn),Ft.closingBracket?(0,D.Qw)((0,D.Ii)(Tn,(null===(qt=Ft.child)||void 0===qt?void 0:qt.length)||D.xl),J):void 0,at,yn,Ft,Bn)),R=Tn,Ft.child){const Kn=Ft.child;J=(0,D.Ii)(R,Kn.length),(0,D.By)(R,je)&&(0,D.Zq)(J,_e)&&j(Kn,R,J,_e,je,Ye,at+1,on)}on?.set(Ft.openingBracket.text,yn)}else{let yn=R;for(const Tn of Ft.children){const Bn=yn;yn=(0,D.Ii)(yn,Tn.length),(0,D.By)(Bn,je)&&(0,D.By)(_e,yn)&&j(Tn,Bn,yn,_e,je,Ye,at,on)}}}var K=e(32309),U=e(64557);class ne extends v.JT{constructor(R,J){super(),this.textModel=R,this.languageConfigurationService=J,this.bracketPairsTree=this._register(new v.XK),this.onDidChangeEmitter=new S.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(_e=>{var je;(!_e.languageId||(null===(je=this.bracketPairsTree.value)||void 0===je?void 0:je.object.didLanguageChange(_e.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(R){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(R){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(R){var J;null===(J=this.bracketPairsTree.value)||void 0===J||J.object.handleContentChanged(R)}handleDidChangeBackgroundTokenizationState(){var R;null===(R=this.bracketPairsTree.value)||void 0===R||R.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(R){var J;null===(J=this.bracketPairsTree.value)||void 0===J||J.object.handleDidChangeTokens(R)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const R=new v.SL;this.bracketPairsTree.value=function N(Ft,R){return{object:Ft,dispose:()=>R?.dispose()}}(R.add(new V(this.textModel,J=>this.languageConfigurationService.getLanguageConfiguration(J))),R),R.add(this.bracketPairsTree.value.object.onDidChange(J=>this.onDidChangeEmitter.fire(J))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(R){var J;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(J=this.bracketPairsTree.value)||void 0===J?void 0:J.object.getBracketPairsInRange(R,!1))||[]}getBracketPairsInRangeWithMinIndentation(R){var J;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(J=this.bracketPairsTree.value)||void 0===J?void 0:J.object.getBracketPairsInRange(R,!0))||[]}getBracketsInRange(R){var J;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(J=this.bracketPairsTree.value)||void 0===J?void 0:J.object.getBracketsInRange(R))||[]}findMatchingBracketUp(R,J,_e){const je=this.textModel.validatePosition(J),Ye=this.textModel.getLanguageIdAtPosition(je.lineNumber,je.column);if(this.canBuildAST){const at=this.languageConfigurationService.getLanguageConfiguration(Ye).bracketsNew.getClosingBracketInfo(R);if(!at)return null;const on=(0,d.dF)(this.getBracketPairsInRange(s.e.fromPositions(J,J))||[],qt=>at.closes(qt.openingBracketInfo));return on?on.openingBracketRange:null}{const at=R.toLowerCase(),on=this.languageConfigurationService.getLanguageConfiguration(Ye).brackets;if(!on)return null;const qt=on.textIsBracket[at];return qt?ge(this._findMatchingBracketUp(qt,je,W(_e))):null}}matchBracket(R,J){if(this.canBuildAST){const _e=(0,d.jV)(this.getBracketPairsInRange(s.e.fromPositions(R,R)).filter(je=>void 0!==je.closingBracketRange&&(je.openingBracketRange.containsPosition(R)||je.closingBracketRange.containsPosition(R))),(0,d.tT)(je=>je.openingBracketRange.containsPosition(R)?je.openingBracketRange:je.closingBracketRange,s.e.compareRangesUsingStarts));return _e?[_e.openingBracketRange,_e.closingBracketRange]:null}{const _e=W(J);return this._matchBracket(this.textModel.validatePosition(R),_e)}}_establishBracketSearchOffsets(R,J,_e,je){const Ye=J.getCount(),at=J.getLanguageId(je);let on=Math.max(0,R.column-1-_e.maxBracketLength);for(let yn=je-1;yn>=0;yn--){const Tn=J.getEndOffset(yn);if(Tn<=on)break;if((0,K.Bu)(J.getStandardTokenType(yn))||J.getLanguageId(yn)!==at){on=Tn;break}}let qt=Math.min(J.getLineContent().length,R.column-1+_e.maxBracketLength);for(let yn=je+1;yn<Ye;yn++){const Tn=J.getStartOffset(yn);if(Tn>=qt)break;if((0,K.Bu)(J.getStandardTokenType(yn))||J.getLanguageId(yn)!==at){qt=Tn;break}}return{searchStartOffset:on,searchEndOffset:qt}}_matchBracket(R,J){const _e=R.lineNumber,je=this.textModel.tokenization.getLineTokens(_e),Ye=this.textModel.getLineContent(_e),at=je.findTokenIndexAtOffset(R.column-1);if(at<0)return null;const on=this.languageConfigurationService.getLanguageConfiguration(je.getLanguageId(at)).brackets;if(on&&!(0,K.Bu)(je.getStandardTokenType(at))){let{searchStartOffset:qt,searchEndOffset:yn}=this._establishBracketSearchOffsets(R,je,on,at),Tn=null;for(;;){const Bn=U.Vr.findNextBracketInRange(on.forwardRegex,_e,Ye,qt,yn);if(!Bn)break;if(Bn.startColumn<=R.column&&R.column<=Bn.endColumn){const Kn=Ye.substring(Bn.startColumn-1,Bn.endColumn-1).toLowerCase(),ni=this._matchFoundBracket(Bn,on.textIsBracket[Kn],on.textIsOpenBracket[Kn],J);if(ni){if(ni instanceof Z)return null;Tn=ni}}qt=Bn.endColumn-1}if(Tn)return Tn}if(at>0&&je.getStartOffset(at)===R.column-1){const qt=at-1,yn=this.languageConfigurationService.getLanguageConfiguration(je.getLanguageId(qt)).brackets;if(yn&&!(0,K.Bu)(je.getStandardTokenType(qt))){const{searchStartOffset:Tn,searchEndOffset:Bn}=this._establishBracketSearchOffsets(R,je,yn,qt),Kn=U.Vr.findPrevBracketInRange(yn.reversedRegex,_e,Ye,Tn,Bn);if(Kn&&Kn.startColumn<=R.column&&R.column<=Kn.endColumn){const ni=Ye.substring(Kn.startColumn-1,Kn.endColumn-1).toLowerCase(),hi=this._matchFoundBracket(Kn,yn.textIsBracket[ni],yn.textIsOpenBracket[ni],J);if(hi)return hi instanceof Z?null:hi}}}return null}_matchFoundBracket(R,J,_e,je){if(!J)return null;const Ye=_e?this._findMatchingBracketDown(J,R.getEndPosition(),je):this._findMatchingBracketUp(J,R.getStartPosition(),je);return Ye?Ye instanceof Z?Ye:[R,Ye]:null}_findMatchingBracketUp(R,J,_e){const je=R.languageId,Ye=R.reversedRegex;let at=-1,on=0;const qt=(yn,Tn,Bn,Kn)=>{for(;;){if(_e&&++on%100==0&&!_e())return Z.INSTANCE;const ni=U.Vr.findPrevBracketInRange(Ye,yn,Tn,Bn,Kn);if(!ni)break;const hi=Tn.substring(ni.startColumn-1,ni.endColumn-1).toLowerCase();if(R.isOpen(hi)?at++:R.isClose(hi)&&at--,0===at)return ni;Kn=ni.startColumn-1}return null};for(let yn=J.lineNumber;yn>=1;yn--){const Tn=this.textModel.tokenization.getLineTokens(yn),Bn=Tn.getCount(),Kn=this.textModel.getLineContent(yn);let ni=Bn-1,hi=Kn.length,fi=Kn.length;yn===J.lineNumber&&(ni=Tn.findTokenIndexAtOffset(J.column-1),hi=J.column-1,fi=J.column-1);let Rt=!0;for(;ni>=0;ni--){const ee=Tn.getLanguageId(ni)===je&&!(0,K.Bu)(Tn.getStandardTokenType(ni));if(ee)Rt?hi=Tn.getStartOffset(ni):(hi=Tn.getStartOffset(ni),fi=Tn.getEndOffset(ni));else if(Rt&&hi!==fi){const fe=qt(yn,Kn,hi,fi);if(fe)return fe}Rt=ee}if(Rt&&hi!==fi){const ee=qt(yn,Kn,hi,fi);if(ee)return ee}}return null}_findMatchingBracketDown(R,J,_e){const je=R.languageId,Ye=R.forwardRegex;let at=1,on=0;const qt=(Tn,Bn,Kn,ni)=>{for(;;){if(_e&&++on%100==0&&!_e())return Z.INSTANCE;const hi=U.Vr.findNextBracketInRange(Ye,Tn,Bn,Kn,ni);if(!hi)break;const fi=Bn.substring(hi.startColumn-1,hi.endColumn-1).toLowerCase();if(R.isOpen(fi)?at++:R.isClose(fi)&&at--,0===at)return hi;Kn=hi.endColumn-1}return null},yn=this.textModel.getLineCount();for(let Tn=J.lineNumber;Tn<=yn;Tn++){const Bn=this.textModel.tokenization.getLineTokens(Tn),Kn=Bn.getCount(),ni=this.textModel.getLineContent(Tn);let hi=0,fi=0,Rt=0;Tn===J.lineNumber&&(hi=Bn.findTokenIndexAtOffset(J.column-1),fi=J.column-1,Rt=J.column-1);let ee=!0;for(;hi<Kn;hi++){const fe=Bn.getLanguageId(hi)===je&&!(0,K.Bu)(Bn.getStandardTokenType(hi));if(fe)ee||(fi=Bn.getStartOffset(hi)),Rt=Bn.getEndOffset(hi);else if(ee&&fi!==Rt){const it=qt(Tn,ni,fi,Rt);if(it)return it}ee=fe}if(ee&&fi!==Rt){const fe=qt(Tn,ni,fi,Rt);if(fe)return fe}}return null}findPrevBracket(R){var J;const _e=this.textModel.validatePosition(R);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(J=this.bracketPairsTree.value)||void 0===J?void 0:J.object.getFirstBracketBefore(_e))||null;let je=null,Ye=null,at=null;for(let on=_e.lineNumber;on>=1;on--){const qt=this.textModel.tokenization.getLineTokens(on),yn=qt.getCount(),Tn=this.textModel.getLineContent(on);let Bn=yn-1,Kn=Tn.length,ni=Tn.length;if(on===_e.lineNumber){Bn=qt.findTokenIndexAtOffset(_e.column-1),Kn=_e.column-1,ni=_e.column-1;const fi=qt.getLanguageId(Bn);je!==fi&&(je=fi,Ye=this.languageConfigurationService.getLanguageConfiguration(je).brackets,at=this.languageConfigurationService.getLanguageConfiguration(je).bracketsNew)}let hi=!0;for(;Bn>=0;Bn--){const fi=qt.getLanguageId(Bn);if(je!==fi){if(Ye&&at&&hi&&Kn!==ni){const ee=U.Vr.findPrevBracketInRange(Ye.reversedRegex,on,Tn,Kn,ni);if(ee)return this._toFoundBracket(at,ee);hi=!1}je=fi,Ye=this.languageConfigurationService.getLanguageConfiguration(je).brackets,at=this.languageConfigurationService.getLanguageConfiguration(je).bracketsNew}const Rt=!!Ye&&!(0,K.Bu)(qt.getStandardTokenType(Bn));if(Rt)hi?Kn=qt.getStartOffset(Bn):(Kn=qt.getStartOffset(Bn),ni=qt.getEndOffset(Bn));else if(at&&Ye&&hi&&Kn!==ni){const ee=U.Vr.findPrevBracketInRange(Ye.reversedRegex,on,Tn,Kn,ni);if(ee)return this._toFoundBracket(at,ee)}hi=Rt}if(at&&Ye&&hi&&Kn!==ni){const fi=U.Vr.findPrevBracketInRange(Ye.reversedRegex,on,Tn,Kn,ni);if(fi)return this._toFoundBracket(at,fi)}}return null}findNextBracket(R){var J;const _e=this.textModel.validatePosition(R);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(J=this.bracketPairsTree.value)||void 0===J?void 0:J.object.getFirstBracketAfter(_e))||null;const je=this.textModel.getLineCount();let Ye=null,at=null,on=null;for(let qt=_e.lineNumber;qt<=je;qt++){const yn=this.textModel.tokenization.getLineTokens(qt),Tn=yn.getCount(),Bn=this.textModel.getLineContent(qt);let Kn=0,ni=0,hi=0;if(qt===_e.lineNumber){Kn=yn.findTokenIndexAtOffset(_e.column-1),ni=_e.column-1,hi=_e.column-1;const Rt=yn.getLanguageId(Kn);Ye!==Rt&&(Ye=Rt,at=this.languageConfigurationService.getLanguageConfiguration(Ye).brackets,on=this.languageConfigurationService.getLanguageConfiguration(Ye).bracketsNew)}let fi=!0;for(;Kn<Tn;Kn++){const Rt=yn.getLanguageId(Kn);if(Ye!==Rt){if(on&&at&&fi&&ni!==hi){const fe=U.Vr.findNextBracketInRange(at.forwardRegex,qt,Bn,ni,hi);if(fe)return this._toFoundBracket(on,fe);fi=!1}Ye=Rt,at=this.languageConfigurationService.getLanguageConfiguration(Ye).brackets,on=this.languageConfigurationService.getLanguageConfiguration(Ye).bracketsNew}const ee=!!at&&!(0,K.Bu)(yn.getStandardTokenType(Kn));if(ee)fi||(ni=yn.getStartOffset(Kn)),hi=yn.getEndOffset(Kn);else if(on&&at&&fi&&ni!==hi){const fe=U.Vr.findNextBracketInRange(at.forwardRegex,qt,Bn,ni,hi);if(fe)return this._toFoundBracket(on,fe)}fi=ee}if(on&&at&&fi&&ni!==hi){const Rt=U.Vr.findNextBracketInRange(at.forwardRegex,qt,Bn,ni,hi);if(Rt)return this._toFoundBracket(on,Rt)}}return null}findEnclosingBrackets(R,J){const _e=this.textModel.validatePosition(R);if(this.canBuildAST){const ni=s.e.fromPositions(_e),hi=(0,d.dF)(this.getBracketPairsInRange(s.e.fromPositions(_e,_e)),fi=>void 0!==fi.closingBracketRange&&fi.range.strictContainsRange(ni));return hi?[hi.openingBracketRange,hi.closingBracketRange]:null}const je=W(J),Ye=this.textModel.getLineCount(),at=new Map;let on=[];const qt=(ni,hi)=>{if(!at.has(ni)){const fi=[];for(let Rt=0,ee=hi?hi.brackets.length:0;Rt<ee;Rt++)fi[Rt]=0;at.set(ni,fi)}on=at.get(ni)};let yn=0;const Tn=(ni,hi,fi,Rt,ee)=>{for(;;){if(je&&++yn%100==0&&!je())return Z.INSTANCE;const fe=U.Vr.findNextBracketInRange(ni.forwardRegex,hi,fi,Rt,ee);if(!fe)break;const it=fi.substring(fe.startColumn-1,fe.endColumn-1).toLowerCase(),It=ni.textIsBracket[it];if(It&&(It.isOpen(it)?on[It.index]++:It.isClose(it)&&on[It.index]--,-1===on[It.index]))return this._matchFoundBracket(fe,It,!1,je);Rt=fe.endColumn-1}return null};let Bn=null,Kn=null;for(let ni=_e.lineNumber;ni<=Ye;ni++){const hi=this.textModel.tokenization.getLineTokens(ni),fi=hi.getCount(),Rt=this.textModel.getLineContent(ni);let ee=0,fe=0,it=0;if(ni===_e.lineNumber){ee=hi.findTokenIndexAtOffset(_e.column-1),fe=_e.column-1,it=_e.column-1;const en=hi.getLanguageId(ee);Bn!==en&&(Bn=en,Kn=this.languageConfigurationService.getLanguageConfiguration(Bn).brackets,qt(Bn,Kn))}let It=!0;for(;ee<fi;ee++){const en=hi.getLanguageId(ee);if(Bn!==en){if(Kn&&It&&fe!==it){const q=Tn(Kn,ni,Rt,fe,it);if(q)return ge(q);It=!1}Bn=en,Kn=this.languageConfigurationService.getLanguageConfiguration(Bn).brackets,qt(Bn,Kn)}const Tt=!!Kn&&!(0,K.Bu)(hi.getStandardTokenType(ee));if(Tt)It||(fe=hi.getStartOffset(ee)),it=hi.getEndOffset(ee);else if(Kn&&It&&fe!==it){const q=Tn(Kn,ni,Rt,fe,it);if(q)return ge(q)}It=Tt}if(Kn&&It&&fe!==it){const en=Tn(Kn,ni,Rt,fe,it);if(en)return ge(en)}}return null}_toFoundBracket(R,J){if(!J)return null;let _e=this.textModel.getValueInRange(J);_e=_e.toLowerCase();const je=R.getBracketInfo(_e);return je?{range:J,bracketInfo:je}:null}}function W(Ft){if(typeof Ft>"u")return()=>!0;{const R=Date.now();return()=>Date.now()-R<=Ft}}class Z{constructor(){this._searchCanceledBrand=void 0}}function ge(Ft){return Ft instanceof Z?null:Ft}Z.INSTANCE=new Z;var M=e(43944),we=e(40902);class Ee extends v.JT{constructor(R){super(),this.textModel=R,this.colorProvider=new xe,this.onDidChangeEmitter=new S.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=R.getOptions().bracketPairColorizationOptions,this._register(R.bracketPairs.onDidChange(J=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(R){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(R,J,_e){if(void 0===J)return[];if(!this.colorizationOptions.enabled)return[];const je=new Array,Ye=this.textModel.bracketPairs.getBracketsInRange(R);for(const at of Ye)je.push({id:`bracket${at.range.toString()}-${at.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(at,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:at.range});return je}getAllDecorations(R,J){return void 0===R?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new s.e(1,1,this.textModel.getLineCount(),1),R,J):[]}}class xe{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(R,J){return R.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(J?R.nestingLevelOfEqualBracketType:R.nestingLevel)}getInlineClassNameOfLevel(R){return"bracket-highlighting-"+R%30}}(0,we.Ic)((Ft,R)=>{const J=[M.zJ,M.Vs,M.CE,M.UP,M.r0,M.m1],_e=new xe;R.addRule(`.monaco-editor .${_e.unexpectedClosingBracketClassName} { color: ${Ft.getColor(M.ts)}; }`);const je=J.map(Ye=>Ft.getColor(Ye)).filter(Ye=>!!Ye).filter(Ye=>!Ye.isTransparent());for(let Ye=0;Ye<30;Ye++){const at=je[Ye%je.length];R.addRule(`.monaco-editor .${_e.getInlineClassNameOfLevel(Ye)} { color: ${at}; }`)}});var Ne=e(83183),oe=e(29595);class Se{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Ie(Ft,R,J,_e,je){let Ye;for(je.spacesDiff=0,je.looksLikeAlignment=!1,Ye=0;Ye<R&&Ye<_e&&Ft.charCodeAt(Ye)===J.charCodeAt(Ye);Ye++);let at=0,on=0;for(let Kn=Ye;Kn<R;Kn++)32===Ft.charCodeAt(Kn)?at++:on++;let qt=0,yn=0;for(let Kn=Ye;Kn<_e;Kn++)32===J.charCodeAt(Kn)?qt++:yn++;if(at>0&&on>0||qt>0&&yn>0)return;const Tn=Math.abs(on-yn),Bn=Math.abs(at-qt);if(0===Tn)return je.spacesDiff=Bn,void(Bn>0&&0<=qt-1&&qt-1<Ft.length&&qt<J.length&&32!==J.charCodeAt(qt)&&32===Ft.charCodeAt(qt-1)&&44===Ft.charCodeAt(Ft.length-1)&&(je.looksLikeAlignment=!0));Bn%Tn!=0||(je.spacesDiff=Bn/Tn)}function me(Ft,R,J){const _e=Math.min(Ft.getLineCount(),1e4);let je=0,Ye=0,at="",on=0;const qt=[2,4,6,8,3,5,7],Tn=[0,0,0,0,0,0,0,0,0],Bn=new Se;for(let hi=1;hi<=_e;hi++){const fi=Ft.getLineLength(hi),Rt=Ft.getLineContent(hi),ee=fi<=65536;let fe=!1,it=0,It=0,en=0;for(let q=0,Te=fi;q<Te;q++){const rt=ee?Rt.charCodeAt(q):Ft.getLineCharCode(hi,q);if(9===rt)en++;else{if(32!==rt){fe=!0,it=q;break}It++}}if(!fe||(en>0?je++:It>1&&Ye++,Ie(at,on,Rt,it,Bn),Bn.looksLikeAlignment&&(!J||R!==Bn.spacesDiff)))continue;const Tt=Bn.spacesDiff;Tt<=8&&Tn[Tt]++,at=Rt,on=it}let Kn=J;je!==Ye&&(Kn=je<Ye);let ni=R;if(Kn){let hi=Kn?0:.1*_e;qt.forEach(fi=>{const Rt=Tn[fi];Rt>hi&&(hi=Rt,ni=fi)}),4===ni&&Tn[4]>0&&Tn[2]>0&&Tn[2]>=Tn[4]/2&&(ni=2)}return{insertSpaces:Kn,tabSize:ni}}function Me(Ft){return(1&Ft.metadata)>>>0}function de(Ft,R){Ft.metadata=254&Ft.metadata|R<<0}function ke(Ft){return(2&Ft.metadata)>>>1==1}function Ue(Ft,R){Ft.metadata=253&Ft.metadata|(R?1:0)<<1}function ze(Ft){return(4&Ft.metadata)>>>2==1}function ce(Ft,R){Ft.metadata=251&Ft.metadata|(R?1:0)<<2}function tt(Ft,R){Ft.metadata=231&Ft.metadata|R<<3}function Lt(Ft,R){Ft.metadata=223&Ft.metadata|(R?1:0)<<5}class $e{constructor(R,J,_e){this.metadata=0,this.parent=this,this.left=this,this.right=this,de(this,1),this.start=J,this.end=_e,this.delta=0,this.maxEnd=_e,this.id=R,this.ownerId=0,this.options=null,ce(this,!1),tt(this,1),Lt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=_e,this.range=null,Ue(this,!1)}reset(R,J,_e,je){this.start=J,this.end=_e,this.maxEnd=_e,this.cachedVersionId=R,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=_e,this.range=je}setOptions(R){this.options=R;const J=this.options.className;ce(this,"squiggly-error"===J||"squiggly-warning"===J||"squiggly-info"===J),tt(this,this.options.stickiness),Lt(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(R,J,_e){this.cachedVersionId!==_e&&(this.range=null),this.cachedVersionId=_e,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=J}detach(){this.parent=null,this.left=null,this.right=null}}const ae=new $e(null,0,0);ae.parent=ae,ae.left=ae,ae.right=ae,de(ae,0);class ve{constructor(){this.root=ae,this.requestNormalizeDelta=!1}intervalSearch(R,J,_e,je,Ye){return this.root===ae?[]:function Qe(Ft,R,J,_e,je,Ye){let at=Ft.root,on=0,qt=0,yn=0,Tn=0;const Bn=[];let Kn=0;for(;at!==ae;)if(ke(at))Ue(at.left,!1),Ue(at.right,!1),at===at.parent.right&&(on-=at.parent.delta),at=at.parent;else{if(!ke(at.left)){if(qt=on+at.maxEnd,qt<R){Ue(at,!0);continue}if(at.left!==ae){at=at.left;continue}}if(yn=on+at.start,yn>J)Ue(at,!0);else{if(Tn=on+at.end,Tn>=R){at.setCachedOffsets(yn,Tn,Ye);let ni=!0;_e&&at.ownerId&&at.ownerId!==_e&&(ni=!1),je&&ze(at)&&(ni=!1),ni&&(Bn[Kn++]=at)}Ue(at,!0),at.right===ae||ke(at.right)||(on+=at.delta,at=at.right)}}return Ue(Ft.root,!1),Bn}(this,R,J,_e,je,Ye)}search(R,J,_e){return this.root===ae?[]:function qe(Ft,R,J,_e){let je=Ft.root,Ye=0,at=0,on=0;const qt=[];let yn=0;for(;je!==ae;){if(ke(je)){Ue(je.left,!1),Ue(je.right,!1),je===je.parent.right&&(Ye-=je.parent.delta),je=je.parent;continue}if(je.left!==ae&&!ke(je.left)){je=je.left;continue}at=Ye+je.start,on=Ye+je.end,je.setCachedOffsets(at,on,_e);let Tn=!0;R&&je.ownerId&&je.ownerId!==R&&(Tn=!1),J&&ze(je)&&(Tn=!1),Tn&&(qt[yn++]=je),Ue(je,!0),je.right===ae||ke(je.right)||(Ye+=je.delta,je=je.right)}return Ue(Ft.root,!1),qt}(this,R,J,_e)}collectNodesFromOwner(R){return function dt(Ft,R){let J=Ft.root;const _e=[];let je=0;for(;J!==ae;)ke(J)?(Ue(J.left,!1),Ue(J.right,!1),J=J.parent):J.left===ae||ke(J.left)?(J.ownerId===R&&(_e[je++]=J),Ue(J,!0),J.right===ae||ke(J.right)||(J=J.right)):J=J.left;return Ue(Ft.root,!1),_e}(this,R)}collectNodesPostOrder(){return function st(Ft){let R=Ft.root;const J=[];let _e=0;for(;R!==ae;)ke(R)?(Ue(R.left,!1),Ue(R.right,!1),R=R.parent):R.left===ae||ke(R.left)?R.right===ae||ke(R.right)?(J[_e++]=R,Ue(R,!0)):R=R.right:R=R.left;return Ue(Ft.root,!1),J}(this)}insert(R){et(this,R),this._normalizeDeltaIfNecessary()}delete(R){mt(this,R),this._normalizeDeltaIfNecessary()}resolveNode(R,J){const _e=R;let je=0;for(;R!==this.root;)R===R.parent.right&&(je+=R.parent.delta),R=R.parent;_e.setCachedOffsets(_e.start+je,_e.end+je,J)}acceptReplace(R,J,_e,je){const Ye=function Ce(Ft,R,J){let _e=Ft.root,je=0,Ye=0,at=0,on=0;const qt=[];let yn=0;for(;_e!==ae;)if(ke(_e))Ue(_e.left,!1),Ue(_e.right,!1),_e===_e.parent.right&&(je-=_e.parent.delta),_e=_e.parent;else{if(!ke(_e.left)){if(Ye=je+_e.maxEnd,Ye<R){Ue(_e,!0);continue}if(_e.left!==ae){_e=_e.left;continue}}at=je+_e.start,at>J?Ue(_e,!0):(on=je+_e.end,on>=R&&(_e.setCachedOffsets(at,on,0),qt[yn++]=_e),Ue(_e,!0),_e.right===ae||ke(_e.right)||(je+=_e.delta,_e=_e.right))}return Ue(Ft.root,!1),qt}(this,R,R+J);for(let at=0,on=Ye.length;at<on;at++)mt(this,Ye[at]);this._normalizeDeltaIfNecessary(),function Pe(Ft,R,J,_e){let je=Ft.root,Ye=0,at=0,on=0;const qt=_e-(J-R);for(;je!==ae;)if(ke(je))Ue(je.left,!1),Ue(je.right,!1),je===je.parent.right&&(Ye-=je.parent.delta),jt(je),je=je.parent;else{if(!ke(je.left)){if(at=Ye+je.maxEnd,at<R){Ue(je,!0);continue}if(je.left!==ae){je=je.left;continue}}on=Ye+je.start,on>J?(je.start+=qt,je.end+=qt,je.delta+=qt,(je.delta<-1073741824||je.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),Ue(je,!0)):(Ue(je,!0),je.right===ae||ke(je.right)||(Ye+=je.delta,je=je.right))}Ue(Ft.root,!1)}(this,R,R+J,_e),this._normalizeDeltaIfNecessary();for(let at=0,on=Ye.length;at<on;at++){const qt=Ye[at];qt.start=qt.cachedAbsoluteStart,qt.end=qt.cachedAbsoluteEnd,Q(qt,R,R+J,_e,je),qt.maxEnd=qt.end,et(this,qt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function he(Ft){let R=Ft.root,J=0;for(;R!==ae;)R.left===ae||ke(R.left)?R.right===ae||ke(R.right)?(R.start=J+R.start,R.end=J+R.end,R.delta=0,jt(R),Ue(R,!0),Ue(R.left,!1),Ue(R.right,!1),R===R.parent.right&&(J-=R.parent.delta),R=R.parent):(J+=R.delta,R=R.right):R=R.left;Ue(Ft.root,!1)}(this))}}function le(Ft,R,J,_e){return Ft<J||!(Ft>J||1===_e)&&(2===_e||R)}function Q(Ft,R,J,_e,je){const Ye=function Ve(Ft){return(24&Ft.metadata)>>>3}(Ft),at=0===Ye||2===Ye,on=1===Ye||2===Ye,qt=J-R,yn=_e,Tn=Math.min(qt,yn),Bn=Ft.start;let Kn=!1;const ni=Ft.end;let hi=!1;R<=Bn&&ni<=J&&function Ct(Ft){return(32&Ft.metadata)>>>5==1}(Ft)&&(Ft.start=R,Kn=!0,Ft.end=R,hi=!0);{const Rt=je?1:qt>0?2:0;!Kn&&le(Bn,at,R,Rt)&&(Kn=!0),!hi&&le(ni,on,R,Rt)&&(hi=!0)}if(Tn>0&&!je){const Rt=qt>yn?2:0;!Kn&&le(Bn,at,R+Tn,Rt)&&(Kn=!0),!hi&&le(ni,on,R+Tn,Rt)&&(hi=!0)}{const Rt=je?1:0;!Kn&&le(Bn,at,J,Rt)&&(Ft.start=R+yn,Kn=!0),!hi&&le(ni,on,J,Rt)&&(Ft.end=R+yn,hi=!0)}const fi=yn-qt;Kn||(Ft.start=Math.max(0,Bn+fi)),hi||(Ft.end=Math.max(0,ni+fi)),Ft.start>Ft.end&&(Ft.end=Ft.start)}function et(Ft,R){if(Ft.root===ae)return R.parent=ae,R.left=ae,R.right=ae,de(R,0),Ft.root=R,Ft.root;(function vt(Ft,R){let J=0,_e=Ft.root;const je=R.start,Ye=R.end;for(;;)if(Dn(je,Ye,_e.start+J,_e.end+J)<0){if(_e.left===ae){R.start-=J,R.end-=J,R.maxEnd-=J,_e.left=R;break}_e=_e.left}else{if(_e.right===ae){R.start-=J+_e.delta,R.end-=J+_e.delta,R.maxEnd-=J+_e.delta,_e.right=R;break}J+=_e.delta,_e=_e.right}R.parent=_e,R.left=ae,R.right=ae,de(R,1)})(Ft,R),fn(R.parent);let J=R;for(;J!==Ft.root&&1===Me(J.parent);)if(J.parent===J.parent.parent.left){const _e=J.parent.parent.right;1===Me(_e)?(de(J.parent,0),de(_e,0),de(J.parent.parent,1),J=J.parent.parent):(J===J.parent.right&&(J=J.parent,Bt(Ft,J)),de(J.parent,0),de(J.parent.parent,1),Ke(Ft,J.parent.parent))}else{const _e=J.parent.parent.left;1===Me(_e)?(de(J.parent,0),de(_e,0),de(J.parent.parent,1),J=J.parent.parent):(J===J.parent.left&&(J=J.parent,Ke(Ft,J)),de(J.parent,0),de(J.parent.parent,1),Bt(Ft,J.parent.parent))}return de(Ft.root,0),R}function mt(Ft,R){let J,_e;if(R.left===ae?(J=R.right,_e=R,J.delta+=R.delta,(J.delta<-1073741824||J.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),J.start+=R.delta,J.end+=R.delta):R.right===ae?(J=R.left,_e=R):(_e=function _t(Ft){for(;Ft.left!==ae;)Ft=Ft.left;return Ft}(R.right),J=_e.right,J.start+=_e.delta,J.end+=_e.delta,J.delta+=_e.delta,(J.delta<-1073741824||J.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),_e.start+=R.delta,_e.end+=R.delta,_e.delta=R.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(Ft.requestNormalizeDelta=!0)),_e===Ft.root)return Ft.root=J,de(J,0),R.detach(),$t(),jt(J),void(Ft.root.parent=ae);const je=1===Me(_e);if(_e===_e.parent.left?_e.parent.left=J:_e.parent.right=J,_e===R?J.parent=_e.parent:(J.parent=_e.parent===R?_e:_e.parent,_e.left=R.left,_e.right=R.right,_e.parent=R.parent,de(_e,Me(R)),R===Ft.root?Ft.root=_e:R===R.parent.left?R.parent.left=_e:R.parent.right=_e,_e.left!==ae&&(_e.left.parent=_e),_e.right!==ae&&(_e.right.parent=_e)),R.detach(),je)return fn(J.parent),_e!==R&&(fn(_e),fn(_e.parent)),void $t();let Ye;for(fn(J),fn(J.parent),_e!==R&&(fn(_e),fn(_e.parent));J!==Ft.root&&0===Me(J);)J===J.parent.left?(Ye=J.parent.right,1===Me(Ye)&&(de(Ye,0),de(J.parent,1),Bt(Ft,J.parent),Ye=J.parent.right),0===Me(Ye.left)&&0===Me(Ye.right)?(de(Ye,1),J=J.parent):(0===Me(Ye.right)&&(de(Ye.left,0),de(Ye,1),Ke(Ft,Ye),Ye=J.parent.right),de(Ye,Me(J.parent)),de(J.parent,0),de(Ye.right,0),Bt(Ft,J.parent),J=Ft.root)):(Ye=J.parent.left,1===Me(Ye)&&(de(Ye,0),de(J.parent,1),Ke(Ft,J.parent),Ye=J.parent.left),0===Me(Ye.left)&&0===Me(Ye.right)?(de(Ye,1),J=J.parent):(0===Me(Ye.left)&&(de(Ye.right,0),de(Ye,1),Bt(Ft,Ye),Ye=J.parent.left),de(Ye,Me(J.parent)),de(J.parent,0),de(Ye.left,0),Ke(Ft,J.parent),J=Ft.root));de(J,0),$t()}function $t(){ae.parent=ae,ae.delta=0,ae.start=0,ae.end=0}function Bt(Ft,R){const J=R.right;J.delta+=R.delta,(J.delta<-1073741824||J.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),J.start+=R.delta,J.end+=R.delta,R.right=J.left,J.left!==ae&&(J.left.parent=R),J.parent=R.parent,R.parent===ae?Ft.root=J:R===R.parent.left?R.parent.left=J:R.parent.right=J,J.left=R,R.parent=J,jt(R),jt(J)}function Ke(Ft,R){const J=R.left;R.delta-=J.delta,(R.delta<-1073741824||R.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),R.start-=J.delta,R.end-=J.delta,R.left=J.right,J.right!==ae&&(J.right.parent=R),J.parent=R.parent,R.parent===ae?Ft.root=J:R===R.parent.right?R.parent.right=J:R.parent.left=J,J.right=R,R.parent=J,jt(R),jt(J)}function ht(Ft){let R=Ft.end;if(Ft.left!==ae){const J=Ft.left.maxEnd;J>R&&(R=J)}if(Ft.right!==ae){const J=Ft.right.maxEnd+Ft.delta;J>R&&(R=J)}return R}function jt(Ft){Ft.maxEnd=ht(Ft)}function fn(Ft){for(;Ft!==ae;){const R=ht(Ft);if(Ft.maxEnd===R)return;Ft.maxEnd=R,Ft=Ft.parent}}function Dn(Ft,R,J,_e){return Ft===J?R-_e:Ft-J}class yt{constructor(R,J){this.piece=R,this.color=J,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==He)return ye(this.right);let R=this;for(;R.parent!==He&&R.parent.left!==R;)R=R.parent;return R.parent===He?He:R.parent}prev(){if(this.left!==He)return Ae(this.left);let R=this;for(;R.parent!==He&&R.parent.right!==R;)R=R.parent;return R.parent===He?He:R.parent}detach(){this.parent=null,this.left=null,this.right=null}}const He=new yt(null,0);function ye(Ft){for(;Ft.left!==He;)Ft=Ft.left;return Ft}function Ae(Ft){for(;Ft.right!==He;)Ft=Ft.right;return Ft}function ue(Ft){return Ft===He?0:Ft.size_left+Ft.piece.length+ue(Ft.right)}function be(Ft){return Ft===He?0:Ft.lf_left+Ft.piece.lineFeedCnt+be(Ft.right)}function Je(){He.parent=He}function Fe(Ft,R){const J=R.right;J.size_left+=R.size_left+(R.piece?R.piece.length:0),J.lf_left+=R.lf_left+(R.piece?R.piece.lineFeedCnt:0),R.right=J.left,J.left!==He&&(J.left.parent=R),J.parent=R.parent,R.parent===He?Ft.root=J:R.parent.left===R?R.parent.left=J:R.parent.right=J,J.left=R,R.parent=J}function nt(Ft,R){const J=R.left;R.left=J.right,J.right!==He&&(J.right.parent=R),J.parent=R.parent,R.size_left-=J.size_left+(J.piece?J.piece.length:0),R.lf_left-=J.lf_left+(J.piece?J.piece.lineFeedCnt:0),R.parent===He?Ft.root=J:R===R.parent.right?R.parent.right=J:R.parent.left=J,J.right=R,R.parent=J}function bt(Ft,R){let J,_e;if(R.left===He?(_e=R,J=_e.right):R.right===He?(_e=R,J=_e.left):(_e=ye(R.right),J=_e.right),_e===Ft.root)return Ft.root=J,J.color=0,R.detach(),Je(),void(Ft.root.parent=He);const je=1===_e.color;if(_e===_e.parent.left?_e.parent.left=J:_e.parent.right=J,_e===R?(J.parent=_e.parent,Mn(Ft,J)):(J.parent=_e.parent===R?_e:_e.parent,Mn(Ft,J),_e.left=R.left,_e.right=R.right,_e.parent=R.parent,_e.color=R.color,R===Ft.root?Ft.root=_e:R===R.parent.left?R.parent.left=_e:R.parent.right=_e,_e.left!==He&&(_e.left.parent=_e),_e.right!==He&&(_e.right.parent=_e),_e.size_left=R.size_left,_e.lf_left=R.lf_left,Mn(Ft,_e)),R.detach(),J.parent.left===J){const at=ue(J),on=be(J);if(at!==J.parent.size_left||on!==J.parent.lf_left){const qt=at-J.parent.size_left,yn=on-J.parent.lf_left;J.parent.size_left=at,J.parent.lf_left=on,vn(Ft,J.parent,qt,yn)}}if(Mn(Ft,J.parent),je)return void Je();let Ye;for(;J!==Ft.root&&0===J.color;)J===J.parent.left?(Ye=J.parent.right,1===Ye.color&&(Ye.color=0,J.parent.color=1,Fe(Ft,J.parent),Ye=J.parent.right),0===Ye.left.color&&0===Ye.right.color?(Ye.color=1,J=J.parent):(0===Ye.right.color&&(Ye.left.color=0,Ye.color=1,nt(Ft,Ye),Ye=J.parent.right),Ye.color=J.parent.color,J.parent.color=0,Ye.right.color=0,Fe(Ft,J.parent),J=Ft.root)):(Ye=J.parent.left,1===Ye.color&&(Ye.color=0,J.parent.color=1,nt(Ft,J.parent),Ye=J.parent.left),0===Ye.left.color&&0===Ye.right.color?(Ye.color=1,J=J.parent):(0===Ye.left.color&&(Ye.right.color=0,Ye.color=1,Fe(Ft,Ye),Ye=J.parent.left),Ye.color=J.parent.color,J.parent.color=0,Ye.left.color=0,nt(Ft,J.parent),J=Ft.root));J.color=0,Je()}function Ut(Ft,R){for(Mn(Ft,R);R!==Ft.root&&1===R.parent.color;)if(R.parent===R.parent.parent.left){const J=R.parent.parent.right;1===J.color?(R.parent.color=0,J.color=0,R.parent.parent.color=1,R=R.parent.parent):(R===R.parent.right&&Fe(Ft,R=R.parent),R.parent.color=0,R.parent.parent.color=1,nt(Ft,R.parent.parent))}else{const J=R.parent.parent.left;1===J.color?(R.parent.color=0,J.color=0,R.parent.parent.color=1,R=R.parent.parent):(R===R.parent.left&&nt(Ft,R=R.parent),R.parent.color=0,R.parent.parent.color=1,Fe(Ft,R.parent.parent))}Ft.root.color=0}function vn(Ft,R,J,_e){for(;R!==Ft.root&&R!==He;)R.parent.left===R&&(R.parent.size_left+=J,R.parent.lf_left+=_e),R=R.parent}function Mn(Ft,R){let J=0,_e=0;if(R!==Ft.root){for(;R!==Ft.root&&R===R.parent.right;)R=R.parent;if(R!==Ft.root)for(J=ue((R=R.parent).left)-R.size_left,_e=be(R.left)-R.lf_left,R.size_left+=J,R.lf_left+=_e;R!==Ft.root&&(0!==J||0!==_e);)R.parent.left===R&&(R.parent.size_left+=J,R.parent.lf_left+=_e),R=R.parent}}He.parent=He,He.left=He,He.right=He,He.color=0;var St=e(56952);const gn=65535;function Vn(Ft){let R;return R=Ft[Ft.length-1]<65536?new Uint16Array(Ft.length):new Uint32Array(Ft.length),R.set(Ft,0),R}class Sn{constructor(R,J,_e,je,Ye){this.lineStarts=R,this.cr=J,this.lf=_e,this.crlf=je,this.isBasicASCII=Ye}}function Gn(Ft,R=!0){const J=[0];let _e=1;for(let je=0,Ye=Ft.length;je<Ye;je++){const at=Ft.charCodeAt(je);13===at?je+1<Ye&&10===Ft.charCodeAt(je+1)?(J[_e++]=je+2,je++):J[_e++]=je+1:10===at&&(J[_e++]=je+1)}return R?Vn(J):J}class ii{constructor(R,J,_e,je,Ye){this.bufferIndex=R,this.start=J,this.end=_e,this.lineFeedCnt=je,this.length=Ye}}class Ei{constructor(R,J){this.buffer=R,this.lineStarts=J}}class no{constructor(R,J){this._pieces=[],this._tree=R,this._BOM=J,this._index=0,R.root!==He&&R.iterate(R.root,_e=>(_e!==He&&this._pieces.push(_e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class to{constructor(R){this._limit=R,this._cache=[]}get(R){for(let J=this._cache.length-1;J>=0;J--){const _e=this._cache[J];if(_e.nodeStartOffset<=R&&_e.nodeStartOffset+_e.node.piece.length>=R)return _e}return null}get2(R){for(let J=this._cache.length-1;J>=0;J--){const _e=this._cache[J];if(_e.nodeStartLineNumber&&_e.nodeStartLineNumber<R&&_e.nodeStartLineNumber+_e.node.piece.lineFeedCnt>=R)return _e}return null}set(R){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(R)}validate(R){let J=!1;const _e=this._cache;for(let je=0;je<_e.length;je++){const Ye=_e[je];(null===Ye.node.parent||Ye.nodeStartOffset>=R)&&(_e[je]=null,J=!0)}if(J){const je=[];for(const Ye of _e)null!==Ye&&je.push(Ye);this._cache=je}}}class Co{constructor(R,J,_e){this.create(R,J,_e)}create(R,J,_e){this._buffers=[new Ei("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=He,this._lineCnt=1,this._length=0,this._EOL=J,this._EOLLength=J.length,this._EOLNormalized=_e;let je=null;for(let Ye=0,at=R.length;Ye<at;Ye++)if(R[Ye].buffer.length>0){R[Ye].lineStarts||(R[Ye].lineStarts=Gn(R[Ye].buffer));const on=new ii(Ye+1,{line:0,column:0},{line:R[Ye].lineStarts.length-1,column:R[Ye].buffer.length-R[Ye].lineStarts[R[Ye].lineStarts.length-1]},R[Ye].lineStarts.length-1,R[Ye].buffer.length);this._buffers.push(R[Ye]),je=this.rbInsertRight(je,on)}this._searchCache=new to(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(R){const _e=65535-Math.floor(21845),je=2*_e;let Ye="",at=0;const on=[];if(this.iterate(this.root,qt=>{const yn=this.getNodeContent(qt),Tn=yn.length;if(at<=_e||at+Tn<je)return Ye+=yn,at+=Tn,!0;const Bn=Ye.replace(/\r\n|\r|\n/g,R);return on.push(new Ei(Bn,Gn(Bn))),Ye=yn,at=Tn,!0}),at>0){const qt=Ye.replace(/\r\n|\r|\n/g,R);on.push(new Ei(qt,Gn(qt)))}this.create(on,R,!0)}getEOL(){return this._EOL}setEOL(R){this._EOL=R,this._EOLLength=this._EOL.length,this.normalizeEOL(R)}createSnapshot(R){return new no(this,R)}getOffsetAt(R,J){let _e=0,je=this.root;for(;je!==He;)if(je.left!==He&&je.lf_left+1>=R)je=je.left;else{if(je.lf_left+je.piece.lineFeedCnt+1>=R)return _e+=je.size_left,_e+(this.getAccumulatedValue(je,R-je.lf_left-2)+J-1);R-=je.lf_left+je.piece.lineFeedCnt,_e+=je.size_left+je.piece.length,je=je.right}return _e}getPositionAt(R){R=Math.floor(R),R=Math.max(0,R);let J=this.root,_e=0;const je=R;for(;J!==He;)if(0!==J.size_left&&J.size_left>=R)J=J.left;else{if(J.size_left+J.piece.length>=R){const Ye=this.getIndexOf(J,R-J.size_left);if(_e+=J.lf_left+Ye.index,0===Ye.index){const at=this.getOffsetAt(_e+1,1);return new _.L(_e+1,je-at+1)}return new _.L(_e+1,Ye.remainder+1)}if(R-=J.size_left+J.piece.length,_e+=J.lf_left+J.piece.lineFeedCnt,J.right===He){const Ye=this.getOffsetAt(_e+1,1);return new _.L(_e+1,je-R-Ye+1)}J=J.right}return new _.L(1,1)}getValueInRange(R,J){if(R.startLineNumber===R.endLineNumber&&R.startColumn===R.endColumn)return"";const _e=this.nodeAt2(R.startLineNumber,R.startColumn),je=this.nodeAt2(R.endLineNumber,R.endColumn),Ye=this.getValueInRange2(_e,je);return J?J===this._EOL&&this._EOLNormalized&&J===this.getEOL()&&this._EOLNormalized?Ye:Ye.replace(/\r\n|\r|\n/g,J):Ye}getValueInRange2(R,J){if(R.node===J.node){const on=R.node,qt=this._buffers[on.piece.bufferIndex].buffer,yn=this.offsetInBuffer(on.piece.bufferIndex,on.piece.start);return qt.substring(yn+R.remainder,yn+J.remainder)}let _e=R.node;const je=this._buffers[_e.piece.bufferIndex].buffer,Ye=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);let at=je.substring(Ye+R.remainder,Ye+_e.piece.length);for(_e=_e.next();_e!==He;){const on=this._buffers[_e.piece.bufferIndex].buffer,qt=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);if(_e===J.node){at+=on.substring(qt,qt+J.remainder);break}at+=on.substr(qt,_e.piece.length),_e=_e.next()}return at}getLinesContent(){const R=[];let J=0,_e="",je=!1;return this.iterate(this.root,Ye=>{if(Ye===He)return!0;const at=Ye.piece;let on=at.length;if(0===on)return!0;const qt=this._buffers[at.bufferIndex].buffer,yn=this._buffers[at.bufferIndex].lineStarts,Tn=at.start.line,Bn=at.end.line;let Kn=yn[Tn]+at.start.column;if(je&&(10===qt.charCodeAt(Kn)&&(Kn++,on--),R[J++]=_e,_e="",je=!1,0===on))return!0;if(Tn===Bn)return this._EOLNormalized||13!==qt.charCodeAt(Kn+on-1)?_e+=qt.substr(Kn,on):(je=!0,_e+=qt.substr(Kn,on-1)),!0;_e+=this._EOLNormalized?qt.substring(Kn,Math.max(Kn,yn[Tn+1]-this._EOLLength)):qt.substring(Kn,yn[Tn+1]).replace(/(\r\n|\r|\n)$/,""),R[J++]=_e;for(let ni=Tn+1;ni<Bn;ni++)_e=this._EOLNormalized?qt.substring(yn[ni],yn[ni+1]-this._EOLLength):qt.substring(yn[ni],yn[ni+1]).replace(/(\r\n|\r|\n)$/,""),R[J++]=_e;return this._EOLNormalized||13!==qt.charCodeAt(yn[Bn]+at.end.column-1)?_e=qt.substr(yn[Bn],at.end.column):(je=!0,0===at.end.column?J--:_e=qt.substr(yn[Bn],at.end.column-1)),!0}),je&&(R[J++]=_e,_e=""),R[J++]=_e,R}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(R){return this._lastVisitedLine.lineNumber===R||(this._lastVisitedLine.lineNumber=R,this._lastVisitedLine.value=R===this._lineCnt?this.getLineRawContent(R):this._EOLNormalized?this.getLineRawContent(R,this._EOLLength):this.getLineRawContent(R).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(R){if(R.remainder===R.node.piece.length){const J=R.node.next();if(!J)return 0;const _e=this._buffers[J.piece.bufferIndex],je=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start);return _e.buffer.charCodeAt(je)}{const J=this._buffers[R.node.piece.bufferIndex],je=this.offsetInBuffer(R.node.piece.bufferIndex,R.node.piece.start)+R.remainder;return J.buffer.charCodeAt(je)}}getLineCharCode(R,J){const _e=this.nodeAt2(R,J+1);return this._getCharCode(_e)}getLineLength(R){if(R===this.getLineCount()){const J=this.getOffsetAt(R,1);return this.getLength()-J}return this.getOffsetAt(R+1,1)-this.getOffsetAt(R,1)-this._EOLLength}findMatchesInNode(R,J,_e,je,Ye,at,on,qt,yn,Tn,Bn){const Kn=this._buffers[R.piece.bufferIndex],ni=this.offsetInBuffer(R.piece.bufferIndex,R.piece.start),hi=this.offsetInBuffer(R.piece.bufferIndex,Ye),fi=this.offsetInBuffer(R.piece.bufferIndex,at);let Rt;const ee={line:0,column:0};let fe,it;J._wordSeparators?(fe=Kn.buffer.substring(hi,fi),it=It=>It+hi,J.reset(0)):(fe=Kn.buffer,it=It=>It,J.reset(hi));do{if(Rt=J.next(fe),Rt){if(it(Rt.index)>=fi)return Tn;this.positionInBuffer(R,it(Rt.index)-ni,ee);const It=this.getLineFeedCnt(R.piece.bufferIndex,Ye,ee),en=ee.line===Ye.line?ee.column-Ye.column+je:ee.column+1;if(Bn[Tn++]=(0,St.iE)(new s.e(_e+It,en,_e+It,en+Rt[0].length),Rt,qt),it(Rt.index)+Rt[0].length>=fi||Tn>=yn)return Tn}}while(Rt);return Tn}findMatchesLineByLine(R,J,_e,je){const Ye=[];let at=0;const on=new St.sz(J.wordSeparators,J.regex);let qt=this.nodeAt2(R.startLineNumber,R.startColumn);if(null===qt)return[];const yn=this.nodeAt2(R.endLineNumber,R.endColumn);if(null===yn)return[];let Tn=this.positionInBuffer(qt.node,qt.remainder);const Bn=this.positionInBuffer(yn.node,yn.remainder);if(qt.node===yn.node)return this.findMatchesInNode(qt.node,on,R.startLineNumber,R.startColumn,Tn,Bn,J,_e,je,at,Ye),Ye;let Kn=R.startLineNumber,ni=qt.node;for(;ni!==yn.node;){const fi=this.getLineFeedCnt(ni.piece.bufferIndex,Tn,ni.piece.end);if(fi>=1){const ee=this._buffers[ni.piece.bufferIndex].lineStarts,fe=this.offsetInBuffer(ni.piece.bufferIndex,ni.piece.start);if(at=this.findMatchesInNode(ni,on,Kn,Kn===R.startLineNumber?R.startColumn:1,Tn,this.positionInBuffer(ni,ee[Tn.line+fi]-fe),J,_e,je,at,Ye),at>=je)return Ye;Kn+=fi}const Rt=Kn===R.startLineNumber?R.startColumn-1:0;if(Kn===R.endLineNumber){const ee=this.getLineContent(Kn).substring(Rt,R.endColumn-1);return at=this._findMatchesInLine(J,on,ee,R.endLineNumber,Rt,at,Ye,_e,je),Ye}if(at=this._findMatchesInLine(J,on,this.getLineContent(Kn).substr(Rt),Kn,Rt,at,Ye,_e,je),at>=je)return Ye;Kn++,qt=this.nodeAt2(Kn,1),ni=qt.node,Tn=this.positionInBuffer(qt.node,qt.remainder)}if(Kn===R.endLineNumber){const fi=Kn===R.startLineNumber?R.startColumn-1:0,Rt=this.getLineContent(Kn).substring(fi,R.endColumn-1);return at=this._findMatchesInLine(J,on,Rt,R.endLineNumber,fi,at,Ye,_e,je),Ye}return at=this.findMatchesInNode(yn.node,on,Kn,Kn===R.startLineNumber?R.startColumn:1,Tn,Bn,J,_e,je,at,Ye),Ye}_findMatchesInLine(R,J,_e,je,Ye,at,on,qt,yn){const Tn=R.wordSeparators;if(!qt&&R.simpleSearch){const Kn=R.simpleSearch,ni=Kn.length,hi=_e.length;let fi=-ni;for(;-1!==(fi=_e.indexOf(Kn,fi+ni));)if((!Tn||(0,St.cM)(Tn,_e,hi,fi,ni))&&(on[at++]=new p.tk(new s.e(je,fi+1+Ye,je,fi+1+ni+Ye),null),at>=yn))return at;return at}let Bn;J.reset(0);do{if(Bn=J.next(_e),Bn&&(on[at++]=(0,St.iE)(new s.e(je,Bn.index+1+Ye,je,Bn.index+1+Bn[0].length+Ye),Bn,qt),at>=yn))return at}while(Bn);return at}insert(R,J,_e=!1){if(this._EOLNormalized=this._EOLNormalized&&_e,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==He){const{node:je,remainder:Ye,nodeStartOffset:at}=this.nodeAt(R),on=je.piece,qt=on.bufferIndex,yn=this.positionInBuffer(je,Ye);if(0===je.piece.bufferIndex&&on.end.line===this._lastChangeBufferPos.line&&on.end.column===this._lastChangeBufferPos.column&&at+on.length===R&&J.length<gn)return this.appendToNode(je,J),void this.computeBufferMetadata();if(at===R)this.insertContentToNodeLeft(J,je),this._searchCache.validate(R);else if(at+je.piece.length>R){const Tn=[];let Bn=new ii(on.bufferIndex,yn,on.end,this.getLineFeedCnt(on.bufferIndex,yn,on.end),this.offsetInBuffer(qt,on.end)-this.offsetInBuffer(qt,yn));if(this.shouldCheckCRLF()&&this.endWithCR(J)&&10===this.nodeCharCodeAt(je,Ye)){const fi={line:Bn.start.line+1,column:0};Bn=new ii(Bn.bufferIndex,fi,Bn.end,this.getLineFeedCnt(Bn.bufferIndex,fi,Bn.end),Bn.length-1),J+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(J))if(13===this.nodeCharCodeAt(je,Ye-1)){const fi=this.positionInBuffer(je,Ye-1);this.deleteNodeTail(je,fi),J="\r"+J,0===je.piece.length&&Tn.push(je)}else this.deleteNodeTail(je,yn);else this.deleteNodeTail(je,yn);const Kn=this.createNewPieces(J);Bn.length>0&&this.rbInsertRight(je,Bn);let ni=je;for(let hi=0;hi<Kn.length;hi++)ni=this.rbInsertRight(ni,Kn[hi]);this.deleteNodes(Tn)}else this.insertContentToNodeRight(J,je)}else{const je=this.createNewPieces(J);let Ye=this.rbInsertLeft(null,je[0]);for(let at=1;at<je.length;at++)Ye=this.rbInsertRight(Ye,je[at])}this.computeBufferMetadata()}delete(R,J){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",J<=0||this.root===He)return;const _e=this.nodeAt(R),je=this.nodeAt(R+J),Ye=_e.node,at=je.node;if(Ye===at){const Kn=this.positionInBuffer(Ye,_e.remainder),ni=this.positionInBuffer(Ye,je.remainder);if(_e.nodeStartOffset===R){if(J===Ye.piece.length){const hi=Ye.next();return bt(this,Ye),this.validateCRLFWithPrevNode(hi),void this.computeBufferMetadata()}return this.deleteNodeHead(Ye,ni),this._searchCache.validate(R),this.validateCRLFWithPrevNode(Ye),void this.computeBufferMetadata()}return _e.nodeStartOffset+Ye.piece.length===R+J?(this.deleteNodeTail(Ye,Kn),this.validateCRLFWithNextNode(Ye),void this.computeBufferMetadata()):(this.shrinkNode(Ye,Kn,ni),void this.computeBufferMetadata())}const on=[],qt=this.positionInBuffer(Ye,_e.remainder);this.deleteNodeTail(Ye,qt),this._searchCache.validate(R),0===Ye.piece.length&&on.push(Ye);const yn=this.positionInBuffer(at,je.remainder);this.deleteNodeHead(at,yn),0===at.piece.length&&on.push(at);for(let Kn=Ye.next();Kn!==He&&Kn!==at;Kn=Kn.next())on.push(Kn);const Bn=0===Ye.piece.length?Ye.prev():Ye;this.deleteNodes(on),this.validateCRLFWithNextNode(Bn),this.computeBufferMetadata()}insertContentToNodeLeft(R,J){const _e=[];if(this.shouldCheckCRLF()&&this.endWithCR(R)&&this.startWithLF(J)){const at=J.piece,on={line:at.start.line+1,column:0},qt=new ii(at.bufferIndex,on,at.end,this.getLineFeedCnt(at.bufferIndex,on,at.end),at.length-1);J.piece=qt,R+="\n",vn(this,J,-1,-1),0===J.piece.length&&_e.push(J)}const je=this.createNewPieces(R);let Ye=this.rbInsertLeft(J,je[je.length-1]);for(let at=je.length-2;at>=0;at--)Ye=this.rbInsertLeft(Ye,je[at]);this.validateCRLFWithPrevNode(Ye),this.deleteNodes(_e)}insertContentToNodeRight(R,J){this.adjustCarriageReturnFromNext(R,J)&&(R+="\n");const _e=this.createNewPieces(R),je=this.rbInsertRight(J,_e[0]);let Ye=je;for(let at=1;at<_e.length;at++)Ye=this.rbInsertRight(Ye,_e[at]);this.validateCRLFWithPrevNode(je)}positionInBuffer(R,J,_e){const je=R.piece,at=this._buffers[R.piece.bufferIndex].lineStarts,qt=at[je.start.line]+je.start.column+J;let yn=je.start.line,Tn=je.end.line,Bn=0,Kn=0,ni=0;for(;yn<=Tn&&(Bn=yn+(Tn-yn)/2|0,ni=at[Bn],Bn!==Tn);)if(Kn=at[Bn+1],qt<ni)Tn=Bn-1;else{if(!(qt>=Kn))break;yn=Bn+1}return _e?(_e.line=Bn,_e.column=qt-ni,null):{line:Bn,column:qt-ni}}getLineFeedCnt(R,J,_e){if(0===_e.column)return _e.line-J.line;const je=this._buffers[R].lineStarts;if(_e.line===je.length-1)return _e.line-J.line;const at=je[_e.line]+_e.column;return je[_e.line+1]>at+1?_e.line-J.line:13===this._buffers[R].buffer.charCodeAt(at-1)?_e.line-J.line+1:_e.line-J.line}offsetInBuffer(R,J){return this._buffers[R].lineStarts[J.line]+J.column}deleteNodes(R){for(let J=0;J<R.length;J++)bt(this,R[J])}createNewPieces(R){if(R.length>gn){const Tn=[];for(;R.length>gn;){const Kn=R.charCodeAt(gn-1);let ni;13===Kn||Kn>=55296&&Kn<=56319?(ni=R.substring(0,gn-1),R=R.substring(gn-1)):(ni=R.substring(0,gn),R=R.substring(gn));const hi=Gn(ni);Tn.push(new ii(this._buffers.length,{line:0,column:0},{line:hi.length-1,column:ni.length-hi[hi.length-1]},hi.length-1,ni.length)),this._buffers.push(new Ei(ni,hi))}const Bn=Gn(R);return Tn.push(new ii(this._buffers.length,{line:0,column:0},{line:Bn.length-1,column:R.length-Bn[Bn.length-1]},Bn.length-1,R.length)),this._buffers.push(new Ei(R,Bn)),Tn}let J=this._buffers[0].buffer.length;const _e=Gn(R,!1);let je=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===J&&0!==J&&this.startWithLF(R)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},je=this._lastChangeBufferPos;for(let Tn=0;Tn<_e.length;Tn++)_e[Tn]+=J+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(_e.slice(1)),this._buffers[0].buffer+="_"+R,J+=1}else{if(0!==J)for(let Tn=0;Tn<_e.length;Tn++)_e[Tn]+=J;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(_e.slice(1)),this._buffers[0].buffer+=R}const Ye=this._buffers[0].buffer.length,at=this._buffers[0].lineStarts.length-1,qt={line:at,column:Ye-this._buffers[0].lineStarts[at]},yn=new ii(0,je,qt,this.getLineFeedCnt(0,je,qt),Ye-J);return this._lastChangeBufferPos=qt,[yn]}getLineRawContent(R,J=0){let _e=this.root,je="";const Ye=this._searchCache.get2(R);if(Ye){_e=Ye.node;const at=this.getAccumulatedValue(_e,R-Ye.nodeStartLineNumber-1),on=this._buffers[_e.piece.bufferIndex].buffer,qt=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);if(Ye.nodeStartLineNumber+_e.piece.lineFeedCnt!==R){const yn=this.getAccumulatedValue(_e,R-Ye.nodeStartLineNumber);return on.substring(qt+at,qt+yn-J)}je=on.substring(qt+at,qt+_e.piece.length)}else{let at=0;const on=R;for(;_e!==He;)if(_e.left!==He&&_e.lf_left>=R-1)_e=_e.left;else{if(_e.lf_left+_e.piece.lineFeedCnt>R-1){const qt=this.getAccumulatedValue(_e,R-_e.lf_left-2),yn=this.getAccumulatedValue(_e,R-_e.lf_left-1),Tn=this._buffers[_e.piece.bufferIndex].buffer,Bn=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);return at+=_e.size_left,this._searchCache.set({node:_e,nodeStartOffset:at,nodeStartLineNumber:on-(R-1-_e.lf_left)}),Tn.substring(Bn+qt,Bn+yn-J)}if(_e.lf_left+_e.piece.lineFeedCnt===R-1){const qt=this.getAccumulatedValue(_e,R-_e.lf_left-2),yn=this._buffers[_e.piece.bufferIndex].buffer,Tn=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);je=yn.substring(Tn+qt,Tn+_e.piece.length);break}R-=_e.lf_left+_e.piece.lineFeedCnt,at+=_e.size_left+_e.piece.length,_e=_e.right}}for(_e=_e.next();_e!==He;){const at=this._buffers[_e.piece.bufferIndex].buffer;if(_e.piece.lineFeedCnt>0){const on=this.getAccumulatedValue(_e,0),qt=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);return je+=at.substring(qt,qt+on-J),je}{const on=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);je+=at.substr(on,_e.piece.length)}_e=_e.next()}return je}computeBufferMetadata(){let R=this.root,J=1,_e=0;for(;R!==He;)J+=R.lf_left+R.piece.lineFeedCnt,_e+=R.size_left+R.piece.length,R=R.right;this._lineCnt=J,this._length=_e,this._searchCache.validate(this._length)}getIndexOf(R,J){const _e=R.piece,je=this.positionInBuffer(R,J),Ye=je.line-_e.start.line;if(this.offsetInBuffer(_e.bufferIndex,_e.end)-this.offsetInBuffer(_e.bufferIndex,_e.start)===J){const at=this.getLineFeedCnt(R.piece.bufferIndex,_e.start,je);if(at!==Ye)return{index:at,remainder:0}}return{index:Ye,remainder:je.column}}getAccumulatedValue(R,J){if(J<0)return 0;const _e=R.piece,je=this._buffers[_e.bufferIndex].lineStarts,Ye=_e.start.line+J+1;return Ye>_e.end.line?je[_e.end.line]+_e.end.column-je[_e.start.line]-_e.start.column:je[Ye]-je[_e.start.line]-_e.start.column}deleteNodeTail(R,J){const _e=R.piece,je=_e.lineFeedCnt,Ye=this.offsetInBuffer(_e.bufferIndex,_e.end),at=J,on=this.offsetInBuffer(_e.bufferIndex,at),qt=this.getLineFeedCnt(_e.bufferIndex,_e.start,at),yn=qt-je,Tn=on-Ye;R.piece=new ii(_e.bufferIndex,_e.start,at,qt,_e.length+Tn),vn(this,R,Tn,yn)}deleteNodeHead(R,J){const _e=R.piece,je=_e.lineFeedCnt,Ye=this.offsetInBuffer(_e.bufferIndex,_e.start),at=J,on=this.getLineFeedCnt(_e.bufferIndex,at,_e.end),yn=on-je,Tn=Ye-this.offsetInBuffer(_e.bufferIndex,at);R.piece=new ii(_e.bufferIndex,at,_e.end,on,_e.length+Tn),vn(this,R,Tn,yn)}shrinkNode(R,J,_e){const je=R.piece,Ye=je.start,at=je.end,on=je.length,qt=je.lineFeedCnt,yn=J,Tn=this.getLineFeedCnt(je.bufferIndex,je.start,yn),Bn=this.offsetInBuffer(je.bufferIndex,J)-this.offsetInBuffer(je.bufferIndex,Ye);R.piece=new ii(je.bufferIndex,je.start,yn,Tn,Bn),vn(this,R,Bn-on,Tn-qt);const Kn=new ii(je.bufferIndex,_e,at,this.getLineFeedCnt(je.bufferIndex,_e,at),this.offsetInBuffer(je.bufferIndex,at)-this.offsetInBuffer(je.bufferIndex,_e)),ni=this.rbInsertRight(R,Kn);this.validateCRLFWithPrevNode(ni)}appendToNode(R,J){this.adjustCarriageReturnFromNext(J,R)&&(J+="\n");const _e=this.shouldCheckCRLF()&&this.startWithLF(J)&&this.endWithCR(R),je=this._buffers[0].buffer.length;this._buffers[0].buffer+=J;const Ye=Gn(J,!1);for(let ni=0;ni<Ye.length;ni++)Ye[ni]+=je;if(_e){const ni=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:je-ni}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ye.slice(1));const at=this._buffers[0].lineStarts.length-1,qt={line:at,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[at]},yn=R.piece.length+J.length,Tn=R.piece.lineFeedCnt,Bn=this.getLineFeedCnt(0,R.piece.start,qt),Kn=Bn-Tn;R.piece=new ii(R.piece.bufferIndex,R.piece.start,qt,Bn,yn),this._lastChangeBufferPos=qt,vn(this,R,J.length,Kn)}nodeAt(R){let J=this.root;const _e=this._searchCache.get(R);if(_e)return{node:_e.node,nodeStartOffset:_e.nodeStartOffset,remainder:R-_e.nodeStartOffset};let je=0;for(;J!==He;)if(J.size_left>R)J=J.left;else{if(J.size_left+J.piece.length>=R){je+=J.size_left;const Ye={node:J,remainder:R-J.size_left,nodeStartOffset:je};return this._searchCache.set(Ye),Ye}R-=J.size_left+J.piece.length,je+=J.size_left+J.piece.length,J=J.right}return null}nodeAt2(R,J){let _e=this.root,je=0;for(;_e!==He;)if(_e.left!==He&&_e.lf_left>=R-1)_e=_e.left;else{if(_e.lf_left+_e.piece.lineFeedCnt>R-1){const Ye=this.getAccumulatedValue(_e,R-_e.lf_left-2),at=this.getAccumulatedValue(_e,R-_e.lf_left-1);return je+=_e.size_left,{node:_e,remainder:Math.min(Ye+J-1,at),nodeStartOffset:je}}if(_e.lf_left+_e.piece.lineFeedCnt===R-1){const Ye=this.getAccumulatedValue(_e,R-_e.lf_left-2);if(Ye+J-1<=_e.piece.length)return{node:_e,remainder:Ye+J-1,nodeStartOffset:je};J-=_e.piece.length-Ye;break}R-=_e.lf_left+_e.piece.lineFeedCnt,je+=_e.size_left+_e.piece.length,_e=_e.right}for(_e=_e.next();_e!==He;){if(_e.piece.lineFeedCnt>0){const Ye=this.getAccumulatedValue(_e,0),at=this.offsetOfNode(_e);return{node:_e,remainder:Math.min(J-1,Ye),nodeStartOffset:at}}if(_e.piece.length>=J-1)return{node:_e,remainder:J-1,nodeStartOffset:this.offsetOfNode(_e)};J-=_e.piece.length,_e=_e.next()}return null}nodeCharCodeAt(R,J){if(R.piece.lineFeedCnt<1)return-1;const _e=this._buffers[R.piece.bufferIndex],je=this.offsetInBuffer(R.piece.bufferIndex,R.piece.start)+J;return _e.buffer.charCodeAt(je)}offsetOfNode(R){if(!R)return 0;let J=R.size_left;for(;R!==this.root;)R.parent.right===R&&(J+=R.parent.size_left+R.parent.piece.length),R=R.parent;return J}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(R){if("string"==typeof R)return 10===R.charCodeAt(0);if(R===He||0===R.piece.lineFeedCnt)return!1;const J=R.piece,_e=this._buffers[J.bufferIndex].lineStarts,je=J.start.line,Ye=_e[je]+J.start.column;return!(je===_e.length-1||_e[je+1]>Ye+1)&&10===this._buffers[J.bufferIndex].buffer.charCodeAt(Ye)}endWithCR(R){return"string"==typeof R?13===R.charCodeAt(R.length-1):R!==He&&0!==R.piece.lineFeedCnt&&13===this.nodeCharCodeAt(R,R.piece.length-1)}validateCRLFWithPrevNode(R){if(this.shouldCheckCRLF()&&this.startWithLF(R)){const J=R.prev();this.endWithCR(J)&&this.fixCRLF(J,R)}}validateCRLFWithNextNode(R){if(this.shouldCheckCRLF()&&this.endWithCR(R)){const J=R.next();this.startWithLF(J)&&this.fixCRLF(R,J)}}fixCRLF(R,J){const _e=[],je=this._buffers[R.piece.bufferIndex].lineStarts;let Ye;Ye=0===R.piece.end.column?{line:R.piece.end.line-1,column:je[R.piece.end.line]-je[R.piece.end.line-1]-1}:{line:R.piece.end.line,column:R.piece.end.column-1},R.piece=new ii(R.piece.bufferIndex,R.piece.start,Ye,R.piece.lineFeedCnt-1,R.piece.length-1),vn(this,R,-1,-1),0===R.piece.length&&_e.push(R);const qt={line:J.piece.start.line+1,column:0},yn=J.piece.length-1,Tn=this.getLineFeedCnt(J.piece.bufferIndex,qt,J.piece.end);J.piece=new ii(J.piece.bufferIndex,qt,J.piece.end,Tn,yn),vn(this,J,-1,-1),0===J.piece.length&&_e.push(J);const Bn=this.createNewPieces("\r\n");this.rbInsertRight(R,Bn[0]);for(let Kn=0;Kn<_e.length;Kn++)bt(this,_e[Kn])}adjustCarriageReturnFromNext(R,J){if(this.shouldCheckCRLF()&&this.endWithCR(R)){const _e=J.next();if(this.startWithLF(_e)){if(R+="\n",1===_e.piece.length)bt(this,_e);else{const je=_e.piece,Ye={line:je.start.line+1,column:0},at=je.length-1,on=this.getLineFeedCnt(je.bufferIndex,Ye,je.end);_e.piece=new ii(je.bufferIndex,Ye,je.end,on,at),vn(this,_e,-1,-1)}return!0}}return!1}iterate(R,J){return R===He?J(He):this.iterate(R.left,J)&&J(R)&&this.iterate(R.right,J)}getNodeContent(R){if(R===He)return"";const J=this._buffers[R.piece.bufferIndex],_e=R.piece,je=this.offsetInBuffer(_e.bufferIndex,_e.start),Ye=this.offsetInBuffer(_e.bufferIndex,_e.end);return J.buffer.substring(je,Ye)}getPieceContent(R){const J=this._buffers[R.bufferIndex],_e=this.offsetInBuffer(R.bufferIndex,R.start),je=this.offsetInBuffer(R.bufferIndex,R.end);return J.buffer.substring(_e,je)}rbInsertRight(R,J){const _e=new yt(J,1);if(_e.left=He,_e.right=He,_e.parent=He,_e.size_left=0,_e.lf_left=0,this.root===He)this.root=_e,_e.color=0;else if(R.right===He)R.right=_e,_e.parent=R;else{const Ye=ye(R.right);Ye.left=_e,_e.parent=Ye}return Ut(this,_e),_e}rbInsertLeft(R,J){const _e=new yt(J,1);if(_e.left=He,_e.right=He,_e.parent=He,_e.size_left=0,_e.lf_left=0,this.root===He)this.root=_e,_e.color=0;else if(R.left===He)R.left=_e,_e.parent=R;else{const je=Ae(R.left);je.right=_e,_e.parent=je}return Ut(this,_e),_e}}var io=e(66390);class uo extends v.JT{constructor(R,J,_e,je,Ye,at,on){super(),this._onDidChangeContent=this._register(new S.Q5),this._BOM=J,this._mightContainNonBasicASCII=!at,this._mightContainRTL=je,this._mightContainUnusualLineTerminators=Ye,this._pieceTree=new Co(R,_e,on)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(R){return this._pieceTree.createSnapshot(R?this._BOM:"")}getOffsetAt(R,J){return this._pieceTree.getOffsetAt(R,J)}getPositionAt(R){return this._pieceTree.getPositionAt(R)}getRangeAt(R,J){const _e=R+J,je=this.getPositionAt(R),Ye=this.getPositionAt(_e);return new s.e(je.lineNumber,je.column,Ye.lineNumber,Ye.column)}getValueInRange(R,J=0){if(R.isEmpty())return"";const _e=this._getEndOfLine(J);return this._pieceTree.getValueInRange(R,_e)}getValueLengthInRange(R,J=0){if(R.isEmpty())return 0;if(R.startLineNumber===R.endLineNumber)return R.endColumn-R.startColumn;const _e=this.getOffsetAt(R.startLineNumber,R.startColumn);return this.getOffsetAt(R.endLineNumber,R.endColumn)-_e}getCharacterCountInRange(R,J=0){if(this._mightContainNonBasicASCII){let _e=0;const je=R.startLineNumber,Ye=R.endLineNumber;for(let at=je;at<=Ye;at++){const on=this.getLineContent(at),yn=at===Ye?R.endColumn-1:on.length;for(let Tn=at===je?R.startColumn-1:0;Tn<yn;Tn++)T.ZG(on.charCodeAt(Tn))?(_e+=1,Tn+=1):_e+=1}return _e+=this._getEndOfLine(J).length*(Ye-je),_e}return this.getValueLengthInRange(R,J)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(R){return this._pieceTree.getLineContent(R)}getLineCharCode(R,J){return this._pieceTree.getLineCharCode(R,J)}getLineLength(R){return this._pieceTree.getLineLength(R)}getLineFirstNonWhitespaceColumn(R){const J=T.LC(this.getLineContent(R));return-1===J?0:J+1}getLineLastNonWhitespaceColumn(R){const J=T.ow(this.getLineContent(R));return-1===J?0:J+2}_getEndOfLine(R){switch(R){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(R){this._pieceTree.setEOL(R)}applyEdits(R,J,_e){let je=this._mightContainRTL,Ye=this._mightContainUnusualLineTerminators,at=this._mightContainNonBasicASCII,on=!0,qt=[];for(let fi=0;fi<R.length;fi++){const Rt=R[fi];on&&Rt._isTracked&&(on=!1);const ee=Rt.range;if(Rt.text){let Tt=!0;at||(Tt=!T.$i(Rt.text),at=Tt),!je&&Tt&&(je=T.Ut(Rt.text)),!Ye&&Tt&&(Ye=T.ab(Rt.text))}let fe="",it=0,It=0,en=0;if(Rt.text){let Tt;[it,It,en,Tt]=(0,E.Q)(Rt.text);const q=this.getEOL();fe=0===Tt||Tt===("\r\n"===q?2:1)?Rt.text:Rt.text.replace(/\r\n|\r|\n/g,q)}qt[fi]={sortIndex:fi,identifier:Rt.identifier||null,range:ee,rangeOffset:this.getOffsetAt(ee.startLineNumber,ee.startColumn),rangeLength:this.getValueLengthInRange(ee),text:fe,eolCount:it,firstLineLength:It,lastLineLength:en,forceMoveMarkers:Boolean(Rt.forceMoveMarkers),isAutoWhitespaceEdit:Rt.isAutoWhitespaceEdit||!1}}qt.sort(uo._sortOpsAscending);let yn=!1;for(let fi=0,Rt=qt.length-1;fi<Rt;fi++){const ee=qt[fi].range.getEndPosition(),fe=qt[fi+1].range.getStartPosition();if(fe.isBeforeOrEqual(ee)){if(fe.isBefore(ee))throw new Error("Overlapping ranges are not allowed!");yn=!0}}on&&(qt=this._reduceOperations(qt));const Tn=_e||J?uo._getInverseEditRanges(qt):[],Bn=[];if(J)for(let fi=0;fi<qt.length;fi++){const Rt=qt[fi],ee=Tn[fi];if(Rt.isAutoWhitespaceEdit&&Rt.range.isEmpty())for(let fe=ee.startLineNumber;fe<=ee.endLineNumber;fe++){let it="";fe===ee.startLineNumber&&(it=this.getLineContent(Rt.range.startLineNumber),-1!==T.LC(it))||Bn.push({lineNumber:fe,oldContent:it})}}let Kn=null;if(_e){let fi=0;Kn=[];for(let Rt=0;Rt<qt.length;Rt++){const ee=qt[Rt],fe=Tn[Rt],it=this.getValueInRange(ee.range),It=ee.rangeOffset+fi;fi+=ee.text.length-it.length,Kn[Rt]={sortIndex:ee.sortIndex,identifier:ee.identifier,range:fe,text:it,textChange:new io.q(ee.rangeOffset,it,It,ee.text)}}yn||Kn.sort((Rt,ee)=>Rt.sortIndex-ee.sortIndex)}this._mightContainRTL=je,this._mightContainUnusualLineTerminators=Ye,this._mightContainNonBasicASCII=at;const ni=this._doApplyEdits(qt);let hi=null;if(J&&Bn.length>0){Bn.sort((fi,Rt)=>Rt.lineNumber-fi.lineNumber),hi=[];for(let fi=0,Rt=Bn.length;fi<Rt;fi++){const ee=Bn[fi].lineNumber;if(fi>0&&Bn[fi-1].lineNumber===ee)continue;const fe=Bn[fi].oldContent,it=this.getLineContent(ee);0===it.length||it===fe||-1!==T.LC(it)||hi.push(ee)}}return this._onDidChangeContent.fire(),new p.je(Kn,ni,hi)}_reduceOperations(R){return R.length<1e3?R:[this._toSingleEditOperation(R)]}_toSingleEditOperation(R){let J=!1;const _e=R[0].range,je=R[R.length-1].range,Ye=new s.e(_e.startLineNumber,_e.startColumn,je.endLineNumber,je.endColumn);let at=_e.startLineNumber,on=_e.startColumn;const qt=[];for(let ni=0,hi=R.length;ni<hi;ni++){const fi=R[ni],Rt=fi.range;J=J||fi.forceMoveMarkers,qt.push(this.getValueInRange(new s.e(at,on,Rt.startLineNumber,Rt.startColumn))),fi.text.length>0&&qt.push(fi.text),at=Rt.endLineNumber,on=Rt.endColumn}const yn=qt.join(""),[Tn,Bn,Kn]=(0,E.Q)(yn);return{sortIndex:0,identifier:R[0].identifier,range:Ye,rangeOffset:this.getOffsetAt(Ye.startLineNumber,Ye.startColumn),rangeLength:this.getValueLengthInRange(Ye,0),text:yn,eolCount:Tn,firstLineLength:Bn,lastLineLength:Kn,forceMoveMarkers:J,isAutoWhitespaceEdit:!1}}_doApplyEdits(R){R.sort(uo._sortOpsDescending);const J=[];for(let _e=0;_e<R.length;_e++){const je=R[_e],Ye=je.range.startLineNumber,at=je.range.startColumn,on=je.range.endLineNumber,qt=je.range.endColumn;if(Ye===on&&at===qt&&0===je.text.length)continue;je.text?(this._pieceTree.delete(je.rangeOffset,je.rangeLength),this._pieceTree.insert(je.rangeOffset,je.text,!0)):this._pieceTree.delete(je.rangeOffset,je.rangeLength);const yn=new s.e(Ye,at,on,qt);J.push({range:yn,rangeLength:je.rangeLength,text:je.text,rangeOffset:je.rangeOffset,forceMoveMarkers:je.forceMoveMarkers})}return J}findMatchesLineByLine(R,J,_e,je){return this._pieceTree.findMatchesLineByLine(R,J,_e,je)}static _getInverseEditRanges(R){const J=[];let _e=0,je=0,Ye=null;for(let at=0,on=R.length;at<on;at++){const qt=R[at];let yn,Tn,Bn;if(Ye?Ye.range.endLineNumber===qt.range.startLineNumber?(yn=_e,Tn=je+(qt.range.startColumn-Ye.range.endColumn)):(yn=_e+(qt.range.startLineNumber-Ye.range.endLineNumber),Tn=qt.range.startColumn):(yn=qt.range.startLineNumber,Tn=qt.range.startColumn),qt.text.length>0){const Kn=qt.eolCount+1;Bn=1===Kn?new s.e(yn,Tn,yn,Tn+qt.firstLineLength):new s.e(yn,Tn,yn+Kn-1,qt.lastLineLength+1)}else Bn=new s.e(yn,Tn,yn,Tn);_e=Bn.endLineNumber,je=Bn.endColumn,J.push(Bn),Ye=qt}return J}static _sortOpsAscending(R,J){const _e=s.e.compareRangesUsingEnds(R.range,J.range);return 0===_e?R.sortIndex-J.sortIndex:_e}static _sortOpsDescending(R,J){const _e=s.e.compareRangesUsingEnds(R.range,J.range);return 0===_e?J.sortIndex-R.sortIndex:-_e}}class go{constructor(R,J,_e,je,Ye,at,on,qt,yn){this._chunks=R,this._bom=J,this._cr=_e,this._lf=je,this._crlf=Ye,this._containsRTL=at,this._containsUnusualLineTerminators=on,this._isBasicASCII=qt,this._normalizeEOL=yn}_getEOL(R){const J=this._cr+this._lf+this._crlf;return 0===J?1===R?"\n":"\r\n":this._cr+this._crlf>J/2?"\r\n":"\n"}create(R){const J=this._getEOL(R),_e=this._chunks;if(this._normalizeEOL&&("\r\n"===J&&(this._cr>0||this._lf>0)||"\n"===J&&(this._cr>0||this._crlf>0)))for(let Ye=0,at=_e.length;Ye<at;Ye++){const on=_e[Ye].buffer.replace(/\r\n|\r|\n/g,J),qt=Gn(on);_e[Ye]=new Ei(on,qt)}const je=new uo(_e,this._bom,J,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:je,disposable:je}}}class si{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(R){if(0===R.length)return;0===this.chunks.length&&T.uS(R)&&(this.BOM=T.c1,R=R.substr(1));const J=R.charCodeAt(R.length-1);13===J||J>=55296&&J<=56319?(this._acceptChunk1(R.substr(0,R.length-1),!1),this._hasPreviousChar=!0,this._previousChar=J):(this._acceptChunk1(R,!1),this._hasPreviousChar=!1,this._previousChar=J)}_acceptChunk1(R,J){!J&&0===R.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+R:R)}_acceptChunk2(R){const J=function ci(Ft,R){Ft.length=0,Ft[0]=0;let J=1,_e=0,je=0,Ye=0,at=!0;for(let qt=0,yn=R.length;qt<yn;qt++){const Tn=R.charCodeAt(qt);13===Tn?qt+1<yn&&10===R.charCodeAt(qt+1)?(Ye++,Ft[J++]=qt+2,qt++):(_e++,Ft[J++]=qt+1):10===Tn?(je++,Ft[J++]=qt+1):at&&9!==Tn&&(Tn<32||Tn>126)&&(at=!1)}const on=new Sn(Vn(Ft),_e,je,Ye,at);return Ft.length=0,on}(this._tmpLineStarts,R);this.chunks.push(new Ei(R,J.lineStarts)),this.cr+=J.cr,this.lf+=J.lf,this.crlf+=J.crlf,this.isBasicASCII&&(this.isBasicASCII=J.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=T.Ut(R)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=T.ab(R))}finish(R=!0){return this._finish(),new go(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,R)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const R=this.chunks[this.chunks.length-1];R.buffer+=String.fromCharCode(this._previousChar);const J=Gn(R.buffer);R.lineStarts=J,13===this._previousChar&&this.cr++}}}var Yt=e(50894),pt=e(32368),gt=e(71513),Kt=e(45337),nn=e(88086),an=e(631);class mn{constructor(R,J){this._startLineNumber=R,this._tokens=J}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(R){return this._tokens[R-this._startLineNumber]}appendLineTokens(R){this._tokens.push(R)}}class Nn{constructor(){this._tokens=[]}add(R,J){if(this._tokens.length>0){const _e=this._tokens[this._tokens.length-1];if(_e.endLineNumber+1===R)return void _e.appendLineTokens(J)}this._tokens.push(new mn(R,[J]))}finalize(){return this._tokens}}var jn=e(48648),Yn=e(8841);class wi{constructor(R){this._default=R,this._store=[]}get(R){return R<this._store.length?this._store[R]:this._default}set(R,J){for(;R>=this._store.length;)this._store[this._store.length]=this._default;this._store[R]=J}delete(R,J){0===J||R>=this._store.length||this._store.splice(R,J)}insert(R,J){if(0===J||R>=this._store.length)return;const _e=[];for(let je=0;je<J;je++)_e[je]=this._default;this._store=d.Zv(this._store,R,_e)}}class Li{constructor(R,J){this.tokenizationSupport=R,this.initialState=J,this._lineBeginState=new wi(null),this._lineNeedsTokenization=new wi(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(R){this._lineNeedsTokenization.set(R,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,R)}getBeginState(R){return this._lineBeginState.get(R)}setEndState(R,J,_e){if(this._lineNeedsTokenization.set(J,!1),this._firstLineNeedsTokenization=J+1,J===R-1)return;const je=this._lineBeginState.get(J+1);if(null===je||!_e.equals(je))return this._lineBeginState.set(J+1,_e),void this.markMustBeTokenized(J+1);let Ye=J+1;for(;Ye<R&&!this._lineNeedsTokenization.get(Ye);)Ye++;this._firstLineNeedsTokenization=Ye}applyEdits(R,J){this.markMustBeTokenized(R.startLineNumber-1),this._lineBeginState.delete(R.startLineNumber,R.endLineNumber-R.startLineNumber),this._lineNeedsTokenization.delete(R.startLineNumber,R.endLineNumber-R.startLineNumber),this._lineBeginState.insert(R.startLineNumber,J),this._lineNeedsTokenization.insert(R.startLineNumber,J)}}class Qi extends v.JT{constructor(R,J,_e){super(),this._textModel=R,this._tokenizationPart=J,this._languageIdCodec=_e,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Kt.RW.onDidChange(je=>{const Ye=this._textModel.getLanguageId();-1!==je.changedLanguages.indexOf(Ye)&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(R){if(R.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let J=0,_e=R.changes.length;J<_e;J++){const je=R.changes[J],[Ye]=(0,E.Q)(je.text);this._tokenizationStateStore.applyEdits(je.range,Ye)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(R){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[R,J]=function Pi(Ft,R){if(Ft.isTooLargeForTokenization())return[null,null];const J=Kt.RW.get(R.getLanguageId());if(!J)return[null,null];let _e;try{_e=J.getInitialState()}catch(je){return(0,l.dL)(je),[null,null]}return[J,_e]}(this._textModel,this._tokenizationPart);this._tokenizationStateStore=R&&J?new Li(R,J):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,jn.To)(R=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(R)}))}_backgroundTokenizeWithDeadline(R){const J=Date.now()+R.timeRemaining(),_e=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<J?(0,Yn.fn)(_e):this._beginBackgroundTokenization())};_e()}_backgroundTokenizeForAtLeast1ms(){const R=this._textModel.getLineCount(),J=new Nn,_e=an.G.create(!1);do{if(_e.elapsed()>1||this._tokenizeOneInvalidLine(J)>=R)break}while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(J.finalize(),this._isTokenizationComplete())}tokenizeViewport(R,J){const _e=new Nn;this._tokenizeViewport(_e,R,J),this._tokenizationPart.setTokens(_e.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(R){const J=new Nn;this._updateTokensUntilLine(J,R),this._tokenizationPart.setTokens(J.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(R,J){if(!this._tokenizationStateStore)return 0;this.forceTokenization(R.lineNumber);const _e=this._tokenizationStateStore.getBeginState(R.lineNumber-1);if(!_e)return 0;const je=this._textModel.getLanguageId(),Ye=this._textModel.getLineContent(R.lineNumber),at=Ye.substring(0,R.column-1)+J+Ye.substring(R.column-1),on=Ki(this._languageIdCodec,je,this._tokenizationStateStore.tokenizationSupport,at,!0,_e),qt=new gt.A(on.tokens,at,this._languageIdCodec);if(0===qt.getCount())return 0;const yn=qt.findTokenIndexAtOffset(R.column-1);return qt.getStandardTokenType(yn)}tokenizeLineWithEdit(R,J,_e){const je=R.lineNumber,Ye=R.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(je);const at=this._tokenizationStateStore.getBeginState(je-1);if(!at)return null;const on=this._textModel.getLineContent(je),qt=on.substring(0,Ye-1)+_e+on.substring(Ye-1+J),yn=this._textModel.getLanguageIdAtPosition(je,0),Tn=Ki(this._languageIdCodec,yn,this._tokenizationStateStore.tokenizationSupport,qt,!0,at);return new gt.A(Tn.tokens,qt,this._languageIdCodec)}isCheapToTokenize(R){if(!this._tokenizationStateStore)return!0;const J=this._tokenizationStateStore.invalidLineStartIndex+1;return!(R>J)&&(R<J||this._textModel.getLineLength(R)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_isTokenizationComplete(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount()}_tokenizeOneInvalidLine(R){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const J=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(R,J),J}_updateTokensUntilLine(R,J){if(!this._tokenizationStateStore)return;const _e=this._textModel.getLanguageId(),je=this._textModel.getLineCount(),Ye=J-1;for(let at=this._tokenizationStateStore.invalidLineStartIndex;at<=Ye;at++){const on=this._textModel.getLineContent(at+1),qt=this._tokenizationStateStore.getBeginState(at),yn=Ki(this._languageIdCodec,_e,this._tokenizationStateStore.tokenizationSupport,on,!0,qt);R.add(at+1,yn.tokens),this._tokenizationStateStore.setEndState(je,at,yn.endState),at=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(R,J,_e){if(!this._tokenizationStateStore||_e<=this._tokenizationStateStore.invalidLineStartIndex)return;if(J<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(R,_e);let je=this._textModel.getLineFirstNonWhitespaceColumn(J);const Ye=[];let at=null;for(let yn=J-1;je>1&&yn>=1;yn--){const Tn=this._textModel.getLineFirstNonWhitespaceColumn(yn);if(0!==Tn&&Tn<je&&(Ye.push(this._textModel.getLineContent(yn)),je=Tn,at=this._tokenizationStateStore.getBeginState(yn-1),at))break}at||(at=this._tokenizationStateStore.initialState);const on=this._textModel.getLanguageId();let qt=at;for(let yn=Ye.length-1;yn>=0;yn--)qt=Ki(this._languageIdCodec,on,this._tokenizationStateStore.tokenizationSupport,Ye[yn],!1,qt).endState;for(let yn=J;yn<=_e;yn++){const Tn=this._textModel.getLineContent(yn),Bn=Ki(this._languageIdCodec,on,this._tokenizationStateStore.tokenizationSupport,Tn,!0,qt);R.add(yn,Bn.tokens),this._tokenizationStateStore.markMustBeTokenized(yn-1),qt=Bn.endState}}}function Ki(Ft,R,J,_e,je,Ye){let at=null;if(J)try{at=J.tokenizeEncoded(_e,je,Ye.clone())}catch(on){(0,l.dL)(on)}return at||(at=(0,nn.Dy)(Ft.encodeLanguageId(R),Ye)),gt.A.convertToEndOffset(at.tokens,_e.length),at}const Wi=new Uint32Array(0).buffer;class ro{static deleteBeginning(R,J){return null===R||R===Wi?R:ro.delete(R,0,J)}static deleteEnding(R,J){if(null===R||R===Wi)return R;const _e=mo(R);return ro.delete(R,J,_e[_e.length-2])}static delete(R,J,_e){if(null===R||R===Wi||J===_e)return R;const je=mo(R),Ye=je.length>>>1;if(0===J&&je[je.length-2]===_e)return Wi;const at=gt.A.findIndexInTokensArray(je,J),on=at>0?je[at-1<<1]:0;if(_e<je[at<<1]){const ni=_e-J;for(let hi=at;hi<Ye;hi++)je[hi<<1]-=ni;return R}let yn,Tn;on!==J?(je[at<<1]=J,yn=at+1<<1,Tn=J):(yn=at<<1,Tn=on);const Bn=_e-J;for(let ni=at+1;ni<Ye;ni++){const hi=je[ni<<1]-Bn;hi>Tn&&(je[yn++]=hi,je[yn++]=je[1+(ni<<1)],Tn=hi)}if(yn===je.length)return R;const Kn=new Uint32Array(yn);return Kn.set(je.subarray(0,yn),0),Kn.buffer}static append(R,J){if(J===Wi)return R;if(R===Wi)return J;if(null===R)return R;if(null===J)return null;const _e=mo(R),je=mo(J),Ye=je.length>>>1,at=new Uint32Array(_e.length+je.length);at.set(_e,0);let on=_e.length;const qt=_e[_e.length-2];for(let yn=0;yn<Ye;yn++)at[on++]=je[yn<<1]+qt,at[on++]=je[1+(yn<<1)];return at.buffer}static insert(R,J,_e){if(null===R||R===Wi)return R;const je=mo(R),Ye=je.length>>>1;let at=gt.A.findIndexInTokensArray(je,J);at>0&&je[at-1<<1]===J&&at--;for(let on=at;on<Ye;on++)je[on<<1]+=_e;return R}}function mo(Ft){return Ft instanceof Uint32Array?Ft:new Uint32Array(Ft)}var Ko=e(1465);class Eo{constructor(R){this._lineTokens=[],this._len=0,this._languageIdCodec=R}flush(){this._lineTokens=[],this._len=0}getTokens(R,J,_e){let je=null;if(J<this._len&&(je=this._lineTokens[J]),null!==je&&je!==Wi)return new gt.A(mo(je),_e,this._languageIdCodec);const Ye=new Uint32Array(2);return Ye[0]=_e.length,Ye[1]=Mo(this._languageIdCodec.encodeLanguageId(R)),new gt.A(Ye,_e,this._languageIdCodec)}static _massageTokens(R,J,_e){const je=_e?mo(_e):null;if(0===J){let Ye=!1;if(je&&je.length>1&&(Ye=Ko.N.getLanguageId(je[1])!==R),!Ye)return Wi}if(!je||0===je.length){const Ye=new Uint32Array(2);return Ye[0]=J,Ye[1]=Mo(R),Ye.buffer}return je[je.length-2]=J,0===je.byteOffset&&je.byteLength===je.buffer.byteLength?je.buffer:je}_ensureLine(R){for(;R>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(R,J){0!==J&&(R+J>this._len&&(J=this._len-R),this._lineTokens.splice(R,J),this._len-=J)}_insertLines(R,J){if(0===J)return;const _e=[];for(let je=0;je<J;je++)_e[je]=null;this._lineTokens=d.Zv(this._lineTokens,R,_e),this._len+=J}setTokens(R,J,_e,je,Ye){const at=Eo._massageTokens(this._languageIdCodec.encodeLanguageId(R),_e,je);this._ensureLine(J);const on=this._lineTokens[J];return this._lineTokens[J]=at,!!Ye&&!Eo._equals(on,at)}static _equals(R,J){if(!R||!J)return!R&&!J;const _e=mo(R),je=mo(J);if(_e.length!==je.length)return!1;for(let Ye=0,at=_e.length;Ye<at;Ye++)if(_e[Ye]!==je[Ye])return!1;return!0}acceptEdit(R,J,_e){this._acceptDeleteRange(R),this._acceptInsertText(new _.L(R.startLineNumber,R.startColumn),J,_e)}_acceptDeleteRange(R){const J=R.startLineNumber-1;if(J>=this._len)return;if(R.startLineNumber===R.endLineNumber){if(R.startColumn===R.endColumn)return;return void(this._lineTokens[J]=ro.delete(this._lineTokens[J],R.startColumn-1,R.endColumn-1))}this._lineTokens[J]=ro.deleteEnding(this._lineTokens[J],R.startColumn-1);const _e=R.endLineNumber-1;let je=null;_e<this._len&&(je=ro.deleteBeginning(this._lineTokens[_e],R.endColumn-1)),this._lineTokens[J]=ro.append(this._lineTokens[J],je),this._deleteLines(R.startLineNumber,R.endLineNumber-R.startLineNumber)}_acceptInsertText(R,J,_e){if(0===J&&0===_e)return;const je=R.lineNumber-1;if(!(je>=this._len)){if(0===J)return void(this._lineTokens[je]=ro.insert(this._lineTokens[je],R.column-1,_e));this._lineTokens[je]=ro.deleteEnding(this._lineTokens[je],R.column-1),this._lineTokens[je]=ro.insert(this._lineTokens[je],R.column-1,_e),this._insertLines(R.lineNumber,J)}}}function Mo(Ft){return(32768|Ft<<0|2<<24|1024)>>>0}class Io{constructor(R){this._pieces=[],this._isComplete=!1,this._languageIdCodec=R}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(R,J){this._pieces=R||[],this._isComplete=J}setPartial(R,J){let _e=R;if(J.length>0){const Ye=J[0].getRange(),at=J[J.length-1].getRange();if(!Ye||!at)return R;_e=R.plusRange(Ye).plusRange(at)}let je=null;for(let Ye=0,at=this._pieces.length;Ye<at;Ye++){const on=this._pieces[Ye];if(on.endLineNumber<_e.startLineNumber)continue;if(on.startLineNumber>_e.endLineNumber){je=je||{index:Ye};break}if(on.removeTokens(_e),on.isEmpty()){this._pieces.splice(Ye,1),Ye--,at--;continue}if(on.endLineNumber<_e.startLineNumber)continue;if(on.startLineNumber>_e.endLineNumber){je=je||{index:Ye};continue}const[qt,yn]=on.split(_e);qt.isEmpty()?je=je||{index:Ye}:yn.isEmpty()||(this._pieces.splice(Ye,1,qt,yn),Ye++,at++,je=je||{index:Ye})}return je=je||{index:this._pieces.length},J.length>0&&(this._pieces=d.Zv(this._pieces,je.index,J)),_e}isComplete(){return this._isComplete}addSparseTokens(R,J){if(0===J.getLineContent().length)return J;const _e=this._pieces;if(0===_e.length)return J;const Ye=_e[Io._findFirstPieceWithLine(_e,R)].getLineTokens(R);if(!Ye)return J;const at=J.getCount(),on=Ye.getCount();let qt=0;const yn=[];let Tn=0,Bn=0;const Kn=(ni,hi)=>{ni!==Bn&&(Bn=ni,yn[Tn++]=ni,yn[Tn++]=hi)};for(let ni=0;ni<on;ni++){const hi=Ye.getStartCharacter(ni),fi=Ye.getEndCharacter(ni),Rt=Ye.getMetadata(ni),ee=((1&Rt?2048:0)|(2&Rt?4096:0)|(4&Rt?8192:0)|(8&Rt?16384:0)|(16&Rt?16744448:0)|(32&Rt?4278190080:0))>>>0,fe=~ee>>>0;for(;qt<at&&J.getEndOffset(qt)<=hi;)Kn(J.getEndOffset(qt),J.getMetadata(qt)),qt++;for(qt<at&&J.getStartOffset(qt)<hi&&Kn(hi,J.getMetadata(qt));qt<at&&J.getEndOffset(qt)<fi;)Kn(J.getEndOffset(qt),J.getMetadata(qt)&fe|Rt&ee),qt++;if(qt<at)Kn(fi,J.getMetadata(qt)&fe|Rt&ee),J.getEndOffset(qt)===fi&&qt++;else{const it=Math.min(Math.max(0,qt-1),at-1);Kn(fi,J.getMetadata(it)&fe|Rt&ee)}}for(;qt<at;)Kn(J.getEndOffset(qt),J.getMetadata(qt)),qt++;return new gt.A(new Uint32Array(yn),J.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(R,J){let _e=0,je=R.length-1;for(;_e<je;){let Ye=_e+Math.floor((je-_e)/2);if(R[Ye].endLineNumber<J)_e=Ye+1;else{if(!(R[Ye].startLineNumber>J)){for(;Ye>_e&&R[Ye-1].startLineNumber<=J&&J<=R[Ye-1].endLineNumber;)Ye--;return Ye}je=Ye-1}}return _e}acceptEdit(R,J,_e,je,Ye){for(const at of this._pieces)at.acceptEdit(R,J,_e,je,Ye)}}class Yi extends pt.U{constructor(R,J,_e,je,Ye){super(),this._languageService=R,this._languageConfigurationService=J,this._textModel=_e,this.bracketPairsTextModelPart=je,this._languageId=Ye,this._onDidChangeLanguage=this._register(new S.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new S.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new S.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new S.Q5),this._tokens=new Eo(this._languageService.languageIdCodec),this._semanticTokens=new Io(this._languageService.languageIdCodec),this._tokenization=new Qi(_e,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(at=>{at.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(R,J,_e,je,Ye){this._tokens.acceptEdit(R,_e,je),this._semanticTokens.acceptEdit(R,_e,je,Ye,J.length>0?J.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(R){this._tokenization.handleDidChangeContent(R)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(R){if(2===this._backgroundTokenizationState)return;const J=R?2:1;this._backgroundTokenizationState!==J&&(this._backgroundTokenizationState=J,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(R,J=!1){if(0!==R.length){const _e=[];for(let je=0,Ye=R.length;je<Ye;je++){const at=R[je];let on=0,qt=0,yn=!1;for(let Tn=at.startLineNumber;Tn<=at.endLineNumber;Tn++)yn?(this._tokens.setTokens(this._languageId,Tn-1,this._textModel.getLineLength(Tn),at.getLineTokens(Tn),!1),qt=Tn):this._tokens.setTokens(this._languageId,Tn-1,this._textModel.getLineLength(Tn),at.getLineTokens(Tn),!0)&&(yn=!0,on=Tn,qt=Tn);yn&&_e.push({fromLineNumber:on,toLineNumber:qt})}_e.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:_e})}this.handleTokenizationProgress(J)}setSemanticTokens(R,J){this._semanticTokens.set(R,J),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==R,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(R,J){if(this.hasCompleteSemanticTokens())return;const _e=this._textModel.validateRange(this._semanticTokens.setPartial(R,J));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:_e.startLineNumber,toLineNumber:_e.endLineNumber}]})}tokenizeViewport(R,J){R=Math.max(1,R),J=Math.min(this._textModel.getLineCount(),J),this._tokenization.tokenizeViewport(R,J)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(R){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(R),this._onDidChangeTokens.fire(R))}resetTokenization(){this._tokenization.reset()}forceTokenization(R){if(R<1||R>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(R)}isCheapToTokenize(R){return this._tokenization.isCheapToTokenize(R)}tokenizeIfCheap(R){this.isCheapToTokenize(R)&&this.forceTokenization(R)}getLineTokens(R){if(R<1||R>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(R)}_getLineTokens(R){const J=this._textModel.getLineContent(R),_e=this._tokens.getTokens(this._languageId,R-1,J);return this._semanticTokens.addSparseTokens(R,_e)}getTokenTypeIfInsertingCharacter(R,J,_e){const je=this._textModel.validatePosition(new _.L(R,J));return this._tokenization.getTokenTypeIfInsertingCharacter(je,_e)}tokenizeLineWithEdit(R,J,_e){const je=this._textModel.validatePosition(R);return this._tokenization.tokenizeLineWithEdit(je,J,_e)}getLanguageConfiguration(R){return this._languageConfigurationService.getLanguageConfiguration(R)}getWordAtPosition(R){this.assertNotDisposed();const J=this._textModel.validatePosition(R),_e=this._textModel.getLineContent(J.lineNumber),je=this._getLineTokens(J.lineNumber),Ye=je.findTokenIndexAtOffset(J.column-1),[at,on]=Yi._findLanguageBoundaries(je,Ye),qt=(0,Yt.t2)(J.column,this.getLanguageConfiguration(je.getLanguageId(Ye)).getWordDefinition(),_e.substring(at,on),at);if(qt&&qt.startColumn<=R.column&&R.column<=qt.endColumn)return qt;if(Ye>0&&at===J.column-1){const[yn,Tn]=Yi._findLanguageBoundaries(je,Ye-1),Bn=(0,Yt.t2)(J.column,this.getLanguageConfiguration(je.getLanguageId(Ye-1)).getWordDefinition(),_e.substring(yn,Tn),yn);if(Bn&&Bn.startColumn<=R.column&&R.column<=Bn.endColumn)return Bn}return null}static _findLanguageBoundaries(R,J){const _e=R.getLanguageId(J);let je=0;for(let at=J;at>=0&&R.getLanguageId(at)===_e;at--)je=R.getStartOffset(at);let Ye=R.getLineContent().length;for(let at=J,on=R.getCount();at<on&&R.getLanguageId(at)===_e;at++)Ye=R.getEndOffset(at);return[je,Ye]}getWordUntilPosition(R){const J=this.getWordAtPosition(R);return J?{word:J.word.substr(0,R.column-J.startColumn),startColumn:J.startColumn,endColumn:R.column}:{word:"",startColumn:R.column,endColumn:R.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(R,J){const _e=this._textModel.validatePosition(new _.L(R,J)),je=this.getLineTokens(_e.lineNumber);return je.getLanguageId(je.findTokenIndexAtOffset(_e.column-1))}setLanguageId(R){if(this._languageId===R)return;const J={oldLanguage:this._languageId,newLanguage:R};this._languageId=R,this.bracketPairsTextModelPart.handleDidChangeLanguage(J),this._tokenization.handleDidChangeLanguage(J),this._onDidChangeLanguage.fire(J),this._onDidChangeLanguageConfiguration.fire({})}}var ho=e(54547),Ao=e(93633),Xt=function(Ft,R){return function(J,_e){R(J,_e,Ft)}};function Rn(Ft,R){let J;return J="string"==typeof Ft?function kt(Ft){const R=new si;return R.acceptChunk(Ft),R.finish()}(Ft):p.Hf(Ft)?function un(Ft){const R=new si;let J;for(;"string"==typeof(J=Ft.read());)R.acceptChunk(J);return R.finish()}(Ft):Ft,J.create(R)}let Wn=0;class sn{constructor(R){this._source=R,this._eos=!1}read(){if(this._eos)return null;const R=[];let J=0,_e=0;for(;;){const je=this._source.read();if(null===je)return this._eos=!0,0===J?null:R.join("");if(je.length>0&&(R[J++]=je,_e+=je.length),_e>=65536)return R.join("")}}}const tn=()=>{throw new Error("Invalid change accessor")};let xn=class $l extends v.JT{constructor(R,J,_e,je=null,Ye,at,on){super(),this._undoRedoService=Ye,this._languageService=at,this._languageConfigurationService=on,this._onWillDispose=this._register(new S.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new bi(Kn=>this.handleBeforeFireDecorationsChangedEvent(Kn))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new S.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new S.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new S.Q5),this._eventEmitter=this._register(new di),this._deltaDecorationCallCnt=0,Wn++,this.id="$model"+Wn,this.isForSimpleWidget=_e.isForSimpleWidget,this._associatedResource=typeof je>"u"||null===je?C.o.parse("inmemory://model/"+Wn):je,this._attachedEditorCount=0;const{textBuffer:qt,disposable:yn}=Rn(R,_e.defaultEOL);this._buffer=qt,this._bufferDisposable=yn,this._options=$l.resolveOptions(this._buffer,_e),this._bracketPairs=this._register(new ne(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new oe.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Ee(this)),this._tokenizationTextModelPart=new Yi(this._languageService,this._languageConfigurationService,this,this._bracketPairs,J);const Tn=this._buffer.getLineCount(),Bn=this._buffer.getValueLengthInRange(new s.e(1,1,Tn,this._buffer.getLineLength(Tn)+1),0);this._isTooLargeForTokenization=!!_e.largeFileOptimizations&&(Bn>$l.LARGE_FILE_SIZE_THRESHOLD||Tn>$l.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=Bn>$l.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=T.PJ(Wn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Pt,this._commandManager=new Ne.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(R,J){if(J.detectIndentation){const _e=me(R,J.tabSize,J.insertSpaces);return new p.dJ({tabSize:_e.tabSize,indentSize:_e.tabSize,insertSpaces:_e.insertSpaces,trimAutoWhitespace:J.trimAutoWhitespace,defaultEOL:J.defaultEOL,bracketPairColorizationOptions:J.bracketPairColorizationOptions})}return new p.dJ({tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,trimAutoWhitespace:J.trimAutoWhitespace,defaultEOL:J.defaultEOL,bracketPairColorizationOptions:J.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(R){return this._eventEmitter.slowEvent(J=>R(J.contentChangedEvent))}onDidChangeContentOrInjectedText(R){return(0,v.F8)(this._eventEmitter.fastEvent(J=>R(J)),this._onDidChangeInjectedText.event(J=>R(J)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const R=new uo([],"","\n",!1,!1,!0,!0);R.dispose(),this._buffer=R,this._bufferDisposable=v.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(R,J){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(J),this._bracketPairs.handleDidChangeContent(J),this._eventEmitter.fire(new ho.fV(R,J)))}setValue(R){if(this._assertNotDisposed(),null===R)return;const{textBuffer:J,disposable:_e}=Rn(R,this._options.defaultEOL);this._setValueFromTextBuffer(J,_e)}_createContentChanged2(R,J,_e,je,Ye,at,on){return{changes:[{range:R,rangeOffset:J,rangeLength:_e,text:je}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Ye,isRedoing:at,isFlush:on}}_setValueFromTextBuffer(R,J){this._assertNotDisposed();const _e=this.getFullModelRange(),je=this.getValueLengthInRange(_e),Ye=this.getLineCount(),at=this.getLineMaxColumn(Ye);this._buffer=R,this._bufferDisposable.dispose(),this._bufferDisposable=J,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Pt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new ho.dQ([new ho.Jx],this._versionId,!1,!1),this._createContentChanged2(new s.e(1,1,Ye,at),0,je,this.getValue(),!1,!1,!0))}setEOL(R){this._assertNotDisposed();const J=1===R?"\r\n":"\n";if(this._buffer.getEOL()===J)return;const _e=this.getFullModelRange(),je=this.getValueLengthInRange(_e),Ye=this.getLineCount(),at=this.getLineMaxColumn(Ye);this._onBeforeEOLChange(),this._buffer.setEOL(J),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new ho.dQ([new ho.CZ],this._versionId,!1,!1),this._createContentChanged2(new s.e(1,1,Ye,at),0,je,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const R=this.getVersionId(),J=this._decorationsTree.collectNodesPostOrder();for(let _e=0,je=J.length;_e<je;_e++){const Ye=J[_e],at=Ye.range,on=Ye.cachedAbsoluteStart-Ye.start,qt=this._buffer.getOffsetAt(at.startLineNumber,at.startColumn),yn=this._buffer.getOffsetAt(at.endLineNumber,at.endColumn);Ye.cachedAbsoluteStart=qt,Ye.cachedAbsoluteEnd=yn,Ye.cachedVersionId=R,Ye.start=qt-on,Ye.end=yn-on,jt(Ye)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let R=0,J=0;const _e=this._buffer.getLineCount();for(let je=1;je<=_e;je++){const Ye=this._buffer.getLineLength(je);Ye>=1e4?J+=Ye:R+=Ye}return J>R}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(R){this._assertNotDisposed();const on=new p.dJ({tabSize:typeof R.tabSize<"u"?R.tabSize:this._options.tabSize,indentSize:typeof R.indentSize<"u"?R.indentSize:this._options.indentSize,insertSpaces:typeof R.insertSpaces<"u"?R.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:typeof R.trimAutoWhitespace<"u"?R.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:typeof R.bracketColorizationOptions<"u"?R.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(on))return;const qt=this._options.createChangeEvent(on);this._options=on,this._bracketPairs.handleDidChangeOptions(qt),this._decorationProvider.handleDidChangeOptions(qt),this._onDidChangeOptions.fire(qt)}detectIndentation(R,J){this._assertNotDisposed();const _e=me(this._buffer,J,R);this.updateOptions({insertSpaces:_e.insertSpaces,tabSize:_e.tabSize,indentSize:_e.tabSize})}normalizeIndentation(R){return this._assertNotDisposed(),(0,L.x)(R,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(R=null){const J=this.findMatches(T.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(R,J.map(_e=>({range:_e.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(R){this._assertNotDisposed();const J=this._validatePosition(R.lineNumber,R.column,0);return this._buffer.getOffsetAt(J.lineNumber,J.column)}getPositionAt(R){this._assertNotDisposed();const J=Math.min(this._buffer.getLength(),Math.max(0,R));return this._buffer.getPositionAt(J)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(R){this._versionId=R}_overwriteAlternativeVersionId(R){this._alternativeVersionId=R}_overwriteInitialUndoRedoSnapshot(R){this._initialUndoRedoSnapshot=R}getValue(R,J=!1){this._assertNotDisposed();const _e=this.getFullModelRange(),je=this.getValueInRange(_e,R);return J?this._buffer.getBOM()+je:je}createSnapshot(R=!1){return new sn(this._buffer.createSnapshot(R))}getValueLength(R,J=!1){this._assertNotDisposed();const _e=this.getFullModelRange(),je=this.getValueLengthInRange(_e,R);return J?this._buffer.getBOM().length+je:je}getValueInRange(R,J=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(R),J)}getValueLengthInRange(R,J=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(R),J)}getCharacterCountInRange(R,J=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(R),J)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(R)}getLineLength(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(R)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(R){return this._assertNotDisposed(),1}getLineMaxColumn(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(R)+1}getLineFirstNonWhitespaceColumn(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(R)}getLineLastNonWhitespaceColumn(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(R)}_validateRangeRelaxedNoAllocations(R){const J=this._buffer.getLineCount(),_e=R.startLineNumber,je=R.startColumn;let Ye=Math.floor("number"!=typeof _e||isNaN(_e)?1:_e),at=Math.floor("number"!=typeof je||isNaN(je)?1:je);if(Ye<1)Ye=1,at=1;else if(Ye>J)Ye=J,at=this.getLineMaxColumn(Ye);else if(at<=1)at=1;else{const Bn=this.getLineMaxColumn(Ye);at>=Bn&&(at=Bn)}const on=R.endLineNumber,qt=R.endColumn;let yn=Math.floor("number"!=typeof on||isNaN(on)?1:on),Tn=Math.floor("number"!=typeof qt||isNaN(qt)?1:qt);if(yn<1)yn=1,Tn=1;else if(yn>J)yn=J,Tn=this.getLineMaxColumn(yn);else if(Tn<=1)Tn=1;else{const Bn=this.getLineMaxColumn(yn);Tn>=Bn&&(Tn=Bn)}return _e===Ye&&je===at&&on===yn&&qt===Tn&&R instanceof s.e&&!(R instanceof m.Y)?R:new s.e(Ye,at,yn,Tn)}_isValidPosition(R,J,_e){if("number"!=typeof R||"number"!=typeof J||isNaN(R)||isNaN(J)||R<1||J<1||(0|R)!==R||(0|J)!==J)return!1;if(R>this._buffer.getLineCount())return!1;if(1===J)return!0;if(J>this.getLineMaxColumn(R))return!1;if(1===_e){const at=this._buffer.getLineCharCode(R,J-2);if(T.ZG(at))return!1}return!0}_validatePosition(R,J,_e){const je=Math.floor("number"!=typeof R||isNaN(R)?1:R),Ye=Math.floor("number"!=typeof J||isNaN(J)?1:J),at=this._buffer.getLineCount();if(je<1)return new _.L(1,1);if(je>at)return new _.L(at,this.getLineMaxColumn(at));if(Ye<=1)return new _.L(je,1);const on=this.getLineMaxColumn(je);if(Ye>=on)return new _.L(je,on);if(1===_e){const qt=this._buffer.getLineCharCode(je,Ye-2);if(T.ZG(qt))return new _.L(je,Ye-1)}return new _.L(je,Ye)}validatePosition(R){return this._assertNotDisposed(),R instanceof _.L&&this._isValidPosition(R.lineNumber,R.column,1)?R:this._validatePosition(R.lineNumber,R.column,1)}_isValidRange(R,J){const _e=R.startLineNumber,je=R.startColumn,Ye=R.endLineNumber,at=R.endColumn;if(!this._isValidPosition(_e,je,0)||!this._isValidPosition(Ye,at,0))return!1;if(1===J){const on=je>1?this._buffer.getLineCharCode(_e,je-2):0,qt=at>1&&at<=this._buffer.getLineLength(Ye)?this._buffer.getLineCharCode(Ye,at-2):0,yn=T.ZG(on),Tn=T.ZG(qt);return!yn&&!Tn}return!0}validateRange(R){if(this._assertNotDisposed(),R instanceof s.e&&!(R instanceof m.Y)&&this._isValidRange(R,1))return R;const _e=this._validatePosition(R.startLineNumber,R.startColumn,0),je=this._validatePosition(R.endLineNumber,R.endColumn,0),Ye=_e.lineNumber,at=_e.column,on=je.lineNumber,qt=je.column;{const yn=at>1?this._buffer.getLineCharCode(Ye,at-2):0,Tn=qt>1&&qt<=this._buffer.getLineLength(on)?this._buffer.getLineCharCode(on,qt-2):0,Bn=T.ZG(yn),Kn=T.ZG(Tn);return Bn||Kn?Ye===on&&at===qt?new s.e(Ye,at-1,on,qt-1):Bn&&Kn?new s.e(Ye,at-1,on,qt+1):Bn?new s.e(Ye,at-1,on,qt):new s.e(Ye,at,on,qt+1):new s.e(Ye,at,on,qt)}}modifyPosition(R,J){this._assertNotDisposed();const _e=this.getOffsetAt(R)+J;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,_e)))}getFullModelRange(){this._assertNotDisposed();const R=this.getLineCount();return new s.e(1,1,R,this.getLineMaxColumn(R))}findMatchesLineByLine(R,J,_e,je){return this._buffer.findMatchesLineByLine(R,J,_e,je)}findMatches(R,J,_e,je,Ye,at,on=999){this._assertNotDisposed();let qt=null;null!==J&&(Array.isArray(J)||(J=[J]),J.every(Bn=>s.e.isIRange(Bn))&&(qt=J.map(Bn=>this.validateRange(Bn)))),null===qt&&(qt=[this.getFullModelRange()]),qt=qt.sort((Bn,Kn)=>Bn.startLineNumber-Kn.startLineNumber||Bn.startColumn-Kn.startColumn);const yn=[];let Tn;if(yn.push(qt.reduce((Bn,Kn)=>s.e.areIntersecting(Bn,Kn)?Bn.plusRange(Kn):(yn.push(Bn),Kn))),!_e&&R.indexOf("\n")<0){const Kn=new St.bc(R,_e,je,Ye).parseSearchRequest();if(!Kn)return[];Tn=ni=>this.findMatchesLineByLine(ni,Kn,at,on)}else Tn=Bn=>St.pM.findMatches(this,new St.bc(R,_e,je,Ye),Bn,at,on);return yn.map(Tn).reduce((Bn,Kn)=>Bn.concat(Kn),[])}findNextMatch(R,J,_e,je,Ye,at){this._assertNotDisposed();const on=this.validatePosition(J);if(!_e&&R.indexOf("\n")<0){const yn=new St.bc(R,_e,je,Ye).parseSearchRequest();if(!yn)return null;const Tn=this.getLineCount();let Bn=new s.e(on.lineNumber,on.column,Tn,this.getLineMaxColumn(Tn)),Kn=this.findMatchesLineByLine(Bn,yn,at,1);return St.pM.findNextMatch(this,new St.bc(R,_e,je,Ye),on,at),Kn.length>0||(Bn=new s.e(1,1,on.lineNumber,this.getLineMaxColumn(on.lineNumber)),Kn=this.findMatchesLineByLine(Bn,yn,at,1),Kn.length>0)?Kn[0]:null}return St.pM.findNextMatch(this,new St.bc(R,_e,je,Ye),on,at)}findPreviousMatch(R,J,_e,je,Ye,at){this._assertNotDisposed();const on=this.validatePosition(J);return St.pM.findPreviousMatch(this,new St.bc(R,_e,je,Ye),on,at)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(R){if(("\n"===this.getEOL()?0:1)!==R)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(R)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(R){return R instanceof p.Qi?R:new p.Qi(R.identifier||null,this.validateRange(R.range),R.text,R.forceMoveMarkers||!1,R.isAutoWhitespaceEdit||!1,R._isTracked||!1)}_validateEditOperations(R){const J=[];for(let _e=0,je=R.length;_e<je;_e++)J[_e]=this._validateEditOperation(R[_e]);return J}pushEditOperations(R,J,_e){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(R,this._validateEditOperations(J),_e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(R,J,_e){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const je=J.map(at=>({range:this.validateRange(at.range),text:at.text}));let Ye=!0;if(R)for(let at=0,on=R.length;at<on;at++){const qt=R[at];let yn=!1;for(let Tn=0,Bn=je.length;Tn<Bn;Tn++){const Kn=je[Tn].range,hi=qt.startLineNumber>Kn.endLineNumber;if(!(Kn.startLineNumber>qt.endLineNumber||hi)){yn=!0;break}}if(!yn){Ye=!1;break}}if(Ye)for(let at=0,on=this._trimAutoWhitespaceLines.length;at<on;at++){const qt=this._trimAutoWhitespaceLines[at],yn=this.getLineMaxColumn(qt);let Tn=!0;for(let Bn=0,Kn=je.length;Bn<Kn;Bn++){const ni=je[Bn].range,hi=je[Bn].text;if(!(qt<ni.startLineNumber||qt>ni.endLineNumber||qt===ni.startLineNumber&&ni.startColumn===yn&&ni.isEmpty()&&hi&&hi.length>0&&"\n"===hi.charAt(0)||qt===ni.startLineNumber&&1===ni.startColumn&&ni.isEmpty()&&hi&&hi.length>0&&"\n"===hi.charAt(hi.length-1))){Tn=!1;break}}if(Tn){const Bn=new s.e(qt,1,qt,yn);J.push(new p.Qi(null,Bn,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(R,J,_e)}_applyUndo(R,J,_e,je){const Ye=R.map(at=>{const on=this.getPositionAt(at.newPosition),qt=this.getPositionAt(at.newEnd);return{range:new s.e(on.lineNumber,on.column,qt.lineNumber,qt.column),text:at.oldText}});this._applyUndoRedoEdits(Ye,J,!0,!1,_e,je)}_applyRedo(R,J,_e,je){const Ye=R.map(at=>{const on=this.getPositionAt(at.oldPosition),qt=this.getPositionAt(at.oldEnd);return{range:new s.e(on.lineNumber,on.column,qt.lineNumber,qt.column),text:at.newText}});this._applyUndoRedoEdits(Ye,J,!1,!0,_e,je)}_applyUndoRedoEdits(R,J,_e,je,Ye,at){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=_e,this._isRedoing=je,this.applyEdits(R,!1),this.setEOL(J),this._overwriteAlternativeVersionId(Ye)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(at),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(R,J=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const _e=this._validateEditOperations(R);return this._doApplyEdits(_e,J)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(R,J){const _e=this._buffer.getLineCount(),je=this._buffer.applyEdits(R,this._options.trimAutoWhitespace,J),Ye=this._buffer.getLineCount(),at=je.changes;if(this._trimAutoWhitespaceLines=je.trimAutoWhitespaceLineNumbers,0!==at.length){for(let yn=0,Tn=at.length;yn<Tn;yn++){const Bn=at[yn],[Kn,ni,hi]=(0,E.Q)(Bn.text);this._tokenizationTextModelPart.acceptEdit(Bn.range,Bn.text,Kn,ni,hi),this._decorationsTree.acceptReplace(Bn.rangeOffset,Bn.rangeLength,Bn.text.length,Bn.forceMoveMarkers)}const on=[];this._increaseVersionId();let qt=_e;for(let yn=0,Tn=at.length;yn<Tn;yn++){const Bn=at[yn],[Kn]=(0,E.Q)(Bn.text);this._onDidChangeDecorations.fire();const ni=Bn.range.startLineNumber,hi=Bn.range.endLineNumber,fi=hi-ni,Rt=Kn,ee=Math.min(fi,Rt),fe=Rt-fi,it=Ye-qt-fe+ni,en=it+Rt,Tt=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new _.L(it,1)),this.getOffsetAt(new _.L(en,this.getLineMaxColumn(en))),0),q=ho.gk.fromDecorations(Tt),Te=new d.H9(q);for(let rt=ee;rt>=0;rt--){const Gt=ni+rt,cn=it+rt;Te.takeFromEndWhile(In=>In.lineNumber>cn);const Ln=Te.takeFromEndWhile(In=>In.lineNumber===cn);on.push(new ho.rU(Gt,this.getLineContent(cn),Ln))}if(ee<fi&&on.push(new ho.lN(ni+ee+1,hi)),ee<Rt){const rt=new d.H9(q),Gt=ni+ee,cn=Rt-ee,Ln=Ye-qt-cn+Gt+1,In=[],ei=[];for(let Jn=0;Jn<cn;Jn++){const gi=Ln+Jn;ei[Jn]=this.getLineContent(gi),rt.takeWhile(pi=>pi.lineNumber<gi),In[Jn]=rt.takeWhile(pi=>pi.lineNumber===gi)}on.push(new ho.Tx(Gt+1,ni+Rt,ei,In))}qt+=fe}this._emitContentChangedEvent(new ho.dQ(on,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:at,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===je.reverseEdits?void 0:je.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(R){if(null===R||0===R.size)return;const _e=Array.from(R).map(je=>new ho.rU(je,this.getLineContent(je),this._getInjectedTextInLine(je)));this._onDidChangeInjectedText.fire(new ho.D8(_e))}changeDecorations(R,J=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(J,R)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(R,J){const _e={addDecoration:(Ye,at)=>this._deltaDecorationsImpl(R,[],[{range:Ye,options:at}])[0],changeDecoration:(Ye,at)=>{this._changeDecorationImpl(Ye,at)},changeDecorationOptions:(Ye,at)=>{this._changeDecorationOptionsImpl(Ye,Ii(at))},removeDecoration:Ye=>{this._deltaDecorationsImpl(R,[Ye],[])},deltaDecorations:(Ye,at)=>0===Ye.length&&0===at.length?[]:this._deltaDecorationsImpl(R,Ye,at)};let je=null;try{je=J(_e)}catch(Ye){(0,l.dL)(Ye)}return _e.addDecoration=tn,_e.changeDecoration=tn,_e.changeDecorationOptions=tn,_e.removeDecoration=tn,_e.deltaDecorations=tn,je}deltaDecorations(R,J,_e=0){if(this._assertNotDisposed(),R||(R=[]),0===R.length&&0===J.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,l.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(_e,R,J)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(R){return this.getDecorationRange(R)}_setTrackedRange(R,J,_e){const je=R?this._decorations[R]:null;if(!je)return J?this._deltaDecorationsImpl(0,[],[{range:J,options:Hn[_e]}])[0]:null;if(!J)return this._decorationsTree.delete(je),delete this._decorations[je.id],null;const Ye=this._validateRangeRelaxedNoAllocations(J),at=this._buffer.getOffsetAt(Ye.startLineNumber,Ye.startColumn),on=this._buffer.getOffsetAt(Ye.endLineNumber,Ye.endColumn);return this._decorationsTree.delete(je),je.reset(this.getVersionId(),at,on,Ye),je.setOptions(Hn[_e]),this._decorationsTree.insert(je),je.id}removeAllDecorationsWithOwnerId(R){if(this._isDisposed)return;const J=this._decorationsTree.collectNodesFromOwner(R);for(let _e=0,je=J.length;_e<je;_e++){const Ye=J[_e];this._decorationsTree.delete(Ye),delete this._decorations[Ye.id]}}getDecorationOptions(R){const J=this._decorations[R];return J?J.options:null}getDecorationRange(R){const J=this._decorations[R];return J?this._decorationsTree.getNodeRange(this,J):null}getLineDecorations(R,J=0,_e=!1){return R<1||R>this.getLineCount()?[]:this.getLinesDecorations(R,R,J,_e)}getLinesDecorations(R,J,_e=0,je=!1){const Ye=this.getLineCount(),at=Math.min(Ye,Math.max(1,R)),on=Math.min(Ye,Math.max(1,J)),qt=this.getLineMaxColumn(on),yn=new s.e(at,1,on,qt),Tn=this._getDecorationsInRange(yn,_e,je);return(0,d.vA)(Tn,this._decorationProvider.getDecorationsInRange(yn,_e,je)),Tn}getDecorationsInRange(R,J=0,_e=!1){const je=this.validateRange(R),Ye=this._getDecorationsInRange(je,J,_e);return(0,d.vA)(Ye,this._decorationProvider.getDecorationsInRange(je,J,_e)),Ye}getOverviewRulerDecorations(R=0,J=!1){return this._decorationsTree.getAll(this,R,J,!0)}getInjectedTextDecorations(R=0){return this._decorationsTree.getAllInjectedText(this,R)}_getInjectedTextInLine(R){const J=this._buffer.getOffsetAt(R,1),_e=J+this._buffer.getLineLength(R),je=this._decorationsTree.getInjectedTextInInterval(this,J,_e,0);return ho.gk.fromDecorations(je).filter(Ye=>Ye.lineNumber===R)}getAllDecorations(R=0,J=!1){let _e=this._decorationsTree.getAll(this,R,J,!1);return _e=_e.concat(this._decorationProvider.getAllDecorations(R,J)),_e}_getDecorationsInRange(R,J,_e){const je=this._buffer.getOffsetAt(R.startLineNumber,R.startColumn),Ye=this._buffer.getOffsetAt(R.endLineNumber,R.endColumn);return this._decorationsTree.getAllInInterval(this,je,Ye,J,_e)}getRangeAt(R,J){return this._buffer.getRangeAt(R,J-R)}_changeDecorationImpl(R,J){const _e=this._decorations[R];if(!_e)return;if(_e.options.after){const on=this.getDecorationRange(R);this._onDidChangeDecorations.recordLineAffectedByInjectedText(on.endLineNumber)}if(_e.options.before){const on=this.getDecorationRange(R);this._onDidChangeDecorations.recordLineAffectedByInjectedText(on.startLineNumber)}const je=this._validateRangeRelaxedNoAllocations(J),Ye=this._buffer.getOffsetAt(je.startLineNumber,je.startColumn),at=this._buffer.getOffsetAt(je.endLineNumber,je.endColumn);this._decorationsTree.delete(_e),_e.reset(this.getVersionId(),Ye,at,je),this._decorationsTree.insert(_e),this._onDidChangeDecorations.checkAffectedAndFire(_e.options),_e.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(je.endLineNumber),_e.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(je.startLineNumber)}_changeDecorationOptionsImpl(R,J){const _e=this._decorations[R];if(!_e)return;const je=!(!_e.options.overviewRuler||!_e.options.overviewRuler.color),Ye=!(!J.overviewRuler||!J.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(_e.options),this._onDidChangeDecorations.checkAffectedAndFire(J),_e.options.after||J.after){const at=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(at.endLineNumber)}if(_e.options.before||J.before){const at=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(at.startLineNumber)}je!==Ye?(this._decorationsTree.delete(_e),_e.setOptions(J),this._decorationsTree.insert(_e)):_e.setOptions(J)}_deltaDecorationsImpl(R,J,_e){const je=this.getVersionId(),Ye=J.length;let at=0;const on=_e.length;let qt=0;const yn=new Array(on);for(;at<Ye||qt<on;){let Tn=null;if(at<Ye){do{Tn=this._decorations[J[at++]]}while(!Tn&&at<Ye);if(Tn){if(Tn.options.after){const Bn=this._decorationsTree.getNodeRange(this,Tn);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bn.endLineNumber)}if(Tn.options.before){const Bn=this._decorationsTree.getNodeRange(this,Tn);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bn.startLineNumber)}this._decorationsTree.delete(Tn),this._onDidChangeDecorations.checkAffectedAndFire(Tn.options)}}if(qt<on){if(!Tn){const Rt=++this._lastDecorationId,ee=`${this._instanceId};${Rt}`;Tn=new $e(ee,0,0),this._decorations[ee]=Tn}const Bn=_e[qt],Kn=this._validateRangeRelaxedNoAllocations(Bn.range),ni=Ii(Bn.options),hi=this._buffer.getOffsetAt(Kn.startLineNumber,Kn.startColumn),fi=this._buffer.getOffsetAt(Kn.endLineNumber,Kn.endColumn);Tn.ownerId=R,Tn.reset(je,hi,fi,Kn),Tn.setOptions(ni),Tn.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Kn.endLineNumber),Tn.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Kn.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ni),this._decorationsTree.insert(Tn),yn[qt]=Tn.id,qt++}else Tn&&delete this._decorations[Tn.id]}return yn}getLanguageId(){return this.tokenization.getLanguageId()}setMode(R){this.tokenization.setLanguageId(R)}getLanguageIdAtPosition(R,J){return this.tokenization.getLanguageIdAtPosition(R,J)}getWordAtPosition(R){return this._tokenizationTextModelPart.getWordAtPosition(R)}getWordUntilPosition(R){return this._tokenizationTextModelPart.getWordUntilPosition(R)}normalizePosition(R,J){return R}getLineIndentColumn(R){return function Pn(Ft){let R=0;for(const J of Ft){if(" "!==J&&"\t"!==J)break;R++}return R}(this.getLineContent(R))+1}};function En(Ft){return!(!Ft.options.overviewRuler||!Ft.options.overviewRuler.color)}function ut(Ft){return!!Ft.options.after||!!Ft.options.before}xn.MODEL_SYNC_LIMIT=52428800,xn.LARGE_FILE_SIZE_THRESHOLD=20971520,xn.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,xn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:c.D.tabSize,indentSize:c.D.indentSize,insertSpaces:c.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:c.D.trimAutoWhitespace,largeFileOptimizations:c.D.largeFileOptimizations,bracketPairColorizationOptions:c.D.bracketPairColorizationOptions},xn=function(Ft,R,J,_e){var at,je=arguments.length,Ye=je<3?R:null===_e?_e=Object.getOwnPropertyDescriptor(R,J):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(Ft,R,J,_e);else for(var on=Ft.length-1;on>=0;on--)(at=Ft[on])&&(Ye=(je<3?at(Ye):je>3?at(R,J,Ye):at(R,J))||Ye);return je>3&&Ye&&Object.defineProperty(R,J,Ye),Ye}([Xt(4,Ao.tJ),Xt(5,t.O),Xt(6,a.c_)],xn);class Pt{constructor(){this._decorationsTree0=new ve,this._decorationsTree1=new ve,this._injectedTextDecorationsTree=new ve}ensureAllNodesHaveRanges(R){this.getAll(R,0,!1,!1)}_ensureNodesHaveRanges(R,J){for(const _e of J)null===_e.range&&(_e.range=R.getRangeAt(_e.cachedAbsoluteStart,_e.cachedAbsoluteEnd));return J}getAllInInterval(R,J,_e,je,Ye){const at=R.getVersionId(),on=this._intervalSearch(J,_e,je,Ye,at);return this._ensureNodesHaveRanges(R,on)}_intervalSearch(R,J,_e,je,Ye){const at=this._decorationsTree0.intervalSearch(R,J,_e,je,Ye),on=this._decorationsTree1.intervalSearch(R,J,_e,je,Ye),qt=this._injectedTextDecorationsTree.intervalSearch(R,J,_e,je,Ye);return at.concat(on).concat(qt)}getInjectedTextInInterval(R,J,_e,je){const Ye=R.getVersionId(),at=this._injectedTextDecorationsTree.intervalSearch(J,_e,je,!1,Ye);return this._ensureNodesHaveRanges(R,at).filter(on=>on.options.showIfCollapsed||!on.range.isEmpty())}getAllInjectedText(R,J){const _e=R.getVersionId(),je=this._injectedTextDecorationsTree.search(J,!1,_e);return this._ensureNodesHaveRanges(R,je).filter(Ye=>Ye.options.showIfCollapsed||!Ye.range.isEmpty())}getAll(R,J,_e,je){const Ye=R.getVersionId(),at=this._search(J,_e,je,Ye);return this._ensureNodesHaveRanges(R,at)}_search(R,J,_e,je){if(_e)return this._decorationsTree1.search(R,J,je);{const Ye=this._decorationsTree0.search(R,J,je),at=this._decorationsTree1.search(R,J,je),on=this._injectedTextDecorationsTree.search(R,J,je);return Ye.concat(at).concat(on)}}collectNodesFromOwner(R){const J=this._decorationsTree0.collectNodesFromOwner(R),_e=this._decorationsTree1.collectNodesFromOwner(R),je=this._injectedTextDecorationsTree.collectNodesFromOwner(R);return J.concat(_e).concat(je)}collectNodesPostOrder(){const R=this._decorationsTree0.collectNodesPostOrder(),J=this._decorationsTree1.collectNodesPostOrder(),_e=this._injectedTextDecorationsTree.collectNodesPostOrder();return R.concat(J).concat(_e)}insert(R){ut(R)?this._injectedTextDecorationsTree.insert(R):En(R)?this._decorationsTree1.insert(R):this._decorationsTree0.insert(R)}delete(R){ut(R)?this._injectedTextDecorationsTree.delete(R):En(R)?this._decorationsTree1.delete(R):this._decorationsTree0.delete(R)}getNodeRange(R,J){const _e=R.getVersionId();return J.cachedVersionId!==_e&&this._resolveNode(J,_e),null===J.range&&(J.range=R.getRangeAt(J.cachedAbsoluteStart,J.cachedAbsoluteEnd)),J.range}_resolveNode(R,J){ut(R)?this._injectedTextDecorationsTree.resolveNode(R,J):En(R)?this._decorationsTree1.resolveNode(R,J):this._decorationsTree0.resolveNode(R,J)}acceptReplace(R,J,_e,je){this._decorationsTree0.acceptReplace(R,J,_e,je),this._decorationsTree1.acceptReplace(R,J,_e,je),this._injectedTextDecorationsTree.acceptReplace(R,J,_e,je)}}function Ht(Ft){return Ft.replace(/[^a-z0-9\-_]/gi," ")}class Qt{constructor(R){this.color=R.color||"",this.darkColor=R.darkColor||""}}class bn extends Qt{constructor(R){super(R),this._resolvedColor=null,this.position="number"==typeof R.position?R.position:p.sh.Center}getColor(R){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==R.type&&this.darkColor?this.darkColor:this.color,R)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(R,J){if("string"==typeof R)return R;const _e=R?J.getColor(R.id):null;return _e?_e.toString():""}}class Re extends Qt{constructor(R){super(R),this.position=R.position}getColor(R){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==R.type&&this.darkColor?this.darkColor:this.color,R)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(R,J){return"string"==typeof R?n.Il.fromHex(R):J.getColor(R.id)}}class ct{constructor(R){this.content=R.content||"",this.inlineClassName=R.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=R.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=R.attachedData||null,this.cursorStops=R.cursorStops||null}static from(R){return R instanceof ct?R:new ct(R)}}class Cn{constructor(R){var J,_e;this.description=R.description,this.blockClassName=R.blockClassName?Ht(R.blockClassName):null,this.stickiness=R.stickiness||0,this.zIndex=R.zIndex||0,this.className=R.className?Ht(R.className):null,this.hoverMessage=R.hoverMessage||null,this.glyphMarginHoverMessage=R.glyphMarginHoverMessage||null,this.isWholeLine=R.isWholeLine||!1,this.showIfCollapsed=R.showIfCollapsed||!1,this.collapseOnReplaceEdit=R.collapseOnReplaceEdit||!1,this.overviewRuler=R.overviewRuler?new bn(R.overviewRuler):null,this.minimap=R.minimap?new Re(R.minimap):null,this.glyphMarginClassName=R.glyphMarginClassName?Ht(R.glyphMarginClassName):null,this.linesDecorationsClassName=R.linesDecorationsClassName?Ht(R.linesDecorationsClassName):null,this.firstLineDecorationClassName=R.firstLineDecorationClassName?Ht(R.firstLineDecorationClassName):null,this.marginClassName=R.marginClassName?Ht(R.marginClassName):null,this.inlineClassName=R.inlineClassName?Ht(R.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=R.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=R.beforeContentClassName?Ht(R.beforeContentClassName):null,this.afterContentClassName=R.afterContentClassName?Ht(R.afterContentClassName):null,this.after=R.after?ct.from(R.after):null,this.before=R.before?ct.from(R.before):null,this.hideInCommentTokens=null!==(J=R.hideInCommentTokens)&&void 0!==J&&J,this.hideInStringTokens=null!==(_e=R.hideInStringTokens)&&void 0!==_e&&_e}static register(R){return new Cn(R)}static createDynamic(R){return new Cn(R)}}Cn.EMPTY=Cn.register({description:"empty"});const Hn=[Cn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Cn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Cn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Cn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Ii(Ft){return Ft instanceof Cn?Ft:Cn.createDynamic(Ft)}class bi extends v.JT{constructor(R){super(),this.handleBeforeFire=R,this._actual=this._register(new S.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var R;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const J={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(J)}null===(R=this._affectedInjectedTextLines)||void 0===R||R.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(R){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(R)}checkAffectedAndFire(R){this._affectsMinimap||(this._affectsMinimap=!(!R.minimap||!R.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!R.overviewRuler||!R.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class di extends v.JT{constructor(){super(),this._fastEmitter=this._register(new S.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new S.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(R=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=R;const J=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(J),this._slowEmitter.fire(J)}}fire(R){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(R):R:(this._fastEmitter.fire(R),this._slowEmitter.fire(R))}}},32368:(Dt,Y,e)=>{"use strict";e.d(Y,{U:()=>n});var d=e(80142);class n extends d.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},56952:(Dt,Y,e)=>{"use strict";e.d(Y,{bc:()=>C,cM:()=>t,iE:()=>L,pM:()=>s,sz:()=>a});var d=e(73879),n=e(91609),l=e(18723),S=e(98570),v=e(47629);class C{constructor(u,g,b,y){this.searchString=u,this.isRegex=g,this.matchCase=b,this.wordSeparators=y}parseSearchRequest(){if(""===this.searchString)return null;let u;u=this.isRegex?function E(p){if(!p||0===p.length)return!1;for(let u=0,g=p.length;u<g;u++){const b=p.charCodeAt(u);if(10===b)return!0;if(92===b){if(u++,u>=g)break;const y=p.charCodeAt(u);if(110===y||114===y||87===y)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let g=null;try{g=d.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:u,global:!0,unicode:!0})}catch{return null}if(!g)return null;let b=!this.isRegex&&!u;return b&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(b=this.matchCase),new v.Tx(g,this.wordSeparators?(0,n.u)(this.wordSeparators):null,b?this.searchString:null)}}function L(p,u,g){if(!g)return new v.tk(p,null);const b=[];for(let y=0,w=u.length;y<w;y++)b[y]=u[y];return new v.tk(p,b)}class _{constructor(u){const g=[];let b=0;for(let y=0,w=u.length;y<w;y++)10===u.charCodeAt(y)&&(g[b++]=y);this._lineFeedsOffsets=g}findLineFeedCountBeforeOffset(u){const g=this._lineFeedsOffsets;let b=0,y=g.length-1;if(-1===y||u<=g[0])return 0;for(;b<y;){const w=b+((y-b)/2>>0);g[w]>=u?y=w-1:g[w+1]>=u?(b=w,y=w):b=w+1}return b+1}}class s{static findMatches(u,g,b,y,w){const D=g.parseSearchRequest();return D?D.regex.multiline?this._doFindMatchesMultiline(u,b,new a(D.wordSeparators,D.regex),y,w):this._doFindMatchesLineByLine(u,b,D,y,w):[]}static _getMultilineMatchRange(u,g,b,y,w,D){let x,O,P=0;if(y?(P=y.findLineFeedCountBeforeOffset(w),x=g+w+P):x=g+w,y){const k=y.findLineFeedCountBeforeOffset(w+D.length)-P;O=x+D.length+k}else O=x+D.length;const V=u.getPositionAt(x),H=u.getPositionAt(O);return new S.e(V.lineNumber,V.column,H.lineNumber,H.column)}static _doFindMatchesMultiline(u,g,b,y,w){const D=u.getOffsetAt(g.getStartPosition()),x=u.getValueInRange(g,1),P="\r\n"===u.getEOL()?new _(x):null,O=[];let H,V=0;for(b.reset(0);H=b.next(x);)if(O[V++]=L(this._getMultilineMatchRange(u,D,x,P,H.index,H[0]),H,y),V>=w)return O;return O}static _doFindMatchesLineByLine(u,g,b,y,w){const D=[];let x=0;if(g.startLineNumber===g.endLineNumber){const O=u.getLineContent(g.startLineNumber).substring(g.startColumn-1,g.endColumn-1);return x=this._findMatchesInLine(b,O,g.startLineNumber,g.startColumn-1,x,D,y,w),D}const P=u.getLineContent(g.startLineNumber).substring(g.startColumn-1);x=this._findMatchesInLine(b,P,g.startLineNumber,g.startColumn-1,x,D,y,w);for(let O=g.startLineNumber+1;O<g.endLineNumber&&x<w;O++)x=this._findMatchesInLine(b,u.getLineContent(O),O,0,x,D,y,w);if(x<w){const O=u.getLineContent(g.endLineNumber).substring(0,g.endColumn-1);x=this._findMatchesInLine(b,O,g.endLineNumber,0,x,D,y,w)}return D}static _findMatchesInLine(u,g,b,y,w,D,x,P){const O=u.wordSeparators;if(!x&&u.simpleSearch){const z=u.simpleSearch,k=z.length,F=g.length;let j=-k;for(;-1!==(j=g.indexOf(z,j+k));)if((!O||t(O,g,F,j,k))&&(D[w++]=new v.tk(new S.e(b,j+1+y,b,j+1+k+y),null),w>=P))return w;return w}const V=new a(u.wordSeparators,u.regex);let H;V.reset(0);do{if(H=V.next(g),H&&(D[w++]=L(new S.e(b,H.index+1+y,b,H.index+1+H[0].length+y),H,x),w>=P))return w}while(H);return w}static findNextMatch(u,g,b,y){const w=g.parseSearchRequest();if(!w)return null;const D=new a(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindNextMatchMultiline(u,b,D,y):this._doFindNextMatchLineByLine(u,b,D,y)}static _doFindNextMatchMultiline(u,g,b,y){const w=new l.L(g.lineNumber,1),D=u.getOffsetAt(w),x=u.getLineCount(),P=u.getValueInRange(new S.e(w.lineNumber,w.column,x,u.getLineMaxColumn(x)),1),O="\r\n"===u.getEOL()?new _(P):null;b.reset(g.column-1);const V=b.next(P);return V?L(this._getMultilineMatchRange(u,D,P,O,V.index,V[0]),V,y):1!==g.lineNumber||1!==g.column?this._doFindNextMatchMultiline(u,new l.L(1,1),b,y):null}static _doFindNextMatchLineByLine(u,g,b,y){const w=u.getLineCount(),D=g.lineNumber,x=u.getLineContent(D),P=this._findFirstMatchInLine(b,x,D,g.column,y);if(P)return P;for(let O=1;O<=w;O++){const V=(D+O-1)%w,H=u.getLineContent(V+1),z=this._findFirstMatchInLine(b,H,V+1,1,y);if(z)return z}return null}static _findFirstMatchInLine(u,g,b,y,w){u.reset(y-1);const D=u.next(g);return D?L(new S.e(b,D.index+1,b,D.index+1+D[0].length),D,w):null}static findPreviousMatch(u,g,b,y){const w=g.parseSearchRequest();if(!w)return null;const D=new a(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindPreviousMatchMultiline(u,b,D,y):this._doFindPreviousMatchLineByLine(u,b,D,y)}static _doFindPreviousMatchMultiline(u,g,b,y){const w=this._doFindMatchesMultiline(u,new S.e(1,1,g.lineNumber,g.column),b,y,9990);if(w.length>0)return w[w.length-1];const D=u.getLineCount();return g.lineNumber!==D||g.column!==u.getLineMaxColumn(D)?this._doFindPreviousMatchMultiline(u,new l.L(D,u.getLineMaxColumn(D)),b,y):null}static _doFindPreviousMatchLineByLine(u,g,b,y){const w=u.getLineCount(),D=g.lineNumber,x=u.getLineContent(D).substring(0,g.column-1),P=this._findLastMatchInLine(b,x,D,y);if(P)return P;for(let O=1;O<=w;O++){const V=(w+D-O-1)%w,H=u.getLineContent(V+1),z=this._findLastMatchInLine(b,H,V+1,y);if(z)return z}return null}static _findLastMatchInLine(u,g,b,y){let D,w=null;for(u.reset(0);D=u.next(g);)w=L(new S.e(b,D.index+1,b,D.index+1+D[0].length),D,y);return w}}function t(p,u,g,b,y){return function m(p,u,g,b,y){if(0===b)return!0;const w=u.charCodeAt(b-1);if(0!==p.get(w)||13===w||10===w)return!0;if(y>0){const D=u.charCodeAt(b);if(0!==p.get(D))return!0}return!1}(p,u,0,b,y)&&function c(p,u,g,b,y){if(b+y===g)return!0;const w=u.charCodeAt(b+y);if(0!==p.get(w)||13===w||10===w)return!0;if(y>0){const D=u.charCodeAt(b+y-1);if(0!==p.get(D))return!0}return!1}(p,u,g,b,y)}class a{constructor(u,g){this._wordSeparators=u,this._searchRegex=g,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(u){this._searchRegex.lastIndex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(u){const g=u.length;let b;do{if(this._prevMatchStartIndex+this._prevMatchLength===g||(b=this._searchRegex.exec(u),!b))return null;const y=b.index,w=b[0].length;if(y===this._prevMatchStartIndex&&w===this._prevMatchLength){if(0===w){d.ZH(u,g,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=y,this._prevMatchLength=w,!this._wordSeparators||t(this._wordSeparators,u,g,y,w))return b}while(b);return null}}},24927:(Dt,Y,e)=>{"use strict";function d(n,l){let S=0,v=0;const T=n.length;for(;v<T;){const C=n.charCodeAt(v);if(32===C)S++;else{if(9!==C)break;S=S-S%l+l}v++}return v===T?-1:S}e.d(Y,{q:()=>d})},48885:(Dt,Y,e)=>{"use strict";e.d(Y,{O:()=>s});var d=e(73888),n=e(3778),l=e(53993),S=e(59547),v=e(18723),T=e(98570),C=e(7233),E=e(45337),L=e(98104);let _=(()=>{class m{static chord(t,a){return(0,l.gx)(t,a)}}return m.CtrlCmd=2048,m.Shift=1024,m.Alt=512,m.WinCtrl=256,m})();function s(){return{editor:void 0,languages:void 0,CancellationTokenSource:d.A,Emitter:n.Q5,KeyCode:L.VD,KeyMod:_,Position:v.L,Range:T.e,Selection:C.Y,SelectionDirection:L.a$,MarkerSeverity:L.ZL,MarkerTag:L.eB,Uri:S.o,Token:E.WU}}},81534:(Dt,Y,e)=>{"use strict";e.d(Y,{p:()=>l});const l=(0,e(9265).yh)("editorWorkerService")},70590:(Dt,Y,e)=>{"use strict";e.d(Y,{Jc:()=>t,KO:()=>b,ML:()=>p,OG:()=>w,Vj:()=>m,Vl:()=>s});var d=e(73888),n=e(4125),l=e(59547),S=e(59602),v=e(66549),T=e(72715),C=e(45802),E=e(98570),L=e(90790),_=function(D,x,P,O){return new(P||(P=Promise))(function(H,z){function k(K){try{j(O.next(K))}catch(U){z(U)}}function F(K){try{j(O.throw(K))}catch(U){z(U)}}function j(K){K.done?H(K.value):function V(H){return H instanceof P?H:new P(function(z){z(H)})}(K.value).then(k,F)}j((O=O.apply(D,x||[])).next())})};function s(D){return D&&!!D.data}function m(D){return D&&Array.isArray(D.edits)}class c{constructor(x,P,O){this.provider=x,this.tokens=P,this.error=O}}function t(D,x){return D.has(x)}function p(D,x,P,O,V){return _(this,void 0,void 0,function*(){const H=function a(D,x){const P=D.orderedGroups(x);return P.length>0?P[0]:[]}(D,x),z=yield Promise.all(H.map(k=>_(this,void 0,void 0,function*(){let F,j=null;try{F=yield k.provideDocumentSemanticTokens(x,k===P?O:null,V)}catch(K){j=K,F=null}return(!F||!s(F)&&!m(F))&&(F=null),new c(k,F,j)})));for(const k of z){if(k.error)throw k.error;if(k.tokens)return k}return z.length>0?z[0]:null})}class g{constructor(x,P){this.provider=x,this.tokens=P}}function b(D,x){return D.has(x)}function y(D,x){const P=D.orderedGroups(x);return P.length>0?P[0]:[]}function w(D,x,P,O){return _(this,void 0,void 0,function*(){const V=y(D,x),H=yield Promise.all(V.map(z=>_(this,void 0,void 0,function*(){let k;try{k=yield z.provideDocumentRangeSemanticTokens(x,P,O)}catch(F){(0,n.Cp)(F),k=null}return(!k||!s(k))&&(k=null),new g(z,k)})));for(const z of H)if(z.tokens)return z;return H.length>0?H[0]:null})}v.P0.registerCommand("_provideDocumentSemanticTokensLegend",(D,...x)=>_(void 0,void 0,void 0,function*(){const[P]=x;(0,T.p_)(P instanceof l.o);const O=D.get(S.q).getModel(P);if(!O)return;const{documentSemanticTokensProvider:V}=D.get(L.p),H=function u(D,x){const P=D.orderedGroups(x);return P.length>0?P[0]:null}(V,O);return H?H[0].getLegend():D.get(v.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",P)})),v.P0.registerCommand("_provideDocumentSemanticTokens",(D,...x)=>_(void 0,void 0,void 0,function*(){const[P]=x;(0,T.p_)(P instanceof l.o);const O=D.get(S.q).getModel(P);if(!O)return;const{documentSemanticTokensProvider:V}=D.get(L.p);if(!t(V,O))return D.get(v.Hy).executeCommand("_provideDocumentRangeSemanticTokens",P,O.getFullModelRange());const H=yield p(V,O,null,null,d.T.None);if(!H)return;const{provider:z,tokens:k}=H;if(!k||!s(k))return;const F=(0,C.C)({id:0,type:"full",data:k.data});return k.resultId&&z.releaseDocumentSemanticTokens(k.resultId),F})),v.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(D,...x)=>_(void 0,void 0,void 0,function*(){const[P,O]=x;(0,T.p_)(P instanceof l.o);const V=D.get(S.q).getModel(P);if(!V)return;const{documentRangeSemanticTokensProvider:H}=D.get(L.p),z=y(H,V);if(0===z.length)return;if(1===z.length)return z[0].getLegend();if(!O||!E.e.isIRange(O))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),z[0].getLegend();const k=yield w(H,V,E.e.lift(O),d.T.None);return k?k.provider.getLegend():void 0})),v.P0.registerCommand("_provideDocumentRangeSemanticTokens",(D,...x)=>_(void 0,void 0,void 0,function*(){const[P,O]=x;(0,T.p_)(P instanceof l.o),(0,T.p_)(E.e.isIRange(O));const V=D.get(S.q).getModel(P);if(!V)return;const{documentRangeSemanticTokensProvider:H}=D.get(L.p),z=yield w(H,V,E.e.lift(O),d.T.None);return z&&z.tokens?(0,C.C)({id:0,type:"full",data:z.tokens.data}):void 0}))},79095:(Dt,Y,e)=>{"use strict";e.d(Y,{A:()=>_});var d=e(7626),n=e(5067),l=e(73455),S=e(47494),v=e(9265),T=e(29693),C=e(44827);const _=(0,v.yh)("ILanguageFeatureDebounceService");var s;!function(t){const a=new WeakMap;let p=0;t.of=function u(g){let b=a.get(g);return void 0===b&&(b=++p,a.set(g,b)),b}}(s||(s={}));class m{constructor(a,p,u,g,b,y){this._logService=a,this._name=p,this._registry=u,this._default=g,this._min=b,this._max=y,this._cache=new n.z6(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((p,u)=>(0,d.SP)(s.of(u),p),0)}get(a){const p=this._key(a),u=this._cache.get(p);return u?(0,l.uZ)(u.value,this._min,this._max):this.default()}update(a,p){const u=this._key(a);let g=this._cache.get(u);g||(g=new l.N(6),this._cache.set(u,g));const b=(0,l.uZ)(g.update(p),this._min,this._max);return(0,C.xn)(a.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${a.uri.toString()} is ${b}ms`),b}_overall(){const a=new l.nM;for(const[,p]of this._cache)a.update(p.value);return a.value}default(){const a=0|this._overall()||this._default;return(0,l.uZ)(a,this._min,this._max)}}let c=class{constructor(a){this._logService=a,this._data=new Map}for(a,p,u){var g,b,y;const w=null!==(g=u?.min)&&void 0!==g?g:50,D=null!==(b=u?.max)&&void 0!==b?b:Math.pow(w,2),x=null!==(y=u?.key)&&void 0!==y?y:void 0,P=`${s.of(a)},${w}${x?","+x:""}`;let O=this._data.get(P);return O||(O=new m(this._logService,p,a,0|this._overallAverage()||1.5*w,w,D),this._data.set(P,O)),O}_overallAverage(){const a=new l.nM;for(const p of this._data.values())a.update(p.default());return a.value}};var a;c=function(t,a,p,u){var y,g=arguments.length,b=g<3?a:null===u?u=Object.getOwnPropertyDescriptor(a,p):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(t,a,p,u);else for(var w=t.length-1;w>=0;w--)(y=t[w])&&(b=(g<3?y(b):g>3?y(a,p,b):y(a,p))||b);return g>3&&b&&Object.defineProperty(a,p,b),b}([(0,a=T.VZ,function(p,u){a(p,u,0)})],c),(0,S.z)(_,c,!0)},90790:(Dt,Y,e)=>{"use strict";e.d(Y,{p:()=>n});const n=(0,e(9265).yh)("ILanguageFeaturesService")},64763:(Dt,Y,e)=>{"use strict";e.d(Y,{T:()=>C});var d=e(3778),n=e(80142),l=e(98998),S=e(64023),v=e(45337),T=e(72188);let C=(()=>{class L extends n.JT{constructor(s=!1){super(),this._onDidEncounterLanguage=this._register(new d.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new d.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,L.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new l.t(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){L.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,m){const c=this._registry.guessLanguageIdByFilepathOrFirstLine(s,m);return(0,S.Xh)(c,null)}createById(s){return new E(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,m){return new E(this.onDidChange,()=>{const c=this.guessLanguageIdByFilepathOrFirstLine(s,m);return this._createAndGetLanguageIdentifier(c)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=T.bd),this._encounteredLanguages.has(s)||(this._encounteredLanguages.add(s),v.RW.getOrCreate(s),this._onDidEncounterLanguage.fire(s)),s}}return L.instanceCount=0,L})();class E{constructor(_,s){this._onDidChangeLanguages=_,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new d.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var _;const s=this._selector();s!==this.languageId&&(this.languageId=s,null===(_=this._emitter)||void 0===_||_.fire(this.languageId))}}},14072:(Dt,Y,e)=>{"use strict";e.d(Y,{Jw:()=>s,ST:()=>a,UU:()=>t});var d=e(85425),n=e(34189),l=e(59310),S=e(61283),v=e(40734),T=e(73879),C=e(72188);let E=[],L=[],_=[];function s(b,y=!1){!function m(b,y,w){const D=function c(b,y){return{id:b.id,mime:b.mime,filename:b.filename,extension:b.extension,filepattern:b.filepattern,firstline:b.firstline,userConfigured:y,filenameLowercase:b.filename?b.filename.toLowerCase():void 0,extensionLowercase:b.extension?b.extension.toLowerCase():void 0,filepatternLowercase:b.filepattern?(0,d.Qc)(b.filepattern.toLowerCase()):void 0,filepatternOnPath:!!b.filepattern&&b.filepattern.indexOf(S.KR.sep)>=0}}(b,y);E.push(D),D.userConfigured?_.push(D):L.push(D),w&&!D.userConfigured&&E.forEach(x=>{x.mime===D.mime||x.userConfigured||(D.extension&&x.extension===D.extension&&console.warn(`Overwriting extension <<${D.extension}>> to now point to mime <<${D.mime}>>`),D.filename&&x.filename===D.filename&&console.warn(`Overwriting filename <<${D.filename}>> to now point to mime <<${D.mime}>>`),D.filepattern&&x.filepattern===D.filepattern&&console.warn(`Overwriting filepattern <<${D.filepattern}>> to now point to mime <<${D.mime}>>`),D.firstline&&x.firstline===D.firstline&&console.warn(`Overwriting firstline <<${D.firstline}>> to now point to mime <<${D.mime}>>`))})}(b,!1,y)}function t(){E=E.filter(b=>b.userConfigured),L=[]}function a(b,y){return function p(b,y){let w;if(b)switch(b.scheme){case l.lg.file:w=b.fsPath;break;case l.lg.data:w=v.Vb.parseMetaData(b).get(v.Vb.META_DATA_LABEL);break;case l.lg.vscodeNotebookCell:w=void 0;break;default:w=b.path}if(!w)return[{id:"unknown",mime:n.v.unknown}];w=w.toLowerCase();const D=(0,S.EZ)(w),x=u(w,D,_);if(x)return[x,{id:C.bd,mime:n.v.text}];const P=u(w,D,L);if(P)return[P,{id:C.bd,mime:n.v.text}];if(y){const O=function g(b){if((0,T.uS)(b)&&(b=b.substr(1)),b.length>0)for(let y=E.length-1;y>=0;y--){const w=E[y];if(!w.firstline)continue;const D=b.match(w.firstline);if(D&&D.length>0)return w}}(y);if(O)return[O,{id:C.bd,mime:n.v.text}]}return[{id:"unknown",mime:n.v.unknown}]}(b,y).map(w=>w.id)}function u(b,y,w){var D;let x,P,O;for(let V=w.length-1;V>=0;V--){const H=w[V];if(y===H.filenameLowercase){x=H;break}if(H.filepattern&&(!P||H.filepattern.length>P.filepattern.length)){const z=H.filepatternOnPath?b:y;null!==(D=H.filepatternLowercase)&&void 0!==D&&D.call(H,z)&&(P=H)}H.extension&&(!O||H.extension.length>O.extension.length)&&y.endsWith(H.extensionLowercase)&&(O=H)}return x||P||O||void 0}},98998:(Dt,Y,e)=>{"use strict";e.d(Y,{t:()=>m});var d=e(4125),n=e(3778),l=e(80142),S=e(73879),v=e(14072),T=e(72188),C=e(29093),E=e(4259);const L=Object.prototype.hasOwnProperty,_="vs.editor.nullLanguage";class s{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(_,0),this._register(T.bd,1),this._nextLanguageId=2}_register(t,a){this._languageIdToLanguage[a]=t,this._languageToLanguageId.set(t,a)}register(t){if(this._languageToLanguageId.has(t))return;const a=this._nextLanguageId++;this._register(t,a)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||_}}let m=(()=>{class c extends l.JT{constructor(a=!0,p=!1){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,c.instanceCount++,this._warnOnOverwrite=p,this.languageIdCodec=new s,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},a&&(this._initializeFromRegistry(),this._register(T.dQ.onDidChangeLanguages(u=>{this._initializeFromRegistry()})))}dispose(){c.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,v.UU)();const a=[].concat(T.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(a)}_registerLanguages(a){for(const p of a)this._registerLanguage(p);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(p=>{const u=this._languages[p];u.name&&(this._nameMap[u.name]=u.identifier),u.aliases.forEach(g=>{this._lowercaseNameMap[g.toLowerCase()]=u.identifier}),u.mimetypes.forEach(g=>{this._mimeTypesMap[g]=u.identifier})}),E.B.as(C.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(a){const p=a.id;let u;L.call(this._languages,p)?u=this._languages[p]:(this.languageIdCodec.register(p),u={identifier:p,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[p]=u),this._mergeLanguage(u,a)}_mergeLanguage(a,p){const u=p.id;let g=null;if(Array.isArray(p.mimetypes)&&p.mimetypes.length>0&&(a.mimetypes.push(...p.mimetypes),g=p.mimetypes[0]),g||(g=`text/x-${u}`,a.mimetypes.push(g)),Array.isArray(p.extensions)){a.extensions=p.configuration?p.extensions.concat(a.extensions):a.extensions.concat(p.extensions);for(const w of p.extensions)(0,v.Jw)({id:u,mime:g,extension:w},this._warnOnOverwrite)}if(Array.isArray(p.filenames))for(const w of p.filenames)(0,v.Jw)({id:u,mime:g,filename:w},this._warnOnOverwrite),a.filenames.push(w);if(Array.isArray(p.filenamePatterns))for(const w of p.filenamePatterns)(0,v.Jw)({id:u,mime:g,filepattern:w},this._warnOnOverwrite);if("string"==typeof p.firstLine&&p.firstLine.length>0){let w=p.firstLine;"^"!==w.charAt(0)&&(w="^"+w);try{const D=new RegExp(w);(0,S.IO)(D)||(0,v.Jw)({id:u,mime:g,firstline:D},this._warnOnOverwrite)}catch(D){(0,d.dL)(D)}}a.aliases.push(u);let b=null;if(typeof p.aliases<"u"&&Array.isArray(p.aliases)&&(b=0===p.aliases.length?[null]:p.aliases),null!==b)for(const w of b)!w||0===w.length||a.aliases.push(w);const y=null!==b&&b.length>0;if(!y||null!==b[0]){const w=(y?b[0]:null)||u;(y||!a.name)&&(a.name=w)}p.configuration&&a.configurationFiles.push(p.configuration),p.icon&&a.icons.push(p.icon)}isRegisteredLanguageId(a){return!!a&&L.call(this._languages,a)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(a){const p=a.toLowerCase();return L.call(this._lowercaseNameMap,p)?this._lowercaseNameMap[p]:null}getLanguageIdByMimeType(a){return a&&L.call(this._mimeTypesMap,a)?this._mimeTypesMap[a]:null}guessLanguageIdByFilepathOrFirstLine(a,p){return a||p?(0,v.ST)(a,p):[]}}return c.instanceCount=0,c})()},55585:(Dt,Y,e)=>{"use strict";e.d(Y,{i:()=>n});const n=(0,e(9265).yh)("markerDecorationsService")},59602:(Dt,Y,e)=>{"use strict";e.d(Y,{q:()=>n});const n=(0,e(9265).yh)("modelService")},37073:(Dt,Y,e)=>{"use strict";e.d(Y,{b$:()=>ne,e3:()=>N,tw:()=>W});var d=e(3778),n=e(80142),l=e(8841),S=e(4125),v=e(59758),T=e(39945),C=e(72188),E=e(45358),L=e(59602),_=e(19147),s=e(94667),m=e(48648),c=e(73888),t=e(40902),a=e(29693),p=e(93633),u=e(7626),g=e(83183),b=e(59310),y=e(21952),w=e(70590),D=e(6276),x=e(94911),P=e(79095),O=e(631),V=e(90790),H=function(Ee,xe,Ne,oe){var me,Se=arguments.length,Ie=Se<3?xe:null===oe?oe=Object.getOwnPropertyDescriptor(xe,Ne):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ie=Reflect.decorate(Ee,xe,Ne,oe);else for(var Me=Ee.length-1;Me>=0;Me--)(me=Ee[Me])&&(Ie=(Se<3?me(Ie):Se>3?me(xe,Ne,Ie):me(xe,Ne))||Ie);return Se>3&&Ie&&Object.defineProperty(xe,Ne,Ie),Ie},z=function(Ee,xe){return function(Ne,oe){xe(Ne,oe,Ee)}};function k(Ee){return Ee.toString()}function F(Ee){const xe=new u.yP,Ne=Ee.createSnapshot();let oe;for(;oe=Ne.read();)xe.update(oe);return xe.digest()}class j{constructor(xe,Ne,oe){this._modelEventListeners=new n.SL,this.model=xe,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(xe.onWillDispose(()=>Ne(xe))),this._modelEventListeners.add(xe.onDidChangeLanguage(Se=>oe(xe,Se)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(xe){this._disposeLanguageSelection(),this._languageSelection=xe,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(xe.languageId)),this.model.setMode(xe.languageId)}}const K=l.IJ||l.dz?1:2;class U{constructor(xe,Ne,oe,Se,Ie,me,Me,de){this.uri=xe,this.initialUndoRedoSnapshot=Ne,this.time=oe,this.sharesUndoRedoStack=Se,this.heapSize=Ie,this.sha1=me,this.versionId=Me,this.alternativeVersionId=de}}let ne=class Gl extends n.JT{constructor(xe,Ne,oe,Se,Ie,me,Me,de,ke){super(),this._configurationService=xe,this._resourcePropertiesService=Ne,this._themeService=oe,this._logService=Se,this._undoRedoService=Ie,this._languageService=me,this._languageConfigurationService=Me,this._languageFeatureDebounceService=de,this._onModelAdded=this._register(new d.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new d.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new d.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ge(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new Z(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,ke))}static _readModelOptions(xe,Ne){var oe;let Se=T.D.tabSize;if(xe.editor&&typeof xe.editor.tabSize<"u"){const Ve=parseInt(xe.editor.tabSize,10);isNaN(Ve)||(Se=Ve),Se<1&&(Se=1)}let Ie=Se;if(xe.editor&&typeof xe.editor.indentSize<"u"&&"tabSize"!==xe.editor.indentSize){const Ve=parseInt(xe.editor.indentSize,10);isNaN(Ve)||(Ie=Ve),Ie<1&&(Ie=1)}let me=T.D.insertSpaces;xe.editor&&typeof xe.editor.insertSpaces<"u"&&(me="false"!==xe.editor.insertSpaces&&Boolean(xe.editor.insertSpaces));let Me=K;const de=xe.eol;"\r\n"===de?Me=2:"\n"===de&&(Me=1);let ke=T.D.trimAutoWhitespace;xe.editor&&typeof xe.editor.trimAutoWhitespace<"u"&&(ke="false"!==xe.editor.trimAutoWhitespace&&Boolean(xe.editor.trimAutoWhitespace));let Ue=T.D.detectIndentation;xe.editor&&typeof xe.editor.detectIndentation<"u"&&(Ue="false"!==xe.editor.detectIndentation&&Boolean(xe.editor.detectIndentation));let ze=T.D.largeFileOptimizations;xe.editor&&typeof xe.editor.largeFileOptimizations<"u"&&(ze="false"!==xe.editor.largeFileOptimizations&&Boolean(xe.editor.largeFileOptimizations));let ce=T.D.bracketPairColorizationOptions;return(null===(oe=xe.editor)||void 0===oe?void 0:oe.bracketPairColorization)&&"object"==typeof xe.editor.bracketPairColorization&&(ce={enabled:!!xe.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!xe.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Ne,tabSize:Se,indentSize:Ie,insertSpaces:me,detectIndentation:Ue,defaultEOL:Me,trimAutoWhitespace:ke,largeFileOptimizations:ze,bracketPairColorizationOptions:ce}}_getEOL(xe,Ne){if(xe)return this._resourcePropertiesService.getEOL(xe,Ne);const oe=this._configurationService.getValue("files.eol",{overrideIdentifier:Ne});return oe&&"string"==typeof oe&&"auto"!==oe?oe:3===l.OS||2===l.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const xe=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof xe||xe}getCreationOptions(xe,Ne,oe){let Se=this._modelCreationOptionsByLanguageAndResource[xe+Ne];if(!Se){const Ie=this._configurationService.getValue("editor",{overrideIdentifier:xe,resource:Ne}),me=this._getEOL(Ne,xe);Se=Gl._readModelOptions({editor:Ie,eol:me},oe),this._modelCreationOptionsByLanguageAndResource[xe+Ne]=Se}return Se}_updateModelOptions(){const xe=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Ne=Object.keys(this._models);for(let oe=0,Se=Ne.length;oe<Se;oe++){const me=this._models[Ne[oe]],Me=me.model.getLanguageId(),de=me.model.uri,ke=xe[Me+de],Ue=this.getCreationOptions(Me,de,me.model.isForSimpleWidget);Gl._setModelOptionsForModel(me.model,Ue,ke)}}static _setModelOptionsForModel(xe,Ne,oe){oe&&oe.defaultEOL!==Ne.defaultEOL&&1===xe.getLineCount()&&xe.setEOL(1===Ne.defaultEOL?0:1),(!oe||oe.detectIndentation!==Ne.detectIndentation||oe.insertSpaces!==Ne.insertSpaces||oe.tabSize!==Ne.tabSize||oe.indentSize!==Ne.indentSize||oe.trimAutoWhitespace!==Ne.trimAutoWhitespace||!(0,D.fS)(oe.bracketPairColorizationOptions,Ne.bracketPairColorizationOptions))&&(Ne.detectIndentation?(xe.detectIndentation(Ne.insertSpaces,Ne.tabSize),xe.updateOptions({trimAutoWhitespace:Ne.trimAutoWhitespace,bracketColorizationOptions:Ne.bracketPairColorizationOptions})):xe.updateOptions({insertSpaces:Ne.insertSpaces,tabSize:Ne.tabSize,indentSize:Ne.indentSize,trimAutoWhitespace:Ne.trimAutoWhitespace,bracketColorizationOptions:Ne.bracketPairColorizationOptions}))}_insertDisposedModel(xe){this._disposedModels.set(k(xe.uri),xe),this._disposedModelsHeapSize+=xe.heapSize}_removeDisposedModel(xe){const Ne=this._disposedModels.get(k(xe));return Ne&&(this._disposedModelsHeapSize-=Ne.heapSize),this._disposedModels.delete(k(xe)),Ne}_ensureDisposedModelsHeapSize(xe){if(this._disposedModelsHeapSize>xe){const Ne=[];for(this._disposedModels.forEach(oe=>{oe.sharesUndoRedoStack||Ne.push(oe)}),Ne.sort((oe,Se)=>oe.time-Se.time);Ne.length>0&&this._disposedModelsHeapSize>xe;){const oe=Ne.shift();this._removeDisposedModel(oe.uri),null!==oe.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(oe.initialUndoRedoSnapshot)}}}_createModelData(xe,Ne,oe,Se){const Ie=this.getCreationOptions(Ne,oe,Se),me=new v.yO(xe,Ne,Ie,oe,this._undoRedoService,this._languageService,this._languageConfigurationService);if(oe&&this._disposedModels.has(k(oe))){const ke=this._removeDisposedModel(oe),Ue=this._undoRedoService.getElements(oe),ze=F(me)===ke.sha1;if(ze||ke.sharesUndoRedoStack){for(const ce of Ue.past)(0,g.e9)(ce)&&ce.matchesResource(oe)&&ce.setModel(me);for(const ce of Ue.future)(0,g.e9)(ce)&&ce.matchesResource(oe)&&ce.setModel(me);this._undoRedoService.setElementsValidFlag(oe,!0,ce=>(0,g.e9)(ce)&&ce.matchesResource(oe)),ze&&(me._overwriteVersionId(ke.versionId),me._overwriteAlternativeVersionId(ke.alternativeVersionId),me._overwriteInitialUndoRedoSnapshot(ke.initialUndoRedoSnapshot))}else null!==ke.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(ke.initialUndoRedoSnapshot)}const Me=k(me.uri);if(this._models[Me])throw new Error("ModelService: Cannot add model because it already exists!");const de=new j(me,ke=>this._onWillDispose(ke),(ke,Ue)=>this._onDidChangeLanguage(ke,Ue));return this._models[Me]=de,de}createModel(xe,Ne,oe,Se=!1){let Ie;return Ne?(Ie=this._createModelData(xe,Ne.languageId,oe,Se),this.setMode(Ie.model,Ne)):Ie=this._createModelData(xe,C.bd,oe,Se),this._onModelAdded.fire(Ie.model),Ie.model}setMode(xe,Ne){if(!Ne)return;const oe=this._models[k(xe.uri)];!oe||oe.setLanguage(Ne)}getModels(){const xe=[],Ne=Object.keys(this._models);for(let oe=0,Se=Ne.length;oe<Se;oe++)xe.push(this._models[Ne[oe]].model);return xe}getModel(xe){const Ne=k(xe),oe=this._models[Ne];return oe?oe.model:null}getSemanticTokensProviderStyling(xe){return this._semanticStyling.get(xe)}_schemaShouldMaintainUndoRedoElements(xe){return xe.scheme===b.lg.file||xe.scheme===b.lg.vscodeRemote||xe.scheme===b.lg.vscodeUserData||xe.scheme===b.lg.vscodeNotebookCell||"fake-fs"===xe.scheme}_onWillDispose(xe){const Ne=k(xe.uri),oe=this._models[Ne],Se=this._undoRedoService.getUriComparisonKey(xe.uri)!==xe.uri.toString();let Ie=!1,me=0;if(Se||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(xe.uri)){const de=this._undoRedoService.getElements(xe.uri);if(de.past.length>0||de.future.length>0){for(const ke of de.past)(0,g.e9)(ke)&&ke.matchesResource(xe.uri)&&(Ie=!0,me+=ke.heapSize(xe.uri),ke.setModel(xe.uri));for(const ke of de.future)(0,g.e9)(ke)&&ke.matchesResource(xe.uri)&&(Ie=!0,me+=ke.heapSize(xe.uri),ke.setModel(xe.uri))}}const Me=Gl.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ie)if(!Se&&me>Me){const de=oe.model.getInitialUndoRedoSnapshot();null!==de&&this._undoRedoService.restoreSnapshot(de)}else this._ensureDisposedModelsHeapSize(Me-me),this._undoRedoService.setElementsValidFlag(xe.uri,!1,de=>(0,g.e9)(de)&&de.matchesResource(xe.uri)),this._insertDisposedModel(new U(xe.uri,oe.model.getInitialUndoRedoSnapshot(),Date.now(),Se,me,F(xe),xe.getVersionId(),xe.getAlternativeVersionId()));else if(!Se){const de=oe.model.getInitialUndoRedoSnapshot();null!==de&&this._undoRedoService.restoreSnapshot(de)}delete this._models[Ne],oe.dispose(),delete this._modelCreationOptionsByLanguageAndResource[xe.getLanguageId()+xe.uri],this._onModelRemoved.fire(xe)}_onDidChangeLanguage(xe,Ne){const oe=Ne.oldLanguage,Se=xe.getLanguageId(),Ie=this.getCreationOptions(oe,xe.uri,xe.isForSimpleWidget),me=this.getCreationOptions(Se,xe.uri,xe.isForSimpleWidget);Gl._setModelOptionsForModel(xe,me,Ie),this._onModelModeChanged.fire({model:xe,oldLanguageId:oe})}};ne.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,ne=H([z(0,s.Ui),z(1,_.y),z(2,t.XE),z(3,a.VZ),z(4,p.tJ),z(5,E.O),z(6,x.c_),z(7,P.A),z(8,V.p)],ne);const N="editor.semanticHighlighting";function W(Ee,xe,Ne){var oe;const Se=null===(oe=Ne.getValue(N,{overrideIdentifier:Ee.getLanguageId(),resource:Ee.uri}))||void 0===oe?void 0:oe.enabled;return"boolean"==typeof Se?Se:xe.getColorTheme().semanticHighlighting}let Z=class extends n.JT{constructor(xe,Ne,oe,Se,Ie,me){super(),this._watchers=Object.create(null),this._semanticStyling=xe;const Me=Ue=>{this._watchers[Ue.uri.toString()]=new we(Ue,this._semanticStyling,oe,Ie,me)},de=(Ue,ze)=>{ze.dispose(),delete this._watchers[Ue.uri.toString()]},ke=()=>{for(const Ue of Ne.getModels()){const ze=this._watchers[Ue.uri.toString()];W(Ue,oe,Se)?ze||Me(Ue):ze&&de(Ue,ze)}};this._register(Ne.onModelAdded(Ue=>{W(Ue,oe,Se)&&Me(Ue)})),this._register(Ne.onModelRemoved(Ue=>{const ze=this._watchers[Ue.uri.toString()];ze&&de(Ue,ze)})),this._register(Se.onDidChangeConfiguration(Ue=>{Ue.affectsConfiguration(N)&&ke()})),this._register(oe.onDidColorThemeChange(ke))}dispose(){for(const xe of Object.values(this._watchers))xe.dispose();super.dispose()}};Z=H([z(1,L.q),z(2,t.XE),z(3,s.Ui),z(4,P.A),z(5,V.p)],Z);class ge extends n.JT{constructor(xe,Ne,oe){super(),this._themeService=xe,this._languageService=Ne,this._logService=oe,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(xe){return this._caches.has(xe)||this._caches.set(xe,new y.$(xe.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(xe)}}class M{constructor(xe,Ne,oe){this.provider=xe,this.resultId=Ne,this.data=oe}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let we=class gl extends n.JT{constructor(xe,Ne,oe,Se,Ie){super(),this._isDisposed=!1,this._model=xe,this._semanticStyling=Ne,this._provider=Ie.documentSemanticTokensProvider,this._debounceInformation=Se.for(this._provider,"DocumentSemanticTokens",{min:gl.REQUEST_MIN_DELAY,max:gl.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new m.pY(()=>this._fetchDocumentSemanticTokensNow(),gl.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const me=()=>{(0,n.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Me of this._provider.all(xe))"function"==typeof Me.onDidChange&&this._documentProvidersChangeListeners.push(Me.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};me(),this._register(this._provider.onDidChange(()=>{me(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(oe.onDidColorThemeChange(Me=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,w.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));const xe=new c.A,Se=(0,w.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,xe.token);this._currentDocumentRequestCancellationTokenSource=xe;const Ie=[],me=this._model.onDidChangeContent(de=>{Ie.push(de)}),Me=new O.G(!1);Se.then(de=>{if(this._debounceInformation.update(this._model,Me.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,me.dispose(),de){const{provider:ke,tokens:Ue}=de,ze=this._semanticStyling.get(ke);this._setDocumentSemanticTokens(ke,Ue||null,ze,Ie)}else this._setDocumentSemanticTokens(null,null,null,Ie)},de=>{de&&(S.n2(de)||"string"==typeof de.message&&-1!==de.message.indexOf("busy"))||S.dL(de),this._currentDocumentRequestCancellationTokenSource=null,me.dispose(),Ie.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(xe,Ne,oe,Se,Ie){Ie=Math.min(Ie,oe.length-Se,xe.length-Ne);for(let me=0;me<Ie;me++)oe[Se+me]=xe[Ne+me]}_setDocumentSemanticTokens(xe,Ne,oe,Se){const Ie=this._currentDocumentResponse,me=()=>{Se.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)xe&&Ne&&xe.releaseDocumentSemanticTokens(Ne.resultId);else if(xe&&oe){if(!Ne)return this._model.tokenization.setSemanticTokens(null,!0),void me();if((0,w.Vj)(Ne)){if(!Ie)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===Ne.edits.length)Ne={resultId:Ne.resultId,data:Ie.data};else{let Me=0;for(const ce of Ne.edits)Me+=(ce.data?ce.data.length:0)-ce.deleteCount;const de=Ie.data,ke=new Uint32Array(de.length+Me);let Ue=de.length,ze=ke.length;for(let ce=Ne.edits.length-1;ce>=0;ce--){const Ve=Ne.edits[ce];if(Ve.start>de.length)return oe.warnInvalidEditStart(Ie.resultId,Ne.resultId,ce,Ve.start,de.length),void this._model.tokenization.setSemanticTokens(null,!0);const tt=Ue-(Ve.start+Ve.deleteCount);tt>0&&(gl._copy(de,Ue-tt,ke,ze-tt,tt),ze-=tt),Ve.data&&(gl._copy(Ve.data,0,ke,ze-Ve.data.length,Ve.data.length),ze-=Ve.data.length),Ue=Ve.start}Ue>0&&gl._copy(de,0,ke,0,Ue),Ne={resultId:Ne.resultId,data:ke}}}if((0,w.Vl)(Ne)){this._currentDocumentResponse=new M(xe,Ne.resultId,Ne.data);const Me=(0,y.h)(Ne,oe,this._model.getLanguageId());if(Se.length>0)for(const de of Se)for(const ke of Me)for(const Ue of de.changes)ke.applyEdit(Ue.range,Ue.text);this._model.tokenization.setSemanticTokens(Me,!0)}else this._model.tokenization.setSemanticTokens(null,!0);me()}else this._model.tokenization.setSemanticTokens(null,!1)}};we.REQUEST_MIN_DELAY=300,we.REQUEST_MAX_DELAY=2e3,we=H([z(2,t.XE),z(3,P.A),z(4,V.p)],we)},1149:(Dt,Y,e)=>{"use strict";e.d(Y,{S:()=>n});const n=(0,e(9265).yh)("textModelService")},45802:(Dt,Y,e)=>{"use strict";e.d(Y,{C:()=>v});var d=e(32068),n=e(8841);function v(C){const E=new Uint32Array(function T(C){let E=0;if(E+=2,"full"===C.type)E+=1+C.data.length;else{E+=1,E+=3*C.deltas.length;for(const L of C.deltas)L.data&&(E+=L.data.length)}return E}(C));let L=0;if(E[L++]=C.id,"full"===C.type)E[L++]=1,E[L++]=C.data.length,E.set(C.data,L),L+=C.data.length;else{E[L++]=2,E[L++]=C.deltas.length;for(const _ of C.deltas)E[L++]=_.start,E[L++]=_.deleteCount,_.data?(E[L++]=_.data.length,E.set(_.data,L),L+=_.data.length):E[L++]=0}return function S(C){const E=new Uint8Array(C.buffer,C.byteOffset,4*C.length);return n.r()||function l(C){for(let E=0,L=C.length;E<L;E+=4){const _=C[E+0],s=C[E+1],m=C[E+2];C[E+0]=C[E+3],C[E+1]=m,C[E+2]=s,C[E+3]=_}}(E),d.KN.wrap(E)}(E)}},21952:(Dt,Y,e)=>{"use strict";e.d(Y,{$:()=>c,h:()=>t});var d=e(1465),n=e(40902),l=e(29693),S=e(18723),v=e(98570),T=e(93169);class C{constructor(g,b){this._startLineNumber=g,this._tokens=b,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(g,b){return new C(g,new E(b))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(g){return this._startLineNumber<=g&&g<=this._endLineNumber?this._tokens.getLineTokens(g-this._startLineNumber):null}getRange(){const g=this._tokens.getRange();return g&&new v.e(this._startLineNumber+g.startLineNumber,g.startColumn,this._startLineNumber+g.endLineNumber,g.endColumn)}removeTokens(g){this._startLineNumber+=this._tokens.removeTokens(g.startLineNumber-this._startLineNumber,g.startColumn-1,g.endLineNumber-this._startLineNumber,g.endColumn-1),this._updateEndLineNumber()}split(g){const b=g.startLineNumber-this._startLineNumber,y=g.endLineNumber-this._startLineNumber,[w,D,x]=this._tokens.split(b,g.startColumn-1,y,g.endColumn-1);return[new C(this._startLineNumber,w),new C(this._startLineNumber+x,D)]}applyEdit(g,b){const[y,w,D]=(0,T.Q)(b);this.acceptEdit(g,y,w,D,b.length>0?b.charCodeAt(0):0)}acceptEdit(g,b,y,w,D){this._acceptDeleteRange(g),this._acceptInsertText(new S.L(g.startLineNumber,g.startColumn),b,y,w,D),this._updateEndLineNumber()}_acceptDeleteRange(g){if(g.startLineNumber===g.endLineNumber&&g.startColumn===g.endColumn)return;const b=g.startLineNumber-this._startLineNumber,y=g.endLineNumber-this._startLineNumber;if(y<0)return void(this._startLineNumber-=y-b);const w=this._tokens.getMaxDeltaLine();if(!(b>=w+1)){if(b<0&&y>=w+1)return this._startLineNumber=0,void this._tokens.clear();b<0?(this._startLineNumber-=-b,this._tokens.acceptDeleteRange(g.startColumn-1,0,0,y,g.endColumn-1)):this._tokens.acceptDeleteRange(0,b,g.startColumn-1,y,g.endColumn-1)}}_acceptInsertText(g,b,y,w,D){if(0===b&&0===y)return;const x=g.lineNumber-this._startLineNumber;x<0?this._startLineNumber+=b:x>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(x,g.column-1,b,y,w,D)}}class E{constructor(g){this._tokens=g,this._tokenCount=g.length/4}toString(g){const b=[];for(let y=0;y<this._tokenCount;y++)b.push(`(${this._getDeltaLine(y)+g},${this._getStartCharacter(y)}-${this._getEndCharacter(y)})`);return`[${b.join(",")}]`}getMaxDeltaLine(){const g=this._getTokenCount();return 0===g?-1:this._getDeltaLine(g-1)}getRange(){const g=this._getTokenCount();if(0===g)return null;const b=this._getStartCharacter(0),y=this._getDeltaLine(g-1),w=this._getEndCharacter(g-1);return new v.e(0,b+1,y,w+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(g){return this._tokens[4*g]}_getStartCharacter(g){return this._tokens[4*g+1]}_getEndCharacter(g){return this._tokens[4*g+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(g){let b=0,y=this._getTokenCount()-1;for(;b<y;){const w=b+Math.floor((y-b)/2),D=this._getDeltaLine(w);if(D<g)b=w+1;else{if(!(D>g)){let x=w;for(;x>b&&this._getDeltaLine(x-1)===g;)x--;let P=w;for(;P<y&&this._getDeltaLine(P+1)===g;)P++;return new L(this._tokens.subarray(4*x,4*P+4))}y=w-1}}return this._getDeltaLine(b)===g?new L(this._tokens.subarray(4*b,4*b+4)):null}clear(){this._tokenCount=0}removeTokens(g,b,y,w){const D=this._tokens,x=this._tokenCount;let P=0,O=!1,V=0;for(let H=0;H<x;H++){const z=4*H,k=D[z],F=D[z+1],j=D[z+2],K=D[z+3];if((k>g||k===g&&j>=b)&&(k<y||k===y&&F<=w))O=!0;else{if(0===P&&(V=k),O){const U=4*P;D[U]=k-V,D[U+1]=F,D[U+2]=j,D[U+3]=K}P++}}return this._tokenCount=P,V}split(g,b,y,w){const D=this._tokens,x=this._tokenCount,P=[],O=[];let V=P,H=0,z=0;for(let k=0;k<x;k++){const F=4*k,j=D[F],K=D[F+1],U=D[F+2],ne=D[F+3];if(j>g||j===g&&U>=b){if(j<y||j===y&&K<=w)continue;V!==O&&(V=O,H=0,z=j)}V[H++]=j-z,V[H++]=K,V[H++]=U,V[H++]=ne}return[new E(new Uint32Array(P)),new E(new Uint32Array(O)),z]}acceptDeleteRange(g,b,y,w,D){const x=this._tokens,P=this._tokenCount,O=w-b;let V=0,H=!1;for(let z=0;z<P;z++){const k=4*z;let F=x[k],j=x[k+1],K=x[k+2];const U=x[k+3];if(F<b||F===b&&K<=y){V++;continue}if(F===b&&j<y)F===w&&K>D?K-=D-y:K=y;else if(F===b&&j===y){if(!(F===w&&K>D)){H=!0;continue}K-=D-y}else if(F<w||F===w&&j<D){if(!(F===w&&K>D)){H=!0;continue}F===b?(j=y,K=j+(K-D)):(j=0,K=j+(K-D))}else if(F>w){if(0===O&&!H){V=P;break}F-=O}else{if(!(F===w&&j>=D))throw new Error("Not possible!");g&&0===F&&(j+=g,K+=g),F-=O,j-=D-y,K-=D-y}const ne=4*V;x[ne]=F,x[ne+1]=j,x[ne+2]=K,x[ne+3]=U,V++}this._tokenCount=V}acceptInsertText(g,b,y,w,D,x){const P=0===y&&1===w&&(x>=48&&x<=57||x>=65&&x<=90||x>=97&&x<=122),O=this._tokens,V=this._tokenCount;for(let H=0;H<V;H++){const z=4*H;let k=O[z],F=O[z+1],j=O[z+2];if(!(k<g||k===g&&j<b)){if(k===g&&j===b){if(!P)continue;j+=1}else if(k===g&&F<b&&b<j)0===y?j+=w:j=b;else{if(k===g&&F===b&&P)continue;if(k===g)if(k+=y,0===y)F+=w,j+=w;else{const K=j-F;F=D+(F-b),j=F+K}else k+=y}O[z]=k,O[z+1]=F,O[z+2]=j}}}}class L{constructor(g){this._tokens=g}getCount(){return this._tokens.length/4}getStartCharacter(g){return this._tokens[4*g+1]}getEndCharacter(g){return this._tokens[4*g+2]}getMetadata(g){return this._tokens[4*g+3]}}var _=e(45358),m=function(u,g){return function(b,y){g(b,y,u)}};let c=class{constructor(g,b,y,w){this._legend=g,this._themeService=b,this._languageService=y,this._logService=w,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new p}getMetadata(g,b,y){const w=this._languageService.languageIdCodec.encodeLanguageId(y),D=this._hashTable.get(g,b,w);let x;if(D)x=D.metadata,this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${g} / ${b}: foreground ${d.N.getForeground(x)}, fontStyle ${d.N.getFontStyle(x).toString(2)}`);else{let P=this._legend.tokenTypes[g];const O=[];if(P){let V=b;for(let z=0;V>0&&z<this._legend.tokenModifiers.length;z++)1&V&&O.push(this._legend.tokenModifiers[z]),V>>=1;V>0&&this._logService.getLevel()===l.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${b.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),O.push("not-in-legend"));const H=this._themeService.getColorTheme().getTokenStyleMetadata(P,O,y);typeof H>"u"?x=2147483647:(x=0,typeof H.italic<"u"&&(x|=1|(H.italic?1:0)<<11),typeof H.bold<"u"&&(x|=2|(H.bold?2:0)<<11),typeof H.underline<"u"&&(x|=4|(H.underline?4:0)<<11),typeof H.strikethrough<"u"&&(x|=8|(H.strikethrough?8:0)<<11),H.foreground&&(x|=16|H.foreground<<15),0===x&&(x=2147483647))}else this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${g} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),x=2147483647,P="not-in-legend";this._hashTable.add(g,b,w,x),this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${g} (${P}) / ${b} (${O.join(" ")}): foreground ${d.N.getForeground(x)}, fontStyle ${d.N.getFontStyle(x).toString(2)}`)}return x}warnOverlappingSemanticTokens(g,b){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${g}, column ${b}`))}warnInvalidLengthSemanticTokens(g,b){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${g}, column ${b}`))}warnInvalidEditStart(g,b,y,w,D){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${g}, resultId: ${b}) at edit #${y}: The provided start offset ${w} is outside the previous data (length ${D}).`))}};function t(u,g,b){const y=u.data,w=u.data.length/5|0,D=Math.max(Math.ceil(w/1024),400),x=[];let P=0,O=1,V=0;for(;P<w;){const H=P;let z=Math.min(H+D,w);if(z<w){let N=z;for(;N-1>H&&0===y[5*N];)N--;if(N-1===H){let W=z;for(;W+1<w&&0===y[5*W];)W++;z=W}else z=N}let k=new Uint32Array(4*(z-H)),F=0,j=0,K=0,U=0;for(;P<z;){const N=5*P,W=y[N],Z=y[N+1],ge=O+W|0,M=0===W?V+Z|0:Z,Ee=M+y[N+2]|0,xe=y[N+3],Ne=y[N+4];if(Ee<=M)g.warnInvalidLengthSemanticTokens(ge,M+1);else if(K===ge&&U>M)g.warnOverlappingSemanticTokens(ge,M+1);else{const oe=g.getMetadata(xe,Ne,b);2147483647!==oe&&(0===j&&(j=ge),k[F]=ge-j,k[F+1]=M,k[F+2]=Ee,k[F+3]=oe,F+=4,K=ge,U=Ee)}O=ge,V=M,P++}F!==k.length&&(k=k.subarray(0,F));const ne=C.create(j,k);x.push(ne)}return x}c=function(u,g,b,y){var x,w=arguments.length,D=w<3?g:null===y?y=Object.getOwnPropertyDescriptor(g,b):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(u,g,b,y);else for(var P=u.length-1;P>=0;P--)(x=u[P])&&(D=(w<3?x(D):w>3?x(g,b,D):x(g,b))||D);return w>3&&D&&Object.defineProperty(g,b,D),D}([m(1,n.XE),m(2,_.O),m(3,l.VZ)],c);class a{constructor(g,b,y,w){this.tokenTypeIndex=g,this.tokenModifierSet=b,this.languageId=y,this.metadata=w,this.next=null}}let p=(()=>{class u{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=u._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<u._SIZES.length?2/3*this._currentLength:0),this._elements=[],u._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(b,y){for(let w=0;w<y;w++)b[w]=null}_hash2(b,y){return(b<<5)-b+y|0}_hashFunc(b,y,w){return this._hash2(this._hash2(b,y),w)%this._currentLength}get(b,y,w){const D=this._hashFunc(b,y,w);let x=this._elements[D];for(;x;){if(x.tokenTypeIndex===b&&x.tokenModifierSet===y&&x.languageId===w)return x;x=x.next}return null}add(b,y,w,D){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const x=this._elements;this._currentLengthIndex++,this._currentLength=u._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<u._SIZES.length?2/3*this._currentLength:0),this._elements=[],u._nullOutEntries(this._elements,this._currentLength);for(const P of x){let O=P;for(;O;){const V=O.next;O.next=null,this._add(O),O=V}}}this._add(new a(b,y,w,D))}_add(b){const y=this._hashFunc(b.tokenTypeIndex,b.tokenModifierSet,b.languageId);b.next=this._elements[y],this._elements[y]=b}}return u._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],u})()},19147:(Dt,Y,e)=>{"use strict";e.d(Y,{V:()=>n,y:()=>l});var d=e(9265);const n=(0,d.yh)("textResourceConfigurationService"),l=(0,d.yh)("textResourcePropertiesService")},27245:(Dt,Y,e)=>{"use strict";e.d(Y,{a:()=>T});var d=e(98570),n=e(56952),l=e(73879),S=e(72715),v=e(50894);class T{static computeUnicodeHighlights(s,m,c){const t=c?c.startLineNumber:1,a=c?c.endLineNumber:s.getLineCount(),p=new E(m),u=p.getCandidateCodePoints();let g;g="allNonBasicAscii"===u?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function C(_,s){return`[${l.ec(_.map(c=>String.fromCodePoint(c)).join(""))}]`}(Array.from(u))}`,"g");const b=new n.sz(null,g),y=[];let D,w=!1,x=0,P=0,O=0;e:for(let V=t,H=a;V<=H;V++){const z=s.getLineContent(V),k=z.length;b.reset(0);do{if(D=b.next(z),D){let F=D.index,j=D.index+D[0].length;if(F>0){const N=z.charCodeAt(F-1);l.ZG(N)&&F--}if(j+1<k){const N=z.charCodeAt(j-1);l.ZG(N)&&j++}const K=z.substring(F,j),U=(0,v.t2)(F+1,v.Af,z,0),ne=p.shouldHighlightNonBasicASCII(K,U?U.word:null);if(0!==ne){if(3===ne?x++:2===ne?P++:1===ne?O++:(0,S.vE)(ne),y.length>=1e3){w=!0;break e}y.push(new d.e(V,F+1,V,j+1))}}}while(D)}return{ranges:y,hasMore:w,ambiguousCharacterCount:x,invisibleCharacterCount:P,nonBasicAsciiCharacterCount:O}}static computeUnicodeHighlightReason(s,m){const c=new E(m);switch(c.shouldHighlightNonBasicASCII(s,null)){case 0:return null;case 2:return{kind:1};case 3:{const a=s.codePointAt(0),p=c.ambiguousCharacters.getPrimaryConfusable(a),u=l.ZK.getLocales().filter(g=>!l.ZK.getInstance(new Set([...m.allowedLocales,g])).isAmbiguous(a));return{kind:0,confusableWith:String.fromCodePoint(p),notAmbiguousInLocales:u}}case 1:return{kind:2}}}}class E{constructor(s){this.options=s,this.allowedCodePoints=new Set(s.allowedCodePoints),this.ambiguousCharacters=l.ZK.getInstance(new Set(s.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const s=new Set;if(this.options.invisibleCharacters)for(const m of l.vU.codePoints)L(String.fromCodePoint(m))||s.add(m);if(this.options.ambiguousCharacters)for(const m of this.ambiguousCharacters.getConfusableCodePoints())s.add(m);for(const m of this.allowedCodePoints)s.delete(m);return s}shouldHighlightNonBasicASCII(s,m){const c=s.codePointAt(0);if(this.allowedCodePoints.has(c))return 0;if(this.options.nonBasicASCII)return 1;let t=!1,a=!1;if(m)for(const p of m){const u=p.codePointAt(0),g=l.$i(p);t=t||g,!g&&!this.ambiguousCharacters.isAmbiguous(u)&&!l.vU.isInvisibleCharacter(u)&&(a=!0)}return!t&&a?0:this.options.invisibleCharacters&&!L(s)&&l.vU.isInvisibleCharacter(c)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(c)?3:0}}function L(_){return" "===_||"\n"===_||"\t"===_}},98104:(Dt,Y,e)=>{"use strict";e.d(Y,{E$:()=>P,F5:()=>D,Ij:()=>T,In:()=>N,Lu:()=>H,MG:()=>x,MY:()=>_,OI:()=>Z,RM:()=>p,VD:()=>b,Vi:()=>E,WW:()=>K,ZL:()=>y,_x:()=>L,a$:()=>j,a7:()=>l,ao:()=>d,bw:()=>g,cR:()=>U,cm:()=>S,d2:()=>W,eB:()=>w,g4:()=>k,g_:()=>F,gl:()=>u,gm:()=>c,jl:()=>t,np:()=>n,py:()=>V,r3:()=>C,r4:()=>ne,rf:()=>s,sh:()=>O,up:()=>ge,vQ:()=>z,wT:()=>m,wU:()=>a,we:()=>v});var d=(()=>{return(M=d||(d={}))[M.Unknown=0]="Unknown",M[M.Disabled=1]="Disabled",M[M.Enabled=2]="Enabled",d;var M})(),n=(()=>{return(M=n||(n={}))[M.Invoke=1]="Invoke",M[M.Auto=2]="Auto",n;var M})(),l=(()=>{return(M=l||(l={}))[M.KeepWhitespace=1]="KeepWhitespace",M[M.InsertAsSnippet=4]="InsertAsSnippet",l;var M})(),S=(()=>{return(M=S||(S={}))[M.Method=0]="Method",M[M.Function=1]="Function",M[M.Constructor=2]="Constructor",M[M.Field=3]="Field",M[M.Variable=4]="Variable",M[M.Class=5]="Class",M[M.Struct=6]="Struct",M[M.Interface=7]="Interface",M[M.Module=8]="Module",M[M.Property=9]="Property",M[M.Event=10]="Event",M[M.Operator=11]="Operator",M[M.Unit=12]="Unit",M[M.Value=13]="Value",M[M.Constant=14]="Constant",M[M.Enum=15]="Enum",M[M.EnumMember=16]="EnumMember",M[M.Keyword=17]="Keyword",M[M.Text=18]="Text",M[M.Color=19]="Color",M[M.File=20]="File",M[M.Reference=21]="Reference",M[M.Customcolor=22]="Customcolor",M[M.Folder=23]="Folder",M[M.TypeParameter=24]="TypeParameter",M[M.User=25]="User",M[M.Issue=26]="Issue",M[M.Snippet=27]="Snippet",S;var M})(),v=(()=>{return(M=v||(v={}))[M.Deprecated=1]="Deprecated",v;var M})(),T=(()=>{return(M=T||(T={}))[M.Invoke=0]="Invoke",M[M.TriggerCharacter=1]="TriggerCharacter",M[M.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",T;var M})(),C=(()=>{return(M=C||(C={}))[M.EXACT=0]="EXACT",M[M.ABOVE=1]="ABOVE",M[M.BELOW=2]="BELOW",C;var M})(),E=(()=>{return(M=E||(E={}))[M.NotSet=0]="NotSet",M[M.ContentFlush=1]="ContentFlush",M[M.RecoverFromMarkers=2]="RecoverFromMarkers",M[M.Explicit=3]="Explicit",M[M.Paste=4]="Paste",M[M.Undo=5]="Undo",M[M.Redo=6]="Redo",E;var M})(),L=(()=>{return(M=L||(L={}))[M.LF=1]="LF",M[M.CRLF=2]="CRLF",L;var M})(),_=(()=>{return(M=_||(_={}))[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write",_;var M})(),s=(()=>{return(M=s||(s={}))[M.None=0]="None",M[M.Keep=1]="Keep",M[M.Brackets=2]="Brackets",M[M.Advanced=3]="Advanced",M[M.Full=4]="Full",s;var M})(),m=(()=>{return(M=m||(m={}))[M.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",M[M.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",M[M.accessibilitySupport=2]="accessibilitySupport",M[M.accessibilityPageSize=3]="accessibilityPageSize",M[M.ariaLabel=4]="ariaLabel",M[M.autoClosingBrackets=5]="autoClosingBrackets",M[M.autoClosingDelete=6]="autoClosingDelete",M[M.autoClosingOvertype=7]="autoClosingOvertype",M[M.autoClosingQuotes=8]="autoClosingQuotes",M[M.autoIndent=9]="autoIndent",M[M.automaticLayout=10]="automaticLayout",M[M.autoSurround=11]="autoSurround",M[M.bracketPairColorization=12]="bracketPairColorization",M[M.guides=13]="guides",M[M.codeLens=14]="codeLens",M[M.codeLensFontFamily=15]="codeLensFontFamily",M[M.codeLensFontSize=16]="codeLensFontSize",M[M.colorDecorators=17]="colorDecorators",M[M.columnSelection=18]="columnSelection",M[M.comments=19]="comments",M[M.contextmenu=20]="contextmenu",M[M.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",M[M.cursorBlinking=22]="cursorBlinking",M[M.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",M[M.cursorStyle=24]="cursorStyle",M[M.cursorSurroundingLines=25]="cursorSurroundingLines",M[M.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",M[M.cursorWidth=27]="cursorWidth",M[M.disableLayerHinting=28]="disableLayerHinting",M[M.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",M[M.domReadOnly=30]="domReadOnly",M[M.dragAndDrop=31]="dragAndDrop",M[M.dropIntoEditor=32]="dropIntoEditor",M[M.emptySelectionClipboard=33]="emptySelectionClipboard",M[M.experimental=34]="experimental",M[M.extraEditorClassName=35]="extraEditorClassName",M[M.fastScrollSensitivity=36]="fastScrollSensitivity",M[M.find=37]="find",M[M.fixedOverflowWidgets=38]="fixedOverflowWidgets",M[M.folding=39]="folding",M[M.foldingStrategy=40]="foldingStrategy",M[M.foldingHighlight=41]="foldingHighlight",M[M.foldingImportsByDefault=42]="foldingImportsByDefault",M[M.foldingMaximumRegions=43]="foldingMaximumRegions",M[M.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",M[M.fontFamily=45]="fontFamily",M[M.fontInfo=46]="fontInfo",M[M.fontLigatures=47]="fontLigatures",M[M.fontSize=48]="fontSize",M[M.fontWeight=49]="fontWeight",M[M.formatOnPaste=50]="formatOnPaste",M[M.formatOnType=51]="formatOnType",M[M.glyphMargin=52]="glyphMargin",M[M.gotoLocation=53]="gotoLocation",M[M.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",M[M.hover=55]="hover",M[M.inDiffEditor=56]="inDiffEditor",M[M.inlineSuggest=57]="inlineSuggest",M[M.letterSpacing=58]="letterSpacing",M[M.lightbulb=59]="lightbulb",M[M.lineDecorationsWidth=60]="lineDecorationsWidth",M[M.lineHeight=61]="lineHeight",M[M.lineNumbers=62]="lineNumbers",M[M.lineNumbersMinChars=63]="lineNumbersMinChars",M[M.linkedEditing=64]="linkedEditing",M[M.links=65]="links",M[M.matchBrackets=66]="matchBrackets",M[M.minimap=67]="minimap",M[M.mouseStyle=68]="mouseStyle",M[M.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",M[M.mouseWheelZoom=70]="mouseWheelZoom",M[M.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",M[M.multiCursorModifier=72]="multiCursorModifier",M[M.multiCursorPaste=73]="multiCursorPaste",M[M.occurrencesHighlight=74]="occurrencesHighlight",M[M.overviewRulerBorder=75]="overviewRulerBorder",M[M.overviewRulerLanes=76]="overviewRulerLanes",M[M.padding=77]="padding",M[M.parameterHints=78]="parameterHints",M[M.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",M[M.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",M[M.quickSuggestions=81]="quickSuggestions",M[M.quickSuggestionsDelay=82]="quickSuggestionsDelay",M[M.readOnly=83]="readOnly",M[M.renameOnType=84]="renameOnType",M[M.renderControlCharacters=85]="renderControlCharacters",M[M.renderFinalNewline=86]="renderFinalNewline",M[M.renderLineHighlight=87]="renderLineHighlight",M[M.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",M[M.renderValidationDecorations=89]="renderValidationDecorations",M[M.renderWhitespace=90]="renderWhitespace",M[M.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",M[M.roundedSelection=92]="roundedSelection",M[M.rulers=93]="rulers",M[M.scrollbar=94]="scrollbar",M[M.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",M[M.scrollBeyondLastLine=96]="scrollBeyondLastLine",M[M.scrollPredominantAxis=97]="scrollPredominantAxis",M[M.selectionClipboard=98]="selectionClipboard",M[M.selectionHighlight=99]="selectionHighlight",M[M.selectOnLineNumbers=100]="selectOnLineNumbers",M[M.showFoldingControls=101]="showFoldingControls",M[M.showUnused=102]="showUnused",M[M.snippetSuggestions=103]="snippetSuggestions",M[M.smartSelect=104]="smartSelect",M[M.smoothScrolling=105]="smoothScrolling",M[M.stickyTabStops=106]="stickyTabStops",M[M.stopRenderingLineAfter=107]="stopRenderingLineAfter",M[M.suggest=108]="suggest",M[M.suggestFontSize=109]="suggestFontSize",M[M.suggestLineHeight=110]="suggestLineHeight",M[M.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",M[M.suggestSelection=112]="suggestSelection",M[M.tabCompletion=113]="tabCompletion",M[M.tabIndex=114]="tabIndex",M[M.unicodeHighlighting=115]="unicodeHighlighting",M[M.unusualLineTerminators=116]="unusualLineTerminators",M[M.useShadowDOM=117]="useShadowDOM",M[M.useTabStops=118]="useTabStops",M[M.wordSeparators=119]="wordSeparators",M[M.wordWrap=120]="wordWrap",M[M.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",M[M.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",M[M.wordWrapColumn=123]="wordWrapColumn",M[M.wordWrapOverride1=124]="wordWrapOverride1",M[M.wordWrapOverride2=125]="wordWrapOverride2",M[M.wrappingIndent=126]="wrappingIndent",M[M.wrappingStrategy=127]="wrappingStrategy",M[M.showDeprecated=128]="showDeprecated",M[M.inlayHints=129]="inlayHints",M[M.editorClassName=130]="editorClassName",M[M.pixelRatio=131]="pixelRatio",M[M.tabFocusMode=132]="tabFocusMode",M[M.layoutInfo=133]="layoutInfo",M[M.wrappingInfo=134]="wrappingInfo",m;var M})(),c=(()=>{return(M=c||(c={}))[M.TextDefined=0]="TextDefined",M[M.LF=1]="LF",M[M.CRLF=2]="CRLF",c;var M})(),t=(()=>{return(M=t||(t={}))[M.LF=0]="LF",M[M.CRLF=1]="CRLF",t;var M})(),a=(()=>{return(M=a||(a={}))[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent",a;var M})(),p=(()=>{return(M=p||(p={}))[M.Both=0]="Both",M[M.Right=1]="Right",M[M.Left=2]="Left",M[M.None=3]="None",p;var M})(),u=(()=>{return(M=u||(u={}))[M.Type=1]="Type",M[M.Parameter=2]="Parameter",u;var M})(),g=(()=>{return(M=g||(g={}))[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit",g;var M})(),b=(()=>{return(M=b||(b={}))[M.DependsOnKbLayout=-1]="DependsOnKbLayout",M[M.Unknown=0]="Unknown",M[M.Backspace=1]="Backspace",M[M.Tab=2]="Tab",M[M.Enter=3]="Enter",M[M.Shift=4]="Shift",M[M.Ctrl=5]="Ctrl",M[M.Alt=6]="Alt",M[M.PauseBreak=7]="PauseBreak",M[M.CapsLock=8]="CapsLock",M[M.Escape=9]="Escape",M[M.Space=10]="Space",M[M.PageUp=11]="PageUp",M[M.PageDown=12]="PageDown",M[M.End=13]="End",M[M.Home=14]="Home",M[M.LeftArrow=15]="LeftArrow",M[M.UpArrow=16]="UpArrow",M[M.RightArrow=17]="RightArrow",M[M.DownArrow=18]="DownArrow",M[M.Insert=19]="Insert",M[M.Delete=20]="Delete",M[M.Digit0=21]="Digit0",M[M.Digit1=22]="Digit1",M[M.Digit2=23]="Digit2",M[M.Digit3=24]="Digit3",M[M.Digit4=25]="Digit4",M[M.Digit5=26]="Digit5",M[M.Digit6=27]="Digit6",M[M.Digit7=28]="Digit7",M[M.Digit8=29]="Digit8",M[M.Digit9=30]="Digit9",M[M.KeyA=31]="KeyA",M[M.KeyB=32]="KeyB",M[M.KeyC=33]="KeyC",M[M.KeyD=34]="KeyD",M[M.KeyE=35]="KeyE",M[M.KeyF=36]="KeyF",M[M.KeyG=37]="KeyG",M[M.KeyH=38]="KeyH",M[M.KeyI=39]="KeyI",M[M.KeyJ=40]="KeyJ",M[M.KeyK=41]="KeyK",M[M.KeyL=42]="KeyL",M[M.KeyM=43]="KeyM",M[M.KeyN=44]="KeyN",M[M.KeyO=45]="KeyO",M[M.KeyP=46]="KeyP",M[M.KeyQ=47]="KeyQ",M[M.KeyR=48]="KeyR",M[M.KeyS=49]="KeyS",M[M.KeyT=50]="KeyT",M[M.KeyU=51]="KeyU",M[M.KeyV=52]="KeyV",M[M.KeyW=53]="KeyW",M[M.KeyX=54]="KeyX",M[M.KeyY=55]="KeyY",M[M.KeyZ=56]="KeyZ",M[M.Meta=57]="Meta",M[M.ContextMenu=58]="ContextMenu",M[M.F1=59]="F1",M[M.F2=60]="F2",M[M.F3=61]="F3",M[M.F4=62]="F4",M[M.F5=63]="F5",M[M.F6=64]="F6",M[M.F7=65]="F7",M[M.F8=66]="F8",M[M.F9=67]="F9",M[M.F10=68]="F10",M[M.F11=69]="F11",M[M.F12=70]="F12",M[M.F13=71]="F13",M[M.F14=72]="F14",M[M.F15=73]="F15",M[M.F16=74]="F16",M[M.F17=75]="F17",M[M.F18=76]="F18",M[M.F19=77]="F19",M[M.NumLock=78]="NumLock",M[M.ScrollLock=79]="ScrollLock",M[M.Semicolon=80]="Semicolon",M[M.Equal=81]="Equal",M[M.Comma=82]="Comma",M[M.Minus=83]="Minus",M[M.Period=84]="Period",M[M.Slash=85]="Slash",M[M.Backquote=86]="Backquote",M[M.BracketLeft=87]="BracketLeft",M[M.Backslash=88]="Backslash",M[M.BracketRight=89]="BracketRight",M[M.Quote=90]="Quote",M[M.OEM_8=91]="OEM_8",M[M.IntlBackslash=92]="IntlBackslash",M[M.Numpad0=93]="Numpad0",M[M.Numpad1=94]="Numpad1",M[M.Numpad2=95]="Numpad2",M[M.Numpad3=96]="Numpad3",M[M.Numpad4=97]="Numpad4",M[M.Numpad5=98]="Numpad5",M[M.Numpad6=99]="Numpad6",M[M.Numpad7=100]="Numpad7",M[M.Numpad8=101]="Numpad8",M[M.Numpad9=102]="Numpad9",M[M.NumpadMultiply=103]="NumpadMultiply",M[M.NumpadAdd=104]="NumpadAdd",M[M.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",M[M.NumpadSubtract=106]="NumpadSubtract",M[M.NumpadDecimal=107]="NumpadDecimal",M[M.NumpadDivide=108]="NumpadDivide",M[M.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",M[M.ABNT_C1=110]="ABNT_C1",M[M.ABNT_C2=111]="ABNT_C2",M[M.AudioVolumeMute=112]="AudioVolumeMute",M[M.AudioVolumeUp=113]="AudioVolumeUp",M[M.AudioVolumeDown=114]="AudioVolumeDown",M[M.BrowserSearch=115]="BrowserSearch",M[M.BrowserHome=116]="BrowserHome",M[M.BrowserBack=117]="BrowserBack",M[M.BrowserForward=118]="BrowserForward",M[M.MediaTrackNext=119]="MediaTrackNext",M[M.MediaTrackPrevious=120]="MediaTrackPrevious",M[M.MediaStop=121]="MediaStop",M[M.MediaPlayPause=122]="MediaPlayPause",M[M.LaunchMediaPlayer=123]="LaunchMediaPlayer",M[M.LaunchMail=124]="LaunchMail",M[M.LaunchApp2=125]="LaunchApp2",M[M.Clear=126]="Clear",M[M.MAX_VALUE=127]="MAX_VALUE",b;var M})(),y=(()=>{return(M=y||(y={}))[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error",y;var M})(),w=(()=>{return(M=w||(w={}))[M.Unnecessary=1]="Unnecessary",M[M.Deprecated=2]="Deprecated",w;var M})(),D=(()=>{return(M=D||(D={}))[M.Inline=1]="Inline",M[M.Gutter=2]="Gutter",D;var M})(),x=(()=>{return(M=x||(x={}))[M.UNKNOWN=0]="UNKNOWN",M[M.TEXTAREA=1]="TEXTAREA",M[M.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",M[M.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",M[M.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",M[M.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",M[M.CONTENT_TEXT=6]="CONTENT_TEXT",M[M.CONTENT_EMPTY=7]="CONTENT_EMPTY",M[M.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",M[M.CONTENT_WIDGET=9]="CONTENT_WIDGET",M[M.OVERVIEW_RULER=10]="OVERVIEW_RULER",M[M.SCROLLBAR=11]="SCROLLBAR",M[M.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",M[M.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",x;var M})(),P=(()=>{return(M=P||(P={}))[M.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",M[M.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",M[M.TOP_CENTER=2]="TOP_CENTER",P;var M})(),O=(()=>{return(M=O||(O={}))[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=4]="Right",M[M.Full=7]="Full",O;var M})(),V=(()=>{return(M=V||(V={}))[M.Left=0]="Left",M[M.Right=1]="Right",M[M.None=2]="None",M[M.LeftOfInjectedText=3]="LeftOfInjectedText",M[M.RightOfInjectedText=4]="RightOfInjectedText",V;var M})(),H=(()=>{return(M=H||(H={}))[M.Off=0]="Off",M[M.On=1]="On",M[M.Relative=2]="Relative",M[M.Interval=3]="Interval",M[M.Custom=4]="Custom",H;var M})(),z=(()=>{return(M=z||(z={}))[M.None=0]="None",M[M.Text=1]="Text",M[M.Blocks=2]="Blocks",z;var M})(),k=(()=>{return(M=k||(k={}))[M.Smooth=0]="Smooth",M[M.Immediate=1]="Immediate",k;var M})(),F=(()=>{return(M=F||(F={}))[M.Auto=1]="Auto",M[M.Hidden=2]="Hidden",M[M.Visible=3]="Visible",F;var M})(),j=(()=>{return(M=j||(j={}))[M.LTR=0]="LTR",M[M.RTL=1]="RTL",j;var M})(),K=(()=>{return(M=K||(K={}))[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange",K;var M})(),U=(()=>{return(M=U||(U={}))[M.File=0]="File",M[M.Module=1]="Module",M[M.Namespace=2]="Namespace",M[M.Package=3]="Package",M[M.Class=4]="Class",M[M.Method=5]="Method",M[M.Property=6]="Property",M[M.Field=7]="Field",M[M.Constructor=8]="Constructor",M[M.Enum=9]="Enum",M[M.Interface=10]="Interface",M[M.Function=11]="Function",M[M.Variable=12]="Variable",M[M.Constant=13]="Constant",M[M.String=14]="String",M[M.Number=15]="Number",M[M.Boolean=16]="Boolean",M[M.Array=17]="Array",M[M.Object=18]="Object",M[M.Key=19]="Key",M[M.Null=20]="Null",M[M.EnumMember=21]="EnumMember",M[M.Struct=22]="Struct",M[M.Event=23]="Event",M[M.Operator=24]="Operator",M[M.TypeParameter=25]="TypeParameter",U;var M})(),ne=(()=>{return(M=ne||(ne={}))[M.Deprecated=1]="Deprecated",ne;var M})(),N=(()=>{return(M=N||(N={}))[M.Hidden=0]="Hidden",M[M.Blink=1]="Blink",M[M.Smooth=2]="Smooth",M[M.Phase=3]="Phase",M[M.Expand=4]="Expand",M[M.Solid=5]="Solid",N;var M})(),W=(()=>{return(M=W||(W={}))[M.Line=1]="Line",M[M.Block=2]="Block",M[M.Underline=3]="Underline",M[M.LineThin=4]="LineThin",M[M.BlockOutline=5]="BlockOutline",M[M.UnderlineThin=6]="UnderlineThin",W;var M})(),Z=(()=>{return(M=Z||(Z={}))[M.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",M[M.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",M[M.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",M[M.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",Z;var M})(),ge=(()=>{return(M=ge||(ge={}))[M.None=0]="None",M[M.Same=1]="Same",M[M.Indent=2]="Indent",M[M.DeepIndent=3]="DeepIndent",ge;var M})()},74982:(Dt,Y,e)=>{"use strict";e.d(Y,{B8:()=>E,Oe:()=>n,UX:()=>T,aq:()=>C,iN:()=>_,ld:()=>v,qq:()=>S,ug:()=>l,xi:()=>L});var n,s,l,S,v,T,C,E,L,_,d=e(55197);(s=n||(n={})).noSelection=d.NC("noSelection","No selection"),s.singleSelectionRange=d.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),s.singleSelection=d.NC("singleSelection","Line {0}, Column {1}"),s.multiSelectionRange=d.NC("multiSelectionRange","{0} selections ({1} characters selected)"),s.multiSelection=d.NC("multiSelection","{0} selections"),s.emergencyConfOn=d.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),s.openingDocs=d.NC("openingDocs","Now opening the Editor Accessibility documentation page."),s.readonlyDiffEditor=d.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),s.editableDiffEditor=d.NC("editableDiffEditor"," in a pane of a diff editor."),s.readonlyEditor=d.NC("readonlyEditor"," in a read-only code editor"),s.editableEditor=d.NC("editableEditor"," in a code editor"),s.changeConfigToOnMac=d.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),s.changeConfigToOnWinLinux=d.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),s.auto_on=d.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),s.auto_off=d.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),s.tabFocusModeOnMsg=d.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),s.tabFocusModeOnMsgNoKb=d.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),s.tabFocusModeOffMsg=d.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),s.tabFocusModeOffMsgNoKb=d.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),s.openDocMac=d.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),s.openDocWinLinux=d.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),s.outroMsg=d.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),s.showAccessibilityHelpAction=d.NC("showAccessibilityHelpAction","Show Accessibility Help"),function(s){s.inspectTokensAction=d.NC("inspectTokens","Developer: Inspect Tokens")}(l||(l={})),function(s){s.gotoLineActionLabel=d.NC("gotoLineActionLabel","Go to Line/Column...")}(S||(S={})),function(s){s.helpQuickAccessActionLabel=d.NC("helpQuickAccess","Show all Quick Access Providers")}(v||(v={})),function(s){s.quickCommandActionLabel=d.NC("quickCommandActionLabel","Command Palette"),s.quickCommandHelp=d.NC("quickCommandActionHelp","Show And Run Commands")}(T||(T={})),function(s){s.quickOutlineActionLabel=d.NC("quickOutlineActionLabel","Go to Symbol..."),s.quickOutlineByCategoryActionLabel=d.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(C||(C={})),function(s){s.editorViewAccessibleLabel=d.NC("editorViewAccessibleLabel","Editor content"),s.accessibilityHelpMessage=d.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(E||(E={})),function(s){s.toggleHighContrast=d.NC("toggleHighContrast","Toggle High Contrast Theme")}(L||(L={})),function(s){s.bulkEditServiceSummary=d.NC("bulkEditServiceSummary","Made {0} edits in {1} files")}(_||(_={}))},54547:(Dt,Y,e)=>{"use strict";e.d(Y,{CZ:()=>T,D8:()=>E,Jx:()=>d,Tx:()=>v,dQ:()=>C,fV:()=>L,gk:()=>n,lN:()=>S,rU:()=>l});class d{constructor(){this.changeType=1}}class n{constructor(s,m,c,t,a){this.ownerId=s,this.lineNumber=m,this.column=c,this.options=t,this.order=a}static applyInjectedText(s,m){if(!m||0===m.length)return s;let c="",t=0;for(const a of m)c+=s.substring(t,a.column-1),t=a.column-1,c+=a.options.content;return c+=s.substring(t),c}static fromDecorations(s){const m=[];for(const c of s)c.options.before&&c.options.before.content.length>0&&m.push(new n(c.ownerId,c.range.startLineNumber,c.range.startColumn,c.options.before,0)),c.options.after&&c.options.after.content.length>0&&m.push(new n(c.ownerId,c.range.endLineNumber,c.range.endColumn,c.options.after,1));return m.sort((c,t)=>c.lineNumber===t.lineNumber?c.column===t.column?c.order-t.order:c.column-t.column:c.lineNumber-t.lineNumber),m}}class l{constructor(s,m,c){this.changeType=2,this.lineNumber=s,this.detail=m,this.injectedText=c}}class S{constructor(s,m){this.changeType=3,this.fromLineNumber=s,this.toLineNumber=m}}class v{constructor(s,m,c,t){this.changeType=4,this.injectedTexts=t,this.fromLineNumber=s,this.toLineNumber=m,this.detail=c}}class T{constructor(){this.changeType=5}}class C{constructor(s,m,c,t){this.changes=s,this.versionId=m,this.isUndoing=c,this.isRedoing=t,this.resultingSelection=null}containsEvent(s){for(let m=0,c=this.changes.length;m<c;m++)if(this.changes[m].changeType===s)return!0;return!1}static merge(s,m){const c=[].concat(s.changes).concat(m.changes);return new C(c,m.versionId,s.isUndoing||m.isUndoing,s.isRedoing||m.isRedoing)}}class E{constructor(s){this.changes=s}}class L{constructor(s,m){this.rawContentChangedEvent=s,this.contentChangedEvent=m}merge(s){const m=C.merge(this.rawContentChangedEvent,s.rawContentChangedEvent),c=L._mergeChangeEvents(this.contentChangedEvent,s.contentChangedEvent);return new L(m,c)}static _mergeChangeEvents(s,m){return{changes:[].concat(s.changes).concat(m.changes),eol:m.eol,versionId:m.versionId,isUndoing:s.isUndoing||m.isUndoing,isRedoing:s.isRedoing||m.isRedoing,isFlush:s.isFlush||m.isFlush}}}},87570:(Dt,Y,e)=>{"use strict";e.d(Y,{UO:()=>n,s6:()=>d,vW:()=>l});var d=(()=>{return(S=d||(d={}))[S.Disabled=0]="Disabled",S[S.EnabledForActive=1]="EnabledForActive",S[S.Enabled=2]="Enabled",d;var S})();class n{constructor(v,T,C,E,L,_){if(this.visibleColumn=v,this.column=T,this.className=C,this.horizontalLine=E,this.forWrappedLinesAfterColumn=L,this.forWrappedLinesBeforeOrAtColumn=_,-1!==v==(-1!==T))throw new Error}}class l{constructor(v,T){this.top=v,this.endColumn=T}}},71513:(Dt,Y,e)=>{"use strict";e.d(Y,{A:()=>n});var d=e(1465);let n=(()=>{class S{constructor(T,C,E){this._lineTokensBrand=void 0,this._tokens=T,this._tokensCount=this._tokens.length>>>1,this._text=C,this._languageIdCodec=E}static createEmpty(T,C){const E=S.defaultTokenMetadata,L=new Uint32Array(2);return L[0]=T.length,L[1]=E,new S(L,T,C)}equals(T){return T instanceof S&&this.slicedEquals(T,0,this._tokensCount)}slicedEquals(T,C,E){if(this._text!==T._text||this._tokensCount!==T._tokensCount)return!1;const L=C<<1,_=L+(E<<1);for(let s=L;s<_;s++)if(this._tokens[s]!==T._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(T){return T>0?this._tokens[T-1<<1]:0}getMetadata(T){return this._tokens[1+(T<<1)]}getLanguageId(T){const E=d.N.getLanguageId(this._tokens[1+(T<<1)]);return this._languageIdCodec.decodeLanguageId(E)}getStandardTokenType(T){return d.N.getTokenType(this._tokens[1+(T<<1)])}getForeground(T){return d.N.getForeground(this._tokens[1+(T<<1)])}getClassName(T){return d.N.getClassNameFromMetadata(this._tokens[1+(T<<1)])}getInlineStyle(T,C){return d.N.getInlineStyleFromMetadata(this._tokens[1+(T<<1)],C)}getPresentation(T){return d.N.getPresentationFromMetadata(this._tokens[1+(T<<1)])}getEndOffset(T){return this._tokens[T<<1]}findTokenIndexAtOffset(T){return S.findIndexInTokensArray(this._tokens,T)}inflate(){return this}sliceAndInflate(T,C,E){return new l(this,T,C,E)}static convertToEndOffset(T,C){const L=(T.length>>>1)-1;for(let _=0;_<L;_++)T[_<<1]=T[_+1<<1];T[L<<1]=C}static findIndexInTokensArray(T,C){if(T.length<=2)return 0;let E=0,L=(T.length>>>1)-1;for(;E<L;){const _=E+Math.floor((L-E)/2),s=T[_<<1];if(s===C)return _+1;s<C?E=_+1:s>C&&(L=_)}return E}withInserted(T){if(0===T.length)return this;let C=0,E=0,L="";const _=new Array;let s=0;for(;;){const m=C<this._tokensCount?this._tokens[C<<1]:-1,c=E<T.length?T[E]:null;if(-1!==m&&(null===c||m<=c.offset))L+=this._text.substring(s,m),_.push(L.length,this._tokens[1+(C<<1)]),C++,s=m;else{if(!c)break;c.offset>s&&(L+=this._text.substring(s,c.offset),_.push(L.length,this._tokens[1+(C<<1)]),s=c.offset),L+=c.text,_.push(L.length,c.tokenMetadata),E++}}return new S(new Uint32Array(_),L,this._languageIdCodec)}}return S.defaultTokenMetadata=33587200,S})();class l{constructor(v,T,C,E){this._source=v,this._startOffset=T,this._endOffset=C,this._deltaOffset=E,this._firstTokenIndex=v.findTokenIndexAtOffset(T),this._tokensCount=0;for(let L=this._firstTokenIndex,_=v.getCount();L<_&&!(v.getStartOffset(L)>=C);L++)this._tokensCount++}getMetadata(v){return this._source.getMetadata(this._firstTokenIndex+v)}getLanguageId(v){return this._source.getLanguageId(this._firstTokenIndex+v)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(v){return v instanceof l&&this._startOffset===v._startOffset&&this._endOffset===v._endOffset&&this._deltaOffset===v._deltaOffset&&this._source.slicedEquals(v._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(v){return this._source.getForeground(this._firstTokenIndex+v)}getEndOffset(v){const T=this._source.getEndOffset(this._firstTokenIndex+v);return Math.min(this._endOffset,T)-this._startOffset+this._deltaOffset}getClassName(v){return this._source.getClassName(this._firstTokenIndex+v)}getInlineStyle(v,T){return this._source.getInlineStyle(this._firstTokenIndex+v,T)}getPresentation(v){return this._source.getPresentation(this._firstTokenIndex+v)}findTokenIndexAtOffset(v){return this._source.findTokenIndexAtOffset(v+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},56110:(Dt,Y,e)=>{"use strict";e.d(Y,{Kp:()=>n,k:()=>v});var d=e(73879);class n{constructor(C,E,L,_){this.startColumn=C,this.endColumn=E,this.className=L,this.type=_,this._lineDecorationBrand=void 0}static _equals(C,E){return C.startColumn===E.startColumn&&C.endColumn===E.endColumn&&C.className===E.className&&C.type===E.type}static equalsArr(C,E){const L=C.length;if(L!==E.length)return!1;for(let s=0;s<L;s++)if(!n._equals(C[s],E[s]))return!1;return!0}static extractWrapped(C,E,L){if(0===C.length)return C;const _=E+1,s=L+1,m=L-E,c=[];let t=0;for(const a of C)a.endColumn<=_||a.startColumn>=s||(c[t++]=new n(Math.max(1,a.startColumn-_+1),Math.min(m+1,a.endColumn-_+1),a.className,a.type));return c}static filter(C,E,L,_){if(0===C.length)return[];const s=[];let m=0;for(let c=0,t=C.length;c<t;c++){const a=C[c],p=a.range;p.endLineNumber<E||p.startLineNumber>E||p.isEmpty()&&(0===a.type||3===a.type)||(s[m++]=new n(p.startLineNumber===E?p.startColumn:L,p.endLineNumber===E?p.endColumn:_,a.inlineClassName,a.type))}return s}static _typeCompare(C,E){const L=[2,0,1,3];return L[C]-L[E]}static compare(C,E){if(C.startColumn!==E.startColumn)return C.startColumn-E.startColumn;if(C.endColumn!==E.endColumn)return C.endColumn-E.endColumn;const L=n._typeCompare(C.type,E.type);return 0!==L?L:C.className!==E.className?C.className<E.className?-1:1:0}}class l{constructor(C,E,L,_){this.startOffset=C,this.endOffset=E,this.className=L,this.metadata=_}}class S{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let E=0;for(let L=0,_=C.length;L<_;L++)E|=C[L];return E}consumeLowerThan(C,E,L){for(;this.count>0&&this.stopOffsets[0]<C;){let _=0;for(;_+1<this.count&&this.stopOffsets[_]===this.stopOffsets[_+1];)_++;L.push(new l(E,this.stopOffsets[_],this.classNames.join(" "),S._metadata(this.metadata))),E=this.stopOffsets[_]+1,this.stopOffsets.splice(0,_+1),this.classNames.splice(0,_+1),this.metadata.splice(0,_+1),this.count-=_+1}return this.count>0&&E<C&&(L.push(new l(E,C-1,this.classNames.join(" "),S._metadata(this.metadata))),E=C),E}insert(C,E,L){if(0===this.count||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(E),this.metadata.push(L);else for(let _=0;_<this.count;_++)if(this.stopOffsets[_]>=C){this.stopOffsets.splice(_,0,C),this.classNames.splice(_,0,E),this.metadata.splice(_,0,L);break}this.count++}}class v{static normalize(C,E){if(0===E.length)return[];const L=[],_=new S;let s=0;for(let m=0,c=E.length;m<c;m++){const t=E[m];let a=t.startColumn,p=t.endColumn;const u=t.className,g=1===t.type?2:2===t.type?4:0;if(a>1){const w=C.charCodeAt(a-2);d.ZG(w)&&a--}if(p>1){const w=C.charCodeAt(p-2);d.ZG(w)&&p--}const b=a-1,y=p-2;s=_.consumeLowerThan(b,s,L),0===_.count&&(s=b),_.insert(y,u,g)}return _.consumeLowerThan(1073741824,s,L),L}}},27131:(Dt,Y,e)=>{"use strict";e.d(Y,{Nd:()=>C,zG:()=>v,IJ:()=>T,d1:()=>_,tF:()=>m});var d=e(73879),n=e(8680),l=e(56110);class S{constructor(P,O,V,H){this.endIndex=P,this.type=O,this.metadata=V,this.containsRTL=H,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class v{constructor(P,O){this.startOffset=P,this.endOffset=O}equals(P){return this.startOffset===P.startOffset&&this.endOffset===P.endOffset}}class T{constructor(P,O,V,H,z,k,F,j,K,U,ne,N,W,Z,ge,M,we,Ee,xe){this.useMonospaceOptimizations=P,this.canUseHalfwidthRightwardsArrow=O,this.lineContent=V,this.continuesWithWrappedLine=H,this.isBasicASCII=z,this.containsRTL=k,this.fauxIndentLength=F,this.lineTokens=j,this.lineDecorations=K.sort(l.Kp.compare),this.tabSize=U,this.startVisibleColumn=ne,this.spaceWidth=N,this.stopRenderingLineAfter=ge,this.renderWhitespace="all"===M?4:"boundary"===M?1:"selection"===M?2:"trailing"===M?3:0,this.renderControlCharacters=we,this.fontLigatures=Ee,this.selectionsOnLine=xe&&xe.sort((Se,Ie)=>Se.startOffset<Ie.startOffset?-1:1),Math.abs(Z-N)<Math.abs(W-N)?(this.renderSpaceWidth=Z,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=W,this.renderSpaceCharCode=183)}sameSelection(P){if(null===this.selectionsOnLine)return null===P;if(null===P||P.length!==this.selectionsOnLine.length)return!1;for(let O=0;O<this.selectionsOnLine.length;O++)if(!this.selectionsOnLine[O].equals(P[O]))return!1;return!0}equals(P){return this.useMonospaceOptimizations===P.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===P.canUseHalfwidthRightwardsArrow&&this.lineContent===P.lineContent&&this.continuesWithWrappedLine===P.continuesWithWrappedLine&&this.isBasicASCII===P.isBasicASCII&&this.containsRTL===P.containsRTL&&this.fauxIndentLength===P.fauxIndentLength&&this.tabSize===P.tabSize&&this.startVisibleColumn===P.startVisibleColumn&&this.spaceWidth===P.spaceWidth&&this.renderSpaceWidth===P.renderSpaceWidth&&this.renderSpaceCharCode===P.renderSpaceCharCode&&this.stopRenderingLineAfter===P.stopRenderingLineAfter&&this.renderWhitespace===P.renderWhitespace&&this.renderControlCharacters===P.renderControlCharacters&&this.fontLigatures===P.fontLigatures&&l.Kp.equalsArr(this.lineDecorations,P.lineDecorations)&&this.lineTokens.equals(P.lineTokens)&&this.sameSelection(P.selectionsOnLine)}}class C{constructor(P,O){this.partIndex=P,this.charIndex=O}}class E{constructor(P,O){this.length=P,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(P){return(4294901760&P)>>>16}static getCharIndex(P){return(65535&P)>>>0}setColumnInfo(P,O,V,H){this._data[P-1]=(O<<16|V<<0)>>>0,this._horizontalOffset[P-1]=H}getHorizontalOffset(P){return 0===this._horizontalOffset.length?0:this._horizontalOffset[P-1]}charOffsetToPartData(P){return 0===this.length?0:P<0?this._data[0]:P>=this.length?this._data[this.length-1]:this._data[P]}getDomPosition(P){const O=this.charOffsetToPartData(P-1),V=E.getPartIndex(O),H=E.getCharIndex(O);return new C(V,H)}getColumn(P,O){return this.partDataToCharOffset(P.partIndex,O,P.charIndex)+1}partDataToCharOffset(P,O,V){if(0===this.length)return 0;const H=(P<<16|V<<0)>>>0;let z=0,k=this.length-1;for(;z+1<k;){const ge=z+k>>>1,M=this._data[ge];if(M===H)return ge;M>H?k=ge:z=ge}if(z===k)return z;const F=this._data[z],j=this._data[k];if(F===H)return z;if(j===H)return k;const K=E.getPartIndex(F),U=E.getCharIndex(F);let N;return N=K!==E.getPartIndex(j)?O:E.getCharIndex(j),V-U<=N-V?z:k}}class L{constructor(P,O,V){this._renderLineOutputBrand=void 0,this.characterMapping=P,this.containsRTL=O,this.containsForeignElements=V}}function _(x,P){if(0===x.lineContent.length){if(x.lineDecorations.length>0){P.appendASCIIString("<span>");let O=0,V=0,H=0;for(const k of x.lineDecorations)(1===k.type||2===k.type)&&(P.appendASCIIString('<span class="'),P.appendASCIIString(k.className),P.appendASCIIString('"></span>'),1===k.type&&(H|=1,O++),2===k.type&&(H|=2,V++));P.appendASCIIString("</span>");const z=new E(1,O+V);return z.setColumnInfo(1,O,0,0),new L(z,!1,H)}return P.appendASCIIString("<span><span></span></span>"),new L(new E(0,0),!1,0)}return function w(x,P){const O=x.fontIsMonospace,V=x.canUseHalfwidthRightwardsArrow,H=x.containsForeignElements,z=x.lineContent,k=x.len,F=x.isOverflowing,j=x.parts,K=x.fauxIndentLength,U=x.tabSize,ne=x.startVisibleColumn,N=x.containsRTL,W=x.spaceWidth,Z=x.renderSpaceCharCode,ge=x.renderWhitespace,M=x.renderControlCharacters,we=new E(k+1,j.length);let Ee=!1,xe=0,Ne=ne,oe=0,Se=0,Ie=0;P.appendASCIIString(N?'<span dir="ltr">':"<span>");for(let me=0,Me=j.length;me<Me;me++){const de=j[me],ke=de.endIndex,Ue=de.type,ze=de.containsRTL,ce=0!==ge&&de.isWhitespace(),Ve=ce&&!O&&("mtkw"===Ue||!H),tt=xe===ke&&de.isPseudoAfter();if(oe=0,P.appendASCIIString("<span "),ze&&P.appendASCIIString('style="unicode-bidi:isolate" '),P.appendASCIIString('class="'),P.appendASCIIString(Ve?"mtkz":Ue),P.appendASCII(34),ce){let Ct=0;{let Lt=xe,$e=Ne;for(;Lt<ke;Lt++){const ve=0|(9===z.charCodeAt(Lt)?U-$e%U:1);Ct+=ve,Lt>=K&&($e+=ve)}}for(Ve&&(P.appendASCIIString(' style="width:'),P.appendASCIIString(String(W*Ct)),P.appendASCIIString('px"')),P.appendASCII(62);xe<ke;xe++){let $e,ae;if(we.setColumnInfo(xe+1,me-Ie,oe,Se),Ie=0,9===z.charCodeAt(xe)){$e=U-Ne%U|0,ae=$e,P.write1(!V||ae>1?8594:65515);for(let ve=2;ve<=ae;ve++)P.write1(160)}else $e=2,ae=1,P.write1(Z),P.write1(8204);oe+=$e,Se+=ae,xe>=K&&(Ne+=ae)}}else for(P.appendASCII(62);xe<ke;xe++){we.setColumnInfo(xe+1,me-Ie,oe,Se),Ie=0;const Ct=z.charCodeAt(xe);let Lt=1,$e=1;switch(Ct){case 9:Lt=U-Ne%U,$e=Lt;for(let ae=1;ae<=Lt;ae++)P.write1(160);break;case 32:P.write1(160);break;case 60:P.appendASCIIString("&lt;");break;case 62:P.appendASCIIString("&gt;");break;case 38:P.appendASCIIString("&amp;");break;case 0:M?P.write1(9216):P.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:P.write1(65533);break;default:d.K7(Ct)&&$e++,M&&Ct<32?P.write1(9216+Ct):M&&127===Ct?P.write1(9249):M&&u(Ct)?(P.appendASCIIString("[U+"),P.appendASCIIString(D(Ct)),P.appendASCIIString("]"),Lt=8,$e=Lt):P.write1(Ct)}oe+=Lt,Se+=$e,xe>=K&&(Ne+=$e)}tt?Ie++:Ie=0,xe>=k&&!Ee&&de.isPseudoAfter()&&(Ee=!0,we.setColumnInfo(xe+1,me,oe,Se)),P.appendASCIIString("</span>")}return Ee||we.setColumnInfo(k+1,j.length-1,oe,Se),F&&P.appendASCIIString("<span>&hellip;</span>"),P.appendASCIIString("</span>"),new L(we,N,H)}(function t(x){const P=x.lineContent;let O,V;-1!==x.stopRenderingLineAfter&&x.stopRenderingLineAfter<P.length?(O=!0,V=x.stopRenderingLineAfter):(O=!1,V=P.length);let H=function a(x,P,O,V,H){const z=[];let k=0;V>0&&(z[k++]=new S(V,"",0,!1));let F=V;for(let j=0,K=O.getCount();j<K;j++){const U=O.getEndOffset(j);if(U<=V)continue;const ne=O.getClassName(j);if(U>=H){const W=!!P&&d.Ut(x.substring(F,H));z[k++]=new S(H,ne,0,W);break}const N=!!P&&d.Ut(x.substring(F,U));z[k++]=new S(U,ne,0,N),F=U}return z}(P,x.containsRTL,x.lineTokens,x.fauxIndentLength,V);x.renderControlCharacters&&!x.isBasicASCII&&(H=function g(x,P){const O=[];let V=new S(0,"",0,!1),H=0;for(const z of P){const k=z.endIndex;for(;H<k;H++)u(x.charCodeAt(H))&&(H>V.endIndex&&(V=new S(H,z.type,z.metadata,z.containsRTL),O.push(V)),V=new S(H+1,"mtkcontrol",z.metadata,!1),O.push(V));H>V.endIndex&&(V=new S(k,z.type,z.metadata,z.containsRTL),O.push(V))}return O}(P,H)),(4===x.renderWhitespace||1===x.renderWhitespace||2===x.renderWhitespace&&x.selectionsOnLine||3===x.renderWhitespace)&&(H=function b(x,P,O,V){const H=x.continuesWithWrappedLine,z=x.fauxIndentLength,k=x.tabSize,F=x.startVisibleColumn,j=x.useMonospaceOptimizations,K=x.selectionsOnLine,U=1===x.renderWhitespace,ne=3===x.renderWhitespace,N=x.renderSpaceWidth!==x.spaceWidth,W=[];let Z=0,ge=0,M=V[ge].type,we=V[ge].containsRTL,Ee=V[ge].endIndex;const xe=V.length;let Se,Ne=!1,oe=d.LC(P);-1===oe?(Ne=!0,oe=O,Se=O):Se=d.ow(P);let Ie=!1,me=0,Me=K&&K[me],de=F%k;for(let Ue=z;Ue<O;Ue++){const ze=P.charCodeAt(Ue);let ce;if(Me&&Ue>=Me.endOffset&&(me++,Me=K&&K[me]),Ue<oe||Ue>Se)ce=!0;else if(9===ze)ce=!0;else if(32===ze)if(U)if(Ie)ce=!0;else{const Ve=Ue+1<O?P.charCodeAt(Ue+1):0;ce=32===Ve||9===Ve}else ce=!0;else ce=!1;if(ce&&K&&(ce=!!Me&&Me.startOffset<=Ue&&Me.endOffset>Ue),ce&&ne&&(ce=Ne||Ue>Se),ce&&we&&Ue>=oe&&Ue<=Se&&(ce=!1),Ie){if(!ce||!j&&de>=k){if(N)for(let tt=(Z>0?W[Z-1].endIndex:z)+1;tt<=Ue;tt++)W[Z++]=new S(tt,"mtkw",1,!1);else W[Z++]=new S(Ue,"mtkw",1,!1);de%=k}}else(Ue===Ee||ce&&Ue>z)&&(W[Z++]=new S(Ue,M,0,we),de%=k);for(9===ze?de=k:d.K7(ze)?de+=2:de++,Ie=ce;Ue===Ee&&(ge++,ge<xe);)M=V[ge].type,we=V[ge].containsRTL,Ee=V[ge].endIndex}let ke=!1;if(Ie)if(H&&U){const Ue=O>0?P.charCodeAt(O-1):0,ze=O>1?P.charCodeAt(O-2):0;32===Ue&&32!==ze&&9!==ze||(ke=!0)}else ke=!0;if(ke)if(N)for(let ze=(Z>0?W[Z-1].endIndex:z)+1;ze<=O;ze++)W[Z++]=new S(ze,"mtkw",1,!1);else W[Z++]=new S(O,"mtkw",1,!1);else W[Z++]=new S(O,M,0,we);return W}(x,P,V,H));let z=0;if(x.lineDecorations.length>0){for(let k=0,F=x.lineDecorations.length;k<F;k++){const j=x.lineDecorations[k];3===j.type||1===j.type?z|=1:2===j.type&&(z|=2)}H=function y(x,P,O,V){V.sort(l.Kp.compare);const H=l.k.normalize(x,V),z=H.length;let k=0;const F=[];let j=0,K=0;for(let ne=0,N=O.length;ne<N;ne++){const W=O[ne],Z=W.endIndex,ge=W.type,M=W.metadata,we=W.containsRTL;for(;k<z&&H[k].startOffset<Z;){const Ee=H[k];if(Ee.startOffset>K&&(K=Ee.startOffset,F[j++]=new S(K,ge,M,we)),!(Ee.endOffset+1<=Z)){K=Z,F[j++]=new S(K,ge+" "+Ee.className,M|Ee.metadata,we);break}K=Ee.endOffset+1,F[j++]=new S(K,ge+" "+Ee.className,M|Ee.metadata,we),k++}Z>K&&(K=Z,F[j++]=new S(K,ge,M,we))}const U=O[O.length-1].endIndex;if(k<z&&H[k].startOffset===U)for(;k<z&&H[k].startOffset===U;){const ne=H[k];F[j++]=new S(K,ne.className,ne.metadata,!1),k++}return F}(P,0,H,x.lineDecorations)}return x.containsRTL||(H=function p(x,P,O){let V=0;const H=[];let z=0;if(O)for(let k=0,F=P.length;k<F;k++){const j=P[k],K=j.endIndex;if(V+50<K){const U=j.type,ne=j.metadata,N=j.containsRTL;let W=-1,Z=V;for(let ge=V;ge<K;ge++)32===x.charCodeAt(ge)&&(W=ge),-1!==W&&ge-Z>=50&&(H[z++]=new S(W+1,U,ne,N),Z=W+1,W=-1);Z!==K&&(H[z++]=new S(K,U,ne,N))}else H[z++]=j;V=K}else for(let k=0,F=P.length;k<F;k++){const j=P[k],K=j.endIndex,U=K-V;if(U>50){const ne=j.type,N=j.metadata,W=j.containsRTL,Z=Math.ceil(U/50);for(let ge=1;ge<Z;ge++)H[z++]=new S(V+50*ge,ne,N,W);H[z++]=new S(K,ne,N,W)}else H[z++]=j;V=K}return H}(P,H,!x.isBasicASCII||x.fontLigatures)),new c(x.useMonospaceOptimizations,x.canUseHalfwidthRightwardsArrow,P,V,O,H,z,x.fauxIndentLength,x.tabSize,x.startVisibleColumn,x.containsRTL,x.spaceWidth,x.renderSpaceCharCode,x.renderWhitespace,x.renderControlCharacters)}(x),P)}class s{constructor(P,O,V,H){this.characterMapping=P,this.html=O,this.containsRTL=V,this.containsForeignElements=H}}function m(x){const P=(0,n.l$)(1e4),O=_(x,P);return new s(O.characterMapping,P.build(),O.containsRTL,O.containsForeignElements)}class c{constructor(P,O,V,H,z,k,F,j,K,U,ne,N,W,Z,ge){this.fontIsMonospace=P,this.canUseHalfwidthRightwardsArrow=O,this.lineContent=V,this.len=H,this.isOverflowing=z,this.parts=k,this.containsForeignElements=F,this.fauxIndentLength=j,this.tabSize=K,this.startVisibleColumn=U,this.containsRTL=ne,this.spaceWidth=N,this.renderSpaceCharCode=W,this.renderWhitespace=Z,this.renderControlCharacters=ge}}function u(x){return x<32?9!==x:127===x||x>=8234&&x<=8238||x>=8294&&x<=8297||x>=8206&&x<=8207||1564===x}function D(x){return x.toString(16).toUpperCase().padStart(4,"0")}},38232:(Dt,Y,e)=>{"use strict";e.d(Y,{$l:()=>L,$t:()=>C,IP:()=>v,SQ:()=>_,Wx:()=>E,l_:()=>l,ud:()=>S,wA:()=>T});var d=e(73879),n=e(98570);class l{constructor(m,c,t,a){this._viewportBrand=void 0,this.top=0|m,this.left=0|c,this.width=0|t,this.height=0|a}}class S{constructor(m,c){this.tabSize=m,this.data=c}}class v{constructor(m,c,t,a,p,u,g){this._viewLineDataBrand=void 0,this.content=m,this.continuesWithWrappedLine=c,this.minColumn=t,this.maxColumn=a,this.startVisibleColumn=p,this.tokens=u,this.inlineDecorations=g}}class T{constructor(m,c,t,a,p,u,g,b,y,w){this.minColumn=m,this.maxColumn=c,this.content=t,this.continuesWithWrappedLine=a,this.isBasicASCII=T.isBasicASCII(t,u),this.containsRTL=T.containsRTL(t,this.isBasicASCII,p),this.tokens=g,this.inlineDecorations=b,this.tabSize=y,this.startVisibleColumn=w}static isBasicASCII(m,c){return!c||d.$i(m)}static containsRTL(m,c,t){return!(c||!t)&&d.Ut(m)}}class C{constructor(m,c,t){this.range=m,this.inlineClassName=c,this.type=t}}class E{constructor(m,c,t,a){this.startOffset=m,this.endOffset=c,this.inlineClassName=t,this.inlineClassNameAffectsLetterSpacing=a}toInlineDecoration(m){return new C(new n.e(m,this.startOffset+1,m,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class L{constructor(m,c){this._viewModelDecorationBrand=void 0,this.range=m,this.options=c}}class _{constructor(m,c,t){this.color=m,this.zIndex=c,this.data=t}static cmp(m,c){return m.zIndex===c.zIndex?m.color<c.color?-1:m.color>c.color?1:0:m.zIndex-c.zIndex}}},18632:(Dt,Y,e)=>{"use strict";e.d(Y,{EY:()=>n,Tj:()=>l});class d{constructor(v,T,C){this._colorZoneBrand=void 0,this.from=0|v,this.to=0|T,this.colorId=0|C}static compare(v,T){return v.colorId===T.colorId?v.from===T.from?v.to-T.to:v.from-T.from:v.colorId-T.colorId}}class n{constructor(v,T,C,E){this._overviewRulerZoneBrand=void 0,this.startLineNumber=v,this.endLineNumber=T,this.heightInLines=C,this.color=E,this._colorZone=null}static compare(v,T){return v.color===T.color?v.startLineNumber===T.startLineNumber?v.heightInLines===T.heightInLines?v.endLineNumber-T.endLineNumber:v.heightInLines-T.heightInLines:v.startLineNumber-T.startLineNumber:v.color<T.color?-1:1}setColorZone(v){this._colorZone=v}getColorZones(){return this._colorZone}}class l{constructor(v){this._getVerticalOffsetForLine=v,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(v){this._zones=v,this._zones.sort(n.compare)}setLineHeight(v){return this._lineHeight!==v&&(this._lineHeight=v,this._colorZonesInvalid=!0,!0)}setPixelRatio(v){this._pixelRatio=v,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(v){return this._domWidth!==v&&(this._domWidth=v,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(v){return this._domHeight!==v&&(this._domHeight=v,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(v){return this._outerHeight!==v&&(this._outerHeight=v,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const v=this._colorZonesInvalid,T=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),L=C/Math.floor(this._outerHeight),_=Math.floor(4*this._pixelRatio/2),s=[];for(let m=0,c=this._zones.length;m<c;m++){const t=this._zones[m];if(!v){const P=t.getColorZones();if(P){s.push(P);continue}}const a=this._getVerticalOffsetForLine(t.startLineNumber),p=0===t.heightInLines?this._getVerticalOffsetForLine(t.endLineNumber)+T:a+t.heightInLines*T,u=Math.floor(L*a),g=Math.floor(L*p);let b=Math.floor((u+g)/2),y=g-b;y<_&&(y=_),b-y<0&&(b=y),b+y>C&&(b=C-y);const w=t.color;let D=this._color2Id[w];D||(D=++this._lastAssignedId,this._color2Id[w]=D,this._id2Color[D]=w);const x=new d(b-y,b+y,D);t.setColorZone(x),s.push(x)}return this._colorZonesInvalid=!1,s.sort(d.compare),s}}},53931:(Dt,Y,e)=>{"use strict";e.d(Y,{$t:()=>C,CU:()=>v,Fd:()=>T,zg:()=>E});var d=e(18723),n=e(98570),l=e(38232),S=e(54862);class v{constructor(s,m,c,t,a){this.editorId=s,this.model=m,this.configuration=c,this._linesCollection=t,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(s){const m=s.id;let c=this._decorationsCache[m];if(!c){const t=s.range,a=s.options;let p;if(a.isWholeLine){const u=this._coordinatesConverter.convertModelPositionToViewPosition(new d.L(t.startLineNumber,1),0),g=this._coordinatesConverter.convertModelPositionToViewPosition(new d.L(t.endLineNumber,this.model.getLineMaxColumn(t.endLineNumber)),1);p=new n.e(u.lineNumber,u.column,g.lineNumber,g.column)}else p=this._coordinatesConverter.convertModelRangeToViewRange(t,1);c=new l.$l(p,a),this._decorationsCache[m]=c}return c}getDecorationsViewportData(s){let m=null!==this._cachedModelDecorationsResolver;return m=m&&s.equalsRange(this._cachedModelDecorationsResolverViewRange),m||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(s),this._cachedModelDecorationsResolverViewRange=s),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(s){const m=new n.e(s,this._linesCollection.getViewLineMinColumn(s),s,this._linesCollection.getViewLineMaxColumn(s));return this._getDecorationsInRange(m).inlineDecorations[0]}_getDecorationsInRange(s){const m=this._linesCollection.getDecorationsInRange(s,this.editorId,(0,S.$J)(this.configuration.options)),c=s.startLineNumber,t=s.endLineNumber,a=[];let p=0;const u=[];for(let g=c;g<=t;g++)u[g-c]=[];for(let g=0,b=m.length;g<b;g++){const y=m[g],w=y.options;if(!T(this.model,y))continue;const D=this._getOrCreateViewModelDecoration(y),x=D.range;if(a[p++]=D,w.inlineClassName){const P=new l.$t(x,w.inlineClassName,w.inlineClassNameAffectsLetterSpacing?3:0),O=Math.max(c,x.startLineNumber),V=Math.min(t,x.endLineNumber);for(let H=O;H<=V;H++)u[H-c].push(P)}if(w.beforeContentClassName&&c<=x.startLineNumber&&x.startLineNumber<=t){const P=new l.$t(new n.e(x.startLineNumber,x.startColumn,x.startLineNumber,x.startColumn),w.beforeContentClassName,1);u[x.startLineNumber-c].push(P)}if(w.afterContentClassName&&c<=x.endLineNumber&&x.endLineNumber<=t){const P=new l.$t(new n.e(x.endLineNumber,x.endColumn,x.endLineNumber,x.endColumn),w.afterContentClassName,2);u[x.endLineNumber-c].push(P)}}return{decorations:a,inlineDecorations:u}}}function T(_,s){return!(s.options.hideInCommentTokens&&C(_,s)||s.options.hideInStringTokens&&E(_,s))}function C(_,s){return L(_,s.range,m=>1===m)}function E(_,s){return L(_,s.range,m=>2===m)}function L(_,s,m){for(let c=s.startLineNumber;c<=s.endLineNumber;c++){const t=_.tokenization.getLineTokens(c),p=c===s.endLineNumber;let u=c===s.startLineNumber?t.findTokenIndexAtOffset(s.startColumn-1):0;for(;u<t.getCount()&&!(p&&t.getStartOffset(u)>s.endColumn-1);){if(!m(t.getStandardTokenType(u)))return!1;u++}}return!0}},76924:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{SelectionAnchorSet:()=>z});var d=e(59797),n=e(48701),l=e(53993),S=e(57856),v=e.n(S),T=e(38470),C=e.n(T),E=e(43370),L=e.n(E),_=e(28458),s=e.n(_),m=e(71278),c=e.n(m),t=e(29488),a=e.n(t),p=e(22499),u={};u.styleTagTransform=a(),u.setAttributes=s(),u.insert=L().bind(null,"head"),u.domAPI=C(),u.insertStyleElement=c(),v()(p.Z,u);var y=e(26845),w=e(7233),D=e(82290),x=e(55197),P=e(16468),H=function(ne,N,W,Z){return new(W||(W=Promise))(function(M,we){function Ee(oe){try{Ne(Z.next(oe))}catch(Se){we(Se)}}function xe(oe){try{Ne(Z.throw(oe))}catch(Se){we(Se)}}function Ne(oe){oe.done?M(oe.value):function ge(M){return M instanceof W?M:new W(function(we){we(M)})}(oe.value).then(Ee,xe)}Ne((Z=Z.apply(ne,N||[])).next())})};const z=new P.uy("selectionAnchorSet",!1);let k=class lc{constructor(N,W){this.editor=N,this.selectionAnchorSetContextKey=z.bindTo(W),this.modelChangeListener=N.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(N){return N.getContribution(lc.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const N=this.editor.getPosition();this.editor.changeDecorations(W=>{this.decorationId&&W.removeDecoration(this.decorationId),this.decorationId=W.addDecoration(w.Y.fromPositions(N,N),{description:"selection-anchor",stickiness:1,hoverMessage:(new n.W5).appendText((0,x.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,d.Z9)((0,x.NC)("anchorSet","Anchor set at {0}:{1}",N.lineNumber,N.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const N=this.editor.getModel().getDecorationRange(this.decorationId);N&&this.editor.setPosition(N.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const N=this.editor.getModel().getDecorationRange(this.decorationId);if(N){const W=this.editor.getPosition();this.editor.setSelection(w.Y.fromPositions(N.getStartPosition(),W)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const N=this.decorationId;this.editor.changeDecorations(W=>{W.removeDecoration(N),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var N;k.ID="editor.contrib.selectionAnchorController",k=function(ne,N,W,Z){var we,ge=arguments.length,M=ge<3?N:null===Z?Z=Object.getOwnPropertyDescriptor(N,W):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(ne,N,W,Z);else for(var Ee=ne.length-1;Ee>=0;Ee--)(we=ne[Ee])&&(M=(ge<3?we(M):ge>3?we(N,W,M):we(N,W))||M);return ge>3&&M&&Object.defineProperty(N,W,M),M}([(1,N=P.i6,function(W,Z){N(W,Z,1)})],k),(0,y._K)(k.ID,k),(0,y.Qr)(class F extends y.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,x.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:(0,l.gx)(2089,2080),weight:100}})}run(N,W){var Z;return H(this,void 0,void 0,function*(){null===(Z=k.get(W))||void 0===Z||Z.setSelectionAnchor()})}}),(0,y.Qr)(class j extends y.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,x.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:z})}run(N,W){var Z;return H(this,void 0,void 0,function*(){null===(Z=k.get(W))||void 0===Z||Z.goToSelectionAnchor()})}}),(0,y.Qr)(class K extends y.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,x.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:z,kbOpts:{kbExpr:D.u.editorTextFocus,primary:(0,l.gx)(2089,2089),weight:100}})}run(N,W){var Z;return H(this,void 0,void 0,function*(){null===(Z=k.get(W))||void 0===Z||Z.selectFromAnchorToCursor()})}}),(0,y.Qr)(class U extends y.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,x.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:z,kbOpts:{kbExpr:D.u.editorTextFocus,primary:9,weight:100}})}run(N,W){var Z;return H(this,void 0,void 0,function*(){null===(Z=k.get(W))||void 0===Z||Z.cancelSelectionAnchor()})}})},8902:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{BracketMatchingController:()=>N});var d=e(48648),n=e(80142),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),t=e.n(c),a=e(38653),p={};p.styleTagTransform=t(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p);var b=e(26845),y=e(18723),w=e(98570),D=e(7233),x=e(82290),P=e(47629),O=e(59758),V=e(43944),H=e(55197),z=e(74918),k=e(4062),F=e(40902);const j=(0,k.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},H.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class ne{constructor(Z,ge,M){this.position=Z,this.brackets=ge,this.options=M}}class N extends n.JT{constructor(Z){super(),this._editor=Z,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new d.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(Z.onDidChangeCursorPosition(ge=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeModelContent(ge=>{this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeModel(ge=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeModelLanguageConfiguration(ge=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeConfiguration(ge=>{ge.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(Z.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(Z.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(Z){return Z.getContribution(N.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const Z=this._editor.getModel(),ge=this._editor.getSelections().map(M=>{const we=M.getStartPosition(),Ee=Z.bracketPairs.matchBracket(we);let xe=null;if(Ee)Ee[0].containsPosition(we)&&!Ee[1].containsPosition(we)?xe=Ee[1].getStartPosition():Ee[1].containsPosition(we)&&(xe=Ee[0].getStartPosition());else{const Ne=Z.bracketPairs.findEnclosingBrackets(we);if(Ne)xe=Ne[1].getStartPosition();else{const oe=Z.bracketPairs.findNextBracket(we);oe&&oe.range&&(xe=oe.range.getStartPosition())}}return xe?new D.Y(xe.lineNumber,xe.column,xe.lineNumber,xe.column):new D.Y(we.lineNumber,we.column,we.lineNumber,we.column)});this._editor.setSelections(ge),this._editor.revealRange(ge[0])}selectToBracket(Z){if(!this._editor.hasModel())return;const ge=this._editor.getModel(),M=[];this._editor.getSelections().forEach(we=>{const Ee=we.getStartPosition();let xe=ge.bracketPairs.matchBracket(Ee);if(!xe&&(xe=ge.bracketPairs.findEnclosingBrackets(Ee),!xe)){const Se=ge.bracketPairs.findNextBracket(Ee);Se&&Se.range&&(xe=ge.bracketPairs.matchBracket(Se.range.getStartPosition()))}let Ne=null,oe=null;if(xe){xe.sort(w.e.compareRangesUsingStarts);const[Se,Ie]=xe;if(Ne=Z?Se.getStartPosition():Se.getEndPosition(),oe=Z?Ie.getEndPosition():Ie.getStartPosition(),Ie.containsPosition(Ee)){const me=Ne;Ne=oe,oe=me}}Ne&&oe&&M.push(new D.Y(Ne.lineNumber,Ne.column,oe.lineNumber,oe.column))}),M.length>0&&(this._editor.setSelections(M),this._editor.revealRange(M[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const Z=[];let ge=0;for(const M of this._lastBracketsData){const we=M.brackets;we&&(Z[ge++]={range:we[0],options:M.options},Z[ge++]={range:we[1],options:M.options})}this._decorations.set(Z)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const Z=this._editor.getSelections();if(Z.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const ge=this._editor.getModel(),M=ge.getVersionId();let we=[];this._lastVersionId===M&&(we=this._lastBracketsData);const Ee=[];let xe=0;for(let me=0,Me=Z.length;me<Me;me++){const de=Z[me];de.isEmpty()&&(Ee[xe++]=de.getStartPosition())}Ee.length>1&&Ee.sort(y.L.compare);const Ne=[];let oe=0,Se=0;const Ie=we.length;for(let me=0,Me=Ee.length;me<Me;me++){const de=Ee[me];for(;Se<Ie&&we[Se].position.isBefore(de);)Se++;if(Se<Ie&&we[Se].position.equals(de))Ne[oe++]=we[Se];else{let ke=ge.bracketPairs.matchBracket(de,20),Ue=N._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!ke&&"always"===this._matchBrackets&&(ke=ge.bracketPairs.findEnclosingBrackets(de,20),Ue=N._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),Ne[oe++]=new ne(de,ke,Ue)}}this._lastBracketsData=Ne,this._lastVersionId=M}}N.ID="editor.contrib.bracketMatchingController",N._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=O.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,F.EN)(j),position:P.sh.Center}}),N._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=O.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,b._K)(N.ID,N),(0,b.Qr)(class U extends b.R6{constructor(){super({id:"editor.action.selectToBracket",label:H.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(Z,ge,M){var we;let Ee=!0;M&&!1===M.selectBrackets&&(Ee=!1),null===(we=N.get(ge))||void 0===we||we.selectToBracket(Ee)}}),(0,b.Qr)(class K extends b.R6{constructor(){super({id:"editor.action.jumpToBracket",label:H.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:x.u.editorTextFocus,primary:3160,weight:100}})}run(Z,ge){var M;null===(M=N.get(ge))||void 0===M||M.jumpToBracket()}}),(0,F.Ic)((W,Z)=>{const ge=W.getColor(V.TC);ge&&Z.addRule(`.monaco-editor .bracket-match { background-color: ${ge}; }`);const M=W.getColor(V.Dl);M&&Z.addRule(`.monaco-editor .bracket-match { border: 1px solid ${M}; }`)}),z.BH.appendMenuItem(z.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:H.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},84564:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(26845),n=e(82290),l=e(98570),S=e(7233);class v{constructor(s,m){this._selection=s,this._isMovingLeft=m}getEditOperations(s,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const c=this._selection.startLineNumber,t=this._selection.startColumn,a=this._selection.endColumn;if((!this._isMovingLeft||1!==t)&&(this._isMovingLeft||a!==s.getLineMaxColumn(c)))if(this._isMovingLeft){const p=new l.e(c,t-1,c,t),u=s.getValueInRange(p);m.addEditOperation(p,null),m.addEditOperation(new l.e(c,a,c,a),u)}else{const p=new l.e(c,a,c,a+1),u=s.getValueInRange(p);m.addEditOperation(p,null),m.addEditOperation(new l.e(c,t,c,t),u)}}computeCursorState(s,m){return this._isMovingLeft?new S.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new S.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var T=e(55197);class C extends d.R6{constructor(s,m){super(m),this.left=s}run(s,m){if(!m.hasModel())return;const c=[],t=m.getSelections();for(const a of t)c.push(new v(a,this.left));m.pushUndoStop(),m.executeCommands(this.id,c),m.pushUndoStop()}}(0,d.Qr)(class E extends C{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:T.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:n.u.writable})}}),(0,d.Qr)(class L extends C{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:T.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:n.u.writable})}})},61888:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(26845),n=e(22599),l=e(48589),S=e(98570),v=e(82290),T=e(55197);(0,d.Qr)(class C extends d.R6{constructor(){super({id:"editor.action.transposeLetters",label:T.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:v.u.writable,kbOpts:{kbExpr:v.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(L,_){if(!_.hasModel())return;const s=_.getModel(),m=[],c=_.getSelections();for(const t of c){if(!t.isEmpty())continue;const a=t.startLineNumber,p=t.startColumn,u=s.getLineMaxColumn(a);if(1===a&&(1===p||2===p&&2===u))continue;const g=p===u?t.getPosition():l.o.rightPosition(s,t.getPosition().lineNumber,t.getPosition().column),b=l.o.leftPosition(s,g),y=l.o.leftPosition(s,b),w=s.getValueInRange(S.e.fromPositions(y,b)),D=s.getValueInRange(S.e.fromPositions(b,g)),x=S.e.fromPositions(y,g);m.push(new n.T4(x,D+w))}m.length>0&&(_.pushUndoStop(),_.executeCommands(this.id,m),_.pushUndoStop())}})},84783:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CopyAction:()=>u,CutAction:()=>p,PasteAction:()=>g});var d=e(37428),n=e(8841),l=e(85375),S=e(26845),v=e(33745),T=e(82290),C=e(55197),E=e(74918),L=e(25787);const s="9_cutcopypaste",m=n.tY||document.queryCommandSupported("cut"),c=n.tY||document.queryCommandSupported("copy"),t=!(typeof navigator.clipboard>"u"||d.isFirefox)||document.queryCommandSupported("paste");function a(w){return w.register(),w}const p=m?a(new S.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:n.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:C.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:E.eH.EditorContext,group:s,title:C.NC("actions.clipboard.cutLabel","Cut"),when:T.u.writable,order:1},{menuId:E.eH.CommandPalette,group:"",title:C.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:E.eH.SimpleEditorContext,group:s,title:C.NC("actions.clipboard.cutLabel","Cut"),when:T.u.writable,order:1}]})):void 0,u=c?a(new S.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:n.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:C.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:E.eH.EditorContext,group:s,title:C.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:E.eH.CommandPalette,group:"",title:C.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:E.eH.SimpleEditorContext,group:s,title:C.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;E.BH.appendMenuItem(E.eH.MenubarEditMenu,{submenu:E.eH.MenubarCopy,title:{value:C.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextCopy,title:{value:C.NC("copy as","Copy As"),original:"Copy As"},group:s,order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextShare,title:{value:C.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const g=t?a(new S.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:n.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:C.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:E.eH.EditorContext,group:s,title:C.NC("actions.clipboard.pasteLabel","Paste"),when:T.u.writable,order:4},{menuId:E.eH.CommandPalette,group:"",title:C.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:E.eH.SimpleEditorContext,group:s,title:C.NC("actions.clipboard.pasteLabel","Paste"),when:T.u.writable,order:4}]})):void 0;function y(w,D){!w||(w.addImplementation(1e4,"code-editor",(x,P)=>{const O=x.get(v.$).getFocusedCodeEditor();if(O&&O.hasTextFocus()){const V=O.getOption(33),H=O.getSelection();return H&&H.isEmpty()&&!V||document.execCommand(D),!0}return!1}),w.addImplementation(0,"generic-dom",(x,P)=>(document.execCommand(D),!0)))}y(p,"cut"),y(u,"copy"),g&&(g.addImplementation(1e4,"code-editor",(w,D)=>{const x=w.get(v.$),P=w.get(L.p),O=x.getFocusedCodeEditor();return!(!O||!O.hasTextFocus())&&(!(!document.execCommand("paste")&&n.$L)||function(w,D,x,P){return new(x||(x=Promise))(function(V,H){function z(j){try{F(P.next(j))}catch(K){H(K)}}function k(j){try{F(P.throw(j))}catch(K){H(K)}}function F(j){j.done?V(j.value):function O(V){return V instanceof x?V:new x(function(H){H(V)})}(j.value).then(z,k)}F((P=P.apply(w,D||[])).next())})}(void 0,void 0,void 0,function*(){const H=yield P.readText();if(""!==H){const z=l.Nl.INSTANCE.get(H);let k=!1,F=null,j=null;z&&(k=O.getOption(33)&&!!z.isFromEmptySelection,F=typeof z.multicursorText<"u"?z.multicursorText:null,j=z.mode),O.trigger("keyboard","paste",{text:H,pasteOnNewLine:k,multicursorText:F,mode:j})}}))}),g.addImplementation(0,"generic-dom",(w,D)=>(document.execCommand("paste"),!0))),c&&(0,S.Qr)(class b extends S.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:T.u.textInputFocus,primary:0,weight:100}})}run(D,x){!x.hasModel()||!x.getOption(33)&&x.getSelection().isEmpty()||(l.RA.forceCopyWithSyntaxHighlighting=!0,x.focus(),document.execCommand("copy"),l.RA.forceCopyWithSyntaxHighlighting=!1)}})},80151:(Dt,Y,e)=>{"use strict";e.d(Y,{Bb:()=>p,MN:()=>g,RB:()=>a,TM:()=>y,aI:()=>P,bA:()=>w,sh:()=>u,uH:()=>b});var d=e(64023),n=e(73888),l=e(4125),S=e(80142),v=e(59547),T=e(18623),C=e(98570),E=e(7233),L=e(59602),_=e(66549),s=e(55538),m=e(77084),c=e(90790),t=function(H,z,k,F){return new(k||(k=Promise))(function(K,U){function ne(Z){try{W(F.next(Z))}catch(ge){U(ge)}}function N(Z){try{W(F.throw(Z))}catch(ge){U(ge)}}function W(Z){Z.done?K(Z.value):function j(K){return K instanceof k?K:new k(function(U){U(K)})}(Z.value).then(ne,N)}W((F=F.apply(H,z||[])).next())})};const a="editor.action.codeAction",p="editor.action.refactor",u="editor.action.refactor.preview",g="editor.action.sourceAction",b="editor.action.organizeImports",y="editor.action.fixAll";class w{constructor(z,k){this.action=z,this.provider=k}resolve(z){var k;return t(this,void 0,void 0,function*(){if((null===(k=this.provider)||void 0===k?void 0:k.resolveCodeAction)&&!this.action.edit){let F;try{F=yield this.provider.resolveCodeAction(this.action,z)}catch(j){(0,l.Cp)(j)}F&&(this.action.edit=F.edit)}return this})}}class D extends S.JT{constructor(z,k,F){super(),this.documentation=k,this._register(F),this.allActions=[...z].sort(D.codeActionsComparator),this.validActions=this.allActions.filter(({action:j})=>!j.disabled)}static codeActionsComparator({action:z},{action:k}){return z.isPreferred&&!k.isPreferred?-1:!z.isPreferred&&k.isPreferred?1:(0,d.Of)(z.diagnostics)?(0,d.Of)(k.diagnostics)?z.diagnostics[0].message.localeCompare(k.diagnostics[0].message):-1:(0,d.Of)(k.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:z})=>!!z.kind&&m.yN.QuickFix.contains(new m.yN(z.kind))&&!!z.isPreferred)}}const x={actions:[],documentation:void 0};function P(H,z,k,F,j,K){var U;const ne=F.filter||{},N={only:null===(U=ne.include)||void 0===U?void 0:U.value,trigger:F.type},W=new T.YQ(z,K),Z=function O(H,z,k){return H.all(z).filter(F=>!F.providedCodeActionKinds||F.providedCodeActionKinds.some(j=>(0,m.EU)(k,new m.yN(j))))}(H,z,ne),ge=new S.SL,M=Z.map(Ee=>t(this,void 0,void 0,function*(){try{j.report(Ee);const xe=yield Ee.provideCodeActions(z,k,N,W.token);if(xe&&ge.add(xe),W.token.isCancellationRequested)return x;const Ne=(xe?.actions||[]).filter(Se=>Se&&(0,m.Yl)(ne,Se)),oe=function V(H,z,k){if(!H.documentation)return;const F=H.documentation.map(j=>({kind:new m.yN(j.kind),command:j.command}));if(k){let j;for(const K of F)K.kind.contains(k)&&(j?j.kind.contains(K.kind)&&(j=K):j=K);if(j)return j?.command}for(const j of z)if(j.kind)for(const K of F)if(K.kind.contains(new m.yN(j.kind)))return K.command}(Ee,Ne,ne.include);return{actions:Ne.map(Se=>new w(Se,Ee)),documentation:oe}}catch(xe){if((0,l.n2)(xe))throw xe;return(0,l.Cp)(xe),x}})),we=H.onDidChange(()=>{const Ee=H.all(z);(0,d.fS)(Ee,Z)||W.cancel()});return Promise.all(M).then(Ee=>{const xe=Ee.map(oe=>oe.actions).flat(),Ne=(0,d.kX)(Ee.map(oe=>oe.documentation));return new D(xe,Ne,ge)}).finally(()=>{we.dispose(),W.dispose()})}_.P0.registerCommand("_executeCodeActionProvider",function(H,z,k,F,j){return t(this,void 0,void 0,function*(){if(!(z instanceof v.o))throw(0,l.b1)();const{codeActionProvider:K}=H.get(c.p),U=H.get(L.q).getModel(z);if(!U)throw(0,l.b1)();const ne=E.Y.isISelection(k)?E.Y.liftSelection(k):C.e.isIRange(k)?U.validateRange(k):void 0;if(!ne)throw(0,l.b1)();const N="string"==typeof F?new m.yN(F):void 0,W=yield P(K,U,ne,{type:1,triggerAction:m.aQ.Default,filter:{includeSourceActions:!0,include:N}},s.Ex.None,n.T.None),Z=[],ge=Math.min(W.validActions.length,"number"==typeof j?j:0);for(let M=0;M<ge;M++)Z.push(W.validActions[M].resolve(n.T.None));try{return yield Promise.all(Z),W.validActions.map(M=>M.action)}finally{setTimeout(()=>W.dispose(),100)}})})},29354:(Dt,Y,e)=>{"use strict";e.d(Y,{S5:()=>io,dW:()=>ci,Hv:()=>Co,o$:()=>to,E7:()=>Gn,pY:()=>Mn,Eb:()=>ii,UG:()=>Ei,VQ:()=>no});var d=e(73888),n=e(27386),l=e(80142),S=e(73879),v=e(26845),T=e(61560),C=e(82290),E=e(90790),L=e(80151),_=e(4125),s=e(54007),m=e(9265),c=e(98463),t=e(25478),a=e(827),p=e(57856),u=e.n(p),g=e(38470),b=e.n(g),y=e(43370),w=e.n(y),D=e(28458),x=e.n(D),P=e(71278),O=e.n(P),V=e(29488),H=e.n(V),z=e(47538),k={};k.styleTagTransform=H(),k.setAttributes=x(),k.insert=w().bind(null,"head"),k.domAPI=b(),k.insertStyleElement=O(),u()(z.Z,k);var K=e(18723),U=e(77084),ne=e(55197),N=e(94667),W=e(16468),Z=e(50703),ge=e(14759),M=e(24131),we=e(40902),Ee=function(si,Yt,pt,gt){var an,Kt=arguments.length,nn=Kt<3?Yt:null===gt?gt=Object.getOwnPropertyDescriptor(Yt,pt):gt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(si,Yt,pt,gt);else for(var mn=si.length-1;mn>=0;mn--)(an=si[mn])&&(nn=(Kt<3?an(nn):Kt>3?an(Yt,pt,nn):an(Yt,pt))||nn);return Kt>3&&nn&&Object.defineProperty(Yt,pt,nn),nn},xe=function(si,Yt){return function(pt,gt){Yt(pt,gt,si)}};const oe={Visible:new W.uy("CodeActionMenuVisible",!1,(0,ne.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class Se extends a.aU{constructor(Yt,pt){super(Yt.command?Yt.command.id:Yt.title,function Ie(si){return si.replace(/\r\n|\r|\n/g," ")}(Yt.title),void 0,!Yt.disabled,pt),this.action=Yt}}let de=class{constructor(Yt,pt){this.acceptKeybindings=Yt,this.keybindingService=pt}get templateId(){return"codeActionWidget"}renderTemplate(Yt){const pt=Object.create(null);return pt.disposables=[],pt.root=Yt,pt.text=document.createElement("span"),Yt.append(pt.text),pt}renderElement(Yt,pt,gt){const Kt=gt,an=Yt.isEnabled,mn=Yt.isSeparator,Nn=Yt.isDocumentation;Kt.text.textContent=Yt.title,an?Kt.root.classList.remove("option-disabled"):(Kt.root.classList.add("option-disabled"),Kt.root.style.backgroundColor="transparent !important"),mn&&(Kt.root.classList.add("separator"),Kt.root.style.height="10px"),Nn||(()=>{var Yn,wi;const[Li,Qi]=this.acceptKeybindings;Kt.root.title=(0,ne.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",null===(Yn=this.keybindingService.lookupKeybinding(Li))||void 0===Yn?void 0:Yn.getLabel(),null===(wi=this.keybindingService.lookupKeybinding(Qi))||void 0===wi?void 0:wi.getLabel())})()}disposeTemplate(Yt){Yt.disposables=(0,l.B9)(Yt.disposables)}};de=Ee([xe(1,ge.d)],de);let ke=class xd extends l.JT{constructor(Yt,pt,gt,Kt,nn,an,mn,Nn,jn,Yn){super(),this._editor=Yt,this._delegate=pt,this._contextMenuService=gt,this._languageFeaturesService=nn,this._telemetryService=an,this._configurationService=Nn,this._contextViewService=jn,this._contextKeyService=Yn,this._showingActions=this._register(new l.XK),this.codeActionList=this._register(new l.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new Ue({getKeybindings:()=>Kt.getKeybindings()}),this._ctxMenuWidgetVisible=oe.Visible.bindTo(this._contextKeyService),this.listRenderer=new de(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],Kt)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(Yt){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:Yt.uri})}_onListSelection(Yt){Yt.elements.length&&Yt.elements.forEach(pt=>{pt.isEnabled&&(pt.action.run(),this.hideCodeActionWidget())})}_onListHover(Yt){var pt,gt,Kt,nn;Yt.element?null!==(gt=Yt.element)&&void 0!==gt&&gt.isEnabled?(null===(Kt=this.codeActionList.value)||void 0===Kt||Kt.setFocus([Yt.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(Yt.element),this.currSelectedItem=Yt.element.index):(this.currSelectedItem=void 0,null===(nn=this.codeActionList.value)||void 0===nn||nn.setFocus([Yt.element.index])):(this.currSelectedItem=void 0,null===(pt=this.codeActionList.value)||void 0===pt||pt.setFocus([]))}renderCodeActionMenuList(Yt,pt){var gt;const Kt=new l.SL,nn=document.createElement("div"),an=document.createElement("div");this.block=Yt.appendChild(an),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Kt.add(c.nm(this.block,c.tw.MOUSE_DOWN,Li=>Li.stopPropagation())),nn.id="codeActionMenuWidget",nn.classList.add("codeActionMenuWidget"),Yt.appendChild(nn),this.codeActionList.value=new t.aV("codeActionWidget",nn,{getHeight:Li=>Li.isSeparator?10:26,getTemplateId:Li=>"codeActionWidget"},[this.listRenderer],{keyboardSupport:!1}),Kt.add(this.codeActionList.value.onMouseOver(Li=>this._onListHover(Li))),Kt.add(this.codeActionList.value.onDidChangeFocus(Li=>{var Qi;return null===(Qi=this.codeActionList.value)||void 0===Qi?void 0:Qi.domFocus()})),Kt.add(this.codeActionList.value.onDidChangeSelection(Li=>this._onListSelection(Li))),Kt.add(this._editor.onDidLayoutChange(Li=>this.hideCodeActionWidget())),pt.forEach((Li,Qi)=>{const Pi="separator"===Li.class;let Ki=!1;Li instanceof Se&&(Ki=Li.action.kind===xd.documentationID),Pi&&(this.hasSeperator=!0);const Wi={title:Li.label,detail:Li.tooltip,action:pt[Qi],isEnabled:Li.enabled,isSeparator:Pi,index:Qi,isDocumentation:Ki};Li.enabled&&this.viewItems.push(Wi),this.options.push(Wi)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const mn=this.hasSeperator?26*(pt.length-1)+10:26*pt.length;nn.style.height=String(mn)+"px",this.codeActionList.value.layout(mn);const Nn=[];this.options.forEach((Li,Qi)=>{var Pi,Ki;if(!this.codeActionList.value)return;const Wi=null===(Ki=document.getElementById(null===(Pi=this.codeActionList.value)||void 0===Pi?void 0:Pi.getElementID(Qi)))||void 0===Ki?void 0:Ki.getElementsByTagName("span")[0].offsetWidth;Nn.push(Number(Wi))});const jn=Math.max(...Nn);nn.style.width=jn+52+"px",null===(gt=this.codeActionList.value)||void 0===gt||gt.layout(mn,jn),this.viewItems.length<1||this.viewItems.every(Li=>Li.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const Yn=c.go(Yt),wi=Yn.onDidBlur(()=>{this.hideCodeActionWidget()});return Kt.add(wi),Kt.add(Yn),this._ctxMenuWidgetVisible.set(!0),Kt}focusPrevious(){var Yt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const pt=this.focusedEnabledItem;let gt;do{this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),gt=this.viewItems[this.focusedEnabledItem],null===(Yt=this.codeActionList.value)||void 0===Yt||Yt.setFocus([gt.index]),this.currSelectedItem=gt.index}while(this.focusedEnabledItem!==pt&&(!gt.isEnabled||gt.action.id===a.Z0.ID));return!0}focusNext(){var Yt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const pt=this.focusedEnabledItem;let gt;do{this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,gt=this.viewItems[this.focusedEnabledItem],null===(Yt=this.codeActionList.value)||void 0===Yt||Yt.setFocus([gt.index]),this.currSelectedItem=gt.index}while(this.focusedEnabledItem!==pt&&(!gt.isEnabled||gt.action.id===a.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var Yt;"number"==typeof this.currSelectedItem&&(null===(Yt=this.codeActionList.value)||void 0===Yt||Yt.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(Yt,pt,gt){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:Yt,validCodeActions:gt.validActions.length,cancelled:pt})}show(Yt,pt,gt,Kt){return function(si,Yt,pt,gt){return new(pt||(pt=Promise))(function(nn,an){function mn(Yn){try{jn(gt.next(Yn))}catch(wi){an(wi)}}function Nn(Yn){try{jn(gt.throw(Yn))}catch(wi){an(wi)}}function jn(Yn){Yn.done?nn(Yn.value):function Kt(nn){return nn instanceof pt?nn:new pt(function(an){an(nn)})}(Yn.value).then(mn,Nn)}jn((gt=gt.apply(si,Yt||[])).next())})}(this,void 0,void 0,function*(){const nn=this._editor.getModel();if(!nn)return;const an=Kt.includeDisabledActions?pt.allActions:pt.validActions;if(!an.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,_.F0)();this._visible=!0,this._showingActions.value=pt;const mn=this.getMenuActions(Yt,an,pt.documentation),Nn=K.L.isIPosition(gt)?this._toCoords(gt):gt||{x:0,y:0},jn=this._keybindingResolver.getResolver(),Yn=this._editor.getOption(117);this.isCodeActionWidgetEnabled(nn)?this._contextViewService.showContextView({getAnchor:()=>Nn,render:wi=>this.renderCodeActionMenuList(wi,mn),onHide:wi=>{this.codeActionTelemetry(Kt.fromLightbulb?U.aQ.Lightbulb:Yt.triggerAction,wi,pt),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:Yn?this._editor.getDomNode():void 0,getAnchor:()=>Nn,getActions:()=>mn,onHide:wi=>{this.codeActionTelemetry(Kt.fromLightbulb?U.aQ.Lightbulb:Yt.triggerAction,wi,pt),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:wi=>wi instanceof Se?jn(wi.action):void 0})})}getMenuActions(Yt,pt,gt){var Kt,nn;const an=Yn=>new Se(Yn.action,()=>this._delegate.onSelectCodeAction(Yn,Yt)),mn=pt.map(an),Nn=[...gt],jn=this._editor.getModel();if(jn&&mn.length)for(const Yn of this._languageFeaturesService.codeActionProvider.all(jn))Yn._getAdditionalMenuItems&&Nn.push(...Yn._getAdditionalMenuItems({trigger:Yt.type,only:null===(nn=null===(Kt=Yt.filter)||void 0===Kt?void 0:Kt.include)||void 0===nn?void 0:nn.value},pt.map(wi=>wi.action)));return Nn.length&&mn.push(new a.Z0,...Nn.map(Yn=>an(new L.bA({title:Yn.title,command:Yn,kind:xd.documentationID},void 0)))),mn}_toCoords(Yt){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Yt,1),this._editor.render();const pt=this._editor.getScrolledVisiblePosition(Yt),gt=c.i(this._editor.getDomNode());return{x:gt.left+pt.left,y:gt.top+pt.top+pt.height}}};ke.documentationID="_documentation",ke=Ee([xe(2,Z.i),xe(3,ge.d),xe(4,E.p),xe(5,M.b),xe(6,we.XE),xe(7,N.Ui),xe(8,Z.u),xe(9,W.i6)],ke);let Ue=(()=>{class si{constructor(pt){this._keybindingProvider=pt}getResolver(){const pt=new n.o(()=>this._keybindingProvider.getKeybindings().filter(gt=>si.codeActionCommands.indexOf(gt.command)>=0).filter(gt=>gt.resolvedKeybinding).map(gt=>{let Kt=gt.commandArgs;return gt.command===L.uH?Kt={kind:U.yN.SourceOrganizeImports.value}:gt.command===L.TM&&(Kt={kind:U.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:gt.resolvedKeybinding},U.wZ.fromUser(Kt,{kind:U.yN.None,apply:"never"}))}));return gt=>{if(gt.kind)return this.bestKeybindingForCodeAction(gt,pt.getValue())?.resolvedKeybinding}}bestKeybindingForCodeAction(pt,gt){if(!pt.kind)return;const Kt=new U.yN(pt.kind);return gt.filter(nn=>nn.kind.contains(Kt)).filter(nn=>!nn.preferred||pt.isPreferred).reduceRight((nn,an)=>nn?nn.kind.contains(an.kind)?an:nn:an,void 0)}}return si.codeActionCommands=[L.Bb,L.RB,L.MN,L.uH,L.TM],si})();var ze=e(62922),ce=e(58783),Ve=e(3778),tt=e(38393),Ct={};Ct.styleTagTransform=H(),Ct.setAttributes=x(),Ct.insert=w().bind(null,"head"),Ct.domAPI=b(),Ct.insertStyleElement=O(),u()(tt.Z,Ct);var Q,ae=e(24927),ve=e(4062);!function(si){si.Hidden={type:0},si.Showing=class Yt{constructor(gt,Kt,nn,an){this.actions=gt,this.trigger=Kt,this.editorPosition=nn,this.widgetPosition=an,this.type=1}}}(Q||(Q={}));let Ce=class dc extends l.JT{constructor(Yt,pt,gt,Kt){super(),this._editor=Yt,this._quickFixActionId=pt,this._preferredFixActionId=gt,this._keybindingService=Kt,this._onClick=this._register(new Ve.Q5),this.onClick=this._onClick.event,this._state=Q.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ce.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(nn=>{const an=this._editor.getModel();(1!==this.state.type||!an||this.state.editorPosition.lineNumber>=an.getLineCount())&&this.hide()})),ze.o.ignoreTarget(this._domNode),this._register(c.GQ(this._domNode,nn=>{if(1!==this.state.type)return;this._editor.focus(),nn.preventDefault();const{top:an,height:mn}=c.i(this._domNode),Nn=this._editor.getOption(61);let jn=Math.floor(Nn/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(jn+=Nn),this._onClick.fire({x:nn.posx,y:an+mn+jn,actions:this.state.actions,trigger:this.state.trigger})})),this._register(c.nm(this._domNode,"mouseenter",nn=>{1==(1&nn.buttons)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(nn=>{nn.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(Yt,pt,gt){if(Yt.validActions.length<=0)return this.hide();const Kt=this._editor.getOptions();if(!Kt.get(59).enabled)return this.hide();const nn=this._editor.getModel();if(!nn)return this.hide();const{lineNumber:an,column:mn}=nn.validatePosition(gt),Nn=nn.getOptions().tabSize,jn=Kt.get(46),Yn=nn.getLineContent(an),wi=(0,ae.q)(Yn,Nn),Qi=Ki=>Ki>2&&this._editor.getTopForLineNumber(Ki)===this._editor.getTopForLineNumber(Ki-1);let Pi=an;if(!(jn.spaceWidth*wi>22))if(an>1&&!Qi(an-1))Pi-=1;else if(Qi(an+1)){if(mn*jn.spaceWidth<22)return this.hide()}else Pi+=1;this.state=new Q.Showing(Yt,pt,gt,{position:{lineNumber:Pi,column:1},preference:dc._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Q.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(Yt){this._state=Yt,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ce.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ce.lA.lightbulbAutofix.classNamesArray);const pt=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(pt)return void(this.title=ne.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",pt.getLabel()))}this._domNode.classList.remove(...ce.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ce.lA.lightBulb.classNamesArray);const Yt=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=Yt?ne.NC("codeActionWithKb","Show Code Actions ({0})",Yt.getLabel()):ne.NC("codeAction","Show Code Actions")}set title(Yt){this._domNode.title=Yt}};var Yt;Ce._posPref=[0],Ce=function(si,Yt,pt,gt){var an,Kt=arguments.length,nn=Kt<3?Yt:null===gt?gt=Object.getOwnPropertyDescriptor(Yt,pt):gt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(si,Yt,pt,gt);else for(var mn=si.length-1;mn>=0;mn--)(an=si[mn])&&(nn=(Kt<3?an(nn):Kt>3?an(Yt,pt,nn):an(Yt,pt))||nn);return Kt>3&&nn&&Object.defineProperty(Yt,pt,nn),nn}([(3,Yt=ge.d,function(pt,gt){Yt(pt,gt,3)})],Ce),(0,we.Ic)((si,Yt)=>{var pt;const gt=null===(pt=si.getColor(ve.cvW))||void 0===pt?void 0:pt.transparent(.7),Kt=si.getColor(ve.Fu1);Kt&&Yt.addRule(`\n\t\t.monaco-editor .contentWidgets ${ce.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${Kt};\n\t\t\tbackground-color: ${gt};\n\t\t}`);const nn=si.getColor(ve.sKV);nn&&Yt.addRule(`\n\t\t.monaco-editor .contentWidgets ${ce.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${nn};\n\t\t\tbackground-color: ${gt};\n\t\t}`)});var et,st=function(si,Yt,pt,gt){return new(pt||(pt=Promise))(function(nn,an){function mn(Yn){try{jn(gt.next(Yn))}catch(wi){an(wi)}}function Nn(Yn){try{jn(gt.throw(Yn))}catch(wi){an(wi)}}function jn(Yn){Yn.done?nn(Yn.value):function Kt(nn){return nn instanceof pt?nn:new pt(function(an){an(nn)})}(Yn.value).then(mn,Nn)}jn((gt=gt.apply(si,Yt||[])).next())})};let vt=class extends l.JT{constructor(Yt,pt,gt,Kt,nn){super(),this._editor=Yt,this.delegate=Kt,this._activeCodeActions=this._register(new l.XK),this.previewOn=!1,et.set(this,!1),this._codeActionWidget=new n.o(()=>this._register(nn.createInstance(ke,this._editor,{onSelectCodeAction:(an,mn)=>st(this,void 0,void 0,function*(){this.delegate.applyCodeAction(an,!0,this.previewOn?Boolean(this.previewOn):Boolean(mn.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new n.o(()=>{const an=this._register(nn.createInstance(Ce,this._editor,pt,gt));return this._register(an.onClick(mn=>this.showCodeActionList(mn.trigger,mn.actions,mn,{includeDisabledActions:!1,fromLightbulb:!0}))),an})}dispose(){(function(si,Yt,pt,gt,Kt){if("function"==typeof Yt||!Yt.has(si))throw new TypeError("Cannot write private member to an object whose class did not declare it");Yt.set(si,true)})(this,et),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(Yt){this._codeActionWidget.hasValue()&&(Yt?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(Yt){var pt,gt,Kt,nn,an;return st(this,void 0,void 0,function*(){if(1!==Yt.type)return void(null===(pt=this._lightBulbWidget.rawValue)||void 0===pt||pt.hide());let mn;try{mn=yield Yt.actions}catch(Nn){return void(0,_.dL)(Nn)}if(!function(si,Yt,pt,gt){if("function"==typeof Yt||!Yt.has(si))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Yt.get(si)}(this,et))if(this._lightBulbWidget.getValue().update(mn,Yt.trigger,Yt.position),1===Yt.trigger.type){if(null!==(gt=Yt.trigger.filter)&&void 0!==gt&&gt.include){const jn=this.tryGetValidActionToApply(Yt.trigger,mn);if(jn){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(jn,!1,!1)}finally{mn.dispose()}return}if(Yt.trigger.context){const Yn=this.getInvalidActionThatWouldHaveBeenApplied(Yt.trigger,mn);if(Yn&&Yn.action.disabled)return null===(Kt=s.O.get(this._editor))||void 0===Kt||Kt.showMessage(Yn.action.disabled,Yt.trigger.context.position),void mn.dispose()}}const Nn=!(null===(nn=Yt.trigger.filter)||void 0===nn||!nn.include);if(Yt.trigger.context&&(!mn.allActions.length||!Nn&&!mn.validActions.length))return null===(an=s.O.get(this._editor))||void 0===an||an.showMessage(Yt.trigger.context.notAvailableMessage,Yt.trigger.context.position),this._activeCodeActions.value=mn,void mn.dispose();this._activeCodeActions.value=mn,this._codeActionWidget.getValue().show(Yt.trigger,mn,Yt.position,{includeDisabledActions:Nn,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?mn.dispose():this._activeCodeActions.value=mn})}getInvalidActionThatWouldHaveBeenApplied(Yt,pt){if(pt.allActions.length&&("first"===Yt.autoApply&&0===pt.validActions.length||"ifSingle"===Yt.autoApply&&1===pt.allActions.length))return pt.allActions.find(({action:gt})=>gt.disabled)}tryGetValidActionToApply(Yt,pt){if(pt.validActions.length&&("first"===Yt.autoApply&&pt.validActions.length>0||"ifSingle"===Yt.autoApply&&1===pt.validActions.length))return pt.validActions[0]}showCodeActionList(Yt,pt,gt,Kt){return st(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(Yt,pt,gt,Kt)})}};et=new WeakMap,vt=function(si,Yt,pt,gt){var an,Kt=arguments.length,nn=Kt<3?Yt:null===gt?gt=Object.getOwnPropertyDescriptor(Yt,pt):gt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(si,Yt,pt,gt);else for(var mn=si.length-1;mn>=0;mn--)(an=si[mn])&&(nn=(Kt<3?an(nn):Kt>3?an(Yt,pt,nn):an(Yt,pt))||nn);return Kt>3&&nn&&Object.defineProperty(Yt,pt,nn),nn}([function(si,Yt){return function(pt,gt){Yt(pt,gt,4)}}(0,m.TG)],vt);var yt,mt=e(66549),_t=e(58177),$t=e(55538),Bt=e(54436),Ke=e(48648),ht=e(40734),jt=e(98570),fn=function(si,Yt,pt,gt){if("a"===pt&&!gt)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Yt?si!==Yt||!gt:!Yt.has(si))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===pt?gt:"a"===pt?gt.call(si):gt?gt.value:Yt.get(si)};const He=new W.uy("supportedCodeAction","");class ye extends l.JT{constructor(Yt,pt,gt,Kt=250){super(),this._editor=Yt,this._markerService=pt,this._signalChange=gt,this._delay=Kt,this._autoTriggerTimer=this._register(new Ke._F),this._register(this._markerService.onMarkerChanged(nn=>this._onMarkerChanges(nn))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Yt){const pt=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Yt);return this._createEventAndSignalChange(Yt,pt)}_onMarkerChanges(Yt){const pt=this._editor.getModel();!pt||Yt.some(gt=>(0,ht.Xy)(gt,pt.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:U.aQ.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:U.aQ.Default})},this._delay)}_getRangeOfMarker(Yt){const pt=this._editor.getModel();if(pt)for(const gt of this._markerService.read({resource:pt.uri})){const Kt=pt.validateRange(gt);if(jt.e.intersectRanges(Kt,Yt))return jt.e.lift(Kt)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(Yt){if(!this._editor.hasModel())return;const pt=this._editor.getModel(),gt=this._editor.getSelection();if(gt.isEmpty()&&2===Yt.type){const{lineNumber:Kt,column:nn}=gt.getPosition(),an=pt.getLineContent(Kt);if(0===an.length)return;if(1===nn){if(/\s/.test(an[0]))return}else if(nn===pt.getLineMaxColumn(Kt)){if(/\s/.test(an[an.length-1]))return}else if(/\s/.test(an[nn-2])&&/\s/.test(an[nn-1]))return}return gt}_createEventAndSignalChange(Yt,pt){const gt=this._editor.getModel();if(!pt||!gt)return void this._signalChange(void 0);const Kt=this._getRangeOfMarker(pt),nn=Kt?Kt.getStartPosition():pt.getStartPosition(),an={trigger:Yt,selection:pt,position:nn};return this._signalChange(an),an}}var Ae;!function(si){si.Empty={type:0},si.Triggered=class Yt{constructor(gt,Kt,nn,an){this.trigger=gt,this.rangeOrSelection=Kt,this.position=nn,this._cancellablePromise=an,this.type=1,this.actions=an.catch(mn=>{if((0,_.n2)(mn))return ue;throw mn})}cancel(){this._cancellablePromise.cancel()}}}(Ae||(Ae={}));const ue={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class be extends l.JT{constructor(Yt,pt,gt,Kt,nn){super(),this._editor=Yt,this._registry=pt,this._markerService=gt,this._progressService=nn,this._codeActionOracle=this._register(new l.XK),this._state=Ae.Empty,this._onDidChangeState=this._register(new Ve.Q5),this.onDidChangeState=this._onDidChangeState.event,yt.set(this,!1),this._supportedCodeActions=He.bindTo(Kt),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){fn(this,yt,"f")||(function(si,Yt,pt,gt,Kt){if("function"==typeof Yt||!Yt.has(si))throw new TypeError("Cannot write private member to an object whose class did not declare it");Yt.set(si,true)}(this,yt),super.dispose(),this.setState(Ae.Empty,!0))}_update(){if(fn(this,yt,"f"))return;this._codeActionOracle.value=void 0,this.setState(Ae.Empty);const Yt=this._editor.getModel();if(Yt&&this._registry.has(Yt)&&!this._editor.getOption(83)){const pt=[];for(const gt of this._registry.all(Yt))Array.isArray(gt.providedCodeActionKinds)&&pt.push(...gt.providedCodeActionKinds);this._supportedCodeActions.set(pt.join(" ")),this._codeActionOracle.value=new ye(this._editor,this._markerService,gt=>{var Kt;if(!gt)return void this.setState(Ae.Empty);const nn=(0,Ke.PG)(an=>(0,L.aI)(this._registry,Yt,gt.selection,gt.trigger,$t.Ex.None,an));1===gt.trigger.type&&(null===(Kt=this._progressService)||void 0===Kt||Kt.showWhile(nn,250)),this.setState(new Ae.Triggered(gt.trigger,gt.selection,gt.position,nn))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:U.aQ.Default})}else this._supportedCodeActions.reset()}trigger(Yt){var pt;null===(pt=this._codeActionOracle.value)||void 0===pt||pt.trigger(Yt)}setState(Yt,pt){Yt!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=Yt,!pt&&!fn(this,yt,"f")&&this._onDidChangeState.fire(Yt))}}yt=new WeakMap;var Fe=function(si,Yt){return function(pt,gt){Yt(pt,gt,si)}},nt=function(si,Yt,pt,gt){return new(pt||(pt=Promise))(function(nn,an){function mn(Yn){try{jn(gt.next(Yn))}catch(wi){an(wi)}}function Nn(Yn){try{jn(gt.throw(Yn))}catch(wi){an(wi)}}function jn(Yn){Yn.done?nn(Yn.value):function Kt(nn){return nn instanceof pt?nn:new pt(function(an){an(nn)})}(Yn.value).then(mn,Nn)}jn((gt=gt.apply(si,Yt||[])).next())})};function bt(si){return W.Ao.regex(He.keys()[0],new RegExp("(\\s|^)"+(0,S.ec)(si.value)+"\\b"))}function Ut(si,Yt,pt,gt){const Kt=U.wZ.fromUser(Yt,{kind:U.yN.Refactor,apply:"never"});return Sn(si,"string"==typeof Yt?.kind?Kt.preferred?ne.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",Yt.kind):ne.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",Yt.kind):Kt.preferred?ne.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):ne.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:U.yN.Refactor.contains(Kt.kind)?Kt.kind:U.yN.None,onlyIncludePreferredActions:Kt.preferred},Kt.apply,pt,gt)}const vn={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:ne.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:ne.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[ne.NC("args.schema.apply.first","Always apply the first returned code action."),ne.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),ne.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:ne.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Mn=class cc extends l.JT{constructor(Yt,pt,gt,Kt,nn,an){super(),this._instantiationService=nn,this._editor=Yt,this._model=this._register(new be(this._editor,an.codeActionProvider,pt,gt,Kt)),this._register(this._model.onDidChangeState(mn=>this.update(mn))),this._ui=new n.o(()=>this._register(new vt(Yt,Gn.Id,io.Id,{applyCodeAction:(mn,Nn,jn)=>nt(this,void 0,void 0,function*(){try{yield this._applyCodeAction(mn,jn)}finally{Nn&&this._trigger({type:2,triggerAction:U.aQ.QuickFix,filter:{}})}})},this._instantiationService)))}static get(Yt){return Yt.getContribution(cc.ID)}update(Yt){this._ui.getValue().update(Yt)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(Yt){this._ui.hasValue()&&this._ui.getValue().navigateList(Yt)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(Yt,pt,gt){return this._ui.getValue().showCodeActionList(Yt,pt,gt,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Yt,pt,gt,Kt,nn){var an;if(!this._editor.hasModel())return;null===(an=s.O.get(this._editor))||void 0===an||an.closeMessage();const mn=this._editor.getPosition();this._trigger({type:1,triggerAction:pt,filter:gt,autoApply:Kt,context:{notAvailableMessage:Yt,position:mn},preview:nn})}_trigger(Yt){return this._model.trigger(Yt)}_applyCodeAction(Yt,pt){return this._instantiationService.invokeFunction(gn,Yt,St.FromCodeActions,{preview:pt,editor:this._editor})}};Mn.ID="editor.contrib.quickFixController",Mn=function(si,Yt,pt,gt){var an,Kt=arguments.length,nn=Kt<3?Yt:null===gt?gt=Object.getOwnPropertyDescriptor(Yt,pt):gt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(si,Yt,pt,gt);else for(var mn=si.length-1;mn>=0;mn--)(an=si[mn])&&(nn=(Kt<3?an(nn):Kt>3?an(Yt,pt,nn):an(Yt,pt))||nn);return Kt>3&&nn&&Object.defineProperty(Yt,pt,nn),nn}([Fe(1,_t.lT),Fe(2,W.i6),Fe(3,$t.ek),Fe(4,m.TG),Fe(5,E.p)],Mn);var St=(()=>(function(si){si.OnSave="onSave",si.FromProblemsView="fromProblemsView",si.FromCodeActions="fromCodeActions"}(St||(St={})),St))();function gn(si,Yt,pt,gt){return nt(this,void 0,void 0,function*(){const Kt=si.get(T.vu),nn=si.get(mt.Hy),an=si.get(M.b),mn=si.get(Bt.lT);if(an.publicLog2("codeAction.applyCodeAction",{codeActionTitle:Yt.action.title,codeActionKind:Yt.action.kind,codeActionIsPreferred:!!Yt.action.isPreferred,reason:pt}),yield Yt.resolve(d.T.None),Yt.action.edit&&(yield Kt.apply(T.fo.convert(Yt.action.edit),{editor:gt?.editor,label:Yt.action.title,quotableLabel:Yt.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:gt?.preview})),Yt.action.command)try{yield nn.executeCommand(Yt.action.command.id,...Yt.action.command.arguments||[])}catch(Nn){const jn=function Vn(si){return"string"==typeof si?si:si instanceof Error&&"string"==typeof si.message?si.message:void 0}(Nn);mn.error("string"==typeof jn?jn:ne.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Sn(si,Yt,pt,gt,Kt=!1,nn=U.aQ.Default){si.hasModel()&&Mn.get(si)?.manualTriggerAtCurrentPosition(Yt,nn,pt,gt,Kt)}let Gn=(()=>{class si extends v.R6{constructor(){super({id:si.Id,label:ne.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:W.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),kbOpts:{kbExpr:C.u.editorTextFocus,primary:2132,weight:100}})}run(pt,gt){return Sn(gt,ne.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,U.aQ.QuickFix)}}return si.Id="editor.action.quickFix",si})();class ci extends v._l{constructor(){super({id:L.RB,precondition:W.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:vn}]}})}runEditorCommand(Yt,pt,gt){const Kt=U.wZ.fromUser(gt,{kind:U.yN.Empty,apply:"ifSingle"});return Sn(pt,"string"==typeof gt?.kind?Kt.preferred?ne.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",gt.kind):ne.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",gt.kind):Kt.preferred?ne.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):ne.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:Kt.kind,includeSourceActions:!0,onlyIncludePreferredActions:Kt.preferred},Kt.apply)}}class ii extends v.R6{constructor(){super({id:L.Bb,label:ne.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:W.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),kbOpts:{kbExpr:C.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:W.Ao.and(C.u.writable,bt(U.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:vn}]}})}run(Yt,pt,gt){return Ut(pt,gt,!1,U.aQ.Refactor)}}class Ei extends v.R6{constructor(){super({id:L.sh,label:ne.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:W.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:vn}]}})}run(Yt,pt,gt){return Ut(pt,gt,!0,U.aQ.RefactorPreview)}}class no extends v.R6{constructor(){super({id:L.MN,label:ne.NC("source.label","Source Action..."),alias:"Source Action...",precondition:W.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:W.Ao.and(C.u.writable,bt(U.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:vn}]}})}run(Yt,pt,gt){const Kt=U.wZ.fromUser(gt,{kind:U.yN.Source,apply:"never"});return Sn(pt,"string"==typeof gt?.kind?Kt.preferred?ne.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",gt.kind):ne.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",gt.kind):Kt.preferred?ne.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):ne.NC("editor.action.source.noneMessage","No source actions available"),{include:U.yN.Source.contains(Kt.kind)?Kt.kind:U.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:Kt.preferred},Kt.apply,void 0,U.aQ.SourceAction)}}class to extends v.R6{constructor(){super({id:L.uH,label:ne.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:W.Ao.and(C.u.writable,bt(U.yN.SourceOrganizeImports)),kbOpts:{kbExpr:C.u.editorTextFocus,primary:1581,weight:100}})}run(Yt,pt){return Sn(pt,ne.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:U.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,U.aQ.OrganizeImports)}}class Co extends v.R6{constructor(){super({id:L.TM,label:ne.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:W.Ao.and(C.u.writable,bt(U.yN.SourceFixAll))})}run(Yt,pt){return Sn(pt,ne.NC("fixAll.noneMessage","No fix all action available"),{include:U.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,U.aQ.FixAll)}}let io=(()=>{class si extends v.R6{constructor(){super({id:si.Id,label:ne.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:W.Ao.and(C.u.writable,bt(U.yN.QuickFix)),kbOpts:{kbExpr:C.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(pt,gt){return Sn(gt,ne.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:U.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,U.aQ.AutoFix)}}return si.Id="editor.action.autoFix",si})();const uo=v._l.bindToContribution(Mn.get);(0,v.fK)(new uo({id:"hideCodeActionMenuWidget",precondition:oe.Visible,handler(si){si.hideCodeActionMenu()},kbOpts:{weight:190,primary:9,secondary:[1033]}})),(0,v.fK)(new uo({id:"focusPreviousCodeAction",precondition:oe.Visible,handler(si){si.navigateCodeActionList(!0)},kbOpts:{weight:100190,primary:16,secondary:[2064]}})),(0,v.fK)(new uo({id:"focusNextCodeAction",precondition:oe.Visible,handler(si){si.navigateCodeActionList(!1)},kbOpts:{weight:100190,primary:18,secondary:[2066]}})),(0,v.fK)(new uo({id:"onEnterSelectCodeAction",precondition:oe.Visible,handler(si){si.selectedOption()},kbOpts:{weight:100190,primary:3,secondary:[1026]}})),(0,v.fK)(new uo({id:"onEnterSelectCodeActionWithPreview",precondition:oe.Visible,handler(si){si.selectedOptionWithPreview()},kbOpts:{weight:100190,primary:2051}}))},25583:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(26845),n=e(29354),l=e(61904),S=e(55197),v=e(29093);e(4259).B.as(v.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},l.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:S.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,d._K)(n.pY.ID,n.pY),(0,d.Qr)(n.E7),(0,d.Qr)(n.Eb),(0,d.Qr)(n.UG),(0,d.Qr)(n.VQ),(0,d.Qr)(n.o$),(0,d.Qr)(n.S5),(0,d.Qr)(n.Hv),(0,d.fK)(new n.dW)},77084:(Dt,Y,e)=>{"use strict";e.d(Y,{EU:()=>l,Yl:()=>S,aQ:()=>n,wZ:()=>T,yN:()=>d});class d{constructor(E){this.value=E}equals(E){return this.value===E.value}contains(E){return this.equals(E)||""===this.value||E.value.startsWith(this.value+d.sep)}intersects(E){return this.contains(E)||E.contains(this)}append(E){return new d(this.value+d.sep+E)}}d.sep=".",d.None=new d("@@none@@"),d.Empty=new d(""),d.QuickFix=new d("quickfix"),d.Refactor=new d("refactor"),d.Source=new d("source"),d.SourceOrganizeImports=d.Source.append("organizeImports"),d.SourceFixAll=d.Source.append("fixAll");var n=(()=>{return(C=n||(n={})).Refactor="refactor",C.RefactorPreview="refactor preview",C.Lightbulb="lightbulb",C.Default="other (default)",C.SourceAction="source action",C.QuickFix="quick fix action",C.FixAll="fix all",C.OrganizeImports="organize imports",C.AutoFix="auto fix",C.QuickFixHover="quick fix hover window",C.OnSave="save participants",C.ProblemsView="problems view",n;var C})();function l(C,E){return!(C.include&&!C.include.intersects(E)||C.excludes&&C.excludes.some(L=>v(E,L,C.include))||!C.includeSourceActions&&d.Source.contains(E))}function S(C,E){const L=E.kind?new d(E.kind):void 0;return!(C.include&&(!L||!C.include.contains(L))||C.excludes&&L&&C.excludes.some(_=>v(L,_,C.include))||!C.includeSourceActions&&L&&d.Source.contains(L)||C.onlyIncludePreferredActions&&!E.isPreferred)}function v(C,E,L){return!(!E.contains(C)||L&&E.contains(L))}class T{constructor(E,L,_){this.kind=E,this.apply=L,this.preferred=_}static fromUser(E,L){return E&&"object"==typeof E?new T(T.getKindFromUser(E,L.kind),T.getApplyFromUser(E,L.apply),T.getPreferredUser(E)):new T(L.kind,L.apply,!1)}static getApplyFromUser(E,L){switch("string"==typeof E.apply?E.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return L}}static getKindFromUser(E,L){return"string"==typeof E.kind?new d(E.kind):L}static getPreferredUser(E){return"boolean"==typeof E.preferred&&E.preferred}}},43351:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CodeLensContribution:()=>ae});var d=e(98463),n=e(48648),l=e(4125),S=e(7626),v=e(80142),T=e(46780),C=e(26845),E=e(54862),L=e(82290),_=e(73888),s=e(72715),m=e(59547),c=e(59602),t=e(66549),a=e(90790),p=function(ve,he,le,Q){return new(le||(le=Promise))(function(Pe,dt){function st(et){try{Qe(Q.next(et))}catch(vt){dt(vt)}}function qe(et){try{Qe(Q.throw(et))}catch(vt){dt(vt)}}function Qe(et){et.done?Pe(et.value):function Ce(Pe){return Pe instanceof le?Pe:new le(function(dt){dt(Pe)})}(et.value).then(st,qe)}Qe((Q=Q.apply(ve,he||[])).next())})};class u{constructor(){this.lenses=[],this._disposables=new v.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(he,le){this._disposables.add(he);for(const Q of he.lenses)this.lenses.push({symbol:Q,provider:le})}}function g(ve,he,le){return p(this,void 0,void 0,function*(){const Q=ve.ordered(he),Ce=new Map,Pe=new u,dt=Q.map((st,qe)=>p(this,void 0,void 0,function*(){Ce.set(st,qe);try{const Qe=yield Promise.resolve(st.provideCodeLenses(he,le));Qe&&Pe.add(Qe,st)}catch(Qe){(0,l.Cp)(Qe)}}));return yield Promise.all(dt),Pe.lenses=Pe.lenses.sort((st,qe)=>st.symbol.range.startLineNumber<qe.symbol.range.startLineNumber?-1:st.symbol.range.startLineNumber>qe.symbol.range.startLineNumber?1:Ce.get(st.provider)<Ce.get(qe.provider)?-1:Ce.get(st.provider)>Ce.get(qe.provider)?1:st.symbol.range.startColumn<qe.symbol.range.startColumn?-1:st.symbol.range.startColumn>qe.symbol.range.startColumn?1:0),Pe})}t.P0.registerCommand("_executeCodeLensProvider",function(ve,...he){let[le,Q]=he;(0,s.p_)(m.o.isUri(le)),(0,s.p_)("number"==typeof Q||!Q);const{codeLensProvider:Ce}=ve.get(a.p),Pe=ve.get(c.q).getModel(le);if(!Pe)throw(0,l.b1)();const dt=[],st=new v.SL;return g(Ce,Pe,_.T.None).then(qe=>{st.add(qe);const Qe=[];for(const et of qe.lenses)null==Q||Boolean(et.symbol.command)?dt.push(et.symbol):Q-- >0&&et.provider.resolveCodeLens&&Qe.push(Promise.resolve(et.provider.resolveCodeLens(Pe,et.symbol,_.T.None)).then(vt=>dt.push(vt||et.symbol)));return Promise.all(Qe)}).then(()=>dt).finally(()=>{setTimeout(()=>st.dispose(),100)})});var b=e(92192),y=e(5067),w=e(98570),D=e(47494),x=e(9265),P=e(48190);const H=(0,x.yh)("ICodeLensCache");class z{constructor(he,le){this.lineCount=he,this.data=le}}let k=class{constructor(he){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.z6(20,.75),(0,n.To)(()=>he.remove("codelens/cache",1));const Q="codelens/cache2",Ce=he.get(Q,1,"{}");this._deserialize(Ce),(0,b.I)(he.onWillSaveState)(Pe=>{Pe.reason===P.fk.SHUTDOWN&&he.store(Q,this._serialize(),1,1)})}put(he,le){const Q=le.lenses.map(dt=>{var st;return{range:dt.symbol.range,command:dt.symbol.command&&{id:"",title:null===(st=dt.symbol.command)||void 0===st?void 0:st.title}}}),Ce=new u;Ce.add({lenses:Q,dispose:()=>{}},this._fakeProvider);const Pe=new z(he.getLineCount(),Ce);this._cache.set(he.uri.toString(),Pe)}get(he){const le=this._cache.get(he.uri.toString());return le&&le.lineCount===he.getLineCount()?le.data:void 0}delete(he){this._cache.delete(he.uri.toString())}_serialize(){const he=Object.create(null);for(const[le,Q]of this._cache){const Ce=new Set;for(const Pe of Q.data.lenses)Ce.add(Pe.symbol.range.startLineNumber);he[le]={lineCount:Q.lineCount,lines:[...Ce.values()]}}return JSON.stringify(he)}_deserialize(he){try{const le=JSON.parse(he);for(const Q in le){const Ce=le[Q],Pe=[];for(const st of Ce.lines)Pe.push({range:new w.e(st,1,st,11)});const dt=new u;dt.add({lenses:Pe,dispose(){}},this._fakeProvider),this._cache.set(Q,new z(Ce.lineCount,dt))}}catch{}}};var he;k=function(ve,he,le,Q){var dt,Ce=arguments.length,Pe=Ce<3?he:null===Q?Q=Object.getOwnPropertyDescriptor(he,le):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(ve,he,le,Q);else for(var st=ve.length-1;st>=0;st--)(dt=ve[st])&&(Pe=(Ce<3?dt(Pe):Ce>3?dt(he,le,Pe):dt(he,le))||Pe);return Ce>3&&Pe&&Object.defineProperty(he,le,Pe),Pe}([(0,he=P.Uy,function(le,Q){he(le,Q,0)})],k),(0,D.z)(H,k);var F=e(97139),j=e(57856),K=e.n(j),U=e(38470),ne=e.n(U),N=e(43370),W=e.n(N),Z=e(28458),ge=e.n(Z),M=e(71278),we=e.n(M),Ee=e(29488),xe=e.n(Ee),Ne=e(75462),oe={};oe.styleTagTransform=xe(),oe.setAttributes=ge(),oe.insert=W().bind(null,"head"),oe.domAPI=ne(),oe.insertStyleElement=we(),K()(Ne.Z,oe);var me=e(59758);class Me{constructor(he,le,Q){this.afterColumn=1073741824,this.afterLineNumber=he,this.heightInPx=le,this._onHeight=Q,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(he){void 0===this._lastHeight?this._lastHeight=he:this._lastHeight!==he&&(this._lastHeight=he,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let de=(()=>{class ve{constructor(le,Q,Ce){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=le,this._id="codelens.widget-"+ve._idPool++,this.updatePosition(Ce),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${Q}`}withCommands(le,Q){this._commands.clear();const Ce=[];let Pe=!1;for(let dt=0;dt<le.length;dt++){const st=le[dt];if(st&&(Pe=!0,st.command)){const qe=(0,F.T)(st.command.title.trim());st.command.id?(Ce.push(d.$("a",{id:String(dt),title:st.command.tooltip,role:"button"},...qe)),this._commands.set(String(dt),st.command)):Ce.push(d.$("span",{title:st.command.tooltip},...qe)),dt+1<le.length&&Ce.push(d.$("span",void 0,"\xa0|\xa0"))}}Pe?(d.mc(this._domNode,...Ce),this._isEmpty&&Q&&this._domNode.classList.add("fadein"),this._isEmpty=!1):d.mc(this._domNode,d.$("span",void 0,"no commands"))}getCommand(le){return le.parentElement===this._domNode?this._commands.get(le.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(le){const Q=this._editor.getModel().getLineFirstNonWhitespaceColumn(le);this._widgetPosition={position:{lineNumber:le,column:Q},preference:[1]}}getPosition(){return this._widgetPosition||null}}return ve._idPool=0,ve})();class ke{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(he,le){this._addDecorations.push(he),this._addDecorationsCallbacks.push(le)}removeDecoration(he){this._removeDecorations.push(he)}commit(he){const le=he.deltaDecorations(this._removeDecorations,this._addDecorations);for(let Q=0,Ce=le.length;Q<Ce;Q++)this._addDecorationsCallbacks[Q](le[Q])}}class Ue{constructor(he,le,Q,Ce,Pe,dt,st){let qe;this._isDisposed=!1,this._editor=le,this._className=Q,this._data=he,this._decorationIds=[];const Qe=[];this._data.forEach((et,vt)=>{et.symbol.command&&Qe.push(et.symbol),Ce.addDecoration({range:et.symbol.range,options:me.qx.EMPTY},mt=>this._decorationIds[vt]=mt),qe=qe?w.e.plusRange(qe,et.symbol.range):w.e.lift(et.symbol.range)}),this._viewZone=new Me(qe.startLineNumber-1,dt,st),this._viewZoneId=Pe.addZone(this._viewZone),Qe.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Qe,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new de(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(he,le){this._decorationIds.forEach(he.removeDecoration,he),this._decorationIds=[],le?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((he,le)=>{const Q=this._editor.getModel().getDecorationRange(he);return!(!Q||w.e.isEmpty(this._data[le].symbol.range)!==Q.isEmpty())})}updateCodeLensSymbols(he,le){this._decorationIds.forEach(le.removeDecoration,le),this._decorationIds=[],this._data=he,this._data.forEach((Q,Ce)=>{le.addDecoration({range:Q.symbol.range,options:me.qx.EMPTY},Pe=>this._decorationIds[Ce]=Pe)})}updateHeight(he,le){this._viewZone.heightInPx=he,le.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(he){if(!this._viewZone.isVisible())return null;for(let le=0;le<this._decorationIds.length;le++){const Q=he.getDecorationRange(this._decorationIds[le]);Q&&(this._data[le].symbol.range=Q)}return this._data}updateCommands(he){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(he,!0);for(let le=0;le<this._data.length;le++){const Q=he[le];if(Q){const{symbol:Ce}=this._data[le];Ce.command=Q.command||Ce.command}}}getCommand(he){var le;return null===(le=this._contentWidget)||void 0===le?void 0:le.getCommand(he)}getLineNumber(){const he=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return he?he.startLineNumber:-1}update(he){if(this.isValid()){const le=this._editor.getModel().getDecorationRange(this._decorationIds[0]);le&&(this._viewZone.afterLineNumber=le.startLineNumber-1,he.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(le.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var ze=e(55197),ce=e(54436),Ve=e(73622),tt=e(79095),Lt=function(ve,he){return function(le,Q){he(le,Q,ve)}};let ae=class{constructor(he,le,Q,Ce,Pe,dt){this._editor=he,this._languageFeaturesService=le,this._commandService=Ce,this._notificationService=Pe,this._codeLensCache=dt,this._disposables=new v.SL,this._localToDispose=new v.SL,this._lenses=[],this._oldCodeLensModels=new v.SL,this._provideCodeLensDebounce=Q.for(le.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=Q.for(le.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new n.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(st=>{(st.hasChanged(46)||st.hasChanged(16)||st.hasChanged(15))&&this._updateLensStyle(),st.hasChanged(14)&&this._onModelChange()})),this._disposables.add(le.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,S.vp)(this._editor.getId()).toString(16),this._styleElement=d.dS(d.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var he;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(he=this._currentCodeLensModel)||void 0===he||he.dispose(),this._styleElement.remove()}_getLayoutInfo(){const he=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let le=this._editor.getOption(16);return(!le||le<5)&&(le=.9*this._editor.getOption(48)|0),{fontSize:le,codeLensHeight:le*he|0}}_updateLensStyle(){const{codeLensHeight:he,fontSize:le}=this._getLayoutInfo(),Q=this._editor.getOption(15),Ce=this._editor.getOption(46),Pe=`--codelens-font-family${this._styleClassName}`,dt=`--codelens-font-features${this._styleClassName}`;let st=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${he}px; font-size: ${le}px; padding-right: ${Math.round(.5*le)}px; font-feature-settings: var(${dt}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${he}px; font-size: ${le}px; }\n\t\t`;Q&&(st+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${Pe}), ${E.hL.fontFamily}}`),this._styleElement.textContent=st,this._editor.getContainerDomNode().style.setProperty(Pe,Q??"inherit"),this._editor.getContainerDomNode().style.setProperty(dt,Ce.fontFeatureSettings),this._editor.changeViewZones(qe=>{for(const Qe of this._lenses)Qe.updateHeight(he,qe)})}_localDispose(){var he,le,Q;null===(he=this._getCodeLensModelPromise)||void 0===he||he.cancel(),this._getCodeLensModelPromise=void 0,null===(le=this._resolveCodeLensesPromise)||void 0===le||le.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(Q=this._currentCodeLensModel)||void 0===Q||Q.dispose()}_onModelChange(){this._localDispose();const he=this._editor.getModel();if(!he||!this._editor.getOption(14))return;const le=this._codeLensCache.get(he);if(le&&this._renderCodeLensSymbols(le),!this._languageFeaturesService.codeLensProvider.has(he))return void(le&&this._localToDispose.add((0,n.Vg)(()=>{const Ce=this._codeLensCache.get(he);le===Ce&&(this._codeLensCache.delete(he),this._onModelChange())},3e4)));for(const Ce of this._languageFeaturesService.codeLensProvider.all(he))if("function"==typeof Ce.onDidChange){const Pe=Ce.onDidChange(()=>Q.schedule());this._localToDispose.add(Pe)}const Q=new n.pY(()=>{var Ce;const Pe=Date.now();null===(Ce=this._getCodeLensModelPromise)||void 0===Ce||Ce.cancel(),this._getCodeLensModelPromise=(0,n.PG)(dt=>g(this._languageFeaturesService.codeLensProvider,he,dt)),this._getCodeLensModelPromise.then(dt=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=dt,this._codeLensCache.put(he,dt);const st=this._provideCodeLensDebounce.update(he,Date.now()-Pe);Q.delay=st,this._renderCodeLensSymbols(dt),this._resolveCodeLensesInViewportSoon()},l.dL)},this._provideCodeLensDebounce.get(he));this._localToDispose.add(Q),this._localToDispose.add((0,v.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(Ce=>{this._editor.changeViewZones(Pe=>{const dt=[];let st=-1;this._lenses.forEach(Qe=>{Qe.isValid()&&st!==Qe.getLineNumber()?(Qe.update(Pe),st=Qe.getLineNumber()):dt.push(Qe)});const qe=new ke;dt.forEach(Qe=>{Qe.dispose(qe,Pe),this._lenses.splice(this._lenses.indexOf(Qe),1)}),qe.commit(Ce)})}),Q.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{Q.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(Ce=>{Ce.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,v.OF)(()=>{if(this._editor.getModel()){const Ce=T.Z.capture(this._editor);this._editor.changeDecorations(Pe=>{this._editor.changeViewZones(dt=>{this._disposeAllLenses(Pe,dt)})}),Ce.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(Ce=>{if(9!==Ce.target.type)return;let Pe=Ce.target.element;if("SPAN"===Pe?.tagName&&(Pe=Pe.parentElement),"A"===Pe?.tagName)for(const dt of this._lenses){const st=dt.getCommand(Pe);if(st){this._commandService.executeCommand(st.id,...st.arguments||[]).catch(qe=>this._notificationService.error(qe));break}}})),Q.schedule()}_disposeAllLenses(he,le){const Q=new ke;for(const Ce of this._lenses)Ce.dispose(Q,le);he&&Q.commit(he),this._lenses.length=0}_renderCodeLensSymbols(he){if(!this._editor.hasModel())return;const le=this._editor.getModel().getLineCount(),Q=[];let Ce;for(const st of he.lenses){const qe=st.symbol.range.startLineNumber;qe<1||qe>le||(Ce&&Ce[Ce.length-1].symbol.range.startLineNumber===qe?Ce.push(st):(Ce=[st],Q.push(Ce)))}const Pe=T.Z.capture(this._editor),dt=this._getLayoutInfo();this._editor.changeDecorations(st=>{this._editor.changeViewZones(qe=>{const Qe=new ke;let et=0,vt=0;for(;vt<Q.length&&et<this._lenses.length;){const mt=Q[vt][0].symbol.range.startLineNumber,_t=this._lenses[et].getLineNumber();_t<mt?(this._lenses[et].dispose(Qe,qe),this._lenses.splice(et,1)):_t===mt?(this._lenses[et].updateCodeLensSymbols(Q[vt],Qe),vt++,et++):(this._lenses.splice(et,0,new Ue(Q[vt],this._editor,this._styleClassName,Qe,qe,dt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),et++,vt++)}for(;et<this._lenses.length;)this._lenses[et].dispose(Qe,qe),this._lenses.splice(et,1);for(;vt<Q.length;)this._lenses.push(new Ue(Q[vt],this._editor,this._styleClassName,Qe,qe,dt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),vt++;Qe.commit(st)})}),Pe.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var he;null===(he=this._resolveCodeLensesPromise)||void 0===he||he.cancel(),this._resolveCodeLensesPromise=void 0;const le=this._editor.getModel();if(!le)return;const Q=[],Ce=[];if(this._lenses.forEach(st=>{const qe=st.computeIfNecessary(le);qe&&(Q.push(qe),Ce.push(st))}),0===Q.length)return;const Pe=Date.now(),dt=(0,n.PG)(st=>{const qe=Q.map((Qe,et)=>{const vt=new Array(Qe.length),mt=Qe.map((_t,$t)=>_t.symbol.command||"function"!=typeof _t.provider.resolveCodeLens?(vt[$t]=_t.symbol,Promise.resolve(void 0)):Promise.resolve(_t.provider.resolveCodeLens(le,_t.symbol,st)).then(Bt=>{vt[$t]=Bt},l.Cp));return Promise.all(mt).then(()=>{!st.isCancellationRequested&&!Ce[et].isDisposed()&&Ce[et].updateCommands(vt)})});return Promise.all(qe)});this._resolveCodeLensesPromise=dt,this._resolveCodeLensesPromise.then(()=>{const st=this._resolveCodeLensesDebounce.update(le,Date.now()-Pe);this._resolveCodeLensesScheduler.delay=st,this._currentCodeLensModel&&this._codeLensCache.put(le,this._currentCodeLensModel),this._oldCodeLensModels.clear(),dt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},st=>{(0,l.dL)(st),dt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};ae.ID="css.editor.codeLens",ae=function(ve,he,le,Q){var dt,Ce=arguments.length,Pe=Ce<3?he:null===Q?Q=Object.getOwnPropertyDescriptor(he,le):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(ve,he,le,Q);else for(var st=ve.length-1;st>=0;st--)(dt=ve[st])&&(Pe=(Ce<3?dt(Pe):Ce>3?dt(he,le,Pe):dt(he,le))||Pe);return Ce>3&&Pe&&Object.defineProperty(he,le,Pe),Pe}([Lt(1,a.p),Lt(2,tt.A),Lt(3,t.Hy),Lt(4,ce.lT),Lt(5,H)],ae),(0,C._K)(ae.ID,ae),(0,C.Qr)(class extends C.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:L.u.hasCodeLensProvider,label:(0,ze.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(he,le){return function(ve,he,le,Q){return new(le||(le=Promise))(function(Pe,dt){function st(et){try{Qe(Q.next(et))}catch(vt){dt(vt)}}function qe(et){try{Qe(Q.throw(et))}catch(vt){dt(vt)}}function Qe(et){et.done?Pe(et.value):function Ce(Pe){return Pe instanceof le?Pe:new le(function(dt){dt(Pe)})}(et.value).then(st,qe)}Qe((Q=Q.apply(ve,he||[])).next())})}(this,void 0,void 0,function*(){if(!le.hasModel())return;const Q=he.get(Ve.eJ),Ce=he.get(t.Hy),Pe=he.get(ce.lT),dt=le.getSelection().positionLineNumber,st=le.getContribution(ae.ID);if(!st)return;const qe=st.getModel();if(!qe)return;const Qe=[];for(const vt of qe.lenses)vt.symbol.command&&vt.symbol.range.startLineNumber===dt&&Qe.push({label:vt.symbol.command.title,command:vt.symbol.command});if(0===Qe.length)return;const et=yield Q.pick(Qe,{canPickMany:!1});if(et){if(qe.isDisposed)return yield Ce.executeCommand(this.id);try{yield Ce.executeCommand(et.command.id,...et.command.arguments||[])}catch(vt){Pe.error(vt)}}})}})},63175:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{ColorContribution:()=>dt});var d=e(80142),n=e(26845),l=e(98570),S=e(48648),v=e(69355),T=e(4125),C=e(631),E=e(73879),L=e(69545),_=e(59758),s=e(79095),m=e(90790),c=e(73888),t=e(59547),a=e(59602),p=e(66549);function g(st,qe,Qe,et){return Promise.resolve(Qe.provideColorPresentations(st,qe,et))}p.P0.registerCommand("_executeDocumentColorProvider",function(st,...qe){const[Qe]=qe;if(!(Qe instanceof t.o))throw(0,T.b1)();const{colorProvider:et}=st.get(m.p),vt=st.get(a.q).getModel(Qe);if(!vt)throw(0,T.b1)();const mt=[],$t=et.ordered(vt).reverse().map(Bt=>Promise.resolve(Bt.provideDocumentColors(vt,c.T.None)).then(Ke=>{if(Array.isArray(Ke))for(const ht of Ke)mt.push({range:ht.range,color:[ht.color.red,ht.color.green,ht.color.blue,ht.color.alpha]})}));return Promise.all($t).then(()=>mt)}),p.P0.registerCommand("_executeColorPresentationProvider",function(st,...qe){const[Qe,et]=qe,{uri:vt,range:mt}=et;if(!(vt instanceof t.o&&Array.isArray(Qe)&&4===Qe.length&&l.e.isIRange(mt)))throw(0,T.b1)();const[_t,$t,Bt,Ke]=Qe,{colorProvider:ht}=st.get(m.p),jt=st.get(a.q).getModel(vt);if(!jt)throw(0,T.b1)();const fn={range:mt,color:{red:_t,green:$t,blue:Bt,alpha:Ke}},Dn=[],He=ht.ordered(jt).reverse().map(ye=>Promise.resolve(ye.provideColorPresentations(jt,fn,c.T.None)).then(Ae=>{Array.isArray(Ae)&&Dn.push(...Ae)}));return Promise.all(He).then(()=>Dn)});var b=e(94667),w=function(st,qe){return function(Qe,et){qe(Qe,et,st)}};const x=Object.create({});let O=class uc extends d.JT{constructor(qe,Qe,et,vt){super(),this._editor=qe,this._configurationService=Qe,this._languageFeaturesService=et,this._localToDispose=this._register(new d.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new L.t7(this._editor),this._colorDecorationClassRefs=this._register(new d.SL),this._debounceInformation=vt.for(et.colorProvider,"Document Colors",{min:uc.RECOMPUTE_TIME}),this._register(qe.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(qe.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(et.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(qe.onDidChangeConfiguration(()=>{const mt=this._isEnabled;this._isEnabled=this.isEnabled(),mt!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const qe=this._editor.getModel();if(!qe)return!1;const Qe=qe.getLanguageId(),et=this._configurationService.getValue(Qe);if(et&&"object"==typeof et){const vt=et.colorDecorators;if(vt&&void 0!==vt.enable&&!vt.enable)return vt.enable}return this._editor.getOption(17)}static get(qe){return qe.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const qe=this._editor.getModel();!qe||!this._languageFeaturesService.colorProvider.has(qe)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new S._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(qe)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,S.PG)(qe=>function(st,qe,Qe,et){return new(Qe||(Qe=Promise))(function(mt,_t){function $t(ht){try{Ke(et.next(ht))}catch(jt){_t(jt)}}function Bt(ht){try{Ke(et.throw(ht))}catch(jt){_t(jt)}}function Ke(ht){ht.done?mt(ht.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ht.value).then($t,Bt)}Ke((et=et.apply(st,qe||[])).next())})}(this,void 0,void 0,function*(){const Qe=this._editor.getModel();if(!Qe)return Promise.resolve([]);const et=new C.G(!1),vt=yield function u(st,qe,Qe){const et=[],mt=st.ordered(qe).reverse().map(_t=>Promise.resolve(_t.provideDocumentColors(qe,Qe)).then($t=>{if(Array.isArray($t))for(const Bt of $t)et.push({colorInfo:Bt,provider:_t})}));return Promise.all(mt).then(()=>et)}(this._languageFeaturesService.colorProvider,Qe,qe);return this._debounceInformation.update(Qe,et.elapsed()),vt})),this._computePromise.then(qe=>{this.updateDecorations(qe),this.updateColorDecorators(qe),this._computePromise=null},T.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(qe){const Qe=qe.map(et=>({range:{startLineNumber:et.colorInfo.range.startLineNumber,startColumn:et.colorInfo.range.startColumn,endLineNumber:et.colorInfo.range.endLineNumber,endColumn:et.colorInfo.range.endColumn},options:_.qx.EMPTY}));this._editor.changeDecorations(et=>{this._decorationsIds=et.deltaDecorations(this._decorationsIds,Qe),this._colorDatas=new Map,this._decorationsIds.forEach((vt,mt)=>this._colorDatas.set(vt,qe[mt]))})}updateColorDecorators(qe){this._colorDecorationClassRefs.clear();const Qe=[];for(let et=0;et<qe.length&&Qe.length<500;et++){const{red:vt,green:mt,blue:_t,alpha:$t}=qe[et].colorInfo.color,Bt=new v.VS(Math.round(255*vt),Math.round(255*mt),Math.round(255*_t),$t),ht=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${Bt.r}, ${Bt.g}, ${Bt.b}, ${Bt.a})`}));Qe.push({range:{startLineNumber:qe[et].colorInfo.range.startLineNumber,startColumn:qe[et].colorInfo.range.startColumn,endLineNumber:qe[et].colorInfo.range.endLineNumber,endColumn:qe[et].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:E.B4,inlineClassName:`${ht.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:x}}})}this._colorDecoratorIds.set(Qe)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(qe){const Qe=this._editor.getModel();if(!Qe)return null;const et=Qe.getDecorationsInRange(l.e.fromPositions(qe,qe)).filter(vt=>this._colorDatas.has(vt.id));return 0===et.length?null:this._colorDatas.get(et[0].id)}isColorDecoration(qe){return this._colorDecoratorIds.has(qe)}};O.ID="editor.contrib.colorDetector",O.RECOMPUTE_TIME=1e3,O=function(st,qe,Qe,et){var _t,vt=arguments.length,mt=vt<3?qe:null===et?et=Object.getOwnPropertyDescriptor(qe,Qe):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,qe,Qe,et);else for(var $t=st.length-1;$t>=0;$t--)(_t=st[$t])&&(mt=(vt<3?_t(mt):vt>3?_t(qe,Qe,mt):_t(qe,Qe))||mt);return vt>3&&mt&&Object.defineProperty(qe,Qe,mt),mt}([w(1,b.Ui),w(2,m.p),w(3,s.A)],O),(0,n._K)(O.ID,O);var V=e(3778);class H{constructor(qe,Qe,et){this.presentationIndex=et,this._onColorFlushed=new V.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new V.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new V.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=qe,this._color=qe,this._colorPresentations=Qe}get color(){return this._color}set color(qe){this._color.equals(qe)||(this._color=qe,this._onDidChangeColor.fire(qe))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(qe){this._colorPresentations=qe,this.presentationIndex>qe.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(qe,Qe){for(let et=0;et<this.colorPresentations.length;et++)if(Qe.toLowerCase()===this.colorPresentations[et].label){this.presentationIndex=et,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var z=e(37428),k=e(98463),F=e(11210),j=e(5183),K=e(57856),U=e.n(K),ne=e(38470),N=e.n(ne),W=e(43370),Z=e.n(W),ge=e(28458),M=e.n(ge),we=e(71278),Ee=e.n(we),xe=e(29488),Ne=e.n(xe),oe=e(28837),Se={};Se.styleTagTransform=Ne(),Se.setAttributes=M(),Se.insert=Z().bind(null,"head"),Se.domAPI=N(),Se.insertStyleElement=Ee(),U()(oe.Z,Se);var Me=e(55197),de=e(4062),ke=e(40902);const Ue=k.$;class ze extends d.JT{constructor(qe,Qe,et){super(),this.model=Qe,this.domNode=Ue(".colorpicker-header"),k.R3(qe,this.domNode),this.pickedColorNode=k.R3(this.domNode,Ue(".picked-color"));const vt=(0,Me.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",vt);const mt=k.R3(this.domNode,Ue(".original-color"));mt.style.backgroundColor=v.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=et.getColorTheme().getColor(de.yJx)||v.Il.white,this._register((0,ke.Ic)((_t,$t)=>{this.backgroundColor=_t.getColor(de.yJx)||v.Il.white})),this._register(k.nm(this.pickedColorNode,k.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.nm(mt,k.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(Qe.onDidChangeColor(this.onDidChangeColor,this)),this._register(Qe.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=v.Il.Format.CSS.format(Qe.color)||"",this.pickedColorNode.classList.toggle("light",Qe.color.rgba.a<.5?this.backgroundColor.isLighter():Qe.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(qe){this.pickedColorNode.style.backgroundColor=v.Il.Format.CSS.format(qe)||"",this.pickedColorNode.classList.toggle("light",qe.rgba.a<.5?this.backgroundColor.isLighter():qe.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Ue(".codicon.codicon-color-mode"))}}class ce extends d.JT{constructor(qe,Qe,et){super(),this.model=Qe,this.pixelRatio=et,this.domNode=Ue(".colorpicker-body"),k.R3(qe,this.domNode),this.saturationBox=new Ve(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Ct(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Lt(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:qe,v:Qe}){const et=this.model.color.hsva;this.model.color=new v.Il(new v.tx(et.h,qe,Qe,et.a))}onDidOpacityChange(qe){const Qe=this.model.color.hsva;this.model.color=new v.Il(new v.tx(Qe.h,Qe.s,Qe.v,qe))}onDidHueChange(qe){const Qe=this.model.color.hsva,et=360*(1-qe);this.model.color=new v.Il(new v.tx(360===et?0:et,Qe.s,Qe.v,Qe.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Ve extends d.JT{constructor(qe,Qe,et){super(),this.model=Qe,this.pixelRatio=et,this._onDidChange=new V.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new V.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Ue(".saturation-wrap"),k.R3(qe,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",k.R3(this.domNode,this.canvas),this.selection=Ue(".saturation-selection"),k.R3(this.domNode,this.selection),this.layout(),this._register(k.nm(this.domNode,k.tw.POINTER_DOWN,vt=>this.onPointerDown(vt))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(qe){if(!(qe.target&&qe.target instanceof Element))return;this.monitor=this._register(new F.C);const Qe=k.i(this.domNode);qe.target!==this.selection&&this.onDidChangePosition(qe.offsetX,qe.offsetY),this.monitor.startMonitoring(qe.target,qe.pointerId,qe.buttons,vt=>this.onDidChangePosition(vt.pageX-Qe.left,vt.pageY-Qe.top),()=>null);const et=k.nm(document,k.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),et.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(qe,Qe){const et=Math.max(0,Math.min(1,qe/this.width)),vt=Math.max(0,Math.min(1,1-Qe/this.height));this.paintSelection(et,vt),this._onDidChange.fire({s:et,v:vt})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const qe=this.model.color.hsva;this.paintSelection(qe.s,qe.v)}paint(){const Qe=new v.Il(new v.tx(this.model.color.hsva.h,1,1,1)),et=this.canvas.getContext("2d"),vt=et.createLinearGradient(0,0,this.canvas.width,0);vt.addColorStop(0,"rgba(255, 255, 255, 1)"),vt.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),vt.addColorStop(1,"rgba(255, 255, 255, 0)");const mt=et.createLinearGradient(0,0,0,this.canvas.height);mt.addColorStop(0,"rgba(0, 0, 0, 0)"),mt.addColorStop(1,"rgba(0, 0, 0, 1)"),et.rect(0,0,this.canvas.width,this.canvas.height),et.fillStyle=v.Il.Format.CSS.format(Qe),et.fill(),et.fillStyle=vt,et.fill(),et.fillStyle=mt,et.fill()}paintSelection(qe,Qe){this.selection.style.left=qe*this.width+"px",this.selection.style.top=this.height-Qe*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class tt extends d.JT{constructor(qe,Qe){super(),this.model=Qe,this._onDidChange=new V.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new V.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=k.R3(qe,Ue(".strip")),this.overlay=k.R3(this.domNode,Ue(".overlay")),this.slider=k.R3(this.domNode,Ue(".slider")),this.slider.style.top="0px",this._register(k.nm(this.domNode,k.tw.POINTER_DOWN,et=>this.onPointerDown(et))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const qe=this.getValue(this.model.color);this.updateSliderPosition(qe)}onPointerDown(qe){if(!(qe.target&&qe.target instanceof Element))return;const Qe=this._register(new F.C),et=k.i(this.domNode);this.domNode.classList.add("grabbing"),qe.target!==this.slider&&this.onDidChangeTop(qe.offsetY),Qe.startMonitoring(qe.target,qe.pointerId,qe.buttons,mt=>this.onDidChangeTop(mt.pageY-et.top),()=>null);const vt=k.nm(document,k.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),vt.dispose(),Qe.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(qe){const Qe=Math.max(0,Math.min(1,1-qe/this.height));this.updateSliderPosition(Qe),this._onDidChange.fire(Qe)}updateSliderPosition(qe){this.slider.style.top=(1-qe)*this.height+"px"}}class Ct extends tt{constructor(qe,Qe){super(qe,Qe),this.domNode.classList.add("opacity-strip"),this._register(Qe.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(qe){const{r:Qe,g:et,b:vt}=qe.rgba,mt=new v.Il(new v.VS(Qe,et,vt,1)),_t=new v.Il(new v.VS(Qe,et,vt,0));this.overlay.style.background=`linear-gradient(to bottom, ${mt} 0%, ${_t} 100%)`}getValue(qe){return qe.hsva.a}}class Lt extends tt{constructor(qe,Qe){super(qe,Qe),this.domNode.classList.add("hue-strip")}getValue(qe){return 1-qe.hsva.h/360}}class $e extends j.${constructor(qe,Qe,et,vt){super(),this.model=Qe,this.pixelRatio=et,this._register(z.PixelRatio.onDidChange(()=>this.layout()));const mt=Ue(".colorpicker-widget");qe.appendChild(mt);const _t=new ze(mt,this.model,vt);this.body=new ce(mt,this.model,this.pixelRatio),this._register(_t),this._register(this.body)}layout(){this.body.layout()}}var he=function(st,qe,Qe,et){return new(Qe||(Qe=Promise))(function(mt,_t){function $t(ht){try{Ke(et.next(ht))}catch(jt){_t(jt)}}function Bt(ht){try{Ke(et.throw(ht))}catch(jt){_t(jt)}}function Ke(ht){ht.done?mt(ht.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ht.value).then($t,Bt)}Ke((et=et.apply(st,qe||[])).next())})};class le{constructor(qe,Qe,et,vt){this.owner=qe,this.range=Qe,this.model=et,this.provider=vt,this.forceShowAtRange=!0}isValidForHoverAnchor(qe){return 1===qe.type&&this.range.startColumn<=qe.range.startColumn&&this.range.endColumn>=qe.range.endColumn}}let Q=class{constructor(qe,Qe){this._editor=qe,this._themeService=Qe,this.hoverOrdinal=1}computeSync(qe,Qe){return[]}computeAsync(qe,Qe,et){return S.Aq.fromPromise(this._computeAsync(qe,Qe,et))}_computeAsync(qe,Qe,et){return he(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const vt=O.get(this._editor);if(!vt)return[];for(const mt of Qe){if(!vt.isColorDecoration(mt))continue;const _t=vt.getColorData(mt.range.getStartPosition());if(_t)return[yield this._createColorHover(this._editor.getModel(),_t.colorInfo,_t.provider)]}return[]})}_createColorHover(qe,Qe,et){return he(this,void 0,void 0,function*(){const vt=qe.getValueInRange(Qe.range),{red:mt,green:_t,blue:$t,alpha:Bt}=Qe.color,Ke=new v.VS(Math.round(255*mt),Math.round(255*_t),Math.round(255*$t),Bt),ht=new v.Il(Ke),jt=yield g(qe,Qe,et,c.T.None),fn=new H(ht,[],0);return fn.colorPresentations=jt||[],fn.guessColorPresentation(ht,vt),new le(this,l.e.lift(Qe.range),fn,et)})}renderHoverParts(qe,Qe){if(0===Qe.length||!this._editor.hasModel())return d.JT.None;const et=new d.SL,vt=Qe[0],mt=this._editor.getModel(),_t=vt.model,$t=et.add(new $e(qe.fragment,_t,this._editor.getOption(131),this._themeService));qe.setColorPicker($t);let Bt=new l.e(vt.range.startLineNumber,vt.range.startColumn,vt.range.endLineNumber,vt.range.endColumn);const Ke=()=>{let jt,fn;if(_t.presentation.textEdit){jt=[_t.presentation.textEdit],fn=new l.e(_t.presentation.textEdit.range.startLineNumber,_t.presentation.textEdit.range.startColumn,_t.presentation.textEdit.range.endLineNumber,_t.presentation.textEdit.range.endColumn);const Dn=this._editor.getModel()._setTrackedRange(null,fn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",jt),fn=this._editor.getModel()._getTrackedRange(Dn)||fn}else jt=[{range:Bt,text:_t.presentation.label,forceMoveMarkers:!1}],fn=Bt.setEndPosition(Bt.endLineNumber,Bt.startColumn+_t.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",jt);_t.presentation.additionalTextEdits&&(jt=[..._t.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",jt),qe.hide()),this._editor.pushUndoStop(),Bt=fn},ht=jt=>g(mt,{range:Bt,color:{red:jt.rgba.r/255,green:jt.rgba.g/255,blue:jt.rgba.b/255,alpha:jt.rgba.a}},vt.provider,c.T.None).then(fn=>{_t.colorPresentations=fn||[]});return et.add(_t.onColorFlushed(jt=>{ht(jt).then(Ke)})),et.add(_t.onDidChangeColor(ht)),et}};var qe;Q=function(st,qe,Qe,et){var _t,vt=arguments.length,mt=vt<3?qe:null===et?et=Object.getOwnPropertyDescriptor(qe,Qe):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,qe,Qe,et);else for(var $t=st.length-1;$t>=0;$t--)(_t=st[$t])&&(mt=(vt<3?_t(mt):vt>3?_t(qe,Qe,mt):_t(qe,Qe))||mt);return vt>3&&mt&&Object.defineProperty(qe,Qe,mt),mt}([(1,qe=ke.XE,function(Qe,et){qe(Qe,et,1)})],Q);var Ce=e(39610),Pe=e(91717);let dt=(()=>{class st extends d.JT{constructor(Qe){super(),this._editor=Qe,this._register(Qe.onMouseDown(et=>this.onMouseDown(et)))}dispose(){super.dispose()}onMouseDown(Qe){const et=Qe.target;if(6!==et.type||!et.detail.injectedText||et.detail.injectedText.options.attachedData!==x||!et.range)return;const vt=this._editor.getContribution(Ce.ModesHoverController.ID);if(vt&&!vt.isColorPickerVisible()){const mt=new l.e(et.range.startLineNumber,et.range.startColumn+1,et.range.endLineNumber,et.range.endColumn+1);vt.showContentHover(mt,1,!1)}}}return st.ID="editor.contrib.colorContribution",st})();(0,n._K)(dt.ID,dt),Pe.Ae.register(Q)},53178:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(53993),n=e(26845),l=e(98570),S=e(82290),v=e(94911),T=e(65484),C=e(18723),E=e(7233);class L{constructor(y,w,D){this.languageConfigurationService=D,this._selection=y,this._insertSpace=w,this._usedEndToken=null}static _haystackHasNeedleAtOffset(y,w,D){if(D<0)return!1;const x=w.length;if(D+x>y.length)return!1;for(let O=0;O<x;O++){const V=y.charCodeAt(D+O),H=w.charCodeAt(O);if(!(V===H||V>=65&&V<=90&&V+32===H||H>=65&&H<=90&&H+32===V))return!1}return!0}_createOperationsForBlockComment(y,w,D,x,P,O){const V=y.startLineNumber,H=y.startColumn,z=y.endLineNumber,k=y.endColumn,F=P.getLineContent(V),j=P.getLineContent(z);let ne,K=F.lastIndexOf(w,H-1+w.length),U=j.indexOf(D,k-1-D.length);if(-1!==K&&-1!==U)if(V===z)F.substring(K+w.length,U).indexOf(D)>=0&&(K=-1,U=-1);else{const N=F.substring(K+w.length),W=j.substring(0,U);(N.indexOf(D)>=0||W.indexOf(D)>=0)&&(K=-1,U=-1)}-1!==K&&-1!==U?(x&&K+w.length<F.length&&32===F.charCodeAt(K+w.length)&&(w+=" "),x&&U>0&&32===j.charCodeAt(U-1)&&(D=" "+D,U-=1),ne=L._createRemoveBlockCommentOperations(new l.e(V,K+w.length+1,z,U+1),w,D)):(ne=L._createAddBlockCommentOperations(y,w,D,this._insertSpace),this._usedEndToken=1===ne.length?D:null);for(const N of ne)O.addTrackedEditOperation(N.range,N.text)}static _createRemoveBlockCommentOperations(y,w,D){const x=[];return l.e.isEmpty(y)?x.push(T.h.delete(new l.e(y.startLineNumber,y.startColumn-w.length,y.endLineNumber,y.endColumn+D.length))):(x.push(T.h.delete(new l.e(y.startLineNumber,y.startColumn-w.length,y.startLineNumber,y.startColumn))),x.push(T.h.delete(new l.e(y.endLineNumber,y.endColumn,y.endLineNumber,y.endColumn+D.length)))),x}static _createAddBlockCommentOperations(y,w,D,x){const P=[];return l.e.isEmpty(y)?P.push(T.h.replace(new l.e(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn),w+"  "+D)):(P.push(T.h.insert(new C.L(y.startLineNumber,y.startColumn),w+(x?" ":""))),P.push(T.h.insert(new C.L(y.endLineNumber,y.endColumn),(x?" ":"")+D))),P}getEditOperations(y,w){const D=this._selection.startLineNumber,x=this._selection.startColumn;y.tokenization.tokenizeIfCheap(D);const P=y.getLanguageIdAtPosition(D,x),O=this.languageConfigurationService.getLanguageConfiguration(P).comments;!O||!O.blockCommentStartToken||!O.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,O.blockCommentStartToken,O.blockCommentEndToken,this._insertSpace,y,w)}computeCursorState(y,w){const D=w.getInverseEditOperations();if(2===D.length){const x=D[0],P=D[1];return new E.Y(x.range.endLineNumber,x.range.endColumn,P.range.startLineNumber,P.range.startColumn)}{const x=D[0].range,P=this._usedEndToken?-this._usedEndToken.length-1:0;return new E.Y(x.endLineNumber,x.endColumn+P,x.endLineNumber,x.endColumn+P)}}}var _=e(73879);class s{constructor(y,w,D,x,P,O,V){this.languageConfigurationService=y,this._selection=w,this._tabSize=D,this._type=x,this._insertSpace=P,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=O,this._ignoreFirstLine=V||!1}static _gatherPreflightCommentStrings(y,w,D,x){y.tokenization.tokenizeIfCheap(w);const P=y.getLanguageIdAtPosition(w,1),O=x.getLanguageConfiguration(P).comments,V=O?O.lineCommentToken:null;if(!V)return null;const H=[];for(let z=0,k=D-w+1;z<k;z++)H[z]={ignore:!1,commentStr:V,commentStrOffset:0,commentStrLength:V.length};return H}static _analyzeLines(y,w,D,x,P,O,V,H){let k,z=!0;k=0===y||1!==y;for(let F=0,j=x.length;F<j;F++){const K=x[F],U=P+F;if(U===P&&V){K.ignore=!0;continue}const ne=D.getLineContent(U),N=_.LC(ne);if(-1!==N){if(z=!1,K.ignore=!1,K.commentStrOffset=N,k&&!L._haystackHasNeedleAtOffset(ne,K.commentStr,N)&&(0===y?k=!1:1===y||(K.ignore=!0)),k&&w){const W=N+K.commentStrLength;W<ne.length&&32===ne.charCodeAt(W)&&(K.commentStrLength+=1)}}else K.ignore=O,K.commentStrOffset=ne.length}if(0===y&&z){k=!1;for(let F=0,j=x.length;F<j;F++)x[F].ignore=!1}return{supported:!0,shouldRemoveComments:k,lines:x}}static _gatherPreflightData(y,w,D,x,P,O,V,H){const z=s._gatherPreflightCommentStrings(D,x,P,H);return null===z?{supported:!1}:s._analyzeLines(y,w,D,z,x,O,V,H)}_executeLineComments(y,w,D,x){let P;D.shouldRemoveComments?P=s._createRemoveLineCommentsOperations(D.lines,x.startLineNumber):(s._normalizeInsertionPoint(y,D.lines,x.startLineNumber,this._tabSize),P=this._createAddLineCommentsOperations(D.lines,x.startLineNumber));const O=new C.L(x.positionLineNumber,x.positionColumn);for(let V=0,H=P.length;V<H;V++)w.addEditOperation(P[V].range,P[V].text),l.e.isEmpty(P[V].range)&&l.e.getStartPosition(P[V].range).equals(O)&&y.getLineContent(O.lineNumber).length+1===O.column&&(this._deltaColumn=(P[V].text||"").length);this._selectionId=w.trackSelection(x)}_attemptRemoveBlockComment(y,w,D,x){let P=w.startLineNumber,O=w.endLineNumber;const V=x.length+Math.max(y.getLineFirstNonWhitespaceColumn(w.startLineNumber),w.startColumn);let H=y.getLineContent(P).lastIndexOf(D,V-1),z=y.getLineContent(O).indexOf(x,w.endColumn-1-D.length);return-1!==H&&-1===z&&(z=y.getLineContent(P).indexOf(x,H+D.length),O=P),-1===H&&-1!==z&&(H=y.getLineContent(O).lastIndexOf(D,z),P=O),w.isEmpty()&&(-1===H||-1===z)&&(H=y.getLineContent(P).indexOf(D),-1!==H&&(z=y.getLineContent(P).indexOf(x,H+D.length))),-1!==H&&32===y.getLineContent(P).charCodeAt(H+D.length)&&(D+=" "),-1!==z&&32===y.getLineContent(O).charCodeAt(z-1)&&(x=" "+x,z-=1),-1!==H&&-1!==z?L._createRemoveBlockCommentOperations(new l.e(P,H+D.length+1,O,z+1),D,x):null}_executeBlockComment(y,w,D){y.tokenization.tokenizeIfCheap(D.startLineNumber);const x=y.getLanguageIdAtPosition(D.startLineNumber,1),P=this.languageConfigurationService.getLanguageConfiguration(x).comments;if(!P||!P.blockCommentStartToken||!P.blockCommentEndToken)return;const O=P.blockCommentStartToken,V=P.blockCommentEndToken;let H=this._attemptRemoveBlockComment(y,D,O,V);if(!H){if(D.isEmpty()){const z=y.getLineContent(D.startLineNumber);let k=_.LC(z);-1===k&&(k=z.length),H=L._createAddBlockCommentOperations(new l.e(D.startLineNumber,k+1,D.startLineNumber,z.length+1),O,V,this._insertSpace)}else H=L._createAddBlockCommentOperations(new l.e(D.startLineNumber,y.getLineFirstNonWhitespaceColumn(D.startLineNumber),D.endLineNumber,y.getLineMaxColumn(D.endLineNumber)),O,V,this._insertSpace);1===H.length&&(this._deltaColumn=O.length+1)}this._selectionId=w.trackSelection(D);for(const z of H)w.addEditOperation(z.range,z.text)}getEditOperations(y,w){let D=this._selection;if(this._moveEndPositionDown=!1,D.startLineNumber===D.endLineNumber&&this._ignoreFirstLine)return w.addEditOperation(new l.e(D.startLineNumber,y.getLineMaxColumn(D.startLineNumber),D.startLineNumber+1,1),D.startLineNumber===y.getLineCount()?"":"\n"),void(this._selectionId=w.trackSelection(D));D.startLineNumber<D.endLineNumber&&1===D.endColumn&&(this._moveEndPositionDown=!0,D=D.setEndPosition(D.endLineNumber-1,y.getLineMaxColumn(D.endLineNumber-1)));const x=s._gatherPreflightData(this._type,this._insertSpace,y,D.startLineNumber,D.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return x.supported?this._executeLineComments(y,w,x,D):this._executeBlockComment(y,w,D)}computeCursorState(y,w){let D=w.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(D=D.setEndPosition(D.endLineNumber+1,1)),new E.Y(D.selectionStartLineNumber,D.selectionStartColumn+this._deltaColumn,D.positionLineNumber,D.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(y,w){const D=[];for(let x=0,P=y.length;x<P;x++){const O=y[x];O.ignore||D.push(T.h.delete(new l.e(w+x,O.commentStrOffset+1,w+x,O.commentStrOffset+O.commentStrLength+1)))}return D}_createAddLineCommentsOperations(y,w){const D=[],x=this._insertSpace?" ":"";for(let P=0,O=y.length;P<O;P++){const V=y[P];V.ignore||D.push(T.h.insert(new C.L(w+P,V.commentStrOffset+1),V.commentStr+x))}return D}static nextVisibleColumn(y,w,D,x){return D?y+(w-y%w):y+x}static _normalizeInsertionPoint(y,w,D,x){let O,V,P=1073741824;for(let H=0,z=w.length;H<z;H++){if(w[H].ignore)continue;const k=y.getLineContent(D+H);let F=0;for(let j=0,K=w[H].commentStrOffset;F<P&&j<K;j++)F=s.nextVisibleColumn(F,x,9===k.charCodeAt(j),1);F<P&&(P=F)}P=Math.floor(P/x)*x;for(let H=0,z=w.length;H<z;H++){if(w[H].ignore)continue;const k=y.getLineContent(D+H);let F=0;for(O=0,V=w[H].commentStrOffset;F<P&&O<V;O++)F=s.nextVisibleColumn(F,x,9===k.charCodeAt(O),1);w[H].commentStrOffset=F>P?O-1:O}}}var m=e(55197),c=e(74918);class t extends n.R6{constructor(y,w){super(w),this._type=y}run(y,w){const D=y.get(v.c_);if(!w.hasModel())return;const P=[],O=w.getModel().getOptions(),V=w.getOption(19),H=w.getSelections().map((k,F)=>({selection:k,index:F,ignoreFirstLine:!1}));H.sort((k,F)=>l.e.compareRangesUsingStarts(k.selection,F.selection));let z=H[0];for(let k=1;k<H.length;k++){const F=H[k];z.selection.endLineNumber===F.selection.startLineNumber&&(z.index<F.index?F.ignoreFirstLine=!0:(z.ignoreFirstLine=!0,z=F))}for(const k of H)P.push(new s(D,k.selection,O.tabSize,this._type,V.insertSpace,V.ignoreEmptyLines,k.ignoreFirstLine));w.pushUndoStop(),w.executeCommands(this.id,P),w.pushUndoStop()}}(0,n.Qr)(class a extends t{constructor(){super(0,{id:"editor.action.commentLine",label:m.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:c.eH.MenubarEditMenu,group:"5_insert",title:m.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,n.Qr)(class p extends t{constructor(){super(1,{id:"editor.action.addCommentLine",label:m.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:(0,d.gx)(2089,2081),weight:100}})}}),(0,n.Qr)(class u extends t{constructor(){super(2,{id:"editor.action.removeCommentLine",label:m.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:(0,d.gx)(2089,2099),weight:100}})}}),(0,n.Qr)(class g extends n.R6{constructor(){super({id:"editor.action.blockComment",label:m.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:c.eH.MenubarEditMenu,group:"5_insert",title:m.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(y,w){const D=y.get(v.c_);if(!w.hasModel())return;const x=w.getOption(19),P=[],O=w.getSelections();for(const V of O)P.push(new L(V,x.insertSpace,D));w.pushUndoStop(),w.executeCommands(this.id,P),w.pushUndoStop()}})},89427:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{ContextMenuController:()=>p});var d=e(98463),n=e(34872),l=e(827),S=e(80142),v=e(8841),T=e(26845),C=e(82290),E=e(55197),L=e(74918),_=e(16468),s=e(50703),m=e(14759),c=e(94667),a=function(g,b){return function(y,w){b(y,w,g)}};let p=class hc{constructor(b,y,w,D,x,P,O){this._contextMenuService=y,this._contextViewService=w,this._contextKeyService=D,this._keybindingService=x,this._menuService=P,this._configurationService=O,this._toDispose=new S.SL,this._contextMenuIsBeingShownCount=0,this._editor=b,this._toDispose.add(this._editor.onContextMenu(V=>this._onContextMenu(V))),this._toDispose.add(this._editor.onMouseWheel(V=>{if(this._contextMenuIsBeingShownCount>0){const H=this._contextViewService.getContextViewElement(),z=V.srcElement;z.shadowRoot&&d.Ay(H)===z.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(V=>{!this._editor.getOption(20)||58===V.keyCode&&(V.preventDefault(),V.stopPropagation(),this.showContextMenu())}))}static get(b){return b.getContribution(hc.ID)}_onContextMenu(b){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(b.target.position&&!this._editor.getSelection().containsPosition(b.target.position)&&this._editor.setPosition(b.target.position));if(12===b.target.type||6===b.target.type&&b.target.detail.injectedText)return;if(b.event.preventDefault(),b.event.stopPropagation(),11===b.target.type)return this._showScrollbarContextMenu({x:b.event.posx-1,width:2,y:b.event.posy-1,height:2});if(6!==b.target.type&&7!==b.target.type&&1!==b.target.type)return;if(this._editor.focus(),b.target.position){let w=!1;for(const D of this._editor.getSelections())if(D.containsPosition(b.target.position)){w=!0;break}w||this._editor.setPosition(b.target.position)}let y=null;1!==b.target.type&&(y={x:b.event.posx-1,width:2,y:b.event.posy-1,height:2}),this.showContextMenu(y)}showContextMenu(b){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const y=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?L.eH.SimpleEditorContext:L.eH.EditorContext);y.length>0&&this._doShowContextMenu(y,b)}_getMenuActions(b,y){const w=[],D=this._menuService.createMenu(y,this._contextKeyService),x=D.getActions({arg:b.uri});D.dispose();for(const P of x){const[,O]=P;let V=0;for(const H of O)if(H instanceof L.NZ){const z=this._getMenuActions(b,H.item.submenu);z.length>0&&(w.push(new l.wY(H.id,H.label,z)),V++)}else w.push(H),V++;V&&w.push(new l.Z0)}return w.length&&w.pop(),w}_doShowContextMenu(b,y=null){if(!this._editor.hasModel())return;const w=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!y){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const x=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),P=d.i(this._editor.getDomNode());y={x:P.left+x.left,y:P.top+x.top+x.height}}const D=this._editor.getOption(117)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:D?this._editor.getDomNode():void 0,getAnchor:()=>y,getActions:()=>b,getActionViewItem:x=>{const P=this._keybindingFor(x);return P?new n.g(x,x,{label:!0,keybinding:P.getLabel(),isMenu:!0}):"function"==typeof x.getActionViewItem?x.getActionViewItem():new n.g(x,x,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:x=>this._keybindingFor(x),onHide:x=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:w})}})}_showScrollbarContextMenu(b){if(!this._editor.hasModel())return;const y=this._editor.getOption(67);let w=0;const D=H=>({id:"menu-action-"+ ++w,label:H.label,tooltip:"",class:void 0,enabled:typeof H.enabled>"u"||H.enabled,checked:H.checked,run:H.run,dispose:()=>null}),P=(H,z,k,F,j)=>{if(!z)return D({label:H,enabled:z,run:()=>{}});const K=ne=>()=>{this._configurationService.updateValue(k,ne)},U=[];for(const ne of j)U.push(D({label:ne.label,checked:F===ne.value,run:K(ne.value)}));return((H,z)=>new l.wY("menu-action-"+ ++w,H,z,void 0))(H,U)},O=[];O.push(D({label:E.NC("context.minimap.minimap","Minimap"),checked:y.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!y.enabled)}})),O.push(new l.Z0),O.push(D({label:E.NC("context.minimap.renderCharacters","Render Characters"),enabled:y.enabled,checked:y.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!y.renderCharacters)}})),O.push(P(E.NC("context.minimap.size","Vertical size"),y.enabled,"editor.minimap.size",y.size,[{label:E.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:E.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:E.NC("context.minimap.size.fit","Fit"),value:"fit"}])),O.push(P(E.NC("context.minimap.slider","Slider"),y.enabled,"editor.minimap.showSlider",y.showSlider,[{label:E.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:E.NC("context.minimap.slider.always","Always"),value:"always"}]));const V=this._editor.getOption(117)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:V?this._editor.getDomNode():void 0,getAnchor:()=>b,getActions:()=>O,onHide:H=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(b){return this._keybindingService.lookupKeybinding(b.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};p.ID="editor.contrib.contextmenu",p=function(g,b,y,w){var P,D=arguments.length,x=D<3?b:null===w?w=Object.getOwnPropertyDescriptor(b,y):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(g,b,y,w);else for(var O=g.length-1;O>=0;O--)(P=g[O])&&(x=(D<3?P(x):D>3?P(b,y,x):P(b,y))||x);return D>3&&x&&Object.defineProperty(b,y,x),x}([a(1,s.i),a(2,s.u),a(3,_.i6),a(4,m.d),a(5,L.co),a(6,c.Ui)],p),(0,T._K)(p.ID,p),(0,T.Qr)(class u extends T.R6{constructor(){super({id:"editor.action.showContextMenu",label:E.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:C.u.textInputFocus,primary:1092,weight:100}})}run(b,y){var w;null===(w=p.get(y))||void 0===w||w.showContextMenu()}})},98590:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(26845),n=e(61904),l=e(67719),S=e(98463),v=e(48648),T=e(1187),C=e(80142),E=e(34189),L=e(15067),_=e(78812),s=e(61560),m=e(98570),c=e(90790),t=e(18623),a=e(31583),p=e(61254),u=e(25787),g=e(94667),y=function(H,z){return function(k,F){z(k,F,H)}},w=function(H,z,k,F){return new(k||(k=Promise))(function(K,U){function ne(Z){try{W(F.next(Z))}catch(ge){U(ge)}}function N(Z){try{W(F.throw(Z))}catch(ge){U(ge)}}function W(Z){Z.done?K(Z.value):function j(K){return K instanceof k?K:new k(function(U){U(K)})}(Z.value).then(ne,N)}W((F=F.apply(H,z||[])).next())})};const D="application/vnd.code.copyMetadata";let x=class extends C.JT{constructor(z,k,F,j,K){super(),this._bulkEditService=k,this._clipboardService=F,this._configurationService=j,this._languageFeaturesService=K,this._editor=z;const U=z.getContainerDomNode();this._register((0,S.nm)(U,"copy",ne=>this.handleCopy(ne))),this._register((0,S.nm)(U,"cut",ne=>this.handleCopy(ne))),this._register((0,S.nm)(U,"paste",ne=>this.handlePaste(ne),!0))}arePasteActionsEnabled(z){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:z.uri})}handleCopy(z){var k;if(!z.clipboardData||!this._editor.hasTextFocus())return;const F=this._editor.getModel(),j=this._editor.getSelections();if(!F||!j?.length||!this.arePasteActionsEnabled(F))return;const K=[...j],U=j[0],ne=U.isEmpty();if(ne){if(!this._editor.getOption(33))return;K[0]=new m.e(U.startLineNumber,0,U.startLineNumber,F.getLineLength(U.startLineNumber))}const N=this._languageFeaturesService.documentPasteEditProvider.ordered(F).filter(M=>!!M.prepareDocumentPaste);if(!N.length)return void this.setCopyMetadata(z.clipboardData,{wasFromEmptySelection:ne});const W=(0,_.Bo)(z.clipboardData),Z=(0,L.R)();this.setCopyMetadata(z.clipboardData,{id:Z,wasFromEmptySelection:ne});const ge=(0,v.PG)(M=>w(this,void 0,void 0,function*(){const we=yield Promise.all(N.map(Ee=>Ee.prepareDocumentPaste(F,K,W,M)));for(const Ee of we)Ee?.forEach((xe,Ne)=>{W.replace(Ne,xe)});return W}));null===(k=this._currentClipboardItem)||void 0===k||k.dataTransferPromise.cancel(),this._currentClipboardItem={handle:Z,dataTransferPromise:ge}}setCopyMetadata(z,k){z.setData(D,JSON.stringify(k))}handlePaste(z){var k,F,j;return w(this,void 0,void 0,function*(){if(!z.clipboardData||!this._editor.hasTextFocus())return;const K=this._editor.getSelections();if(!K?.length||!this._editor.hasModel())return;const U=this._editor.getModel();if(!this.arePasteActionsEnabled(U))return;let ne;const N=null===(k=z.clipboardData)||void 0===k?void 0:k.getData(D);N&&"string"==typeof N&&(ne=JSON.parse(N));const W=this._languageFeaturesService.documentPasteEditProvider.ordered(U);if(!W.length)return;z.preventDefault(),z.stopImmediatePropagation();const Z=U.getVersionId(),ge=new t.Dl(this._editor,3);try{const M=(0,_.Bo)(z.clipboardData);if(ne?.id&&(null===(F=this._currentClipboardItem)||void 0===F?void 0:F.handle)===ne.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((Ne,oe)=>{M.replace(oe,Ne)}),!M.has(E.v.uriList)){const xe=yield this._clipboardService.readResources();xe.length&&M.append(E.v.uriList,(0,T.ZO)(_.Z0.create(xe)))}M.delete(D);for(const xe of W){if(!xe.pasteMimeTypes.some(oe=>oe.toLowerCase()===l.g.FILES.toLowerCase()?[...M.values()].some(Se=>Se.asFile()):M.has(oe)))continue;const Ne=yield xe.provideDocumentPasteEdits(U,K,M,ge.token);if(Z!==U.getVersionId())return;if(Ne)return(0,a.performSnippetEdit)(this._editor,"string"==typeof Ne.insertText?p.Yj.escape(Ne.insertText):Ne.insertText.snippet,K),void(Ne.additionalEdit&&(yield this._bulkEditService.apply(s.fo.convert(Ne.additionalEdit),{editor:this._editor})))}const we=null!==(j=M.get(E.v.text))&&void 0!==j?j:M.get("text");if(!we)return;const Ee=yield we.asString();if(Z!==U.getVersionId())return;this._editor.trigger("keyboard","paste",{text:Ee,pasteOnNewLine:ne?.wasFromEmptySelection,multicursorText:null})}finally{ge.dispose()}})}};x.ID="editor.contrib.copyPasteActionController",x=function(H,z,k,F){var U,j=arguments.length,K=j<3?z:null===F?F=Object.getOwnPropertyDescriptor(z,k):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(H,z,k,F);else for(var ne=H.length-1;ne>=0;ne--)(U=H[ne])&&(K=(j<3?U(K):j>3?U(z,k,K):U(z,k))||K);return j>3&&K&&Object.defineProperty(z,k,K),K}([y(1,s.vu),y(2,u.p),y(3,g.Ui),y(4,c.p)],x);var P=e(55197),O=e(29093),V=e(4259);(0,d._K)(x.ID,x),V.B.as(O.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},n.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:P.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},44266:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CursorRedo:()=>L,CursorUndo:()=>E,CursorUndoRedoController:()=>C});var d=e(80142),n=e(26845),l=e(82290),S=e(55197);class v{constructor(s){this.selections=s}equals(s){const m=this.selections.length;if(m!==s.selections.length)return!1;for(let t=0;t<m;t++)if(!this.selections[t].equalsSelection(s.selections[t]))return!1;return!0}}class T{constructor(s,m,c){this.cursorState=s,this.scrollTop=m,this.scrollLeft=c}}let C=(()=>{class _ extends d.JT{constructor(m){super(),this._editor=m,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(m.onDidChangeModel(c=>{this._undoStack=[],this._redoStack=[]})),this._register(m.onDidChangeModelContent(c=>{this._undoStack=[],this._redoStack=[]})),this._register(m.onDidChangeCursorSelection(c=>{if(this._isCursorUndoRedo||!c.oldSelections||c.oldModelVersionId!==c.modelVersionId)return;const t=new v(c.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new T(t,m.getScrollTop(),m.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(m){return m.getContribution(_.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new T(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new T(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(m){this._isCursorUndoRedo=!0,this._editor.setSelections(m.cursorState.selections),this._editor.setScrollPosition({scrollTop:m.scrollTop,scrollLeft:m.scrollLeft}),this._isCursorUndoRedo=!1}}return _.ID="editor.contrib.cursorUndoRedoController",_})();class E extends n.R6{constructor(){super({id:"cursorUndo",label:S.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:l.u.textInputFocus,primary:2099,weight:100}})}run(s,m,c){var t;null===(t=C.get(m))||void 0===t||t.cursorUndo()}}class L extends n.R6{constructor(){super({id:"cursorRedo",label:S.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(s,m,c){var t;null===(t=C.get(m))||void 0===t||t.cursorRedo()}}(0,n._K)(C.ID,C),(0,n.Qr)(E),(0,n.Qr)(L)},77993:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{DragAndDropController:()=>V});var d=e(80142),n=e(8841),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),t=e.n(c),a=e(1158),p={};p.styleTagTransform=t(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p);var b=e(26845),y=e(18723),w=e(98570),D=e(7233),x=e(59758);class P{constructor(z,k,F){this.selection=z,this.targetPosition=k,this.copy=F,this.targetSelection=null}getEditOperations(z,k){const F=z.getValueInRange(this.selection);this.copy||k.addEditOperation(this.selection,null),k.addEditOperation(new w.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),F),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new D.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new D.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new D.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new D.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new D.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(z,k){return this.targetSelection}}function O(H){return n.dz?H.altKey:H.ctrlKey}class V extends d.JT{constructor(z){super(),this._editor=z,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(k=>this._onEditorMouseDown(k))),this._register(this._editor.onMouseUp(k=>this._onEditorMouseUp(k))),this._register(this._editor.onMouseDrag(k=>this._onEditorMouseDrag(k))),this._register(this._editor.onMouseDrop(k=>this._onEditorMouseDrop(k))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(k=>this.onEditorKeyDown(k))),this._register(this._editor.onKeyUp(k=>this.onEditorKeyUp(k))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(z){!this._editor.getOption(31)||this._editor.getOption(18)||(O(z)&&(this._modifierPressed=!0),this._mouseDown&&O(z)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(z){!this._editor.getOption(31)||this._editor.getOption(18)||(O(z)&&(this._modifierPressed=!1),this._mouseDown&&z.keyCode===V.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(z){this._mouseDown=!0}_onEditorMouseUp(z){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(z){const k=z.target;if(null===this._dragSelection){const j=(this._editor.getSelections()||[]).filter(K=>k.position&&K.containsPosition(k.position));if(1!==j.length)return;this._dragSelection=j[0]}O(z.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),k.position&&(this._dragSelection.containsPosition(k.position)?this._removeDecoration():this.showAt(k.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(z){if(z.target&&(this._hitContent(z.target)||this._hitMargin(z.target))&&z.target.position){const k=new y.L(z.target.position.lineNumber,z.target.position.column);if(null===this._dragSelection){let F=null;if(z.event.shiftKey){const j=this._editor.getSelection();if(j){const{selectionStartLineNumber:K,selectionStartColumn:U}=j;F=[new D.Y(K,U,k.lineNumber,k.column)]}}else F=(this._editor.getSelections()||[]).map(j=>j.containsPosition(k)?new D.Y(k.lineNumber,k.column,k.lineNumber,k.column):j);this._editor.setSelections(F||[],"mouse",3)}else(!this._dragSelection.containsPosition(k)||(O(z.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(k)||this._dragSelection.getStartPosition().equals(k)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(V.ID,new P(this._dragSelection,k,O(z.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(z){this._dndDecorationIds.set([{range:new w.e(z.lineNumber,z.column,z.lineNumber,z.column),options:V._DECORATION_OPTIONS}]),this._editor.revealPosition(z,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(z){return 6===z.type||7===z.type}_hitMargin(z){return 2===z.type||3===z.type||4===z.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}V.ID="editor.contrib.dragAndDrop",V.TRIGGER_KEY_VALUE=n.dz?6:5,V._DECORATION_OPTIONS=x.qx.register({description:"dnd-target",className:"dnd-target"}),(0,b._K)(V.ID,V)},70466:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(73888),n=e(72715),l=e(59547),S=e(1149),v=e(55276),T=e(66549);T.P0.registerCommand("_executeDocumentSymbolProvider",function(E,...L){return function(E,L,_,s){return new(_||(_=Promise))(function(c,t){function a(g){try{u(s.next(g))}catch(b){t(b)}}function p(g){try{u(s.throw(g))}catch(b){t(b)}}function u(g){g.done?c(g.value):function m(c){return c instanceof _?c:new _(function(t){t(c)})}(g.value).then(a,p)}u((s=s.apply(E,L||[])).next())})}(this,void 0,void 0,function*(){const[_]=L;(0,n.p_)(l.o.isUri(_));const s=E.get(v.Je),c=yield E.get(S.S).createModelReference(_);try{return(yield s.getOrCreate(c.object.textEditorModel,d.T.None)).getTopLevelSymbols()}finally{c.dispose()}})})},55276:(Dt,Y,e)=>{"use strict";e.d(Y,{C3:()=>y,Je:()=>w,sT:()=>g});var d=e(64023),n=e(73888),l=e(4125),S=e(1999),v=e(5067),T=e(18723),C=e(98570),E=e(79095),L=e(9265),_=e(47494),s=e(59602),m=e(80142),c=e(90790),a=function(x,P){return function(O,V){P(O,V,x)}};class u{remove(){var P;null===(P=this.parent)||void 0===P||P.children.delete(this.id)}static findId(P,O){let V;"string"==typeof P?V=`${O.id}/${P}`:(V=`${O.id}/${P.name}`,void 0!==O.children.get(V)&&(V=`${O.id}/${P.name}_${P.range.startLineNumber}_${P.range.startColumn}`));let H=V;for(let z=0;void 0!==O.children.get(H);z++)H=`${V}_${z}`;return H}static empty(P){return 0===P.children.size}}class g extends u{constructor(P,O,V){super(),this.id=P,this.parent=O,this.symbol=V,this.children=new Map}}class b extends u{constructor(P,O,V,H){super(),this.id=P,this.parent=O,this.label=V,this.order=H,this.children=new Map}}class y extends u{constructor(P){super(),this.uri=P,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(P,O,V){const H=new n.A(V),z=new y(O.uri),k=P.ordered(O),F=k.map((K,U)=>{var ne;const N=u.findId(`provider_${U}`,z),W=new b(N,z,null!==(ne=K.displayName)&&void 0!==ne?ne:"Unknown Outline Provider",U);return Promise.resolve(K.provideDocumentSymbols(O,H.token)).then(Z=>{for(const ge of Z||[])y._makeOutlineElement(ge,W);return W},Z=>((0,l.Cp)(Z),W)).then(Z=>{u.empty(Z)?Z.remove():z._groups.set(N,Z)})}),j=P.onDidChange(()=>{const K=P.ordered(O);(0,d.fS)(K,k)||H.cancel()});return Promise.all(F).then(()=>H.token.isCancellationRequested&&!V.isCancellationRequested?y.create(P,O,V):z._compact()).finally(()=>{j.dispose()})}static _makeOutlineElement(P,O){const V=u.findId(P,O),H=new g(V,O,P);if(P.children)for(const z of P.children)y._makeOutlineElement(z,H);O.children.set(H.id,H)}_compact(){let P=0;for(const[O,V]of this._groups)0===V.children.size?this._groups.delete(O):P+=1;if(1!==P)this.children=this._groups;else{const O=S.$.first(this._groups.values());for(const[,V]of O.children)V.parent=this,this.children.set(V.id,V)}return this}getTopLevelSymbols(){const P=[];for(const O of this.children.values())O instanceof g?P.push(O.symbol):P.push(...S.$.map(O.children.values(),V=>V.symbol));return P.sort((O,V)=>C.e.compareRangesUsingStarts(O.range,V.range))}asListOfDocumentSymbols(){const P=this.getTopLevelSymbols(),O=[];return y._flattenDocumentSymbols(O,P,""),O.sort((V,H)=>T.L.compare(C.e.getStartPosition(V.range),C.e.getStartPosition(H.range))||T.L.compare(C.e.getEndPosition(H.range),C.e.getEndPosition(V.range)))}static _flattenDocumentSymbols(P,O,V){for(const H of O)P.push({kind:H.kind,tags:H.tags,name:H.name,detail:H.detail,containerName:H.containerName||V,range:H.range,selectionRange:H.selectionRange,children:void 0}),H.children&&y._flattenDocumentSymbols(P,H.children,H.name)}}const w=(0,L.yh)("IOutlineModelService");let D=class{constructor(P,O,V){this._languageFeaturesService=P,this._disposables=new m.SL,this._cache=new v.z6(10,.7),this._debounceInformation=O.for(P.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(V.onModelRemoved(H=>{this._cache.delete(H.id)}))}dispose(){this._disposables.dispose()}getOrCreate(P,O){return function(x,P,O,V){return new(O||(O=Promise))(function(z,k){function F(U){try{K(V.next(U))}catch(ne){k(ne)}}function j(U){try{K(V.throw(U))}catch(ne){k(ne)}}function K(U){U.done?z(U.value):function H(z){return z instanceof O?z:new O(function(k){k(z)})}(U.value).then(F,j)}K((V=V.apply(x,P||[])).next())})}(this,void 0,void 0,function*(){const V=this._languageFeaturesService.documentSymbolProvider,H=V.ordered(P);let z=this._cache.get(P.id);if(!z||z.versionId!==P.getVersionId()||!(0,d.fS)(z.provider,H)){const F=new n.A;z={versionId:P.getVersionId(),provider:H,promiseCnt:0,source:F,promise:y.create(V,P,F.token),model:void 0},this._cache.set(P.id,z);const j=Date.now();z.promise.then(K=>{z.model=K,this._debounceInformation.update(P,Date.now()-j)}).catch(K=>{this._cache.delete(P.id)})}if(z.model)return z.model;z.promiseCnt+=1;const k=O.onCancellationRequested(()=>{0==--z.promiseCnt&&(z.source.cancel(),this._cache.delete(P.id))});try{return yield z.promise}finally{k.dispose()}})}};D=function(x,P,O,V){var k,H=arguments.length,z=H<3?P:null===V?V=Object.getOwnPropertyDescriptor(P,O):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(x,P,O,V);else for(var F=x.length-1;F>=0;F--)(k=x[F])&&(z=(H<3?k(z):H>3?k(P,O,z):k(P,O))||z);return H>3&&z&&Object.defineProperty(P,O,z),z}([a(0,c.p),a(1,E.A),a(2,s.q)],D),(0,_.z)(w,D,!0)},32402:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{DropIntoEditorController:()=>D});var d=e(48648),n=e(1187),l=e(80142),S=e(34189),v=e(40734),T=e(59547),C=e(78812),E=e(26845),L=e(61560),_=e(98570),s=e(7233),m=e(90790),c=e(18623),t=e(31583),a=e(61254),p=e(55197),u=e(55538),g=e(24596),b=function(P,O,V,H){var F,z=arguments.length,k=z<3?O:null===H?H=Object.getOwnPropertyDescriptor(O,V):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(P,O,V,H);else for(var j=P.length-1;j>=0;j--)(F=P[j])&&(k=(z<3?F(k):z>3?F(O,V,k):F(O,V))||k);return z>3&&k&&Object.defineProperty(O,V,k),k},y=function(P,O){return function(V,H){O(V,H,P)}},w=function(P,O,V,H){return new(V||(V=Promise))(function(k,F){function j(ne){try{U(H.next(ne))}catch(N){F(N)}}function K(ne){try{U(H.throw(ne))}catch(N){F(N)}}function U(ne){ne.done?k(ne.value):function z(k){return k instanceof V?k:new V(function(F){F(k)})}(ne.value).then(j,K)}U((H=H.apply(P,O||[])).next())})};let D=class extends l.JT{constructor(O,V,H,z,k){super(),this._bulkEditService=V,this._languageFeaturesService=H,this._progressService=z,this._register(O.onDropIntoEditor(F=>this.onDropIntoEditor(O,F.position,F.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new x(k))}onDropIntoEditor(O,V,H){return w(this,void 0,void 0,function*(){if(!H.dataTransfer||!O.hasModel())return;const z=O.getModel(),k=z.getVersionId(),F=yield this.extractDataTransferData(H);if(0===F.size||O.getModel().getVersionId()!==k)return;const j=new c.Dl(O,1);try{const K=this._languageFeaturesService.documentOnDropEditProvider.ordered(z),U=yield this._progressService.withProgress({location:15,delay:750,title:(0,p.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,d.eP)((()=>w(this,void 0,void 0,function*(){for(const ne of K){const N=yield ne.provideDocumentOnDropEdits(z,V,F,j.token);if(j.token.isCancellationRequested)return;if(N)return N}}))(),j.token),()=>{j.cancel()});if(j.token.isCancellationRequested||O.getModel().getVersionId()!==k)return;if(U){const ne=new _.e(V.lineNumber,V.column,V.lineNumber,V.column);return(0,t.performSnippetEdit)(O,"string"==typeof U.insertText?a.Yj.escape(U.insertText):U.insertText.snippet,[s.Y.fromRange(ne,0)]),void(U.additionalEdit&&(yield this._bulkEditService.apply(L.fo.convert(U.additionalEdit),{editor:O})))}}finally{j.dispose()}})}extractDataTransferData(O){return w(this,void 0,void 0,function*(){if(!O.dataTransfer)return new n.Hl;const V=(0,C.Bo)(O.dataTransfer);return(0,C.dR)(V,O),V})}};D.ID="editor.contrib.dropIntoEditorController",D=b([y(1,L.vu),y(2,m.p),y(3,u.R9),y(4,g.ec)],D);let x=class{constructor(O){this._workspaceContextService=O}provideDocumentOnDropEdits(O,V,H,z){var k;return w(this,void 0,void 0,function*(){const F=H.get(S.v.uriList);if(F){const K=yield F.asString(),U=this.getUriListInsertText(K);if(U)return{insertText:U}}const j=null!==(k=H.get("text"))&&void 0!==k?k:H.get(S.v.text);if(j)return{insertText:yield j.asString()}})}getUriListInsertText(O){const V=[];for(const H of C.Z0.parse(O))try{V.push(T.o.parse(H))}catch{}if(V.length)return V.map(H=>{const z=this._workspaceContextService.getWorkspaceFolder(H);if(z){const k=(0,v.lX)(z.uri,H);if(k)return k}return H.fsPath}).join(" ")}};x=b([y(0,g.ec)],x),(0,E._K)(D.ID,D)},18623:(Dt,Y,e)=>{"use strict";e.d(Y,{yy:()=>t,Dl:()=>a,YQ:()=>p});var d=e(73879),n=e(98570),l=e(73888),S=e(80142),v=e(26845),T=e(16468),C=e(85739),E=e(9265),L=e(47494),_=e(55197);const s=(0,E.yh)("IEditorCancelService"),m=new T.uy("cancellableOperation",!1,(0,_.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,L.z)(s,class{constructor(){this._tokens=new WeakMap}add(u,g){let y,b=this._tokens.get(u);return b||(b=u.invokeWithinContext(w=>({key:m.bindTo(w.get(T.i6)),tokens:new C.S})),this._tokens.set(u,b)),b.key.set(!0),y=b.tokens.push(g),()=>{y&&(y(),b.key.set(!b.tokens.isEmpty()),y=void 0)}}cancel(u){const g=this._tokens.get(u);if(!g)return;const b=g.tokens.pop();b&&(b.cancel(),g.key.set(!g.tokens.isEmpty()))}},!0);class c extends l.A{constructor(g,b){super(b),this.editor=g,this._unregister=g.invokeWithinContext(y=>y.get(s).add(g,this))}dispose(){this._unregister(),super.dispose()}}(0,v.fK)(new class extends v._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:m})}runEditorCommand(u,g){u.get(s).cancel(g)}});class t{constructor(g,b){if(this.flags=b,0!=(1&this.flags)){const y=g.getModel();this.modelVersionId=y?d.WU("{0}#{1}",y.uri.toString(),y.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?g.getPosition():null,this.selection=0!=(2&this.flags)?g.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=g.getScrollLeft(),this.scrollTop=g.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(g){if(!(g instanceof t))return!1;const b=g;return!(this.modelVersionId!==b.modelVersionId||this.scrollLeft!==b.scrollLeft||this.scrollTop!==b.scrollTop||!this.position&&b.position||this.position&&!b.position||this.position&&b.position&&!this.position.equals(b.position)||!this.selection&&b.selection||this.selection&&!b.selection||this.selection&&b.selection&&!this.selection.equalsRange(b.selection))}validate(g){return this._equals(new t(g,this.flags))}}class a extends c{constructor(g,b,y,w){super(g,w),this._listener=new S.SL,4&b&&this._listener.add(g.onDidChangeCursorPosition(D=>{(!y||!n.e.containsPosition(y,D.position))&&this.cancel()})),2&b&&this._listener.add(g.onDidChangeCursorSelection(D=>{(!y||!n.e.containsRange(y,D.selection))&&this.cancel()})),8&b&&this._listener.add(g.onDidScrollChange(D=>this.cancel())),1&b&&(this._listener.add(g.onDidChangeModel(D=>this.cancel())),this._listener.add(g.onDidChangeModelContent(D=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class p extends l.A{constructor(g,b){super(b),this._listener=g.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},88014:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CommonFindController:()=>Li,FindController:()=>Qi,MatchFindAction:()=>mo,NextMatchFindAction:()=>Ko,NextSelectionMatchFindAction:()=>Io,PreviousMatchFindAction:()=>Eo,PreviousSelectionMatchFindAction:()=>Yi,SelectionMatchFindAction:()=>Mo,StartFindAction:()=>Pi,StartFindReplaceAction:()=>ho,StartFindWithArgsAction:()=>Wi,StartFindWithSelectionAction:()=>ro,getSelectionSearchString:()=>wi});var d=e(48648),n=e(80142),l=e(73879),S=e(26845),v=e(82290),T=e(64023),C=e(22599),E=e(18723),L=e(98570),_=e(7233),s=e(56952),m=e(47629),c=e(59758),t=e(4062),a=e(40902);class p{constructor(Xt){this._editor=Xt,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const Xt=this._findScopeDecorationIds.map(kt=>this._editor.getModel().getDecorationRange(kt)).filter(kt=>!!kt);if(Xt.length)return Xt}return null}getStartPosition(){return this._startPosition}setStartPosition(Xt){this._startPosition=Xt,this.setCurrentFindMatch(null)}_getDecorationIndex(Xt){const kt=this._decorations.indexOf(Xt);return kt>=0?kt+1:1}getCurrentMatchesPosition(Xt){const kt=this._editor.getModel().getDecorationsInRange(Xt);for(const un of kt){const Rn=un.options;if(Rn===p._FIND_MATCH_DECORATION||Rn===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(un.id)}return 0}setCurrentFindMatch(Xt){let kt=null,un=0;if(Xt)for(let Rn=0,Wn=this._decorations.length;Rn<Wn;Rn++){const dn=this._editor.getModel().getDecorationRange(this._decorations[Rn]);if(Xt.equalsRange(dn)){kt=this._decorations[Rn],un=Rn+1;break}}return(null!==this._highlightedDecorationId||null!==kt)&&this._editor.changeDecorations(Rn=>{if(null!==this._highlightedDecorationId&&(Rn.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==kt&&(this._highlightedDecorationId=kt,Rn.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(Rn.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==kt){let Wn=this._editor.getModel().getDecorationRange(kt);if(Wn.startLineNumber!==Wn.endLineNumber&&1===Wn.endColumn){const dn=Wn.endLineNumber-1,ft=this._editor.getModel().getLineMaxColumn(dn);Wn=new L.e(Wn.startLineNumber,Wn.startColumn,dn,ft)}this._rangeHighlightDecorationId=Rn.addDecoration(Wn,p._RANGE_HIGHLIGHT_DECORATION)}}),un}set(Xt,kt){this._editor.changeDecorations(un=>{let Rn=p._FIND_MATCH_DECORATION;const Wn=[];if(Xt.length>1e3){Rn=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const ft=this._editor.getModel().getLineCount(),tn=this._editor.getLayoutInfo().height/ft,xn=Math.max(2,Math.ceil(3/tn));let Pn=Xt[0].range.startLineNumber,En=Xt[0].range.endLineNumber;for(let ut=1,Pt=Xt.length;ut<Pt;ut++){const Ht=Xt[ut].range;En+xn>=Ht.startLineNumber?Ht.endLineNumber>En&&(En=Ht.endLineNumber):(Wn.push({range:new L.e(Pn,1,En,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Pn=Ht.startLineNumber,En=Ht.endLineNumber)}Wn.push({range:new L.e(Pn,1,En,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const dn=new Array(Xt.length);for(let ft=0,sn=Xt.length;ft<sn;ft++)dn[ft]={range:Xt[ft].range,options:Rn};this._decorations=un.deltaDecorations(this._decorations,dn),this._overviewRulerApproximateDecorations=un.deltaDecorations(this._overviewRulerApproximateDecorations,Wn),this._rangeHighlightDecorationId&&(un.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(ft=>un.removeDecoration(ft)),this._findScopeDecorationIds=[]),kt?.length&&(this._findScopeDecorationIds=kt.map(ft=>un.addDecoration(ft,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(Xt){if(0===this._decorations.length)return null;for(let kt=this._decorations.length-1;kt>=0;kt--){const un=this._decorations[kt],Rn=this._editor.getModel().getDecorationRange(un);if(Rn&&!(Rn.endLineNumber>Xt.lineNumber)){if(Rn.endLineNumber<Xt.lineNumber)return Rn;if(!(Rn.endColumn>Xt.column))return Rn}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(Xt){if(0===this._decorations.length)return null;for(let kt=0,un=this._decorations.length;kt<un;kt++){const Rn=this._decorations[kt],Wn=this._editor.getModel().getDecorationRange(Rn);if(Wn&&!(Wn.startLineNumber<Xt.lineNumber)){if(Wn.startLineNumber>Xt.lineNumber)return Wn;if(!(Wn.startColumn<Xt.column))return Wn}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let Xt=[];return Xt=Xt.concat(this._decorations),Xt=Xt.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&Xt.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&Xt.push(this._rangeHighlightDecorationId),Xt}}p._CURRENT_FIND_MATCH_DECORATION=c.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(t.Fm_),position:m.sh.Center},minimap:{color:(0,a.EN)(t.SUY),position:m.F5.Inline}}),p._FIND_MATCH_DECORATION=c.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(t.Fm_),position:m.sh.Center},minimap:{color:(0,a.EN)(t.SUY),position:m.F5.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=c.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=c.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,a.EN)(t.Fm_),position:m.sh.Center}}),p._RANGE_HIGHLIGHT_DECORATION=c.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=c.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class u{constructor(Xt,kt,un){this._editorSelection=Xt,this._ranges=kt,this._replaceStrings=un,this._trackedEditorSelectionId=null}getEditOperations(Xt,kt){if(this._ranges.length>0){const un=[];for(let dn=0;dn<this._ranges.length;dn++)un.push({range:this._ranges[dn],text:this._replaceStrings[dn]});un.sort((dn,ft)=>L.e.compareRangesUsingStarts(dn.range,ft.range));const Rn=[];let Wn=un[0];for(let dn=1;dn<un.length;dn++)Wn.range.endLineNumber===un[dn].range.startLineNumber&&Wn.range.endColumn===un[dn].range.startColumn?(Wn.range=Wn.range.plusRange(un[dn].range),Wn.text=Wn.text+un[dn].text):(Rn.push(Wn),Wn=un[dn]);Rn.push(Wn);for(const dn of Rn)kt.addEditOperation(dn.range,dn.text)}this._trackedEditorSelectionId=kt.trackSelection(this._editorSelection)}computeCursorState(Xt,kt){return kt.getTrackedSelection(this._trackedEditorSelectionId)}}function g(li,Xt){if(li&&""!==li[0]){const kt=b(li,Xt,"-"),un=b(li,Xt,"_");return kt&&!un?y(li,Xt,"-"):!kt&&un?y(li,Xt,"_"):li[0].toUpperCase()===li[0]?Xt.toUpperCase():li[0].toLowerCase()===li[0]?Xt.toLowerCase():l.Kw(li[0][0])&&Xt.length>0?Xt[0].toUpperCase()+Xt.substr(1):li[0][0].toUpperCase()!==li[0][0]&&Xt.length>0?Xt[0].toLowerCase()+Xt.substr(1):Xt}return Xt}function b(li,Xt,kt){return-1!==li[0].indexOf(kt)&&-1!==Xt.indexOf(kt)&&li[0].split(kt).length===Xt.split(kt).length}function y(li,Xt,kt){const un=Xt.split(kt),Rn=li[0].split(kt);let Wn="";return un.forEach((dn,ft)=>{Wn+=g([Rn[ft]],dn)+kt}),Wn.slice(0,-1)}class w{constructor(Xt){this.staticValue=Xt,this.kind=0}}class D{constructor(Xt){this.pieces=Xt,this.kind=1}}class x{constructor(Xt){this._state=Xt&&0!==Xt.length?1===Xt.length&&null!==Xt[0].staticValue?new w(Xt[0].staticValue):new D(Xt):new w("")}static fromStaticValue(Xt){return new x([P.staticValue(Xt)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(Xt,kt){if(0===this._state.kind)return kt?g(Xt,this._state.staticValue):this._state.staticValue;let un="";for(let Rn=0,Wn=this._state.pieces.length;Rn<Wn;Rn++){const dn=this._state.pieces[Rn];if(null!==dn.staticValue){un+=dn.staticValue;continue}let ft=x._substitute(dn.matchIndex,Xt);if(null!==dn.caseOps&&dn.caseOps.length>0){const sn=[],tn=dn.caseOps.length;let xn=0;for(let Pn=0,En=ft.length;Pn<En;Pn++){if(xn>=tn){sn.push(ft.slice(Pn));break}switch(dn.caseOps[xn]){case"U":sn.push(ft[Pn].toUpperCase());break;case"u":sn.push(ft[Pn].toUpperCase()),xn++;break;case"L":sn.push(ft[Pn].toLowerCase());break;case"l":sn.push(ft[Pn].toLowerCase()),xn++;break;default:sn.push(ft[Pn])}}ft=sn.join("")}un+=ft}return un}static _substitute(Xt,kt){if(null===kt)return"";if(0===Xt)return kt[0];let un="";for(;Xt>0;){if(Xt<kt.length)return(kt[Xt]||"")+un;un=String(Xt%10)+un,Xt=Math.floor(Xt/10)}return"$"+un}}class P{constructor(Xt,kt,un){this.staticValue=Xt,this.matchIndex=kt,this.caseOps=un&&0!==un.length?un.slice(0):null}static staticValue(Xt){return new P(Xt,-1,null)}static caseOps(Xt,kt){return new P(null,Xt,kt)}}class O{constructor(Xt){this._source=Xt,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(Xt){this._emitStatic(this._source.substring(this._lastCharIndex,Xt)),this._lastCharIndex=Xt}emitStatic(Xt,kt){this._emitStatic(Xt),this._lastCharIndex=kt}_emitStatic(Xt){0!==Xt.length&&(this._currentStaticPiece+=Xt)}emitMatchIndex(Xt,kt,un){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=P.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=P.caseOps(Xt,un),this._lastCharIndex=kt}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=P.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new x(this._result)}}var H=e(16468);const z=new H.uy("findWidgetVisible",!1),F=(z.toNegated(),new H.uy("findInputFocussed",!1)),j=new H.uy("replaceInputFocussed",!1),K={primary:545,mac:{primary:2593}},U={primary:565,mac:{primary:2613}},ne={primary:560,mac:{primary:2608}},N={primary:554,mac:{primary:2602}},W={primary:558,mac:{primary:2606}},ge=19999;class we{constructor(Xt,kt){this._toDispose=new n.SL,this._editor=Xt,this._state=kt,this._isDisposed=!1,this._startSearchingTimer=new d._F,this._decorations=new p(Xt),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new d.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(un=>{(3===un.reason||5===un.reason||6===un.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(un=>{this._ignoreModelContentChanged||(un.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(un=>this._onStateChanged(un))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,n.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(Xt){this._isDisposed||!this._editor.hasModel()||(Xt.searchString||Xt.isReplaceRevealed||Xt.isRegex||Xt.wholeWord||Xt.matchCase||Xt.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{Xt.searchScope?this.research(Xt.moveCursor,this._state.searchScope):this.research(Xt.moveCursor)},240)):Xt.searchScope?this.research(Xt.moveCursor,this._state.searchScope):this.research(Xt.moveCursor))}static _getSearchRange(Xt,kt){return kt||Xt.getFullModelRange()}research(Xt,kt){let un=null;typeof kt<"u"?null!==kt&&(un=Array.isArray(kt)?kt:[kt]):un=this._decorations.getFindScopes(),null!==un&&(un=un.map(ft=>{if(ft.startLineNumber!==ft.endLineNumber){let sn=ft.endLineNumber;return 1===ft.endColumn&&(sn-=1),new L.e(ft.startLineNumber,1,sn,this._editor.getModel().getLineMaxColumn(sn))}return ft}));const Rn=this._findMatches(un,!1,ge);this._decorations.set(Rn,un);const Wn=this._editor.getSelection();let dn=this._decorations.getCurrentMatchesPosition(Wn);if(0===dn&&Rn.length>0){const ft=(0,T.lG)(Rn.map(sn=>sn.range),sn=>L.e.compareRangesUsingStarts(sn,Wn)>=0);dn=ft>0?ft-1+1:dn}this._state.changeMatchInfo(dn,this._decorations.getCount(),void 0),Xt&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const Xt=this._decorations.getFindScope();return Xt&&this._editor.revealRangeInCenterIfOutsideViewport(Xt,0),!0}return!1}_setCurrentFindMatch(Xt){const kt=this._decorations.setCurrentFindMatch(Xt);this._state.changeMatchInfo(kt,this._decorations.getCount(),Xt),this._editor.setSelection(Xt),this._editor.revealRangeInCenterIfOutsideViewport(Xt,0)}_prevSearchPosition(Xt){const kt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:un,column:Rn}=Xt;const Wn=this._editor.getModel();return kt||1===Rn?(1===un?un=Wn.getLineCount():un--,Rn=Wn.getLineMaxColumn(un)):Rn--,new E.L(un,Rn)}_moveToPrevMatch(Xt,kt=!1){if(!this._state.canNavigateBack()){const xn=this._decorations.matchAfterPosition(Xt);return void(xn&&this._setCurrentFindMatch(xn))}if(this._decorations.getCount()<ge){let xn=this._decorations.matchBeforePosition(Xt);return xn&&xn.isEmpty()&&xn.getStartPosition().equals(Xt)&&(Xt=this._prevSearchPosition(Xt),xn=this._decorations.matchBeforePosition(Xt)),void(xn&&this._setCurrentFindMatch(xn))}if(this._cannotFind())return;const un=this._decorations.getFindScope(),Rn=we._getSearchRange(this._editor.getModel(),un);Rn.getEndPosition().isBefore(Xt)&&(Xt=Rn.getEndPosition()),Xt.isBefore(Rn.getStartPosition())&&(Xt=Rn.getEndPosition());const{lineNumber:Wn,column:dn}=Xt,ft=this._editor.getModel();let sn=new E.L(Wn,dn),tn=ft.findPreviousMatch(this._state.searchString,sn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(tn&&tn.range.isEmpty()&&tn.range.getStartPosition().equals(sn)&&(sn=this._prevSearchPosition(sn),tn=ft.findPreviousMatch(this._state.searchString,sn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),tn){if(!kt&&!Rn.containsRange(tn.range))return this._moveToPrevMatch(tn.range.getStartPosition(),!0);this._setCurrentFindMatch(tn.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(Xt){const kt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:un,column:Rn}=Xt;const Wn=this._editor.getModel();return kt||Rn===Wn.getLineMaxColumn(un)?(un===Wn.getLineCount()?un=1:un++,Rn=1):Rn++,new E.L(un,Rn)}_moveToNextMatch(Xt){if(!this._state.canNavigateForward()){const un=this._decorations.matchBeforePosition(Xt);return void(un&&this._setCurrentFindMatch(un))}if(this._decorations.getCount()<ge){let un=this._decorations.matchAfterPosition(Xt);return un&&un.isEmpty()&&un.getStartPosition().equals(Xt)&&(Xt=this._nextSearchPosition(Xt),un=this._decorations.matchAfterPosition(Xt)),void(un&&this._setCurrentFindMatch(un))}const kt=this._getNextMatch(Xt,!1,!0);kt&&this._setCurrentFindMatch(kt.range)}_getNextMatch(Xt,kt,un,Rn=!1){if(this._cannotFind())return null;const Wn=this._decorations.getFindScope(),dn=we._getSearchRange(this._editor.getModel(),Wn);dn.getEndPosition().isBefore(Xt)&&(Xt=dn.getStartPosition()),Xt.isBefore(dn.getStartPosition())&&(Xt=dn.getStartPosition());const{lineNumber:ft,column:sn}=Xt,tn=this._editor.getModel();let xn=new E.L(ft,sn),Pn=tn.findNextMatch(this._state.searchString,xn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,kt);return un&&Pn&&Pn.range.isEmpty()&&Pn.range.getStartPosition().equals(xn)&&(xn=this._nextSearchPosition(xn),Pn=tn.findNextMatch(this._state.searchString,xn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,kt)),Pn?Rn||dn.containsRange(Pn.range)?Pn:this._getNextMatch(Pn.range.getEndPosition(),kt,un,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function V(li){if(!li||0===li.length)return new x(null);const Xt=[],kt=new O(li);for(let un=0,Rn=li.length;un<Rn;un++){const Wn=li.charCodeAt(un);if(92!==Wn){if(36===Wn){if(un++,un>=Rn)break;const dn=li.charCodeAt(un);if(36===dn){kt.emitUnchanged(un-1),kt.emitStatic("$",un+1);continue}if(48===dn||38===dn){kt.emitUnchanged(un-1),kt.emitMatchIndex(0,un+1,Xt),Xt.length=0;continue}if(49<=dn&&dn<=57){let ft=dn-48;if(un+1<Rn){const sn=li.charCodeAt(un+1);if(48<=sn&&sn<=57){un++,ft=10*ft+(sn-48),kt.emitUnchanged(un-2),kt.emitMatchIndex(ft,un+1,Xt),Xt.length=0;continue}}kt.emitUnchanged(un-1),kt.emitMatchIndex(ft,un+1,Xt),Xt.length=0;continue}}}else{if(un++,un>=Rn)break;const dn=li.charCodeAt(un);switch(dn){case 92:kt.emitUnchanged(un-1),kt.emitStatic("\\",un+1);break;case 110:kt.emitUnchanged(un-1),kt.emitStatic("\n",un+1);break;case 116:kt.emitUnchanged(un-1),kt.emitStatic("\t",un+1);break;case 117:case 85:case 108:case 76:kt.emitUnchanged(un-1),kt.emitStatic("",un+1),Xt.push(String.fromCharCode(dn))}}}return kt.finalize()}(this._state.replaceString):x.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const Xt=this._getReplacePattern(),kt=this._editor.getSelection(),un=this._getNextMatch(kt.getStartPosition(),!0,!1);if(un)if(kt.equalsRange(un.range)){const Rn=Xt.buildReplaceString(un.matches,this._state.preserveCase),Wn=new C.T4(kt,Rn);this._executeEditorCommand("replace",Wn),this._decorations.setStartPosition(new E.L(kt.startLineNumber,kt.startColumn+Rn.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(un.range)}_findMatches(Xt,kt,un){const Rn=(Xt||[null]).map(Wn=>we._getSearchRange(this._editor.getModel(),Wn));return this._editor.getModel().findMatches(this._state.searchString,Rn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,kt,un)}replaceAll(){if(!this._hasMatches())return;const Xt=this._decorations.getFindScopes();null===Xt&&this._state.matchesCount>=ge?this._largeReplaceAll():this._regularReplaceAll(Xt),this.research(!1)}_largeReplaceAll(){const kt=new s.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!kt)return;let un=kt.regex;if(!un.multiline){let Pn="mu";un.ignoreCase&&(Pn+="i"),un.global&&(Pn+="g"),un=new RegExp(un.source,Pn)}const Rn=this._editor.getModel(),Wn=Rn.getValue(1),dn=Rn.getFullModelRange(),ft=this._getReplacePattern();let sn;const tn=this._state.preserveCase;sn=Wn.replace(un,ft.hasReplacementPatterns||tn?function(){return ft.buildReplaceString(arguments,tn)}:ft.buildReplaceString(null,tn));const xn=new C.hP(dn,sn,this._editor.getSelection());this._executeEditorCommand("replaceAll",xn)}_regularReplaceAll(Xt){const kt=this._getReplacePattern(),un=this._findMatches(Xt,kt.hasReplacementPatterns||this._state.preserveCase,1073741824),Rn=[];for(let dn=0,ft=un.length;dn<ft;dn++)Rn[dn]=kt.buildReplaceString(un[dn].matches,this._state.preserveCase);const Wn=new u(this._editor.getSelection(),un.map(dn=>dn.range),Rn);this._executeEditorCommand("replaceAll",Wn)}selectAllMatches(){if(!this._hasMatches())return;const Xt=this._decorations.getFindScopes();let un=this._findMatches(Xt,!1,1073741824).map(Wn=>new _.Y(Wn.range.startLineNumber,Wn.range.startColumn,Wn.range.endLineNumber,Wn.range.endColumn));const Rn=this._editor.getSelection();for(let Wn=0,dn=un.length;Wn<dn;Wn++)if(un[Wn].equalsRange(Rn)){un=[Rn].concat(un.slice(0,Wn)).concat(un.slice(Wn+1));break}this._editor.setSelections(un)}_executeEditorCommand(Xt,kt){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(Xt,kt),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Ee=e(98463),xe=e(75789),Ne=e(5183);let oe=(()=>{class li extends Ne.${constructor(kt,un,Rn,Wn){super(),this._hideSoon=this._register(new d.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=kt,this._state=un,this._keybindingService=Rn,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const dn=Wn.getColorTheme().getColor(t.PRb),ft=Wn.getColorTheme().getColor(t.Pvw),sn=Wn.getColorTheme().getColor(t.XEs);this.caseSensitive=this._register(new xe.rk({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:dn,inputActiveOptionForeground:ft,inputActiveOptionBackground:sn})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new xe.Qx({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:dn,inputActiveOptionForeground:ft,inputActiveOptionBackground:sn})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new xe.eH({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:dn,inputActiveOptionForeground:ft,inputActiveOptionBackground:sn})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(tn=>{let xn=!1;tn.isRegex&&(this.regex.checked=this._state.isRegex,xn=!0),tn.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,xn=!0),tn.matchCase&&(this.caseSensitive.checked=this._state.matchCase,xn=!0),!this._state.isRevealed&&xn&&this._revealTemporarily()})),this._register(Ee.nm(this._domNode,Ee.tw.MOUSE_LEAVE,tn=>this._onMouseLeave())),this._register(Ee.nm(this._domNode,"mouseover",tn=>this._onMouseOver())),this._applyTheme(Wn.getColorTheme()),this._register(Wn.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(kt){const un=this._keybindingService.lookupKeybinding(kt);return un?` (${un.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return li.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(kt){const un={inputActiveOptionBorder:kt.getColor(t.PRb),inputActiveOptionForeground:kt.getColor(t.Pvw),inputActiveOptionBackground:kt.getColor(t.XEs)};this.caseSensitive.style(un),this.wholeWords.style(un),this.regex.style(un)}}return li.ID="editor.contrib.findOptionsWidget",li})();(0,a.Ic)((li,Xt)=>{const kt=li.getColor(t.D0T);kt&&Xt.addRule(`.monaco-editor .findOptionsWidget { background-color: ${kt}; }`);const un=li.getColor(t.Hfx);un&&Xt.addRule(`.monaco-editor .findOptionsWidget { color: ${un}; }`);const Rn=li.getColor(t.rh);Rn&&Xt.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${Rn}; }`);const Wn=li.getColor(t.lRK);Wn&&Xt.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${Wn}; }`)});var Se=e(3778);function Ie(li,Xt){return 1===li||2!==li&&Xt}class me extends n.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new Se.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Ie(this._isRegexOverride,this._isRegex)}get wholeWord(){return Ie(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Ie(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Ie(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(Xt,kt,un){const Rn={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Wn=!1;0===kt&&(Xt=0),Xt>kt&&(Xt=kt),this._matchesPosition!==Xt&&(this._matchesPosition=Xt,Rn.matchesPosition=!0,Wn=!0),this._matchesCount!==kt&&(this._matchesCount=kt,Rn.matchesCount=!0,Wn=!0),typeof un<"u"&&(L.e.equalsRange(this._currentMatch,un)||(this._currentMatch=un,Rn.currentMatch=!0,Wn=!0)),Wn&&this._onFindReplaceStateChange.fire(Rn)}change(Xt,kt,un=!0){var Rn;const Wn={moveCursor:kt,updateHistory:un,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let dn=!1;const ft=this.isRegex,sn=this.wholeWord,tn=this.matchCase,xn=this.preserveCase;typeof Xt.searchString<"u"&&this._searchString!==Xt.searchString&&(this._searchString=Xt.searchString,Wn.searchString=!0,dn=!0),typeof Xt.replaceString<"u"&&this._replaceString!==Xt.replaceString&&(this._replaceString=Xt.replaceString,Wn.replaceString=!0,dn=!0),typeof Xt.isRevealed<"u"&&this._isRevealed!==Xt.isRevealed&&(this._isRevealed=Xt.isRevealed,Wn.isRevealed=!0,dn=!0),typeof Xt.isReplaceRevealed<"u"&&this._isReplaceRevealed!==Xt.isReplaceRevealed&&(this._isReplaceRevealed=Xt.isReplaceRevealed,Wn.isReplaceRevealed=!0,dn=!0),typeof Xt.isRegex<"u"&&(this._isRegex=Xt.isRegex),typeof Xt.wholeWord<"u"&&(this._wholeWord=Xt.wholeWord),typeof Xt.matchCase<"u"&&(this._matchCase=Xt.matchCase),typeof Xt.preserveCase<"u"&&(this._preserveCase=Xt.preserveCase),typeof Xt.searchScope<"u"&&(!(null===(Rn=Xt.searchScope)||void 0===Rn)&&Rn.every(Pn=>{var En;return null===(En=this._searchScope)||void 0===En?void 0:En.some(ut=>!L.e.equalsRange(ut,Pn))})||(this._searchScope=Xt.searchScope,Wn.searchScope=!0,dn=!0)),typeof Xt.loop<"u"&&this._loop!==Xt.loop&&(this._loop=Xt.loop,Wn.loop=!0,dn=!0),typeof Xt.isSearching<"u"&&this._isSearching!==Xt.isSearching&&(this._isSearching=Xt.isSearching,Wn.isSearching=!0,dn=!0),typeof Xt.filters<"u"&&(this._filters?this._filters.update(Xt.filters):this._filters=Xt.filters,Wn.filters=!0,dn=!0),this._isRegexOverride=typeof Xt.isRegexOverride<"u"?Xt.isRegexOverride:0,this._wholeWordOverride=typeof Xt.wholeWordOverride<"u"?Xt.wholeWordOverride:0,this._matchCaseOverride=typeof Xt.matchCaseOverride<"u"?Xt.matchCaseOverride:0,this._preserveCaseOverride=typeof Xt.preserveCaseOverride<"u"?Xt.preserveCaseOverride:0,ft!==this.isRegex&&(dn=!0,Wn.isRegex=!0),sn!==this.wholeWord&&(dn=!0,Wn.wholeWord=!0),tn!==this.matchCase&&(dn=!0,Wn.matchCase=!0),xn!==this.preserveCase&&(dn=!0,Wn.preserveCase=!0),dn&&this._onFindReplaceStateChange.fire(Wn)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=ge}}var Me=e(59797),de=e(99952),ke=e(84075),Ue=e(58783),ze=e(4125),ce=e(8841),Ve=e(57856),tt=e.n(Ve),Ct=e(38470),Lt=e.n(Ct),$e=e(43370),ae=e.n($e),ve=e(28458),he=e.n(ve),le=e(71278),Q=e.n(le),Ce=e(29488),Pe=e.n(Ce),dt=e(74777),st={};st.styleTagTransform=Pe(),st.setAttributes=he(),st.insert=ae().bind(null,"head"),st.domAPI=Lt(),st.insertStyleElement=Q(),tt()(dt.Z,st);var et=e(55197),vt=e(76613);function mt(li){var Xt,kt;return"Up"===(null===(Xt=li.lookupKeybinding("history.showPrevious"))||void 0===Xt?void 0:Xt.getElectronAccelerator())&&"Down"===(null===(kt=li.lookupKeybinding("history.showNext"))||void 0===kt?void 0:kt.getElectronAccelerator())}var _t=e(66287),$t=e(18034);const Ke=(0,_t.q5)("find-selection",Ue.lA.selection,et.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ht=(0,_t.q5)("find-collapsed",Ue.lA.chevronRight,et.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),jt=(0,_t.q5)("find-expanded",Ue.lA.chevronDown,et.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),fn=(0,_t.q5)("find-replace",Ue.lA.replace,et.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Dn=(0,_t.q5)("find-replace-all",Ue.lA.replaceAll,et.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),yt=(0,_t.q5)("find-previous-match",Ue.lA.arrowUp,et.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),He=(0,_t.q5)("find-next-match",Ue.lA.arrowDown,et.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ye=et.NC("label.find","Find"),Ae=et.NC("placeholder.find","Find"),ue=et.NC("label.previousMatchButton","Previous Match"),be=et.NC("label.nextMatchButton","Next Match"),Je=et.NC("label.toggleSelectionFind","Find in Selection"),Fe=et.NC("label.closeButton","Close"),nt=et.NC("label.replace","Replace"),bt=et.NC("placeholder.replace","Replace"),Ut=et.NC("label.replaceButton","Replace"),vn=et.NC("label.replaceAllButton","Replace All"),Mn=et.NC("label.toggleReplaceButton","Toggle Replace"),St=et.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",ge),gn=et.NC("label.matchesLocation","{0} of {1}"),Vn=et.NC("label.noResults","No results");let ii=69;const no="ctrlEnterReplaceAll.windows.donotask",to=ce.dz?256:2048;class Co{constructor(Xt){this.afterLineNumber=Xt,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function io(li,Xt,kt){const un=!!Xt.match(/\n/);kt&&un&&kt.selectionStart>0&&li.stopPropagation()}function uo(li,Xt,kt){const un=!!Xt.match(/\n/);kt&&un&&kt.selectionEnd<kt.value.length&&li.stopPropagation()}let go=(()=>{class li extends Ne.${constructor(kt,un,Rn,Wn,dn,ft,sn,tn,xn){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=kt,this._controller=un,this._state=Rn,this._contextViewProvider=Wn,this._keybindingService=dn,this._contextKeyService=ft,this._storageService=tn,this._notificationService=xn,this._ctrlEnterReplaceAllWarningPrompted=!!tn.getBoolean(no,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new d.vp(500),this._register((0,n.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Pn=>this._onStateChanged(Pn))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Pn=>{if(Pn.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Pn.hasChanged(133)&&this._tryUpdateWidgetWidth(),Pn.hasChanged(2)&&this.updateAccessibilitySupport(),Pn.hasChanged(37)){const En=this._codeEditor.getOption(37).addExtraSpaceOnTop;En&&!this._viewZone&&(this._viewZone=new Co(0),this._showViewZone()),!En&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(li,Xt,kt,un){return new(kt||(kt=Promise))(function(Wn,dn){function ft(xn){try{tn(un.next(xn))}catch(Pn){dn(Pn)}}function sn(xn){try{tn(un.throw(xn))}catch(Pn){dn(Pn)}}function tn(xn){xn.done?Wn(xn.value):function Rn(Wn){return Wn instanceof kt?Wn:new kt(function(dn){dn(Wn)})}(xn.value).then(ft,sn)}tn((un=un.apply(li,Xt||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){const Pn=yield this._controller.getGlobalBufferTerm();Pn&&Pn!==this._state.searchString&&(this._state.change({searchString:Pn},!1),this._findInput.select())}}))),this._findInputFocused=F.bindTo(ft),this._findFocusTracker=this._register(Ee.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=j.bindTo(ft),this._replaceFocusTracker=this._register(Ee.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new Co(0)),this._applyTheme(sn.getColorTheme()),this._register(sn.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Pn=>{Pn.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return li.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(kt){if(kt.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}kt.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),kt.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),kt.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Ee.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(kt.isRevealed||kt.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),kt.isRegex&&this._findInput.setRegex(this._state.isRegex),kt.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),kt.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),kt.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),kt.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(kt.searchString||kt.matchesCount||kt.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(kt.searchString||kt.currentMatch)&&this._layoutViewZone(),kt.updateHistory&&this._delayedUpdateHistory(),kt.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ze.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let kt;if(this._matchesCount.style.minWidth=ii+"px",this._matchesCount.title=this._state.matchesCount>=ge?St:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let un=String(this._state.matchesCount);this._state.matchesCount>=ge&&(un+="+");let Rn=String(this._state.matchesPosition);"0"===Rn&&(Rn="?"),kt=l.WU(gn,Rn,un)}else kt=Vn;this._matchesCount.appendChild(document.createTextNode(kt)),(0,Me.Z9)(this._getAriaLabel(kt,this._state.currentMatch,this._state.searchString)),ii=Math.max(ii,this._matchesCount.clientWidth)}_getAriaLabel(kt,un,Rn){if(kt===Vn)return""===Rn?et.NC("ariaSearchNoResultEmpty","{0} found",kt):et.NC("ariaSearchNoResult","{0} found for '{1}'",kt,Rn);if(un){const Wn=et.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",kt,Rn,un.startLineNumber+":"+un.startColumn),dn=this._codeEditor.getModel();return dn&&un.startLineNumber<=dn.getLineCount()&&un.startLineNumber>=1?`${dn.getLineContent(un.startLineNumber)}, ${Wn}`:Wn}return et.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",kt,Rn)}_updateToggleSelectionFindButton(){const kt=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||kt&&(kt.startLineNumber!==kt.endLineNumber||kt.startColumn!==kt.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const kt=this._state.searchString.length>0,un=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&kt&&un&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&kt&&un&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&kt),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&kt),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const Rn=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&Rn)}_reveal(){if(this._revealTimeouts.forEach(kt=>{clearTimeout(kt)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const kt=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!kt&&kt.startLineNumber!==kt.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let un=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&kt){const Rn=this._codeEditor.getDomNode();if(Rn){const Wn=Ee.i(Rn),dn=this._codeEditor.getScrolledVisiblePosition(kt.getStartPosition()),ft=Wn.left+(dn?dn.left:0),sn=dn?dn.top:0;if(this._viewZone&&sn<this._viewZone.heightInPx){kt.endLineNumber>kt.startLineNumber&&(un=!1);const tn=Ee.xQ(this._domNode).left;ft>tn&&(un=!1);const xn=this._codeEditor.getScrolledVisiblePosition(kt.getEndPosition());Wn.left+(xn?xn.left:0)>tn&&(un=!1)}}}this._showViewZone(un)}}_hide(kt){this._revealTimeouts.forEach(un=>{clearTimeout(un)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),kt&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(kt){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const Rn=this._viewZone;void 0!==this._viewZoneId||!Rn||this._codeEditor.changeViewZones(Wn=>{Rn.heightInPx=this._getHeight(),this._viewZoneId=Wn.addZone(Rn),this._codeEditor.setScrollTop(kt||this._codeEditor.getScrollTop()+Rn.heightInPx)})}_showViewZone(kt=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new Co(0));const Rn=this._viewZone;this._codeEditor.changeViewZones(Wn=>{if(void 0!==this._viewZoneId){const dn=this._getHeight();if(dn===Rn.heightInPx)return;const ft=dn-Rn.heightInPx;return Rn.heightInPx=dn,Wn.layoutZone(this._viewZoneId),void(kt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ft))}{let dn=this._getHeight();if(dn-=this._codeEditor.getOption(77).top,dn<=0)return;Rn.heightInPx=dn,this._viewZoneId=Wn.addZone(Rn),kt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+dn)}})}_removeViewZone(){this._codeEditor.changeViewZones(kt=>{void 0!==this._viewZoneId&&(kt.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(kt){const un={inputActiveOptionBorder:kt.getColor(t.PRb),inputActiveOptionBackground:kt.getColor(t.XEs),inputActiveOptionForeground:kt.getColor(t.Pvw),inputBackground:kt.getColor(t.sEe),inputForeground:kt.getColor(t.zJb),inputBorder:kt.getColor(t.dt_),inputValidationInfoBackground:kt.getColor(t._lC),inputValidationInfoForeground:kt.getColor(t.YI3),inputValidationInfoBorder:kt.getColor(t.EPQ),inputValidationWarningBackground:kt.getColor(t.RV_),inputValidationWarningForeground:kt.getColor(t.SUG),inputValidationWarningBorder:kt.getColor(t.C3g),inputValidationErrorBackground:kt.getColor(t.paE),inputValidationErrorForeground:kt.getColor(t._t9),inputValidationErrorBorder:kt.getColor(t.OZR)};this._findInput.style(un),this._replaceInput.style(un),this._toggleSelectionFind.style(un)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Ee.Uw(this._domNode))return;const kt=this._codeEditor.getLayoutInfo();if(kt.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Rn=kt.width,Wn=kt.minimap.minimapWidth;let dn=!1,ft=!1,sn=!1;if(this._resized&&Ee.w(this._domNode)>419)return this._domNode.style.maxWidth=Rn-28-Wn-15+"px",void(this._replaceInput.width=Ee.w(this._findInput.domNode));if(447+Wn>=Rn&&(ft=!0),447+Wn-ii>=Rn&&(sn=!0),447+Wn-ii>=Rn+50&&(dn=!0),this._domNode.classList.toggle("collapsed-find-widget",dn),this._domNode.classList.toggle("narrow-find-widget",sn),this._domNode.classList.toggle("reduced-find-widget",ft),!sn&&!dn&&(this._domNode.style.maxWidth=Rn-28-Wn-15+"px"),this._resized){this._findInput.inputBox.layout();const tn=this._findInput.inputBox.element.clientWidth;tn>0&&(this._replaceInput.width=tn)}else this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode))}_getHeight(){let kt=0;return kt+=4,kt+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(kt+=4,kt+=this._replaceInput.inputBox.height+2),kt+=4,kt}_tryUpdateHeight(){const kt=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==kt)&&(this._cachedHeight=kt,this._domNode.style.height=`${kt}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const kt=this._codeEditor.getSelections();kt.map(un=>(1===un.endColumn&&un.endLineNumber>un.startLineNumber&&(un=un.setEndPosition(un.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(un.endLineNumber-1))),un.startLineNumber===un.endLineNumber||L.e.equalsRange(un,this._state.currentMatch)?null:un)).filter(un=>!!un),kt.length&&this._state.change({searchScope:kt},!0)}}_onFindInputMouseDown(kt){kt.middleButton&&kt.stopPropagation()}_onFindInputKeyDown(kt){return kt.equals(3|to)?(this._keybindingService.dispatchEvent(kt,kt.target)||this._findInput.inputBox.insertAtCursor("\n"),void kt.preventDefault()):kt.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void kt.preventDefault()):kt.equals(2066)?(this._codeEditor.focus(),void kt.preventDefault()):kt.equals(16)?io(kt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):kt.equals(18)?uo(kt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(kt){return kt.equals(3|to)?(this._keybindingService.dispatchEvent(kt,kt.target)||(ce.ED&&ce.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(et.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(no,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void kt.preventDefault()):kt.equals(2)?(this._findInput.focusOnCaseSensitive(),void kt.preventDefault()):kt.equals(1026)?(this._findInput.focus(),void kt.preventDefault()):kt.equals(2066)?(this._codeEditor.focus(),void kt.preventDefault()):kt.equals(16)?io(kt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):kt.equals(18)?uo(kt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(kt){return 0}_keybindingLabelFor(kt){const un=this._keybindingService.lookupKeybinding(kt);return un?` (${un.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new vt.Yb(null,this._contextViewProvider,{width:221,label:ye,placeholder:Ae,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:tn=>{if(0===tn.length||!this._findInput.getRegex())return null;try{return new RegExp(tn,"gu"),null}catch(xn){return{content:xn.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>mt(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(tn=>this._onFindInputKeyDown(tn))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(tn=>{tn.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),tn.preventDefault())})),this._register(this._findInput.onRegexKeyDown(tn=>{tn.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),tn.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(tn=>{this._tryUpdateHeight()&&this._showViewZone()})),ce.IJ&&this._register(this._findInput.onMouseDown(tn=>this._onFindInputMouseDown(tn))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new si({label:ue+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:yt,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,ze.dL)}})),this._nextBtn=this._register(new si({label:be+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:He,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,ze.dL)}}));const Rn=document.createElement("div");Rn.className="find-part",Rn.appendChild(this._findInput.domNode);const Wn=document.createElement("div");Wn.className="find-actions",Rn.appendChild(Wn),Wn.appendChild(this._matchesCount),Wn.appendChild(this._prevBtn.domNode),Wn.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new de.Z({icon:Ke,title:Je+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const tn=this._codeEditor.getSelections();tn.map(xn=>(1===xn.endColumn&&xn.endLineNumber>xn.startLineNumber&&(xn=xn.setEndPosition(xn.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(xn.endLineNumber-1))),xn.isEmpty()?null:xn)).filter(xn=>!!xn),tn.length&&this._state.change({searchScope:tn},!0)}}else this._state.change({searchScope:null},!0)})),Wn.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new si({label:Fe+this._keybindingLabelFor("closeFindWidget"),icon:_t.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:tn=>{tn.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),tn.preventDefault())}})),Wn.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new vt.Nq(null,void 0,{label:nt,placeholder:bt,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>mt(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(tn=>this._onReplaceInputKeyDown(tn))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(tn=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(tn=>{tn.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),tn.preventDefault())})),this._replaceBtn=this._register(new si({label:Ut+this._keybindingLabelFor("editor.action.replaceOne"),icon:fn,onTrigger:()=>{this._controller.replace()},onKeyDown:tn=>{tn.equals(1026)&&(this._closeBtn.focus(),tn.preventDefault())}})),this._replaceAllBtn=this._register(new si({label:vn+this._keybindingLabelFor("editor.action.replaceAll"),icon:Dn,onTrigger:()=>{this._controller.replaceAll()}}));const dn=document.createElement("div");dn.className="replace-part",dn.appendChild(this._replaceInput.domNode);const ft=document.createElement("div");ft.className="replace-actions",dn.appendChild(ft),ft.appendChild(this._replaceBtn.domNode),ft.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new si({label:Mn,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Rn),this._domNode.appendChild(dn),this._resizeSash=new ke.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let sn=419;this._register(this._resizeSash.onDidStart(()=>{sn=Ee.w(this._domNode)})),this._register(this._resizeSash.onDidChange(tn=>{this._resized=!0;const xn=sn+tn.startX-tn.currentX;xn<419||xn>(parseFloat(Ee.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${xn}px`,this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const tn=Ee.w(this._domNode);if(tn<419)return;let xn=419;if(!this._resized||419===tn){const Pn=this._codeEditor.getLayoutInfo();xn=Pn.width-28-Pn.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${xn}px`,this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const kt=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==kt)}}return li.ID="editor.contrib.findWidget",li})();class si extends Ne.${constructor(Xt){super(),this._opts=Xt;let kt="button";this._opts.className&&(kt=kt+" "+this._opts.className),this._opts.icon&&(kt=kt+" "+a.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=kt,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,un=>{this._opts.onTrigger(),un.preventDefault()}),this.onkeydown(this._domNode,un=>{var Rn,Wn;if(un.equals(10)||un.equals(3))return this._opts.onTrigger(),void un.preventDefault();null===(Wn=(Rn=this._opts).onKeyDown)||void 0===Wn||Wn.call(Rn,un)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Xt){this._domNode.classList.toggle("disabled",!Xt),this._domNode.setAttribute("aria-disabled",String(!Xt)),this._domNode.tabIndex=Xt?0:-1}setExpanded(Xt){this._domNode.setAttribute("aria-expanded",String(!!Xt)),Xt?(this._domNode.classList.remove(...a.kS.asClassNameArray(ht)),this._domNode.classList.add(...a.kS.asClassNameArray(jt))):(this._domNode.classList.remove(...a.kS.asClassNameArray(jt)),this._domNode.classList.add(...a.kS.asClassNameArray(ht)))}}(0,a.Ic)((li,Xt)=>{const kt=(Pt,Ht)=>{Ht&&Xt.addRule(`.monaco-editor ${Pt} { background-color: ${Ht}; }`)};kt(".findMatch",li.getColor(t.MUv)),kt(".currentFindMatch",li.getColor(t.nyM)),kt(".findScope",li.getColor(t.jUe)),kt(".find-widget",li.getColor(t.D0T));const Rn=li.getColor(t.rh);Rn&&Xt.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Rn}; }`);const Wn=li.getColor(t.EiJ);Wn&&Xt.addRule(`.monaco-editor .findMatch { border: 1px ${(0,$t.c3)(li.type)?"dotted":"solid"} ${Wn}; box-sizing: border-box; }`);const dn=li.getColor(t.pnM);dn&&Xt.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${dn}; padding: 1px; box-sizing: border-box; }`);const ft=li.getColor(t.gkn);ft&&Xt.addRule(`.monaco-editor .findScope { border: 1px ${(0,$t.c3)(li.type)?"dashed":"solid"} ${ft}; }`);const sn=li.getColor(t.lRK);sn&&Xt.addRule(`.monaco-editor .find-widget { border: 1px solid ${sn}; }`);const tn=li.getColor(t.Hfx);tn&&Xt.addRule(`.monaco-editor .find-widget { color: ${tn}; }`);const xn=li.getColor(t.Ido);xn&&Xt.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${xn}; }`);const Pn=li.getColor(t.Ng6);if(Pn)Xt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Pn}; }`);else{const Pt=li.getColor(t.D1_);Pt&&Xt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Pt}; }`)}const En=li.getColor(t.lUq);En&&Xt.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${En} !important;\n\t\t}\n\t`);const ut=li.getColor(t.R80);ut&&Xt.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ut}; }`)});var Yt=e(74918),pt=e(25787),gt=e(50703),Kt=e(14759),nn=e(54436),an=e(48190),mn=function(li,Xt,kt,un){var dn,Rn=arguments.length,Wn=Rn<3?Xt:null===un?un=Object.getOwnPropertyDescriptor(Xt,kt):un;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Wn=Reflect.decorate(li,Xt,kt,un);else for(var ft=li.length-1;ft>=0;ft--)(dn=li[ft])&&(Wn=(Rn<3?dn(Wn):Rn>3?dn(Xt,kt,Wn):dn(Xt,kt))||Wn);return Rn>3&&Wn&&Object.defineProperty(Xt,kt,Wn),Wn},Nn=function(li,Xt){return function(kt,un){Xt(kt,un,li)}},jn=function(li,Xt,kt,un){return new(kt||(kt=Promise))(function(Wn,dn){function ft(xn){try{tn(un.next(xn))}catch(Pn){dn(Pn)}}function sn(xn){try{tn(un.throw(xn))}catch(Pn){dn(Pn)}}function tn(xn){xn.done?Wn(xn.value):function Rn(Wn){return Wn instanceof kt?Wn:new kt(function(dn){dn(Wn)})}(xn.value).then(ft,sn)}tn((un=un.apply(li,Xt||[])).next())})};function wi(li,Xt="single",kt=!1){if(!li.hasModel())return null;const un=li.getSelection();if("single"===Xt&&un.startLineNumber===un.endLineNumber||"multiple"===Xt)if(un.isEmpty()){const Rn=li.getConfiguredWordAtPosition(un.getStartPosition());if(Rn&&!1===kt)return Rn.word}else if(li.getModel().getValueLengthInRange(un)<524288)return li.getModel().getValueInRange(un);return null}let Li=class fc extends n.JT{constructor(Xt,kt,un,Rn){super(),this._editor=Xt,this._findWidgetVisible=z.bindTo(kt),this._contextKeyService=kt,this._storageService=un,this._clipboardService=Rn,this._updateHistoryDelayer=new d.vp(500),this._state=this._register(new me),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Wn=>this._onStateChanged(Wn))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Wn=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Wn&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(Xt){return Xt.getContribution(fc.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(Xt){this.saveQueryState(Xt),Xt.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),Xt.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(Xt){Xt.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),Xt.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),Xt.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),Xt.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!F.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const Xt=this._editor.getSelections();Xt.map(kt=>(1===kt.endColumn&&kt.endLineNumber>kt.startLineNumber&&(kt=kt.setEndPosition(kt.endLineNumber-1,this._editor.getModel().getLineMaxColumn(kt.endLineNumber-1))),kt.isEmpty()?null:kt)).filter(kt=>!!kt),Xt.length&&this._state.change({searchScope:Xt},!0)}}setSearchString(Xt){this._state.isRegex&&(Xt=l.ec(Xt)),this._state.change({searchString:Xt},!1)}highlightFindOptions(Xt=!1){}_start(Xt,kt){return jn(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const un=Object.assign(Object.assign({},kt),{isRevealed:!0});if("single"===Xt.seedSearchStringFromSelection){const Rn=wi(this._editor,Xt.seedSearchStringFromSelection,Xt.seedSearchStringFromNonEmptySelection);Rn&&(un.searchString=this._state.isRegex?l.ec(Rn):Rn)}else if("multiple"===Xt.seedSearchStringFromSelection&&!Xt.updateSearchScope){const Rn=wi(this._editor,Xt.seedSearchStringFromSelection);Rn&&(un.searchString=Rn)}if(!un.searchString&&Xt.seedSearchStringFromGlobalClipboard){const Rn=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Rn&&(un.searchString=Rn)}if(Xt.forceRevealReplace||un.isReplaceRevealed?un.isReplaceRevealed=!0:this._findWidgetVisible.get()||(un.isReplaceRevealed=!1),Xt.updateSearchScope){const Rn=this._editor.getSelections();Rn.some(Wn=>!Wn.isEmpty())&&(un.searchScope=Rn)}un.loop=Xt.loop,this._state.change(un,!1),this._model||(this._model=new we(this._editor,this._state))})}start(Xt,kt){return this._start(Xt,kt)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return jn(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(Xt){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(Xt)}};Li.ID="editor.contrib.findController",Li=mn([Nn(1,H.i6),Nn(2,an.Uy),Nn(3,pt.p)],Li);let Qi=class extends Li{constructor(Xt,kt,un,Rn,Wn,dn,ft,sn){super(Xt,un,ft,sn),this._contextViewService=kt,this._keybindingService=Rn,this._themeService=Wn,this._notificationService=dn,this._widget=null,this._findOptionsWidget=null}_start(Xt,kt){const un=Object.create(null,{_start:{get:()=>super._start}});return jn(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Rn=this._editor.getSelection();let Wn=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":Wn=!0;break;case"never":Wn=!1;break;case"multiline":Wn=!!Rn&&Rn.startLineNumber!==Rn.endLineNumber}Xt.updateSearchScope=Xt.updateSearchScope||Wn,yield un._start.call(this,Xt,kt),this._widget&&(2===Xt.shouldFocus?this._widget.focusReplaceInput():1===Xt.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(Xt=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!Xt?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new go(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new oe(this._editor,this._state,this._keybindingService,this._themeService))}};Qi=mn([Nn(1,gt.u),Nn(2,H.i6),Nn(3,Kt.d),Nn(4,a.XE),Nn(5,nn.lT),Nn(6,an.Uy),Nn(7,pt.p)],Qi);const Pi=(0,S.rn)(new S.jY({id:"actions.find",label:et.NC("startFindAction","Find"),alias:"Find",precondition:H.Ao.or(v.u.focus,H.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Yt.eH.MenubarEditMenu,group:"3_find",title:et.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Pi.addImplementation(0,(li,Xt,kt)=>{const un=Li.get(Xt);return!!un&&un.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==Xt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Xt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:Xt.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:Xt.getOption(37).loop})});const Ki={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:et.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:et.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:et.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:et.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class Wi extends S.R6{constructor(){super({id:"editor.actions.findWithArgs",label:et.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Ki})}run(Xt,kt,un){return jn(this,void 0,void 0,function*(){const Rn=Li.get(kt);if(Rn){const Wn=un?{searchString:un.searchString,replaceString:un.replaceString,isReplaceRevealed:void 0!==un.replaceString,isRegex:un.isRegex,wholeWord:un.matchWholeWord,matchCase:un.isCaseSensitive,preserveCase:un.preserveCase}:{};yield Rn.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===Rn.getState().searchString.length&&"never"!==kt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===kt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:un?.findInSelection||!1,loop:kt.getOption(37).loop},Wn),Rn.setGlobalBufferTerm(Rn.getState().searchString)}})}}class ro extends S.R6{constructor(){super({id:"actions.findWithSelection",label:et.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(Xt,kt){return jn(this,void 0,void 0,function*(){const un=Li.get(kt);un&&(yield un.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:kt.getOption(37).loop}),un.setGlobalBufferTerm(un.getState().searchString))})}}class mo extends S.R6{run(Xt,kt){return jn(this,void 0,void 0,function*(){const un=Li.get(kt);un&&!this._run(un)&&(yield un.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===un.getState().searchString.length&&"never"!==kt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===kt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:kt.getOption(37).loop}),this._run(un))})}}class Ko extends mo{constructor(){super({id:"editor.action.nextMatchFindAction",label:et.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:v.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:H.Ao.and(v.u.focus,F),primary:3,weight:100}]})}_run(Xt){return!!Xt.moveToNextMatch()&&(Xt.editor.pushUndoStop(),!0)}}class Eo extends mo{constructor(){super({id:"editor.action.previousMatchFindAction",label:et.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:v.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:H.Ao.and(v.u.focus,F),primary:1027,weight:100}]})}_run(Xt){return Xt.moveToPrevMatch()}}class Mo extends S.R6{run(Xt,kt){return jn(this,void 0,void 0,function*(){const un=Li.get(kt);if(!un)return;const Rn="selection"===kt.getOption(37).seedSearchStringFromSelection;let Wn=null;"never"!==kt.getOption(37).seedSearchStringFromSelection&&(Wn=wi(kt,"single",Rn)),Wn&&un.setSearchString(Wn),this._run(un)||(yield un.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==kt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:Rn,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:kt.getOption(37).loop}),this._run(un))})}}class Io extends Mo{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:et.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:v.u.focus,primary:2109,weight:100}})}_run(Xt){return Xt.moveToNextMatch()}}class Yi extends Mo{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:et.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:v.u.focus,primary:3133,weight:100}})}_run(Xt){return Xt.moveToPrevMatch()}}const ho=(0,S.rn)(new S.jY({id:"editor.action.startFindReplaceAction",label:et.NC("startReplace","Replace"),alias:"Replace",precondition:H.Ao.or(v.u.focus,H.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Yt.eH.MenubarEditMenu,group:"3_find",title:et.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));ho.addImplementation(0,(li,Xt,kt)=>{if(!Xt.hasModel()||Xt.getOption(83))return!1;const un=Li.get(Xt);if(!un)return!1;const Rn=Xt.getSelection(),Wn=un.isFindInputFocused(),dn=!Rn.isEmpty()&&Rn.startLineNumber===Rn.endLineNumber&&"never"!==Xt.getOption(37).seedSearchStringFromSelection&&!Wn,ft=Wn||dn?2:1;return un.start({forceRevealReplace:!0,seedSearchStringFromSelection:dn?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Xt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==Xt.getOption(37).seedSearchStringFromSelection,shouldFocus:ft,shouldAnimate:!0,updateSearchScope:!1,loop:Xt.getOption(37).loop})}),(0,S._K)(Li.ID,Qi),(0,S.Qr)(Wi),(0,S.Qr)(ro),(0,S.Qr)(Ko),(0,S.Qr)(Eo),(0,S.Qr)(Io),(0,S.Qr)(Yi);const Ao=S._l.bindToContribution(Li.get);(0,S.fK)(new Ao({id:"closeFindWidget",precondition:z,handler:li=>li.closeFindWidget(),kbOpts:{weight:105,kbExpr:H.Ao.and(v.u.focus,H.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,S.fK)(new Ao({id:"toggleFindCaseSensitive",precondition:void 0,handler:li=>li.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:K.primary,mac:K.mac,win:K.win,linux:K.linux}})),(0,S.fK)(new Ao({id:"toggleFindWholeWord",precondition:void 0,handler:li=>li.toggleWholeWords(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:U.primary,mac:U.mac,win:U.win,linux:U.linux}})),(0,S.fK)(new Ao({id:"toggleFindRegex",precondition:void 0,handler:li=>li.toggleRegex(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:ne.primary,mac:ne.mac,win:ne.win,linux:ne.linux}})),(0,S.fK)(new Ao({id:"toggleFindInSelection",precondition:void 0,handler:li=>li.toggleSearchScope(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:N.primary,mac:N.mac,win:N.win,linux:N.linux}})),(0,S.fK)(new Ao({id:"togglePreserveCase",precondition:void 0,handler:li=>li.togglePreserveCase(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:W.primary,mac:W.mac,win:W.win,linux:W.linux}})),(0,S.fK)(new Ao({id:"editor.action.replaceOne",precondition:z,handler:li=>li.replace(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:3094}})),(0,S.fK)(new Ao({id:"editor.action.replaceOne",precondition:z,handler:li=>li.replace(),kbOpts:{weight:105,kbExpr:H.Ao.and(v.u.focus,j),primary:3}})),(0,S.fK)(new Ao({id:"editor.action.replaceAll",precondition:z,handler:li=>li.replaceAll(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:2563}})),(0,S.fK)(new Ao({id:"editor.action.replaceAll",precondition:z,handler:li=>li.replaceAll(),kbOpts:{weight:105,kbExpr:H.Ao.and(v.u.focus,j),primary:void 0,mac:{primary:2051}}})),(0,S.fK)(new Ao({id:"editor.action.selectAllMatches",precondition:z,handler:li=>li.selectAllMatches(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:515}}))},87145:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{FoldingController:()=>be,editorFoldForeground:()=>si,foldBackgroundBackground:()=>go});var d=e(48648),n=e(4125),l=e(53993),S=e(80142),v=e(73879),T=e(72715),C=e(57856),E=e.n(C),L=e(38470),_=e.n(L),s=e(43370),m=e.n(s),c=e(28458),t=e.n(c),a=e(71278),p=e.n(a),u=e(29488),g=e.n(u),b=e(75697),y={};y.styleTagTransform=g(),y.setAttributes=t(),y.insert=m().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=p(),E()(b.Z,y);var x=e(46780),P=e(26845),O=e(82290),V=e(45337),H=e(94911),z=e(3778);const F=16777215,j=4278190080;class K{constructor(pt){const gt=Math.ceil(pt/32);this._states=new Uint32Array(gt)}get(pt){return 0!=(this._states[pt/32|0]&1<<pt%32)}set(pt,gt){const Kt=pt/32|0,nn=pt%32,an=this._states[Kt];this._states[Kt]=gt?an|1<<nn:an&~(1<<nn)}}class U{constructor(pt,gt,Kt){if(this.sourceAbbr={0:" ",1:"u",2:"r"},pt.length!==gt.length||pt.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=pt,this._endIndexes=gt,this._collapseStates=new K(pt.length),this._userDefinedStates=new K(pt.length),this._recoveredStates=new K(pt.length),this._types=Kt,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const pt=[],gt=(Kt,nn)=>{const an=pt[pt.length-1];return this.getStartLineNumber(an)<=Kt&&this.getEndLineNumber(an)>=nn};for(let Kt=0,nn=this._startIndexes.length;Kt<nn;Kt++){const an=this._startIndexes[Kt],mn=this._endIndexes[Kt];if(an>F||mn>F)throw new Error("startLineNumber or endLineNumber must not exceed "+F);for(;pt.length>0&&!gt(an,mn);)pt.pop();const Nn=pt.length>0?pt[pt.length-1]:-1;pt.push(Kt),this._startIndexes[Kt]=an+((255&Nn)<<24),this._endIndexes[Kt]=mn+((65280&Nn)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(pt){return this._startIndexes[pt]&F}getEndLineNumber(pt){return this._endIndexes[pt]&F}getType(pt){return this._types?this._types[pt]:void 0}hasTypes(){return!!this._types}isCollapsed(pt){return this._collapseStates.get(pt)}setCollapsed(pt,gt){this._collapseStates.set(pt,gt)}isUserDefined(pt){return this._userDefinedStates.get(pt)}setUserDefined(pt,gt){return this._userDefinedStates.set(pt,gt)}isRecovered(pt){return this._recoveredStates.get(pt)}setRecovered(pt,gt){return this._recoveredStates.set(pt,gt)}getSource(pt){return this.isUserDefined(pt)?1:this.isRecovered(pt)?2:0}setSource(pt,gt){1===gt?(this.setUserDefined(pt,!0),this.setRecovered(pt,!1)):2===gt?(this.setUserDefined(pt,!1),this.setRecovered(pt,!0)):(this.setUserDefined(pt,!1),this.setRecovered(pt,!1))}setCollapsedAllOfType(pt,gt){let Kt=!1;if(this._types)for(let nn=0;nn<this._types.length;nn++)this._types[nn]===pt&&(this.setCollapsed(nn,gt),Kt=!0);return Kt}toRegion(pt){return new ne(this,pt)}getParentIndex(pt){this.ensureParentIndices();const gt=((this._startIndexes[pt]&j)>>>24)+((this._endIndexes[pt]&j)>>>16);return 65535===gt?-1:gt}contains(pt,gt){return this.getStartLineNumber(pt)<=gt&&this.getEndLineNumber(pt)>=gt}findIndex(pt){let gt=0,Kt=this._startIndexes.length;if(0===Kt)return-1;for(;gt<Kt;){const nn=Math.floor((gt+Kt)/2);pt<this.getStartLineNumber(nn)?Kt=nn:gt=nn+1}return gt-1}findRange(pt){let gt=this.findIndex(pt);if(gt>=0){if(this.getEndLineNumber(gt)>=pt)return gt;for(gt=this.getParentIndex(gt);-1!==gt;){if(this.contains(gt,pt))return gt;gt=this.getParentIndex(gt)}}return-1}toString(){const pt=[];for(let gt=0;gt<this.length;gt++)pt[gt]=`[${this.sourceAbbr[this.getSource(gt)]}${this.isCollapsed(gt)?"+":"-"}] ${this.getStartLineNumber(gt)}/${this.getEndLineNumber(gt)}`;return pt.join(", ")}toFoldRange(pt){return{startLineNumber:this._startIndexes[pt]&F,endLineNumber:this._endIndexes[pt]&F,type:this._types?this._types[pt]:void 0,isCollapsed:this.isCollapsed(pt),source:this.getSource(pt)}}static fromFoldRanges(pt){const gt=pt.length,Kt=new Uint32Array(gt),nn=new Uint32Array(gt);let an=[],mn=!1;for(let jn=0;jn<gt;jn++){const Yn=pt[jn];Kt[jn]=Yn.startLineNumber,nn[jn]=Yn.endLineNumber,an.push(Yn.type),Yn.type&&(mn=!0)}mn||(an=void 0);const Nn=new U(Kt,nn,an);for(let jn=0;jn<gt;jn++)pt[jn].isCollapsed&&Nn.setCollapsed(jn,!0),Nn.setSource(jn,pt[jn].source);return Nn}static sanitizeAndMerge(pt,gt,Kt){Kt=Kt??Number.MAX_VALUE;const nn=(Wi,ro)=>Array.isArray(Wi)?mo=>mo<ro?Wi[mo]:void 0:mo=>mo<ro?Wi.toFoldRange(mo):void 0,an=nn(pt,pt.length),mn=nn(gt,gt.length);let Nn=0,jn=0,Yn=an(0),wi=mn(0);const Li=[];let Qi,Pi=0;const Ki=[];for(;Yn||wi;){let Wi;if(wi&&(!Yn||Yn.startLineNumber>=wi.startLineNumber))Yn&&Yn.startLineNumber===wi.startLineNumber?(1===wi.source?Wi=wi:(Wi=Yn,Wi.isCollapsed=wi.isCollapsed&&Yn.endLineNumber===wi.endLineNumber,Wi.source=0),Yn=an(++Nn)):(Wi=wi,wi.isCollapsed&&0===wi.source&&(Wi.source=2)),wi=mn(++jn);else{let ro=jn,mo=wi;for(;;){if(!mo||mo.startLineNumber>Yn.endLineNumber){Wi=Yn;break}if(1===mo.source&&mo.endLineNumber>Yn.endLineNumber)break;mo=mn(++ro)}Yn=an(++Nn)}if(Wi){for(;Qi&&Qi.endLineNumber<Wi.startLineNumber;)Qi=Li.pop();Wi.endLineNumber>Wi.startLineNumber&&Wi.startLineNumber>Pi&&Wi.endLineNumber<=Kt&&(!Qi||Qi.endLineNumber>=Wi.endLineNumber)&&(Ki.push(Wi),Pi=Wi.startLineNumber,Qi&&Li.push(Qi),Qi=Wi)}}return Ki}}class ne{constructor(pt,gt){this.ranges=pt,this.index=gt}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(pt){return pt.startLineNumber<=this.startLineNumber&&pt.endLineNumber>=this.endLineNumber}containsLine(pt){return this.startLineNumber<=pt&&pt<=this.endLineNumber}}var N=e(7626);class W{constructor(pt,gt){this._updateEventEmitter=new z.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=pt,this._decorationProvider=gt,this._regions=new U(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(pt){if(!pt.length)return;pt=pt.sort((Kt,nn)=>Kt.regionIndex-nn.regionIndex);const gt={};this._decorationProvider.changeDecorations(Kt=>{let nn=0,an=-1,mn=-1;const Nn=jn=>{for(;nn<jn;){const Yn=this._regions.getEndLineNumber(nn),wi=this._regions.isCollapsed(nn);if(Yn<=an){const Li=0!==this.regions.getSource(nn);Kt.changeDecorationOptions(this._editorDecorationIds[nn],this._decorationProvider.getDecorationOption(wi,Yn<=mn,Li))}wi&&Yn>mn&&(mn=Yn),nn++}};for(const jn of pt){const Yn=jn.regionIndex,wi=this._editorDecorationIds[Yn];if(wi&&!gt[wi]){gt[wi]=!0,Nn(Yn);const Li=!this._regions.isCollapsed(Yn);this._regions.setCollapsed(Yn,Li),an=Math.max(an,this._regions.getEndLineNumber(Yn))}}Nn(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:pt})}removeManualRanges(pt){const gt=new Array,Kt=nn=>{for(const an of pt)if(!(an.startLineNumber>nn.endLineNumber||nn.startLineNumber>an.endLineNumber))return!0;return!1};for(let nn=0;nn<this._regions.length;nn++){const an=this._regions.toFoldRange(nn);(0===an.source||!Kt(an))&&gt.push(an)}this.updatePost(U.fromFoldRanges(gt))}update(pt,gt=[]){const Kt=this._currentFoldedOrManualRanges(gt),nn=U.sanitizeAndMerge(pt,Kt,this._textModel.getLineCount());this.updatePost(U.fromFoldRanges(nn))}updatePost(pt){const gt=[];let Kt=-1;for(let nn=0,an=pt.length;nn<an;nn++){const mn=pt.getStartLineNumber(nn),Nn=pt.getEndLineNumber(nn),jn=pt.isCollapsed(nn),Yn=0!==pt.getSource(nn),wi={startLineNumber:mn,startColumn:this._textModel.getLineMaxColumn(mn),endLineNumber:Nn,endColumn:this._textModel.getLineMaxColumn(Nn)+1};gt.push({range:wi,options:this._decorationProvider.getDecorationOption(jn,Nn<=Kt,Yn)}),jn&&Nn>Kt&&(Kt=Nn)}this._decorationProvider.changeDecorations(nn=>this._editorDecorationIds=nn.deltaDecorations(this._editorDecorationIds,gt)),this._regions=pt,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(pt=[]){const gt=(nn,an)=>{for(const mn of pt)if(nn<mn&&mn<=an)return!0;return!1},Kt=[];for(let nn=0,an=this._regions.length;nn<an;nn++){let mn=this.regions.isCollapsed(nn);const Nn=this.regions.getSource(nn);if(mn||0!==Nn){const jn=this._regions.toFoldRange(nn),Yn=this._textModel.getDecorationRange(this._editorDecorationIds[nn]);Yn&&(mn&&(gt(Yn.startLineNumber,Yn.endLineNumber)||Yn.endLineNumber-Yn.startLineNumber!=jn.endLineNumber-jn.startLineNumber)&&(mn=!1),Kt.push({startLineNumber:Yn.startLineNumber,endLineNumber:Yn.endLineNumber,type:jn.type,isCollapsed:mn,source:Nn}))}}return Kt}getMemento(){const pt=this._currentFoldedOrManualRanges(),gt=[];for(let Kt=0,nn=pt.length;Kt<nn;Kt++){const an=pt[Kt],mn=this._getLinesChecksum(an.startLineNumber+1,an.endLineNumber);gt.push({startLineNumber:an.startLineNumber,endLineNumber:an.endLineNumber,isCollapsed:an.isCollapsed,source:an.source,checksum:mn})}return gt.length>0?gt:void 0}applyMemento(pt){var gt,Kt;if(!Array.isArray(pt))return;const nn=[],an=this._textModel.getLineCount();for(const Nn of pt){if(Nn.startLineNumber>=Nn.endLineNumber||Nn.startLineNumber<1||Nn.endLineNumber>an)continue;const jn=this._getLinesChecksum(Nn.startLineNumber+1,Nn.endLineNumber);(!Nn.checksum||jn===Nn.checksum)&&nn.push({startLineNumber:Nn.startLineNumber,endLineNumber:Nn.endLineNumber,type:void 0,isCollapsed:null===(gt=Nn.isCollapsed)||void 0===gt||gt,source:null!==(Kt=Nn.source)&&void 0!==Kt?Kt:0})}const mn=U.sanitizeAndMerge(this._regions,nn,an);this.updatePost(U.fromFoldRanges(mn))}_getLinesChecksum(pt,gt){return(0,N.vp)(this._textModel.getLineContent(pt)+this._textModel.getLineContent(gt))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(pt,gt){const Kt=[];if(this._regions){let nn=this._regions.findRange(pt),an=1;for(;nn>=0;){const mn=this._regions.toRegion(nn);(!gt||gt(mn,an))&&Kt.push(mn),an++,nn=mn.parentIndex}}return Kt}getRegionAtLine(pt){if(this._regions){const gt=this._regions.findRange(pt);if(gt>=0)return this._regions.toRegion(gt)}return null}getRegionsInside(pt,gt){const Kt=[],nn=pt?pt.regionIndex+1:0,an=pt?pt.endLineNumber:Number.MAX_VALUE;if(gt&&2===gt.length){const mn=[];for(let Nn=nn,jn=this._regions.length;Nn<jn;Nn++){const Yn=this._regions.toRegion(Nn);if(!(this._regions.getStartLineNumber(Nn)<an))break;for(;mn.length>0&&!Yn.containedBy(mn[mn.length-1]);)mn.pop();mn.push(Yn),gt(Yn,mn.length)&&Kt.push(Yn)}}else for(let mn=nn,Nn=this._regions.length;mn<Nn;mn++){const jn=this._regions.toRegion(mn);if(!(this._regions.getStartLineNumber(mn)<an))break;(!gt||gt(jn))&&Kt.push(jn)}return Kt}}function ge(Yt,pt,gt=Number.MAX_VALUE,Kt){const nn=[];if(Kt&&Kt.length>0)for(const an of Kt){const mn=Yt.getRegionAtLine(an);if(mn&&(mn.isCollapsed!==pt&&nn.push(mn),gt>1)){const Nn=Yt.getRegionsInside(mn,(jn,Yn)=>jn.isCollapsed!==pt&&Yn<gt);nn.push(...Nn)}}else{const an=Yt.getRegionsInside(null,(mn,Nn)=>mn.isCollapsed!==pt&&Nn<gt);nn.push(...an)}Yt.toggleCollapseState(nn)}function M(Yt,pt,gt,Kt){const nn=[];for(const an of Kt){const mn=Yt.getAllRegionsAtLine(an,(Nn,jn)=>Nn.isCollapsed!==pt&&jn<=gt);nn.push(...mn)}Yt.toggleCollapseState(nn)}function xe(Yt,pt,gt){const Kt=[];for(const mn of gt){const Nn=Yt.getAllRegionsAtLine(mn,void 0);Nn.length>0&&Kt.push(Nn[0])}const an=Yt.getRegionsInside(null,mn=>Kt.every(Nn=>!Nn.containedBy(mn)&&!mn.containedBy(Nn))&&mn.isCollapsed!==pt);Yt.toggleCollapseState(an)}function Ne(Yt,pt,gt){const Kt=Yt.textModel,nn=Yt.regions,an=[];for(let mn=nn.length-1;mn>=0;mn--)if(gt!==nn.isCollapsed(mn)){const Nn=nn.getStartLineNumber(mn);pt.test(Kt.getLineContent(Nn))&&an.push(nn.toRegion(mn))}Yt.toggleCollapseState(an)}function oe(Yt,pt,gt){const Kt=Yt.regions,nn=[];for(let an=Kt.length-1;an>=0;an--)gt!==Kt.isCollapsed(an)&&pt===Kt.getType(an)&&nn.push(Kt.toRegion(an));Yt.toggleCollapseState(nn)}var Me=e(64023),de=e(98570),ke=e(93169);class Ue{constructor(pt){this._updateEventEmitter=new z.Q5,this._hasLineChanges=!1,this._foldingModel=pt,this._foldingModelListener=pt.onDidChange(gt=>this.updateHiddenRanges()),this._hiddenRanges=[],pt.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(pt){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=pt.changes.some(gt=>gt.range.endLineNumber!==gt.range.startLineNumber||0!==(0,ke.Q)(gt.text)[0]))}updateHiddenRanges(){let pt=!1;const gt=[];let Kt=0,nn=0,an=Number.MAX_VALUE,mn=-1;const Nn=this._foldingModel.regions;for(;Kt<Nn.length;Kt++){if(!Nn.isCollapsed(Kt))continue;const jn=Nn.getStartLineNumber(Kt)+1,Yn=Nn.getEndLineNumber(Kt);an<=jn&&Yn<=mn||(!pt&&nn<this._hiddenRanges.length&&this._hiddenRanges[nn].startLineNumber===jn&&this._hiddenRanges[nn].endLineNumber===Yn?(gt.push(this._hiddenRanges[nn]),nn++):(pt=!0,gt.push(new de.e(jn,1,Yn,1))),an=jn,mn=Yn)}(this._hasLineChanges||pt||nn<this._hiddenRanges.length)&&this.applyHiddenRanges(gt)}applyHiddenRanges(pt){this._hiddenRanges=pt,this._hasLineChanges=!1,this._updateEventEmitter.fire(pt)}hasRanges(){return this._hiddenRanges.length>0}isHidden(pt){return null!==ce(this._hiddenRanges,pt)}adjustSelections(pt){let gt=!1;const Kt=this._foldingModel.textModel;let nn=null;const an=mn=>((!nn||!function ze(Yt,pt){return Yt>=pt.startLineNumber&&Yt<=pt.endLineNumber}(mn,nn))&&(nn=ce(this._hiddenRanges,mn)),nn?nn.startLineNumber-1:null);for(let mn=0,Nn=pt.length;mn<Nn;mn++){let jn=pt[mn];const Yn=an(jn.startLineNumber);Yn&&(jn=jn.setStartPosition(Yn,Kt.getLineMaxColumn(Yn)),gt=!0);const wi=an(jn.endLineNumber);wi&&(jn=jn.setEndPosition(wi,Kt.getLineMaxColumn(wi)),gt=!0),pt[mn]=jn}return gt}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function ce(Yt,pt){const gt=(0,Me.lG)(Yt,Kt=>pt<Kt.startLineNumber)-1;return gt>=0&&Yt[gt].endLineNumber>=pt?Yt[gt]:null}var Ve=e(24927);class Lt{constructor(pt,gt,Kt){this.editorModel=pt,this.languageConfigurationService=gt,this.maxFoldingRegions=Kt,this.id="indent"}dispose(){}compute(pt,gt){const Kt=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function ae(Yt,pt,gt,Kt,nn){const an=Yt.getOptions().tabSize,mn=new $e(Kt=Kt??5e3,nn);let Nn;gt&&(Nn=new RegExp(`(${gt.start.source})|(?:${gt.end.source})`));const jn=[],Yn=Yt.getLineCount()+1;jn.push({indent:-1,endAbove:Yn,line:Yn});for(let wi=Yt.getLineCount();wi>0;wi--){const Li=Yt.getLineContent(wi),Qi=(0,Ve.q)(Li,an);let Ki,Pi=jn[jn.length-1];if(-1!==Qi){if(Nn&&(Ki=Li.match(Nn))){if(!Ki[1]){jn.push({indent:-2,endAbove:wi,line:wi});continue}{let Wi=jn.length-1;for(;Wi>0&&-2!==jn[Wi].indent;)Wi--;if(Wi>0){jn.length=Wi+1,Pi=jn[Wi],mn.insertFirst(wi,Pi.line,Qi),Pi.line=wi,Pi.indent=Qi,Pi.endAbove=wi;continue}}}if(Pi.indent>Qi){do{jn.pop(),Pi=jn[jn.length-1]}while(Pi.indent>Qi);const Wi=Pi.endAbove-1;Wi-wi>=1&&mn.insertFirst(wi,Wi,Qi)}Pi.indent===Qi?Pi.endAbove=wi:jn.push({indent:Qi,endAbove:wi,line:wi})}else pt&&(Pi.endAbove=wi)}return mn.toIndentRanges(Yt)}(this.editorModel,Kt&&!!Kt.offSide,Kt&&Kt.markers,this.maxFoldingRegions,gt))}}class $e{constructor(pt,gt){this._notifyTooManyRegions=gt,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=pt}insertFirst(pt,gt,Kt){if(pt>F||gt>F)return;const nn=this._length;this._startIndexes[nn]=pt,this._endIndexes[nn]=gt,this._length++,Kt<1e3&&(this._indentOccurrences[Kt]=(this._indentOccurrences[Kt]||0)+1)}toIndentRanges(pt){var gt;if(this._length<=this._foldingRangesLimit){const Kt=new Uint32Array(this._length),nn=new Uint32Array(this._length);for(let an=this._length-1,mn=0;an>=0;an--,mn++)Kt[mn]=this._startIndexes[an],nn[mn]=this._endIndexes[an];return new U(Kt,nn)}{null===(gt=this._notifyTooManyRegions)||void 0===gt||gt.call(this,this._foldingRangesLimit);let Kt=0,nn=this._indentOccurrences.length;for(let jn=0;jn<this._indentOccurrences.length;jn++){const Yn=this._indentOccurrences[jn];if(Yn){if(Yn+Kt>this._foldingRangesLimit){nn=jn;break}Kt+=Yn}}const an=pt.getOptions().tabSize,mn=new Uint32Array(this._foldingRangesLimit),Nn=new Uint32Array(this._foldingRangesLimit);for(let jn=this._length-1,Yn=0;jn>=0;jn--){const wi=this._startIndexes[jn],Li=pt.getLineContent(wi),Qi=(0,Ve.q)(Li,an);(Qi<nn||Qi===nn&&Kt++<this._foldingRangesLimit)&&(mn[Yn]=wi,Nn[Yn]=this._endIndexes[jn],Yn++)}return new U(mn,Nn)}}}var ve=e(55197),he=e(16468),le=e(4062),Q=e(40902),Ce=e(58783),Pe=e(59758),dt=e(66287);const st=(0,dt.q5)("folding-expanded",Ce.lA.chevronDown,(0,ve.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),qe=(0,dt.q5)("folding-collapsed",Ce.lA.chevronRight,(0,ve.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Qe=(0,dt.q5)("folding-manual-collapsed",qe,(0,ve.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),et=(0,dt.q5)("folding-manual-expanded",st,(0,ve.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class vt{constructor(pt){this.editor=pt,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(pt,gt,Kt){return gt||"never"===this.showFoldingControls?vt.HIDDEN_RANGE_DECORATION:pt?Kt?this.showFoldingHighlights?vt.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:vt.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?vt.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:vt.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?Kt?vt.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:vt.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Kt?vt.MANUALLY_EXPANDED_VISUAL_DECORATION:vt.EXPANDED_VISUAL_DECORATION}changeDecorations(pt){return this.editor.changeDecorations(pt)}removeDecorations(pt){this.editor.removeDecorations(pt)}}vt.COLLAPSED_VISUAL_DECORATION=Pe.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(qe)}),vt.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Pe.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(qe)}),vt.MANUALLY_COLLAPSED_VISUAL_DECORATION=Pe.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(st)}),vt.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Pe.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(Qe)}),vt.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Pe.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(st)}),vt.EXPANDED_VISUAL_DECORATION=Pe.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(st)}),vt.MANUALLY_EXPANDED_VISUAL_DECORATION=Pe.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(et)}),vt.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Pe.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(et)}),vt.HIDDEN_RANGE_DECORATION=Pe.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const mt={};class $t{constructor(pt,gt,Kt,nn){this.editorModel=pt,this.providers=gt,this.limit=nn,this.id="syntax";for(const an of gt)"function"==typeof an.onDidChange&&(this.disposables||(this.disposables=new S.SL),this.disposables.add(an.onDidChange(Kt)))}compute(pt,gt){return function Bt(Yt,pt,gt){let Kt=null;const nn=Yt.map((an,mn)=>Promise.resolve(an.provideFoldingRanges(pt,mt,gt)).then(Nn=>{if(!gt.isCancellationRequested&&Array.isArray(Nn)){Array.isArray(Kt)||(Kt=[]);const jn=pt.getLineCount();for(const Yn of Nn)Yn.start>0&&Yn.end>Yn.start&&Yn.end<=jn&&Kt.push({start:Yn.start,end:Yn.end,rank:mn,kind:Yn.kind})}},n.Cp));return Promise.all(nn).then(an=>Kt)}(this.providers,this.editorModel,pt).then(Kt=>Kt?function ht(Yt,pt,gt){const Kt=Yt.sort((Nn,jn)=>{let Yn=Nn.start-jn.start;return 0===Yn&&(Yn=Nn.rank-jn.rank),Yn}),nn=new Ke(pt,gt);let an;const mn=[];for(const Nn of Kt)if(an){if(Nn.start>an.start)if(Nn.end<=an.end)mn.push(an),an=Nn,nn.add(Nn.start,Nn.end,Nn.kind&&Nn.kind.value,mn.length);else{if(Nn.start>an.end){do{an=mn.pop()}while(an&&Nn.start>an.end);an&&mn.push(an),an=Nn}nn.add(Nn.start,Nn.end,Nn.kind&&Nn.kind.value,mn.length)}}else an=Nn,nn.add(Nn.start,Nn.end,Nn.kind&&Nn.kind.value,mn.length);return nn.toIndentRanges()}(Kt,this.limit,gt):null)}dispose(){var pt;null===(pt=this.disposables)||void 0===pt||pt.dispose()}}class Ke{constructor(pt,gt){this._notifyTooManyRegions=gt,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=pt}add(pt,gt,Kt,nn){if(pt>F||gt>F)return;const an=this._length;this._startIndexes[an]=pt,this._endIndexes[an]=gt,this._nestingLevels[an]=nn,this._types[an]=Kt,this._length++,nn<30&&(this._nestingLevelCounts[nn]=(this._nestingLevelCounts[nn]||0)+1)}toIndentRanges(){var pt;if(this._length<=this._foldingRangesLimit){const gt=new Uint32Array(this._length),Kt=new Uint32Array(this._length);for(let nn=0;nn<this._length;nn++)gt[nn]=this._startIndexes[nn],Kt[nn]=this._endIndexes[nn];return new U(gt,Kt,this._types)}{null===(pt=this._notifyTooManyRegions)||void 0===pt||pt.call(this,this._foldingRangesLimit);let gt=0,Kt=this._nestingLevelCounts.length;for(let Nn=0;Nn<this._nestingLevelCounts.length;Nn++){const jn=this._nestingLevelCounts[Nn];if(jn){if(jn+gt>this._foldingRangesLimit){Kt=Nn;break}gt+=jn}}const nn=new Uint32Array(this._foldingRangesLimit),an=new Uint32Array(this._foldingRangesLimit),mn=[];for(let Nn=0,jn=0;Nn<this._length;Nn++){const Yn=this._nestingLevels[Nn];(Yn<Kt||Yn===Kt&&gt++<this._foldingRangesLimit)&&(nn[jn]=this._startIndexes[Nn],an[jn]=this._endIndexes[Nn],mn[jn]=this._types[Nn],jn++)}return new U(nn,an,mn)}}}var jt=e(54436),fn=e(50819),Dn=e(79095),yt=e(631),He=e(90790),Ae=function(Yt,pt){return function(gt,Kt){pt(gt,Kt,Yt)}};const ue=new he.uy("foldingEnabled",!1);let be=class gc extends S.JT{constructor(pt,gt,Kt,nn,an,mn){super(),this.contextKeyService=gt,this.languageConfigurationService=Kt,this.languageFeaturesService=mn,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new S.SL),this.editor=pt;const Nn=this.editor.getOptions();this._isEnabled=Nn.get(39),this._useFoldingProviders="indentation"!==Nn.get(40),this._unfoldOnClickAfterEndOfLine=Nn.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Nn.get(42),this._maxFoldingRegions=Nn.get(43),this.updateDebounceInfo=an.for(mn.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new vt(pt),this.foldingDecorationProvider.showFoldingControls=Nn.get(101),this.foldingDecorationProvider.showFoldingHighlights=Nn.get(41),this.foldingEnabled=ue.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=jn=>{this._tooManyRegionsNotified||(nn.notify({severity:fn.Z.Warning,sticky:!0,message:ve.NC("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",jn)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(jn=>{if(jn.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),jn.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),jn.hasChanged(101)||jn.hasChanged(41)){const Yn=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Yn.get(101),this.foldingDecorationProvider.showFoldingHighlights=Yn.get(41),this.triggerFoldingModelChanged()}jn.hasChanged(40)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(40),this.onFoldingStrategyChanged()),jn.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),jn.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(pt){return pt.getContribution(gc.ID)}saveViewState(){const pt=this.editor.getModel();if(!pt||!this._isEnabled||pt.isTooLargeForTokenization())return{};if(this.foldingModel){const gt=this.foldingModel.getMemento(),Kt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:gt,lineCount:pt.getLineCount(),provider:Kt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(pt){const gt=this.editor.getModel();if(gt&&this._isEnabled&&!gt.isTooLargeForTokenization()&&this.hiddenRangeModel&&pt&&pt.lineCount===gt.getLineCount()&&(this._currentModelHasFoldedImports=!!pt.foldedImports,pt.collapsedRegions&&pt.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(pt.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const pt=this.editor.getModel();!this._isEnabled||!pt||pt.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new W(pt,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Ue(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(gt=>this.onHiddenRangesChanges(gt))),this.updateScheduler=new d.vp(this.updateDebounceInfo.get(pt)),this.cursorChangedScheduler=new d.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(gt=>this.onDidChangeModelContent(gt))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(gt=>this.onEditorMouseDown(gt))),this.localToDispose.add(this.editor.onMouseUp(gt=>this.onEditorMouseUp(gt))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(pt){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Lt(pt,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const gt=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);gt.length>0&&(this.rangeProvider=new $t(pt,gt,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(pt){var gt;null===(gt=this.hiddenRangeModel)||void 0===gt||gt.notifyChangeModelContent(pt),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const pt=this.foldingModel;if(!pt)return null;const gt=new yt.G(!0),Kt=this.getRangeProvider(pt.textModel),nn=this.foldingRegionPromise=(0,d.PG)(an=>Kt.compute(an,this._notifyTooManyRegions));return nn.then(an=>{if(an&&nn===this.foldingRegionPromise){let mn;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const wi=an.setCollapsedAllOfType(V.AD.Imports.value,!0);wi&&(mn=x.Z.capture(this.editor),this._currentModelHasFoldedImports=wi)}const Nn=this.editor.getSelections(),jn=Nn?Nn.map(wi=>wi.startLineNumber):[];pt.update(an,jn),mn?.restore(this.editor);const Yn=this.updateDebounceInfo.update(pt.textModel,gt.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Yn)}return pt})}).then(void 0,pt=>((0,n.dL)(pt),null)))}onHiddenRangesChanges(pt){if(this.hiddenRangeModel&&pt.length&&!this._restoringViewState){const gt=this.editor.getSelections();gt&&this.hiddenRangeModel.adjustSelections(gt)&&this.editor.setSelections(gt)}this.editor.setHiddenAreas(pt)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const pt=this.getFoldingModel();!pt||pt.then(gt=>{if(gt){const Kt=this.editor.getSelections();if(Kt&&Kt.length>0){const nn=[];for(const an of Kt){const mn=an.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(mn)&&nn.push(...gt.getAllRegionsAtLine(mn,Nn=>Nn.isCollapsed&&mn>Nn.startLineNumber))}nn.length&&(gt.toggleCollapseState(nn),this.reveal(Kt[0].getPosition()))}}}).then(void 0,n.dL)}onEditorMouseDown(pt){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!pt.target||!pt.target.range||!pt.event.leftButton&&!pt.event.middleButton)return;const gt=pt.target.range;let Kt=!1;switch(pt.target.type){case 4:if(pt.target.detail.offsetX-pt.target.element.offsetLeft<5)return;Kt=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!pt.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const nn=this.editor.getModel();if(nn&&gt.startColumn===nn.getLineMaxColumn(gt.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:gt.startLineNumber,iconClicked:Kt}}onEditorMouseUp(pt){const gt=this.foldingModel;if(!gt||!this.mouseDownInfo||!pt.target)return;const Kt=this.mouseDownInfo.lineNumber,nn=this.mouseDownInfo.iconClicked,an=pt.target.range;if(!an||an.startLineNumber!==Kt)return;if(nn){if(4!==pt.target.type)return}else{const Nn=this.editor.getModel();if(!Nn||an.startColumn!==Nn.getLineMaxColumn(Kt))return}const mn=gt.getRegionAtLine(Kt);if(mn&&mn.startLineNumber===Kt){const Nn=mn.isCollapsed;if(nn||Nn){let Yn=[];if(pt.event.altKey){const Li=gt.getRegionsInside(null,Qi=>!Qi.containedBy(mn)&&!mn.containedBy(Qi));for(const Qi of Li)Qi.isCollapsed&&Yn.push(Qi);0===Yn.length&&(Yn=Li)}else{const wi=pt.event.middleButton||pt.event.shiftKey;if(wi)for(const Li of gt.getRegionsInside(mn))Li.isCollapsed===Nn&&Yn.push(Li);(Nn||!wi||0===Yn.length)&&Yn.push(mn)}gt.toggleCollapseState(Yn),this.reveal({lineNumber:Kt,column:1})}}}reveal(pt){this.editor.revealPositionInCenterIfOutsideViewport(pt,0)}};be.ID="editor.contrib.folding",be=function(Yt,pt,gt,Kt){var mn,nn=arguments.length,an=nn<3?pt:null===Kt?Kt=Object.getOwnPropertyDescriptor(pt,gt):Kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)an=Reflect.decorate(Yt,pt,gt,Kt);else for(var Nn=Yt.length-1;Nn>=0;Nn--)(mn=Yt[Nn])&&(an=(nn<3?mn(an):nn>3?mn(pt,gt,an):mn(pt,gt))||an);return nn>3&&an&&Object.defineProperty(pt,gt,an),an}([Ae(1,he.i6),Ae(2,H.c_),Ae(3,jt.lT),Ae(4,Dn.A),Ae(5,He.p)],be);class Je extends P.R6{runEditorCommand(pt,gt,Kt){const nn=pt.get(H.c_),an=be.get(gt);if(!an)return;const mn=an.getFoldingModel();return mn?(this.reportTelemetry(pt,gt),mn.then(Nn=>{if(Nn){this.invoke(an,Nn,gt,Kt,nn);const jn=gt.getSelection();jn&&an.reveal(jn.getStartPosition())}})):void 0}getSelectedLines(pt){const gt=pt.getSelections();return gt?gt.map(Kt=>Kt.startLineNumber):[]}getLineNumbers(pt,gt){return pt&&pt.selectionLines?pt.selectionLines.map(Kt=>Kt+1):this.getSelectedLines(gt)}run(pt,gt){}}function Fe(Yt){if(!T.o8(Yt)){if(!T.Kn(Yt))return!1;const pt=Yt;if(!T.o8(pt.levels)&&!T.hj(pt.levels)||!T.o8(pt.direction)&&!T.HD(pt.direction)||!T.o8(pt.selectionLines)&&(!T.kJ(pt.selectionLines)||!pt.selectionLines.every(T.hj)))return!1}return!0}let Ei=(()=>{class Yt extends Je{getFoldingLevel(){return parseInt(this.id.substr(Yt.ID_PREFIX.length))}invoke(gt,Kt,nn){!function Ee(Yt,pt,gt,Kt){const an=Yt.getRegionsInside(null,(mn,Nn)=>Nn===pt&&mn.isCollapsed!==gt&&!Kt.some(jn=>mn.containsLine(jn)));Yt.toggleCollapseState(an)}(Kt,this.getFoldingLevel(),!0,this.getSelectedLines(nn))}}return Yt.ID_PREFIX="editor.foldLevel",Yt.ID=pt=>Yt.ID_PREFIX+pt,Yt})();(0,P._K)(be.ID,be),(0,P.Qr)(class nt extends Je{constructor(){super({id:"editor.unfold",label:ve.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Fe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(pt,gt,Kt,nn){const an=nn&&nn.levels||1,mn=this.getLineNumbers(nn,Kt);nn&&"up"===nn.direction?M(gt,!1,an,mn):ge(gt,!1,an,mn)}}),(0,P.Qr)(class bt extends Je{constructor(){super({id:"editor.unfoldRecursively",label:ve.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2137),weight:100}})}invoke(pt,gt,Kt,nn){ge(gt,!1,Number.MAX_VALUE,this.getSelectedLines(Kt))}}),(0,P.Qr)(class Ut extends Je{constructor(){super({id:"editor.fold",label:ve.NC("foldAction.label","Fold"),alias:"Fold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:Fe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(pt,gt,Kt,nn){const an=this.getLineNumbers(nn,Kt),mn=nn&&nn.levels,Nn=nn&&nn.direction;"number"!=typeof mn&&"string"!=typeof Nn?function we(Yt,pt,gt){const Kt=[];for(const nn of gt){const an=Yt.getAllRegionsAtLine(nn,mn=>mn.isCollapsed!==pt);an.length>0&&Kt.push(an[0])}Yt.toggleCollapseState(Kt)}(gt,!0,an):"up"===Nn?M(gt,!0,mn||1,an):ge(gt,!0,mn||1,an)}}),(0,P.Qr)(class Mn extends Je{constructor(){super({id:"editor.foldRecursively",label:ve.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2135),weight:100}})}invoke(pt,gt,Kt){const nn=this.getSelectedLines(Kt);ge(gt,!0,Number.MAX_VALUE,nn)}}),(0,P.Qr)(class ci extends Je{constructor(){super({id:"editor.foldAll",label:ve.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2069),weight:100}})}invoke(pt,gt,Kt){ge(gt,!0)}}),(0,P.Qr)(class ii extends Je{constructor(){super({id:"editor.unfoldAll",label:ve.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2088),weight:100}})}invoke(pt,gt,Kt){ge(gt,!1)}}),(0,P.Qr)(class St extends Je{constructor(){super({id:"editor.foldAllBlockComments",label:ve.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2133),weight:100}})}invoke(pt,gt,Kt,nn,an){if(gt.regions.hasTypes())oe(gt,V.AD.Comment.value,!0);else{const mn=Kt.getModel();if(!mn)return;const Nn=an.getLanguageConfiguration(mn.getLanguageId()).comments;Nn&&Nn.blockCommentStartToken&&Ne(gt,new RegExp("^\\s*"+(0,v.ec)(Nn.blockCommentStartToken)),!0)}}}),(0,P.Qr)(class gn extends Je{constructor(){super({id:"editor.foldAllMarkerRegions",label:ve.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2077),weight:100}})}invoke(pt,gt,Kt,nn,an){if(gt.regions.hasTypes())oe(gt,V.AD.Region.value,!0);else{const mn=Kt.getModel();if(!mn)return;const Nn=an.getLanguageConfiguration(mn.getLanguageId()).foldingRules;Nn&&Nn.markers&&Nn.markers.start&&Ne(gt,new RegExp(Nn.markers.start),!0)}}}),(0,P.Qr)(class Vn extends Je{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:ve.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2078),weight:100}})}invoke(pt,gt,Kt,nn,an){if(gt.regions.hasTypes())oe(gt,V.AD.Region.value,!1);else{const mn=Kt.getModel();if(!mn)return;const Nn=an.getLanguageConfiguration(mn.getLanguageId()).foldingRules;Nn&&Nn.markers&&Nn.markers.start&&Ne(gt,new RegExp(Nn.markers.start),!1)}}}),(0,P.Qr)(class Sn extends Je{constructor(){super({id:"editor.foldAllExcept",label:ve.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2131),weight:100}})}invoke(pt,gt,Kt){xe(gt,!0,this.getSelectedLines(Kt))}}),(0,P.Qr)(class Gn extends Je{constructor(){super({id:"editor.unfoldAllExcept",label:ve.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2129),weight:100}})}invoke(pt,gt,Kt){xe(gt,!1,this.getSelectedLines(Kt))}}),(0,P.Qr)(class vn extends Je{constructor(){super({id:"editor.toggleFold",label:ve.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2090),weight:100}})}invoke(pt,gt,Kt){!function Z(Yt,pt,gt){const Kt=[];for(const nn of gt){const an=Yt.getRegionAtLine(nn);if(an){const mn=!an.isCollapsed;if(Kt.push(an),pt>1){const Nn=Yt.getRegionsInside(an,(jn,Yn)=>jn.isCollapsed!==mn&&Yn<pt);Kt.push(...Nn)}}}Yt.toggleCollapseState(Kt)}(gt,1,this.getSelectedLines(Kt))}}),(0,P.Qr)(class no extends Je{constructor(){super({id:"editor.gotoParentFold",label:ve.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(pt,gt,Kt){const nn=this.getSelectedLines(Kt);if(nn.length>0){const an=function Se(Yt,pt){let gt=null;const Kt=pt.getRegionAtLine(Yt);if(null!==Kt&&(gt=Kt.startLineNumber,Yt===gt)){const nn=Kt.parentIndex;gt=-1!==nn?pt.regions.getStartLineNumber(nn):null}return gt}(nn[0],gt);null!==an&&Kt.setSelection({startLineNumber:an,startColumn:1,endLineNumber:an,endColumn:1})}}}),(0,P.Qr)(class to extends Je{constructor(){super({id:"editor.gotoPreviousFold",label:ve.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(pt,gt,Kt){const nn=this.getSelectedLines(Kt);if(nn.length>0){const an=function Ie(Yt,pt){let gt=pt.getRegionAtLine(Yt);if(null!==gt&&gt.startLineNumber===Yt){if(Yt!==gt.startLineNumber)return gt.startLineNumber;{const Kt=gt.parentIndex;let nn=0;for(-1!==Kt&&(nn=pt.regions.getStartLineNumber(gt.parentIndex));null!==gt;){if(!(gt.regionIndex>0))return null;if(gt=pt.regions.toRegion(gt.regionIndex-1),gt.startLineNumber<=nn)return null;if(gt.parentIndex===Kt)return gt.startLineNumber}}}else if(pt.regions.length>0)for(gt=pt.regions.toRegion(pt.regions.length-1);null!==gt;){if(gt.startLineNumber<Yt)return gt.startLineNumber;gt=gt.regionIndex>0?pt.regions.toRegion(gt.regionIndex-1):null}return null}(nn[0],gt);null!==an&&Kt.setSelection({startLineNumber:an,startColumn:1,endLineNumber:an,endColumn:1})}}}),(0,P.Qr)(class Co extends Je{constructor(){super({id:"editor.gotoNextFold",label:ve.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(pt,gt,Kt){const nn=this.getSelectedLines(Kt);if(nn.length>0){const an=function me(Yt,pt){let gt=pt.getRegionAtLine(Yt);if(null!==gt&&gt.startLineNumber===Yt){const Kt=gt.parentIndex;let nn=0;if(-1!==Kt)nn=pt.regions.getEndLineNumber(gt.parentIndex);else{if(0===pt.regions.length)return null;nn=pt.regions.getEndLineNumber(pt.regions.length-1)}for(;null!==gt;){if(!(gt.regionIndex<pt.regions.length))return null;if(gt=pt.regions.toRegion(gt.regionIndex+1),gt.startLineNumber>=nn)return null;if(gt.parentIndex===Kt)return gt.startLineNumber}}else if(pt.regions.length>0)for(gt=pt.regions.toRegion(0);null!==gt;){if(gt.startLineNumber>Yt)return gt.startLineNumber;gt=gt.regionIndex<pt.regions.length?pt.regions.toRegion(gt.regionIndex+1):null}return null}(nn[0],gt);null!==an&&Kt.setSelection({startLineNumber:an,startColumn:1,endLineNumber:an,endColumn:1})}}}),(0,P.Qr)(class io extends Je{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:ve.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2130),weight:100}})}invoke(pt,gt,Kt){var nn;const an=[],mn=Kt.getSelections();if(mn){for(const Nn of mn){let jn=Nn.endLineNumber;1===Nn.endColumn&&--jn,jn>Nn.startLineNumber&&(an.push({startLineNumber:Nn.startLineNumber,endLineNumber:jn,type:void 0,isCollapsed:!0,source:1}),Kt.setSelection({startLineNumber:Nn.startLineNumber,startColumn:1,endLineNumber:Nn.startLineNumber,endColumn:1}))}if(an.length>0){an.sort((jn,Yn)=>jn.startLineNumber-Yn.startLineNumber);const Nn=U.sanitizeAndMerge(gt.regions,an,null===(nn=Kt.getModel())||void 0===nn?void 0:nn.getLineCount());gt.updatePost(U.fromFoldRanges(Nn))}}}}),(0,P.Qr)(class uo extends Je{constructor(){super({id:"editor.removeManualFoldingRanges",label:ve.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2132),weight:100}})}invoke(pt,gt,Kt){const nn=Kt.getSelections();if(nn){const an=[];for(const mn of nn){const{startLineNumber:Nn,endLineNumber:jn}=mn;an.push(jn>=Nn?{startLineNumber:Nn,endLineNumber:jn}:{endLineNumber:jn,startLineNumber:Nn})}gt.removeManualRanges(an),pt.triggerFoldingModelChanged()}}});for(let Yt=1;Yt<=7;Yt++)(0,P.QG)(new Ei({id:Ei.ID(Yt),label:ve.NC("foldLevelAction.label","Fold Level {0}",Yt),alias:`Fold Level ${Yt}`,precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2048|21+Yt),weight:100}}));const go=(0,le.P6G)("editor.foldBackground",{light:(0,le.ZnX)(le.hEj,.3),dark:(0,le.ZnX)(le.hEj,.3),hcDark:null,hcLight:null},ve.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),si=(0,le.P6G)("editorGutter.foldingControlForeground",{dark:le.XZx,light:le.XZx,hcDark:le.XZx,hcLight:le.XZx},ve.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,Q.Ic)((Yt,pt)=>{const gt=Yt.getColor(go);gt&&pt.addRule(`.monaco-editor .folded-background { background-color: ${gt}; }`);const Kt=Yt.getColor(si);Kt&&pt.addRule(`\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(st)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(qe)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(et)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(Qe)} {\n\t\t\tcolor: ${Kt} !important;\n\t\t}\n\t\t`)})},7150:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(26845),n=e(66198),l=e(55197);(0,d.Qr)(class S extends d.R6{constructor(){super({id:"editor.action.fontZoomIn",label:l.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(E,L){n.C.setZoomLevel(n.C.getZoomLevel()+1)}}),(0,d.Qr)(class v extends d.R6{constructor(){super({id:"editor.action.fontZoomOut",label:l.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(E,L){n.C.setZoomLevel(n.C.getZoomLevel()-1)}}),(0,d.Qr)(class T extends d.R6{constructor(){super({id:"editor.action.fontZoomReset",label:l.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(E,L){n.C.setZoomLevel(0)}})},25541:(Dt,Y,e)=>{"use strict";e.d(Y,{Qq:()=>z,Qs:()=>K,Zg:()=>x,x$:()=>V,xC:()=>O});var d=e(59797),n=e(64023),l=e(73888),S=e(4125),v=e(1999),T=e(85739),C=e(72715),E=e(59547),L=e(18623),_=e(91353),s=e(18723),m=e(98570),c=e(7233),t=e(81534),a=e(1149),p=e(24277),u=e(55197),g=e(66549),b=e(99775),y=e(9265),w=e(90790),D=function(U,ne,N,W){return new(N||(N=Promise))(function(ge,M){function we(Ne){try{xe(W.next(Ne))}catch(oe){M(oe)}}function Ee(Ne){try{xe(W.throw(Ne))}catch(oe){M(oe)}}function xe(Ne){Ne.done?ge(Ne.value):function Z(ge){return ge instanceof N?ge:new N(function(M){M(ge)})}(Ne.value).then(we,Ee)}xe((W=W.apply(U,ne||[])).next())})};function x(U){if(!(U=U.filter(Z=>Z.range)).length)return;let{range:ne}=U[0];for(let Z=1;Z<U.length;Z++)ne=m.e.plusRange(ne,U[Z].range);const{startLineNumber:N,endLineNumber:W}=ne;(0,d.Z9)(N===W?1===U.length?u.NC("hint11","Made 1 formatting edit on line {0}",N):u.NC("hintn1","Made {0} formatting edits on line {1}",U.length,N):1===U.length?u.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",N,W):u.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",U.length,N,W))}function P(U,ne,N){const W=[],Z=new Set,ge=U.ordered(N);for(const we of ge)W.push(we),we.extensionId&&Z.add(b.k.toKey(we.extensionId));const M=ne.ordered(N);for(const we of M){if(we.extensionId){if(Z.has(b.k.toKey(we.extensionId)))continue;Z.add(b.k.toKey(we.extensionId))}W.push({displayName:we.displayName,extensionId:we.extensionId,provideDocumentFormattingEdits:(Ee,xe,Ne)=>we.provideDocumentRangeFormattingEdits(Ee,Ee.getFullModelRange(),xe,Ne)})}return W}class O{static setFormatterSelector(ne){return{dispose:O._selectors.unshift(ne)}}static select(ne,N,W){return D(this,void 0,void 0,function*(){if(0===ne.length)return;const Z=v.$.first(O._selectors);return Z?yield Z(ne,N,W):void 0})}}function V(U,ne,N,W,Z,ge){return D(this,void 0,void 0,function*(){const M=U.get(y.TG),{documentRangeFormattingEditProvider:we}=U.get(w.p),Ee=(0,_.CL)(ne)?ne.getModel():ne,xe=we.ordered(Ee),Ne=yield O.select(xe,Ee,W);Ne&&(Z.report(Ne),yield M.invokeFunction(H,Ne,ne,N,ge))})}function H(U,ne,N,W,Z){return D(this,void 0,void 0,function*(){const ge=U.get(t.p);let M,we;(0,_.CL)(N)?(M=N.getModel(),we=new L.Dl(N,5,void 0,Z)):(M=N,we=new L.YQ(N,Z));const Ee=[];let xe=0;for(const me of(0,n._2)(W).sort(m.e.compareRangesUsingStarts))xe>0&&m.e.areIntersectingOrTouching(Ee[xe-1],me)?Ee[xe-1]=m.e.fromPositions(Ee[xe-1].getStartPosition(),me.getEndPosition()):xe=Ee.push(me);const Ne=me=>D(this,void 0,void 0,function*(){return(yield ne.provideDocumentRangeFormattingEdits(M,me,M.getFormattingOptions(),we.token))||[]}),oe=(me,Me)=>{if(!me.length||!Me.length)return!1;const de=me.reduce((ke,Ue)=>m.e.plusRange(ke,Ue.range),me[0].range);if(!Me.some(ke=>m.e.intersectRanges(de,ke.range)))return!1;for(const ke of me)for(const Ue of Me)if(m.e.intersectRanges(ke.range,Ue.range))return!0;return!1},Se=[],Ie=[];try{for(const me of Ee){if(we.token.isCancellationRequested)return!0;Ie.push(yield Ne(me))}for(let me=0;me<Ee.length;++me)for(let Me=me+1;Me<Ee.length;++Me){if(we.token.isCancellationRequested)return!0;if(oe(Ie[me],Ie[Me])){const de=m.e.plusRange(Ee[me],Ee[Me]),ke=yield Ne(de);Ee.splice(Me,1),Ee.splice(me,1),Ee.push(de),Ie.splice(Me,1),Ie.splice(me,1),Ie.push(ke),me=0,Me=0}}for(const me of Ie){if(we.token.isCancellationRequested)return!0;const Me=yield ge.computeMoreMinimalEdits(M.uri,me);Me&&Se.push(...Me)}}finally{we.dispose()}if(0===Se.length)return!1;if((0,_.CL)(N))p.V.execute(N,Se,!0),x(Se),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1);else{const[{range:me}]=Se,Me=new c.Y(me.startLineNumber,me.startColumn,me.endLineNumber,me.endColumn);M.pushEditOperations([Me],Se.map(de=>({text:de.text,range:m.e.lift(de.range),forceMoveMarkers:!0})),de=>{for(const{range:ke}of de)if(m.e.areIntersectingOrTouching(ke,Me))return[new c.Y(ke.startLineNumber,ke.startColumn,ke.endLineNumber,ke.endColumn)];return null})}return!0})}function z(U,ne,N,W,Z){return D(this,void 0,void 0,function*(){const ge=U.get(y.TG),M=U.get(w.p),we=(0,_.CL)(ne)?ne.getModel():ne,Ee=P(M.documentFormattingEditProvider,M.documentRangeFormattingEditProvider,we),xe=yield O.select(Ee,we,N);xe&&(W.report(xe),yield ge.invokeFunction(k,xe,ne,N,Z))})}function k(U,ne,N,W,Z){return D(this,void 0,void 0,function*(){const ge=U.get(t.p);let M,we,Ee;(0,_.CL)(N)?(M=N.getModel(),we=new L.Dl(N,5,void 0,Z)):(M=N,we=new L.YQ(N,Z));try{const xe=yield ne.provideDocumentFormattingEdits(M,M.getFormattingOptions(),we.token);if(Ee=yield ge.computeMoreMinimalEdits(M.uri,xe),we.token.isCancellationRequested)return!0}finally{we.dispose()}if(!Ee||0===Ee.length)return!1;if((0,_.CL)(N))p.V.execute(N,Ee,2!==W),2!==W&&(x(Ee),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1));else{const[{range:xe}]=Ee,Ne=new c.Y(xe.startLineNumber,xe.startColumn,xe.endLineNumber,xe.endColumn);M.pushEditOperations([Ne],Ee.map(oe=>({text:oe.text,range:m.e.lift(oe.range),forceMoveMarkers:!0})),oe=>{for(const{range:Se}of oe)if(m.e.areIntersectingOrTouching(Se,Ne))return[new c.Y(Se.startLineNumber,Se.startColumn,Se.endLineNumber,Se.endColumn)];return null})}return!0})}function K(U,ne,N,W,Z,ge,M){const we=ne.onTypeFormattingEditProvider.ordered(N);return 0===we.length||we[0].autoFormatTriggerCharacters.indexOf(Z)<0?Promise.resolve(void 0):Promise.resolve(we[0].provideOnTypeFormattingEdits(N,W,Z,ge,M)).catch(S.Cp).then(Ee=>U.computeMoreMinimalEdits(N.uri,Ee))}O._selectors=new T.S,g.P0.registerCommand("_executeFormatRangeProvider",function(U,...ne){return D(this,void 0,void 0,function*(){const[N,W,Z]=ne;(0,C.p_)(E.o.isUri(N)),(0,C.p_)(m.e.isIRange(W));const ge=U.get(a.S),M=U.get(t.p),we=U.get(w.p),Ee=yield ge.createModelReference(N);try{return function F(U,ne,N,W,Z,ge){return D(this,void 0,void 0,function*(){const M=ne.documentRangeFormattingEditProvider.ordered(N);for(const we of M){const Ee=yield Promise.resolve(we.provideDocumentRangeFormattingEdits(N,W,Z,ge)).catch(S.Cp);if((0,n.Of)(Ee))return yield U.computeMoreMinimalEdits(N.uri,Ee)}})}(M,we,Ee.object.textEditorModel,m.e.lift(W),Z,l.T.None)}finally{Ee.dispose()}})}),g.P0.registerCommand("_executeFormatDocumentProvider",function(U,...ne){return D(this,void 0,void 0,function*(){const[N,W]=ne;(0,C.p_)(E.o.isUri(N));const Z=U.get(a.S),ge=U.get(t.p),M=U.get(w.p),we=yield Z.createModelReference(N);try{return function j(U,ne,N,W,Z){return D(this,void 0,void 0,function*(){const ge=P(ne.documentFormattingEditProvider,ne.documentRangeFormattingEditProvider,N);for(const M of ge){const we=yield Promise.resolve(M.provideDocumentFormattingEdits(N,W,Z)).catch(S.Cp);if((0,n.Of)(we))return yield U.computeMoreMinimalEdits(N.uri,we)}})}(ge,M,we.object.textEditorModel,W,l.T.None)}finally{we.dispose()}})}),g.P0.registerCommand("_executeFormatOnTypeProvider",function(U,...ne){return D(this,void 0,void 0,function*(){const[N,W,Z,ge]=ne;(0,C.p_)(E.o.isUri(N)),(0,C.p_)(s.L.isIPosition(W)),(0,C.p_)("string"==typeof Z);const M=U.get(a.S),we=U.get(t.p),Ee=U.get(w.p),xe=yield M.createModelReference(N);try{return K(we,Ee,xe.object.textEditorModel,s.L.lift(W),Z,ge,l.T.None)}finally{xe.dispose()}})})},56628:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(64023),n=e(73888),l=e(4125),S=e(53993),v=e(80142),T=e(26845),C=e(33745),E=e(81742),L=e(98570),_=e(82290),s=e(81534),m=e(90790),c=e(25541),t=e(24277),a=e(55197),p=e(66549),u=e(16468),g=e(9265),b=e(55538),y=function(H,z,k,F){var U,j=arguments.length,K=j<3?z:null===F?F=Object.getOwnPropertyDescriptor(z,k):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(H,z,k,F);else for(var ne=H.length-1;ne>=0;ne--)(U=H[ne])&&(K=(j<3?U(K):j>3?U(z,k,K):U(z,k))||K);return j>3&&K&&Object.defineProperty(z,k,K),K},w=function(H,z){return function(k,F){z(k,F,H)}},D=function(H,z,k,F){return new(k||(k=Promise))(function(K,U){function ne(Z){try{W(F.next(Z))}catch(ge){U(ge)}}function N(Z){try{W(F.throw(Z))}catch(ge){U(ge)}}function W(Z){Z.done?K(Z.value):function j(K){return K instanceof k?K:new k(function(U){U(K)})}(Z.value).then(ne,N)}W((F=F.apply(H,z||[])).next())})};let x=class{constructor(z,k,F){this._editor=z,this._languageFeaturesService=k,this._workerService=F,this._disposables=new v.SL,this._sessionDisposables=new v.SL,this._disposables.add(k.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(z.onDidChangeModel(()=>this._update())),this._disposables.add(z.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(z.onDidChangeConfiguration(j=>{j.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const z=this._editor.getModel(),[k]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(z);if(!k||!k.autoFormatTriggerCharacters)return;const F=new E.q;for(const j of k.autoFormatTriggerCharacters)F.add(j.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(j=>{const K=j.charCodeAt(j.length-1);F.has(K)&&this._trigger(String.fromCharCode(K))}))}_trigger(z){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const k=this._editor.getModel(),F=this._editor.getPosition(),j=new n.A,K=this._editor.onDidChangeModelContent(U=>{if(U.isFlush)return j.cancel(),void K.dispose();for(let ne=0,N=U.changes.length;ne<N;ne++)if(U.changes[ne].range.endLineNumber<=F.lineNumber)return j.cancel(),void K.dispose()});(0,c.Qs)(this._workerService,this._languageFeaturesService,k,F,z,k.getFormattingOptions(),j.token).then(U=>{j.token.isCancellationRequested||(0,d.Of)(U)&&(t.V.execute(this._editor,U,!0),(0,c.Zg)(U))}).finally(()=>{K.dispose()})}};x.ID="editor.contrib.autoFormat",x=y([w(1,m.p),w(2,s.p)],x);let P=class{constructor(z,k,F){this.editor=z,this._languageFeaturesService=k,this._instantiationService=F,this._callOnDispose=new v.SL,this._callOnModel=new v.SL,this._callOnDispose.add(z.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(z.onDidChangeModel(()=>this._update())),this._callOnDispose.add(z.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(k.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:z})=>this._trigger(z))))}_trigger(z){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(c.x$,this.editor,z,2,b.Ex.None,n.T.None).catch(l.dL)}};P.ID="editor.contrib.formatOnPaste",P=y([w(1,m.p),w(2,g.TG)],P),(0,T._K)(x.ID,x),(0,T._K)(P.ID,P),(0,T.Qr)(class O extends T.R6{constructor(){super({id:"editor.action.formatDocument",label:a.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:u.Ao.and(_.u.notInCompositeEditor,_.u.writable,_.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(z,k){return D(this,void 0,void 0,function*(){if(k.hasModel()){const F=z.get(g.TG);yield z.get(b.ek).showWhile(F.invokeFunction(c.Qq,k,1,b.Ex.None,n.T.None),250)}})}}),(0,T.Qr)(class V extends T.R6{constructor(){super({id:"editor.action.formatSelection",label:a.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:u.Ao.and(_.u.writable,_.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,S.gx)(2089,2084),weight:100},contextMenuOpts:{when:_.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(z,k){return D(this,void 0,void 0,function*(){if(!k.hasModel())return;const F=z.get(g.TG),j=k.getModel(),K=k.getSelections().map(ne=>ne.isEmpty()?new L.e(ne.startLineNumber,1,ne.startLineNumber,j.getLineMaxColumn(ne.startLineNumber)):ne);yield z.get(b.ek).showWhile(F.invokeFunction(c.x$,k,K,1,b.Ex.None,n.T.None),250)})}}),p.P0.registerCommand("editor.action.format",H=>D(void 0,void 0,void 0,function*(){const z=H.get(C.$).getFocusedCodeEditor();if(!z||!z.hasModel())return;const k=H.get(p.Hy);z.getSelection().isEmpty()?yield k.executeCommand("editor.action.formatDocument"):yield k.executeCommand("editor.action.formatSelection")}))},24277:(Dt,Y,e)=>{"use strict";e.d(Y,{V:()=>l});var d=e(65484),n=e(98570);class l{static _handleEolEdits(v,T){let C;const E=[];for(const L of T)"number"==typeof L.eol&&(C=L.eol),L.range&&"string"==typeof L.text&&E.push(L);return"number"==typeof C&&v.hasModel()&&v.getModel().pushEOL(C),E}static _isFullModelReplaceEdit(v,T){if(!v.hasModel())return!1;const C=v.getModel(),E=C.validateRange(T.range);return C.getFullModelRange().equalsRange(E)}static execute(v,T,C){C&&v.pushUndoStop();const E=l._handleEolEdits(v,T);1===E.length&&l._isFullModelReplaceEdit(v,E[0])?v.executeEdits("formatEditsCommand",E.map(L=>d.h.replace(n.e.lift(L.range),L.text))):v.executeEdits("formatEditsCommand",E.map(L=>d.h.replaceMove(n.e.lift(L.range),L.text))),C&&v.pushUndoStop()}}},98674:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{MarkerController:()=>mt,NextMarkerAction:()=>$t});var d=e(58783),n=e(80142),l=e(26845),S=e(33745),v=e(18723),T=e(98570),C=e(82290),E=e(64023),L=e(3778),_=e(85739),s=e(73879),m=e(59547),c=e(47494),t=e(9265),a=e(58177),p=e(94667),u=function(Dn,yt,He,ye){var be,Ae=arguments.length,ue=Ae<3?yt:null===ye?ye=Object.getOwnPropertyDescriptor(yt,He):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,yt,He,ye);else for(var Je=Dn.length-1;Je>=0;Je--)(be=Dn[Je])&&(ue=(Ae<3?be(ue):Ae>3?be(yt,He,ue):be(yt,He))||ue);return Ae>3&&ue&&Object.defineProperty(yt,He,ue),ue},g=function(Dn,yt){return function(He,ye){yt(He,ye,Dn)}};class b{constructor(yt,He,ye){this.marker=yt,this.index=He,this.total=ye}}let y=class{constructor(yt,He,ye){this._markerService=He,this._configService=ye,this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new n.SL,this._markers=[],this._nextIdx=-1,m.o.isUri(yt)?this._resourceFilter=Je=>Je.toString()===yt.toString():yt&&(this._resourceFilter=yt);const Ae=this._configService.getValue("problems.sortOrder"),ue=(Je,Fe)=>{let nt=(0,s.qu)(Je.resource.toString(),Fe.resource.toString());return 0===nt&&(nt="position"===Ae?T.e.compareRangesUsingStarts(Je,Fe)||a.ZL.compare(Je.severity,Fe.severity):a.ZL.compare(Je.severity,Fe.severity)||T.e.compareRangesUsingStarts(Je,Fe)),nt},be=()=>{this._markers=this._markerService.read({resource:m.o.isUri(yt)?yt:void 0,severities:a.ZL.Error|a.ZL.Warning|a.ZL.Info}),"function"==typeof yt&&(this._markers=this._markers.filter(Je=>this._resourceFilter(Je.resource))),this._markers.sort(ue)};be(),this._dispoables.add(He.onMarkerChanged(Je=>{(!this._resourceFilter||Je.some(Fe=>this._resourceFilter(Fe)))&&(be(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(yt){return!this._resourceFilter&&!yt||!(!this._resourceFilter||!yt)&&this._resourceFilter(yt)}get selected(){const yt=this._markers[this._nextIdx];return yt&&new b(yt,this._nextIdx+1,this._markers.length)}_initIdx(yt,He,ye){let Ae=!1,ue=this._markers.findIndex(be=>be.resource.toString()===yt.uri.toString());ue<0&&(ue=(0,E.ry)(this._markers,{resource:yt.uri},(be,Je)=>(0,s.qu)(be.resource.toString(),Je.resource.toString())),ue<0&&(ue=~ue));for(let be=ue;be<this._markers.length;be++){let Je=T.e.lift(this._markers[be]);if(Je.isEmpty()){const Fe=yt.getWordAtPosition(Je.getStartPosition());Fe&&(Je=new T.e(Je.startLineNumber,Fe.startColumn,Je.startLineNumber,Fe.endColumn))}if(He&&(Je.containsPosition(He)||He.isBeforeOrEqual(Je.getStartPosition()))){this._nextIdx=be,Ae=!0;break}if(this._markers[be].resource.toString()!==yt.uri.toString())break}Ae||(this._nextIdx=ye?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(yt,He,ye){if(0===this._markers.length)return!1;const Ae=this._nextIdx;return-1===this._nextIdx?this._initIdx(He,ye,yt):yt?this._nextIdx=(this._nextIdx+1)%this._markers.length:yt||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Ae!==this._nextIdx}find(yt,He){let ye=this._markers.findIndex(Ae=>Ae.resource.toString()===yt.toString());if(!(ye<0))for(;ye<this._markers.length;ye++)if(T.e.containsPosition(this._markers[ye],He))return new b(this._markers[ye],ye+1,this._markers.length)}};y=u([g(1,a.lT),g(2,p.Ui)],y);const w=(0,t.yh)("IMarkerNavigationService");let D=class{constructor(yt,He){this._markerService=yt,this._configService=He,this._provider=new _.S}getMarkerList(yt){for(const He of this._provider){const ye=He.getMarkerList(yt);if(ye)return ye}return new y(yt,this._markerService,this._configService)}};D=u([g(0,a.lT),g(1,p.Ui)],D),(0,c.z)(w,D,!0);var x=e(55197),P=e(74918),O=e(16468),V=e(66287),H=e(98463),z=e(3067),k=e(69355),F=e(40734),j=e(57856),K=e.n(j),U=e(38470),ne=e.n(U),N=e(43370),W=e.n(N),Z=e(28458),ge=e.n(Z),M=e(71278),we=e.n(M),Ee=e(29488),xe=e.n(Ee),Ne=e(37367),oe={};oe.styleTagTransform=xe(),oe.setAttributes=ge(),oe.insert=W().bind(null,"head"),oe.domAPI=ne(),oe.insertStyleElement=we(),K()(Ne.Z,oe);var Ve,me=e(81043),Me=e(38516),de=e(57585),ke=e(44827),Ue=e(50819),ze=e(4062),ce=e(40902);(Ve||(Ve={})).className=function yt(He){switch(He){case Ue.Z.Ignore:return"severity-ignore "+d.lA.info.classNames;case Ue.Z.Info:return d.lA.info.classNames;case Ue.Z.Warning:return d.lA.warning.classNames;case Ue.Z.Error:return d.lA.error.classNames;default:return""}},(0,ce.Ic)((Dn,yt)=>{const He=Dn.getColor(ze.JpG);if(He){const ue=d.lA.error.cssSelector;yt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${ue},\n\t\t\t.markers-panel .marker-icon${ue},\n\t\t\t.text-search-provider-messages .providerMessage ${ue},\n\t\t\t.extensions-viewlet > .extensions ${ue} {\n\t\t\t\tcolor: ${He};\n\t\t\t}\n\t\t`)}const ye=Dn.getColor(ze.BOY);if(ye){const ue=d.lA.warning.cssSelector;yt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${ue},\n\t\t\t.markers-panel .marker-icon${ue},\n\t\t\t.extensions-viewlet > .extensions ${ue},\n\t\t\t.extension-editor ${ue},\n\t\t\t.text-search-provider-messages .providerMessage ${ue},\n\t\t\t.preferences-editor ${ue} {\n\t\t\t\tcolor: ${ye};\n\t\t\t}\n\t\t`)}const Ae=Dn.getColor(ze.OLZ);if(Ae){const ue=d.lA.info.cssSelector;yt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${ue},\n\t\t\t.markers-panel .marker-icon${ue},\n\t\t\t.extensions-viewlet > .extensions ${ue},\n\t\t\t.text-search-provider-messages .providerMessage ${ue},\n\t\t\t.extension-editor ${ue} {\n\t\t\t\tcolor: ${Ae};\n\t\t\t}\n\t\t`)}});var Ct=function(Dn,yt){return function(He,ye){yt(He,ye,Dn)}};class Lt{constructor(yt,He,ye,Ae,ue){this._openerService=Ae,this._labelService=ue,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new n.SL,this._editor=He;const be=document.createElement("div");be.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),be.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),be.appendChild(this._relatedBlock),this._disposables.add(H.mu(this._relatedBlock,"click",Je=>{Je.preventDefault();const Fe=this._relatedDiagnostics.get(Je.target);Fe&&ye(Fe)})),this._scrollable=new z.NB(be,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),yt.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Je=>{be.style.left=`-${Je.scrollLeft}px`,be.style.top=`-${Je.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,n.B9)(this._disposables)}update(yt){const{source:He,message:ye,relatedInformation:Ae,code:ue}=yt;let be=(He?.length||0)+2;ue&&(be+="string"==typeof ue?ue.length:ue.value.length);const Je=(0,s.uq)(ye);this._lines=Je.length,this._longestLineLength=0;for(const vn of Je)this._longestLineLength=Math.max(vn.length+be,this._longestLineLength);H.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(yt)),this._editor.applyFontInfo(this._messageBlock);let Fe=this._messageBlock;for(const vn of Je)Fe=document.createElement("div"),Fe.innerText=vn,""===vn&&(Fe.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Fe);if(He||ue){const vn=document.createElement("span");if(vn.classList.add("details"),Fe.appendChild(vn),He){const Mn=document.createElement("span");Mn.innerText=He,Mn.classList.add("source"),vn.appendChild(Mn)}if(ue)if("string"==typeof ue){const Mn=document.createElement("span");Mn.innerText=`(${ue})`,Mn.classList.add("code"),vn.appendChild(Mn)}else this._codeLink=H.$("a.code-link"),this._codeLink.setAttribute("href",`${ue.target.toString()}`),this._codeLink.onclick=St=>{this._openerService.open(ue.target,{allowCommands:!0}),St.preventDefault(),St.stopPropagation()},H.R3(this._codeLink,H.$("span")).innerText=ue.value,vn.appendChild(this._codeLink)}if(H.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.Of)(Ae)){const vn=this._relatedBlock.appendChild(document.createElement("div"));vn.style.paddingTop=`${Math.floor(.66*this._editor.getOption(61))}px`,this._lines+=1;for(const Mn of Ae){const St=document.createElement("div"),gn=document.createElement("a");gn.classList.add("filename"),gn.innerText=`${this._labelService.getUriBasenameLabel(Mn.resource)}(${Mn.startLineNumber}, ${Mn.startColumn}): `,gn.title=this._labelService.getUriLabel(Mn.resource),this._relatedDiagnostics.set(gn,Mn);const Vn=document.createElement("span");Vn.innerText=Mn.message,St.appendChild(gn),St.appendChild(Vn),this._lines+=1,vn.appendChild(St)}}const nt=this._editor.getOption(46),bt=Math.ceil(nt.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:bt,scrollHeight:nt.lineHeight*this._lines})}layout(yt,He){this._scrollable.getDomNode().style.height=`${yt}px`,this._scrollable.getDomNode().style.width=`${He}px`,this._scrollable.setScrollDimensions({width:He,height:yt})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(yt){let He="";switch(yt.severity){case a.ZL.Error:He=x.NC("Error","Error");break;case a.ZL.Warning:He=x.NC("Warning","Warning");break;case a.ZL.Info:He=x.NC("Info","Info");break;case a.ZL.Hint:He=x.NC("Hint","Hint")}let ye=x.NC("marker aria","{0} at {1}. ",He,yt.startLineNumber+":"+yt.startColumn);const Ae=this._editor.getModel();return Ae&&yt.startLineNumber<=Ae.getLineCount()&&yt.startLineNumber>=1&&(ye=`${Ae.getLineContent(yt.startLineNumber)}, ${ye}`),ye}}let $e=class mc extends me.vk{constructor(yt,He,ye,Ae,ue,be,Je){super(yt,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},ue),this._themeService=He,this._openerService=ye,this._menuService=Ae,this._contextKeyService=be,this._labelService=Je,this._callOnDispose=new n.SL,this._onDidSelectRelatedInformation=new L.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=a.ZL.Warning,this._backgroundColor=k.Il.white,this._applyTheme(He.getColorTheme()),this._callOnDispose.add(He.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(yt){this._backgroundColor=yt.getColor(qe);let He=le,ye=Q;this._severity===a.ZL.Warning?(He=Ce,ye=Pe):this._severity===a.ZL.Info&&(He=dt,ye=st);const Ae=yt.getColor(He),ue=yt.getColor(ye);this.style({arrowColor:Ae,frameColor:Ae,headerBackgroundColor:ue,primaryHeadingColor:yt.getColor(me.IH),secondaryHeadingColor:yt.getColor(me.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(yt){super._fillHead(yt),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(Ae=>this.editor.focus()));const He=[],ye=this._menuService.createMenu(mc.TitleMenu,this._contextKeyService);(0,Me.vr)(ye,void 0,He),this._actionbarWidget.push(He,{label:!1,icon:!0,index:0}),ye.dispose()}_fillTitleIcon(yt){this._icon=H.R3(yt,H.$(""))}_fillBody(yt){this._parentContainer=yt,yt.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),yt.appendChild(this._container),this._message=new Lt(this._container,this.editor,He=>this._onDidSelectRelatedInformation.fire(He),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(yt,He,ye){this._container.classList.remove("stale"),this._message.update(yt),this._severity=yt.severity,this._applyTheme(this._themeService.getColorTheme());const Ae=T.e.lift(yt),ue=this.editor.getPosition(),be=ue&&Ae.containsPosition(ue)?ue:Ae.getStartPosition();super.show(be,this.computeRequiredHeight());const Je=this.editor.getModel();if(Je){const Fe=ye>1?x.NC("problems","{0} of {1} problems",He,ye):x.NC("change","{0} of {1} problem",He,ye);this.setTitle((0,F.EZ)(Je.uri),Fe)}this._icon.className=`codicon ${Ve.className(a.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(be,0),this.editor.focus()}updateMarker(yt){this._container.classList.remove("stale"),this._message.update(yt)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(yt,He){super._doLayoutBody(yt,He),this._heightInPixel=yt,this._message.layout(yt,He),this._container.style.height=`${yt}px`}_onWidth(yt){this._message.layout(this._heightInPixel,yt)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};$e.TitleMenu=new P.eH("gotoErrorTitleMenu"),$e=function(Dn,yt,He,ye){var be,Ae=arguments.length,ue=Ae<3?yt:null===ye?ye=Object.getOwnPropertyDescriptor(yt,He):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,yt,He,ye);else for(var Je=Dn.length-1;Je>=0;Je--)(be=Dn[Je])&&(ue=(Ae<3?be(ue):Ae>3?be(yt,He,ue):be(yt,He))||ue);return Ae>3&&ue&&Object.defineProperty(yt,He,ue),ue}([Ct(1,ce.XE),Ct(2,ke.v4),Ct(3,P.co),Ct(4,t.TG),Ct(5,O.i6),Ct(6,de.e)],$e);const ae=(0,ze.kwl)(ze.lXJ,ze.b6y),ve=(0,ze.kwl)(ze.uoC,ze.pW3),he=(0,ze.kwl)(ze.c63,ze.T83),le=(0,ze.P6G)("editorMarkerNavigationError.background",{dark:ae,light:ae,hcDark:ze.lRK,hcLight:ze.lRK},x.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Q=(0,ze.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,ze.ZnX)(le,.1),light:(0,ze.ZnX)(le,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Ce=(0,ze.P6G)("editorMarkerNavigationWarning.background",{dark:ve,light:ve,hcDark:ze.lRK,hcLight:ze.lRK},x.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Pe=(0,ze.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,ze.ZnX)(Ce,.1),light:(0,ze.ZnX)(Ce,.1),hcDark:"#0C141F",hcLight:(0,ze.ZnX)(Ce,.2)},x.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),dt=(0,ze.P6G)("editorMarkerNavigationInfo.background",{dark:he,light:he,hcDark:ze.lRK,hcLight:ze.lRK},x.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),st=(0,ze.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,ze.ZnX)(dt,.1),light:(0,ze.ZnX)(dt,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),qe=(0,ze.P6G)("editorMarkerNavigation.background",{dark:ze.cvW,light:ze.cvW,hcDark:ze.cvW,hcLight:ze.cvW},x.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var et=function(Dn,yt){return function(He,ye){yt(He,ye,Dn)}},vt=function(Dn,yt,He,ye){return new(He||(He=Promise))(function(ue,be){function Je(bt){try{nt(ye.next(bt))}catch(Ut){be(Ut)}}function Fe(bt){try{nt(ye.throw(bt))}catch(Ut){be(Ut)}}function nt(bt){bt.done?ue(bt.value):function Ae(ue){return ue instanceof He?ue:new He(function(be){be(ue)})}(bt.value).then(Je,Fe)}nt((ye=ye.apply(Dn,yt||[])).next())})};let mt=class nd{constructor(yt,He,ye,Ae,ue){this._markerNavigationService=He,this._contextKeyService=ye,this._editorService=Ae,this._instantiationService=ue,this._sessionDispoables=new n.SL,this._editor=yt,this._widgetVisible=jt.bindTo(this._contextKeyService)}static get(yt){return yt.getContribution(nd.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(yt){if(this._model&&this._model.matches(yt))return this._model;let He=!1;return this._model&&(He=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(yt),He&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance($e,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(ye=>{var Ae,ue,be;(null===(Ae=this._model)||void 0===Ae||!Ae.selected||!T.e.containsPosition(null===(ue=this._model)||void 0===ue?void 0:ue.selected.marker,ye.position))&&(null===(be=this._model)||void 0===be||be.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const ye=this._model.find(this._editor.getModel().uri,this._widget.position);ye?this._widget.updateMarker(ye.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(ye=>{this._editorService.openCodeEditor({resource:ye.resource,options:{pinned:!0,revealIfOpened:!0,selection:T.e.lift(ye).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(yt=!0){this._cleanUp(),yt&&this._editor.focus()}showAtMarker(yt){if(this._editor.hasModel()){const He=this._getOrCreateModel(this._editor.getModel().uri);He.resetIndex(),He.move(!0,this._editor.getModel(),new v.L(yt.startLineNumber,yt.startColumn)),He.selected&&this._widget.showAtMarker(He.selected.marker,He.selected.index,He.selected.total)}}nagivate(yt,He){var ye,Ae;return vt(this,void 0,void 0,function*(){if(this._editor.hasModel()){const ue=this._getOrCreateModel(He?void 0:this._editor.getModel().uri);if(ue.move(yt,this._editor.getModel(),this._editor.getPosition()),!ue.selected)return;if(ue.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const be=yield this._editorService.openCodeEditor({resource:ue.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:ue.selected.marker}},this._editor);be&&(null===(ye=nd.get(be))||void 0===ye||ye.close(),null===(Ae=nd.get(be))||void 0===Ae||Ae.nagivate(yt,He))}else this._widget.showAtMarker(ue.selected.marker,ue.selected.index,ue.selected.total)}})}};mt.ID="editor.contrib.markerController",mt=function(Dn,yt,He,ye){var be,Ae=arguments.length,ue=Ae<3?yt:null===ye?ye=Object.getOwnPropertyDescriptor(yt,He):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,yt,He,ye);else for(var Je=Dn.length-1;Je>=0;Je--)(be=Dn[Je])&&(ue=(Ae<3?be(ue):Ae>3?be(yt,He,ue):be(yt,He))||ue);return Ae>3&&ue&&Object.defineProperty(yt,He,ue),ue}([et(1,w),et(2,O.i6),et(3,S.$),et(4,t.TG)],mt);class _t extends l.R6{constructor(yt,He,ye){super(ye),this._next=yt,this._multiFile=He}run(yt,He){var ye;return vt(this,void 0,void 0,function*(){He.hasModel()&&(null===(ye=mt.get(He))||void 0===ye||ye.nagivate(this._next,this._multiFile))})}}class $t extends _t{constructor(){super(!0,!1,{id:$t.ID,label:$t.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:578,weight:100},menuOpts:{menuId:$e.TitleMenu,title:$t.LABEL,icon:(0,V.q5)("marker-navigation-next",d.lA.arrowDown,x.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}$t.ID="editor.action.marker.next",$t.LABEL=x.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Bt extends _t{constructor(){super(!1,!1,{id:Bt.ID,label:Bt.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:1602,weight:100},menuOpts:{menuId:$e.TitleMenu,title:Bt.LABEL,icon:(0,V.q5)("marker-navigation-previous",d.lA.arrowUp,x.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Bt.ID="editor.action.marker.prev",Bt.LABEL=x.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,l._K)(mt.ID,mt),(0,l.Qr)($t),(0,l.Qr)(Bt),(0,l.Qr)(class Ke extends _t{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:x.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:66,weight:100},menuOpts:{menuId:P.eH.MenubarGoMenu,title:x.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,l.Qr)(class ht extends _t{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:x.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:1090,weight:100},menuOpts:{menuId:P.eH.MenubarGoMenu,title:x.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const jt=new O.uy("markersNavigationVisible",!1),fn=l._l.bindToContribution(mt.get);(0,l.fK)(new fn({id:"closeMarkersNavigation",precondition:jt,handler:Dn=>Dn.close(),kbOpts:{weight:150,kbExpr:C.u.focus,primary:9,secondary:[1033]}}))},21021:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{DefinitionAction:()=>tt,SymbolNavigationAction:()=>Ve,SymbolNavigationAnchor:()=>ce});var d=e(37428),n=e(59797),l=e(48648),S=e(53993),v=e(8841),T=e(72715),C=e(59547),E=e(18623),L=e(91353),_=e(26845),s=e(33745),m=e(19186),c=e(18723),t=e(98570),a=e(82290),p=e(45337),u=e(99989),g=e(56354),b=e(3778),y=e(80142),w=e(40734),D=e(55197),x=e(16468),P=e(47494),O=e(9265),V=e(14759),H=e(98915),z=e(54436),k=function(le,Q,Ce,Pe){var qe,dt=arguments.length,st=dt<3?Q:null===Pe?Pe=Object.getOwnPropertyDescriptor(Q,Ce):Pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)st=Reflect.decorate(le,Q,Ce,Pe);else for(var Qe=le.length-1;Qe>=0;Qe--)(qe=le[Qe])&&(st=(dt<3?qe(st):dt>3?qe(Q,Ce,st):qe(Q,Ce))||st);return dt>3&&st&&Object.defineProperty(Q,Ce,st),st},F=function(le,Q){return function(Ce,Pe){Q(Ce,Pe,le)}};const j=new x.uy("hasSymbols",!1,(0,D.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),K=(0,O.yh)("ISymbolNavigationService");let U=class{constructor(Q,Ce,Pe,dt){this._editorService=Ce,this._notificationService=Pe,this._keybindingService=dt,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=j.bindTo(Q)}reset(){var Q,Ce;this._ctxHasSymbols.reset(),null===(Q=this._currentState)||void 0===Q||Q.dispose(),null===(Ce=this._currentMessage)||void 0===Ce||Ce.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Q){const Ce=Q.parent.parent;if(Ce.references.length<=1)return void this.reset();this._currentModel=Ce,this._currentIdx=Ce.references.indexOf(Q),this._ctxHasSymbols.set(!0),this._showMessage();const Pe=new ne(this._editorService),dt=Pe.onDidChange(st=>{if(this._ignoreEditorChange)return;const qe=this._editorService.getActiveCodeEditor();if(!qe)return;const Qe=qe.getModel(),et=qe.getPosition();if(!Qe||!et)return;let vt=!1,mt=!1;for(const _t of Ce.references)if((0,w.Xy)(_t.uri,Qe.uri))vt=!0,mt=mt||t.e.containsPosition(_t.range,et);else if(vt)break;(!vt||!mt)&&this.reset()});this._currentState=(0,y.F8)(Pe,dt)}revealNext(Q){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Ce=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Ce.uri,options:{selection:t.e.collapseToStart(Ce.range),selectionRevealType:3}},Q).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Q;null===(Q=this._currentMessage)||void 0===Q||Q.dispose();const Ce=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),Pe=Ce?(0,D.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Ce.getLabel()):(0,D.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(Pe)}};U=k([F(0,x.i6),F(1,s.$),F(2,z.lT),F(3,V.d)],U),(0,P.z)(K,U,!0),(0,_.fK)(new class extends _._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:j,kbOpts:{weight:100,primary:70}})}runEditorCommand(le,Q){return le.get(K).revealNext(Q)}}),H.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:j,primary:9,handler(le){le.get(K).reset()}});let ne=class{constructor(Q){this._listener=new Map,this._disposables=new y.SL,this._onDidChange=new b.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Q.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Q.onCodeEditorAdd(this._onDidAddEditor,this)),Q.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,y.B9)(this._listener.values())}_onDidAddEditor(Q){this._listener.set(Q,(0,y.F8)(Q.onDidChangeCursorPosition(Ce=>this._onDidChange.fire({editor:Q})),Q.onDidChangeModelContent(Ce=>this._onDidChange.fire({editor:Q}))))}_onDidRemoveEditor(Q){var Ce;null===(Ce=this._listener.get(Q))||void 0===Ce||Ce.dispose(),this._listener.delete(Q)}};ne=k([F(0,s.$)],ne);var Ne,oe,Se,Ie,me,Me,de,ke,N=e(54007),W=e(81043),Z=e(74918),ge=e(66549),M=e(55538),we=e(5291),Ee=e(90790),xe=function(le,Q,Ce,Pe){return new(Ce||(Ce=Promise))(function(st,qe){function Qe(mt){try{vt(Pe.next(mt))}catch(_t){qe(_t)}}function et(mt){try{vt(Pe.throw(mt))}catch(_t){qe(_t)}}function vt(mt){mt.done?st(mt.value):function dt(st){return st instanceof Ce?st:new Ce(function(qe){qe(st)})}(mt.value).then(Qe,et)}vt((Pe=Pe.apply(le,Q||[])).next())})};Z.BH.appendMenuItem(Z.eH.EditorContext,{submenu:Z.eH.EditorContextPeek,title:D.NC("peek.submenu","Peek"),group:"navigation",order:100});const Ue=new Set;function ze(le){const Q=new le;return(0,_.QG)(Q),Ue.add(Q.id),Q}class ce{constructor(Q,Ce){this.model=Q,this.position=Ce}static is(Q){return!(!Q||"object"!=typeof Q||!(Q instanceof ce||c.L.isIPosition(Q.position)&&Q.model))}}class Ve extends _.R6{constructor(Q,Ce){super(Ce),this.configuration=Q}run(Q,Ce,Pe){if(!Ce.hasModel())return Promise.resolve(void 0);const dt=Q.get(z.lT),st=Q.get(s.$),qe=Q.get(M.ek),Qe=Q.get(K),et=Q.get(Ee.p),vt=Ce.getModel(),mt=Ce.getPosition(),_t=ce.is(Pe)?Pe:new ce(vt,mt),$t=new E.Dl(Ce,5),Bt=(0,l.eP)(this._getLocationModel(et,_t.model,_t.position,$t.token),$t.token).then(Ke=>xe(this,void 0,void 0,function*(){var ht;if(!Ke||$t.token.isCancellationRequested)return;let jt;if((0,n.Z9)(Ke.ariaMessage),Ke.referenceAt(vt.uri,mt)){const Dn=this._getAlternativeCommand(Ce);!Ve._activeAlternativeCommands.has(Dn)&&Ue.has(Dn)&&(jt=Ce.getAction(Dn))}const fn=Ke.references.length;if(0===fn){if(!this.configuration.muteMessage){const Dn=vt.getWordAtPosition(mt);null===(ht=N.O.get(Ce))||void 0===ht||ht.showMessage(this._getNoResultFoundMessage(Dn),mt)}}else{if(1!==fn||!jt)return this._onResult(st,Qe,Ce,Ke);Ve._activeAlternativeCommands.add(this.id),jt.run().finally(()=>{Ve._activeAlternativeCommands.delete(this.id)})}}),Ke=>{dt.error(Ke)}).finally(()=>{$t.dispose()});return qe.showWhile(Bt,250),Bt}_onResult(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){const st=this._getGoToPreference(Pe);if(Pe instanceof m.H||!(this.configuration.openInPeek||"peek"===st&&dt.references.length>1)){const qe=dt.firstReference(),Qe=dt.references.length>1&&"gotoAndPeek"===st,et=yield this._openReference(Pe,Q,qe,this.configuration.openToSide,!Qe);Qe&&et?this._openInPeek(et,dt):dt.dispose(),"goto"===st&&Ce.put(qe)}else this._openInPeek(Pe,dt)})}_openReference(Q,Ce,Pe,dt,st){return xe(this,void 0,void 0,function*(){let qe;if((0,p.vx)(Pe)&&(qe=Pe.targetSelectionRange),qe||(qe=Pe.range),!qe)return;const Qe=yield Ce.openCodeEditor({resource:Pe.uri,options:{selection:t.e.collapseToStart(qe),selectionRevealType:3,selectionSource:"code.jump"}},Q,dt);if(Qe){if(st){const et=Qe.getModel(),vt=Qe.createDecorationsCollection([{range:qe,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Qe.getModel()===et&&vt.clear()},350)}return Qe}})}_openInPeek(Q,Ce){const Pe=u.J.get(Q);Pe&&Q.hasModel()?Pe.toggleWidget(Q.getSelection(),(0,l.PG)(dt=>Promise.resolve(Ce)),this.configuration.openInPeek):Ce.dispose()}}Ve._activeAlternativeCommands=new Set;class tt extends Ve{_getLocationModel(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){return new g.oQ(yield(0,we.nD)(Q.definitionProvider,Ce,Pe,dt),D.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?D.NC("noResultWord","No definition found for '{0}'",Q.word):D.NC("generic.noResults","No definition found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeDefinitionCommand}_getGoToPreference(Q){return Q.getOption(53).multipleDefinitions}}const Ct=v.$L&&!(0,d.isStandalone)()?2118:70;ze(((Ne=class Id extends tt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Id.id,label:D.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:x.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:Ct,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),ge.P0.registerCommandAlias("editor.action.goToDeclaration",Id.id)}}).id="editor.action.revealDefinition",Ne)),ze(((oe=class Td extends tt{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Td.id,label:D.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:x.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,S.gx)(2089,Ct),weight:100}}),ge.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",Td.id)}}).id="editor.action.revealDefinitionAside",oe)),ze(((Se=class Md extends tt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Md.id,label:D.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:x.Ao.and(a.u.hasDefinitionProvider,W.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:2}}),ge.P0.registerCommandAlias("editor.action.previewDeclaration",Md.id)}}).id="editor.action.peekDefinition",Se));class Lt extends Ve{_getLocationModel(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){return new g.oQ(yield(0,we.zq)(Q.declarationProvider,Ce,Pe,dt),D.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?D.NC("decl.noResultWord","No declaration found for '{0}'",Q.word):D.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeDeclarationCommand}_getGoToPreference(Q){return Q.getOption(53).multipleDeclarations}}ze(((Ie=class pc extends Lt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:pc.id,label:D.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:x.Ao.and(a.u.hasDeclarationProvider,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(Q){return Q&&Q.word?D.NC("decl.noResultWord","No declaration found for '{0}'",Q.word):D.NC("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",Ie)),ze(class extends Lt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:D.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:x.Ao.and(a.u.hasDeclarationProvider,W.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:3}})}});class $e extends Ve{_getLocationModel(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){return new g.oQ(yield(0,we.L3)(Q.typeDefinitionProvider,Ce,Pe,dt),D.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?D.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Q.word):D.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(Q){return Q.getOption(53).multipleTypeDefinitions}}ze(((me=class _c extends $e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:_c.ID,label:D.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:x.Ao.and(a.u.hasTypeDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",me)),ze(((Me=class vc extends $e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:vc.ID,label:D.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:x.Ao.and(a.u.hasTypeDefinitionProvider,W.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",Me));class ae extends Ve{_getLocationModel(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){return new g.oQ(yield(0,we.f4)(Q.implementationProvider,Ce,Pe,dt),D.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?D.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Q.word):D.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeImplementationCommand}_getGoToPreference(Q){return Q.getOption(53).multipleImplementations}}ze(((de=class Cc extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Cc.ID,label:D.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:x.Ao.and(a.u.hasImplementationProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",de)),ze(((ke=class bc extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:bc.ID,label:D.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:x.Ao.and(a.u.hasImplementationProvider,W.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",ke));class ve extends Ve{_getNoResultFoundMessage(Q){return Q?D.NC("references.no","No references found for '{0}'",Q.word):D.NC("references.noGeneric","No references found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeReferenceCommand}_getGoToPreference(Q){return Q.getOption(53).multipleReferences}}ze(class extends ve{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:D.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:x.Ao.and(a.u.hasReferenceProvider,W.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){return new g.oQ(yield(0,we.aA)(Q.referenceProvider,Ce,Pe,!0,dt),D.NC("ref.title","References"))})}}),ze(class extends ve{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:D.NC("references.action.label","Peek References"),alias:"Peek References",precondition:x.Ao.and(a.u.hasReferenceProvider,W.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){return new g.oQ(yield(0,we.aA)(Q.referenceProvider,Ce,Pe,!1,dt),D.NC("ref.title","References"))})}});class he extends Ve{constructor(Q,Ce,Pe){super(Q,{id:"editor.action.goToLocation",label:D.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:x.Ao.and(W.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated())}),this._references=Ce,this._gotoMultipleBehaviour=Pe}_getLocationModel(Q,Ce,Pe,dt){return xe(this,void 0,void 0,function*(){return new g.oQ(this._references,D.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Q){return Q&&D.NC("generic.noResult","No results for '{0}'",Q.word)||""}_getGoToPreference(Q){var Ce;return null!==(Ce=this._gotoMultipleBehaviour)&&void 0!==Ce?Ce:Q.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}ge.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(le,Q,Ce,Pe,dt,st,qe)=>xe(void 0,void 0,void 0,function*(){(0,T.p_)(C.o.isUri(Q)),(0,T.p_)(c.L.isIPosition(Ce)),(0,T.p_)(Array.isArray(Pe)),(0,T.p_)(typeof dt>"u"||"string"==typeof dt),(0,T.p_)(typeof qe>"u"||"boolean"==typeof qe);const Qe=le.get(s.$),et=yield Qe.openCodeEditor({resource:Q},Qe.getFocusedCodeEditor());if((0,L.CL)(et))return et.setPosition(Ce),et.revealPositionInCenterIfOutsideViewport(Ce,0),et.invokeWithinContext(vt=>{const mt=new class extends he{_getNoResultFoundMessage(_t){return st||super._getNoResultFoundMessage(_t)}}({muteMessage:!Boolean(st),openInPeek:Boolean(qe),openToSide:!1},Pe,dt);vt.get(O.TG).invokeFunction(mt.run.bind(mt),et)})})}),ge.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(le,Q,Ce,Pe,dt)=>xe(void 0,void 0,void 0,function*(){le.get(ge.Hy).executeCommand("editor.action.goToLocations",Q,Ce,Pe,dt,void 0,!0)})}),ge.P0.registerCommand({id:"editor.action.findReferences",handler:(le,Q,Ce)=>{(0,T.p_)(C.o.isUri(Q)),(0,T.p_)(c.L.isIPosition(Ce));const Pe=le.get(Ee.p),dt=le.get(s.$);return dt.openCodeEditor({resource:Q},dt.getFocusedCodeEditor()).then(st=>{if(!(0,L.CL)(st)||!st.hasModel())return;const qe=u.J.get(st);if(!qe)return;const Qe=(0,l.PG)(vt=>(0,we.aA)(Pe.referenceProvider,st.getModel(),c.L.lift(Ce),!1,vt).then(mt=>new g.oQ(mt,D.NC("ref.title","References")))),et=new t.e(Ce.lineNumber,Ce.column,Ce.lineNumber,Ce.column);return Promise.resolve(qe.toggleWidget(et,Qe,!1))})}}),ge.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Z.BH.appendMenuItems([{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:D.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:D.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:D.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:D.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:D.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},5291:(Dt,Y,e)=>{"use strict";e.d(Y,{L3:()=>s,aA:()=>m,f4:()=>_,nD:()=>E,zq:()=>L});var d=e(73888),n=e(4125),l=e(26845),S=e(56354),v=e(90790),T=function(t,a,p,u){return new(p||(p=Promise))(function(b,y){function w(P){try{x(u.next(P))}catch(O){y(O)}}function D(P){try{x(u.throw(P))}catch(O){y(O)}}function x(P){P.done?b(P.value):function g(b){return b instanceof p?b:new p(function(y){y(b)})}(P.value).then(w,D)}x((u=u.apply(t,a||[])).next())})};function C(t,a,p,u){const b=p.ordered(t).map(y=>Promise.resolve(u(y,t,a)).then(void 0,w=>{(0,n.Cp)(w)}));return Promise.all(b).then(y=>{const w=[];for(const D of y)Array.isArray(D)?w.push(...D):D&&w.push(D);return w})}function E(t,a,p,u){return C(a,p,t,(g,b,y)=>g.provideDefinition(b,y,u))}function L(t,a,p,u){return C(a,p,t,(g,b,y)=>g.provideDeclaration(b,y,u))}function _(t,a,p,u){return C(a,p,t,(g,b,y)=>g.provideImplementation(b,y,u))}function s(t,a,p,u){return C(a,p,t,(g,b,y)=>g.provideTypeDefinition(b,y,u))}function m(t,a,p,u,g){return C(a,p,t,(b,y,w)=>T(this,void 0,void 0,function*(){const D=yield b.provideReferences(y,w,{includeDeclaration:!0},g);if(!u||!D||2!==D.length)return D;const x=yield b.provideReferences(y,w,{includeDeclaration:!1},g);return x&&1===x.length?x:D}))}function c(t){return T(this,void 0,void 0,function*(){const a=yield t(),p=new S.oQ(a,""),u=p.references.map(g=>g.link);return p.dispose(),u})}(0,l.sb)("_executeDefinitionProvider",(t,a,p)=>{const g=E(t.get(v.p).definitionProvider,a,p,d.T.None);return c(()=>g)}),(0,l.sb)("_executeTypeDefinitionProvider",(t,a,p)=>{const g=s(t.get(v.p).typeDefinitionProvider,a,p,d.T.None);return c(()=>g)}),(0,l.sb)("_executeDeclarationProvider",(t,a,p)=>{const g=L(t.get(v.p).declarationProvider,a,p,d.T.None);return c(()=>g)}),(0,l.sb)("_executeReferenceProvider",(t,a,p)=>{const g=m(t.get(v.p).referenceProvider,a,p,!1,d.T.None);return c(()=>g)}),(0,l.sb)("_executeImplementationProvider",(t,a,p)=>{const g=_(t.get(v.p).implementationProvider,a,p,d.T.None);return c(()=>g)})},46170:(Dt,Y,e)=>{"use strict";e.d(Y,{yN:()=>L});var d=e(3778),n=e(80142),l=e(8841);function S(_,s){return!!_[s]}class v{constructor(s,m){this.target=s.target,this.hasTriggerModifier=S(s.event,m.triggerModifier),this.hasSideBySideModifier=S(s.event,m.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=s.event.detail<=1}}class T{constructor(s,m){this.keyCodeIsTriggerKey=s.keyCode===m.triggerKey,this.keyCodeIsSideBySideKey=s.keyCode===m.triggerSideBySideKey,this.hasTriggerModifier=S(s,m.triggerModifier)}}class C{constructor(s,m,c,t){this.triggerKey=s,this.triggerModifier=m,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=t}equals(s){return this.triggerKey===s.triggerKey&&this.triggerModifier===s.triggerModifier&&this.triggerSideBySideKey===s.triggerSideBySideKey&&this.triggerSideBySideModifier===s.triggerSideBySideModifier}}function E(_){return"altKey"===_?l.dz?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):l.dz?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class L extends n.JT{constructor(s){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new d.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new d.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new d.Q5),this.onCancel=this._onCancel.event,this._editor=s,this._opts=E(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(m=>{if(m.hasChanged(72)){const c=E(this._editor.getOption(72));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(m=>this._onEditorMouseMove(new v(m,this._opts)))),this._register(this._editor.onMouseDown(m=>this._onEditorMouseDown(new v(m,this._opts)))),this._register(this._editor.onMouseUp(m=>this._onEditorMouseUp(new v(m,this._opts)))),this._register(this._editor.onKeyDown(m=>this._onEditorKeyDown(new T(m,this._opts)))),this._register(this._editor.onKeyUp(m=>this._onEditorKeyUp(new T(m,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(m=>this._onDidChangeCursorSelection(m))),this._register(this._editor.onDidChangeModel(m=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(m=>{(m.scrollTopChanged||m.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(s){s.selection&&s.selection.startColumn!==s.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(s){this._lastMouseMoveEvent=s,this._onMouseMoveOrRelevantKeyDown.fire([s,null])}_onEditorMouseDown(s){this._hasTriggerKeyOnMouseDown=s.hasTriggerModifier,this._lineNumberOnMouseDown=s.target.position?s.target.position.lineNumber:0}_onEditorMouseUp(s){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(s.target.position?s.target.position.lineNumber:0)&&this._onExecute.fire(s)}_onEditorKeyDown(s){this._lastMouseMoveEvent&&(s.keyCodeIsTriggerKey||s.keyCodeIsSideBySideKey&&s.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,s]):s.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(s){s.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},75446:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{GotoDefinitionAtPositionEditorContribution:()=>ge});var d=e(48648),n=e(4125),l=e(48701),S=e(80142),v=e(72715),T=e(57856),C=e.n(T),E=e(38470),L=e.n(E),_=e(43370),s=e.n(_),m=e(28458),c=e.n(m),t=e(71278),a=e.n(t),p=e(29488),u=e.n(p),g=e(60464),b={};b.styleTagTransform=u(),b.setAttributes=c(),b.insert=s().bind(null,"head"),b.domAPI=L(),b.insertStyleElement=a(),C()(g.Z,b);var D=e(18623),x=e(26845),P=e(98570),O=e(45358),V=e(1149),H=e(46170),z=e(81043),k=e(55197),F=e(16468),j=e(4062),K=e(40902),U=e(21021),ne=e(5291),N=e(90790),Z=function(M,we){return function(Ee,xe){we(Ee,xe,M)}};let ge=class id{constructor(we,Ee,xe,Ne){this.textModelResolverService=Ee,this.languageService=xe,this.languageFeaturesService=Ne,this.toUnhook=new S.SL,this.toUnhookForKeyboard=new S.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=we,this.linkDecorations=this.editor.createDecorationsCollection();const oe=new H.yN(we);this.toUnhook.add(oe),this.toUnhook.add(oe.onMouseMoveOrRelevantKeyDown(([Se,Ie])=>{this.startFindDefinitionFromMouse(Se,(0,v.f6)(Ie))})),this.toUnhook.add(oe.onExecute(Se=>{this.isEnabled(Se)&&this.gotoDefinition(Se.target.position,Se.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},Ie=>{this.removeLinkDecorations(),(0,n.dL)(Ie)})})),this.toUnhook.add(oe.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(we){return we.getContribution(id.ID)}startFindDefinitionFromCursor(we){return this.startFindDefinition(we).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(Ee=>{Ee&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(we,Ee){if(!(9===we.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(we,Ee)?void this.startFindDefinition(we.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(we){var Ee;this.toUnhookForKeyboard.clear();const xe=we?null===(Ee=this.editor.getModel())||void 0===Ee?void 0:Ee.getWordAtPosition(we):null;if(!xe)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===xe.startColumn&&this.currentWordAtPosition.endColumn===xe.endColumn&&this.currentWordAtPosition.word===xe.word)return Promise.resolve(0);this.currentWordAtPosition=xe;const Ne=new D.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,d.PG)(oe=>this.findDefinition(we,oe)),this.previousPromise.then(oe=>{if(oe&&oe.length&&Ne.validate(this.editor))if(oe.length>1)this.addDecoration(new P.e(we.lineNumber,xe.startColumn,we.lineNumber,xe.endColumn),(new l.W5).appendText(k.NC("multipleResults","Click to show {0} definitions.",oe.length)));else{const Se=oe[0];if(!Se.uri)return;this.textModelResolverService.createModelReference(Se.uri).then(Ie=>{if(!Ie.object||!Ie.object.textEditorModel)return void Ie.dispose();const{object:{textEditorModel:me}}=Ie,{startLineNumber:Me}=Se.range;if(Me<1||Me>me.getLineCount())return void Ie.dispose();const de=this.getPreviewValue(me,Me,Se);let ke;ke=Se.originSelectionRange?P.e.lift(Se.originSelectionRange):new P.e(we.lineNumber,xe.startColumn,we.lineNumber,xe.endColumn);const Ue=this.languageService.guessLanguageIdByFilepathOrFirstLine(me.uri);this.addDecoration(ke,(new l.W5).appendCodeblock(Ue||"",de)),Ie.dispose()})}else this.removeLinkDecorations()}).then(void 0,n.dL)}getPreviewValue(we,Ee,xe){let Ne=xe.range;return Ne.endLineNumber-Ne.startLineNumber>=id.MAX_SOURCE_PREVIEW_LINES&&(Ne=this.getPreviewRangeBasedOnIndentation(we,Ee)),this.stripIndentationFromPreviewRange(we,Ee,Ne)}stripIndentationFromPreviewRange(we,Ee,xe){let oe=we.getLineFirstNonWhitespaceColumn(Ee);for(let Ie=Ee+1;Ie<xe.endLineNumber;Ie++){const me=we.getLineFirstNonWhitespaceColumn(Ie);oe=Math.min(oe,me)}return we.getValueInRange(xe).replace(new RegExp(`^\\s{${oe-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(we,Ee){const xe=we.getLineFirstNonWhitespaceColumn(Ee),Ne=Math.min(we.getLineCount(),Ee+id.MAX_SOURCE_PREVIEW_LINES);let oe=Ee+1;for(;oe<Ne&&xe!==we.getLineFirstNonWhitespaceColumn(oe);oe++);return new P.e(Ee,1,oe+1,1)}addDecoration(we,Ee){this.linkDecorations.set([{range:we,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:Ee}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(we,Ee){return this.editor.hasModel()&&we.isNoneOrSingleMouseDown&&6===we.target.type&&(we.hasTriggerModifier||!!Ee&&Ee.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(we,Ee){const xe=this.editor.getModel();return xe?(0,ne.nD)(this.languageFeaturesService.definitionProvider,xe,we,Ee):Promise.resolve(null)}gotoDefinition(we,Ee){return this.editor.setPosition(we),this.editor.invokeWithinContext(xe=>{const Ne=!Ee&&this.editor.getOption(80)&&!this.isInPeekEditor(xe);return new U.DefinitionAction({openToSide:Ee,openInPeek:Ne,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(xe,this.editor)})}isInPeekEditor(we){const Ee=we.get(F.i6);return z.Jy.inPeekEditor.getValue(Ee)}dispose(){this.toUnhook.dispose()}};ge.ID="editor.contrib.gotodefinitionatposition",ge.MAX_SOURCE_PREVIEW_LINES=8,ge=function(M,we,Ee,xe){var Se,Ne=arguments.length,oe=Ne<3?we:null===xe?xe=Object.getOwnPropertyDescriptor(we,Ee):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(M,we,Ee,xe);else for(var Ie=M.length-1;Ie>=0;Ie--)(Se=M[Ie])&&(oe=(Ne<3?Se(oe):Ne>3?Se(we,Ee,oe):Se(we,Ee))||oe);return Ne>3&&oe&&Object.defineProperty(we,Ee,oe),oe}([Z(1,V.S),Z(2,O.O),Z(3,N.p)],ge),(0,x._K)(ge.ID,ge),(0,K.Ic)((M,we)=>{const Ee=M.getColor(j._Yy);Ee&&we.addRule(`.monaco-editor .goto-definition-link { color: ${Ee} !important; }`)})},99989:(Dt,Y,e)=>{"use strict";e.d(Y,{J:()=>jt});var d=e(48648),n=e(4125),l=e(53993),S=e(80142),v=e(33745),T=e(18723),C=e(98570),E=e(81043),L=e(55197),_=e(66549),s=e(94667),m=e(16468),c=e(9265),t=e(98915),a=e(27299),p=e(54436),u=e(48190),g=e(56354),b=e(98463),y=e(93656),w=e(69355),D=e(3778),x=e(59310),P=e(40734),O=e(57856),V=e.n(O),H=e(38470),z=e.n(H),k=e(43370),F=e.n(k),j=e(28458),K=e.n(j),U=e(71278),ne=e.n(U),N=e(29488),W=e.n(N),Z=e(78635),ge={};ge.styleTagTransform=W(),ge.setAttributes=K(),ge.insert=F().bind(null,"head"),ge.domAPI=z(),ge.insertStyleElement=ne(),V()(Z.Z,ge);var Ee=e(19186),xe=e(59758),Ne=e(94911),oe=e(72188),Se=e(45358),Ie=e(1149),me=e(30535),Me=e(87969),de=e(80757),ke=e(25715),Ue=e(14759),ze=e(57585),ce=e(52075),Ve=e(40902),tt=function(Dn,yt,He,ye){var be,Ae=arguments.length,ue=Ae<3?yt:null===ye?ye=Object.getOwnPropertyDescriptor(yt,He):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,yt,He,ye);else for(var Je=Dn.length-1;Je>=0;Je--)(be=Dn[Je])&&(ue=(Ae<3?be(ue):Ae>3?be(yt,He,ue):be(yt,He))||ue);return Ae>3&&ue&&Object.defineProperty(yt,He,ue),ue},Ct=function(Dn,yt){return function(He,ye){yt(He,ye,Dn)}};let Lt=class{constructor(yt){this._resolverService=yt}hasChildren(yt){return yt instanceof g.oQ||yt instanceof g.F2}getChildren(yt){if(yt instanceof g.oQ)return yt.groups;if(yt instanceof g.F2)return yt.resolve(this._resolverService).then(He=>He.children);throw new Error("bad tree")}};Lt=tt([Ct(0,Ie.S)],Lt);class $e{getHeight(){return 23}getTemplateId(yt){return yt instanceof g.F2?le.id:Ce.id}}let ae=class{constructor(yt){this._keybindingService=yt}getKeyboardNavigationLabel(yt){var He;if(yt instanceof g.WX){const ye=null===(He=yt.parent.getPreview(yt))||void 0===He?void 0:He.preview(yt.range);if(ye)return ye.value}return(0,P.EZ)(yt.uri)}};ae=tt([Ct(0,Ue.d)],ae);class ve{getId(yt){return yt instanceof g.WX?yt.id:yt.uri}}let he=class extends S.JT{constructor(yt,He,ye){super(),this._labelService=He;const Ae=document.createElement("div");Ae.classList.add("reference-file"),this.file=this._register(new de.g(Ae,{supportHighlights:!0})),this.badge=new me.Z(b.R3(Ae,b.$(".count"))),this._register((0,ce.WZ)(this.badge,ye)),yt.appendChild(Ae)}set(yt,He){const ye=(0,P.XX)(yt.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(yt.uri),this._labelService.getUriLabel(ye,{relative:!0}),{title:this._labelService.getUriLabel(yt.uri),matches:He});const Ae=yt.children.length;this.badge.setCount(Ae),this.badge.setTitleFormat(Ae>1?(0,L.NC)("referencesCount","{0} references",Ae):(0,L.NC)("referenceCount","{0} reference",Ae))}};he=tt([Ct(1,ze.e),Ct(2,Ve.XE)],he);let le=class yc{constructor(yt){this._instantiationService=yt,this.templateId=yc.id}renderTemplate(yt){return this._instantiationService.createInstance(he,yt)}renderElement(yt,He,ye){ye.set(yt.element,(0,ke.mB)(yt.filterData))}disposeTemplate(yt){yt.dispose()}};le.id="FileReferencesRenderer",le=tt([Ct(0,c.TG)],le);class Q{constructor(yt){this.label=new Me.q(yt)}set(yt,He){var ye;const Ae=null===(ye=yt.parent.getPreview(yt))||void 0===ye?void 0:ye.preview(yt.range);if(Ae&&Ae.value){const{value:ue,highlight:be}=Ae;He&&!ke.CL.isDefault(He)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(ue,(0,ke.mB)(He))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(ue,[be]))}else this.label.set(`${(0,P.EZ)(yt.uri)}:${yt.range.startLineNumber+1}:${yt.range.startColumn+1}`)}}let Ce=(()=>{class Dn{constructor(){this.templateId=Dn.id}renderTemplate(He){return new Q(He)}renderElement(He,ye,Ae){Ae.set(He.element,He.filterData)}disposeTemplate(){}}return Dn.id="OneReferenceRenderer",Dn})();class Pe{getWidgetAriaLabel(){return(0,L.NC)("treeAriaLabel","References")}getAriaLabel(yt){return yt.ariaMessage}}var dt=e(93633),qe=function(Dn,yt){return function(He,ye){yt(He,ye,Dn)}},Qe=function(Dn,yt,He,ye){return new(He||(He=Promise))(function(ue,be){function Je(bt){try{nt(ye.next(bt))}catch(Ut){be(Ut)}}function Fe(bt){try{nt(ye.throw(bt))}catch(Ut){be(Ut)}}function nt(bt){bt.done?ue(bt.value):function Ae(ue){return ue instanceof He?ue:new He(function(be){be(ue)})}(bt.value).then(Je,Fe)}nt((ye=ye.apply(Dn,yt||[])).next())})};class et{constructor(yt,He){this._editor=yt,this._model=He,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.SL,this._callOnModelChange=new S.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const yt=this._editor.getModel();if(yt)for(const He of this._model.references)if(He.uri.toString()===yt.uri.toString())return void this._addDecorations(He.parent)}_addDecorations(yt){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const He=[],ye=[];for(let Ae=0,ue=yt.children.length;Ae<ue;Ae++){const be=yt.children[Ae];this._decorationIgnoreSet.has(be.id)||be.uri.toString()===this._editor.getModel().uri.toString()&&(He.push({range:be.range,options:et.DecorationOptions}),ye.push(Ae))}this._editor.changeDecorations(Ae=>{const ue=Ae.deltaDecorations([],He);for(let be=0;be<ue.length;be++)this._decorations.set(ue[be],yt.children[ye[be]])})}_onDecorationChanged(){const yt=[],He=this._editor.getModel();if(He){for(const[ye,Ae]of this._decorations){const ue=He.getDecorationRange(ye);if(!ue)continue;let be=!1;C.e.equalsRange(ue,Ae.range)||((C.e.spansMultipleLines(ue)||Ae.range.endColumn-Ae.range.startColumn!=ue.endColumn-ue.startColumn)&&(be=!0),be?(this._decorationIgnoreSet.add(Ae.id),yt.push(ye)):Ae.range=ue)}for(let ye=0,Ae=yt.length;ye<Ae;ye++)this._decorations.delete(yt[ye]);this._editor.removeDecorations(yt)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}et.DecorationOptions=xe.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class vt{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(yt){let He,ye;try{const Ae=JSON.parse(yt);He=Ae.ratio,ye=Ae.heightInLines}catch{}return{ratio:He||.7,heightInLines:ye||18}}}class mt extends a.ls{}let _t=class extends E.vk{constructor(yt,He,ye,Ae,ue,be,Je,Fe,nt,bt,Ut,vn){super(yt,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},be),this._defaultTreeKeyboardSupport=He,this.layoutData=ye,this._textModelResolverService=ue,this._instantiationService=be,this._peekViewService=Je,this._uriLabel=Fe,this._undoRedoService=nt,this._keybindingService=bt,this._languageService=Ut,this._languageConfigurationService=vn,this._disposeOnNewModel=new S.SL,this._callOnDispose=new S.SL,this._onDidSelectReference=new D.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new b.Ro(0,0),this._applyTheme(Ae.getColorTheme()),this._callOnDispose.add(Ae.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(yt,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.B9)(this._preview),(0,S.B9)(this._previewNotAvailableMessage),(0,S.B9)(this._tree),(0,S.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(yt){const He=yt.getColor(E.SC)||w.Il.transparent;this.style({arrowColor:He,frameColor:He,headerBackgroundColor:yt.getColor(E.KY)||w.Il.transparent,primaryHeadingColor:yt.getColor(E.IH),secondaryHeadingColor:yt.getColor(E.R7)})}show(yt){super.show(yt,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(yt){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:yt.ctrlKey||yt.metaKey||yt.altKey?"side":"open",source:"title"})}_fillBody(yt){this.setCssClass("reference-zone-widget"),this._messageContainer=b.R3(yt,b.$("div.messages")),b.Cp(this._messageContainer),this._splitView=new y.z(yt,{orientation:1}),this._previewContainer=b.R3(yt,b.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(Ee.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),b.Cp(this._previewContainer),this._previewNotAvailableMessage=new xe.yO(L.NC("missingPreviewMessage","no preview available"),oe.bd,xe.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=b.R3(yt,b.$("div.ref-tree.inline"));const ye={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Pe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ae),identityProvider:new ve,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:E.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(b.mu(this._treeContainer,"keydown",ue=>{ue.equals(9)&&(this._keybindingService.dispatchEvent(ue,ue.target),ue.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(mt,"ReferencesWidget",this._treeContainer,new $e,[this._instantiationService.createInstance(le),this._instantiationService.createInstance(Ce)],this._instantiationService.createInstance(Lt),ye),this._splitView.addView({onDidChange:D.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:ue=>{this._preview.layout({height:this._dim.height,width:ue})}},y.M.Distribute),this._splitView.addView({onDidChange:D.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:ue=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${ue}px`,this._tree.layout(this._dim.height,ue)}},y.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Ae=(ue,be)=>{ue instanceof g.WX&&("show"===be&&this._revealReference(ue,!1),this._onDidSelectReference.fire({element:ue,kind:be,source:"tree"}))};this._tree.onDidOpen(ue=>{Ae(ue.element,ue.sideBySide?"side":ue.editorOptions.pinned?"goto":"show")}),b.Cp(this._treeContainer)}_onWidth(yt){this._dim&&this._doLayoutBody(this._dim.height,yt)}_doLayoutBody(yt,He){super._doLayoutBody(yt,He),this._dim=new b.Ro(He,yt),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(He),this._splitView.resizeView(0,He*this.layoutData.ratio)}setSelection(yt){return this._revealReference(yt,!0).then(()=>{!this._model||(this._tree.setSelection([yt]),this._tree.setFocus([yt]))})}setModel(yt){return this._disposeOnNewModel.clear(),this._model=yt,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=L.NC("noResults","No results"),b.$Z(this._messageContainer),Promise.resolve(void 0)):(b.Cp(this._messageContainer),this._decorationsManager=new et(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(yt=>this._tree.rerender(yt))),this._disposeOnNewModel.add(this._preview.onMouseDown(yt=>{const{event:He,target:ye}=yt;if(2!==He.detail)return;const Ae=this._getFocusedReference();!Ae||this._onDidSelectReference.fire({element:{uri:Ae.uri,range:ye.range},kind:He.ctrlKey||He.metaKey||He.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),b.$Z(this._treeContainer),b.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[yt]=this._tree.getFocus();return yt instanceof g.WX?yt:yt instanceof g.F2&&yt.children.length>0?yt.children[0]:void 0}revealReference(yt){return Qe(this,void 0,void 0,function*(){yield this._revealReference(yt,!1),this._onDidSelectReference.fire({element:yt,kind:"goto",source:"tree"})})}_revealReference(yt,He){return Qe(this,void 0,void 0,function*(){if(this._revealedReference===yt)return;this._revealedReference=yt,yt.uri.scheme!==x.lg.inMemory?this.setTitle((0,P.Hx)(yt.uri),this._uriLabel.getUriLabel((0,P.XX)(yt.uri))):this.setTitle(L.NC("peekView.alternateTitle","References"));const ye=this._textModelResolverService.createModelReference(yt.uri);this._tree.getInput()===yt.parent||(He&&this._tree.reveal(yt.parent),yield this._tree.expand(yt.parent)),this._tree.reveal(yt);const Ae=yield ye;if(!this._model)return void Ae.dispose();(0,S.B9)(this._previewModelReference);const ue=Ae.object;if(ue){const be=this._preview.getModel()===ue.textEditorModel?0:1,Je=C.e.lift(yt.range).collapseToStart();this._previewModelReference=Ae,this._preview.setModel(ue.textEditorModel),this._preview.setSelection(Je),this._preview.revealRangeInCenter(Je,be)}else this._preview.setModel(this._previewNotAvailableMessage),Ae.dispose()})}};_t=function(Dn,yt,He,ye){var be,Ae=arguments.length,ue=Ae<3?yt:null===ye?ye=Object.getOwnPropertyDescriptor(yt,He):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,yt,He,ye);else for(var Je=Dn.length-1;Je>=0;Je--)(be=Dn[Je])&&(ue=(Ae<3?be(ue):Ae>3?be(yt,He,ue):be(yt,He))||ue);return Ae>3&&ue&&Object.defineProperty(yt,He,ue),ue}([qe(3,Ve.XE),qe(4,Ie.S),qe(5,c.TG),qe(6,E.Fw),qe(7,ze.e),qe(8,dt.tJ),qe(9,Ue.d),qe(10,Se.O),qe(11,Ne.c_)],_t);var Bt=function(Dn,yt){return function(He,ye){yt(He,ye,Dn)}},Ke=function(Dn,yt,He,ye){return new(He||(He=Promise))(function(ue,be){function Je(bt){try{nt(ye.next(bt))}catch(Ut){be(Ut)}}function Fe(bt){try{nt(ye.throw(bt))}catch(Ut){be(Ut)}}function nt(bt){bt.done?ue(bt.value):function Ae(ue){return ue instanceof He?ue:new He(function(be){be(ue)})}(bt.value).then(Je,Fe)}nt((ye=ye.apply(Dn,yt||[])).next())})};const ht=new m.uy("referenceSearchVisible",!1,L.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let jt=class Ad{constructor(yt,He,ye,Ae,ue,be,Je,Fe){this._defaultTreeKeyboardSupport=yt,this._editor=He,this._editorService=Ae,this._notificationService=ue,this._instantiationService=be,this._storageService=Je,this._configurationService=Fe,this._disposables=new S.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ht.bindTo(ye)}static get(yt){return yt.getContribution(Ad.ID)}dispose(){var yt,He;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(yt=this._widget)||void 0===yt||yt.dispose(),null===(He=this._model)||void 0===He||He.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(yt,He,ye){let Ae;if(this._widget&&(Ae=this._widget.position),this.closeWidget(),Ae&&yt.containsPosition(Ae))return;this._peekMode=ye,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const ue="peekViewLayout",be=vt.fromJSON(this._storageService.get(ue,0,"{}"));this._widget=this._instantiationService.createInstance(_t,this._editor,this._defaultTreeKeyboardSupport,be),this._widget.setTitle(L.NC("labelLoading","Loading...")),this._widget.show(yt),this._disposables.add(this._widget.onDidClose(()=>{He.cancel(),this._widget&&(this._storageService.store(ue,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Fe=>{const{element:nt,kind:bt}=Fe;if(nt)switch(bt){case"open":("editor"!==Fe.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(nt,!1,!1);break;case"side":this.openReference(nt,!0,!1);break;case"goto":ye?this._gotoReference(nt):this.openReference(nt,!1,!0)}}));const Je=++this._requestIdPool;He.then(Fe=>{var nt;if(Je===this._requestIdPool&&this._widget)return null===(nt=this._model)||void 0===nt||nt.dispose(),this._model=Fe,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":L.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const bt=this._editor.getModel().uri,Ut=new T.L(yt.startLineNumber,yt.startColumn),vn=this._model.nearestReference(bt,Ut);if(vn)return this._widget.setSelection(vn).then(()=>{this._widget&&"editor"===this._editor.getOption(79)&&this._widget.focusOnPreviewEditor()})}});Fe.dispose()},Fe=>{this._notificationService.error(Fe)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(yt){return Ke(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const He=this._widget.position;if(!He)return;const ye=this._model.nearestReference(this._editor.getModel().uri,He);if(!ye)return;const Ae=this._model.nextOrPreviousReference(ye,yt),ue=this._editor.hasTextFocus(),be=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Ae),yield this._gotoReference(Ae),ue?this._editor.focus():this._widget&&be&&this._widget.focusOnPreviewEditor()})}revealReference(yt){return Ke(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(yt))})}closeWidget(yt=!0){var He,ye;null===(He=this._widget)||void 0===He||He.dispose(),null===(ye=this._model)||void 0===ye||ye.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,yt&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(yt){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const He=C.e.lift(yt.range).collapseToStart();return this._editorService.openCodeEditor({resource:yt.uri,options:{selection:He,selectionSource:"code.jump"}},this._editor).then(ye=>{var Ae;if(this._ignoreModelChangeEvent=!1,ye&&this._widget)if(this._editor===ye)this._widget.show(He),this._widget.focusOnReferenceTree();else{const ue=Ad.get(ye),be=this._model.clone();this.closeWidget(),ye.focus(),ue?.toggleWidget(He,(0,d.PG)(Je=>Promise.resolve(be)),null!==(Ae=this._peekMode)&&void 0!==Ae&&Ae)}else this.closeWidget()},ye=>{this._ignoreModelChangeEvent=!1,(0,n.dL)(ye)})}openReference(yt,He,ye){He||this.closeWidget();const{uri:Ae,range:ue}=yt;this._editorService.openCodeEditor({resource:Ae,options:{selection:ue,selectionSource:"code.jump",pinned:ye}},this._editor,He)}};function fn(Dn,yt){const He=(0,E.rc)(Dn);if(!He)return;const ye=jt.get(He);ye&&yt(ye)}jt.ID="editor.contrib.referencesController",jt=function(Dn,yt,He,ye){var be,Ae=arguments.length,ue=Ae<3?yt:null===ye?ye=Object.getOwnPropertyDescriptor(yt,He):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,yt,He,ye);else for(var Je=Dn.length-1;Je>=0;Je--)(be=Dn[Je])&&(ue=(Ae<3?be(ue):Ae>3?be(yt,He,ue):be(yt,He))||ue);return Ae>3&&ue&&Object.defineProperty(yt,He,ue),ue}([Bt(2,m.i6),Bt(3,v.$),Bt(4,p.lT),Bt(5,c.TG),Bt(6,u.Uy),Bt(7,s.Ui)],jt),t.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,l.gx)(2089,60),when:m.Ao.or(ht,E.Jy.inPeekEditor),handler(Dn){fn(Dn,yt=>{yt.changeFocusBetweenPreviewAndReferences()})}}),t.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:m.Ao.or(ht,E.Jy.inPeekEditor),handler(Dn){fn(Dn,yt=>{yt.goToNextOrPreviousReference(!0)})}}),t.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:m.Ao.or(ht,E.Jy.inPeekEditor),handler(Dn){fn(Dn,yt=>{yt.goToNextOrPreviousReference(!1)})}}),_.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),_.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),_.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),_.P0.registerCommand("closeReferenceSearch",Dn=>fn(Dn,yt=>yt.closeWidget())),t.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:m.Ao.and(E.Jy.inPeekEditor,m.Ao.not("config.editor.stablePeek"))}),t.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:m.Ao.and(ht,m.Ao.not("config.editor.stablePeek"))}),t.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:m.Ao.and(ht,a.CQ,a.PS.negate(),a.uJ.negate()),handler(Dn){var yt;const ye=null===(yt=Dn.get(a.Lw).lastFocusedList)||void 0===yt?void 0:yt.getFocus();Array.isArray(ye)&&ye[0]instanceof g.WX&&fn(Dn,Ae=>Ae.revealReference(ye[0]))}}),t.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:m.Ao.and(ht,a.CQ,a.PS.negate(),a.uJ.negate()),handler(Dn){var yt;const ye=null===(yt=Dn.get(a.Lw).lastFocusedList)||void 0===yt?void 0:yt.getFocus();Array.isArray(ye)&&ye[0]instanceof g.WX&&fn(Dn,Ae=>Ae.openReference(ye[0],!0,!0))}}),_.P0.registerCommand("openReference",Dn=>{var yt;const ye=null===(yt=Dn.get(a.Lw).lastFocusedList)||void 0===yt?void 0:yt.getFocus();Array.isArray(ye)&&ye[0]instanceof g.WX&&fn(Dn,Ae=>Ae.openReference(ye[0],!1,!0))})},56354:(Dt,Y,e)=>{"use strict";e.d(Y,{F2:()=>c,WX:()=>s,oQ:()=>t});var d=e(4125),n=e(3778),l=e(84575),S=e(80142),v=e(5067),T=e(40734),C=e(73879),E=e(98570),L=e(55197);class s{constructor(p,u,g,b){this.isProviderFirst=p,this.parent=u,this.link=g,this._rangeCallback=b,this.id=l.a.nextId()}get uri(){return this.link.uri}get range(){var p,u;return null!==(u=null!==(p=this._range)&&void 0!==p?p:this.link.targetSelectionRange)&&void 0!==u?u:this.link.range}set range(p){this._range=p,this._rangeCallback(this)}get ariaMessage(){var p;const u=null===(p=this.parent.getPreview(this))||void 0===p?void 0:p.preview(this.range);return u?(0,L.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,T.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,u.value):(0,L.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,T.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class m{constructor(p){this._modelReference=p}dispose(){this._modelReference.dispose()}preview(p,u=8){const g=this._modelReference.object.textEditorModel;if(!g)return;const{startLineNumber:b,startColumn:y,endLineNumber:w,endColumn:D}=p,x=g.getWordUntilPosition({lineNumber:b,column:y-u}),P=new E.e(b,x.startColumn,b,y),O=new E.e(w,D,w,1073741824),V=g.getValueInRange(P).replace(/^\s+/,""),H=g.getValueInRange(p);return{value:V+H+g.getValueInRange(O).replace(/\s+$/,""),highlight:{start:V.length,end:V.length+H.length}}}}class c{constructor(p,u){this.parent=p,this.uri=u,this.children=[],this._previews=new v.Y9}dispose(){(0,S.B9)(this._previews.values()),this._previews.clear()}getPreview(p){return this._previews.get(p.uri)}get ariaMessage(){const p=this.children.length;return 1===p?(0,L.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,T.EZ)(this.uri),this.uri.fsPath):(0,L.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",p,(0,T.EZ)(this.uri),this.uri.fsPath)}resolve(p){return function(a,p,u,g){return new(u||(u=Promise))(function(y,w){function D(O){try{P(g.next(O))}catch(V){w(V)}}function x(O){try{P(g.throw(O))}catch(V){w(V)}}function P(O){O.done?y(O.value):function b(y){return y instanceof u?y:new u(function(w){w(y)})}(O.value).then(D,x)}P((g=g.apply(a,p||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(const u of this.children)if(!this._previews.has(u.uri))try{const g=yield p.createModelReference(u.uri);this._previews.set(u.uri,new m(g))}catch(g){(0,d.dL)(g)}return this})}}class t{constructor(p,u){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new n.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=p,this._title=u;const[g]=p;let b;p.sort(t._compareReferences);for(const y of p)if((!b||!T.SF.isEqual(b.uri,y.uri,!0))&&(b=new c(this,y.uri),this.groups.push(b)),0===b.children.length||0!==t._compareReferences(y,b.children[b.children.length-1])){const w=new s(g===y,b,y,D=>this._onDidChangeReferenceRange.fire(D));this.references.push(w),b.children.push(w)}}dispose(){(0,S.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,L.NC)("aria.result.0","No results found"):1===this.references.length?(0,L.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,L.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,L.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(p,u){const{parent:g}=p;let b=g.children.indexOf(p);const y=g.children.length,w=g.parent.groups.length;return 1===w||u&&b+1<y||!u&&b>0?(b=u?(b+1)%y:(b+y-1)%y,g.children[b]):(b=g.parent.groups.indexOf(g),u?(b=(b+1)%w,g.parent.groups[b].children[0]):(b=(b+w-1)%w,g.parent.groups[b].children[g.parent.groups[b].children.length-1]))}nearestReference(p,u){const g=this.references.map((b,y)=>({idx:y,prefixLen:C.Mh(b.uri.toString(),p.toString()),offsetDist:100*Math.abs(b.range.startLineNumber-u.lineNumber)+Math.abs(b.range.startColumn-u.column)})).sort((b,y)=>b.prefixLen>y.prefixLen?-1:b.prefixLen<y.prefixLen?1:b.offsetDist<y.offsetDist?-1:b.offsetDist>y.offsetDist?1:0)[0];if(g)return this.references[g.idx]}referenceAt(p,u){for(const g of this.references)if(g.uri.toString()===p.toString()&&E.e.containsPosition(g.range,u))return g}firstReference(){for(const p of this.references)if(p.isProviderFirst)return p;return this.references[0]}static _compareReferences(p,u){return T.SF.compare(p.uri,u.uri)||E.e.compareRangesUsingStarts(p.range,u.range)}}},83823:(Dt,Y,e)=>{"use strict";e.d(Y,{R8:()=>L});var d=e(48648),n=e(73888),l=e(4125),S=e(26845),v=e(90790);class C{constructor(c,t,a){this.provider=c,this.hover=t,this.ordinal=a}}function L(m,c,t,a){const u=m.ordered(c).map((g,b)=>function E(m,c,t,a,p){return function(m,c,t,a){return new(t||(t=Promise))(function(u,g){function b(D){try{w(a.next(D))}catch(x){g(x)}}function y(D){try{w(a.throw(D))}catch(x){g(x)}}function w(D){D.done?u(D.value):function p(u){return u instanceof t?u:new t(function(g){g(u)})}(D.value).then(b,y)}w((a=a.apply(m,c||[])).next())})}(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(m.provideHover(t,a,p));if(u&&function s(m){return typeof m.range<"u"&&typeof m.contents<"u"&&m.contents&&m.contents.length>0}(u))return new C(m,u,c)}catch(u){(0,l.Cp)(u)}})}(g,b,c,t,a));return d.Aq.fromPromises(u).coalesce()}(0,S.sb)("_executeHoverProvider",(m,c,t)=>function _(m,c,t,a){return L(m,c,t,a).map(p=>p.hover).toPromise()}(m.get(v.p).hoverProvider,c,t,n.T.None))},39610:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{ModesHoverController:()=>yt});var d=e(53993),n=e(80142),l=e(26845),S=e(98570),v=e(82290),T=e(45358),C=e(75446),E=e(98463),L=e(41140),_=e(3067),s=e(57856),m=e.n(s),c=e(38470),t=e.n(c),a=e(43370),p=e.n(a),u=e(28458),g=e.n(u),b=e(71278),y=e.n(b),w=e(29488),D=e.n(w),x=e(70994),P={};P.styleTagTransform=D(),P.setAttributes=g(),P.insert=p().bind(null,"head"),P.domAPI=t(),P.insertStyleElement=y(),m()(x.Z,P);const H=E.$;class z extends n.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new _.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class k extends n.JT{constructor(ue,be,Je){super(),this.actionContainer=E.R3(ue,H("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=E.R3(this.actionContainer,H("a.action")),this.action.setAttribute("role","button"),be.iconClass&&E.R3(this.action,H(`span.icon.${be.iconClass}`)),E.R3(this.action,H("span")).textContent=Je?`${be.label} (${Je})`:be.label,this._register(E.nm(this.actionContainer,E.tw.CLICK,nt=>{nt.stopPropagation(),nt.preventDefault(),be.run(this.actionContainer)})),this._register(E.nm(this.actionContainer,E.tw.KEY_UP,nt=>{new L.y(nt).equals(3)&&(nt.stopPropagation(),nt.preventDefault(),be.run(this.actionContainer))})),this.setEnabled(!0)}static render(ue,be,Je){return new k(ue,be,Je)}setEnabled(ue){ue?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var F=e(64023),j=e(18723),K=e(59758),U=e(45337),ne=e(48648),N=e(4125),W=e(3778);class M{constructor(ue,be,Je){this.value=ue,this.isComplete=be,this.hasLoadingMessage=Je}}class we extends n.JT{constructor(ue,be){super(),this._editor=ue,this._computer=be,this._onResult=this._register(new W.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new ne.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new ne.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new ne.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(ue,be=!0){this._state=ue,be&&this._fireResult()}_triggerAsyncComputation(){var Ae,ue,be,Je;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,ne.zS)(ue=>this._computer.computeAsync(ue)),Ae=this,ue=void 0,Je=function*(){var ue,be;try{try{for(var Fe,Je=function(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ue=Ae[Symbol.asyncIterator];return ue?ue.call(Ae):(Ae="function"==typeof __values?__values(Ae):Ae[Symbol.iterator](),be={},Je("next"),Je("throw"),Je("return"),be[Symbol.asyncIterator]=function(){return this},be);function Je(nt){be[nt]=Ae[nt]&&function(bt){return new Promise(function(Ut,vn){!function Fe(nt,bt,Ut,vn){Promise.resolve(vn).then(function(Mn){nt({value:Mn,done:Ut})},bt)}(Ut,vn,(bt=Ae[nt](bt)).done,bt.value)})}}}(this._asyncIterable);!(Fe=yield Je.next()).done;){const nt=Fe.value;nt&&(this._result.push(nt),this._fireResult())}}catch(nt){ue={error:nt}}finally{try{Fe&&!Fe.done&&(be=Je.return)&&(yield be.call(Je))}finally{if(ue)throw ue.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(nt){(0,N.dL)(nt)}},new((be=void 0)||(be=Promise))(function(nt,bt){function Ut(St){try{Mn(Je.next(St))}catch(gn){bt(gn)}}function vn(St){try{Mn(Je.throw(St))}catch(gn){bt(gn)}}function Mn(St){St.done?nt(St.value):function Fe(nt){return nt instanceof be?nt:new be(function(bt){bt(nt)})}(St.value).then(Ut,vn)}Mn((Je=Je.apply(Ae,ue||[])).next())})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const ue=0===this._state,be=4===this._state;this._onResult.fire(new M(this._result.slice(0),ue,be))}start(ue){if(0===ue)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var Ee=e(91717),xe=e(16468),Ne=e(9265),oe=e(14759),Se=e(83956),Ie=function(Ae,ue,be,Je){var bt,Fe=arguments.length,nt=Fe<3?ue:null===Je?Je=Object.getOwnPropertyDescriptor(ue,be):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(Ae,ue,be,Je);else for(var Ut=Ae.length-1;Ut>=0;Ut--)(bt=Ae[Ut])&&(nt=(Fe<3?bt(nt):Fe>3?bt(ue,be,nt):bt(ue,be))||nt);return Fe>3&&nt&&Object.defineProperty(ue,be,nt),nt},me=function(Ae,ue){return function(be,Je){ue(be,Je,Ae)}};const Me=E.$;let de=class Pd extends n.JT{constructor(ue,be,Je){super(),this._editor=ue,this._instantiationService=be,this._keybindingService=Je,this._widget=this._register(this._instantiationService.createInstance(Ue,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const Fe of Ee.Ae.getAll())this._participants.push(this._instantiationService.createInstance(Fe,this._editor));this._participants.sort((Fe,nt)=>Fe.hoverOrdinal-nt.hoverOrdinal),this._computer=new ce(this._editor,this._participants),this._hoverOperation=this._register(new we(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Fe=>{this._withResult(Fe.value,Fe.isComplete,Fe.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(E.mu(this._widget.getDomNode(),"keydown",Fe=>{Fe.equals(9)&&this.hide()})),this._register(U.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(ue){const be=[];for(const Fe of this._participants)if(Fe.suggestHoverAnchor){const nt=Fe.suggestHoverAnchor(ue);nt&&be.push(nt)}const Je=ue.target;if(6===Je.type&&be.push(new Ee.Qj(0,Je.range)),7===Je.type){const Fe=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!Je.detail.isAfterLines&&"number"==typeof Je.detail.horizontalDistanceToText&&Je.detail.horizontalDistanceToText<Fe&&be.push(new Ee.Qj(0,Je.range))}return 0!==be.length&&(be.sort((Fe,nt)=>nt.priority-Fe.priority),this._startShowingAt(be[0],0,!1),!0)}startShowingAtRange(ue,be,Je){this._startShowingAt(new Ee.Qj(0,ue),be,Je)}_startShowingAt(ue,be,Je){if(!this._computer.anchor||!this._computer.anchor.equals(ue)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&ue.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const Fe=this._messages.filter(nt=>nt.isValidForHoverAnchor(ue));if(0===Fe.length)this.hide();else{if(Fe.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(ue,Fe)}}else this.hide();this._computer.anchor=ue,this._computer.shouldFocus=Je,this._hoverOperation.start(be)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(ue){return this._widget.getDomNode().contains(ue)}_addLoadingMessage(ue){if(this._computer.anchor)for(const be of this._participants)if(be.createLoadingMessage){const Je=be.createLoadingMessage(this._computer.anchor);if(Je)return ue.slice(0).concat([Je])}return ue}_withResult(ue,be,Je){this._messages=Je?this._addLoadingMessage(ue):ue,this._messagesAreComplete=be,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):be&&this.hide()}_renderMessages(ue,be){const{showAtPosition:Je,showAtRange:Fe,highlightRange:nt}=Pd.computeHoverRanges(ue.range,be),bt=new n.SL,Ut=bt.add(new ze(this._keybindingService)),vn=document.createDocumentFragment();let Mn=null;const St={fragment:vn,statusBar:Ut,setColorPicker:gn=>Mn=gn,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const gn of this._participants){const Vn=be.filter(Sn=>Sn.owner===gn);Vn.length>0&&bt.add(gn.renderHoverParts(St,Vn))}if(Ut.hasContent&&vn.appendChild(Ut.hoverElement),vn.hasChildNodes()){if(nt){const gn=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,gn.set([{range:nt,options:Pd._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}bt.add((0,n.OF)(()=>{try{this._isChangingDecorations=!0,gn.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(vn,new ke(Mn,Je,Fe,this._editor.getOption(55).above,this._computer.shouldFocus,bt))}else bt.dispose()}static computeHoverRanges(ue,be){const Je=ue.startLineNumber;let Fe=ue.startColumn,nt=ue.endColumn,bt=be[0].range,Ut=null;for(const vn of be)bt=S.e.plusRange(bt,vn.range),vn.range.startLineNumber===Je&&vn.range.endLineNumber===Je&&(Fe=Math.min(Fe,vn.range.startColumn),nt=Math.max(nt,vn.range.endColumn)),vn.forceShowAtRange&&(Ut=vn.range);return{showAtPosition:Ut?Ut.getStartPosition():new j.L(ue.startLineNumber,Fe),showAtRange:Ut||new S.e(Je,Fe,Je,nt),highlightRange:bt}}};de._DECORATION_OPTIONS=K.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),de=Ie([me(1,Ne.TG),me(2,oe.d)],de);class ke{constructor(ue,be,Je,Fe,nt,bt){this.colorPicker=ue,this.showAtPosition=be,this.showAtRange=Je,this.preferAbove=Fe,this.stoleFocus=nt,this.disposables=bt}}let Ue=class Sc extends n.JT{constructor(ue,be){super(),this._editor=ue,this._contextKeyService=be,this.allowEditorOverflow=!0,this._hoverVisibleKey=v.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new z),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(Je=>{Je.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var ue,be;return null!==(be=null===(ue=this._visibleData)||void 0===ue?void 0:ue.showAtPosition)&&void 0!==be?be:null}get isColorPickerVisible(){var ue;return Boolean(null===(ue=this._visibleData)||void 0===ue?void 0:ue.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Sc.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let ue=this._visibleData.preferAbove;return!ue&&this._contextKeyService.getContextKeyValue(Se._y.Visible.key)&&(ue=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:ue?[1,2]:[2,1]}}_setVisibleData(ue){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=ue,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const ue=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:be,lineHeight:Je}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${be}px`,this._hover.contentsDomNode.style.lineHeight=""+Je/be,this._hover.contentsDomNode.style.maxHeight=`${ue}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(be=>this._editor.applyFontInfo(be))}showAt(ue,be){this._setVisibleData(be),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(ue),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),be.stoleFocus&&this._hover.containerDomNode.focus(),be.colorPicker&&be.colorPicker.layout()}hide(){if(this._visibleData){const ue=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),ue&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const ue=this._hover.scrollbar.getScrollDimensions();if(ue.scrollWidth>ue.width){const Je=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==Je&&(this._hover.contentsDomNode.style.paddingBottom=Je,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Ue.ID="editor.contrib.contentHoverWidget",Ue=Ie([me(1,xe.i6)],Ue);let ze=class extends n.JT{constructor(ue){super(),this._keybindingService=ue,this._hasContent=!1,this.hoverElement=Me("div.hover-row.status-bar"),this.actionsElement=E.R3(this.hoverElement,Me("div.actions"))}get hasContent(){return this._hasContent}addAction(ue){const be=this._keybindingService.lookupKeybinding(ue.commandId),Je=be?be.getLabel():null;return this._hasContent=!0,this._register(k.render(this.actionsElement,ue,Je))}append(ue){const be=E.R3(this.actionsElement,ue);return this._hasContent=!0,be}};ze=Ie([me(0,oe.d)],ze);class ce{constructor(ue,be){this._editor=ue,this._participants=be,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(ue){this._anchor=ue}get shouldFocus(){return this._shouldFocus}set shouldFocus(ue){this._shouldFocus=ue}static _getLineDecorations(ue,be){if(1!==be.type)return[];const Je=ue.getModel(),Fe=be.range.startLineNumber;if(Fe>Je.getLineCount())return[];const nt=Je.getLineMaxColumn(Fe);return ue.getLineDecorations(Fe).filter(bt=>{if(bt.options.isWholeLine)return!0;const Ut=bt.range.startLineNumber===Fe?bt.range.startColumn:1,vn=bt.range.endLineNumber===Fe?bt.range.endColumn:nt;if(bt.options.showIfCollapsed){if(Ut>be.range.startColumn+1||be.range.endColumn-1>vn)return!1}else if(Ut>be.range.startColumn||be.range.endColumn>vn)return!1;return!0})}computeAsync(ue){const be=this._anchor;if(!this._editor.hasModel()||!be)return ne.Aq.EMPTY;const Je=ce._getLineDecorations(this._editor,be);return ne.Aq.merge(this._participants.map(Fe=>Fe.computeAsync?Fe.computeAsync(be,Je,ue):ne.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const ue=ce._getLineDecorations(this._editor,this._anchor);let be=[];for(const Je of this._participants)be=be.concat(Je.computeSync(this._anchor,ue));return(0,F.kX)(be)}}var Ve=e(48701),tt=e(29739),Ct=e(44827);const Lt=E.$;let $e=(()=>{class Ae extends n.JT{constructor(be,Je,Fe=Ct.SW){super(),this._renderDisposeables=this._register(new n.SL),this._editor=be,this._isVisible=!1,this._messages=[],this._hover=this._register(new z),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new tt.$({editor:this._editor},Je,Fe)),this._computer=new ae(this._editor),this._hoverOperation=this._register(new we(this._editor,this._computer)),this._register(this._hoverOperation.onResult(nt=>{this._withResult(nt.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(nt=>{nt.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ae.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Je=>this._editor.applyFontInfo(Je))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(be){this._computer.lineNumber!==be&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=be,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(be){this._messages=be,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(be,Je){this._renderDisposeables.clear();const Fe=document.createDocumentFragment();for(const nt of Je){const bt=Lt("div.hover-row.markdown-hover"),Ut=E.R3(bt,Lt("div.hover-contents")),vn=this._renderDisposeables.add(this._markdownRenderer.render(nt.value));Ut.appendChild(vn.element),Fe.appendChild(bt)}this._updateContents(Fe),this._showAt(be)}_updateContents(be){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(be),this._updateFont()}_showAt(be){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const Je=this._editor.getLayoutInfo(),Fe=this._editor.getTopForLineNumber(be),nt=this._editor.getScrollTop(),bt=this._editor.getOption(61),vn=Fe-nt-(this._hover.containerDomNode.clientHeight-bt)/2;this._hover.containerDomNode.style.left=`${Je.glyphMarginLeft+Je.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(vn),0)}px`}}return Ae.ID="editor.contrib.modesGlyphHoverWidget",Ae})();class ae{constructor(ue){this._editor=ue,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(ue){this._lineNumber=ue}computeSync(){const ue=Fe=>({value:Fe}),be=this._editor.getLineDecorations(this._lineNumber),Je=[];if(!be)return Je;for(const Fe of be){if(!Fe.options.glyphMarginClassName)continue;const nt=Fe.options.glyphMarginHoverMessage;!nt||(0,Ve.CP)(nt)||Je.push(...(0,F._2)(nt).map(ue))}return Je}}var ve=e(55197),he=e(4062),le=e(40902),Q=e(84504),Ce=e(40734),Pe=e(55585),dt=e(80151),st=e(29354),qe=e(77084),Qe=e(98674),et=e(58177),vt=e(55538),mt=e(90790),$t=function(Ae,ue){return function(be,Je){ue(be,Je,Ae)}};const Bt=E.$;class Ke{constructor(ue,be,Je){this.owner=ue,this.range=be,this.marker=Je}isValidForHoverAnchor(ue){return 1===ue.type&&this.range.startColumn<=ue.range.startColumn&&this.range.endColumn>=ue.range.endColumn}}const ht={type:1,filter:{include:qe.yN.QuickFix},triggerAction:qe.aQ.QuickFixHover};let jt=class{constructor(ue,be,Je,Fe){this._editor=ue,this._markerDecorationsService=be,this._openerService=Je,this._languageFeaturesService=Fe,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(ue,be){if(!this._editor.hasModel()||1!==ue.type)return[];const Je=this._editor.getModel(),Fe=ue.range.startLineNumber,nt=Je.getLineMaxColumn(Fe),bt=[];for(const Ut of be){const vn=Ut.range.startLineNumber===Fe?Ut.range.startColumn:1,Mn=Ut.range.endLineNumber===Fe?Ut.range.endColumn:nt,St=this._markerDecorationsService.getMarker(Je.uri,Ut);if(!St)continue;const gn=new S.e(ue.range.startLineNumber,vn,ue.range.startLineNumber,Mn);bt.push(new Ke(this,gn,St))}return bt}renderHoverParts(ue,be){if(!be.length)return n.JT.None;const Je=new n.SL;be.forEach(nt=>ue.fragment.appendChild(this.renderMarkerHover(nt,Je)));const Fe=1===be.length?be[0]:be.sort((nt,bt)=>et.ZL.compare(nt.marker.severity,bt.marker.severity))[0];return this.renderMarkerStatusbar(ue,Fe,Je),Je}renderMarkerHover(ue,be){const Je=Bt("div.hover-row"),Fe=E.R3(Je,Bt("div.marker.hover-contents")),{source:nt,message:bt,code:Ut,relatedInformation:vn}=ue.marker;this._editor.applyFontInfo(Fe);const Mn=E.R3(Fe,Bt("span"));if(Mn.style.whiteSpace="pre-wrap",Mn.innerText=bt,nt||Ut)if(Ut&&"string"!=typeof Ut){const St=Bt("span");nt&&(E.R3(St,Bt("span")).innerText=nt);const gn=E.R3(St,Bt("a.code-link"));gn.setAttribute("href",Ut.target.toString()),be.add(E.nm(gn,"click",Gn=>{this._openerService.open(Ut.target,{allowCommands:!0}),Gn.preventDefault(),Gn.stopPropagation()})),E.R3(gn,Bt("span")).innerText=Ut.value;const Sn=E.R3(Fe,St);Sn.style.opacity="0.6",Sn.style.paddingLeft="6px"}else{const St=E.R3(Fe,Bt("span"));St.style.opacity="0.6",St.style.paddingLeft="6px",St.innerText=nt&&Ut?`${nt}(${Ut})`:nt||`(${Ut})`}if((0,F.Of)(vn))for(const{message:St,resource:gn,startLineNumber:Vn,startColumn:Sn}of vn){const Gn=E.R3(Fe,Bt("div"));Gn.style.marginTop="8px";const ci=E.R3(Gn,Bt("a"));ci.innerText=`${(0,Ce.EZ)(gn)}(${Vn}, ${Sn}): `,ci.style.cursor="pointer",be.add(E.nm(ci,"click",Ei=>{Ei.stopPropagation(),Ei.preventDefault(),this._openerService&&this._openerService.open(gn,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Vn,startColumn:Sn}}}).catch(N.dL)}));const ii=E.R3(Gn,Bt("span"));ii.innerText=St,this._editor.applyFontInfo(ii)}return Je}renderMarkerStatusbar(ue,be,Je){if((be.marker.severity===et.ZL.Error||be.marker.severity===et.ZL.Warning||be.marker.severity===et.ZL.Info)&&ue.statusBar.addAction({label:ve.NC("view problem","View Problem"),commandId:Qe.NextMarkerAction.ID,run:()=>{var Fe;ue.hide(),null===(Fe=Qe.MarkerController.get(this._editor))||void 0===Fe||Fe.showAtMarker(be.marker),this._editor.focus()}}),!this._editor.getOption(83)){const Fe=ue.statusBar.append(Bt("div"));this.recentMarkerCodeActionsInfo&&(et.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===et.H0.makeKey(be.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Fe.textContent=ve.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const nt=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?n.JT.None:Je.add((0,ne.Vg)(()=>Fe.textContent=ve.NC("checkingForQuickFixes","Checking for quick fixes..."),200));Fe.textContent||(Fe.textContent=String.fromCharCode(160));const bt=this.getCodeActions(be.marker);Je.add((0,n.OF)(()=>bt.cancel())),bt.then(Ut=>{if(nt.dispose(),this.recentMarkerCodeActionsInfo={marker:be.marker,hasCodeActions:Ut.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return Ut.dispose(),void(Fe.textContent=ve.NC("noQuickFixes","No quick fixes available"));Fe.style.display="none";let vn=!1;Je.add((0,n.OF)(()=>{vn||Ut.dispose()})),ue.statusBar.addAction({label:ve.NC("quick fixes","Quick Fix..."),commandId:st.E7.Id,run:Mn=>{vn=!0;const St=st.pY.get(this._editor),gn=E.i(Mn);ue.hide(),St?.showCodeActions(ht,Ut,{x:gn.left+6,y:gn.top+gn.height+6,width:gn.width,height:gn.height})}})},N.dL)}}getCodeActions(ue){return(0,ne.PG)(be=>(0,dt.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new S.e(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn),ht,vt.Ex.None,be))}};jt=function(Ae,ue,be,Je){var bt,Fe=arguments.length,nt=Fe<3?ue:null===Je?Je=Object.getOwnPropertyDescriptor(ue,be):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(Ae,ue,be,Je);else for(var Ut=Ae.length-1;Ut>=0;Ut--)(bt=Ae[Ut])&&(nt=(Fe<3?bt(nt):Fe>3?bt(ue,be,nt):bt(ue,be))||nt);return Fe>3&&nt&&Object.defineProperty(ue,be,nt),nt}([$t(1,Pe.i),$t(2,Ct.v4),$t(3,mt.p)],jt),(0,le.Ic)((Ae,ue)=>{const be=Ae.getColor(he.url);be&&ue.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${be}; }`);const Je=Ae.getColor(he.sgC);Je&&ue.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${Je}; }`)});var Dn=function(Ae,ue){return function(be,Je){ue(be,Je,Ae)}};let yt=class wc{constructor(ue,be,Je,Fe,nt){this._editor=ue,this._instantiationService=be,this._openerService=Je,this._languageService=Fe,this._toUnhook=new n.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(bt=>{bt.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(ue){return ue.getContribution(wc.ID)}_hookEvents(){const be=this._editor.getOption(55);this._isHoverEnabled=be.enabled,this._isHoverSticky=be.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(Je=>this._onEditorMouseDown(Je))),this._toUnhook.add(this._editor.onMouseUp(Je=>this._onEditorMouseUp(Je))),this._toUnhook.add(this._editor.onMouseMove(Je=>this._onEditorMouseMove(Je))),this._toUnhook.add(this._editor.onKeyDown(Je=>this._onKeyDown(Je)))):(this._toUnhook.add(this._editor.onMouseMove(Je=>this._onEditorMouseMove(Je))),this._toUnhook.add(this._editor.onKeyDown(Je=>this._onKeyDown(Je)))),this._toUnhook.add(this._editor.onMouseLeave(Je=>this._onEditorMouseLeave(Je))),this._toUnhook.add(this._editor.onDidChangeModel(()=>this._hideWidgets())),this._toUnhook.add(this._editor.onDidScrollChange(Je=>this._onEditorScrollChanged(Je)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(ue){(ue.scrollTopChanged||ue.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(ue){this._isMouseDown=!0;const be=ue.target;9!==be.type||be.detail!==Ue.ID?12===be.type&&be.detail===$e.ID||(12!==be.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(ue){this._isMouseDown=!1}_onEditorMouseLeave(ue){var be;null!==(be=this._contentWidget)&&void 0!==be&&be.containsNode(ue.event.browserEvent.relatedTarget)||this._hideWidgets()}_onEditorMouseMove(ue){var be,Je,Fe,nt,bt;const Ut=ue.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===Ut.type&&Ut.detail===Ue.ID||this._isHoverSticky&&(null===(Je=null===(be=ue.event.browserEvent.view)||void 0===be?void 0:be.getSelection())||void 0===Je||!Je.isCollapsed)||!this._isHoverSticky&&9===Ut.type&&Ut.detail===Ue.ID&&(null===(Fe=this._contentWidget)||void 0===Fe?void 0:Fe.isColorPickerVisible())||this._isHoverSticky&&12===Ut.type&&Ut.detail===$e.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(ue))return 2===Ut.type&&Ut.position?(null===(bt=this._contentWidget)||void 0===bt||bt.hide(),this._glyphWidget||(this._glyphWidget=new $e(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(Ut.position.lineNumber)):void this._hideWidgets();null===(nt=this._glyphWidget)||void 0===nt||nt.hide()}else this._hideWidgets()}_onKeyDown(ue){5!==ue.keyCode&&6!==ue.keyCode&&57!==ue.keyCode&&4!==ue.keyCode&&this._hideWidgets()}_hideWidgets(){var ue,be,Je;this._isMouseDown&&this._hoverClicked&&(null===(ue=this._contentWidget)||void 0===ue?void 0:ue.isColorPickerVisible())||(this._hoverClicked=!1,null===(be=this._glyphWidget)||void 0===be||be.hide(),null===(Je=this._contentWidget)||void 0===Je||Je.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(de,this._editor)),this._contentWidget}isColorPickerVisible(){var ue;return(null===(ue=this._contentWidget)||void 0===ue?void 0:ue.isColorPickerVisible())||!1}showContentHover(ue,be,Je){this._getOrCreateContentWidget().startShowingAtRange(ue,be,Je)}dispose(){var ue,be;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(ue=this._glyphWidget)||void 0===ue||ue.dispose(),null===(be=this._contentWidget)||void 0===be||be.dispose()}};yt.ID="editor.contrib.hover",yt=function(Ae,ue,be,Je){var bt,Fe=arguments.length,nt=Fe<3?ue:null===Je?Je=Object.getOwnPropertyDescriptor(ue,be):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(Ae,ue,be,Je);else for(var Ut=Ae.length-1;Ut>=0;Ut--)(bt=Ae[Ut])&&(nt=(Fe<3?bt(nt):Fe>3?bt(ue,be,nt):bt(ue,be))||nt);return Fe>3&&nt&&Object.defineProperty(ue,be,nt),nt}([Dn(1,Ne.TG),Dn(2,Ct.v4),Dn(3,T.O),Dn(4,xe.i6)],yt),(0,l._K)(yt.ID,yt),(0,l.Qr)(class He extends l.R6{constructor(){super({id:"editor.action.showHover",label:ve.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:v.u.editorTextFocus,primary:(0,d.gx)(2089,2087),weight:100}})}run(ue,be){if(!be.hasModel())return;const Je=yt.get(be);if(!Je)return;const Fe=be.getPosition(),nt=new S.e(Fe.lineNumber,Fe.column,Fe.lineNumber,Fe.column),bt=2===be.getOption(2);Je.showContentHover(nt,1,bt)}}),(0,l.Qr)(class ye extends l.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:ve.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(ue,be){const Je=yt.get(be);if(!Je)return;const Fe=be.getPosition();if(!Fe)return;const nt=new S.e(Fe.lineNumber,Fe.column,Fe.lineNumber,Fe.column),bt=C.GotoDefinitionAtPositionEditorContribution.get(be);bt&&bt.startFindDefinitionFromCursor(Fe).then(()=>{Je.showContentHover(nt,1,!0)})}}),Ee.Ae.register(Q.D5),Ee.Ae.register(jt),(0,le.Ic)((Ae,ue)=>{const be=Ae.getColor(he.ptc);be&&ue.addRule(`.monaco-editor .hoverHighlight { background-color: ${be}; }`);const Je=Ae.getColor(he.yJx);Je&&ue.addRule(`.monaco-editor .monaco-hover { background-color: ${Je}; }`);const Fe=Ae.getColor(he.CNo);Fe&&(ue.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${Fe}; }`),ue.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${Fe.transparent(.5)}; }`),ue.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${Fe.transparent(.5)}; }`),ue.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${Fe.transparent(.5)}; }`));const nt=Ae.getColor(he.url);nt&&ue.addRule(`.monaco-editor .monaco-hover a { color: ${nt}; }`);const bt=Ae.getColor(he.sgC);bt&&ue.addRule(`.monaco-editor .monaco-hover a:hover { color: ${bt}; }`);const Ut=Ae.getColor(he.Sbf);Ut&&ue.addRule(`.monaco-editor .monaco-hover { color: ${Ut}; }`);const vn=Ae.getColor(he.LoV);vn&&ue.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${vn}; }`);const Mn=Ae.getColor(he.SwI);Mn&&ue.addRule(`.monaco-editor .monaco-hover code { background-color: ${Mn}; }`)})},91717:(Dt,Y,e)=>{"use strict";e.d(Y,{Ae:()=>l,Qj:()=>d,YM:()=>n});class d{constructor(v,T){this.priority=v,this.range=T,this.type=1}equals(v){return 1===v.type&&this.range.equalsRange(v.range)}canAdoptVisibleHover(v,T){return 1===v.type&&T.lineNumber===this.range.startLineNumber}}class n{constructor(v,T,C){this.priority=v,this.owner=T,this.range=C,this.type=2}equals(v){return 2===v.type&&this.owner===v.owner}canAdoptVisibleHover(v,T){return 2===v.type&&this.owner===v.owner}}const l=new class{constructor(){this._participants=[]}register(v){this._participants.push(v)}getAll(){return this._participants}}},84504:(Dt,Y,e)=>{"use strict";e.d(Y,{D5:()=>b,c:()=>y,hU:()=>g});var d=e(98463),n=e(64023),l=e(48648),S=e(48701),v=e(80142),T=e(29739),C=e(18723),E=e(98570),L=e(45358),_=e(83823),s=e(55197),m=e(94667),c=e(44827),t=e(90790),p=function(w,D){return function(x,P){D(x,P,w)}};const u=d.$;class g{constructor(D,x,P,O){this.owner=D,this.range=x,this.contents=P,this.ordinal=O}isValidForHoverAnchor(D){return 1===D.type&&this.range.startColumn<=D.range.startColumn&&this.range.endColumn>=D.range.endColumn}}let b=class{constructor(D,x,P,O,V){this._editor=D,this._languageService=x,this._openerService=P,this._configurationService=O,this._languageFeaturesService=V,this.hoverOrdinal=2}createLoadingMessage(D){return new g(this,D.range,[(new S.W5).appendText(s.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(D,x){if(!this._editor.hasModel()||1!==D.type)return[];const P=this._editor.getModel(),O=D.range.startLineNumber,V=P.getLineMaxColumn(O),H=[];let z=1e3;const k=P.getLineLength(O),F=P.getLanguageIdAtPosition(D.range.startLineNumber,D.range.startColumn),j=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:F});"number"==typeof j&&k>=j&&H.push(new g(this,D.range,[{value:s.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],z++));for(const K of x){const U=K.range.startLineNumber===O?K.range.startColumn:1,ne=K.range.endLineNumber===O?K.range.endColumn:V,N=K.options.hoverMessage;if(!N||(0,S.CP)(N))continue;const W=new E.e(D.range.startLineNumber,U,D.range.startLineNumber,ne);H.push(new g(this,W,(0,n._2)(N),z++))}return H}computeAsync(D,x,P){if(!this._editor.hasModel()||1!==D.type)return l.Aq.EMPTY;const O=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(O))return l.Aq.EMPTY;const V=new C.L(D.range.startLineNumber,D.range.startColumn);return(0,_.R8)(this._languageFeaturesService.hoverProvider,O,V,P).filter(H=>!(0,S.CP)(H.hover.contents)).map(H=>{const z=H.hover.range?E.e.lift(H.hover.range):D.range;return new g(this,z,H.hover.contents,H.ordinal)})}renderHoverParts(D,x){return y(D,x,this._editor,this._languageService,this._openerService)}};function y(w,D,x,P,O){D.sort((H,z)=>H.ordinal-z.ordinal);const V=new v.SL;for(const H of D)for(const z of H.contents){if((0,S.CP)(z))continue;const k=u("div.hover-row.markdown-hover"),F=d.R3(k,u("div.hover-contents")),j=V.add(new T.$({editor:x},P,O));V.add(j.onDidRenderAsync(()=>{F.className="hover-contents code-hover-contents",w.onContentsChanged()}));const K=V.add(j.render(z));F.appendChild(K.element),w.fragment.appendChild(k)}return V}b=function(w,D,x,P){var H,O=arguments.length,V=O<3?D:null===P?P=Object.getOwnPropertyDescriptor(D,x):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(w,D,x,P);else for(var z=w.length-1;z>=0;z--)(H=w[z])&&(V=(O<3?H(V):O>3?H(D,x,V):H(D,x))||V);return O>3&&V&&Object.defineProperty(D,x,V),V}([p(1,L.O),p(2,c.v4),p(3,m.Ui),p(4,t.p)],b)},29406:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(48648),n=e(4125),l=e(18623),S=e(26845),v=e(98570),T=e(7233),C=e(82290),E=e(59758),L=e(81534),_=e(43944),s=e(55197),m=e(40902);class c{constructor(y,w,D){this._editRange=y,this._originalSelection=w,this._text=D}getEditOperations(y,w){w.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(y,w){const x=w.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new T.Y(x.endLineNumber,Math.min(this._originalSelection.positionColumn,x.endColumn),x.endLineNumber,Math.min(this._originalSelection.positionColumn,x.endColumn)):new T.Y(x.endLineNumber,x.endColumn-this._text.length,x.endLineNumber,x.endColumn)}}let p=class Nd{constructor(y,w){this.editor=y,this.editorWorkerService=w,this.decorations=this.editor.createDecorationsCollection()}static get(y){return y.getContribution(Nd.ID)}dispose(){}run(y,w){this.currentRequest&&this.currentRequest.cancel();const D=this.editor.getSelection(),x=this.editor.getModel();if(!x||!D)return;let P=D;if(P.startLineNumber!==P.endLineNumber)return;const O=new l.yy(this.editor,5),V=x.uri;return this.editorWorkerService.canNavigateValueSet(V)?(this.currentRequest=(0,d.PG)(H=>this.editorWorkerService.navigateValueSet(V,P,w)),this.currentRequest.then(H=>{if(!(H&&H.range&&H.value&&O.validate(this.editor)))return;const z=v.e.lift(H.range);let k=H.range;const F=H.value.length-(P.endColumn-P.startColumn);k={startLineNumber:k.startLineNumber,startColumn:k.startColumn,endLineNumber:k.endLineNumber,endColumn:k.startColumn+H.value.length},F>1&&(P=new T.Y(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn+F-1));const j=new c(z,P,H.value);this.editor.pushUndoStop(),this.editor.executeCommand(y,j),this.editor.pushUndoStop(),this.decorations.set([{range:k,options:Nd.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,d.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(n.dL)}).catch(n.dL)):Promise.resolve(void 0)}};var y;p.ID="editor.contrib.inPlaceReplaceController",p.DECORATION=E.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),p=function(b,y,w,D){var O,x=arguments.length,P=x<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,w):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,w,D);else for(var V=b.length-1;V>=0;V--)(O=b[V])&&(P=(x<3?O(P):x>3?O(y,w,P):O(y,w))||P);return x>3&&P&&Object.defineProperty(y,w,P),P}([(1,y=L.p,function(w,D){y(w,D,1)})],p),(0,S._K)(p.ID,p),(0,S.Qr)(class u extends S.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:3154,weight:100}})}run(y,w){const D=p.get(w);return D?D.run(this.id,!0):Promise.resolve(void 0)}}),(0,S.Qr)(class g extends S.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:3156,weight:100}})}run(y,w){const D=p.get(w);return D?D.run(this.id,!1):Promise.resolve(void 0)}}),(0,m.Ic)((b,y)=>{const w=b.getColor(_.Dl);w&&y.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${w}; }`)})},39143:(Dt,Y,e)=>{"use strict";function d(l,S){let v=0;for(let T=0;T<l.length;T++)"\t"===l.charAt(T)?v+=S:v++;return v}function n(l,S,v){l=l<0?0:l;let T="";if(!v){const C=Math.floor(l/S);l%=S;for(let E=0;E<C;E++)T+="\t"}for(let C=0;C<l;C++)T+=" ";return T}e.d(Y,{J:()=>n,Y:()=>d})},1182:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{AutoIndentOnPaste:()=>z,AutoIndentOnPasteCommand:()=>H,ChangeIndentationSizeAction:()=>w,DetectIndentation:()=>P,IndentUsingSpaces:()=>x,IndentUsingTabs:()=>D,IndentationToSpacesAction:()=>b,IndentationToSpacesCommand:()=>F,IndentationToTabsAction:()=>y,IndentationToTabsCommand:()=>j,ReindentLinesAction:()=>O,ReindentSelectedLinesAction:()=>V,getReindentEditOperations:()=>g});var d=e(80142),n=e(73879),l=e(26845),S=e(91117),v=e(65484),T=e(98570),C=e(7233),E=e(82290),L=e(94911),_=e(59602),s=e(39143),m=e(55197),c=e(73622),t=e(87652),a=e(3981);function g(K,U,ne,N,W){if(1===K.getLineCount()&&1===K.getLineMaxColumn(1))return[];const Z=U.getLanguageConfiguration(K.getLanguageId()).indentationRules;if(!Z)return[];for(N=Math.min(N,K.getLineCount());ne<=N&&Z.unIndentedLinePattern;){const Me=K.getLineContent(ne);if(!Z.unIndentedLinePattern.test(Me))break;ne++}if(ne>N-1)return[];const{tabSize:ge,indentSize:M,insertSpaces:we}=K.getOptions(),Ee=(Me,de)=>S.U.shiftIndent(Me,Me.length+(de=de||1),ge,M,we),xe=(Me,de)=>S.U.unshiftIndent(Me,Me.length+(de=de||1),ge,M,we),Ne=[];let oe;const Se=K.getLineContent(ne);let Ie=Se;if(null!=W){oe=W;const Me=n.V8(Se);Ie=oe+Se.substring(Me.length),Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(Ie)&&(oe=xe(oe),Ie=oe+Se.substring(Me.length)),Se!==Ie&&Ne.push(v.h.replaceMove(new C.Y(ne,1,ne,Me.length+1),(0,t.x)(oe,M,we)))}else oe=n.V8(Se);let me=oe;Z.increaseIndentPattern&&Z.increaseIndentPattern.test(Ie)?(me=Ee(me),oe=Ee(oe)):Z.indentNextLinePattern&&Z.indentNextLinePattern.test(Ie)&&(me=Ee(me));for(let Me=++ne;Me<=N;Me++){const de=K.getLineContent(Me),ke=n.V8(de),Ue=me+de.substring(ke.length);Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(Ue)&&(me=xe(me),oe=xe(oe)),ke!==me&&Ne.push(v.h.replaceMove(new C.Y(Me,1,Me,ke.length+1),(0,t.x)(me,M,we))),(!Z.unIndentedLinePattern||!Z.unIndentedLinePattern.test(de))&&(Z.increaseIndentPattern&&Z.increaseIndentPattern.test(Ue)?(oe=Ee(oe),me=oe):me=Z.indentNextLinePattern&&Z.indentNextLinePattern.test(Ue)?Ee(me):oe)}return Ne}let b=(()=>{class K extends l.R6{constructor(){super({id:K.ID,label:m.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:E.u.writable})}run(ne,N){const W=N.getModel();if(!W)return;const Z=W.getOptions(),ge=N.getSelection();if(!ge)return;const M=new F(ge,Z.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[M]),N.pushUndoStop(),W.updateOptions({insertSpaces:!0})}}return K.ID="editor.action.indentationToSpaces",K})(),y=(()=>{class K extends l.R6{constructor(){super({id:K.ID,label:m.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:E.u.writable})}run(ne,N){const W=N.getModel();if(!W)return;const Z=W.getOptions(),ge=N.getSelection();if(!ge)return;const M=new j(ge,Z.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[M]),N.pushUndoStop(),W.updateOptions({insertSpaces:!1})}}return K.ID="editor.action.indentationToTabs",K})();class w extends l.R6{constructor(U,ne){super(ne),this.insertSpaces=U}run(U,ne){const N=U.get(c.eJ),W=U.get(_.q),Z=ne.getModel();if(!Z)return;const ge=W.getCreationOptions(Z.getLanguageId(),Z.uri,Z.isForSimpleWidget),M=[1,2,3,4,5,6,7,8].map(Ee=>({id:Ee.toString(),label:Ee.toString(),description:Ee===ge.tabSize?m.NC("configuredTabSize","Configured Tab Size"):void 0})),we=Math.min(Z.getOptions().tabSize-1,7);setTimeout(()=>{N.pick(M,{placeHolder:m.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:M[we]}).then(Ee=>{Ee&&Z&&!Z.isDisposed()&&Z.updateOptions({tabSize:parseInt(Ee.label,10),insertSpaces:this.insertSpaces})})},50)}}let D=(()=>{class K extends w{constructor(){super(!1,{id:K.ID,label:m.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return K.ID="editor.action.indentUsingTabs",K})(),x=(()=>{class K extends w{constructor(){super(!0,{id:K.ID,label:m.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return K.ID="editor.action.indentUsingSpaces",K})(),P=(()=>{class K extends l.R6{constructor(){super({id:K.ID,label:m.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(ne,N){const W=ne.get(_.q),Z=N.getModel();if(!Z)return;const ge=W.getCreationOptions(Z.getLanguageId(),Z.uri,Z.isForSimpleWidget);Z.detectIndentation(ge.insertSpaces,ge.tabSize)}}return K.ID="editor.action.detectIndentation",K})();class O extends l.R6{constructor(){super({id:"editor.action.reindentlines",label:m.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:E.u.writable})}run(U,ne){const N=U.get(L.c_),W=ne.getModel();if(!W)return;const Z=g(W,N,1,W.getLineCount());Z.length>0&&(ne.pushUndoStop(),ne.executeEdits(this.id,Z),ne.pushUndoStop())}}class V extends l.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:m.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:E.u.writable})}run(U,ne){const N=U.get(L.c_),W=ne.getModel();if(!W)return;const Z=ne.getSelections();if(null===Z)return;const ge=[];for(const M of Z){let we=M.startLineNumber,Ee=M.endLineNumber;if(we!==Ee&&1===M.endColumn&&Ee--,1===we){if(we===Ee)continue}else we--;const xe=g(W,N,we,Ee);ge.push(...xe)}ge.length>0&&(ne.pushUndoStop(),ne.executeEdits(this.id,ge),ne.pushUndoStop())}}class H{constructor(U,ne){this._initialSelection=ne,this._edits=[],this._selectionId=null;for(const N of U)N.range&&"string"==typeof N.text&&this._edits.push(N)}getEditOperations(U,ne){for(const W of this._edits)ne.addEditOperation(T.e.lift(W.range),W.text);let N=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(N=!0,this._selectionId=ne.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(N=!0,this._selectionId=ne.trackSelection(this._initialSelection,!1))),N||(this._selectionId=ne.trackSelection(this._initialSelection))}computeCursorState(U,ne){return ne.getTrackedSelection(this._selectionId)}}let z=class{constructor(U,ne){this.editor=U,this._languageConfigurationService=ne,this.callOnDispose=new d.SL,this.callOnModel=new d.SL,this.callOnDispose.add(U.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(U.onDidChangeModel(()=>this.update())),this.callOnDispose.add(U.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:U})=>{this.trigger(U)})))}trigger(U){const ne=this.editor.getSelections();if(null===ne||ne.length>1)return;const N=this.editor.getModel();if(!N||!N.tokenization.isCheapToTokenize(U.getStartPosition().lineNumber))return;const W=this.editor.getOption(9),{tabSize:Z,indentSize:ge,insertSpaces:M}=N.getOptions(),we=[],Ee={shiftIndent:Se=>S.U.shiftIndent(Se,Se.length+1,Z,ge,M),unshiftIndent:Se=>S.U.unshiftIndent(Se,Se.length+1,Z,ge,M)};let xe=U.startLineNumber;for(;xe<=U.endLineNumber&&this.shouldIgnoreLine(N,xe);)xe++;if(xe>U.endLineNumber)return;let Ne=N.getLineContent(xe);if(!/\S/.test(Ne.substring(0,U.startColumn-1))){const Se=(0,a.n8)(W,N,N.getLanguageId(),xe,Ee,this._languageConfigurationService);if(null!==Se){const Ie=n.V8(Ne),me=s.Y(Se,Z);if(me!==s.Y(Ie,Z)){const de=s.J(me,Z,M);we.push({range:new T.e(xe,1,xe,Ie.length+1),text:de}),Ne=de+Ne.substr(Ie.length)}else{const de=(0,a.tI)(N,xe,this._languageConfigurationService);if(0===de||8===de)return}}}const oe=xe;for(;xe<U.endLineNumber&&!/\S/.test(N.getLineContent(xe+1));)xe++;if(xe!==U.endLineNumber){const Ie=(0,a.n8)(W,{tokenization:{getLineTokens:me=>N.tokenization.getLineTokens(me),getLanguageId:()=>N.getLanguageId(),getLanguageIdAtPosition:(me,Me)=>N.getLanguageIdAtPosition(me,Me)},getLineContent:me=>me===oe?Ne:N.getLineContent(me)},N.getLanguageId(),xe+1,Ee,this._languageConfigurationService);if(null!==Ie){const me=s.Y(Ie,Z),Me=s.Y(n.V8(N.getLineContent(xe+1)),Z);if(me!==Me){const de=me-Me;for(let ke=xe+1;ke<=U.endLineNumber;ke++){const Ue=N.getLineContent(ke),ze=n.V8(Ue),Ve=s.Y(ze,Z)+de,tt=s.J(Ve,Z,M);tt!==ze&&we.push({range:new T.e(ke,1,ke,ze.length+1),text:tt})}}}}if(we.length>0){this.editor.pushUndoStop();const Se=new H(we,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Se),this.editor.pushUndoStop()}}shouldIgnoreLine(U,ne){U.tokenization.forceTokenization(ne);const N=U.getLineFirstNonWhitespaceColumn(ne);if(0===N)return!0;const W=U.tokenization.getLineTokens(ne);if(W.getCount()>0){const Z=W.findTokenIndexAtOffset(N);if(Z>=0&&1===W.getStandardTokenType(Z))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};var U;function k(K,U,ne,N){if(1===K.getLineCount()&&1===K.getLineMaxColumn(1))return;let W="";for(let ge=0;ge<ne;ge++)W+=" ";const Z=new RegExp(W,"gi");for(let ge=1,M=K.getLineCount();ge<=M;ge++){let we=K.getLineFirstNonWhitespaceColumn(ge);if(0===we&&(we=K.getLineMaxColumn(ge)),1===we)continue;const Ee=new T.e(ge,1,ge,we),xe=K.getValueInRange(Ee),Ne=N?xe.replace(/\t/gi,W):xe.replace(Z,"\t");U.addEditOperation(Ee,Ne)}}z.ID="editor.contrib.autoIndentOnPaste",z=function(K,U,ne,N){var ge,W=arguments.length,Z=W<3?U:null===N?N=Object.getOwnPropertyDescriptor(U,ne):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(K,U,ne,N);else for(var M=K.length-1;M>=0;M--)(ge=K[M])&&(Z=(W<3?ge(Z):W>3?ge(U,ne,Z):ge(U,ne))||Z);return W>3&&Z&&Object.defineProperty(U,ne,Z),Z}([(1,U=L.c_,function(ne,N){U(ne,N,1)})],z);class F{constructor(U,ne){this.selection=U,this.tabSize=ne,this.selectionId=null}getEditOperations(U,ne){this.selectionId=ne.trackSelection(this.selection),k(U,ne,this.tabSize,!0)}computeCursorState(U,ne){return ne.getTrackedSelection(this.selectionId)}}class j{constructor(U,ne){this.selection=U,this.tabSize=ne,this.selectionId=null}getEditOperations(U,ne){this.selectionId=ne.trackSelection(this.selection),k(U,ne,this.tabSize,!1)}computeCursorState(U,ne){return ne.getTrackedSelection(this.selectionId)}}(0,l._K)(z.ID,z),(0,l.Qr)(b),(0,l.Qr)(y),(0,l.Qr)(D),(0,l.Qr)(x),(0,l.Qr)(P),(0,l.Qr)(O),(0,l.Qr)(V)},77906:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(26845),n=e(91717),l=e(98463),S=e(64023),v=e(48648),T=e(73888),C=e(4125),E=e(80142),L=e(5067),_=e(72715),s=e(59547),m=e(69545),c=e(54862),t=e(65484),a=e(98570),p=e(45337),u=e(47629),g=e(59758),b=e(79095),y=e(90790),w=e(1149),D=e(46170),x=e(18723),P=e(59310),O=function(qe,Qe,et,vt){return new(et||(et=Promise))(function(_t,$t){function Bt(jt){try{ht(vt.next(jt))}catch(fn){$t(fn)}}function Ke(jt){try{ht(vt.throw(jt))}catch(fn){$t(fn)}}function ht(jt){jt.done?_t(jt.value):function mt(_t){return _t instanceof et?_t:new et(function($t){$t(_t)})}(jt.value).then(Bt,Ke)}ht((vt=vt.apply(qe,Qe||[])).next())})};class V{constructor(Qe,et){this.range=Qe,this.direction=et}}class H{constructor(Qe,et,vt){this.hint=Qe,this.anchor=et,this.provider=vt,this._isResolved=!1}with(Qe){const et=new H(this.hint,Qe.anchor,this.provider);return et._isResolved=this._isResolved,et._currentResolve=this._currentResolve,et}resolve(Qe){return O(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,Qe.isCancellationRequested?void 0:this.resolve(Qe);this._isResolved||(this._currentResolve=this._doResolve(Qe).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(Qe){var et,vt;return O(this,void 0,void 0,function*(){try{const mt=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,Qe));this.hint.tooltip=null!==(et=mt?.tooltip)&&void 0!==et?et:this.hint.tooltip,this.hint.label=null!==(vt=mt?.label)&&void 0!==vt?vt:this.hint.label,this._isResolved=!0}catch(mt){(0,C.Cp)(mt),this._isResolved=!1}})}}class z{constructor(Qe,et,vt){this._disposables=new E.SL,this.ranges=Qe,this.provider=new Set;const mt=[];for(const[_t,$t]of et){this._disposables.add(_t),this.provider.add($t);for(const Bt of _t.hints){const Ke=vt.validatePosition(Bt.position);let ht="before";const jt=z._getRangeAtPosition(vt,Ke);let fn;jt.getStartPosition().isBefore(Ke)?(fn=a.e.fromPositions(jt.getStartPosition(),Ke),ht="after"):(fn=a.e.fromPositions(Ke,jt.getEndPosition()),ht="before"),mt.push(new H(Bt,new V(fn,ht),$t))}}this.items=mt.sort((_t,$t)=>x.L.compare(_t.hint.position,$t.hint.position))}static create(Qe,et,vt,mt){return O(this,void 0,void 0,function*(){const _t=[],$t=Qe.ordered(et).reverse().map(Bt=>vt.map(Ke=>O(this,void 0,void 0,function*(){try{const ht=yield Bt.provideInlayHints(et,Ke,mt);ht?.hints.length&&_t.push([ht,Bt])}catch(ht){(0,C.Cp)(ht)}})));if(yield Promise.all($t.flat()),mt.isCancellationRequested||et.isDisposed())throw new C.FU;return new z(vt,_t,et)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(Qe,et){const vt=et.lineNumber,mt=Qe.getWordAtPosition(et);if(mt)return new a.e(vt,mt.startColumn,vt,mt.endColumn);Qe.tokenization.tokenizeIfCheap(vt);const _t=Qe.tokenization.getLineTokens(vt),$t=et.column-1,Bt=_t.findTokenIndexAtOffset($t);let Ke=_t.getStartOffset(Bt),ht=_t.getEndOffset(Bt);return ht-Ke==1&&(Ke===$t&&Bt>1?(Ke=_t.getStartOffset(Bt-1),ht=_t.getEndOffset(Bt-1)):ht===$t&&Bt<_t.getCount()-1&&(Ke=_t.getStartOffset(Bt+1),ht=_t.getEndOffset(Bt+1))),new a.e(vt,Ke+1,vt,ht+1)}}var F=e(827),j=e(21021),K=e(81043),U=e(74918),ne=e(66549),N=e(16468),W=e(50703),Z=e(9265),ge=e(54436),M=function(qe,Qe,et,vt){return new(et||(et=Promise))(function(_t,$t){function Bt(jt){try{ht(vt.next(jt))}catch(fn){$t(fn)}}function Ke(jt){try{ht(vt.throw(jt))}catch(fn){$t(fn)}}function ht(jt){jt.done?_t(jt.value):function mt(_t){return _t instanceof et?_t:new et(function($t){$t(_t)})}(jt.value).then(Bt,Ke)}ht((vt=vt.apply(qe,Qe||[])).next())})};function we(qe,Qe,et,vt){var mt;return M(this,void 0,void 0,function*(){const _t=qe.get(w.S),$t=qe.get(W.i),Bt=qe.get(ne.Hy),Ke=qe.get(Z.TG),ht=qe.get(ge.lT);if(yield vt.item.resolve(T.T.None),!vt.part.location)return;const jt=vt.part.location,fn=[],Dn=new Set(U.BH.getMenuItems(U.eH.EditorContext).map(He=>(0,U.vr)(He)?He.command.id:""));for(const He of d.Uc.getEditorActions())He instanceof j.SymbolNavigationAction&&Dn.has(He.id)&&fn.push(new F.aU(He.id,He.label,void 0,!0,()=>M(this,void 0,void 0,function*(){const ye=yield _t.createModelReference(jt.uri);try{yield Ke.invokeFunction(He.run.bind(He),Qe,new j.SymbolNavigationAnchor(ye.object.textEditorModel,a.e.getStartPosition(jt.range)))}finally{ye.dispose()}})));if(vt.part.command){const{command:He}=vt.part;fn.push(new F.Z0),fn.push(new F.aU(He.id,He.title,void 0,!0,()=>M(this,void 0,void 0,function*(){var ye;try{yield Bt.executeCommand(He.id,...null!==(ye=He.arguments)&&void 0!==ye?ye:[])}catch(Ae){ht.notify({severity:ge.zb.Error,source:vt.item.provider.displayName,message:Ae})}})))}const yt=Qe.getOption(117);$t.showContextMenu({domForShadowRoot:yt&&null!==(mt=Qe.getDomNode())&&void 0!==mt?mt:void 0,getAnchor:()=>{const He=l.i(et);return{x:He.left,y:He.top+He.height+8}},getActions:()=>fn,onHide:()=>{Qe.focus()},autoSelectFirstItem:!0})})}function Ee(qe,Qe,et,vt){return M(this,void 0,void 0,function*(){const _t=yield qe.get(w.S).createModelReference(vt.uri);yield et.invokeWithinContext($t=>M(this,void 0,void 0,function*(){const Bt=Qe.hasSideBySideModifier,Ke=$t.get(N.i6),ht=K.Jy.inPeekEditor.getValue(Ke),jt=!Bt&&et.getOption(80)&&!ht;return new j.DefinitionAction({openToSide:Bt,openInPeek:jt,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run($t,et,{model:_t.object.textEditorModel,position:a.e.getStartPosition(vt.range)})})),_t.dispose()})}var xe=e(47494),Ne=e(4062),oe=e(40902),Ie=function(qe,Qe){return function(et,vt){Qe(et,vt,qe)}},me=function(qe,Qe,et,vt){return new(et||(et=Promise))(function(_t,$t){function Bt(jt){try{ht(vt.next(jt))}catch(fn){$t(fn)}}function Ke(jt){try{ht(vt.throw(jt))}catch(fn){$t(fn)}}function ht(jt){jt.done?_t(jt.value):function mt(_t){return _t instanceof et?_t:new et(function($t){$t(_t)})}(jt.value).then(Bt,Ke)}ht((vt=vt.apply(qe,Qe||[])).next())})};class Me{constructor(){this._entries=new L.z6(50)}get(Qe){const et=Me._key(Qe);return this._entries.get(et)}set(Qe,et){const vt=Me._key(Qe);this._entries.set(vt,et)}static _key(Qe){return`${Qe.uri.toString()}/${Qe.getVersionId()}`}}const de=(0,Z.yh)("IInlayHintsCache");(0,xe.z)(de,Me,!0);class ke{constructor(Qe,et){this.item=Qe,this.index=et}get part(){const Qe=this.item.hint.label;return"string"==typeof Qe?{label:Qe}:Qe[this.index]}}class Ue{constructor(Qe,et){this.part=Qe,this.hasTriggerModifier=et}}let ze=class Rd{constructor(Qe,et,vt,mt,_t,$t,Bt){this._editor=Qe,this._languageFeaturesService=et,this._inlayHintsCache=mt,this._commandService=_t,this._notificationService=$t,this._instaService=Bt,this._disposables=new E.SL,this._sessionDisposables=new E.SL,this._decorationsMetadata=new Map,this._ruleFactory=new m.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=vt.for(et.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(et.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(Qe.onDidChangeModel(()=>this._update())),this._disposables.add(Qe.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Qe.onDidChangeConfiguration(Ke=>{Ke.hasChanged(129)&&this._update()})),this._update()}static get(Qe){var et;return null!==(et=Qe.getContribution(Rd.ID))&&void 0!==et?et:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const Qe=this._editor.getOption(129);if("off"===Qe.enabled)return;const et=this._editor.getModel();if(!et||!this._languageFeaturesService.inlayHintsProvider.has(et))return;const vt=this._inlayHintsCache.get(et);let mt;vt&&this._updateHintsDecorators([et.getFullModelRange()],vt),this._sessionDisposables.add((0,E.OF)(()=>{et.isDisposed()||this._cacheHintsForFastRestore(et)}));const _t=new Set,$t=new v.pY(()=>me(this,void 0,void 0,function*(){const Bt=Date.now();mt?.dispose(!0),mt=new T.A;const Ke=et.onWillDispose(()=>mt?.cancel());try{const ht=mt.token,jt=yield z.create(this._languageFeaturesService.inlayHintsProvider,et,this._getHintsRanges(),ht);if($t.delay=this._debounceInfo.update(et,Date.now()-Bt),ht.isCancellationRequested)return void jt.dispose();for(const fn of jt.provider)"function"==typeof fn.onDidChangeInlayHints&&!_t.has(fn)&&(_t.add(fn),this._sessionDisposables.add(fn.onDidChangeInlayHints(()=>{$t.isScheduled()||$t.schedule()})));this._sessionDisposables.add(jt),this._updateHintsDecorators(jt.ranges,jt.items),this._cacheHintsForFastRestore(et)}catch(ht){(0,C.dL)(ht)}finally{mt.dispose(),Ke.dispose()}}),this._debounceInfo.get(et));if(this._sessionDisposables.add($t),this._sessionDisposables.add((0,E.OF)(()=>mt?.dispose(!0))),$t.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(Bt=>{(Bt.scrollTopChanged||!$t.isScheduled())&&$t.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(Bt=>{const Ke=Math.max($t.delay,1250);$t.schedule(Ke)})),"on"===Qe.enabled)this._activeRenderMode=0;else{let Bt,Ke;"onUnlessPressed"===Qe.enabled?(Bt=0,Ke=1):(Bt=1,Ke=0),this._activeRenderMode=Bt,this._sessionDisposables.add(l._q.getInstance().event(ht=>{if(!this._editor.hasModel())return;const jt=ht.altKey&&ht.ctrlKey?Ke:Bt;if(jt!==this._activeRenderMode){this._activeRenderMode=jt;const fn=this._editor.getModel(),Dn=this._copyInlayHintsWithCurrentAnchor(fn);this._updateHintsDecorators([fn.getFullModelRange()],Dn),$t.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>$t.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const Qe=new E.SL,et=Qe.add(new D.yN(this._editor)),vt=new E.SL;return Qe.add(vt),Qe.add(et.onMouseMoveOrRelevantKeyDown(mt=>{const[_t]=mt,$t=this._getInlayHintLabelPart(_t),Bt=this._editor.getModel();if(!$t||!Bt)return void vt.clear();const Ke=new T.A;vt.add((0,E.OF)(()=>Ke.dispose(!0))),$t.item.resolve(Ke.token),this._activeInlayHintPart=$t.part.command||$t.part.location?new Ue($t,_t.hasTriggerModifier):void 0;const ht=$t.item.hint.position.lineNumber,jt=new a.e(ht,1,ht,Bt.getLineMaxColumn(ht)),fn=this._getInlineHintsForRange(jt);this._updateHintsDecorators([jt],fn),vt.add((0,E.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([jt],fn)}))})),Qe.add(et.onCancel(()=>vt.clear())),Qe.add(et.onExecute(mt=>me(this,void 0,void 0,function*(){const _t=this._getInlayHintLabelPart(mt);if(_t){const $t=_t.part;$t.location?this._instaService.invokeFunction(Ee,mt,this._editor,$t.location):p.mY.is($t.command)&&(yield this._invokeCommand($t.command,_t.item))}}))),Qe}_getInlineHintsForRange(Qe){const et=new Set;for(const vt of this._decorationsMetadata.values())Qe.containsRange(vt.item.anchor.range)&&et.add(vt.item);return Array.from(et)}_installDblClickGesture(Qe){return this._editor.onMouseUp(et=>me(this,void 0,void 0,function*(){if(2!==et.event.detail)return;const vt=this._getInlayHintLabelPart(et);if(vt&&(et.event.preventDefault(),yield vt.item.resolve(T.T.None),(0,S.Of)(vt.item.hint.textEdits))){const mt=vt.item.hint.textEdits.map(_t=>t.h.replace(a.e.lift(_t.range),_t.text));this._editor.executeEdits("inlayHint.default",mt),Qe()}}))}_installContextMenu(){return this._editor.onContextMenu(Qe=>me(this,void 0,void 0,function*(){if(!(Qe.event.target instanceof HTMLElement))return;const et=this._getInlayHintLabelPart(Qe);et&&(yield this._instaService.invokeFunction(we,this._editor,Qe.event.target,et))}))}_getInlayHintLabelPart(Qe){var et;if(6!==Qe.target.type)return;const vt=null===(et=Qe.target.detail.injectedText)||void 0===et?void 0:et.options;return vt instanceof g.HS&&vt?.attachedData instanceof ke?vt.attachedData:void 0}_invokeCommand(Qe,et){var vt;return me(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(Qe.id,...null!==(vt=Qe.arguments)&&void 0!==vt?vt:[])}catch(mt){this._notificationService.notify({severity:ge.zb.Error,source:et.provider.displayName,message:mt})}})}_cacheHintsForFastRestore(Qe){const et=this._copyInlayHintsWithCurrentAnchor(Qe);this._inlayHintsCache.set(Qe,et)}_copyInlayHintsWithCurrentAnchor(Qe){const et=new Map;for(const[vt,mt]of this._decorationsMetadata){if(et.has(mt.item))continue;const _t=Qe.getDecorationRange(vt);if(_t){const $t=new V(_t,mt.item.anchor.direction),Bt=mt.item.with({anchor:$t});et.set(mt.item,Bt)}}return Array.from(et.values())}_getHintsRanges(){const et=this._editor.getModel(),vt=this._editor.getVisibleRangesPlusViewportAboveBelow(),mt=[];for(const _t of vt.sort(a.e.compareRangesUsingStarts)){const $t=et.validateRange(new a.e(_t.startLineNumber-30,_t.startColumn,_t.endLineNumber+30,_t.endColumn));0!==mt.length&&a.e.areIntersectingOrTouching(mt[mt.length-1],$t)?mt[mt.length-1]=a.e.plusRange(mt[mt.length-1],$t):mt.push($t)}return mt}_updateHintsDecorators(Qe,et){var vt,mt;const _t=[],$t=(He,ye,Ae,ue,be)=>{const Je={content:Ae,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ye.className,cursorStops:ue,attachedData:be};_t.push({item:He,classNameRef:ye,decoration:{range:He.anchor.range,options:{description:"InlayHint",showIfCollapsed:He.anchor.range.isEmpty(),collapseOnReplaceEdit:!He.anchor.range.isEmpty(),stickiness:0,[He.anchor.direction]:0===this._activeRenderMode?Je:void 0}}})},Bt=(He,ye)=>{const Ae=this._ruleFactory.createClassNameRef({width:(Ke/3|0)+"px",display:"inline-block"});$t(He,Ae,"\u200a",ye?u.RM.Right:u.RM.None)},{fontSize:Ke,fontFamily:ht,padding:jt,isUniform:fn}=this._getLayoutInfo(),Dn="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Dn,ht);for(const He of et){He.hint.paddingLeft&&Bt(He,!1);const ye="string"==typeof He.hint.label?[{label:He.hint.label}]:He.hint.label;for(let Ae=0;Ae<ye.length;Ae++){const ue=ye[Ae],be=0===Ae,Je=Ae===ye.length-1,Fe={fontSize:`${Ke}px`,fontFamily:`var(${Dn}), ${c.hL.fontFamily}`,verticalAlign:fn?"baseline":"middle"};(0,S.Of)(He.hint.textEdits)&&(Fe.cursor="default"),this._fillInColors(Fe,He.hint),(ue.command||ue.location)&&(null===(vt=this._activeInlayHintPart)||void 0===vt?void 0:vt.part.item)===He&&this._activeInlayHintPart.part.index===Ae&&(Fe.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Fe.color=(0,oe.EN)(Ne._Yy),Fe.cursor="pointer")),jt&&(be&&Je?(Fe.padding=`1px ${0|Math.max(1,Ke/4)}px`,Fe.borderRadius=(Ke/4|0)+"px"):be?(Fe.padding=`1px 0 1px ${0|Math.max(1,Ke/4)}px`,Fe.borderRadius=`${Ke/4|0}px 0 0 ${Ke/4|0}px`):Je?(Fe.padding=`1px ${0|Math.max(1,Ke/4)}px 1px 0`,Fe.borderRadius=`0 ${Ke/4|0}px ${Ke/4|0}px 0`):Fe.padding="1px 0 1px 0"),$t(He,this._ruleFactory.createClassNameRef(Fe),ue.label.replace(/[ \t]/g,"\xa0"),Je&&!He.hint.paddingRight?u.RM.Right:u.RM.None,new ke(He,Ae))}if(He.hint.paddingRight&&Bt(He,!0),_t.length>Rd._MAX_DECORATORS)break}const yt=[];for(const He of Qe)for(const{id:ye}of null!==(mt=this._editor.getDecorationsInRange(He))&&void 0!==mt?mt:[]){const Ae=this._decorationsMetadata.get(ye);Ae&&(yt.push(ye),Ae.classNameRef.dispose(),this._decorationsMetadata.delete(ye))}this._editor.changeDecorations(He=>{const ye=He.deltaDecorations(yt,_t.map(Ae=>Ae.decoration));for(let Ae=0;Ae<ye.length;Ae++)this._decorationsMetadata.set(ye[Ae],_t[Ae])})}_fillInColors(Qe,et){et.kind===p.gl.Parameter?(Qe.backgroundColor=(0,oe.EN)(Ne.phM),Qe.color=(0,oe.EN)(Ne.HCL)):et.kind===p.gl.Type?(Qe.backgroundColor=(0,oe.EN)(Ne.bKB),Qe.color=(0,oe.EN)(Ne.hX8)):(Qe.backgroundColor=(0,oe.EN)(Ne.PpC),Qe.color=(0,oe.EN)(Ne.VVv))}_getLayoutInfo(){const Qe=this._editor.getOption(129),et=Qe.padding,vt=this._editor.getOption(48),mt=this._editor.getOption(45);let _t=Qe.fontSize;(!_t||_t<5||_t>vt)&&(_t=vt);const $t=Qe.fontFamily||mt;return{fontSize:_t,fontFamily:$t,padding:et,isUniform:!et&&$t===mt&&_t===vt}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const Qe of this._decorationsMetadata.values())Qe.classNameRef.dispose();this._decorationsMetadata.clear()}};ze.ID="editor.contrib.InlayHints",ze._MAX_DECORATORS=1500,ze=function(qe,Qe,et,vt){var $t,mt=arguments.length,_t=mt<3?Qe:null===vt?vt=Object.getOwnPropertyDescriptor(Qe,et):vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(qe,Qe,et,vt);else for(var Bt=qe.length-1;Bt>=0;Bt--)($t=qe[Bt])&&(_t=(mt<3?$t(_t):mt>3?$t(Qe,et,_t):$t(Qe,et))||_t);return mt>3&&_t&&Object.defineProperty(Qe,et,_t),_t}([Ie(1,y.p),Ie(2,b.A),Ie(3,de),Ie(4,ne.Hy),Ie(5,ge.lT),Ie(6,Z.TG)],ze),ne.P0.registerCommand("_executeInlayHintProvider",(qe,...Qe)=>me(void 0,void 0,void 0,function*(){const[et,vt]=Qe;(0,_.p_)(s.o.isUri(et)),(0,_.p_)(a.e.isIRange(vt));const{inlayHintsProvider:mt}=qe.get(y.p),_t=yield qe.get(w.S).createModelReference(et);try{const $t=yield z.create(mt,_t.object.textEditorModel,[a.e.lift(vt)],T.T.None),Bt=$t.items.map(Ke=>Ke.hint);return setTimeout(()=>$t.dispose(),0),Bt}finally{_t.dispose()}}));var Ve=e(48701),tt=e(45358),Ct=e(83823),Lt=e(84504),$e=e(94667),ae=e(44827),ve=e(55197),he=e(8841),Q=function(qe,Qe){return function(et,vt){Qe(et,vt,qe)}},Ce=function(qe,Qe,et,vt){return new(et||(et=Promise))(function(_t,$t){function Bt(jt){try{ht(vt.next(jt))}catch(fn){$t(fn)}}function Ke(jt){try{ht(vt.throw(jt))}catch(fn){$t(fn)}}function ht(jt){jt.done?_t(jt.value):function mt(_t){return _t instanceof et?_t:new et(function($t){$t(_t)})}(jt.value).then(Bt,Ke)}ht((vt=vt.apply(qe,Qe||[])).next())})};class dt extends n.YM{constructor(Qe,et){super(10,et,Qe.item.anchor.range),this.part=Qe}}let st=class extends Lt.D5{constructor(Qe,et,vt,mt,_t,$t){super(Qe,et,vt,mt,$t),this._resolverService=_t,this.hoverOrdinal=6}suggestHoverAnchor(Qe){var et;if(!ze.get(this._editor)||6!==Qe.target.type)return null;const mt=null===(et=Qe.target.detail.injectedText)||void 0===et?void 0:et.options;return mt instanceof g.HS&&mt.attachedData instanceof ke?new dt(mt.attachedData,this):null}computeSync(){return[]}computeAsync(Qe,et,vt){return Qe instanceof dt?new v.Aq(mt=>Ce(this,void 0,void 0,function*(){var _t,$t;const{part:Bt}=Qe;if(yield Bt.item.resolve(vt),vt.isCancellationRequested)return;let Ke,ht;if("string"==typeof Bt.item.hint.tooltip?Ke=(new Ve.W5).appendText(Bt.item.hint.tooltip):Bt.item.hint.tooltip&&(Ke=Bt.item.hint.tooltip),Ke&&mt.emitOne(new Lt.hU(this,Qe.range,[Ke],0)),(0,S.Of)(Bt.item.hint.textEdits)&&mt.emitOne(new Lt.hU(this,Qe.range,[(new Ve.W5).appendText((0,ve.NC)("hint.dbl","Double click to insert"))],10001)),"string"==typeof Bt.part.tooltip?ht=(new Ve.W5).appendText(Bt.part.tooltip):Bt.part.tooltip&&(ht=Bt.part.tooltip),ht&&mt.emitOne(new Lt.hU(this,Qe.range,[ht],1)),Bt.part.location||Bt.part.command){let yt;const ye="altKey"===this._editor.getOption(72)?he.dz?(0,ve.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,ve.NC)("links.navigate.kb.meta","ctrl + click"):he.dz?(0,ve.NC)("links.navigate.kb.alt.mac","option + click"):(0,ve.NC)("links.navigate.kb.alt","alt + click");Bt.part.location&&Bt.part.command?yt=(new Ve.W5).appendText((0,ve.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",ye)):Bt.part.location?yt=(new Ve.W5).appendText((0,ve.NC)("hint.def","Go to Definition ({0})",ye)):Bt.part.command&&(yt=new Ve.W5(`[${(0,ve.NC)("hint.cmd","Execute Command")}](${function k(qe){return s.o.from({scheme:P.lg.command,path:qe.id,query:qe.arguments&&encodeURIComponent(JSON.stringify(qe.arguments))}).toString()}(Bt.part.command)} "${Bt.part.command.title}") (${ye})`,{isTrusted:!0})),yt&&mt.emitOne(new Lt.hU(this,Qe.range,[yt],1e4))}const jt=yield this._resolveInlayHintLabelPartHover(Bt,vt);try{for(var Dn,fn=function(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Qe=qe[Symbol.asyncIterator];return Qe?Qe.call(qe):(qe="function"==typeof __values?__values(qe):qe[Symbol.iterator](),et={},vt("next"),vt("throw"),vt("return"),et[Symbol.asyncIterator]=function(){return this},et);function vt(_t){et[_t]=qe[_t]&&function($t){return new Promise(function(Bt,Ke){!function mt(_t,$t,Bt,Ke){Promise.resolve(Ke).then(function(ht){_t({value:ht,done:Bt})},$t)}(Bt,Ke,($t=qe[_t]($t)).done,$t.value)})}}}(jt);!(Dn=yield fn.next()).done;)mt.emitOne(Dn.value)}catch(yt){_t={error:yt}}finally{try{Dn&&!Dn.done&&($t=fn.return)&&(yield $t.call(fn))}finally{if(_t)throw _t.error}}})):v.Aq.EMPTY}_resolveInlayHintLabelPartHover(Qe,et){return Ce(this,void 0,void 0,function*(){if(!Qe.part.location)return v.Aq.EMPTY;const{uri:vt,range:mt}=Qe.part.location,_t=yield this._resolverService.createModelReference(vt);try{const $t=_t.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has($t)?(0,Ct.R8)(this._languageFeaturesService.hoverProvider,$t,new x.L(mt.startLineNumber,mt.startColumn),et).filter(Bt=>!(0,Ve.CP)(Bt.hover.contents)).map(Bt=>new Lt.hU(this,Qe.item.anchor.range,Bt.hover.contents,2+Bt.ordinal)):v.Aq.EMPTY}finally{_t.dispose()}})}};st=function(qe,Qe,et,vt){var $t,mt=arguments.length,_t=mt<3?Qe:null===vt?vt=Object.getOwnPropertyDescriptor(Qe,et):vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(qe,Qe,et,vt);else for(var Bt=qe.length-1;Bt>=0;Bt--)($t=qe[Bt])&&(_t=(mt<3?$t(_t):mt>3?$t(Qe,et,_t):$t(Qe,et))||_t);return mt>3&&_t&&Object.defineProperty(Qe,et,_t),_t}([Q(1,tt.O),Q(2,ae.v4),Q(3,$e.Ui),Q(4,w.S),Q(5,y.p)],st),(0,d._K)(ze.ID,ze),n.Ae.register(st)},56806:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{commitInlineSuggestionAction:()=>Wn});var d=e(26845),n=e(82290),l=e(91717);const S="editor.action.inlineSuggest.commit";var v=e(3778),T=e(80142),C=e(73879),E=e(5409),L=e(18723),_=e(45337),s=e(48648),m=e(73888),c=e(4125),t=e(41442),a=e(65484),p=e(98570);class b{constructor(ft){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let sn=0;sn<ft.length;sn++)"\n"===ft.charAt(sn)&&this.lineStartOffsetByLineIdx.push(sn+1)}getOffset(ft){return this.lineStartOffsetByLineIdx[ft.lineNumber-1]+ft.column-1}}const y=[];class D{constructor(ft,sn,tn=0){this.lineNumber=ft,this.parts=sn,this.additionalReservedLineCount=tn}renderForScreenReader(ft){return 0===this.parts.length?"":function g(dn,ft){const sn=new b(dn),tn=ft.map(xn=>{const Pn=p.e.lift(xn.range);return{startOffset:sn.getOffset(Pn.getStartPosition()),endOffset:sn.getOffset(Pn.getEndPosition()),text:xn.text}});tn.sort((xn,Pn)=>Pn.startOffset-xn.startOffset);for(const xn of tn)dn=dn.substring(0,xn.startOffset)+xn.text+dn.substring(xn.endOffset);return dn}(ft.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(Pn=>({range:{startLineNumber:1,endLineNumber:1,startColumn:Pn.column,endColumn:Pn.column},text:Pn.lines.join("\n")}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(ft=>0===ft.lines.length)}}class x{constructor(ft,sn,tn){this.column=ft,this.lines=sn,this.preview=tn}}class P{constructor(ft,sn,tn,xn,Pn=0){this.lineNumber=ft,this.columnStart=sn,this.length=tn,this.newLines=xn,this.additionalReservedLineCount=Pn,this.parts=[new x(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(ft){return this.newLines.join("\n")}}class O extends T.JT{constructor(ft){super(),this.editor=ft,this._expanded=void 0,this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(ft.onDidChangeConfiguration(sn=>{sn.hasChanged(108)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(ft){this._expanded=!0,this.onDidChangeEmitter.fire()}}var V=e(66549),H=e(52237);function z(dn,ft){if(!ft)return ft;const sn=dn.getValueInRange(ft.range),tn=C.Mh(sn,ft.insertText),xn=dn.getOffsetAt(ft.range.getStartPosition())+tn,Pn=dn.getPositionAt(xn),En=sn.substr(tn),ut=C.P1(En,ft.insertText),Pt=dn.getPositionAt(Math.max(xn,dn.getOffsetAt(ft.range.getEndPosition())-ut));return{range:p.e.fromPositions(Pn,Pt),insertText:ft.insertText.substr(tn,ft.insertText.length-tn-ut),snippetInfo:ft.snippetInfo,filterText:ft.filterText,additionalTextEdits:ft.additionalTextEdits}}function F(dn,ft,sn,tn,xn=0){if(dn.range.startLineNumber!==dn.range.endLineNumber)return;const Pn=ft.getLineContent(dn.range.startLineNumber),En=C.V8(Pn).length;if(dn.range.startColumn-1<=En){const ct=C.V8(dn.insertText).length,Cn=Pn.substring(dn.range.startColumn-1,En),Hn=p.e.fromPositions(dn.range.getStartPosition().delta(0,Cn.length),dn.range.getEndPosition()),Ii=dn.insertText.startsWith(Cn)?dn.insertText.substring(Cn.length):dn.insertText.substring(ct);dn={range:Hn,insertText:Ii,command:dn.command,snippetInfo:void 0,filterText:dn.filterText,additionalTextEdits:dn.additionalTextEdits}}const Pt=ft.getValueInRange(dn.range),Ht=function K(dn,ft){if(j?.originalValue===dn&&j?.newValue===ft)return j?.changes;{let sn=ne(dn,ft,!0);if(sn){const tn=U(sn);if(tn>0){const xn=ne(dn,ft,!1);xn&&U(xn)<tn&&(sn=xn)}}return j={originalValue:dn,newValue:ft,changes:sn},sn}}(Pt,dn.insertText);if(!Ht)return;const Qt=dn.range.startLineNumber,bn=new Array;if("prefix"===sn){const ct=Ht.filter(Cn=>0===Cn.originalLength);if(ct.length>1||1===ct.length&&ct[0].originalStart!==Pt.length)return}const Re=dn.insertText.length-xn;for(const ct of Ht){const Cn=dn.range.startColumn+ct.originalStart+ct.originalLength;if("subwordSmart"===sn&&tn&&tn.lineNumber===dn.range.startLineNumber&&Cn<tn.column||ct.originalLength>0)return;if(0===ct.modifiedLength)continue;const Hn=ct.modifiedStart+ct.modifiedLength,Ii=Math.max(ct.modifiedStart,Math.min(Hn,Re)),bi=dn.insertText.substring(ct.modifiedStart,Ii),di=dn.insertText.substring(Ii,Math.max(ct.modifiedStart,Hn));if(bi.length>0){const Ft=C.uq(bi);bn.push(new x(Cn,Ft,!1))}if(di.length>0){const Ft=C.uq(di);bn.push(new x(Cn,Ft,!0))}}return new D(Qt,bn,0)}let j;function U(dn){let ft=0;for(const sn of dn)ft+=Math.max(sn.originalLength-sn.modifiedLength,0);return ft}function ne(dn,ft,sn){if(dn.length>5e3||ft.length>5e3)return;function tn(Ht){let Qt=0;for(let bn=0,Re=Ht.length;bn<Re;bn++){const ct=Ht.charCodeAt(bn);ct>Qt&&(Qt=ct)}return Qt}const xn=Math.max(tn(dn),tn(ft));function Pn(Ht){if(Ht<0)throw new Error("unexpected");return xn+Ht+1}function En(Ht){let Qt=0,bn=0;const Re=new Int32Array(Ht.length);for(let ct=0,Cn=Ht.length;ct<Cn;ct++)sn&&"("===Ht[ct]?(Re[ct]=Pn(2*(100*bn+Qt)),Qt++):sn&&")"===Ht[ct]?(Qt=Math.max(Qt-1,0),Re[ct]=Pn(2*(100*bn+Qt)+1),0===Qt&&bn++):Re[ct]=Ht.charCodeAt(ct);return Re}const ut=En(dn),Pt=En(ft);return new H.Hs({getElements:()=>ut},{getElements:()=>Pt}).ComputeDiff(!1).changes}var N=e(94911),W=e(33506),Z=e(87283),ge=e(61334),M=e(80125),we=e(15186);class xe{constructor(ft){this.lines=ft,this.tokenization={getLineTokens:sn=>this.lines[sn-1]}}getLineCount(){return this.lines.length}getLineLength(ft){return this.lines[ft-1].getLineContent().length}}var Ne=e(90790),oe=e(79095),Se=e(61254),Ie=e(31583),me=e(72715),Me=e(25715),de=e(94667),Ue=function(dn,ft){return function(sn,tn){ft(sn,tn,dn)}},ze=function(dn,ft,sn,tn){return new(sn||(sn=Promise))(function(Pn,En){function ut(Qt){try{Ht(tn.next(Qt))}catch(bn){En(bn)}}function Pt(Qt){try{Ht(tn.throw(Qt))}catch(bn){En(bn)}}function Ht(Qt){Qt.done?Pn(Qt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Qt.value).then(ut,Pt)}Ht((tn=tn.apply(dn,ft||[])).next())})};let ce=class extends T.JT{constructor(ft,sn,tn,xn,Pn,En,ut){super(),this.editor=ft,this.cache=sn,this.commandService=tn,this.languageConfigurationService=xn,this.languageFeaturesService=Pn,this.debounceService=En,this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new T.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(tn.onDidExecuteCommand(Pt=>{new Set([t.CoreEditingCommands.Tab.id,t.CoreEditingCommands.DeleteLeft.id,t.CoreEditingCommands.DeleteRight.id,S,"acceptSelectedSuggestion"]).has(Pt.commandId)&&ft.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Pt=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Pt=>{(3===Pt.reason||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,T.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{ut.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var ft;return null===(ft=this.session)||void 0===ft?void 0:ft.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(ft){var sn;null===(sn=this.session)||void 0===sn||sn.setExpanded(ft)}setActive(ft){var sn;this.active=ft,ft&&(null===(sn=this.session)||void 0===sn||sn.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(_.bw.Automatic)}trigger(ft){this.completionSession.value?ft===_.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new Ve(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,ft,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var ft;null===(ft=this.session)||void 0===ft||ft.commitCurrentCompletion()}showNext(){var ft;null===(ft=this.session)||void 0===ft||ft.showNextInlineCompletion()}showPrevious(){var ft;null===(ft=this.session)||void 0===ft||ft.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var ft;return ze(this,void 0,void 0,function*(){const sn=yield null===(ft=this.session)||void 0===ft?void 0:ft.hasMultipleInlineCompletions();return void 0!==sn&&sn})}};ce=function(dn,ft,sn,tn){var En,xn=arguments.length,Pn=xn<3?ft:null===tn?tn=Object.getOwnPropertyDescriptor(ft,sn):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,ft,sn,tn);else for(var ut=dn.length-1;ut>=0;ut--)(En=dn[ut])&&(Pn=(xn<3?En(Pn):xn>3?En(ft,sn,Pn):En(ft,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(ft,sn,Pn),Pn}([Ue(2,V.Hy),Ue(3,N.c_),Ue(4,Ne.p),Ue(5,oe.A),Ue(6,de.Ui)],ce);class Ve extends O{constructor(ft,sn,tn,xn,Pn,En,ut,Pt,Ht){let Qt;super(ft),this.triggerPosition=sn,this.shouldUpdate=tn,this.commandService=xn,this.cache=Pn,this.initialTriggerKind=En,this.languageConfigurationService=ut,this.registry=Pt,this.debounce=Ht,this.minReservedLineCount=0,this.updateOperation=this._register(new T.XK),this.updateSoon=this._register(new s.pY(()=>{const bn=this.initialTriggerKind;return this.initialTriggerKind=_.bw.Automatic,this.update(bn)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{var bn;const Re=this.currentCompletion;if(Re&&Re.sourceInlineCompletion!==Qt){Qt=Re.sourceInlineCompletion;const ct=Re.sourceProvider;null===(bn=ct.handleItemDidShow)||void 0===bn||bn.call(ct,Re.sourceInlineCompletions,Qt)}})),this._register((0,T.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(bn=>{var Re;3!==bn.reason&&(null===(Re=this.cache.value)||void 0===Re||Re.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(bn=>{var Re;null===(Re=this.cache.value)||void 0===Re||Re.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value)return void(this.filteredCompletions=[]);const ft=this.editor.getModel(),sn=ft.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(tn=>{const xn=ft.getValueInRange(tn.synchronizedRange).toLowerCase(),Pn=tn.inlineCompletion.filterText.toLowerCase(),En=ft.getLineIndentColumn(tn.synchronizedRange.startLineNumber),ut=Math.max(0,sn.column-tn.synchronizedRange.startColumn);let Pt=Pn.substring(0,ut),Ht=Pn.substring(ut),Qt=xn.substring(0,ut),bn=xn.substring(ut);return tn.synchronizedRange.startColumn<=En&&(Qt=Qt.trimStart(),0===Qt.length&&(bn=bn.trimStart()),Pt=Pt.trimStart(),0===Pt.length&&(Ht=Ht.trimStart())),Pt.startsWith(Qt)&&(0,Me.Sy)(bn,Ht)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const ft=this.filteredCompletions.findIndex(sn=>sn.semanticId===this.currentlySelectedCompletionId);return-1===ft?(this.currentlySelectedCompletionId=void 0,0):ft}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return ze(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ft=this.filteredCompletions||[];if(ft.length>0){const sn=(this.fixAndGetIndexOfCurrentSelection()+1)%ft.length;this.currentlySelectedCompletionId=ft[sn].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return ze(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ft=this.filteredCompletions||[];if(ft.length>0){const sn=(this.fixAndGetIndexOfCurrentSelection()+ft.length-1)%ft.length;this.currentlySelectedCompletionId=ft[sn].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var ft;return ze(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===_.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(_.bw.Explicit):(null===(ft=this.cache.value)||void 0===ft?void 0:ft.triggerKind)!==_.bw.Explicit&&(yield this.update(_.bw.Explicit))})}hasMultipleInlineCompletions(){var ft;return ze(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(ft=this.cache.value)||void 0===ft?void 0:ft.completions.length)||0)>1})}get ghostText(){const ft=this.currentCompletion;if(!ft)return;const sn=this.editor.getPosition();if(ft.range.getEndPosition().isBefore(sn))return;const tn=this.editor.getOptions().get(57).mode,xn=F(ft,this.editor.getModel(),tn,sn);return xn?xn.isEmpty()?void 0:xn:new P(ft.range.startLineNumber,ft.range.startColumn,ft.range.endColumn-ft.range.startColumn,ft.insertText.split("\n"),0)}get currentCompletion(){const ft=this.currentCachedCompletion;if(ft)return ft.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(ft){return ze(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const sn=this.editor.getPosition(),tn=new Date,xn=(0,s.PG)(En=>ze(this,void 0,void 0,function*(){let ut;try{ut=yield $e(this.registry,sn,this.editor.getModel(),{triggerKind:ft,selectedSuggestionInfo:void 0},En,this.languageConfigurationService);const Pt=new Date;this.debounce.update(this.editor.getModel(),Pt.getTime()-tn.getTime())}catch(Pt){return void(0,c.dL)(Pt)}En.isCancellationRequested||(this.cache.setValue(this.editor,ut,ft),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),Pn=new tt(xn,ft);this.updateOperation.value=Pn,yield xn,this.updateOperation.value===Pn&&this.updateOperation.clear()})}takeOwnership(ft){this._register(ft)}commitCurrentCompletion(){if(!this.ghostText)return;const sn=this.currentCompletion;sn&&this.commit(sn)}commit(ft){var sn;const tn=this.cache.clearAndLeak();ft.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[a.h.replaceMove(ft.range,""),...ft.additionalTextEdits]),this.editor.setPosition(ft.snippetInfo.range.getStartPosition()),null===(sn=Ie.SnippetController2.get(this.editor))||void 0===sn||sn.insert(ft.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[a.h.replaceMove(ft.range,ft.insertText),...ft.additionalTextEdits]),ft.command?this.commandService.executeCommand(ft.command.id,...ft.command.arguments||[]).finally(()=>{tn?.dispose()}).then(void 0,c.Cp):tn?.dispose(),this.onDidChangeEmitter.fire()}get commands(){var ft;return[...new Set((null===(ft=this.cache.value)||void 0===ft?void 0:ft.completions.map(tn=>tn.inlineCompletion.sourceInlineCompletions))||[])].flatMap(tn=>tn.commands||[])}}class tt{constructor(ft,sn){this.promise=ft,this.triggerKind=sn}dispose(){this.promise.cancel()}}class Ct extends T.JT{constructor(ft,sn,tn,xn){super(),this.editor=sn,this.onChange=tn,this.triggerKind=xn,this.isDisposing=!1;const Pn=sn.changeDecorations(En=>En.deltaDecorations([],ft.items.map(ut=>({range:ut.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,T.OF)(()=>{this.isDisposing=!0,sn.removeDecorations(Pn)})),this.completions=ft.items.map((En,ut)=>new Lt(En,Pn[ut])),this._register(sn.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(ft)}updateRanges(){if(this.isDisposing)return;let ft=!1;const sn=this.editor.getModel();for(const tn of this.completions){const xn=sn.getDecorationRange(tn.decorationId);xn?tn.synchronizedRange.equalsRange(xn)||(ft=!0,tn.synchronizedRange=xn):(0,c.dL)(new Error("Decoration has no range"))}ft&&this.onChange()}}class Lt{constructor(ft,sn){this.inlineCompletion=ft,this.decorationId=sn,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=ft.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function $e(dn,ft,sn,tn,xn=m.T.None,Pn){return ze(this,void 0,void 0,function*(){const En=function ae(dn,ft){const sn=ft.getWordAtPosition(dn),tn=ft.getLineMaxColumn(dn.lineNumber);return sn?new p.e(dn.lineNumber,sn.startColumn,dn.lineNumber,tn):p.e.fromPositions(dn,dn.with(void 0,tn))}(ft,sn),ut=dn.all(sn),Pt=yield Promise.all(ut.map(Qt=>ze(this,void 0,void 0,function*(){const bn=yield Promise.resolve(Qt.provideInlineCompletions(sn,ft,tn,xn)).catch(c.Cp);return{completions:bn,provider:Qt,dispose:()=>{bn&&Qt.freeInlineCompletions(bn)}}}))),Ht=new Map;for(const Qt of Pt){const bn=Qt.completions;if(bn)for(const Re of bn.items){let Cn,Hn,ct=Re.range?p.e.lift(Re.range):En;if(ct.startLineNumber!==ct.endLineNumber)continue;if("string"==typeof Re.insertText){if(Cn=Re.insertText,Pn&&Re.completeBracketPairs){Cn=ve(Cn,ct.getStartPosition(),sn,Pn);const bi=Cn.length-Re.insertText.length;0!==bi&&(ct=new p.e(ct.startLineNumber,ct.startColumn,ct.endLineNumber,ct.endColumn+bi))}Hn=void 0}else"snippet"in Re.insertText?(Cn=(new Se.Yj).parse(Re.insertText.snippet).toString(),Hn={snippet:Re.insertText.snippet,range:ct}):(0,me.vE)(Re.insertText);const Ii={insertText:Cn,snippetInfo:Hn,range:ct,command:Re.command,sourceProvider:Qt.provider,sourceInlineCompletions:bn,sourceInlineCompletion:Re,filterText:Re.filterText||Cn,additionalTextEdits:Re.additionalTextEdits||y};Ht.set(JSON.stringify({insertText:Cn,range:Re.range}),Ii)}}return{items:[...Ht.values()],dispose:()=>{for(const Qt of Pt)Qt.dispose()}}})}function ve(dn,ft,sn,tn){const Pn=sn.getLineContent(ft.lineNumber).substring(0,ft.column-1)+dn,ut=sn.tokenization.tokenizeLineWithEdit(ft,Pn.length-(ft.column-1),dn)?.sliceAndInflate(ft.column-1,Pn.length,0);return ut?function Ee(dn,ft){const sn=new M.FE,tn=new W.Z(sn,Ht=>ft.getLanguageConfiguration(Ht)),xn=new we.xH(new xe([dn]),tn),Pn=(0,ge.w)(xn,[],void 0,!0);let En="";const ut=dn.getLineContent();return function Pt(Ht,Qt){if(2===Ht.kind)if(Pt(Ht.openingBracket,Qt),Qt=(0,Z.Ii)(Qt,Ht.openingBracket.length),Ht.child&&(Pt(Ht.child,Qt),Qt=(0,Z.Ii)(Qt,Ht.child.length)),Ht.closingBracket)Pt(Ht.closingBracket,Qt),Qt=(0,Z.Ii)(Qt,Ht.closingBracket.length);else{const Re=tn.getSingleLanguageBracketTokens(Ht.openingBracket.languageId).findClosingTokenText(Ht.openingBracket.bracketIds);En+=Re}else if(3!==Ht.kind)if(0===Ht.kind||1===Ht.kind)En+=ut.substring((0,Z.F_)(Qt),(0,Z.F_)((0,Z.Ii)(Qt,Ht.length)));else if(4===Ht.kind)for(const bn of Ht.children)Pt(bn,Qt),Qt=(0,Z.Ii)(Qt,bn.length)}(Pn,Z.xl),En}(ut,tn):dn}var he=e(64023),le=e(79980),Q=e(69207);class Ce extends T.JT{constructor(ft,sn){super(),this.editor=ft,this.suggestControllerPreselector=sn,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new s.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(ft.onKeyDown(xn=>{xn.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(ft.onKeyUp(xn=>{xn.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const tn=Q.SuggestController.get(this.editor);if(tn){this._register(tn.registerSelector({priority:100,select:(En,ut,Pt)=>{const Ht=this.editor.getModel(),Qt=z(Ht,this.suggestControllerPreselector());if(!Qt)return-1;const bn=L.L.lift(ut),Re=Pt.map((Cn,Hn)=>{const Ii=st(tn,bn,Cn,this.isShiftKeyPressed),bi=z(Ht,Ii?.normalizedInlineCompletion);if(!bi)return;const di=function Pe(dn,ft){return ft.startLineNumber===dn.startLineNumber&&ft.startColumn===dn.startColumn&&(ft.endLineNumber<dn.endLineNumber||ft.endLineNumber===dn.endLineNumber&&ft.endColumn<=dn.endColumn)}(Qt.range,bi.range)&&Qt.insertText.startsWith(bi.insertText);return{index:Hn,valid:di,prefixLength:bi.insertText.length,suggestItem:Cn}}).filter(Cn=>Cn&&Cn.valid),ct=(0,he.Dc)(Re,(0,he.tT)(Cn=>Cn.prefixLength,he.fv));return ct?ct.index:-1}}));let xn=!1;const Pn=()=>{xn||(xn=!0,this._register(tn.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(tn.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(tn.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(v.ju.once(tn.model.onDidTrigger)(En=>{Pn()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(ft){const sn=this.getSuggestItemInfo();let tn=!1;(function dt(dn,ft){return dn===ft||!(!dn||!ft)&&dn.completionItemKind===ft.completionItemKind&&dn.isSnippetText===ft.isSnippetText&&function k(dn,ft){return dn===ft||!(!dn||!ft)&&dn.range.equalsRange(ft.range)&&dn.insertText===ft.insertText&&dn.command===ft.command}(dn.normalizedInlineCompletion,ft.normalizedInlineCompletion)})(this._currentSuggestItemInfo,sn)||(this._currentSuggestItemInfo=sn,tn=!0),this._isActive!==ft&&(this._isActive=ft,tn=!0),tn&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const ft=Q.SuggestController.get(this.editor);if(!ft||!this.isSuggestWidgetVisible)return;const sn=ft.widget.value.getFocusedItem();return sn?st(ft,this.editor.getPosition(),sn.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const ft=Q.SuggestController.get(this.editor);ft&&ft.stopForceRenderingAbove()}forceRenderingAbove(){const ft=Q.SuggestController.get(this.editor);ft&&ft.forceRenderingAbove()}}function st(dn,ft,sn,tn){if(Array.isArray(sn.completion.additionalTextEdits)&&sn.completion.additionalTextEdits.length>0)return{completionItemKind:sn.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:p.e.fromPositions(ft,ft),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:xn}=sn.completion,Pn=!1;if(4&sn.completion.insertTextRules){const ut=(new Se.Yj).parse(xn),Pt=dn.editor.getModel();if(ut.children.length>100)return;le.l.adjustWhitespace(Pt,ft,ut,!0,!0),xn=ut.toString(),Pn=!0}const En=dn.getOverwriteInfo(sn,tn);return{isSnippetText:Pn,completionItemKind:sn.completion.kind,normalizedInlineCompletion:{insertText:xn,filterText:xn,range:p.e.fromPositions(ft.delta(0,-En.overwriteBefore),ft.delta(0,Math.max(En.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var et=function(dn,ft,sn,tn){return new(sn||(sn=Promise))(function(Pn,En){function ut(Qt){try{Ht(tn.next(Qt))}catch(bn){En(bn)}}function Pt(Qt){try{Ht(tn.throw(Qt))}catch(bn){En(bn)}}function Ht(Qt){Qt.done?Pn(Qt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Qt.value).then(ut,Pt)}Ht((tn=tn.apply(dn,ft||[])).next())})};let vt=class extends O{constructor(ft,sn,tn){super(ft),this.cache=sn,this.languageFeaturesService=tn,this.suggestionInlineCompletionSource=this._register(new Ce(this.editor,()=>{var xn,Pn;return null===(Pn=null===(xn=this.cache.value)||void 0===xn?void 0:xn.completions[0])||void 0===Pn?void 0:Pn.toLiveInlineCompletion()})),this.updateOperation=this._register(new T.XK),this.updateCacheSoon=this._register(new s.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const Pn=this.ghostText;Pn&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function mt(dn){return dn.reduce((ft,sn)=>ft+sn,0)}(Pn.parts.map(En=>En.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(xn=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,T.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return et(this,void 0,void 0,function*(){const ft=this.suggestionInlineCompletionSource.state;if(!ft||!ft.selectedItem)return;const sn={text:ft.selectedItem.normalizedInlineCompletion.insertText,range:ft.selectedItem.normalizedInlineCompletion.range,isSnippetText:ft.selectedItem.isSnippetText,completionKind:ft.selectedItem.completionItemKind},tn=this.editor.getPosition();if(ft.selectedItem.isSnippetText||27===ft.selectedItem.completionItemKind||20===ft.selectedItem.completionItemKind||23===ft.selectedItem.completionItemKind)return void this.cache.clear();const xn=(0,s.PG)(En=>et(this,void 0,void 0,function*(){let ut;try{ut=yield $e(this.languageFeaturesService.inlineCompletionsProvider,tn,this.editor.getModel(),{triggerKind:_.bw.Automatic,selectedSuggestionInfo:sn},En)}catch(Pt){return void(0,c.dL)(Pt)}En.isCancellationRequested?ut.dispose():(this.cache.setValue(this.editor,ut,_.bw.Automatic),this.onDidChangeEmitter.fire())})),Pn=new tt(xn,_.bw.Automatic);this.updateOperation.value=Pn,yield xn,this.updateOperation.value===Pn&&this.updateOperation.clear()})}get ghostText(){var ft,sn,tn;const xn=this.isSuggestionPreviewEnabled(),Pn=this.editor.getModel(),En=z(Pn,null===(sn=null===(ft=this.cache.value)||void 0===ft?void 0:ft.completions[0])||void 0===sn?void 0:sn.toLiveInlineCompletion()),Pt=z(Pn,null===(tn=this.suggestionInlineCompletionSource.state?.selectedItem)||void 0===tn?void 0:tn.normalizedInlineCompletion),Ht=En&&Pt&&En.insertText.startsWith(Pt.insertText)&&En.range.equalsRange(Pt.range);if(!xn&&!Ht)return;const Qt=Ht?En:Pt||En;return this.toGhostText(Qt,Ht?Qt.insertText.length-Pt.insertText.length:0)}toGhostText(ft,sn){const tn=this.editor.getOptions().get(108).previewMode;return ft?F(ft,this.editor.getModel(),tn,this.editor.getPosition(),sn)||new D(ft.range.endLineNumber,[],this.minReservedLineCount):void 0}};var ft;vt=function(dn,ft,sn,tn){var En,xn=arguments.length,Pn=xn<3?ft:null===tn?tn=Object.getOwnPropertyDescriptor(ft,sn):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,ft,sn,tn);else for(var ut=dn.length-1;ut>=0;ut--)(En=dn[ut])&&(Pn=(xn<3?En(Pn):xn>3?En(ft,sn,Pn):En(ft,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(ft,sn,Pn),Pn}([(2,ft=Ne.p,function(sn,tn){ft(sn,tn,2)})],vt);var _t=e(9265);class ht extends T.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new T.XK)}get targetModel(){var ft;return null===(ft=this.currentModelRef.value)||void 0===ft?void 0:ft.object}setTargetModel(ft){var sn;(null===(sn=this.currentModelRef.value)||void 0===sn?void 0:sn.object)!==ft&&(this.currentModelRef.clear(),this.currentModelRef.value=ft?function u(dn,ft){return{object:dn,dispose:()=>ft?.dispose()}}(ft,ft.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var ft,sn;return this.hasCachedGhostText||(this.cachedGhostText=null===(sn=null===(ft=this.currentModelRef.value)||void 0===ft?void 0:ft.object)||void 0===sn?void 0:sn.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(ft){var sn;null===(sn=this.targetModel)||void 0===sn||sn.setExpanded(ft)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let jt=class extends ht{constructor(ft,sn){super(),this.editor=ft,this.instantiationService=sn,this.sharedCache=this._register(new fn),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(vt,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(ce,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(ft){var sn;const tn=null===(sn=this.activeInlineCompletionsModel)||void 0===sn?void 0:sn.ghostText;return!!tn&&tn.parts.some(xn=>ft.containsPosition(new L.L(tn.lineNumber,xn.column)))}triggerInlineCompletion(){var ft;null===(ft=this.activeInlineCompletionsModel)||void 0===ft||ft.trigger(_.bw.Explicit)}commitInlineCompletion(){var ft;null===(ft=this.activeInlineCompletionsModel)||void 0===ft||ft.commitCurrentSuggestion()}hideInlineCompletion(){var ft;null===(ft=this.activeInlineCompletionsModel)||void 0===ft||ft.hide()}showNextInlineCompletion(){var ft;null===(ft=this.activeInlineCompletionsModel)||void 0===ft||ft.showNext()}showPreviousInlineCompletion(){var ft;null===(ft=this.activeInlineCompletionsModel)||void 0===ft||ft.showPrevious()}hasMultipleInlineCompletions(){var ft;return function(dn,ft,sn,tn){return new(sn||(sn=Promise))(function(Pn,En){function ut(Qt){try{Ht(tn.next(Qt))}catch(bn){En(bn)}}function Pt(Qt){try{Ht(tn.throw(Qt))}catch(bn){En(bn)}}function Ht(Qt){Qt.done?Pn(Qt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Qt.value).then(ut,Pt)}Ht((tn=tn.apply(dn,ft||[])).next())})}(this,void 0,void 0,function*(){const sn=yield null===(ft=this.activeInlineCompletionsModel)||void 0===ft?void 0:ft.hasMultipleInlineCompletions();return void 0!==sn&&sn})}};jt=function(dn,ft,sn,tn){var En,xn=arguments.length,Pn=xn<3?ft:null===tn?tn=Object.getOwnPropertyDescriptor(ft,sn):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,ft,sn,tn);else for(var ut=dn.length-1;ut>=0;ut--)(En=dn[ut])&&(Pn=(xn<3?En(Pn):xn>3?En(ft,sn,Pn):En(ft,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(ft,sn,Pn),Pn}([function(dn,ft){return function(sn,tn){ft(sn,tn,1)}}(0,_t.TG)],jt);class fn extends T.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new T.XK)}get value(){return this.cache.value}setValue(ft,sn,tn){this.cache.value=new Ct(sn,ft,()=>this.onDidChangeEmitter.fire(),tn)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Dn=e(98463),yt=e(57856),He=e.n(yt),ye=e(38470),Ae=e.n(ye),ue=e(43370),be=e.n(ue),Je=e(28458),Fe=e.n(Je),nt=e(71278),bt=e.n(nt),Ut=e(29488),vn=e.n(Ut),Mn=e(64272),St={};St.styleTagTransform=vn(),St.setAttributes=Fe(),St.insert=be().bind(null,"head"),St.domAPI=Ae(),St.insertStyleElement=bt(),He()(Mn.Z,St);var Yt,Sn=e(44716),Gn=e(54862),ci=e(71513),ii=e(8680),Ei=e(47629),no=e(45358),to=e(43944),Co=e(56110),io=e(27131),uo=e(40902),si=function(dn,ft){return function(sn,tn){ft(sn,tn,dn)}};const pt=null===(Yt=window.trustedTypes)||void 0===Yt?void 0:Yt.createPolicy("editorGhostText",{createHTML:dn=>dn});let gt=class extends T.JT{constructor(ft,sn,tn,xn){super(),this.editor=ft,this.model=sn,this.instantiationService=tn,this.languageService=xn,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(nn,this.editor)),this.additionalLinesWidget=this._register(new an(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new Kt(this.editor)),this._register(this.editor.onDidChangeConfiguration(Pn=>{(Pn.hasChanged(29)||Pn.hasChanged(107)||Pn.hasChanged(90)||Pn.hasChanged(85)||Pn.hasChanged(47)||Pn.hasChanged(46)||Pn.hasChanged(61))&&this.update()})),this._register((0,T.OF)(()=>{var Pn;this.disposed=!0,this.update(),null===(Pn=this.viewMoreContentWidget)||void 0===Pn||Pn.dispose(),this.viewMoreContentWidget=void 0})),this._register(sn.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(ft){return this.additionalLinesWidget.viewZoneId===ft}update(){var ft;const sn=this.model.ghostText;if(!this.editor.hasModel()||!sn||this.disposed)return this.partsWidget.clear(),this.additionalLinesWidget.clear(),void this.replacementDecoration.clear();const tn=new Array,xn=new Array;function Pn(Ht,Qt){if(xn.length>0){const bn=xn[xn.length-1];Qt&&bn.decorations.push(new Co.Kp(bn.content.length+1,bn.content.length+1+Ht[0].length,Qt,0)),bn.content+=Ht[0],Ht=Ht.slice(1)}for(const bn of Ht)xn.push({content:bn,decorations:Qt?[new Co.Kp(1,bn.length+1,Qt,0)]:[]})}this.replacementDecoration.setDecorations(sn instanceof P?[{range:new p.e(sn.lineNumber,sn.columnStart,sn.lineNumber,sn.columnStart+sn.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]:[]);const En=this.editor.getModel().getLineContent(sn.lineNumber);let ut,Pt=0;for(const Ht of sn.parts){let Qt=Ht.lines;void 0===ut?(tn.push({column:Ht.column,text:Qt[0],preview:Ht.preview}),Qt=Qt.slice(1)):Pn([En.substring(Pt,Ht.column-1)],void 0),Qt.length>0&&(Pn(Qt,"ghost-text"),void 0===ut&&Ht.column<=En.length&&(ut=Ht.column)),Pt=Ht.column-1}void 0!==ut&&Pn([En.substring(Pt)],void 0),this.partsWidget.setParts(sn.lineNumber,tn,void 0!==ut?{column:ut,length:En.length+1-ut}:void 0),this.additionalLinesWidget.updateLines(sn.lineNumber,xn,sn.additionalReservedLineCount),null===(ft=this.viewMoreContentWidget)||void 0===ft||ft.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(ft,sn,tn){const xn=this.editor.getOption(46),Pn=document.createElement("div");Pn.className="suggest-preview-additional-widget",(0,Sn.N)(Pn,xn);const En=document.createElement("span");En.className="content-spacer",En.append(sn),Pn.append(En);const ut=document.createElement("span");ut.className="content-newline suggest-preview-text",ut.append("\u23ce  "),Pn.append(ut);const Pt=new T.SL,Ht=document.createElement("div");return Ht.className="button suggest-preview-text",Ht.append(`+${tn} lines\u2026`),Pt.add(Dn.mu(Ht,"mousedown",Qt=>{var bn;null===(bn=this.model)||void 0===bn||bn.setExpanded(!0),Qt.preventDefault(),this.editor.focus()})),Pn.append(Ht),new Nn(this.editor,ft,Pn,Pt)}};gt=function(dn,ft,sn,tn){var En,xn=arguments.length,Pn=xn<3?ft:null===tn?tn=Object.getOwnPropertyDescriptor(ft,sn):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,ft,sn,tn);else for(var ut=dn.length-1;ut>=0;ut--)(En=dn[ut])&&(Pn=(xn<3?En(Pn):xn>3?En(ft,sn,Pn):En(ft,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(ft,sn,Pn),Pn}([si(2,_t.TG),si(3,no.O)],gt);class Kt{constructor(ft){this.editor=ft,this.decorationIds=[]}setDecorations(ft){this.editor.changeDecorations(sn=>{this.decorationIds=sn.deltaDecorations(this.decorationIds,ft)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class nn{constructor(ft){this.editor=ft,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(ft=>{this.decorationIds=ft.deltaDecorations(this.decorationIds,[])})}setParts(ft,sn,tn){if(!this.editor.getModel())return;const Pn=new Array;tn&&Pn.push({range:p.e.fromPositions(new L.L(ft,tn.column),new L.L(ft,tn.column+tn.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(En=>{this.decorationIds=En.deltaDecorations(this.decorationIds,sn.map(ut=>({range:p.e.fromPositions(new L.L(ft,ut.column)),options:{description:"ghost-text",after:{content:ut.text,inlineClassName:ut.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Ei.RM.Left},showIfCollapsed:!0}})).concat(Pn))})}}class an{constructor(ft,sn){this.editor=ft,this.languageIdCodec=sn,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(ft=>{this._viewZoneId&&(ft.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(ft,sn,tn){const xn=this.editor.getModel();if(!xn)return;const{tabSize:Pn}=xn.getOptions();this.editor.changeViewZones(En=>{this._viewZoneId&&(En.removeZone(this._viewZoneId),this._viewZoneId=void 0);const ut=Math.max(sn.length,tn);if(ut>0){const Pt=document.createElement("div");(function mn(dn,ft,sn,tn,xn){const Pn=tn.get(29),En=tn.get(107),Pt=tn.get(85),Ht=tn.get(47),Qt=tn.get(46),bn=tn.get(61),Re=(0,ii.l$)(1e4);Re.appendASCIIString('<div class="suggest-preview-text">');for(let Hn=0,Ii=sn.length;Hn<Ii;Hn++){const bi=sn[Hn],di=bi.content;Re.appendASCIIString('<div class="view-line'),Re.appendASCIIString('" style="top:'),Re.appendASCIIString(String(Hn*bn)),Re.appendASCIIString('px;width:1000000px;">');const Ft=C.$i(di),R=C.Ut(di),J=ci.A.createEmpty(di,xn);(0,io.d1)(new io.IJ(Qt.isMonospace&&!Pn,Qt.canUseHalfwidthRightwardsArrow,di,!1,Ft,R,0,J,bi.decorations,ft,0,Qt.spaceWidth,Qt.middotWidth,Qt.wsmiddotWidth,En,"none",Pt,Ht!==Gn.n0.OFF,null),Re),Re.appendASCIIString("</div>")}Re.appendASCIIString("</div>"),(0,Sn.N)(dn,Qt);const ct=Re.build(),Cn=pt?pt.createHTML(ct):ct;dn.innerHTML=Cn})(Pt,Pn,sn,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=En.addZone({afterLineNumber:ft,heightInLines:ut,domNode:Pt,afterColumnAffinity:1})}})}}class Nn extends T.JT{constructor(ft,sn,tn,xn){super(),this.editor=ft,this.position=sn,this.domNode=tn,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(xn),this._register((0,T.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,uo.Ic)((dn,ft)=>{const sn=dn.getColor(to.N5);sn&&(ft.addRule(`.monaco-editor .ghost-text-decoration { color: ${sn.toString()} !important; }`),ft.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${sn.toString()} !important; }`),ft.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${sn.toString()} !important; }`));const tn=dn.getColor(to.IO);tn&&(ft.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${tn.toString()}; }`),ft.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${tn.toString()}; }`),ft.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${tn.toString()}; }`));const xn=dn.getColor(to.x3);xn&&(ft.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${xn}; }`),ft.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${xn}; }`),ft.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${xn}; }`))});var jn=e(55197),Yn=e(16468),wi=function(dn,ft,sn,tn){var En,xn=arguments.length,Pn=xn<3?ft:null===tn?tn=Object.getOwnPropertyDescriptor(ft,sn):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,ft,sn,tn);else for(var ut=dn.length-1;ut>=0;ut--)(En=dn[ut])&&(Pn=(xn<3?En(Pn):xn>3?En(ft,sn,Pn):En(ft,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(ft,sn,Pn),Pn},Li=function(dn,ft){return function(sn,tn){ft(sn,tn,dn)}},Qi=function(dn,ft,sn,tn){return new(sn||(sn=Promise))(function(Pn,En){function ut(Qt){try{Ht(tn.next(Qt))}catch(bn){En(bn)}}function Pt(Qt){try{Ht(tn.throw(Qt))}catch(bn){En(bn)}}function Ht(Qt){Qt.done?Pn(Qt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Qt.value).then(ut,Pt)}Ht((tn=tn.apply(dn,ft||[])).next())})};let Pi=class Dc extends T.JT{constructor(ft,sn){super(),this.editor=ft,this.instantiationService=sn,this.triggeredExplicitly=!1,this.activeController=this._register(new T.XK),this.activeModelDidChangeEmitter=this._register(new v.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(tn=>{tn.hasChanged(108)&&this.updateModelController(),tn.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(ft){return ft.getContribution(Dc.ID)}get activeModel(){var ft;return null===(ft=this.activeController.value)||void 0===ft?void 0:ft.model}updateModelController(){const ft=this.editor.getOption(108),sn=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(ft.preview||sn.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Wi,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(ft){var sn;return(null===(sn=this.activeModel)||void 0===sn?void 0:sn.shouldShowHoverAt(ft))||!1}shouldShowHoverAtViewZone(ft){var sn,tn;return(null===(tn=null===(sn=this.activeController.value)||void 0===sn?void 0:sn.widget)||void 0===tn?void 0:tn.shouldShowHoverAtViewZone(ft))||!1}trigger(){var ft;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(ft=this.activeModel)||void 0===ft||ft.triggerInlineCompletion()}commit(){var ft;null===(ft=this.activeModel)||void 0===ft||ft.commitInlineCompletion()}hide(){var ft;null===(ft=this.activeModel)||void 0===ft||ft.hideInlineCompletion()}showNextInlineCompletion(){var ft;null===(ft=this.activeModel)||void 0===ft||ft.showNextInlineCompletion()}showPreviousInlineCompletion(){var ft;null===(ft=this.activeModel)||void 0===ft||ft.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var ft;return Qi(this,void 0,void 0,function*(){const sn=yield null===(ft=this.activeModel)||void 0===ft?void 0:ft.hasMultipleInlineCompletions();return void 0!==sn&&sn})}};Pi.inlineSuggestionVisible=new Yn.uy("inlineSuggestionVisible",!1,jn.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Pi.inlineSuggestionHasIndentation=new Yn.uy("inlineSuggestionHasIndentation",!1,jn.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Pi.inlineSuggestionHasIndentationLessThanTabSize=new Yn.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,jn.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Pi.ID="editor.contrib.ghostTextController",Pi=wi([Li(1,_t.TG)],Pi);class Ki{constructor(ft){this.contextKeyService=ft,this.inlineCompletionVisible=Pi.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Pi.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Pi.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Wi=class extends T.JT{constructor(ft,sn,tn){super(),this.editor=ft,this.instantiationService=sn,this.contextKeyService=tn,this.contextKeys=new Ki(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(jt,this.editor)),this.widget=this._register(this.instantiationService.createInstance(gt,this.editor,this.model)),this._register((0,T.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var ft;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(ft=this.model.activeInlineCompletionsModel)||void 0===ft?void 0:ft.ghostText));let sn=!1,tn=!0;const xn=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&xn&&xn.parts.length>0){const{column:Pn,lines:En}=xn.parts[0],ut=En[0];if(Pn<=this.editor.getModel().getLineIndentColumn(xn.lineNumber)){let Qt=(0,C.LC)(ut);-1===Qt&&(Qt=ut.length-1),sn=Qt>0;const bn=this.editor.getModel().getOptions().tabSize;tn=E.i.visibleColumnFromColumn(ut,Qt+1,bn)<bn}}this.contextKeys.inlineCompletionSuggestsIndentation.set(sn),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(tn)}};Wi=wi([Li(1,_t.TG),Li(2,Yn.i6)],Wi);let ro=(()=>{class dn extends d.R6{constructor(){super({id:dn.ID,label:jn.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Yn.Ao.and(n.u.writable,Pi.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(sn,tn){return Qi(this,void 0,void 0,function*(){const xn=Pi.get(tn);xn&&(xn.showNextInlineCompletion(),tn.focus())})}}return dn.ID="editor.action.inlineSuggest.showNext",dn})(),mo=(()=>{class dn extends d.R6{constructor(){super({id:dn.ID,label:jn.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Yn.Ao.and(n.u.writable,Pi.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(sn,tn){return Qi(this,void 0,void 0,function*(){const xn=Pi.get(tn);xn&&(xn.showPreviousInlineCompletion(),tn.focus())})}}return dn.ID="editor.action.inlineSuggest.showPrevious",dn})();var Eo=e(48701),Mo=e(29739),Io=e(64280),Yi=e(74918),ho=e(44827),li=function(dn,ft){return function(sn,tn){ft(sn,tn,dn)}};class Xt{constructor(ft,sn,tn){this.owner=ft,this.range=sn,this.controller=tn}isValidForHoverAnchor(ft){return 1===ft.type&&this.range.startColumn<=ft.range.startColumn&&this.range.endColumn>=ft.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var ft,sn,tn;return(null===(tn=null===(sn=null===(ft=this.controller.activeModel)||void 0===ft?void 0:ft.activeInlineCompletionsModel)||void 0===sn?void 0:sn.completionSession.value)||void 0===tn?void 0:tn.commands)||[]}}let kt=class{constructor(ft,sn,tn,xn,Pn,En,ut){this._editor=ft,this._commandService=sn,this._menuService=tn,this._contextKeyService=xn,this._languageService=Pn,this._openerService=En,this.accessibilityService=ut,this.hoverOrdinal=3}suggestHoverAnchor(ft){const sn=Pi.get(this._editor);if(!sn)return null;const tn=ft.target;if(8===tn.type){const xn=tn.detail;if(sn.shouldShowHoverAtViewZone(xn.viewZoneId))return new l.YM(1e3,this,p.e.fromPositions(xn.positionBefore||xn.position,xn.positionBefore||xn.position))}return 7===tn.type&&sn.shouldShowHoverAt(tn.range)||6===tn.type&&tn.detail.mightBeForeignElement&&sn.shouldShowHoverAt(tn.range)?new l.YM(1e3,this,tn.range):null}computeSync(ft,sn){const tn=Pi.get(this._editor);return tn&&tn.shouldShowHoverAt(ft.range)?[new Xt(this,ft.range,tn)]:[]}renderHoverParts(ft,sn){const tn=new T.SL,xn=sn[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(ft,xn,tn);const Pn=tn.add(this._menuService.createMenu(Yi.eH.InlineCompletionsActions,this._contextKeyService)),En=ft.statusBar.addAction({label:jn.NC("showNextInlineSuggestion","Next"),commandId:ro.ID,run:()=>this._commandService.executeCommand(ro.ID)}),ut=ft.statusBar.addAction({label:jn.NC("showPreviousInlineSuggestion","Previous"),commandId:mo.ID,run:()=>this._commandService.executeCommand(mo.ID)});ft.statusBar.addAction({label:jn.NC("acceptInlineSuggestion","Accept"),commandId:S,run:()=>this._commandService.executeCommand(S)});const Pt=[En,ut];for(const Ht of Pt)Ht.setEnabled(!1);xn.hasMultipleSuggestions().then(Ht=>{for(const Qt of Pt)Qt.setEnabled(Ht)});for(const Ht of xn.commands)ft.statusBar.addAction({label:Ht.title,commandId:Ht.id,run:()=>this._commandService.executeCommand(Ht.id,...Ht.arguments||[])});for(const[Ht,Qt]of Pn.getActions())for(const bn of Qt)bn instanceof Yi.U8&&ft.statusBar.addAction({label:bn.label,commandId:bn.item.id,run:()=>this._commandService.executeCommand(bn.item.id)});return tn}renderScreenReaderText(ft,sn,tn){var xn,Pn;const En=Dn.$,ut=En("div.hover-row.markdown-hover"),Pt=Dn.R3(ut,En("div.hover-contents")),Ht=tn.add(new Mo.$({editor:this._editor},this._languageService,this._openerService)),bn=null===(Pn=null===(xn=sn.controller.activeModel)||void 0===xn?void 0:xn.inlineCompletionsModel)||void 0===Pn?void 0:Pn.ghostText;if(bn){const Re=this._editor.getModel().getLineContent(bn.lineNumber);(Re=>{tn.add(Ht.onDidRenderAsync(()=>{Pt.className="hover-contents code-hover-contents",ft.onContentsChanged()}));const ct=jn.NC("inlineSuggestionFollows","Suggestion:"),Cn=tn.add(Ht.render((new Eo.W5).appendText(ct).appendCodeblock("text",Re)));Pt.replaceChildren(Cn.element)})(bn.renderForScreenReader(Re))}ft.fragment.appendChild(ut)}};kt=function(dn,ft,sn,tn){var En,xn=arguments.length,Pn=xn<3?ft:null===tn?tn=Object.getOwnPropertyDescriptor(ft,sn):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,ft,sn,tn);else for(var ut=dn.length-1;ut>=0;ut--)(En=dn[ut])&&(Pn=(xn<3?En(Pn):xn>3?En(ft,sn,Pn):En(ft,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(ft,sn,Pn),Pn}([li(1,V.Hy),li(2,Yi.co),li(3,Yn.i6),li(4,no.O),li(5,ho.v4),li(6,Io.F)],kt);var un=e(98915);(0,d._K)(Pi.ID,Pi),(0,d.Qr)(class Ko extends d.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:jn.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:n.u.writable})}run(ft,sn){return Qi(this,void 0,void 0,function*(){const tn=Pi.get(sn);tn&&tn.trigger()})}}),(0,d.Qr)(ro),(0,d.Qr)(mo),l.Ae.register(kt);const Rn=d._l.bindToContribution(Pi.get),Wn=new Rn({id:S,precondition:Pi.inlineSuggestionVisible,handler(dn){dn.commit(),dn.editor.focus()}});(0,d.fK)(Wn),un.W.registerKeybindingRule({primary:2,weight:200,id:Wn.id,when:Yn.Ao.and(Wn.precondition,n.u.tabMovesFocus.toNegated(),Pi.inlineSuggestionHasIndentationLessThanTabSize)}),(0,d.fK)(new Rn({id:"editor.action.inlineSuggest.hide",precondition:Pi.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(dn){dn.hide()}}))},12039:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{ExpandLineSelectionAction:()=>v});var d=e(26845),n=e(21073),l=e(82290),S=e(55197);class v extends d.R6{constructor(){super({id:"expandLineSelection",label:S.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:l.u.textInputFocus,primary:2090}})}run(C,E,L){if(L=L||{},!E.hasModel())return;const _=E._getViewModel();_.model.pushStackElement(),_.setCursorStates(L.source,3,n.P.expandLineSelection(_,_.getCursorStates())),_.revealPrimaryCursor(L.source,!0)}}(0,d.Qr)(v)},66564:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{AbstractCaseAction:()=>Ue,AbstractDeleteAllToBoundaryAction:()=>Ie,AbstractSortLinesAction:()=>W,DeleteAllLeftAction:()=>me,DeleteAllRightAction:()=>Me,DeleteDuplicateLinesAction:()=>M,DeleteLinesAction:()=>Ee,DuplicateSelectionAction:()=>K,IndentLinesAction:()=>xe,InsertLineAfterAction:()=>Se,InsertLineBeforeAction:()=>oe,JoinLinesAction:()=>de,KebabCaseAction:()=>Lt,LowerCaseAction:()=>ce,SnakeCaseAction:()=>Ct,SortLinesAscendingAction:()=>Z,SortLinesDescendingAction:()=>ge,TitleCaseAction:()=>tt,TransposeAction:()=>ke,TrimTrailingWhitespaceAction:()=>we,UpperCaseAction:()=>ze});var d=e(53993),n=e(41442),l=e(26845),S=e(22599),v=e(73879),T=e(65484),C=e(98570);class E{constructor(ae,ve){this._selection=ae,this._cursors=ve,this._selectionId=null}getEditOperations(ae,ve){const he=function L($e,ae){ae.sort((Ce,Pe)=>Ce.lineNumber===Pe.lineNumber?Ce.column-Pe.column:Ce.lineNumber-Pe.lineNumber);for(let Ce=ae.length-2;Ce>=0;Ce--)ae[Ce].lineNumber===ae[Ce+1].lineNumber&&ae.splice(Ce,1);const ve=[];let he=0,le=0;const Q=ae.length;for(let Ce=1,Pe=$e.getLineCount();Ce<=Pe;Ce++){const dt=$e.getLineContent(Ce),st=dt.length+1;let qe=0;if(le<Q&&ae[le].lineNumber===Ce&&(qe=ae[le].column,le++,qe===st)||0===dt.length)continue;const Qe=v.ow(dt);let et=0;if(-1===Qe)et=1;else{if(Qe===dt.length-1)continue;et=Qe+2}et=Math.max(qe,et),ve[he++]=T.h.delete(new C.e(Ce,et,Ce,st))}return ve}(ae,this._cursors);for(let le=0,Q=he.length;le<Q;le++){const Ce=he[le];ve.addEditOperation(Ce.range,Ce.text)}this._selectionId=ve.trackSelection(this._selection)}computeCursorState(ae,ve){return ve.getTrackedSelection(this._selectionId)}}var _=e(97979),s=e(18723),m=e(7233),c=e(82290);class t{constructor(ae,ve,he){this._selection=ae,this._isCopyingDown=ve,this._noop=he||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(ae,ve){let he=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,he.startLineNumber<he.endLineNumber&&1===he.endColumn&&(this._endLineNumberDelta=1,he=he.setEndPosition(he.endLineNumber-1,ae.getLineMaxColumn(he.endLineNumber-1)));const le=[];for(let Ce=he.startLineNumber;Ce<=he.endLineNumber;Ce++)le.push(ae.getLineContent(Ce));const Q=le.join("\n");""===Q&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?ve.addEditOperation(new C.e(he.endLineNumber,ae.getLineMaxColumn(he.endLineNumber),he.endLineNumber+1,1),he.endLineNumber===ae.getLineCount()?"":"\n"):this._isCopyingDown?ve.addEditOperation(new C.e(he.startLineNumber,1,he.startLineNumber,1),Q+"\n"):ve.addEditOperation(new C.e(he.endLineNumber,ae.getLineMaxColumn(he.endLineNumber),he.endLineNumber,ae.getLineMaxColumn(he.endLineNumber)),"\n"+Q),this._selectionId=ve.trackSelection(he),this._selectionDirection=this._selection.getDirection()}computeCursorState(ae,ve){let he=ve.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let le=he.startLineNumber,Q=he.startColumn,Ce=he.endLineNumber,Pe=he.endColumn;0!==this._startLineNumberDelta&&(le+=this._startLineNumberDelta,Q=1),0!==this._endLineNumberDelta&&(Ce+=this._endLineNumberDelta,Pe=1),he=m.Y.createWithDirection(le,Q,Ce,Pe,this._selectionDirection)}return he}}var a=e(91117),p=e(63331),u=e(94911),g=e(39143),b=e(3981),y=e(12969);let x=class{constructor(ae,ve,he,le){this._languageConfigurationService=le,this._selection=ae,this._isMovingDown=ve,this._autoIndent=he,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(ae,ve){const he=ae.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===he)return void(this._selectionId=ve.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=ve.trackSelection(this._selection));this._moveEndPositionDown=!1;let le=this._selection;le.startLineNumber<le.endLineNumber&&1===le.endColumn&&(this._moveEndPositionDown=!0,le=le.setEndPosition(le.endLineNumber-1,ae.getLineMaxColumn(le.endLineNumber-1)));const{tabSize:Q,indentSize:Ce,insertSpaces:Pe}=ae.getOptions(),dt=this.buildIndentConverter(Q,Ce,Pe),st={tokenization:{getLineTokens:qe=>ae.tokenization.getLineTokens(qe),getLanguageId:()=>ae.getLanguageId(),getLanguageIdAtPosition:(qe,Qe)=>ae.getLanguageIdAtPosition(qe,Qe)},getLineContent:null};if(le.startLineNumber===le.endLineNumber&&1===ae.getLineMaxColumn(le.startLineNumber)){const qe=le.startLineNumber,Qe=this._isMovingDown?qe+1:qe-1;1===ae.getLineMaxColumn(Qe)?ve.addEditOperation(new C.e(1,1,1,1),null):(ve.addEditOperation(new C.e(qe,1,qe,1),ae.getLineContent(Qe)),ve.addEditOperation(new C.e(Qe,1,Qe,ae.getLineMaxColumn(Qe)),null)),le=new m.Y(Qe,1,Qe,1)}else{let qe,Qe;if(this._isMovingDown){qe=le.endLineNumber+1,Qe=ae.getLineContent(qe),ve.addEditOperation(new C.e(qe-1,ae.getLineMaxColumn(qe-1),qe,ae.getLineMaxColumn(qe)),null);let et=Qe;if(this.shouldAutoIndent(ae,le)){const vt=this.matchEnterRule(ae,dt,Q,qe,le.startLineNumber-1);if(null!==vt){const _t=v.V8(ae.getLineContent(qe)),$t=vt+g.Y(_t,Q);et=g.J($t,Q,Pe)+this.trimLeft(Qe)}else{st.getLineContent=$t=>ae.getLineContent($t===le.startLineNumber?qe:$t);const _t=(0,b.n8)(this._autoIndent,st,ae.getLanguageIdAtPosition(qe,1),le.startLineNumber,dt,this._languageConfigurationService);if(null!==_t){const $t=v.V8(ae.getLineContent(qe)),Bt=g.Y(_t,Q);Bt!==g.Y($t,Q)&&(et=g.J(Bt,Q,Pe)+this.trimLeft(Qe))}}ve.addEditOperation(new C.e(le.startLineNumber,1,le.startLineNumber,1),et+"\n");const mt=this.matchEnterRuleMovingDown(ae,dt,Q,le.startLineNumber,qe,et);if(null!==mt)0!==mt&&this.getIndentEditsOfMovingBlock(ae,ve,le,Q,Pe,mt);else{st.getLineContent=$t=>$t===le.startLineNumber?et:ae.getLineContent($t>=le.startLineNumber+1&&$t<=le.endLineNumber+1?$t-1:$t);const _t=(0,b.n8)(this._autoIndent,st,ae.getLanguageIdAtPosition(qe,1),le.startLineNumber+1,dt,this._languageConfigurationService);if(null!==_t){const $t=v.V8(ae.getLineContent(le.startLineNumber)),Bt=g.Y(_t,Q),Ke=g.Y($t,Q);Bt!==Ke&&this.getIndentEditsOfMovingBlock(ae,ve,le,Q,Pe,Bt-Ke)}}}else ve.addEditOperation(new C.e(le.startLineNumber,1,le.startLineNumber,1),et+"\n")}else if(qe=le.startLineNumber-1,Qe=ae.getLineContent(qe),ve.addEditOperation(new C.e(qe,1,qe+1,1),null),ve.addEditOperation(new C.e(le.endLineNumber,ae.getLineMaxColumn(le.endLineNumber),le.endLineNumber,ae.getLineMaxColumn(le.endLineNumber)),"\n"+Qe),this.shouldAutoIndent(ae,le)){st.getLineContent=vt=>ae.getLineContent(vt===qe?le.startLineNumber:vt);const et=this.matchEnterRule(ae,dt,Q,le.startLineNumber,le.startLineNumber-2);if(null!==et)0!==et&&this.getIndentEditsOfMovingBlock(ae,ve,le,Q,Pe,et);else{const vt=(0,b.n8)(this._autoIndent,st,ae.getLanguageIdAtPosition(le.startLineNumber,1),qe,dt,this._languageConfigurationService);if(null!==vt){const mt=v.V8(ae.getLineContent(le.startLineNumber)),_t=g.Y(vt,Q),$t=g.Y(mt,Q);_t!==$t&&this.getIndentEditsOfMovingBlock(ae,ve,le,Q,Pe,_t-$t)}}}}this._selectionId=ve.trackSelection(le)}buildIndentConverter(ae,ve,he){return{shiftIndent:le=>a.U.shiftIndent(le,le.length+1,ae,ve,he),unshiftIndent:le=>a.U.unshiftIndent(le,le.length+1,ae,ve,he)}}parseEnterResult(ae,ve,he,le,Q){if(Q){let Ce=Q.indentation;Q.indentAction===p.wU.None||Q.indentAction===p.wU.Indent?Ce=Q.indentation+Q.appendText:Q.indentAction===p.wU.IndentOutdent?Ce=Q.indentation:Q.indentAction===p.wU.Outdent&&(Ce=ve.unshiftIndent(Q.indentation)+Q.appendText);const Pe=ae.getLineContent(le);if(this.trimLeft(Pe).indexOf(this.trimLeft(Ce))>=0){const dt=v.V8(ae.getLineContent(le));let st=v.V8(Ce);const qe=(0,b.tI)(ae,le,this._languageConfigurationService);return null!==qe&&2&qe&&(st=ve.unshiftIndent(st)),g.Y(st,he)-g.Y(dt,he)}}return null}matchEnterRuleMovingDown(ae,ve,he,le,Q,Ce){if(v.ow(Ce)>=0){const Pe=ae.getLineMaxColumn(Q),dt=(0,y.A)(this._autoIndent,ae,new C.e(Q,Pe,Q,Pe),this._languageConfigurationService);return this.parseEnterResult(ae,ve,he,le,dt)}{let Pe=le-1;for(;Pe>=1;){const qe=ae.getLineContent(Pe);if(v.ow(qe)>=0)break;Pe--}if(Pe<1||le>ae.getLineCount())return null;const dt=ae.getLineMaxColumn(Pe),st=(0,y.A)(this._autoIndent,ae,new C.e(Pe,dt,Pe,dt),this._languageConfigurationService);return this.parseEnterResult(ae,ve,he,le,st)}}matchEnterRule(ae,ve,he,le,Q,Ce){let Pe=Q;for(;Pe>=1;){let qe;if(qe=Pe===Q&&void 0!==Ce?Ce:ae.getLineContent(Pe),v.ow(qe)>=0)break;Pe--}if(Pe<1||le>ae.getLineCount())return null;const dt=ae.getLineMaxColumn(Pe),st=(0,y.A)(this._autoIndent,ae,new C.e(Pe,dt,Pe,dt),this._languageConfigurationService);return this.parseEnterResult(ae,ve,he,le,st)}trimLeft(ae){return ae.replace(/^\s+/,"")}shouldAutoIndent(ae,ve){if(this._autoIndent<4||!ae.tokenization.isCheapToTokenize(ve.startLineNumber))return!1;const he=ae.getLanguageIdAtPosition(ve.startLineNumber,1);return!(he!==ae.getLanguageIdAtPosition(ve.endLineNumber,1)||null===this._languageConfigurationService.getLanguageConfiguration(he).indentRulesSupport)}getIndentEditsOfMovingBlock(ae,ve,he,le,Q,Ce){for(let Pe=he.startLineNumber;Pe<=he.endLineNumber;Pe++){const dt=ae.getLineContent(Pe),st=v.V8(dt),Qe=g.Y(st,le)+Ce,et=g.J(Qe,le,Q);et!==st&&(ve.addEditOperation(new C.e(Pe,1,Pe,st.length+1),et),Pe===he.endLineNumber&&he.endColumn<=st.length+1&&""===et&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(ae,ve){let he=ve.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(he=he.setEndPosition(he.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&he.startLineNumber<he.endLineNumber&&(he=he.setEndPosition(he.endLineNumber,2)),he}};var ae;x=function($e,ae,ve,he){var Ce,le=arguments.length,Q=le<3?ae:null===he?he=Object.getOwnPropertyDescriptor(ae,ve):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate($e,ae,ve,he);else for(var Pe=$e.length-1;Pe>=0;Pe--)(Ce=$e[Pe])&&(Q=(le<3?Ce(Q):le>3?Ce(ae,ve,Q):Ce(ae,ve))||Q);return le>3&&Q&&Object.defineProperty(ae,ve,Q),Q}([(3,ae=u.c_,function(ve,he){ae(ve,he,3)})],x);let P=(()=>{class $e{constructor(ve,he){this.selection=ve,this.descending=he,this.selectionId=null}static getCollator(){return $e._COLLATOR||($e._COLLATOR=new Intl.Collator),$e._COLLATOR}getEditOperations(ve,he){const le=function V($e,ae,ve){const he=O($e,ae,ve);return he?T.h.replace(new C.e(he.startLineNumber,1,he.endLineNumber,$e.getLineMaxColumn(he.endLineNumber)),he.after.join("\n")):null}(ve,this.selection,this.descending);le&&he.addEditOperation(le.range,le.text),this.selectionId=he.trackSelection(this.selection)}computeCursorState(ve,he){return he.getTrackedSelection(this.selectionId)}static canRun(ve,he,le){if(null===ve)return!1;const Q=O(ve,he,le);if(!Q)return!1;for(let Ce=0,Pe=Q.before.length;Ce<Pe;Ce++)if(Q.before[Ce]!==Q.after[Ce])return!0;return!1}}return $e._COLLATOR=null,$e})();function O($e,ae,ve){const he=ae.startLineNumber;let le=ae.endLineNumber;if(1===ae.endColumn&&le--,he>=le)return null;const Q=[];for(let Pe=he;Pe<=le;Pe++)Q.push($e.getLineContent(Pe));let Ce=Q.slice(0);return Ce.sort(P.getCollator().compare),!0===ve&&(Ce=Ce.reverse()),{startLineNumber:he,endLineNumber:le,before:Q,after:Ce}}var H=e(55197),z=e(74918);class k extends l.R6{constructor(ae,ve){super(ve),this.down=ae}run(ae,ve){if(!ve.hasModel())return;const he=ve.getSelections().map((Ce,Pe)=>({selection:Ce,index:Pe,ignore:!1}));he.sort((Ce,Pe)=>C.e.compareRangesUsingStarts(Ce.selection,Pe.selection));let le=he[0];for(let Ce=1;Ce<he.length;Ce++){const Pe=he[Ce];le.selection.endLineNumber===Pe.selection.startLineNumber&&(le.index<Pe.index?Pe.ignore=!0:(le.ignore=!0,le=Pe))}const Q=[];for(const Ce of he)Q.push(new t(Ce.selection,this.down,Ce.ignore));ve.pushUndoStop(),ve.executeCommands(this.id,Q),ve.pushUndoStop()}}class K extends l.R6{constructor(){super({id:"editor.action.duplicateSelection",label:H.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:c.u.writable,menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(ae,ve,he){if(!ve.hasModel())return;const le=[],Q=ve.getSelections(),Ce=ve.getModel();for(const Pe of Q)if(Pe.isEmpty())le.push(new t(Pe,!0));else{const dt=new m.Y(Pe.endLineNumber,Pe.endColumn,Pe.endLineNumber,Pe.endColumn);le.push(new S.OY(dt,Ce.getValueInRange(Pe)))}ve.pushUndoStop(),ve.executeCommands(this.id,le),ve.pushUndoStop()}}class U extends l.R6{constructor(ae,ve){super(ve),this.down=ae}run(ae,ve){const he=ae.get(u.c_),le=[],Q=ve.getSelections()||[],Ce=ve.getOption(9);for(const Pe of Q)le.push(new x(Pe,this.down,Ce,he));ve.pushUndoStop(),ve.executeCommands(this.id,le),ve.pushUndoStop()}}class W extends l.R6{constructor(ae,ve){super(ve),this.descending=ae}run(ae,ve){const he=ve.getSelections()||[];for(const Q of he)if(!P.canRun(ve.getModel(),Q,this.descending))return;const le=[];for(let Q=0,Ce=he.length;Q<Ce;Q++)le[Q]=new P(he[Q],this.descending);ve.pushUndoStop(),ve.executeCommands(this.id,le),ve.pushUndoStop()}}class Z extends W{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:H.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:c.u.writable})}}class ge extends W{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:H.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:c.u.writable})}}class M extends l.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:H.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:c.u.writable})}run(ae,ve){if(!ve.hasModel())return;const he=ve.getModel();if(1===he.getLineCount()&&1===he.getLineMaxColumn(1))return;const le=[],Q=[];let Ce=0;for(const Pe of ve.getSelections()){const dt=new Set,st=[];for(let vt=Pe.startLineNumber;vt<=Pe.endLineNumber;vt++){const mt=he.getLineContent(vt);dt.has(mt)||(st.push(mt),dt.add(mt))}const qe=new m.Y(Pe.startLineNumber,1,Pe.endLineNumber,he.getLineMaxColumn(Pe.endLineNumber)),Qe=Pe.startLineNumber-Ce,et=new m.Y(Qe,1,Qe+st.length-1,st[st.length-1].length);le.push(T.h.replace(qe,st.join("\n"))),Q.push(et),Ce+=Pe.endLineNumber-Pe.startLineNumber+1-st.length}ve.pushUndoStop(),ve.executeEdits(this.id,le,Q),ve.pushUndoStop()}}let we=(()=>{class $e extends l.R6{constructor(){super({id:$e.ID,label:H.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:(0,d.gx)(2089,2102),weight:100}})}run(ve,he,le){let Q=[];"auto-save"===le.reason&&(Q=(he.getSelections()||[]).map(dt=>new s.L(dt.positionLineNumber,dt.positionColumn)));const Ce=he.getSelection();if(null===Ce)return;const Pe=new E(Ce,Q);he.pushUndoStop(),he.executeCommands(this.id,[Pe]),he.pushUndoStop()}}return $e.ID="editor.action.trimTrailingWhitespace",$e})();class Ee extends l.R6{constructor(){super({id:"editor.action.deleteLines",label:H.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:3113,weight:100}})}run(ae,ve){if(!ve.hasModel())return;const he=this._getLinesToRemove(ve),le=ve.getModel();if(1===le.getLineCount()&&1===le.getLineMaxColumn(1))return;let Q=0;const Ce=[],Pe=[];for(let dt=0,st=he.length;dt<st;dt++){const qe=he[dt];let Qe=qe.startLineNumber,et=qe.endLineNumber,vt=1,mt=le.getLineMaxColumn(et);et<le.getLineCount()?(et+=1,mt=1):Qe>1&&(Qe-=1,vt=le.getLineMaxColumn(Qe)),Ce.push(T.h.replace(new m.Y(Qe,vt,et,mt),"")),Pe.push(new m.Y(Qe-Q,qe.positionColumn,Qe-Q,qe.positionColumn)),Q+=qe.endLineNumber-qe.startLineNumber+1}ve.pushUndoStop(),ve.executeEdits(this.id,Ce,Pe),ve.pushUndoStop()}_getLinesToRemove(ae){const ve=ae.getSelections().map(Q=>{let Ce=Q.endLineNumber;return Q.startLineNumber<Q.endLineNumber&&1===Q.endColumn&&(Ce-=1),{startLineNumber:Q.startLineNumber,selectionStartColumn:Q.selectionStartColumn,endLineNumber:Ce,positionColumn:Q.positionColumn}});ve.sort((Q,Ce)=>Q.startLineNumber===Ce.startLineNumber?Q.endLineNumber-Ce.endLineNumber:Q.startLineNumber-Ce.startLineNumber);const he=[];let le=ve[0];for(let Q=1;Q<ve.length;Q++)le.endLineNumber+1>=ve[Q].startLineNumber?le.endLineNumber=ve[Q].endLineNumber:(he.push(le),le=ve[Q]);return he.push(le),he}}class xe extends l.R6{constructor(){super({id:"editor.action.indentLines",label:H.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2137,weight:100}})}run(ae,ve){const he=ve._getViewModel();!he||(ve.pushUndoStop(),ve.executeCommands(this.id,_.u6.indent(he.cursorConfig,ve.getModel(),ve.getSelections())),ve.pushUndoStop())}}class oe extends l.R6{constructor(){super({id:"editor.action.insertLineBefore",label:H.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:3075,weight:100}})}run(ae,ve){const he=ve._getViewModel();!he||(ve.pushUndoStop(),ve.executeCommands(this.id,_.u6.lineInsertBefore(he.cursorConfig,ve.getModel(),ve.getSelections())))}}class Se extends l.R6{constructor(){super({id:"editor.action.insertLineAfter",label:H.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2051,weight:100}})}run(ae,ve){const he=ve._getViewModel();!he||(ve.pushUndoStop(),ve.executeCommands(this.id,_.u6.lineInsertAfter(he.cursorConfig,ve.getModel(),ve.getSelections())))}}class Ie extends l.R6{run(ae,ve){if(!ve.hasModel())return;const he=ve.getSelection(),le=this._getRangesToDelete(ve),Q=[];for(let dt=0,st=le.length-1;dt<st;dt++){const qe=le[dt],Qe=le[dt+1];null===C.e.intersectRanges(qe,Qe)?Q.push(qe):le[dt+1]=C.e.plusRange(qe,Qe)}Q.push(le[le.length-1]);const Ce=this._getEndCursorState(he,Q),Pe=Q.map(dt=>T.h.replace(dt,""));ve.pushUndoStop(),ve.executeEdits(this.id,Pe,Ce),ve.pushUndoStop()}}class me extends Ie{constructor(){super({id:"deleteAllLeft",label:H.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(ae,ve){let he=null;const le=[];let Q=0;return ve.forEach(Ce=>{let Pe;if(1===Ce.endColumn&&Q>0){const dt=Ce.startLineNumber-Q;Pe=new m.Y(dt,Ce.startColumn,dt,Ce.startColumn)}else Pe=new m.Y(Ce.startLineNumber,Ce.startColumn,Ce.startLineNumber,Ce.startColumn);Q+=Ce.endLineNumber-Ce.startLineNumber,Ce.intersectRanges(ae)?he=Pe:le.push(Pe)}),he&&le.unshift(he),le}_getRangesToDelete(ae){const ve=ae.getSelections();if(null===ve)return[];let he=ve;const le=ae.getModel();return null===le?[]:(he.sort(C.e.compareRangesUsingStarts),he=he.map(Q=>{if(Q.isEmpty()){if(1===Q.startColumn){const Ce=Math.max(1,Q.startLineNumber-1),Pe=1===Q.startLineNumber?1:le.getLineContent(Ce).length+1;return new C.e(Ce,Pe,Q.startLineNumber,1)}return new C.e(Q.startLineNumber,1,Q.startLineNumber,Q.startColumn)}return new C.e(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn)}),he)}}class Me extends Ie{constructor(){super({id:"deleteAllRight",label:H.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(ae,ve){let he=null;const le=[];for(let Q=0,Ce=ve.length,Pe=0;Q<Ce;Q++){const dt=ve[Q],st=new m.Y(dt.startLineNumber-Pe,dt.startColumn,dt.startLineNumber-Pe,dt.startColumn);dt.intersectRanges(ae)?he=st:le.push(st)}return he&&le.unshift(he),le}_getRangesToDelete(ae){const ve=ae.getModel();if(null===ve)return[];const he=ae.getSelections();if(null===he)return[];const le=he.map(Q=>{if(Q.isEmpty()){const Ce=ve.getLineMaxColumn(Q.startLineNumber);return Q.startColumn===Ce?new C.e(Q.startLineNumber,Q.startColumn,Q.startLineNumber+1,1):new C.e(Q.startLineNumber,Q.startColumn,Q.startLineNumber,Ce)}return Q});return le.sort(C.e.compareRangesUsingStarts),le}}class de extends l.R6{constructor(){super({id:"editor.action.joinLines",label:H.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(ae,ve){const he=ve.getSelections();if(null===he)return;let le=ve.getSelection();if(null===le)return;he.sort(C.e.compareRangesUsingStarts);const Q=[],Ce=he.reduce((et,vt)=>et.isEmpty()?et.endLineNumber===vt.startLineNumber?(le.equalsSelection(et)&&(le=vt),vt):vt.startLineNumber>et.endLineNumber+1?(Q.push(et),vt):new m.Y(et.startLineNumber,et.startColumn,vt.endLineNumber,vt.endColumn):vt.startLineNumber>et.endLineNumber?(Q.push(et),vt):new m.Y(et.startLineNumber,et.startColumn,vt.endLineNumber,vt.endColumn));Q.push(Ce);const Pe=ve.getModel();if(null===Pe)return;const dt=[],st=[];let qe=le,Qe=0;for(let et=0,vt=Q.length;et<vt;et++){const mt=Q[et],_t=mt.startLineNumber,$t=1;let Ke,ht,Bt=0;const jt=Pe.getLineContent(mt.endLineNumber).length-mt.endColumn;if(mt.isEmpty()||mt.startLineNumber===mt.endLineNumber){const yt=mt.getStartPosition();yt.lineNumber<Pe.getLineCount()?(Ke=_t+1,ht=Pe.getLineMaxColumn(Ke)):(Ke=yt.lineNumber,ht=Pe.getLineMaxColumn(yt.lineNumber))}else Ke=mt.endLineNumber,ht=Pe.getLineMaxColumn(Ke);let fn=Pe.getLineContent(_t);for(let yt=_t+1;yt<=Ke;yt++){const He=Pe.getLineContent(yt),ye=Pe.getLineFirstNonWhitespaceColumn(yt);if(ye>=1){let Ae=!0;""===fn&&(Ae=!1),Ae&&(" "===fn.charAt(fn.length-1)||"\t"===fn.charAt(fn.length-1))&&(Ae=!1,fn=fn.replace(/[\s\uFEFF\xA0]+$/g," "));const ue=He.substr(ye-1);fn+=(Ae?" ":"")+ue,Bt=Ae?ue.length+1:ue.length}else Bt=0}const Dn=new C.e(_t,$t,Ke,ht);if(!Dn.isEmpty()){let yt;mt.isEmpty()?(dt.push(T.h.replace(Dn,fn)),yt=new m.Y(Dn.startLineNumber-Qe,fn.length-Bt+1,_t-Qe,fn.length-Bt+1)):mt.startLineNumber===mt.endLineNumber?(dt.push(T.h.replace(Dn,fn)),yt=new m.Y(mt.startLineNumber-Qe,mt.startColumn,mt.endLineNumber-Qe,mt.endColumn)):(dt.push(T.h.replace(Dn,fn)),yt=new m.Y(mt.startLineNumber-Qe,mt.startColumn,mt.startLineNumber-Qe,fn.length-jt)),null!==C.e.intersectRanges(Dn,le)?qe=yt:st.push(yt)}Qe+=Dn.endLineNumber-Dn.startLineNumber}st.unshift(qe),ve.pushUndoStop(),ve.executeEdits(this.id,dt,st),ve.pushUndoStop()}}class ke extends l.R6{constructor(){super({id:"editor.action.transpose",label:H.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:c.u.writable})}run(ae,ve){const he=ve.getSelections();if(null===he)return;const le=ve.getModel();if(null===le)return;const Q=[];for(let Ce=0,Pe=he.length;Ce<Pe;Ce++){const dt=he[Ce];if(!dt.isEmpty())continue;const st=dt.getStartPosition(),qe=le.getLineMaxColumn(st.lineNumber);if(st.column>=qe){if(st.lineNumber===le.getLineCount())continue;const Qe=new C.e(st.lineNumber,Math.max(1,st.column-1),st.lineNumber+1,1),et=le.getValueInRange(Qe).split("").reverse().join("");Q.push(new S.T4(new m.Y(st.lineNumber,Math.max(1,st.column-1),st.lineNumber+1,1),et))}else{const Qe=new C.e(st.lineNumber,Math.max(1,st.column-1),st.lineNumber,st.column+1),et=le.getValueInRange(Qe).split("").reverse().join("");Q.push(new S.hP(Qe,et,new m.Y(st.lineNumber,st.column+1,st.lineNumber,st.column+1)))}}ve.pushUndoStop(),ve.executeCommands(this.id,Q),ve.pushUndoStop()}}class Ue extends l.R6{run(ae,ve){const he=ve.getSelections();if(null===he)return;const le=ve.getModel();if(null===le)return;const Q=ve.getOption(119),Ce=[];for(const Pe of he)if(Pe.isEmpty()){const dt=Pe.getStartPosition(),st=ve.getConfiguredWordAtPosition(dt);if(!st)continue;const qe=new C.e(dt.lineNumber,st.startColumn,dt.lineNumber,st.endColumn),Qe=le.getValueInRange(qe);Ce.push(T.h.replace(qe,this._modifyText(Qe,Q)))}else{const dt=le.getValueInRange(Pe);Ce.push(T.h.replace(Pe,this._modifyText(dt,Q)))}ve.pushUndoStop(),ve.executeEdits(this.id,Ce),ve.pushUndoStop()}}class ze extends Ue{constructor(){super({id:"editor.action.transformToUppercase",label:H.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:c.u.writable})}_modifyText(ae,ve){return ae.toLocaleUpperCase()}}class ce extends Ue{constructor(){super({id:"editor.action.transformToLowercase",label:H.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:c.u.writable})}_modifyText(ae,ve){return ae.toLocaleLowerCase()}}class Ve{constructor(ae,ve){this._pattern=ae,this._flags=ve,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class tt extends Ue{constructor(){super({id:"editor.action.transformToTitlecase",label:H.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:c.u.writable})}_modifyText(ae,ve){const he=tt.titleBoundary.get();return he?ae.toLocaleLowerCase().replace(he,le=>le.toLocaleUpperCase()):ae}}tt.titleBoundary=new Ve("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Ct extends Ue{constructor(){super({id:"editor.action.transformToSnakecase",label:H.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:c.u.writable})}_modifyText(ae,ve){const he=Ct.caseBoundary.get(),le=Ct.singleLetters.get();return he&&le?ae.replace(he,"$1_$2").replace(le,"$1_$2$3").toLocaleLowerCase():ae}}Ct.caseBoundary=new Ve("(\\p{Ll})(\\p{Lu})","gmu"),Ct.singleLetters=new Ve("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Lt extends Ue{constructor(){super({id:"editor.action.transformToKebabcase",label:H.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:c.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(ve=>ve.isSupported())}_modifyText(ae,ve){const he=Lt.caseBoundary.get(),le=Lt.singleLetters.get(),Q=Lt.underscoreBoundary.get();return he&&le&&Q?ae.replace(Q,"$1-$3").replace(he,"$1-$2").replace(le,"$1-$2").toLocaleLowerCase():ae}}Lt.caseBoundary=new Ve("(\\p{Ll})(\\p{Lu})","gmu"),Lt.singleLetters=new Ve("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Lt.underscoreBoundary=new Ve("(\\S)(_)(\\S)","gm"),(0,l.Qr)(class F extends k{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:H.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,l.Qr)(class j extends k{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:H.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,l.Qr)(K),(0,l.Qr)(class ne extends U{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:H.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,l.Qr)(class N extends U{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:H.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,l.Qr)(Z),(0,l.Qr)(ge),(0,l.Qr)(M),(0,l.Qr)(we),(0,l.Qr)(Ee),(0,l.Qr)(xe),(0,l.Qr)(class Ne extends l.R6{constructor(){super({id:"editor.action.outdentLines",label:H.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2135,weight:100}})}run(ae,ve){n.CoreEditingCommands.Outdent.runEditorCommand(ae,ve,null)}}),(0,l.Qr)(oe),(0,l.Qr)(Se),(0,l.Qr)(me),(0,l.Qr)(Me),(0,l.Qr)(de),(0,l.Qr)(ke),(0,l.Qr)(ze),(0,l.Qr)(ce),Ct.caseBoundary.isSupported()&&Ct.singleLetters.isSupported()&&(0,l.Qr)(Ct),tt.titleBoundary.isSupported()&&(0,l.Qr)(tt),Lt.isSupported()&&(0,l.Qr)(Lt)},52610:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:()=>H,LinkedEditingAction:()=>F,LinkedEditingContribution:()=>k,editorLinkedEditingBackground:()=>U});var d=e(64023),n=e(48648),l=e(73888),S=e(69355),v=e(4125),T=e(3778),C=e(80142),E=e(73879),L=e(59547),_=e(26845),s=e(33745),m=e(18723),c=e(98570),t=e(82290),a=e(59758),p=e(94911),u=e(55197),g=e(16468),b=e(4062),y=e(40902),w=e(90790),D=e(79095),x=e(631),O=function(ne,N){return function(W,Z){N(W,Z,ne)}},V=function(ne,N,W,Z){return new(W||(W=Promise))(function(M,we){function Ee(oe){try{Ne(Z.next(oe))}catch(Se){we(Se)}}function xe(oe){try{Ne(Z.throw(oe))}catch(Se){we(Se)}}function Ne(oe){oe.done?M(oe.value):function ge(M){return M instanceof W?M:new W(function(we){we(M)})}(oe.value).then(Ee,xe)}Ne((Z=Z.apply(ne,N||[])).next())})};const H=new g.uy("LinkedEditingInputVisible",!1),z="linked-editing-decoration";let k=class Od extends C.JT{constructor(N,W,Z,ge,M){super(),this.languageConfigurationService=ge,this._syncRangesToken=0,this._localToDispose=this._register(new C.SL),this._editor=N,this._providers=Z.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=H.bindTo(W),this._debounceInformation=M.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new C.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(we=>{(we.hasChanged(64)||we.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(N){return N.getContribution(Od.ID)}reinitialize(N){const W=this._editor.getModel(),Z=null!==W&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(W);if(Z===this._enabled&&!N||(this._enabled=Z,this.clearRanges(),this._localToDispose.clear(),!Z||null===W))return;this._localToDispose.add(T.ju.runAndSubscribe(W.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(W.getLanguageId()).getWordDefinition()}));const ge=new n.vp(this._debounceInformation.get(W)),M=()=>{var xe;this._rangeUpdateTriggerPromise=ge.trigger(()=>this.updateRanges(),null!==(xe=this._debounceDuration)&&void 0!==xe?xe:this._debounceInformation.get(W))},we=new n.vp(0),Ee=xe=>{this._rangeSyncTriggerPromise=we.trigger(()=>this._syncRanges(xe))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{M()})),this._localToDispose.add(this._editor.onDidChangeModelContent(xe=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const Ne=this._currentDecorations.getRange(0);if(Ne&&xe.changes.every(oe=>Ne.intersectRanges(oe.range)))return void Ee(this._syncRangesToken)}M()})),this._localToDispose.add({dispose:()=>{ge.dispose(),we.dispose()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._syncRangesToken||0===this._currentDecorations.length)return;const W=this._editor.getModel(),Z=this._currentDecorations.getRange(0);if(!Z||Z.startLineNumber!==Z.endLineNumber)return this.clearRanges();const ge=W.getValueInRange(Z);if(this._currentWordPattern){const we=ge.match(this._currentWordPattern);if((we?we[0].length:0)!==ge.length)return this.clearRanges()}const M=[];for(let we=1,Ee=this._currentDecorations.length;we<Ee;we++){const xe=this._currentDecorations.getRange(we);if(xe)if(xe.startLineNumber!==xe.endLineNumber)M.push({range:xe,text:ge});else{let Ne=W.getValueInRange(xe),oe=ge,Se=xe.startColumn,Ie=xe.endColumn;const me=E.Mh(Ne,oe);Se+=me,Ne=Ne.substr(me),oe=oe.substr(me);const Me=E.P1(Ne,oe);Ie-=Me,Ne=Ne.substr(0,Ne.length-Me),oe=oe.substr(0,oe.length-Me),(Se!==Ie||0!==oe.length)&&M.push({range:new c.e(xe.startLineNumber,Se,xe.endLineNumber,Ie),text:oe})}}if(0!==M.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const we=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",M),this._editor._getViewModel().setPrevEditOperationType(we)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(N=!1){return V(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const W=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1)return void this.clearRanges();const Z=this._editor.getModel(),ge=Z.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===ge){if(W.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const we=this._currentDecorations.getRange(0);if(we&&we.containsPosition(W))return}}this._currentRequestPosition=W,this._currentRequestModelVersion=ge;const M=(0,n.PG)(we=>V(this,void 0,void 0,function*(){try{const Ee=new x.G(!1),xe=yield K(this._providers,Z,W,we);if(this._debounceInformation.update(Z,Ee.elapsed()),M!==this._currentRequest||(this._currentRequest=null,ge!==Z.getVersionId()))return;let Ne=[];xe?.ranges&&(Ne=xe.ranges),this._currentWordPattern=xe?.wordPattern||this._languageWordPattern;let oe=!1;for(let Ie=0,me=Ne.length;Ie<me;Ie++)if(c.e.containsPosition(Ne[Ie],W)){if(oe=!0,0!==Ie){const Me=Ne[Ie];Ne.splice(Ie,1),Ne.unshift(Me)}break}if(!oe)return void this.clearRanges();const Se=Ne.map(Ie=>({range:Ie,options:Od.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(Se),this._syncRangesToken++}catch(Ee){(0,v.n2)(Ee)||(0,v.dL)(Ee),(this._currentRequest===M||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=M,M})}};k.ID="editor.contrib.linkedEditing",k.DECORATION=a.qx.register({description:"linked-editing",stickiness:0,className:z}),k=function(ne,N,W,Z){var we,ge=arguments.length,M=ge<3?N:null===Z?Z=Object.getOwnPropertyDescriptor(N,W):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(ne,N,W,Z);else for(var Ee=ne.length-1;Ee>=0;Ee--)(we=ne[Ee])&&(M=(ge<3?we(M):ge>3?we(N,W,M):we(N,W))||M);return ge>3&&M&&Object.defineProperty(N,W,M),M}([O(1,g.i6),O(2,w.p),O(3,p.c_),O(4,D.A)],k);class F extends _.R6{constructor(){super({id:"editor.action.linkedEditing",label:u.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:g.Ao.and(t.u.writable,t.u.hasRenameProvider),kbOpts:{kbExpr:t.u.editorTextFocus,primary:3132,weight:100}})}runCommand(N,W){const Z=N.get(s.$),[ge,M]=Array.isArray(W)&&W||[void 0,void 0];return L.o.isUri(ge)&&m.L.isIPosition(M)?Z.openCodeEditor({resource:ge},Z.getActiveCodeEditor()).then(we=>{!we||(we.setPosition(M),we.invokeWithinContext(Ee=>(this.reportTelemetry(Ee,we),this.run(Ee,we))))},v.dL):super.runCommand(N,W)}run(N,W){const Z=k.get(W);return Z?Promise.resolve(Z.updateRanges(!0)):Promise.resolve()}}const j=_._l.bindToContribution(k.get);function K(ne,N,W,Z){const ge=ne.ordered(N);return(0,n.Ps)(ge.map(M=>()=>V(this,void 0,void 0,function*(){try{return yield M.provideLinkedEditingRanges(N,W,Z)}catch(we){return void(0,v.Cp)(we)}})),M=>!!M&&d.Of(M?.ranges))}(0,_.fK)(new j({id:"cancelLinkedEditingInput",precondition:H,handler:ne=>ne.clearRanges(),kbOpts:{kbExpr:t.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const U=(0,b.P6G)("editor.linkedEditingBackground",{dark:S.Il.fromHex("#f00").transparent(.3),light:S.Il.fromHex("#f00").transparent(.3),hcDark:S.Il.fromHex("#f00").transparent(.3),hcLight:S.Il.white},u.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,y.Ic)((ne,N)=>{const W=ne.getColor(U);W&&N.addRule(`.monaco-editor .${z} { background: ${W}; border-left-color: ${W}; }`)}),(0,_.sb)("_executeLinkedEditingProvider",(ne,N,W)=>{const{linkedEditingRangeProvider:Z}=ne.get(w.p);return K(Z,N,W,l.T.None)}),(0,_._K)(k.ID,k),(0,_.Qr)(F)},76224:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{LinkDetector:()=>de});var d=e(48648),n=e(73888),l=e(4125),S=e(48701),v=e(80142),T=e(59310),C=e(8841),E=e(40734),L=e(631),_=e(59547),s=e(57856),m=e.n(s),c=e(38470),t=e.n(c),a=e(43370),p=e.n(a),u=e(28458),g=e.n(u),b=e(71278),y=e.n(b),w=e(29488),D=e.n(w),x=e(98061),P={};P.styleTagTransform=D(),P.setAttributes=g(),P.insert=p().bind(null,"head"),P.domAPI=t(),P.insertStyleElement=y(),m()(x.Z,P);var H=e(26845),z=e(59758),k=e(79095),F=e(90790),j=e(46170),K=e(64023),U=e(72715),ne=e(98570),N=e(59602),W=e(66549),Z=function(Ve,tt,Ct,Lt){return new(Ct||(Ct=Promise))(function(ae,ve){function he(Ce){try{Q(Lt.next(Ce))}catch(Pe){ve(Pe)}}function le(Ce){try{Q(Lt.throw(Ce))}catch(Pe){ve(Pe)}}function Q(Ce){Ce.done?ae(Ce.value):function $e(ae){return ae instanceof Ct?ae:new Ct(function(ve){ve(ae)})}(Ce.value).then(he,le)}Q((Lt=Lt.apply(Ve,tt||[])).next())})};class ge{constructor(tt,Ct){this._link=tt,this._provider=Ct}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(tt){return Z(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,tt)).then(Ct=>(this._link=Ct||this._link,this._link.url?this.resolve(tt):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class M{constructor(tt){this._disposables=new v.SL;let Ct=[];for(const[Lt,$e]of tt){const ae=Lt.links.map(ve=>new ge(ve,$e));Ct=M._union(Ct,ae),(0,v.Wf)(Lt)&&this._disposables.add(Lt)}this.links=Ct}dispose(){this._disposables.dispose(),this.links.length=0}static _union(tt,Ct){const Lt=[];let $e,ae,ve,he;for($e=0,ve=0,ae=tt.length,he=Ct.length;$e<ae&&ve<he;){const le=tt[$e],Q=Ct[ve];ne.e.areIntersectingOrTouching(le.range,Q.range)?$e++:ne.e.compareRangesUsingStarts(le.range,Q.range)<0?(Lt.push(le),$e++):(Lt.push(Q),ve++)}for(;$e<ae;$e++)Lt.push(tt[$e]);for(;ve<he;ve++)Lt.push(Ct[ve]);return Lt}}function we(Ve,tt,Ct){const Lt=[],$e=Ve.ordered(tt).reverse().map((ae,ve)=>Promise.resolve(ae.provideLinks(tt,Ct)).then(he=>{he&&(Lt[ve]=[he,ae])},l.Cp));return Promise.all($e).then(()=>{const ae=new M((0,K.kX)(Lt));return Ct.isCancellationRequested?(ae.dispose(),new M([])):ae})}W.P0.registerCommand("_executeLinkProvider",(Ve,...tt)=>Z(void 0,void 0,void 0,function*(){let[Ct,Lt]=tt;(0,U.p_)(Ct instanceof _.o),"number"!=typeof Lt&&(Lt=0);const{linkProvider:$e}=Ve.get(F.p),ae=Ve.get(N.q).getModel(Ct);if(!ae)return[];const ve=yield we($e,ae,n.T.None);if(!ve)return[];for(let le=0;le<Math.min(Lt,ve.links.length);le++)yield ve.links[le].resolve(n.T.None);const he=ve.links.slice(0);return ve.dispose(),he}));var Ee=e(55197),xe=e(54436),Ne=e(44827),oe=e(4062),Se=e(40902),me=function(Ve,tt){return function(Ct,Lt){tt(Ct,Lt,Ve)}};let de=class Ec extends v.JT{constructor(tt,Ct,Lt,$e,ae){super(),this.editor=tt,this.openerService=Ct,this.notificationService=Lt,this.languageFeaturesService=$e,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=ae.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new d.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const ve=this._register(new j.yN(tt));this._register(ve.onMouseMoveOrRelevantKeyDown(([he,le])=>{this._onEditorMouseMove(he,le)})),this._register(ve.onExecute(he=>{this.onEditorMouseUp(he)})),this._register(ve.onCancel(he=>{this.cleanUpActiveLinkDecoration()})),this._register(tt.onDidChangeConfiguration(he=>{!he.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(tt.onDidChangeModelContent(he=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(tt.onDidChangeModel(he=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(tt.onDidChangeModelLanguage(he=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(he=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(tt){return tt.getContribution(Ec.ID)}computeLinksNow(){return Ve=this,tt=void 0,Lt=function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const tt=this.editor.getModel();if(this.providers.has(tt)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,d.PG)(Ct=>we(this.providers,tt,Ct));try{const Ct=new L.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(tt,Ct.elapsed()),tt.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(Ct){(0,l.dL)(Ct)}finally{this.computePromise=null}}},new((Ct=void 0)||(Ct=Promise))(function(ae,ve){function he(Ce){try{Q(Lt.next(Ce))}catch(Pe){ve(Pe)}}function le(Ce){try{Q(Lt.throw(Ce))}catch(Pe){ve(Pe)}}function Q(Ce){Ce.done?ae(Ce.value):function $e(ae){return ae instanceof Ct?ae:new Ct(function(ve){ve(ae)})}(Ce.value).then(he,le)}Q((Lt=Lt.apply(Ve,tt||[])).next())});var Ve,tt,Ct,Lt}updateDecorations(tt){const Ct="altKey"===this.editor.getOption(72),Lt=[],$e=Object.keys(this.currentOccurrences);for(const ve of $e)Lt.push(this.currentOccurrences[ve].decorationId);const ae=[];if(tt)for(const ve of tt)ae.push(Ue.decoration(ve,Ct));this.editor.changeDecorations(ve=>{const he=ve.deltaDecorations(Lt,ae);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let le=0,Q=he.length;le<Q;le++){const Ce=new Ue(tt[le],he[le]);this.currentOccurrences[Ce.decorationId]=Ce}})}_onEditorMouseMove(tt,Ct){const Lt="altKey"===this.editor.getOption(72);if(this.isEnabled(tt,Ct)){this.cleanUpActiveLinkDecoration();const $e=this.getLinkOccurrence(tt.target.position);$e&&this.editor.changeDecorations(ae=>{$e.activate(ae,Lt),this.activeLinkDecorationId=$e.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const tt="altKey"===this.editor.getOption(72);if(this.activeLinkDecorationId){const Ct=this.currentOccurrences[this.activeLinkDecorationId];Ct&&this.editor.changeDecorations(Lt=>{Ct.deactivate(Lt,tt)}),this.activeLinkDecorationId=null}}onEditorMouseUp(tt){if(!this.isEnabled(tt))return;const Ct=this.getLinkOccurrence(tt.target.position);!Ct||this.openLinkOccurrence(Ct,tt.hasSideBySideModifier,!0)}openLinkOccurrence(tt,Ct,Lt=!1){if(!this.openerService)return;const{link:$e}=tt;$e.resolve(n.T.None).then(ae=>{if("string"==typeof ae&&this.editor.hasModel()){const ve=this.editor.getModel().uri;if(ve.scheme===T.lg.file&&ae.startsWith(`${T.lg.file}:`)){const he=_.o.parse(ae);if(he.scheme===T.lg.file){const le=E.z_(he);let Q=null;le.startsWith("/./")?Q=`.${le.substr(1)}`:le.startsWith("//./")&&(Q=`.${le.substr(2)}`),Q&&(ae=E.Vo(ve,Q))}}}return this.openerService.open(ae,{openToSide:Ct,fromUserGesture:Lt,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},ae=>{const ve=ae instanceof Error?ae.message:ae;"invalid"===ve?this.notificationService.warn(Ee.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",$e.url.toString())):"missing"===ve?this.notificationService.warn(Ee.NC("missing.url","Failed to open this link because its target is missing.")):(0,l.dL)(ae)})}getLinkOccurrence(tt){if(!this.editor.hasModel()||!tt)return null;const Ct=this.editor.getModel().getDecorationsInRange({startLineNumber:tt.lineNumber,startColumn:tt.column,endLineNumber:tt.lineNumber,endColumn:tt.column},0,!0);for(const Lt of Ct){const $e=this.currentOccurrences[Lt.id];if($e)return $e}return null}isEnabled(tt,Ct){return Boolean(6===tt.target.type&&(tt.hasTriggerModifier||Ct&&Ct.keyCodeIsTriggerKey))}stop(){var tt;this.computeLinks.cancel(),this.activeLinksList&&(null===(tt=this.activeLinksList)||void 0===tt||tt.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};de.ID="editor.linkDetector",de=function(Ve,tt,Ct,Lt){var ve,$e=arguments.length,ae=$e<3?tt:null===Lt?Lt=Object.getOwnPropertyDescriptor(tt,Ct):Lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(Ve,tt,Ct,Lt);else for(var he=Ve.length-1;he>=0;he--)(ve=Ve[he])&&(ae=($e<3?ve(ae):$e>3?ve(tt,Ct,ae):ve(tt,Ct))||ae);return $e>3&&ae&&Object.defineProperty(tt,Ct,ae),ae}([me(1,Ne.v4),me(2,xe.lT),me(3,F.p),me(4,k.A)],de);const ke={general:z.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:z.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Ue{constructor(tt,Ct){this.link=tt,this.decorationId=Ct}static decoration(tt,Ct){return{range:tt.range,options:Ue._getOptions(tt,Ct,!1)}}static _getOptions(tt,Ct,Lt){const $e=Object.assign({},Lt?ke.active:ke.general);return $e.hoverMessage=function ze(Ve,tt){const Ct=Ve.url&&/^command:/i.test(Ve.url.toString()),Lt=Ve.tooltip?Ve.tooltip:Ct?Ee.NC("links.navigate.executeCmd","Execute command"):Ee.NC("links.navigate.follow","Follow link"),$e=tt?C.dz?Ee.NC("links.navigate.kb.meta.mac","cmd + click"):Ee.NC("links.navigate.kb.meta","ctrl + click"):C.dz?Ee.NC("links.navigate.kb.alt.mac","option + click"):Ee.NC("links.navigate.kb.alt","alt + click");if(Ve.url){let ae="";if(/^command:/i.test(Ve.url.toString())){const he=Ve.url.toString().match(/^command:([^?#]+)/);he&&(ae=Ee.NC("tooltip.explanation","Execute command {0}",he[1]))}return new S.W5("",!0).appendLink(Ve.url.toString(!0).replace(/ /g,"%20"),Lt,ae).appendMarkdown(` (${$e})`)}return(new S.W5).appendText(`${Lt} (${$e})`)}(tt,Ct),$e}activate(tt,Ct){tt.changeDecorationOptions(this.decorationId,Ue._getOptions(this.link,Ct,!0))}deactivate(tt,Ct){tt.changeDecorationOptions(this.decorationId,Ue._getOptions(this.link,Ct,!1))}}(0,H._K)(de.ID,de),(0,H.Qr)(class ce extends H.R6{constructor(){super({id:"editor.action.openLink",label:Ee.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(tt,Ct){const Lt=de.get(Ct);if(!Lt||!Ct.hasModel())return;const $e=Ct.getSelections();for(const ae of $e){const ve=Lt.getLinkOccurrence(ae.getEndPosition());ve&&Lt.openLinkOccurrence(ve,!1)}}}),(0,Se.Ic)((Ve,tt)=>{const Ct=Ve.getColor(oe._Yy);Ct&&tt.addRule(`.monaco-editor .detected-link-active { color: ${Ct} !important; }`)})},29739:(Dt,Y,e)=>{"use strict";e.d(Y,{$:()=>U});var d=e(98463),n=e(44043),l=e(75366),S=e(86998),v=e(97340),T=e(97139),C=e(4125),E=e(3778),L=e(48701),_=e(59882),s=e(84575),m=e(80142),c=e(26662),t=e(61408),a=e(59310),p=e(6276),u=e(40734),g=e(73879),b=e(59547);function y(ne,N={},W={}){var Z;const ge=new m.SL;let M=!1;const we=(0,S.az)(N),Ee=function(de){let ke;try{ke=(0,t.Q)(decodeURIComponent(de))}catch{}return ke?(ke=(0,p.rs)(ke,Ue=>{if(ne.uris&&ne.uris[Ue])return b.o.revive(ne.uris[Ue])}),encodeURIComponent(JSON.stringify(ke))):de},xe=function(de,ke){let ze=b.o.revive(ne.uris&&ne.uris[de]);return ke?de.startsWith(a.lg.data+":")?de:(ze||(ze=b.o.parse(de)),a.Gi.asBrowserUri(ze).toString(!0)):ze&&b.o.parse(de).toString()!==ze.toString()?(ze.query&&(ze=ze.with({query:Ee(ze.query)})),ze.toString()):de},Ne=new c.T.Renderer;Ne.image=(de,ke,Ue)=>{let ze=[],ce=[];return de&&(({href:de,dimensions:ze}=(0,L.v1)(de)),ce.push(`src="${(0,L.d9)(de)}"`)),Ue&&ce.push(`alt="${(0,L.d9)(Ue)}"`),ke&&ce.push(`title="${(0,L.d9)(ke)}"`),ze.length&&(ce=ce.concat(ze)),"<img "+ce.join(" ")+">"},Ne.link=(de,ke,Ue)=>"string"!=typeof de?"":(de===Ue&&(Ue=(0,L.oR)(Ue)),ke="string"==typeof ke?(0,L.d9)((0,L.oR)(ke)):"",`<a href="${de=(de=(0,L.oR)(de)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${ke||de}">${Ue}</a>`),Ne.paragraph=de=>`<p>${de}</p>`;const oe=[];if(N.codeBlockRenderer&&(Ne.code=(de,ke)=>{const Ue=s.a.nextId(),ze=N.codeBlockRenderer(ke??"",de);return oe.push(ze.then(ce=>[Ue,ce])),`<div class="code" data-code="${Ue}">${(0,g.YU)(de)}</div>`}),N.actionHandler){const de=N.actionHandler.disposables.add(new l.Y(we,"click")),ke=N.actionHandler.disposables.add(new l.Y(we,"auxclick"));N.actionHandler.disposables.add(E.ju.any(de.event,ke.event)(Ue=>{const ze=new v.n(Ue);if(!ze.leftButton&&!ze.middleButton)return;let ce=ze.target;if("A"===ce.tagName||(ce=ce.parentElement,ce&&"A"===ce.tagName))try{let Ve=ce.dataset.href;Ve&&(ne.baseUri&&(Ve=w(b.o.from(ne.baseUri),Ve)),N.actionHandler.callback(Ve,ze))}catch(Ve){(0,C.dL)(Ve)}finally{ze.preventDefault()}}))}ne.supportHtml||(W.sanitizer=de=>(ne.isTrusted?de.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?de:"",W.sanitize=!0,W.silent=!0),W.renderer=Ne;let Se=null!==(Z=ne.value)&&void 0!==Z?Z:"";Se.length>1e5&&(Se=`${Se.substr(0,1e5)}\u2026`),ne.supportThemeIcons&&(Se=(0,_.f$)(Se));let Ie=c.T.parse(Se,W);ne.supportThemeIcons&&(Ie=(0,T.T)(Ie).map(ke=>"string"==typeof ke?ke:ke.outerHTML).join(""));const Me=(new DOMParser).parseFromString(D(ne,Ie),"text/html");if(Me.body.querySelectorAll("img").forEach(de=>{const ke=de.getAttribute("src");if(ke){let Ue=ke;try{ne.baseUri&&(Ue=w(b.o.from(ne.baseUri),Ue))}catch{}de.src=xe(Ue,!0)}}),Me.body.querySelectorAll("a").forEach(de=>{const ke=de.getAttribute("href");if(de.setAttribute("href",""),!ke||/^data:|javascript:/i.test(ke)||/^command:/i.test(ke)&&!ne.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ke))de.replaceWith(...de.childNodes);else{let Ue=xe(ke,!1);ne.baseUri&&(Ue=w(b.o.from(ne.baseUri),ke)),de.dataset.href=Ue}}),we.innerHTML=D(ne,Me.body.innerHTML),oe.length>0&&Promise.all(oe).then(de=>{var ke,Ue;if(M)return;const ze=new Map(de),ce=we.querySelectorAll("div[data-code]");for(const Ve of ce){const tt=ze.get(null!==(ke=Ve.dataset.code)&&void 0!==ke?ke:"");tt&&d.mc(Ve,tt)}null===(Ue=N.asyncRenderCallback)||void 0===Ue||Ue.call(N)}),N.asyncRenderCallback)for(const de of we.getElementsByTagName("img")){const ke=ge.add(d.nm(de,"load",()=>{ke.dispose(),N.asyncRenderCallback()}))}return{element:we,dispose:()=>{M=!0,ge.dispose()}}}function w(ne,N){return/^\w[\w\d+.-]*:/.test(N)?N:ne.path.endsWith("/")?(0,u.i3)(ne,N).toString():(0,u.i3)((0,u.XX)(ne),N).toString()}function D(ne,N){const{config:W,allowedSchemes:Z}=function x(ne){const N=[a.lg.http,a.lg.https,a.lg.mailto,a.lg.data,a.lg.file,a.lg.vscodeFileResource,a.lg.vscodeRemote,a.lg.vscodeRemoteResource];return ne.isTrusted&&N.push(a.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:N}}(ne);n.v5("uponSanitizeAttribute",(M,we)=>{if("style"!==we.attrName&&"class"!==we.attrName);else{if("SPAN"===M.tagName){if("style"===we.attrName)return void(we.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(we.attrValue));if("class"===we.attrName)return void(we.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(we.attrValue))}we.keepAttr=!1}});const ge=d._F(Z);try{return n.Nw(N,Object.assign(Object.assign({},W),{RETURN_TRUSTED_TYPE:!0}))}finally{n.ok("uponSanitizeAttribute"),ge.dispose()}}var K,P=e(44827),O=e(45358),V=e(90076),H=e(44716),z=e(72188),F=function(ne,N){return function(W,Z){N(W,Z,ne)}};let U=class Lc{constructor(N,W,Z){this._options=N,this._languageService=W,this._openerService=Z,this._onDidRenderAsync=new E.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(N,W,Z){if(!N)return{element:document.createElement("span"),dispose:()=>{}};const ge=new m.SL;return{element:ge.add(y(N,Object.assign(Object.assign({},this._getRenderOptions(N,ge)),W),Z)).element,dispose:()=>ge.dispose()}}_getRenderOptions(N,W){return{codeBlockRenderer:(Z,ge)=>function(ne,N,W,Z){return new(W||(W=Promise))(function(M,we){function Ee(oe){try{Ne(Z.next(oe))}catch(Se){we(Se)}}function xe(oe){try{Ne(Z.throw(oe))}catch(Se){we(Se)}}function Ne(oe){oe.done?M(oe.value):function ge(M){return M instanceof W?M:new W(function(we){we(M)})}(oe.value).then(Ee,xe)}Ne((Z=Z.apply(ne,N||[])).next())})}(this,void 0,void 0,function*(){var M,we,Ee;let xe;Z?xe=this._languageService.getLanguageIdByLanguageName(Z):this._options.editor&&(xe=null===(M=this._options.editor.getModel())||void 0===M?void 0:M.getLanguageId()),xe||(xe=z.bd);const Ne=yield(0,V.C2)(this._languageService,ge,xe),oe=document.createElement("span");if(oe.innerHTML=null!==(Ee=null===(we=Lc._ttpTokenizer)||void 0===we?void 0:we.createHTML(Ne))&&void 0!==Ee?Ee:Ne,this._options.editor){const Se=this._options.editor.getOption(46);(0,H.N)(oe,Se)}else this._options.codeBlockFontFamily&&(oe.style.fontFamily=this._options.codeBlockFontFamily);return void 0!==this._options.codeBlockFontSize&&(oe.style.fontSize=this._options.codeBlockFontSize),oe}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:Z=>this._openerService.open(Z,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:N.isTrusted}).catch(C.dL),disposables:W}}}};U._ttpTokenizer=null===(K=window.trustedTypes)||void 0===K?void 0:K.createPolicy("tokenizeToString",{createHTML:ne=>ne}),U=function(ne,N,W,Z){var we,ge=arguments.length,M=ge<3?N:null===Z?Z=Object.getOwnPropertyDescriptor(N,W):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(ne,N,W,Z);else for(var Ee=ne.length-1;Ee>=0;Ee--)(we=ne[Ee])&&(M=(ge<3?we(M):ge>3?we(N,W,M):we(N,W))||M);return ge>3&&M&&Object.defineProperty(N,W,M),M}([F(1,O.O),F(2,P.v4)],U)},54007:(Dt,Y,e)=>{"use strict";e.d(Y,{O:()=>V});var d=e(59797),n=e(48648),l=e(80142),S=e(57856),v=e.n(S),T=e(38470),C=e.n(T),E=e(43370),L=e.n(E),_=e(28458),s=e.n(_),m=e(71278),c=e.n(m),t=e(29488),a=e.n(t),p=e(80572),u={};u.styleTagTransform=a(),u.setAttributes=s(),u.insert=L().bind(null,"head"),u.domAPI=C(),u.insertStyleElement=c(),v()(p.Z,u);var y=e(26845),w=e(98570),D=e(55197),x=e(16468);let V=class kd{constructor(F,j){this._messageWidget=new l.XK,this._messageListeners=new l.SL,this._editor=F,this._visible=kd.MESSAGE_VISIBLE.bindTo(j)}static get(F){return F.getContribution(kd.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(F,j){let K;(0,d.Z9)(F),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new z(this._editor,j,F),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new n._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(U=>{!U.target.position||(K?K.containsPosition(U.target.position)||this.closeMessage():K=new w.e(j.lineNumber-3,1,U.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(z.fadeOut(this._messageWidget.value))}};var F;V.ID="editor.contrib.messageController",V.MESSAGE_VISIBLE=new x.uy("messageVisible",!1,D.NC("messageVisible","Whether the editor is currently showing an inline message")),V=function(k,F,j,K){var N,U=arguments.length,ne=U<3?F:null===K?K=Object.getOwnPropertyDescriptor(F,j):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(k,F,j,K);else for(var W=k.length-1;W>=0;W--)(N=k[W])&&(ne=(U<3?N(ne):U>3?N(F,j,ne):N(F,j))||ne);return U>3&&ne&&Object.defineProperty(F,j,ne),ne}([(1,F=x.i6,function(j,K){F(j,K,1)})],V);const H=y._l.bindToContribution(V.get);(0,y.fK)(new H({id:"leaveEditorMessage",precondition:V.MESSAGE_VISIBLE,handler:k=>k.closeMessage(),kbOpts:{weight:130,primary:9}}));class z{constructor(F,{lineNumber:j,column:K},U){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=F,this._editor.revealLinesInCenterIfOutsideViewport(j,j,0),this._position={lineNumber:j,column:K},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const ne=document.createElement("div");ne.classList.add("anchor","top"),this._domNode.appendChild(ne);const N=document.createElement("div");N.classList.add("message"),N.textContent=U,this._domNode.appendChild(N);const W=document.createElement("div");W.classList.add("anchor","below"),this._domNode.appendChild(W),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(F){const j=()=>{F.dispose(),clearTimeout(K),F.getDomNode().removeEventListener("animationend",j)},K=setTimeout(j,110);return F.getDomNode().addEventListener("animationend",j),F.getDomNode().classList.add("fadeOut"),{dispose:j}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(F){this._domNode.classList.toggle("below",2===F)}}(0,y._K)(V.ID,V)},57714:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{AddSelectionToNextFindMatchAction:()=>j,AddSelectionToPreviousFindMatchAction:()=>K,CompatChangeAll:()=>W,FocusNextCursor:()=>Ee,FocusPreviousCursor:()=>xe,InsertCursorAbove:()=>D,InsertCursorBelow:()=>x,MoveSelectionToNextFindMatchAction:()=>U,MoveSelectionToPreviousFindMatchAction:()=>ne,MultiCursorSelectionController:()=>k,MultiCursorSelectionControllerAction:()=>F,MultiCursorSession:()=>z,MultiCursorSessionResult:()=>H,SelectHighlightsAction:()=>N,SelectionHighlighter:()=>ge});var d=e(59797),n=e(48648),l=e(53993),S=e(80142),v=e(26845),T=e(21073),C=e(98570),E=e(7233),L=e(82290),_=e(47629),s=e(59758),m=e(88014),c=e(55197),t=e(74918),a=e(16468),p=e(4062),u=e(40902),g=e(90790);function w(Ne,oe){const Se=oe.filter(Ie=>!Ne.find(me=>me.equals(Ie)));if(Se.length>=1){const Ie=Se.map(Me=>`line ${Me.viewState.position.lineNumber} column ${Me.viewState.position.column}`).join(", "),me=1===Se.length?c.NC("cursorAdded","Cursor added: {0}",Ie):c.NC("cursorsAdded","Cursors added: {0}",Ie);(0,d.i7)(me)}}class D extends v.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:c.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:t.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(oe,Se,Ie){if(!Se.hasModel())return;let me=!0;Ie&&!1===Ie.logicalLine&&(me=!1);const Me=Se._getViewModel();if(Me.cursorConfig.readOnly)return;Me.model.pushStackElement();const de=Me.getCursorStates();Me.setCursorStates(Ie.source,3,T.P.addCursorUp(Me,de,me)),Me.revealTopMostCursor(Ie.source),w(de,Me.getCursorStates())}}class x extends v.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:c.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:t.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(oe,Se,Ie){if(!Se.hasModel())return;let me=!0;Ie&&!1===Ie.logicalLine&&(me=!1);const Me=Se._getViewModel();if(Me.cursorConfig.readOnly)return;Me.model.pushStackElement();const de=Me.getCursorStates();Me.setCursorStates(Ie.source,3,T.P.addCursorDown(Me,de,me)),Me.revealBottomMostCursor(Ie.source),w(de,Me.getCursorStates())}}class H{constructor(oe,Se,Ie){this.selections=oe,this.revealRange=Se,this.revealScrollType=Ie}}class z{constructor(oe,Se,Ie,me,Me,de,ke){this._editor=oe,this.findController=Se,this.isDisconnectedFromFindController=Ie,this.searchText=me,this.wholeWord=Me,this.matchCase=de,this.currentMatch=ke}static create(oe,Se){if(!oe.hasModel())return null;const Ie=Se.getState();if(!oe.hasTextFocus()&&Ie.isRevealed&&Ie.searchString.length>0)return new z(oe,Se,!1,Ie.searchString,Ie.wholeWord,Ie.matchCase,null);let Me,de,me=!1;const ke=oe.getSelections();1===ke.length&&ke[0].isEmpty()?(me=!0,Me=!0,de=!0):(Me=Ie.wholeWord,de=Ie.matchCase);const Ue=oe.getSelection();let ze,ce=null;if(Ue.isEmpty()){const Ve=oe.getConfiguredWordAtPosition(Ue.getStartPosition());if(!Ve)return null;ze=Ve.word,ce=new E.Y(Ue.startLineNumber,Ve.startColumn,Ue.startLineNumber,Ve.endColumn)}else ze=oe.getModel().getValueInRange(Ue).replace(/\r\n/g,"\n");return new z(oe,Se,me,ze,Me,de,ce)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getNextMatch();if(!oe)return null;const Se=this._editor.getSelections();return new H(Se.concat(oe),oe,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getNextMatch();if(!oe)return null;const Se=this._editor.getSelections();return new H(Se.slice(0,Se.length-1).concat(oe),oe,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const me=this.currentMatch;return this.currentMatch=null,me}this.findController.highlightFindOptions();const oe=this._editor.getSelections(),Se=oe[oe.length-1],Ie=this._editor.getModel().findNextMatch(this.searchText,Se.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Ie?new E.Y(Ie.range.startLineNumber,Ie.range.startColumn,Ie.range.endLineNumber,Ie.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getPreviousMatch();if(!oe)return null;const Se=this._editor.getSelections();return new H(Se.concat(oe),oe,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getPreviousMatch();if(!oe)return null;const Se=this._editor.getSelections();return new H(Se.slice(0,Se.length-1).concat(oe),oe,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const me=this.currentMatch;return this.currentMatch=null,me}this.findController.highlightFindOptions();const oe=this._editor.getSelections(),Se=oe[oe.length-1],Ie=this._editor.getModel().findPreviousMatch(this.searchText,Se.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Ie?new E.Y(Ie.range.startLineNumber,Ie.range.startColumn,Ie.range.endLineNumber,Ie.range.endColumn):null}selectAll(oe){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();return this._editor.getModel().findMatches(this.searchText,oe||!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}let k=(()=>{class Ne extends S.JT{constructor(Se){super(),this._sessionDispose=this._register(new S.SL),this._editor=Se,this._ignoreSelectionChange=!1,this._session=null}static get(Se){return Se.getContribution(Ne.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(Se){if(!this._session){const Ie=z.create(this._editor,Se);if(!Ie)return;this._session=Ie;const me={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(me.wholeWordOverride=1,me.matchCaseOverride=1,me.isRegexOverride=2),Se.getState().change(me,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Me=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(Se.getState().onFindReplaceStateChange(Me=>{(Me.matchCase||Me.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const Se={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(Se,!1)}this._session=null}_setSelections(Se){this._ignoreSelectionChange=!0,this._editor.setSelections(Se),this._ignoreSelectionChange=!1}_expandEmptyToWord(Se,Ie){if(!Ie.isEmpty())return Ie;const me=this._editor.getConfiguredWordAtPosition(Ie.getStartPosition());return me?new E.Y(Ie.startLineNumber,me.startColumn,Ie.startLineNumber,me.endColumn):Ie}_applySessionResult(Se){!Se||(this._setSelections(Se.selections),Se.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(Se.revealRange,Se.revealScrollType))}getSession(Se){return this._session}addSelectionToNextFindMatch(Se){if(this._editor.hasModel()){if(!this._session){const Ie=this._editor.getSelections();if(Ie.length>1){const Me=Se.getState().matchCase;if(!M(this._editor.getModel(),Ie,Me)){const ke=this._editor.getModel(),Ue=[];for(let ze=0,ce=Ie.length;ze<ce;ze++)Ue[ze]=this._expandEmptyToWord(ke,Ie[ze]);return void this._editor.setSelections(Ue)}}}this._beginSessionIfNeeded(Se),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(Se){this._beginSessionIfNeeded(Se),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(Se){this._beginSessionIfNeeded(Se),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(Se){this._beginSessionIfNeeded(Se),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(Se){if(!this._editor.hasModel())return;let Ie=null;const me=Se.getState();if(me.isRevealed&&me.searchString.length>0&&me.isRegex){Ie=this._editor.getModel().findMatches(me.searchString,!me.searchScope||me.searchScope,me.isRegex,me.matchCase,me.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(Se),!this._session)return;Ie=this._session.selectAll(me.searchScope)}if(Ie.length>0){const Me=this._editor.getSelection();for(let de=0,ke=Ie.length;de<ke;de++){const Ue=Ie[de];if(Ue.range.intersectRanges(Me)){Ie[de]=Ie[0],Ie[0]=Ue;break}}this._setSelections(Ie.map(de=>new E.Y(de.range.startLineNumber,de.range.startColumn,de.range.endLineNumber,de.range.endColumn)))}}}return Ne.ID="editor.contrib.multiCursorController",Ne})();class F extends v.R6{run(oe,Se){const Ie=k.get(Se);if(!Ie)return;const me=m.CommonFindController.get(Se);if(!me)return;const Me=Se._getViewModel();if(Me){const de=Me.getCursorStates();this._run(Ie,me),w(de,Me.getCursorStates())}}}class j extends F{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:c.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:2082,weight:100},menuOpts:{menuId:t.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(oe,Se){oe.addSelectionToNextFindMatch(Se)}}class K extends F{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:c.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:t.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(oe,Se){oe.addSelectionToPreviousFindMatch(Se)}}class U extends F{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:c.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:(0,l.gx)(2089,2082),weight:100}})}_run(oe,Se){oe.moveSelectionToNextFindMatch(Se)}}class ne extends F{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:c.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(oe,Se){oe.moveSelectionToPreviousFindMatch(Se)}}class N extends F{constructor(){super({id:"editor.action.selectHighlights",label:c.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:3114,weight:100},menuOpts:{menuId:t.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(oe,Se){oe.selectAll(Se)}}class W extends F{constructor(){super({id:"editor.action.changeAll",label:c.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:a.Ao.and(L.u.writable,L.u.editorTextFocus),kbOpts:{kbExpr:L.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(oe,Se){oe.selectAll(Se)}}class Z{constructor(oe,Se,Ie,me,Me){this._model=oe,this._searchText=Se,this._matchCase=Ie,this._wordSeparators=me,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Me&&this._model===Me._model&&this._searchText===Me._searchText&&this._matchCase===Me._matchCase&&this._wordSeparators===Me._wordSeparators&&this._modelVersionId===Me._modelVersionId&&(this._cachedFindMatches=Me._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(oe=>oe.range),this._cachedFindMatches.sort(C.e.compareRangesUsingStarts)),this._cachedFindMatches}}let ge=class od extends S.JT{constructor(oe,Se){super(),this._languageFeaturesService=Se,this.editor=oe,this._isEnabled=oe.getOption(99),this._decorations=oe.createDecorationsCollection(),this.updateSoon=this._register(new n.pY(()=>this._update(),300)),this.state=null,this._register(oe.onDidChangeConfiguration(me=>{this._isEnabled=oe.getOption(99)})),this._register(oe.onDidChangeCursorSelection(me=>{!this._isEnabled||(me.selection.isEmpty()?3===me.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(oe.onDidChangeModel(me=>{this._setState(null)})),this._register(oe.onDidChangeModelContent(me=>{this._isEnabled&&this.updateSoon.schedule()}));const Ie=m.CommonFindController.get(oe);Ie&&this._register(Ie.getState().onFindReplaceStateChange(me=>{this._update()}))}_update(){this._setState(od._createState(this.state,this._isEnabled,this.editor))}static _createState(oe,Se,Ie){if(!Se||!Ie.hasModel())return null;const me=Ie.getSelection();if(me.startLineNumber!==me.endLineNumber)return null;const Me=k.get(Ie);if(!Me)return null;const de=m.CommonFindController.get(Ie);if(!de)return null;let ke=Me.getSession(de);if(!ke){const ce=Ie.getSelections();if(ce.length>1){const tt=de.getState().matchCase;if(!M(Ie.getModel(),ce,tt))return null}ke=z.create(Ie,de)}if(!ke||ke.currentMatch||/^[ \t]+$/.test(ke.searchText)||ke.searchText.length>200)return null;const Ue=de.getState(),ze=Ue.matchCase;if(Ue.isRevealed){let ce=Ue.searchString;ze||(ce=ce.toLowerCase());let Ve=ke.searchText;if(ze||(Ve=Ve.toLowerCase()),ce===Ve&&ke.matchCase===Ue.matchCase&&ke.wholeWord===Ue.wholeWord&&!Ue.isRegex)return null}return new Z(Ie.getModel(),ke.searchText,ke.matchCase,ke.wholeWord?Ie.getOption(119):null,oe)}_setState(oe){if(this.state=oe,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const Se=this.editor.getModel();if(Se.isTooLargeForTokenization())return;const Ie=this.state.findMatches(),me=this.editor.getSelections();me.sort(C.e.compareRangesUsingStarts);const Me=[];for(let Ue=0,ze=0,ce=Ie.length,Ve=me.length;Ue<ce;){const tt=Ie[Ue];if(ze>=Ve)Me.push(tt),Ue++;else{const Ct=C.e.compareRangesUsingStarts(tt,me[ze]);Ct<0?((me[ze].isEmpty()||!C.e.areIntersecting(tt,me[ze]))&&Me.push(tt),Ue++):(Ct>0||Ue++,ze++)}}const de=this._languageFeaturesService.documentHighlightProvider.has(Se)&&this.editor.getOption(74),ke=Me.map(Ue=>({range:Ue,options:de?od._SELECTION_HIGHLIGHT:od._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(ke)}dispose(){this._setState(null),super.dispose()}};var oe;function M(Ne,oe,Se){const Ie=we(Ne,oe[0],!Se);for(let me=1,Me=oe.length;me<Me;me++){const de=oe[me];if(de.isEmpty())return!1;if(Ie!==we(Ne,de,!Se))return!1}return!0}function we(Ne,oe,Se){const Ie=Ne.getValueInRange(oe);return Se?Ie.toLowerCase():Ie}ge.ID="editor.contrib.selectionHighlighter",ge._SELECTION_HIGHLIGHT_OVERVIEW=s.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,u.EN)(p.IYc),position:_.F5.Inline},overviewRuler:{color:(0,u.EN)(p.SPM),position:_.sh.Center}}),ge._SELECTION_HIGHLIGHT=s.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),ge=function(Ne,oe,Se,Ie){var de,me=arguments.length,Me=me<3?oe:null===Ie?Ie=Object.getOwnPropertyDescriptor(oe,Se):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Me=Reflect.decorate(Ne,oe,Se,Ie);else for(var ke=Ne.length-1;ke>=0;ke--)(de=Ne[ke])&&(Me=(me<3?de(Me):me>3?de(oe,Se,Me):de(oe,Se))||Me);return me>3&&Me&&Object.defineProperty(oe,Se,Me),Me}([(1,oe=g.p,function(Se,Ie){oe(Se,Ie,1)})],ge);class Ee extends v.R6{constructor(){super({id:"editor.action.focusNextCursor",label:c.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:c.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(oe,Se,Ie){if(!Se.hasModel())return;const me=Se._getViewModel();if(me.cursorConfig.readOnly)return;me.model.pushStackElement();const Me=Array.from(me.getCursorStates()),de=Me.shift();!de||(Me.push(de),me.setCursorStates(Ie.source,3,Me),me.revealPrimaryCursor(Ie.source,!0),w(Me,me.getCursorStates()))}}class xe extends v.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:c.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:c.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(oe,Se,Ie){if(!Se.hasModel())return;const me=Se._getViewModel();if(me.cursorConfig.readOnly)return;me.model.pushStackElement();const Me=Array.from(me.getCursorStates()),de=Me.pop();!de||(Me.unshift(de),me.setCursorStates(Ie.source,3,Me),me.revealPrimaryCursor(Ie.source,!0),w(Me,me.getCursorStates()))}}(0,v._K)(k.ID,k),(0,v._K)(ge.ID,ge),(0,v.Qr)(D),(0,v.Qr)(x),(0,v.Qr)(class P extends v.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:c.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:t.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(oe,Se,Ie){if(!oe.isEmpty()){for(let me=oe.startLineNumber;me<oe.endLineNumber;me++){const Me=Se.getLineMaxColumn(me);Ie.push(new E.Y(me,Me,me,Me))}oe.endColumn>1&&Ie.push(new E.Y(oe.endLineNumber,oe.endColumn,oe.endLineNumber,oe.endColumn))}}run(oe,Se){if(!Se.hasModel())return;const Ie=Se.getModel(),me=Se.getSelections(),Me=Se._getViewModel(),de=Me.getCursorStates(),ke=[];me.forEach(Ue=>this.getCursorsForSelection(Ue,Ie,ke)),ke.length>0&&Se.setSelections(ke),w(de,Me.getCursorStates())}}),(0,v.Qr)(j),(0,v.Qr)(K),(0,v.Qr)(U),(0,v.Qr)(ne),(0,v.Qr)(N),(0,v.Qr)(W),(0,v.Qr)(class O extends v.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:c.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(oe,Se){if(!Se.hasModel())return;const Ie=Se.getSelections(),me=Se.getModel().getLineCount(),Me=[];for(let Ue=Ie[0].startLineNumber;Ue<=me;Ue++)Me.push(new E.Y(Ue,Ie[0].startColumn,Ue,Ie[0].endColumn));const de=Se._getViewModel(),ke=de.getCursorStates();Me.length>0&&Se.setSelections(Me),w(ke,de.getCursorStates())}}),(0,v.Qr)(class V extends v.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:c.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(oe,Se){if(!Se.hasModel())return;const Ie=Se.getSelections(),me=[];for(let ke=Ie[0].startLineNumber;ke>=1;ke--)me.push(new E.Y(ke,Ie[0].startColumn,ke,Ie[0].endColumn));const Me=Se._getViewModel(),de=Me.getCursorStates();me.length>0&&Se.setSelections(me),w(de,Me.getCursorStates())}}),(0,v.Qr)(Ee),(0,v.Qr)(xe)},69066:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{TriggerParameterHintsAction:()=>Ce});var d=e(80142),n=e(26845),l=e(82290),S=e(45337),v=e(73888),T=e(4125),C=e(72715),E=e(59547),L=e(18723),_=e(90790),s=e(1149),m=e(66549),c=e(16468),t=function(st,qe,Qe,et){return new(Qe||(Qe=Promise))(function(mt,_t){function $t(ht){try{Ke(et.next(ht))}catch(jt){_t(jt)}}function Bt(ht){try{Ke(et.throw(ht))}catch(jt){_t(jt)}}function Ke(ht){ht.done?mt(ht.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ht.value).then($t,Bt)}Ke((et=et.apply(st,qe||[])).next())})};const a={Visible:new c.uy("parameterHintsVisible",!1),MultipleSignatures:new c.uy("parameterHintsMultipleSignatures",!1)};function p(st,qe,Qe,et,vt){return t(this,void 0,void 0,function*(){const mt=st.ordered(qe);for(const _t of mt)try{const $t=yield _t.provideSignatureHelp(qe,Qe,vt,et);if($t)return $t}catch($t){(0,T.Cp)($t)}})}m.P0.registerCommand("_executeSignatureHelpProvider",(st,...qe)=>t(void 0,void 0,void 0,function*(){const[Qe,et,vt]=qe;(0,C.p_)(E.o.isUri(Qe)),(0,C.p_)(L.L.isIPosition(et)),(0,C.p_)("string"==typeof vt||!vt);const mt=st.get(_.p),_t=yield st.get(s.S).createModelReference(Qe);try{const $t=yield p(mt.signatureHelpProvider,_t.object.textEditorModel,L.L.lift(et),{triggerKind:S.WW.Invoke,isRetrigger:!1,triggerCharacter:vt},v.T.None);return $t?(setTimeout(()=>$t.dispose(),0),$t.value):void 0}finally{_t.dispose()}}));var u=e(55197),g=e(9265),b=e(98463),y=e(59797),w=e(3067),D=e(58783),x=e(3778),P=e(73879),O=e(57856),V=e.n(O),H=e(38470),z=e.n(H),k=e(43370),F=e.n(k),j=e(28458),K=e.n(j),U=e(71278),ne=e.n(U),N=e(29488),W=e.n(N),Z=e(7111),ge={};ge.styleTagTransform=W(),ge.setAttributes=K(),ge.insert=F().bind(null,"head"),ge.domAPI=z(),ge.insertStyleElement=ne(),V()(Z.Z,ge);var Ie,Ee=e(45358),xe=e(29739),Ne=e(48648),oe=e(81742);!function(st){st.Default={type:0},st.Pending=class qe{constructor(vt,mt){this.request=vt,this.previouslyActiveHints=mt,this.type=2}},st.Active=class Qe{constructor(vt){this.hints=vt,this.type=1}}}(Ie||(Ie={}));let me=(()=>{class st extends d.JT{constructor(Qe,et,vt=st.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new x.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Ie.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new d.XK),this.triggerChars=new oe.q,this.retriggerChars=new oe.q,this.triggerId=0,this.editor=Qe,this.providers=et,this.throttledDelayer=new Ne.vp(vt),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(mt=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(mt=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(mt=>this.onCursorChange(mt))),this._register(this.editor.onDidChangeModelContent(mt=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(mt=>this.onDidType(mt))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(Qe){2===this._state.type&&this._state.request.cancel(),this._state=Qe}cancel(Qe=!1){this.state=Ie.Default,this.throttledDelayer.cancel(),Qe||this._onChangedHints.fire(void 0)}trigger(Qe,et){const vt=this.editor.getModel();if(!vt||!this.providers.has(vt))return;const mt=++this.triggerId;this._pendingTriggers.push(Qe),this.throttledDelayer.trigger(()=>this.doTrigger(mt),et).catch(T.dL)}next(){if(1!==this.state.type)return;const Qe=this.state.hints.signatures.length,et=this.state.hints.activeSignature,vt=et%Qe==Qe-1,mt=this.editor.getOption(78).cycle;!(Qe<2||vt)||mt?this.updateActiveSignature(vt&&mt?0:et+1):this.cancel()}previous(){if(1!==this.state.type)return;const Qe=this.state.hints.signatures.length,et=this.state.hints.activeSignature,vt=0===et,mt=this.editor.getOption(78).cycle;!(Qe<2||vt)||mt?this.updateActiveSignature(vt&&mt?Qe-1:et-1):this.cancel()}updateActiveSignature(Qe){1===this.state.type&&(this.state=new Ie.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:Qe})),this._onChangedHints.fire(this.state.hints))}doTrigger(Qe){return function(st,qe,Qe,et){return new(Qe||(Qe=Promise))(function(mt,_t){function $t(ht){try{Ke(et.next(ht))}catch(jt){_t(jt)}}function Bt(ht){try{Ke(et.throw(ht))}catch(jt){_t(jt)}}function Ke(ht){ht.done?mt(ht.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ht.value).then($t,Bt)}Ke((et=et.apply(st,qe||[])).next())})}(this,void 0,void 0,function*(){const et=1===this.state.type||2===this.state.type,vt=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const mt=this._pendingTriggers.reduce(Me);this._pendingTriggers=[];const _t={triggerKind:mt.triggerKind,triggerCharacter:mt.triggerCharacter,isRetrigger:et,activeSignatureHelp:vt};if(!this.editor.hasModel())return!1;const $t=this.editor.getModel(),Bt=this.editor.getPosition();this.state=new Ie.Pending((0,Ne.PG)(Ke=>p(this.providers,$t,Bt,_t,Ke)),vt);try{const Ke=yield this.state.request;return Qe!==this.triggerId?(Ke?.dispose(),!1):Ke&&Ke.value.signatures&&0!==Ke.value.signatures.length?(this.state=new Ie.Active(Ke.value),this._lastSignatureHelpResult.value=Ke,this._onChangedHints.fire(this.state.hints),!0):(Ke?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(Ke){return Qe===this.triggerId&&(this.state=Ie.Default),(0,T.dL)(Ke),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new oe.q,this.retriggerChars=new oe.q;const Qe=this.editor.getModel();if(Qe)for(const et of this.providers.ordered(Qe)){for(const vt of et.signatureHelpTriggerCharacters||[])this.triggerChars.add(vt.charCodeAt(0)),this.retriggerChars.add(vt.charCodeAt(0));for(const vt of et.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(vt.charCodeAt(0))}}onDidType(Qe){if(!this.triggerOnType)return;const et=Qe.length-1,vt=Qe.charCodeAt(et);(this.triggerChars.has(vt)||this.isTriggered&&this.retriggerChars.has(vt))&&this.trigger({triggerKind:S.WW.TriggerCharacter,triggerCharacter:Qe.charAt(et)})}onCursorChange(Qe){"mouse"===Qe.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return st.DEFAULT_DELAY=120,st})();function Me(st,qe){switch(qe.triggerKind){case S.WW.Invoke:return qe;case S.WW.ContentChange:return st;default:return qe}}var de=e(44827),ke=e(4062),Ue=e(66287),ze=e(18034),ce=e(40902),tt=function(st,qe){return function(Qe,et){qe(Qe,et,st)}};const Ct=b.$,Lt=(0,Ue.q5)("parameter-hints-next",D.lA.chevronDown,u.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),$e=(0,Ue.q5)("parameter-hints-previous",D.lA.chevronUp,u.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let ae=class xc extends d.JT{constructor(qe,Qe,et,vt,mt){super(),this.editor=qe,this.renderDisposeables=this._register(new d.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new xe.$({editor:qe},vt,et)),this.model=this._register(new me(qe,mt.signatureHelpProvider)),this.keyVisible=a.Visible.bindTo(Qe),this.keyMultipleSignatures=a.MultipleSignatures.bindTo(Qe),this._register(this.model.onChangedHints(_t=>{_t?(this.show(),this.render(_t)):this.hide()}))}createParameterHintDOMNodes(){const qe=Ct(".editor-widget.parameter-hints-widget"),Qe=b.R3(qe,Ct(".phwrapper"));Qe.tabIndex=-1;const et=b.R3(Qe,Ct(".controls")),vt=b.R3(et,Ct(".button"+ce.kS.asCSSSelector($e))),mt=b.R3(et,Ct(".overloads")),_t=b.R3(et,Ct(".button"+ce.kS.asCSSSelector(Lt)));this._register(b.nm(vt,"click",fn=>{b.zB.stop(fn),this.previous()})),this._register(b.nm(_t,"click",fn=>{b.zB.stop(fn),this.next()}));const $t=Ct(".body"),Bt=new w.s$($t,{alwaysConsumeMouseWheel:!0});this._register(Bt),Qe.appendChild(Bt.getDomNode());const Ke=b.R3($t,Ct(".signature")),ht=b.R3($t,Ct(".docs"));qe.style.userSelect="text",this.domNodes={element:qe,signature:Ke,overloads:mt,docs:ht,scrollbar:Bt},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(fn=>{this.visible&&this.editor.layoutContentWidget(this)}));const jt=()=>{if(!this.domNodes)return;const fn=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${fn.fontSize}px`,this.domNodes.element.style.lineHeight=""+fn.lineHeight/fn.fontSize};jt(),this._register(x.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(fn=>fn.hasChanged(46)).on(jt,null)),this._register(this.editor.onDidLayoutChange(fn=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var qe;null===(qe=this.domNodes)||void 0===qe||qe.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var qe;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(qe=this.domNodes)||void 0===qe||qe.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(qe){var Qe;if(this.renderDisposeables.clear(),!this.domNodes)return;const et=qe.signatures.length>1;this.domNodes.element.classList.toggle("multiple",et),this.keyMultipleSignatures.set(et),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const vt=qe.signatures[qe.activeSignature];if(!vt)return;const mt=b.R3(this.domNodes.signature,Ct(".code")),_t=this.editor.getOption(46);mt.style.fontSize=`${_t.fontSize}px`,mt.style.fontFamily=_t.fontFamily;const Bt=null!==(Qe=vt.activeParameter)&&void 0!==Qe?Qe:qe.activeParameter;vt.parameters.length>0?this.renderParameters(mt,vt,Bt):b.R3(mt,Ct("span")).textContent=vt.label;const Ke=vt.parameters[Bt];if(Ke?.documentation){const jt=Ct("span.documentation");if("string"==typeof Ke.documentation)jt.textContent=Ke.documentation;else{const fn=this.renderMarkdownDocs(Ke.documentation);jt.appendChild(fn.element)}b.R3(this.domNodes.docs,Ct("p",{},jt))}if(void 0!==vt.documentation)if("string"==typeof vt.documentation)b.R3(this.domNodes.docs,Ct("p",{},vt.documentation));else{const jt=this.renderMarkdownDocs(vt.documentation);b.R3(this.domNodes.docs,jt.element)}const ht=this.hasDocs(vt,Ke);if(this.domNodes.signature.classList.toggle("has-docs",ht),this.domNodes.docs.classList.toggle("empty",!ht),this.domNodes.overloads.textContent=String(qe.activeSignature+1).padStart(qe.signatures.length.toString().length,"0")+"/"+qe.signatures.length,Ke){let jt="";const fn=vt.parameters[Bt];jt=Array.isArray(fn.label)?vt.label.substring(fn.label[0],fn.label[1]):fn.label,fn.documentation&&(jt+="string"==typeof fn.documentation?`, ${fn.documentation}`:`, ${fn.documentation.value}`),vt.documentation&&(jt+="string"==typeof vt.documentation?`, ${vt.documentation}`:`, ${vt.documentation.value}`),this.announcedLabel!==jt&&(y.Z9(u.NC("hint","{0}, hint",jt)),this.announcedLabel=jt)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(qe){const Qe=this.renderDisposeables.add(this.markdownRenderer.render(qe,{asyncRenderCallback:()=>{var et;null===(et=this.domNodes)||void 0===et||et.scrollbar.scanDomNode()}}));return Qe.element.classList.add("markdown-docs"),Qe}hasDocs(qe,Qe){return!!(Qe&&"string"==typeof Qe.documentation&&(0,C.cW)(Qe.documentation).length>0||Qe&&"object"==typeof Qe.documentation&&(0,C.cW)(Qe.documentation).value.length>0||qe.documentation&&"string"==typeof qe.documentation&&(0,C.cW)(qe.documentation).length>0||qe.documentation&&"object"==typeof qe.documentation&&(0,C.cW)(qe.documentation.value).length>0)}renderParameters(qe,Qe,et){const[vt,mt]=this.getParameterLabelOffsets(Qe,et),_t=document.createElement("span");_t.textContent=Qe.label.substring(0,vt);const $t=document.createElement("span");$t.textContent=Qe.label.substring(vt,mt),$t.className="parameter active";const Bt=document.createElement("span");Bt.textContent=Qe.label.substring(mt),b.R3(qe,_t,$t,Bt)}getParameterLabelOffsets(qe,Qe){const et=qe.parameters[Qe];if(et){if(Array.isArray(et.label))return et.label;if(et.label.length){const vt=new RegExp(`(\\W|^)${(0,P.ec)(et.label)}(?=\\W|$)`,"g");vt.test(qe.label);const mt=vt.lastIndex-et.label.length;return mt>=0?[mt,vt.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return xc.ID}trigger(qe){this.model.trigger(qe,0)}updateMaxHeight(){if(!this.domNodes)return;const Qe=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=Qe;const et=this.domNodes.element.getElementsByClassName("phwrapper");et.length&&(et[0].style.maxHeight=Qe)}};ae.ID="editor.widget.parameterHintsWidget",ae=function(st,qe,Qe,et){var _t,vt=arguments.length,mt=vt<3?qe:null===et?et=Object.getOwnPropertyDescriptor(qe,Qe):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,qe,Qe,et);else for(var $t=st.length-1;$t>=0;$t--)(_t=st[$t])&&(mt=(vt<3?_t(mt):vt>3?_t(qe,Qe,mt):_t(qe,Qe))||mt);return vt>3&&mt&&Object.defineProperty(qe,Qe,mt),mt}([tt(1,c.i6),tt(2,de.v4),tt(3,Ee.O),tt(4,_.p)],ae);const ve=(0,ke.P6G)("editorHoverWidget.highlightForeground",{dark:ke.Gwp,light:ke.Gwp,hcDark:ke.Gwp,hcLight:ke.Gwp},u.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,ce.Ic)((st,qe)=>{const Qe=st.getColor(ke.CNo);if(Qe){const Ke=(0,ze.c3)(st.type)?2:1;qe.addRule(`.monaco-editor .parameter-hints-widget { border: ${Ke}px solid ${Qe}; }`),qe.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${Qe.transparent(.5)}; }`),qe.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${Qe.transparent(.5)}; }`)}const et=st.getColor(ke.yJx);et&&qe.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${et}; }`);const vt=st.getColor(ke.url);vt&&qe.addRule(`.monaco-editor .parameter-hints-widget a { color: ${vt}; }`);const mt=st.getColor(ke.sgC);mt&&qe.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${mt}; }`);const _t=st.getColor(ke.Sbf);_t&&qe.addRule(`.monaco-editor .parameter-hints-widget { color: ${_t}; }`);const $t=st.getColor(ke.SwI);$t&&qe.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${$t}; }`);const Bt=st.getColor(ve);Bt&&qe.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Bt}}`)});let Q=class Ic extends d.JT{constructor(qe,Qe){super(),this.editor=qe,this.widget=this._register(Qe.createInstance(ae,this.editor))}static get(qe){return qe.getContribution(Ic.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(qe){this.widget.trigger(qe)}};var qe;Q.ID="editor.controller.parameterHints",Q=function(st,qe,Qe,et){var _t,vt=arguments.length,mt=vt<3?qe:null===et?et=Object.getOwnPropertyDescriptor(qe,Qe):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,qe,Qe,et);else for(var $t=st.length-1;$t>=0;$t--)(_t=st[$t])&&(mt=(vt<3?_t(mt):vt>3?_t(qe,Qe,mt):_t(qe,Qe))||mt);return vt>3&&mt&&Object.defineProperty(qe,Qe,mt),mt}([(1,qe=g.TG,function(Qe,et){qe(Qe,et,1)})],Q);class Ce extends n.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:u.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:l.u.hasSignatureHelpProvider,kbOpts:{kbExpr:l.u.editorTextFocus,primary:3082,weight:100}})}run(qe,Qe){const et=Q.get(Qe);et&&et.trigger({triggerKind:S.WW.Invoke})}}(0,n._K)(Q.ID,Q),(0,n.Qr)(Ce);const dt=n._l.bindToContribution(Q.get);(0,n.fK)(new dt({id:"closeParameterHints",precondition:a.Visible,handler:st=>st.cancel(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:9,secondary:[1033]}})),(0,n.fK)(new dt({id:"showPrevParameterHint",precondition:c.Ao.and(a.Visible,a.MultipleSignatures),handler:st=>st.previous(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,n.fK)(new dt({id:"showNextParameterHint",precondition:c.Ao.and(a.Visible,a.MultipleSignatures),handler:st=>st.next(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},81043:(Dt,Y,e)=>{"use strict";e.d(Y,{Fw:()=>Ue,Jy:()=>ze,vk:()=>Ct,rc:()=>Ve,SC:()=>ve,M8:()=>he,KY:()=>Lt,IH:()=>$e,R7:()=>ae});var d=e(98463),n=e(65065),l=e(827),S=e(58783),v=e(69355),T=e(3778),C=e(6276),E=e(57856),L=e.n(E),_=e(38470),s=e.n(_),m=e(43370),c=e.n(m),t=e(28458),a=e.n(t),p=e(71278),u=e.n(p),g=e(29488),b=e.n(g),y=e(73608),w={};w.styleTagTransform=b(),w.setAttributes=a(),w.insert=c().bind(null,"head"),w.domAPI=s(),w.insertStyleElement=u(),L()(y.Z,w);var P=e(26845),O=e(33745),V=e(19186),H=e(84075),z=e(84575),k=e(80142),F=e(21410),j={};j.styleTagTransform=b(),j.setAttributes=a(),j.insert=c().bind(null,"head"),j.domAPI=s(),j.insertStyleElement=u(),L()(F.Z,j);var ne=e(98570),N=e(59758);const W=new v.Il(new v.VS(0,122,204)),Z={showArrow:!0,showFrame:!0,className:"",frameColor:W,arrowColor:W,keepEditorSelection:!1};class M{constructor(mt,_t,$t,Bt,Ke,ht){this.id="",this.domNode=mt,this.afterLineNumber=_t,this.afterColumn=$t,this.heightInLines=Bt,this._onDomNodeTop=Ke,this._onComputedHeight=ht}onDomNodeTop(mt){this._onDomNodeTop(mt)}onComputedHeight(mt){this._onComputedHeight(mt)}}class we{constructor(mt,_t){this._id=mt,this._domNode=_t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Ee{constructor(mt){this._editor=mt,this._ruleName=Ee._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),d.uN(this._ruleName)}set color(mt){this._color!==mt&&(this._color=mt,this._updateStyle())}set height(mt){this._height!==mt&&(this._height=mt,this._updateStyle())}_updateStyle(){d.uN(this._ruleName),d.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(mt){1===mt.column&&(mt={lineNumber:mt.lineNumber,column:2}),this._decorations.set([{range:ne.e.fromPositions(mt),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}Ee._IdGenerator=new z.R(".arrow-decoration-");class xe{constructor(mt,_t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new k.SL,this.container=null,this._isShowing=!1,this.editor=mt,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=C.I8(_t),C.jB(this.options,Z,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange($t=>{const Bt=this._getWidth($t);this.domNode.style.width=Bt+"px",this.domNode.style.left=this._getLeft($t)+"px",this._onWidth(Bt)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(mt=>{this._viewZone&&mt.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Ee(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(mt){mt.frameColor&&(this.options.frameColor=mt.frameColor),mt.arrowColor&&(this.options.arrowColor=mt.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const mt=this.options.frameColor.toString();this.container.style.borderTopColor=mt,this.container.style.borderBottomColor=mt}if(this._arrow&&this.options.arrowColor){const mt=this.options.arrowColor.toString();this._arrow.color=mt}}_getWidth(mt){return mt.width-mt.minimap.minimapWidth-mt.verticalScrollbarWidth}_getLeft(mt){return mt.minimap.minimapWidth>0&&0===mt.minimap.minimapLeft?mt.minimap.minimapWidth:0}_onViewZoneTop(mt){this.domNode.style.top=mt+"px"}_onViewZoneHeight(mt){if(this.domNode.style.height=`${mt}px`,this.container){const _t=mt-this._decoratingElementsHeight();this.container.style.height=`${_t}px`;const $t=this.editor.getLayoutInfo();this._doLayout(_t,this._getWidth($t))}this._resizeSash&&this._resizeSash.layout()}get position(){const mt=this._positionMarkerId.getRange(0);if(mt)return mt.getStartPosition()}show(mt,_t){const $t=ne.e.isIRange(mt)?ne.e.lift(mt):ne.e.fromPositions(mt);this._isShowing=!0,this._showImpl($t,_t),this._isShowing=!1,this._positionMarkerId.set([{range:$t,options:N.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(mt=>{this._viewZone&&mt.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const mt=this.editor.getOption(61);let _t=0;return this.options.showArrow&&(_t+=2*Math.round(mt/3)),this.options.showFrame&&(_t+=2*Math.round(mt/9)),_t}_showImpl(mt,_t){const $t=mt.getStartPosition(),Bt=this.editor.getLayoutInfo(),Ke=this._getWidth(Bt);this.domNode.style.width=`${Ke}px`,this.domNode.style.left=this._getLeft(Bt)+"px";const ht=document.createElement("div");ht.style.overflow="hidden";const jt=this.editor.getOption(61),fn=Math.max(12,this.editor.getLayoutInfo().height/jt*.8);_t=Math.min(_t,fn);let Dn=0,yt=0;if(this._arrow&&this.options.showArrow&&(Dn=Math.round(jt/3),this._arrow.height=Dn,this._arrow.show($t)),this.options.showFrame&&(yt=Math.round(jt/9)),this.editor.changeViewZones(Ae=>{this._viewZone&&Ae.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new M(ht,$t.lineNumber,$t.column,_t,ue=>this._onViewZoneTop(ue),ue=>this._onViewZoneHeight(ue)),this._viewZone.id=Ae.addZone(this._viewZone),this._overlayWidget=new we("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Ae=this.options.frameWidth?this.options.frameWidth:yt;this.container.style.borderTopWidth=Ae+"px",this.container.style.borderBottomWidth=Ae+"px"}const He=_t*jt-this._decoratingElementsHeight();this.container&&(this.container.style.top=Dn+"px",this.container.style.height=He+"px",this.container.style.overflow="hidden"),this._doLayout(He,Ke),this.options.keepEditorSelection||this.editor.setSelection(mt);const ye=this.editor.getModel();if(ye){const Ae=mt.endLineNumber+1;Ae<=ye.getLineCount()?this.revealLine(Ae,!1):this.revealLine(ye.getLineCount(),!0)}}revealLine(mt,_t){_t?this.editor.revealLineInCenter(mt,0):this.editor.revealLine(mt,0)}setCssClass(mt,_t){!this.container||(_t&&this.container.classList.remove(_t),this.container.classList.add(mt))}_onWidth(mt){}_doLayout(mt,_t){}_relayout(mt){this._viewZone&&this._viewZone.heightInLines!==mt&&this.editor.changeViewZones(_t=>{this._viewZone&&(this._viewZone.heightInLines=mt,_t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let mt;this._resizeSash=this._disposables.add(new H.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(_t=>{this._viewZone&&(mt={startY:_t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{mt=void 0})),this._disposables.add(this._resizeSash.onDidChange(_t=>{if(mt){const $t=(_t.currentY-mt.startY)/this.editor.getOption(61),Bt=$t<0?Math.ceil($t):Math.floor($t),Ke=mt.heightInLines+Bt;Ke>5&&Ke<35&&this._relayout(Ke)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const mt=this.editor.getLayoutInfo();return mt.width-mt.minimap.minimapWidth}}var Ne=e(55197),oe=e(38516),Se=e(16468),Ie=e(47494),me=e(9265),Me=e(4062),de=function(vt,mt,_t,$t){var ht,Bt=arguments.length,Ke=Bt<3?mt:null===$t?$t=Object.getOwnPropertyDescriptor(mt,_t):$t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(vt,mt,_t,$t);else for(var jt=vt.length-1;jt>=0;jt--)(ht=vt[jt])&&(Ke=(Bt<3?ht(Ke):Bt>3?ht(mt,_t,Ke):ht(mt,_t))||Ke);return Bt>3&&Ke&&Object.defineProperty(mt,_t,Ke),Ke},ke=function(vt,mt){return function(_t,$t){mt(_t,$t,vt)}};const Ue=(0,me.yh)("IPeekViewService");var ze,vt;(0,Ie.z)(Ue,class{constructor(){this._widgets=new Map}addExclusiveWidget(vt,mt){const _t=this._widgets.get(vt);_t&&(_t.listener.dispose(),_t.widget.dispose()),this._widgets.set(vt,{widget:mt,listener:mt.onDidClose(()=>{const Bt=this._widgets.get(vt);Bt&&Bt.widget===mt&&(Bt.listener.dispose(),this._widgets.delete(vt))})})}}),(vt=ze||(ze={})).inPeekEditor=new Se.uy("inReferenceSearchEditor",!0,Ne.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),vt.notInPeekEditor=vt.inPeekEditor.toNegated();let ce=class{constructor(mt,_t){mt instanceof V.H&&ze.inPeekEditor.bindTo(_t)}dispose(){}};function Ve(vt){const mt=vt.get(O.$).getFocusedCodeEditor();return mt instanceof V.H?mt.getParentEditor():mt}ce.ID="editor.contrib.referenceController",ce=de([ke(1,Se.i6)],ce),(0,P._K)(ce.ID,ce);const tt={headerBackgroundColor:v.Il.white,primaryHeadingColor:v.Il.fromHex("#333333"),secondaryHeadingColor:v.Il.fromHex("#6c6c6cb3")};let Ct=class extends xe{constructor(mt,_t,$t){super(mt,_t),this.instantiationService=$t,this._onDidClose=new T.Q5,this.onDidClose=this._onDidClose.event,C.jB(this.options,tt,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(mt){const _t=this.options;mt.headerBackgroundColor&&(_t.headerBackgroundColor=mt.headerBackgroundColor),mt.primaryHeadingColor&&(_t.primaryHeadingColor=mt.primaryHeadingColor),mt.secondaryHeadingColor&&(_t.secondaryHeadingColor=mt.secondaryHeadingColor),super.style(mt)}_applyStyles(){super._applyStyles();const mt=this.options;this._headElement&&mt.headerBackgroundColor&&(this._headElement.style.backgroundColor=mt.headerBackgroundColor.toString()),this._primaryHeading&&mt.primaryHeadingColor&&(this._primaryHeading.style.color=mt.primaryHeadingColor.toString()),this._secondaryHeading&&mt.secondaryHeadingColor&&(this._secondaryHeading.style.color=mt.secondaryHeadingColor.toString()),this._bodyElement&&mt.frameColor&&(this._bodyElement.style.borderColor=mt.frameColor.toString())}_fillContainer(mt){this.setCssClass("peekview-widget"),this._headElement=d.$(".head"),this._bodyElement=d.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),mt.appendChild(this._headElement),mt.appendChild(this._bodyElement)}_fillHead(mt,_t){const $t=d.$(".peekview-title");this.options.supportOnTitleClick&&($t.classList.add("clickable"),d.mu($t,"click",ht=>this._onTitleClick(ht))),d.R3(this._headElement,$t),this._fillTitleIcon($t),this._primaryHeading=d.$("span.filename"),this._secondaryHeading=d.$("span.dirname"),this._metaHeading=d.$("span.meta"),d.R3($t,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Bt=d.$(".peekview-actions");d.R3(this._headElement,Bt);const Ke=this._getActionBarOptions();this._actionbarWidget=new n.o(Bt,Ke),this._disposables.add(this._actionbarWidget),_t||this._actionbarWidget.push(new l.aU("peekview.close",Ne.NC("label.close","Close"),S.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(mt){}_getActionBarOptions(){return{actionViewItemProvider:oe.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(mt){}setTitle(mt,_t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=mt,this._primaryHeading.setAttribute("title",mt),_t?this._secondaryHeading.innerText=_t:d.PO(this._secondaryHeading))}setMetaTitle(mt){this._metaHeading&&(mt?(this._metaHeading.innerText=mt,d.$Z(this._metaHeading)):d.Cp(this._metaHeading))}_doLayout(mt,_t){if(!this._isShowing&&mt<0)return void this.dispose();const $t=Math.ceil(1.2*this.editor.getOption(61)),Bt=Math.round(mt-($t+2));this._doLayoutHead($t,_t),this._doLayoutBody(Bt,_t)}_doLayoutHead(mt,_t){this._headElement&&(this._headElement.style.height=`${mt}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(mt,_t){this._bodyElement&&(this._bodyElement.style.height=`${mt}px`)}};Ct=de([ke(2,me.TG)],Ct);const Lt=(0,Me.P6G)("peekViewTitle.background",{dark:(0,Me.ZnX)(Me.c63,.1),light:(0,Me.ZnX)(Me.c63,.1),hcDark:null,hcLight:null},Ne.NC("peekViewTitleBackground","Background color of the peek view title area.")),$e=(0,Me.P6G)("peekViewTitleLabel.foreground",{dark:v.Il.white,light:v.Il.black,hcDark:v.Il.white,hcLight:Me.NOs},Ne.NC("peekViewTitleForeground","Color of the peek view title.")),ae=(0,Me.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},Ne.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),ve=(0,Me.P6G)("peekView.border",{dark:Me.c63,light:Me.c63,hcDark:Me.lRK,hcLight:Me.lRK},Ne.NC("peekViewBorder","Color of the peek view borders and arrow.")),he=(0,Me.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:v.Il.black,hcLight:v.Il.white},Ne.NC("peekViewResultsBackground","Background color of the peek view result list.")),dt=((0,Me.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:v.Il.white,hcLight:Me.NOs},Ne.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,Me.P6G)("peekViewResult.fileForeground",{dark:v.Il.white,light:"#1E1E1E",hcDark:v.Il.white,hcLight:Me.NOs},Ne.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,Me.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},Ne.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,Me.P6G)("peekViewResult.selectionForeground",{dark:v.Il.white,light:"#6C6C6C",hcDark:v.Il.white,hcLight:Me.NOs},Ne.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,Me.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:v.Il.black,hcLight:v.Il.white},Ne.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,Me.P6G)("peekViewEditorGutter.background",{dark:dt,light:dt,hcDark:dt,hcLight:dt},Ne.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,Me.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},Ne.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,Me.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},Ne.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,Me.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Me.xL1,hcLight:Me.xL1},Ne.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},35045:(Dt,Y,e)=>{"use strict";e.d(Y,{X:()=>E});var d=e(92192),n=e(80142),l=e(72715),S=e(91353),v=e(47629),T=e(43944),C=e(40902);class E{constructor(_){this.options=_,this.rangeHighlightDecorationId=void 0}provide(_,s){var m;const c=new n.SL;_.canAcceptInBackground=!(null===(m=this.options)||void 0===m||!m.canAcceptInBackground),_.matchOnLabel=_.matchOnDescription=_.matchOnDetail=_.sortByLabel=!1;const t=c.add(new n.XK);return t.value=this.doProvide(_,s),c.add(this.onDidActiveTextEditorControlChange(()=>{t.value=void 0,t.value=this.doProvide(_,s)})),c}doProvide(_,s){const m=new n.SL,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const t={editor:c},a=(0,S.Pi)(c);if(a){let p=(0,l.f6)(c.saveViewState());m.add(a.onDidChangeCursorPosition(()=>{p=(0,l.f6)(c.saveViewState())})),t.restoreViewState=()=>{p&&c===this.activeTextEditorControl&&c.restoreViewState(p)},m.add((0,d.I)(s.onCancellationRequested)(()=>{var u;return null===(u=t.restoreViewState)||void 0===u?void 0:u.call(t)}))}m.add((0,n.OF)(()=>this.clearDecorations(c))),m.add(this.provideWithTextEditor(t,_,s))}else m.add(this.provideWithoutTextEditor(_,s));return m}canProvideWithTextEditor(_){return!0}gotoLocation({editor:_},s){_.setSelection(s.range),_.revealRangeInCenter(s.range,0),s.preserveFocus||_.focus()}getModel(_){var s;return(0,S.QI)(_)?null===(s=_.getModel())||void 0===s?void 0:s.modified:_.getModel()}addDecorations(_,s){_.changeDecorations(m=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const t=[{range:s,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:s,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,C.EN)(T.m9),position:v.sh.Full}}}],[a,p]=m.deltaDecorations(c,t);this.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:p}})}clearDecorations(_){const s=this.rangeHighlightDecorationId;s&&(_.changeDecorations(m=>{m.deltaDecorations([s.overviewRulerDecorationId,s.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},31257:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{ReadOnlyMessageController:()=>v});var d=e(80142),n=e(26845),l=e(54007),S=e(55197);let v=(()=>{class T extends d.JT{constructor(E){super(),this.editor=E,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const E=l.O.get(this.editor);E&&this.editor.hasModel()&&E.showMessage(this.editor.isSimpleWidget?S.NC("editor.simple.readonly","Cannot edit in read-only input"):S.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition())}}return T.ID="editor.contrib.readOnlyMessageController",T})();(0,n._K)(v.ID,v)},35108:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{RenameAction:()=>tt,rename:()=>ce});var d=e(59797),n=e(48648),l=e(73888),S=e(4125),v=e(80142),T=e(72715),C=e(59547),E=e(18623),L=e(26845),_=e(61560),s=e(33745),m=e(18723),c=e(98570),t=e(82290),a=e(19147),p=e(54007),u=e(55197),g=e(29093),b=e(16468),y=e(9265),w=e(29693),D=e(54436),x=e(55538),P=e(4259),O=e(57856),V=e.n(O),H=e(38470),z=e.n(H),k=e(43370),F=e.n(k),j=e(28458),K=e.n(j),U=e(71278),ne=e.n(U),N=e(29488),W=e.n(N),Z=e(47479),ge={};ge.styleTagTransform=W(),ge.setAttributes=K(),ge.insert=F().bind(null,"head"),ge.domAPI=z(),ge.insertStyleElement=ne(),V()(Z.Z,ge);var Ee=e(14759),xe=e(4062),Ne=e(40902),Se=function(Lt,$e){return function(ae,ve){$e(ae,ve,Lt)}};const Ie=new b.uy("renameInputVisible",!1,(0,u.NC)("renameInputVisible","Whether the rename input widget is visible"));let me=class{constructor($e,ae,ve,he,le){this._editor=$e,this._acceptKeybindings=ae,this._themeService=ve,this._keybindingService=he,this._disposables=new v.SL,this.allowEditorOverflow=!0,this._visibleContextKey=Ie.bindTo(le),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(Q=>{Q.hasChanged(46)&&this._updateFont()})),this._disposables.add(ve.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,u.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const $e=()=>{var ae,ve;const[he,le]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(he),this._label.innerText=(0,u.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(ae=this._keybindingService.lookupKeybinding(he))||void 0===ae?void 0:ae.getLabel(),null===(ve=this._keybindingService.lookupKeybinding(le))||void 0===ve?void 0:ve.getLabel())};$e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings($e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles($e){var ae,ve,he,le;if(!this._input||!this._domNode)return;const Q=$e.getColor(xe.rh);this._domNode.style.backgroundColor=String(null!==(ae=$e.getColor(xe.D0T))&&void 0!==ae?ae:""),this._domNode.style.boxShadow=Q?` 0 0 8px 2px ${Q}`:"",this._domNode.style.color=String(null!==(ve=$e.getColor(xe.zJb))&&void 0!==ve?ve:""),this._input.style.backgroundColor=String(null!==(he=$e.getColor(xe.sEe))&&void 0!==he?he:"");const Ce=$e.getColor(xe.dt_);this._input.style.borderWidth=Ce?"1px":"0px",this._input.style.borderStyle=Ce?"solid":"none",this._input.style.borderColor=null!==(le=Ce?.toString())&&void 0!==le?le:"none"}_updateFont(){if(!this._input||!this._label)return;const $e=this._editor.getOption(46);this._input.style.fontFamily=$e.fontFamily,this._input.style.fontWeight=$e.fontWeight,this._input.style.fontSize=`${$e.fontSize}px`,this._label.style.fontSize=.8*$e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender($e){$e||this.cancelInput(!0)}acceptInput($e){var ae;null===(ae=this._currentAcceptInput)||void 0===ae||ae.call(this,$e)}cancelInput($e){var ae;null===(ae=this._currentCancelInput)||void 0===ae||ae.call(this,$e)}getInput($e,ae,ve,he,le,Q){this._domNode.classList.toggle("preview",le),this._position=new m.L($e.startLineNumber,$e.startColumn),this._input.value=ae,this._input.setAttribute("selectionStart",ve.toString()),this._input.setAttribute("selectionEnd",he.toString()),this._input.size=Math.max(1.1*($e.endColumn-$e.startColumn),20);const Ce=new v.SL;return new Promise(Pe=>{this._currentCancelInput=dt=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Pe(dt),!0),this._currentAcceptInput=dt=>{0!==this._input.value.trim().length&&this._input.value!==ae?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Pe({newName:this._input.value,wantsPreview:le&&dt})):this.cancelInput(!0)},Ce.add(Q.onCancellationRequested(()=>this.cancelInput(!0))),Ce.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{Ce.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};me=function(Lt,$e,ae,ve){var Q,he=arguments.length,le=he<3?$e:null===ve?ve=Object.getOwnPropertyDescriptor($e,ae):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)le=Reflect.decorate(Lt,$e,ae,ve);else for(var Ce=Lt.length-1;Ce>=0;Ce--)(Q=Lt[Ce])&&(le=(he<3?Q(le):he>3?Q($e,ae,le):Q($e,ae))||le);return he>3&&le&&Object.defineProperty($e,ae,le),le}([Se(2,Ne.XE),Se(3,Ee.d),Se(4,b.i6)],me);var Me=e(90790),ke=function(Lt,$e){return function(ae,ve){$e(ae,ve,Lt)}},Ue=function(Lt,$e,ae,ve){return new(ae||(ae=Promise))(function(le,Q){function Ce(st){try{dt(ve.next(st))}catch(qe){Q(qe)}}function Pe(st){try{dt(ve.throw(st))}catch(qe){Q(qe)}}function dt(st){st.done?le(st.value):function he(le){return le instanceof ae?le:new ae(function(Q){Q(le)})}(st.value).then(Ce,Pe)}dt((ve=ve.apply(Lt,$e||[])).next())})};class ze{constructor($e,ae,ve){this.model=$e,this.position=ae,this._providerRenameIdx=0,this._providers=ve.ordered($e)}hasProvider(){return this._providers.length>0}resolveRenameLocation($e){return Ue(this,void 0,void 0,function*(){const ae=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const he=this._providers[this._providerRenameIdx];if(!he.resolveRenameLocation)break;const le=yield he.resolveRenameLocation(this.model,this.position,$e);if(le){if(le.rejectReason){ae.push(le.rejectReason);continue}return le}}const ve=this.model.getWordAtPosition(this.position);return ve?{range:new c.e(this.position.lineNumber,ve.startColumn,this.position.lineNumber,ve.endColumn),text:ve.word,rejectReason:ae.length>0?ae.join("\n"):void 0}:{range:c.e.fromPositions(this.position),text:"",rejectReason:ae.length>0?ae.join("\n"):void 0}})}provideRenameEdits($e,ae){return Ue(this,void 0,void 0,function*(){return this._provideRenameEdits($e,this._providerRenameIdx,[],ae)})}_provideRenameEdits($e,ae,ve,he){return Ue(this,void 0,void 0,function*(){const le=this._providers[ae];if(!le)return{edits:[],rejectReason:ve.join("\n")};const Q=yield le.provideRenameEdits(this.model,this.position,$e,he);return Q?Q.rejectReason?this._provideRenameEdits($e,ae+1,ve.concat(Q.rejectReason),he):Q:this._provideRenameEdits($e,ae+1,ve.concat(u.NC("no result","No result.")),he)})}}function ce(Lt,$e,ae,ve){return Ue(this,void 0,void 0,function*(){const he=new ze($e,ae,Lt),le=yield he.resolveRenameLocation(l.T.None);return le?.rejectReason?{edits:[],rejectReason:le.rejectReason}:he.provideRenameEdits(ve,l.T.None)})}let Ve=class Tc{constructor($e,ae,ve,he,le,Q,Ce,Pe){this.editor=$e,this._instaService=ae,this._notificationService=ve,this._bulkEditService=he,this._progressService=le,this._logService=Q,this._configService=Ce,this._languageFeaturesService=Pe,this._disposableStore=new v.SL,this._cts=new l.A,this._renameInputField=this._disposableStore.add(new n.Ue(()=>this._disposableStore.add(this._instaService.createInstance(me,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get($e){return $e.getContribution(Tc.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var $e,ae;return Ue(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const ve=this.editor.getPosition(),he=new ze(this.editor.getModel(),ve,this._languageFeaturesService.renameProvider);if(!he.hasProvider())return;let le;this._cts=new E.Dl(this.editor,5);try{const Qe=he.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Qe,250),le=yield Qe}catch(Qe){return void(null===($e=p.O.get(this.editor))||void 0===$e||$e.showMessage(Qe||u.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),ve))}if(!le)return;if(le.rejectReason)return void(null===(ae=p.O.get(this.editor))||void 0===ae||ae.showMessage(le.rejectReason,ve));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new E.Dl(this.editor,5,le.range);const Q=this.editor.getSelection();let Ce=0,Pe=le.text.length;!c.e.isEmpty(Q)&&!c.e.spansMultipleLines(Q)&&c.e.containsRange(le.range,Q)&&(Ce=Math.max(0,Q.startColumn-le.range.startColumn),Pe=Math.min(le.range.endColumn,Q.endColumn)-le.range.startColumn);const dt=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),st=yield this._renameInputField.value.getInput(le.range,le.text,Ce,Pe,dt,this._cts.token);if("boolean"==typeof st)return void(st&&this.editor.focus());this.editor.focus();const qe=(0,n.eP)(he.provideRenameEdits(st.newName,this._cts.token),this._cts.token).then(Qe=>Ue(this,void 0,void 0,function*(){if(Qe&&this.editor.hasModel()){if(Qe.rejectReason)return void this._notificationService.info(Qe.rejectReason);this.editor.setSelection(c.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(_.fo.convert(Qe),{editor:this.editor,showPreview:st.wantsPreview,label:u.NC("label","Renaming '{0}' to '{1}'",le?.text,st.newName),code:"undoredo.rename",quotableLabel:u.NC("quotableLabel","Renaming {0} to {1}",le?.text,st.newName),respectAutoSaveConfig:!0}).then(et=>{et.ariaSummary&&(0,d.Z9)(u.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",le.text,st.newName,et.ariaSummary))}).catch(et=>{this._notificationService.error(u.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(et)})}}),Qe=>{this._notificationService.error(u.NC("rename.failed","Rename failed to compute edits")),this._logService.error(Qe)});return this._progressService.showWhile(qe,250),qe})}acceptRenameInput($e){this._renameInputField.value.acceptInput($e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Ve.ID="editor.contrib.renameController",Ve=function(Lt,$e,ae,ve){var Q,he=arguments.length,le=he<3?$e:null===ve?ve=Object.getOwnPropertyDescriptor($e,ae):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)le=Reflect.decorate(Lt,$e,ae,ve);else for(var Ce=Lt.length-1;Ce>=0;Ce--)(Q=Lt[Ce])&&(le=(he<3?Q(le):he>3?Q($e,ae,le):Q($e,ae))||le);return he>3&&le&&Object.defineProperty($e,ae,le),le}([ke(1,y.TG),ke(2,D.lT),ke(3,_.vu),ke(4,x.ek),ke(5,w.VZ),ke(6,a.V),ke(7,Me.p)],Ve);class tt extends L.R6{constructor(){super({id:"editor.action.rename",label:u.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:b.Ao.and(t.u.writable,t.u.hasRenameProvider),kbOpts:{kbExpr:t.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand($e,ae){const ve=$e.get(s.$),[he,le]=Array.isArray(ae)&&ae||[void 0,void 0];return C.o.isUri(he)&&m.L.isIPosition(le)?ve.openCodeEditor({resource:he},ve.getActiveCodeEditor()).then(Q=>{!Q||(Q.setPosition(le),Q.invokeWithinContext(Ce=>(this.reportTelemetry(Ce,Q),this.run(Ce,Q))))},S.dL):super.runCommand($e,ae)}run($e,ae){const ve=Ve.get(ae);return ve?ve.run():Promise.resolve()}}(0,L._K)(Ve.ID,Ve),(0,L.Qr)(tt);const Ct=L._l.bindToContribution(Ve.get);(0,L.fK)(new Ct({id:"acceptRenameInput",precondition:Ie,handler:Lt=>Lt.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:t.u.focus,primary:3}})),(0,L.fK)(new Ct({id:"acceptRenameInputWithPreview",precondition:b.Ao.and(Ie,b.Ao.has("config.editor.rename.enablePreview")),handler:Lt=>Lt.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:t.u.focus,primary:1027}})),(0,L.fK)(new Ct({id:"cancelRenameInput",precondition:Ie,handler:Lt=>Lt.cancelRenameInput(),kbOpts:{weight:199,kbExpr:t.u.focus,primary:9,secondary:[1033]}})),(0,L.sb)("_executeDocumentRenameProvider",function(Lt,$e,ae,...ve){const[he]=ve;(0,T.p_)("string"==typeof he);const{renameProvider:le}=Lt.get(Me.p);return ce(le,$e,ae,he)}),(0,L.sb)("_executePrepareRename",function(Lt,$e,ae){return Ue(this,void 0,void 0,function*(){const{renameProvider:ve}=Lt.get(Me.p),le=yield new ze($e,ae,ve).resolveRenameLocation(l.T.None);if(le?.rejectReason)throw new Error(le.rejectReason);return le})}),P.B.as(g.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:u.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},44221:(Dt,Y,e)=>{"use strict";e.d(Y,{x:()=>v});var d=e(85739),n=e(18723),l=e(98570);let v=(()=>{class T{provideSelectionRanges(E,L){return function(T,C,E,L){return new(E||(E=Promise))(function(s,m){function c(p){try{a(L.next(p))}catch(u){m(u)}}function t(p){try{a(L.throw(p))}catch(u){m(u)}}function a(p){p.done?s(p.value):function _(s){return s instanceof E?s:new E(function(m){m(s)})}(p.value).then(c,t)}a((L=L.apply(T,C||[])).next())})}(this,void 0,void 0,function*(){const _=[];for(const s of L){const m=[];_.push(m);const c=new Map;yield new Promise(t=>T._bracketsRightYield(t,0,E,s,c)),yield new Promise(t=>T._bracketsLeftYield(t,0,E,s,c,m))}return _})}static _bracketsRightYield(E,L,_,s,m){const c=new Map,t=Date.now();for(;;){if(L>=T._maxRounds){E();break}if(!s){E();break}const a=_.bracketPairs.findNextBracket(s);if(!a){E();break}if(Date.now()-t>T._maxDuration){setTimeout(()=>T._bracketsRightYield(E,L+1,_,s,m));break}if(a.bracketInfo.isOpeningBracket){const u=a.bracketInfo.bracketText,g=c.has(u)?c.get(u):0;c.set(u,g+1)}else{const u=a.bracketInfo.getClosedBrackets()[0].bracketText;let g=c.has(u)?c.get(u):0;if(g-=1,c.set(u,Math.max(0,g)),g<0){let b=m.get(u);b||(b=new d.S,m.set(u,b)),b.push(a.range)}}s=a.range.getEndPosition()}}static _bracketsLeftYield(E,L,_,s,m,c){const t=new Map,a=Date.now();for(;;){if(L>=T._maxRounds&&0===m.size){E();break}if(!s){E();break}const p=_.bracketPairs.findPrevBracket(s);if(!p){E();break}if(Date.now()-a>T._maxDuration){setTimeout(()=>T._bracketsLeftYield(E,L+1,_,s,m,c));break}if(p.bracketInfo.isOpeningBracket){const g=p.bracketInfo.bracketText;let b=t.has(g)?t.get(g):0;if(b-=1,t.set(g,Math.max(0,b)),b<0){const y=m.get(g);if(y){const w=y.shift();0===y.size&&m.delete(g);const D=l.e.fromPositions(p.range.getEndPosition(),w.getStartPosition()),x=l.e.fromPositions(p.range.getStartPosition(),w.getEndPosition());c.push({range:D}),c.push({range:x}),T._addBracketLeading(_,x,c)}}}else{const g=p.bracketInfo.getClosedBrackets()[0].bracketText,b=t.has(g)?t.get(g):0;t.set(g,b+1)}s=p.range.getStartPosition()}}static _addBracketLeading(E,L,_){if(L.startLineNumber===L.endLineNumber)return;const s=L.startLineNumber,m=E.getLineFirstNonWhitespaceColumn(s);0!==m&&m!==L.startColumn&&(_.push({range:l.e.fromPositions(new n.L(s,m),L.getEndPosition())}),_.push({range:l.e.fromPositions(new n.L(s,1),L.getEndPosition())}));const c=s-1;if(c>0){const t=E.getLineFirstNonWhitespaceColumn(c);t===L.startColumn&&t!==E.getLineLastNonWhitespaceColumn(c)&&(_.push({range:l.e.fromPositions(new n.L(c,t),L.getEndPosition())}),_.push({range:l.e.fromPositions(new n.L(c,1),L.getEndPosition())}))}}}return T._maxDuration=30,T._maxRounds=2,T})()},34465:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{provideSelectionRanges:()=>H});var d=e(64023),n=e(73888),l=e(4125),S=e(26845),v=e(18723),T=e(98570),C=e(7233),E=e(82290),L=e(44221),_=e(73879);class s{provideSelectionRanges(k,F){const j=[];for(const K of F){const U=[];j.push(U),this._addInWordRanges(U,k,K),this._addWordRanges(U,k,K),this._addWhitespaceLine(U,k,K),U.push({range:k.getFullModelRange()})}return j}_addInWordRanges(k,F,j){const K=F.getWordAtPosition(j);if(!K)return;const{word:U,startColumn:ne}=K,N=j.column-ne;let W=N,Z=N,ge=0;for(;W>=0;W--){const M=U.charCodeAt(W);if(W!==N&&(95===M||45===M))break;if((0,_.mK)(M)&&(0,_.df)(ge))break;ge=M}for(W+=1;Z<U.length;Z++){const M=U.charCodeAt(Z);if((0,_.df)(M)&&(0,_.mK)(ge))break;if(95===M||45===M)break;ge=M}W<Z&&k.push({range:new T.e(j.lineNumber,ne+W,j.lineNumber,ne+Z)})}_addWordRanges(k,F,j){const K=F.getWordAtPosition(j);K&&k.push({range:new T.e(j.lineNumber,K.startColumn,j.lineNumber,K.endColumn)})}_addWhitespaceLine(k,F,j){F.getLineLength(j.lineNumber)>0&&0===F.getLineFirstNonWhitespaceColumn(j.lineNumber)&&0===F.getLineLastNonWhitespaceColumn(j.lineNumber)&&k.push({range:new T.e(j.lineNumber,1,j.lineNumber,F.getLineMaxColumn(j.lineNumber))})}}var m=e(55197),c=e(74918),t=e(66549),a=e(90790),p=e(1149),u=e(72715),g=e(59547),w=function(z,k,F,j){return new(F||(F=Promise))(function(U,ne){function N(ge){try{Z(j.next(ge))}catch(M){ne(M)}}function W(ge){try{Z(j.throw(ge))}catch(M){ne(M)}}function Z(ge){ge.done?U(ge.value):function K(U){return U instanceof F?U:new F(function(ne){ne(U)})}(ge.value).then(N,W)}Z((j=j.apply(z,k||[])).next())})};class D{constructor(k,F){this.index=k,this.ranges=F}mov(k){const F=this.index+(k?1:-1);if(F<0||F>=this.ranges.length)return this;const j=new D(F,this.ranges);return j.ranges[F].equalsRange(this.ranges[this.index])?j.mov(k):j}}let x=class Mc{constructor(k,F){this._editor=k,this._languageFeaturesService=F,this._ignoreSelection=!1}static get(k){return k.getContribution(Mc.ID)}dispose(){var k;null===(k=this._selectionListener)||void 0===k||k.dispose()}run(k){return w(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const F=this._editor.getSelections(),j=this._editor.getModel();if(this._state||(yield H(this._languageFeaturesService.selectionRangeProvider,j,F.map(U=>U.getPosition()),this._editor.getOption(104),n.T.None).then(U=>{var ne;if(d.Of(U)&&U.length===F.length&&this._editor.hasModel()&&d.fS(this._editor.getSelections(),F,(N,W)=>N.equalsSelection(W))){for(let N=0;N<U.length;N++)U[N]=U[N].filter(W=>W.containsPosition(F[N].getStartPosition())&&W.containsPosition(F[N].getEndPosition())),U[N].unshift(F[N]);this._state=U.map(N=>new D(0,N)),null===(ne=this._selectionListener)||void 0===ne||ne.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var N;this._ignoreSelection||(null===(N=this._selectionListener)||void 0===N||N.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(U=>U.mov(k));const K=this._state.map(U=>C.Y.fromPositions(U.ranges[U.index].getStartPosition(),U.ranges[U.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(K)}finally{this._ignoreSelection=!1}})}};var k;x.ID="editor.contrib.smartSelectController",x=function(z,k,F,j){var ne,K=arguments.length,U=K<3?k:null===j?j=Object.getOwnPropertyDescriptor(k,F):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(z,k,F,j);else for(var N=z.length-1;N>=0;N--)(ne=z[N])&&(U=(K<3?ne(U):K>3?ne(k,F,U):ne(k,F))||U);return K>3&&U&&Object.defineProperty(k,F,U),U}([(1,k=a.p,function(F,j){k(F,j,1)})],x);class P extends S.R6{constructor(k,F){super(F),this._forward=k}run(k,F){return w(this,void 0,void 0,function*(){const j=x.get(F);j&&(yield j.run(this._forward))})}}function H(z,k,F,j,K){return w(this,void 0,void 0,function*(){const U=z.all(k).concat(new s);1===U.length&&U.unshift(new L.x);const ne=[],N=[];for(const W of U)ne.push(Promise.resolve(W.provideSelectionRanges(k,F,K)).then(Z=>{if(d.Of(Z)&&Z.length===F.length)for(let ge=0;ge<F.length;ge++){N[ge]||(N[ge]=[]);for(const M of Z[ge])T.e.isIRange(M.range)&&T.e.containsPosition(M.range,F[ge])&&N[ge].push(T.e.lift(M.range))}},l.Cp));return yield Promise.all(ne),N.map(W=>{if(0===W.length)return[];W.sort((we,Ee)=>v.L.isBefore(we.getStartPosition(),Ee.getStartPosition())?1:v.L.isBefore(Ee.getStartPosition(),we.getStartPosition())||v.L.isBefore(we.getEndPosition(),Ee.getEndPosition())?-1:v.L.isBefore(Ee.getEndPosition(),we.getEndPosition())?1:0);const Z=[];let ge;for(const we of W)(!ge||T.e.containsRange(we,ge)&&!T.e.equalsRange(we,ge))&&(Z.push(we),ge=we);if(!j.selectLeadingAndTrailingWhitespace)return Z;const M=[Z[0]];for(let we=1;we<Z.length;we++){const Ee=Z[we-1],xe=Z[we];if(xe.startLineNumber!==Ee.startLineNumber||xe.endLineNumber!==Ee.endLineNumber){const Ne=new T.e(Ee.startLineNumber,k.getLineFirstNonWhitespaceColumn(Ee.startLineNumber),Ee.endLineNumber,k.getLineLastNonWhitespaceColumn(Ee.endLineNumber));Ne.containsRange(Ee)&&!Ne.equalsRange(Ee)&&xe.containsRange(Ne)&&!xe.equalsRange(Ne)&&M.push(Ne);const oe=new T.e(Ee.startLineNumber,1,Ee.endLineNumber,k.getLineMaxColumn(Ee.endLineNumber));oe.containsRange(Ee)&&!oe.equalsRange(Ne)&&xe.containsRange(oe)&&!xe.equalsRange(oe)&&M.push(oe)}M.push(xe)}return M})})}t.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,S._K)(x.ID,x),(0,S.Qr)(class O extends P{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:m.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:m.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,S.Qr)(class V extends P{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:m.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:m.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),t.P0.registerCommand("_executeSelectionRangeProvider",function(z,...k){return w(this,void 0,void 0,function*(){const[F,j]=k;(0,u.p_)(g.o.isUri(F));const K=z.get(a.p).selectionRangeProvider,U=yield z.get(p.S).createModelReference(F);try{return H(K,U.object.textEditorModel,j,{selectLeadingAndTrailingWhitespace:!0},n.T.None)}finally{U.dispose()}})})},31583:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{SnippetController2:()=>u,performSnippetEdit:()=>b});var d=e(80142),n=e(72715),l=e(26845),S=e(18723),v=e(7233),T=e(82290),C=e(94911),E=e(90790),L=e(83956),_=e(55197),s=e(16468),m=e(29693),c=e(79980),a=function(y,w){return function(D,x){w(D,x,y)}};const p={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=class Zl{constructor(w,D,x,P,O){this._editor=w,this._logService=D,this._languageFeaturesService=x,this._languageConfigurationService=O,this._snippetListener=new d.SL,this._modelVersionId=-1,this._inSnippet=Zl.InSnippetMode.bindTo(P),this._hasNextTabstop=Zl.HasNextTabstop.bindTo(P),this._hasPrevTabstop=Zl.HasPrevTabstop.bindTo(P)}static get(w){return w.getContribution(Zl.ID)}dispose(){var w;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(w=this._session)||void 0===w||w.dispose(),this._snippetListener.dispose()}apply(w,D){try{this._doInsert(w,typeof D>"u"?p:Object.assign(Object.assign({},p),D))}catch(x){this.cancel(),this._logService.error(x),this._logService.error("snippet_error"),this._logService.error("insert_edits=",w),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(w,D){try{this._doInsert(w,typeof D>"u"?p:Object.assign(Object.assign({},p),D))}catch(x){this.cancel(),this._logService.error(x),this._logService.error("snippet_error"),this._logService.error("insert_template=",w),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(w,D){var x;if(this._editor.hasModel()){if(this._snippetListener.clear(),D.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof w&&this.cancel(),this._session?((0,n.p_)("string"==typeof w),this._session.merge(w,D)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new c.l(this._editor,w,D,this._languageConfigurationService),this._session.insert()),D.undoStopAfter&&this._editor.getModel().pushStackElement(),null!==(x=this._session)&&void 0!==x&&x.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(O,V)=>{if(!this._session||O!==this._editor.getModel()||!S.L.equals(this._editor.getPosition(),V))return;const{activeChoice:H}=this._session;if(!H||0===H.choice.options.length)return;const z=O.getValueInRange(H.range),k=Boolean(H.choice.options.find(j=>j.value===z)),F=[];for(let j=0;j<H.choice.options.length;j++){const K=H.choice.options[j];F.push({kind:13,label:K.value,insertText:K.value,sortText:"a".repeat(j+1),range:H.range,filterText:k?`${z}_${K.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,_.NC)("next","Go to next placeholder...")}})}return{suggestions:F}}};const P=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(P)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(P=>P.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:w}=this._session;w&&this._choiceCompletionItemProvider?this._currentChoice!==w.choice&&(this._currentChoice=w.choice,queueMicrotask(()=>{(0,L.i5)(this._editor,this._choiceCompletionItemProvider)})):this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(w=!1){var D;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(D=this._session)||void 0===D||D.dispose(),this._session=void 0,this._modelVersionId=-1,w&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};u.ID="snippetController2",u.InSnippetMode=new s.uy("inSnippetMode",!1,(0,_.NC)("inSnippetMode","Whether the editor in current in snippet mode")),u.HasNextTabstop=new s.uy("hasNextTabstop",!1,(0,_.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),u.HasPrevTabstop=new s.uy("hasPrevTabstop",!1,(0,_.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),u=function(y,w,D,x){var V,P=arguments.length,O=P<3?w:null===x?x=Object.getOwnPropertyDescriptor(w,D):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(y,w,D,x);else for(var H=y.length-1;H>=0;H--)(V=y[H])&&(O=(P<3?V(O):P>3?V(w,D,O):V(w,D))||O);return P>3&&O&&Object.defineProperty(w,D,O),O}([a(1,m.VZ),a(2,E.p),a(3,s.i6),a(4,C.c_)],u),(0,l._K)(u.ID,u);const g=l._l.bindToContribution(u.get);function b(y,w,D){const x=u.get(y);return!!x&&(y.focus(),x.apply(D.map(P=>({range:v.Y.liftSelection(P),template:w}))),x.isInSnippet())}(0,l.fK)(new g({id:"jumpToNextSnippetPlaceholder",precondition:s.Ao.and(u.InSnippetMode,u.HasNextTabstop),handler:y=>y.next(),kbOpts:{weight:130,kbExpr:T.u.editorTextFocus,primary:2}})),(0,l.fK)(new g({id:"jumpToPrevSnippetPlaceholder",precondition:s.Ao.and(u.InSnippetMode,u.HasPrevTabstop),handler:y=>y.prev(),kbOpts:{weight:130,kbExpr:T.u.editorTextFocus,primary:1026}})),(0,l.fK)(new g({id:"leaveSnippet",precondition:u.InSnippetMode,handler:y=>y.cancel(!0),kbOpts:{weight:130,kbExpr:T.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,l.fK)(new g({id:"acceptSnippet",precondition:u.InSnippetMode,handler:y=>y.finish()}))},61254:(Dt,Y,e)=>{"use strict";e.d(Y,{Lv:()=>T,Vm:()=>v,Yj:()=>m,xv:()=>l,y1:()=>s});let d=(()=>{class c{constructor(){this.value="",this.pos=0}static isDigitCharacter(a){return a>=48&&a<=57}static isVariableCharacter(a){return 95===a||a>=97&&a<=122||a>=65&&a<=90}text(a){this.value=a,this.pos=0}tokenText(a){return this.value.substr(a.pos,a.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const a=this.pos;let g,p=0,u=this.value.charCodeAt(a);if(g=c._table[u],"number"==typeof g)return this.pos+=1,{type:g,pos:a,len:1};if(c.isDigitCharacter(u)){g=8;do{p+=1,u=this.value.charCodeAt(a+p)}while(c.isDigitCharacter(u));return this.pos+=p,{type:g,pos:a,len:p}}if(c.isVariableCharacter(u)){g=9;do{u=this.value.charCodeAt(a+ ++p)}while(c.isVariableCharacter(u)||c.isDigitCharacter(u));return this.pos+=p,{type:g,pos:a,len:p}}g=10;do{p+=1,u=this.value.charCodeAt(a+p)}while(!isNaN(u)&&typeof c._table[u]>"u"&&!c.isDigitCharacter(u)&&!c.isVariableCharacter(u));return this.pos+=p,{type:g,pos:a,len:p}}}return c._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},c})();class n{constructor(){this._children=[]}appendChild(t){return t instanceof l&&this._children[this._children.length-1]instanceof l?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this}replace(t,a){const{parent:p}=t,u=p.children.indexOf(t),g=p.children.slice(0);g.splice(u,1,...a),p._children=g,function b(y,w){for(const D of y)D.parent=w,b(D.children,D)}(a,p)}get children(){return this._children}get snippet(){let t=this;for(;;){if(!t)return;if(t instanceof s)return t;t=t.parent}}toString(){return this.children.reduce((t,a)=>t+a.toString(),"")}len(){return 0}}class l extends n{constructor(t){super(),this.value=t}toString(){return this.value}len(){return this.value.length}clone(){return new l(this.value)}}class S extends n{}class v extends S{constructor(t){super(),this.index=t}static compareByIndex(t,a){return t.index===a.index?0:t.isFinalTabstop?1:a.isFinalTabstop||t.index<a.index?-1:t.index>a.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof T?this._children[0]:void 0}clone(){const t=new v(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(a=>a.clone()),t}}class T extends n{constructor(){super(...arguments),this.options=[]}appendChild(t){return t instanceof l&&(t.parent=this,this.options.push(t)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const t=new T;return this.options.forEach(t.appendChild,t),t}}class C extends n{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(t){const a=this;let p=!1,u=t.replace(this.regexp,function(){return p=!0,a._replace(Array.prototype.slice.call(arguments,0,-2))});return!p&&this._children.some(g=>g instanceof E&&Boolean(g.elseValue))&&(u=this._replace([])),u}_replace(t){let a="";for(const p of this._children)if(p instanceof E){let u=t[p.index]||"";u=p.resolve(u),a+=u}else a+=p.toString();return a}toString(){return""}clone(){const t=new C;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(a=>a.clone()),t}}class E extends n{constructor(t,a,p,u){super(),this.index=t,this.shorthandName=a,this.ifValue=p,this.elseValue=u}resolve(t){return"upcase"===this.shorthandName?t?t.toLocaleUpperCase():"":"downcase"===this.shorthandName?t?t.toLocaleLowerCase():"":"capitalize"===this.shorthandName?t?t[0].toLocaleUpperCase()+t.substr(1):"":"pascalcase"===this.shorthandName?t?this._toPascalCase(t):"":"camelcase"===this.shorthandName?t?this._toCamelCase(t):"":Boolean(t)&&"string"==typeof this.ifValue?this.ifValue:Boolean(t)||"string"!=typeof this.elseValue?t||"":this.elseValue}_toPascalCase(t){const a=t.match(/[a-z0-9]+/gi);return a?a.map(p=>p.charAt(0).toUpperCase()+p.substr(1)).join(""):t}_toCamelCase(t){const a=t.match(/[a-z0-9]+/gi);return a?a.map((p,u)=>0===u?p.charAt(0).toLowerCase()+p.substr(1):p.charAt(0).toUpperCase()+p.substr(1)).join(""):t}clone(){return new E(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class L extends S{constructor(t){super(),this.name=t}resolve(t){let a=t.resolve(this);return this.transform&&(a=this.transform.resolve(a||"")),void 0!==a&&(this._children=[new l(a)],!0)}clone(){const t=new L(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(a=>a.clone()),t}}function _(c,t){const a=[...c];for(;a.length>0;){const p=a.shift();if(!t(p))break;a.unshift(...p.children)}}class s extends n{get placeholderInfo(){if(!this._placeholders){const t=[];let a;this.walk(function(p){return p instanceof v&&(t.push(p),a=!a||a.index<p.index?p:a),!0}),this._placeholders={all:t,last:a}}return this._placeholders}get placeholders(){const{all:t}=this.placeholderInfo;return t}offset(t){let a=0,p=!1;return this.walk(u=>u===t?(p=!0,!1):(a+=u.len(),!0)),p?a:-1}fullLen(t){let a=0;return _([t],p=>(a+=p.len(),!0)),a}enclosingPlaceholders(t){const a=[];let{parent:p}=t;for(;p;)p instanceof v&&a.push(p),p=p.parent;return a}resolveVariables(t){return this.walk(a=>(a instanceof L&&a.resolve(t)&&(this._placeholders=void 0),!0)),this}appendChild(t){return this._placeholders=void 0,super.appendChild(t)}replace(t,a){return this._placeholders=void 0,super.replace(t,a)}clone(){const t=new s;return this._children=this.children.map(a=>a.clone()),t}walk(t){_(this.children,t)}}class m{constructor(){this._scanner=new d,this._token={type:14,pos:0,len:0}}static escape(t){return t.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(t){return/\${?CLIPBOARD/.test(t)}parse(t,a,p){const u=new s;return this.parseFragment(t,u),this.ensureFinalTabstop(u,p??!1,a??!1),u}parseFragment(t,a){const p=a.children.length;for(this._scanner.text(t),this._token=this._scanner.next();this._parse(a););const u=new Map,g=[];a.walk(b=>(b instanceof v&&(b.isFinalTabstop?u.set(0,void 0):!u.has(b.index)&&b.children.length>0?u.set(b.index,b.children):g.push(b)),!0));for(const b of g){const y=u.get(b.index);if(y){const w=new v(b.index);w.transform=b.transform;for(const D of y)w.appendChild(D.clone());a.replace(b,[w])}}return a.children.slice(p)}ensureFinalTabstop(t,a,p){(a||p&&t.placeholders.length>0)&&(t.placeholders.find(g=>0===g.index)||t.appendChild(new v(0)))}_accept(t,a){if(void 0===t||this._token.type===t){const p=!a||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),p}return!1}_backTo(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1}_until(t){const a=this._token;for(;this._token.type!==t;){if(14===this._token.type)return!1;if(5===this._token.type){const u=this._scanner.next();if(0!==u.type&&4!==u.type&&5!==u.type)return!1}this._token=this._scanner.next()}const p=this._scanner.value.substring(a.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),p}_parse(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)}_parseEscaped(t){let a;return!!(a=this._accept(5,!0))&&(a=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||a,t.appendChild(new l(a)),!0)}_parseTabstopOrVariableName(t){let a;const p=this._token;return this._accept(0)&&(a=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(a)?new v(Number(a)):new L(a)),!0):this._backTo(p)}_parseComplexPlaceholder(t){let a;const p=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(8,!0))))return this._backTo(p);const g=new v(Number(a));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(g),!0;if(!this._parse(g))return t.appendChild(new l("${"+a+":")),g.children.forEach(t.appendChild,t),!0}else{if(!(g.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(g)?(t.appendChild(g),!0):(this._backTo(p),!1):this._accept(4)?(t.appendChild(g),!0):this._backTo(p);{const b=new T;for(;;){if(this._parseChoiceElement(b)){if(this._accept(2))continue;if(this._accept(7)&&(g.appendChild(b),this._accept(4)))return t.appendChild(g),!0}return this._backTo(p),!1}}}}_parseChoiceElement(t){const a=this._token,p=[];for(;2!==this._token.type&&7!==this._token.type;){let u;if(u=(u=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||u:this._accept(void 0,!0),!u)return this._backTo(a),!1;p.push(u)}return 0===p.length?(this._backTo(a),!1):(t.appendChild(new l(p.join(""))),!0)}_parseComplexVariable(t){let a;const p=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(9,!0))))return this._backTo(p);const g=new L(a);if(!this._accept(1))return this._accept(6)?this._parseTransform(g)?(t.appendChild(g),!0):(this._backTo(p),!1):this._accept(4)?(t.appendChild(g),!0):this._backTo(p);for(;;){if(this._accept(4))return t.appendChild(g),!0;if(!this._parse(g))return t.appendChild(new l("${"+a+":")),g.children.forEach(t.appendChild,t),!0}}_parseTransform(t){const a=new C;let p="",u="";for(;!this._accept(6);){let g;if(g=this._accept(5,!0))g=this._accept(6,!0)||g,p+=g;else{if(14===this._token.type)return!1;p+=this._accept(void 0,!0)}}for(;!this._accept(6);){let g;if(g=this._accept(5,!0))g=this._accept(5,!0)||this._accept(6,!0)||g,a.appendChild(new l(g));else if(!this._parseFormatString(a)&&!this._parseAnything(a))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;u+=this._accept(void 0,!0)}try{a.regexp=new RegExp(p,u)}catch{return!1}return t.transform=a,!0}_parseFormatString(t){const a=this._token;if(!this._accept(0))return!1;let p=!1;this._accept(3)&&(p=!0);const u=this._accept(8,!0);if(!u)return this._backTo(a),!1;if(!p)return t.appendChild(new E(Number(u))),!0;if(this._accept(4))return t.appendChild(new E(Number(u))),!0;if(!this._accept(1))return this._backTo(a),!1;if(this._accept(6)){const g=this._accept(9,!0);return g&&this._accept(4)?(t.appendChild(new E(Number(u),g)),!0):(this._backTo(a),!1)}if(this._accept(11)){const g=this._until(4);if(g)return t.appendChild(new E(Number(u),void 0,g,void 0)),!0}else if(this._accept(12)){const g=this._until(4);if(g)return t.appendChild(new E(Number(u),void 0,void 0,g)),!0}else if(this._accept(13)){const g=this._until(1);if(g){const b=this._until(4);if(b)return t.appendChild(new E(Number(u),void 0,g,b)),!0}}else{const g=this._until(4);if(g)return t.appendChild(new E(Number(u),void 0,void 0,g)),!0}return this._backTo(a),!1}_parseAnything(t){return 14!==this._token.type&&(t.appendChild(new l(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},79980:(Dt,Y,e)=>{"use strict";e.d(Y,{l:()=>Ue});var d=e(64023),n=e(80142),l=e(73879),S=e(57856),v=e.n(S),T=e(38470),C=e.n(T),E=e(43370),L=e.n(E),_=e(28458),s=e.n(_),m=e(71278),c=e.n(m),t=e(29488),a=e.n(t),p=e(88674),u={};u.styleTagTransform=a(),u.setAttributes=s(),u.insert=L().bind(null,"head"),u.domAPI=C(),u.insertStyleElement=c(),v()(p.Z,u);var y=e(65484),w=e(98570),D=e(7233),x=e(94911),P=e(59758),O=e(57585),V=e(24596),H=e(61254),z=e(15240),k=e(8841);function F(ze,ce=k.ED){return(0,z.oP)(ze,ce)?ze.charAt(0).toUpperCase()+ze.slice(1):ze}var K=e(61283),U=e(40734),ne=e(15067),N=e(55197);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class M{constructor(ce){this._delegates=ce}resolve(ce){for(const Ve of this._delegates){const tt=Ve.resolve(ce);if(void 0!==tt)return tt}}}class we{constructor(ce,Ve,tt,Ct){this._model=ce,this._selection=Ve,this._selectionIdx=tt,this._overtypingCapturer=Ct}resolve(ce){const{name:Ve}=ce;if("SELECTION"===Ve||"TM_SELECTED_TEXT"===Ve){let tt=this._model.getValueInRange(this._selection)||void 0,Ct=this._selection.startLineNumber!==this._selection.endLineNumber;if(!tt&&this._overtypingCapturer){const Lt=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Lt&&(tt=Lt.value,Ct=Lt.multiline)}if(tt&&Ct&&ce.snippet){const Lt=this._model.getLineContent(this._selection.startLineNumber),$e=(0,l.V8)(Lt,0,this._selection.startColumn-1);let ae=$e;ce.snippet.walk(he=>he!==ce&&(he instanceof H.xv&&(ae=(0,l.V8)((0,l.uq)(he.value).pop())),!0));const ve=(0,l.Mh)(ae,$e);tt=tt.replace(/(\r\n|\r|\n)(.*)/g,(he,le,Q)=>`${le}${ae.substr(ve)}${Q}`)}return tt}if("TM_CURRENT_LINE"===Ve)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===Ve){const tt=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return tt&&tt.word||void 0}return"TM_LINE_INDEX"===Ve?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===Ve?String(this._selection.positionLineNumber):"CURSOR_INDEX"===Ve?String(this._selectionIdx):"CURSOR_NUMBER"===Ve?String(this._selectionIdx+1):void 0}}class Ee{constructor(ce,Ve){this._labelService=ce,this._model=Ve}resolve(ce){const{name:Ve}=ce;if("TM_FILENAME"===Ve)return K.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===Ve){const tt=K.EZ(this._model.uri.fsPath),Ct=tt.lastIndexOf(".");return Ct<=0?tt:tt.slice(0,Ct)}return"TM_DIRECTORY"===Ve?"."===K.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,U.XX)(this._model.uri)):"TM_FILEPATH"===Ve?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===Ve?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class xe{constructor(ce,Ve,tt,Ct){this._readClipboardText=ce,this._selectionIdx=Ve,this._selectionCount=tt,this._spread=Ct}resolve(ce){if("CLIPBOARD"!==ce.name)return;const Ve=this._readClipboardText();if(Ve){if(this._spread){const tt=Ve.split(/\r\n|\n|\r/).filter(Ct=>!(0,l.m5)(Ct));if(tt.length===this._selectionCount)return tt[this._selectionIdx]}return Ve}}}let Ne=class{constructor(ce,Ve,tt){this._model=ce,this._selection=Ve,this._languageConfigurationService=tt}resolve(ce){const{name:Ve}=ce,tt=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),Ct=this._languageConfigurationService.getLanguageConfiguration(tt).comments;if(Ct){if("LINE_COMMENT"===Ve)return Ct.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===Ve)return Ct.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===Ve)return Ct.blockCommentEndToken||void 0}}};var ce;Ne=function(ze,ce,Ve,tt){var $e,Ct=arguments.length,Lt=Ct<3?ce:null===tt?tt=Object.getOwnPropertyDescriptor(ce,Ve):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Lt=Reflect.decorate(ze,ce,Ve,tt);else for(var ae=ze.length-1;ae>=0;ae--)($e=ze[ae])&&(Lt=(Ct<3?$e(Lt):Ct>3?$e(ce,Ve,Lt):$e(ce,Ve))||Lt);return Ct>3&&Lt&&Object.defineProperty(ce,Ve,Lt),Lt}([(2,ce=x.c_,function(Ve,tt){ce(Ve,tt,2)})],Ne);class oe{constructor(){this._date=new Date}resolve(ce){const{name:Ve}=ce;return"CURRENT_YEAR"===Ve?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===Ve?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===Ve?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===Ve?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===Ve?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===Ve?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===Ve?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===Ve?oe.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===Ve?oe.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===Ve?oe.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===Ve?oe.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===Ve?String(Math.floor(this._date.getTime()/1e3)):void 0}}oe.dayNames=[N.NC("Sunday","Sunday"),N.NC("Monday","Monday"),N.NC("Tuesday","Tuesday"),N.NC("Wednesday","Wednesday"),N.NC("Thursday","Thursday"),N.NC("Friday","Friday"),N.NC("Saturday","Saturday")],oe.dayNamesShort=[N.NC("SundayShort","Sun"),N.NC("MondayShort","Mon"),N.NC("TuesdayShort","Tue"),N.NC("WednesdayShort","Wed"),N.NC("ThursdayShort","Thu"),N.NC("FridayShort","Fri"),N.NC("SaturdayShort","Sat")],oe.monthNames=[N.NC("January","January"),N.NC("February","February"),N.NC("March","March"),N.NC("April","April"),N.NC("May","May"),N.NC("June","June"),N.NC("July","July"),N.NC("August","August"),N.NC("September","September"),N.NC("October","October"),N.NC("November","November"),N.NC("December","December")],oe.monthNamesShort=[N.NC("JanuaryShort","Jan"),N.NC("FebruaryShort","Feb"),N.NC("MarchShort","Mar"),N.NC("AprilShort","Apr"),N.NC("MayShort","May"),N.NC("JuneShort","Jun"),N.NC("JulyShort","Jul"),N.NC("AugustShort","Aug"),N.NC("SeptemberShort","Sep"),N.NC("OctoberShort","Oct"),N.NC("NovemberShort","Nov"),N.NC("DecemberShort","Dec")];class Se{constructor(ce){this._workspaceService=ce}resolve(ce){if(!this._workspaceService)return;const Ve=(0,V.uT)(this._workspaceService.getWorkspace());if(Ve){if("WORKSPACE_NAME"===ce.name)return this._resolveWorkspaceName(Ve);if("WORKSPACE_FOLDER"===ce.name)return this._resoveWorkspacePath(Ve)}}_resolveWorkspaceName(ce){if((0,V.eb)(ce))return K.EZ(ce.uri.path);let Ve=K.EZ(ce.configPath.path);return Ve.endsWith(V.A6)&&(Ve=Ve.substr(0,Ve.length-V.A6.length-1)),Ve}_resoveWorkspacePath(ce){if((0,V.eb)(ce))return F(ce.uri.fsPath);const Ve=K.EZ(ce.configPath.path);let tt=ce.configPath.fsPath;return tt.endsWith(Ve)&&(tt=tt.substr(0,tt.length-Ve.length-1)),tt?F(tt):"/"}}class Ie{resolve(ce){const{name:Ve}=ce;return"RANDOM"===Ve?Math.random().toString().slice(-6):"RANDOM_HEX"===Ve?Math.random().toString(16).slice(-6):"UUID"===Ve?(0,ne.R)():void 0}}class de{constructor(ce,Ve,tt){this._editor=ce,this._snippet=Ve,this._snippetLineLeadingWhitespace=tt,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,d.vM)(Ve.placeholders,H.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(ce){this._offset=ce.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const ce=this._editor.getModel();this._editor.changeDecorations(Ve=>{for(const tt of this._snippet.placeholders){const Ct=this._snippet.offset(tt),Lt=this._snippet.fullLen(tt),$e=w.e.fromPositions(ce.getPositionAt(this._offset+Ct),ce.getPositionAt(this._offset+Ct+Lt)),ve=Ve.addDecoration($e,tt.isFinalTabstop?de._decor.inactiveFinal:de._decor.inactive);this._placeholderDecorations.set(tt,ve)}})}move(ce){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const Ct=[];for(const Lt of this._placeholderGroups[this._placeholderGroupsIdx])if(Lt.transform){const $e=this._placeholderDecorations.get(Lt),ae=this._editor.getModel().getDecorationRange($e),ve=this._editor.getModel().getValueInRange(ae),he=Lt.transform.resolve(ve).split(/\r\n|\r|\n/);for(let le=1;le<he.length;le++)he[le]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+he[le]);Ct.push(y.h.replace(ae,he.join(this._editor.getModel().getEOL())))}Ct.length>0&&this._editor.executeEdits("snippet.placeholderTransform",Ct)}let Ve=!1;!0===ce&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,Ve=!0):!1===ce&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,Ve=!0);const tt=this._editor.getModel().changeDecorations(Ct=>{const Lt=new Set,$e=[];for(const ae of this._placeholderGroups[this._placeholderGroupsIdx]){const ve=this._placeholderDecorations.get(ae),he=this._editor.getModel().getDecorationRange(ve);$e.push(new D.Y(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)),Ve=Ve&&this._hasPlaceholderBeenCollapsed(ae),Ct.changeDecorationOptions(ve,ae.isFinalTabstop?de._decor.activeFinal:de._decor.active),Lt.add(ae);for(const le of this._snippet.enclosingPlaceholders(ae)){const Q=this._placeholderDecorations.get(le);Ct.changeDecorationOptions(Q,le.isFinalTabstop?de._decor.activeFinal:de._decor.active),Lt.add(le)}}for(const[ae,ve]of this._placeholderDecorations)Lt.has(ae)||Ct.changeDecorationOptions(ve,ae.isFinalTabstop?de._decor.inactiveFinal:de._decor.inactive);return $e});return Ve?this.move(ce):tt??[]}_hasPlaceholderBeenCollapsed(ce){let Ve=ce;for(;Ve;){if(Ve instanceof H.Vm){const tt=this._placeholderDecorations.get(Ve);if(this._editor.getModel().getDecorationRange(tt).isEmpty()&&Ve.toString().length>0)return!0}Ve=Ve.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return 0===this._snippet.placeholders.length||1===this._snippet.placeholders.length&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const ce=new Map;for(const Ve of this._placeholderGroups){let tt;for(const Ct of Ve){if(Ct.isFinalTabstop)break;tt||(tt=[],ce.set(Ct.index,tt));const Lt=this._placeholderDecorations.get(Ct),$e=this._editor.getModel().getDecorationRange(Lt);if(!$e){ce.delete(Ct.index);break}tt.push($e)}}return ce}get activeChoice(){if(!this._placeholderDecorations)return;const ce=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!ce?.choice)return;const Ve=this._placeholderDecorations.get(ce);if(!Ve)return;const tt=this._editor.getModel().getDecorationRange(Ve);return tt?{range:tt,choice:ce.choice}:void 0}get hasChoice(){let ce=!1;return this._snippet.walk(Ve=>(ce=Ve instanceof H.Lv,!ce)),ce}merge(ce){const Ve=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(tt=>{for(const Ct of this._placeholderGroups[this._placeholderGroupsIdx]){const Lt=ce.shift();console.assert(-1!==Lt._offset),console.assert(!Lt._placeholderDecorations);const $e=Lt._snippet.placeholderInfo.last.index;for(const ve of Lt._snippet.placeholderInfo.all)ve.index=ve.isFinalTabstop?Ct.index+($e+1)/this._nestingLevel:Ct.index+ve.index/this._nestingLevel;this._snippet.replace(Ct,Lt._snippet.children);const ae=this._placeholderDecorations.get(Ct);tt.removeDecoration(ae),this._placeholderDecorations.delete(Ct);for(const ve of Lt._snippet.placeholders){const he=Lt._snippet.offset(ve),le=Lt._snippet.fullLen(ve),Q=w.e.fromPositions(Ve.getPositionAt(Lt._offset+he),Ve.getPositionAt(Lt._offset+he+le)),Ce=tt.addDecoration(Q,de._decor.inactive);this._placeholderDecorations.set(ve,Ce)}}this._placeholderGroups=(0,d.vM)(this._snippet.placeholders,H.Vm.compareByIndex)})}}de._decor={active:P.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:P.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:P.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:P.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const ke={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Ue=class Ba{constructor(ce,Ve,tt=ke,Ct){this._editor=ce,this._template=Ve,this._options=tt,this._languageConfigurationService=Ct,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(ce,Ve,tt,Ct,Lt){const $e=ce.getLineContent(Ve.lineNumber),ae=(0,l.V8)($e,0,Ve.column-1);let ve;return tt.walk(he=>{if(!(he instanceof H.xv)||he.parent instanceof H.Lv)return!0;const le=he.value.split(/\r\n|\r|\n/);if(Ct){const Ce=tt.offset(he);if(0===Ce)le[0]=ce.normalizeIndentation(le[0]);else{ve=ve??tt.toString();const Pe=ve.charCodeAt(Ce-1);(10===Pe||13===Pe)&&(le[0]=ce.normalizeIndentation(ae+le[0]))}for(let Pe=1;Pe<le.length;Pe++)le[Pe]=ce.normalizeIndentation(ae+le[Pe])}const Q=le.join(ce.getEOL());return Q!==he.value&&(he.parent.replace(he,[new H.xv(Q)]),ve=void 0),!0}),ae}static adjustSelection(ce,Ve,tt,Ct){if(0!==tt||0!==Ct){const{positionLineNumber:Lt,positionColumn:$e}=Ve,he=ce.validateRange({startLineNumber:Lt,startColumn:$e-tt,endLineNumber:Lt,endColumn:$e+Ct});Ve=D.Y.createWithDirection(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn,Ve.getDirection())}return Ve}static createEditsAndSnippetsFromSelections(ce,Ve,tt,Ct,Lt,$e,ae,ve,he){const le=[],Q=[];if(!ce.hasModel())return{edits:le,snippets:Q};const Ce=ce.getModel(),Pe=ce.invokeWithinContext(mt=>mt.get(V.ec)),dt=ce.invokeWithinContext(mt=>new Ee(mt.get(O.e),Ce)),st=()=>ae,qe=Ce.getValueInRange(Ba.adjustSelection(Ce,ce.getSelection(),tt,0)),Qe=Ce.getValueInRange(Ba.adjustSelection(Ce,ce.getSelection(),0,Ct)),et=Ce.getLineFirstNonWhitespaceColumn(ce.getSelection().positionLineNumber),vt=ce.getSelections().map((mt,_t)=>({selection:mt,idx:_t})).sort((mt,_t)=>w.e.compareRangesUsingStarts(mt.selection,_t.selection));for(const{selection:mt,idx:_t}of vt){let $t=Ba.adjustSelection(Ce,mt,tt,0),Bt=Ba.adjustSelection(Ce,mt,0,Ct);qe!==Ce.getValueInRange($t)&&($t=mt),Qe!==Ce.getValueInRange(Bt)&&(Bt=mt);const Ke=mt.setStartPosition($t.startLineNumber,$t.startColumn).setEndPosition(Bt.endLineNumber,Bt.endColumn),ht=(new H.Yj).parse(Ve,!0,Lt),jt=Ke.getStartPosition(),fn=Ba.adjustWhitespace(Ce,jt,ht,$e||_t>0&&et!==Ce.getLineFirstNonWhitespaceColumn(mt.positionLineNumber),!0);ht.resolveVariables(new M([dt,new xe(st,_t,vt.length,"spread"===ce.getOption(73)),new we(Ce,mt,_t,ve),new Ne(Ce,mt,he),new oe,new Se(Pe),new Ie])),le[_t]=y.h.replace(Ke,ht.toString()),le[_t].identifier={major:_t,minor:0},le[_t]._isTracked=!0,Q[_t]=new de(ce,ht,fn)}return{edits:le,snippets:Q}}static createEditsAndSnippetsFromEdits(ce,Ve,tt,Ct,Lt,$e,ae){if(!ce.hasModel()||0===Ve.length)return{edits:[],snippets:[]};const ve=[],he=ce.getModel(),le=new H.Yj,Q=new H.y1,Ce=new M([ce.invokeWithinContext(dt=>new Ee(dt.get(O.e),he)),new xe(()=>Lt,0,ce.getSelections().length,"spread"===ce.getOption(73)),new we(he,ce.getSelection(),0,$e),new Ne(he,ce.getSelection(),ae),new oe,new Se(ce.invokeWithinContext(dt=>dt.get(V.ec))),new Ie]);Ve=Ve.sort((dt,st)=>w.e.compareRangesUsingStarts(dt.range,st.range));let Pe=0;for(let dt=0;dt<Ve.length;dt++){const{range:st,template:qe}=Ve[dt];if(dt>0){const _t=w.e.fromPositions(Ve[dt-1].range.getEndPosition(),st.getStartPosition()),$t=new H.xv(he.getValueInRange(_t));Q.appendChild($t),Pe+=$t.value.length}le.parseFragment(qe,Q),Q.resolveVariables(Ce);const Qe=Q.toString(),et=Qe.slice(Pe);Pe=Qe.length;const vt=y.h.replace(st,et);vt.identifier={major:dt,minor:0},vt._isTracked=!0,ve.push(vt)}return le.ensureFinalTabstop(Q,tt,!0),{edits:ve,snippets:[new de(ce,Q,"")]}}dispose(){(0,n.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:ce,snippets:Ve}="string"==typeof this._template?Ba.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Ba.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Ve,this._editor.executeEdits("snippet",ce,tt=>{const Ct=tt.filter(Lt=>!!Lt.identifier);for(let Lt=0;Lt<Ve.length;Lt++)Ve[Lt].initialize(Ct[Lt].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):Ct.map(Lt=>D.Y.fromPositions(Lt.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(ce,Ve=ke){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,ce]);const{edits:tt,snippets:Ct}=Ba.createEditsAndSnippetsFromSelections(this._editor,ce,Ve.overwriteBefore,Ve.overwriteAfter,!0,Ve.adjustWhitespace,Ve.clipboardText,Ve.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",tt,Lt=>{const $e=Lt.filter(ve=>!!ve.identifier);for(let ve=0;ve<Ct.length;ve++)Ct[ve].initialize($e[ve].textChange);const ae=Ct[0].isTrivialSnippet;if(!ae){for(const ve of this._snippets)ve.merge(Ct);console.assert(0===Ct.length)}return this._snippets[0].hasPlaceholder&&!ae?this._move(void 0):$e.map(ve=>D.Y.fromPositions(ve.range.getEndPosition()))})}next(){const ce=this._move(!0);this._editor.setSelections(ce),this._editor.revealPositionInCenterIfOutsideViewport(ce[0].getPosition())}prev(){const ce=this._move(!1);this._editor.setSelections(ce),this._editor.revealPositionInCenterIfOutsideViewport(ce[0].getPosition())}_move(ce){const Ve=[];for(const tt of this._snippets){const Ct=tt.move(ce);Ve.push(...Ct)}return Ve}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const ce=this._editor.getSelections();if(ce.length<this._snippets.length)return!1;const Ve=new Map;for(const tt of this._snippets){const Ct=tt.computePossibleSelections();if(0===Ve.size)for(const[Lt,$e]of Ct){$e.sort(w.e.compareRangesUsingStarts);for(const ae of ce)if($e[0].containsRange(ae)){Ve.set(Lt,[]);break}}if(0===Ve.size)return!1;Ve.forEach((Lt,$e)=>{Lt.push(...Ct.get($e))})}ce.sort(w.e.compareRangesUsingStarts);for(const[tt,Ct]of Ve)if(Ct.length===ce.length){Ct.sort(w.e.compareRangesUsingStarts);for(let Lt=0;Lt<Ct.length;Lt++)if(!Ct[Lt].containsRange(ce[Lt])){Ve.delete(tt);continue}}else Ve.delete(tt);return Ve.size>0}};Ue=function(ze,ce,Ve,tt){var $e,Ct=arguments.length,Lt=Ct<3?ce:null===tt?tt=Object.getOwnPropertyDescriptor(ce,Ve):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Lt=Reflect.decorate(ze,ce,Ve,tt);else for(var ae=ze.length-1;ae>=0;ae--)($e=ze[ae])&&(Lt=(Ct<3?$e(Lt):Ct>3?$e(ce,Ve,Lt):$e(ce,Ve))||Lt);return Ct>3&&Lt&&Object.defineProperty(ce,Ve,Lt),Lt}([function(ze,ce){return function(Ve,tt){ce(Ve,tt,3)}}(0,x.c_)],Ue)},32638:(Dt,Y,e)=>{"use strict";e.r(Y);var a,d=e(80142),n=e(26845),l=e(90790),S=e(55276),v=e(73888),T=e(98463),C=e(8680),E=e(27131),L=e(56110),_=e(48648),s=e(18723),t=function(y,w,D,x){return new(D||(D=Promise))(function(O,V){function H(F){try{k(x.next(F))}catch(j){V(j)}}function z(F){try{k(x.throw(F))}catch(j){V(j)}}function k(F){F.done?O(F.value):function P(O){return O instanceof D?O:new D(function(V){V(O)})}(F.value).then(H,z)}k((x=x.apply(y,w||[])).next())})};let p=class extends d.JT{constructor(w,D){super(),this._sessionStore=new d.SL,this._ranges=[],this._rangesVersionId=0,this._editor=w,this._languageFeaturesService=D,this.stickyScrollWidget=new b(this._editor),this._register(this._editor.onDidChangeConfiguration(x=>{x.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new _.pY(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(!1===this._editor.getOption(34).stickyScroll.enabled)return this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),void this._sessionStore.clear();this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(D=>this._onTokensChange(D))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(w){const D=this.stickyScrollWidget.getCurrentLines();for(const x of D)for(const P of w.ranges)if(x>=P.fromLineNumber&&x<=P.toLineNumber)return!0;return!1}_onTokensChange(w){this._needsUpdate(w)&&this._update(!1)}_update(w=!1){var D,x;return t(this,void 0,void 0,function*(){w&&(null===(D=this._cts)||void 0===D||D.dispose(!0),this._cts=new v.A,yield this._updateOutlineModel(this._cts.token));const P=null===(x=this._editor._getViewModel())||void 0===x?void 0:x.getHiddenAreas();if(P)for(const O of P)this._ranges=this._ranges.filter(V=>!(V[0]>=O.startLineNumber&&V[1]<=O.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(w,D){if(w?.children.size){let x=!1;for(const P of w?.children.values()){const O=P.symbol.kind;(4===O||8===O||11===O||10===O||5===O||1===O)&&(x=!0,this._findLineRanges(P,D+1))}x||this._addOutlineRanges(w,D)}else this._addOutlineRanges(w,D)}_addOutlineRanges(w,D){let x=0,P=0;for(;w;){const O=w.symbol.kind;if((4===O||8===O||11===O||10===O||5===O||1===O)&&(x=w?.symbol.range.startLineNumber,P=w?.symbol.range.endLineNumber,this._ranges.push([x,P,D]),D--),!(w.parent instanceof S.sT))break;w=w.parent}}_updateOutlineModel(w){return t(this,void 0,void 0,function*(){if(this._editor.hasModel()){const D=this._editor.getModel(),x=D.getVersionId(),P=yield S.C3.create(this._languageFeaturesService.documentSymbolProvider,D,w);if(w.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=x;for(const O of P.children.values()){if(O instanceof S.sT){const H=O.symbol.kind;this._findLineRanges(O,4===H||8===H||11===H||10===H||5===H||1===H?1:0)}this._ranges=this._ranges.sort(function(H,z){return H[0]!==z[0]?H[0]-z[0]:H[1]!==z[1]?z[1]-H[1]:H[2]-z[2]});let V=[];for(const[H,z]of this._ranges.entries()){const[k,F,j]=z;V[0]===k&&V[1]===F?this._ranges.splice(H,1):V=z}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const w=this._editor.getOption(61),D=this._editor.getModel();if(this._rangesVersionId!==D.getVersionId())return;const x=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const P=new Set;for(const[O,V]of this._ranges.entries()){const[H,z,k]=V;if(z-H>0&&""!==D.getLineContent(H)){const F=(k-1)*w,j=k*w,K=this._editor.getBottomForLineNumber(H)-x,U=this._editor.getTopForLineNumber(z)-x,ne=this._editor.getBottomForLineNumber(z)-x;if(P.has(H))this._ranges.splice(O,1);else{if(F>=U-1&&F<ne-2){P.add(H),this.stickyScrollWidget.pushCodeLine(new g(H,k,this._editor,-1,ne-j));break}j>K&&j<ne-1&&(P.add(H),this.stickyScrollWidget.pushCodeLine(new g(H,k,this._editor,0,0)))}}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};var w;p.ID="store.contrib.stickyScrollController",p=function(y,w,D,x){var V,P=arguments.length,O=P<3?w:null===x?x=Object.getOwnPropertyDescriptor(w,D):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(y,w,D,x);else for(var H=y.length-1;H>=0;H--)(V=y[H])&&(O=(P<3?V(O):P>3?V(w,D,O):V(w,D))||O);return P>3&&O&&Object.defineProperty(w,D,O),O}([(1,w=l.p,function(D,x){w(D,x,1)})],p);const u=null===(a=window.trustedTypes)||void 0===a?void 0:a.createPolicy("stickyScrollViewLayer",{createHTML:y=>y});class g{constructor(w,D,x,P,O){this._lineNumber=w,this._depth=D,this._editor=x,this._zIndex=P,this._relativePosition=O,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const w=document.createElement("div"),D=this._editor._getViewModel(),x=D.coordinatesConverter.convertModelPositionToViewPosition(new s.L(this._lineNumber,1)).lineNumber,P=D.getViewLineRenderingData(x);let O;try{O=L.Kp.filter(P.inlineDecorations,x,P.minColumn,P.maxColumn)}catch{O=[]}const V=new E.IJ(!0,!0,P.content,P.continuesWithWrappedLine,P.isBasicASCII,P.containsRTL,0,P.tokens,O,P.tabSize,P.startVisibleColumn,1,1,1,100,"none",!0,!0,null),H=(0,C.l$)(400);let z;(0,E.d1)(V,H),z=u?u.createHTML(H.build()):H.build();const k=document.createElement("span");k.style.backgroundColor="var(--vscode-editorStickyScroll-background)",k.style.overflow="hidden",k.style.whiteSpace="nowrap",k.style.display="inline-block",k.style.lineHeight=this._editor.getOption(61).toString()+"px",k.innerHTML=z;const F=document.createElement("span");F.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",F.style.backgroundColor="var(--vscode-editorStickyScroll-background)",F.style.color="var(--vscode-editorLineNumber-foreground)",F.style.display="inline-block",F.style.lineHeight=this._editor.getOption(61).toString()+"px";const j=document.createElement("span");return j.innerText=this._lineNumber.toString(),j.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",j.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",j.style.backgroundColor="var(--vscode-editorStickyScroll-background)",j.style.textAlign="right",j.style.float="left",j.style.lineHeight=this._editor.getOption(61).toString()+"px",F.appendChild(j),w.onclick=K=>{K.stopPropagation(),K.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},w.onmouseover=K=>{j.style.background="var(--vscode-editorStickyScrollHover-background)",k.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",F.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",w.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",j.style.cursor="pointer",k.style.cursor="pointer",w.style.cursor="pointer",F.style.cursor="pointer"},w.onmouseleave=K=>{j.style.background="var(--vscode-editorStickyScroll-background)",k.style.backgroundColor="var(--vscode-editorStickyScroll-background)",F.style.backgroundColor="var(--vscode-editorStickyScroll-background)",w.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(k),this._editor.applyFontInfo(j),w.appendChild(F),w.appendChild(k),w.style.zIndex=this._zIndex.toString(),w.style.backgroundColor="var(--vscode-editorStickyScroll-background)",w.style.overflow="hidden",w.style.whiteSpace="nowrap",w.style.width="100%",w.style.lineHeight=this._editor.getOption(61).toString()+"px",w.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(w.style.position="relative",w.style.top=this._relativePosition+"px",w.style.width="100%"),w}}class b{constructor(w){this._editor=w,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const w=[];for(const D of this.arrayOfCodeLines)w.push(D.lineNumber);return w}pushCodeLine(w){this.arrayOfCodeLines.push(w)}updateRootNode(){let w=0;for(const D of this.arrayOfCodeLines)w+=D.effectiveLineHeight,this.rootDomNode.appendChild(D.getDomNode());this.rootDomNode.style.height=w.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,T.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,n._K)(p.ID,p)},83961:(Dt,Y,e)=>{"use strict";e.d(Y,{_:()=>v,t:()=>S});var d=e(64023),n=e(25715),l=e(73879);class S{constructor(C,E){this.leadingLineContent=C,this.characterCountDelta=E}}class v{constructor(C,E,L,_,s,m,c=n.mX.default,t){this.clipboardText=t,this._snippetCompareFn=v._compareCompletionItems,this._items=C,this._column=E,this._wordDistance=_,this._options=s,this._refilterKind=1,this._lineContext=L,this._fuzzyScoreOptions=c,"top"===m?this._snippetCompareFn=v._compareCompletionItemsSnippetsUp:"bottom"===m&&(this._snippetCompareFn=v._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(const[E,L]of this._providerInfo)L&&C.add(E);return C}adopt(C){const E=[];for(let L=0;L<this._items.length;)C.has(this._items[L].provider)?L++:(E.push(this._items[L]),this._items[L]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,E}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:E,characterCountDelta:L}=this._lineContext;let _="",s="";const m=1===this._refilterKind?this._items:this._filteredItems,c=[],t=!this._options.filterGraceful||m.length>2e3?n.EW:n.l7;for(let a=0;a<m.length;a++){const p=m[a];if(p.isInvalid)continue;this._providerInfo.set(p.provider,Boolean(p.container.incomplete));const u=p.position.column-p.editStart.column,g=u+L-(p.position.column-this._column);if(_.length!==g&&(_=0===g?"":E.slice(-g),s=_.toLowerCase()),p.word=_,0===g)p.score=n.CL.Default;else{let b=0;for(;b<u;){const y=_.charCodeAt(b);if(32!==y&&9!==y)break;b+=1}if(b>=g)p.score=n.CL.Default;else if("string"==typeof p.completion.filterText){const y=t(_,s,b,p.completion.filterText,p.filterTextLow,0,this._fuzzyScoreOptions);if(!y)continue;0===(0,l.zY)(p.completion.filterText,p.textLabel)?p.score=y:(p.score=(0,n.jB)(_,s,b,p.textLabel,p.labelLow,0),p.score[0]=y[0])}else{const y=t(_,s,b,p.textLabel,p.labelLow,0,this._fuzzyScoreOptions);if(!y)continue;p.score=y}}p.idx=a,p.distance=this._wordDistance.distance(p.position,p.completion),c.push(p),C.push(p.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,d.HW)(C.length-.85,C,(a,p)=>a-p):0}}static _compareCompletionItems(C,E){return C.score[0]>E.score[0]?-1:C.score[0]<E.score[0]?1:C.distance<E.distance?-1:C.distance>E.distance?1:C.idx<E.idx?-1:C.idx>E.idx?1:0}static _compareCompletionItemsSnippetsDown(C,E){if(C.completion.kind!==E.completion.kind){if(27===C.completion.kind)return 1;if(27===E.completion.kind)return-1}return v._compareCompletionItems(C,E)}static _compareCompletionItemsSnippetsUp(C,E){if(C.completion.kind!==E.completion.kind){if(27===C.completion.kind)return-1;if(27===E.completion.kind)return 1}return v._compareCompletionItems(C,E)}}},83956:(Dt,Y,e)=>{"use strict";e.d(Y,{A9:()=>D,GI:()=>y,ZJ:()=>P,_y:()=>b,i5:()=>K,kL:()=>V,tG:()=>U,wg:()=>j});var d=e(73888),n=e(4125),l=e(25715),S=e(80142),v=e(631),T=e(72715),C=e(59547),E=e(18723),L=e(98570),_=e(1149),s=e(61254),m=e(55197),c=e(74918),t=e(66549),a=e(16468),p=e(90790),u=e(76613),g=function(ne,N,W,Z){return new(W||(W=Promise))(function(M,we){function Ee(oe){try{Ne(Z.next(oe))}catch(Se){we(Se)}}function xe(oe){try{Ne(Z.throw(oe))}catch(Se){we(Se)}}function Ne(oe){oe.done?M(oe.value):function ge(M){return M instanceof W?M:new W(function(we){we(M)})}(oe.value).then(Ee,xe)}Ne((Z=Z.apply(ne,N||[])).next())})};const b={Visible:u.iX,HasFocusedSuggestion:new a.uy("suggestWidgetHasFocusedSuggestion",!1,(0,m.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new a.uy("suggestWidgetDetailsVisible",!1,(0,m.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new a.uy("suggestWidgetMultipleSuggestions",!1,(0,m.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new a.uy("suggestionMakesTextEdit",!0,(0,m.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new a.uy("acceptSuggestionOnEnter",!0,(0,m.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new a.uy("suggestionHasInsertAndReplaceRange",!1,(0,m.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new a.uy("suggestionInsertMode",void 0,{type:"string",description:(0,m.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new a.uy("suggestionCanResolve",!1,(0,m.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},y=new c.eH("suggestWidgetStatusBar");class w{constructor(N,W,Z,ge){this.position=N,this.completion=W,this.container=Z,this.provider=ge,this.isInvalid=!1,this.score=l.CL.Default,this.distance=0,this.textLabel="string"==typeof W.label?W.label:W.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=W.sortText&&W.sortText.toLowerCase(),this.filterTextLow=W.filterText&&W.filterText.toLowerCase(),this.extensionId=W.extensionId,L.e.isIRange(W.range)?(this.editStart=new E.L(W.range.startLineNumber,W.range.startColumn),this.editInsertEnd=new E.L(W.range.endLineNumber,W.range.endColumn),this.editReplaceEnd=new E.L(W.range.endLineNumber,W.range.endColumn),this.isInvalid=this.isInvalid||L.e.spansMultipleLines(W.range)||W.range.startLineNumber!==N.lineNumber):(this.editStart=new E.L(W.range.insert.startLineNumber,W.range.insert.startColumn),this.editInsertEnd=new E.L(W.range.insert.endLineNumber,W.range.insert.endColumn),this.editReplaceEnd=new E.L(W.range.replace.endLineNumber,W.range.replace.endColumn),this.isInvalid=this.isInvalid||L.e.spansMultipleLines(W.range.insert)||L.e.spansMultipleLines(W.range.replace)||W.range.insert.startLineNumber!==N.lineNumber||W.range.replace.startLineNumber!==N.lineNumber||W.range.insert.startColumn!==W.range.replace.startColumn),"function"!=typeof ge.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(N){return g(this,void 0,void 0,function*(){if(!this._resolveCache){const W=N.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,N)).then(Z=>{Object.assign(this.completion,Z),this._isResolved=!0,W.dispose()},Z=>{(0,n.n2)(Z)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class D{constructor(N=2,W=new Set,Z=new Set,ge=!0){this.snippetSortOrder=N,this.kindFilter=W,this.providerFilter=Z,this.showDeprecated=ge}}function P(){}D.default=new D;class O{constructor(N,W,Z,ge){this.items=N,this.needsClipboard=W,this.durations=Z,this.disposable=ge}}function V(ne,N,W,Z=D.default,ge={triggerKind:0},M=d.T.None){return g(this,void 0,void 0,function*(){const we=new v.G(!0);W=W.clone();const Ee=N.getWordAtPosition(W),xe=Ee?new L.e(W.lineNumber,Ee.startColumn,W.lineNumber,Ee.endColumn):L.e.fromPositions(W),Ne={replace:xe,insert:xe.setEndPosition(W.lineNumber,W.column)},oe=[],Se=new S.SL,Ie=[];let me=!1;const Me=(ke,Ue,ze)=>{var ce,Ve,tt;let Ct=!1;if(!Ue)return Ct;for(const Lt of Ue.suggestions)if(!Z.kindFilter.has(Lt.kind)){if(!Z.showDeprecated&&(null===(ce=Lt?.tags)||void 0===ce?void 0:ce.includes(1)))continue;Lt.range||(Lt.range=Ne),Lt.sortText||(Lt.sortText="string"==typeof Lt.label?Lt.label:Lt.label.label),!me&&Lt.insertTextRules&&4&Lt.insertTextRules&&(me=s.Yj.guessNeedsClipboard(Lt.insertText)),oe.push(new w(W,Lt,Ue,ke)),Ct=!0}return(0,S.Wf)(Ue)&&Se.add(Ue),Ie.push({providerName:null!==(Ve=ke._debugDisplayName)&&void 0!==Ve?Ve:"unknown_provider",elapsedProvider:null!==(tt=Ue.duration)&&void 0!==tt?tt:-1,elapsedOverall:ze.elapsed()}),Ct},de=(()=>g(this,void 0,void 0,function*(){}))();for(const ke of ne.orderedGroups(N)){let Ue=!1;if(yield Promise.all(ke.map(ze=>g(this,void 0,void 0,function*(){if(!(Z.providerFilter.size>0)||Z.providerFilter.has(ze))try{const ce=new v.G(!0),Ve=yield ze.provideCompletionItems(N,W,ge,M);Ue=Me(ze,Ve,ce)||Ue}catch(ce){(0,n.Cp)(ce)}}))),Ue||M.isCancellationRequested)break}return yield de,M.isCancellationRequested?(Se.dispose(),Promise.reject(new n.FU)):new O(oe.sort(j(Z.snippetSortOrder)),me,{entries:Ie,elapsed:we.elapsed()},Se)})}function H(ne,N){if(ne.sortTextLow&&N.sortTextLow){if(ne.sortTextLow<N.sortTextLow)return-1;if(ne.sortTextLow>N.sortTextLow)return 1}return ne.textLabel<N.textLabel?-1:ne.textLabel>N.textLabel?1:ne.completion.kind-N.completion.kind}const F=new Map;function j(ne){return F.get(ne)}function K(ne,N){var W;null===(W=ne.getContribution("editor.contrib.suggestController"))||void 0===W||W.triggerSuggest((new Set).add(N),void 0,!0)}F.set(0,function z(ne,N){if(ne.completion.kind!==N.completion.kind){if(27===ne.completion.kind)return-1;if(27===N.completion.kind)return 1}return H(ne,N)}),F.set(2,function k(ne,N){if(ne.completion.kind!==N.completion.kind){if(27===ne.completion.kind)return 1;if(27===N.completion.kind)return-1}return H(ne,N)}),F.set(1,H),t.P0.registerCommand("_executeCompletionItemProvider",(ne,...N)=>g(void 0,void 0,void 0,function*(){const[W,Z,ge,M]=N;(0,T.p_)(C.o.isUri(W)),(0,T.p_)(E.L.isIPosition(Z)),(0,T.p_)("string"==typeof ge||!ge),(0,T.p_)("number"==typeof M||!M);const{completionProvider:we}=ne.get(p.p),Ee=yield ne.get(_.S).createModelReference(W);try{const xe={incomplete:!1,suggestions:[]},Ne=[],oe=yield V(we,Ee.object.textEditorModel,E.L.lift(Z),void 0,{triggerCharacter:ge,triggerKind:ge?1:0});for(const Se of oe.items)Ne.length<(M??0)&&Ne.push(Se.resolve(d.T.None)),xe.incomplete=xe.incomplete||Se.container.incomplete,xe.suggestions.push(Se.completion);try{return yield Promise.all(Ne),xe}finally{setTimeout(()=>oe.disposable.dispose(),100)}}finally{Ee.dispose()}}));class U{static isAllOff(N){return"off"===N.other&&"off"===N.comments&&"off"===N.strings}static isAllOn(N){return"on"===N.other&&"on"===N.comments&&"on"===N.strings}static valueFor(N,W){switch(W){case 1:return N.comments;case 2:return N.strings;default:return N.other}}}},69207:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{SuggestController:()=>ft,TriggerSuggestAction:()=>tn});var d=e(59797),n=e(64023),l=e(48648),S=e(73888),v=e(4125),T=e(3778),C=e(37451),E=e(80142),L=e(8841),_=e(631),s=e(72715),m=e(46780),c=e(26845),t=e(65484),a=e(18723),p=e(98570),u=e(82290),g=e(31583),b=e(61254),y=e(82557),w=e(16468);let P=class Ac{constructor(ut,Pt){this._editor=ut,this._enabled=!1,this._ckAtEnd=Ac.AtEnd.bindTo(Pt),this._configListener=this._editor.onDidChangeConfiguration(Ht=>Ht.hasChanged(113)&&this._update()),this._update()}dispose(){var ut;this._configListener.dispose(),null===(ut=this._selectionListener)||void 0===ut||ut.dispose(),this._ckAtEnd.reset()}_update(){const ut="on"===this._editor.getOption(113);if(this._enabled!==ut)if(this._enabled=ut,this._enabled){const Pt=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const Ht=this._editor.getModel(),Qt=this._editor.getSelection(),bn=Ht.getWordAtPosition(Qt.getStartPosition());this._ckAtEnd.set(!!bn&&bn.endColumn===Qt.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Pt),Pt()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};var ut;P.AtEnd=new w.uy("atEndOfWord",!1),P=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([(1,ut=w.i6,function(Pt,Ht){ut(Pt,Ht,1)})],P);var O=e(55197),V=e(66549),H=e(9265),z=e(29693),k=e(83956);let K=class sd{constructor(ut,Pt){this._editor=ut,this._index=0,this._ckOtherSuggestions=sd.OtherSuggestions.bindTo(Pt)}dispose(){this.reset()}reset(){var ut;this._ckOtherSuggestions.reset(),null===(ut=this._listener)||void 0===ut||ut.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:ut,index:Pt},Ht){0!==ut.items.length&&sd._moveIndex(!0,ut,Pt)!==Pt?(this._acceptNext=Ht,this._model=ut,this._index=Pt,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(ut,Pt,Ht){let Qt=Ht;for(;Qt=(Qt+Pt.items.length+(ut?1:-1))%Pt.items.length,Qt!==Ht&&Pt.items[Qt].completion.additionalTextEdits;);return Qt}next(){this._move(!0)}prev(){this._move(!1)}_move(ut){if(this._model)try{this._ignore=!0,this._index=sd._moveIndex(ut,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};K.OtherSuggestions=new w.uy("hasOtherSuggestions",!1),K=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([function(En,ut){return function(Pt,Ht){ut(Pt,Ht,1)}}(0,w.i6)],K);var U=e(81742);class ne{constructor(ut,Pt,Ht){this._disposables=new E.SL,this._disposables.add(Pt.onDidShow(()=>this._onItem(Pt.getFocusedItem()))),this._disposables.add(Pt.onDidFocus(this._onItem,this)),this._disposables.add(Pt.onDidHide(this.reset,this)),this._disposables.add(ut.onWillType(Qt=>{if(this._active&&!Pt.isFrozen()){const bn=Qt.charCodeAt(Qt.length-1);this._active.acceptCharacters.has(bn)&&ut.getOption(0)&&Ht(this._active.item)}}))}_onItem(ut){if(!ut||!(0,n.Of)(ut.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===ut.item)return;const Pt=new U.q;for(const Ht of ut.item.completion.commitCharacters)Ht.length>0&&Pt.add(Ht.charCodeAt(0));this._active={acceptCharacters:Pt,item:ut}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var N=e(73879),W=e(7233),Z=e(81534),ge=e(37833),M=e(25787),we=e(94667),Ee=e(24131),xe=e(83961),Ne=e(90790),Se=function(En,ut){return function(Pt,Ht){ut(Pt,Ht,En)}};class me{constructor(ut,Pt,Ht,Qt,bn){this.leadingLineContent=ut.getLineContent(Pt.lineNumber).substr(0,Pt.column-1),this.leadingWord=ut.getWordUntilPosition(Pt),this.lineNumber=Pt.lineNumber,this.column=Pt.column,this.auto=Ht,this.shy=Qt,this.noSelect=bn}static shouldAutoTrigger(ut){if(!ut.hasModel())return!1;const Pt=ut.getModel(),Ht=ut.getPosition();Pt.tokenization.tokenizeIfCheap(Ht.lineNumber);const Qt=Pt.getWordAtPosition(Ht);return!(!Qt||Qt.endColumn!==Ht.column||!isNaN(Number(Qt.word)))}}let Ue=class Pc{constructor(ut,Pt,Ht,Qt,bn,Re,ct,Cn){this._editor=ut,this._editorWorkerService=Pt,this._clipboardService=Ht,this._telemetryService=Qt,this._logService=bn,this._contextKeyService=Re,this._configurationService=ct,this._languageFeaturesService=Cn,this._toDispose=new E.SL,this._triggerCharacterListener=new E.SL,this._triggerQuickSuggest=new l._F,this._state=0,this._completionDisposables=new E.SL,this._onDidCancel=new T.Q5,this._onDidTrigger=new T.Q5,this._onDidSuggest=new T.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new W.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let Hn=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{Hn=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{Hn=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Ii=>{Hn||this._onCursorChange(Ii)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{Hn||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,E.B9)(this._triggerCharacterListener),(0,E.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const ut=new Map;for(const Ht of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const Qt of Ht.triggerCharacters||[]){let bn=ut.get(Qt);bn||(bn=new Set,bn.add((0,k.ZJ)()),ut.set(Qt,bn)),bn.add(Ht)}const Pt=Ht=>{if(!function ke(En,ut,Pt){if(!Boolean(ut.getContextKeyValue("inlineSuggestionVisible")))return!0;const Ht=Pt.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==Ht&&Boolean(Ht)}(0,this._contextKeyService,this._configurationService)||me.shouldAutoTrigger(this._editor))return;if(!Ht){const Re=this._editor.getPosition();Ht=this._editor.getModel().getLineContent(Re.lineNumber).substr(0,Re.column-1)}let Qt="";(0,N.YK)(Ht.charCodeAt(Ht.length-1))?(0,N.ZG)(Ht.charCodeAt(Ht.length-2))&&(Qt=Ht.substr(Ht.length-2)):Qt=Ht.charAt(Ht.length-1);const bn=ut.get(Qt);if(bn){const Re=this._completionModel?{items:this._completionModel.adopt(bn),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:Qt},Boolean(this._completionModel),bn,Re)}};this._triggerCharacterListener.add(this._editor.onDidType(Pt)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Pt()))}get state(){return this._state}cancel(ut=!1){var Pt;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(Pt=this._requestToken)||void 0===Pt||Pt.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:ut}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1,noSelect:!1},!0):this.cancel())}_onCursorChange(ut){if(!this._editor.hasModel())return;const Pt=this._currentSelection;this._currentSelection=this._editor.getSelection(),!ut.selection.isEmpty()||0!==ut.reason&&3!==ut.reason||"keyboard"!==ut.source&&"deleteLeft"!==ut.source?this.cancel():0===this._state&&0===ut.reason?(Pt.containsRange(this._currentSelection)||Pt.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===ut.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var ut;k.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&(null===(ut=g.SnippetController2.get(this._editor))||void 0===ut?void 0:ut.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!me.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Pt=this._editor.getModel(),Ht=this._editor.getPosition(),Qt=this._editor.getOption(81);if(!k.tG.isAllOff(Qt)){if(!k.tG.isAllOn(Qt)){Pt.tokenization.tokenizeIfCheap(Ht.lineNumber);const bn=Pt.tokenization.getLineTokens(Ht.lineNumber),Re=bn.getStandardTokenType(bn.findTokenIndexAtOffset(Math.max(Ht.column-1-1,0)));if("on"!==k.tG.valueFor(Qt,Re))return}!function de(En,ut,Pt){if(!Boolean(ut.getContextKeyValue("inlineSuggestionVisible")))return!0;const Ht=Pt.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==Ht&&Boolean(Ht)}(0,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(Pt)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const ut=this._editor.getModel(),Pt=this._editor.getPosition(),Ht=new me(ut,Pt,2===this._state,!1,!1);this._onNewContext(Ht)})}trigger(ut,Pt=!1,Ht,Qt,bn){var Re;if(!this._editor.hasModel())return;const ct=this._editor.getModel(),Cn=ut.auto,Hn=new me(ct,this._editor.getPosition(),Cn,ut.shy,ut.noSelect);this.cancel(Pt),this._state=Cn?2:1,this._onDidTrigger.fire({auto:Cn,shy:ut.shy,position:this._editor.getPosition()}),this._context=Hn;let Ii={triggerKind:null!==(Re=ut.triggerKind)&&void 0!==Re?Re:0};ut.triggerCharacter&&(Ii={triggerKind:1,triggerCharacter:ut.triggerCharacter}),this._requestToken=new S.A;const bi=this._editor.getOption(103);let di=1;switch(bi){case"top":di=0;break;case"bottom":di=2}const{itemKind:Ft,showDeprecated:R}=Pc._createSuggestFilter(this._editor),J=new k.A9(di,bn?new Set:Ft,Ht,R),_e=ge.K.create(this._editorWorkerService,this._editor),je=(0,k.kL)(this._languageFeaturesService.completionProvider,ct,this._editor.getPosition(),J,Ii,this._requestToken.token);Promise.all([je,_e]).then(([Ye,at])=>function(En,ut,Pt,Ht){return new(Pt||(Pt=Promise))(function(bn,Re){function ct(Ii){try{Hn(Ht.next(Ii))}catch(bi){Re(bi)}}function Cn(Ii){try{Hn(Ht.throw(Ii))}catch(bi){Re(bi)}}function Hn(Ii){Ii.done?bn(Ii.value):function Qt(bn){return bn instanceof Pt?bn:new Pt(function(Re){Re(bn)})}(Ii.value).then(ct,Cn)}Hn((Ht=Ht.apply(En,ut||[])).next())})}(this,void 0,void 0,function*(){var on;if(null===(on=this._requestToken)||void 0===on||on.dispose(),!this._editor.hasModel())return;let qt=Qt?.clipboardText;if(!qt&&Ye.needsClipboard&&(qt=yield this._clipboardService.readText()),0===this._state)return;const yn=this._editor.getModel();let Tn=Ye.items;if(Qt){const Kn=(0,k.wg)(di);Tn=Tn.concat(Qt.items).sort(Kn)}const Bn=new me(yn,this._editor.getPosition(),Cn,ut.shy,ut.noSelect);this._completionModel=new xe._(Tn,this._context.column,{leadingLineContent:Bn.leadingLineContent,characterCountDelta:Bn.column-this._context.column},at,this._editor.getOption(108),this._editor.getOption(103),void 0,qt),this._completionDisposables.add(Ye.disposable),this._onNewContext(Bn),this._reportDurationsTelemetry(Ye.durations)})).catch(v.dL)}_reportDurationsTelemetry(ut){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(ut)}),this._logService.debug("suggest.durations.json",ut)})}static _createSuggestFilter(ut){const Pt=new Set;"none"===ut.getOption(103)&&Pt.add(27);const Qt=ut.getOption(108);return Qt.showMethods||Pt.add(0),Qt.showFunctions||Pt.add(1),Qt.showConstructors||Pt.add(2),Qt.showFields||Pt.add(3),Qt.showVariables||Pt.add(4),Qt.showClasses||Pt.add(5),Qt.showStructs||Pt.add(6),Qt.showInterfaces||Pt.add(7),Qt.showModules||Pt.add(8),Qt.showProperties||Pt.add(9),Qt.showEvents||Pt.add(10),Qt.showOperators||Pt.add(11),Qt.showUnits||Pt.add(12),Qt.showValues||Pt.add(13),Qt.showConstants||Pt.add(14),Qt.showEnums||Pt.add(15),Qt.showEnumMembers||Pt.add(16),Qt.showKeywords||Pt.add(17),Qt.showWords||Pt.add(18),Qt.showColors||Pt.add(19),Qt.showFiles||Pt.add(20),Qt.showReferences||Pt.add(21),Qt.showColors||Pt.add(22),Qt.showFolders||Pt.add(23),Qt.showTypeParameters||Pt.add(24),Qt.showSnippets||Pt.add(27),Qt.showUsers||Pt.add(25),Qt.showIssues||Pt.add(26),{itemKind:Pt,showDeprecated:Qt.showDeprecated}}_onNewContext(ut){if(this._context){if(ut.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,N.V8)(ut.leadingLineContent)!==(0,N.V8)(this._context.leadingLineContent))return void this.cancel();if(ut.column<this._context.column)return void(ut.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel());if(this._completionModel){if(0!==ut.leadingWord.word.length&&ut.leadingWord.startColumn>this._context.leadingWord.startColumn){const Pt=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const Qt of this._completionModel.allProvider)Pt.delete(Qt);const Ht=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,Pt,{items:Ht,clipboardText:this._completionModel.clipboardText})}if(ut.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==ut.leadingWord.word.length){const{incomplete:Pt}=this._completionModel,Ht=this._completionModel.adopt(Pt);this.trigger({auto:2===this._state,shy:!1,noSelect:!1,triggerKind:2},!0,Pt,{items:Ht,clipboardText:this._completionModel.clipboardText})}else{const Pt=this._completionModel.lineContext;let Ht=!1;if(this._completionModel.lineContext={leadingLineContent:ut.leadingLineContent,characterCountDelta:ut.column-this._context.column},0===this._completionModel.items.length){if(me.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<ut.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=Pt,Ht=this._completionModel.items.length>0,Ht&&0===ut.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:Ht})}}}}};Ue=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([Se(1,Z.p),Se(2,M.p),Se(3,Ee.b),Se(4,z.VZ),Se(5,w.i6),Se(6,we.Ui),Se(7,Ne.p)],Ue);let ze=(()=>{class En{constructor(Pt,Ht){this._disposables=new E.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(Pt.onWillType(()=>{if(!this._empty||!Pt.hasModel())return;const Qt=Pt.getSelections(),bn=Qt.length;let Re=!1;for(let Cn=0;Cn<bn;Cn++)if(!Qt[Cn].isEmpty()){Re=!0;break}if(!Re)return;this._lastOvertyped=[];const ct=Pt.getModel();for(let Cn=0;Cn<bn;Cn++){const Hn=Qt[Cn];if(ct.getValueLengthInRange(Hn)>En._maxSelectionLength)return;this._lastOvertyped[Cn]={value:ct.getValueInRange(Hn),multiline:Hn.startLineNumber!==Hn.endLineNumber}}this._empty=!1})),this._disposables.add(Ht.onDidCancel(Qt=>{!this._empty&&!Qt.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(Pt){if(!this._empty&&Pt>=0&&Pt<this._lastOvertyped.length)return this._lastOvertyped[Pt]}dispose(){this._disposables.dispose()}}return En._maxSelectionLength=51200,En})();var ce=e(98463),tt=(e(82099),e(25478)),Ct=e(73455),Lt=e(57856),$e=e.n(Lt),ae=e(38470),ve=e.n(ae),he=e(43370),le=e.n(he),Q=e(28458),Ce=e.n(Q),Pe=e(71278),dt=e.n(Pe),st=e(29488),qe=e.n(st),Qe=e(33955),et={};et.styleTagTransform=qe(),et.setAttributes=Ce(),et.insert=le().bind(null,"head"),et.domAPI=ve(),et.insertStyleElement=dt(),$e()(Qe.Z,et);var _t=e(19186),$t=e(65065),Bt=e(38516),Ke=e(74918),jt=function(En,ut){return function(Pt,Ht){ut(Pt,Ht,En)}};class fn extends Bt.Mm{updateLabel(){const ut=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!ut)return super.updateLabel();this.label&&(this.label.textContent=(0,O.NC)("ddd","{0} ({1})",this._action.label,fn.symbolPrintEnter(ut)))}static symbolPrintEnter(ut){var Pt;return null===(Pt=ut.getLabel())||void 0===Pt?void 0:Pt.replace(/\benter\b/gi,"\u23ce")}}let Dn=class{constructor(ut,Pt,Ht,Qt){this._menuService=Ht,this._contextKeyService=Qt,this._menuDisposables=new E.SL,this.element=ce.R3(ut,ce.$(".suggest-status-bar"));const bn=Re=>Re instanceof Ke.U8?Pt.createInstance(fn,Re,void 0):void 0;this._leftActions=new $t.o(this.element,{actionViewItemProvider:bn}),this._rightActions=new $t.o(this.element,{actionViewItemProvider:bn}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const ut=this._menuService.createMenu(k.GI,this._contextKeyService),Pt=()=>{const Ht=[],Qt=[];for(const[bn,Re]of ut.getActions())"left"===bn?Ht.push(...Re):Qt.push(...Re);this._leftActions.clear(),this._leftActions.push(Ht),this._rightActions.clear(),this._rightActions.push(Qt)};this._menuDisposables.add(ut.onDidChange(()=>Pt())),this._menuDisposables.add(ut)}hide(){this._menuDisposables.clear()}};Dn=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([jt(1,H.TG),jt(2,Ke.co),jt(3,w.i6)],Dn),e(71008);var He=e(48190),ye=e(4062),Ae=e(52075),ue=e(18034),be=e(40902),Je=e(84075);class Fe{constructor(){this._onDidWillResize=new T.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new T.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new E.SL,this._size=new ce.Ro(0,0),this._minSize=new ce.Ro(0,0),this._maxSize=new ce.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Je.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Je.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Je.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Je.l.North}),this._southSash=new Je.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Je.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let ut,Pt=0,Ht=0;this._sashListener.add(T.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===ut&&(this._onDidWillResize.fire(),ut=this._size,Pt=0,Ht=0)})),this._sashListener.add(T.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==ut&&(ut=void 0,Pt=0,Ht=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(Qt=>{ut&&(Ht=Qt.currentX-Qt.startX,this.layout(ut.height+Pt,ut.width+Ht),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(Qt=>{ut&&(Ht=-(Qt.currentX-Qt.startX),this.layout(ut.height+Pt,ut.width+Ht),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(Qt=>{ut&&(Pt=-(Qt.currentY-Qt.startY),this.layout(ut.height+Pt,ut.width+Ht),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(Qt=>{ut&&(Pt=Qt.currentY-Qt.startY,this.layout(ut.height+Pt,ut.width+Ht),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(T.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(Qt=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(T.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(Qt=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(ut,Pt,Ht,Qt){this._northSash.state=ut?3:0,this._eastSash.state=Pt?3:0,this._southSash.state=Ht?3:0,this._westSash.state=Qt?3:0}layout(ut=this.size.height,Pt=this.size.width){const{height:Ht,width:Qt}=this._minSize,{height:bn,width:Re}=this._maxSize;ut=Math.max(Ht,Math.min(bn,ut)),Pt=Math.max(Qt,Math.min(Re,Pt));const ct=new ce.Ro(Pt,ut);ce.Ro.equals(ct,this._size)||(this.domNode.style.height=ut+"px",this.domNode.style.width=Pt+"px",this._size=ct,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(ut){this._maxSize=ut}get maxSize(){return this._maxSize}set minSize(ut){this._minSize=ut}get minSize(){return this._minSize}set preferredSize(ut){this._preferredSize=ut}get preferredSize(){return this._preferredSize}}var nt=e(3067),bt=e(58783),Ut=e(48701),vn=e(29739);function gn(En){return!!En&&Boolean(En.completion.documentation||En.completion.detail&&En.completion.detail!==En.completion.label)}let Vn=class{constructor(ut,Pt){this._editor=ut,this._onDidClose=new T.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new T.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new E.SL,this._renderDisposeable=new E.SL,this._borderWidth=1,this._size=new ce.Ro(330,0),this.domNode=ce.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Pt.createInstance(vn.$,{editor:ut}),this._body=ce.$(".body"),this._scrollbar=new nt.s$(this._body,{alwaysConsumeMouseWheel:!0}),ce.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ce.R3(this._body,ce.$(".header")),this._close=ce.R3(this._header,ce.$("span"+bt.lA.close.cssSelector)),this._close.title=O.NC("details.close","Close"),this._type=ce.R3(this._header,ce.$("p.type")),this._docs=ce.R3(this._body,ce.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Ht=>{Ht.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const ut=this._editor.getOptions(),Pt=ut.get(46),Ht=Pt.getMassagedFontFamily(),Qt=ut.get(109)||Pt.fontSize,bn=ut.get(110)||Pt.lineHeight,Re=Pt.fontWeight,Cn=`${bn}px`;this.domNode.style.fontSize=`${Qt}px`,this.domNode.style.lineHeight=""+bn/Qt,this.domNode.style.fontWeight=Re,this.domNode.style.fontFeatureSettings=Pt.fontFeatureSettings,this._type.style.fontFamily=Ht,this._close.style.height=Cn,this._close.style.width=Cn}getLayoutInfo(){const ut=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,Pt=this._borderWidth;return{lineHeight:ut,borderWidth:Pt,borderHeight:2*Pt,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=O.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(ut,Pt){var Ht,Qt;this._renderDisposeable.clear();let{detail:bn,documentation:Re}=ut.completion;if(Pt){let ct="";ct+=`score: ${ut.score[0]}\n`,ct+=`prefix: ${null!==(Ht=ut.word)&&void 0!==Ht?Ht:"(no prefix)"}\n`,ct+=`word: ${ut.completion.filterText?ut.completion.filterText+" (filterText)":ut.textLabel}\n`,ct+=`distance: ${ut.distance} (localityBonus-setting)\n`,ct+=`index: ${ut.idx}, based on ${ut.completion.sortText&&`sortText: "${ut.completion.sortText}"`||"label"}\n`,ct+=`commit_chars: ${null===(Qt=ut.completion.commitCharacters)||void 0===Qt?void 0:Qt.join("")}\n`,Re=(new Ut.W5).appendCodeblock("empty",ct),bn=`Provider: ${ut.provider._debugDisplayName}`}if(Pt||gn(ut)){if(this.domNode.classList.remove("no-docs","no-type"),bn){const ct=bn.length>1e5?`${bn.substr(0,1e5)}\u2026`:bn;this._type.textContent=ct,this._type.title=ct,ce.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(ct))}else ce.PO(this._type),this._type.title="",ce.Cp(this._type),this.domNode.classList.add("no-type");if(ce.PO(this._docs),"string"==typeof Re)this._docs.classList.remove("markdown-docs"),this._docs.textContent=Re;else if(Re){this._docs.classList.add("markdown-docs"),ce.PO(this._docs);const ct=this._markdownRenderer.render(Re);this._docs.appendChild(ct.element),this._renderDisposeable.add(ct),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=ct=>{ct.preventDefault(),ct.stopPropagation()},this._close.onclick=ct=>{ct.preventDefault(),ct.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(ut,Pt){const Ht=new ce.Ro(ut,Pt);ce.Ro.equals(Ht,this._size)||(this._size=Ht,ce.dp(this.domNode,ut,Pt)),this._scrollbar.scanDomNode()}scrollDown(ut=8){this._body.scrollTop+=ut}scrollUp(ut=8){this._body.scrollTop-=ut}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(ut){this._borderWidth=ut}get borderWidth(){return this._borderWidth}};Vn=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([function(En,ut){return function(Pt,Ht){ut(Pt,Ht,1)}}(0,H.TG)],Vn);class Sn{constructor(ut,Pt){this.widget=ut,this._editor=Pt,this._disposables=new E.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Fe,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(ut.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Ht,Qt,bn=0,Re=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Ht=this._topLeft,Qt=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(ct=>{if(Ht&&Qt){this.widget.layout(ct.dimension.width,ct.dimension.height);let Cn=!1;ct.west&&(Re=Qt.width-ct.dimension.width,Cn=!0),ct.north&&(bn=Qt.height-ct.dimension.height,Cn=!0),Cn&&this._applyTopLeft({top:Ht.top+bn,left:Ht.left+Re})}ct.done&&(Ht=void 0,Qt=void 0,bn=0,Re=0,this._userSize=ct.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var ct;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(ct=this._userSize)&&void 0!==ct?ct:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(ut=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),ut&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(ut,Pt){var Ht;const Qt=ut.getBoundingClientRect();this._anchorBox=Qt,this._preferAlignAtTop=Pt,this._placeAtAnchor(this._anchorBox,null!==(Ht=this._userSize)&&void 0!==Ht?Ht:this.widget.size,Pt)}_placeAtAnchor(ut,Pt,Ht){var Qt;const bn=ce.D6(document.body),Re=this.widget.getLayoutInfo(),ct=new ce.Ro(220,2*Re.lineHeight),Cn=ut.top,Hn=function(){const at=bn.width-(ut.left+ut.width+Re.borderWidth+Re.horizontalPadding),on=-Re.borderWidth+ut.left+ut.width,qt=new ce.Ro(at,bn.height-ut.top-Re.borderHeight-Re.verticalPadding),yn=qt.with(void 0,ut.top+ut.height-Re.borderHeight-Re.verticalPadding);return{top:Cn,left:on,fit:at-Pt.width,maxSizeTop:qt,maxSizeBottom:yn,minSize:ct.with(Math.min(at,ct.width))}}(),di=[Hn,function(){const at=ut.left-Re.borderWidth-Re.horizontalPadding,on=Math.max(Re.horizontalPadding,ut.left-Pt.width-Re.borderWidth),qt=new ce.Ro(at,bn.height-ut.top-Re.borderHeight-Re.verticalPadding),yn=qt.with(void 0,ut.top+ut.height-Re.borderHeight-Re.verticalPadding);return{top:Cn,left:on,fit:at-Pt.width,maxSizeTop:qt,maxSizeBottom:yn,minSize:ct.with(Math.min(at,ct.width))}}(),function(){const at=ut.left,on=-Re.borderWidth+ut.top+ut.height,qt=new ce.Ro(ut.width-Re.borderHeight,bn.height-ut.top-ut.height-Re.verticalPadding);return{top:on,left:at,fit:qt.height-Pt.height,maxSizeBottom:qt,maxSizeTop:qt,minSize:ct.with(qt.width)}}()],Ft=null!==(Qt=di.find(at=>at.fit>=0))&&void 0!==Qt?Qt:di.sort((at,on)=>on.fit-at.fit)[0],R=ut.top+ut.height-Re.borderHeight;let J,_e=Pt.height;const je=Math.max(Ft.maxSizeTop.height,Ft.maxSizeBottom.height);let Ye;_e>je&&(_e=je),Ht?_e<=Ft.maxSizeTop.height?(J=!0,Ye=Ft.maxSizeTop):(J=!1,Ye=Ft.maxSizeBottom):_e<=Ft.maxSizeBottom.height?(J=!1,Ye=Ft.maxSizeBottom):(J=!0,Ye=Ft.maxSizeTop),this._applyTopLeft({left:Ft.left,top:J?Ft.top:R-_e}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!J,Ft===Hn,J,Ft!==Hn),this._resizable.minSize=Ft.minSize,this._resizable.maxSize=Ye,this._resizable.layout(_e,Math.min(Ye.width,Pt.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(ut){this._topLeft=ut,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Gn=e(80757),ci=e(25715),ii=e(59547),Ei=e(45337),no=e(59310),to=e(40734),Co=e(72188),io=(()=>(function(En){En[En.FILE=0]="FILE",En[En.FOLDER=1]="FOLDER",En[En.ROOT_FOLDER=2]="ROOT_FOLDER"}(io||(io={})),io))();const uo=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function go(En,ut,Pt,Ht){const Qt=Ht===io.ROOT_FOLDER?["rootfolder-icon"]:Ht===io.FOLDER?["folder-icon"]:["file-icon"];if(Pt){let bn;if(Pt.scheme===no.lg.data)bn=to.Vb.parseMetaData(Pt).get(to.Vb.META_DATA_LABEL);else{const Re=Pt.path.match(uo);Re?(bn=Yt(Re[2].toLowerCase()),Re[1]&&Qt.push(`${Yt(Re[1].toLowerCase())}-name-dir-icon`)):bn=Yt(Pt.authority.toLowerCase())}if(Ht===io.FOLDER)Qt.push(`${bn}-name-folder-icon`);else{if(bn){if(Qt.push(`${bn}-name-file-icon`),Qt.push("name-file-icon"),bn.length<=255){const ct=bn.split(".");for(let Cn=1;Cn<ct.length;Cn++)Qt.push(`${ct.slice(Cn).join(".")}-ext-file-icon`)}Qt.push("ext-file-icon")}const Re=function si(En,ut,Pt){if(!Pt)return null;let Ht=null;if(Pt.scheme===no.lg.data){const bn=to.Vb.parseMetaData(Pt).get(to.Vb.META_DATA_MIME);bn&&(Ht=ut.getLanguageIdByMimeType(bn))}else{const Qt=En.getModel(Pt);Qt&&(Ht=Qt.getLanguageId())}return Ht&&Ht!==Co.bd?Ht:ut.guessLanguageIdByFilepathOrFirstLine(Pt)}(En,ut,Pt);Re&&Qt.push(`${Yt(Re)}-lang-file-icon`)}}return Qt}function Yt(En){return En.replace(/[\11\12\14\15\40]/g,"/")}var mn,pt=e(59602),gt=e(45358),an=function(En,ut){return function(Pt,Ht){ut(Pt,Ht,En)}};function Nn(En){return`suggest-aria-id:${En}`}const jn=(0,e(66287).q5)("suggest-more-info",bt.lA.chevronRight,O.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Yn=new(mn=class rd{extract(ut,Pt){if(ut.textLabel.match(rd._regexStrict))return Pt[0]=ut.textLabel,!0;if(ut.completion.detail&&ut.completion.detail.match(rd._regexStrict))return Pt[0]=ut.completion.detail,!0;if("string"==typeof ut.completion.documentation){const Ht=rd._regexRelaxed.exec(ut.completion.documentation);if(Ht&&(0===Ht.index||Ht.index+Ht[0].length===ut.completion.documentation.length))return Pt[0]=Ht[0],!0}return!1}},mn._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,mn._regexStrict=new RegExp(`^${mn._regexRelaxed.source}$`,"i"),mn);let wi=class{constructor(ut,Pt,Ht,Qt){this._editor=ut,this._modelService=Pt,this._languageService=Ht,this._themeService=Qt,this._onDidToggleDetails=new T.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(ut){const Pt=Object.create(null);Pt.disposables=new E.SL,Pt.root=ut,Pt.root.classList.add("show-file-icons"),Pt.icon=(0,ce.R3)(ut,(0,ce.$)(".icon")),Pt.colorspan=(0,ce.R3)(Pt.icon,(0,ce.$)("span.colorspan"));const Ht=(0,ce.R3)(ut,(0,ce.$)(".contents")),Qt=(0,ce.R3)(Ht,(0,ce.$)(".main"));Pt.iconContainer=(0,ce.R3)(Qt,(0,ce.$)(".icon-label.codicon")),Pt.left=(0,ce.R3)(Qt,(0,ce.$)("span.left")),Pt.right=(0,ce.R3)(Qt,(0,ce.$)("span.right")),Pt.iconLabel=new Gn.g(Pt.left,{supportHighlights:!0,supportIcons:!0}),Pt.disposables.add(Pt.iconLabel),Pt.parametersLabel=(0,ce.R3)(Pt.left,(0,ce.$)("span.signature-label")),Pt.qualifierLabel=(0,ce.R3)(Pt.left,(0,ce.$)("span.qualifier-label")),Pt.detailsLabel=(0,ce.R3)(Pt.right,(0,ce.$)("span.details-label")),Pt.readMore=(0,ce.R3)(Pt.right,(0,ce.$)("span.readMore"+be.kS.asCSSSelector(jn))),Pt.readMore.title=O.NC("readMore","Read More");const bn=()=>{const Re=this._editor.getOptions(),ct=Re.get(46),Cn=ct.getMassagedFontFamily(),Hn=ct.fontFeatureSettings,Ii=Re.get(109)||ct.fontSize,bi=Re.get(110)||ct.lineHeight,di=ct.fontWeight,J=`${bi}px`,_e=`${ct.letterSpacing}px`;Pt.root.style.fontSize=`${Ii}px`,Pt.root.style.fontWeight=di,Pt.root.style.letterSpacing=_e,Qt.style.fontFamily=Cn,Qt.style.fontFeatureSettings=Hn,Qt.style.lineHeight=J,Pt.icon.style.height=J,Pt.icon.style.width=J,Pt.readMore.style.height=J,Pt.readMore.style.width=J};return bn(),Pt.disposables.add(this._editor.onDidChangeConfiguration(Re=>{(Re.hasChanged(46)||Re.hasChanged(109)||Re.hasChanged(110))&&bn()})),Pt}renderElement(ut,Pt,Ht){const{completion:Qt}=ut;Ht.root.id=Nn(Pt),Ht.colorspan.style.backgroundColor="";const bn={labelEscapeNewLines:!0,matches:(0,ci.mB)(ut.score)},Re=[];if(19===Qt.kind&&Yn.extract(ut,Re))Ht.icon.className="icon customcolor",Ht.iconContainer.className="icon hide",Ht.colorspan.style.backgroundColor=Re[0];else if(20===Qt.kind&&this._themeService.getFileIconTheme().hasFileIcons){Ht.icon.className="icon hide",Ht.iconContainer.className="icon hide";const ct=go(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:ut.textLabel}),io.FILE),Cn=go(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:Qt.detail}),io.FILE);bn.extraClasses=ct.length>Cn.length?ct:Cn}else 23===Qt.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(Ht.icon.className="icon hide",Ht.iconContainer.className="icon hide",bn.extraClasses=[go(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:ut.textLabel}),io.FOLDER),go(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:Qt.detail}),io.FOLDER)].flat()):(Ht.icon.className="icon hide",Ht.iconContainer.className="",Ht.iconContainer.classList.add("suggest-icon",...bt.dT.asClassNameArray(Ei.gX.toIcon(Qt.kind))));Qt.tags&&Qt.tags.indexOf(1)>=0&&(bn.extraClasses=(bn.extraClasses||[]).concat(["deprecated"]),bn.matches=[]),Ht.iconLabel.setLabel(ut.textLabel,void 0,bn),"string"==typeof Qt.label?(Ht.parametersLabel.textContent="",Ht.detailsLabel.textContent=Li(Qt.detail||""),Ht.root.classList.add("string-label")):(Ht.parametersLabel.textContent=Li(Qt.label.detail||""),Ht.detailsLabel.textContent=Li(Qt.label.description||""),Ht.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,ce.$Z)(Ht.detailsLabel):(0,ce.Cp)(Ht.detailsLabel),gn(ut)?(Ht.right.classList.add("can-expand-details"),(0,ce.$Z)(Ht.readMore),Ht.readMore.onmousedown=ct=>{ct.stopPropagation(),ct.preventDefault()},Ht.readMore.onclick=ct=>{ct.stopPropagation(),ct.preventDefault(),this._onDidToggleDetails.fire()}):(Ht.right.classList.remove("can-expand-details"),(0,ce.Cp)(Ht.readMore),Ht.readMore.onmousedown=null,Ht.readMore.onclick=null)}disposeTemplate(ut){ut.disposables.dispose()}};function Li(En){return En.replace(/\r\n|\r|\n/g,"")}wi=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([an(1,pt.q),an(2,gt.O),an(3,be.XE)],wi);var Pi=function(En,ut){return function(Pt,Ht){ut(Pt,Ht,En)}};(0,ye.P6G)("editorSuggestWidget.background",{dark:ye.D0T,light:ye.D0T,hcDark:ye.D0T,hcLight:ye.D0T},O.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.border",{dark:ye.D1_,light:ye.D1_,hcDark:ye.D1_,hcLight:ye.D1_},O.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const mo=(0,ye.P6G)("editorSuggestWidget.foreground",{dark:ye.NOs,light:ye.NOs,hcDark:ye.NOs,hcLight:ye.NOs},O.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Mo=((0,ye.P6G)("editorSuggestWidget.selectedForeground",{dark:ye.NPS,light:ye.NPS,hcDark:ye.NPS,hcLight:ye.NPS},O.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.selectedIconForeground",{dark:ye.cbQ,light:ye.cbQ,hcDark:ye.cbQ,hcLight:ye.cbQ},O.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.selectedBackground",{dark:ye.Vqd,light:ye.Vqd,hcDark:ye.Vqd,hcLight:ye.Vqd},O.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,ye.P6G)("editorSuggestWidget.highlightForeground",{dark:ye.Gwp,light:ye.Gwp,hcDark:ye.Gwp,hcLight:ye.Gwp},O.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:ye.PX0,light:ye.PX0,hcDark:ye.PX0,hcLight:ye.PX0},O.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,ye.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,ye.ZnX)(mo,.5),light:(0,ye.ZnX)(mo,.5),hcDark:(0,ye.ZnX)(mo,.5),hcLight:(0,ye.ZnX)(mo,.5)},O.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Ao{constructor(ut,Pt){this._service=ut,this._key=`suggestWidget.size/${Pt.getEditorType()}/${Pt instanceof _t.H}`}restore(){var ut;const Pt=null!==(ut=this._service.get(this._key,0))&&void 0!==ut?ut:"";try{const Ht=JSON.parse(Pt);if(ce.Ro.is(Ht))return ce.Ro.lift(Ht)}catch{}}store(ut){this._service.store(this._key,JSON.stringify(ut),0,1)}reset(){this._service.remove(this._key,0)}}let li=class Fd{constructor(ut,Pt,Ht,Qt,bn){this.editor=ut,this._storageService=Pt,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new l._F,this._disposables=new E.SL,this._onDidSelect=new T.Q5,this._onDidFocus=new T.Q5,this._onDidHide=new T.Q5,this._onDidShow=new T.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new T.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Fe,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Xt(this,ut),this._persistedSize=new Ao(Pt,ut);class Re{constructor(Ft,R,J=!1,_e=!1){this.persistedSize=Ft,this.currentSize=R,this.persistHeight=J,this.persistWidth=_e}}let ct;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),ct=new Re(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(di=>{var Ft,R,J,_e;if(this._resize(di.dimension.width,di.dimension.height),ct&&(ct.persistHeight=ct.persistHeight||!!di.north||!!di.south,ct.persistWidth=ct.persistWidth||!!di.east||!!di.west),di.done){if(ct){const{itemHeight:je,defaultSize:Ye}=this.getLayoutInfo(),at=Math.round(je/2);let{width:on,height:qt}=this.element.size;(!ct.persistHeight||Math.abs(ct.currentSize.height-qt)<=at)&&(qt=null!==(R=null===(Ft=ct.persistedSize)||void 0===Ft?void 0:Ft.height)&&void 0!==R?R:Ye.height),(!ct.persistWidth||Math.abs(ct.currentSize.width-on)<=at)&&(on=null!==(_e=null===(J=ct.persistedSize)||void 0===J?void 0:J.width)&&void 0!==_e?_e:Ye.width),this._persistedSize.store(new ce.Ro(on,qt))}this._contentWidget.unlockPreference(),ct=void 0}})),this._messageElement=ce.R3(this.element.domNode,ce.$(".message")),this._listElement=ce.R3(this.element.domNode,ce.$(".tree"));const Cn=bn.createInstance(Vn,this.editor);Cn.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Sn(Cn,this.editor);const Hn=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);Hn();const Ii=bn.createInstance(wi,this.editor);this._disposables.add(Ii),this._disposables.add(Ii.onDidToggleDetails(()=>this.toggleDetails())),this._list=new tt.aV("SuggestWidget",this._listElement,{getHeight:di=>this.getLayoutInfo().itemHeight,getTemplateId:di=>"suggestion"},[Ii],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>O.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:di=>{let Ft=di.textLabel;if("string"!=typeof di.completion.label){const{detail:je,description:Ye}=di.completion.label;je&&Ye?Ft=O.NC("label.full","{0}{1}, {2}",Ft,je,Ye):je?Ft=O.NC("label.detail","{0}{1}",Ft,je):Ye&&(Ft=O.NC("label.desc","{0}, {1}",Ft,Ye))}if(!di.isResolved||!this._isDetailsVisible())return Ft;const{documentation:R,detail:J}=di.completion,_e=N.WU("{0}{1}",J||"",R?"string"==typeof R?R:R.value:"");return O.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Ft,_e)}}}),this._status=bn.createInstance(Dn,this.element.domNode);const bi=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);bi(),this._disposables.add((0,Ae.Jl)(this._list,Qt,{listInactiveFocusBackground:Mo,listInactiveFocusOutline:ye.xL1})),this._disposables.add(Qt.onDidColorThemeChange(di=>this._onThemeChange(di))),this._onThemeChange(Qt.getColorTheme()),this._disposables.add(this._list.onMouseDown(di=>this._onListMouseDownOrTap(di))),this._disposables.add(this._list.onTap(di=>this._onListMouseDownOrTap(di))),this._disposables.add(this._list.onDidChangeSelection(di=>this._onListSelection(di))),this._disposables.add(this._list.onDidChangeFocus(di=>this._onListFocus(di))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(di=>{di.hasChanged(108)&&(bi(),Hn())})),this._ctxSuggestWidgetVisible=k._y.Visible.bindTo(Ht),this._ctxSuggestWidgetDetailsVisible=k._y.DetailsVisible.bindTo(Ht),this._ctxSuggestWidgetMultipleSuggestions=k._y.MultipleSuggestions.bindTo(Ht),this._ctxSuggestWidgetHasFocusedSuggestion=k._y.HasFocusedSuggestion.bindTo(Ht),this._disposables.add(ce.mu(this._details.widget.domNode,"keydown",di=>{this._onDetailsKeydown.fire(di)})),this._disposables.add(this.editor.onMouseDown(di=>this._onEditorMouseDown(di)))}dispose(){var ut;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(ut=this._loadingTimeout)||void 0===ut||ut.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(ut){this._details.widget.domNode.contains(ut.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(ut.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(ut){typeof ut.element>"u"||typeof ut.index>"u"||(ut.browserEvent.preventDefault(),ut.browserEvent.stopPropagation(),this._select(ut.element,ut.index))}_onListSelection(ut){ut.elements.length&&this._select(ut.elements[0],ut.indexes[0])}_select(ut,Pt){const Ht=this._completionModel;Ht&&(this._onDidSelect.fire({item:ut,index:Pt,model:Ht}),this.editor.focus())}_onThemeChange(ut){this._details.widget.borderWidth=(0,ue.c3)(ut.type)?2:1}_onListFocus(ut){var Pt;if(this._ignoreFocusEvents)return;if(!ut.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Ht=ut.elements[0],Qt=ut.indexes[0];Ht!==this._focusedItem&&(null===(Pt=this._currentSuggestionDetails)||void 0===Pt||Pt.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Ht,this._list.reveal(Qt),this._currentSuggestionDetails=(0,l.PG)(bn=>function(En,ut,Pt,Ht){return new(Pt||(Pt=Promise))(function(bn,Re){function ct(Ii){try{Hn(Ht.next(Ii))}catch(bi){Re(bi)}}function Cn(Ii){try{Hn(Ht.throw(Ii))}catch(bi){Re(bi)}}function Hn(Ii){Ii.done?bn(Ii.value):function Qt(bn){return bn instanceof Pt?bn:new Pt(function(Re){Re(bn)})}(Ii.value).then(ct,Cn)}Hn((Ht=Ht.apply(En,ut||[])).next())})}(this,void 0,void 0,function*(){const Re=(0,l.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),ct=bn.onCancellationRequested(()=>Re.dispose()),Cn=yield Ht.resolve(bn);return Re.dispose(),ct.dispose(),Cn})),this._currentSuggestionDetails.then(()=>{Qt>=this._list.length||Ht!==this._list.element(Qt)||(this._ignoreFocusEvents=!0,this._list.splice(Qt,1,[Ht]),this._list.setFocus([Qt]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Nn(Qt)}))}).catch(v.dL)),this._onDidFocus.fire({item:Ht,index:Qt,model:this._completionModel})}_setState(ut){if(this._state!==ut)switch(this._state=ut,this.element.domNode.classList.toggle("frozen",4===ut),this.element.domNode.classList.remove("message"),ut){case 0:ce.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Fd.LOADING_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Fd.NO_SUGGESTIONS_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._show();break;case 5:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(ut,Pt){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!ut,this._isAuto||(this._loadingTimeout=(0,l.Vg)(()=>this._setState(1),Pt)))}showSuggestions(ut,Pt,Ht,Qt){var bn,Re;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(bn=this._loadingTimeout)||void 0===bn||bn.dispose(),null===(Re=this._currentSuggestionDetails)||void 0===Re||Re.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==ut&&(this._completionModel=ut),Ht&&2!==this._state&&0!==this._state)return void this._setState(4);const ct=this._completionModel.items.length,Cn=0===ct;if(this._ctxSuggestWidgetMultipleSuggestions.set(ct>1),Cn)return this._setState(Qt?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Ht?4:3),Pt>=0&&(this._list.reveal(Pt,0),this._list.setFocus([Pt])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(gn(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(ut){this._details.show(),ut?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var ut;null===(ut=this._loadingTimeout)||void 0===ut||ut.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Pt=this._persistedSize.restore(),Ht=Math.ceil(4.3*this.getLayoutInfo().itemHeight);Pt&&Pt.height<Ht&&this._persistedSize.store(Pt.with(void 0,Ht))}isFrozen(){return 4===this._state}_afterRender(ut){null!==ut?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(ut){var Pt,Ht,Qt;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const bn=ce.D6(document.body),Re=this.getLayoutInfo();ut||(ut=Re.defaultSize);let ct=ut.height,Cn=ut.width;if(this._status.element.style.lineHeight=`${Re.itemHeight}px`,2===this._state||1===this._state)ct=Re.itemHeight+Re.borderHeight,Cn=Re.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ce.Ro(Cn,ct),this._contentWidget.setPreference(2);else{const Hn=bn.width-Re.borderHeight-2*Re.horizontalPadding;Cn>Hn&&(Cn=Hn);const Ii=this._completionModel?this._completionModel.stats.pLabelLen*Re.typicalHalfwidthCharacterWidth:Cn,bi=Re.statusBarHeight+this._list.contentHeight+Re.borderHeight,di=Re.itemHeight+Re.statusBarHeight,Ft=ce.i(this.editor.getDomNode()),R=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),_e=Math.min(bn.height-(Ft.top+R.top+R.height)-Re.verticalPadding,bi),je=Ft.top+R.top-Re.verticalPadding,Ye=Math.min(je,bi);let at=Math.min(Math.max(Ye,_e)+Re.borderHeight,bi);ct===(null===(Pt=this._cappedHeight)||void 0===Pt?void 0:Pt.capped)&&(ct=this._cappedHeight.wanted),ct<di&&(ct=di),ct>at&&(ct=at);const on=150;ct>_e||this._forceRenderingAbove&&je>on?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),at=Ye):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),at=_e),this.element.preferredSize=new ce.Ro(Ii,Re.defaultSize.height),this.element.maxSize=new ce.Ro(Hn,at),this.element.minSize=new ce.Ro(220,di),this._cappedHeight=ct===bi?{wanted:null!==(Qt=null===(Ht=this._cappedHeight)||void 0===Ht?void 0:Ht.wanted)&&void 0!==Qt?Qt:ut.height,capped:ct}:void 0}this._resize(Cn,ct)}_resize(ut,Pt){const{width:Ht,height:Qt}=this.element.maxSize;ut=Math.min(Ht,ut),Pt=Math.min(Qt,Pt);const{statusBarHeight:bn}=this.getLayoutInfo();this._list.layout(Pt-bn,ut),this._listElement.style.height=Pt-bn+"px",this.element.layout(Pt,ut),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var ut;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(ut=this._contentWidget.getPosition())||void 0===ut?void 0:ut.preference[0]))}getLayoutInfo(){const ut=this.editor.getOption(46),Pt=(0,Ct.uZ)(this.editor.getOption(110)||ut.lineHeight,8,1e3),Ht=this.editor.getOption(108).showStatusBar&&2!==this._state&&1!==this._state?Pt:0,Qt=this._details.widget.borderWidth,bn=2*Qt;return{itemHeight:Pt,statusBarHeight:Ht,borderWidth:Qt,borderHeight:bn,typicalHalfwidthCharacterWidth:ut.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ce.Ro(430,Ht+12*Pt+bn)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(ut){this._storageService.store("expandSuggestionDocs",ut,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};li.LOADING_MESSAGE=O.NC("suggestWidget.loading","Loading..."),li.NO_SUGGESTIONS_MESSAGE=O.NC("suggestWidget.noSuggestions","No suggestions."),li=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([Pi(1,He.Uy),Pi(2,w.i6),Pi(3,be.XE),Pi(4,H.TG)],li);class Xt{constructor(ut,Pt){this._widget=ut,this._editor=Pt,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:ut,width:Pt}=this._widget.element.size,{borderWidth:Ht,horizontalPadding:Qt}=this._widget.getLayoutInfo();return new ce.Ro(Pt+2*Ht+Qt,ut+2*Ht)}afterRender(ut){this._widget._afterRender(ut)}setPreference(ut){this._preferenceLocked||(this._preference=ut)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(ut){this._position=ut}}var kt=e(7626),Rn=function(En,ut){return function(Pt,Ht){ut(Pt,Ht,En)}};class dn{constructor(ut,Pt){if(this._model=ut,this._position=Pt,ut.getLineMaxColumn(Pt.lineNumber)!==Pt.column){const Qt=ut.getOffsetAt(Pt),bn=ut.getPositionAt(Qt+1);this._marker=ut.deltaDecorations([],[{range:p.e.fromPositions(Pt,bn),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(ut){if(this._model.isDisposed()||this._position.lineNumber!==ut.lineNumber)return 0;if(this._marker){const Pt=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Pt.getStartPosition())-this._model.getOffsetAt(ut)}return this._model.getLineMaxColumn(ut.lineNumber)-ut.column}}let ft=class Nc{constructor(ut,Pt,Ht,Qt,bn,Re,ct){this._memoryService=Pt,this._commandService=Ht,this._contextKeyService=Qt,this._instantiationService=bn,this._logService=Re,this._telemetryService=ct,this._lineSuffix=new E.XK,this._toDispose=new E.SL,this._selectors=new sn(bi=>bi.priority),this._telemetryGate=0,this.editor=ut,this.model=bn.createInstance(Ue,this.editor);const Cn=k._y.InsertMode.bindTo(Qt);Cn.set(ut.getOption(108).insertMode),this.model.onDidTrigger(()=>Cn.set(ut.getOption(108).insertMode)),this.widget=this._toDispose.add(new l.Ue(()=>{const bi=this._instantiationService.createInstance(li,this.editor);this._toDispose.add(bi),this._toDispose.add(bi.onDidSelect(_e=>this._insertSuggestion(_e,0),this));const di=new ne(this.editor,bi,_e=>this._insertSuggestion(_e,2));this._toDispose.add(di),this._toDispose.add(this.model.onDidSuggest(_e=>{0===_e.completionModel.items.length&&di.reset()}));const Ft=k._y.MakesTextEdit.bindTo(this._contextKeyService),R=k._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),J=k._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,E.OF)(()=>{Ft.reset(),R.reset(),J.reset()})),this._toDispose.add(bi.onDidFocus(({item:_e})=>{const je=this.editor.getPosition(),Ye=_e.editStart.column,at=je.column;let on=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!_e.completion.additionalTextEdits&&!(4&_e.completion.insertTextRules)&&at-Ye===_e.completion.insertText.length&&(on=this.editor.getModel().getValueInRange({startLineNumber:je.lineNumber,startColumn:Ye,endLineNumber:je.lineNumber,endColumn:at})!==_e.completion.insertText),Ft.set(on),R.set(!a.L.equals(_e.editInsertEnd,_e.editReplaceEnd)),J.set(Boolean(_e.provider.resolveCompletionItem)||Boolean(_e.completion.documentation)||_e.completion.detail!==_e.completion.label)})),this._toDispose.add(bi.onDetailsKeyDown(_e=>{_e.toKeybinding().equals(new C.QC(!0,!1,!1,!1,33))||L.dz&&_e.toKeybinding().equals(new C.QC(!1,!1,!1,!0,33))?_e.stopPropagation():_e.toKeybinding().isModifierKey()||this.editor.focus()})),bi})),this._overtypingCapturer=this._toDispose.add(new l.Ue(()=>this._toDispose.add(new ze(this.editor,this.model)))),this._alternatives=this._toDispose.add(new l.Ue(()=>this._toDispose.add(new K(this.editor,this._contextKeyService)))),this._toDispose.add(bn.createInstance(P,ut)),this._toDispose.add(this.model.onDidTrigger(bi=>{this.widget.value.showTriggered(bi.auto,bi.shy?250:50),this._lineSuffix.value=new dn(this.editor.getModel(),bi.position)})),this._toDispose.add(this.model.onDidSuggest(bi=>{if(bi.shy)return;let di=-1;if(!bi.noSelect){for(const Ft of this._selectors.itemsOrderedByPriorityDesc)if(di=Ft.select(this.editor.getModel(),this.editor.getPosition(),bi.completionModel.items),-1!==di)break;-1===di&&(di=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),bi.completionModel.items))}this.widget.value.showSuggestions(bi.completionModel,di,bi.isFrozen,bi.auto)})),this._toDispose.add(this.model.onDidCancel(bi=>{bi.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const Hn=k._y.AcceptSuggestionsOnEnter.bindTo(Qt),Ii=()=>{const bi=this.editor.getOption(1);Hn.set("on"===bi||"smart"===bi)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Ii())),Ii()}static get(ut){return ut.getContribution(Nc.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(ut,Pt){if(!ut||!ut.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const Ht=g.SnippetController2.get(this.editor);if(!Ht)return;const Qt=this.editor.getModel(),bn=Qt.getAlternativeVersionId(),{item:Re}=ut,ct=[],Cn=new S.A;1&Pt||this.editor.pushUndoStop();const Hn=this.getOverwriteInfo(Re,Boolean(8&Pt));if(this._memoryService.memorize(Qt,this.editor.getPosition(),Re),Array.isArray(Re.completion.additionalTextEdits)){const bi=m.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Re.completion.additionalTextEdits.map(di=>t.h.replaceMove(p.e.lift(di.range),di.text))),bi.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Re.isResolved){const bi=new _.G(!0);let di;const Ft=Qt.onDidChangeContent(je=>{if(je.isFlush)return Cn.cancel(),void Ft.dispose();for(const Ye of je.changes){const at=p.e.getEndPosition(Ye.range);(!di||a.L.isBefore(at,di))&&(di=at)}}),R=Pt;Pt|=2;let J=!1;const _e=this.editor.onWillType(()=>{_e.dispose(),J=!0,2&R||this.editor.pushUndoStop()});ct.push(Re.resolve(Cn.token).then(()=>{if(!Re.completion.additionalTextEdits||Cn.token.isCancellationRequested||di&&Re.completion.additionalTextEdits.some(Ye=>a.L.isBefore(di,p.e.getStartPosition(Ye.range))))return!1;J&&this.editor.pushUndoStop();const je=m.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Re.completion.additionalTextEdits.map(Ye=>t.h.replaceMove(p.e.lift(Ye.range),Ye.text))),je.restoreRelativeVerticalPositionOfCursor(this.editor),(J||!(2&R))&&this.editor.pushUndoStop(),!0}).then(je=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",bi.elapsed(),je),Ft.dispose(),_e.dispose()}))}let{insertText:Ii}=Re.completion;4&Re.completion.insertTextRules||(Ii=b.Yj.escape(Ii)),Ht.insert(Ii,{overwriteBefore:Hn.overwriteBefore,overwriteAfter:Hn.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&Re.completion.insertTextRules),clipboardText:ut.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&Pt||this.editor.pushUndoStop(),Re.completion.command?Re.completion.command.id===tn.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(ct.push(this._commandService.executeCommand(Re.completion.command.id,...Re.completion.command.arguments?[...Re.completion.command.arguments]:[]).catch(v.dL)),this.model.cancel()):this.model.cancel(),4&Pt&&this._alternatives.value.set(ut,bi=>{for(Cn.cancel();Qt.canUndo();){bn!==Qt.getAlternativeVersionId()&&Qt.undo(),this._insertSuggestion(bi,3|(8&Pt?8:0));break}}),this._alertCompletionItem(Re),Promise.all(ct).finally(()=>{this._reportSuggestionAcceptedTelemetry(Re,Qt,ut),this.model.clear(),Cn.dispose()})}_reportSuggestionAcceptedTelemetry(ut,Pt,Ht){var Qt;if(this._telemetryGate++%100!=0)return;const bn=ut.extensionId?ut.extensionId.value:(null!==(Qt=Ht.item.provider._debugDisplayName)&&void 0!==Qt?Qt:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:bn,kind:ut.completion.kind,basenameHash:(0,kt.vp)((0,to.EZ)(Pt.uri)).toString(16),languageId:Pt.getLanguageId(),fileExtension:(0,to.DZ)(Pt.uri)})}getOverwriteInfo(ut,Pt){(0,s.p_)(this.editor.hasModel());let Ht="replace"===this.editor.getOption(108).insertMode;Pt&&(Ht=!Ht);const bn=(Ht?ut.editReplaceEnd.column:ut.editInsertEnd.column)-ut.position.column;return{overwriteBefore:ut.position.column-ut.editStart.column+(this.editor.getPosition().column-ut.position.column),overwriteAfter:bn+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(ut){if((0,n.Of)(ut.completion.additionalTextEdits)){const Pt=O.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",ut.textLabel,ut.completion.additionalTextEdits.length);(0,d.Z9)(Pt)}}triggerSuggest(ut,Pt,Ht,Qt){this.editor.hasModel()&&(this.model.trigger({auto:Pt??!1,shy:!1,noSelect:Qt??!1},!1,ut,void 0,Ht),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(ut){if(!this.editor.hasModel())return;const Pt=this.editor.getPosition(),Ht=()=>{Pt.equals(this.editor.getPosition())&&this._commandService.executeCommand(ut.fallback)},Qt=bn=>{if(4&bn.completion.insertTextRules||bn.completion.additionalTextEdits)return!0;const Re=this.editor.getPosition(),ct=bn.editStart.column,Cn=Re.column;return Cn-ct!==bn.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:Re.lineNumber,startColumn:ct,endLineNumber:Re.lineNumber,endColumn:Cn})!==bn.completion.insertText};T.ju.once(this.model.onDidTrigger)(bn=>{const Re=[];T.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,E.B9)(Re),Ht()},void 0,Re),this.model.onDidSuggest(({completionModel:ct})=>{if((0,E.B9)(Re),0===ct.items.length)return void Ht();const Cn=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ct.items),Hn=ct.items[Cn];Qt(Hn)?(this.editor.pushUndoStop(),this._insertSuggestion({index:Cn,item:Hn,model:ct},7)):Ht()},void 0,Re)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(Pt,0),this.editor.focus()}acceptSelectedSuggestion(ut,Pt){const Ht=this.widget.value.getFocusedItem();let Qt=0;ut&&(Qt|=4),Pt&&(Qt|=8),this._insertSuggestion(Ht,Qt)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(ut){return this._selectors.register(ut)}};ft.ID="editor.contrib.suggestController",ft=function(En,ut,Pt,Ht){var Re,Qt=arguments.length,bn=Qt<3?ut:null===Ht?Ht=Object.getOwnPropertyDescriptor(ut,Pt):Ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bn=Reflect.decorate(En,ut,Pt,Ht);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(bn=(Qt<3?Re(bn):Qt>3?Re(ut,Pt,bn):Re(ut,Pt))||bn);return Qt>3&&bn&&Object.defineProperty(ut,Pt,bn),bn}([Rn(1,y.Fh),Rn(2,V.Hy),Rn(3,w.i6),Rn(4,H.TG),Rn(5,z.VZ),Rn(6,Ee.b)],ft);class sn{constructor(ut){this.prioritySelector=ut,this._items=new Array}register(ut){if(-1!==this._items.indexOf(ut))throw new Error("Value is already registered");return this._items.push(ut),this._items.sort((Pt,Ht)=>this.prioritySelector(Ht)-this.prioritySelector(Pt)),{dispose:()=>{const Pt=this._items.indexOf(ut);Pt>=0&&this._items.splice(Pt,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let tn=(()=>{class En extends c.R6{constructor(){super({id:En.id,label:O.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:w.Ao.and(u.u.writable,u.u.hasCompletionItemProvider),kbOpts:{kbExpr:u.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Pt,Ht,Qt){const bn=ft.get(Ht);if(!bn)return;let Re,ct;Qt&&"object"==typeof Qt&&(!0===Qt.auto&&(Re=!0),!0===Qt.noSelection&&(ct=!0)),bn.triggerSuggest(void 0,Re,void 0,ct)}}return En.id="editor.action.triggerSuggest",En})();(0,c._K)(ft.ID,ft),(0,c.Qr)(tn);const xn=190,Pn=c._l.bindToContribution(ft.get);(0,c.fK)(new Pn({id:"acceptSelectedSuggestion",precondition:w.Ao.and(k._y.Visible,k._y.HasFocusedSuggestion),handler(En){En.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:w.Ao.and(k._y.Visible,u.u.textInputFocus),weight:xn},{primary:3,kbExpr:w.Ao.and(k._y.Visible,u.u.textInputFocus,k._y.AcceptSuggestionsOnEnter,k._y.MakesTextEdit),weight:xn}],menuOpts:[{menuId:k.GI,title:O.NC("accept.insert","Insert"),group:"left",order:1,when:k._y.HasInsertAndReplaceRange.toNegated()},{menuId:k.GI,title:O.NC("accept.insert","Insert"),group:"left",order:1,when:w.Ao.and(k._y.HasInsertAndReplaceRange,k._y.InsertMode.isEqualTo("insert"))},{menuId:k.GI,title:O.NC("accept.replace","Replace"),group:"left",order:1,when:w.Ao.and(k._y.HasInsertAndReplaceRange,k._y.InsertMode.isEqualTo("replace"))}]})),(0,c.fK)(new Pn({id:"acceptAlternativeSelectedSuggestion",precondition:w.Ao.and(k._y.Visible,u.u.textInputFocus,k._y.HasFocusedSuggestion),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:1027,secondary:[1026]},handler(En){En.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:k.GI,group:"left",order:2,when:w.Ao.and(k._y.HasInsertAndReplaceRange,k._y.InsertMode.isEqualTo("insert")),title:O.NC("accept.replace","Replace")},{menuId:k.GI,group:"left",order:2,when:w.Ao.and(k._y.HasInsertAndReplaceRange,k._y.InsertMode.isEqualTo("replace")),title:O.NC("accept.insert","Insert")}]})),V.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,c.fK)(new Pn({id:"hideSuggestWidget",precondition:k._y.Visible,handler:En=>En.cancelSuggestWidget(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:9,secondary:[1033]}})),(0,c.fK)(new Pn({id:"selectNextSuggestion",precondition:w.Ao.and(k._y.Visible,k._y.MultipleSuggestions),handler:En=>En.selectNextSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,c.fK)(new Pn({id:"selectNextPageSuggestion",precondition:w.Ao.and(k._y.Visible,k._y.MultipleSuggestions),handler:En=>En.selectNextPageSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:12,secondary:[2060]}})),(0,c.fK)(new Pn({id:"selectLastSuggestion",precondition:w.Ao.and(k._y.Visible,k._y.MultipleSuggestions),handler:En=>En.selectLastSuggestion()})),(0,c.fK)(new Pn({id:"selectPrevSuggestion",precondition:w.Ao.and(k._y.Visible,k._y.MultipleSuggestions),handler:En=>En.selectPrevSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,c.fK)(new Pn({id:"selectPrevPageSuggestion",precondition:w.Ao.and(k._y.Visible,k._y.MultipleSuggestions),handler:En=>En.selectPrevPageSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:11,secondary:[2059]}})),(0,c.fK)(new Pn({id:"selectFirstSuggestion",precondition:w.Ao.and(k._y.Visible,k._y.MultipleSuggestions),handler:En=>En.selectFirstSuggestion()})),(0,c.fK)(new Pn({id:"toggleSuggestionDetails",precondition:k._y.Visible,handler:En=>En.toggleSuggestionDetails(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:k.GI,group:"right",order:1,when:w.Ao.and(k._y.DetailsVisible,k._y.CanResolve),title:O.NC("detail.more","show less")},{menuId:k.GI,group:"right",order:1,when:w.Ao.and(k._y.DetailsVisible.toNegated(),k._y.CanResolve),title:O.NC("detail.less","show more")}]})),(0,c.fK)(new Pn({id:"toggleExplainMode",precondition:k._y.Visible,handler:En=>En.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,c.fK)(new Pn({id:"toggleSuggestionFocus",precondition:k._y.Visible,handler:En=>En.toggleSuggestionFocus(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,c.fK)(new Pn({id:"insertBestCompletion",precondition:w.Ao.and(u.u.textInputFocus,w.Ao.equals("config.editor.tabCompletion","on"),P.AtEnd,k._y.Visible.toNegated(),K.OtherSuggestions.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:(En,ut)=>{En.triggerSuggestAndAcceptBest((0,s.Kn)(ut)?Object.assign({fallback:"tab"},ut):{fallback:"tab"})},kbOpts:{weight:xn,primary:2}})),(0,c.fK)(new Pn({id:"insertNextSuggestion",precondition:w.Ao.and(u.u.textInputFocus,w.Ao.equals("config.editor.tabCompletion","on"),K.OtherSuggestions,k._y.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:En=>En.acceptNextSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:2}})),(0,c.fK)(new Pn({id:"insertPrevSuggestion",precondition:w.Ao.and(u.u.textInputFocus,w.Ao.equals("config.editor.tabCompletion","on"),K.OtherSuggestions,k._y.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:En=>En.acceptPrevSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:1026}})),(0,c.Qr)(class extends c.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:O.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(En,ut){var Pt;null===(Pt=ft.get(ut))||void 0===Pt||Pt.resetWidgetSize()}})},99401:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{SuggestInlineCompletions:()=>w});var d=e(73888),n=e(25715),l=e(1999),S=e(80142),v=e(26845),T=e(33745),C=e(98570),E=e(90790),L=e(98104),_=e(83961),s=e(83956),m=e(82557),c=e(37833),t=e(25787),a=e(9265),p=function(x,P,O,V){var k,H=arguments.length,z=H<3?P:null===V?V=Object.getOwnPropertyDescriptor(P,O):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(x,P,O,V);else for(var F=x.length-1;F>=0;F--)(k=x[F])&&(z=(H<3?k(z):H>3?k(P,O,z):k(P,O))||z);return H>3&&z&&Object.defineProperty(P,O,z),z},u=function(x,P){return function(O,V){P(O,V,x)}};class b{constructor(P,O,V,H,z,k){this.range=P,this.insertText=O,this.filterText=V,this.additionalTextEdits=H,this.command=z,this.completion=k}}let y=class extends S.L6{constructor(P,O,V,H,z,k){super(z.disposable),this.model=P,this.line=O,this.word=V,this.completionModel=H,this._suggestMemoryService=k}canBeReused(P,O,V){return this.model===P&&this.line===O&&this.word.word.length>0&&this.word.startColumn===V.startColumn&&this.word.endColumn<V.endColumn&&0===this.completionModel.incomplete.size}get items(){var P;const O=[],{items:V}=this.completionModel,H=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},V),z=l.$.slice(V,H),k=l.$.slice(V,0,H);let F=5;for(const j of l.$.concat(z,k)){if(j.score===n.CL.Default)continue;const K=new C.e(j.editStart.lineNumber,j.editStart.column,j.editInsertEnd.lineNumber,j.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta);O.push(new b(K,j.completion.insertTextRules&&j.completion.insertTextRules&L.a7.InsertAsSnippet?{snippet:j.completion.insertText}:j.completion.insertText,null!==(P=j.filterTextLow)&&void 0!==P?P:j.labelLow,j.completion.additionalTextEdits,j.completion.command,j)),F-- >=0&&j.resolve(d.T.None)}return O}};y=p([u(5,m.Fh)],y);let w=class{constructor(P,O,V,H){this._getEditorOption=P,this._languageFeatureService=O,this._clipboardService=V,this._suggestMemoryService=H}provideInlineCompletions(P,O,V,H){var z;return function(x,P,O,V){return new(O||(O=Promise))(function(z,k){function F(U){try{K(V.next(U))}catch(ne){k(ne)}}function j(U){try{K(V.throw(U))}catch(ne){k(ne)}}function K(U){U.done?z(U.value):function H(z){return z instanceof O?z:new O(function(k){k(z)})}(U.value).then(F,j)}K((V=V.apply(x,P||[])).next())})}(this,void 0,void 0,function*(){if(V.selectedSuggestionInfo)return;const k=this._getEditorOption(81,P);if(s.tG.isAllOff(k))return;P.tokenization.tokenizeIfCheap(O.lineNumber);const F=P.tokenization.getLineTokens(O.lineNumber),j=F.getStandardTokenType(F.findTokenIndexAtOffset(Math.max(O.column-1-1,0)));if("inline"!==s.tG.valueFor(k,j))return;let U,ne,K=P.getWordAtPosition(O);if(K?.word||(U=this._getTriggerCharacterInfo(P,O)),!K?.word&&!U||(K||(K=P.getWordUntilPosition(O)),K.endColumn!==O.column))return;const N=P.getValueInRange(new C.e(O.lineNumber,1,O.lineNumber,O.column));if(!U&&(null===(z=this._lastResult)||void 0===z?void 0:z.canBeReused(P,O.lineNumber,K))){const W=new _.t(N,O.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=W,this._lastResult.acquire(),ne=this._lastResult}else{const W=yield(0,s.kL)(this._languageFeatureService.completionProvider,P,O,new s.A9(void 0,void 0,U?.providers),U&&{triggerKind:1,triggerCharacter:U.ch},H);let Z;W.needsClipboard&&(Z=yield this._clipboardService.readText());const ge=new _._(W.items,O.column,new _.t(N,0),c.K.None,this._getEditorOption(108,P),this._getEditorOption(103,P),{boostFullMatch:!1,firstMatchCanBeWeak:!1},Z);ne=new y(P,O.lineNumber,K,ge,W,this._suggestMemoryService)}return this._lastResult=ne,ne})}handleItemDidShow(P,O){O.completion.resolve(d.T.None)}freeInlineCompletions(P){P.release()}_getTriggerCharacterInfo(P,O){var V;const H=P.getValueInRange(C.e.fromPositions({lineNumber:O.lineNumber,column:O.column-1},O)),z=new Set;for(const k of this._languageFeatureService.completionProvider.all(P))null!==(V=k.triggerCharacters)&&void 0!==V&&V.includes(H)&&z.add(k);if(0!==z.size)return{providers:z,ch:H}}};w=p([u(1,E.p),u(2,t.p),u(3,m.Fh)],w);let D=class Ll{constructor(P,O,V,H){if(1==++Ll._counter){const z=H.createInstance(w,(k,F)=>{var j;return(null!==(j=V.listCodeEditors().find(U=>U.getModel()===F))&&void 0!==j?j:P).getOption(k)});Ll._disposable=O.inlineCompletionsProvider.register("*",z)}}dispose(){var P;0==--Ll._counter&&(null===(P=Ll._disposable)||void 0===P||P.dispose(),Ll._disposable=void 0)}};D._counter=0,D=p([u(1,E.p),u(2,T.$),u(3,a.TG)],D),(0,v._K)("suggest.inlineCompletionsProvider",D)},82557:(Dt,Y,e)=>{"use strict";e.d(Y,{Fh:()=>p});var d=e(48648),n=e(80142),l=e(5067),S=e(45337),v=e(94667),T=e(47494),C=e(9265),E=e(48190),_=function(u,g){return function(b,y){g(b,y,u)}};class s{constructor(g){this.name=g}select(g,b,y){if(0===y.length)return 0;const w=y[0].score[0];for(let D=0;D<y.length;D++){const{score:x,completion:P}=y[D];if(x[0]!==w)break;if(P.preselect)return D}return 0}}class m extends s{constructor(){super("first")}memorize(g,b,y){}toJSON(){}fromJSON(){}}let a=class ad{constructor(g,b){this._storageService=g,this._configService=b,this._disposables=new n.SL,this._persistSoon=new d.pY(()=>this._saveState(),500),this._disposables.add(g.onWillSaveState(y=>{y.reason===E.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(g,b,y){this._withStrategy(g,b).memorize(g,b,y),this._persistSoon.schedule()}select(g,b,y){return this._withStrategy(g,b).select(g,b,y)}_withStrategy(g,b){var y;const w=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:g.getLanguageIdAtPosition(b.lineNumber,b.column),resource:g.uri});if((null===(y=this._strategy)||void 0===y?void 0:y.name)!==w){this._saveState();const D=ad._strategyCtors.get(w)||m;this._strategy=new D;try{const P=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,O=this._storageService.get(`${ad._storagePrefix}/${w}`,P);O&&this._strategy.fromJSON(JSON.parse(O))}catch{}}return this._strategy}_saveState(){if(this._strategy){const b=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,y=JSON.stringify(this._strategy);this._storageService.store(`${ad._storagePrefix}/${this._strategy.name}`,y,b,1)}}};a._strategyCtors=new Map([["recentlyUsedByPrefix",class t extends s{constructor(){super("recentlyUsedByPrefix"),this._trie=l.Id.forStrings(),this._seq=0}memorize(g,b,y){const{word:w}=g.getWordUntilPosition(b),D=`${g.getLanguageId()}/${w}`;this._trie.set(D,{type:y.completion.kind,insertText:y.completion.insertText,touch:this._seq++})}select(g,b,y){const{word:w}=g.getWordUntilPosition(b);if(!w)return super.select(g,b,y);const D=`${g.getLanguageId()}/${w}`;let x=this._trie.get(D);if(x||(x=this._trie.findSubstr(D)),x)for(let P=0;P<y.length;P++){const{kind:O,insertText:V}=y[P].completion;if(O===x.type&&V===x.insertText)return P}return super.select(g,b,y)}toJSON(){const g=[];return this._trie.forEach((b,y)=>g.push([y,b])),g.sort((b,y)=>-(b[1].touch-y[1].touch)).forEach((b,y)=>b[1].touch=y),g.slice(0,200)}fromJSON(g){if(this._trie.clear(),g.length>0){this._seq=g[0][1].touch+1;for(const[b,y]of g)y.type="number"==typeof y.type?y.type:S.gX.fromString(y.type),this._trie.set(b,y)}}}],["recentlyUsed",class c extends s{constructor(){super("recentlyUsed"),this._cache=new l.z6(300,.66),this._seq=0}memorize(g,b,y){const w=`${g.getLanguageId()}/${y.textLabel}`;this._cache.set(w,{touch:this._seq++,type:y.completion.kind,insertText:y.completion.insertText})}select(g,b,y){if(0===y.length)return 0;const w=g.getLineContent(b.lineNumber).substr(b.column-10,b.column-1);if(/\s$/.test(w))return super.select(g,b,y);const D=y[0].score[0];let P=-1,O=-1;for(let V=0;V<y.length&&y[V].score[0]===D;V++){const H=`${g.getLanguageId()}/${y[V].textLabel}`,z=this._cache.peek(H);if(z&&z.touch>O&&z.type===y[V].completion.kind&&z.insertText===y[V].completion.insertText&&(O=z.touch,P=V),y[V].completion.preselect)return V}return-1!==P?P:0}toJSON(){return this._cache.toJSON()}fromJSON(g){this._cache.clear();for(const[y,w]of g)w.touch=0,w.type="number"==typeof w.type?w.type:S.gX.fromString(w.type),this._cache.set(y,w);this._seq=this._cache.size}}],["first",m]]),a._storagePrefix="suggest/memories",a=function(u,g,b,y){var x,w=arguments.length,D=w<3?g:null===y?y=Object.getOwnPropertyDescriptor(g,b):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(u,g,b,y);else for(var P=u.length-1;P>=0;P--)(x=u[P])&&(D=(w<3?x(D):w>3?x(g,b,D):x(g,b))||D);return w>3&&D&&Object.defineProperty(g,b,D),D}([_(0,E.Uy),_(1,v.Ui)],a);const p=(0,C.yh)("ISuggestMemories");(0,T.z)(p,a,!0)},37833:(Dt,Y,e)=>{"use strict";e.d(Y,{K:()=>v});var d=e(64023),n=e(98570),l=e(44221);class v{static create(C,E){return function(T,C,E,L){return new(E||(E=Promise))(function(s,m){function c(p){try{a(L.next(p))}catch(u){m(u)}}function t(p){try{a(L.throw(p))}catch(u){m(u)}}function a(p){p.done?s(p.value):function _(s){return s instanceof E?s:new E(function(m){m(s)})}(p.value).then(c,t)}a((L=L.apply(T,C||[])).next())})}(this,void 0,void 0,function*(){if(!E.getOption(108).localityBonus||!E.hasModel())return v.None;const L=E.getModel(),_=E.getPosition();if(!C.canComputeWordRanges(L.uri))return v.None;const[s]=yield(new l.x).provideSelectionRanges(L,[_]);if(0===s.length)return v.None;const m=yield C.computeWordRanges(L.uri,s[0].range);if(!m)return v.None;const c=L.getWordUntilPosition(_);return delete m[c.word],new class extends v{distance(t,a){if(!_.equals(E.getPosition()))return 0;if(17===a.kind)return 2<<20;const u=m["string"==typeof a.label?a.label:a.label.label];if((0,d.XY)(u))return 2<<20;const g=(0,d.ry)(u,n.e.fromPositions(t),n.e.compareRangesUsingStarts),b=g>=0?u[g]:u[Math.max(0,~g-1)];let y=s.length;for(const w of s){if(!n.e.containsRange(w.range,b))break;y-=1}return y}}})}}v.None=new class extends v{distance(){return 0}}},71008:(Dt,Y,e)=>{"use strict";var d=e(58783),n=e(55197),l=e(4062),S=e(40902);const v=(0,l.P6G)("symbolIcon.arrayForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,l.P6G)("symbolIcon.booleanForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,l.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,n.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,l.P6G)("symbolIcon.colorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,l.P6G)("symbolIcon.constantForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,l.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,n.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s=(0,l.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,n.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,l.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,l.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,n.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),t=(0,l.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,l.P6G)("symbolIcon.fileForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,l.P6G)("symbolIcon.folderForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,l.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,n.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,l.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,l.P6G)("symbolIcon.keyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,l.P6G)("symbolIcon.keywordForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,l.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,n.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,l.P6G)("symbolIcon.moduleForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,l.P6G)("symbolIcon.namespaceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,l.P6G)("symbolIcon.nullForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,l.P6G)("symbolIcon.numberForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,l.P6G)("symbolIcon.objectForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,l.P6G)("symbolIcon.operatorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,l.P6G)("symbolIcon.packageForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,l.P6G)("symbolIcon.propertyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,l.P6G)("symbolIcon.referenceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,l.P6G)("symbolIcon.snippetForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K=(0,l.P6G)("symbolIcon.stringForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U=(0,l.P6G)("symbolIcon.structForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ne=(0,l.P6G)("symbolIcon.textForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,l.P6G)("symbolIcon.typeParameterForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,l.P6G)("symbolIcon.unitForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,n.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,l.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,S.Ic)((ge,M)=>{const we=ge.getColor(v);we&&M.addRule(`${d.lA.symbolArray.cssSelector} { color: ${we}; }`);const Ee=ge.getColor(T);Ee&&M.addRule(`${d.lA.symbolBoolean.cssSelector} { color: ${Ee}; }`);const xe=ge.getColor(C);xe&&M.addRule(`${d.lA.symbolClass.cssSelector} { color: ${xe}; }`);const Ne=ge.getColor(w);Ne&&M.addRule(`${d.lA.symbolMethod.cssSelector} { color: ${Ne}; }`);const oe=ge.getColor(E);oe&&M.addRule(`${d.lA.symbolColor.cssSelector} { color: ${oe}; }`);const Se=ge.getColor(L);Se&&M.addRule(`${d.lA.symbolConstant.cssSelector} { color: ${Se}; }`);const Ie=ge.getColor(_);Ie&&M.addRule(`${d.lA.symbolConstructor.cssSelector} { color: ${Ie}; }`);const me=ge.getColor(s);me&&M.addRule(`\n\t\t\t${d.lA.symbolValue.cssSelector},${d.lA.symbolEnum.cssSelector} { color: ${me}; }`);const Me=ge.getColor(m);Me&&M.addRule(`${d.lA.symbolEnumMember.cssSelector} { color: ${Me}; }`);const de=ge.getColor(c);de&&M.addRule(`${d.lA.symbolEvent.cssSelector} { color: ${de}; }`);const ke=ge.getColor(t);ke&&M.addRule(`${d.lA.symbolField.cssSelector} { color: ${ke}; }`);const Ue=ge.getColor(a);Ue&&M.addRule(`${d.lA.symbolFile.cssSelector} { color: ${Ue}; }`);const ze=ge.getColor(p);ze&&M.addRule(`${d.lA.symbolFolder.cssSelector} { color: ${ze}; }`);const ce=ge.getColor(u);ce&&M.addRule(`${d.lA.symbolFunction.cssSelector} { color: ${ce}; }`);const Ve=ge.getColor(g);Ve&&M.addRule(`${d.lA.symbolInterface.cssSelector} { color: ${Ve}; }`);const tt=ge.getColor(b);tt&&M.addRule(`${d.lA.symbolKey.cssSelector} { color: ${tt}; }`);const Ct=ge.getColor(y);Ct&&M.addRule(`${d.lA.symbolKeyword.cssSelector} { color: ${Ct}; }`);const Lt=ge.getColor(D);Lt&&M.addRule(`${d.lA.symbolModule.cssSelector} { color: ${Lt}; }`);const $e=ge.getColor(x);$e&&M.addRule(`${d.lA.symbolNamespace.cssSelector} { color: ${$e}; }`);const ae=ge.getColor(P);ae&&M.addRule(`${d.lA.symbolNull.cssSelector} { color: ${ae}; }`);const ve=ge.getColor(O);ve&&M.addRule(`${d.lA.symbolNumber.cssSelector} { color: ${ve}; }`);const he=ge.getColor(V);he&&M.addRule(`${d.lA.symbolObject.cssSelector} { color: ${he}; }`);const le=ge.getColor(H);le&&M.addRule(`${d.lA.symbolOperator.cssSelector} { color: ${le}; }`);const Q=ge.getColor(z);Q&&M.addRule(`${d.lA.symbolPackage.cssSelector} { color: ${Q}; }`);const Ce=ge.getColor(k);Ce&&M.addRule(`${d.lA.symbolProperty.cssSelector} { color: ${Ce}; }`);const Pe=ge.getColor(F);Pe&&M.addRule(`${d.lA.symbolReference.cssSelector} { color: ${Pe}; }`);const dt=ge.getColor(j);dt&&M.addRule(`${d.lA.symbolSnippet.cssSelector} { color: ${dt}; }`);const st=ge.getColor(K);st&&M.addRule(`${d.lA.symbolString.cssSelector} { color: ${st}; }`);const qe=ge.getColor(U);qe&&M.addRule(`${d.lA.symbolStruct.cssSelector} { color: ${qe}; }`);const Qe=ge.getColor(ne);Qe&&M.addRule(`${d.lA.symbolText.cssSelector} { color: ${Qe}; }`);const et=ge.getColor(N);et&&M.addRule(`${d.lA.symbolTypeParameter.cssSelector} { color: ${et}; }`);const vt=ge.getColor(W);vt&&M.addRule(`${d.lA.symbolUnit.cssSelector} { color: ${vt}; }`);const mt=ge.getColor(Z);mt&&M.addRule(`${d.lA.symbolVariable.cssSelector} { color: ${mt}; }`)})},92047:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{ToggleTabFocusModeAction:()=>v});var d=e(59797),n=e(5825),l=e(26845),S=e(55197);let v=(()=>{class T extends l.R6{constructor(){super({id:T.ID,label:S.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(E,L){const s=!n.n.getTabFocusMode();n.n.setTabFocusMode(s),(0,d.Z9)(s?S.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):S.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return T.ID="editor.action.toggleTabFocusMode",T})();(0,l.Qr)(v)},9192:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(631),n=e(26845),l=e(55197);(0,n.Qr)(class S extends n.R6{constructor(){super({id:"editor.action.forceRetokenize",label:l.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(T,C){if(!C.hasModel())return;const E=C.getModel();E.tokenization.resetTokenization();const L=new d.G(!0);E.tokenization.forceTokenization(E.getLineCount()),L.stop(),console.log(`tokenization took ${L.elapsed()}`)}})},57436:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{DisableHighlightingInCommentsAction:()=>Bt,DisableHighlightingInStringsAction:()=>Ke,DisableHighlightingOfAmbiguousCharactersAction:()=>ht,DisableHighlightingOfInvisibleCharactersAction:()=>jt,DisableHighlightingOfNonBasicAsciiCharactersAction:()=>fn,ShowExcludeOptions:()=>Dn,UnicodeHighlighter:()=>Pe,UnicodeHighlighterHoverParticipant:()=>Qe,warningIcon:()=>Ce});var d=e(48648),n=e(58783),l=e(48701),S=e(80142),v=e(8841),T=e(73879),C=e(57856),E=e.n(C),L=e(38470),_=e.n(L),s=e(43370),m=e.n(s),c=e(28458),t=e.n(c),a=e(71278),p=e.n(a),u=e(29488),g=e.n(u),b=e(60716),y={};y.styleTagTransform=g(),y.setAttributes=t(),y.insert=m().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=p(),E()(b.Z,y);var x=e(26845),P=e(54862),O=e(59758),V=e(27245),H=e(81534),z=e(45358),k=e(53931),F=e(91717),j=e(84504),K=e(77459),U={};U.styleTagTransform=g(),U.setAttributes=t(),U.insert=m().bind(null,"head"),U.domAPI=_(),U.insertStyleElement=p(),E()(K.Z,U);var W=e(98463),Z=e(65065),ge=e(827),M=e(29739),we=e(9265),Ee=e(75366),xe=e(41140),Ne=e(62922),oe=e(3778),Se=e(44827),Ie=e(4062),me=e(40902);let ke=class extends S.JT{constructor(ue,be,Je={},Fe){var nt;super(),this._link=be,this._enabled=!0,this.el=(0,W.R3)(ue,(0,W.$)("a.monaco-link",{tabIndex:null!==(nt=be.tabIndex)&&void 0!==nt?nt:0,href:be.href,title:be.title},be.label)),this.el.setAttribute("role","button");const bt=this._register(new Ee.Y(this.el,"click")),Ut=this._register(new Ee.Y(this.el,"keypress")),vn=oe.ju.chain(Ut.event).map(gn=>new xe.y(gn)).filter(gn=>3===gn.keyCode).event,Mn=this._register(new Ee.Y(this.el,Ne.t.Tap)).event;this._register(Ne.o.addTarget(this.el));const St=oe.ju.any(bt.event,vn,Mn);this._register(St(gn=>{!this.enabled||(W.zB.stop(gn,!0),Je?.opener?Je.opener(this._link.href):Fe.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(ue){ue?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=ue}};var ue;ke=function(Ae,ue,be,Je){var bt,Fe=arguments.length,nt=Fe<3?ue:null===Je?Je=Object.getOwnPropertyDescriptor(ue,be):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(Ae,ue,be,Je);else for(var Ut=Ae.length-1;Ut>=0;Ut--)(bt=Ae[Ut])&&(nt=(Fe<3?bt(nt):Fe>3?bt(ue,be,nt):bt(ue,be))||nt);return Fe>3&&nt&&Object.defineProperty(ue,be,nt),nt}([(3,ue=Se.v4,function(be,Je){ue(be,Je,3)})],ke),(0,me.Ic)((Ae,ue)=>{const be=Ae.getColor(Ie.url);be&&ue.addRule(`.monaco-link { color: ${be}; }`);const Je=Ae.getColor(Ie.sgC);Je&&ue.addRule(`.monaco-link:hover { color: ${Je}; }`)});var Ue=e(66287),ze=function(Ae,ue,be,Je){var bt,Fe=arguments.length,nt=Fe<3?ue:null===Je?Je=Object.getOwnPropertyDescriptor(ue,be):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(Ae,ue,be,Je);else for(var Ut=Ae.length-1;Ut>=0;Ut--)(bt=Ae[Ut])&&(nt=(Fe<3?bt(nt):Fe>3?bt(ue,be,nt):bt(ue,be))||nt);return Fe>3&&nt&&Object.defineProperty(ue,be,nt),nt},ce=function(Ae,ue){return function(be,Je){ue(be,Je,Ae)}};let tt=class extends S.JT{constructor(ue,be){super(),this._editor=ue,this.instantiationService=be,this.banner=this._register(this.instantiationService.createInstance(Ct))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(ue){this.banner.show(Object.assign(Object.assign({},ue),{onClose:()=>{var be;this.hide(),null===(be=ue.onClose)||void 0===be||be.call(ue)}})),this._editor.setBanner(this.banner.element,26)}};tt=ze([ce(1,we.TG)],tt);let Ct=class extends S.JT{constructor(ue){super(),this.instantiationService=ue,this.markdownRenderer=this.instantiationService.createInstance(M.$,{}),this.element=(0,W.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(ue){return ue.ariaLabel?ue.ariaLabel:"string"==typeof ue.message?ue.message:void 0}getBannerMessage(ue){if("string"==typeof ue){const be=(0,W.$)("span");return be.innerText=ue,be}return this.markdownRenderer.render(ue).element}clear(){(0,W.PO)(this.element)}show(ue){(0,W.PO)(this.element);const be=this.getAriaLabel(ue);be&&this.element.setAttribute("aria-label",be);const Je=(0,W.R3)(this.element,(0,W.$)("div.icon-container"));Je.setAttribute("aria-hidden","true"),ue.icon&&Je.appendChild((0,W.$)(`div${me.kS.asCSSSelector(ue.icon)}`));const Fe=(0,W.R3)(this.element,(0,W.$)("div.message-container"));if(Fe.setAttribute("aria-hidden","true"),Fe.appendChild(this.getBannerMessage(ue.message)),this.messageActionsContainer=(0,W.R3)(this.element,(0,W.$)("div.message-actions-container")),ue.actions)for(const bt of ue.actions)this._register(this.instantiationService.createInstance(ke,this.messageActionsContainer,Object.assign(Object.assign({},bt),{tabIndex:-1}),{}));const nt=(0,W.R3)(this.element,(0,W.$)("div.action-container"));this.actionBar=this._register(new Z.o(nt)),this.actionBar.push(this._register(new ge.aU("banner.close","Close Banner",me.kS.asClassName(Ue.s_),!0,()=>{"function"==typeof ue.onClose&&ue.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};Ct=ze([ce(0,we.TG)],Ct);var Lt=e(55197),$e=e(94667),ae=e(73622),ve=e(88521),he=function(Ae,ue,be,Je){var bt,Fe=arguments.length,nt=Fe<3?ue:null===Je?Je=Object.getOwnPropertyDescriptor(ue,be):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(Ae,ue,be,Je);else for(var Ut=Ae.length-1;Ut>=0;Ut--)(bt=Ae[Ut])&&(nt=(Fe<3?bt(nt):Fe>3?bt(ue,be,nt):bt(ue,be))||nt);return Fe>3&&nt&&Object.defineProperty(ue,be,nt),nt},le=function(Ae,ue){return function(be,Je){ue(be,Je,Ae)}},Q=function(Ae,ue,be,Je){return new(be||(be=Promise))(function(nt,bt){function Ut(St){try{Mn(Je.next(St))}catch(gn){bt(gn)}}function vn(St){try{Mn(Je.throw(St))}catch(gn){bt(gn)}}function Mn(St){St.done?nt(St.value):function Fe(nt){return nt instanceof be?nt:new be(function(bt){bt(nt)})}(St.value).then(Ut,vn)}Mn((Je=Je.apply(Ae,ue||[])).next())})};const Ce=(0,Ue.q5)("extensions-warning-message",n.lA.warning,Lt.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let Pe=class extends S.JT{constructor(ue,be,Je,Fe){super(),this._editor=ue,this._editorWorkerService=be,this._workspaceTrustService=Je,this._highlighter=null,this._bannerClosed=!1,this._updateState=nt=>{if(nt&&nt.hasMore){if(this._bannerClosed)return;const bt=Math.max(nt.ambiguousCharacterCount,nt.nonBasicAsciiCharacterCount,nt.invisibleCharacterCount);let Ut;if(nt.nonBasicAsciiCharacterCount>=bt)Ut={message:Lt.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new fn};else if(nt.ambiguousCharacterCount>=bt)Ut={message:Lt.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ht};else{if(!(nt.invisibleCharacterCount>=bt))throw new Error("Unreachable");Ut={message:Lt.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new jt}}this._bannerController.show({id:"unicodeHighlightBanner",message:Ut.message,icon:Ce,actions:[{label:Ut.command.shortLabel,href:`command:${Ut.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Fe.createInstance(tt,ue)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ue.getOption(115),this._register(Je.onDidChangeTrust(nt=>{this._updateHighlighter()})),this._register(ue.onDidChangeConfiguration(nt=>{nt.hasChanged(115)&&(this._options=ue.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ue=function dt(Ae,ue){return{nonBasicASCII:ue.nonBasicASCII===P.Av?!Ae:ue.nonBasicASCII,ambiguousCharacters:ue.ambiguousCharacters,invisibleCharacters:ue.invisibleCharacters,includeComments:ue.includeComments===P.Av?!Ae:ue.includeComments,includeStrings:ue.includeStrings===P.Av?!Ae:ue.includeStrings,allowedCharacters:ue.allowedCharacters,allowedLocales:ue.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ue.nonBasicASCII,ue.ambiguousCharacters,ue.invisibleCharacters].every(Je=>!1===Je))return;const be={nonBasicASCII:ue.nonBasicASCII,ambiguousCharacters:ue.ambiguousCharacters,invisibleCharacters:ue.invisibleCharacters,includeComments:ue.includeComments,includeStrings:ue.includeStrings,allowedCodePoints:Object.keys(ue.allowedCharacters).map(Je=>Je.codePointAt(0)),allowedLocales:Object.keys(ue.allowedLocales).map(Je=>"_os"===Je?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===Je?v.dK:Je)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new st(this._editor,be,this._updateState,this._editorWorkerService):new qe(this._editor,be,this._updateState)}getDecorationInfo(ue){return this._highlighter?this._highlighter.getDecorationInfo(ue):null}};Pe.ID="editor.contrib.unicodeHighlighter",Pe=he([le(1,H.p),le(2,ve.Y),le(3,we.TG)],Pe);let st=class extends S.JT{constructor(ue,be,Je,Fe){super(),this._editor=ue,this._options=be,this._updateState=Je,this._editorWorkerService=Fe,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new d.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const ue=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(be=>{if(this._model.isDisposed()||this._model.getVersionId()!==ue)return;this._updateState(be);const Je=[];if(!be.hasMore)for(const Fe of be.ranges)Je.push({range:Fe,options:$t.instance.getDecorationFromOptions(this._options)});this._decorations.set(Je)})}getDecorationInfo(ue){if(!this._decorations.has(ue))return null;const be=this._editor.getModel();return(0,k.Fd)(be,ue)?{reason:_t(be.getValueInRange(ue.range),this._options),inComment:(0,k.$t)(be,ue),inString:(0,k.zg)(be,ue)}:null}};st=he([le(3,H.p)],st);class qe extends S.JT{constructor(ue,be,Je){super(),this._editor=ue,this._options=be,this._updateState=Je,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new d.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const ue=this._editor.getVisibleRanges(),be=[],Je={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Fe of ue){const nt=V.a.computeUnicodeHighlights(this._model,this._options,Fe);for(const bt of nt.ranges)Je.ranges.push(bt);Je.ambiguousCharacterCount+=Je.ambiguousCharacterCount,Je.invisibleCharacterCount+=Je.invisibleCharacterCount,Je.nonBasicAsciiCharacterCount+=Je.nonBasicAsciiCharacterCount,Je.hasMore=Je.hasMore||nt.hasMore}if(!Je.hasMore)for(const Fe of Je.ranges)be.push({range:Fe,options:$t.instance.getDecorationFromOptions(this._options)});this._updateState(Je),this._decorations.set(be)}getDecorationInfo(ue){if(!this._decorations.has(ue))return null;const be=this._editor.getModel(),Je=be.getValueInRange(ue.range);return(0,k.Fd)(be,ue)?{reason:_t(Je,this._options),inComment:(0,k.$t)(be,ue),inString:(0,k.zg)(be,ue)}:null}}let Qe=class{constructor(ue,be,Je){this._editor=ue,this._languageService=be,this._openerService=Je,this.hoverOrdinal=4}computeSync(ue,be){if(!this._editor.hasModel()||1!==ue.type)return[];const Je=this._editor.getModel(),Fe=this._editor.getContribution(Pe.ID);if(!Fe)return[];const nt=[];let bt=300;for(const Ut of be){const vn=Fe.getDecorationInfo(Ut);if(!vn)continue;const St=Je.getValueInRange(Ut.range).codePointAt(0),gn=vt(St);let Vn;switch(vn.reason.kind){case 0:Vn=Lt.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",gn,vt(vn.reason.confusableWith.codePointAt(0)));break;case 1:Vn=Lt.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",gn);break;case 2:Vn=Lt.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",gn)}const Sn={codePoint:St,reason:vn.reason,inComment:vn.inComment,inString:vn.inString},Gn=Lt.NC("unicodeHighlight.adjustSettings","Adjust settings"),ci=`command:${Dn.ID}?${encodeURIComponent(JSON.stringify(Sn))}`,ii=new l.W5("",!0).appendMarkdown(Vn).appendText(" ").appendLink(ci,Gn);nt.push(new j.hU(this,Ut.range,[ii],bt++))}return nt}renderHoverParts(ue,be){return(0,j.c)(ue,be,this._editor,this._languageService,this._openerService)}};function et(Ae){return`U+${Ae.toString(16).padStart(4,"0")}`}function vt(Ae){let ue=`\`${et(Ae)}\``;return T.vU.isInvisibleCharacter(Ae)||(ue+=` "${function mt(Ae){return 96===Ae?"`` ` ``":"`"+String.fromCodePoint(Ae)+"`"}(Ae)}"`),ue}function _t(Ae,ue){return V.a.computeUnicodeHighlightReason(Ae,ue)}Qe=he([le(1,z.O),le(2,Se.v4)],Qe);class $t{constructor(){this.map=new Map}getDecorationFromOptions(ue){return this.getDecoration(!ue.includeComments,!ue.includeStrings)}getDecoration(ue,be){const Je=`${ue}${be}`;let Fe=this.map.get(Je);return Fe||(Fe=O.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ue,hideInStringTokens:be}),this.map.set(Je,Fe)),Fe}}$t.instance=new $t;class Bt extends x.R6{constructor(){super({id:ht.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(ue,be,Je){return Q(this,void 0,void 0,function*(){const Fe=ue?.get($e.Ui);Fe&&this.runAction(Fe)})}runAction(ue){return Q(this,void 0,void 0,function*(){yield ue.updateValue(P.qt.includeComments,!1,2)})}}class Ke extends x.R6{constructor(){super({id:ht.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(ue,be,Je){return Q(this,void 0,void 0,function*(){const Fe=ue?.get($e.Ui);Fe&&this.runAction(Fe)})}runAction(ue){return Q(this,void 0,void 0,function*(){yield ue.updateValue(P.qt.includeStrings,!1,2)})}}let ht=(()=>{class Ae extends x.R6{constructor(){super({id:Ae.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(be,Je,Fe){return Q(this,void 0,void 0,function*(){const nt=be?.get($e.Ui);nt&&this.runAction(nt)})}runAction(be){return Q(this,void 0,void 0,function*(){yield be.updateValue(P.qt.ambiguousCharacters,!1,2)})}}return Ae.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",Ae})(),jt=(()=>{class Ae extends x.R6{constructor(){super({id:Ae.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(be,Je,Fe){return Q(this,void 0,void 0,function*(){const nt=be?.get($e.Ui);nt&&this.runAction(nt)})}runAction(be){return Q(this,void 0,void 0,function*(){yield be.updateValue(P.qt.invisibleCharacters,!1,2)})}}return Ae.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",Ae})(),fn=(()=>{class Ae extends x.R6{constructor(){super({id:Ae.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(be,Je,Fe){return Q(this,void 0,void 0,function*(){const nt=be?.get($e.Ui);nt&&this.runAction(nt)})}runAction(be){return Q(this,void 0,void 0,function*(){yield be.updateValue(P.qt.nonBasicASCII,!1,2)})}}return Ae.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",Ae})(),Dn=(()=>{class Ae extends x.R6{constructor(){super({id:Ae.ID,label:Lt.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(be,Je,Fe){return Q(this,void 0,void 0,function*(){const{codePoint:nt,reason:bt,inString:Ut,inComment:vn}=Fe,Mn=String.fromCodePoint(nt),St=be.get(ae.eJ),gn=be.get($e.Ui),Sn=[];if(0===bt.kind)for(const ci of bt.notAmbiguousInLocales)Sn.push({label:Lt.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',ci),run:()=>Q(this,void 0,void 0,function*(){He(gn,[ci])})});if(Sn.push({label:function Vn(ci){return T.vU.isInvisibleCharacter(ci)?Lt.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",et(ci)):Lt.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${et(ci)} "${Mn}"`)}(nt),run:()=>function yt(Ae,ue){return Q(this,void 0,void 0,function*(){const be=Ae.getValue(P.qt.allowedCharacters);let Je;Je="object"==typeof be&&be?be:{};for(const Fe of ue)Je[String.fromCodePoint(Fe)]=!0;yield Ae.updateValue(P.qt.allowedCharacters,Je,2)})}(gn,[nt])}),vn){const ci=new Bt;Sn.push({label:ci.label,run:()=>Q(this,void 0,void 0,function*(){return ci.runAction(gn)})})}else if(Ut){const ci=new Ke;Sn.push({label:ci.label,run:()=>Q(this,void 0,void 0,function*(){return ci.runAction(gn)})})}if(0===bt.kind){const ci=new ht;Sn.push({label:ci.label,run:()=>Q(this,void 0,void 0,function*(){return ci.runAction(gn)})})}else if(1===bt.kind){const ci=new jt;Sn.push({label:ci.label,run:()=>Q(this,void 0,void 0,function*(){return ci.runAction(gn)})})}else if(2===bt.kind){const ci=new fn;Sn.push({label:ci.label,run:()=>Q(this,void 0,void 0,function*(){return ci.runAction(gn)})})}else!function ye(Ae){throw new Error(`Unexpected value: ${Ae}`)}(bt);const Gn=yield St.pick(Sn,{title:Lt.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Gn&&(yield Gn.run())})}}return Ae.ID="editor.action.unicodeHighlight.showExcludeOptions",Ae})();function He(Ae,ue){var be;return Q(this,void 0,void 0,function*(){const Je=null===(be=Ae.inspect(P.qt.allowedLocales).user)||void 0===be?void 0:be.value;let Fe;Fe="object"==typeof Je&&Je?Object.assign({},Je):{};for(const nt of ue)Fe[nt]=!0;yield Ae.updateValue(P.qt.allowedLocales,Fe,2)})}(0,x.Qr)(ht),(0,x.Qr)(jt),(0,x.Qr)(fn),(0,x.Qr)(Dn),(0,x._K)(Pe.ID,Pe),F.Ae.register(Qe)},59525:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{UnusualLineTerminatorsDetector:()=>c});var d=e(80142),n=e(40734),l=e(26845),S=e(33745),v=e(55197),T=e(78610),E=function(t,a){return function(p,u){a(p,u,t)}};const _="ignoreUnusualLineTerminators";let c=class extends d.JT{constructor(a,p,u){super(),this._editor=a,this._dialogService=p,this._codeEditorService=u,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(g=>{g.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(g=>{g.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return t=this,a=void 0,u=function*(){if("off"===this._config||!this._editor.hasModel())return;const a=this._editor.getModel();a.mightContainUnusualLineTerminators()&&!0!==function m(t,a){return t.getModelProperty(a.uri,_)}(this._codeEditorService,a)&&!this._editor.getOption(83)&&("auto"!==this._config?(yield this._dialogService.confirm({title:v.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:v.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:v.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,n.EZ)(a.uri)),primaryButton:v.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:v.NC("unusualLineTerminators.ignore","Ignore")})).confirmed?a.removeUnusualLineTerminators(this._editor.getSelections()):function s(t,a,p){t.setModelProperty(a.uri,_,p)}(this._codeEditorService,a,!0):a.removeUnusualLineTerminators(this._editor.getSelections()))},new((p=void 0)||(p=Promise))(function(b,y){function w(P){try{x(u.next(P))}catch(O){y(O)}}function D(P){try{x(u.throw(P))}catch(O){y(O)}}function x(P){P.done?b(P.value):function g(b){return b instanceof p?b:new p(function(y){y(b)})}(P.value).then(w,D)}x((u=u.apply(t,a||[])).next())});var t,a,p,u}};c.ID="editor.contrib.unusualLineTerminatorsDetector",c=function(t,a,p,u){var y,g=arguments.length,b=g<3?a:null===u?u=Object.getOwnPropertyDescriptor(a,p):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(t,a,p,u);else for(var w=t.length-1;w>=0;w--)(y=t[w])&&(b=(g<3?y(b):g>3?y(a,p,b):y(a,p))||b);return g>3&&b&&Object.defineProperty(a,p,b),b}([E(1,T.S),E(2,S.$)],c),(0,l._K)(c.ID,c)},51337:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(48648),n=e(80142),l=e(26845),S=e(70590),v=e(59602),T=e(37073),C=e(21952),E=e(94667),L=e(40902),_=e(79095),s=e(631),m=e(90790),t=function(p,u){return function(g,b){u(g,b,p)}};let a=class extends n.JT{constructor(u,g,b,y,w,D){super(),this._modelService=g,this._themeService=b,this._configurationService=y,this._editor=u,this._provider=D.documentRangeSemanticTokensProvider,this._debounceInformation=w.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new d.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const x=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{x()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),x()})),this._register(this._editor.onDidChangeModelContent(P=>{this._cancelAll(),x()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),x()})),this._register(this._configurationService.onDidChangeConfiguration(P=>{P.affectsConfiguration(T.e3)&&(this._cancelAll(),x())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),x()}))}_cancelAll(){for(const u of this._outstandingRequests)u.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(u){for(let g=0,b=this._outstandingRequests.length;g<b;g++)if(this._outstandingRequests[g]===u)return void this._outstandingRequests.splice(g,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const u=this._editor.getModel();if(u.tokenization.hasCompleteSemanticTokens())return;if(!(0,T.tw)(u,this._themeService,this._configurationService))return void(u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1));if(!(0,S.KO)(this._provider,u))return void(u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1));const g=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(g.map(b=>this._requestRange(u,b)))}_requestRange(u,g){const b=u.getVersionId(),y=(0,d.PG)(D=>Promise.resolve((0,S.OG)(this._provider,u,g,D))),w=new s.G(!1);return y.then(D=>{if(this._debounceInformation.update(u,w.elapsed()),!D||!D.tokens||u.isDisposed()||u.getVersionId()!==b)return;const{provider:x,tokens:P}=D,O=this._modelService.getSemanticTokensProviderStyling(x);u.tokenization.setPartialSemanticTokens(g,(0,C.h)(P,O,u.getLanguageId()))}).then(()=>this._removeOutstandingRequest(y),()=>this._removeOutstandingRequest(y)),y}};a.ID="editor.contrib.viewportSemanticTokens",a=function(p,u,g,b){var D,y=arguments.length,w=y<3?u:null===b?b=Object.getOwnPropertyDescriptor(u,g):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,u,g,b);else for(var x=p.length-1;x>=0;x--)(D=p[x])&&(w=(y<3?D(w):y>3?D(u,g,w):D(u,g))||w);return y>3&&w&&Object.defineProperty(u,g,w),w}([t(1,v.q),t(2,L.XE),t(3,E.Ui),t(4,_.A),t(5,m.p)],a),(0,l._K)(a.ID,a)},45505:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{getOccurrencesAtPosition:()=>z});var d=e(59797),n=e(64023),l=e(48648),S=e(73888),v=e(4125),T=e(80142),C=e(26845),E=e(98570),L=e(82290),_=e(47629),s=e(59758),m=e(45337),c=e(55197),t=e(16468),a=e(4062),p=e(40902),u=e(90790),g=e(18034),y=function(M,we){return function(Ee,xe){we(Ee,xe,M)}};const w=(0,a.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},c.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),D=(0,a.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},c.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),x=(0,a.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},c.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),P=(0,a.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},c.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),O=(0,a.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},c.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),V=(0,a.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},c.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),H=new t.uy("hasWordHighlights",!1);function z(M,we,Ee,xe){const Ne=M.ordered(we);return(0,l.Ps)(Ne.map(oe=>()=>Promise.resolve(oe.provideDocumentHighlights(we,Ee,xe)).then(void 0,v.Cp)),n.Of)}class k{constructor(we,Ee,xe){this._model=we,this._selection=Ee,this._wordSeparators=xe,this._wordRange=this._getCurrentWordRange(we,Ee),this._result=null}get result(){return this._result||(this._result=(0,l.PG)(we=>this._compute(this._model,this._selection,this._wordSeparators,we))),this._result}_getCurrentWordRange(we,Ee){const xe=we.getWordAtPosition(Ee.getPosition());return xe?new E.e(Ee.startLineNumber,xe.startColumn,Ee.startLineNumber,xe.endColumn):null}isValid(we,Ee,xe){const Ne=Ee.startLineNumber,oe=Ee.startColumn,Se=Ee.endColumn,Ie=this._getCurrentWordRange(we,Ee);let me=Boolean(this._wordRange&&this._wordRange.equalsRange(Ie));for(let Me=0,de=xe.length;!me&&Me<de;Me++){const ke=xe.getRange(Me);ke&&ke.startLineNumber===Ne&&ke.startColumn<=oe&&ke.endColumn>=Se&&(me=!0)}return me}cancel(){this.result.cancel()}}class F extends k{constructor(we,Ee,xe,Ne){super(we,Ee,xe),this._providers=Ne}_compute(we,Ee,xe,Ne){return z(this._providers,we,Ee.getPosition(),Ne).then(oe=>oe||[])}}class j extends k{constructor(we,Ee,xe){super(we,Ee,xe),this._selectionIsEmpty=Ee.isEmpty()}_compute(we,Ee,xe,Ne){return(0,l.Vs)(250,Ne).then(()=>{if(!Ee.isEmpty())return[];const oe=we.getWordAtPosition(Ee.getPosition());return!oe||oe.word.length>1e3?[]:we.findMatches(oe.word,!0,!1,!0,xe,!1).map(Ie=>({range:Ie.range,kind:m.MY.Text}))})}isValid(we,Ee,xe){const Ne=Ee.isEmpty();return this._selectionIsEmpty===Ne&&super.isValid(we,Ee,xe)}}(0,C.sb)("_executeDocumentHighlights",(M,we,Ee)=>z(M.get(u.p).documentHighlightProvider,we,Ee,S.T.None));class U{constructor(we,Ee,xe){this.toUnhook=new T.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=we,this.providers=Ee,this._hasWordHighlights=H.bindTo(xe),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(we.onDidChangeCursorPosition(Ne=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(Ne)})),this.toUnhook.add(we.onDidChangeModelContent(Ne=>{this._stopAll()})),this.toUnhook.add(we.onDidChangeConfiguration(Ne=>{const oe=this.editor.getOption(74);this.occurrencesHighlight!==oe&&(this.occurrencesHighlight=oe,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(E.e.compareRangesUsingStarts)}moveNext(){const we=this._getSortedHighlights(),xe=(we.findIndex(oe=>oe.containsPosition(this.editor.getPosition()))+1)%we.length,Ne=we[xe];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ne.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ne);const oe=this._getWord();if(oe){const Se=this.editor.getModel().getLineContent(Ne.startLineNumber);(0,d.Z9)(`${Se}, ${xe+1} of ${we.length} for '${oe.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const we=this._getSortedHighlights(),xe=(we.findIndex(oe=>oe.containsPosition(this.editor.getPosition()))-1+we.length)%we.length,Ne=we[xe];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ne.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ne);const oe=this._getWord();if(oe){const Se=this.editor.getModel().getLineContent(Ne.startLineNumber);(0,d.Z9)(`${Se}, ${xe+1} of ${we.length} for '${oe.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(we){this.occurrencesHighlight&&3===we.reason?this._run():this._stopAll()}_getWord(){const we=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:we.startLineNumber,column:we.startColumn})}_run(){const we=this.editor.getSelection();if(we.startLineNumber!==we.endLineNumber)return void this._stopAll();const Ee=we.startColumn,xe=we.endColumn,Ne=this._getWord();if(!Ne||Ne.startColumn>Ee||Ne.endColumn<xe)return void this._stopAll();const oe=this.workerRequest&&this.workerRequest.isValid(this.model,we,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),oe)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const Se=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function K(M,we,Ee,xe){return M.has(we)?new F(we,Ee,xe,M):new j(we,Ee,xe)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(Ie=>{Se===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Ie||[],this._beginRenderDecorations())},v.dL)}}_beginRenderDecorations(){const we=(new Date).getTime(),Ee=this.lastCursorPositionChangeTime+250;we>=Ee?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},Ee-we)}renderDecorations(){this.renderDecorationsTimer=-1;const we=[];for(const Ee of this.workerRequestValue)Ee.range&&we.push({range:Ee.range,options:U._getDecorationOptions(Ee.kind)});this.decorations.set(we),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(we){return we===m.MY.Write?this._WRITE_OPTIONS:we===m.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}U._WRITE_OPTIONS=s.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,p.EN)(V),position:_.sh.Center},minimap:{color:(0,p.EN)(a.IYc),position:_.F5.Inline}}),U._TEXT_OPTIONS=s.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,p.EN)(a.SPM),position:_.sh.Center},minimap:{color:(0,p.EN)(a.IYc),position:_.F5.Inline}}),U._REGULAR_OPTIONS=s.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,p.EN)(O),position:_.sh.Center},minimap:{color:(0,p.EN)(a.IYc),position:_.F5.Inline}});let ne=class Rc extends T.JT{constructor(we,Ee,xe){super(),this.wordHighlighter=null;const Ne=()=>{we.hasModel()&&(this.wordHighlighter=new U(we,xe.documentHighlightProvider,Ee))};this._register(we.onDidChangeModel(oe=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Ne()})),Ne()}static get(we){return we.getContribution(Rc.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(we){this.wordHighlighter&&we&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};ne.ID="editor.contrib.wordHighlighter",ne=function(M,we,Ee,xe){var Se,Ne=arguments.length,oe=Ne<3?we:null===xe?xe=Object.getOwnPropertyDescriptor(we,Ee):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(M,we,Ee,xe);else for(var Ie=M.length-1;Ie>=0;Ie--)(Se=M[Ie])&&(oe=(Ne<3?Se(oe):Ne>3?Se(we,Ee,oe):Se(we,Ee))||oe);return Ne>3&&oe&&Object.defineProperty(we,Ee,oe),oe}([y(1,t.i6),y(2,u.p)],ne);class N extends C.R6{constructor(we,Ee){super(Ee),this._isNext=we}run(we,Ee){const xe=ne.get(Ee);!xe||(this._isNext?xe.moveNext():xe.moveBack())}}(0,C._K)(ne.ID,ne),(0,C.Qr)(class W extends N{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:c.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:H,kbOpts:{kbExpr:L.u.editorTextFocus,primary:65,weight:100}})}}),(0,C.Qr)(class Z extends N{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:c.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:H,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1089,weight:100}})}}),(0,C.Qr)(class ge extends C.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:c.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:H.toNegated(),kbOpts:{kbExpr:L.u.editorTextFocus,primary:0,weight:100}})}run(we,Ee,xe){const Ne=ne.get(Ee);!Ne||Ne.restoreViewState(!0)}}),(0,p.Ic)((M,we)=>{const Ee=M.getColor(a.Rzx);Ee&&(we.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${Ee}; }`),we.addRule(`.monaco-editor .selectionHighlight { background-color: ${Ee.transparent(.5)}; }`));const xe=M.getColor(w);xe&&we.addRule(`.monaco-editor .wordHighlight { background-color: ${xe}; }`);const Ne=M.getColor(D);Ne&&we.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${Ne}; }`);const oe=M.getColor(a.g_n);oe&&we.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,g.c3)(M.type)?"dotted":"solid"} ${oe}; box-sizing: border-box; }`);const Se=M.getColor(x);Se&&we.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,g.c3)(M.type)?"dashed":"solid"} ${Se}; box-sizing: border-box; }`);const Ie=M.getColor(P);Ie&&we.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,g.c3)(M.type)?"dashed":"solid"} ${Ie}; box-sizing: border-box; }`)})},20940:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CursorWordAccessibilityLeft:()=>O,CursorWordAccessibilityLeftSelect:()=>V,CursorWordAccessibilityRight:()=>U,CursorWordAccessibilityRightSelect:()=>ne,CursorWordEndLeft:()=>y,CursorWordEndLeftSelect:()=>x,CursorWordEndRight:()=>z,CursorWordEndRightSelect:()=>j,CursorWordLeft:()=>w,CursorWordLeftSelect:()=>P,CursorWordRight:()=>k,CursorWordRightSelect:()=>K,CursorWordStartLeft:()=>b,CursorWordStartLeftSelect:()=>D,CursorWordStartRight:()=>H,CursorWordStartRightSelect:()=>F,DeleteInsideWord:()=>oe,DeleteWordCommand:()=>N,DeleteWordEndLeft:()=>M,DeleteWordEndRight:()=>xe,DeleteWordLeft:()=>we,DeleteWordLeftCommand:()=>W,DeleteWordRight:()=>Ne,DeleteWordRightCommand:()=>Z,DeleteWordStartLeft:()=>ge,DeleteWordStartRight:()=>Ee,MoveWordCommand:()=>p,WordLeftCommand:()=>u,WordRightCommand:()=>g});var d=e(26845),n=e(22599),l=e(54862),S=e(76336),v=e(7878),T=e(91609),C=e(18723),E=e(98570),L=e(7233),_=e(82290),s=e(94911),m=e(55197),c=e(64280),t=e(16468),a=e(38980);class p extends d._l{constructor(Ie){super(Ie),this._inSelectionMode=Ie.inSelectionMode,this._wordNavigationType=Ie.wordNavigationType}runEditorCommand(Ie,me,Me){if(!me.hasModel())return;const de=(0,T.u)(me.getOption(119)),ke=me.getModel(),ze=me.getSelections().map(ce=>{const Ve=new C.L(ce.positionLineNumber,ce.positionColumn),tt=this._move(de,ke,Ve,this._wordNavigationType);return this._moveTo(ce,tt,this._inSelectionMode)});if(ke.pushStackElement(),me._getViewModel().setCursorStates("moveWordCommand",3,ze.map(ce=>S.Vi.fromModelSelection(ce))),1===ze.length){const ce=new C.L(ze[0].positionLineNumber,ze[0].positionColumn);me.revealPosition(ce,0)}}_moveTo(Ie,me,Me){return Me?new L.Y(Ie.selectionStartLineNumber,Ie.selectionStartColumn,me.lineNumber,me.column):new L.Y(me.lineNumber,me.column,me.lineNumber,me.column)}}class u extends p{_move(Ie,me,Me,de){return v.w.moveWordLeft(Ie,me,Me,de)}}class g extends p{_move(Ie,me,Me,de){return v.w.moveWordRight(Ie,me,Me,de)}}class b extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class y extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class w extends u{constructor(){var Ie;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:t.Ao.and(_.u.textInputFocus,null===(Ie=t.Ao.and(c.U,a.cv))||void 0===Ie?void 0:Ie.negate()),primary:2063,mac:{primary:527},weight:100}})}}class D extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class x extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class P extends u{constructor(){var Ie;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:t.Ao.and(_.u.textInputFocus,null===(Ie=t.Ao.and(c.U,a.cv))||void 0===Ie?void 0:Ie.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class O extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Ie,me,Me,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),me,Me,de)}}class V extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Ie,me,Me,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),me,Me,de)}}class H extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class z extends g{constructor(){var Ie;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:t.Ao.and(_.u.textInputFocus,null===(Ie=t.Ao.and(c.U,a.cv))||void 0===Ie?void 0:Ie.negate()),primary:2065,mac:{primary:529},weight:100}})}}class k extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class F extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class j extends g{constructor(){var Ie;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:t.Ao.and(_.u.textInputFocus,null===(Ie=t.Ao.and(c.U,a.cv))||void 0===Ie?void 0:Ie.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class K extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class U extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Ie,me,Me,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),me,Me,de)}}class ne extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Ie,me,Me,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),me,Me,de)}}class N extends d._l{constructor(Ie){super(Ie),this._whitespaceHeuristics=Ie.whitespaceHeuristics,this._wordNavigationType=Ie.wordNavigationType}runEditorCommand(Ie,me,Me){const de=Ie.get(s.c_);if(!me.hasModel())return;const ke=(0,T.u)(me.getOption(119)),Ue=me.getModel(),ze=me.getSelections(),ce=me.getOption(5),Ve=me.getOption(8),tt=de.getLanguageConfiguration(Ue.getLanguageId()).getAutoClosingPairs(),Ct=me._getViewModel(),Lt=ze.map($e=>{const ae=this._delete({wordSeparators:ke,model:Ue,selection:$e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:me.getOption(6),autoClosingBrackets:ce,autoClosingQuotes:Ve,autoClosingPairs:tt,autoClosedCharacters:Ct.getCursorAutoClosedCharacters()},this._wordNavigationType);return new n.T4(ae,"")});me.pushUndoStop(),me.executeCommands(this.id,Lt),me.pushUndoStop()}}class W extends N{_delete(Ie,me){return v.w.deleteWordLeft(Ie,me)||new E.e(1,1,1,1)}}class Z extends N{_delete(Ie,me){const Me=v.w.deleteWordRight(Ie,me);if(Me)return Me;const de=Ie.model.getLineCount(),ke=Ie.model.getLineMaxColumn(de);return new E.e(de,ke,de,ke)}}class ge extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:_.u.writable})}}class M extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:_.u.writable})}}class we extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class Ee extends Z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:_.u.writable})}}class xe extends Z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:_.u.writable})}}class Ne extends Z{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class oe extends d.R6{constructor(){super({id:"deleteInsideWord",precondition:_.u.writable,label:m.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(Ie,me,Me){if(!me.hasModel())return;const de=(0,T.u)(me.getOption(119)),ke=me.getModel(),ze=me.getSelections().map(ce=>{const Ve=v.w.deleteInsideWord(de,ke,ce);return new n.T4(Ve,"")});me.pushUndoStop(),me.executeCommands(this.id,ze),me.pushUndoStop()}}(0,d.fK)(new b),(0,d.fK)(new y),(0,d.fK)(new w),(0,d.fK)(new D),(0,d.fK)(new x),(0,d.fK)(new P),(0,d.fK)(new H),(0,d.fK)(new z),(0,d.fK)(new k),(0,d.fK)(new F),(0,d.fK)(new j),(0,d.fK)(new K),(0,d.fK)(new O),(0,d.fK)(new V),(0,d.fK)(new U),(0,d.fK)(new ne),(0,d.fK)(new ge),(0,d.fK)(new M),(0,d.fK)(new we),(0,d.fK)(new Ee),(0,d.fK)(new xe),(0,d.fK)(new Ne),(0,d.Qr)(oe)},74999:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CursorWordPartLeft:()=>_,CursorWordPartLeftSelect:()=>s,CursorWordPartRight:()=>c,CursorWordPartRightSelect:()=>t,DeleteWordPartLeft:()=>C,DeleteWordPartRight:()=>E,WordPartLeftCommand:()=>L,WordPartRightCommand:()=>m});var d=e(26845),n=e(7878),l=e(98570),S=e(82290),v=e(20940),T=e(66549);class C extends v.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:S.u.writable,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(p,u){return n.L.deleteWordPartLeft(p)||new l.e(1,1,1,1)}}class E extends v.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:S.u.writable,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(p,u){const g=n.L.deleteWordPartRight(p);if(g)return g;const b=p.model.getLineCount(),y=p.model.getLineMaxColumn(b);return new l.e(b,y,b,y)}}class L extends v.MoveWordCommand{_move(p,u,g,b){return n.L.moveWordPartLeft(p,u,g)}}class _ extends L{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}T.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class s extends L{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}T.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class m extends v.MoveWordCommand{_move(p,u,g,b){return n.L.moveWordPartRight(p,u,g)}}class c extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class t extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,d.fK)(new C),(0,d.fK)(new E),(0,d.fK)(new _),(0,d.fK)(new s),(0,d.fK)(new c),(0,d.fK)(new t)},70748:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(80318),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t);var u=e(98463),g=e(12226),b=e(86998),y=e(59797),w=e(5183),D=e(80142),x=e(8841),P=e(73879),O=e(59547),V=e(26845),H=e(82290),z=e(92047),k=e(16468),F=e(9265),j=e(14759),K=e(44827),U=e(4062),ne=e(40902),N=e(74982),W=function(oe,Se,Ie,me){var ke,Me=arguments.length,de=Me<3?Se:null===me?me=Object.getOwnPropertyDescriptor(Se,Ie):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(oe,Se,Ie,me);else for(var Ue=oe.length-1;Ue>=0;Ue--)(ke=oe[Ue])&&(de=(Me<3?ke(de):Me>3?ke(Se,Ie,de):ke(Se,Ie))||de);return Me>3&&de&&Object.defineProperty(Se,Ie,de),de},Z=function(oe,Se){return function(Ie,me){Se(Ie,me,oe)}};const ge=new k.uy("accessibilityHelpWidgetVisible",!1);let M=class Oc extends D.JT{constructor(Se,Ie){super(),this._editor=Se,this._widget=this._register(Ie.createInstance(Ee,this._editor))}static get(Se){return Se.getContribution(Oc.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};M.ID="editor.contrib.accessibilityHelpController",M=W([Z(1,F.TG)],M);let Ee=class ld extends w.${constructor(Se,Ie,me,Me){super(),this._contextKeyService=Ie,this._keybindingService=me,this._openerService=Me,this._editor=Se,this._isVisibleKey=ge.bindTo(this._contextKeyService),this._domNode=(0,g.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,g.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(u.mu(this._contentDomNode.domNode,"keydown",de=>{if(this._isVisible&&(de.equals(2083)&&((0,y.Z9)(N.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),u.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),de.preventDefault(),de.stopPropagation()),de.equals(2086))){(0,y.Z9)(N.Oe.openingDocs);let ke=this._editor.getRawOptions().accessibilityHelpUrl;typeof ke>"u"&&(ke="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(O.o.parse(ke)),de.preventDefault(),de.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ld.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(Se,Ie,me){const Me=this._keybindingService.lookupKeybinding(Se);return Me?P.WU(Ie,Me.getAriaLabel()):P.WU(me,Se)}_buildContent(){const Se=this._editor.getOptions(),Ie=this._editor.getSelections();let me=0;if(Ie){const Ue=this._editor.getModel();Ue&&Ie.forEach(ze=>{me+=Ue.getValueLengthInRange(ze)})}let Me=function we(oe,Se){return oe&&0!==oe.length?1===oe.length?Se?P.WU(N.Oe.singleSelectionRange,oe[0].positionLineNumber,oe[0].positionColumn,Se):P.WU(N.Oe.singleSelection,oe[0].positionLineNumber,oe[0].positionColumn):Se?P.WU(N.Oe.multiSelectionRange,oe.length,Se):oe.length>0?P.WU(N.Oe.multiSelection,oe.length):"":N.Oe.noSelection}(Ie,me);Se.get(56)?Se.get(83)?Me+=N.Oe.readonlyDiffEditor:Me+=N.Oe.editableDiffEditor:Se.get(83)?Me+=N.Oe.readonlyEditor:Me+=N.Oe.editableEditor;const de=x.dz?N.Oe.changeConfigToOnMac:N.Oe.changeConfigToOnWinLinux;switch(Se.get(2)){case 0:Me+="\n\n - "+de;break;case 2:Me+="\n\n - "+N.Oe.auto_on;break;case 1:Me+="\n\n - "+N.Oe.auto_off,Me+=" "+de}Se.get(132)?Me+="\n\n - "+this._descriptionForCommand(z.ToggleTabFocusModeAction.ID,N.Oe.tabFocusModeOnMsg,N.Oe.tabFocusModeOnMsgNoKb):Me+="\n\n - "+this._descriptionForCommand(z.ToggleTabFocusModeAction.ID,N.Oe.tabFocusModeOffMsg,N.Oe.tabFocusModeOffMsgNoKb),Me+="\n\n - "+(x.dz?N.Oe.openDocMac:N.Oe.openDocWinLinux),Me+="\n\n"+N.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,b.BO)(Me)),this._contentDomNode.domNode.setAttribute("aria-label",Me)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,u.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const Se=this._editor.getLayoutInfo(),Ie=Math.max(5,Math.min(ld.WIDTH,Se.width-40)),me=Math.max(5,Math.min(ld.HEIGHT,Se.height-40));this._domNode.setWidth(Ie),this._domNode.setHeight(me);const Me=Math.round((Se.height-me)/2);this._domNode.setTop(Me);const de=Math.round((Se.width-Ie)/2);this._domNode.setLeft(de)}};Ee.ID="editor.contrib.accessibilityHelpWidget",Ee.WIDTH=500,Ee.HEIGHT=300,Ee=W([Z(1,k.i6),Z(2,j.d),Z(3,K.v4)],Ee),(0,V._K)(M.ID,M),(0,V.Qr)(class xe extends V.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:N.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(Se,Ie){const me=M.get(Ie);me&&me.show()}});const Ne=V._l.bindToContribution(M.get);(0,V.fK)(new Ne({id:"closeAccessibilityHelp",precondition:ge,handler:oe=>oe.hide(),kbOpts:{weight:200,kbExpr:H.u.focus,primary:9,secondary:[1033]}})),(0,ne.Ic)((oe,Se)=>{const Ie=oe.getColor(U.D0T);Ie&&Se.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${Ie}; }`);const me=oe.getColor(U.Hfx);me&&Se.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${me}; }`);const Me=oe.getColor(U.rh);Me&&Se.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${Me}; }`);const de=oe.getColor(U.lRK);de&&Se.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${de}; }`)})},50295:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{IPadShowKeyboard:()=>w});var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(3656),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t);var u=e(98463),g=e(80142),b=e(26845),y=e(8841);let w=(()=>{class x extends g.JT{constructor(O){super(),this.editor=O,this.widget=null,y.gn&&(this._register(O.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const O=!this.editor.getOption(83);!this.widget&&O?this.widget=new D(this.editor):this.widget&&!O&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return x.ID="editor.contrib.iPadShowKeyboard",x})(),D=(()=>{class x extends g.JT{constructor(O){super(),this.editor=O,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(u.nm(this._domNode,"touchstart",V=>{this.editor.focus()})),this._register(u.nm(this._domNode,"focus",V=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return x.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return x.ID="editor.contrib.ShowKeyboardWidget",x})();(0,b._K)(w.ID,w)},23414:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(41709),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t);var u=e(98463),g=e(69355),b=e(80142),y=e(26845),w=e(45337),D=e(1465),x=e(88086),P=e(45358),O=e(55503),V=e(4062),H=e(40902),z=e(74982),k=e(18034),j=function(Z,ge){return function(M,we){ge(M,we,Z)}};let K=class kc extends b.JT{constructor(ge,M,we){super(),this._editor=ge,this._languageService=we,this._widget=null,this._register(this._editor.onDidChangeModel(Ee=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(Ee=>this.stop())),this._register(w.RW.onDidChange(Ee=>this.stop())),this._register(this._editor.onKeyUp(Ee=>9===Ee.keyCode&&this.stop()))}static get(ge){return ge.getContribution(kc.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new W(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};K.ID="editor.contrib.inspectTokens",K=function(Z,ge,M,we){var Ne,Ee=arguments.length,xe=Ee<3?ge:null===we?we=Object.getOwnPropertyDescriptor(ge,M):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(Z,ge,M,we);else for(var oe=Z.length-1;oe>=0;oe--)(Ne=Z[oe])&&(xe=(Ee<3?Ne(xe):Ee>3?Ne(ge,M,xe):Ne(ge,M))||xe);return Ee>3&&xe&&Object.defineProperty(ge,M,xe),xe}([j(1,O.Z),j(2,P.O)],K);let W=(()=>{class Z extends b.JT{constructor(M,we){super(),this.allowEditorOverflow=!0,this._editor=M,this._languageService=we,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function N(Z,ge){const M=w.RW.get(ge);if(M)return M;const we=Z.encodeLanguageId(ge);return{getInitialState:()=>x.TJ,tokenize:(Ee,xe,Ne)=>(0,x.Ri)(ge,Ne),tokenizeEncoded:(Ee,xe,Ne)=>(0,x.Dy)(we,Ne)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(Ee=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return Z._ID}_compute(M){const we=this._getTokensAtLine(M.lineNumber);let Ee=0;for(let Ie=we.tokens1.length-1;Ie>=0;Ie--)if(M.column-1>=we.tokens1[Ie].offset){Ee=Ie;break}let xe=0;for(let Ie=we.tokens2.length>>>1;Ie>=0;Ie--)if(M.column-1>=we.tokens2[Ie<<1]){xe=Ie;break}const Ne=this._model.getLineContent(M.lineNumber);let oe="";Ee<we.tokens1.length&&(oe=Ne.substring(we.tokens1[Ee].offset,Ee+1<we.tokens1.length?we.tokens1[Ee+1].offset:Ne.length)),(0,u.mc)(this._domNode,(0,u.$)("h2.tm-token",void 0,function ne(Z){let ge="";for(let M=0,we=Z.length;M<we;M++){const Ee=Z.charCodeAt(M);switch(Ee){case 9:ge+="\u2192";break;case 32:ge+="\xb7";break;default:ge+=String.fromCharCode(Ee)}}return ge}(oe),(0,u.$)("span.tm-token-length",void 0,`${oe.length} ${1===oe.length?"char":"chars"}`))),(0,u.R3)(this._domNode,(0,u.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const Se=1+(xe<<1)<we.tokens2.length?this._decodeMetadata(we.tokens2[1+(xe<<1)]):null;(0,u.R3)(this._domNode,(0,u.$)("table.tm-metadata-table",void 0,(0,u.$)("tbody",void 0,(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"language"),(0,u.$)("td.tm-metadata-value",void 0,`${Se?Se.languageId:"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"token type"),(0,u.$)("td.tm-metadata-value",void 0,`${Se?this._tokenTypeToString(Se.tokenType):"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"font style"),(0,u.$)("td.tm-metadata-value",void 0,`${Se?this._fontStyleToString(Se.fontStyle):"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"foreground"),(0,u.$)("td.tm-metadata-value",void 0,`${Se?g.Il.Format.CSS.formatHex(Se.foreground):"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"background"),(0,u.$)("td.tm-metadata-value",void 0,`${Se?g.Il.Format.CSS.formatHex(Se.background):"-?-"}`))))),(0,u.R3)(this._domNode,(0,u.$)("hr.tokens-inspect-separator")),Ee<we.tokens1.length&&(0,u.R3)(this._domNode,(0,u.$)("span.tm-token-type",void 0,we.tokens1[Ee].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(M){const we=w.RW.getColorMap(),Ee=D.N.getLanguageId(M),xe=D.N.getTokenType(M),Ne=D.N.getFontStyle(M),oe=D.N.getForeground(M),Se=D.N.getBackground(M);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(Ee),tokenType:xe,fontStyle:Ne,foreground:we[oe],background:we[Se]}}_tokenTypeToString(M){switch(M){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(M){let we="";return 1&M&&(we+="italic "),2&M&&(we+="bold "),4&M&&(we+="underline "),8&M&&(we+="strikethrough "),0===we.length&&(we="---"),we}_getTokensAtLine(M){const we=this._getStateBeforeLine(M),Ee=this._tokenizationSupport.tokenize(this._model.getLineContent(M),!0,we),xe=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(M),!0,we);return{startState:we,tokens1:Ee.tokens,tokens2:xe.tokens,endState:Ee.endState}}_getStateBeforeLine(M){let we=this._tokenizationSupport.getInitialState();for(let Ee=1;Ee<M;Ee++)we=this._tokenizationSupport.tokenize(this._model.getLineContent(Ee),!0,we).endState;return we}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return Z._ID="editor.contrib.inspectTokensWidget",Z})();(0,y._K)(K.ID,K),(0,y.Qr)(class U extends y.R6{constructor(){super({id:"editor.action.inspectTokens",label:z.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(ge,M){const we=K.get(M);we&&we.launch()}}),(0,H.Ic)((Z,ge)=>{const M=Z.getColor(V.CNo);if(M){const xe=(0,k.c3)(Z.type)?2:1;ge.addRule(`.monaco-editor .tokens-inspect-widget { border: ${xe}px solid ${M}; }`),ge.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${M}; }`)}const we=Z.getColor(V.yJx);we&&ge.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${we}; }`);const Ee=Z.getColor(V.Sbf);Ee&&ge.addRule(`.monaco-editor .tokens-inspect-widget { color: ${Ee}; }`)})},16763:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{GotoLineAction:()=>Ee,StandaloneCommandsQuickAccessProvider:()=>we});var d=e(4259),n=e(1972),l=e(74982),S=e(33745),v=e(59882),T=e(93979),C=e(4125),E=e(25715),L=e(80142),_=e(5067),s=e(50819),m=e(72715),c=e(55197),t=e(66549),a=e(94667),p=e(78610),u=e(9265),g=e(14759),b=e(48648),y=e(73888),w=function(xe,Ne,oe,Se){return new(oe||(oe=Promise))(function(me,Me){function de(ze){try{Ue(Se.next(ze))}catch(ce){Me(ce)}}function ke(ze){try{Ue(Se.throw(ze))}catch(ce){Me(ce)}}function Ue(ze){ze.done?me(ze.value):function Ie(me){return me instanceof oe?me:new oe(function(Me){Me(me)})}(ze.value).then(de,ke)}Ue((Se=Se.apply(xe,Ne||[])).next())})},D=(()=>{return(xe=D||(D={}))[xe.NO_ACTION=0]="NO_ACTION",xe[xe.CLOSE_PICKER=1]="CLOSE_PICKER",xe[xe.REFRESH_PICKER=2]="REFRESH_PICKER",xe[xe.REMOVE_ITEM=3]="REMOVE_ITEM",D;var xe})();function x(xe){return Array.isArray(xe.items)}let O=(()=>{class xe extends L.JT{constructor(oe,Se){super(),this.prefix=oe,this.options=Se}provide(oe,Se){var Ie;const me=new L.SL;let Me;oe.canAcceptInBackground=!(null===(Ie=this.options)||void 0===Ie||!Ie.canAcceptInBackground),oe.matchOnLabel=oe.matchOnDescription=oe.matchOnDetail=oe.sortByLabel=!1;const de=me.add(new L.XK),ke=()=>w(this,void 0,void 0,function*(){const Ue=de.value=new L.SL;Me?.dispose(!0),oe.busy=!1,Me=new y.A(Se);const ze=Me.token,ce=oe.value.substr(this.prefix.length).trim(),Ve=this._getPicks(ce,Ue,ze),tt=(Ct,Lt)=>{var $e;let ae,ve;if(x(Ct)?(ae=Ct.items,ve=Ct.active):ae=Ct,0===ae.length){if(Lt)return!1;ce.length>0&&(null===($e=this.options)||void 0===$e?void 0:$e.noResultsPick)&&(ae=[this.options.noResultsPick])}return oe.items=ae,ve&&(oe.activeItems=[ve]),!0};if(null!==Ve)if(function P(xe){return!!xe.picks&&xe.additionalPicks instanceof Promise}(Ve)){let Ct=!1,Lt=!1;yield Promise.all([(()=>w(this,void 0,void 0,function*(){yield(0,b.Vs)(xe.FAST_PICKS_RACE_DELAY),!ze.isCancellationRequested&&(Lt||(Ct=tt(Ve.picks,!0)))}))(),(()=>w(this,void 0,void 0,function*(){oe.busy=!0;try{const $e=yield Ve.additionalPicks;if(ze.isCancellationRequested)return;let ae,ve,he,le;if(x(Ve.picks)?(ae=Ve.picks.items,ve=Ve.picks.active):ae=Ve.picks,x($e)?(he=$e.items,le=$e.active):he=$e,he.length>0||!Ct){let Q;if(!ve&&!le){const Ce=oe.activeItems[0];Ce&&-1!==ae.indexOf(Ce)&&(Q=Ce)}tt({items:[...ae,...he],active:ve||le||Q})}}finally{ze.isCancellationRequested||(oe.busy=!1),Lt=!0}}))()])}else if(Ve instanceof Promise){oe.busy=!0;try{const Ct=yield Ve;if(ze.isCancellationRequested)return;tt(Ct)}finally{ze.isCancellationRequested||(oe.busy=!1)}}else tt(Ve)});return me.add(oe.onDidChangeValue(()=>ke())),ke(),me.add(oe.onDidAccept(Ue=>{const[ze]=oe.selectedItems;"function"==typeof ze?.accept&&(Ue.inBackground||oe.hide(),ze.accept(oe.keyMods,Ue))})),me.add(oe.onDidTriggerItemButton(({button:Ue,item:ze})=>w(this,void 0,void 0,function*(){var ce,Ve;if("function"==typeof ze.trigger){const tt=null!==(Ve=null===(ce=ze.buttons)||void 0===ce?void 0:ce.indexOf(Ue))&&void 0!==Ve?Ve:-1;if(tt>=0){const Ct=ze.trigger(tt,oe.keyMods),Lt="number"==typeof Ct?Ct:yield Ct;if(Se.isCancellationRequested)return;switch(Lt){case D.NO_ACTION:break;case D.CLOSE_PICKER:oe.hide();break;case D.REFRESH_PICKER:ke();break;case D.REMOVE_ITEM:{const $e=oe.items.indexOf(ze);if(-1!==$e){const ae=oe.items.slice(),ve=ae.splice($e,1),he=oe.activeItems.filter(Q=>Q!==ve[0]),le=oe.keepScrollPosition;oe.keepScrollPosition=!0,oe.items=ae,he&&(oe.activeItems=he),oe.keepScrollPosition=le}break}}}}}))),me}}return xe.FAST_PICKS_RACE_DELAY=200,xe})();var V=e(48190),H=e(24131),z=function(xe,Ne,oe,Se){var Me,Ie=arguments.length,me=Ie<3?Ne:null===Se?Se=Object.getOwnPropertyDescriptor(Ne,oe):Se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(xe,Ne,oe,Se);else for(var de=xe.length-1;de>=0;de--)(Me=xe[de])&&(me=(Ie<3?Me(me):Ie>3?Me(Ne,oe,me):Me(Ne,oe))||me);return Ie>3&&me&&Object.defineProperty(Ne,oe,me),me},k=function(xe,Ne){return function(oe,Se){Ne(oe,Se,xe)}},F=function(xe,Ne,oe,Se){return new(oe||(oe=Promise))(function(me,Me){function de(ze){try{Ue(Se.next(ze))}catch(ce){Me(ce)}}function ke(ze){try{Ue(Se.throw(ze))}catch(ce){Me(ce)}}function Ue(ze){ze.done?me(ze.value):function Ie(me){return me instanceof oe?me:new oe(function(Me){Me(me)})}(ze.value).then(de,ke)}Ue((Se=Se.apply(xe,Ne||[])).next())})};let j=class dd extends O{constructor(Ne,oe,Se,Ie,me,Me){super(dd.PREFIX,Ne),this.instantiationService=oe,this.keybindingService=Se,this.commandService=Ie,this.telemetryService=me,this.dialogService=Me,this.commandsHistory=this._register(this.instantiationService.createInstance(K)),this.options=Ne}_getPicks(Ne,oe,Se){return F(this,void 0,void 0,function*(){const Ie=yield this.getCommandPicks(oe,Se);if(Se.isCancellationRequested)return[];const me=[];for(const Ue of Ie){const ze=(0,m.f6)(dd.WORD_FILTER(Ne,Ue.label)),ce=Ue.commandAlias?(0,m.f6)(dd.WORD_FILTER(Ne,Ue.commandAlias)):void 0;ze||ce?(Ue.highlights={label:ze,detail:this.options.showAlias?ce:void 0},me.push(Ue)):Ne===Ue.commandId&&me.push(Ue)}const Me=new Map;for(const Ue of me){const ze=Me.get(Ue.label);ze?(Ue.description=Ue.commandId,ze.description=ze.commandId):Me.set(Ue.label,Ue)}me.sort((Ue,ze)=>{const ce=this.commandsHistory.peek(Ue.commandId),Ve=this.commandsHistory.peek(ze.commandId);return ce&&Ve?ce>Ve?-1:1:ce?-1:Ve?1:Ue.label.localeCompare(ze.label)});const de=[];let ke=!1;for(let Ue=0;Ue<me.length;Ue++){const ze=me[Ue],ce=this.keybindingService.lookupKeybinding(ze.commandId),Ve=ce?(0,c.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",ze.label,ce.getAriaLabel()):ze.label;0===Ue&&this.commandsHistory.peek(ze.commandId)&&(de.push({type:"separator",label:(0,c.NC)("recentlyUsed","recently used")}),ke=!0),0!==Ue&&ke&&!this.commandsHistory.peek(ze.commandId)&&(de.push({type:"separator",label:(0,c.NC)("morecCommands","other commands")}),ke=!1),de.push(Object.assign(Object.assign({},ze),{ariaLabel:Ve,detail:this.options.showAlias&&ze.commandAlias!==ze.label?ze.commandAlias:void 0,keybinding:ce,accept:()=>F(this,void 0,void 0,function*(){this.commandsHistory.push(ze.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:ze.commandId,from:"quick open"});try{yield this.commandService.executeCommand(ze.commandId)}catch(tt){(0,C.n2)(tt)||this.dialogService.show(s.Z.Error,(0,c.NC)("canNotRun","Command '{0}' resulted in an error ({1})",ze.label,(0,T.y)(tt)))}})}))}return de})}};j.PREFIX=">",j.WORD_FILTER=(0,E.or)(E.Ji,E.KZ,E.ir),j=z([k(1,u.TG),k(2,g.d),k(3,t.Hy),k(4,H.b),k(5,p.S)],j);let K=class js extends L.JT{constructor(Ne,oe){super(),this.storageService=Ne,this.configurationService=oe,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=js.getConfiguredCommandHistoryLength(this.configurationService),js.cache&&js.cache.limit!==this.configuredCommandsHistoryLength&&(js.cache.limit=this.configuredCommandsHistoryLength,js.saveState(this.storageService))}load(){const Ne=this.storageService.get(js.PREF_KEY_CACHE,0);let oe;if(Ne)try{oe=JSON.parse(Ne)}catch{}const Se=js.cache=new _.z6(this.configuredCommandsHistoryLength,1);if(oe){let Ie;Ie=oe.usesLRU?oe.entries:oe.entries.sort((me,Me)=>me.value-Me.value),Ie.forEach(me=>Se.set(me.key,me.value))}js.counter=this.storageService.getNumber(js.PREF_KEY_COUNTER,0,js.counter)}push(Ne){!js.cache||(js.cache.set(Ne,js.counter++),js.saveState(this.storageService))}peek(Ne){var oe;return null===(oe=js.cache)||void 0===oe?void 0:oe.peek(Ne)}static saveState(Ne){if(!js.cache)return;const oe={usesLRU:!0,entries:[]};js.cache.forEach((Se,Ie)=>oe.entries.push({key:Ie,value:Se})),Ne.store(js.PREF_KEY_CACHE,JSON.stringify(oe),0,0),Ne.store(js.PREF_KEY_COUNTER,js.counter,0,0)}static getConfiguredCommandHistoryLength(Ne){var oe,Se;const me=null===(Se=null===(oe=Ne.getValue().workbench)||void 0===oe?void 0:oe.commandPalette)||void 0===Se?void 0:Se.history;return"number"==typeof me?me:js.DEFAULT_COMMANDS_HISTORY_LENGTH}};K.DEFAULT_COMMANDS_HISTORY_LENGTH=50,K.PREF_KEY_CACHE="commandPalette.mru.cache",K.PREF_KEY_COUNTER="commandPalette.mru.counter",K.counter=1,K=z([k(0,V.Uy),k(1,a.Ui)],K);class U extends j{constructor(Ne,oe,Se,Ie,me,Me){super(Ne,oe,Se,Ie,me,Me)}getCodeEditorCommandPicks(){const Ne=this.activeTextEditorControl;if(!Ne)return[];const oe=[];for(const Se of Ne.getSupportedActions())oe.push({commandId:Se.id,commandAlias:Se.alias,label:(0,v.x$)(Se.label)||Se.id});return oe}}var ne=e(26845),N=e(82290),W=e(73622),ge=function(xe,Ne){return function(oe,Se){Ne(oe,Se,xe)}};let we=class extends U{constructor(Ne,oe,Se,Ie,me,Me){super({showAlias:!1},Ne,Se,Ie,me,Me),this.codeEditorService=oe}get activeTextEditorControl(){return(0,m.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return xe=this,Ne=void 0,Se=function*(){return this.getCodeEditorCommandPicks()},new((oe=void 0)||(oe=Promise))(function(me,Me){function de(ze){try{Ue(Se.next(ze))}catch(ce){Me(ce)}}function ke(ze){try{Ue(Se.throw(ze))}catch(ce){Me(ce)}}function Ue(ze){ze.done?me(ze.value):function Ie(me){return me instanceof oe?me:new oe(function(Me){Me(me)})}(ze.value).then(de,ke)}Ue((Se=Se.apply(xe,Ne||[])).next())});var xe,Ne,oe,Se}};we=function(xe,Ne,oe,Se){var Me,Ie=arguments.length,me=Ie<3?Ne:null===Se?Se=Object.getOwnPropertyDescriptor(Ne,oe):Se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(xe,Ne,oe,Se);else for(var de=xe.length-1;de>=0;de--)(Me=xe[de])&&(me=(Ie<3?Me(me):Ie>3?Me(Ne,oe,me):Me(Ne,oe))||me);return Ie>3&&me&&Object.defineProperty(Ne,oe,me),me}([ge(0,u.TG),ge(1,S.$),ge(2,g.d),ge(3,t.Hy),ge(4,H.b),ge(5,p.S)],we);let Ee=(()=>{class xe extends ne.R6{constructor(){super({id:xe.ID,label:l.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(oe){oe.get(W.eJ).quickAccess.show(we.PREFIX)}}return xe.ID="editor.action.quickCommand",xe})();(0,ne.Qr)(Ee),d.B.as(n.IP.Quickaccess).registerQuickAccessProvider({ctor:we,prefix:we.PREFIX,helpEntries:[{description:l.UX.quickCommandHelp,commandId:Ee.ID}]})},5429:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{GotoLineAction:()=>g,StandaloneGotoLineQuickAccessProvider:()=>u});var d=e(80142),n=e(91353),l=e(35045),S=e(55197);let v=(()=>{class b extends l.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const D=(0,S.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return w.items=[{label:D}],w.ariaLabel=D,d.JT.None}provideWithTextEditor(w,D,x){const P=w.editor,O=new d.SL;O.add(D.onDidAccept(z=>{const[k]=D.selectedItems;if(k){if(!this.isValidLineNumber(P,k.lineNumber))return;this.gotoLocation(w,{range:this.toRange(k.lineNumber,k.column),keyMods:D.keyMods,preserveFocus:z.inBackground}),z.inBackground||D.hide()}}));const V=()=>{const z=this.parsePosition(P,D.value.trim().substr(b.PREFIX.length)),k=this.getPickLabel(P,z.lineNumber,z.column);if(D.items=[{lineNumber:z.lineNumber,column:z.column,label:k}],D.ariaLabel=k,!this.isValidLineNumber(P,z.lineNumber))return void this.clearDecorations(P);const F=this.toRange(z.lineNumber,z.column);P.revealRangeInCenter(F,0),this.addDecorations(P,F)};V(),O.add(D.onDidChangeValue(()=>V()));const H=(0,n.Pi)(P);return H&&2===H.getOptions().get(62).renderType&&(H.updateOptions({lineNumbers:"on"}),O.add((0,d.OF)(()=>H.updateOptions({lineNumbers:"relative"})))),O}toRange(w=1,D=1){return{startLineNumber:w,startColumn:D,endLineNumber:w,endColumn:D}}parsePosition(w,D){const x=D.split(/,|:|#/).map(O=>parseInt(O,10)).filter(O=>!isNaN(O)),P=this.lineCount(w)+1;return{lineNumber:x[0]>0?x[0]:P+x[0],column:x[1]}}getPickLabel(w,D,x){if(this.isValidLineNumber(w,D))return this.isValidColumn(w,D,x)?(0,S.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",D,x):(0,S.NC)("gotoLineLabel","Go to line {0}.",D);const P=w.getPosition()||{lineNumber:1,column:1},O=this.lineCount(w);return O>1?(0,S.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",P.lineNumber,P.column,O):(0,S.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",P.lineNumber,P.column)}isValidLineNumber(w,D){return!(!D||"number"!=typeof D)&&D>0&&D<=this.lineCount(w)}isValidColumn(w,D,x){if(!x||"number"!=typeof x)return!1;const P=this.getModel(w);if(!P)return!1;const O={lineNumber:D,column:x};return P.validatePosition(O).equals(O)}lineCount(w){var D,x;return null!==(x=null===(D=this.getModel(w))||void 0===D?void 0:D.getLineCount())&&void 0!==x?x:0}}return b.PREFIX=":",b})();var T=e(4259),C=e(1972),E=e(33745),L=e(72715),_=e(74982),s=e(3778),m=e(26845),c=e(82290),t=e(73622);let u=class extends v{constructor(y){super(),this.editorService=y,this.onDidActiveTextEditorControlChange=s.ju.None}get activeTextEditorControl(){return(0,L.f6)(this.editorService.getFocusedCodeEditor())}};var y;u=function(b,y,w,D){var O,x=arguments.length,P=x<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,w):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,w,D);else for(var V=b.length-1;V>=0;V--)(O=b[V])&&(P=(x<3?O(P):x>3?O(y,w,P):O(y,w))||P);return x>3&&P&&Object.defineProperty(y,w,P),P}([(0,y=E.$,function(w,D){y(w,D,0)})],u);let g=(()=>{class b extends m.R6{constructor(){super({id:b.ID,label:_.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(w){w.get(t.eJ).quickAccess.show(u.PREFIX)}}return b.ID="editor.action.gotoLine",b})();(0,m.Qr)(g),T.B.as(C.IP.Quickaccess).registerQuickAccessProvider({ctor:u,prefix:u.PREFIX,helpEntries:[{description:_.qq.gotoLineActionLabel,commandId:g.ID}]})},1706:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{GotoSymbolAction:()=>Me,StandaloneGotoSymbolQuickAccessProvider:()=>me}),e(82099),e(71008);var l=e(48648),S=e(73888),v=e(58783),T=e(25715),C=e(61283),E=e(8841),L=e(73879);const _=[void 0,[]];function s(de,ke,Ue=0,ze=0){return ke.values&&ke.values.length>1?function m(de,ke,Ue,ze){let ce=0;const Ve=[];for(const tt of ke){const[Ct,Lt]=c(de,tt,Ue,ze);if("number"!=typeof Ct)return _;ce+=Ct,Ve.push(...Lt)}return[ce,a(Ve)]}(de,ke.values,Ue,ze):c(de,ke,Ue,ze)}function c(de,ke,Ue,ze){const ce=(0,T.EW)(ke.original,ke.originalLowercase,Ue,de,de.toLowerCase(),ze,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ce?[ce[0],(0,T.mB)(ce)]:_}function a(de){const ke=de.sort((ce,Ve)=>ce.start-Ve.start),Ue=[];let ze;for(const ce of ke)ze&&p(ze,ce)?(ze.start=Math.min(ze.start,ce.start),ze.end=Math.max(ze.end,ce.end)):(ze=ce,Ue.push(ce));return Ue}function p(de,ke){return!(de.end<ke.start||ke.end<de.start)}function u(de){return de.startsWith('"')&&de.endsWith('"')}function b(de){"string"!=typeof de&&(de="");const ke=de.toLowerCase(),{pathNormalized:Ue,normalized:ze,normalizedLowercase:ce}=y(de),Ve=Ue.indexOf(C.ir)>=0,tt=u(de);let Ct;const Lt=de.split(" ");if(Lt.length>1)for(const $e of Lt){const ae=u($e),{pathNormalized:ve,normalized:he,normalizedLowercase:le}=y($e);he&&(Ct||(Ct=[]),Ct.push({original:$e,originalLowercase:$e.toLowerCase(),pathNormalized:ve,normalized:he,normalizedLowercase:le,expectContiguousMatch:ae}))}return{original:de,originalLowercase:ke,pathNormalized:Ue,normalized:ze,normalizedLowercase:ce,values:Ct,containsPathSeparator:Ve,expectContiguousMatch:tt}}function y(de){let ke;ke=de.replace(E.ED?/\//g:/\\/g,C.ir);const Ue=(0,L.R1)(ke).replace(/\s|"/g,"");return{pathNormalized:ke,normalized:Ue,normalizedLowercase:Ue.toLowerCase()}}function w(de){return Array.isArray(de)?b(de.map(ke=>ke.original).join(" ")):b(de.original)}Object.freeze({score:0});var D=e(80142),x=e(98570),P=e(45337),O=e(55276),V=e(35045),H=e(55197),z=e(90790),k=e(64023),j=function(de,ke){return function(Ue,ze){ke(Ue,ze,de)}},K=function(de,ke,Ue,ze){return new(Ue||(Ue=Promise))(function(Ve,tt){function Ct(ae){try{$e(ze.next(ae))}catch(ve){tt(ve)}}function Lt(ae){try{$e(ze.throw(ae))}catch(ve){tt(ve)}}function $e(ae){ae.done?Ve(ae.value):function ce(Ve){return Ve instanceof Ue?Ve:new Ue(function(tt){tt(Ve)})}(ae.value).then(Ct,Lt)}$e((ze=ze.apply(de,ke||[])).next())})};let U=class Bd extends V.X{constructor(ke,Ue,ze=Object.create(null)){super(ze),this._languageFeaturesService=ke,this._outlineModelService=Ue,this.options=ze,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(ke){return this.provideLabelPick(ke,(0,H.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),D.JT.None}provideWithTextEditor(ke,Ue,ze){const Ve=this.getModel(ke.editor);return Ve?this._languageFeaturesService.documentSymbolProvider.has(Ve)?this.doProvideWithEditorSymbols(ke,Ve,Ue,ze):this.doProvideWithoutEditorSymbols(ke,Ve,Ue,ze):D.JT.None}doProvideWithoutEditorSymbols(ke,Ue,ze,ce){const Ve=new D.SL;return this.provideLabelPick(ze,(0,H.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),K(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(Ue,Ve))||ce.isCancellationRequested||Ve.add(this.doProvideWithEditorSymbols(ke,Ue,ze,ce))}),Ve}provideLabelPick(ke,Ue){ke.items=[{label:Ue,index:0,kind:14}],ke.ariaLabel=Ue}waitForLanguageSymbolRegistry(ke,Ue){return K(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(ke))return!0;const ze=new l.CR,ce=Ue.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(ke)&&(ce.dispose(),ze.complete(!0))}));return Ue.add((0,D.OF)(()=>ze.complete(!1))),ze.p})}doProvideWithEditorSymbols(ke,Ue,ze,ce){var Ve;const tt=ke.editor,Ct=new D.SL;Ct.add(ze.onDidAccept(he=>{const[le]=ze.selectedItems;le&&le.range&&(this.gotoLocation(ke,{range:le.range.selection,keyMods:ze.keyMods,preserveFocus:he.inBackground}),he.inBackground||ze.hide())})),Ct.add(ze.onDidTriggerItemButton(({item:he})=>{he&&he.range&&(this.gotoLocation(ke,{range:he.range.selection,keyMods:ze.keyMods,forceSideBySide:!0}),ze.hide())}));const Lt=this.getDocumentSymbols(Ue,ce);let $e;const ae=he=>K(this,void 0,void 0,function*(){$e?.dispose(!0),ze.busy=!1,$e=new S.A(ce),ze.busy=!0;try{const le=b(ze.value.substr(Bd.PREFIX.length).trim()),Q=yield this.doGetSymbolPicks(Lt,le,void 0,$e.token);if(ce.isCancellationRequested)return;if(Q.length>0){if(ze.items=Q,he&&0===le.original.length){const Ce=(0,k.dF)(Q,Pe=>Boolean("separator"!==Pe.type&&Pe.range&&x.e.containsPosition(Pe.range.decoration,he)));Ce&&(ze.activeItems=[Ce])}}else this.provideLabelPick(ze,le.original.length>0?(0,H.NC)("noMatchingSymbolResults","No matching editor symbols"):(0,H.NC)("noSymbolResults","No editor symbols"))}finally{ce.isCancellationRequested||(ze.busy=!1)}});Ct.add(ze.onDidChangeValue(()=>ae(void 0))),ae(null===(Ve=tt.getSelection())||void 0===Ve?void 0:Ve.getPosition());let ve=2;return Ct.add(ze.onDidChangeActive(()=>{const[he]=ze.activeItems;if(he&&he.range){if(ve-- >0)return;tt.revealRangeInCenter(he.range.selection,0),this.addDecorations(tt,he.range.decoration)}})),Ct}doGetSymbolPicks(ke,Ue,ze,ce){return K(this,void 0,void 0,function*(){const Ve=yield ke;if(ce.isCancellationRequested)return[];const tt=0===Ue.original.indexOf(Bd.SCOPE_PREFIX),Ct=tt?1:0;let Lt,$e;Ue.values&&Ue.values.length>1?(Lt=w(Ue.values[0]),$e=w(Ue.values.slice(1))):Lt=Ue;const ae=[];for(let le=0;le<Ve.length;le++){const Q=Ve[le],Ce=(0,L.fy)(Q.name),Pe=`$(${P.uZ.toIcon(Q.kind).id}) ${Ce}`,dt=Pe.length-Ce.length;let qe,Qe,et,vt,st=Q.containerName;if(ze?.extraContainerLabel&&(st=st?`${ze.extraContainerLabel} \u2022 ${st}`:ze.extraContainerLabel),Ue.original.length>Ct){let _t=!1;if(Lt!==Ue&&([qe,Qe]=s(Pe,Object.assign(Object.assign({},Ue),{values:void 0}),Ct,dt),"number"==typeof qe&&(_t=!0)),"number"!=typeof qe&&([qe,Qe]=s(Pe,Lt,Ct,dt),"number"!=typeof qe))continue;if(!_t&&$e){if(st&&$e.original.length>0&&([et,vt]=s(st,$e)),"number"!=typeof et)continue;"number"==typeof qe&&(qe+=et)}}const mt=Q.tags&&Q.tags.indexOf(1)>=0;ae.push({index:le,kind:Q.kind,score:qe,label:Pe,ariaLabel:Ce,description:st,highlights:mt?void 0:{label:Qe,description:vt},range:{selection:x.e.collapseToStart(Q.selectionRange),decoration:Q.range},strikethrough:mt,buttons:(()=>{var _t,$t;const Bt=null!==(_t=this.options)&&void 0!==_t&&_t.openSideBySideDirection?null===($t=this.options)||void 0===$t?void 0:$t.openSideBySideDirection():void 0;if(Bt)return[{iconClass:"right"===Bt?v.lA.splitHorizontal.classNames:v.lA.splitVertical.classNames,tooltip:"right"===Bt?(0,H.NC)("openToSide","Open to the Side"):(0,H.NC)("openToBottom","Open to the Bottom")}]})()})}const ve=ae.sort((le,Q)=>tt?this.compareByKindAndScore(le,Q):this.compareByScore(le,Q));let he=[];if(tt){let le,Q,Pe=function(){Q&&"number"==typeof le&&Ce>0&&(Q.label=(0,L.WU)(N[le]||ne,Ce))},Ce=0;for(const dt of ve)le!==dt.kind?(Pe(),le=dt.kind,Ce=1,Q={type:"separator"},he.push(Q)):Ce++,he.push(dt);Pe()}else ve.length>0&&(he=[{label:(0,H.NC)("symbols","symbols ({0})",ae.length),type:"separator"},...ve]);return he})}compareByScore(ke,Ue){if("number"!=typeof ke.score&&"number"==typeof Ue.score)return 1;if("number"==typeof ke.score&&"number"!=typeof Ue.score)return-1;if("number"==typeof ke.score&&"number"==typeof Ue.score){if(ke.score>Ue.score)return-1;if(ke.score<Ue.score)return 1}return ke.index<Ue.index?-1:ke.index>Ue.index?1:0}compareByKindAndScore(ke,Ue){const Ve=(N[ke.kind]||ne).localeCompare(N[Ue.kind]||ne);return 0===Ve?this.compareByScore(ke,Ue):Ve}getDocumentSymbols(ke,Ue){return K(this,void 0,void 0,function*(){const ze=yield this._outlineModelService.getOrCreate(ke,Ue);return Ue.isCancellationRequested?[]:ze.asListOfDocumentSymbols()})}};U.PREFIX="@",U.SCOPE_PREFIX=":",U.PREFIX_BY_CATEGORY=`${U.PREFIX}${U.SCOPE_PREFIX}`,U=function(de,ke,Ue,ze){var tt,ce=arguments.length,Ve=ce<3?ke:null===ze?ze=Object.getOwnPropertyDescriptor(ke,Ue):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(de,ke,Ue,ze);else for(var Ct=de.length-1;Ct>=0;Ct--)(tt=de[Ct])&&(Ve=(ce<3?tt(Ve):ce>3?tt(ke,Ue,Ve):tt(ke,Ue))||Ve);return ce>3&&Ve&&Object.defineProperty(ke,Ue,Ve),Ve}([j(0,z.p),j(1,O.Je)],U);const ne=(0,H.NC)("property","properties ({0})"),N={5:(0,H.NC)("method","methods ({0})"),11:(0,H.NC)("function","functions ({0})"),8:(0,H.NC)("_constructor","constructors ({0})"),12:(0,H.NC)("variable","variables ({0})"),4:(0,H.NC)("class","classes ({0})"),22:(0,H.NC)("struct","structs ({0})"),23:(0,H.NC)("event","events ({0})"),24:(0,H.NC)("operator","operators ({0})"),10:(0,H.NC)("interface","interfaces ({0})"),2:(0,H.NC)("namespace","namespaces ({0})"),3:(0,H.NC)("package","packages ({0})"),25:(0,H.NC)("typeParameter","type parameters ({0})"),1:(0,H.NC)("modules","modules ({0})"),6:(0,H.NC)("property","properties ({0})"),9:(0,H.NC)("enum","enumerations ({0})"),21:(0,H.NC)("enumMember","enumeration members ({0})"),14:(0,H.NC)("string","strings ({0})"),0:(0,H.NC)("file","files ({0})"),17:(0,H.NC)("array","arrays ({0})"),15:(0,H.NC)("number","numbers ({0})"),16:(0,H.NC)("boolean","booleans ({0})"),18:(0,H.NC)("object","objects ({0})"),19:(0,H.NC)("key","keys ({0})"),7:(0,H.NC)("field","fields ({0})"),13:(0,H.NC)("constant","constants ({0})")};var W=e(4259),Z=e(1972),ge=e(33745),M=e(72715),we=e(74982),Ee=e(3778),xe=e(26845),Ne=e(82290),oe=e(73622),Ie=function(de,ke){return function(Ue,ze){ke(Ue,ze,de)}};let me=class extends U{constructor(ke,Ue,ze){super(Ue,ze),this.editorService=ke,this.onDidActiveTextEditorControlChange=Ee.ju.None}get activeTextEditorControl(){return(0,M.f6)(this.editorService.getFocusedCodeEditor())}};me=function(de,ke,Ue,ze){var tt,ce=arguments.length,Ve=ce<3?ke:null===ze?ze=Object.getOwnPropertyDescriptor(ke,Ue):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(de,ke,Ue,ze);else for(var Ct=de.length-1;Ct>=0;Ct--)(tt=de[Ct])&&(Ve=(ce<3?tt(Ve):ce>3?tt(ke,Ue,Ve):tt(ke,Ue))||Ve);return ce>3&&Ve&&Object.defineProperty(ke,Ue,Ve),Ve}([Ie(0,ge.$),Ie(1,z.p),Ie(2,O.Je)],me);let Me=(()=>{class de extends xe.R6{constructor(){super({id:de.ID,label:we.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Ne.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:Ne.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(Ue){Ue.get(oe.eJ).quickAccess.show(U.PREFIX)}}return de.ID="editor.action.quickOutline",de})();(0,xe.Qr)(Me),W.B.as(Z.IP.Quickaccess).registerQuickAccessProvider({ctor:me,prefix:U.PREFIX,helpEntries:[{description:we.aq.quickOutlineActionLabel,prefix:U.PREFIX,commandId:Me.ID},{description:we.aq.quickOutlineByCategoryActionLabel,prefix:U.PREFIX_BY_CATEGORY}]})},49976:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(4259),n=e(1972),l=e(74982),S=e(55197),v=e(80142),T=e(14759),C=e(73622),L=function(s,m){return function(c,t){m(c,t,s)}};let _=class cd{constructor(m,c){this.quickInputService=m,this.keybindingService=c,this.registry=d.B.as(n.IP.Quickaccess)}provide(m){const c=new v.SL;return c.add(m.onDidAccept(()=>{const[t]=m.selectedItems;t&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),c.add(m.onDidChangeValue(t=>{const a=this.registry.getQuickAccessProvider(t.substr(cd.PREFIX.length));a&&a.prefix&&a.prefix!==cd.PREFIX&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),m.items=this.getQuickAccessProviders(),c}getQuickAccessProviders(){const m=[];for(const c of this.registry.getQuickAccessProviders().sort((t,a)=>t.prefix.localeCompare(a.prefix)))if(c.prefix!==cd.PREFIX)for(const t of c.helpEntries){const a=t.prefix||c.prefix,p=a||"\u2026";m.push({prefix:a,label:p,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:(0,S.NC)("helpPickAriaLabel","{0}, {1}",p,t.description),description:t.description})}return m}};_.PREFIX="?",_=function(s,m,c,t){var u,a=arguments.length,p=a<3?m:null===t?t=Object.getOwnPropertyDescriptor(m,c):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(s,m,c,t);else for(var g=s.length-1;g>=0;g--)(u=s[g])&&(p=(a<3?u(p):a>3?u(m,c,p):u(m,c))||p);return a>3&&p&&Object.defineProperty(m,c,p),p}([L(0,C.eJ),L(1,T.d)],_),d.B.as(n.IP.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:"",helpEntries:[{description:l.ld.helpQuickAccessActionLabel}]})},14175:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{StandaloneReferencesController:()=>s});var d=e(26845),n=e(33745),l=e(99989),S=e(94667),v=e(16468),T=e(9265),C=e(54436),E=e(48190),_=function(m,c){return function(t,a){c(t,a,m)}};let s=class extends l.J{constructor(c,t,a,p,u,g,b){super(!0,c,t,a,p,u,g,b)}};s=function(m,c,t,a){var g,p=arguments.length,u=p<3?c:null===a?a=Object.getOwnPropertyDescriptor(c,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(m,c,t,a);else for(var b=m.length-1;b>=0;b--)(g=m[b])&&(u=(p<3?g(u):p>3?g(c,t,u):g(c,t))||u);return p>3&&u&&Object.defineProperty(c,t,u),u}([_(1,v.i6),_(2,n.$),_(3,C.lT),_(4,T.TG),_(5,E.Uy),_(6,S.Ui)],s),(0,d._K)(l.J.ID,s)},55843:(Dt,Y,e)=>{"use strict";e.d(Y,{B:()=>g});var d=e(98463),n=e(59310),l=e(3778),S=e(80142),v=e(85739),T=e(40902);let _=class extends S.JT{constructor(y){super(),this._themeService=y,this._onCodeEditorAdd=this._register(new l.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new l.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new l.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new l.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new v.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(y){this._codeEditors[y.getId()]=y,this._onCodeEditorAdd.fire(y)}removeCodeEditor(y){delete this._codeEditors[y.getId()]&&this._onCodeEditorRemove.fire(y)}listCodeEditors(){return Object.keys(this._codeEditors).map(y=>this._codeEditors[y])}addDiffEditor(y){this._diffEditors[y.getId()]=y,this._onDiffEditorAdd.fire(y)}removeDiffEditor(y){delete this._diffEditors[y.getId()]&&this._onDiffEditorRemove.fire(y)}listDiffEditors(){return Object.keys(this._diffEditors).map(y=>this._diffEditors[y])}getFocusedCodeEditor(){let y=null;const w=this.listCodeEditors();for(const D of w){if(D.hasTextFocus())return D;D.hasWidgetFocus()&&(y=D)}return y}removeDecorationType(y){const w=this._decorationOptionProviders.get(y);w&&(w.refCount--,w.refCount<=0&&(this._decorationOptionProviders.delete(y),w.dispose(),this.listCodeEditors().forEach(D=>D.removeDecorationsByType(y))))}setModelProperty(y,w,D){const x=y.toString();let P;this._modelProperties.has(x)?P=this._modelProperties.get(x):(P=new Map,this._modelProperties.set(x,P)),P.set(w,D)}getModelProperty(y,w){const D=y.toString();if(this._modelProperties.has(D))return this._modelProperties.get(D).get(w)}openCodeEditor(y,w,D){return function(b,y,w,D){return new(w||(w=Promise))(function(P,O){function V(k){try{z(D.next(k))}catch(F){O(F)}}function H(k){try{z(D.throw(k))}catch(F){O(F)}}function z(k){k.done?P(k.value):function x(P){return P instanceof w?P:new w(function(O){O(P)})}(k.value).then(V,H)}z((D=D.apply(b,y||[])).next())})}(this,void 0,void 0,function*(){for(const x of this._codeEditorOpenHandlers){const P=yield x(y,w,D);if(null!==P)return P}return null})}registerCodeEditorOpenHandler(y){const w=this._codeEditorOpenHandlers.unshift(y);return(0,S.OF)(w)}};var y;_=function(b,y,w,D){var O,x=arguments.length,P=x<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,w):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,w,D);else for(var V=b.length-1;V>=0;V--)(O=b[V])&&(P=(x<3?O(P):x>3?O(y,w,P):O(y,w))||P);return x>3&&P&&Object.defineProperty(y,w,P),P}([(0,y=T.XE,function(w,D){y(w,D,0)})],_);var m=e(33745),c=e(16468),t=e(47494),p=function(b,y){return function(w,D){y(w,D,b)}};let g=class extends _{constructor(y,w){super(w),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=y.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((D,x,P)=>function(b,y,w,D){return new(w||(w=Promise))(function(P,O){function V(k){try{z(D.next(k))}catch(F){O(F)}}function H(k){try{z(D.throw(k))}catch(F){O(F)}}function z(k){k.done?P(k.value):function x(P){return P instanceof w?P:new w(function(O){O(P)})}(k.value).then(V,H)}z((D=D.apply(b,y||[])).next())})}(this,void 0,void 0,function*(){return x?this.doOpenEditor(x,D):null}))}_checkContextKey(){let y=!1;for(const w of this.listCodeEditors())if(!w.isSimpleWidget){y=!0;break}this._editorIsOpen.set(y)}setActiveCodeEditor(y){this._activeCodeEditor=y}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(y,w){if(!this.findModel(y,w.resource)){if(w.resource){const P=w.resource.scheme;if(P===n.lg.http||P===n.lg.https)return(0,d.V3)(w.resource.toString()),y}return null}const x=w.options?w.options.selection:null;if(x)if("number"==typeof x.endLineNumber&&"number"==typeof x.endColumn)y.setSelection(x),y.revealRangeInCenter(x,1);else{const P={lineNumber:x.startLineNumber,column:x.startColumn};y.setPosition(P),y.revealPositionInCenter(P,1)}return y}findModel(y,w){const D=y.getModel();return D&&D.uri.toString()!==w.toString()?null:D}};g=function(b,y,w,D){var O,x=arguments.length,P=x<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,w):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,w,D);else for(var V=b.length-1;V>=0;V--)(O=b[V])&&(P=(x<3?O(P):x>3?O(y,w,P):O(y,w))||P);return x>3&&P&&Object.defineProperty(y,w,P),P}([p(0,c.i6),p(1,T.XE)],g),(0,t.z)(m.$,g)},53559:(Dt,Y,e)=>{"use strict";e.d(Y,{AC:()=>Er,zC:()=>tr,IO:()=>Ks,XZ:()=>as}),e(94911),e(55843);var l=e(98463),S=e(3778),v=e(67021),T=e(33745),C=e(47494),E=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At},L=function(An,te){return function(pe,We){te(pe,We,An)}};let _=class{constructor(te){this._codeEditorService=te,this.onDidLayout=S.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=l.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var te;null===(te=this._codeEditorService.getFocusedCodeEditor())||void 0===te||te.focus()}};_=E([L(0,T.$)],_);let s=class extends _{constructor(te,pe){super(pe),this._container=te}get hasContainer(){return!1}get container(){return this._container}};s=E([L(1,T.$)],s),(0,C.z)(v.F,_);var m=e(4125),c=e(80142),t=e(59310),a=e(50819),p=e(55197),u=e(78610),g=e(54436),b=e(93633),w=function(An,te){return function(pe,We){te(pe,We,An)}},D=function(An,te,pe,We){return new(pe||(pe=Promise))(function(At,rn){function wn(Ni){try{_i(We.next(Ni))}catch(wo){rn(wo)}}function oi(Ni){try{_i(We.throw(Ni))}catch(wo){rn(wo)}}function _i(Ni){Ni.done?At(Ni.value):function Et(At){return At instanceof pe?At:new pe(function(rn){rn(At)})}(Ni.value).then(wn,oi)}_i((We=We.apply(An,te||[])).next())})};function P(An){return An.scheme===t.lg.file?An.fsPath:An.path}let O=0;class V{constructor(te,pe,We,Et,At,rn,wn){this.id=++O,this.type=0,this.actual=te,this.label=te.label,this.confirmBeforeUndo=te.confirmBeforeUndo||!1,this.resourceLabel=pe,this.strResource=We,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=Et,this.groupOrder=At,this.sourceId=rn,this.sourceOrder=wn,this.isValid=!0}setValid(te){this.isValid=te}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class H{constructor(te,pe){this.resourceLabel=te,this.reason=pe}}class z{constructor(){this.elements=new Map}createMessage(){const te=[],pe=[];for(const[,Et]of this.elements)(0===Et.reason?te:pe).push(Et.resourceLabel);const We=[];return te.length>0&&We.push(p.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",te.join(", "))),pe.length>0&&We.push(p.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",pe.join(", "))),We.join("\n")}get size(){return this.elements.size}has(te){return this.elements.has(te)}set(te,pe){this.elements.set(te,pe)}delete(te){return this.elements.delete(te)}}class k{constructor(te,pe,We,Et,At,rn,wn){this.id=++O,this.type=1,this.actual=te,this.label=te.label,this.confirmBeforeUndo=te.confirmBeforeUndo||!1,this.resourceLabels=pe,this.strResources=We,this.groupId=Et,this.groupOrder=At,this.sourceId=rn,this.sourceOrder=wn,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(te,pe,We){this.removedResources||(this.removedResources=new z),this.removedResources.has(pe)||this.removedResources.set(pe,new H(te,We))}setValid(te,pe,We){We?this.invalidatedResources&&(this.invalidatedResources.delete(pe),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new z),this.invalidatedResources.has(pe)||this.invalidatedResources.set(pe,new H(te,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class F{constructor(te,pe){this.resourceLabel=te,this.strResource=pe,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const te of this._past)1===te.type&&te.removeResource(this.resourceLabel,this.strResource,0);for(const te of this._future)1===te.type&&te.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const te=[];te.push(`* ${this.strResource}:`);for(let pe=0;pe<this._past.length;pe++)te.push(`   * [UNDO] ${this._past[pe]}`);for(let pe=this._future.length-1;pe>=0;pe--)te.push(`   * [REDO] ${this._future[pe]}`);return te.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(te,pe){1===te.type?te.setValid(this.resourceLabel,this.strResource,pe):te.setValid(pe)}setElementsValidFlag(te,pe){for(const We of this._past)pe(We.actual)&&this._setElementValidFlag(We,te);for(const We of this._future)pe(We.actual)&&this._setElementValidFlag(We,te)}pushElement(te){for(const pe of this._future)1===pe.type&&pe.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(te),this.versionId++}createSnapshot(te){const pe=[];for(let We=0,Et=this._past.length;We<Et;We++)pe.push(this._past[We].id);for(let We=this._future.length-1;We>=0;We--)pe.push(this._future[We].id);return new b.YO(te,pe)}restoreSnapshot(te){const pe=te.elements.length;let We=!0,Et=0,At=-1;for(let wn=0,oi=this._past.length;wn<oi;wn++,Et++){const _i=this._past[wn];We&&(Et>=pe||_i.id!==te.elements[Et])&&(We=!1,At=0),!We&&1===_i.type&&_i.removeResource(this.resourceLabel,this.strResource,0)}let rn=-1;for(let wn=this._future.length-1;wn>=0;wn--,Et++){const oi=this._future[wn];We&&(Et>=pe||oi.id!==te.elements[Et])&&(We=!1,rn=wn),!We&&1===oi.type&&oi.removeResource(this.resourceLabel,this.strResource,0)}-1!==At&&(this._past=this._past.slice(0,At)),-1!==rn&&(this._future=this._future.slice(rn+1)),this.versionId++}getElements(){const te=[],pe=[];for(const We of this._past)te.push(We.actual);for(const We of this._future)pe.push(We.actual);return{past:te,future:pe}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(te,pe){for(let We=this._past.length-1;We>=0;We--)if(this._past[We]===te){pe.has(this.strResource)?this._past[We]=pe.get(this.strResource):this._past.splice(We,1);break}this.versionId++}splitFutureWorkspaceElement(te,pe){for(let We=this._future.length-1;We>=0;We--)if(this._future[We]===te){pe.has(this.strResource)?this._future[We]=pe.get(this.strResource):this._future.splice(We,1);break}this.versionId++}moveBackward(te){this._past.pop(),this._future.push(te),this.versionId++}moveForward(te){this._future.pop(),this._past.push(te),this.versionId++}}class j{constructor(te){this.editStacks=te,this._versionIds=[];for(let pe=0,We=this.editStacks.length;pe<We;pe++)this._versionIds[pe]=this.editStacks[pe].versionId}isValid(){for(let te=0,pe=this.editStacks.length;te<pe;te++)if(this._versionIds[te]!==this.editStacks[te].versionId)return!1;return!0}}const K=new F("","");K.locked=!0;let U=class{constructor(te,pe){this._dialogService=te,this._notificationService=pe,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(te){for(const pe of this._uriComparisonKeyComputers)if(pe[0]===te.scheme)return pe[1].getComparisonKey(te);return te.toString()}_print(te){console.log("------------------------------------"),console.log(`AFTER ${te}: `);const pe=[];for(const We of this._editStacks)pe.push(We[1].toString());console.log(pe.join("\n"))}pushElement(te,pe=b.Xt.None,We=b.gJ.None){if(0===te.type){const Et=P(te.resource),At=this.getUriComparisonKey(te.resource);this._pushElement(new V(te,Et,At,pe.id,pe.nextOrder(),We.id,We.nextOrder()))}else{const Et=new Set,At=[],rn=[];for(const wn of te.resources){const oi=P(wn),_i=this.getUriComparisonKey(wn);Et.has(_i)||(Et.add(_i),At.push(oi),rn.push(_i))}this._pushElement(1===At.length?new V(te,At[0],rn[0],pe.id,pe.nextOrder(),We.id,We.nextOrder()):new k(te,At,rn,pe.id,pe.nextOrder(),We.id,We.nextOrder()))}}_pushElement(te){for(let pe=0,We=te.strResources.length;pe<We;pe++){const Et=te.resourceLabels[pe],At=te.strResources[pe];let rn;this._editStacks.has(At)?rn=this._editStacks.get(At):(rn=new F(Et,At),this._editStacks.set(At,rn)),rn.pushElement(te)}}getLastElement(te){const pe=this.getUriComparisonKey(te);if(this._editStacks.has(pe)){const We=this._editStacks.get(pe);if(We.hasFutureElements())return null;const Et=We.getClosestPastElement();return Et?Et.actual:null}return null}_splitPastWorkspaceElement(te,pe){const We=te.actual.split(),Et=new Map;for(const At of We){const rn=P(At.resource),wn=this.getUriComparisonKey(At.resource),oi=new V(At,rn,wn,0,0,0,0);Et.set(oi.strResource,oi)}for(const At of te.strResources)pe&&pe.has(At)||this._editStacks.get(At).splitPastWorkspaceElement(te,Et)}_splitFutureWorkspaceElement(te,pe){const We=te.actual.split(),Et=new Map;for(const At of We){const rn=P(At.resource),wn=this.getUriComparisonKey(At.resource),oi=new V(At,rn,wn,0,0,0,0);Et.set(oi.strResource,oi)}for(const At of te.strResources)pe&&pe.has(At)||this._editStacks.get(At).splitFutureWorkspaceElement(te,Et)}removeElements(te){const pe="string"==typeof te?te:this.getUriComparisonKey(te);this._editStacks.has(pe)&&(this._editStacks.get(pe).dispose(),this._editStacks.delete(pe))}setElementsValidFlag(te,pe,We){const Et=this.getUriComparisonKey(te);this._editStacks.has(Et)&&this._editStacks.get(Et).setElementsValidFlag(pe,We)}createSnapshot(te){const pe=this.getUriComparisonKey(te);return this._editStacks.has(pe)?this._editStacks.get(pe).createSnapshot(te):new b.YO(te,[])}restoreSnapshot(te){const pe=this.getUriComparisonKey(te.resource);if(this._editStacks.has(pe)){const We=this._editStacks.get(pe);We.restoreSnapshot(te),!We.hasPastElements()&&!We.hasFutureElements()&&(We.dispose(),this._editStacks.delete(pe))}}getElements(te){const pe=this.getUriComparisonKey(te);return this._editStacks.has(pe)?this._editStacks.get(pe).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(te){if(!te)return[null,null];let pe=null,We=null;for(const[Et,At]of this._editStacks){const rn=At.getClosestPastElement();!rn||rn.sourceId===te&&(!pe||rn.sourceOrder>pe.sourceOrder)&&(pe=rn,We=Et)}return[pe,We]}canUndo(te){if(te instanceof b.gJ){const[,We]=this._findClosestUndoElementWithSource(te.id);return!!We}const pe=this.getUriComparisonKey(te);return!!this._editStacks.has(pe)&&this._editStacks.get(pe).hasPastElements()}_onError(te,pe){(0,m.dL)(te);for(const We of pe.strResources)this.removeElements(We);this._notificationService.error(te)}_acquireLocks(te){for(const pe of te.editStacks)if(pe.locked)throw new Error("Cannot acquire edit stack lock");for(const pe of te.editStacks)pe.locked=!0;return()=>{for(const pe of te.editStacks)pe.locked=!1}}_safeInvokeWithLocks(te,pe,We,Et,At){const rn=this._acquireLocks(We);let wn;try{wn=pe()}catch(oi){return rn(),Et.dispose(),this._onError(oi,te)}return wn?wn.then(()=>(rn(),Et.dispose(),At()),oi=>(rn(),Et.dispose(),this._onError(oi,te))):(rn(),Et.dispose(),At())}_invokeWorkspacePrepare(te){return D(this,void 0,void 0,function*(){if(typeof te.actual.prepareUndoRedo>"u")return c.JT.None;const pe=te.actual.prepareUndoRedo();return typeof pe>"u"?c.JT.None:pe})}_invokeResourcePrepare(te,pe){if(1!==te.actual.type||typeof te.actual.prepareUndoRedo>"u")return pe(c.JT.None);const We=te.actual.prepareUndoRedo();return We?(0,c.Wf)(We)?pe(We):We.then(Et=>pe(Et)):pe(c.JT.None)}_getAffectedEditStacks(te){const pe=[];for(const We of te.strResources)pe.push(this._editStacks.get(We)||K);return new j(pe)}_tryToSplitAndUndo(te,pe,We,Et){if(pe.canSplit())return this._splitPastWorkspaceElement(pe,We),this._notificationService.warn(Et),new ne(this._undo(te,0,!0));for(const At of pe.strResources)this.removeElements(At);return this._notificationService.warn(Et),new ne}_checkWorkspaceUndo(te,pe,We,Et){if(pe.removedResources)return this._tryToSplitAndUndo(te,pe,pe.removedResources,p.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",pe.label,pe.removedResources.createMessage()));if(Et&&pe.invalidatedResources)return this._tryToSplitAndUndo(te,pe,pe.invalidatedResources,p.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",pe.label,pe.invalidatedResources.createMessage()));const At=[];for(const wn of We.editStacks)wn.getClosestPastElement()!==pe&&At.push(wn.resourceLabel);if(At.length>0)return this._tryToSplitAndUndo(te,pe,null,p.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",pe.label,At.join(", ")));const rn=[];for(const wn of We.editStacks)wn.locked&&rn.push(wn.resourceLabel);return rn.length>0?this._tryToSplitAndUndo(te,pe,null,p.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",pe.label,rn.join(", "))):We.isValid()?null:this._tryToSplitAndUndo(te,pe,null,p.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",pe.label))}_workspaceUndo(te,pe,We){const Et=this._getAffectedEditStacks(pe),At=this._checkWorkspaceUndo(te,pe,Et,!1);return At?At.returnValue:this._confirmAndExecuteWorkspaceUndo(te,pe,Et,We)}_isPartOfUndoGroup(te){if(!te.groupId)return!1;for(const[,pe]of this._editStacks){const We=pe.getClosestPastElement();if(We){if(We===te){const Et=pe.getSecondClosestPastElement();if(Et&&Et.groupId===te.groupId)return!0}if(We.groupId===te.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(te,pe,We,Et){return D(this,void 0,void 0,function*(){if(pe.canSplit()&&!this._isPartOfUndoGroup(pe)){const wn=yield this._dialogService.show(a.Z.Info,p.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",pe.label),[p.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",We.editStacks.length),p.NC("nok","Undo this File"),p.NC("cancel","Cancel")],{cancelId:2});if(2===wn.choice)return;if(1===wn.choice)return this._splitPastWorkspaceElement(pe,null),this._undo(te,0,!0);const oi=this._checkWorkspaceUndo(te,pe,We,!1);if(oi)return oi.returnValue;Et=!0}let At;try{At=yield this._invokeWorkspacePrepare(pe)}catch(wn){return this._onError(wn,pe)}const rn=this._checkWorkspaceUndo(te,pe,We,!0);if(rn)return At.dispose(),rn.returnValue;for(const wn of We.editStacks)wn.moveBackward(pe);return this._safeInvokeWithLocks(pe,()=>pe.actual.undo(),We,At,()=>this._continueUndoInGroup(pe.groupId,Et))})}_resourceUndo(te,pe,We){if(pe.isValid){if(!te.locked)return this._invokeResourcePrepare(pe,Et=>(te.moveBackward(pe),this._safeInvokeWithLocks(pe,()=>pe.actual.undo(),new j([te]),Et,()=>this._continueUndoInGroup(pe.groupId,We))));{const Et=p.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",pe.label);this._notificationService.warn(Et)}}else te.flushAllElements()}_findClosestUndoElementInGroup(te){if(!te)return[null,null];let pe=null,We=null;for(const[Et,At]of this._editStacks){const rn=At.getClosestPastElement();!rn||rn.groupId===te&&(!pe||rn.groupOrder>pe.groupOrder)&&(pe=rn,We=Et)}return[pe,We]}_continueUndoInGroup(te,pe){if(!te)return;const[,We]=this._findClosestUndoElementInGroup(te);return We?this._undo(We,0,pe):void 0}undo(te){if(te instanceof b.gJ){const[,pe]=this._findClosestUndoElementWithSource(te.id);return pe?this._undo(pe,te.id,!1):void 0}return this._undo("string"==typeof te?te:this.getUriComparisonKey(te),0,!1)}_undo(te,pe=0,We){if(!this._editStacks.has(te))return;const Et=this._editStacks.get(te),At=Et.getClosestPastElement();if(At){if(At.groupId){const[wn,oi]=this._findClosestUndoElementInGroup(At.groupId);if(At!==wn&&oi)return this._undo(oi,pe,We)}if((At.sourceId!==pe||At.confirmBeforeUndo)&&!We)return this._confirmAndContinueUndo(te,pe,At);try{return 1===At.type?this._workspaceUndo(te,At,We):this._resourceUndo(Et,At,We)}finally{}}}_confirmAndContinueUndo(te,pe,We){return D(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(a.Z.Info,p.NC("confirmDifferentSource","Would you like to undo '{0}'?",We.label),[p.NC("confirmDifferentSource.yes","Yes"),p.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(te,pe,!0)})}_findClosestRedoElementWithSource(te){if(!te)return[null,null];let pe=null,We=null;for(const[Et,At]of this._editStacks){const rn=At.getClosestFutureElement();!rn||rn.sourceId===te&&(!pe||rn.sourceOrder<pe.sourceOrder)&&(pe=rn,We=Et)}return[pe,We]}canRedo(te){if(te instanceof b.gJ){const[,We]=this._findClosestRedoElementWithSource(te.id);return!!We}const pe=this.getUriComparisonKey(te);return!!this._editStacks.has(pe)&&this._editStacks.get(pe).hasFutureElements()}_tryToSplitAndRedo(te,pe,We,Et){if(pe.canSplit())return this._splitFutureWorkspaceElement(pe,We),this._notificationService.warn(Et),new ne(this._redo(te));for(const At of pe.strResources)this.removeElements(At);return this._notificationService.warn(Et),new ne}_checkWorkspaceRedo(te,pe,We,Et){if(pe.removedResources)return this._tryToSplitAndRedo(te,pe,pe.removedResources,p.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",pe.label,pe.removedResources.createMessage()));if(Et&&pe.invalidatedResources)return this._tryToSplitAndRedo(te,pe,pe.invalidatedResources,p.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",pe.label,pe.invalidatedResources.createMessage()));const At=[];for(const wn of We.editStacks)wn.getClosestFutureElement()!==pe&&At.push(wn.resourceLabel);if(At.length>0)return this._tryToSplitAndRedo(te,pe,null,p.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",pe.label,At.join(", ")));const rn=[];for(const wn of We.editStacks)wn.locked&&rn.push(wn.resourceLabel);return rn.length>0?this._tryToSplitAndRedo(te,pe,null,p.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",pe.label,rn.join(", "))):We.isValid()?null:this._tryToSplitAndRedo(te,pe,null,p.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",pe.label))}_workspaceRedo(te,pe){const We=this._getAffectedEditStacks(pe),Et=this._checkWorkspaceRedo(te,pe,We,!1);return Et?Et.returnValue:this._executeWorkspaceRedo(te,pe,We)}_executeWorkspaceRedo(te,pe,We){return D(this,void 0,void 0,function*(){let Et;try{Et=yield this._invokeWorkspacePrepare(pe)}catch(rn){return this._onError(rn,pe)}const At=this._checkWorkspaceRedo(te,pe,We,!0);if(At)return Et.dispose(),At.returnValue;for(const rn of We.editStacks)rn.moveForward(pe);return this._safeInvokeWithLocks(pe,()=>pe.actual.redo(),We,Et,()=>this._continueRedoInGroup(pe.groupId))})}_resourceRedo(te,pe){if(pe.isValid){if(!te.locked)return this._invokeResourcePrepare(pe,We=>(te.moveForward(pe),this._safeInvokeWithLocks(pe,()=>pe.actual.redo(),new j([te]),We,()=>this._continueRedoInGroup(pe.groupId))));{const We=p.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",pe.label);this._notificationService.warn(We)}}else te.flushAllElements()}_findClosestRedoElementInGroup(te){if(!te)return[null,null];let pe=null,We=null;for(const[Et,At]of this._editStacks){const rn=At.getClosestFutureElement();!rn||rn.groupId===te&&(!pe||rn.groupOrder<pe.groupOrder)&&(pe=rn,We=Et)}return[pe,We]}_continueRedoInGroup(te){if(!te)return;const[,pe]=this._findClosestRedoElementInGroup(te);return pe?this._redo(pe):void 0}redo(te){if(te instanceof b.gJ){const[,pe]=this._findClosestRedoElementWithSource(te.id);return pe?this._redo(pe):void 0}return this._redo("string"==typeof te?te:this.getUriComparisonKey(te))}_redo(te){if(!this._editStacks.has(te))return;const pe=this._editStacks.get(te),We=pe.getClosestFutureElement();if(We){if(We.groupId){const[Et,At]=this._findClosestRedoElementInGroup(We.groupId);if(We!==Et&&At)return this._redo(At)}try{return 1===We.type?this._workspaceRedo(te,We):this._resourceRedo(pe,We)}finally{}}}};U=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([w(0,u.S),w(1,g.lT)],U);class ne{constructor(te){this.returnValue=te}}(0,C.z)(b.tJ,U),e(79095);var W=e(73879),Z=e(41140),ge=e(37451),M=e(8841),we=e(59547),Ee=e(61560),xe=e(61904),Ne=e(65484),oe=e(18723),Se=e(98570),Ie=e(59602),me=e(1149),Me=e(19147),de=e(66549),ke=e(94667),Ue=e(15945),ze=e(16468),ce=e(9265),Ve=e(48648);const tt=/^(cursor|delete)/;class Ct extends c.JT{constructor(te,pe,We,Et,At){super(),this._contextKeyService=te,this._commandService=pe,this._telemetryService=We,this._notificationService=Et,this._logService=At,this._onDidUpdateKeybindings=this._register(new S.Q5),this._currentChord=null,this._currentChordChecker=new Ve.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Lt.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Ve._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:S.ju.None}dispose(){super.dispose()}_log(te){this._logging&&this._logService.info(`[KeybindingService]: ${te}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(te,pe){const We=this._getResolver().lookupPrimaryKeybinding(te,pe||this._contextKeyService);if(We)return We.resolvedKeybinding}dispatchEvent(te,pe){return this._dispatch(te,pe)}softDispatch(te,pe){this._log("/ Soft dispatching keyboard event");const We=this.resolveKeyboardEvent(te);if(We.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[Et]=We.getDispatchParts();if(null===Et)return this._log("\\ Keyboard event cannot be dispatched"),null;const At=this._contextKeyService.getContext(pe),rn=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(At,rn,Et)}_enterChordMode(te,pe){this._currentChord={keypress:te,label:pe},this._currentChordStatusMessage=this._notificationService.status(p.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",pe));const We=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-We>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(te,pe){return this._doDispatch(this.resolveKeyboardEvent(te),pe,!1)}_singleModifierDispatch(te,pe){const We=this.resolveKeyboardEvent(te),[Et]=We.getSingleModifierDispatchParts();if(Et)return this._ignoreSingleModifiers.has(Et)?(this._log(`+ Ignoring single modifier ${Et} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Lt.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Lt.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${Et}.`),this._currentSingleModifier=Et,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):Et===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${Et} ${Et}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(We,pe,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${Et}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[At]=We.getParts();return this._ignoreSingleModifiers=new Lt(At),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(te,pe,We=!1){let Et=!1;if(te.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let At=null,rn=null;if(We){const[Ni]=te.getSingleModifierDispatchParts();At=Ni,rn=Ni}else[At]=te.getDispatchParts(),rn=this._currentChord?this._currentChord.keypress:null;if(null===At)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Et;const wn=this._contextKeyService.getContext(pe),oi=te.getLabel(),_i=this._getResolver().resolve(wn,rn,At);return this._logService.trace("KeybindingService#dispatch",oi,_i?.commandId),_i&&_i.enterChord?(Et=!0,this._enterChordMode(At,oi),this._log("+ Entering chord mode..."),Et):(this._currentChord&&(!_i||!_i.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${oi}".`),this._notificationService.status(p.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,oi),{hideAfter:1e4}),Et=!0),this._leaveChordMode(),_i&&_i.commandId&&(_i.bubble||(Et=!0),this._log(`+ Invoking command ${_i.commandId}.`),typeof _i.commandArgs>"u"?this._commandService.executeCommand(_i.commandId).then(void 0,Ni=>this._notificationService.warn(Ni)):this._commandService.executeCommand(_i.commandId,_i.commandArgs).then(void 0,Ni=>this._notificationService.warn(Ni)),tt.test(_i.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:_i.commandId,from:"keybinding"})),Et)}mightProducePrintableCharacter(te){return!te.ctrlKey&&!te.metaKey&&(te.keyCode>=31&&te.keyCode<=56||te.keyCode>=21&&te.keyCode<=30)}}class Lt{constructor(te){this._ctrlKey=!!te&&te.ctrlKey,this._shiftKey=!!te&&te.shiftKey,this._altKey=!!te&&te.altKey,this._metaKey=!!te&&te.metaKey}has(te){switch(te){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Lt.EMPTY=new Lt(null);var $e=e(14759);class ae{constructor(te,pe,We){this._log=We,this._defaultKeybindings=te,this._defaultBoundCommands=new Map;for(const Et of te){const At=Et.command;At&&"-"!==At.charAt(0)&&this._defaultBoundCommands.set(At,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=ae.handleRemovals([].concat(te).concat(pe));for(let Et=0,At=this._keybindings.length;Et<At;Et++){const rn=this._keybindings[Et];0!==rn.keypressParts.length&&(rn.when&&0===rn.when.type||this._addKeyPress(rn.keypressParts[0],rn))}}static _isTargetedForRemoval(te,pe,We,Et){return!(pe&&te.keypressParts[0]!==pe||We&&te.keypressParts[1]!==We||Et&&(!te.when||!(0,ze.Fb)(Et,te.when)))}static handleRemovals(te){const pe=new Map;for(let Et=0,At=te.length;Et<At;Et++){const rn=te[Et];if(rn.command&&"-"===rn.command.charAt(0)){const wn=rn.command.substring(1);pe.has(wn)?pe.get(wn).push(rn):pe.set(wn,[rn])}}if(0===pe.size)return te;const We=[];for(let Et=0,At=te.length;Et<At;Et++){const rn=te[Et];if(!rn.command||0===rn.command.length){We.push(rn);continue}if("-"===rn.command.charAt(0))continue;const wn=pe.get(rn.command);if(!wn||!rn.isDefault){We.push(rn);continue}let oi=!1;for(const _i of wn)if(this._isTargetedForRemoval(rn,_i.keypressParts[0],_i.keypressParts[1],_i.when)){oi=!0;break}oi||We.push(rn)}return We}_addKeyPress(te,pe){const We=this._map.get(te);if(typeof We>"u")return this._map.set(te,[pe]),void this._addToLookupMap(pe);for(let Et=We.length-1;Et>=0;Et--){const At=We[Et];if(At.command===pe.command)continue;const wn=pe.keypressParts.length>1;At.keypressParts.length>1&&wn&&At.keypressParts[1]!==pe.keypressParts[1]||ae.whenIsEntirelyIncluded(At.when,pe.when)&&this._removeFromLookupMap(At)}We.push(pe),this._addToLookupMap(pe)}_addToLookupMap(te){if(!te.command)return;let pe=this._lookupMap.get(te.command);typeof pe>"u"?(pe=[te],this._lookupMap.set(te.command,pe)):pe.push(te)}_removeFromLookupMap(te){if(!te.command)return;const pe=this._lookupMap.get(te.command);if(!(typeof pe>"u"))for(let We=0,Et=pe.length;We<Et;We++)if(pe[We]===te)return void pe.splice(We,1)}static whenIsEntirelyIncluded(te,pe){return!pe||1===pe.type||!(!te||1===te.type)&&(0,ze.K8)(te,pe)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(te,pe){const We=this._lookupMap.get(te);if(typeof We>"u"||0===We.length)return null;if(1===We.length)return We[0];for(let Et=We.length-1;Et>=0;Et--){const At=We[Et];if(pe.contextMatchesRules(At.when))return At}return We[We.length-1]}resolve(te,pe,We){this._log(`| Resolving ${We}${pe?` chorded from ${pe}`:""}`);let Et=null;if(null!==pe){const rn=this._map.get(pe);if(typeof rn>"u")return this._log("\\ No keybinding entries."),null;Et=[];for(let wn=0,oi=rn.length;wn<oi;wn++){const _i=rn[wn];_i.keypressParts[1]===We&&Et.push(_i)}}else{const rn=this._map.get(We);if(typeof rn>"u")return this._log("\\ No keybinding entries."),null;Et=rn}const At=this._findCommand(te,Et);return At?null===pe&&At.keypressParts.length>1&&null!==At.keypressParts[1]?(this._log(`\\ From ${Et.length} keybinding entries, matched chord, when: ${ve(At.when)}, source: ${he(At)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${Et.length} keybinding entries, matched ${At.command}, when: ${ve(At.when)}, source: ${he(At)}.`),{enterChord:!1,leaveChord:At.keypressParts.length>1,commandId:At.command,commandArgs:At.commandArgs,bubble:At.bubble}):(this._log(`\\ From ${Et.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(te,pe){for(let We=pe.length-1;We>=0;We--){const Et=pe[We];if(ae._contextMatchesRules(te,Et.when))return Et}return null}static _contextMatchesRules(te,pe){return!pe||pe.evaluate(te)}}function ve(An){return An?`${An.serialize()}`:"no when condition"}function he(An){return An.extensionId?An.isBuiltinExtension?`built-in extension ${An.extensionId}`:`user extension ${An.extensionId}`:An.isDefault?"built-in":"user"}var le=e(98915),Q=e(17461),Ce=e(51915),Pe=e(57585),dt=e(55538),st=e(24131),qe=e(24596),Qe=e(74982),et=e(40734),vt=e(29693),mt=e(88521),_t=e(50703),$t=e(15278),Bt=e(36969),Ke=e(57856),ht=e.n(Ke),jt=e(38470),fn=e.n(jt),Dn=e(43370),yt=e.n(Dn),He=e(28458),ye=e.n(He),Ae=e(71278),ue=e.n(Ae),be=e(29488),Je=e.n(be),Fe=e(99166),nt={};nt.styleTagTransform=Je(),nt.setAttributes=ye(),nt.insert=yt().bind(null,"head"),nt.domAPI=fn(),nt.insertStyleElement=ue(),ht()(Fe.Z,nt);var vn=(()=>{return(An=vn||(vn={}))[An.AVOID=0]="AVOID",An[An.ALIGN=1]="ALIGN",vn;var An})();function Mn(An,te,pe){const We=pe.mode===vn.ALIGN?pe.offset:pe.offset+pe.size,Et=pe.mode===vn.ALIGN?pe.offset+pe.size:pe.offset;return 0===pe.position?te<=An-We?We:te<=Et?Et-te:Math.max(An-te,0):te<=Et?Et-te:te<=An-We?We:0}let St=(()=>{class An extends c.JT{constructor(pe,We){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=c.JT.None,this.toDisposeOnSetContainer=c.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=l.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,l.Cp(this.view),this.setContainer(pe,We),this._register((0,c.OF)(()=>this.setContainer(null,1)))}setContainer(pe,We){var Et;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(Et=this.shadowRootHostElement)||void 0===Et||Et.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),pe){if(this.container=pe,this.useFixedPosition=1!==We,this.useShadowDOM=3===We,this.useShadowDOM){this.shadowRootHostElement=l.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const rn=document.createElement("style");rn.textContent=gn,this.shadowRoot.appendChild(rn),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(l.$("slot"))}else this.container.appendChild(this.view);const At=new c.SL;An.BUBBLE_UP_EVENTS.forEach(rn=>{At.add(l.mu(this.container,rn,wn=>{this.onDOMEvent(wn,!1)}))}),An.BUBBLE_DOWN_EVENTS.forEach(rn=>{At.add(l.mu(this.container,rn,wn=>{this.onDOMEvent(wn,!0)},!0))}),this.toDisposeOnSetContainer=At}}show(pe){var We,Et;this.isVisible()&&this.hide(),l.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",l.$Z(this.view),this.toDisposeOnClean=pe.render(this.view)||c.JT.None,this.delegate=pe,this.doLayout(),null===(Et=(We=this.delegate).focus)||void 0===Et||Et.call(We)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||M.gn&&$t.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const pe=this.delegate.getAnchor();let We;if(l.Re(pe)){const ts=l.i(pe),Fo=l.I8(pe);We={top:ts.top*Fo,left:ts.left*Fo,width:ts.width*Fo,height:ts.height*Fo}}else We={top:pe.y,left:pe.x,width:pe.width||1,height:pe.height||2};const Et=l.w(this.view),At=l.wn(this.view),rn=this.delegate.anchorPosition||0,wn=this.delegate.anchorAlignment||0;let _i,Ni;if(0===(this.delegate.anchorAxisAlignment||0)){const ts={offset:We.top-window.pageYOffset,size:We.height,position:0===rn?0:1},Fo={offset:We.left,size:We.width,position:0===wn?0:1,mode:vn.ALIGN};_i=Mn(window.innerHeight,At,ts)+window.pageYOffset,Bt.e.intersects({start:_i,end:_i+At},{start:ts.offset,end:ts.offset+ts.size})&&(Fo.mode=vn.AVOID),Ni=Mn(window.innerWidth,Et,Fo)}else{const ts={offset:We.left,size:We.width,position:0===wn?0:1},Fo={offset:We.top,size:We.height,position:0===rn?0:1,mode:vn.ALIGN};Ni=Mn(window.innerWidth,Et,ts),Bt.e.intersects({start:Ni,end:Ni+Et},{start:ts.offset,end:ts.offset+ts.size})&&(Fo.mode=vn.AVOID),_i=Mn(window.innerHeight,At,Fo)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===rn?"bottom":"top"),this.view.classList.add(0===wn?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const wo=l.i(this.container);this.view.style.top=_i-(this.useFixedPosition?l.i(this.view).top:wo.top)+"px",this.view.style.left=Ni-(this.useFixedPosition?l.i(this.view).left:wo.left)+"px",this.view.style.width="initial"}hide(pe){const We=this.delegate;this.delegate=null,We?.onHide&&We.onHide(pe),this.toDisposeOnClean.dispose(),l.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(pe,We){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(pe,document.activeElement):We&&!l.jg(pe.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return An.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],An.BUBBLE_DOWN_EVENTS=["click"],An})();const gn='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let Gn=class extends c.JT{constructor(te){super(),this.layoutService=te,this.currentViewDisposable=c.JT.None,this.container=te.hasContainer?te.container:null,this.contextView=this._register(new St(this.container,1)),this.layout(),this._register(te.onDidLayout(()=>this.layout()))}setContainer(te,pe){this.contextView.setContainer(te,pe||1)}showContextView(te,pe,We){pe?(pe!==this.container||this.shadowRoot!==We)&&(this.container=pe,this.setContainer(pe,We?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=We,this.contextView.show(te);const Et=(0,c.OF)(()=>{this.currentViewDisposable===Et&&this.hideContextView()});return this.currentViewDisposable=Et,Et}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(te){this.contextView.hide(te)}};var te;Gn=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([(0,te=v.F,function(pe,We){te(pe,We,0)})],Gn);var ci=e(64763),ii=e(40902),Ei=e(97340),no=e(37428),to=e(62922),Co=e(65065),io=e(34872),uo=e(82099),go=e(3067),si=e(827),Yt=e(58783),pt=e(59882);const gt=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Kt=/(&amp;)?(&amp;)([^\s&])/g;var nn=(()=>(function(An){An[An.Right=0]="Right",An[An.Left=1]="Left"}(nn||(nn={})),nn))();class an extends Co.o{constructor(te,pe,We={}){te.classList.add("monaco-menu-container"),te.setAttribute("role","presentation");const Et=document.createElement("div");Et.classList.add("monaco-menu"),Et.setAttribute("role","presentation"),super(Et,{orientation:1,actionViewItemProvider:wn=>this.doGetActionViewItem(wn,We,At),context:We.context,actionRunner:We.actionRunner,ariaLabel:We.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...M.dz||M.IJ?[10]:[]],keyDown:!0}}),this.menuElement=Et,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new c.SL),this.initializeOrUpdateStyleSheet(te,{}),this._register(to.o.addTarget(Et)),(0,l.nm)(Et,l.tw.KEY_DOWN,wn=>{new Z.y(wn).equals(2)&&wn.preventDefault()}),We.enableMnemonics&&this.menuDisposables.add((0,l.nm)(Et,l.tw.KEY_DOWN,wn=>{const oi=wn.key.toLocaleLowerCase();if(this.mnemonics.has(oi)){l.zB.stop(wn,!0);const _i=this.mnemonics.get(oi);if(1===_i.length&&(_i[0]instanceof Nn&&_i[0].container&&this.focusItemByElement(_i[0].container),_i[0].onClick(wn)),_i.length>1){const Ni=_i.shift();Ni&&Ni.container&&(this.focusItemByElement(Ni.container),_i.push(Ni)),this.mnemonics.set(oi,_i)}}})),M.IJ&&this._register((0,l.nm)(Et,l.tw.KEY_DOWN,wn=>{const oi=new Z.y(wn);oi.equals(14)||oi.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),l.zB.stop(wn,!0)):(oi.equals(13)||oi.equals(12))&&(this.focusedItem=0,this.focusPrevious(),l.zB.stop(wn,!0))})),this._register((0,l.nm)(this.domNode,l.tw.MOUSE_OUT,wn=>{(0,l.jg)(wn.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),wn.stopPropagation())})),this._register((0,l.nm)(this.actionsList,l.tw.MOUSE_OVER,wn=>{let oi=wn.target;if(oi&&(0,l.jg)(oi,this.actionsList)&&oi!==this.actionsList){for(;oi.parentElement!==this.actionsList&&null!==oi.parentElement;)oi=oi.parentElement;if(oi.classList.contains("action-item")){const _i=this.focusedItem;this.setFocusedItem(oi),_i!==this.focusedItem&&this.updateFocus()}}})),this._register(to.o.addTarget(this.actionsList)),this._register((0,l.nm)(this.actionsList,to.t.Tap,wn=>{let oi=wn.initialTarget;if(oi&&(0,l.jg)(oi,this.actionsList)&&oi!==this.actionsList){for(;oi.parentElement!==this.actionsList&&null!==oi.parentElement;)oi=oi.parentElement;if(oi.classList.contains("action-item")){const _i=this.focusedItem;this.setFocusedItem(oi),_i!==this.focusedItem&&this.updateFocus()}}}));const At={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new go.s$(Et,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const rn=this.scrollableElement.getDomNode();rn.style.position="",this._register((0,l.nm)(Et,to.t.Change,wn=>{l.zB.stop(wn,!0);const oi=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:oi-wn.translationY})})),this._register((0,l.nm)(rn,l.tw.MOUSE_UP,wn=>{wn.preventDefault()})),Et.style.maxHeight=`${Math.max(10,window.innerHeight-te.getBoundingClientRect().top-35)}px`,pe=pe.filter(wn=>{var oi;return null===(oi=We.submenuIds)||void 0===oi||!oi.has(wn.id)||(console.warn(`Found submenu cycle: ${wn.id}`),!1)}),this.push(pe,{icon:!0,label:!0,isMenu:!0}),te.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(wn=>!(wn instanceof jn)).forEach((wn,oi,_i)=>{wn.updatePositionInSet(oi+1,_i.length)})}initializeOrUpdateStyleSheet(te,pe){this.styleSheet||((0,l.OO)(te)?this.styleSheet=(0,l.dS)(te):(an.globalStyleSheet||(an.globalStyleSheet=(0,l.dS)()),this.styleSheet=an.globalStyleSheet)),this.styleSheet.textContent=function wi(An,te){let pe=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${(0,uo.a)(Yt.lA.menuSelection)}\n${(0,uo.a)(Yt.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .6em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(te){pe+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const We=An.scrollbarShadow;We&&(pe+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${We} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${We} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${We} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const Et=An.scrollbarSliderBackground;Et&&(pe+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${Et};\n\t\t\t\t}\n\t\t\t`);const At=An.scrollbarSliderHoverBackground;At&&(pe+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${At};\n\t\t\t\t}\n\t\t\t`);const rn=An.scrollbarSliderActiveBackground;rn&&(pe+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${rn};\n\t\t\t\t}\n\t\t\t`)}return pe}(pe,(0,l.OO)(te))}style(te){const pe=this.getContainer();this.initializeOrUpdateStyleSheet(pe,te);const We=te.foregroundColor?`${te.foregroundColor}`:"",Et=te.backgroundColor?`${te.backgroundColor}`:"",wn=te.shadowColor?`0 2px 8px ${te.shadowColor}`:"";pe.style.outline=te.borderColor?`1px solid ${te.borderColor}`:"",pe.style.borderRadius="5px",pe.style.color=We,pe.style.backgroundColor=Et,pe.style.boxShadow=wn,this.viewItems&&this.viewItems.forEach(oi=>{(oi instanceof mn||oi instanceof jn)&&oi.style(te)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(te){const pe=this.focusedItem;this.setFocusedItem(te),pe!==this.focusedItem&&this.updateFocus()}setFocusedItem(te){for(let pe=0;pe<this.actionsList.children.length;pe++)if(te===this.actionsList.children[pe]){this.focusedItem=pe;break}}updateFocus(te){super.updateFocus(te,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(te,pe,We){if(te instanceof si.Z0)return new jn(pe.context,te,{icon:!0});if(te instanceof si.wY){const Et=new Nn(te,te.actions,We,Object.assign(Object.assign({},pe),{submenuIds:new Set([...pe.submenuIds||[],te.id])}));if(pe.enableMnemonics){const At=Et.getMnemonic();if(At&&Et.isEnabled()){let rn=[];this.mnemonics.has(At)&&(rn=this.mnemonics.get(At)),rn.push(Et),this.mnemonics.set(At,rn)}}return Et}{const Et={enableMnemonics:pe.enableMnemonics,useEventAsContext:pe.useEventAsContext};if(pe.getKeyBinding){const rn=pe.getKeyBinding(te);if(rn){const wn=rn.getLabel();wn&&(Et.keybinding=wn)}}const At=new mn(pe.context,te,Et);if(pe.enableMnemonics){const rn=At.getMnemonic();if(rn&&At.isEnabled()){let wn=[];this.mnemonics.has(rn)&&(wn=this.mnemonics.get(rn)),wn.push(At),this.mnemonics.set(rn,wn)}}return At}}}class mn extends io.Y{constructor(te,pe,We={}){if(We.isMenu=!0,super(pe,pe,We),this.options=We,this.options.icon=void 0!==We.icon&&We.icon,this.options.label=void 0===We.label||We.label,this.cssClass="",this.options.label&&We.enableMnemonics){const Et=this.getAction().label;if(Et){const At=gt.exec(Et);At&&(this.mnemonic=(At[1]?At[1]:At[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ve.pY(()=>{!this.element||(this._register((0,l.nm)(this.element,l.tw.MOUSE_UP,Et=>{if(l.zB.stop(Et,!0),no.isFirefox){if(new Ei.n(Et).rightButton)return;this.onClick(Et)}else setTimeout(()=>{this.onClick(Et)},0)})),this._register((0,l.nm)(this.element,l.tw.CONTEXT_MENU,Et=>{l.zB.stop(Et,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(te){super.render(te),this.element&&(this.container=te,this.item=(0,l.R3)(this.element,(0,l.$)("a.action-menu-item")),this._action.id===si.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,l.R3)(this.item,(0,l.$)("span.menu-item-check"+Yt.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,l.R3)(this.item,(0,l.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,l.R3)(this.item,(0,l.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(te,pe){this.item&&(this.item.setAttribute("aria-posinset",`${te}`),this.item.setAttribute("aria-setsize",`${pe}`))}updateLabel(){var te;if(this.label&&this.options.label){(0,l.PO)(this.label);let pe=(0,pt.x$)(this.getAction().label);if(pe){const We=function Yn(An){const te=gt,pe=te.exec(An);return pe?An.replace(te,pe[1]?"":"$2$3").trim():An}(pe);this.options.enableMnemonics||(pe=We),this.label.setAttribute("aria-label",We.replace(/&&/g,"&"));const Et=gt.exec(pe);if(Et){pe=W.YU(pe),Kt.lastIndex=0;let At=Kt.exec(pe);for(;At&&At[1];)At=Kt.exec(pe);const rn=wn=>wn.replace(/&amp;&amp;/g,"&amp;");At?this.label.append(W.j3(rn(pe.substr(0,At.index))," "),(0,l.$)("u",{"aria-hidden":"true"},At[3]),W.oL(rn(pe.substr(At.index+At[0].length))," ")):this.label.innerText=rn(pe).trim(),null===(te=this.item)||void 0===te||te.setAttribute("aria-keyshortcuts",(Et[1]?Et[1]:Et[3]).toLocaleLowerCase())}else this.label.innerText=pe.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const te=this.getAction().checked;this.item.classList.toggle("checked",!!te),void 0!==te?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",te?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const te=this.element&&this.element.classList.contains("focused"),pe=te&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,We=te&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Et=te&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",At=te&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=pe?pe.toString():"",this.item.style.backgroundColor=We?We.toString():"",this.item.style.outline=Et,this.item.style.outlineOffset=At),this.check&&(this.check.style.color=pe?pe.toString():"")}style(te){this.menuStyle=te,this.applyStyle()}}class Nn extends mn{constructor(te,pe,We,Et){super(te,te,Et),this.submenuActions=pe,this.parentData=We,this.submenuOptions=Et,this.mysubmenu=null,this.submenuDisposables=this._register(new c.SL),this.mouseOver=!1,this.expandDirection=Et&&void 0!==Et.expandDirection?Et.expandDirection:nn.Right,this.showScheduler=new Ve.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Ve.pY(()=>{this.element&&!(0,l.jg)((0,l.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(te){super.render(te),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,l.R3)(this.item,(0,l.$)("span.submenu-indicator"+Yt.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,l.nm)(this.element,l.tw.KEY_UP,pe=>{const We=new Z.y(pe);(We.equals(17)||We.equals(3))&&(l.zB.stop(pe,!0),this.createSubmenu(!0))})),this._register((0,l.nm)(this.element,l.tw.KEY_DOWN,pe=>{const We=new Z.y(pe);(0,l.vY)()===this.item&&(We.equals(17)||We.equals(3))&&l.zB.stop(pe,!0)})),this._register((0,l.nm)(this.element,l.tw.MOUSE_OVER,pe=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,l.nm)(this.element,l.tw.MOUSE_LEAVE,pe=>{this.mouseOver=!1})),this._register((0,l.nm)(this.element,l.tw.FOCUS_OUT,pe=>{this.element&&!(0,l.jg)((0,l.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(te){l.zB.stop(te,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(te){if(this.parentData.submenu&&(te||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(te,pe,We,Et){const At={top:0,left:0};return At.left=Mn(te.width,pe.width,{position:Et===nn.Right?0:1,offset:We.left,size:We.width}),At.left>=We.left&&At.left<We.left+We.width&&(We.left+10+pe.width<=te.width&&(At.left=We.left+10),We.top+=10,We.height=0),At.top=Mn(te.height,pe.height,{position:0,offset:We.top,size:0}),At.top+pe.height===We.top&&At.top+We.height+pe.height<=te.height&&(At.top+=We.height),At}createSubmenu(te=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,l.R3)(this.element,(0,l.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const pe=getComputedStyle(this.parentData.parent.domNode),We=parseFloat(pe.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new an(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new si.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const Et=this.element.getBoundingClientRect(),At={top:Et.top-We,left:Et.left,height:Et.height+2*We,width:Et.width},rn=this.submenuContainer.getBoundingClientRect(),{top:wn,left:oi}=this.calculateSubmenuMenuLayout(new l.Ro(window.innerWidth,window.innerHeight),l.Ro.lift(rn),At,this.expandDirection);this.submenuContainer.style.left=oi-rn.left+"px",this.submenuContainer.style.top=wn-rn.top+"px",this.submenuDisposables.add((0,l.nm)(this.submenuContainer,l.tw.KEY_UP,_i=>{new Z.y(_i).equals(15)&&(l.zB.stop(_i,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,l.nm)(this.submenuContainer,l.tw.KEY_DOWN,_i=>{new Z.y(_i).equals(15)&&l.zB.stop(_i,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(te),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(te){var pe;this.item&&(null===(pe=this.item)||void 0===pe||pe.setAttribute("aria-expanded",te))}applyStyle(){var te;if(super.applyStyle(),!this.menuStyle)return;const We=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=We?`${We}`:""),null===(te=this.parentData.submenu)||void 0===te||te.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class jn extends io.g{style(te){this.label&&(this.label.style.borderBottomColor=te.separatorColor?`${te.separatorColor}`:"")}}var Li=e(52075);class Qi{constructor(te,pe,We,Et,At){this.contextViewService=te,this.telemetryService=pe,this.notificationService=We,this.keybindingService=Et,this.themeService=At,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(te){this.options=te}showContextMenu(te){const pe=te.getActions();if(!pe.length)return;let We;this.focusToReturn=document.activeElement;const Et=(0,l.Re)(te.domForShadowRoot)?te.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>te.getAnchor(),canRelayout:!1,anchorAlignment:te.anchorAlignment,anchorAxisAlignment:te.anchorAxisAlignment,render:At=>{const rn=te.getMenuClassName?te.getMenuClassName():"";rn&&(At.className+=" "+rn),this.options.blockMouse&&(this.block=At.appendChild((0,l.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,l.nm)(this.block,l.tw.MOUSE_DOWN,_i=>_i.stopPropagation()));const wn=new c.SL,oi=te.actionRunner||new si.Wi;return oi.onBeforeRun(this.onActionRun,this,wn),oi.onDidRun(this.onDidActionRun,this,wn),We=new an(At,pe,{actionViewItemProvider:te.getActionViewItem,context:te.getActionsContext?te.getActionsContext():null,actionRunner:oi,getKeyBinding:te.getKeyBinding?te.getKeyBinding:_i=>this.keybindingService.lookupKeybinding(_i.id)}),wn.add((0,Li.tj)(We,this.themeService)),We.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,wn),We.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,wn),wn.add((0,l.nm)(window,l.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),wn.add((0,l.nm)(window,l.tw.MOUSE_DOWN,_i=>{if(_i.defaultPrevented)return;const Ni=new Ei.n(_i);let wo=Ni.target;if(!Ni.rightButton){for(;wo;){if(wo===At)return;wo=wo.parentElement}this.contextViewService.hideContextView(!0)}})),(0,c.F8)(wn,We)},focus:()=>{We?.focus(!!te.autoSelectFirstItem)},onHide:At=>{var rn;null===(rn=te.onHide)||void 0===rn||rn.call(te,!!At),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},Et,!!Et)}onActionRun(te){this.telemetryService.publicLog2("workbenchActionExecuted",{id:te.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(te){te.error&&!(0,m.n2)(te.error)&&this.notificationService.error(te.error)}}var Ki=function(An,te){return function(pe,We){te(pe,We,An)}};let Wi=class extends c.JT{constructor(te,pe,We,Et,At){super(),this._onDidShowContextMenu=new S.Q5,this._onDidHideContextMenu=new S.Q5,this.contextMenuHandler=new Qi(We,te,pe,Et,At)}configure(te){this.contextMenuHandler.configure(te)}showContextMenu(te){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},te),{onHide:pe=>{var We;null===(We=te.onHide)||void 0===We||We.call(te,pe),this._onDidHideContextMenu.fire()}})),l._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Wi=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([Ki(0,st.b),Ki(1,g.lT),Ki(2,_t.u),Ki(3,$e.d),Ki(4,ii.XE)],Wi);var ro=e(73888),mo=e(85739),Ko=e(5067),Eo=e(61408),Mo=(()=>(function(An){An[An.API=0]="API",An[An.USER=1]="USER"}(Mo||(Mo={})),Mo))(),Io=e(44827),Yi=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At},ho=function(An,te){return function(pe,We){te(pe,We,An)}},Ao=function(An,te,pe,We){return new(pe||(pe=Promise))(function(At,rn){function wn(Ni){try{_i(We.next(Ni))}catch(wo){rn(wo)}}function oi(Ni){try{_i(We.throw(Ni))}catch(wo){rn(wo)}}function _i(Ni){Ni.done?At(Ni.value):function Et(At){return At instanceof pe?At:new pe(function(rn){rn(At)})}(Ni.value).then(wn,oi)}_i((We=We.apply(An,te||[])).next())})};let li=class{constructor(te){this._commandService=te}open(te,pe){return Ao(this,void 0,void 0,function*(){if(!(0,Io.xn)(te,t.lg.command))return!1;if(!pe?.allowCommands)return!0;"string"==typeof te&&(te=we.o.parse(te));let We=[];try{We=(0,Eo.Q)(decodeURIComponent(te.query))}catch{try{We=(0,Eo.Q)(te.query)}catch{}}return Array.isArray(We)||(We=[We]),yield this._commandService.executeCommand(te.path,...We),!0})}};li=Yi([ho(0,de.Hy)],li);let Xt=class{constructor(te){this._editorService=te}open(te,pe){return Ao(this,void 0,void 0,function*(){"string"==typeof te&&(te=we.o.parse(te));const{selection:We,uri:Et}=(0,Io.xI)(te);return(te=Et).scheme===t.lg.file&&(te=(0,et.AH)(te)),yield this._editorService.openCodeEditor({resource:te,options:Object.assign({selection:We,source:pe?.fromUserGesture?Mo.USER:Mo.API},pe?.editorOptions)},this._editorService.getFocusedCodeEditor(),pe?.openToSide),!0})}};Xt=Yi([ho(0,T.$)],Xt);let kt=class{constructor(te,pe){this._openers=new mo.S,this._validators=new mo.S,this._resolvers=new mo.S,this._resolvedUriTargets=new Ko.Y9(We=>We.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new mo.S,this._defaultExternalOpener={openExternal:We=>Ao(this,void 0,void 0,function*(){return(0,Io.Gs)(We,t.lg.http,t.lg.https)?l.V3(We):window.location.href=We,!0})},this._openers.push({open:(We,Et)=>Ao(this,void 0,void 0,function*(){return!(!Et?.openExternal&&!(0,Io.Gs)(We,t.lg.mailto,t.lg.http,t.lg.https,t.lg.vsls)||(yield this._doOpenExternal(We,Et),0))})}),this._openers.push(new li(pe)),this._openers.push(new Xt(te))}registerOpener(te){return{dispose:this._openers.unshift(te)}}registerValidator(te){return{dispose:this._validators.push(te)}}registerExternalUriResolver(te){return{dispose:this._resolvers.push(te)}}setDefaultExternalOpener(te){this._defaultExternalOpener=te}registerExternalOpener(te){return{dispose:this._externalOpeners.push(te)}}open(te,pe){var We;return Ao(this,void 0,void 0,function*(){const Et="string"==typeof te?we.o.parse(te):te,At=null!==(We=this._resolvedUriTargets.get(Et))&&void 0!==We?We:te;for(const rn of this._validators)if(!(yield rn.shouldOpen(At,pe)))return!1;for(const rn of this._openers)if(yield rn.open(te,pe))return!0;return!1})}resolveExternalUri(te,pe){return Ao(this,void 0,void 0,function*(){for(const We of this._resolvers)try{const Et=yield We.resolveExternalUri(te,pe);if(Et)return this._resolvedUriTargets.has(Et.resolved)||this._resolvedUriTargets.set(Et.resolved,te),Et}catch{}throw new Error("Could not resolve external URI: "+te.toString())})}_doOpenExternal(te,pe){return Ao(this,void 0,void 0,function*(){const We="string"==typeof te?we.o.parse(te):te;let Et,At;try{Et=(yield this.resolveExternalUri(We,pe)).resolved}catch{Et=We}if(At="string"==typeof te&&We.toString()===Et.toString()?te:encodeURI(Et.toString(!0)),pe?.allowContributedOpeners){const rn="string"==typeof pe?.allowContributedOpeners?pe?.allowContributedOpeners:void 0;for(const wn of this._externalOpeners)if(yield wn.openExternal(At,{sourceUri:We,preferredOpenerId:rn},ro.T.None))return!0}return this._defaultExternalOpener.openExternal(At,{sourceUri:We},ro.T.None)})}dispose(){this._validators.clear()}};kt=Yi([ho(0,T.$),ho(1,de.Hy)],kt);var un=e(81534),Rn=e(30910),Wn=e(45358),dn=e(58177),ft=e(47629),sn=e(43944),tn=e(4062),Pn=function(An,te){return function(pe,We){te(pe,We,An)}};class En extends c.JT{constructor(te){super(),this.model=te,this._markersData=new Map,this._register((0,c.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(te,pe){const We=[...this._markersData.keys()];this._markersData.clear();const Et=this.model.deltaDecorations(We,pe);for(let At=0;At<Et.length;At++)this._markersData.set(Et[At],te[At]);return 0!==We.length||0!==Et.length}getMarker(te){return this._markersData.get(te.id)}}let ut=class extends c.JT{constructor(te,pe){super(),this._markerService=pe,this._onDidChangeMarker=this._register(new S.Q5),this._markerDecorations=new Ko.Y9,te.getModels().forEach(We=>this._onModelAdded(We)),this._register(te.onModelAdded(this._onModelAdded,this)),this._register(te.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(te=>te.dispose()),this._markerDecorations.clear()}getMarker(te,pe){const We=this._markerDecorations.get(te);return We&&We.getMarker(pe)||null}_handleMarkerChange(te){te.forEach(pe=>{const We=this._markerDecorations.get(pe);We&&this._updateDecorations(We)})}_onModelAdded(te){const pe=new En(te);this._markerDecorations.set(te.uri,pe),this._updateDecorations(pe)}_onModelRemoved(te){var pe;const We=this._markerDecorations.get(te.uri);We&&(We.dispose(),this._markerDecorations.delete(te.uri)),(te.uri.scheme===t.lg.inMemory||te.uri.scheme===t.lg.internal||te.uri.scheme===t.lg.vscode)&&(null===(pe=this._markerService)||void 0===pe||pe.read({resource:te.uri}).map(Et=>Et.owner).forEach(Et=>this._markerService.remove(Et,[te.uri])))}_updateDecorations(te){const pe=this._markerService.read({resource:te.model.uri,take:500}),We=pe.map(Et=>({range:this._createDecorationRange(te.model,Et),options:this._createDecorationOption(Et)}));te.update(pe,We)&&this._onDidChangeMarker.fire(te.model)}_createDecorationRange(te,pe){let We=Se.e.lift(pe);if(pe.severity===dn.ZL.Hint&&!this._hasMarkerTag(pe,1)&&!this._hasMarkerTag(pe,2)&&(We=We.setEndPosition(We.startLineNumber,We.startColumn+2)),We=te.validateRange(We),We.isEmpty()){const Et=te.getLineLastNonWhitespaceColumn(We.startLineNumber)||te.getLineMaxColumn(We.startLineNumber);if(1===Et||We.endColumn>=Et)return We;const At=te.getWordAtPosition(We.getStartPosition());At&&(We=new Se.e(We.startLineNumber,At.startColumn,We.endLineNumber,At.endColumn))}else if(pe.endColumn===Number.MAX_VALUE&&1===pe.startColumn&&We.startLineNumber===We.endLineNumber){const Et=te.getLineFirstNonWhitespaceColumn(pe.startLineNumber);Et<We.endColumn&&(We=new Se.e(We.startLineNumber,Et,We.endLineNumber,We.endColumn),pe.startColumn=Et)}return We}_createDecorationOption(te){let pe,We,Et,At,rn;switch(te.severity){case dn.ZL.Hint:pe=this._hasMarkerTag(te,2)?void 0:this._hasMarkerTag(te,1)?"squiggly-unnecessary":"squiggly-hint",Et=0;break;case dn.ZL.Warning:pe="squiggly-warning",We=(0,ii.EN)(sn.Re),Et=20,rn={color:(0,ii.EN)(tn.Ivo),position:ft.F5.Inline};break;case dn.ZL.Info:pe="squiggly-info",We=(0,ii.EN)(sn.eS),Et=10;break;default:pe="squiggly-error",We=(0,ii.EN)(sn.lK),Et=30,rn={color:(0,ii.EN)(tn.Gj_),position:ft.F5.Inline}}return te.tags&&(-1!==te.tags.indexOf(1)&&(At="squiggly-inline-unnecessary"),-1!==te.tags.indexOf(2)&&(At="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:pe,showIfCollapsed:!0,overviewRuler:{color:We,position:ft.sh.Right},minimap:rn,zIndex:Et,inlineClassName:At}}_hasMarkerTag(te,pe){return!!te.tags&&te.tags.indexOf(pe)>=0}};ut=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([Pn(0,Ie.q),Pn(1,dn.lT)],ut);var Pt=e(55585),Ht=e(37073),Qt=e(25460),bn={};bn.styleTagTransform=Je(),bn.setAttributes=ye(),bn.insert=yt().bind(null,"head"),bn.domAPI=fn(),bn.insertStyleElement=ue(),ht()(Qt.Z,bn);var Cn=e(26845),Hn=e(64280),Ii=e(50342),bi=e(27299),di=e(92192),Ft=e(1972),R=e(73622),J=e(4259),je=function(An,te){return function(pe,We){te(pe,We,An)}};let Ye=class extends c.JT{constructor(te,pe){super(),this.quickInputService=te,this.instantiationService=pe,this.registry=J.B.as(Ft.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(te="",pe){this.doShowOrPick(te,!1,pe)}doShowOrPick(te,pe,We){var Et;const[At,rn]=this.getOrInstantiateProvider(te),wn=this.visibleQuickAccess,oi=wn?.descriptor;if(wn&&rn&&oi===rn)return te!==rn.prefix&&!We?.preserveValue&&(wn.picker.value=te),void this.adjustValueSelection(wn.picker,rn,We);if(rn&&!We?.preserveValue){let Fo;if(wn&&oi&&oi!==rn){const Ns=wn.value.substr(oi.prefix.length);Ns&&(Fo=`${rn.prefix}${Ns}`)}if(!Fo){const Ns=At?.defaultFilterValue;Ns===Ft.Ry.LAST?Fo=this.lastAcceptedPickerValues.get(rn):"string"==typeof Ns&&(Fo=`${rn.prefix}${Ns}`)}"string"==typeof Fo&&(te=Fo)}const _i=new c.SL,Ni=_i.add(this.quickInputService.createQuickPick());let wo;Ni.value=te,this.adjustValueSelection(Ni,rn,We),Ni.placeholder=rn?.placeholder,Ni.quickNavigate=We?.quickNavigateConfiguration,Ni.hideInput=!!Ni.quickNavigate&&!wn,("number"==typeof We?.itemActivation||We?.quickNavigateConfiguration)&&(Ni.itemActivation=null!==(Et=We?.itemActivation)&&void 0!==Et?Et:R.jG.SECOND),Ni.contextKey=rn?.contextKey,Ni.filterValue=Fo=>Fo.substring(rn?rn.prefix.length:0),rn?.placeholder&&(Ni.ariaLabel=rn?.placeholder),pe&&(wo=new Ve.CR,_i.add((0,di.I)(Ni.onWillAccept)(Fo=>{Fo.veto(),Ni.hide()}))),_i.add(this.registerPickerListeners(Ni,At,rn,te));const ts=_i.add(new ro.A);return At&&_i.add(At.provide(Ni,ts.token)),(0,di.I)(Ni.onDidHide)(()=>{0===Ni.selectedItems.length&&ts.cancel(),_i.dispose(),wo?.complete(Ni.selectedItems.slice(0))}),Ni.show(),pe?wo?.p:void 0}adjustValueSelection(te,pe,We){var Et;let At;At=We?.preserveValue?[te.value.length,te.value.length]:[null!==(Et=pe?.prefix.length)&&void 0!==Et?Et:0,te.value.length],te.valueSelection=At}registerPickerListeners(te,pe,We,Et){const At=new c.SL,rn=this.visibleQuickAccess={picker:te,descriptor:We,value:Et};return At.add((0,c.OF)(()=>{rn===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),At.add(te.onDidChangeValue(wn=>{const[oi]=this.getOrInstantiateProvider(wn);oi!==pe?this.show(wn,{preserveValue:!0}):rn.value=wn})),We&&At.add(te.onDidAccept(()=>{this.lastAcceptedPickerValues.set(We,te.value)})),At}getOrInstantiateProvider(te){const pe=this.registry.getQuickAccessProvider(te);if(!pe)return[void 0,void 0];let We=this.mapProviderToDescriptor.get(pe);return We||(We=this.instantiationService.createInstance(pe.ctor),this.mapProviderToDescriptor.set(pe,We)),[We,pe]}};Ye=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([je(0,R.eJ),je(1,ce.TG)],Ye);var on=function(An,te){return function(pe,We){te(pe,We,An)}};let qt=class extends ii.bB{constructor(te,pe,We,Et,At){super(We),this.instantiationService=te,this.contextKeyService=pe,this.accessibilityService=Et,this.layoutService=At,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Ye))),this._quickAccess}createController(te=this.layoutService,pe){const We={idPrefix:"quickInput_",container:te.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:At=>this.setContextKey(At),returnFocus:()=>te.focus(),createList:(At,rn,wn,oi,_i)=>this.instantiationService.createInstance(bi.ev,At,rn,wn,oi,_i),styles:this.computeStyles()},Et=this._register(new Ii.O(Object.assign(Object.assign({},We),pe)));return Et.layout(te.dimension,te.offset.quickPickTop),this._register(te.onDidLayout(At=>Et.layout(At,te.offset.quickPickTop))),this._register(Et.onShow(()=>this.resetContextKeys())),this._register(Et.onHide(()=>this.resetContextKeys())),Et}setContextKey(te){let pe;te&&(pe=this.contexts.get(te),pe||(pe=new ze.uy(te,!1).bindTo(this.contextKeyService),this.contexts.set(te,pe))),(!pe||!pe.get())&&(this.resetContextKeys(),pe?.set(!0))}resetContextKeys(){this.contexts.forEach(te=>{te.get()&&te.reset()})}pick(te,pe={},We=ro.T.None){return this.controller.pick(te,pe,We)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,Li.o)(this.theme,{quickInputBackground:tn.zKr,quickInputForeground:tn.tZ6,quickInputTitleBackground:tn.loF,contrastBorder:tn.lRK,widgetShadow:tn.rh})),inputBox:(0,Li.o)(this.theme,{inputForeground:tn.zJb,inputBackground:tn.sEe,inputBorder:tn.dt_,inputValidationInfoBackground:tn._lC,inputValidationInfoForeground:tn.YI3,inputValidationInfoBorder:tn.EPQ,inputValidationWarningBackground:tn.RV_,inputValidationWarningForeground:tn.SUG,inputValidationWarningBorder:tn.C3g,inputValidationErrorBackground:tn.paE,inputValidationErrorForeground:tn._t9,inputValidationErrorBorder:tn.OZR}),countBadge:(0,Li.o)(this.theme,{badgeBackground:tn.g8u,badgeForeground:tn.qeD,badgeBorder:tn.lRK}),button:(0,Li.o)(this.theme,{buttonForeground:tn.j5u,buttonBackground:tn.b7$,buttonHoverBackground:tn.GO4,buttonBorder:tn.lRK}),progressBar:(0,Li.o)(this.theme,{progressBarBackground:tn.zRJ}),keybindingLabel:(0,Li.o)(this.theme,{keybindingLabelBackground:tn.oQ$,keybindingLabelForeground:tn.lWp,keybindingLabelBorder:tn.AWI,keybindingLabelBottomBorder:tn.K19,keybindingLabelShadow:tn.rh}),list:(0,Li.o)(this.theme,{listBackground:tn.zKr,listInactiveFocusForeground:tn.NPS,listInactiveSelectionIconForeground:tn.cbQ,listInactiveFocusBackground:tn.Vqd,listFocusOutline:tn.xL1,listInactiveFocusOutline:tn.xL1,pickerGroupBorder:tn.opG,pickerGroupForeground:tn.kJk})}}};qt=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([on(0,ce.TG),on(1,ze.i6),on(2,ii.XE),on(3,Hn.F),on(4,v.F)],qt);var yn=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At},Tn=function(An,te){return function(pe,We){te(pe,We,An)}};let Bn=class extends qt{constructor(te,pe,We,Et,At,rn){super(pe,We,Et,At,new s(te.getContainerDomNode(),rn)),this.host=void 0;const wn=ni.get(te);if(wn){const oi=wn.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return oi.getDomNode()},get dimension(){return te.getLayoutInfo()},get onDidLayout(){return te.onDidLayoutChange},focus:()=>te.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};Bn=yn([Tn(1,ce.TG),Tn(2,ze.i6),Tn(3,ii.XE),Tn(4,Hn.F),Tn(5,T.$)],Bn);let Kn=class{constructor(te,pe){this.instantiationService=te,this.codeEditorService=pe,this.mapEditorToService=new Map}get activeService(){const te=this.codeEditorService.getFocusedCodeEditor();if(!te)throw new Error("Quick input service needs a focused editor to work.");let pe=this.mapEditorToService.get(te);if(!pe){const We=pe=this.instantiationService.createInstance(Bn,te);this.mapEditorToService.set(te,pe),(0,di.I)(te.onDidDispose)(()=>{We.dispose(),this.mapEditorToService.delete(te)})}return pe}get quickAccess(){return this.activeService.quickAccess}pick(te,pe={},We=ro.T.None){return this.activeService.pick(te,pe,We)}createQuickPick(){return this.activeService.createQuickPick()}};Kn=yn([Tn(0,ce.TG),Tn(1,T.$)],Kn);let ni=(()=>{class An{constructor(pe){this.editor=pe,this.widget=new hi(this.editor)}static get(pe){return pe.getContribution(An.ID)}dispose(){this.widget.dispose()}}return An.ID="editor.controller.quickInput",An})(),hi=(()=>{class An{constructor(pe){this.codeEditor=pe,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return An.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return An.ID="editor.contrib.quickInputWidget",An})();(0,Cn._K)(ni.ID,ni);var fi=e(49949),Rt=e(55503),fe=function(An,te){return function(pe,We){te(pe,We,An)}};let it=class extends c.JT{constructor(te,pe,We){super(),this._contextKeyService=te,this._layoutService=pe,this._configurationService=We,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new S.Q5,this._onDidChangeReducedMotion=new S.Q5,this._accessibilityModeEnabledContext=Hn.U.bindTo(this._contextKeyService);const Et=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(rn=>{rn.affectsConfiguration("editor.accessibilitySupport")&&(Et(),this._onDidChangeScreenReaderOptimized.fire()),rn.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),Et(),this._register(this.onDidChangeScreenReaderOptimized(()=>Et()));const At=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=At.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(At)}initReducedMotionListeners(te){if(!this._layoutService.hasContainer)return;this._register((0,l.nm)(te,"change",()=>{this._systemMotionReduced=te.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()}));const pe=()=>{const We=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",We),this._layoutService.container.classList.toggle("enable-motion",!We)};pe(),this._register(this.onDidChangeReducedMotion(()=>pe()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const te=this._configurationService.getValue("editor.accessibilitySupport");return"on"===te||"auto"===te&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const te=this._configMotionReduced;return"on"===te||"auto"===te&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};it=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([fe(0,ze.i6),fe(1,v.F),fe(2,ke.Ui)],it);var It=e(74918),en=e(48190),Tt=e(64023),q=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At},Te=function(An,te){return function(pe,We){te(pe,We,An)}};let rt=class{constructor(te,pe){this._commandService=te,this._hiddenStates=new Gt(pe)}createMenu(te,pe,We){return new cn(te,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},We),this._commandService,pe,this)}};rt=q([Te(0,de.Hy),Te(1,en.Uy)],rt);let Gt=class Ql{constructor(te){this._storageService=te,this._disposables=new c.SL,this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const pe=te.get(Ql._key,0,"{}");this._data=JSON.parse(pe)}catch{this._data=Object.create(null)}this._disposables.add(te.onDidChangeValue(pe=>{if(pe.key===Ql._key){if(!this._ignoreChangeEvent)try{const We=te.get(Ql._key,0,"{}");this._data=JSON.parse(We)}catch(We){console.log("FAILED to read storage after UPDATE",We)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(te,pe){var We,Et;return null!==(Et=null===(We=this._data[te.id])||void 0===We?void 0:We.includes(pe))&&void 0!==Et&&Et}updateHidden(te,pe,We){const Et=this._data[te.id];if(We)Et?Et.indexOf(pe)<0&&Et.push(pe):this._data[te.id]=[pe];else if(Et){const At=Et.indexOf(pe);At>=0&&(0,Tt.LS)(Et,At),0===Et.length&&delete this._data[te.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const te=JSON.stringify(this._data);this._storageService.store(Ql._key,te,0,0)}finally{this._ignoreChangeEvent=!1}}};Gt._key="menu.hiddenCommands",Gt=q([Te(0,en.Uy)],Gt);let cn=class xl{constructor(te,pe,We,Et,At,rn){this._id=te,this._hiddenStates=pe,this._options=We,this._commandService=Et,this._contextKeyService=At,this._menuService=rn,this._disposables=new c.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const wn=new Ve.pY(()=>{this._build(),this._onDidChange.fire(this)},We.eventDebounceDelay);this._disposables.add(wn),this._disposables.add(It.BH.onDidChangeMenu(Ni=>{Ni.has(te)&&wn.schedule()}));const oi=this._disposables.add(new c.SL);this._onDidChange=new S.Q5({onFirstListenerAdd:()=>{const Ni=new Ve.pY(()=>this._onDidChange.fire(this),We.eventDebounceDelay);oi.add(Ni),oi.add(At.onDidChangeContext(wo=>{wo.affectsSome(this._contextKeys)&&Ni.schedule()})),oi.add(pe.onDidChange(()=>{Ni.schedule()}))},onLastListenerRemove:oi.clear.bind(oi)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const te=It.BH.getMenuItems(this._id);let pe;te.sort(xl._compareMenuItems);for(const We of te){const Et=We.group||"";(!pe||pe[0]!==Et)&&(pe=[Et,[]],this._menuGroups.push(pe)),pe[1].push(We),this._collectContextKeys(We)}}_collectContextKeys(te){xl._fillInKbExprKeys(te.when,this._contextKeys),(0,It.vr)(te)?(te.command.precondition&&xl._fillInKbExprKeys(te.command.precondition,this._contextKeys),te.command.toggled&&xl._fillInKbExprKeys(te.command.toggled.condition||te.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&It.BH.getMenuItems(te.submenu).forEach(this._collectContextKeys,this)}getActions(te){const pe=[],We=[];for(const Et of this._menuGroups){const[At,rn]=Et,wn=[],oi=[];for(const _i of rn)if(this._contextKeyService.contextMatchesRules(_i.when)){let Ni;if((0,It.vr)(_i)){const ts=Ln(this._id,_i.command,this._hiddenStates);Ni=new It.U8(_i.command,_i.alt,te,ts,this._contextKeyService,this._commandService)}else Ni=new It.NZ(_i,this._menuService,this._contextKeyService,te),0===Ni.actions.length&&(Ni.dispose(),Ni=void 0);Ni&&oi.push(Ni)}oi.length>0&&pe.push([At,oi]),wn.length>0&&We.push(wn)}return pe}static _fillInKbExprKeys(te,pe){if(te)for(const We of te.keys())pe.add(We)}static _compareMenuItems(te,pe){const We=te.group,Et=pe.group;if(We!==Et){if(!We)return 1;if(!Et)return-1;if("navigation"===We)return-1;if("navigation"===Et)return 1;const wn=We.localeCompare(Et);if(0!==wn)return wn}const At=te.order||0,rn=pe.order||0;return At<rn?-1:At>rn?1:xl._compareTitles((0,It.vr)(te)?te.command.title:te.title,(0,It.vr)(pe)?pe.command.title:pe.title)}static _compareTitles(te,pe){return("string"==typeof te?te:te.original).localeCompare("string"==typeof pe?pe:pe.original)}};function Ln(An,te,pe){const We=`${An.id}/${te.id}`,Et="string"==typeof te.title?te.title:te.title.value,At=(0,si.xw)({id:We,label:(0,p.NC)("hide.label","Hide '{0}'",Et),run(){pe.updateHidden(An,te.id,!0)}}),rn=(0,si.xw)({id:We,label:Et,get checked(){return!pe.isHidden(An,te.id)},run(){const wn=!pe.isHidden(An,te.id);pe.updateHidden(An,te.id,wn)}});return{hide:At,toggle:rn,get isHidden(){return!rn.checked}}}cn=q([Te(3,de.Hy),Te(4,ze.i6),Te(5,It.co)],cn);var ei=function(An,te){return function(pe,We){te(pe,We,An)}},Jn=function(An,te,pe,We){return new(pe||(pe=Promise))(function(At,rn){function wn(Ni){try{_i(We.next(Ni))}catch(wo){rn(wo)}}function oi(Ni){try{_i(We.throw(Ni))}catch(wo){rn(wo)}}function _i(Ni){Ni.done?At(Ni.value):function Et(At){return At instanceof pe?At:new pe(function(rn){rn(At)})}(Ni.value).then(wn,oi)}_i((We=We.apply(An,te||[])).next())})};let gi=class extends c.JT{constructor(te,pe){super(),this.layoutService=te,this.logService=pe,this.mapTextToType=new Map,this.findText="",this.resources=[],(no.isSafari||no.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const te=()=>{const pe=new Ve.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=pe,navigator.clipboard.write([new ClipboardItem({"text/plain":pe.p})]).catch(We=>Jn(this,void 0,void 0,function*(){(!(We instanceof Error)||"NotAllowedError"!==We.name||!pe.isRejected)&&this.logService.error(We)}))};this.layoutService.hasContainer&&(this._register((0,l.nm)(this.layoutService.container,"click",te)),this._register((0,l.nm)(this.layoutService.container,"keydown",te)))}writeText(te,pe){return Jn(this,void 0,void 0,function*(){if(pe)return void this.mapTextToType.set(pe,te);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(te);try{return yield navigator.clipboard.writeText(te)}catch(At){console.error(At)}const We=document.activeElement,Et=document.body.appendChild((0,l.$)("textarea",{"aria-hidden":!0}));Et.style.height="1px",Et.style.width="1px",Et.style.position="absolute",Et.value=te,Et.focus(),Et.select(),document.execCommand("copy"),We instanceof HTMLElement&&We.focus(),document.body.removeChild(Et)})}readText(te){return Jn(this,void 0,void 0,function*(){if(te)return this.mapTextToType.get(te)||"";try{return yield navigator.clipboard.readText()}catch(pe){return console.error(pe),""}})}readFindText(){return Jn(this,void 0,void 0,function*(){return this.findText})}writeFindText(te){return Jn(this,void 0,void 0,function*(){this.findText=te})}readResources(){return Jn(this,void 0,void 0,function*(){return this.resources})}};gi=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([ei(0,v.F),ei(1,vt.VZ)],gi);var pi=e(25787),Ci=e(1999),Mi=e(6276);const zi="data-keybinding-context";class _o{constructor(te,pe){this._id=te,this._parent=pe,this._value=Object.create(null),this._value._contextId=te}get value(){return Object.assign({},this._value)}setValue(te,pe){return this._value[te]!==pe&&(this._value[te]=pe,!0)}removeValue(te){return te in this._value&&(delete this._value[te],!0)}getValue(te){const pe=this._value[te];return typeof pe>"u"&&this._parent?this._parent.getValue(te):pe}}class jo extends _o{constructor(){super(-1,null)}setValue(te,pe){return!1}removeValue(te){return!1}getValue(te){}}jo.INSTANCE=new jo;let To=(()=>{class An extends _o{constructor(pe,We,Et){super(pe,null),this._configurationService=We,this._values=Ko.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(At=>{if(7===At.source){const rn=Array.from(Ci.$.map(this._values,([wn])=>wn));this._values.clear(),Et.fire(new _s(rn))}else{const rn=[];for(const wn of At.affectedKeys){const oi=`config.${wn}`,_i=this._values.findSuperstr(oi);void 0!==_i&&(rn.push(...Ci.$.map(_i,([Ni])=>Ni)),this._values.deleteSuperstr(oi)),this._values.has(oi)&&(rn.push(oi),this._values.delete(oi))}Et.fire(new _s(rn))}})}dispose(){this._listener.dispose()}getValue(pe){if(0!==pe.indexOf(An._keyPrefix))return super.getValue(pe);if(this._values.has(pe))return this._values.get(pe);const We=pe.substr(An._keyPrefix.length),Et=this._configurationService.getValue(We);let At;switch(typeof Et){case"number":case"boolean":case"string":At=Et;break;default:At=Array.isArray(Et)?JSON.stringify(Et):Et}return this._values.set(pe,At),At}setValue(pe,We){return super.setValue(pe,We)}removeValue(pe){return super.removeValue(pe)}}return An._keyPrefix="config.",An})();class ss{constructor(te,pe,We){this._service=te,this._key=pe,this._defaultValue=We,this.reset()}set(te){this._service.setContext(this._key,te)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class sr{constructor(te){this.key=te}affectsSome(te){return te.has(this.key)}allKeysContainedIn(te){return this.affectsSome(te)}}class _s{constructor(te){this.keys=te}affectsSome(te){for(const pe of this.keys)if(te.has(pe))return!0;return!1}allKeysContainedIn(te){return this.keys.every(pe=>te.has(pe))}}class Qo{constructor(te){this.events=te}affectsSome(te){for(const pe of this.events)if(pe.affectsSome(te))return!0;return!1}allKeysContainedIn(te){return this.events.every(pe=>pe.allKeysContainedIn(te))}}class wr{constructor(te){this._onDidChangeContext=new S.K3({merge:pe=>new Qo(pe)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=te}createKey(te,pe){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ss(this,te,pe)}bufferChangeEvents(te){this._onDidChangeContext.pause();try{te()}finally{this._onDidChangeContext.resume()}}createScoped(te){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new rr(this,te)}contextMatchesRules(te){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const pe=this.getContextValuesContainer(this._myContextId);return!te||te.evaluate(pe)}getContextKeyValue(te){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(te)}setContext(te,pe){if(this._isDisposed)return;const We=this.getContextValuesContainer(this._myContextId);!We||We.setValue(te,pe)&&this._onDidChangeContext.fire(new sr(te))}removeContext(te){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(te)&&this._onDidChangeContext.fire(new sr(te))}getContext(te){return this._isDisposed?jo.INSTANCE:this.getContextValuesContainer(function Xo(An){for(;An;){if(An.hasAttribute(zi)){const te=An.getAttribute(zi);return te?parseInt(te,10):NaN}An=An.parentElement}return 0}(te))}}let Ds=class extends wr{constructor(te){super(0),this._contexts=new Map,this._toDispose=new c.SL,this._lastContextId=0;const pe=new To(this._myContextId,te,this._onDidChangeContext);this._contexts.set(this._myContextId,pe),this._toDispose.add(pe)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(te){return this._isDisposed?jo.INSTANCE:this._contexts.get(te)||jo.INSTANCE}createChildContext(te=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const pe=++this._lastContextId;return this._contexts.set(pe,new _o(pe,this.getContextValuesContainer(te))),pe}disposeContext(te){this._isDisposed||this._contexts.delete(te)}};Ds=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At}([function(An,te){return function(pe,We){te(pe,We,0)}}(0,ke.Ui)],Ds);class rr extends wr{constructor(te,pe){if(super(te.createChildContext()),this._parentChangeListener=new c.XK,this._parent=te,this._updateParentChangeListener(),this._domNode=pe,this._domNode.hasAttribute(zi)){let We="";this._domNode.classList&&(We=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(We?": "+We:""))}this._domNode.setAttribute(zi,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(te=>{(function $o(An,te){return An.allKeysContainedIn(new Set(Object.keys(te)))})(te,this._parent.getContextValuesContainer(this._myContextId).value)||this._onDidChangeContext.fire(te)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(zi),this._isDisposed=!0)}getContextValuesContainer(te){return this._isDisposed?jo.INSTANCE:this._parent.getContextValuesContainer(te)}createChildContext(te=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(te)}disposeContext(te){this._isDisposed||this._parent.disposeContext(te)}}de.P0.registerCommand(ze.Eq,function ar(An,te,pe){An.get(ze.i6).createKey(String(te),function Ws(An){return(0,Mi.rs)(An,te=>"object"==typeof te&&1===te.$mid?we.o.revive(te).toString():te instanceof we.o?te.toString():void 0)}(pe))}),de.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...ze.uy.all()].sort((An,te)=>An.key.localeCompare(te.key)),description:{description:(0,p.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),de.P0.registerCommand("_generateContextKeyInfo",function(){const An=[],te=new Set;for(const pe of ze.uy.all())te.has(pe.key)||(te.add(pe.key),An.push(pe));An.sort((pe,We)=>pe.key.localeCompare(We.key)),console.log(JSON.stringify(An,void 0,2))});var Vs=e(81184);class hr{constructor(te){this.incoming=new Map,this.outgoing=new Map,this.data=te}}class $s{constructor(te){this._hashFn=te,this._nodes=new Map}roots(){const te=[];for(const pe of this._nodes.values())0===pe.outgoing.size&&te.push(pe);return te}insertEdge(te,pe){const We=this.lookupOrInsertNode(te),Et=this.lookupOrInsertNode(pe);We.outgoing.set(this._hashFn(pe),Et),Et.incoming.set(this._hashFn(te),We)}removeNode(te){const pe=this._hashFn(te);this._nodes.delete(pe);for(const We of this._nodes.values())We.outgoing.delete(pe),We.incoming.delete(pe)}lookupOrInsertNode(te){const pe=this._hashFn(te);let We=this._nodes.get(pe);return We||(We=new hr(te),this._nodes.set(pe,We)),We}isEmpty(){return 0===this._nodes.size}toString(){const te=[];for(const[pe,We]of this._nodes)te.push(`${pe}, (incoming)[${[...We.incoming.keys()].join(", ")}], (outgoing)[${[...We.outgoing.keys()].join(",")}]`);return te.join("\n")}findCycleSlow(){for(const[te,pe]of this._nodes){const Et=this._findCycle(pe,new Set([te]));if(Et)return Et}}_findCycle(te,pe){for(const[We,Et]of te.outgoing){if(pe.has(We))return[...pe,We].join(" -> ");pe.add(We);const At=this._findCycle(Et,pe);if(At)return At;pe.delete(We)}}}var Dr=e(62706);class Es extends Error{constructor(te){var pe;super("cyclic dependency between services"),this.message=null!==(pe=te.findCycleSlow())&&void 0!==pe?pe:`UNABLE to detect cycle, dumping graph: \n${te.toString()}`}}class fr{constructor(te=new Dr.y,pe=!1,We){this._activeInstantiations=new Set,this._services=te,this._strict=pe,this._parent=We,this._services.set(ce.TG,this)}createChild(te){return new fr(te,this._strict,this)}invokeFunction(te,...pe){const We=xs.traceInvocation(te);let Et=!1;try{return te({get:rn=>{if(Et)throw(0,m.L6)("service accessor is only valid during the invocation of its target method");const wn=this._getOrCreateServiceInstance(rn,We);if(!wn)throw new Error(`[invokeFunction] unknown service '${rn}'`);return wn}},...pe)}finally{Et=!0,We.stop()}}createInstance(te,...pe){let We,Et;return te instanceof Vs.M?(We=xs.traceCreation(te.ctor),Et=this._createInstance(te.ctor,te.staticArguments.concat(pe),We)):(We=xs.traceCreation(te),Et=this._createInstance(te,pe,We)),We.stop(),Et}_createInstance(te,pe=[],We){const Et=ce.I8.getServiceDependencies(te).sort((wn,oi)=>wn.index-oi.index),At=[];for(const wn of Et){const oi=this._getOrCreateServiceInstance(wn.id,We);oi||this._throwIfStrict(`[createInstance] ${te.name} depends on UNKNOWN service ${wn.id}.`,!1),At.push(oi)}const rn=Et.length>0?Et[0].index:pe.length;if(pe.length!==rn){console.trace(`[createInstance] First service dependency of ${te.name} at position ${rn+1} conflicts with ${pe.length} static arguments`);const wn=rn-pe.length;pe=wn>0?pe.concat(new Array(wn)):pe.slice(0,rn)}return new te(...pe,...At)}_setServiceInstance(te,pe){if(this._services.get(te)instanceof Vs.M)this._services.set(te,pe);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(te,pe)}}_getServiceInstanceOrDescriptor(te){const pe=this._services.get(te);return!pe&&this._parent?this._parent._getServiceInstanceOrDescriptor(te):pe}_getOrCreateServiceInstance(te,pe){const We=this._getServiceInstanceOrDescriptor(te);return We instanceof Vs.M?this._safeCreateAndCacheServiceInstance(te,We,pe.branch(te,!0)):(pe.branch(te,!1),We)}_safeCreateAndCacheServiceInstance(te,pe,We){if(this._activeInstantiations.has(te))throw new Error(`illegal state - RECURSIVELY instantiating service '${te}'`);this._activeInstantiations.add(te);try{return this._createAndCacheServiceInstance(te,pe,We)}finally{this._activeInstantiations.delete(te)}}_createAndCacheServiceInstance(te,pe,We){const Et=new $s(wn=>wn.id.toString());let At=0;const rn=[{id:te,desc:pe,_trace:We}];for(;rn.length;){const wn=rn.pop();if(Et.lookupOrInsertNode(wn),At++>1e3)throw new Es(Et);for(const oi of ce.I8.getServiceDependencies(wn.desc.ctor)){const _i=this._getServiceInstanceOrDescriptor(oi.id);if(_i||this._throwIfStrict(`[createInstance] ${te} depends on ${oi.id} which is NOT registered.`,!0),_i instanceof Vs.M){const Ni={id:oi.id,desc:_i,_trace:wn._trace.branch(oi.id,!0)};Et.insertEdge(wn,Ni),rn.push(Ni)}}}for(;;){const wn=Et.roots();if(0===wn.length){if(!Et.isEmpty())throw new Es(Et);break}for(const{data:oi}of wn){if(this._getServiceInstanceOrDescriptor(oi.id)instanceof Vs.M){const Ni=this._createServiceInstanceWithOwner(oi.id,oi.desc.ctor,oi.desc.staticArguments,oi.desc.supportsDelayedInstantiation,oi._trace);this._setServiceInstance(oi.id,Ni)}Et.removeNode(oi)}}return this._getServiceInstanceOrDescriptor(te)}_createServiceInstanceWithOwner(te,pe,We=[],Et,At){if(this._services.get(te)instanceof Vs.M)return this._createServiceInstance(pe,We,Et,At);if(this._parent)return this._parent._createServiceInstanceWithOwner(te,pe,We,Et,At);throw new Error(`illegalState - creating UNKNOWN service instance ${pe.name}`)}_createServiceInstance(te,pe=[],We,Et){if(We){const At=new Ve.Ue(()=>this._createInstance(te,pe,Et));return new Proxy(Object.create(null),{get(rn,wn){if(wn in rn)return rn[wn];const oi=At.value;let _i=oi[wn];return"function"!=typeof _i||(_i=_i.bind(oi),rn[wn]=_i),_i},set:(rn,wn,oi)=>(At.value[wn]=oi,!0)})}return this._createInstance(te,pe,Et)}_throwIfStrict(te,pe){if(pe&&console.warn(te),this._strict)throw new Error(te)}}class xs{constructor(te,pe){this.type=te,this.name=pe,this._start=Date.now(),this._dep=[]}static traceInvocation(te){return xs._None}static traceCreation(te){return xs._None}branch(te,pe){const We=new xs(2,te.toString());return this._dep.push([te,pe,We]),We}stop(){const te=Date.now()-this._start;xs._totals+=te;let pe=!1;const Et=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function We(At,rn){const wn=[],oi=new Array(At+1).join("\t");for(const[_i,Ni,wo]of rn._dep)if(Ni&&wo){pe=!0,wn.push(`${oi}CREATES -> ${_i}`);const ts=We(At+1,wo);ts&&wn.push(ts)}else wn.push(`${oi}uses -> ${_i}`);return wn.join("\n")}(1,this)}`,`DONE, took ${te.toFixed(2)}ms (grand total ${xs._totals.toFixed(2)}ms)`];(te>2||pe)&&console.log(Et.join("\n"))}}xs._None=new class extends xs{constructor(){super(-1,null)}stop(){}branch(){return this}},xs._totals=0;class _r{constructor(){this._byResource=new Ko.Y9,this._byOwner=new Map}set(te,pe,We){let Et=this._byResource.get(te);Et||(Et=new Map,this._byResource.set(te,Et)),Et.set(pe,We);let At=this._byOwner.get(pe);At||(At=new Ko.Y9,this._byOwner.set(pe,At)),At.set(te,We)}get(te,pe){return this._byResource.get(te)?.get(pe)}delete(te,pe){let We=!1,Et=!1;const At=this._byResource.get(te);At&&(We=At.delete(pe));const rn=this._byOwner.get(pe);if(rn&&(Et=rn.delete(te)),We!==Et)throw new Error("illegal state");return We&&Et}values(te){var pe,We,Et,At;return"string"==typeof te?null!==(We=null===(pe=this._byOwner.get(te))||void 0===pe?void 0:pe.values())&&void 0!==We?We:Ci.$.empty():we.o.isUri(te)?null!==(At=null===(Et=this._byResource.get(te))||void 0===Et?void 0:Et.values())&&void 0!==At?At:Ci.$.empty():Ci.$.map(Ci.$.concat(...this._byOwner.values()),rn=>rn[1])}}class Gs{constructor(te){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ko.Y9,this._service=te,this._subscription=te.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(te){for(const pe of te){const We=this._data.get(pe);We&&this._substract(We);const Et=this._resourceStats(pe);this._add(Et),this._data.set(pe,Et)}}_resourceStats(te){const pe={errors:0,warnings:0,infos:0,unknowns:0};if(te.scheme===t.lg.inMemory||te.scheme===t.lg.walkThrough||te.scheme===t.lg.walkThroughSnippet||te.scheme===t.lg.vscodeSourceControl)return pe;for(const{severity:We}of this._service.read({resource:te}))We===dn.ZL.Error?pe.errors+=1:We===dn.ZL.Warning?pe.warnings+=1:We===dn.ZL.Info?pe.infos+=1:pe.unknowns+=1;return pe}_substract(te){this.errors-=te.errors,this.warnings-=te.warnings,this.infos-=te.infos,this.unknowns-=te.unknowns}_add(te){this.errors+=te.errors,this.warnings+=te.warnings,this.infos+=te.infos,this.unknowns+=te.unknowns}}class Ms{constructor(){this._onMarkerChanged=new S.D0({delay:0,merge:Ms._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new _r,this._stats=new Gs(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(te,pe){for(const We of pe||[])this.changeOne(te,We,[])}changeOne(te,pe,We){if((0,Tt.XY)(We))this._data.delete(pe,te)&&this._onMarkerChanged.fire([pe]);else{const Et=[];for(const At of We){const rn=Ms._toMarker(te,pe,At);rn&&Et.push(rn)}this._data.set(pe,te,Et),this._onMarkerChanged.fire([pe])}}static _toMarker(te,pe,We){let{code:Et,severity:At,message:rn,source:wn,startLineNumber:oi,startColumn:_i,endLineNumber:Ni,endColumn:wo,relatedInformation:ts,tags:Fo}=We;if(rn)return oi=oi>0?oi:1,_i=_i>0?_i:1,Ni=Ni>=oi?Ni:oi,wo=wo>0?wo:_i,{resource:pe,owner:te,code:Et,severity:At,message:rn,source:wn,startLineNumber:oi,startColumn:_i,endLineNumber:Ni,endColumn:wo,relatedInformation:ts,tags:Fo}}changeAll(te,pe){const We=[],Et=this._data.values(te);if(Et)for(const At of Et){const rn=Ci.$.first(At);rn&&(We.push(rn.resource),this._data.delete(rn.resource,te))}if((0,Tt.Of)(pe)){const At=new Ko.Y9;for(const{resource:rn,marker:wn}of pe){const oi=Ms._toMarker(te,rn,wn);if(!oi)continue;const _i=At.get(rn);_i?_i.push(oi):(At.set(rn,[oi]),We.push(rn))}for(const[rn,wn]of At)this._data.set(rn,te,wn)}We.length>0&&this._onMarkerChanged.fire(We)}read(te=Object.create(null)){let{owner:pe,resource:We,severities:Et,take:At}=te;if((!At||At<0)&&(At=-1),pe&&We){const rn=this._data.get(We,pe);if(rn){const wn=[];for(const oi of rn)if(Ms._accept(oi,Et)){const _i=wn.push(oi);if(At>0&&_i===At)break}return wn}return[]}if(pe||We){const rn=this._data.values(We??pe),wn=[];for(const oi of rn)for(const _i of oi)if(Ms._accept(_i,Et)){const Ni=wn.push(_i);if(At>0&&Ni===At)return wn}return wn}{const rn=[];for(const wn of this._data.values())for(const oi of wn)if(Ms._accept(oi,Et)){const _i=rn.push(oi);if(At>0&&_i===At)return rn}return rn}}static _accept(te,pe){return void 0===pe||(pe&te.severity)===te.severity}static _merge(te){const pe=new Ko.Y9;for(const We of te)for(const Et of We)pe.set(Et,!0);return Array.from(pe.keys())}}var Go=e(46090),lr=e(90790);(0,C.z)(lr.p,class zs{constructor(){this.referenceProvider=new Go.c(this._score.bind(this)),this.renameProvider=new Go.c(this._score.bind(this)),this.codeActionProvider=new Go.c(this._score.bind(this)),this.definitionProvider=new Go.c(this._score.bind(this)),this.typeDefinitionProvider=new Go.c(this._score.bind(this)),this.declarationProvider=new Go.c(this._score.bind(this)),this.implementationProvider=new Go.c(this._score.bind(this)),this.documentSymbolProvider=new Go.c(this._score.bind(this)),this.inlayHintsProvider=new Go.c(this._score.bind(this)),this.colorProvider=new Go.c(this._score.bind(this)),this.codeLensProvider=new Go.c(this._score.bind(this)),this.documentFormattingEditProvider=new Go.c(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Go.c(this._score.bind(this)),this.onTypeFormattingEditProvider=new Go.c(this._score.bind(this)),this.signatureHelpProvider=new Go.c(this._score.bind(this)),this.hoverProvider=new Go.c(this._score.bind(this)),this.documentHighlightProvider=new Go.c(this._score.bind(this)),this.selectionRangeProvider=new Go.c(this._score.bind(this)),this.foldingRangeProvider=new Go.c(this._score.bind(this)),this.linkProvider=new Go.c(this._score.bind(this)),this.inlineCompletionsProvider=new Go.c(this._score.bind(this)),this.completionProvider=new Go.c(this._score.bind(this)),this.linkedEditingRangeProvider=new Go.c(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Go.c(this._score.bind(this)),this.documentSemanticTokensProvider=new Go.c(this._score.bind(this)),this.documentOnDropEditProvider=new Go.c(this._score.bind(this)),this.documentPasteEditProvider=new Go.c(this._score.bind(this))}_score(te){var pe;return null===(pe=this._notebookTypeResolver)||void 0===pe?void 0:pe.call(this,te)}},!0);var vr=e(12084),ms=function(An,te,pe,We){var rn,Et=arguments.length,At=Et<3?te:null===We?We=Object.getOwnPropertyDescriptor(te,pe):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(An,te,pe,We);else for(var wn=An.length-1;wn>=0;wn--)(rn=An[wn])&&(At=(Et<3?rn(At):Et>3?rn(te,pe,At):rn(te,pe))||At);return Et>3&&At&&Object.defineProperty(te,pe,At),At},us=function(An,te){return function(pe,We){te(pe,We,An)}},gr=function(An,te,pe,We){return new(pe||(pe=Promise))(function(At,rn){function wn(Ni){try{_i(We.next(Ni))}catch(wo){rn(wo)}}function oi(Ni){try{_i(We.throw(Ni))}catch(wo){rn(wo)}}function _i(Ni){Ni.done?At(Ni.value):function Et(At){return At instanceof pe?At:new pe(function(rn){rn(At)})}(Ni.value).then(wn,oi)}_i((We=We.apply(An,te||[])).next())})};class er{constructor(te){this.disposed=!1,this.model=te,this._onWillDispose=new S.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ur=class{constructor(te){this.modelService=te}createModelReference(te){const pe=this.modelService.getModel(te);return pe?Promise.resolve(new c.Jz(new er(pe))):Promise.reject(new Error("Model not found"))}};Ur=ms([us(0,Ie.q)],Ur);let jr=(()=>{class An{show(){return An.NULL_PROGRESS_RUNNER}showWhile(pe,We){return gr(this,void 0,void 0,function*(){yield pe})}}return An.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},An})();class Gi{info(te){return this.notify({severity:a.Z.Info,message:te})}warn(te){return this.notify({severity:a.Z.Warning,message:te})}error(te){return this.notify({severity:a.Z.Error,message:te})}notify(te){switch(te.severity){case a.Z.Error:console.error(te.message);break;case a.Z.Warning:console.warn(te.message);break;default:console.log(te.message)}return Gi.NO_OP}status(te,pe){return c.JT.None}}Gi.NO_OP=new g.EO;let dr=class{constructor(te){this._onWillExecuteCommand=new S.Q5,this._onDidExecuteCommand=new S.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=te}executeCommand(te,...pe){const We=de.P0.getCommand(te);if(!We)return Promise.reject(new Error(`command '${te}' not found`));try{this._onWillExecuteCommand.fire({commandId:te,args:pe});const Et=this._instantiationService.invokeFunction.apply(this._instantiationService,[We.handler,...pe]);return this._onDidExecuteCommand.fire({commandId:te,args:pe}),Promise.resolve(Et)}catch(Et){return Promise.reject(Et)}}};dr=ms([us(0,ce.TG)],dr);let tr=class extends Ct{constructor(te,pe,We,Et,At,rn){super(te,pe,We,Et,At),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const wn=Fo=>{const Ns=new c.SL;Ns.add(l.nm(Fo,l.tw.KEY_DOWN,Ys=>{const xr=new Z.y(Ys);this._dispatch(xr,xr.target)&&(xr.preventDefault(),xr.stopPropagation())})),Ns.add(l.nm(Fo,l.tw.KEY_UP,Ys=>{const xr=new Z.y(Ys);this._singleModifierDispatch(xr,xr.target)&&xr.preventDefault()})),this._domNodeListeners.push(new nr(Fo,Ns))},oi=Fo=>{for(let Ns=0;Ns<this._domNodeListeners.length;Ns++){const Ys=this._domNodeListeners[Ns];Ys.domNode===Fo&&(this._domNodeListeners.splice(Ns,1),Ys.dispose())}},_i=Fo=>{Fo.getOption(56)||wn(Fo.getContainerDomNode())};this._register(rn.onCodeEditorAdd(_i)),this._register(rn.onCodeEditorRemove(Fo=>{Fo.getOption(56)||oi(Fo.getContainerDomNode())})),rn.listCodeEditors().forEach(_i);const wo=Fo=>{wn(Fo.getContainerDomNode())};this._register(rn.onDiffEditorAdd(wo)),this._register(rn.onDiffEditorRemove(Fo=>{oi(Fo.getContainerDomNode())})),rn.listDiffEditors().forEach(wo)}addDynamicKeybinding(te,pe,We,Et){return(0,c.F8)(de.P0.registerCommand(te,We),this.addDynamicKeybindings([{keybinding:pe,command:te,when:Et}]))}addDynamicKeybindings(te){const pe=te.map(We=>{var Et,At;return{keybinding:null!==(Et=(0,ge.gm)(We.keybinding,M.OS)?.parts)&&void 0!==Et?Et:null,command:null!==(At=We.command)&&void 0!==At?At:null,commandArgs:We.commandArgs,when:We.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(pe),this.updateResolver(),(0,c.OF)(()=>{for(let We=0;We<this._dynamicKeybindings.length;We++)if(this._dynamicKeybindings[We]===pe[0])return this._dynamicKeybindings.splice(We,pe.length),void this.updateResolver()})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const te=this._toNormalizedKeybindingItems(le.W.getDefaultKeybindings(),!0),pe=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new ae(te,pe,We=>this._log(We))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(te,pe){const We=[];let Et=0;for(const At of te){const rn=At.when||void 0,wn=At.keybinding;if(wn){const oi=Ce.j.resolveUserBinding(wn,M.OS);for(const _i of oi)We[Et++]=new Q.M(_i,At.command,At.commandArgs,rn,pe,null,!1)}else We[Et++]=new Q.M(void 0,At.command,At.commandArgs,rn,pe,null,!1)}return We}resolveKeyboardEvent(te){const pe=new ge.QC(te.ctrlKey,te.shiftKey,te.altKey,te.metaKey,te.keyCode).toChord();return new Ce.j(pe,M.OS)}};tr=ms([us(0,ze.i6),us(1,de.Hy),us(2,st.b),us(3,g.lT),us(4,vt.VZ),us(5,T.$)],tr);class nr extends c.JT{constructor(te,pe){super(),this.domNode=te,this._register(pe)}}function Ts(An){return An&&"object"==typeof An&&(!An.overrideIdentifier||"string"==typeof An.overrideIdentifier)&&(!An.resource||An.resource instanceof we.o)}class Er{constructor(){this._onDidChangeConfiguration=new S.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Ue.VK(new vr.l,new Ue.VV,new Ue.VV,new Ue.VV)}getValue(te,pe){const We="string"==typeof te?te:void 0,Et=Ts(te)?te:Ts(pe)?pe:{};return this._configuration.getValue(We,Et,void 0)}updateValues(te){const pe={data:this._configuration.toData()},We=[];for(const Et of te){const[At,rn]=Et;this.getValue(At)!==rn&&(this._configuration.updateValue(At,rn),We.push(At))}if(We.length>0){const Et=new Ue.YX({keys:We,overrides:[]},pe,this._configuration);Et.source=8,Et.sourceConfig=null,this._onDidChangeConfiguration.fire(Et)}return Promise.resolve()}updateValue(te,pe,We,Et){return this.updateValues([[te,pe]])}inspect(te,pe={}){return this._configuration.inspect(te,pe,void 0)}}let mr=class{constructor(te){this.configurationService=te,this._onDidChangeConfiguration=new S.Q5,this.configurationService.onDidChangeConfiguration(pe=>{this._onDidChangeConfiguration.fire({affectedKeys:pe.affectedKeys,affectsConfiguration:(We,Et)=>pe.affectsConfiguration(Et)})})}getValue(te,pe,We){const At=oe.L.isIPosition(pe)&&pe?"string"==typeof We?We:void 0:"string"==typeof pe?pe:void 0;return typeof At>"u"?this.configurationService.getValue():this.configurationService.getValue(At)}};mr=ms([us(0,ke.Ui)],mr);let Lr=class{constructor(te){this.configurationService=te}getEOL(te,pe){const We=this.configurationService.getValue("files.eol",{overrideIdentifier:pe,resource:te});return We&&"string"==typeof We&&"auto"!==We?We:M.IJ||M.dz?"\n":"\r\n"}};Lr=ms([us(0,ke.Ui)],Lr);let Po=(()=>{class An{constructor(){const pe=we.o.from({scheme:An.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new qe.md({uri:pe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(pe){return pe&&pe.scheme===An.SCHEME?this.workspace.folders[0]:null}}return An.SCHEME="inmemory",An})();function as(An,te,pe){if(!(te&&An instanceof Er))return;const We=[];Object.keys(te).forEach(Et=>{(0,xe.ei)(Et)&&We.push([`editor.${Et}`,te[Et]]),pe&&(0,xe.Pe)(Et)&&We.push([`diffEditor.${Et}`,te[Et]])}),We.length>0&&An.updateValues(We)}let ls=class{constructor(te){this._modelService=te}hasPreviewHandler(){return!1}apply(te,pe){return gr(this,void 0,void 0,function*(){const We=new Map;for(const rn of te){if(!(rn instanceof Ee.Gl))throw new Error("bad edit - only text edits are supported");const wn=this._modelService.getModel(rn.resource);if(!wn)throw new Error("bad edit - model not found");if("number"==typeof rn.versionId&&wn.getVersionId()!==rn.versionId)throw new Error("bad state - model changed in the meantime");let oi=We.get(wn);oi||(oi=[],We.set(wn,oi)),oi.push(Ne.h.replaceMove(Se.e.lift(rn.textEdit.range),rn.textEdit.text))}let Et=0,At=0;for(const[rn,wn]of We)rn.pushStackElement(),rn.pushEditOperations([],wn,()=>[]),rn.pushStackElement(),At+=1,Et+=wn.length;return{ariaSummary:W.WU(Qe.iN.bulkEditServiceSummary,Et,At)}})}};ls=ms([us(0,Ie.q)],ls);let hs=class extends Gn{constructor(te,pe){super(te),this._codeEditorService=pe}showContextView(te,pe,We){if(!pe){const Et=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Et&&(pe=Et.getContainerDomNode())}return super.showContextView(te,pe,We)}};hs=ms([us(0,v.F),us(1,T.$)],hs);let sa=class extends Wi{constructor(te,pe,We,Et,At){super(te,pe,We,Et,At),this.configure({blockMouse:!1})}};var Ks;sa=ms([us(0,st.b),us(1,g.lT),us(2,_t.u),us(3,$e.d),us(4,ii.XE)],sa),(0,C.z)(ke.Ui,Er),(0,C.z)(Me.V,mr),(0,C.z)(Me.y,Lr),(0,C.z)(qe.ec,Po),(0,C.z)(Pe.e,class vs{getUriLabel(te,pe){return"file"===te.scheme?te.fsPath:te.path}getUriBasenameLabel(te){return(0,et.EZ)(te)}}),(0,C.z)(st.b,class lo{publicLog(te,pe){return Promise.resolve(void 0)}publicLog2(te,pe){return this.publicLog(te,pe)}}),(0,C.z)(u.S,class As{confirm(te){return this.doConfirm(te).then(pe=>({confirmed:pe,checkboxChecked:!1}))}doConfirm(te){let pe=te.message;return te.detail&&(pe=pe+"\n\n"+te.detail),Promise.resolve(window.confirm(pe))}show(te,pe,We,Et){return Promise.resolve({choice:0})}}),(0,C.z)(g.lT,Gi),(0,C.z)(dn.lT,Ms),(0,C.z)(Wn.O,class Qs extends ci.T{constructor(){super()}}),(0,C.z)(Rt.Z,fi.nI),(0,C.z)(vt.VZ,class Rr extends vt.$V{constructor(){super(new vt.kw)}}),(0,C.z)(Ie.q,Ht.b$),(0,C.z)(Pt.i,ut),(0,C.z)(ze.i6,Ds),(0,C.z)(dt.R9,class Zs{withProgress(te,pe,We){return pe({report:()=>{}})}}),(0,C.z)(dt.ek,jr),(0,C.z)(en.Uy,en.vm),(0,C.z)(un.p,Rn.eu),(0,C.z)(Ee.vu,ls),(0,C.z)(mt.Y,class Ps{constructor(){this._neverEmitter=new S.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,C.z)(me.S,Ur),(0,C.z)(Hn.F,it),(0,C.z)(bi.Lw,bi.XN),(0,C.z)(de.Hy,dr),(0,C.z)($e.d,tr),(0,C.z)(R.eJ,Kn),(0,C.z)(_t.u,hs),(0,C.z)(Io.v4,kt),(0,C.z)(pi.p,gi),(0,C.z)(_t.i,sa),(0,C.z)(It.co,rt),function(An){const te=new Dr.y;for(const[rn,wn]of(0,C.d)())te.set(rn,wn);const pe=new fr(te,!0);te.set(ce.TG,pe),An.get=function We(rn){const wn=te.get(rn);if(!wn)throw new Error("Missing service "+rn);return wn instanceof Vs.M?pe.invokeFunction(oi=>oi.get(rn)):wn};let Et=!1;An.initialize=function At(rn){if(Et)return pe;Et=!0;for(const[wn,oi]of(0,C.d)())te.get(wn)||te.set(wn,oi);for(const wn in rn)if(rn.hasOwnProperty(wn)){const oi=(0,ce.yh)(wn);te.get(oi)instanceof Vs.M&&te.set(oi,rn[wn])}return pe}}(Ks||(Ks={}))},49949:(Dt,Y,e)=>{"use strict";e.d(Y,{kR:()=>ne,MU:()=>N,nI:()=>xe,rW:()=>U,TG:()=>K});var d=e(98463),n=e(37428),l=e(69355),S=e(3778),v=e(45337),T=e(1465);class C{constructor(oe,Se,Ie,me,Me){this._parsedThemeRuleBrand=void 0,this.token=oe,this.index=Se,this.fontStyle=Ie,this.foreground=me,this.background=Me}}const _=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class s{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(oe){if(null===oe)return 0;const Se=oe.match(_);if(!Se)throw new Error("Illegal value for token color: "+oe);oe=Se[1].toUpperCase();let Ie=this._color2id.get(oe);return Ie||(Ie=++this._lastColorId,this._color2id.set(oe,Ie),this._id2color[Ie]=l.Il.fromHex("#"+oe),Ie)}getColorMap(){return this._id2color.slice(0)}}class m{constructor(oe,Se){this._colorMap=oe,this._root=Se,this._cache=new Map}static createFromRawTokenTheme(oe,Se){return this.createFromParsedTokenTheme(function E(Ne){if(!Ne||!Array.isArray(Ne))return[];const oe=[];let Se=0;for(let Ie=0,me=Ne.length;Ie<me;Ie++){const Me=Ne[Ie];let de=-1;if("string"==typeof Me.fontStyle){de=0;const ze=Me.fontStyle.split(" ");for(let ce=0,Ve=ze.length;ce<Ve;ce++)switch(ze[ce]){case"italic":de|=1;break;case"bold":de|=2;break;case"underline":de|=4;break;case"strikethrough":de|=8}}let ke=null;"string"==typeof Me.foreground&&(ke=Me.foreground);let Ue=null;"string"==typeof Me.background&&(Ue=Me.background),oe[Se++]=new C(Me.token||"",Ie,de,ke,Ue)}return oe}(oe),Se)}static createFromParsedTokenTheme(oe,Se){return function L(Ne,oe){Ne.sort((ce,Ve)=>{const tt=function a(Ne,oe){return Ne<oe?-1:Ne>oe?1:0}(ce.token,Ve.token);return 0!==tt?tt:ce.index-Ve.index});let Se=0,Ie="000000",me="ffffff";for(;Ne.length>=1&&""===Ne[0].token;){const ce=Ne.shift();-1!==ce.fontStyle&&(Se=ce.fontStyle),null!==ce.foreground&&(Ie=ce.foreground),null!==ce.background&&(me=ce.background)}const Me=new s;for(const ce of oe)Me.getId(ce);const de=Me.getId(Ie),ke=Me.getId(me),Ue=new p(Se,de,ke),ze=new u(Ue);for(let ce=0,Ve=Ne.length;ce<Ve;ce++){const tt=Ne[ce];ze.insert(tt.token,tt.fontStyle,Me.getId(tt.foreground),Me.getId(tt.background))}return new m(Me,ze)}(oe,Se)}getColorMap(){return this._colorMap.getColorMap()}_match(oe){return this._root.match(oe)}match(oe,Se){let Ie=this._cache.get(Se);if(typeof Ie>"u"){const me=this._match(Se),Me=function t(Ne){const oe=Ne.match(c);if(!oe)return 0;switch(oe[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(Se);Ie=(me.metadata|Me<<8)>>>0,this._cache.set(Se,Ie)}return(Ie|oe<<0)>>>0}}const c=/\b(comment|string|regex|regexp)\b/;class p{constructor(oe,Se,Ie){this._themeTrieElementRuleBrand=void 0,this._fontStyle=oe,this._foreground=Se,this._background=Ie,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new p(this._fontStyle,this._foreground,this._background)}acceptOverwrite(oe,Se,Ie){-1!==oe&&(this._fontStyle=oe),0!==Se&&(this._foreground=Se),0!==Ie&&(this._background=Ie),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class u{constructor(oe){this._themeTrieElementBrand=void 0,this._mainRule=oe,this._children=new Map}match(oe){if(""===oe)return this._mainRule;const Se=oe.indexOf(".");let Ie,me;-1===Se?(Ie=oe,me=""):(Ie=oe.substring(0,Se),me=oe.substring(Se+1));const Me=this._children.get(Ie);return typeof Me<"u"?Me.match(me):this._mainRule}insert(oe,Se,Ie,me){if(""===oe)return void this._mainRule.acceptOverwrite(Se,Ie,me);const Me=oe.indexOf(".");let de,ke;-1===Me?(de=oe,ke=""):(de=oe.substring(0,Me),ke=oe.substring(Me+1));let Ue=this._children.get(de);typeof Ue>"u"&&(Ue=new u(this._mainRule.clone()),this._children.set(de,Ue)),Ue.insert(ke,Se,Ie,me)}}var b=e(43944),y=e(4062);const w={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFE",[y.NOs]:"#000000",[y.ES4]:"#E5EBF1",[b.tR]:"#D3D3D3",[b.Ym]:"#939393",[y.Rzx]:"#ADD6FF4D"}},D={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#1E1E1E",[y.NOs]:"#D4D4D4",[y.ES4]:"#3A3D41",[b.tR]:"#404040",[b.Ym]:"#707070",[y.Rzx]:"#ADD6FF26"}},x={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#000000",[y.NOs]:"#FFFFFF",[b.tR]:"#FFFFFF",[b.Ym]:"#FFFFFF"}},P={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFF",[y.NOs]:"#292929",[b.tR]:"#292929",[b.Ym]:"#292929"}};var O=e(4259),V=e(40902),H=e(80142),z=e(18034),k=e(66287);class j{getIcon(oe){const Se=(0,k.Ks)();let Ie=oe.defaults;for(;V.kS.isThemeIcon(Ie);){const me=Se.getIcon(Ie.id);if(!me)return;Ie=me.defaults}return Ie}}const K="vs",U="vs-dark",ne="hc-black",N="hc-light",W=O.B.as(y.IPX.ColorContribution),Z=O.B.as(V.IP.ThemingContribution);class ge{constructor(oe,Se){this.semanticHighlighting=!1,this.themeData=Se;const Ie=Se.base;oe.length>0?(this.id=M(oe)?oe:Ie+" "+oe,this.themeName=oe):(this.id=Ie,this.themeName=Ie),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const oe=new Map;for(const Se in this.themeData.colors)oe.set(Se,l.Il.fromHex(this.themeData.colors[Se]));if(this.themeData.inherit){const Se=we(this.themeData.base);for(const Ie in Se.colors)oe.has(Ie)||oe.set(Ie,l.Il.fromHex(Se.colors[Ie]))}this.colors=oe}return this.colors}getColor(oe,Se){return this.getColors().get(oe)||(!1!==Se?this.getDefault(oe):void 0)}getDefault(oe){let Se=this.defaultColors[oe];return Se||(Se=W.resolveDefaultColor(oe,this),this.defaultColors[oe]=Se,Se)}defines(oe){return Object.prototype.hasOwnProperty.call(this.getColors(),oe)}get type(){switch(this.base){case K:return z.eL.LIGHT;case ne:return z.eL.HIGH_CONTRAST_DARK;case N:return z.eL.HIGH_CONTRAST_LIGHT;default:return z.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let oe=[],Se=[];if(this.themeData.inherit){const Me=we(this.themeData.base);oe=Me.rules,Me.encodedTokensColors&&(Se=Me.encodedTokensColors)}const Ie=this.themeData.colors["editor.foreground"],me=this.themeData.colors["editor.background"];if(Ie||me){const Me={token:""};Ie&&(Me.foreground=Ie),me&&(Me.background=me),oe.push(Me)}oe=oe.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Se=this.themeData.encodedTokensColors),this._tokenTheme=m.createFromRawTokenTheme(oe,Se)}return this._tokenTheme}getTokenStyleMetadata(oe,Se,Ie){const Me=this.tokenTheme._match([oe].concat(Se).join(".")).metadata,de=T.N.getForeground(Me),ke=T.N.getFontStyle(Me);return{foreground:de,italic:Boolean(1&ke),bold:Boolean(2&ke),underline:Boolean(4&ke),strikethrough:Boolean(8&ke)}}}function M(Ne){return Ne===K||Ne===U||Ne===ne||Ne===N}function we(Ne){switch(Ne){case K:return w;case U:return D;case ne:return x;case N:return P}}function Ee(Ne){const oe=we(Ne);return new ge(Ne,oe)}class xe extends H.JT{constructor(){super(),this._onColorThemeChange=this._register(new S.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new S.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new j,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(K,Ee(K)),this._knownThemes.set(U,Ee(U)),this._knownThemes.set(ne,Ee(ne)),this._knownThemes.set(N,Ee(N));const oe=function F(Ne){const oe=new S.Q5,Se=(0,k.Ks)();return Se.onDidChange(()=>oe.fire()),Ne?.onDidProductIconThemeChange(()=>oe.fire()),{onDidChange:oe.event,getCSS(){const Ie=Ne?Ne.getProductIconTheme():new j,me={},Me=ke=>{const Ue=Ie.getIcon(ke);if(!Ue)return;const ze=Ue.font;return ze?(me[ze.id]=ze.definition,`.codicon-${ke.id}:before { content: '${Ue.fontCharacter}'; font-family: ${(0,d._h)(ze.id)}; }`):`.codicon-${ke.id}:before { content: '${Ue.fontCharacter}'; }`},de=[];for(const ke of Se.getIcons()){const Ue=Me(ke);Ue&&de.push(Ue)}for(const ke in me){const Ue=me[ke],ze=Ue.weight?`font-weight: ${Ue.weight};`:"",ce=Ue.style?`font-style: ${Ue.style};`:"",Ve=Ue.src.map(tt=>`${(0,d.wY)(tt.location)} format('${tt.format}')`).join(", ");de.push(`@font-face { src: ${Ve}; font-family: ${(0,d._h)(ke)};${ze}${ce} font-display: block; }`)}return de.join("\n")}}}(this);this._codiconCSS=oe.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(K),this._onOSSchemeChanged(),oe.onDidChange(()=>{this._codiconCSS=oe.getCSS(),this._updateCSS()}),(0,n.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(oe){return d.OO(oe)?this._registerShadowDomContainer(oe):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=d.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),H.JT.None}_registerShadowDomContainer(oe){const Se=d.dS(oe);return Se.className="monaco-colors",Se.textContent=this._allCSS,this._styleElements.push(Se),{dispose:()=>{for(let Ie=0;Ie<this._styleElements.length;Ie++)if(this._styleElements[Ie]===Se)return void this._styleElements.splice(Ie,1)}}}defineTheme(oe,Se){if(!/^[a-z0-9\-]+$/i.test(oe))throw new Error("Illegal theme name!");if(!M(Se.base)&&!M(oe))throw new Error("Illegal theme base!");this._knownThemes.set(oe,new ge(oe,Se)),M(oe)&&this._knownThemes.forEach(Ie=>{Ie.base===oe&&Ie.notifyBaseUpdated()}),this._theme.themeName===oe&&this.setTheme(oe)}getColorTheme(){return this._theme}setColorMapOverride(oe){this._colorMapOverride=oe,this._updateThemeOrColorMap()}setTheme(oe){let Se;Se=this._knownThemes.has(oe)?this._knownThemes.get(oe):this._knownThemes.get(K),this._updateActualTheme(Se)}_updateActualTheme(oe){!oe||this._theme===oe||(this._theme=oe,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const oe=window.matchMedia("(forced-colors: active)").matches;if(oe!==(0,z.c3)(this._theme.type)){let Se;Se=(0,z._T)(this._theme.type)?oe?ne:U:oe?N:K,this._updateActualTheme(this._knownThemes.get(Se))}}}setAutoDetectHighContrast(oe){this._autoDetectHighContrast=oe,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const oe=[],Se={},Ie={addRule:de=>{Se[de]||(oe.push(de),Se[de]=!0)}};Z.getThemingParticipants().forEach(de=>de(this._theme,Ie,this._environment));const me=[];for(const de of W.getColors()){const ke=this._theme.getColor(de.id,!0);ke&&me.push(`${(0,y.QO2)(de.id)}: ${ke.toString()};`)}Ie.addRule(`.monaco-editor { ${me.join("\n")} }`);const Me=this._colorMapOverride||this._theme.tokenTheme.getColorMap();Ie.addRule(function g(Ne){const oe=[];for(let Se=1,Ie=Ne.length;Se<Ie;Se++)oe[Se]=`.mtk${Se} { color: ${Ne[Se]}; }`;return oe.push(".mtki { font-style: italic; }"),oe.push(".mtkb { font-weight: bold; }"),oe.push(".mtku { text-decoration: underline; text-underline-position: under; }"),oe.push(".mtks { text-decoration: line-through; }"),oe.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),oe.join("\n")}(Me)),this._themeCSS=oe.join("\n"),this._updateCSS(),v.RW.setColorMap(Me),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(oe=>oe.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},78746:(Dt,Y,e)=>{"use strict";e.r(Y);var d=e(26845),n=e(55503),l=e(74982),S=e(18034),v=e(49949);(0,d.Qr)(class T extends d.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:l.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(E,L){const _=E.get(n.Z),s=_.getColorTheme();(0,S.c3)(s.type)?(_.setTheme(this._originalThemeName||((0,S._T)(s.type)?v.rW:v.TG)),this._originalThemeName=null):(_.setTheme((0,S._T)(s.type)?v.kR:v.MU),this._originalThemeName=s.themeName)}})},55503:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>n});const n=(0,e(9265).yh)("themeService")},811:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{JsxEmit:()=>m,ModuleKind:()=>s,ModuleResolutionKind:()=>a,NewLineKind:()=>c,ScriptTarget:()=>t,getJavaScriptWorker:()=>w,getTypeScriptWorker:()=>y,javascriptDefaults:()=>b,typescriptDefaults:()=>g,typescriptVersion:()=>u});var d=e(67519),n=e(89982),l=Object.defineProperty,S=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,T=Object.prototype.hasOwnProperty,C=(x,P,O,V)=>{if(P&&"object"==typeof P||"function"==typeof P)for(let H of v(P))!T.call(x,H)&&H!==O&&l(x,H,{get:()=>P[H],enumerable:!(V=S(P,H))||V.enumerable});return x},_={};C(_,n,"default");var s=(x=>(x[x.None=0]="None",x[x.CommonJS=1]="CommonJS",x[x.AMD=2]="AMD",x[x.UMD=3]="UMD",x[x.System=4]="System",x[x.ES2015=5]="ES2015",x[x.ESNext=99]="ESNext",x))(s||{}),m=(x=>(x[x.None=0]="None",x[x.Preserve=1]="Preserve",x[x.React=2]="React",x[x.ReactNative=3]="ReactNative",x[x.ReactJSX=4]="ReactJSX",x[x.ReactJSXDev=5]="ReactJSXDev",x))(m||{}),c=(x=>(x[x.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",x[x.LineFeed=1]="LineFeed",x))(c||{}),t=(x=>(x[x.ES3=0]="ES3",x[x.ES5=1]="ES5",x[x.ES2015=2]="ES2015",x[x.ES2016=3]="ES2016",x[x.ES2017=4]="ES2017",x[x.ES2018=5]="ES2018",x[x.ES2019=6]="ES2019",x[x.ES2020=7]="ES2020",x[x.ESNext=99]="ESNext",x[x.JSON=100]="JSON",x[x.Latest=99]="Latest",x))(t||{}),a=(x=>(x[x.Classic=1]="Classic",x[x.NodeJs=2]="NodeJs",x))(a||{}),p=class{constructor(P,O,V,H){(0,d.Z)(this,"_onDidChange",new _.Emitter),(0,d.Z)(this,"_onDidExtraLibsChange",new _.Emitter),(0,d.Z)(this,"_extraLibs",void 0),(0,d.Z)(this,"_removedExtraLibs",void 0),(0,d.Z)(this,"_eagerModelSync",void 0),(0,d.Z)(this,"_compilerOptions",void 0),(0,d.Z)(this,"_diagnosticsOptions",void 0),(0,d.Z)(this,"_workerOptions",void 0),(0,d.Z)(this,"_onDidExtraLibsChangeTimeout",void 0),(0,d.Z)(this,"_inlayHintsOptions",void 0),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(P),this.setDiagnosticsOptions(O),this.setWorkerOptions(V),this.setInlayHintsOptions(H),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(P,O){let V;if(V=typeof O>"u"?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:O,this._extraLibs[V]&&this._extraLibs[V].content===P)return{dispose:()=>{}};let H=1;return this._removedExtraLibs[V]&&(H=this._removedExtraLibs[V]+1),this._extraLibs[V]&&(H=this._extraLibs[V].version+1),this._extraLibs[V]={content:P,version:H},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let z=this._extraLibs[V];!z||z.version===H&&(delete this._extraLibs[V],this._removedExtraLibs[V]=H,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(P){for(const O in this._extraLibs)this._removedExtraLibs[O]=this._extraLibs[O].version;if(this._extraLibs=Object.create(null),P&&P.length>0)for(const O of P){const V=O.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let z=1;this._removedExtraLibs[V]&&(z=this._removedExtraLibs[V]+1),this._extraLibs[V]={content:O.content,version:z}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(P){this._compilerOptions=P||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(P){this._diagnosticsOptions=P||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(P){this._workerOptions=P||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(P){this._inlayHintsOptions=P||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(P){}setEagerModelSync(P){this._eagerModelSync=P}getEagerModelSync(){return this._eagerModelSync}},u="4.5.5",g=new p({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),b=new p({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),y=()=>D().then(x=>x.getTypeScriptWorker()),w=()=>D().then(x=>x.getJavaScriptWorker());function D(){return e.e(345).then(e.bind(e,78345))}_.languages.typescript={ModuleKind:s,JsxEmit:m,NewLineKind:c,ScriptTarget:t,ModuleResolutionKind:a,typescriptVersion:u,typescriptDefaults:g,javascriptDefaults:b,getTypeScriptWorker:y,getJavaScriptWorker:w},_.languages.onLanguage("typescript",()=>D().then(x=>x.setupTypeScript(g))),_.languages.onLanguage("javascript",()=>D().then(x=>x.setupJavaScript(b)))},55197:(Dt,Y,e)=>{"use strict";e.d(Y,{NC:()=>L,aj:()=>_});let n=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function L(t,a,...p){return function S(t,a){let p;return p=0===a.length?t:t.replace(/\{(\d+)\}/g,(u,g)=>{const y=a[g[0]];let w=u;return"string"==typeof y?w=y:("number"==typeof y||"boolean"==typeof y||null==y)&&(w=String(y)),w}),n&&(p="\uff3b"+p.replace(/[aouei]/g,"$&$&")+"\uff3d"),p}(a,p)}function _(t){}},64280:(Dt,Y,e)=>{"use strict";e.d(Y,{F:()=>l,U:()=>S});var d=e(16468);const l=(0,e(9265).yh)("accessibilityService"),S=new d.uy("accessibilityModeEnabled",!1)},38516:(Dt,Y,e)=>{"use strict";e.d(Y,{Mm:()=>xe,Id:()=>Se,vr:()=>M});var d=e(98463),n=e(41140),l=e(34872),S=e(21040),v=e(827),T=e(11719),C=e(80142),E=e(8841),L=e(57856),_=e.n(L),s=e(38470),m=e.n(s),c=e(43370),t=e.n(c),a=e(28458),p=e.n(a),u=e(71278),g=e.n(u),b=e(29488),y=e.n(b),w=e(45355),D={};D.styleTagTransform=y(),D.setAttributes=p(),D.insert=t().bind(null,"head"),D.domAPI=m(),D.insertStyleElement=g(),_()(w.Z,D);var O=e(55197),V=e(74918),H=e(16468),z=e(50703),k=e(9265),F=e(14759),j=e(54436),K=e(48190),U=e(40902),ne=e(18034),N=e(72715),W=function(Ie,me,Me,de){var ze,ke=arguments.length,Ue=ke<3?me:null===de?de=Object.getOwnPropertyDescriptor(me,Me):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(Ie,me,Me,de);else for(var ce=Ie.length-1;ce>=0;ce--)(ze=Ie[ce])&&(Ue=(ke<3?ze(Ue):ke>3?ze(me,Me,Ue):ze(me,Me))||Ue);return ke>3&&Ue&&Object.defineProperty(me,Me,Ue),Ue},Z=function(Ie,me){return function(Me,de){me(Me,de,Ie)}},ge=function(Ie,me,Me,de){return new(Me||(Me=Promise))(function(Ue,ze){function ce(Ct){try{tt(de.next(Ct))}catch(Lt){ze(Lt)}}function Ve(Ct){try{tt(de.throw(Ct))}catch(Lt){ze(Lt)}}function tt(Ct){Ct.done?Ue(Ct.value):function ke(Ue){return Ue instanceof Me?Ue:new Me(function(ze){ze(Ue)})}(Ct.value).then(ce,Ve)}tt((de=de.apply(Ie,me||[])).next())})};function M(Ie,me,Me,de,ke,Ue,ze){const ce=Ie.getActions(me);return function Ee(Ie,me,Me,de=(ce=>"navigation"===ce),ke=Number.MAX_SAFE_INTEGER,Ue=(()=>!1),ze=!1){let ce,Ve;Array.isArray(me)?(ce=me,Ve=me):(ce=me.primary,Ve=me.secondary);const tt=new Set;for(const[Ct,Lt]of Ie){let $e;de(Ct)?($e=ce,$e.length>0&&ze&&$e.push(new v.Z0)):($e=Ve,$e.length>0&&$e.push(new v.Z0));for(let ae of Lt){Me&&(ae=ae instanceof V.U8&&ae.alt?ae.alt:ae);const ve=$e.push(ae);ae instanceof v.wY&&tt.add({group:Ct,action:ae,index:ve-1})}}for(const{group:Ct,action:Lt,index:$e}of tt){const ae=de(Ct)?ce:Ve,ve=Lt.actions;(ve.length<=1||ae.length+ve.length-2<=ke)&&Ue(Lt,Ct,ae.length)&&ae.splice($e,1,...ve)}if(ce!==Ve&&ce.length>ke){const Ct=ce.splice(ke,ce.length-ke);Ve.unshift(...Ct,new v.Z0)}}(ce,Me,!1,"string"==typeof de?tt=>tt===de:de,ke,Ue,ze),function we(Ie){const me=new C.SL;for(const[,Me]of Ie)for(const de of Me)me.add(de);return me}(ce)}let xe=class extends l.g{constructor(me,Me,de,ke,Ue,ze,ce){super(void 0,me,{icon:!(!me.class&&!me.item.icon),label:!me.class&&!me.item.icon,draggable:Me?.draggable,keybinding:Me?.keybinding,hoverDelegate:Me?.hoverDelegate}),this._keybindingService=de,this._notificationService=ke,this._contextKeyService=Ue,this._themeService=ze,this._contextMenuService=ce,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new C.XK),this._altKey=d._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(me){return ge(this,void 0,void 0,function*(){me.preventDefault(),me.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Me){this._notificationService.error(Me)}})}render(me){super.render(me),me.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let Me=!1,de=this._altKey.keyStatus.altKey||(E.ED||E.IJ)&&this._altKey.keyStatus.shiftKey;const ke=()=>{var Ue;const ze=Me&&de&&!(null===(Ue=this._commandAction.alt)||void 0===Ue||!Ue.enabled);ze!==this._wantsAltCommand&&(this._wantsAltCommand=ze,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(Ue=>{de=Ue.altKey||(E.ED||E.IJ)&&Ue.shiftKey,ke()})),this._register((0,d.nm)(me,"mouseleave",Ue=>{Me=!1,ke()})),this._register((0,d.nm)(me,"mouseenter",Ue=>{Me=!0,ke()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var me;const Me=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),de=Me&&Me.getLabel(),ke=this._commandAction.tooltip||this._commandAction.label;let Ue=de?(0,O.NC)("titleAndKb","{0} ({1})",ke,de):ke;if(!this._wantsAltCommand&&(null===(me=this._menuItemAction.alt)||void 0===me?void 0:me.enabled)){const ze=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,ce=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Ve=ce&&ce.getLabel(),tt=Ve?(0,O.NC)("titleAndKb","{0} ({1})",ze,Ve):ze;Ue=(0,O.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",Ue,T.xo.modifierLabels[E.OS].altKey,tt)}return Ue}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(me){var Me;this._itemClassDispose.value=void 0;const{element:de,label:ke}=this;if(!de||!ke)return;const Ue=this._commandAction.checked&&(null===(Me=me.toggled)||void 0===Me?void 0:Me.icon)?me.toggled.icon:me.icon;if(Ue)if(U.kS.isThemeIcon(Ue)){const ze=U.kS.asClassNameArray(Ue);ke.classList.add(...ze),this._itemClassDispose.value=(0,C.OF)(()=>{ke.classList.remove(...ze)})}else ke.style.backgroundImage=(0,ne._T)(this._themeService.getColorTheme().type)?(0,d.wY)(Ue.dark):(0,d.wY)(Ue.light),ke.classList.add("icon"),this._itemClassDispose.value=(0,C.F8)((0,C.OF)(()=>{ke.style.backgroundImage="",ke.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};xe=W([Z(2,F.d),Z(3,j.lT),Z(4,H.i6),Z(5,U.XE),Z(6,z.i)],xe);let Ne=class extends S.C{constructor(me,Me,de,ke){var Ue,ze;const ce=Object.assign({},Me??Object.create(null),{menuAsChild:null!==(Ue=Me?.menuAsChild)&&void 0!==Ue&&Ue,classNames:null!==(ze=Me?.classNames)&&void 0!==ze?ze:U.kS.isThemeIcon(me.item.icon)?U.kS.asClassName(me.item.icon):void 0});super(me,{getActions:()=>me.actions},de,ce),this._contextMenuService=de,this._themeService=ke}render(me){super.render(me),(0,N.p_)(this.element),me.classList.add("menu-entry");const Me=this._action,{icon:de}=Me.item;if(de&&!U.kS.isThemeIcon(de)){this.element.classList.add("icon");const ke=()=>{this.element&&(this.element.style.backgroundImage=(0,ne._T)(this._themeService.getColorTheme().type)?(0,d.wY)(de.dark):(0,d.wY)(de.light))};ke(),this._register(this._themeService.onDidColorThemeChange(()=>{ke()}))}}};Ne=W([Z(2,z.i),Z(3,U.XE)],Ne);let oe=class extends l.Y{constructor(me,Me,de,ke,Ue,ze,ce,Ve){var tt,Ct,Lt;let $e;super(null,me),this._keybindingService=de,this._notificationService=ke,this._contextMenuService=Ue,this._menuService=ze,this._instaService=ce,this._storageService=Ve,this._container=null,this._options=Me,this._storageKey=`${me.item.submenu.id}_lastActionId`;const ae=Ve.get(this._storageKey,1);ae&&($e=me.actions.find(he=>ae===he.id)),$e||($e=me.actions[0]),this._defaultAction=this._instaService.createInstance(xe,$e,{keybinding:this._getDefaultActionKeybindingLabel($e)});const ve=Object.assign({},Me??Object.create(null),{menuAsChild:null===(tt=Me?.menuAsChild)||void 0===tt||tt,classNames:null!==(Ct=Me?.classNames)&&void 0!==Ct?Ct:["codicon","codicon-chevron-down"],actionRunner:null!==(Lt=Me?.actionRunner)&&void 0!==Lt?Lt:new v.Wi});this._dropdown=new S.C(me,me.actions,this._contextMenuService,ve),this._dropdown.actionRunner.onDidRun(he=>{he.action instanceof V.U8&&this.update(he.action)})}update(me){this._storageService.store(this._storageKey,me.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(xe,me,{keybinding:this._getDefaultActionKeybindingLabel(me)}),this._defaultAction.actionRunner=new class extends v.Wi{runAction(Me,de){return ge(this,void 0,void 0,function*(){yield Me.run(void 0)})}},this._container&&this._defaultAction.render((0,d.Ce)(this._container,(0,d.$)(".action-container")))}_getDefaultActionKeybindingLabel(me){var Me;let de;if(null!==(Me=this._options)&&void 0!==Me&&Me.renderKeybindingWithDefaultActionLabel){const ke=this._keybindingService.lookupKeybinding(me.id);ke&&(de=`(${ke.getLabel()})`)}return de}setActionContext(me){super.setActionContext(me),this._defaultAction.setActionContext(me),this._dropdown.setActionContext(me)}render(me){this._container=me,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Me=(0,d.$)(".action-container");this._defaultAction.render((0,d.R3)(this._container,Me)),this._register((0,d.nm)(Me,d.tw.KEY_DOWN,ke=>{const Ue=new n.y(ke);Ue.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),Ue.stopPropagation())}));const de=(0,d.$)(".dropdown-action-container");this._dropdown.render((0,d.R3)(this._container,de)),this._register((0,d.nm)(de,d.tw.KEY_DOWN,ke=>{var Ue;const ze=new n.y(ke);ze.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(Ue=this._defaultAction.element)||void 0===Ue||Ue.focus(),ze.stopPropagation())}))}focus(me){me?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(me){me?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function Se(Ie,me,Me){return me instanceof V.U8?Ie.createInstance(xe,me,Me):me instanceof V.NZ?Ie.createInstance(me.item.rememberDefaultAction?oe:Ne,me,Me):void 0}oe=W([Z(2,F.d),Z(3,j.lT),Z(4,z.i),Z(5,V.co),Z(6,k.TG),Z(7,K.Uy)],oe)},74918:(Dt,Y,e)=>{"use strict";e.d(Y,{BH:()=>p,NZ:()=>u,U8:()=>g,co:()=>a,eH:()=>t,vr:()=>c});var d=e(827),n=e(58783),l=e(3778),S=e(1999),v=e(80142),T=e(85739),C=e(66549),E=e(16468),L=e(9265),_=e(40902),m=function(b,y){return function(w,D){y(w,D,b)}};function c(b){return void 0!==b.command}class t{constructor(y){if(t._instances.has(y))throw new TypeError(`MenuId with identifier '${y}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(y,this),this.id=y}}t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.MenubarPanelAlignmentMenu=new t("MenubarPanelAlignmentMenu"),t.MenubarPanelPositionMenu=new t("MenubarPanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalInlineTabContext=new t("TerminalInlineTabContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),t.MergeToolbar=new t("MergeToolbar"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar");const a=(0,L.yh)("menuService"),p=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new l.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:b=>b===t.CommandPalette}}addCommand(b){return this.addCommands(S.$.single(b))}addCommands(b){for(const y of b)this._commands.set(y.id,y);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,v.OF)(()=>{let y=!1;for(const w of b)y=this._commands.delete(w.id)||y;y&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(b){return this._commands.get(b)}getCommands(){const b=new Map;return this._commands.forEach((y,w)=>b.set(w,y)),b}appendMenuItem(b,y){return this.appendMenuItems(S.$.single({id:b,item:y}))}appendMenuItems(b){const y=new Set,w=new T.S;for(const{id:D,item:x}of b){let P=this._menuItems.get(D);P||(P=new T.S,this._menuItems.set(D,P)),w.push(P.push(x)),y.add(D)}return this._onDidChangeMenu.fire(y),(0,v.OF)(()=>{if(w.size>0){for(const D of w)D();this._onDidChangeMenu.fire(y),w.clear()}})}getMenuItems(b){let y;return y=this._menuItems.has(b)?[...this._menuItems.get(b)]:[],b===t.CommandPalette&&this._appendImplicitItems(y),y}_appendImplicitItems(b){const y=new Set;for(const w of b)c(w)&&(y.add(w.command.id),w.alt&&y.add(w.alt.id));this._commands.forEach((w,D)=>{y.has(D)||b.push({command:w})})}};class u extends d.wY{constructor(y,w,D,x){super(`submenuitem.${y.submenu.id}`,"string"==typeof y.title?y.title:y.title.value,[],"submenu"),this.item=y,this._menuService=w,this._contextKeyService=D,this._options=x}get actions(){const y=[],w=this._menuService.createMenu(this.item.submenu,this._contextKeyService),D=w.getActions(this._options);w.dispose();for(const[,x]of D)x.length>0&&(y.push(...x),y.push(new d.Z0));return y.length&&y.pop(),y}}let g=class Fc{constructor(y,w,D,x,P,O){var V,H;if(this.hideActions=x,this._commandService=O,this.id=y.id,this.label=D?.renderShortTitle&&y.shortTitle?"string"==typeof y.shortTitle?y.shortTitle:y.shortTitle.value:"string"==typeof y.title?y.title:y.title.value,this.tooltip=null!==(H="string"==typeof y.tooltip?y.tooltip:null===(V=y.tooltip)||void 0===V?void 0:V.value)&&void 0!==H?H:"",this.enabled=!y.precondition||P.contextMatchesRules(y.precondition),this.checked=void 0,y.toggled){const z=y.toggled.condition?y.toggled:{condition:y.toggled};this.checked=P.contextMatchesRules(z.condition),this.checked&&z.tooltip&&(this.tooltip="string"==typeof z.tooltip?z.tooltip:z.tooltip.value),z.title&&(this.label="string"==typeof z.title?z.title:z.title.value)}this.item=y,this.alt=w?new Fc(w,void 0,D,x,P,O):void 0,this._options=D,_.kS.isThemeIcon(y.icon)&&(this.class=n.dT.asClassName(y.icon))}dispose(){}run(...y){var w,D;let x=[];return!(null===(w=this._options)||void 0===w)&&w.arg&&(x=[...x,this._options.arg]),!(null===(D=this._options)||void 0===D)&&D.shouldForwardArgs&&(x=[...x,...y]),this._commandService.executeCommand(this.id,...x)}};g=function(b,y,w,D){var O,x=arguments.length,P=x<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,w):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,w,D);else for(var V=b.length-1;V>=0;V--)(O=b[V])&&(P=(x<3?O(P):x>3?O(y,w,P):O(y,w))||P);return x>3&&P&&Object.defineProperty(y,w,P),P}([m(4,E.i6),m(5,C.Hy)],g)},25787:(Dt,Y,e)=>{"use strict";e.d(Y,{p:()=>n});const n=(0,e(9265).yh)("clipboardService")},66549:(Dt,Y,e)=>{"use strict";e.d(Y,{Hy:()=>C,P0:()=>E});var d=e(3778),n=e(1999),l=e(80142),S=e(85739),v=e(72715);const C=(0,e(9265).yh)("commandService"),E=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new d.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,s){if(!_)throw new Error("invalid command");if("string"==typeof _){if(!s)throw new Error("invalid command");return this.registerCommand({id:_,handler:s})}if(_.description){const p=[];for(const g of _.description.args)p.push(g.constraint);const u=_.handler;_.handler=function(g,...b){return(0,v.D8)(b,p),u(g,...b)}}const{id:m}=_;let c=this._commands.get(m);c||(c=new S.S,this._commands.set(m,c));const t=c.unshift(_),a=(0,l.OF)(()=>{t(),this._commands.get(m)?.isEmpty()&&this._commands.delete(m)});return this._onDidRegisterCommand.fire(m),a}registerCommandAlias(_,s){return E.registerCommand(_,(m,...c)=>m.get(C).executeCommand(s,...c))}getCommand(_){const s=this._commands.get(_);if(s&&!s.isEmpty())return n.$.first(s)}getCommands(){const _=new Map;for(const s of this._commands.keys()){const m=this.getCommand(s);m&&_.set(s,m)}return _}};E.registerCommand("noop",()=>{})},94667:(Dt,Y,e)=>{"use strict";e.d(Y,{KV:()=>S,Mt:()=>C,Od:()=>l,UI:()=>E,Ui:()=>n,xL:()=>v});const n=(0,e(9265).yh)("configurationService");function l(L,_){const s=Object.create(null);for(const m in L)S(s,m,L[m],_);return s}function S(L,_,s,m){const c=_.split("."),t=c.pop();let a=L;for(let p=0;p<c.length;p++){const u=c[p];let g=a[u];switch(typeof g){case"undefined":g=a[u]=Object.create(null);break;case"object":break;default:return void m(`Ignoring ${_} as ${c.slice(0,p+1).join(".")} is ${JSON.stringify(g)}`)}a=g}if("object"==typeof a&&null!==a)try{a[t]=s}catch{m(`Ignoring ${_} as ${c.join(".")} is ${JSON.stringify(a)}`)}else m(`Ignoring ${_} as ${c.join(".")} is ${JSON.stringify(a)}`)}function v(L,_){T(L,_.split("."))}function T(L,_){const s=_.shift();if(0!==_.length){if(-1!==Object.keys(L).indexOf(s)){const m=L[s];"object"==typeof m&&!Array.isArray(m)&&(T(m,_),0===Object.keys(m).length&&delete L[s])}}else delete L[s]}function C(L,_,s){const t=function m(a,p){let u=a;for(const g of p){if("object"!=typeof u||null===u)return;u=u[g]}return u}(L,_.split("."));return typeof t>"u"?s:t}function E(L){return L.replace(/[\[\]]/g,"")}},15945:(Dt,Y,e)=>{"use strict";e.d(Y,{VK:()=>E,VV:()=>C,YX:()=>L});var d=e(64023),n=e(5067),l=e(6276),S=e(72715),v=e(59547),T=e(94667);class C{constructor(s={},m=[],c=[]){this._contents=s,this._keys=m,this._overrides=c,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(s){return s?(0,T.Mt)(this.contents,s):this.contents}getOverrideValue(s,m){const c=this.getContentsForOverrideIdentifer(m);return c?s?(0,T.Mt)(c,s):c:void 0}override(s){let m=this.overrideConfigurations.get(s);return m||(m=this.createOverrideConfigurationModel(s),this.overrideConfigurations.set(s,m)),m}merge(...s){const m=l.I8(this.contents),c=l.I8(this.overrides),t=[...this.keys];for(const a of s)if(!a.isEmpty()){this.mergeContents(m,a.contents);for(const p of a.overrides){const[u]=c.filter(g=>d.fS(g.identifiers,p.identifiers));u?(this.mergeContents(u.contents,p.contents),u.keys.push(...p.keys),u.keys=d.EB(u.keys)):c.push(l.I8(p))}for(const p of a.keys)-1===t.indexOf(p)&&t.push(p)}return new C(m,t,c)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(s){const m=this.getContentsForOverrideIdentifer(s);if(!m||"object"!=typeof m||!Object.keys(m).length)return this;const c={};for(const t of d.EB([...Object.keys(this.contents),...Object.keys(m)])){let a=this.contents[t];const p=m[t];p&&("object"==typeof a&&"object"==typeof p?(a=l.I8(a),this.mergeContents(a,p)):a=p),c[t]=a}return new C(c,this.keys,this.overrides)}mergeContents(s,m){for(const c of Object.keys(m))c in s&&S.Kn(s[c])&&S.Kn(m[c])?this.mergeContents(s[c],m[c]):s[c]=l.I8(m[c])}checkAndFreeze(s){return this.frozen&&!Object.isFrozen(s)?l._A(s):s}getContentsForOverrideIdentifer(s){let m=null,c=null;const t=a=>{a&&(c?this.mergeContents(c,a):c=l.I8(a))};for(const a of this.overrides)d.fS(a.identifiers,[s])?m=a.contents:a.identifiers.includes(s)&&t(a.contents);return t(m),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(s,m){this.addKey(s),(0,T.KV)(this.contents,s,m,c=>{throw new Error(c)})}removeValue(s){this.removeKey(s)&&(0,T.xL)(this.contents,s)}addKey(s){let m=this.keys.length;for(let c=0;c<m;c++)0===s.indexOf(this.keys[c])&&(m=c);this.keys.splice(m,1,s)}removeKey(s){const m=this.keys.indexOf(s);return-1!==m&&(this.keys.splice(m,1),!0)}}class E{constructor(s,m,c,t,a=new C,p=new C,u=new n.Y9,g=new C,b=new n.Y9,y=!0){this._defaultConfiguration=s,this._policyConfiguration=m,this._applicationConfiguration=c,this._localUserConfiguration=t,this._remoteUserConfiguration=a,this._workspaceConfiguration=p,this._folderConfigurations=u,this._memoryConfiguration=g,this._memoryConfigurationByResource=b,this._freeze=y,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new n.Y9,this._userConfiguration=null}getValue(s,m,c){return this.getConsolidatedConfigurationModel(s,m,c).getValue(s)}updateValue(s,m,c={}){let t;c.resource?(t=this._memoryConfigurationByResource.get(c.resource),t||(t=new C,this._memoryConfigurationByResource.set(c.resource,t))):t=this._memoryConfiguration,void 0===m?t.removeValue(s):t.setValue(s,m),c.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(s,m,c){const t=this.getConsolidatedConfigurationModel(s,m,c),a=this.getFolderConfigurationModelForResource(m.resource,c),p=m.resource&&this._memoryConfigurationByResource.get(m.resource)||this._memoryConfiguration,u=m.overrideIdentifier?this._defaultConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this._defaultConfiguration.freeze().getValue(s),g=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(s),b=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(s),y=m.overrideIdentifier?this.userConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this.userConfiguration.freeze().getValue(s),w=m.overrideIdentifier?this.localUserConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this.localUserConfiguration.freeze().getValue(s),D=m.overrideIdentifier?this.remoteUserConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this.remoteUserConfiguration.freeze().getValue(s),x=c?m.overrideIdentifier?this._workspaceConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this._workspaceConfiguration.freeze().getValue(s):void 0,P=a?m.overrideIdentifier?a.freeze().override(m.overrideIdentifier).getValue(s):a.freeze().getValue(s):void 0,O=m.overrideIdentifier?p.override(m.overrideIdentifier).getValue(s):p.getValue(s),V=t.getValue(s),H=d.EB(t.overrides.map(z=>z.identifiers).flat()).filter(z=>void 0!==t.getOverrideValue(s,z));return{defaultValue:u,policyValue:g,applicationValue:b,userValue:y,userLocalValue:w,userRemoteValue:D,workspaceValue:x,workspaceFolderValue:P,memoryValue:O,value:V,default:void 0!==u?{value:this._defaultConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,policy:void 0!==g?{value:g}:void 0,application:void 0!==b?{value:b,override:m.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,user:void 0!==y?{value:this.userConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,userLocal:void 0!==w?{value:this.localUserConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,userRemote:void 0!==D?{value:this.remoteUserConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,workspace:void 0!==x?{value:this._workspaceConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==P?{value:a?.freeze().getValue(s),override:m.overrideIdentifier?a?.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,memory:void 0!==O?{value:p.getValue(s),override:m.overrideIdentifier?p.getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,overrideIdentifiers:H.length?H:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(s,m,c){let t=this.getConsolidatedConfigurationModelForResource(m,c);return m.overrideIdentifier&&(t=t.override(m.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(s)&&(t=t.merge(this._policyConfiguration)),t}getConsolidatedConfigurationModelForResource({resource:s},m){let c=this.getWorkspaceConsolidatedConfiguration();if(m&&s){const t=m.getFolder(s);t&&(c=this.getFolderConsolidatedConfiguration(t.uri)||c);const a=this._memoryConfigurationByResource.get(s);a&&(c=c.merge(a))}return c}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(s){let m=this._foldersConsolidatedConfigurations.get(s);if(!m){const c=this.getWorkspaceConsolidatedConfiguration(),t=this._folderConfigurations.get(s);t?(m=c.merge(t),this._freeze&&(m=m.freeze()),this._foldersConsolidatedConfigurations.set(s,m)):m=c}return m}getFolderConfigurationModelForResource(s,m){if(m&&s){const c=m.getFolder(s);if(c)return this._folderConfigurations.get(c.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((s,m)=>{const{contents:c,overrides:t,keys:a}=this._folderConfigurations.get(m);return s.push([m,{contents:c,overrides:t,keys:a}]),s},[])}}static parse(s){const m=this.parseConfigurationModel(s.defaults),c=this.parseConfigurationModel(s.policy),t=this.parseConfigurationModel(s.application),a=this.parseConfigurationModel(s.user),p=this.parseConfigurationModel(s.workspace),u=s.folders.reduce((g,b)=>(g.set(v.o.revive(b[0]),this.parseConfigurationModel(b[1])),g),new n.Y9);return new E(m,c,t,a,new C,p,u,new C,new n.Y9,!1)}static parseConfigurationModel(s){return new C(s.contents,s.keys,s.overrides).freeze()}}class L{constructor(s,m,c,t){this.change=s,this.previous=m,this.currentConfiguraiton=c,this.currentWorkspace=t,this._previousConfiguration=void 0;const a=new Set;s.keys.forEach(u=>a.add(u)),s.overrides.forEach(([,u])=>u.forEach(g=>a.add(g))),this.affectedKeys=[...a.values()];const p=new C;this.affectedKeys.forEach(u=>p.setValue(u,{})),this.affectedKeysTree=p.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=E.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(s,m){var c;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,s)){if(m){const t=this.previousConfiguration?this.previousConfiguration.getValue(s,m,null===(c=this.previous)||void 0===c?void 0:c.workspace):void 0,a=this.currentConfiguraiton.getValue(s,m,this.currentWorkspace);return!l.fS(t,a)}return!0}return!1}doesAffectedKeysTreeContains(s,m){let t,c=(0,T.Od)({[m]:!0},()=>{});for(;"object"==typeof c&&(t=Object.keys(c)[0]);){if(!(s=s[t]))return!1;c=c[t]}return!0}}},29093:(Dt,Y,e)=>{"use strict";e.d(Y,{IP:()=>E,eU:()=>w,ny:()=>D});var d=e(64023),n=e(3778),l=e(72715),S=e(55197),v=e(94667),T=e(7886),C=e(4259);const E={Configuration:"base.contributions.configuration"},L={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},s={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},c={properties:{},patternProperties:{}},t={properties:{},patternProperties:{}},a="vscode://schemas/settings/resourceLanguage",p=C.B.as(T.I.JSONContribution),g="\\[([^\\]]+)\\]",b=new RegExp(g,"g"),y=`^(${g})+$`,w=new RegExp(y);function D(V){const H=[];if(w.test(V)){let z=b.exec(V);for(;z?.length;){const k=z[1].trim();k&&H.push(k),z=b.exec(V)}}return(0,d.EB)(H)}const P=new class u{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new n.Q5,this._onDidUpdateConfiguration=new n.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:S.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},p.registerSchema(a,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(H,z=!0){this.registerConfigurations([H],z)}registerConfigurations(H,z=!0){const k=this.doRegisterConfigurations(H,z);p.registerSchema(a,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:k})}registerDefaultConfigurations(H){var z;const k=[],F=[];for(const{overrides:j,source:K}of H)for(const U in j)if(k.push(U),w.test(U)){const ne=this.configurationDefaultsOverrides.get(U),N=null!==(z=ne?.valuesSources)&&void 0!==z?z:new Map;if(K)for(const M of Object.keys(j[U]))N.set(M,K);const W=Object.assign(Object.assign({},ne?.value||{}),j[U]);this.configurationDefaultsOverrides.set(U,{source:K,value:W,valuesSources:N});const Z=(0,v.UI)(U),ge={type:"object",default:W,description:S.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Z),$ref:a,defaultDefaultValue:W,source:l.HD(K)?void 0:K,defaultValueSource:K};F.push(...D(U)),this.configurationProperties[U]=ge,this.defaultLanguageConfigurationOverridesNode.properties[U]=ge}else{this.configurationDefaultsOverrides.set(U,{value:j[U],source:K});const ne=this.configurationProperties[U];ne&&(this.updatePropertyDefaultValue(U,ne),this.updateSchema(U,ne))}this.registerOverrideIdentifiers(F),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:k,defaultsOverrides:!0})}registerOverrideIdentifiers(H){for(const z of H)this.overrideIdentifiers.add(z);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(H,z){const k=[];return H.forEach(F=>{k.push(...this.validateAndRegisterProperties(F,z,F.extensionInfo,F.restrictedProperties)),this.configurationContributors.push(F),this.registerJSONConfiguration(F)}),k}validateAndRegisterProperties(H,z=!0,k,F,j=3){var K;j=l.Jp(H.scope)?j:H.scope;const U=[],ne=H.properties;if(ne)for(const W in ne){const Z=ne[W];z&&O(W,Z)?delete ne[W]:(Z.source=k,Z.defaultDefaultValue=ne[W].default,this.updatePropertyDefaultValue(W,Z),w.test(W)?Z.scope=void 0:(Z.scope=l.Jp(Z.scope)?j:Z.scope,Z.restricted=l.Jp(Z.restricted)?!!F?.includes(W):Z.restricted),!ne[W].hasOwnProperty("included")||ne[W].included?(this.configurationProperties[W]=ne[W],null!==(K=ne[W].policy)&&void 0!==K&&K.name&&this.policyConfigurations.set(ne[W].policy.name,W),!ne[W].deprecationMessage&&ne[W].markdownDeprecationMessage&&(ne[W].deprecationMessage=ne[W].markdownDeprecationMessage),U.push(W)):(this.excludedConfigurationProperties[W]=ne[W],delete ne[W]))}const N=H.allOf;if(N)for(const W of N)U.push(...this.validateAndRegisterProperties(W,z,k,F,j));return U}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(H){const z=k=>{const F=k.properties;if(F)for(const K in F)this.updateSchema(K,F[K]);k.allOf?.forEach(z)};z(H)}updateSchema(H,z){switch(L.properties[H]=z,z.scope){case 1:_.properties[H]=z;break;case 2:s.properties[H]=z;break;case 6:m.properties[H]=z;break;case 3:c.properties[H]=z;break;case 4:t.properties[H]=z;break;case 5:t.properties[H]=z,this.resourceLanguageSettingsSchema.properties[H]=z}}updateOverridePropertyPatternKey(){for(const H of this.overrideIdentifiers.values()){const z=`[${H}]`,k={type:"object",description:S.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:S.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};this.updatePropertyDefaultValue(z,k),L.properties[z]=k,_.properties[z]=k,s.properties[z]=k,m.properties[z]=k,c.properties[z]=k,t.properties[z]=k}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const H={type:"object",description:S.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:S.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};L.patternProperties[y]=H,_.patternProperties[y]=H,s.patternProperties[y]=H,m.patternProperties[y]=H,c.patternProperties[y]=H,t.patternProperties[y]=H,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(H,z){const k=this.configurationDefaultsOverrides.get(H);let F=k?.value,j=k?.source;l.o8(F)&&(F=z.defaultDefaultValue,j=void 0),l.o8(F)&&(F=function x(V){switch(Array.isArray(V)?V[0]:V){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(z.type)),z.default=F,z.defaultValueSource=j}};function O(V,H){var z,k,F,j;return V.trim()?w.test(V)?S.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",V):void 0!==P.getConfigurationProperties()[V]?S.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",V):(null===(z=H.policy)||void 0===z?void 0:z.name)&&void 0!==P.getPolicyConfigurations().get(null===(k=H.policy)||void 0===k?void 0:k.name)?S.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",V,null===(F=H.policy)||void 0===F?void 0:F.name,P.getPolicyConfigurations().get(null===(j=H.policy)||void 0===j?void 0:j.name)):null:S.NC("config.property.empty","Cannot register an empty property")}C.B.add(E.Configuration,P)},12084:(Dt,Y,e)=>{"use strict";e.d(Y,{l:()=>v});var d=e(94667),n=e(15945),l=e(29093),S=e(4259);class v extends n.VV{constructor(C={}){const E=S.B.as(l.IP.Configuration).getConfigurationProperties(),L=Object.keys(E),_=Object.create(null),s=[];for(const m in E){const c=C[m];(0,d.KV)(_,m,void 0!==c?c:E[m].default,a=>console.error(`Conflict in default settings: ${a}`))}for(const m of Object.keys(_))l.eU.test(m)&&s.push({identifiers:(0,l.ny)(m),keys:Object.keys(_[m]),contents:(0,d.Od)(_[m],c=>console.error(`Conflict in default settings file: ${c}`))});super(_,L,s)}}},16468:(Dt,Y,e)=>{"use strict";e.d(Y,{Ao:()=>T,Eq:()=>k,Fb:()=>C,K8:()=>K,SI:()=>s,i6:()=>z,uy:()=>H});var d=e(8841),n=e(73879),l=e(9265);const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",d.dz),S.set("isLinux",d.IJ),S.set("isWindows",d.ED),S.set("isWeb",d.$L),S.set("isMacNative",d.dz&&!d.$L),S.set("isEdge",d.un),S.set("isFirefox",d.vU),S.set("isChrome",d.i7),S.set("isSafari",d.G6);const v=Object.prototype.hasOwnProperty;class T{static has(N){return s.create(N)}static equals(N,W){return m.create(N,W)}static regex(N,W){return D.create(N,W)}static not(N){return p.create(N)}static and(...N){return O.create(N,null)}static or(...N){return V.create(N,null,!0)}static deserialize(N,W=!1){if(N)return this._deserializeOrExpression(N,W)}static _deserializeOrExpression(N,W){const Z=N.split("||");return V.create(Z.map(ge=>this._deserializeAndExpression(ge,W)),null,!0)}static _deserializeAndExpression(N,W){const Z=N.split("&&");return O.create(Z.map(ge=>this._deserializeOne(ge,W)),null)}static _deserializeOne(N,W){if((N=N.trim()).indexOf("!=")>=0){const Z=N.split("!=");return a.create(Z[0].trim(),this._deserializeValue(Z[1],W))}if(N.indexOf("==")>=0){const Z=N.split("==");return m.create(Z[0].trim(),this._deserializeValue(Z[1],W))}if(N.indexOf("=~")>=0){const Z=N.split("=~");return D.create(Z[0].trim(),this._deserializeRegexValue(Z[1],W))}if(N.indexOf(" not in ")>=0){const Z=N.split(" not in ");return t.create(Z[0].trim(),Z[1].trim())}if(N.indexOf(" in ")>=0){const Z=N.split(" in ");return c.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(N)){const Z=N.split(">=");return b.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(N)){const Z=N.split(">");return g.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(N)){const Z=N.split("<=");return w.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(N)){const Z=N.split("<");return y.create(Z[0].trim(),Z[1].trim())}return/^\!\s*/.test(N)?p.create(N.substr(1).trim()):s.create(N)}static _deserializeValue(N,W){if("true"===(N=N.trim()))return!0;if("false"===N)return!1;const Z=/^'([^']*)'$/.exec(N);return Z?Z[1].trim():N}static _deserializeRegexValue(N,W){if((0,n.m5)(N)){if(W)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const Z=N.indexOf("/"),ge=N.lastIndexOf("/");if(Z===ge||Z<0){if(W)throw new Error(`bad regexp-value '${N}', missing /-enclosure`);return console.warn(`bad regexp-value '${N}', missing /-enclosure`),null}const M=N.slice(Z+1,ge),we="i"===N[ge+1]?"i":"";try{return new RegExp(M,we)}catch(Ee){if(W)throw new Error(`bad regexp-value '${N}', parse error: ${Ee}`);return console.warn(`bad regexp-value '${N}', parse error: ${Ee}`),null}}}function C(ne,N){const W=ne?ne.substituteConstants():void 0,Z=N?N.substituteConstants():void 0;return!W&&!Z||!(!W||!Z)&&W.equals(Z)}function E(ne,N){return ne.cmp(N)}class L{constructor(){this.type=0}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!1}serialize(){return"false"}keys(){return[]}negate(){return _.INSTANCE}}L.INSTANCE=new L;class _{constructor(){this.type=1}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!0}serialize(){return"true"}keys(){return[]}negate(){return L.INSTANCE}}_.INSTANCE=new _;class s{constructor(N,W){this.key=N,this.negated=W,this.type=2}static create(N,W=null){const Z=S.get(N);return"boolean"==typeof Z?Z?_.INSTANCE:L.INSTANCE:new s(N,W)}cmp(N){return N.type!==this.type?this.type-N.type:F(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?N?_.INSTANCE:L.INSTANCE:this}evaluate(N){return!!N.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this)),this.negated}}class m{constructor(N,W,Z){this.key=N,this.value=W,this.negated=Z,this.type=4}static create(N,W,Z=null){if("boolean"==typeof W)return W?s.create(N,Z):p.create(N,Z);const ge=S.get(N);return"boolean"==typeof ge?W===(ge?"true":"false")?_.INSTANCE:L.INSTANCE:new m(N,W,Z)}cmp(N){return N.type!==this.type?this.type-N.type:j(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?this.value===(N?"true":"false")?_.INSTANCE:L.INSTANCE:this}evaluate(N){return N.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}class c{constructor(N,W){this.key=N,this.valueKey=W,this.type=10,this.negated=null}static create(N,W){return new c(N,W)}cmp(N){return N.type!==this.type?this.type-N.type:j(this.key,this.valueKey,N.key,N.valueKey)}equals(N){return N.type===this.type&&this.key===N.key&&this.valueKey===N.valueKey}substituteConstants(){return this}evaluate(N){const W=N.getValue(this.valueKey),Z=N.getValue(this.key);return Array.isArray(W)?W.includes(Z):"string"==typeof Z&&"object"==typeof W&&null!==W&&v.call(W,Z)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=t.create(this.key,this.valueKey)),this.negated}}class t{constructor(N,W){this.key=N,this.valueKey=W,this.type=11,this._negated=c.create(N,W)}static create(N,W){return new t(N,W)}cmp(N){return N.type!==this.type?this.type-N.type:this._negated.cmp(N._negated)}equals(N){return N.type===this.type&&this._negated.equals(N._negated)}substituteConstants(){return this}evaluate(N){return!this._negated.evaluate(N)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class a{constructor(N,W,Z){this.key=N,this.value=W,this.negated=Z,this.type=5}static create(N,W,Z=null){if("boolean"==typeof W)return W?p.create(N,Z):s.create(N,Z);const ge=S.get(N);return"boolean"==typeof ge?W===(ge?"true":"false")?L.INSTANCE:_.INSTANCE:new a(N,W,Z)}cmp(N){return N.type!==this.type?this.type-N.type:j(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?this.value===(N?"true":"false")?L.INSTANCE:_.INSTANCE:this}evaluate(N){return N.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}class p{constructor(N,W){this.key=N,this.negated=W,this.type=3}static create(N,W=null){const Z=S.get(N);return"boolean"==typeof Z?Z?L.INSTANCE:_.INSTANCE:new p(N,W)}cmp(N){return N.type!==this.type?this.type-N.type:F(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?N?L.INSTANCE:_.INSTANCE:this}evaluate(N){return!N.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this)),this.negated}}function u(ne,N){if("string"==typeof ne){const W=parseFloat(ne);isNaN(W)||(ne=W)}return"string"==typeof ne||"number"==typeof ne?N(ne):L.INSTANCE}class g{constructor(N,W,Z){this.key=N,this.value=W,this.negated=Z,this.type=12}static create(N,W,Z=null){return u(W,ge=>new g(N,ge,Z))}cmp(N){return N.type!==this.type?this.type-N.type:j(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class b{constructor(N,W,Z){this.key=N,this.value=W,this.negated=Z,this.type=13}static create(N,W,Z=null){return u(W,ge=>new b(N,ge,Z))}cmp(N){return N.type!==this.type?this.type-N.type:j(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class y{constructor(N,W,Z){this.key=N,this.value=W,this.negated=Z,this.type=14}static create(N,W,Z=null){return u(W,ge=>new y(N,ge,Z))}cmp(N){return N.type!==this.type?this.type-N.type:j(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class w{constructor(N,W,Z){this.key=N,this.value=W,this.negated=Z,this.type=15}static create(N,W,Z=null){return u(W,ge=>new w(N,ge,Z))}cmp(N){return N.type!==this.type?this.type-N.type:j(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}class D{constructor(N,W){this.key=N,this.regexp=W,this.type=7,this.negated=null}static create(N,W){return new D(N,W)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.key<N.key)return-1;if(this.key>N.key)return 1;const W=this.regexp?this.regexp.source:"",Z=N.regexp?N.regexp.source:"";return W<Z?-1:W>Z?1:0}equals(N){if(N.type===this.type){const W=this.regexp?this.regexp.source:"",Z=N.regexp?N.regexp.source:"";return this.key===N.key&&W===Z}return!1}substituteConstants(){return this}evaluate(N){const W=N.getValue(this.key);return!!this.regexp&&this.regexp.test(W)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}class x{constructor(N){this._actual=N,this.type=8}static create(N){return new x(N)}cmp(N){return N.type!==this.type?this.type-N.type:this._actual.cmp(N._actual)}equals(N){return N.type===this.type&&this._actual.equals(N._actual)}substituteConstants(){return this}evaluate(N){return!this._actual.evaluate(N)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function P(ne){let N=null;for(let W=0,Z=ne.length;W<Z;W++){const ge=ne[W].substituteConstants();if(ne[W]!==ge&&null===N){N=[];for(let M=0;M<W;M++)N[M]=ne[M]}null!==N&&(N[W]=ge)}return null===N?ne:N}class O{constructor(N,W){this.expr=N,this.negated=W,this.type=6}static create(N,W){return O._normalizeArr(N,W)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let W=0,Z=this.expr.length;W<Z;W++){const ge=E(this.expr[W],N.expr[W]);if(0!==ge)return ge}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let W=0,Z=this.expr.length;W<Z;W++)if(!this.expr[W].equals(N.expr[W]))return!1;return!0}return!1}substituteConstants(){const N=P(this.expr);return N===this.expr?this:O.create(N,this.negated)}evaluate(N){for(let W=0,Z=this.expr.length;W<Z;W++)if(!this.expr[W].evaluate(N))return!1;return!0}static _normalizeArr(N,W){const Z=[];let ge=!1;for(const M of N)if(M){if(1===M.type){ge=!0;continue}if(0===M.type)return L.INSTANCE;if(6===M.type){Z.push(...M.expr);continue}Z.push(M)}if(0===Z.length&&ge)return _.INSTANCE;if(0!==Z.length){if(1===Z.length)return Z[0];Z.sort(E);for(let M=1;M<Z.length;M++)Z[M-1].equals(Z[M])&&(Z.splice(M,1),M--);if(1===Z.length)return Z[0];for(;Z.length>1;){const M=Z[Z.length-1];if(9!==M.type)break;Z.pop();const we=Z.pop(),Ee=0===Z.length,xe=V.create(M.expr.map(Ne=>O.create([Ne,we],null)),null,Ee);xe&&(Z.push(xe),Z.sort(E))}return 1===Z.length?Z[0]:new O(Z,W)}}serialize(){return this.expr.map(N=>N.serialize()).join(" && ")}keys(){const N=[];for(const W of this.expr)N.push(...W.keys());return N}negate(){if(!this.negated){const N=[];for(const W of this.expr)N.push(W.negate());this.negated=V.create(N,this,!0)}return this.negated}}class V{constructor(N,W){this.expr=N,this.negated=W,this.type=9}static create(N,W,Z){return V._normalizeArr(N,W,Z)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let W=0,Z=this.expr.length;W<Z;W++){const ge=E(this.expr[W],N.expr[W]);if(0!==ge)return ge}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let W=0,Z=this.expr.length;W<Z;W++)if(!this.expr[W].equals(N.expr[W]))return!1;return!0}return!1}substituteConstants(){const N=P(this.expr);return N===this.expr?this:V.create(N,this.negated,!1)}evaluate(N){for(let W=0,Z=this.expr.length;W<Z;W++)if(this.expr[W].evaluate(N))return!0;return!1}static _normalizeArr(N,W,Z){let ge=[],M=!1;if(N){for(let we=0,Ee=N.length;we<Ee;we++){const xe=N[we];if(xe){if(0===xe.type){M=!0;continue}if(1===xe.type)return _.INSTANCE;if(9===xe.type){ge=ge.concat(xe.expr);continue}ge.push(xe)}}if(0===ge.length&&M)return L.INSTANCE;ge.sort(E)}if(0!==ge.length){if(1===ge.length)return ge[0];for(let we=1;we<ge.length;we++)ge[we-1].equals(ge[we])&&(ge.splice(we,1),we--);if(1===ge.length)return ge[0];if(Z){for(let we=0;we<ge.length;we++)for(let Ee=we+1;Ee<ge.length;Ee++)K(ge[we],ge[Ee])&&(ge.splice(Ee,1),Ee--);if(1===ge.length)return ge[0]}return new V(ge,W)}}serialize(){return this.expr.map(N=>N.serialize()).join(" || ")}keys(){const N=[];for(const W of this.expr)N.push(...W.keys());return N}negate(){if(!this.negated){const N=[];for(const W of this.expr)N.push(W.negate());for(;N.length>1;){const W=N.shift(),Z=N.shift(),ge=[];for(const we of U(W))for(const Ee of U(Z))ge.push(O.create([we,Ee],null));N.unshift(V.create(ge,null,0===N.length))}this.negated=N[0]}return this.negated}}let H=(()=>{class ne extends s{constructor(W,Z,ge){super(W,null),this._defaultValue=Z,"object"==typeof ge?ne._info.push(Object.assign(Object.assign({},ge),{key:W})):!0!==ge&&ne._info.push({key:W,description:ge,type:null!=Z?typeof Z:void 0})}static all(){return ne._info.values()}bindTo(W){return W.createKey(this.key,this._defaultValue)}getValue(W){return W.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(W){return m.create(this.key,W)}}return ne._info=[],ne})();const z=(0,l.yh)("contextKeyService"),k="setContext";function F(ne,N){return ne<N?-1:ne>N?1:0}function j(ne,N,W,Z){return ne<W?-1:ne>W?1:N<Z?-1:N>Z?1:0}function K(ne,N){if(6===N.type&&9!==ne.type&&6!==ne.type)for(const ge of N.expr)if(ne.equals(ge))return!0;const Z=U(ne.negate()).concat(U(N));Z.sort(E);for(let ge=0;ge<Z.length;ge++){const we=Z[ge].negate();for(let Ee=ge+1;Ee<Z.length;Ee++)if(we.equals(Z[Ee]))return!0}return!1}function U(ne){return 9===ne.type?ne.expr:[ne]}},38980:(Dt,Y,e)=>{"use strict";e.d(Y,{cv:()=>T,d0:()=>m,j_:()=>s});var d=e(8841),n=e(55197),l=e(16468);new l.uy("isMac",d.dz,(0,n.NC)("isMac","Whether the operating system is macOS")),new l.uy("isLinux",d.IJ,(0,n.NC)("isLinux","Whether the operating system is Linux"));const T=new l.uy("isWindows",d.ED,(0,n.NC)("isWindows","Whether the operating system is Windows")),s=(new l.uy("isWeb",d.$L,(0,n.NC)("isWeb","Whether the platform is a web browser")),new l.uy("isMacNative",d.dz&&!d.$L,(0,n.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new l.uy("isIOS",d.gn,(0,n.NC)("isIOS","Whether the operating system is iOS")),new l.uy("isDevelopment",!1,!0),new l.uy("productQualityType","",(0,n.NC)("productQualityType","Quality type of VS Code"))),m="inputFocus";new l.uy(m,!1,(0,n.NC)("inputFocus","Whether keyboard focus is inside an input box"))},50703:(Dt,Y,e)=>{"use strict";e.d(Y,{i:()=>l,u:()=>n});var d=e(9265);const n=(0,d.yh)("contextViewService"),l=(0,d.yh)("contextMenuService")},78610:(Dt,Y,e)=>{"use strict";e.d(Y,{S:()=>n});const n=(0,e(9265).yh)("dialogService")},37188:(Dt,Y,e)=>{"use strict";e.d(Y,{Y:()=>n});const n=(0,e(9265).yh)("environmentService")},99775:(Dt,Y,e)=>{"use strict";e.d(Y,{k:()=>d});class d{constructor(l){this.value=l,this._lower=l.toLowerCase()}static toKey(l){return"string"==typeof l?l.toLowerCase():l._lower}}},76613:(Dt,Y,e)=>{"use strict";e.d(Y,{Yb:()=>V,Nq:()=>H,iX:()=>b});var d=e(96841),n=e(98463),l=e(99952),S=e(1689),v=e(5183),T=e(58783),C=e(3778),L=(e(51426),e(55197));const _=L.NC("defaultLabel","input"),s=L.NC("label.preserveCaseToggle","Preserve Case");class m extends l.Z{constructor(k){super({icon:T.lA.preserveCase,title:s+k.appendTitle,isChecked:k.isChecked,inputActiveOptionBorder:k.inputActiveOptionBorder,inputActiveOptionForeground:k.inputActiveOptionForeground,inputActiveOptionBackground:k.inputActiveOptionBackground})}}class c extends v.${constructor(k,F,j,K){super(),this._showOptionButtons=j,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new C.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new C.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new C.Q5),this._onInput=this._register(new C.Q5),this._onKeyUp=this._register(new C.Q5),this._onPreserveCaseKeyDown=this._register(new C.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=F,this.placeholder=K.placeholder||"",this.validation=K.validation,this.label=K.label||_,this.inputActiveOptionBorder=K.inputActiveOptionBorder,this.inputActiveOptionForeground=K.inputActiveOptionForeground,this.inputActiveOptionBackground=K.inputActiveOptionBackground,this.inputBackground=K.inputBackground,this.inputForeground=K.inputForeground,this.inputBorder=K.inputBorder,this.inputValidationInfoBorder=K.inputValidationInfoBorder,this.inputValidationInfoBackground=K.inputValidationInfoBackground,this.inputValidationInfoForeground=K.inputValidationInfoForeground,this.inputValidationWarningBorder=K.inputValidationWarningBorder,this.inputValidationWarningBackground=K.inputValidationWarningBackground,this.inputValidationWarningForeground=K.inputValidationWarningForeground,this.inputValidationErrorBorder=K.inputValidationErrorBorder,this.inputValidationErrorBackground=K.inputValidationErrorBackground,this.inputValidationErrorForeground=K.inputValidationErrorForeground;const U=K.appendPreserveCaseLabel||"",ne=K.history||[],N=!!K.flexibleHeight,W=!!K.flexibleWidth,Z=K.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new S.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:ne,showHistoryHint:K.showHistoryHint,flexibleHeight:N,flexibleWidth:W,flexibleMaxHeight:Z})),this.preserveCase=this._register(new m({appendTitle:U,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(we=>{this._onDidOptionChange.fire(we),!we&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(we=>{this._onPreserveCaseKeyDown.fire(we)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;const ge=[this.preserveCase.domNode];this.onkeydown(this.domNode,we=>{if(we.equals(15)||we.equals(17)||we.equals(9)){const Ee=ge.indexOf(document.activeElement);if(Ee>=0){let xe=-1;we.equals(17)?xe=(Ee+1)%ge.length:we.equals(15)&&(xe=0===Ee?ge.length-1:Ee-1),we.equals(9)?(ge[Ee].blur(),this.inputBox.focus()):xe>=0&&ge[xe].focus(),n.zB.stop(we,!0)}}});const M=document.createElement("div");M.className="controls",M.style.display=this._showOptionButtons?"block":"none",M.appendChild(this.preserveCase.domNode),this.domNode.appendChild(M),k?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,we=>this._onKeyDown.fire(we)),this.onkeyup(this.inputBox.inputElement,we=>this._onKeyUp.fire(we)),this.oninput(this.inputBox.inputElement,we=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,we=>this._onMouseDown.fire(we))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(k){k?this.enable():this.disable()}style(k){this.inputActiveOptionBorder=k.inputActiveOptionBorder,this.inputActiveOptionForeground=k.inputActiveOptionForeground,this.inputActiveOptionBackground=k.inputActiveOptionBackground,this.inputBackground=k.inputBackground,this.inputForeground=k.inputForeground,this.inputBorder=k.inputBorder,this.inputValidationInfoBackground=k.inputValidationInfoBackground,this.inputValidationInfoForeground=k.inputValidationInfoForeground,this.inputValidationInfoBorder=k.inputValidationInfoBorder,this.inputValidationWarningBackground=k.inputValidationWarningBackground,this.inputValidationWarningForeground=k.inputValidationWarningForeground,this.inputValidationWarningBorder=k.inputValidationWarningBorder,this.inputValidationErrorBackground=k.inputValidationErrorBackground,this.inputValidationErrorForeground=k.inputValidationErrorForeground,this.inputValidationErrorBorder=k.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(k){this.preserveCase.checked=k}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(k){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=k,this.domNode.style.width=k+"px"}dispose(){super.dispose()}}var t=e(16468),a=e(98915),p=e(80142),u=function(z,k,F,j){var ne,K=arguments.length,U=K<3?k:null===j?j=Object.getOwnPropertyDescriptor(k,F):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(z,k,F,j);else for(var N=z.length-1;N>=0;N--)(ne=z[N])&&(U=(K<3?ne(U):K>3?ne(k,F,U):ne(k,F))||U);return K>3&&U&&Object.defineProperty(k,F,U),U},g=function(z,k){return function(F,j){k(F,j,z)}};const b=new t.uy("suggestWidgetVisible",!1,(0,L.NC)("suggestWidgetVisible","Whether suggestion are visible")),y="historyNavigationWidgetFocus",w="historyNavigationForwardsEnabled",D="historyNavigationBackwardsEnabled";let x;const P=[];function O(z,k){if(P.includes(k))throw new Error("Cannot register the same widget multiple times");P.push(k);const F=new p.SL,j=F.add(z.createScoped(k.element)),K=new t.uy(y,!1).bindTo(j),U=new t.uy(w,!0).bindTo(j),ne=new t.uy(D,!0).bindTo(j),N=()=>{K.set(!0),x=k},W=()=>{K.set(!1),x===k&&(x=void 0)};return k.element===document.activeElement&&N(),F.add(k.onDidFocus(()=>N())),F.add(k.onDidBlur(()=>W())),F.add((0,p.OF)(()=>{P.splice(P.indexOf(k),1),W()})),{scopedContextKeyService:j,historyNavigationForwardsEnablement:U,historyNavigationBackwardsEnablement:ne,dispose(){F.dispose()}}}let V=class extends d.V{constructor(k,F,j,K,U=!1){super(k,F,U,j),this._register(O(K,this.inputBox))}};V=u([g(3,t.i6)],V);let H=class extends c{constructor(k,F,j,K,U=!1){super(k,F,U,j),this._register(O(K,this.inputBox))}};H=u([g(3,t.i6)],H),a.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:t.Ao.and(t.Ao.has(y),t.Ao.equals(D,!0),b.isEqualTo(!1)),primary:16,secondary:[528],handler:z=>{x&&x.showPreviousValue()}}),a.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:t.Ao.and(t.Ao.has(y),t.Ao.equals(w,!0),b.isEqualTo(!1)),primary:18,secondary:[530],handler:z=>{x&&x.showNextValue()}})},81184:(Dt,Y,e)=>{"use strict";e.d(Y,{M:()=>d});class d{constructor(l,S=[],v=!1){this.ctor=l,this.staticArguments=S,this.supportsDelayedInstantiation=v}}},47494:(Dt,Y,e)=>{"use strict";e.d(Y,{d:()=>S,z:()=>l});var d=e(81184);const n=[];function l(v,T,C){T instanceof d.M||(T=new d.M(T,[],C)),n.push([v,T])}function S(){return n}},9265:(Dt,Y,e)=>{"use strict";var d,v;e.d(Y,{I8:()=>d,TG:()=>n,yh:()=>S}),(v=d||(d={})).serviceIds=new Map,v.DI_TARGET="$di$target",v.DI_DEPENDENCIES="$di$dependencies",v.getServiceDependencies=function T(C){return C[v.DI_DEPENDENCIES]||[]};const n=S("instantiationService");function l(v,T,C){T[d.DI_TARGET]===T?T[d.DI_DEPENDENCIES].push({id:v,index:C}):(T[d.DI_DEPENDENCIES]=[{id:v,index:C}],T[d.DI_TARGET]=T)}function S(v){if(d.serviceIds.has(v))return d.serviceIds.get(v);const T=function(C,E,L){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");l(T,C,L)};return T.toString=()=>v,d.serviceIds.set(v,T),T}},62706:(Dt,Y,e)=>{"use strict";e.d(Y,{y:()=>d});class d{constructor(...l){this._entries=new Map;for(const[S,v]of l)this.set(S,v)}set(l,S){const v=this._entries.get(l);return this._entries.set(l,S),v}get(l){return this._entries.get(l)}}},7886:(Dt,Y,e)=>{"use strict";e.d(Y,{I:()=>l});var d=e(3778),n=e(4259);const l={JSONContribution:"base.contributions.json"},T=new class v{constructor(){this._onDidChangeSchema=new d.Q5,this.schemasById={}}registerSchema(E,L){this.schemasById[function S(C){return C.length>0&&"#"===C.charAt(C.length-1)?C.substring(0,C.length-1):C}(E)]=L,this._onDidChangeSchema.fire(E)}notifySchemaChanged(E){this._onDidChangeSchema.fire(E)}};n.B.add(l.JSONContribution,T)},14759:(Dt,Y,e)=>{"use strict";e.d(Y,{d:()=>n});const n=(0,e(9265).yh)("keybindingService")},98915:(Dt,Y,e)=>{"use strict";e.d(Y,{W:()=>T});var d=e(37451),n=e(8841),l=e(66549),S=e(4259);class v{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(_){if(1===n.OS){if(_&&_.win)return _.win}else if(2===n.OS){if(_&&_.mac)return _.mac}else if(_&&_.linux)return _.linux;return _}registerKeybindingRule(_){const s=v.bindToCurrentPlatform(_);if(s&&s.primary){const m=(0,d.gm)(s.primary,n.OS);m&&this._registerDefaultKeybinding(m,_.id,_.args,_.weight,0,_.when)}if(s&&Array.isArray(s.secondary))for(let m=0,c=s.secondary.length;m<c;m++){const a=(0,d.gm)(s.secondary[m],n.OS);a&&this._registerDefaultKeybinding(a,_.id,_.args,_.weight,-m-1,_.when)}}registerCommandAndKeybindingRule(_){this.registerKeybindingRule(_),l.P0.registerCommand(_)}static _mightProduceChar(_){return _>=21&&_<=30||_>=31&&_<=56||80===_||81===_||82===_||83===_||84===_||85===_||86===_||110===_||111===_||87===_||88===_||89===_||90===_||91===_||92===_}_assertNoCtrlAlt(_,s){_.ctrlKey&&_.altKey&&!_.metaKey&&v._mightProduceChar(_.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",_," for ",s)}_registerDefaultKeybinding(_,s,m,c,t,a){1===n.OS&&this._assertNoCtrlAlt(_.parts[0],s),this._coreKeybindings.push({keybinding:_.parts,command:s,commandArgs:m,when:a,weight1:c,weight2:t,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(E)),this._cachedMergedKeybindings.slice(0)}}const T=new v;function E(L,_){if(L.weight1!==_.weight1)return L.weight1-_.weight1;if(L.command&&_.command){if(L.command<_.command)return-1;if(L.command>_.command)return 1}return L.weight2-_.weight2}S.B.add("platform.keybindingsRegistry",T)},17461:(Dt,Y,e)=>{"use strict";e.d(Y,{M:()=>d,Z:()=>n});class d{constructor(S,v,T,C,E,L,_){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=S,this.keypressParts=S?n(S.getDispatchParts()):[],S&&0===this.keypressParts.length&&(this.keypressParts=n(S.getSingleModifierDispatchParts())),this.bubble=!!v&&94===v.charCodeAt(0),this.command=this.bubble?v.substr(1):v,this.commandArgs=T,this.when=C,this.isDefault=E,this.extensionId=L,this.isBuiltinExtension=_}}function n(l){const S=[];for(let v=0,T=l.length;v<T;v++){const C=l[v];if(!C)return S;S.push(C)}return S}},51915:(Dt,Y,e)=>{"use strict";e.d(Y,{j:()=>C});var d=e(53993),n=e(37451),l=e(4125),S=e(11719);class v extends n.f1{constructor(L,_){if(super(),0===_.length)throw(0,l.b1)("parts");this._os=L,this._parts=_}getLabel(){return S.xo.toLabel(this._os,this._parts,L=>this._getLabel(L))}getAriaLabel(){return S.X4.toLabel(this._os,this._parts,L=>this._getAriaLabel(L))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:S.jC.toLabel(this._os,this._parts,L=>this._getElectronAccelerator(L))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(L=>this._getPart(L))}_getPart(L){return new n.BQ(L.ctrlKey,L.shiftKey,L.altKey,L.metaKey,this._getLabel(L),this._getAriaLabel(L))}getDispatchParts(){return this._parts.map(L=>this._getDispatchPart(L))}getSingleModifierDispatchParts(){return this._parts.map(L=>this._getSingleModifierDispatchPart(L))}}var T=e(17461);class C extends v{constructor(L,_){super(_,L.parts)}_keyCodeToUILabel(L){if(2===this._os)switch(L){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return d.kL.toString(L)}_getLabel(L){return L.isDuplicateModifierCase()?"":this._keyCodeToUILabel(L.keyCode)}_getAriaLabel(L){return L.isDuplicateModifierCase()?"":d.kL.toString(L.keyCode)}_getElectronAccelerator(L){return d.kL.toElectronAccelerator(L.keyCode)}_getDispatchPart(L){return C.getDispatchStr(L)}static getDispatchStr(L){if(L.isModifierKey())return null;let _="";return L.ctrlKey&&(_+="ctrl+"),L.shiftKey&&(_+="shift+"),L.altKey&&(_+="alt+"),L.metaKey&&(_+="meta+"),_+=d.kL.toString(L.keyCode),_}_getSingleModifierDispatchPart(L){return 5!==L.keyCode||L.shiftKey||L.altKey||L.metaKey?4!==L.keyCode||L.ctrlKey||L.altKey||L.metaKey?6!==L.keyCode||L.ctrlKey||L.shiftKey||L.metaKey?57!==L.keyCode||L.ctrlKey||L.shiftKey||L.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(L){const _=d.Vd[L];if(-1!==_)return _;switch(L){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(L){if(!L)return null;if(L instanceof n.QC)return L;const _=this._scanCodeToKeyCode(L.scanCode);return 0===_?null:new n.QC(L.ctrlKey,L.shiftKey,L.altKey,L.metaKey,_)}static resolveUserBinding(L,_){const s=(0,T.Z)(L.map(m=>this._resolveSimpleUserBinding(m)));return s.length>0?[new C(new n.X_(s),_)]:[]}}},57585:(Dt,Y,e)=>{"use strict";e.d(Y,{e:()=>n});const n=(0,e(9265).yh)("labelService")},67021:(Dt,Y,e)=>{"use strict";e.d(Y,{F:()=>n});const n=(0,e(9265).yh)("layoutService")},27299:(Dt,Y,e)=>{"use strict";e.d(Y,{Lw:()=>ho,XN:()=>Ao,ls:()=>Rt,ev:()=>Ye,CQ:()=>kt,PS:()=>sn,uJ:()=>xn});var d=e(98463),n=e(64023),l=e(73888),S=e(3778),v=e(80142),C=(e(57948),e(25478));class E{constructor(q,Te){this.renderer=q,this.modelProvider=Te}get templateId(){return this.renderer.templateId}renderTemplate(q){return{data:this.renderer.renderTemplate(q),disposable:v.JT.None}}renderElement(q,Te,rt,Gt){if(rt.disposable&&rt.disposable.dispose(),!rt.data)return;const cn=this.modelProvider();if(cn.isResolved(q))return this.renderer.renderElement(cn.get(q),q,rt.data,Gt);const Ln=new l.A,In=cn.resolve(q,Ln.token);rt.disposable={dispose:()=>Ln.cancel()},this.renderer.renderPlaceholder(q,rt.data),In.then(ei=>this.renderer.renderElement(ei,q,rt.data,Gt))}disposeTemplate(q){q.disposable&&(q.disposable.dispose(),q.disposable=void 0),q.data&&(this.renderer.disposeTemplate(q.data),q.data=void 0)}}class L{constructor(q,Te){this.modelProvider=q,this.accessibilityProvider=Te}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(q){const Te=this.modelProvider();return Te.isResolved(q)?this.accessibilityProvider.getAriaLabel(Te.get(q)):null}}class s{constructor(q,Te,rt,Gt,cn={}){const Ln=()=>this.model,In=Gt.map(ei=>new E(ei,Ln));this.list=new C.aV(q,Te,rt,In,function _(Tt,q){return Object.assign(Object.assign({},q),{accessibilityProvider:q.accessibilityProvider&&new L(Tt,q.accessibilityProvider)})}(Ln,cn))}updateOptions(q){this.list.updateOptions(q)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return S.ju.map(this.list.onMouseDblClick,({element:q,index:Te,browserEvent:rt})=>({element:void 0===q?void 0:this._model.get(q),index:Te,browserEvent:rt}))}get onPointer(){return S.ju.map(this.list.onPointer,({element:q,index:Te,browserEvent:rt})=>({element:void 0===q?void 0:this._model.get(q),index:Te,browserEvent:rt}))}get onDidChangeSelection(){return S.ju.map(this.list.onDidChangeSelection,({elements:q,indexes:Te,browserEvent:rt})=>({elements:q.map(Gt=>this._model.get(Gt)),indexes:Te,browserEvent:rt}))}get model(){return this._model}set model(q){this._model=q,this.list.splice(0,this.list.length,(0,n.w6)(q.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(q=>this.model.get(q))}style(q){this.list.style(q)}dispose(){this.list.dispose()}}var m=e(93656),c=e(57856),t=e.n(c),a=e(38470),p=e.n(a),u=e(43370),g=e.n(u),b=e(28458),y=e.n(b),w=e(71278),D=e.n(w),x=e(29488),P=e.n(x),O=e(95957),V={};V.styleTagTransform=P(),V.setAttributes=y(),V.insert=g().bind(null,"head"),V.domAPI=p(),V.insertStyleElement=D(),t()(O.Z,V);let k=(()=>{class Tt{constructor(Te,rt,Gt){this.columns=Te,this.getColumnSize=Gt,this.templateId=Tt.TemplateId,this.renderedTemplates=new Set;const cn=new Map(rt.map(Ln=>[Ln.templateId,Ln]));this.renderers=[];for(const Ln of Te){const In=cn.get(Ln.templateId);if(!In)throw new Error(`Table cell renderer for template id ${Ln.templateId} not found.`);this.renderers.push(In)}}renderTemplate(Te){const rt=(0,d.R3)(Te,(0,d.$)(".monaco-table-tr")),Gt=[],cn=[];for(let In=0;In<this.columns.length;In++){const ei=this.renderers[In],Jn=(0,d.R3)(rt,(0,d.$)(".monaco-table-td",{"data-col-index":In}));Jn.style.width=`${this.getColumnSize(In)}px`,Gt.push(Jn),cn.push(ei.renderTemplate(Jn))}const Ln={container:Te,cellContainers:Gt,cellTemplateData:cn};return this.renderedTemplates.add(Ln),Ln}renderElement(Te,rt,Gt,cn){for(let Ln=0;Ln<this.columns.length;Ln++){const ei=this.columns[Ln].project(Te);this.renderers[Ln].renderElement(ei,rt,Gt.cellTemplateData[Ln],cn)}}disposeElement(Te,rt,Gt,cn){for(let Ln=0;Ln<this.columns.length;Ln++){const In=this.renderers[Ln];if(In.disposeElement){const Jn=this.columns[Ln].project(Te);In.disposeElement(Jn,rt,Gt.cellTemplateData[Ln],cn)}}}disposeTemplate(Te){for(let rt=0;rt<this.columns.length;rt++)this.renderers[rt].disposeTemplate(Te.cellTemplateData[rt]);(0,d.PO)(Te.container),this.renderedTemplates.delete(Te)}layoutColumn(Te,rt){for(const{cellContainers:Gt}of this.renderedTemplates)Gt[Te].style.width=`${rt}px`}}return Tt.TemplateId="row",Tt})();class j{constructor(q,Te){this.column=q,this.index=Te,this._onDidLayout=new S.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,d.$)(".monaco-table-th",{"data-col-index":Te,title:q.tooltip},q.label)}get minimumSize(){var q;return null!==(q=this.column.minimumWidth)&&void 0!==q?q:120}get maximumSize(){var q;return null!==(q=this.column.maximumWidth)&&void 0!==q?q:Number.POSITIVE_INFINITY}get onDidChange(){var q;return null!==(q=this.column.onDidChangeWidthConstraints)&&void 0!==q?q:S.ju.None}layout(q){this._onDidLayout.fire([this.index,q])}}let K=(()=>{class Tt{constructor(Te,rt,Gt,cn,Ln,In){this.virtualDelegate=Gt,this.domId="table_id_"+ ++Tt.InstanceCount,this.disposables=new v.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,d.R3)(rt,(0,d.$)(`.monaco-table.${this.domId}`));const ei=cn.map((pi,Ci)=>new j(pi,Ci)),Jn={size:ei.reduce((pi,Ci)=>pi+Ci.column.weight,0),views:ei.map(pi=>({size:pi.column.weight,view:pi}))};this.splitview=this.disposables.add(new m.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Jn})),this.splitview.el.style.height=`${Gt.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Gt.headerRowHeight}px`;const gi=new k(cn,Ln,pi=>this.splitview.getViewSize(pi));this.list=this.disposables.add(new C.aV(Te,this.domNode,function F(Tt){return{getHeight:q=>Tt.getHeight(q),getTemplateId:()=>k.TemplateId}}(Gt),[gi],In)),S.ju.any(...ei.map(pi=>pi.onDidLayout))(([pi,Ci])=>gi.layoutColumn(pi,Ci),null,this.disposables),this.splitview.onDidSashReset(pi=>{const Ci=cn.reduce((Bi,$i)=>Bi+$i.weight,0);this.splitview.resizeView(pi,cn[pi].weight/Ci*this.cachedWidth)},null,this.disposables),this.styleElement=(0,d.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(Te){this.list.updateOptions(Te)}splice(Te,rt,Gt=[]){this.list.splice(Te,rt,Gt)}getHTMLElement(){return this.domNode}style(Te){const rt=[];rt.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=rt.join("\n"),this.list.style(Te)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return Tt.InstanceCount=0,Tt})();e(75366);var ne=e(41140),Z=(e(65065),e(96841),e(66127)),M=(e(99952),(()=>{return(Tt=M||(M={}))[Tt.Unknown=0]="Unknown",Tt[Tt.Twistie=1]="Twistie",Tt[Tt.Element=2]="Element",Tt[Tt.Filter=3]="Filter",M;var Tt})());class we extends Error{constructor(q,Te){super(`TreeError [${q}] ${Te}`)}}class Ee{constructor(q){this.fn=q,this._map=new WeakMap}map(q){let Te=this._map.get(q);return Te||(Te=this.fn(q),this._map.set(q,Te)),Te}}var xe=e(48648),Ne=e(52237),oe=e(1999);function Se(Tt){return"object"==typeof Tt&&"visibility"in Tt&&"data"in Tt}function Ie(Tt){switch(Tt){case!0:return 1;case!1:return 0;default:return Tt}}function me(Tt){return"boolean"==typeof Tt.collapsible}class Me{constructor(q,Te,rt,Gt={}){this.user=q,this.list=Te,this.rootRef=[],this.eventBufferer=new S.E7,this._onDidChangeCollapseState=new S.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new S.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new S.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new xe.vp(xe.ne),this.collapseByDefault=!(typeof Gt.collapseByDefault>"u")&&Gt.collapseByDefault,this.filter=Gt.filter,this.autoExpandSingleChildren=!(typeof Gt.autoExpandSingleChildren>"u")&&Gt.autoExpandSingleChildren,this.root={parent:void 0,element:rt,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(q,Te,rt=oe.$.empty(),Gt={}){if(0===q.length)throw new we(this.user,"Invalid tree location");Gt.diffIdentityProvider?this.spliceSmart(Gt.diffIdentityProvider,q,Te,rt,Gt):this.spliceSimple(q,Te,rt,Gt)}spliceSmart(q,Te,rt,Gt,cn,Ln){var In;void 0===Gt&&(Gt=oe.$.empty()),void 0===Ln&&(Ln=null!==(In=cn.diffDepth)&&void 0!==In?In:0);const{parentNode:ei}=this.getParentNodeWithListIndex(Te);if(!ei.lastDiffIds)return this.spliceSimple(Te,rt,Gt,cn);const Jn=[...Gt],gi=Te[Te.length-1],pi=new Ne.Hs({getElements:()=>ei.lastDiffIds},{getElements:()=>[...ei.children.slice(0,gi),...Jn,...ei.children.slice(gi+rt)].map(zi=>q.getId(zi.element).toString())}).ComputeDiff(!1);if(pi.quitEarly)return ei.lastDiffIds=void 0,this.spliceSimple(Te,rt,Jn,cn);const Ci=Te.slice(0,-1),Mi=(zi,_o,jo)=>{if(Ln>0)for(let To=0;To<jo;To++)zi--,_o--,this.spliceSmart(q,[...Ci,zi,0],Number.MAX_SAFE_INTEGER,Jn[_o].children,cn,Ln-1)};let Bi=Math.min(ei.children.length,gi+rt),$i=Jn.length;for(const zi of pi.changes.sort((_o,jo)=>jo.originalStart-_o.originalStart))Mi(Bi,$i,Bi-(zi.originalStart+zi.originalLength)),Bi=zi.originalStart,$i=zi.modifiedStart-gi,this.spliceSimple([...Ci,Bi],zi.originalLength,oe.$.slice(Jn,$i,$i+zi.modifiedLength),cn);Mi(Bi,$i,Bi)}spliceSimple(q,Te,rt=oe.$.empty(),{onDidCreateNode:Gt,onDidDeleteNode:cn,diffIdentityProvider:Ln}){const{parentNode:In,listIndex:ei,revealed:Jn,visible:gi}=this.getParentNodeWithListIndex(q),pi=[],Ci=oe.$.map(rt,Qo=>this.createTreeNode(Qo,In,In.visible?1:0,Jn,pi,Gt)),Mi=q[q.length-1],Bi=In.children.length>0;let $i=0;for(let Qo=Mi;Qo>=0&&Qo<In.children.length;Qo--){const $o=In.children[Qo];if($o.visible){$i=$o.visibleChildIndex;break}}const zi=[];let _o=0,jo=0;for(const Qo of Ci)zi.push(Qo),jo+=Qo.renderNodeCount,Qo.visible&&(Qo.visibleChildIndex=$i+_o++);const To=(0,n.db)(In.children,Mi,Te,zi);Ln?In.lastDiffIds?(0,n.db)(In.lastDiffIds,Mi,Te,zi.map(Qo=>Ln.getId(Qo.element).toString())):In.lastDiffIds=In.children.map(Qo=>Ln.getId(Qo.element).toString()):In.lastDiffIds=void 0;let ss=0;for(const Qo of To)Qo.visible&&ss++;if(0!==ss)for(let Qo=Mi+zi.length;Qo<In.children.length;Qo++){const $o=In.children[Qo];$o.visible&&($o.visibleChildIndex-=ss)}if(In.visibleChildrenCount+=_o-ss,Jn&&gi){const Qo=To.reduce(($o,wr)=>$o+(wr.visible?wr.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(In,jo-Qo),this.list.splice(ei,Qo,pi)}if(To.length>0&&cn){const Qo=$o=>{cn($o),$o.children.forEach(Qo)};To.forEach(Qo)}this._onDidSplice.fire({insertedNodes:zi,deletedNodes:To});const sr=In.children.length>0;Bi!==sr&&this.setCollapsible(q.slice(0,-1),sr);let _s=In;for(;_s;){if(2===_s.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}_s=_s.parent}}rerender(q){if(0===q.length)throw new we(this.user,"Invalid tree location");const{node:Te,listIndex:rt,revealed:Gt}=this.getTreeNodeWithListIndex(q);Te.visible&&Gt&&this.list.splice(rt,1,[Te])}has(q){return this.hasTreeNode(q)}getListIndex(q){const{listIndex:Te,visible:rt,revealed:Gt}=this.getTreeNodeWithListIndex(q);return rt&&Gt?Te:-1}getListRenderCount(q){return this.getTreeNode(q).renderNodeCount}isCollapsible(q){return this.getTreeNode(q).collapsible}setCollapsible(q,Te){const rt=this.getTreeNode(q);typeof Te>"u"&&(Te=!rt.collapsible);const Gt={collapsible:Te};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(q,Gt))}isCollapsed(q){return this.getTreeNode(q).collapsed}setCollapsed(q,Te,rt){const Gt=this.getTreeNode(q);typeof Te>"u"&&(Te=!Gt.collapsed);const cn={collapsed:Te,recursive:rt||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(q,cn))}_setCollapseState(q,Te){const{node:rt,listIndex:Gt,revealed:cn}=this.getTreeNodeWithListIndex(q),Ln=this._setListNodeCollapseState(rt,Gt,cn,Te);if(rt!==this.root&&this.autoExpandSingleChildren&&Ln&&!me(Te)&&rt.collapsible&&!rt.collapsed&&!Te.recursive){let In=-1;for(let ei=0;ei<rt.children.length;ei++)if(rt.children[ei].visible){if(In>-1){In=-1;break}In=ei}In>-1&&this._setCollapseState([...q,In],Te)}return Ln}_setListNodeCollapseState(q,Te,rt,Gt){const cn=this._setNodeCollapseState(q,Gt,!1);if(!rt||!q.visible||!cn)return cn;const Ln=q.renderNodeCount,In=this.updateNodeAfterCollapseChange(q);return this.list.splice(Te+1,Ln-(-1===Te?0:1),In.slice(1)),cn}_setNodeCollapseState(q,Te,rt){let Gt;if(q===this.root?Gt=!1:(me(Te)?(Gt=q.collapsible!==Te.collapsible,q.collapsible=Te.collapsible):q.collapsible?(Gt=q.collapsed!==Te.collapsed,q.collapsed=Te.collapsed):Gt=!1,Gt&&this._onDidChangeCollapseState.fire({node:q,deep:rt})),!me(Te)&&Te.recursive)for(const cn of q.children)Gt=this._setNodeCollapseState(cn,Te,!0)||Gt;return Gt}expandTo(q){this.eventBufferer.bufferEvents(()=>{let Te=this.getTreeNode(q);for(;Te.parent;)Te=Te.parent,q=q.slice(0,q.length-1),Te.collapsed&&this._setCollapseState(q,{collapsed:!1,recursive:!1})})}refilter(){const q=this.root.renderNodeCount,Te=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,q,Te),this.refilterDelayer.cancel()}createTreeNode(q,Te,rt,Gt,cn,Ln){const In={parent:Te,element:q.element,children:[],depth:Te.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof q.collapsible?q.collapsible:typeof q.collapsed<"u",collapsed:typeof q.collapsed>"u"?this.collapseByDefault:q.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},ei=this._filterNode(In,rt);In.visibility=ei,Gt&&cn.push(In);const Jn=q.children||oe.$.empty(),gi=Gt&&0!==ei&&!In.collapsed,pi=oe.$.map(Jn,Bi=>this.createTreeNode(Bi,In,ei,gi,cn,Ln));let Ci=0,Mi=1;for(const Bi of pi)In.children.push(Bi),Mi+=Bi.renderNodeCount,Bi.visible&&(Bi.visibleChildIndex=Ci++);return In.collapsible=In.collapsible||In.children.length>0,In.visibleChildrenCount=Ci,In.visible=2===ei?Ci>0:1===ei,In.visible?In.collapsed||(In.renderNodeCount=Mi):(In.renderNodeCount=0,Gt&&cn.pop()),Ln?.(In),In}updateNodeAfterCollapseChange(q){const Te=q.renderNodeCount,rt=[];return this._updateNodeAfterCollapseChange(q,rt),this._updateAncestorsRenderNodeCount(q.parent,rt.length-Te),rt}_updateNodeAfterCollapseChange(q,Te){if(!1===q.visible)return 0;if(Te.push(q),q.renderNodeCount=1,!q.collapsed)for(const rt of q.children)q.renderNodeCount+=this._updateNodeAfterCollapseChange(rt,Te);return this._onDidChangeRenderNodeCount.fire(q),q.renderNodeCount}updateNodeAfterFilterChange(q){const Te=q.renderNodeCount,rt=[];return this._updateNodeAfterFilterChange(q,q.visible?1:0,rt),this._updateAncestorsRenderNodeCount(q.parent,rt.length-Te),rt}_updateNodeAfterFilterChange(q,Te,rt,Gt=!0){let cn;if(q!==this.root){if(cn=this._filterNode(q,Te),0===cn)return q.visible=!1,q.renderNodeCount=0,!1;Gt&&rt.push(q)}const Ln=rt.length;q.renderNodeCount=q===this.root?0:1;let In=!1;if(q.collapsed&&0===cn)q.visibleChildrenCount=0;else{let ei=0;for(const Jn of q.children)In=this._updateNodeAfterFilterChange(Jn,cn,rt,Gt&&!q.collapsed)||In,Jn.visible&&(Jn.visibleChildIndex=ei++);q.visibleChildrenCount=ei}return q!==this.root&&(q.visible=2===cn?In:1===cn,q.visibility=cn),q.visible?q.collapsed||(q.renderNodeCount+=rt.length-Ln):(q.renderNodeCount=0,Gt&&rt.pop()),this._onDidChangeRenderNodeCount.fire(q),q.visible}_updateAncestorsRenderNodeCount(q,Te){if(0!==Te)for(;q;)q.renderNodeCount+=Te,this._onDidChangeRenderNodeCount.fire(q),q=q.parent}_filterNode(q,Te){const rt=this.filter?this.filter.filter(q.element,Te):1;return"boolean"==typeof rt?(q.filterData=void 0,rt?1:0):Se(rt)?(q.filterData=rt.data,Ie(rt.visibility)):(q.filterData=void 0,Ie(rt))}hasTreeNode(q,Te=this.root){if(!q||0===q.length)return!0;const[rt,...Gt]=q;return!(rt<0||rt>Te.children.length)&&this.hasTreeNode(Gt,Te.children[rt])}getTreeNode(q,Te=this.root){if(!q||0===q.length)return Te;const[rt,...Gt]=q;if(rt<0||rt>Te.children.length)throw new we(this.user,"Invalid tree location");return this.getTreeNode(Gt,Te.children[rt])}getTreeNodeWithListIndex(q){if(0===q.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:Te,listIndex:rt,revealed:Gt,visible:cn}=this.getParentNodeWithListIndex(q),Ln=q[q.length-1];if(Ln<0||Ln>Te.children.length)throw new we(this.user,"Invalid tree location");const In=Te.children[Ln];return{node:In,listIndex:rt,revealed:Gt,visible:cn&&In.visible}}getParentNodeWithListIndex(q,Te=this.root,rt=0,Gt=!0,cn=!0){const[Ln,...In]=q;if(Ln<0||Ln>Te.children.length)throw new we(this.user,"Invalid tree location");for(let ei=0;ei<Ln;ei++)rt+=Te.children[ei].renderNodeCount;return Gt=Gt&&!Te.collapsed,cn=cn&&Te.visible,0===In.length?{parentNode:Te,listIndex:rt,revealed:Gt,visible:cn}:this.getParentNodeWithListIndex(In,Te.children[Ln],rt+1,Gt,cn)}getNode(q=[]){return this.getTreeNode(q)}getNodeLocation(q){const Te=[];let rt=q;for(;rt.parent;)Te.push(rt.parent.children.indexOf(rt)),rt=rt.parent;return Te.reverse()}getParentNodeLocation(q){if(0!==q.length)return 1===q.length?[]:(0,n.JH)(q)[0]}getFirstElementChild(q){const Te=this.getTreeNode(q);if(0!==Te.children.length)return Te.children[0].element}}e(827);var ke=e(58783);class Ue{constructor(){this.map=new Map}add(q,Te){let rt=this.map.get(q);rt||(rt=new Set,this.map.set(q,rt)),rt.add(Te)}delete(q,Te){const rt=this.map.get(q);!rt||(rt.delete(Te),0===rt.size&&this.map.delete(q))}forEach(q,Te){const rt=this.map.get(q);!rt||rt.forEach(Te)}}var ze=e(25715),ce=e(73455),Ve=e(72715),tt=e(19114),Ct={};Ct.styleTagTransform=P(),Ct.setAttributes=y(),Ct.insert=g().bind(null,"head"),Ct.domAPI=p(),Ct.insertStyleElement=D(),t()(tt.Z,Ct);var ae=e(55197);class he extends Z.kX{constructor(q){super(q.elements.map(Te=>Te.element)),this.data=q}}function le(Tt){return Tt instanceof Z.kX?new he(Tt):Tt}class Q{constructor(q,Te){this.modelProvider=q,this.dnd=Te,this.autoExpandDisposable=v.JT.None}getDragURI(q){return this.dnd.getDragURI(q.element)}getDragLabel(q,Te){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(q.map(rt=>rt.element),Te)}onDragStart(q,Te){var rt,Gt;null===(Gt=(rt=this.dnd).onDragStart)||void 0===Gt||Gt.call(rt,le(q),Te)}onDragOver(q,Te,rt,Gt,cn=!0){const Ln=this.dnd.onDragOver(le(q),Te&&Te.element,rt,Gt),In=this.autoExpandNode!==Te;if(In&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=Te),typeof Te>"u")return Ln;if(In&&"boolean"!=typeof Ln&&Ln.autoExpand&&(this.autoExpandDisposable=(0,xe.Vg)(()=>{const Ci=this.modelProvider(),Mi=Ci.getNodeLocation(Te);Ci.isCollapsed(Mi)&&Ci.setCollapsed(Mi,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof Ln||!Ln.accept||typeof Ln.bubble>"u"||Ln.feedback)return cn?Ln:{accept:"boolean"==typeof Ln?Ln:Ln.accept,effect:"boolean"==typeof Ln?void 0:Ln.effect,feedback:[rt]};if(1===Ln.bubble){const Ci=this.modelProvider(),Mi=Ci.getNodeLocation(Te),Bi=Ci.getParentNodeLocation(Mi),$i=Ci.getNode(Bi),zi=Bi&&Ci.getListIndex(Bi);return this.onDragOver(q,$i,zi,Gt,!1)}const ei=this.modelProvider(),Jn=ei.getNodeLocation(Te),gi=ei.getListIndex(Jn),pi=ei.getListRenderCount(Jn);return Object.assign(Object.assign({},Ln),{feedback:(0,n.w6)(gi,gi+pi)})}drop(q,Te,rt,Gt){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(le(q),Te&&Te.element,rt,Gt)}onDragEnd(q){var Te,rt;null===(rt=(Te=this.dnd).onDragEnd)||void 0===rt||rt.call(Te,q)}}class Pe{constructor(q){this.delegate=q}getHeight(q){return this.delegate.getHeight(q.element)}getTemplateId(q){return this.delegate.getTemplateId(q.element)}hasDynamicHeight(q){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(q.element)}setDynamicHeight(q,Te){var rt,Gt;null===(Gt=(rt=this.delegate).setDynamicHeight)||void 0===Gt||Gt.call(rt,q.element,Te)}}var dt=(()=>{return(Tt=dt||(dt={})).None="none",Tt.OnHover="onHover",Tt.Always="always",dt;var Tt})();class st{constructor(q,Te=[]){this._elements=Te,this.disposables=new v.SL,this.onDidChange=S.ju.forEach(q,rt=>this._elements=rt,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}let qe=(()=>{class Tt{constructor(Te,rt,Gt,cn,Ln={}){var In;this.renderer=Te,this.modelProvider=rt,this.activeNodes=cn,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Tt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Ue,this.activeIndentNodes=new Set,this.indentGuidesDisposable=v.JT.None,this.disposables=new v.SL,this.templateId=Te.templateId,this.updateOptions(Ln),S.ju.map(Gt,ei=>ei.node)(this.onDidChangeNodeTwistieState,this,this.disposables),null===(In=Te.onDidChangeTwistieState)||void 0===In||In.call(Te,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Te={}){if(typeof Te.indent<"u"&&(this.indent=(0,ce.uZ)(Te.indent,0,40)),typeof Te.renderIndentGuides<"u"){const rt=Te.renderIndentGuides!==dt.None;if(rt!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=rt,this.indentGuidesDisposable.dispose(),rt)){const Gt=new v.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Gt),this.indentGuidesDisposable=Gt,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof Te.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=Te.hideTwistiesOfChildlessElements)}renderTemplate(Te){const rt=(0,d.R3)(Te,(0,d.$)(".monaco-tl-row")),Gt=(0,d.R3)(rt,(0,d.$)(".monaco-tl-indent")),cn=(0,d.R3)(rt,(0,d.$)(".monaco-tl-twistie")),Ln=(0,d.R3)(rt,(0,d.$)(".monaco-tl-contents")),In=this.renderer.renderTemplate(Ln);return{container:Te,indent:Gt,twistie:cn,indentGuidesDisposable:v.JT.None,templateData:In}}renderElement(Te,rt,Gt,cn){"number"==typeof cn&&(this.renderedNodes.set(Te,{templateData:Gt,height:cn}),this.renderedElements.set(Te.element,Te));const Ln=Tt.DefaultIndent+(Te.depth-1)*this.indent;Gt.twistie.style.paddingLeft=`${Ln}px`,Gt.indent.style.width=Ln+this.indent-16+"px",this.renderTwistie(Te,Gt),"number"==typeof cn&&this.renderIndentGuides(Te,Gt),this.renderer.renderElement(Te,rt,Gt.templateData,cn)}disposeElement(Te,rt,Gt,cn){var Ln,In;Gt.indentGuidesDisposable.dispose(),null===(In=(Ln=this.renderer).disposeElement)||void 0===In||In.call(Ln,Te,rt,Gt.templateData,cn),"number"==typeof cn&&(this.renderedNodes.delete(Te),this.renderedElements.delete(Te.element))}disposeTemplate(Te){this.renderer.disposeTemplate(Te.templateData)}onDidChangeTwistieState(Te){const rt=this.renderedElements.get(Te);!rt||this.onDidChangeNodeTwistieState(rt)}onDidChangeNodeTwistieState(Te){const rt=this.renderedNodes.get(Te);!rt||(this.renderTwistie(Te,rt.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(Te,rt.templateData))}renderTwistie(Te,rt){rt.twistie.classList.remove(...ke.lA.treeItemExpanded.classNamesArray);let Gt=!1;this.renderer.renderTwistie&&(Gt=this.renderer.renderTwistie(Te.element,rt.twistie)),Te.collapsible&&(!this.hideTwistiesOfChildlessElements||Te.visibleChildrenCount>0)?(Gt||rt.twistie.classList.add(...ke.lA.treeItemExpanded.classNamesArray),rt.twistie.classList.add("collapsible"),rt.twistie.classList.toggle("collapsed",Te.collapsed)):rt.twistie.classList.remove("collapsible","collapsed"),Te.collapsible?rt.container.setAttribute("aria-expanded",String(!Te.collapsed)):rt.container.removeAttribute("aria-expanded")}renderIndentGuides(Te,rt){if((0,d.PO)(rt.indent),rt.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Gt=new v.SL,cn=this.modelProvider();let Ln=Te;for(;;){const In=cn.getNodeLocation(Ln),ei=cn.getParentNodeLocation(In);if(!ei)break;const Jn=cn.getNode(ei),gi=(0,d.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Jn)&&gi.classList.add("active"),0===rt.indent.childElementCount?rt.indent.appendChild(gi):rt.indent.insertBefore(gi,rt.indent.firstElementChild),this.renderedIndentGuides.add(Jn,gi),Gt.add((0,v.OF)(()=>this.renderedIndentGuides.delete(Jn,gi))),Ln=Jn}rt.indentGuidesDisposable=Gt}_onDidChangeActiveNodes(Te){if(!this.shouldRenderIndentGuides)return;const rt=new Set,Gt=this.modelProvider();Te.forEach(cn=>{const Ln=Gt.getNodeLocation(cn);try{const In=Gt.getParentNodeLocation(Ln);cn.collapsible&&cn.children.length>0&&!cn.collapsed?rt.add(cn):In&&rt.add(Gt.getNode(In))}catch{}}),this.activeIndentNodes.forEach(cn=>{rt.has(cn)||this.renderedIndentGuides.forEach(cn,Ln=>Ln.classList.remove("active"))}),rt.forEach(cn=>{this.activeIndentNodes.has(cn)||this.renderedIndentGuides.forEach(cn,Ln=>Ln.classList.add("active"))}),this.activeIndentNodes=rt}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,v.B9)(this.disposables)}}return Tt.DefaultIndent=8,Tt})();class Qe{constructor(q,Te,rt){this.tree=q,this.keyboardNavigationLabelProvider=Te,this._filter=rt,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new v.SL,q.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(q,Te){let rt=1;if(this._filter){const Ln=this._filter.filter(q,Te);if(rt="boolean"==typeof Ln?Ln?1:0:Se(Ln)?Ie(Ln.visibility):Ln,0===rt)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:ze.CL.Default,visibility:rt};const Gt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q),cn=Array.isArray(Gt)?Gt:[Gt];for(const Ln of cn){const In=Ln&&Ln.toString();if(typeof In>"u")return{data:ze.CL.Default,visibility:rt};const ei=(0,ze.EW)(this._pattern,this._lowercasePattern,0,In,In.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ei)return this._matchCount++,1===cn.length?{data:ei,visibility:rt}:{data:{label:In,score:ei},visibility:rt}}return this.tree.findMode===vt.Filter?2:{data:ze.CL.Default,visibility:rt}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,v.B9)(this.disposables)}}var vt=(()=>{return(Tt=vt||(vt={}))[Tt.Highlight=0]="Highlight",Tt[Tt.Filter=1]="Filter",vt;var Tt})();class _t{constructor(q,Te,rt,Gt,cn){var Ln;this.tree=q,this.view=rt,this.filter=Gt,this.contextViewProvider=cn,this._pattern="",this.width=0,this._onDidChangeMode=new S.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new S.Q5,this._onDidChangeOpenState=new S.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new v.SL,this.disposables=new v.SL,this._mode=null!==(Ln=q.options.defaultFindMode)&&void 0!==Ln?Ln:vt.Highlight,Te.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(q){q!==this._mode&&(this._mode=q,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(q))}onDidSpliceModel(){!this.widget||0===this.pattern.length||(this.tree.refilter(),this.render())}render(){var q,Te;this.pattern&&this.filter.totalCount>0&&0===this.filter.matchCount?null===(q=this.widget)||void 0===q||q.showMessage({type:2,content:(0,ae.NC)("not found","No elements found.")}):null===(Te=this.widget)||void 0===Te||Te.clearMessage()}shouldAllowFocus(q){return!this.widget||!this.pattern||this._mode===vt.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1||!ze.CL.isDefault(q.filterData)}style(q){var Te;this.styles=q,null===(Te=this.widget)||void 0===Te||Te.style(q)}layout(q){var Te;this.width=q,null===(Te=this.widget)||void 0===Te||Te.layout(q)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function $t(Tt){let q=M.Unknown;return(0,d.uU)(Tt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?q=M.Twistie:(0,d.uU)(Tt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?q=M.Element:(0,d.uU)(Tt.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(q=M.Filter),{browserEvent:Tt.browserEvent,element:Tt.element?Tt.element.element:null,target:q}}function Bt(Tt,q){q(Tt),Tt.children.forEach(Te=>Bt(Te,q))}class Ke{constructor(q,Te){this.getFirstViewElementWithTrait=q,this.identityProvider=Te,this.nodes=[],this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(q,Te){!Te?.__forceEvent&&(0,n.fS)(this.nodes,q)||this._set(q,!1,Te)}_set(q,Te,rt){if(this.nodes=[...q],this.elements=void 0,this._nodeSet=void 0,!Te){const Gt=this;this._onDidChange.fire({get elements(){return Gt.get()},browserEvent:rt})}}get(){return this.elements||(this.elements=this.nodes.map(q=>q.element)),[...this.elements]}getNodes(){return this.nodes}has(q){return this.nodeSet.has(q)}onDidModelSplice({insertedNodes:q,deletedNodes:Te}){if(!this.identityProvider){const ei=this.createNodeSet(),Jn=gi=>ei.delete(gi);return Te.forEach(gi=>Bt(gi,Jn)),void this.set([...ei.values()])}const rt=new Set,Gt=ei=>rt.add(this.identityProvider.getId(ei.element).toString());Te.forEach(ei=>Bt(ei,Gt));const cn=new Map,Ln=ei=>cn.set(this.identityProvider.getId(ei.element).toString(),ei);q.forEach(ei=>Bt(ei,Ln));const In=[];for(const ei of this.nodes){const Jn=this.identityProvider.getId(ei.element).toString();if(rt.has(Jn)){const pi=cn.get(Jn);pi&&In.push(pi)}else In.push(ei)}if(this.nodes.length>0&&0===In.length){const ei=this.getFirstViewElementWithTrait();ei&&In.push(ei)}this._set(In,!0)}createNodeSet(){const q=new Set;for(const Te of this.nodes)q.add(Te);return q}}class ht extends C.sx{constructor(q,Te){super(q),this.tree=Te}onViewPointer(q){if((0,C.iK)(q.browserEvent.target)||(0,C.cK)(q.browserEvent.target)||(0,C.hD)(q.browserEvent.target))return;const Te=q.element;if(!Te)return super.onViewPointer(q);if(this.isSelectionRangeChangeEvent(q)||this.isSelectionSingleChangeEvent(q))return super.onViewPointer(q);const rt=q.browserEvent.target,Gt=rt.classList.contains("monaco-tl-twistie")||rt.classList.contains("monaco-icon-label")&&rt.classList.contains("folder-icon")&&q.browserEvent.offsetX<16;let cn=!1;if(cn="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(Te.element):!!this.tree.expandOnlyOnTwistieClick,cn&&!Gt&&2!==q.browserEvent.detail)return super.onViewPointer(q);if(!this.tree.expandOnDoubleClick&&2===q.browserEvent.detail)return super.onViewPointer(q);if(Te.collapsible){const Ln=this.tree.model,In=Ln.getNodeLocation(Te),ei=q.browserEvent.altKey;if(this.tree.setFocus([In]),Ln.setCollapsed(In,void 0,ei),cn&&Gt)return}super.onViewPointer(q)}onDoubleClick(q){q.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(q)}}class jt extends C.aV{constructor(q,Te,rt,Gt,cn,Ln,In,ei){super(q,Te,rt,Gt,ei),this.focusTrait=cn,this.selectionTrait=Ln,this.anchorTrait=In}createMouseController(q){return new ht(this,q.tree)}splice(q,Te,rt=[]){if(super.splice(q,Te,rt),0===rt.length)return;const Gt=[],cn=[];let Ln;rt.forEach((In,ei)=>{this.focusTrait.has(In)&&Gt.push(q+ei),this.selectionTrait.has(In)&&cn.push(q+ei),this.anchorTrait.has(In)&&(Ln=q+ei)}),Gt.length>0&&super.setFocus((0,n.EB)([...super.getFocus(),...Gt])),cn.length>0&&super.setSelection((0,n.EB)([...super.getSelection(),...cn])),"number"==typeof Ln&&super.setAnchor(Ln)}setFocus(q,Te,rt=!1){super.setFocus(q,Te),rt||this.focusTrait.set(q.map(Gt=>this.element(Gt)),Te)}setSelection(q,Te,rt=!1){super.setSelection(q,Te),rt||this.selectionTrait.set(q.map(Gt=>this.element(Gt)),Te)}setAnchor(q,Te=!1){super.setAnchor(q),Te||this.anchorTrait.set(typeof q>"u"?[]:[this.element(q)])}}class fn{constructor(q,Te,rt,Gt,cn={}){var Ln;this._user=q,this._options=cn,this.eventBufferer=new S.E7,this.onDidChangeFindOpenState=S.ju.None,this.disposables=new v.SL,this._onWillRefilter=new S.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new S.Q5;const In=new Pe(rt),ei=new S.ZD,Jn=new S.ZD,gi=this.disposables.add(new st(Jn.event));this.renderers=Gt.map(Mi=>new qe(Mi,()=>this.model,ei.event,gi,cn));for(const Mi of this.renderers)this.disposables.add(Mi);let pi;cn.keyboardNavigationLabelProvider&&(pi=new Qe(this,cn.keyboardNavigationLabelProvider,cn.filter),cn=Object.assign(Object.assign({},cn),{filter:pi}),this.disposables.add(pi)),this.focus=new Ke(()=>this.view.getFocusedElements()[0],cn.identityProvider),this.selection=new Ke(()=>this.view.getSelectedElements()[0],cn.identityProvider),this.anchor=new Ke(()=>this.view.getAnchorElement(),cn.identityProvider),this.view=new jt(q,Te,In,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function Ce(Tt,q){return q&&Object.assign(Object.assign({},q),{identityProvider:q.identityProvider&&{getId:Te=>q.identityProvider.getId(Te.element)},dnd:q.dnd&&new Q(Tt,q.dnd),multipleSelectionController:q.multipleSelectionController&&{isSelectionSingleChangeEvent:Te=>q.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},Te),{element:Te.element})),isSelectionRangeChangeEvent:Te=>q.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},Te),{element:Te.element}))},accessibilityProvider:q.accessibilityProvider&&Object.assign(Object.assign({},q.accessibilityProvider),{getSetSize(Te){const rt=Tt(),Gt=rt.getNodeLocation(Te),cn=rt.getParentNodeLocation(Gt);return rt.getNode(cn).visibleChildrenCount},getPosInSet:Te=>Te.visibleChildIndex+1,isChecked:q.accessibilityProvider&&q.accessibilityProvider.isChecked?Te=>q.accessibilityProvider.isChecked(Te.element):void 0,getRole:q.accessibilityProvider&&q.accessibilityProvider.getRole?Te=>q.accessibilityProvider.getRole(Te.element):()=>"treeitem",getAriaLabel:Te=>q.accessibilityProvider.getAriaLabel(Te.element),getWidgetAriaLabel:()=>q.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:q.accessibilityProvider&&q.accessibilityProvider.getWidgetRole?()=>q.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:q.accessibilityProvider&&q.accessibilityProvider.getAriaLevel?Te=>q.accessibilityProvider.getAriaLevel(Te.element):Te=>Te.depth,getActiveDescendantId:q.accessibilityProvider.getActiveDescendantId&&(Te=>q.accessibilityProvider.getActiveDescendantId(Te.element))}),keyboardNavigationLabelProvider:q.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},q.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:Te=>q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Te.element)})})}(()=>this.model,cn)),{tree:this})),this.model=this.createModel(q,this.view,cn),ei.input=this.model.onDidChangeCollapseState;const Ci=S.ju.forEach(this.model.onDidSplice,Mi=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Mi),this.selection.onDidModelSplice(Mi)})},this.disposables);if(Ci(()=>null,null,this.disposables),Jn.input=S.ju.chain(S.ju.any(Ci,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Mi=new Set;for(const Bi of this.focus.getNodes())Mi.add(Bi);for(const Bi of this.selection.getNodes())Mi.add(Bi);return[...Mi.values()]}).event,!1!==cn.keyboardSupport){const Mi=S.ju.chain(this.view.onKeyDown).filter(Bi=>!(0,C.cK)(Bi.target)).map(Bi=>new ne.y(Bi));Mi.filter(Bi=>15===Bi.keyCode).on(this.onLeftArrow,this,this.disposables),Mi.filter(Bi=>17===Bi.keyCode).on(this.onRightArrow,this,this.disposables),Mi.filter(Bi=>10===Bi.keyCode).on(this.onSpace,this,this.disposables)}(null===(Ln=cn.findWidgetEnabled)||void 0===Ln||Ln)&&cn.keyboardNavigationLabelProvider&&cn.contextViewProvider?(this.findController=new _t(this,this.model,this.view,pi,cn.contextViewProvider),this.focusNavigationFilter=Mi=>this.findController.shouldAllowFocus(Mi),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=S.ju.None,this.styleElement=(0,d.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===dt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return S.ju.filter(S.ju.map(this.view.onMouseDblClick,$t),q=>q.target!==M.Filter)}get onPointer(){return S.ju.map(this.view.onPointer,$t)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return S.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var q,Te;return null!==(Te=null===(q=this.findController)||void 0===q?void 0:q.mode)&&void 0!==Te?Te:vt.Highlight}set findMode(q){this.findController&&(this.findController.mode=q)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(q={}){this._options=Object.assign(Object.assign({},this._options),q);for(const Te of this.renderers)Te.updateOptions(q);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===dt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(q){this.view.scrollTop=q}domFocus(){this.view.domFocus()}layout(q,Te){var rt;this.view.layout(q,Te),(0,Ve.hj)(Te)&&(null===(rt=this.findController)||void 0===rt||rt.layout(Te))}style(q){var Te;const rt=`.${this.view.domId}`,Gt=[];q.treeIndentGuidesStroke&&(Gt.push(`.monaco-list${rt}:hover .monaco-tl-indent > .indent-guide, .monaco-list${rt}.always .monaco-tl-indent > .indent-guide  { border-color: ${q.treeIndentGuidesStroke.transparent(.4)}; }`),Gt.push(`.monaco-list${rt} .monaco-tl-indent > .indent-guide.active { border-color: ${q.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Gt.join("\n"),null===(Te=this.findController)||void 0===Te||Te.style(q),this.view.style(q)}getParentElement(q){const Te=this.model.getParentNodeLocation(q);return this.model.getNode(Te).element}getFirstElementChild(q){return this.model.getFirstElementChild(q)}getNode(q){return this.model.getNode(q)}collapse(q,Te=!1){return this.model.setCollapsed(q,!0,Te)}expand(q,Te=!1){return this.model.setCollapsed(q,!1,Te)}isCollapsible(q){return this.model.isCollapsible(q)}setCollapsible(q,Te){return this.model.setCollapsible(q,Te)}isCollapsed(q){return this.model.isCollapsed(q)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(q,Te){const rt=q.map(cn=>this.model.getNode(cn));this.selection.set(rt,Te);const Gt=q.map(cn=>this.model.getListIndex(cn)).filter(cn=>cn>-1);this.view.setSelection(Gt,Te,!0)}getSelection(){return this.selection.get()}setFocus(q,Te){const rt=q.map(cn=>this.model.getNode(cn));this.focus.set(rt,Te);const Gt=q.map(cn=>this.model.getListIndex(cn)).filter(cn=>cn>-1);this.view.setFocus(Gt,Te,!0)}getFocus(){return this.focus.get()}reveal(q,Te){this.model.expandTo(q);const rt=this.model.getListIndex(q);-1!==rt&&this.view.reveal(rt,Te)}onLeftArrow(q){q.preventDefault(),q.stopPropagation();const Te=this.view.getFocusedElements();if(0===Te.length)return;const Gt=this.model.getNodeLocation(Te[0]);if(!this.model.setCollapsed(Gt,!0)){const Ln=this.model.getParentNodeLocation(Gt);if(!Ln)return;const In=this.model.getListIndex(Ln);this.view.reveal(In),this.view.setFocus([In])}}onRightArrow(q){q.preventDefault(),q.stopPropagation();const Te=this.view.getFocusedElements();if(0===Te.length)return;const rt=Te[0],Gt=this.model.getNodeLocation(rt);if(!this.model.setCollapsed(Gt,!1)){if(!rt.children.some(ei=>ei.visible))return;const[Ln]=this.view.getFocus(),In=Ln+1;this.view.reveal(In),this.view.setFocus([In])}}onSpace(q){q.preventDefault(),q.stopPropagation();const Te=this.view.getFocusedElements();if(0===Te.length)return;const Gt=this.model.getNodeLocation(Te[0]);this.model.setCollapsed(Gt,void 0,q.browserEvent.altKey)}dispose(){(0,v.B9)(this.disposables),this.view.dispose()}}class Dn{constructor(q,Te,rt={}){this.user=q,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Me(q,Te,null,rt),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,rt.sorter&&(this.sorter={compare:(Gt,cn)=>rt.sorter.compare(Gt.element,cn.element)}),this.identityProvider=rt.identityProvider}setChildren(q,Te=oe.$.empty(),rt={}){const Gt=this.getElementLocation(q);this._setChildren(Gt,this.preserveCollapseState(Te),rt)}_setChildren(q,Te=oe.$.empty(),rt){const Gt=new Set,cn=new Set;this.model.splice([...q,0],Number.MAX_VALUE,Te,Object.assign(Object.assign({},rt),{onDidCreateNode:ei=>{var Jn;if(null===ei.element)return;const gi=ei;if(Gt.add(gi.element),this.nodes.set(gi.element,gi),this.identityProvider){const pi=this.identityProvider.getId(gi.element).toString();cn.add(pi),this.nodesByIdentity.set(pi,gi)}null===(Jn=rt.onDidCreateNode)||void 0===Jn||Jn.call(rt,gi)},onDidDeleteNode:ei=>{var Jn;if(null===ei.element)return;const gi=ei;if(Gt.has(gi.element)||this.nodes.delete(gi.element),this.identityProvider){const pi=this.identityProvider.getId(gi.element).toString();cn.has(pi)||this.nodesByIdentity.delete(pi)}null===(Jn=rt.onDidDeleteNode)||void 0===Jn||Jn.call(rt,gi)}}))}preserveCollapseState(q=oe.$.empty()){return this.sorter&&(q=[...q].sort(this.sorter.compare.bind(this.sorter))),oe.$.map(q,Te=>{let rt=this.nodes.get(Te.element);if(!rt&&this.identityProvider){const Ln=this.identityProvider.getId(Te.element).toString();rt=this.nodesByIdentity.get(Ln)}if(!rt)return Object.assign(Object.assign({},Te),{children:this.preserveCollapseState(Te.children)});const Gt="boolean"==typeof Te.collapsible?Te.collapsible:rt.collapsible,cn=typeof Te.collapsed<"u"?Te.collapsed:rt.collapsed;return Object.assign(Object.assign({},Te),{collapsible:Gt,collapsed:cn,children:this.preserveCollapseState(Te.children)})})}rerender(q){const Te=this.getElementLocation(q);this.model.rerender(Te)}getFirstElementChild(q=null){const Te=this.getElementLocation(q);return this.model.getFirstElementChild(Te)}has(q){return this.nodes.has(q)}getListIndex(q){const Te=this.getElementLocation(q);return this.model.getListIndex(Te)}getListRenderCount(q){const Te=this.getElementLocation(q);return this.model.getListRenderCount(Te)}isCollapsible(q){const Te=this.getElementLocation(q);return this.model.isCollapsible(Te)}setCollapsible(q,Te){const rt=this.getElementLocation(q);return this.model.setCollapsible(rt,Te)}isCollapsed(q){const Te=this.getElementLocation(q);return this.model.isCollapsed(Te)}setCollapsed(q,Te,rt){const Gt=this.getElementLocation(q);return this.model.setCollapsed(Gt,Te,rt)}expandTo(q){const Te=this.getElementLocation(q);this.model.expandTo(Te)}refilter(){this.model.refilter()}getNode(q=null){if(null===q)return this.model.getNode(this.model.rootRef);const Te=this.nodes.get(q);if(!Te)throw new we(this.user,`Tree element not found: ${q}`);return Te}getNodeLocation(q){return q.element}getParentNodeLocation(q){if(null===q)throw new we(this.user,"Invalid getParentNodeLocation call");const Te=this.nodes.get(q);if(!Te)throw new we(this.user,`Tree element not found: ${q}`);const rt=this.model.getNodeLocation(Te),Gt=this.model.getParentNodeLocation(rt);return this.model.getNode(Gt).element}getElementLocation(q){if(null===q)return[];const Te=this.nodes.get(q);if(!Te)throw new we(this.user,`Tree element not found: ${q}`);return this.model.getNodeLocation(Te)}}function yt(Tt){return{element:{elements:[Tt.element],incompressible:Tt.incompressible||!1},children:oe.$.map(oe.$.from(Tt.children),yt),collapsible:Tt.collapsible,collapsed:Tt.collapsed}}function He(Tt){const q=[Tt.element],Te=Tt.incompressible||!1;let rt,Gt;for(;[Gt,rt]=oe.$.consume(oe.$.from(Tt.children),2),1===Gt.length&&!Gt[0].incompressible;)q.push((Tt=Gt[0]).element);return{element:{elements:q,incompressible:Te},children:oe.$.map(oe.$.concat(Gt,rt),He),collapsible:Tt.collapsible,collapsed:Tt.collapsed}}function ye(Tt,q=0){let Te;return Te=q<Tt.element.elements.length-1?[ye(Tt,q+1)]:oe.$.map(oe.$.from(Tt.children),rt=>ye(rt,0)),0===q&&Tt.element.incompressible?{element:Tt.element.elements[q],children:Te,incompressible:!0,collapsible:Tt.collapsible,collapsed:Tt.collapsed}:{element:Tt.element.elements[q],children:Te,collapsible:Tt.collapsible,collapsed:Tt.collapsed}}function Ae(Tt){return ye(Tt,0)}function ue(Tt,q,Te){return Object.assign(Object.assign({},Tt),Tt.element===q?{children:Te}:{children:oe.$.map(oe.$.from(Tt.children),rt=>ue(rt,q,Te))})}class Je{constructor(q,Te,rt={}){this.user=q,this.rootRef=null,this.nodes=new Map,this.model=new Dn(q,Te,rt),this.enabled=typeof rt.compressionEnabled>"u"||rt.compressionEnabled,this.identityProvider=rt.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(q,Te=oe.$.empty(),rt){const Gt=rt.diffIdentityProvider&&(Tt=rt.diffIdentityProvider,{getId:q=>q.elements.map(Te=>Tt.getId(Te).toString()).join("\0")});var Tt;if(null===q){const Mi=oe.$.map(Te,this.enabled?He:yt);return void this._setChildren(null,Mi,{diffIdentityProvider:Gt,diffDepth:1/0})}const cn=this.nodes.get(q);if(!cn)throw new Error("Unknown compressed tree node");const Ln=this.model.getNode(cn),In=this.model.getParentNodeLocation(cn),ei=this.model.getNode(In),gi=ue(Ae(Ln),q,Te),pi=(this.enabled?He:yt)(gi),Ci=ei.children.map(Mi=>Mi===Ln?pi:Mi);this._setChildren(ei.element,Ci,{diffIdentityProvider:Gt,diffDepth:Ln.depth-ei.depth})}setCompressionEnabled(q){if(q===this.enabled)return;this.enabled=q;const rt=this.model.getNode().children,Gt=oe.$.map(rt,Ae),cn=oe.$.map(Gt,q?He:yt);this._setChildren(null,cn,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(q,Te,rt){const Gt=new Set;this.model.setChildren(q,Te,Object.assign(Object.assign({},rt),{onDidCreateNode:In=>{for(const ei of In.element.elements)Gt.add(ei),this.nodes.set(ei,In.element)},onDidDeleteNode:In=>{for(const ei of In.element.elements)Gt.has(ei)||this.nodes.delete(ei)}}))}has(q){return this.nodes.has(q)}getListIndex(q){const Te=this.getCompressedNode(q);return this.model.getListIndex(Te)}getListRenderCount(q){const Te=this.getCompressedNode(q);return this.model.getListRenderCount(Te)}getNode(q){if(typeof q>"u")return this.model.getNode();const Te=this.getCompressedNode(q);return this.model.getNode(Te)}getNodeLocation(q){const Te=this.model.getNodeLocation(q);return null===Te?null:Te.elements[Te.elements.length-1]}getParentNodeLocation(q){const Te=this.getCompressedNode(q),rt=this.model.getParentNodeLocation(Te);return null===rt?null:rt.elements[rt.elements.length-1]}getFirstElementChild(q){const Te=this.getCompressedNode(q);return this.model.getFirstElementChild(Te)}isCollapsible(q){const Te=this.getCompressedNode(q);return this.model.isCollapsible(Te)}setCollapsible(q,Te){const rt=this.getCompressedNode(q);return this.model.setCollapsible(rt,Te)}isCollapsed(q){const Te=this.getCompressedNode(q);return this.model.isCollapsed(Te)}setCollapsed(q,Te,rt){const Gt=this.getCompressedNode(q);return this.model.setCollapsed(Gt,Te,rt)}expandTo(q){const Te=this.getCompressedNode(q);this.model.expandTo(Te)}rerender(q){const Te=this.getCompressedNode(q);this.model.rerender(Te)}refilter(){this.model.refilter()}getCompressedNode(q){if(null===q)return null;const Te=this.nodes.get(q);if(!Te)throw new we(this.user,`Tree element not found: ${q}`);return Te}}const Fe=Tt=>Tt[Tt.length-1];class nt{constructor(q,Te){this.unwrapper=q,this.node=Te}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(q=>new nt(this.unwrapper,q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class vn{constructor(q,Te,rt={}){this.rootRef=null,this.elementMapper=rt.elementMapper||Fe;const Gt=cn=>this.elementMapper(cn.elements);this.nodeMapper=new Ee(cn=>new nt(Gt,cn)),this.model=new Je(q,function bt(Tt,q){return{splice(Te,rt,Gt){q.splice(Te,rt,Gt.map(cn=>Tt.map(cn)))},updateElementHeight(Te,rt){q.updateElementHeight(Te,rt)}}}(this.nodeMapper,Te),function Ut(Tt,q){return Object.assign(Object.assign({},q),{identityProvider:q.identityProvider&&{getId:Te=>q.identityProvider.getId(Tt(Te))},sorter:q.sorter&&{compare:(Te,rt)=>q.sorter.compare(Te.elements[0],rt.elements[0])},filter:q.filter&&{filter:(Te,rt)=>q.filter.filter(Tt(Te),rt)}})}(Gt,rt))}get onDidSplice(){return S.ju.map(this.model.onDidSplice,({insertedNodes:q,deletedNodes:Te})=>({insertedNodes:q.map(rt=>this.nodeMapper.map(rt)),deletedNodes:Te.map(rt=>this.nodeMapper.map(rt))}))}get onDidChangeCollapseState(){return S.ju.map(this.model.onDidChangeCollapseState,({node:q,deep:Te})=>({node:this.nodeMapper.map(q),deep:Te}))}get onDidChangeRenderNodeCount(){return S.ju.map(this.model.onDidChangeRenderNodeCount,q=>this.nodeMapper.map(q))}setChildren(q,Te=oe.$.empty(),rt={}){this.model.setChildren(q,Te,rt)}setCompressionEnabled(q){this.model.setCompressionEnabled(q)}has(q){return this.model.has(q)}getListIndex(q){return this.model.getListIndex(q)}getListRenderCount(q){return this.model.getListRenderCount(q)}getNode(q){return this.nodeMapper.map(this.model.getNode(q))}getNodeLocation(q){return q.element}getParentNodeLocation(q){return this.model.getParentNodeLocation(q)}getFirstElementChild(q){const Te=this.model.getFirstElementChild(q);return null===Te||typeof Te>"u"?Te:this.elementMapper(Te.elements)}isCollapsible(q){return this.model.isCollapsible(q)}setCollapsible(q,Te){return this.model.setCollapsible(q,Te)}isCollapsed(q){return this.model.isCollapsed(q)}setCollapsed(q,Te,rt){return this.model.setCollapsed(q,Te,rt)}expandTo(q){return this.model.expandTo(q)}rerender(q){return this.model.rerender(q)}refilter(){return this.model.refilter()}getCompressedTreeNode(q=null){return this.model.getNode(q)}}var Mn=e(66471);class gn extends fn{constructor(q,Te,rt,Gt,cn={}){super(q,Te,rt,Gt,cn),this.user=q}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(q,Te=oe.$.empty(),rt){this.model.setChildren(q,Te,rt)}rerender(q){void 0!==q?this.model.rerender(q):this.view.rerender()}hasElement(q){return this.model.has(q)}createModel(q,Te,rt){return new Dn(q,Te,rt)}}class Vn{constructor(q,Te){this._compressedTreeNodeProvider=q,this.renderer=Te,this.templateId=Te.templateId,Te.onDidChangeTwistieState&&(this.onDidChangeTwistieState=Te.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(q){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(q)}}renderElement(q,Te,rt,Gt){const cn=this.compressedTreeNodeProvider.getCompressedTreeNode(q.element);1===cn.element.elements.length?(rt.compressedTreeNode=void 0,this.renderer.renderElement(q,Te,rt.data,Gt)):(rt.compressedTreeNode=cn,this.renderer.renderCompressedElements(cn,Te,rt.data,Gt))}disposeElement(q,Te,rt,Gt){var cn,Ln,In,ei;rt.compressedTreeNode?null===(Ln=(cn=this.renderer).disposeCompressedElements)||void 0===Ln||Ln.call(cn,rt.compressedTreeNode,Te,rt.data,Gt):null===(ei=(In=this.renderer).disposeElement)||void 0===ei||ei.call(In,q,Te,rt.data,Gt)}disposeTemplate(q){this.renderer.disposeTemplate(q.data)}renderTwistie(q,Te){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(q,Te)}}!function(Tt,q,Te,rt){var Ln,Gt=arguments.length,cn=Gt<3?q:null===rt?rt=Object.getOwnPropertyDescriptor(q,Te):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)cn=Reflect.decorate(Tt,q,Te,rt);else for(var In=Tt.length-1;In>=0;In--)(Ln=Tt[In])&&(cn=(Gt<3?Ln(cn):Gt>3?Ln(q,Te,cn):Ln(q,Te))||cn);Gt>3&&cn&&Object.defineProperty(q,Te,cn)}([Mn.H],Vn.prototype,"compressedTreeNodeProvider",null);class Gn extends gn{constructor(q,Te,rt,Gt,cn={}){const Ln=()=>this;super(q,Te,rt,Gt.map(ei=>new Vn(Ln,ei)),function Sn(Tt,q){return q&&Object.assign(Object.assign({},q),{keyboardNavigationLabelProvider:q.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Te){let rt;try{rt=Tt().getCompressedTreeNode(Te)}catch{return q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Te)}return 1===rt.element.elements.length?q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Te):q.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(rt.element.elements)}}})}(Ln,cn))}setChildren(q,Te=oe.$.empty(),rt){this.model.setChildren(q,Te,rt)}createModel(q,Te,rt){return new vn(q,Te,rt)}updateOptions(q={}){super.updateOptions(q),typeof q.compressionEnabled<"u"&&this.model.setCompressionEnabled(q.compressionEnabled)}getCompressedTreeNode(q=null){return this.model.getCompressedTreeNode(q)}}var ci=e(4125),ii=function(Tt,q,Te,rt){return new(Te||(Te=Promise))(function(cn,Ln){function In(gi){try{Jn(rt.next(gi))}catch(pi){Ln(pi)}}function ei(gi){try{Jn(rt.throw(gi))}catch(pi){Ln(pi)}}function Jn(gi){gi.done?cn(gi.value):function Gt(cn){return cn instanceof Te?cn:new Te(function(Ln){Ln(cn)})}(gi.value).then(In,ei)}Jn((rt=rt.apply(Tt,q||[])).next())})};function Ei(Tt){return Object.assign(Object.assign({},Tt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function no(Tt,q){return!!q.parent&&(q.parent===Tt||no(Tt,q.parent))}class Co{constructor(q){this.node=q}get element(){return this.node.element.element}get children(){return this.node.children.map(q=>new Co(q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class io{constructor(q,Te,rt){this.renderer=q,this.nodeMapper=Te,this.onDidChangeTwistieState=rt,this.renderedNodes=new Map,this.templateId=q.templateId}renderTemplate(q){return{templateData:this.renderer.renderTemplate(q)}}renderElement(q,Te,rt,Gt){this.renderer.renderElement(this.nodeMapper.map(q),Te,rt.templateData,Gt)}renderTwistie(q,Te){return q.slow?(Te.classList.add(...ke.lA.treeItemLoading.classNamesArray),!0):(Te.classList.remove(...ke.lA.treeItemLoading.classNamesArray),!1)}disposeElement(q,Te,rt,Gt){var cn,Ln;null===(Ln=(cn=this.renderer).disposeElement)||void 0===Ln||Ln.call(cn,this.nodeMapper.map(q),Te,rt.templateData,Gt)}disposeTemplate(q){this.renderer.disposeTemplate(q.templateData)}dispose(){this.renderedNodes.clear()}}function uo(Tt){return{browserEvent:Tt.browserEvent,elements:Tt.elements.map(q=>q.element)}}function go(Tt){return{browserEvent:Tt.browserEvent,element:Tt.element&&Tt.element.element,target:Tt.target}}class si extends Z.kX{constructor(q){super(q.elements.map(Te=>Te.element)),this.data=q}}function Yt(Tt){return Tt instanceof Z.kX?new si(Tt):Tt}class pt{constructor(q){this.dnd=q}getDragURI(q){return this.dnd.getDragURI(q.element)}getDragLabel(q,Te){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(q.map(rt=>rt.element),Te)}onDragStart(q,Te){var rt,Gt;null===(Gt=(rt=this.dnd).onDragStart)||void 0===Gt||Gt.call(rt,Yt(q),Te)}onDragOver(q,Te,rt,Gt,cn=!0){return this.dnd.onDragOver(Yt(q),Te&&Te.element,rt,Gt)}drop(q,Te,rt,Gt){this.dnd.drop(Yt(q),Te&&Te.element,rt,Gt)}onDragEnd(q){var Te,rt;null===(rt=(Te=this.dnd).onDragEnd)||void 0===rt||rt.call(Te,q)}}function gt(Tt){return Tt&&Object.assign(Object.assign({},Tt),{collapseByDefault:!0,identityProvider:Tt.identityProvider&&{getId:q=>Tt.identityProvider.getId(q.element)},dnd:Tt.dnd&&new pt(Tt.dnd),multipleSelectionController:Tt.multipleSelectionController&&{isSelectionSingleChangeEvent:q=>Tt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},q),{element:q.element})),isSelectionRangeChangeEvent:q=>Tt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},q),{element:q.element}))},accessibilityProvider:Tt.accessibilityProvider&&Object.assign(Object.assign({},Tt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Tt.accessibilityProvider.getRole?q=>Tt.accessibilityProvider.getRole(q.element):()=>"treeitem",isChecked:Tt.accessibilityProvider.isChecked?q=>{var Te;return!(null===(Te=Tt.accessibilityProvider)||void 0===Te||!Te.isChecked(q.element))}:void 0,getAriaLabel:q=>Tt.accessibilityProvider.getAriaLabel(q.element),getWidgetAriaLabel:()=>Tt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:Tt.accessibilityProvider.getWidgetRole?()=>Tt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Tt.accessibilityProvider.getAriaLevel&&(q=>Tt.accessibilityProvider.getAriaLevel(q.element)),getActiveDescendantId:Tt.accessibilityProvider.getActiveDescendantId&&(q=>Tt.accessibilityProvider.getActiveDescendantId(q.element))}),filter:Tt.filter&&{filter:(q,Te)=>Tt.filter.filter(q.element,Te)},keyboardNavigationLabelProvider:Tt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Tt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:q=>Tt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}),sorter:void 0,expandOnlyOnTwistieClick:typeof Tt.expandOnlyOnTwistieClick>"u"?void 0:"function"!=typeof Tt.expandOnlyOnTwistieClick?Tt.expandOnlyOnTwistieClick:q=>Tt.expandOnlyOnTwistieClick(q.element),additionalScrollHeight:Tt.additionalScrollHeight})}function Kt(Tt,q){q(Tt),Tt.children.forEach(Te=>Kt(Te,q))}class nn{constructor(q,Te,rt,Gt,cn,Ln={}){this.user=q,this.dataSource=cn,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Q5,this._onDidChangeNodeSlowState=new S.Q5,this.nodeMapper=new Ee(In=>new Co(In)),this.disposables=new v.SL,this.identityProvider=Ln.identityProvider,this.autoExpandSingleChildren=!(typeof Ln.autoExpandSingleChildren>"u")&&Ln.autoExpandSingleChildren,this.sorter=Ln.sorter,this.collapseByDefault=Ln.collapseByDefault,this.tree=this.createTree(q,Te,rt,Gt,Ln),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Ei({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.ju.map(this.tree.onDidChangeFocus,uo)}get onDidChangeSelection(){return S.ju.map(this.tree.onDidChangeSelection,uo)}get onMouseDblClick(){return S.ju.map(this.tree.onMouseDblClick,go)}get onPointer(){return S.ju.map(this.tree.onPointer,go)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(q,Te,rt,Gt,cn){const Ln=new Pe(rt),In=Gt.map(Jn=>new io(Jn,this.nodeMapper,this._onDidChangeNodeSlowState.event)),ei=gt(cn)||{};return new gn(q,Te,Ln,In,ei)}updateOptions(q={}){this.tree.updateOptions(q)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(q){this.tree.scrollTop=q}domFocus(){this.tree.domFocus()}layout(q,Te){this.tree.layout(q,Te)}style(q){this.tree.style(q)}getInput(){return this.root.element}setInput(q,Te){return ii(this,void 0,void 0,function*(){this.refreshPromises.forEach(Gt=>Gt.cancel()),this.refreshPromises.clear(),this.root.element=q;const rt=Te&&{viewState:Te,focus:[],selection:[]};yield this._updateChildren(q,!0,!1,rt),rt&&(this.tree.setFocus(rt.focus),this.tree.setSelection(rt.selection)),Te&&"number"==typeof Te.scrollTop&&(this.scrollTop=Te.scrollTop)})}_updateChildren(q=this.root.element,Te=!0,rt=!1,Gt,cn){return ii(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new we(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event));const Ln=this.getDataNode(q);if(yield this.refreshAndRenderNode(Ln,Te,Gt,cn),rt)try{this.tree.rerender(Ln)}catch{}})}rerender(q){if(void 0===q||q===this.root.element)return void this.tree.rerender();const Te=this.getDataNode(q);this.tree.rerender(Te)}getNode(q=this.root.element){const Te=this.getDataNode(q),rt=this.tree.getNode(Te===this.root?null:Te);return this.nodeMapper.map(rt)}collapse(q,Te=!1){const rt=this.getDataNode(q);return this.tree.collapse(rt===this.root?null:rt,Te)}expand(q,Te=!1){return ii(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new we(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event));const rt=this.getDataNode(q);if(this.tree.hasElement(rt)&&!this.tree.isCollapsible(rt)||(rt.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event)),rt!==this.root&&!rt.refreshPromise&&!this.tree.isCollapsed(rt)))return!1;const Gt=this.tree.expand(rt===this.root?null:rt,Te);return rt.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event)),Gt})}setSelection(q,Te){const rt=q.map(Gt=>this.getDataNode(Gt));this.tree.setSelection(rt,Te)}getSelection(){return this.tree.getSelection().map(Te=>Te.element)}setFocus(q,Te){const rt=q.map(Gt=>this.getDataNode(Gt));this.tree.setFocus(rt,Te)}getFocus(){return this.tree.getFocus().map(Te=>Te.element)}reveal(q,Te){this.tree.reveal(this.getDataNode(q),Te)}getParentElement(q){const Te=this.tree.getParentElement(this.getDataNode(q));return Te&&Te.element}getFirstElementChild(q=this.root.element){const Te=this.getDataNode(q),rt=this.tree.getFirstElementChild(Te===this.root?null:Te);return rt&&rt.element}getDataNode(q){const Te=this.nodes.get(q===this.root.element?null:q);if(!Te)throw new we(this.user,`Data tree node not found: ${q}`);return Te}refreshAndRenderNode(q,Te,rt,Gt){return ii(this,void 0,void 0,function*(){yield this.refreshNode(q,Te,rt),this.render(q,rt,Gt)})}refreshNode(q,Te,rt){return ii(this,void 0,void 0,function*(){let Gt;return this.subTreeRefreshPromises.forEach((cn,Ln)=>{!Gt&&function to(Tt,q){return Tt===q||no(Tt,q)||no(q,Tt)}(Ln,q)&&(Gt=cn.then(()=>this.refreshNode(q,Te,rt)))}),Gt||(q!==this.root&&this.tree.getNode(q).collapsed?(q.hasChildren=!!this.dataSource.hasChildren(q.element),void(q.stale=!0)):this.doRefreshSubTree(q,Te,rt))})}doRefreshSubTree(q,Te,rt){return ii(this,void 0,void 0,function*(){let Gt;q.refreshPromise=new Promise(cn=>Gt=cn),this.subTreeRefreshPromises.set(q,q.refreshPromise),q.refreshPromise.finally(()=>{q.refreshPromise=void 0,this.subTreeRefreshPromises.delete(q)});try{const cn=yield this.doRefreshNode(q,Te,rt);q.stale=!1,yield xe.jT.settled(cn.map(Ln=>this.doRefreshSubTree(Ln,Te,rt)))}finally{Gt()}})}doRefreshNode(q,Te,rt){return ii(this,void 0,void 0,function*(){let Gt;if(q.hasChildren=!!this.dataSource.hasChildren(q.element),q.hasChildren){const cn=this.doGetChildren(q);if((0,Ve.TW)(cn))Gt=Promise.resolve(cn);else{const Ln=(0,xe.Vs)(800);Ln.then(()=>{q.slow=!0,this._onDidChangeNodeSlowState.fire(q)},In=>null),Gt=cn.finally(()=>Ln.cancel())}}else Gt=Promise.resolve(oe.$.empty());try{const cn=yield Gt;return this.setChildren(q,cn,Te,rt)}catch(cn){if(q!==this.root&&this.tree.hasElement(q)&&this.tree.collapse(q),(0,ci.n2)(cn))return[];throw cn}finally{q.slow&&(q.slow=!1,this._onDidChangeNodeSlowState.fire(q))}})}doGetChildren(q){let Te=this.refreshPromises.get(q);if(Te)return Te;const rt=this.dataSource.getChildren(q.element);return(0,Ve.TW)(rt)?this.processChildren(rt):(Te=(0,xe.PG)(()=>ii(this,void 0,void 0,function*(){return this.processChildren(yield rt)})),this.refreshPromises.set(q,Te),Te.finally(()=>{this.refreshPromises.delete(q)}))}_onDidChangeCollapseState({node:q,deep:Te}){null!==q.element&&!q.collapsed&&q.element.stale&&(Te?this.collapse(q.element.element):this.refreshAndRenderNode(q.element,!1).catch(ci.dL))}setChildren(q,Te,rt,Gt){const cn=[...Te];if(0===q.children.length&&0===cn.length)return[];const Ln=new Map,In=new Map;for(const gi of q.children)if(Ln.set(gi.element,gi),this.identityProvider){const pi=this.tree.isCollapsed(gi);In.set(gi.id,{node:gi,collapsed:pi})}const ei=[],Jn=cn.map(gi=>{const pi=!!this.dataSource.hasChildren(gi);if(!this.identityProvider){const $i=Ei({element:gi,parent:q,hasChildren:pi});return pi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&($i.collapsedByDefault=!1,ei.push($i)),$i}const Ci=this.identityProvider.getId(gi).toString(),Mi=In.get(Ci);if(Mi){const $i=Mi.node;return Ln.delete($i.element),this.nodes.delete($i.element),this.nodes.set(gi,$i),$i.element=gi,$i.hasChildren=pi,rt?Mi.collapsed?($i.children.forEach(zi=>Kt(zi,_o=>this.nodes.delete(_o.element))),$i.children.splice(0,$i.children.length),$i.stale=!0):ei.push($i):pi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&($i.collapsedByDefault=!1,ei.push($i)),$i}const Bi=Ei({element:gi,parent:q,id:Ci,hasChildren:pi});return Gt&&Gt.viewState.focus&&Gt.viewState.focus.indexOf(Ci)>-1&&Gt.focus.push(Bi),Gt&&Gt.viewState.selection&&Gt.viewState.selection.indexOf(Ci)>-1&&Gt.selection.push(Bi),Gt&&Gt.viewState.expanded&&Gt.viewState.expanded.indexOf(Ci)>-1?ei.push(Bi):pi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&(Bi.collapsedByDefault=!1,ei.push(Bi)),Bi});for(const gi of Ln.values())Kt(gi,pi=>this.nodes.delete(pi.element));for(const gi of Jn)this.nodes.set(gi.element,gi);return q.children.splice(0,q.children.length,...Jn),q!==this.root&&this.autoExpandSingleChildren&&1===Jn.length&&0===ei.length&&(Jn[0].collapsedByDefault=!1,ei.push(Jn[0])),ei}render(q,Te,rt){const Gt=q.children.map(Ln=>this.asTreeElement(Ln,Te)),cn=rt&&Object.assign(Object.assign({},rt),{diffIdentityProvider:rt.diffIdentityProvider&&{getId:Ln=>rt.diffIdentityProvider.getId(Ln.element)}});this.tree.setChildren(q===this.root?null:q,Gt,cn),q!==this.root&&this.tree.setCollapsible(q,q.hasChildren),this._onDidRender.fire()}asTreeElement(q,Te){if(q.stale)return{element:q,collapsible:q.hasChildren,collapsed:!0};let rt;return rt=!(Te&&Te.viewState.expanded&&q.id&&Te.viewState.expanded.indexOf(q.id)>-1)&&q.collapsedByDefault,q.collapsedByDefault=void 0,{element:q,children:q.hasChildren?oe.$.map(q.children,Gt=>this.asTreeElement(Gt,Te)):[],collapsible:q.hasChildren,collapsed:rt}}processChildren(q){return this.sorter&&(q=[...q].sort(this.sorter.compare.bind(this.sorter))),q}dispose(){this.disposables.dispose()}}class an{constructor(q){this.node=q}get element(){return{elements:this.node.element.elements.map(q=>q.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(q=>new an(q))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class mn{constructor(q,Te,rt,Gt){this.renderer=q,this.nodeMapper=Te,this.compressibleNodeMapperProvider=rt,this.onDidChangeTwistieState=Gt,this.renderedNodes=new Map,this.disposables=[],this.templateId=q.templateId}renderTemplate(q){return{templateData:this.renderer.renderTemplate(q)}}renderElement(q,Te,rt,Gt){this.renderer.renderElement(this.nodeMapper.map(q),Te,rt.templateData,Gt)}renderCompressedElements(q,Te,rt,Gt){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(q),Te,rt.templateData,Gt)}renderTwistie(q,Te){return q.slow?(Te.classList.add(...ke.lA.treeItemLoading.classNamesArray),!0):(Te.classList.remove(...ke.lA.treeItemLoading.classNamesArray),!1)}disposeElement(q,Te,rt,Gt){var cn,Ln;null===(Ln=(cn=this.renderer).disposeElement)||void 0===Ln||Ln.call(cn,this.nodeMapper.map(q),Te,rt.templateData,Gt)}disposeCompressedElements(q,Te,rt,Gt){var cn,Ln;null===(Ln=(cn=this.renderer).disposeCompressedElements)||void 0===Ln||Ln.call(cn,this.compressibleNodeMapperProvider().map(q),Te,rt.templateData,Gt)}disposeTemplate(q){this.renderer.disposeTemplate(q.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,v.B9)(this.disposables)}}class jn extends nn{constructor(q,Te,rt,Gt,cn,Ln,In={}){super(q,Te,rt,cn,Ln,In),this.compressionDelegate=Gt,this.compressibleNodeMapper=new Ee(ei=>new an(ei)),this.filter=In.filter}createTree(q,Te,rt,Gt,cn){const Ln=new Pe(rt),In=Gt.map(Jn=>new mn(Jn,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),ei=function Nn(Tt){const q=Tt&&gt(Tt);return q&&Object.assign(Object.assign({},q),{keyboardNavigationLabelProvider:q.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},q.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:Te=>Tt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Te.map(rt=>rt.element))})})}(cn)||{};return new Gn(q,Te,Ln,In,ei)}asTreeElement(q,Te){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(q.element)},super.asTreeElement(q,Te))}updateOptions(q={}){this.tree.updateOptions(q)}render(q,Te){if(!this.identityProvider)return super.render(q,Te);const rt=Ci=>this.identityProvider.getId(Ci).toString(),Gt=Ci=>{const Mi=new Set;for(const Bi of Ci){const $i=this.tree.getCompressedTreeNode(Bi===this.root?null:Bi);if($i.element)for(const zi of $i.element.elements)Mi.add(rt(zi.element))}return Mi},cn=Gt(this.tree.getSelection()),Ln=Gt(this.tree.getFocus());super.render(q,Te);const In=this.getSelection();let ei=!1;const Jn=this.getFocus();let gi=!1;const pi=Ci=>{const Mi=Ci.element;if(Mi)for(let Bi=0;Bi<Mi.elements.length;Bi++){const $i=rt(Mi.elements[Bi].element),zi=Mi.elements[Mi.elements.length-1].element;cn.has($i)&&-1===In.indexOf(zi)&&(In.push(zi),ei=!0),Ln.has($i)&&-1===Jn.indexOf(zi)&&(Jn.push(zi),gi=!0)}Ci.children.forEach(pi)};pi(this.tree.getCompressedTreeNode(q===this.root?null:q)),ei&&this.setSelection(In),gi&&this.setFocus(Jn)}processChildren(q){return this.filter&&(q=oe.$.filter(q,Te=>{const Gt=function Yn(Tt){return"boolean"==typeof Tt?Tt?1:0:Se(Tt)?Ie(Tt.visibility):Ie(Tt)}(this.filter.filter(Te,1));if(2===Gt)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===Gt})),super.processChildren(q)}}class wi extends fn{constructor(q,Te,rt,Gt,cn,Ln={}){super(q,Te,rt,Gt,Ln),this.user=q,this.dataSource=cn,this.identityProvider=Ln.identityProvider}createModel(q,Te,rt){return new Dn(q,Te,rt)}}var Li=e(94667),Qi=e(29093),Pi=e(16468),Ki=e(38980),Wi=e(50703),ro=e(9265),mo=e(14759),Ko=e(4259),Eo=e(52075),Mo=e(40902),Io=function(Tt,q,Te,rt){var Ln,Gt=arguments.length,cn=Gt<3?q:null===rt?rt=Object.getOwnPropertyDescriptor(q,Te):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)cn=Reflect.decorate(Tt,q,Te,rt);else for(var In=Tt.length-1;In>=0;In--)(Ln=Tt[In])&&(cn=(Gt<3?Ln(cn):Gt>3?Ln(q,Te,cn):Ln(q,Te))||cn);return Gt>3&&cn&&Object.defineProperty(q,Te,cn),cn},Yi=function(Tt,q){return function(Te,rt){q(Te,rt,Tt)}};const ho=(0,ro.yh)("listService");let Ao=class{constructor(q){this._themeService=q,this.disposables=new v.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(q){var Te,rt;q!==this._lastFocusedWidget&&(null===(Te=this._lastFocusedWidget)||void 0===Te||Te.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=q,null===(rt=this._lastFocusedWidget)||void 0===rt||rt.getHTMLElement().classList.add("last-focused"))}register(q,Te){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const Gt=new C.wD((0,d.dS)(),"");this.disposables.add((0,Eo.Jl)(Gt,this._themeService))}if(this.lists.some(Gt=>Gt.widget===q))throw new Error("Cannot register the same widget multiple times");const rt={widget:q,extraContextKeys:Te};return this.lists.push(rt),q.getHTMLElement()===document.activeElement&&this.setLastFocusedList(q),(0,v.F8)(q.onDidFocus(()=>this.setLastFocusedList(q)),(0,v.OF)(()=>this.lists.splice(this.lists.indexOf(rt),1)),q.onDidDispose(()=>{this.lists=this.lists.filter(Gt=>Gt!==rt),this._lastFocusedWidget===q&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Ao=Io([Yi(0,Mo.XE)],Ao);const li=new Pi.uy("listFocus",!0),Xt=new Pi.uy("listSupportsMultiselect",!0),kt=Pi.Ao.and(li,Pi.Ao.not(Ki.d0)),un=new Pi.uy("listHasSelectionOrFocus",!1),Rn=new Pi.uy("listDoubleSelection",!1),Wn=new Pi.uy("listMultiSelection",!1),dn=new Pi.uy("listSelectionNavigation",!1),ft=new Pi.uy("listSupportsFind",!0),sn=new Pi.uy("treeElementCanCollapse",!1),tn=new Pi.uy("treeElementHasParent",!1),xn=new Pi.uy("treeElementCanExpand",!1),Pn=new Pi.uy("treeElementHasChild",!1),En=new Pi.uy("treeFindOpen",!1),ut="listTypeNavigationMode",Pt="listAutomaticKeyboardNavigation";function Ht(Tt,q){const Te=Tt.createScoped(q.getHTMLElement());return li.bindTo(Te),Te}const Qt="workbench.list.multiSelectModifier",bn="workbench.list.openMode",Re="workbench.list.horizontalScrolling",ct="workbench.list.defaultFindMode",Cn="workbench.list.keyboardNavigation",Hn="workbench.tree.indent",Ii="workbench.tree.renderIndentGuides",bi="workbench.list.smoothScrolling",di="workbench.list.mouseWheelScrollSensitivity",Ft="workbench.list.fastScrollSensitivity",R="workbench.tree.expandMode";function J(Tt){return"alt"===Tt.getValue(Qt)}class _e extends v.JT{constructor(q){super(),this.configurationService=q,this.useAltAsMultipleSelectionModifier=J(q),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(q=>{q.affectsConfiguration(Qt)&&(this.useAltAsMultipleSelectionModifier=J(this.configurationService))}))}isSelectionSingleChangeEvent(q){return this.useAltAsMultipleSelectionModifier?q.browserEvent.altKey:(0,C.Zo)(q)}isSelectionRangeChangeEvent(q){return(0,C.wn)(q)}}function je(Tt,q){var Te;const rt=Tt.get(Li.Ui),Gt=Tt.get(mo.d),cn=new v.SL;return[Object.assign(Object.assign({},q),{keyboardNavigationDelegate:{mightProducePrintableCharacter:In=>Gt.mightProducePrintableCharacter(In)},smoothScrolling:Boolean(rt.getValue(bi)),mouseWheelScrollSensitivity:rt.getValue(di),fastScrollSensitivity:rt.getValue(Ft),multipleSelectionController:null!==(Te=q.multipleSelectionController)&&void 0!==Te?Te:cn.add(new _e(rt)),keyboardNavigationEventFilter:Kn(Gt)}),cn]}let Ye=class extends C.aV{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi){const pi=typeof cn.horizontalScrolling<"u"?cn.horizontalScrolling:Boolean(Jn.getValue(Re)),[Ci,Mi]=gi.invokeFunction(je,cn);super(q,Te,rt,Gt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Eo.o)(ei.getColorTheme(),Eo.O2)),Ci),{horizontalScrolling:pi})),this.disposables.add(Mi),this.contextKeyService=Ht(Ln,this),this.themeService=ei,this.listSupportsMultiSelect=Xt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==cn.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(cn.selectionNavigation)),this.listHasSelectionOrFocus=un.bindTo(this.contextKeyService),this.listDoubleSelection=Rn.bindTo(this.contextKeyService),this.listMultiSelection=Wn.bindTo(this.contextKeyService),this.horizontalScrolling=cn.horizontalScrolling,this._useAltAsMultipleSelectionModifier=J(Jn),this.disposables.add(this.contextKeyService),this.disposables.add(In.register(this)),cn.overrideStyles&&this.updateStyles(cn.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const $i=this.getSelection(),zi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set($i.length>0||zi.length>0),this.listMultiSelection.set($i.length>1),this.listDoubleSelection.set(2===$i.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const $i=this.getSelection(),zi=this.getFocus();this.listHasSelectionOrFocus.set($i.length>0||zi.length>0)})),this.disposables.add(Jn.onDidChangeConfiguration($i=>{$i.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=J(Jn));let zi={};if($i.affectsConfiguration(Re)&&void 0===this.horizontalScrolling){const _o=Boolean(Jn.getValue(Re));zi=Object.assign(Object.assign({},zi),{horizontalScrolling:_o})}if($i.affectsConfiguration(bi)){const _o=Boolean(Jn.getValue(bi));zi=Object.assign(Object.assign({},zi),{smoothScrolling:_o})}if($i.affectsConfiguration(di)){const _o=Jn.getValue(di);zi=Object.assign(Object.assign({},zi),{mouseWheelScrollSensitivity:_o})}if($i.affectsConfiguration(Ft)){const _o=Jn.getValue(Ft);zi=Object.assign(Object.assign({},zi),{fastScrollSensitivity:_o})}Object.keys(zi).length>0&&this.updateOptions(zi)})),this.navigator=new yn(this,Object.assign({configurationService:Jn},cn)),this.disposables.add(this.navigator)}updateOptions(q){super.updateOptions(q),q.overrideStyles&&this.updateStyles(q.overrideStyles),void 0!==q.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyles(q){var Te;null===(Te=this._styler)||void 0===Te||Te.dispose(),this._styler=(0,Eo.Jl)(this,this.themeService,q)}dispose(){var q;null===(q=this._styler)||void 0===q||q.dispose(),super.dispose()}};Ye=Io([Yi(5,Pi.i6),Yi(6,ho),Yi(7,Mo.XE),Yi(8,Li.Ui),Yi(9,ro.TG)],Ye);let at=class extends s{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi){const pi=typeof cn.horizontalScrolling<"u"?cn.horizontalScrolling:Boolean(Jn.getValue(Re)),[Ci,Mi]=gi.invokeFunction(je,cn);super(q,Te,rt,Gt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Eo.o)(ei.getColorTheme(),Eo.O2)),Ci),{horizontalScrolling:pi})),this.disposables=new v.SL,this.disposables.add(Mi),this.contextKeyService=Ht(Ln,this),this.themeService=ei,this.horizontalScrolling=cn.horizontalScrolling,this.listSupportsMultiSelect=Xt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==cn.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(cn.selectionNavigation)),this._useAltAsMultipleSelectionModifier=J(Jn),this.disposables.add(this.contextKeyService),this.disposables.add(In.register(this)),cn.overrideStyles&&this.updateStyles(cn.overrideStyles),cn.overrideStyles&&this.disposables.add((0,Eo.Jl)(this,ei,cn.overrideStyles)),this.disposables.add(Jn.onDidChangeConfiguration($i=>{$i.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=J(Jn));let zi={};if($i.affectsConfiguration(Re)&&void 0===this.horizontalScrolling){const _o=Boolean(Jn.getValue(Re));zi=Object.assign(Object.assign({},zi),{horizontalScrolling:_o})}if($i.affectsConfiguration(bi)){const _o=Boolean(Jn.getValue(bi));zi=Object.assign(Object.assign({},zi),{smoothScrolling:_o})}if($i.affectsConfiguration(di)){const _o=Jn.getValue(di);zi=Object.assign(Object.assign({},zi),{mouseWheelScrollSensitivity:_o})}if($i.affectsConfiguration(Ft)){const _o=Jn.getValue(Ft);zi=Object.assign(Object.assign({},zi),{fastScrollSensitivity:_o})}Object.keys(zi).length>0&&this.updateOptions(zi)})),this.navigator=new yn(this,Object.assign({configurationService:Jn},cn)),this.disposables.add(this.navigator)}updateOptions(q){super.updateOptions(q),q.overrideStyles&&this.updateStyles(q.overrideStyles),void 0!==q.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyles(q){var Te;null===(Te=this._styler)||void 0===Te||Te.dispose(),this._styler=(0,Eo.Jl)(this,this.themeService,q)}dispose(){var q;null===(q=this._styler)||void 0===q||q.dispose(),this.disposables.dispose(),super.dispose()}};at=Io([Yi(5,Pi.i6),Yi(6,ho),Yi(7,Mo.XE),Yi(8,Li.Ui),Yi(9,ro.TG)],at);let on=class extends K{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi,pi){const Ci=typeof Ln.horizontalScrolling<"u"?Ln.horizontalScrolling:Boolean(gi.getValue(Re)),[Mi,Bi]=pi.invokeFunction(je,Ln);super(q,Te,rt,Gt,cn,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Eo.o)(Jn.getColorTheme(),Eo.O2)),Mi),{horizontalScrolling:Ci})),this.disposables.add(Bi),this.contextKeyService=Ht(In,this),this.themeService=Jn,this.listSupportsMultiSelect=Xt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Ln.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(Ln.selectionNavigation)),this.listHasSelectionOrFocus=un.bindTo(this.contextKeyService),this.listDoubleSelection=Rn.bindTo(this.contextKeyService),this.listMultiSelection=Wn.bindTo(this.contextKeyService),this.horizontalScrolling=Ln.horizontalScrolling,this._useAltAsMultipleSelectionModifier=J(gi),this.disposables.add(this.contextKeyService),this.disposables.add(ei.register(this)),Ln.overrideStyles&&this.updateStyles(Ln.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const zi=this.getSelection(),_o=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(zi.length>0||_o.length>0),this.listMultiSelection.set(zi.length>1),this.listDoubleSelection.set(2===zi.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const zi=this.getSelection(),_o=this.getFocus();this.listHasSelectionOrFocus.set(zi.length>0||_o.length>0)})),this.disposables.add(gi.onDidChangeConfiguration(zi=>{zi.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=J(gi));let _o={};if(zi.affectsConfiguration(Re)&&void 0===this.horizontalScrolling){const jo=Boolean(gi.getValue(Re));_o=Object.assign(Object.assign({},_o),{horizontalScrolling:jo})}if(zi.affectsConfiguration(bi)){const jo=Boolean(gi.getValue(bi));_o=Object.assign(Object.assign({},_o),{smoothScrolling:jo})}if(zi.affectsConfiguration(di)){const jo=gi.getValue(di);_o=Object.assign(Object.assign({},_o),{mouseWheelScrollSensitivity:jo})}if(zi.affectsConfiguration(Ft)){const jo=gi.getValue(Ft);_o=Object.assign(Object.assign({},_o),{fastScrollSensitivity:jo})}Object.keys(_o).length>0&&this.updateOptions(_o)})),this.navigator=new Tn(this,Object.assign({configurationService:gi},Ln)),this.disposables.add(this.navigator)}updateOptions(q){super.updateOptions(q),q.overrideStyles&&this.updateStyles(q.overrideStyles),void 0!==q.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyles(q){var Te;null===(Te=this._styler)||void 0===Te||Te.dispose(),this._styler=(0,Eo.Jl)(this,this.themeService,q)}dispose(){var q;null===(q=this._styler)||void 0===q||q.dispose(),this.disposables.dispose(),super.dispose()}};on=Io([Yi(6,Pi.i6),Yi(7,ho),Yi(8,Mo.XE),Yi(9,Li.Ui),Yi(10,ro.TG)],on);class qt extends v.JT{constructor(q,Te){var rt;super(),this.widget=q,this._onDidOpen=this._register(new S.Q5),this.onDidOpen=this._onDidOpen.event,this._register(S.ju.filter(this.widget.onDidChangeSelection,Gt=>Gt.browserEvent instanceof KeyboardEvent)(Gt=>this.onSelectionFromKeyboard(Gt))),this._register(this.widget.onPointer(Gt=>this.onPointer(Gt.element,Gt.browserEvent))),this._register(this.widget.onMouseDblClick(Gt=>this.onMouseDblClick(Gt.element,Gt.browserEvent))),"boolean"!=typeof Te?.openOnSingleClick&&Te?.configurationService?(this.openOnSingleClick="doubleClick"!==Te?.configurationService.getValue(bn),this._register(Te?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==Te?.configurationService.getValue(bn)}))):this.openOnSingleClick=null===(rt=Te?.openOnSingleClick)||void 0===rt||rt}onSelectionFromKeyboard(q){if(1!==q.elements.length)return;const Te=q.browserEvent,rt="boolean"!=typeof Te.preserveFocus||Te.preserveFocus,Gt="boolean"==typeof Te.pinned?Te.pinned:!rt;this._open(this.getSelectedElement(),rt,Gt,!1,q.browserEvent)}onPointer(q,Te){this.openOnSingleClick&&2!==Te.detail&&this._open(q,!0,1===Te.button,Te.ctrlKey||Te.metaKey||Te.altKey,Te)}onMouseDblClick(q,Te){if(!Te)return;const rt=Te.target;rt.classList.contains("monaco-tl-twistie")||rt.classList.contains("monaco-icon-label")&&rt.classList.contains("folder-icon")&&Te.offsetX<16||this._open(q,!1,!0,Te.ctrlKey||Te.metaKey||Te.altKey,Te)}_open(q,Te,rt,Gt,cn){!q||this._onDidOpen.fire({editorOptions:{preserveFocus:Te,pinned:rt,revealIfVisible:!0},sideBySide:Gt,element:q,browserEvent:cn})}}class yn extends qt{constructor(q,Te){super(q,Te),this.widget=q}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Tn extends qt{constructor(q,Te){super(q,Te)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Bn extends qt{constructor(q,Te){super(q,Te)}getSelectedElement(){var q;return null!==(q=this.widget.getSelection()[0])&&void 0!==q?q:void 0}}function Kn(Tt){let q=!1;return Te=>{if(Te.toKeybinding().isModifierKey())return!1;if(q)return q=!1,!1;const rt=Tt.softDispatch(Te,Te.target);return rt?.enterChord?(q=!0,!1):(q=!1,!rt)}}let ni=class extends gn{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi){const{options:pi,getTypeNavigationMode:Ci,disposable:Mi}=Ln.invokeFunction(it,cn);super(q,Te,rt,Gt,pi),this.disposables.add(Mi),this.internals=new It(this,cn,Ci,cn.overrideStyles,In,ei,Jn,gi),this.disposables.add(this.internals)}updateOptions(q){super.updateOptions(q),this.internals.updateOptions(q)}};ni=Io([Yi(5,ro.TG),Yi(6,Pi.i6),Yi(7,ho),Yi(8,Mo.XE),Yi(9,Li.Ui)],ni);let hi=class extends Gn{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi){const{options:pi,getTypeNavigationMode:Ci,disposable:Mi}=Ln.invokeFunction(it,cn);super(q,Te,rt,Gt,pi),this.disposables.add(Mi),this.internals=new It(this,cn,Ci,cn.overrideStyles,In,ei,Jn,gi),this.disposables.add(this.internals)}updateOptions(q={}){super.updateOptions(q),q.overrideStyles&&this.internals.updateStyleOverrides(q.overrideStyles),this.internals.updateOptions(q)}};hi=Io([Yi(5,ro.TG),Yi(6,Pi.i6),Yi(7,ho),Yi(8,Mo.XE),Yi(9,Li.Ui)],hi);let fi=class extends wi{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi,pi){const{options:Ci,getTypeNavigationMode:Mi,disposable:Bi}=In.invokeFunction(it,Ln);super(q,Te,rt,Gt,cn,Ci),this.disposables.add(Bi),this.internals=new It(this,Ln,Mi,Ln.overrideStyles,ei,Jn,gi,pi),this.disposables.add(this.internals)}updateOptions(q={}){super.updateOptions(q),q.overrideStyles&&this.internals.updateStyleOverrides(q.overrideStyles),this.internals.updateOptions(q)}};fi=Io([Yi(6,ro.TG),Yi(7,Pi.i6),Yi(8,ho),Yi(9,Mo.XE),Yi(10,Li.Ui)],fi);let Rt=class extends nn{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi,pi){const{options:Ci,getTypeNavigationMode:Mi,disposable:Bi}=In.invokeFunction(it,Ln);super(q,Te,rt,Gt,cn,Ci),this.disposables.add(Bi),this.internals=new It(this,Ln,Mi,Ln.overrideStyles,ei,Jn,gi,pi),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(q={}){super.updateOptions(q),q.overrideStyles&&this.internals.updateStyleOverrides(q.overrideStyles),this.internals.updateOptions(q)}};Rt=Io([Yi(6,ro.TG),Yi(7,Pi.i6),Yi(8,ho),Yi(9,Mo.XE),Yi(10,Li.Ui)],Rt);let ee=class extends jn{constructor(q,Te,rt,Gt,cn,Ln,In,ei,Jn,gi,pi,Ci){const{options:Mi,getTypeNavigationMode:Bi,disposable:$i}=ei.invokeFunction(it,In);super(q,Te,rt,Gt,cn,Ln,Mi),this.disposables.add($i),this.internals=new It(this,In,Bi,In.overrideStyles,Jn,gi,pi,Ci),this.disposables.add(this.internals)}updateOptions(q){super.updateOptions(q),this.internals.updateOptions(q)}};function fe(Tt){const q=Tt.getValue(ct);if("highlight"===q)return vt.Highlight;if("filter"===q)return vt.Filter;const Te=Tt.getValue(Cn);return"simple"===Te||"highlight"===Te?vt.Highlight:"filter"===Te?vt.Filter:void 0}function it(Tt,q){var Te;const rt=Tt.get(Li.Ui),Gt=Tt.get(Wi.u),cn=Tt.get(Pi.i6),Ln=Tt.get(ro.TG),ei=void 0!==q.horizontalScrolling?q.horizontalScrolling:Boolean(rt.getValue(Re)),[Jn,gi]=Ln.invokeFunction(je,q),pi=q.additionalScrollHeight;return{getTypeNavigationMode:()=>{const Ci=cn.getContextKeyValue(ut);return"automatic"===Ci?C.AA.Automatic:"trigger"===Ci||!1===cn.getContextKeyValue(Pt)?C.AA.Trigger:void 0},disposable:gi,options:Object.assign(Object.assign({keyboardSupport:!1},Jn),{indent:"number"==typeof rt.getValue(Hn)?rt.getValue(Hn):void 0,renderIndentGuides:rt.getValue(Ii),smoothScrolling:Boolean(rt.getValue(bi)),defaultFindMode:fe(rt),horizontalScrolling:ei,additionalScrollHeight:pi,hideTwistiesOfChildlessElements:q.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(Te=q.expandOnlyOnTwistieClick)&&void 0!==Te?Te:"doubleClick"===rt.getValue(R),contextViewProvider:Gt})}}ee=Io([Yi(7,ro.TG),Yi(8,Pi.i6),Yi(9,ho),Yi(10,Mo.XE),Yi(11,Li.Ui)],ee);let It=class{constructor(q,Te,rt,Gt,cn,Ln,In,ei){var Jn;this.tree=q,this.themeService=In,this.disposables=[],this.contextKeyService=Ht(cn,q),this.listSupportsMultiSelect=Xt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Te.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(Te.selectionNavigation)),this.listSupportFindWidget=ft.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(Jn=Te.findWidgetEnabled)||void 0===Jn||Jn),this.hasSelectionOrFocus=un.bindTo(this.contextKeyService),this.hasDoubleSelection=Rn.bindTo(this.contextKeyService),this.hasMultiSelection=Wn.bindTo(this.contextKeyService),this.treeElementCanCollapse=sn.bindTo(this.contextKeyService),this.treeElementHasParent=tn.bindTo(this.contextKeyService),this.treeElementCanExpand=xn.bindTo(this.contextKeyService),this.treeElementHasChild=Pn.bindTo(this.contextKeyService),this.treeFindOpen=En.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=J(ei),this.updateStyleOverrides(Gt);const pi=()=>{const Mi=q.getFocus()[0];if(!Mi)return;const Bi=q.getNode(Mi);this.treeElementCanCollapse.set(Bi.collapsible&&!Bi.collapsed),this.treeElementHasParent.set(!!q.getParentElement(Mi)),this.treeElementCanExpand.set(Bi.collapsible&&Bi.collapsed),this.treeElementHasChild.set(!!q.getFirstElementChild(Mi))},Ci=new Set;Ci.add(ut),Ci.add(Pt),this.disposables.push(this.contextKeyService,Ln.register(q),q.onDidChangeSelection(()=>{const Mi=q.getSelection(),Bi=q.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Mi.length>0||Bi.length>0),this.hasMultiSelection.set(Mi.length>1),this.hasDoubleSelection.set(2===Mi.length)})}),q.onDidChangeFocus(()=>{const Mi=q.getSelection(),Bi=q.getFocus();this.hasSelectionOrFocus.set(Mi.length>0||Bi.length>0),pi()}),q.onDidChangeCollapseState(pi),q.onDidChangeModel(pi),q.onDidChangeFindOpenState(Mi=>this.treeFindOpen.set(Mi)),ei.onDidChangeConfiguration(Mi=>{let Bi={};if(Mi.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=J(ei)),Mi.affectsConfiguration(Hn)){const $i=ei.getValue(Hn);Bi=Object.assign(Object.assign({},Bi),{indent:$i})}if(Mi.affectsConfiguration(Ii)){const $i=ei.getValue(Ii);Bi=Object.assign(Object.assign({},Bi),{renderIndentGuides:$i})}if(Mi.affectsConfiguration(bi)){const $i=Boolean(ei.getValue(bi));Bi=Object.assign(Object.assign({},Bi),{smoothScrolling:$i})}if((Mi.affectsConfiguration(ct)||Mi.affectsConfiguration(Cn))&&q.updateOptions({defaultFindMode:fe(ei)}),Mi.affectsConfiguration(Re)&&void 0===Te.horizontalScrolling){const $i=Boolean(ei.getValue(Re));Bi=Object.assign(Object.assign({},Bi),{horizontalScrolling:$i})}if(Mi.affectsConfiguration(R)&&void 0===Te.expandOnlyOnTwistieClick&&(Bi=Object.assign(Object.assign({},Bi),{expandOnlyOnTwistieClick:"doubleClick"===ei.getValue(R)})),Mi.affectsConfiguration(di)){const $i=ei.getValue(di);Bi=Object.assign(Object.assign({},Bi),{mouseWheelScrollSensitivity:$i})}if(Mi.affectsConfiguration(Ft)){const $i=ei.getValue(Ft);Bi=Object.assign(Object.assign({},Bi),{fastScrollSensitivity:$i})}Object.keys(Bi).length>0&&q.updateOptions(Bi)}),this.contextKeyService.onDidChangeContext(Mi=>{Mi.affectsSome(Ci)&&q.updateOptions({typeNavigationMode:rt()})})),this.navigator=new Bn(q,Object.assign({configurationService:ei},Te)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(q){void 0!==q.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!q.multipleSelectionSupport)}updateStyleOverrides(q){(0,v.B9)(this.styler),this.styler=q?(0,Eo.Jl)(this.tree,this.themeService,q):v.JT.None}dispose(){this.disposables=(0,v.B9)(this.disposables),(0,v.B9)(this.styler),this.styler=void 0}};It=Io([Yi(4,Pi.i6),Yi(5,ho),Yi(6,Mo.XE),Yi(7,Li.Ui)],It),Ko.B.as(Qi.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,ae.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Qt]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,ae.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,ae.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,ae.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[bn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ae.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Re]:{type:"boolean",default:!1,description:(0,ae.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Hn]:{type:"number",default:8,minimum:4,maximum:40,description:(0,ae.NC)("tree indent setting","Controls tree indentation in pixels.")},[Ii]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,ae.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[bi]:{type:"boolean",default:!1,description:(0,ae.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[di]:{type:"number",default:1,markdownDescription:(0,ae.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Ft]:{type:"number",default:5,description:(0,ae.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ct]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,ae.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,ae.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,ae.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Cn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,ae.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,ae.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,ae.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,ae.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,ae.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[R]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ae.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},29693:(Dt,Y,e)=>{"use strict";e.d(Y,{$V:()=>L,VZ:()=>S,in:()=>v,kw:()=>E});var d=e(3778),n=e(80142);const S=(0,e(9265).yh)("logService");var v=(()=>{return(_=v||(v={}))[_.Trace=0]="Trace",_[_.Debug=1]="Debug",_[_.Info=2]="Info",_[_.Warning=3]="Warning",_[_.Error=4]="Error",_[_.Critical=5]="Critical",_[_.Off=6]="Off",v;var _})();const T=v.Info;class C extends n.JT{constructor(){super(...arguments),this.level=T,this._onDidChangeLogLevel=this._register(new d.Q5)}setLevel(s){this.level!==s&&(this.level=s,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class E extends C{constructor(s=T){super(),this.setLevel(s)}trace(s,...m){this.getLevel()<=v.Trace&&console.log("%cTRACE","color: #888",s,...m)}debug(s,...m){this.getLevel()<=v.Debug&&console.log("%cDEBUG","background: #eee; color: #888",s,...m)}info(s,...m){this.getLevel()<=v.Info&&console.log("%c INFO","color: #33f",s,...m)}error(s,...m){this.getLevel()<=v.Error&&console.log("%c  ERR","color: #f33",s,...m)}dispose(){}}class L extends n.JT{constructor(s){super(),this.logger=s,this._register(s)}getLevel(){return this.logger.getLevel()}trace(s,...m){this.logger.trace(s,...m)}debug(s,...m){this.logger.debug(s,...m)}info(s,...m){this.logger.info(s,...m)}error(s,...m){this.logger.error(s,...m)}}},58177:(Dt,Y,e)=>{"use strict";e.d(Y,{H0:()=>v,ZL:()=>S,lT:()=>T});var v,d=e(50819),n=e(55197),l=e(9265),S=(()=>{return(C=S||(S={}))[C.Hint=1]="Hint",C[C.Info=2]="Info",C[C.Warning=4]="Warning",C[C.Error=8]="Error",S;var C})();!function(C){C.compare=function E(c,t){return t-c};const L=Object.create(null);L[C.Error]=(0,n.NC)("sev.error","Error"),L[C.Warning]=(0,n.NC)("sev.warning","Warning"),L[C.Info]=(0,n.NC)("sev.info","Info"),C.toString=function _(c){return L[c]||""},C.fromSeverity=function s(c){switch(c){case d.Z.Error:return C.Error;case d.Z.Warning:return C.Warning;case d.Z.Info:return C.Info;case d.Z.Ignore:return C.Hint}},C.toSeverity=function m(c){switch(c){case C.Error:return d.Z.Error;case C.Warning:return d.Z.Warning;case C.Info:return d.Z.Info;case C.Hint:return d.Z.Ignore}}}(S||(S={})),function(C){const E="";function _(s,m){const c=[E];return c.push(s.source?s.source.replace("\xa6","\\\xa6"):E),c.push(s.code?"string"==typeof s.code?s.code.replace("\xa6","\\\xa6"):s.code.value.replace("\xa6","\\\xa6"):E),c.push(null!=s.severity?S.toString(s.severity):E),c.push(s.message&&m?s.message.replace("\xa6","\\\xa6"):E),c.push(null!=s.startLineNumber?s.startLineNumber.toString():E),c.push(null!=s.startColumn?s.startColumn.toString():E),c.push(null!=s.endLineNumber?s.endLineNumber.toString():E),c.push(null!=s.endColumn?s.endColumn.toString():E),c.push(E),c.join("\xa6")}C.makeKey=function L(s){return _(s,!0)},C.makeKeyOptionalMessage=_}(v||(v={}));const T=(0,l.yh)("markerService")},54436:(Dt,Y,e)=>{"use strict";e.d(Y,{EO:()=>v,lT:()=>S,zb:()=>l});var d=e(50819),n=e(9265),l=d.Z;const S=(0,n.yh)("notificationService");class v{}},44827:(Dt,Y,e)=>{"use strict";e.d(Y,{Gs:()=>L,SW:()=>C,v4:()=>T,xI:()=>_,xn:()=>E});var d=e(80142),n=e(73879),l=e(59547),S=e(9265),v=function(s,m,c,t){return new(c||(c=Promise))(function(p,u){function g(w){try{y(t.next(w))}catch(D){u(D)}}function b(w){try{y(t.throw(w))}catch(D){u(D)}}function y(w){w.done?p(w.value):function a(p){return p instanceof c?p:new c(function(u){u(p)})}(w.value).then(g,b)}y((t=t.apply(s,m||[])).next())})};const T=(0,S.yh)("openerService"),C=Object.freeze({_serviceBrand:void 0,registerOpener:()=>d.JT.None,registerValidator:()=>d.JT.None,registerExternalUriResolver:()=>d.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>d.JT.None,open(){return v(this,void 0,void 0,function*(){return!1})},resolveExternalUri(s){return v(this,void 0,void 0,function*(){return{resolved:s,dispose(){}}})}});function E(s,m){return l.o.isUri(s)?(0,n.qq)(s.scheme,m):(0,n.ok)(s,m+":")}function L(s,...m){return m.some(c=>E(s,c))}function _(s){let m;const c=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(s.fragment);return c&&(m={startLineNumber:parseInt(c[1]),startColumn:c[2]?parseInt(c[2]):1,endLineNumber:c[4]?parseInt(c[4]):void 0,endColumn:c[4]?c[5]?parseInt(c[5]):1:void 0},s=s.with({fragment:""})),{selection:m,uri:s}}},55538:(Dt,Y,e)=>{"use strict";e.d(Y,{Ex:()=>S,R9:()=>n,ek:()=>v});var d=e(9265);const n=(0,d.yh)("progressService");Object.freeze({total(){},worked(){},done(){}});class S{constructor(C){this.callback=C}report(C){this._value=C,this.callback(this._value)}}S.None=Object.freeze({report(){}});const v=(0,d.yh)("editorProgressService")},1972:(Dt,Y,e)=>{"use strict";e.d(Y,{IP:()=>v,Ry:()=>S});var d=e(64023),n=e(80142),l=e(4259),S=(()=>{return(C=S||(S={}))[C.PRESERVE=0]="PRESERVE",C[C.LAST=1]="LAST",S;var C})();const v={Quickaccess:"workbench.contributions.quickaccess"};l.B.add(v.Quickaccess,new class T{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(E){return 0===E.prefix.length?this.defaultProvider=E:this.providers.push(E),this.providers.sort((L,_)=>_.prefix.length-L.prefix.length),(0,n.OF)(()=>{this.providers.splice(this.providers.indexOf(E),1),this.defaultProvider===E&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,d.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(E){return E&&this.providers.find(_=>E.startsWith(_.prefix))||this.defaultProvider}})},73622:(Dt,Y,e)=>{"use strict";e.d(Y,{eJ:()=>l,jG:()=>n.jG});var d=e(9265),n=e(39263);const l=(0,d.yh)("quickInputService")},4259:(Dt,Y,e)=>{"use strict";e.d(Y,{B:()=>S});var d=e(94772),n=e(72715);const S=new class l{constructor(){this.data=new Map}add(T,C){d.ok(n.HD(T)),d.ok(n.Kn(C)),d.ok(!this.data.has(T),"There is already an extension with this id"),this.data.set(T,C)}as(T){return this.data.get(T)||null}}},48190:(Dt,Y,e)=>{"use strict";e.d(Y,{Uy:()=>s,vm:()=>t,fk:()=>m});var d=e(3778),n=e(80142),l=e(72715),S=e(48648),v=function(a,p,u,g){return new(u||(u=Promise))(function(y,w){function D(O){try{P(g.next(O))}catch(V){w(V)}}function x(O){try{P(g.throw(O))}catch(V){w(V)}}function P(O){O.done?y(O.value):function b(y){return y instanceof u?y:new u(function(w){w(y)})}(O.value).then(D,x)}P((g=g.apply(a,p||[])).next())})},T=(()=>{return(a=T||(T={}))[a.None=0]="None",a[a.Initialized=1]="Initialized",a[a.Closed=2]="Closed",T;var a})();let C=(()=>{class a extends n.JT{constructor(u,g=Object.create(null)){super(),this.database=u,this.options=g,this._onDidChangeStorage=this._register(new d.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=T.None,this.cache=new Map,this.flushDelayer=new S.rH(a.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(u=>this.onDidChangeItemsExternal(u)))}onDidChangeItemsExternal(u){var g,b;null===(g=u.changed)||void 0===g||g.forEach((y,w)=>this.accept(w,y)),null===(b=u.deleted)||void 0===b||b.forEach(y=>this.accept(y,void 0))}accept(u,g){if(this.state===T.Closed)return;let b=!1;(0,l.Jp)(g)?b=this.cache.delete(u):this.cache.get(u)!==g&&(this.cache.set(u,g),b=!0),b&&this._onDidChangeStorage.fire(u)}get(u,g){const b=this.cache.get(u);return(0,l.Jp)(b)?g:b}getBoolean(u,g){const b=this.get(u);return(0,l.Jp)(b)?g:"true"===b}getNumber(u,g){const b=this.get(u);return(0,l.Jp)(b)?g:parseInt(b,10)}set(u,g){return v(this,void 0,void 0,function*(){if(this.state===T.Closed)return;if((0,l.Jp)(g))return this.delete(u);const b=String(g);return this.cache.get(u)!==b?(this.cache.set(u,b),this.pendingInserts.set(u,b),this.pendingDeletes.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()):void 0})}delete(u){return v(this,void 0,void 0,function*(){if(this.state!==T.Closed&&this.cache.delete(u))return this.pendingDeletes.has(u)||this.pendingDeletes.add(u),this.pendingInserts.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return v(this,void 0,void 0,function*(){if(!this.hasPending)return;const u={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(u).finally(()=>{var g;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(g=this.whenFlushedCallbacks.pop())||void 0===g||g()})})}doFlush(u){return v(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),u)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return a.DEFAULT_FLUSH_DELAY=100,a})();class E{constructor(){this.onDidChangeItemsExternal=d.ju.None,this.items=new Map}updateItems(p){var u,g;return v(this,void 0,void 0,function*(){null===(u=p.insert)||void 0===u||u.forEach((b,y)=>this.items.set(y,b)),null===(g=p.delete)||void 0===g||g.forEach(b=>this.items.delete(b))})}}var L=e(9265);const _="__$__targetStorageMarker",s=(0,L.yh)("storageService");var m=(()=>{return(a=m||(m={}))[a.NONE=0]="NONE",a[a.SHUTDOWN=1]="SHUTDOWN",m;var a})();let c=(()=>{class a extends n.JT{constructor(u={flushInterval:a.DEFAULT_FLUSH_INTERVAL}){super(),this.options=u,this._onDidChangeValue=this._register(new d.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new d.K3),this._onWillSaveState=this._register(new d.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(u,g){if(g===_){switch(u){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:u})}else this._onDidChangeValue.fire({scope:u,key:g,target:this.getKeyTargets(u)[g]})}get(u,g,b){var y;return null===(y=this.getStorage(g))||void 0===y?void 0:y.get(u,b)}getBoolean(u,g,b){var y;return null===(y=this.getStorage(g))||void 0===y?void 0:y.getBoolean(u,b)}getNumber(u,g,b){var y;return null===(y=this.getStorage(g))||void 0===y?void 0:y.getNumber(u,b)}store(u,g,b,y){(0,l.Jp)(g)?this.remove(u,b):this.withPausedEmitters(()=>{var w;this.updateKeyTarget(u,b,y),null===(w=this.getStorage(b))||void 0===w||w.set(u,g)})}remove(u,g){this.withPausedEmitters(()=>{var b;this.updateKeyTarget(u,g,void 0),null===(b=this.getStorage(g))||void 0===b||b.delete(u)})}withPausedEmitters(u){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{u()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(u,g,b){var y,w;const D=this.getKeyTargets(g);"number"==typeof b?D[u]!==b&&(D[u]=b,null===(y=this.getStorage(g))||void 0===y||y.set(_,JSON.stringify(D))):"number"==typeof D[u]&&(delete D[u],null===(w=this.getStorage(g))||void 0===w||w.set(_,JSON.stringify(D)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(u){switch(u){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(u){const g=this.get(_,u);if(g)try{return JSON.parse(g)}catch{}return Object.create(null)}}return a.DEFAULT_FLUSH_INTERVAL=6e4,a})();class t extends c{constructor(){super(),this.applicationStorage=this._register(new C(new E)),this.profileStorage=this._register(new C(new E)),this.workspaceStorage=this._register(new C(new E)),this._register(this.workspaceStorage.onDidChangeStorage(p=>this.emitDidChangeValue(1,p))),this._register(this.profileStorage.onDidChangeStorage(p=>this.emitDidChangeValue(0,p))),this._register(this.applicationStorage.onDidChangeStorage(p=>this.emitDidChangeValue(-1,p)))}getStorage(p){switch(p){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},24131:(Dt,Y,e)=>{"use strict";e.d(Y,{b:()=>n});const n=(0,e(9265).yh)("telemetryService")},4062:(Dt,Y,e)=>{"use strict";e.d(Y,{$DX:()=>it,$d5:()=>ct,$ny:()=>As,ABB:()=>st,AS1:()=>Cn,AWI:()=>Sn,BOY:()=>Ms,BQ0:()=>ce,Bqu:()=>tn,C3g:()=>oe,CA6:()=>fr,CNo:()=>mn,Cdg:()=>fi,CzK:()=>mo,D0T:()=>be,D1_:()=>Fe,DEr:()=>Rt,Dut:()=>fn,E3h:()=>It,EPQ:()=>Ee,EQn:()=>yn,ES4:()=>Ei,ESD:()=>he,EiJ:()=>si,F3d:()=>bn,F9q:()=>Xt,Fm_:()=>Xo,Fu1:()=>Wi,GO4:()=>$e,GYc:()=>ae,Gj_:()=>$s,Gwp:()=>Hn,HCL:()=>Pi,Hfx:()=>Je,Hz8:()=>ee,IPX:()=>L,IYc:()=>Vs,Ido:()=>p,Itd:()=>Es,Ivo:()=>Dr,JpG:()=>Gs,K19:()=>Gn,LLc:()=>Rn,L_H:()=>et,L_t:()=>Wn,LoV:()=>Nn,M6C:()=>Pn,MUv:()=>io,NOs:()=>ye,NPS:()=>Kn,Ng6:()=>nt,OLZ:()=>Go,OZR:()=>me,Oop:()=>sn,P4M:()=>Mo,P6G:()=>c,P6Y:()=>li,PRb:()=>ne,PX0:()=>Ii,PpC:()=>wi,Pvw:()=>Z,QO2:()=>E,R80:()=>b,RV_:()=>xe,Rzx:()=>no,SPM:()=>ar,SUG:()=>Ne,SUY:()=>Ws,SUp:()=>ze,Saq:()=>_e,Sbf:()=>an,Snq:()=>Ts,SwI:()=>k,T83:()=>jt,Tnx:()=>En,UnT:()=>on,VVv:()=>Yn,Vqd:()=>hi,XEs:()=>W,XL$:()=>kt,XZx:()=>g,Xy4:()=>xs,YI3:()=>we,ZGJ:()=>en,ZnX:()=>Gi,_2n:()=>ft,_Yy:()=>jn,_bK:()=>dn,_jn:()=>Zs,_lC:()=>M,_t9:()=>Ie,_wn:()=>Pe,b6y:()=>mt,b7$:()=>Lt,bKB:()=>Qi,brw:()=>_r,c63:()=>ht,cbQ:()=>ni,cvW:()=>He,dCr:()=>xn,dRz:()=>t,dt_:()=>U,etL:()=>dt,fEB:()=>Dn,few:()=>Ke,g8u:()=>Q,g_n:()=>to,gkn:()=>Yt,gpD:()=>_t,hEj:()=>ci,hX8:()=>Li,hzo:()=>Io,iFQ:()=>Ct,j51:()=>ho,j5u:()=>tt,jUe:()=>uo,jbW:()=>fe,kJk:()=>Mn,kVY:()=>ks,keg:()=>Ko,kvU:()=>Ht,kwl:()=>dr,lRK:()=>y,lUq:()=>Tt,lWp:()=>Vn,lXJ:()=>vt,loF:()=>vn,mHy:()=>un,mV1:()=>Re,nd:()=>Ve,nyM:()=>Co,oQ$:()=>gn,oSI:()=>J,opG:()=>St,ov3:()=>hr,pW3:()=>Bt,paE:()=>Se,phM:()=>Ki,pnM:()=>go,ptc:()=>Kt,qBU:()=>ve,qeD:()=>Ce,rg2:()=>ut,rh:()=>F,s$:()=>Qt,sEe:()=>j,sKV:()=>ro,sgC:()=>O,tZ6:()=>Ut,uoC:()=>$t,url:()=>P,uxu:()=>qt,vGG:()=>R,xEn:()=>le,xL1:()=>w,xi6:()=>Yi,y65:()=>je,yJx:()=>nn,yb5:()=>ii,ynu:()=>qe,ypS:()=>Eo,ytC:()=>Pt,zJb:()=>K,zKr:()=>bt,zOm:()=>Ao,zRJ:()=>Qe});var d=e(48648),n=e(69355),l=e(3778),S=e(72715),v=e(55197),T=e(7886),C=e(4259);function E(lo){return`--vscode-${lo.replace(/\./g,"-")}`}const L={ColorContribution:"base.contributions.colors"},s=new class _{constructor(){this._onDidChangeSchema=new l.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Po,as,ls,vs=!1,hs){this.colorsById[Po]={id:Po,description:ls,defaults:as,needsTransparency:vs,deprecationMessage:hs};const Qs={type:"string",description:ls,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return hs&&(Qs.deprecationMessage=hs),this.colorSchema.properties[Po]=Qs,this.colorReferenceSchema.enum.push(Po),this.colorReferenceSchema.enumDescriptions.push(ls),this._onDidChangeSchema.fire(),Po}getColors(){return Object.keys(this.colorsById).map(Po=>this.colorsById[Po])}resolveDefaultColor(Po,as){const ls=this.colorsById[Po];if(ls&&ls.defaults)return Ts(ls.defaults[as.type],as)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((as,ls)=>{const vs=-1===as.indexOf(".")?0:1,hs=-1===ls.indexOf(".")?0:1;return vs!==hs?vs-hs:as.localeCompare(ls)}).map(as=>`- \`${as}\`: ${this.colorsById[as].description}`).join("\n")}};function c(lo,Po,as,ls,vs){return s.registerColor(lo,function m(lo){return null===lo||typeof lo.hcLight>"u"&&(lo.hcLight=null===lo.hcDark||"string"==typeof lo.hcDark?lo.hcDark:lo.light),lo}(Po),as,ls,vs)}C.B.add(L.ColorContribution,s);const t=c("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),p=(c("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},v.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),c("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."))),g=(c("descriptionForeground",{light:"#717171",dark:Gi(t,.7),hcDark:Gi(t,.7),hcLight:Gi(t,.7)},v.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),c("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("iconForeground","The default color for icons in the workbench."))),b=c("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},v.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),y=c("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},v.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),w=c("contrastActiveBorder",{light:null,dark:null,hcDark:b,hcLight:b},v.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),P=(c("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),c("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:n.Il.black,hcLight:"#292929"},v.NC("textSeparatorForeground","Color for text separators.")),c("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkForeground","Foreground color for links in text."))),O=c("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),k=(c("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},v.NC("textPreformatForeground","Foreground color for preformatted text segments.")),c("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},v.NC("textBlockQuoteBackground","Background color for block quotes in text.")),c("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:n.Il.white,hcLight:"#292929"},v.NC("textBlockQuoteBorder","Border color for block quotes in text.")),c("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:n.Il.black,hcLight:"#F2F2F2"},v.NC("textCodeBlockBackground","Background color for code blocks in text."))),F=c("widget.shadow",{dark:Gi(n.Il.black,.36),light:Gi(n.Il.black,.16),hcDark:null,hcLight:null},v.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),j=c("input.background",{dark:"#3C3C3C",light:n.Il.white,hcDark:n.Il.black,hcLight:n.Il.white},v.NC("inputBoxBackground","Input box background.")),K=c("input.foreground",{dark:t,light:t,hcDark:t,hcLight:t},v.NC("inputBoxForeground","Input box foreground.")),U=c("input.border",{dark:null,light:null,hcDark:y,hcLight:y},v.NC("inputBoxBorder","Input box border.")),ne=c("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:y,hcLight:y},v.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),W=(c("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),c("inputOption.activeBackground",{dark:Gi(b,.4),light:Gi(b,.2),hcDark:n.Il.transparent,hcLight:n.Il.transparent},v.NC("inputOption.activeBackground","Background hover color of options in input fields."))),Z=c("inputOption.activeForeground",{dark:n.Il.white,light:n.Il.black,hcDark:null,hcLight:t},v.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),M=(c("input.placeholderForeground",{light:Gi(t,.5),dark:Gi(t,.5),hcDark:Gi(t,.7),hcLight:Gi(t,.7)},v.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),c("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:n.Il.black,hcLight:n.Il.white},v.NC("inputValidationInfoBackground","Input validation background color for information severity."))),we=c("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:t},v.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ee=c("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:y,hcLight:y},v.NC("inputValidationInfoBorder","Input validation border color for information severity.")),xe=c("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:n.Il.black,hcLight:n.Il.white},v.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),Ne=c("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:t},v.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),oe=c("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:y,hcLight:y},v.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),Se=c("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:n.Il.black,hcLight:n.Il.white},v.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Ie=c("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:t},v.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),me=c("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},v.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Me=c("dropdown.background",{dark:"#3C3C3C",light:n.Il.white,hcDark:n.Il.black,hcLight:n.Il.white},v.NC("dropdownBackground","Dropdown background.")),ke=(c("dropdown.listBackground",{dark:null,light:null,hcDark:n.Il.black,hcLight:n.Il.white},v.NC("dropdownListBackground","Dropdown list background.")),c("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:n.Il.white,hcLight:t},v.NC("dropdownForeground","Dropdown foreground."))),Ue=c("dropdown.border",{dark:Me,light:"#CECECE",hcDark:y,hcLight:y},v.NC("dropdownBorder","Dropdown border.")),ze=c("checkbox.background",{dark:Me,light:Me,hcDark:Me,hcLight:Me},v.NC("checkbox.background","Background color of checkbox widget.")),ce=c("checkbox.foreground",{dark:ke,light:ke,hcDark:ke,hcLight:ke},v.NC("checkbox.foreground","Foreground color of checkbox widget.")),Ve=c("checkbox.border",{dark:Ue,light:Ue,hcDark:Ue,hcLight:Ue},v.NC("checkbox.border","Border color of checkbox widget.")),tt=c("button.foreground",{dark:n.Il.white,light:n.Il.white,hcDark:n.Il.white,hcLight:n.Il.white},v.NC("buttonForeground","Button foreground color.")),Ct=c("button.separator",{dark:Gi(tt,.4),light:Gi(tt,.4),hcDark:Gi(tt,.4),hcLight:Gi(tt,.4)},v.NC("buttonSeparator","Button separator color.")),Lt=c("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},v.NC("buttonBackground","Button background color.")),$e=c("button.hoverBackground",{dark:As(Lt,.2),light:Zs(Lt,.2),hcDark:null,hcLight:null},v.NC("buttonHoverBackground","Button background color when hovering.")),ae=c("button.border",{dark:y,light:y,hcDark:y,hcLight:y},v.NC("buttonBorder","Button border color.")),ve=c("button.secondaryForeground",{dark:n.Il.white,light:n.Il.white,hcDark:n.Il.white,hcLight:t},v.NC("buttonSecondaryForeground","Secondary button foreground color.")),he=c("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:n.Il.white},v.NC("buttonSecondaryBackground","Secondary button background color.")),le=c("button.secondaryHoverBackground",{dark:As(he,.2),light:Zs(he,.2),hcDark:null,hcLight:null},v.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Q=c("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:n.Il.black,hcLight:"#0F4A85"},v.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Ce=c("badge.foreground",{dark:n.Il.white,light:"#333",hcDark:n.Il.white,hcLight:n.Il.white},v.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Pe=c("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},v.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),dt=c("scrollbarSlider.background",{dark:n.Il.fromHex("#797979").transparent(.4),light:n.Il.fromHex("#646464").transparent(.4),hcDark:Gi(y,.6),hcLight:Gi(y,.4)},v.NC("scrollbarSliderBackground","Scrollbar slider background color.")),st=c("scrollbarSlider.hoverBackground",{dark:n.Il.fromHex("#646464").transparent(.7),light:n.Il.fromHex("#646464").transparent(.7),hcDark:Gi(y,.8),hcLight:Gi(y,.8)},v.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),qe=c("scrollbarSlider.activeBackground",{dark:n.Il.fromHex("#BFBFBF").transparent(.4),light:n.Il.fromHex("#000000").transparent(.6),hcDark:y,hcLight:y},v.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Qe=c("progressBar.background",{dark:n.Il.fromHex("#0E70C0"),light:n.Il.fromHex("#0E70C0"),hcDark:y,hcLight:y},v.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),et=c("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),vt=c("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),mt=c("editorError.border",{dark:null,light:null,hcDark:n.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},v.NC("errorBorder","Border color of error boxes in the editor.")),_t=c("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),$t=c("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},v.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Bt=c("editorWarning.border",{dark:null,light:null,hcDark:n.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},v.NC("warningBorder","Border color of warning boxes in the editor.")),Ke=c("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ht=c("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},v.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),jt=c("editorInfo.border",{dark:null,light:null,hcDark:n.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},v.NC("infoBorder","Border color of info boxes in the editor.")),fn=c("editorHint.foreground",{dark:n.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},v.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Dn=c("editorHint.border",{dark:null,light:null,hcDark:n.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},v.NC("hintBorder","Border color of hint boxes in the editor.")),He=(c("sash.hoverBorder",{dark:b,light:b,hcDark:b,hcLight:b},v.NC("sashActiveBorder","Border color of active sashes.")),c("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:n.Il.black,hcLight:n.Il.white},v.NC("editorBackground","Editor background color."))),ye=c("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:n.Il.white,hcLight:t},v.NC("editorForeground","Editor default foreground color.")),be=(c("editorStickyScroll.background",{light:He,dark:He,hcDark:He,hcLight:He},v.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),c("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:n.Il.fromHex("#0F4A85").transparent(.1)},v.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),c("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:n.Il.white},v.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),Je=c("editorWidget.foreground",{dark:t,light:t,hcDark:t,hcLight:t},v.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Fe=c("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:y,hcLight:y},v.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),nt=c("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),bt=c("quickInput.background",{dark:be,light:be,hcDark:be,hcLight:be},v.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Ut=c("quickInput.foreground",{dark:Je,light:Je,hcDark:Je,hcLight:Je},v.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),vn=c("quickInputTitle.background",{dark:new n.Il(new n.VS(255,255,255,.105)),light:new n.Il(new n.VS(0,0,0,.06)),hcDark:"#000000",hcLight:n.Il.white},v.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Mn=c("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:n.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupForeground","Quick picker color for grouping labels.")),St=c("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:n.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupBorder","Quick picker color for grouping borders.")),gn=c("keybindingLabel.background",{dark:new n.Il(new n.VS(128,128,128,.17)),light:new n.Il(new n.VS(221,221,221,.4)),hcDark:n.Il.transparent,hcLight:n.Il.transparent},v.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Vn=c("keybindingLabel.foreground",{dark:n.Il.fromHex("#CCCCCC"),light:n.Il.fromHex("#555555"),hcDark:n.Il.white,hcLight:t},v.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Sn=c("keybindingLabel.border",{dark:new n.Il(new n.VS(51,51,51,.6)),light:new n.Il(new n.VS(204,204,204,.4)),hcDark:new n.Il(new n.VS(111,195,223)),hcLight:y},v.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Gn=c("keybindingLabel.bottomBorder",{dark:new n.Il(new n.VS(68,68,68,.6)),light:new n.Il(new n.VS(187,187,187,.4)),hcDark:new n.Il(new n.VS(111,195,223)),hcLight:t},v.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ci=c("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},v.NC("editorSelectionBackground","Color of the editor selection.")),ii=c("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:n.Il.white},v.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Ei=c("editor.inactiveSelectionBackground",{light:Gi(ci,.5),dark:Gi(ci,.5),hcDark:Gi(ci,.7),hcLight:Gi(ci,.5)},v.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),no=c("editor.selectionHighlightBackground",{light:nr(ci,He,.3,.6),dark:nr(ci,He,.3,.6),hcDark:null,hcLight:null},v.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),to=c("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:w,hcLight:w},v.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Co=c("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},v.NC("editorFindMatch","Color of the current search match.")),io=c("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},v.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),uo=c("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},v.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),go=c("editor.findMatchBorder",{light:null,dark:null,hcDark:w,hcLight:w},v.NC("editorFindMatchBorder","Border color of the current search match.")),si=c("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:w,hcLight:w},v.NC("findMatchHighlightBorder","Border color of the other search matches.")),Yt=c("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Gi(w,.4),hcLight:Gi(w,.4)},v.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Kt=(c("searchEditor.findMatchBackground",{light:Gi(io,.66),dark:Gi(io,.66),hcDark:io,hcLight:io},v.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),c("searchEditor.findMatchBorder",{light:Gi(si,.66),dark:Gi(si,.66),hcDark:si,hcLight:si},v.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),c("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},v.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),nn=c("editorHoverWidget.background",{light:be,dark:be,hcDark:be,hcLight:be},v.NC("hoverBackground","Background color of the editor hover.")),an=c("editorHoverWidget.foreground",{light:Je,dark:Je,hcDark:Je,hcLight:Je},v.NC("hoverForeground","Foreground color of the editor hover.")),mn=c("editorHoverWidget.border",{light:Fe,dark:Fe,hcDark:Fe,hcLight:Fe},v.NC("hoverBorder","Border color of the editor hover.")),Nn=c("editorHoverWidget.statusBarBackground",{dark:As(nn,.2),light:Zs(nn,.05),hcDark:be,hcLight:be},v.NC("statusBarBackground","Background color of the editor hover status bar.")),jn=c("editorLink.activeForeground",{dark:"#4E94CE",light:n.Il.blue,hcDark:n.Il.cyan,hcLight:"#292929"},v.NC("activeLinkForeground","Color of active links.")),Yn=c("editorInlayHint.foreground",{dark:Gi(Ce,.8),light:Gi(Ce,.8),hcDark:Ce,hcLight:Ce},v.NC("editorInlayHintForeground","Foreground color of inline hints")),wi=c("editorInlayHint.background",{dark:Gi(Q,.6),light:Gi(Q,.3),hcDark:Q,hcLight:Q},v.NC("editorInlayHintBackground","Background color of inline hints")),Li=c("editorInlayHint.typeForeground",{dark:Yn,light:Yn,hcDark:Yn,hcLight:Yn},v.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Qi=c("editorInlayHint.typeBackground",{dark:wi,light:wi,hcDark:wi,hcLight:wi},v.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Pi=c("editorInlayHint.parameterForeground",{dark:Yn,light:Yn,hcDark:Yn,hcLight:Yn},v.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Ki=c("editorInlayHint.parameterBackground",{dark:wi,light:wi,hcDark:wi,hcLight:wi},v.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Wi=c("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},v.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),ro=c("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),mo=new n.Il(new n.VS(155,185,85,.2)),Ko=new n.Il(new n.VS(255,0,0,.2)),Eo=c("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},v.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Mo=c("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},v.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Io=c("diffEditor.insertedLineBackground",{dark:mo,light:mo,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Yi=c("diffEditor.removedLineBackground",{dark:Ko,light:Ko,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ho=c("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Ao=c("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),li=c("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Xt=c("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),kt=c("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},v.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),un=c("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},v.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),Rn=c("diffEditor.border",{dark:null,light:null,hcDark:y,hcLight:y},v.NC("diffEditorBorder","Border color between the two text editors.")),Wn=c("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},v.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),dn=c("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ft=c("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),sn=c("list.focusOutline",{dark:b,light:b,hcDark:w,hcLight:w},v.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tn=c("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),xn=c("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:n.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pn=c("list.activeSelectionForeground",{dark:n.Il.white,light:n.Il.white,hcDark:null,hcLight:null},v.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),En=c("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ut=c("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:n.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Pt=c("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ht=c("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Qt=c("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),bn=c("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Re=c("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:n.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ct=c("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Cn=c("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},v.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Hn=c("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:b,hcLight:b},v.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Ii=c("list.focusHighlightForeground",{dark:Hn,light:function tr(lo,Po,as){return{op:5,if:lo,then:Po,else:as}}(xn,Hn,"#BBE7FF"),hcDark:Hn,hcLight:Hn},v.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),R=(c("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},v.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),c("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},v.NC("listErrorForeground","Foreground color of list items containing errors.")),c("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},v.NC("listWarningForeground","Foreground color of list items containing warnings.")),c("listFilterWidget.background",{light:Zs(be,0),dark:As(be,0),hcDark:be,hcLight:be},v.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),J=c("listFilterWidget.outline",{dark:n.Il.transparent,light:n.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},v.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),_e=c("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},v.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),je=c("listFilterWidget.shadow",{dark:F,light:F,hcDark:F,hcLight:F},v.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),on=(c("list.filterMatchBackground",{dark:io,light:io,hcDark:null,hcLight:null},v.NC("listFilterMatchHighlight","Background color of the filtered match.")),c("list.filterMatchBorder",{dark:si,light:si,hcDark:y,hcLight:w},v.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),c("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},v.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),qt=c("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},v.NC("tableColumnsBorder","Table border color between columns.")),yn=c("tree.tableOddRowsBackground",{dark:Gi(t,.04),light:Gi(t,.04),hcDark:null,hcLight:null},v.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Bn=(c("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},v.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),c("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,v.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Kn=c("quickInputList.focusForeground",{dark:Pn,light:Pn,hcDark:Pn,hcLight:Pn},v.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ni=c("quickInputList.focusIconForeground",{dark:En,light:En,hcDark:En,hcLight:En},v.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),hi=c("quickInputList.focusBackground",{dark:dr(Bn,xn),light:dr(Bn,xn),hcDark:null,hcLight:null},v.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),fi=c("menu.border",{dark:null,light:null,hcDark:y,hcLight:y},v.NC("menuBorder","Border color of menus.")),Rt=c("menu.foreground",{dark:ke,light:t,hcDark:ke,hcLight:ke},v.NC("menuForeground","Foreground color of menu items.")),ee=c("menu.background",{dark:Me,light:Me,hcDark:Me,hcLight:Me},v.NC("menuBackground","Background color of menu items.")),fe=c("menu.selectionForeground",{dark:Pn,light:Pn,hcDark:Pn,hcLight:Pn},v.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),it=c("menu.selectionBackground",{dark:xn,light:xn,hcDark:xn,hcLight:xn},v.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),It=c("menu.selectionBorder",{dark:null,light:null,hcDark:w,hcLight:w},v.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),en=c("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:y,hcLight:y},v.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Tt=c("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Mi=(c("toolbar.hoverOutline",{dark:null,light:null,hcDark:w,hcLight:w},v.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),c("toolbar.activeBackground",{dark:As(Tt,.1),light:Zs(Tt,.1),hcDark:null,hcLight:null},v.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),c("editor.snippetTabstopHighlightBackground",{dark:new n.Il(new n.VS(124,124,124,.3)),light:new n.Il(new n.VS(10,50,100,.2)),hcDark:new n.Il(new n.VS(124,124,124,.3)),hcLight:new n.Il(new n.VS(10,50,100,.2))},v.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),c("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),c("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),c("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new n.Il(new n.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},v.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),c("breadcrumb.foreground",{light:Gi(t,.8),dark:Gi(t,.8),hcDark:Gi(t,.8),hcLight:Gi(t,.8)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),c("breadcrumb.background",{light:He,dark:He,hcDark:He,hcLight:He},v.NC("breadcrumbsBackground","Background color of breadcrumb items.")),c("breadcrumb.focusForeground",{light:Zs(t,.2),dark:As(t,.1),hcDark:As(t,.1),hcLight:As(t,.1)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),c("breadcrumb.activeSelectionForeground",{light:Zs(t,.2),dark:As(t,.1),hcDark:As(t,.1),hcLight:As(t,.1)},v.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),c("breadcrumbPicker.background",{light:be,dark:be,hcDark:be,hcLight:be},v.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),n.Il.fromHex("#40C8AE").transparent(.5)),Bi=n.Il.fromHex("#40A6FF").transparent(.5),$i=n.Il.fromHex("#606060").transparent(.4),zi=.4,jo=c("merge.currentHeaderBackground",{dark:Mi,light:Mi,hcDark:null,hcLight:null},v.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ss=(c("merge.currentContentBackground",{dark:Gi(jo,zi),light:Gi(jo,zi),hcDark:Gi(jo,zi),hcLight:Gi(jo,zi)},v.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.incomingHeaderBackground",{dark:Bi,light:Bi,hcDark:null,hcLight:null},v.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),_s=(c("merge.incomingContentBackground",{dark:Gi(ss,zi),light:Gi(ss,zi),hcDark:Gi(ss,zi),hcLight:Gi(ss,zi)},v.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.commonHeaderBackground",{dark:$i,light:$i,hcDark:null,hcLight:null},v.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),$o=(c("merge.commonContentBackground",{dark:Gi(_s,zi),light:Gi(_s,zi),hcDark:Gi(_s,zi),hcLight:Gi(_s,zi)},v.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},v.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),Xo=(c("editorOverviewRuler.currentContentForeground",{dark:Gi(jo,1),light:Gi(jo,1),hcDark:$o,hcLight:$o},v.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.incomingContentForeground",{dark:Gi(ss,1),light:Gi(ss,1),hcDark:$o,hcLight:$o},v.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.commonContentForeground",{dark:Gi(_s,1),light:Gi(_s,1),hcDark:$o,hcLight:$o},v.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},v.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),ar=c("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},v.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ws=c("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},v.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Vs=c("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),hr=c("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),$s=c("minimap.errorHighlight",{dark:new n.Il(new n.VS(255,18,18,.7)),light:new n.Il(new n.VS(255,18,18,.7)),hcDark:new n.Il(new n.VS(255,50,50,1)),hcLight:"#B5200D"},v.NC("minimapError","Minimap marker color for errors.")),Dr=c("minimap.warningHighlight",{dark:$t,light:$t,hcDark:Bt,hcLight:Bt},v.NC("overviewRuleWarning","Minimap marker color for warnings.")),ks=c("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("minimapBackground","Minimap background color.")),Es=c("minimap.foregroundOpacity",{dark:n.Il.fromHex("#000f"),light:n.Il.fromHex("#000f"),hcDark:n.Il.fromHex("#000f"),hcLight:n.Il.fromHex("#000f")},v.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),fr=c("minimapSlider.background",{light:Gi(dt,.5),dark:Gi(dt,.5),hcDark:Gi(dt,.5),hcLight:Gi(dt,.5)},v.NC("minimapSliderBackground","Minimap slider background color.")),xs=c("minimapSlider.hoverBackground",{light:Gi(st,.5),dark:Gi(st,.5),hcDark:Gi(st,.5),hcLight:Gi(st,.5)},v.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),_r=c("minimapSlider.activeBackground",{light:Gi(qe,.5),dark:Gi(qe,.5),hcDark:Gi(qe,.5),hcLight:Gi(qe,.5)},v.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Gs=c("problemsErrorIcon.foreground",{dark:vt,light:vt,hcDark:vt,hcLight:vt},v.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Ms=c("problemsWarningIcon.foreground",{dark:$t,light:$t,hcDark:$t,hcLight:$t},v.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Go=c("problemsInfoIcon.foreground",{dark:ht,light:ht,hcDark:ht,hcLight:ht},v.NC("problemsInfoIconForeground","The color used for the problems info icon."));function Zs(lo,Po){return{op:0,value:lo,factor:Po}}function As(lo,Po){return{op:1,value:lo,factor:Po}}function Gi(lo,Po){return{op:2,value:lo,factor:Po}}function dr(...lo){return{op:3,values:lo}}function nr(lo,Po,as,ls){return{op:4,value:lo,background:Po,factor:as,transparency:ls}}function Ts(lo,Po){if(null!==lo){if("string"==typeof lo)return"#"===lo[0]?n.Il.fromHex(lo):Po.getColor(lo);if(lo instanceof n.Il)return lo;if("object"==typeof lo)return function jr(lo,Po){var as,ls,vs;switch(lo.op){case 0:return null===(as=Ts(lo.value,Po))||void 0===as?void 0:as.darken(lo.factor);case 1:return null===(ls=Ts(lo.value,Po))||void 0===ls?void 0:ls.lighten(lo.factor);case 2:return null===(vs=Ts(lo.value,Po))||void 0===vs?void 0:vs.transparent(lo.factor);case 3:for(const hs of lo.values){const Ps=Ts(hs,Po);if(Ps)return Ps}return;case 5:return Ts(Po.defines(lo.if)?lo.then:lo.else,Po);case 4:{const hs=Ts(lo.value,Po);if(!hs)return;const Ps=Ts(lo.background,Po);return Ps?hs.isDarkerThan(Ps)?n.Il.getLighterColor(hs,Ps,lo.factor).transparent(lo.transparency):n.Il.getDarkerColor(hs,Ps,lo.factor).transparent(lo.transparency):hs.transparent(lo.factor*lo.transparency)}default:throw(0,S.vE)(lo)}}(lo,Po)}}c("charts.foreground",{dark:t,light:t,hcDark:t,hcLight:t},v.NC("chartsForeground","The foreground color used in charts.")),c("charts.lines",{dark:Gi(t,.5),light:Gi(t,.5),hcDark:Gi(t,.5),hcLight:Gi(t,.5)},v.NC("chartsLines","The color used for horizontal lines in charts.")),c("charts.red",{dark:vt,light:vt,hcDark:vt,hcLight:vt},v.NC("chartsRed","The red color used in chart visualizations.")),c("charts.blue",{dark:ht,light:ht,hcDark:ht,hcLight:ht},v.NC("chartsBlue","The blue color used in chart visualizations.")),c("charts.yellow",{dark:$t,light:$t,hcDark:$t,hcLight:$t},v.NC("chartsYellow","The yellow color used in chart visualizations.")),c("charts.orange",{dark:Ws,light:Ws,hcDark:Ws,hcLight:Ws},v.NC("chartsOrange","The orange color used in chart visualizations.")),c("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},v.NC("chartsGreen","The green color used in chart visualizations.")),c("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v.NC("chartsPurple","The purple color used in chart visualizations."));const Er="vscode://schemas/workbench-colors",mr=C.B.as(T.I.JSONContribution);mr.registerSchema(Er,s.getColorSchema());const Lr=new d.pY(()=>mr.notifySchemaChanged(Er),200);s.onDidChangeSchema(()=>{Lr.isScheduled()||Lr.schedule()})},66287:(Dt,Y,e)=>{"use strict";e.d(Y,{Ks:()=>p,q5:()=>a,s_:()=>w});var s,m,V,d=e(48648),n=e(58783),l=e(3778),S=e(72715),v=e(59547),T=e(55197),C=e(7886),E=e(4259),L=e(40902);(s||(s={})).getDefinition=function H(z,k){let F=z.defaults;for(;L.kS.isThemeIcon(F);){const j=t.getIcon(F.id);if(!j)return;F=j.defaults}return F},(V=m||(m={})).toJSONObject=function H(k){return{weight:k.weight,style:k.style,src:k.src.map(F=>({format:F.format,location:F.location.toString()}))}},V.fromJSONObject=function z(k){const F=j=>(0,S.HD)(j)?j:void 0;if(k&&Array.isArray(k.src)&&k.src.every(j=>(0,S.HD)(j.format)&&(0,S.HD)(j.location)))return{weight:F(k.weight),style:F(k.style),src:k.src.map(j=>({format:j.format,location:v.o.parse(j.location)}))}};const t=new class c{constructor(){this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,T.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,T.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${n.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(H,z,k,F){const j=this.iconsById[H];if(j){if(k&&!j.description){j.description=k,this.iconSchema.properties[H].markdownDescription=`${k} $(${H})`;const ne=this.iconReferenceSchema.enum.indexOf(H);-1!==ne&&(this.iconReferenceSchema.enumDescriptions[ne]=k),this._onDidChange.fire()}return j}this.iconsById[H]={id:H,description:k,defaults:z,deprecationMessage:F};const U={$ref:"#/definitions/icons"};return F&&(U.deprecationMessage=F),k&&(U.markdownDescription=`${k}: $(${H})`),this.iconSchema.properties[H]=U,this.iconReferenceSchema.enum.push(H),this.iconReferenceSchema.enumDescriptions.push(k||""),this._onDidChange.fire(),{id:H}}getIcons(){return Object.keys(this.iconsById).map(H=>this.iconsById[H])}getIcon(H){return this.iconsById[H]}getIconSchema(){return this.iconSchema}toString(){const H=(j,K)=>j.id.localeCompare(K.id),z=j=>{for(;L.kS.isThemeIcon(j.defaults);)j=this.iconsById[j.defaults.id];return`codicon codicon-${j?j.id:""}`},k=[];k.push("| preview     | identifier                        | default codicon ID                | description"),k.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const F=Object.keys(this.iconsById).map(j=>this.iconsById[j]);for(const j of F.filter(K=>!!K.description).sort(H))k.push(`|<i class="${z(j)}"></i>|${j.id}|${L.kS.isThemeIcon(j.defaults)?j.defaults.id:j.id}|${j.description||""}|`);k.push("| preview     | identifier                        "),k.push("| ----------- | --------------------------------- |");for(const j of F.filter(K=>!L.kS.isThemeIcon(K.defaults)).sort(H))k.push(`|<i class="${z(j)}"></i>|${j.id}|`);return k.join("\n")}};function a(V,H,z,k){return t.registerIcon(V,H,z,k)}function p(){return t}E.B.add("base.contributions.icons",t),function u(){for(const V of n.lA.getAll())t.registerIcon(V.id,V.definition,V.description)}();const g="vscode://schemas/icons",b=E.B.as(C.I.JSONContribution);b.registerSchema(g,t.getIconSchema());const y=new d.pY(()=>b.notifySchemaChanged(g),200);t.onDidChange(()=>{y.isScheduled()||y.schedule()});const w=a("widget-close",n.lA.close,(0,T.NC)("widgetClose","Icon for the close action in widgets."));a("goto-previous-location",n.lA.arrowUp,(0,T.NC)("previousChangeIcon","Icon for goto previous editor location.")),a("goto-next-location",n.lA.arrowDown,(0,T.NC)("nextChangeIcon","Icon for goto next editor location.")),L.kS.modify(n.lA.sync,"spin"),L.kS.modify(n.lA.loading,"spin")},52075:(Dt,Y,e)=>{"use strict";e.d(Y,{Jl:()=>v,O2:()=>T,WZ:()=>S,o:()=>n,tj:()=>E});var d=e(4062);function n(L,_){const s=Object.create(null);for(const m in _){const c=_[m];c&&(s[m]=(0,d.Snq)(c,L))}return s}function l(L,_,s){function m(){const c=n(L.getColorTheme(),_);"function"==typeof s?s(c):s.style(c)}return m(),L.onDidColorThemeChange(m)}function S(L,_,s){return l(_,{badgeBackground:s?.badgeBackground||d.g8u,badgeForeground:s?.badgeForeground||d.qeD,badgeBorder:d.lRK},L)}function v(L,_,s){return l(_,Object.assign(Object.assign({},T),s||{}),L)}const T={listFocusBackground:d._bK,listFocusForeground:d._2n,listFocusOutline:d.Oop,listActiveSelectionBackground:d.dCr,listActiveSelectionForeground:d.M6C,listActiveSelectionIconForeground:d.Tnx,listFocusAndSelectionOutline:d.Bqu,listFocusAndSelectionBackground:d.dCr,listFocusAndSelectionForeground:d.M6C,listInactiveSelectionBackground:d.rg2,listInactiveSelectionIconForeground:d.kvU,listInactiveSelectionForeground:d.ytC,listInactiveFocusBackground:d.s$,listInactiveFocusOutline:d.F3d,listHoverBackground:d.mV1,listHoverForeground:d.$d5,listDropBackground:d.AS1,listSelectionOutline:d.xL1,listHoverOutline:d.xL1,listFilterWidgetBackground:d.vGG,listFilterWidgetOutline:d.oSI,listFilterWidgetNoMatchesOutline:d.Saq,listFilterWidgetShadow:d.y65,treeIndentGuidesStroke:d.UnT,tableColumnsBorder:d.uxu,tableOddRowsBackgroundColor:d.EQn,inputActiveOptionBorder:d.PRb,inputActiveOptionForeground:d.Pvw,inputActiveOptionBackground:d.XEs,inputBackground:d.sEe,inputForeground:d.zJb,inputBorder:d.dt_,inputValidationInfoBackground:d._lC,inputValidationInfoForeground:d.YI3,inputValidationInfoBorder:d.EPQ,inputValidationWarningBackground:d.RV_,inputValidationWarningForeground:d.SUG,inputValidationWarningBorder:d.C3g,inputValidationErrorBackground:d.paE,inputValidationErrorForeground:d._t9,inputValidationErrorBorder:d.OZR},C={shadowColor:d.rh,borderColor:d.Cdg,foregroundColor:d.DEr,backgroundColor:d.Hz8,selectionForegroundColor:d.jbW,selectionBackgroundColor:d.$DX,selectionBorderColor:d.E3h,separatorColor:d.ZGJ,scrollbarShadow:d._wn,scrollbarSliderBackground:d.etL,scrollbarSliderHoverBackground:d.ABB,scrollbarSliderActiveBackground:d.ynu};function E(L,_,s){return l(_,Object.assign(Object.assign({},C),s),L)}},18034:(Dt,Y,e)=>{"use strict";e.d(Y,{_T:()=>l,c3:()=>n,eL:()=>d});var d=(()=>{return(S=d||(d={})).DARK="dark",S.LIGHT="light",S.HIGH_CONTRAST_DARK="hcDark",S.HIGH_CONTRAST_LIGHT="hcLight",d;var S})();function n(S){return S===d.HIGH_CONTRAST_DARK||S===d.HIGH_CONTRAST_LIGHT}function l(S){return S===d.DARK||S===d.HIGH_CONTRAST_DARK}},40902:(Dt,Y,e)=>{"use strict";e.d(Y,{EN:()=>L,IP:()=>m,Ic:()=>a,XE:()=>C,bB:()=>p,kS:()=>_,m6:()=>s});var d=e(58783),n=e(3778),l=e(80142),S=e(9265),v=e(4259),T=e(18034);const C=(0,S.yh)("themeService");var E,_;function L(u){return{id:u}}function s(u){switch(u){case T.eL.DARK:return"vs-dark";case T.eL.HIGH_CONTRAST_DARK:return"hc-black";case T.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}(E||(E={})).isThemeColor=function g(b){return b&&"object"==typeof b&&"string"==typeof b.id},function(u){u.isThemeIcon=function g(V){return V&&"object"==typeof V&&"string"==typeof V.id&&(typeof V.color>"u"||E.isThemeColor(V.color))};const b=new RegExp(`^\\$\\((${d.dT.iconNameExpression}(?:${d.dT.iconModifierExpression})?)\\)$`);u.fromString=function y(V){const H=b.exec(V);if(!H)return;const[,z]=H;return{id:z}},u.fromId=function w(V){return{id:V}},u.modify=function D(V,H){let z=V.id;const k=z.lastIndexOf("~");return-1!==k&&(z=z.substring(0,k)),H&&(z=`${z}~${H}`),{id:z}},u.getModifier=function x(V){const H=V.id.lastIndexOf("~");if(-1!==H)return V.id.substring(H+1)},u.isEqual=function P(V,H){var z,k;return V.id===H.id&&(null===(z=V.color)||void 0===z?void 0:z.id)===(null===(k=H.color)||void 0===k?void 0:k.id)},u.asThemeIcon=function O(V,H){return{id:V.id,color:H?L(H):void 0}},u.asClassNameArray=d.dT.asClassNameArray,u.asClassName=d.dT.asClassName,u.asCSSSelector=d.dT.asCSSSelector}(_||(_={}));const m={ThemingContribution:"base.contributions.theming"},t=new class c{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new n.Q5}onColorThemeChange(g){return this.themingParticipants.push(g),this.onThemingParticipantAddedEmitter.fire(g),(0,l.OF)(()=>{const b=this.themingParticipants.indexOf(g);this.themingParticipants.splice(b,1)})}getThemingParticipants(){return this.themingParticipants}};function a(u){return t.onColorThemeChange(u)}v.B.add(m.ThemingContribution,t);class p extends l.JT{constructor(g){super(),this.themeService=g,this.theme=g.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(b=>this.onThemeChange(b)))}onThemeChange(g){this.theme=g,this.updateStyles()}updateStyles(){}}},93633:(Dt,Y,e)=>{"use strict";e.d(Y,{Xt:()=>S,YO:()=>l,gJ:()=>v,tJ:()=>n});const n=(0,e(9265).yh)("undoRedoService");class l{constructor(C,E){this.resource=C,this.elements=E}}class S{constructor(){this.id=S._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}S._ID=0,S.None=new S;class v{constructor(){this.id=v._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}v._ID=0,v.None=new v},24596:(Dt,Y,e)=>{"use strict";e.d(Y,{A6:()=>_,eb:()=>T,ec:()=>v,j$:()=>E,md:()=>L,uT:()=>C});var d=e(55197),n=e(5067),l=e(59547);const v=(0,e(9265).yh)("contextService");function T(m){return"string"==typeof m?.id&&l.o.isUri(m.uri)}function C(m){return m.configuration?{id:m.id,configPath:m.configuration}:1===m.folders.length?{id:m.id,uri:m.folders[0].uri}:void 0}class E{constructor(c,t,a,p,u){this._id=c,this._transient=a,this._configuration=p,this._ignorePathCasing=u,this._foldersMap=n.Id.forUris(this._ignorePathCasing,()=>!0),this.folders=t}get folders(){return this._folders}set folders(c){this._folders=c,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(c){this._configuration=c}getFolder(c){return c&&this._foldersMap.findSubstr(c)||null}updateFoldersMap(){this._foldersMap=n.Id.forUris(this._ignorePathCasing,()=>!0);for(const c of this.folders)this._foldersMap.set(c.uri,c)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class L{constructor(c,t){this.raw=t,this.uri=c.uri,this.index=c.index,this.name=c.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const _="code-workspace";(0,d.NC)("codeWorkspace","Code Workspace")},88521:(Dt,Y,e)=>{"use strict";e.d(Y,{Y:()=>n});const n=(0,e(9265).yh)("workspaceTrustManagementService")},15289:(Dt,Y,e)=>{"use strict";var d=e(1762);function n(T){if("string"!=typeof T)throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}function l(T,C){for(var m,E="",L=0,_=-1,s=0,c=0;c<=T.length;++c){if(c<T.length)m=T.charCodeAt(c);else{if(47===m)break;m=47}if(47===m){if(_!==c-1&&1!==s)if(_!==c-1&&2===s){if(E.length<2||2!==L||46!==E.charCodeAt(E.length-1)||46!==E.charCodeAt(E.length-2))if(E.length>2){var t=E.lastIndexOf("/");if(t!==E.length-1){-1===t?(E="",L=0):L=(E=E.slice(0,t)).length-1-E.lastIndexOf("/"),_=c,s=0;continue}}else if(2===E.length||1===E.length){E="",L=0,_=c,s=0;continue}C&&(E.length>0?E+="/..":E="..",L=2)}else E.length>0?E+="/"+T.slice(_+1,c):E=T.slice(_+1,c),L=c-_-1;_=c,s=0}else 46===m&&-1!==s?++s:s=-1}return E}var v={resolve:function(){for(var L,C="",E=!1,_=arguments.length-1;_>=-1&&!E;_--){var s;_>=0?s=arguments[_]:(void 0===L&&(L=d.cwd()),s=L),n(s),0!==s.length&&(C=s+"/"+C,E=47===s.charCodeAt(0))}return C=l(C,!E),E?C.length>0?"/"+C:"/":C.length>0?C:"."},normalize:function(C){if(n(C),0===C.length)return".";var E=47===C.charCodeAt(0),L=47===C.charCodeAt(C.length-1);return 0===(C=l(C,!E)).length&&!E&&(C="."),C.length>0&&L&&(C+="/"),E?"/"+C:C},isAbsolute:function(C){return n(C),C.length>0&&47===C.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var C,E=0;E<arguments.length;++E){var L=arguments[E];n(L),L.length>0&&(void 0===C?C=L:C+="/"+L)}return void 0===C?".":v.normalize(C)},relative:function(C,E){if(n(C),n(E),C===E||(C=v.resolve(C))===(E=v.resolve(E)))return"";for(var L=1;L<C.length&&47===C.charCodeAt(L);++L);for(var _=C.length,s=_-L,m=1;m<E.length&&47===E.charCodeAt(m);++m);for(var t=E.length-m,a=s<t?s:t,p=-1,u=0;u<=a;++u){if(u===a){if(t>a){if(47===E.charCodeAt(m+u))return E.slice(m+u+1);if(0===u)return E.slice(m+u)}else s>a&&(47===C.charCodeAt(L+u)?p=u:0===u&&(p=0));break}var g=C.charCodeAt(L+u);if(g!==E.charCodeAt(m+u))break;47===g&&(p=u)}var y="";for(u=L+p+1;u<=_;++u)(u===_||47===C.charCodeAt(u))&&(y+=0===y.length?"..":"/..");return y.length>0?y+E.slice(m+p):(47===E.charCodeAt(m+=p)&&++m,E.slice(m))},_makeLong:function(C){return C},dirname:function(C){if(n(C),0===C.length)return".";for(var E=C.charCodeAt(0),L=47===E,_=-1,s=!0,m=C.length-1;m>=1;--m)if(47===(E=C.charCodeAt(m))){if(!s){_=m;break}}else s=!1;return-1===_?L?"/":".":L&&1===_?"//":C.slice(0,_)},basename:function(C,E){if(void 0!==E&&"string"!=typeof E)throw new TypeError('"ext" argument must be a string');n(C);var m,L=0,_=-1,s=!0;if(void 0!==E&&E.length>0&&E.length<=C.length){if(E.length===C.length&&E===C)return"";var c=E.length-1,t=-1;for(m=C.length-1;m>=0;--m){var a=C.charCodeAt(m);if(47===a){if(!s){L=m+1;break}}else-1===t&&(s=!1,t=m+1),c>=0&&(a===E.charCodeAt(c)?-1==--c&&(_=m):(c=-1,_=t))}return L===_?_=t:-1===_&&(_=C.length),C.slice(L,_)}for(m=C.length-1;m>=0;--m)if(47===C.charCodeAt(m)){if(!s){L=m+1;break}}else-1===_&&(s=!1,_=m+1);return-1===_?"":C.slice(L,_)},extname:function(C){n(C);for(var E=-1,L=0,_=-1,s=!0,m=0,c=C.length-1;c>=0;--c){var t=C.charCodeAt(c);if(47!==t)-1===_&&(s=!1,_=c+1),46===t?-1===E?E=c:1!==m&&(m=1):-1!==E&&(m=-1);else if(!s){L=c+1;break}}return-1===E||-1===_||0===m||1===m&&E===_-1&&E===L+1?"":C.slice(E,_)},format:function(C){if(null===C||"object"!=typeof C)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof C);return function S(T,C){var E=C.dir||C.root,L=C.base||(C.name||"")+(C.ext||"");return E?E===C.root?E+L:E+T+L:L}("/",C)},parse:function(C){n(C);var E={root:"",dir:"",base:"",ext:"",name:""};if(0===C.length)return E;var s,L=C.charCodeAt(0),_=47===L;_?(E.root="/",s=1):s=0;for(var m=-1,c=0,t=-1,a=!0,p=C.length-1,u=0;p>=s;--p)if(47!==(L=C.charCodeAt(p)))-1===t&&(a=!1,t=p+1),46===L?-1===m?m=p:1!==u&&(u=1):-1!==m&&(u=-1);else if(!a){c=p+1;break}return-1===m||-1===t||0===u||1===u&&m===t-1&&m===c+1?-1!==t&&(E.base=E.name=C.slice(0===c&&_?1:c,t)):(0===c&&_?(E.name=C.slice(1,m),E.base=C.slice(1,t)):(E.name=C.slice(c,m),E.base=C.slice(c,t)),E.ext=C.slice(m,t)),c>0?E.dir=C.slice(0,c-1):_&&(E.dir="/"),E},sep:"/",delimiter:":",win32:null,posix:null};v.posix=v,Dt.exports=v},1762:Dt=>{var e,d,Y=Dt.exports={};function n(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function S(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch{try{return e.call(null,t,0)}catch{return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch{e=n}try{d="function"==typeof clearTimeout?clearTimeout:l}catch{d=l}}();var E,T=[],C=!1,L=-1;function _(){!C||!E||(C=!1,E.length?T=E.concat(T):L=-1,T.length&&s())}function s(){if(!C){var t=S(_);C=!0;for(var a=T.length;a;){for(E=T,T=[];++L<a;)E&&E[L].run();L=-1,a=T.length}E=null,C=!1,function v(t){if(d===clearTimeout)return clearTimeout(t);if((d===l||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{d(t)}catch{try{return d.call(null,t)}catch{return d.call(this,t)}}}(t)}}function m(t,a){this.fun=t,this.array=a}function c(){}Y.nextTick=function(t){var a=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)a[p-1]=arguments[p];T.push(new m(t,a)),1===T.length&&!C&&S(s)},m.prototype.run=function(){this.fun.apply(null,this.array)},Y.title="browser",Y.browser=!0,Y.env={},Y.argv=[],Y.version="",Y.versions={},Y.on=c,Y.addListener=c,Y.once=c,Y.off=c,Y.removeListener=c,Y.removeAllListeners=c,Y.emit=c,Y.prependListener=c,Y.prependOnceListener=c,Y.listeners=function(t){return[]},Y.binding=function(t){throw new Error("process.binding is not supported")},Y.cwd=function(){return"/"},Y.chdir=function(t){throw new Error("process.chdir is not supported")},Y.umask=function(){return 0}},49372:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.TraceFormat=Y.TraceValues=Y.Trace=Y.ProgressType=Y.ProgressToken=Y.createMessageConnection=Y.NullLogger=Y.ConnectionOptions=Y.ConnectionStrategy=Y.WriteableStreamMessageWriter=Y.AbstractMessageWriter=Y.MessageWriter=Y.ReadableStreamMessageReader=Y.AbstractMessageReader=Y.MessageReader=Y.CancellationToken=Y.CancellationTokenSource=Y.Emitter=Y.Event=Y.Disposable=Y.LRUCache=Y.Touch=Y.LinkedMap=Y.ParameterStructures=Y.NotificationType9=Y.NotificationType8=Y.NotificationType7=Y.NotificationType6=Y.NotificationType5=Y.NotificationType4=Y.NotificationType3=Y.NotificationType2=Y.NotificationType1=Y.NotificationType0=Y.NotificationType=Y.ErrorCodes=Y.ResponseError=Y.RequestType9=Y.RequestType8=Y.RequestType7=Y.RequestType6=Y.RequestType5=Y.RequestType4=Y.RequestType3=Y.RequestType2=Y.RequestType1=Y.RequestType0=Y.RequestType=Y.Message=Y.RAL=void 0,Y.CancellationStrategy=Y.CancellationSenderStrategy=Y.CancellationReceiverStrategy=Y.ConnectionError=Y.ConnectionErrors=Y.LogTraceNotification=Y.SetTraceNotification=void 0;const d=e(24563);Object.defineProperty(Y,"Message",{enumerable:!0,get:function(){return d.Message}}),Object.defineProperty(Y,"RequestType",{enumerable:!0,get:function(){return d.RequestType}}),Object.defineProperty(Y,"RequestType0",{enumerable:!0,get:function(){return d.RequestType0}}),Object.defineProperty(Y,"RequestType1",{enumerable:!0,get:function(){return d.RequestType1}}),Object.defineProperty(Y,"RequestType2",{enumerable:!0,get:function(){return d.RequestType2}}),Object.defineProperty(Y,"RequestType3",{enumerable:!0,get:function(){return d.RequestType3}}),Object.defineProperty(Y,"RequestType4",{enumerable:!0,get:function(){return d.RequestType4}}),Object.defineProperty(Y,"RequestType5",{enumerable:!0,get:function(){return d.RequestType5}}),Object.defineProperty(Y,"RequestType6",{enumerable:!0,get:function(){return d.RequestType6}}),Object.defineProperty(Y,"RequestType7",{enumerable:!0,get:function(){return d.RequestType7}}),Object.defineProperty(Y,"RequestType8",{enumerable:!0,get:function(){return d.RequestType8}}),Object.defineProperty(Y,"RequestType9",{enumerable:!0,get:function(){return d.RequestType9}}),Object.defineProperty(Y,"ResponseError",{enumerable:!0,get:function(){return d.ResponseError}}),Object.defineProperty(Y,"ErrorCodes",{enumerable:!0,get:function(){return d.ErrorCodes}}),Object.defineProperty(Y,"NotificationType",{enumerable:!0,get:function(){return d.NotificationType}}),Object.defineProperty(Y,"NotificationType0",{enumerable:!0,get:function(){return d.NotificationType0}}),Object.defineProperty(Y,"NotificationType1",{enumerable:!0,get:function(){return d.NotificationType1}}),Object.defineProperty(Y,"NotificationType2",{enumerable:!0,get:function(){return d.NotificationType2}}),Object.defineProperty(Y,"NotificationType3",{enumerable:!0,get:function(){return d.NotificationType3}}),Object.defineProperty(Y,"NotificationType4",{enumerable:!0,get:function(){return d.NotificationType4}}),Object.defineProperty(Y,"NotificationType5",{enumerable:!0,get:function(){return d.NotificationType5}}),Object.defineProperty(Y,"NotificationType6",{enumerable:!0,get:function(){return d.NotificationType6}}),Object.defineProperty(Y,"NotificationType7",{enumerable:!0,get:function(){return d.NotificationType7}}),Object.defineProperty(Y,"NotificationType8",{enumerable:!0,get:function(){return d.NotificationType8}}),Object.defineProperty(Y,"NotificationType9",{enumerable:!0,get:function(){return d.NotificationType9}}),Object.defineProperty(Y,"ParameterStructures",{enumerable:!0,get:function(){return d.ParameterStructures}});const n=e(29362);Object.defineProperty(Y,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(Y,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(Y,"Touch",{enumerable:!0,get:function(){return n.Touch}});const l=e(65597);Object.defineProperty(Y,"Disposable",{enumerable:!0,get:function(){return l.Disposable}});const S=e(45887);Object.defineProperty(Y,"Event",{enumerable:!0,get:function(){return S.Event}}),Object.defineProperty(Y,"Emitter",{enumerable:!0,get:function(){return S.Emitter}});const v=e(50250);Object.defineProperty(Y,"CancellationTokenSource",{enumerable:!0,get:function(){return v.CancellationTokenSource}}),Object.defineProperty(Y,"CancellationToken",{enumerable:!0,get:function(){return v.CancellationToken}});const T=e(22738);Object.defineProperty(Y,"MessageReader",{enumerable:!0,get:function(){return T.MessageReader}}),Object.defineProperty(Y,"AbstractMessageReader",{enumerable:!0,get:function(){return T.AbstractMessageReader}}),Object.defineProperty(Y,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return T.ReadableStreamMessageReader}});const C=e(13386);Object.defineProperty(Y,"MessageWriter",{enumerable:!0,get:function(){return C.MessageWriter}}),Object.defineProperty(Y,"AbstractMessageWriter",{enumerable:!0,get:function(){return C.AbstractMessageWriter}}),Object.defineProperty(Y,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return C.WriteableStreamMessageWriter}});const E=e(9652);Object.defineProperty(Y,"ConnectionStrategy",{enumerable:!0,get:function(){return E.ConnectionStrategy}}),Object.defineProperty(Y,"ConnectionOptions",{enumerable:!0,get:function(){return E.ConnectionOptions}}),Object.defineProperty(Y,"NullLogger",{enumerable:!0,get:function(){return E.NullLogger}}),Object.defineProperty(Y,"createMessageConnection",{enumerable:!0,get:function(){return E.createMessageConnection}}),Object.defineProperty(Y,"ProgressToken",{enumerable:!0,get:function(){return E.ProgressToken}}),Object.defineProperty(Y,"ProgressType",{enumerable:!0,get:function(){return E.ProgressType}}),Object.defineProperty(Y,"Trace",{enumerable:!0,get:function(){return E.Trace}}),Object.defineProperty(Y,"TraceValues",{enumerable:!0,get:function(){return E.TraceValues}}),Object.defineProperty(Y,"TraceFormat",{enumerable:!0,get:function(){return E.TraceFormat}}),Object.defineProperty(Y,"SetTraceNotification",{enumerable:!0,get:function(){return E.SetTraceNotification}}),Object.defineProperty(Y,"LogTraceNotification",{enumerable:!0,get:function(){return E.LogTraceNotification}}),Object.defineProperty(Y,"ConnectionErrors",{enumerable:!0,get:function(){return E.ConnectionErrors}}),Object.defineProperty(Y,"ConnectionError",{enumerable:!0,get:function(){return E.ConnectionError}}),Object.defineProperty(Y,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return E.CancellationReceiverStrategy}}),Object.defineProperty(Y,"CancellationSenderStrategy",{enumerable:!0,get:function(){return E.CancellationSenderStrategy}}),Object.defineProperty(Y,"CancellationStrategy",{enumerable:!0,get:function(){return E.CancellationStrategy}});const L=e(12033);Y.RAL=L.default},29636:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.CallHierarchyFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);class S{constructor(C){this.client=C,this.middleware=C.middleware}prepareCallHierarchy(C,E,L){const _=this.client,s=this.middleware,m=(c,t,a)=>{const p=_.code2ProtocolConverter.asTextDocumentPositionParams(c,t);return _.sendRequest(n.CallHierarchyPrepareRequest.type,p,a).then(u=>a.isCancellationRequested?null:_.protocol2CodeConverter.asCallHierarchyItems(u,a),u=>_.handleFailedRequest(n.CallHierarchyPrepareRequest.type,a,u,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(C,E,L,m):m(C,E,L)}provideCallHierarchyIncomingCalls(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const t={item:L.code2ProtocolConverter.asCallHierarchyItem(m)};return L.sendRequest(n.CallHierarchyIncomingCallsRequest.type,t,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asCallHierarchyIncomingCalls(a,c),a=>L.handleFailedRequest(n.CallHierarchyIncomingCallsRequest.type,c,a,null))};return _.provideCallHierarchyIncomingCalls?_.provideCallHierarchyIncomingCalls(C,E,s):s(C,E)}provideCallHierarchyOutgoingCalls(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const t={item:L.code2ProtocolConverter.asCallHierarchyItem(m)};return L.sendRequest(n.CallHierarchyOutgoingCallsRequest.type,t,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asCallHierarchyOutgoingCalls(a,c),a=>L.handleFailedRequest(n.CallHierarchyOutgoingCallsRequest.type,c,a,null))};return _.provideCallHierarchyOutgoingCalls?_.provideCallHierarchyOutgoingCalls(C,E,s):s(C,E)}}Y.CallHierarchyFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.CallHierarchyPrepareRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(C,E){const[L,_]=this.getRegistration(E,C.callHierarchyProvider);!L||!_||this.register({id:L,registerOptions:_})}registerLanguageProvider(C){const L=new S(this._client);return[d.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},34469:(Dt,Y,e)=>{"use strict";var n=e(328).default;Y.Fy=Y.dp=Y.c8=Y.Z6=Y.ZM=Y.UY=Y._X=Y.xP=void 0;const l=e(78708),S=e(85055),v=e(86683),T=e(85959),C=e(81072),E=e(8787),L=e(2766),_=e(74342),s=e(37062),m=e(55890),c=e(31446),t=e(28712),a=e(5074),p=e(25599),u=e(30429),g=e(37619),b=e(66808),y=e(72966),w=e(8203),D=e(97837),x=e(19323),P=e(823),O=e(39229),V=e(84453),H=e(24146),z=e(93049),k=e(29236),F=e(22958),j=e(95907),K=e(94749),U=e(77917),ne=e(91433),N=e(22722),W=e(54767),Z=e(88139),ge=e(18715),M=e(29636),we=e(35234),Ee=e(39727),xe=e(44303),Ne=e(92802),oe=e(26229),Se=e(96140);var Ie,$e,me,Me,de;($e=Ie=Y.xP||(Y.xP={}))[$e.Info=1]="Info",$e[$e.Warn=2]="Warn",$e[$e.Error=3]="Error",$e[$e.Never=4]="Never",function($e){$e[$e.Continue=1]="Continue",$e[$e.Shutdown=2]="Shutdown"}(me=Y._X||(Y._X={})),function($e){$e[$e.DoNotRestart=1]="DoNotRestart",$e[$e.Restart=2]="Restart"}(Me=Y.UY||(Y.UY={})),function($e){$e[$e.Stopped=1]="Stopped",$e[$e.Starting=3]="Starting",$e[$e.Running=2]="Running"}(de=Y.ZM||(Y.ZM={})),function($e){$e.off="off",$e.on="on"}(Y.Z6||(Y.Z6={}));class Ue{constructor(ae,ve){this.client=ae,this.maxRestartCount=ve,this.restarts=[]}error(ae,ve,he){return he&&he<=3?{action:me.Continue}:{action:me.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Me.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:Me.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Me.Restart})}}var Lt,ze=(()=>(function($e){$e.Initial="initial",$e.Starting="starting",$e.StartFailed="startFailed",$e.Running="running",$e.Stopping="stopping",$e.Stopped="stopped"}(ze||(ze={})),ze))();!function($e){$e.is=function ae(ve){return ve&&S.MessageReader.is(ve.reader)&&S.MessageWriter.is(ve.writer)}}(Y.c8||(Y.c8={}));class Ve{constructor(ae,ve,he){this._traceFormat=S.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new E.Semaphore(1),this._id=ae,this._name=ve;const le={isTrusted:!1,supportHtml:!1};void 0!==(he=he||{}).markdown&&(le.isTrusted=!0===he.markdown.isTrusted,le.supportHtml=!0===he.markdown.supportHtml),this._clientOptions={documentSelector:he.documentSelector??[],synchronize:he.synchronize??{},diagnosticCollectionName:he.diagnosticCollectionName,outputChannelName:he.outputChannelName??this._name,revealOutputChannelOn:he.revealOutputChannelOn??Ie.Error,stdioEncoding:he.stdioEncoding??"utf8",initializationOptions:he.initializationOptions,initializationFailedHandler:he.initializationFailedHandler,progressOnInitialization:!!he.progressOnInitialization,errorHandler:he.errorHandler??this.createDefaultErrorHandler(he.connectionOptions?.maxRestartCount),middleware:he.middleware??{},uriConverters:he.uriConverters,workspaceFolder:he.workspaceFolder,connectionOptions:he.connectionOptions,markdown:le,diagnosticPullOptions:he.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:he.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=ze.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,he.outputChannel?(this._outputChannel=he.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=he.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new E.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new S.Emitter,this._stateChangeEmitter=new S.Emitter,this._trace=S.Trace.Off,this._tracer={log:(Q,Ce)=>{C.string(Q)?this.logTrace(Q,Ce):this.logObjectTrace(Q)}},this._c2p=v.createConverter(he.uriConverters?he.uriConverters.code2Protocol:void 0),this._p2c=T.createConverter(he.uriConverters?he.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=l.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(ae){let ve=this.getPublicState();this._state=ae;let he=this.getPublicState();he!==ve&&this._stateChangeEmitter.fire({oldState:ve,newState:he})}getPublicState(){switch(this.$state){case ze.Starting:return de.Starting;case ze.Running:return de.Running;default:return de.Stopped}}get initializeResult(){return this._initializeResult}sendRequest(ae,...ve){var he=this;return n(function*(){if(he.$state===ze.StartFailed||he.$state===ze.Stopping||he.$state===ze.Stopped)return Promise.reject(new S.ResponseError(S.ErrorCodes.ConnectionInactive,"Client is not running"));try{const le=yield he.$start();return yield he.forceDocumentSync(),le.sendRequest(ae,...ve)}catch(le){throw he.error(`Sending request ${C.string(ae)?ae:ae.method} failed.`,le),le}})()}onRequest(ae,ve){const he="string"==typeof ae?ae:ae.method;this._requestHandlers.set(he,ve);const le=this.activeConnection();let Q;return void 0!==le?(this._requestDisposables.set(he,le.onRequest(ae,ve)),Q={dispose:()=>{const Ce=this._requestDisposables.get(he);void 0!==Ce&&(Ce.dispose(),this._requestDisposables.delete(he))}}):(this._pendingRequestHandlers.set(he,ve),Q={dispose:()=>{this._pendingRequestHandlers.delete(he);const Ce=this._requestDisposables.get(he);void 0!==Ce&&(Ce.dispose(),this._requestDisposables.delete(he))}}),{dispose:()=>{this._requestHandlers.delete(he),Q.dispose()}}}sendNotification(ae,ve){var he=this;return n(function*(){if(he.$state===ze.StartFailed||he.$state===ze.Stopping||he.$state===ze.Stopped)return Promise.reject(new S.ResponseError(S.ErrorCodes.ConnectionInactive,"Client is not running"));try{const le=yield he.$start();return yield he.forceDocumentSync(),le.sendNotification(ae,ve)}catch(le){throw he.error(`Sending notification ${C.string(ae)?ae:ae.method} failed.`,le),le}})()}onNotification(ae,ve){const he="string"==typeof ae?ae:ae.method;this._notificationHandlers.set(he,ve);const le=this.activeConnection();let Q;return void 0!==le?(this._notificationDisposables.set(he,le.onNotification(ae,ve)),Q={dispose:()=>{const Ce=this._notificationDisposables.get(he);void 0!==Ce&&(Ce.dispose(),this._notificationDisposables.delete(he))}}):(this._pendingNotificationHandlers.set(he,ve),Q={dispose:()=>{this._pendingNotificationHandlers.delete(he);const Ce=this._notificationDisposables.get(he);void 0!==Ce&&(Ce.dispose(),this._notificationDisposables.delete(he))}}),{dispose:()=>{this._notificationHandlers.delete(he),Q.dispose()}}}sendProgress(ae,ve,he){var le=this;return n(function*(){if(le.$state===ze.StartFailed||le.$state===ze.Stopping||le.$state===ze.Stopped)return Promise.reject(new S.ResponseError(S.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(yield le.$start()).sendProgress(ae,ve,he)}catch(Q){throw le.error(`Sending progress for token ${ve} failed.`,Q),Q}})()}onProgress(ae,ve,he){this._progressHandlers.set(ve,{type:ae,handler:he});const le=this.activeConnection();let Q;const Ce=this._clientOptions.middleware?.handleWorkDoneProgress,Pe=S.WorkDoneProgress.is(ae)&&void 0!==Ce?dt=>{Ce(ve,dt,()=>he(dt))}:he;return void 0!==le?(this._progressDisposables.set(ve,le.onProgress(ae,ve,Pe)),Q={dispose:()=>{const dt=this._progressDisposables.get(ve);void 0!==dt&&(dt.dispose(),this._progressDisposables.delete(ve))}}):(this._pendingProgressHandlers.set(ve,{type:ae,handler:he}),Q={dispose:()=>{this._pendingProgressHandlers.delete(ve);const dt=this._progressDisposables.get(ve);void 0!==dt&&(dt.dispose(),this._progressDisposables.delete(ve))}}),{dispose:()=>{this._progressHandlers.delete(ve),Q.dispose()}}}createDefaultErrorHandler(ae){if(void 0!==ae&&ae<0)throw new Error(`Invalid maxRestartCount: ${ae}`);return new Ue(this,ae??4)}setTrace(ae){var ve=this;return n(function*(){ve._trace=ae;const he=ve.activeConnection();void 0!==he&&(yield he.trace(ve._trace,ve._tracer,{sendNotification:!1,traceFormat:ve._traceFormat}))})()}data2String(ae){if(ae instanceof S.ResponseError){const ve=ae;return`  Message: ${ve.message}\n  Code: ${ve.code} ${ve.data?"\n"+ve.data.toString():""}`}return ae instanceof Error?C.string(ae.stack)?ae.stack:ae.message:C.string(ae)?ae:ae.toString()}info(ae,ve,he=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${ae}`),null!=ve&&this.outputChannel.appendLine(this.data2String(ve)),he&&this._clientOptions.revealOutputChannelOn<=Ie.Info&&this.showNotificationMessage(S.MessageType.Info,ae)}warn(ae,ve,he=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${ae}`),null!=ve&&this.outputChannel.appendLine(this.data2String(ve)),he&&this._clientOptions.revealOutputChannelOn<=Ie.Warn&&this.showNotificationMessage(S.MessageType.Warning,ae)}error(ae,ve,he=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${ae}`),null!=ve&&this.outputChannel.appendLine(this.data2String(ve)),("force"===he||he&&this._clientOptions.revealOutputChannelOn<=Ie.Error)&&this.showNotificationMessage(S.MessageType.Error,ae)}showNotificationMessage(ae,ve){(ae===S.MessageType.Error?l.window.showErrorMessage:ae===S.MessageType.Warning?l.window.showWarningMessage:l.window.showInformationMessage)(ve=ve??"A request has failed. See the output for more information.","Go to output").then(le=>{void 0!==le&&this.outputChannel.show(!0)})}logTrace(ae,ve){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${ae}`),ve&&this.traceOutputChannel.appendLine(this.data2String(ve))}logObjectTrace(ae){this.traceOutputChannel.append(ae.isLSPMessage&&ae.type?`[LSP   - ${(new Date).toLocaleTimeString()}] `:`[Trace - ${(new Date).toLocaleTimeString()}] `),ae&&this.traceOutputChannel.appendLine(`${JSON.stringify(ae)}`)}needsStart(){return this.$state===ze.Initial||this.$state===ze.Stopping||this.$state===ze.Stopped}needsStop(){return this.$state===ze.Starting||this.$state===ze.Running}activeConnection(){return this.$state===ze.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===ze.Running}start(){var ae=this;return n(function*(){if("disposing"===ae._disposed||"disposed"===ae._disposed)throw new Error("Client got disposed and can't be restarted.");if(ae.$state===ze.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==ae._onStart)return ae._onStart;const[ve,he,le]=ae.createOnStartPromise();ae._onStart=ve,void 0===ae._diagnostics&&(ae._diagnostics=ae._clientOptions.diagnosticCollectionName?l.languages.createDiagnosticCollection(ae._clientOptions.diagnosticCollectionName):l.languages.createDiagnosticCollection());for(const[Q,Ce]of ae._notificationHandlers)ae._pendingNotificationHandlers.has(Q)||ae._pendingNotificationHandlers.set(Q,Ce);for(const[Q,Ce]of ae._requestHandlers)ae._pendingRequestHandlers.has(Q)||ae._pendingRequestHandlers.set(Q,Ce);for(const[Q,Ce]of ae._progressHandlers)ae._pendingProgressHandlers.has(Q)||ae._pendingProgressHandlers.set(Q,Ce);ae.$state=ze.Starting;try{const Q=yield ae.createConnection();Q.onNotification(S.LogMessageNotification.type,Ce=>{switch(Ce.type){case S.MessageType.Error:ae.error(Ce.message,void 0,!1);break;case S.MessageType.Warning:ae.warn(Ce.message,void 0,!1);break;case S.MessageType.Info:ae.info(Ce.message,void 0,!1);break;default:ae.outputChannel.appendLine(Ce.message)}}),Q.onNotification(S.ShowMessageNotification.type,Ce=>{switch(Ce.type){case S.MessageType.Error:l.window.showErrorMessage(Ce.message);break;case S.MessageType.Warning:l.window.showWarningMessage(Ce.message);break;default:l.window.showInformationMessage(Ce.message)}}),Q.onRequest(S.ShowMessageRequest.type,Ce=>{let Pe;switch(Ce.type){case S.MessageType.Error:Pe=l.window.showErrorMessage;break;case S.MessageType.Warning:Pe=l.window.showWarningMessage;break;default:Pe=l.window.showInformationMessage}return Pe(Ce.message,...Ce.actions||[])}),Q.onNotification(S.TelemetryEventNotification.type,Ce=>{ae._telemetryEmitter.fire(Ce)}),Q.onRequest(S.ShowDocumentRequest.type,function(){var Ce=n(function*(Pe){const dt=function(){var qe=n(function*(Qe){const et=ae.protocol2CodeConverter.asUri(Qe.uri);try{if(!0===Qe.external)return{success:yield l.env.openExternal(et)};{const vt={};return void 0!==Qe.selection&&(vt.selection=ae.protocol2CodeConverter.asRange(Qe.selection)),void 0===Qe.takeFocus||!1===Qe.takeFocus?vt.preserveFocus=!0:!0===Qe.takeFocus&&(vt.preserveFocus=!1),yield l.window.showTextDocument(et,vt),{success:!0}}}catch{return{success:!1}}});return function(et){return qe.apply(this,arguments)}}(),st=ae._clientOptions.middleware.window?.showDocument;return void 0!==st?st(Pe,dt):dt(Pe)});return function(Pe){return Ce.apply(this,arguments)}}()),Q.listen(),yield ae.initialize(Q),he()}catch(Q){ae.$state=ze.StartFailed,ae.error(`${ae._name} client: couldn't create connection to server.`,Q,"force"),le(Q)}return ae._onStart})()}createOnStartPromise(){let ae,ve;return[new Promise((le,Q)=>{ae=le,ve=Q}),ae,ve]}initialize(ae){var ve=this;return n(function*(){ve.refreshTrace(ae,!1);const he=ve._clientOptions.initializationOptions,[le,Q]=void 0!==ve._clientOptions.workspaceFolder?[ve._clientOptions.workspaceFolder.uri.fsPath,[{uri:ve._c2p.asUri(ve._clientOptions.workspaceFolder.uri),name:ve._clientOptions.workspaceFolder.name}]]:[ve._clientGetRootPath(),null],Ce={processId:null,clientInfo:{name:l.env.appName,version:l.version},locale:ve.getLocale(),rootPath:le||null,rootUri:le?ve._c2p.asUri(l.Uri.file(le)):null,capabilities:ve.computeClientCapabilities(),initializationOptions:C.func(he)?he():he,trace:S.Trace.toString(ve._trace),workspaceFolders:Q};if(ve.fillInitializeParams(Ce),!ve._clientOptions.progressOnInitialization)return ve.doInitialize(ae,Ce);{const Pe=L.generateUuid(),dt=new _.ProgressPart(ae,Pe);Ce.workDoneToken=Pe;try{const st=yield ve.doInitialize(ae,Ce);return dt.done(),st}catch(st){throw dt.cancel(),st}}})()}doInitialize(ae,ve){var he=this;return n(function*(){try{const le=yield ae.initialize(ve);if(void 0!==le.capabilities.positionEncoding&&le.capabilities.positionEncoding!==S.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${le.capabilities.positionEncoding}) received from server ${he.name}`);let Q;he._initializeResult=le,he.$state=ze.Running,C.number(le.capabilities.textDocumentSync)?Q=le.capabilities.textDocumentSync===S.TextDocumentSyncKind.None?{openClose:!1,change:S.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:le.capabilities.textDocumentSync,save:{includeText:!1}}:null!=le.capabilities.textDocumentSync&&(Q=le.capabilities.textDocumentSync),he._capabilities=Object.assign({},le.capabilities,{resolvedTextDocumentSync:Q}),ae.onNotification(S.PublishDiagnosticsNotification.type,Ce=>he.handleDiagnostics(Ce)),ae.onRequest(S.RegistrationRequest.type,Ce=>he.handleRegistrationRequest(Ce)),ae.onRequest("client/registerFeature",Ce=>he.handleRegistrationRequest(Ce)),ae.onRequest(S.UnregistrationRequest.type,Ce=>he.handleUnregistrationRequest(Ce)),ae.onRequest("client/unregisterFeature",Ce=>he.handleUnregistrationRequest(Ce)),ae.onRequest(S.ApplyWorkspaceEditRequest.type,Ce=>he.handleApplyWorkspaceEdit(Ce));for(const[Ce,Pe]of he._pendingNotificationHandlers)he._notificationDisposables.set(Ce,ae.onNotification(Ce,Pe));he._pendingNotificationHandlers.clear();for(const[Ce,Pe]of he._pendingRequestHandlers)he._requestDisposables.set(Ce,ae.onRequest(Ce,Pe));he._pendingRequestHandlers.clear();for(const[Ce,Pe]of he._pendingProgressHandlers)he._progressDisposables.set(Ce,ae.onProgress(Pe.type,Ce,Pe.handler));return he._pendingProgressHandlers.clear(),yield ae.sendNotification(S.InitializedNotification.type,{}),he.hookFileEvents(ae),he.hookConfigurationChanged(ae),he.initializeFeatures(ae),le}catch(le){throw he._clientOptions.initializationFailedHandler?he._clientOptions.initializationFailedHandler(le)?he.initialize(ae):he.stop():le instanceof S.ResponseError&&le.data&&le.data.retry?l.window.showErrorMessage(le.message,{title:"Retry",id:"retry"}).then(Q=>{Q&&"retry"===Q.id?he.initialize(ae):he.stop()}):(le&&le.message&&l.window.showErrorMessage(le.message),he.error("Server initialization failed.",le),he.stop()),le}})()}_clientGetRootPath(){let ae=l.workspace.workspaceFolders;if(!ae||0===ae.length)return;let ve=ae[0];return"file"===ve.uri.scheme?ve.uri.fsPath:void 0}stop(ae=2e3){return this.shutdown("stop",ae)}dispose(ae=2e3){try{return this._disposed="disposing",this.stop(ae)}finally{this._disposed="disposed"}}shutdown(ae,ve){var he=this;return n(function*(){if(he.$state===ze.Stopped||he.$state===ze.Initial)return;if(he.$state===ze.Stopping){if(void 0!==he._onStop)return he._onStop;throw new Error("Client is stopping but no stop promise available.")}const le=he.activeConnection();if(void 0===le||he.$state!==ze.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${he.$state}`);he._initializeResult=void 0,he.$state=ze.Stopping,he.cleanUp(ae);const Q=new Promise(Pe=>{(0,S.RAL)().timer.setTimeout(Pe,ve)}),Ce=(Pe=n(function*(dt){return yield dt.shutdown(),yield dt.exit(),dt}),function(dt){return Pe.apply(this,arguments)})(le);var Pe;return he._onStop=Promise.race([Q,Ce]).then(Pe=>{if(void 0===Pe)throw he.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");Pe.end(),Pe.dispose()},Pe=>{throw he.error("Stopping server failed",Pe,!1),Pe}).finally(()=>{he.$state=ze.Stopped,"stop"===ae&&he.cleanUpChannel(),he._onStart=void 0,he._onStop=void 0,he._connection=void 0,he._ignoredRegistrations.clear()})})()}cleanUp(ae){this._fileEvents=[],this._fileEventDelayer.cancel();const ve=this._listeners.splice(0,this._listeners.length);for(const he of ve)he.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const he of Array.from(this._features.entries()).map(le=>le[1]).reverse())he.dispose();"stop"===ae&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(ae){const ve=this;function he(Ce){return le.apply(this,arguments)}function le(){return(le=n(function*(Ce){return ve._fileEvents.push(Ce),ve._fileEventDelayer.trigger(n(function*(){const Pe=yield ve.$start();yield ve.forceDocumentSync();const dt=Pe.sendNotification(S.DidChangeWatchedFilesNotification.type,{changes:ve._fileEvents});return ve._fileEvents=[],dt}))})).apply(this,arguments)}const Q=this.clientOptions.middleware?.workspace;(Q?.didChangeWatchedFile?Q.didChangeWatchedFile(ae,he):he(ae)).catch(Ce=>{ve.error("Notify file events failed.",Ce)})}forceDocumentSync(){var ae=this;return n(function*(){return void 0===ae._didChangeTextDocumentFeature&&(ae._didChangeTextDocumentFeature=ae._dynamicFeatures.get(S.DidChangeTextDocumentNotification.type.method)),ae._didChangeTextDocumentFeature.forceDelivery()})()}handleDiagnostics(ae){this._diagnostics&&("busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===ae.uri&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(ae.uri,ae.diagnostics),this.triggerDiagnosticQueue())}triggerDiagnosticQueue(){(0,S.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const ae=this._diagnosticQueue.entries().next();if(!0===ae.done)return;const[ve,he]=ae.value;this._diagnosticQueue.delete(ve);const le=new l.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:ve,tokenSource:le},this._p2c.asDiagnostics(he,le.token).then(Q=>{if(!le.token.isCancellationRequested){const Ce=this._p2c.asUri(ve),Pe=this.clientOptions.middleware;Pe.handleDiagnostics?Pe.handleDiagnostics(Ce,Q,(dt,st)=>this.setDiagnostics(dt,st)):this.setDiagnostics(Ce,Q)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(ae,ve){!this._diagnostics||this._diagnostics.set(ae,ve)}$start(){var ae=this;return n(function*(){if(ae.$state===ze.StartFailed)throw new Error("Previous start failed. Can't restart server.");yield ae.start();const ve=ae.activeConnection();if(void 0===ve)throw new Error("Starting server failed");return ve})()}createConnection(){var ae=this;return n(function*(){const le=yield ae.createMessageTransports(ae._clientOptions.stdioEncoding||"utf8");return ae._connection=function Ct($e,ae,ve,he,le){let Q=-1;const Ce=new tt,Pe=(0,S.createProtocolConnection)($e,ae,Ce,le);return Pe.onError(st=>{ve(st[0],st[1],st[2])}),Pe.onClose(he),{get lastUsed(){return Q},resetLastUsed:()=>{Q=-1},listen:()=>Pe.listen(),sendRequest:(st,...qe)=>(Q=Date.now(),Pe.sendRequest(st,...qe)),onRequest:(st,qe)=>Pe.onRequest(st,qe),hasPendingResponse:()=>Pe.hasPendingResponse(),sendNotification:(st,qe)=>(Q=Date.now(),Pe.sendNotification(st,qe)),onNotification:(st,qe)=>Pe.onNotification(st,qe),onProgress:Pe.onProgress,sendProgress:Pe.sendProgress,trace:(st,qe,Qe)=>void 0===Qe?Pe.trace(st,qe,{sendNotification:!1,traceFormat:S.TraceFormat.Text}):(C.boolean(Qe),Pe.trace(st,qe,Qe)),initialize:st=>(Q=Date.now(),Pe.sendRequest(S.InitializeRequest.type,st)),shutdown:()=>(Q=Date.now(),Pe.sendRequest(S.ShutdownRequest.type,void 0)),exit:()=>(Q=Date.now(),Pe.sendNotification(S.ExitNotification.type)),end:()=>Pe.end(),dispose:()=>Pe.dispose()}}(le.reader,le.writer,(Q,Ce,Pe)=>{ae.handleConnectionError(Q,Ce,Pe)},()=>{ae.handleConnectionClosed()},ae._clientOptions.connectionOptions),ae._connection})()}handleConnectionClosed(){if(this.$state===ze.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch{}let ae={action:Me.DoNotRestart};if(this.$state!==ze.Stopping)try{ae=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,ae.action===Me.DoNotRestart?(this.error(ae.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state=this.$state===ze.Starting?ze.StartFailed:ze.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):ae.action===Me.Restart&&(this.info(ae.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=ze.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(ve=>this.error("Restarting server failed",ve,"force")))}handleConnectionError(ae,ve,he){const le=this._clientOptions.errorHandler.error(ae,ve,he);le.action===me.Shutdown&&(this.error(le.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(Q=>{this.error("Stopping server failed",Q,!1)}))}hookConfigurationChanged(ae){this._listeners.push(l.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(ae,!0)}))}refreshTrace(ae,ve=!1){const he=l.workspace.getConfiguration(this._id);let le=S.Trace.Off,Q=S.TraceFormat.Text;if(he){const Ce=he.get("trace.server","off");"string"==typeof Ce?le=S.Trace.fromString(Ce):(le=S.Trace.fromString(he.get("trace.server.verbosity","off")),Q=S.TraceFormat.fromString(he.get("trace.server.format","text")))}this._trace=le,this._traceFormat=Q,ae.trace(this._trace,this._tracer,{sendNotification:ve,traceFormat:this._traceFormat}).catch(Ce=>{this.error("Updating trace failed with error",Ce,!1)})}hookFileEvents(ae){let he,ve=this._clientOptions.synchronize.fileEvents;ve&&(he=C.array(ve)?ve:[ve],he&&this._dynamicFeatures.get(S.DidChangeWatchedFilesNotification.type.method).registerRaw(L.generateUuid(),he))}registerFeatures(ae){for(let ve of ae)this.registerFeature(ve)}registerFeature(ae){this._features.push(ae),s.DynamicFeature.is(ae)&&this._dynamicFeatures.set(ae.registrationType.method,ae)}getFeature(ae){return this._dynamicFeatures.get(ae)}hasDedicatedTextSynchronizationFeature(ae){const ve=this.getFeature(S.NotebookDocumentSyncRegistrationType.method);return void 0!==ve&&ve instanceof c.NotebookDocumentSyncFeature&&ve.handles(ae)}registerBuiltinFeatures(){this.registerFeature(new t.ConfigurationFeature(this)),this.registerFeature(new a.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new a.DidChangeTextDocumentFeature(this)),this.registerFeature(new a.WillSaveFeature(this)),this.registerFeature(new a.WillSaveWaitUntilFeature(this)),this.registerFeature(new a.DidSaveTextDocumentFeature(this)),this.registerFeature(new a.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new F.FileSystemWatcherFeature(this,ae=>this.notifyFileEvent(ae))),this.registerFeature(new p.CompletionItemFeature(this)),this.registerFeature(new u.HoverFeature(this)),this.registerFeature(new b.SignatureHelpFeature(this)),this.registerFeature(new g.DefinitionFeature(this)),this.registerFeature(new x.ReferencesFeature(this)),this.registerFeature(new y.DocumentHighlightFeature(this)),this.registerFeature(new w.DocumentSymbolFeature(this)),this.registerFeature(new D.WorkspaceSymbolFeature(this)),this.registerFeature(new P.CodeActionFeature(this)),this.registerFeature(new O.CodeLensFeature(this)),this.registerFeature(new V.DocumentFormattingFeature(this)),this.registerFeature(new V.DocumentRangeFormattingFeature(this)),this.registerFeature(new V.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new H.RenameFeature(this)),this.registerFeature(new z.DocumentLinkFeature(this)),this.registerFeature(new k.ExecuteCommandFeature(this)),this.registerFeature(new t.SyncConfigurationFeature(this)),this.registerFeature(new U.TypeDefinitionFeature(this)),this.registerFeature(new K.ImplementationFeature(this)),this.registerFeature(new j.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new ne.WorkspaceFoldersFeature(this)),this.registerFeature(new N.FoldingRangeFeature(this)),this.registerFeature(new W.DeclarationFeature(this)),this.registerFeature(new Z.SelectionRangeFeature(this)),this.registerFeature(new ge.ProgressFeature(this)),this.registerFeature(new M.CallHierarchyFeature(this)),this.registerFeature(new we.SemanticTokensFeature(this)),this.registerFeature(new xe.LinkedEditingFeature(this)),this.registerFeature(new Ee.DidCreateFilesFeature(this)),this.registerFeature(new Ee.DidRenameFilesFeature(this)),this.registerFeature(new Ee.DidDeleteFilesFeature(this)),this.registerFeature(new Ee.WillCreateFilesFeature(this)),this.registerFeature(new Ee.WillRenameFilesFeature(this)),this.registerFeature(new Ee.WillDeleteFilesFeature(this)),this.registerFeature(new Ne.TypeHierarchyFeature(this)),this.registerFeature(new oe.InlineValueFeature(this)),this.registerFeature(new Se.InlayHintsFeature(this)),this.registerFeature(new m.DiagnosticFeature(this)),this.registerFeature(new c.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Lt.createAll(this))}fillInitializeParams(ae){for(let ve of this._features)C.func(ve.fillInitializeParams)&&ve.fillInitializeParams(ae)}computeClientCapabilities(){const ae={};(0,s.ensure)(ae,"workspace").applyEdit=!0;const ve=(0,s.ensure)((0,s.ensure)(ae,"workspace"),"workspaceEdit");ve.documentChanges=!0,ve.resourceOperations=[S.ResourceOperationKind.Create,S.ResourceOperationKind.Rename,S.ResourceOperationKind.Delete],ve.failureHandling=S.FailureHandlingKind.TextOnlyTransactional,ve.normalizesLineEndings=!0,ve.changeAnnotationSupport={groupsOnLabel:!0};const he=(0,s.ensure)((0,s.ensure)(ae,"textDocument"),"publishDiagnostics");he.relatedInformation=!0,he.versionSupport=!1,he.tagSupport={valueSet:[S.DiagnosticTag.Unnecessary,S.DiagnosticTag.Deprecated]},he.codeDescriptionSupport=!0,he.dataSupport=!0;const le=(0,s.ensure)(ae,"window");(0,s.ensure)(le,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,s.ensure)(le,"showDocument").support=!0;const Pe=(0,s.ensure)(ae,"general");Pe.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(Ve.RequestsToCancelOnContentModified)},Pe.regularExpressions={engine:"ECMAScript",version:"ES2020"},Pe.markdown={parser:"marked",version:"1.1.0"},Pe.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(Pe.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let dt of this._features)dt.fillClientCapabilities(ae);return ae}initializeFeatures(ae){const ve=this._clientOptions.documentSelector;for(const he of this._features)C.func(he.preInitialize)&&he.preInitialize(this._capabilities,ve);for(const he of this._features)he.initialize(this._capabilities,ve)}handleRegistrationRequest(ae){var ve=this;return n(function*(){if(ve.isRunning())for(const he of ae.registrations){const le=ve._dynamicFeatures.get(he.method);if(void 0===le)return Promise.reject(new Error(`No feature implementation for ${he.method} found. Registration failed.`));const Q=he.registerOptions??{};Q.documentSelector=Q.documentSelector??ve._clientOptions.documentSelector;const Ce={id:he.id,registerOptions:Q};try{le.register(Ce)}catch(Pe){return Promise.reject(Pe)}}else for(const he of ae.registrations)ve._ignoredRegistrations.add(he.id)})()}handleUnregistrationRequest(ae){var ve=this;return n(function*(){for(let he of ae.unregisterations){if(ve._ignoredRegistrations.has(he.id))continue;const le=ve._dynamicFeatures.get(he.method);if(!le)return Promise.reject(new Error(`No feature implementation for ${he.method} found. Unregistration failed.`));le.unregister(he.id)}})()}handleApplyWorkspaceEdit(ae){var ve=this;return n(function*(){const he=ae.edit,le=yield ve.workspaceEditLock.lock(()=>ve._p2c.asWorkspaceEdit(he)),Q=new Map;l.workspace.textDocuments.forEach(Pe=>Q.set(Pe.uri.toString(),Pe));let Ce=!1;if(he.documentChanges)for(const Pe of he.documentChanges)if(S.TextDocumentEdit.is(Pe)&&Pe.textDocument.version&&Pe.textDocument.version>=0){const dt=Q.get(Pe.textDocument.uri);if(dt&&dt.version!==Pe.textDocument.version){Ce=!0;break}}return Ce?Promise.resolve({applied:!1}):C.asPromise(l.workspace.applyEdit(le).then(Pe=>({applied:Pe})))})()}handleFailedRequest(ae,ve,he,le,Q=!0){if(he instanceof S.ResponseError){if(he.code===S.ErrorCodes.PendingResponseRejected||he.code===S.ErrorCodes.ConnectionInactive)return le;if(he.code===S.LSPErrorCodes.RequestCancelled||he.code===S.LSPErrorCodes.ServerCancelled){if(void 0!==ve&&ve.isCancellationRequested)return le;throw void 0!==he.data?new s.LSPCancellationError(he.data):new l.CancellationError}if(he.code===S.LSPErrorCodes.ContentModified){if(Ve.RequestsToCancelOnContentModified.has(ae.method))throw new l.CancellationError;return le}}throw this.error(`Request ${ae.method} failed.`,he,Q),he}}Y.dp=Ve,Ve.RequestsToCancelOnContentModified=new Set([S.SemanticTokensRequest.method,S.SemanticTokensRangeRequest.method,S.SemanticTokensDeltaRequest.method]);class tt{error(ae){(0,S.RAL)().console.error(ae)}warn(ae){(0,S.RAL)().console.warn(ae)}info(ae){(0,S.RAL)().console.info(ae)}log(ae){(0,S.RAL)().console.log(ae)}}!function($e){$e.createAll=function ae(ve){return[]}}(Lt=Y.Fy||(Y.Fy={}))},823:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.CodeActionFeature=void 0;const n=e(78708),l=e(85055),S=e(2766),v=e(37062);Y.CodeActionFeature=class T extends v.TextDocumentLanguageFeature{constructor(E){super(E,l.CodeActionRequest.type)}fillClientCapabilities(E){const L=(0,v.ensure)((0,v.ensure)(E,"textDocument"),"codeAction");L.dynamicRegistration=!0,L.isPreferredSupport=!0,L.disabledSupport=!0,L.dataSupport=!0,L.resolveSupport={properties:["edit"]},L.codeActionLiteralSupport={codeActionKind:{valueSet:[l.CodeActionKind.Empty,l.CodeActionKind.QuickFix,l.CodeActionKind.Refactor,l.CodeActionKind.RefactorExtract,l.CodeActionKind.RefactorInline,l.CodeActionKind.RefactorRewrite,l.CodeActionKind.Source,l.CodeActionKind.SourceOrganizeImports]}},L.honorsChangeAnnotations=!1}initialize(E,L){const _=this.getRegistrationOptions(L,E.codeActionProvider);!_||this.register({id:S.generateUuid(),registerOptions:_})}registerLanguageProvider(E){const _={provideCodeActions:(s,m,c,t)=>{const a=this._client,p=function(){var g=d(function*(b,y,w,D){const x={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(b),range:a.code2ProtocolConverter.asRange(y),context:yield a.code2ProtocolConverter.asCodeActionContext(w,D)};return a.sendRequest(l.CodeActionRequest.type,x,D).then(P=>D.isCancellationRequested||null==P?null:a.protocol2CodeConverter.asCodeActionResult(P,D),P=>a.handleFailedRequest(l.CodeActionRequest.type,D,P,null))});return function(y,w,D,x){return g.apply(this,arguments)}}(),u=a.middleware;return u.provideCodeActions?u.provideCodeActions(s,m,c,t,p):p(s,m,c,t)},resolveCodeAction:E.resolveProvider?(s,m)=>{const c=this._client,t=this._client.middleware,a=function(){var p=d(function*(u,g){return c.sendRequest(l.CodeActionResolveRequest.type,yield c.code2ProtocolConverter.asCodeAction(u,g),g).then(b=>g.isCancellationRequested?u:c.protocol2CodeConverter.asCodeAction(b,g),b=>c.handleFailedRequest(l.CodeActionResolveRequest.type,g,b,u))});return function(g,b){return p.apply(this,arguments)}}();return t.resolveCodeAction?t.resolveCodeAction(s,m,a):a(s,m)}:void 0};return[n.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(E.documentSelector),_,E.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(E.codeActionKinds)}:void 0),_]}}},86683:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.createConverter=void 0;const n=e(78708),l=e(85055),S=e(81072),v=e(8787),T=e(12115),C=e(81056),E=e(95388),L=e(40359),_=e(1426),s=e(29966),m=e(90244),c=e(52251),t=e(30674);var a;(a||(a={})).is=function g(b){return b&&!!b.inserting&&!!b.replacing},Y.createConverter=function p(u){const b=u||(St=>St.toString());function y(St){return b(St)}function w(St){return{uri:b(St.uri)}}function D(St){return{uri:b(St.uri),languageId:St.languageId,version:St.version,text:St.getText()}}function F(St){switch(St){case n.TextDocumentSaveReason.Manual:return l.TextDocumentSaveReason.Manual;case n.TextDocumentSaveReason.AfterDelay:return l.TextDocumentSaveReason.AfterDelay;case n.TextDocumentSaveReason.FocusOut:return l.TextDocumentSaveReason.FocusOut}return l.TextDocumentSaveReason.Manual}function M(St){switch(St){case n.CompletionTriggerKind.TriggerCharacter:return l.CompletionTriggerKind.TriggerCharacter;case n.CompletionTriggerKind.TriggerForIncompleteCompletions:return l.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return l.CompletionTriggerKind.Invoked}}function Ee(St){switch(St){case n.SignatureHelpTriggerKind.Invoke:return l.SignatureHelpTriggerKind.Invoked;case n.SignatureHelpTriggerKind.TriggerCharacter:return l.SignatureHelpTriggerKind.TriggerCharacter;case n.SignatureHelpTriggerKind.ContentChange:return l.SignatureHelpTriggerKind.ContentChange}}function xe(St){return{label:St.label}}function Ne(St){return St.map(xe)}function oe(St){return{label:St.label,parameters:Ne(St.parameters)}}function Se(St){return St.map(oe)}function Ie(St){return void 0===St?St:{signatures:Se(St.signatures),activeSignature:St.activeSignature,activeParameter:St.activeParameter}}function Me(St){return{line:St.line,character:St.character}}function de(St){return null==St?St:{line:St.line>l.uinteger.MAX_VALUE?l.uinteger.MAX_VALUE:St.line,character:St.character>l.uinteger.MAX_VALUE?l.uinteger.MAX_VALUE:St.character}}function Ue(St){return null==St?St:{start:de(St.start),end:de(St.end)}}function ze(St){return null==St?St:l.Location.create(y(St.uri),Ue(St.range))}function ce(St){switch(St){case n.DiagnosticSeverity.Error:return l.DiagnosticSeverity.Error;case n.DiagnosticSeverity.Warning:return l.DiagnosticSeverity.Warning;case n.DiagnosticSeverity.Information:return l.DiagnosticSeverity.Information;case n.DiagnosticSeverity.Hint:return l.DiagnosticSeverity.Hint}}function tt(St){switch(St){case n.DiagnosticTag.Unnecessary:return l.DiagnosticTag.Unnecessary;case n.DiagnosticTag.Deprecated:return l.DiagnosticTag.Deprecated;default:return}}function Ct(St){return{message:St.message,location:ze(St.location)}}function ae(St){const gn=l.Diagnostic.create(Ue(St.range),St.message),Vn=St instanceof _.ProtocolDiagnostic?St:void 0;void 0!==Vn&&void 0!==Vn.data&&(gn.data=Vn.data);const Sn=function $e(St){if(null!=St)return S.number(St)||S.string(St)?St:{value:St.value,target:y(St.target)}}(St.code);return _.DiagnosticCode.is(Sn)?void 0!==Vn&&Vn.hasDiagnosticCode?gn.code=Sn:(gn.code=Sn.value,gn.codeDescription={href:Sn.target}):gn.code=Sn,S.number(St.severity)&&(gn.severity=ce(St.severity)),Array.isArray(St.tags)&&(gn.tags=function Ve(St){if(!St)return;let gn=[];for(let Vn of St){let Sn=tt(Vn);void 0!==Sn&&gn.push(Sn)}return gn.length>0?gn:void 0}(St.tags)),St.relatedInformation&&(gn.relatedInformation=function Lt(St){return St.map(Ct)}(St.relatedInformation)),St.source&&(gn.source=St.source),gn}function ve(St,gn){return null==St?St:v.map(St,ae,gn)}function le(St){if(St===n.CompletionItemTag.Deprecated)return l.CompletionItemTag.Deprecated}function qe(St){return{range:Ue(St.range),newText:St.newText}}function Qe(St){return null==St?St:St.map(qe)}function et(St){return St<=n.SymbolKind.TypeParameter?St+1:l.SymbolKind.Property}function vt(St){return St}function mt(St){return St.map(vt)}function Bt(){return(Bt=d(function*(St,gn){let Vn=l.CodeAction.create(St.title);if(St instanceof L.default&&void 0!==St.data&&(Vn.data=St.data),void 0!==St.kind&&(Vn.kind=fn(St.kind)),void 0!==St.diagnostics&&(Vn.diagnostics=yield ve(St.diagnostics,gn)),void 0!==St.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==St.command&&(Vn.command=yt(St.command)),void 0!==St.isPreferred&&(Vn.isPreferred=St.isPreferred),void 0!==St.disabled&&(Vn.disabled={reason:St.disabled.reason}),Vn})).apply(this,arguments)}function ht(){return(ht=d(function*(St,gn){if(null==St)return St;let Vn;return St.only&&S.string(St.only.value)&&(Vn=[St.only.value]),l.CodeActionContext.create(yield ve(St.diagnostics,gn),Vn,jt(St.triggerKind))})).apply(this,arguments)}function jt(St){switch(St){case n.CodeActionTriggerKind.Invoke:return l.CodeActionTriggerKind.Invoked;case n.CodeActionTriggerKind.Automatic:return l.CodeActionTriggerKind.Automatic;default:return}}function fn(St){if(null!=St)return St.value}function yt(St){let gn=l.Command.create(St.title,St.command);return St.arguments&&(gn.arguments=St.arguments),gn}function vn(St){const gn=l.InlayHintLabelPart.create(St.value);return void 0!==St.location&&(gn.location=ze(St.location)),void 0!==St.command&&(gn.command=yt(St.command)),void 0!==St.tooltip&&(gn.tooltip=Mn(St.tooltip)),gn}function Mn(St){return"string"==typeof St?St:{kind:l.MarkupKind.Markdown,value:St.value}}return{asUri:y,asTextDocumentIdentifier:w,asTextDocumentItem:D,asVersionedTextDocumentIdentifier:function x(St){return{uri:b(St.uri),version:St.version}},asOpenTextDocumentParams:function P(St){return{textDocument:D(St)}},asChangeTextDocumentParams:function H(St){if(function V(St){return!!St.uri&&!!St.version}(St))return{textDocument:{uri:b(St.uri),version:St.version},contentChanges:[{text:St.getText()}]};if(function O(St){return!!St.document&&!!St.contentChanges}(St)){let gn=St.document;return{textDocument:{uri:b(gn.uri),version:gn.version},contentChanges:St.contentChanges.map(Sn=>{let Gn=Sn.range;return{range:{start:{line:Gn.start.line,character:Gn.start.character},end:{line:Gn.end.line,character:Gn.end.character}},rangeLength:Sn.rangeLength,text:Sn.text}})}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function z(St){return{textDocument:w(St)}},asSaveTextDocumentParams:function k(St,gn=!1){let Vn={textDocument:w(St)};return gn&&(Vn.text=St.getText()),Vn},asWillSaveTextDocumentParams:function j(St){return{textDocument:w(St.document),reason:F(St.reason)}},asDidCreateFilesParams:function K(St){return{files:St.files.map(gn=>({uri:b(gn)}))}},asDidRenameFilesParams:function U(St){return{files:St.files.map(gn=>({oldUri:b(gn.oldUri),newUri:b(gn.newUri)}))}},asDidDeleteFilesParams:function ne(St){return{files:St.files.map(gn=>({uri:b(gn)}))}},asWillCreateFilesParams:function N(St){return{files:St.files.map(gn=>({uri:b(gn)}))}},asWillRenameFilesParams:function W(St){return{files:St.files.map(gn=>({oldUri:b(gn.oldUri),newUri:b(gn.newUri)}))}},asWillDeleteFilesParams:function Z(St){return{files:St.files.map(gn=>({uri:b(gn)}))}},asTextDocumentPositionParams:function ge(St,gn){return{textDocument:w(St),position:Me(gn)}},asCompletionParams:function we(St,gn,Vn){return{textDocument:w(St),position:Me(gn),context:{triggerKind:M(Vn.triggerKind),triggerCharacter:Vn.triggerCharacter}}},asSignatureHelpParams:function me(St,gn,Vn){return{textDocument:w(St),position:Me(gn),context:{isRetrigger:Vn.isRetrigger,triggerCharacter:Vn.triggerCharacter,triggerKind:Ee(Vn.triggerKind),activeSignatureHelp:Ie(Vn.activeSignatureHelp)}}},asWorkerPosition:Me,asRange:Ue,asPosition:de,asPositions:function ke(St,gn){return v.map(St,de,gn)},asLocation:ze,asDiagnosticSeverity:ce,asDiagnosticTag:tt,asDiagnostic:ae,asDiagnostics:ve,asCompletionItem:function Pe(St,gn=!1){let Vn,Sn;S.string(St.label)?Vn=St.label:(Vn=St.label.label,gn&&(void 0!==St.label.detail||void 0!==St.label.description)&&(Sn={detail:St.label.detail,description:St.label.description}));let Gn={label:Vn};void 0!==Sn&&(Gn.labelDetails=Sn);let ci=St instanceof T.default?St:void 0;St.detail&&(Gn.detail=St.detail),St.documentation&&(Gn.documentation=ci&&"$string"!==ci.documentationFormat?function he(St,gn){switch(St){case"$string":return gn;case l.MarkupKind.PlainText:return{kind:St,value:gn};case l.MarkupKind.Markdown:return{kind:St,value:gn.value};default:return`Unsupported Markup content received. Kind is: ${St}`}}(ci.documentationFormat,St.documentation):St.documentation),St.filterText&&(Gn.filterText=St.filterText),function dt(St,gn){let Sn,Gn,Vn=l.InsertTextFormat.PlainText;gn.textEdit?(Sn=gn.textEdit.newText,Gn=gn.textEdit.range):gn.insertText instanceof n.SnippetString?(Vn=l.InsertTextFormat.Snippet,Sn=gn.insertText.value):Sn=gn.insertText,gn.range&&(Gn=gn.range),St.insertTextFormat=Vn,gn.fromEdit&&void 0!==Sn&&void 0!==Gn?St.textEdit=function st(St,gn){return a.is(gn)?l.InsertReplaceEdit.create(St,Ue(gn.inserting),Ue(gn.replacing)):{newText:St,range:Ue(gn)}}(Sn,Gn):St.insertText=Sn}(Gn,St),S.number(St.kind)&&(Gn.kind=function Ce(St,gn){return void 0!==gn?gn:St+1}(St.kind,ci&&ci.originalItemKind)),St.sortText&&(Gn.sortText=St.sortText),St.additionalTextEdits&&(Gn.additionalTextEdits=Qe(St.additionalTextEdits)),St.commitCharacters&&(Gn.commitCharacters=St.commitCharacters.slice()),St.command&&(Gn.command=yt(St.command)),(!0===St.preselect||!1===St.preselect)&&(Gn.preselect=St.preselect);const ii=function Q(St){if(void 0===St)return St;const gn=[];for(let Vn of St){const Sn=le(Vn);void 0!==Sn&&gn.push(Sn)}return gn}(St.tags);if(ci){if(void 0!==ci.data&&(Gn.data=ci.data),!0===ci.deprecated||!1===ci.deprecated){if(!0===ci.deprecated&&void 0!==ii&&ii.length>0){const Ei=ii.indexOf(n.CompletionItemTag.Deprecated);-1!==Ei&&ii.splice(Ei,1)}Gn.deprecated=ci.deprecated}void 0!==ci.insertTextMode&&(Gn.insertTextMode=ci.insertTextMode)}return void 0!==ii&&ii.length>0&&(Gn.tags=ii),void 0===Gn.insertTextMode&&!0===St.keepWhitespace&&(Gn.insertTextMode=l.InsertTextMode.adjustIndentation),Gn},asTextEdit:qe,asSymbolKind:et,asSymbolTag:vt,asSymbolTags:mt,asReferenceParams:function _t(St,gn,Vn){return{textDocument:w(St),position:Me(gn),context:{includeDeclaration:Vn.includeDeclaration}}},asCodeAction:function $t(St,gn){return Bt.apply(this,arguments)},asCodeActionContext:function Ke(St,gn){return ht.apply(this,arguments)},asInlineValueContext:function Dn(St){return null==St?St:l.InlineValueContext.create(St.frameId,Ue(St.stoppedLocation))},asCommand:yt,asCodeLens:function He(St){let gn=l.CodeLens.create(Ue(St.range));return St.command&&(gn.command=yt(St.command)),St instanceof C.default&&St.data&&(gn.data=St.data),gn},asFormattingOptions:function ye(St,gn){const Vn={tabSize:St.tabSize,insertSpaces:St.insertSpaces};return gn.trimTrailingWhitespace&&(Vn.trimTrailingWhitespace=!0),gn.trimFinalNewlines&&(Vn.trimFinalNewlines=!0),gn.insertFinalNewline&&(Vn.insertFinalNewline=!0),Vn},asDocumentSymbolParams:function Ae(St){return{textDocument:w(St)}},asCodeLensParams:function ue(St){return{textDocument:w(St)}},asDocumentLink:function be(St){let gn=l.DocumentLink.create(Ue(St.range));St.target&&(gn.target=y(St.target)),void 0!==St.tooltip&&(gn.tooltip=St.tooltip);let Vn=St instanceof E.default?St:void 0;return Vn&&Vn.data&&(gn.data=Vn.data),gn},asDocumentLinkParams:function Je(St){return{textDocument:w(St)}},asCallHierarchyItem:function Fe(St){const gn={name:St.name,kind:et(St.kind),uri:y(St.uri),range:Ue(St.range),selectionRange:Ue(St.selectionRange)};return void 0!==St.detail&&St.detail.length>0&&(gn.detail=St.detail),void 0!==St.tags&&(gn.tags=mt(St.tags)),St instanceof s.default&&void 0!==St.data&&(gn.data=St.data),gn},asTypeHierarchyItem:function nt(St){const gn={name:St.name,kind:et(St.kind),uri:y(St.uri),range:Ue(St.range),selectionRange:Ue(St.selectionRange)};return void 0!==St.detail&&St.detail.length>0&&(gn.detail=St.detail),void 0!==St.tags&&(gn.tags=mt(St.tags)),St instanceof m.default&&void 0!==St.data&&(gn.data=St.data),gn},asInlayHint:function Ut(St){const gn="string"==typeof St.label?St.label:St.label.map(vn),Vn=l.InlayHint.create(de(St.position),gn);return void 0!==St.kind&&(Vn.kind=St.kind),void 0!==St.textEdits&&(Vn.textEdits=Qe(St.textEdits)),void 0!==St.tooltip&&(Vn.tooltip=Mn(St.tooltip)),void 0!==St.paddingLeft&&(Vn.paddingLeft=St.paddingLeft),void 0!==St.paddingRight&&(Vn.paddingRight=St.paddingRight),St instanceof t.default&&void 0!==St.data&&(Vn.data=St.data),Vn},asWorkspaceSymbol:function bt(St){const gn=St instanceof c.default?{name:St.name,kind:et(St.kind),location:St.hasRange?ze(St.location):{uri:b(St.location.uri)},data:St.data}:{name:St.name,kind:et(St.kind),location:ze(St.location)};return void 0!==St.tags&&(gn.tags=mt(St.tags)),""!==St.containerName&&(gn.containerName=St.containerName),gn}}}},39229:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.CodeLensFeature=void 0;const n=e(78708),l=e(85055),S=e(2766),v=e(37062);Y.CodeLensFeature=class T extends v.TextDocumentLanguageFeature{constructor(E){super(E,l.CodeLensRequest.type)}fillClientCapabilities(E){(0,v.ensure)((0,v.ensure)(E,"textDocument"),"codeLens").dynamicRegistration=!0,(0,v.ensure)((0,v.ensure)(E,"workspace"),"codeLens").refreshSupport=!0}initialize(E,L){var _=this;this._client.onRequest(l.CodeLensRefreshRequest.type,d(function*(){for(const c of _.getAllProviders())c.onDidChangeCodeLensEmitter.fire()}));const m=this.getRegistrationOptions(L,E.codeLensProvider);!m||this.register({id:S.generateUuid(),registerOptions:m})}registerLanguageProvider(E){const L=E.documentSelector,_=new n.EventEmitter,s={onDidChangeCodeLenses:_.event,provideCodeLenses:(m,c)=>{const t=this._client,a=(u,g)=>t.sendRequest(l.CodeLensRequest.type,t.code2ProtocolConverter.asCodeLensParams(u),g).then(b=>g.isCancellationRequested?null:t.protocol2CodeConverter.asCodeLenses(b,g),b=>t.handleFailedRequest(l.CodeLensRequest.type,g,b,null)),p=t.middleware;return p.provideCodeLenses?p.provideCodeLenses(m,c,a):a(m,c)},resolveCodeLens:E.resolveProvider?(m,c)=>{const t=this._client,a=(u,g)=>t.sendRequest(l.CodeLensResolveRequest.type,t.code2ProtocolConverter.asCodeLens(u),g).then(b=>g.isCancellationRequested?u:t.protocol2CodeConverter.asCodeLens(b),b=>t.handleFailedRequest(l.CodeLensResolveRequest.type,g,b,u)),p=t.middleware;return p.resolveCodeLens?p.resolveCodeLens(m,c,a):a(m,c)}:void 0};return[n.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(L),s),{provider:s,onDidChangeCodeLensEmitter:_}]}}},95907:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.ColorProviderFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);Y.ColorProviderFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,n.DocumentColorRequest.type)}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.colorProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideColorPresentations:(L,_,s)=>{const m=this._client,c=(a,p,u)=>{const g={color:a,textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(p.document),range:m.code2ProtocolConverter.asRange(p.range)};return m.sendRequest(n.ColorPresentationRequest.type,g,u).then(b=>u.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(b,u),b=>m.handleFailedRequest(n.ColorPresentationRequest.type,u,b,null))},t=m.middleware;return t.provideColorPresentations?t.provideColorPresentations(L,_,s,c):c(L,_,s)},provideDocumentColors:(L,_)=>{const s=this._client,m=(t,a)=>{const p={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(t)};return s.sendRequest(n.DocumentColorRequest.type,p,a).then(u=>a.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(u,a),u=>s.handleFailedRequest(n.DocumentColorRequest.type,a,u,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(L,_,m):m(L,_)}};return[d.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(T.documentSelector),E),E]}}},25599:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.CompletionItemFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(2766),v=[n.CompletionItemKind.Text,n.CompletionItemKind.Method,n.CompletionItemKind.Function,n.CompletionItemKind.Constructor,n.CompletionItemKind.Field,n.CompletionItemKind.Variable,n.CompletionItemKind.Class,n.CompletionItemKind.Interface,n.CompletionItemKind.Module,n.CompletionItemKind.Property,n.CompletionItemKind.Unit,n.CompletionItemKind.Value,n.CompletionItemKind.Enum,n.CompletionItemKind.Keyword,n.CompletionItemKind.Snippet,n.CompletionItemKind.Color,n.CompletionItemKind.File,n.CompletionItemKind.Reference,n.CompletionItemKind.Folder,n.CompletionItemKind.EnumMember,n.CompletionItemKind.Constant,n.CompletionItemKind.Struct,n.CompletionItemKind.Event,n.CompletionItemKind.Operator,n.CompletionItemKind.TypeParameter];Y.CompletionItemFeature=class T extends l.TextDocumentLanguageFeature{constructor(E){super(E,n.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(E){let L=(0,l.ensure)((0,l.ensure)(E,"textDocument"),"completion");L.dynamicRegistration=!0,L.contextSupport=!0,L.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[n.MarkupKind.Markdown,n.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[n.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[n.InsertTextMode.asIs,n.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},L.insertTextMode=n.InsertTextMode.adjustIndentation,L.completionItemKind={valueSet:v},L.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(E,L){const _=this.getRegistrationOptions(L,E.completionProvider);!_||this.register({id:S.generateUuid(),registerOptions:_})}registerLanguageProvider(E,L){this.labelDetailsSupport.set(L,!!E.completionItem?.labelDetailsSupport);const _=E.triggerCharacters??[],s=E.allCommitCharacters,c={provideCompletionItems:(t,a,p,u)=>{const g=this._client,b=this._client.middleware,y=(w,D,x,P)=>g.sendRequest(n.CompletionRequest.type,g.code2ProtocolConverter.asCompletionParams(w,D,x),P).then(O=>P.isCancellationRequested?null:g.protocol2CodeConverter.asCompletionResult(O,s,P),O=>g.handleFailedRequest(n.CompletionRequest.type,P,O,null));return b.provideCompletionItem?b.provideCompletionItem(t,a,u,p,y):y(t,a,u,p)},resolveCompletionItem:E.resolveProvider?(t,a)=>{const p=this._client,u=this._client.middleware,g=(b,y)=>p.sendRequest(n.CompletionResolveRequest.type,p.code2ProtocolConverter.asCompletionItem(b,!!this.labelDetailsSupport.get(L)),y).then(w=>y.isCancellationRequested?null:p.protocol2CodeConverter.asCompletionItem(w),w=>p.handleFailedRequest(n.CompletionResolveRequest.type,y,w,b));return u.resolveCompletionItem?u.resolveCompletionItem(t,a,g):g(t,a)}:void 0};return[d.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(E.documentSelector),c,..._),c]}}},28712:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.SyncConfigurationFeature=Y.toJSONObject=Y.ConfigurationFeature=void 0;const n=e(78708),l=e(85055),S=e(81072),v=e(2766),T=e(37062);function E(_){if(_){if(Array.isArray(_))return _.map(E);if("object"==typeof _){const s=Object.create(null);for(const m in _)Object.prototype.hasOwnProperty.call(_,m)&&(s[m]=E(_[m]));return s}}return _}Y.ConfigurationFeature=class C{constructor(s){this._client=s}getState(){return{kind:"static"}}fillClientCapabilities(s){s.workspace=s.workspace||{},s.workspace.configuration=!0}initialize(){let s=this._client;s.onRequest(l.ConfigurationRequest.type,(m,c)=>{let t=p=>{let u=[];for(let g of p.items){let b=null!=g.scopeUri?this._client.protocol2CodeConverter.asUri(g.scopeUri):void 0;u.push(this.getConfiguration(b,null!==g.section?g.section:void 0))}return u},a=s.middleware.workspace;return a&&a.configuration?a.configuration(m,c,t):t(m)})}getConfiguration(s,m){let c=null;if(m){let t=m.lastIndexOf(".");if(-1===t)c=E(n.workspace.getConfiguration(void 0,s).get(m));else{let a=n.workspace.getConfiguration(m.substr(0,t),s);a&&(c=E(a.get(m.substr(t+1))))}}else{let t=n.workspace.getConfiguration(void 0,s);c={};for(let a of Object.keys(t))t.has(a)&&(c[a]=E(t.get(a)))}return void 0===c&&(c=null),c}dispose(){}},Y.toJSONObject=E,Y.SyncConfigurationFeature=class L{constructor(s){this._client=s,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return l.DidChangeConfigurationNotification.type}fillClientCapabilities(s){(0,T.ensure)((0,T.ensure)(s,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let s=this._client.clientOptions.synchronize?.configurationSection;void 0!==s&&this.register({id:v.generateUuid(),registerOptions:{section:s}})}register(s){let m=n.workspace.onDidChangeConfiguration(c=>{this.onDidChangeConfiguration(s.registerOptions.section,c)});this._listeners.set(s.id,m),void 0!==s.registerOptions.section&&this.onDidChangeConfiguration(s.registerOptions.section,void 0)}unregister(s){let m=this._listeners.get(s);m&&(this._listeners.delete(s),m.dispose())}dispose(){for(const s of this._listeners.values())s.dispose();this._listeners.clear()}onDidChangeConfiguration(s,m){var c=this;let t;if(t=S.string(s)?[s]:s,void 0!==t&&void 0!==m&&!t.some(g=>m.affectsConfiguration(g)))return;const a=function(){var u=d(function*(g){return c._client.sendNotification(l.DidChangeConfigurationNotification.type,void 0===g?{settings:null}:{settings:c.extractSettingsInformation(g)})});return function(b){return u.apply(this,arguments)}}();let p=this._client.middleware.workspace?.didChangeConfiguration;(p?p(t,a):a(t)).catch(u=>{this._client.error(`Sending notification ${l.DidChangeConfigurationNotification.type.method} failed`,u)})}extractSettingsInformation(s){function m(a,p){let u=a;for(let g=0;g<p.length-1;g++){let b=u[p[g]];b||(b=Object.create(null),u[p[g]]=b),u=b}return u}let c=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,t=Object.create(null);for(let a=0;a<s.length;a++){let p=s[a],u=p.indexOf("."),g=null;if(g=u>=0?n.workspace.getConfiguration(p.substr(0,u),c).get(p.substr(u+1)):n.workspace.getConfiguration(void 0,c).get(p),g){let b=s[a].split(".");m(t,b)[b[b.length-1]]=E(g)}}return t}}},54767:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.DeclarationFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);Y.DeclarationFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,n.DeclarationRequest.type)}fillClientCapabilities(T){const C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"declaration");C.dynamicRegistration=!0,C.linkSupport=!0}initialize(T,C){const[E,L]=this.getRegistration(C,T.declarationProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideDeclaration:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(n.DeclarationRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asDeclarationResult(g,u),g=>m.handleFailedRequest(n.DeclarationRequest.type,u,g,null)),t=m.middleware;return t.provideDeclaration?t.provideDeclaration(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},37619:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.DefinitionFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(2766);Y.DefinitionFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.DefinitionRequest.type)}fillClientCapabilities(C){let E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"definition");E.dynamicRegistration=!0,E.linkSupport=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.definitionProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideDefinition:(_,s,m)=>{const c=this._client,t=(p,u,g)=>c.sendRequest(n.DefinitionRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(p,u),g).then(b=>g.isCancellationRequested?null:c.protocol2CodeConverter.asDefinitionResult(b,g),b=>c.handleFailedRequest(n.DefinitionRequest.type,g,b,null)),a=c.middleware;return a.provideDefinition?a.provideDefinition(_,s,m,t):t(_,s,m)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return d.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},55890:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.DiagnosticFeature=Y.DiagnosticPullMode=Y.vsdiag=void 0;const n=e(34916),l=e(78708),S=e(85055),v=e(2766),T=e(37062);function C(g,b){return void 0===g[b]&&(g[b]={}),g[b]}var E,L,g;!function(g){let b;var y;(y=b=g.DocumentDiagnosticReportKind||(g.DocumentDiagnosticReportKind={})).full="full",y.unChanged="unChanged"}(E=Y.vsdiag||(Y.vsdiag={})),(g=L=Y.DiagnosticPullMode||(Y.DiagnosticPullMode={})).onType="onType",g.onSave="onSave";var _=(()=>(function(g){g.active="open",g.reschedule="reschedule",g.outDated="drop"}(_||(_={})),_))();class s{constructor(){this.open=new Set,this._onOpen=new l.EventEmitter,this._onClose=new l.EventEmitter,s.fillTabResources(this.open),this.disposable=void 0!==l.window.tabGroups.onDidChangeTabs?l.window.tabGroups.onDidChangeTabs(y=>{if(0===y.closed.length&&0===y.opened.length)return;const w=this.open,D=new Set;s.fillTabResources(D);const x=new Set,P=new Set(D);for(const O of w.values())D.has(O)?P.delete(O):x.add(O);if(this.open=D,x.size>0){const O=new Set;for(const V of x)O.add(l.Uri.parse(V));this._onClose.fire(O)}if(P.size>0){const O=new Set;for(const V of P)O.add(l.Uri.parse(V));this._onOpen.fire(O)}}):{dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(b){return b instanceof l.Uri?l.window.activeTextEditor?.document.uri===b:l.window.activeTextEditor?.document===b}isVisible(b){return this.open.has((b instanceof l.Uri?b:b.uri).toString())}getTabResources(){const b=new Set;return s.fillTabResources(new Set,b),b}static fillTabResources(b,y){const w=b??new Set;for(const D of l.window.tabGroups.all)for(const x of D.tabs){const P=x.input;let O;P instanceof l.TabInputText?O=P.uri:P instanceof l.TabInputTextDiff&&(O=P.modified),void 0!==O&&!w.has(O.toString())&&(w.add(O.toString()),void 0!==y&&y.add(O))}}}var m=(()=>(function(g){g[g.document=1]="document",g[g.workspace=2]="workspace"}(m||(m={})),m))();class c{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(b,y,w){const D=b===m.document?this.documentPullStates:this.workspacePullStates,[x,P,O]=y instanceof l.Uri?[y.toString(),y,w]:[y.uri.toString(),y.uri,y.version];let V=D.get(x);return void 0===V&&(V={document:P,pulledVersion:O,resultId:void 0},D.set(x,V)),V}update(b,y,w,D){const x=b===m.document?this.documentPullStates:this.workspacePullStates,[P,O,V,H]=y instanceof l.Uri?[y.toString(),y,w,D]:[y.uri.toString(),y.uri,y.version,w];let z=x.get(P);void 0===z?(z={document:O,pulledVersion:V,resultId:H},x.set(P,z)):(z.pulledVersion=V,z.resultId=H)}unTrack(b,y){const w=y instanceof l.Uri?y.toString():y.uri.toString();(b===m.document?this.documentPullStates:this.workspacePullStates).delete(w)}tracks(b,y){const w=y instanceof l.Uri?y.toString():y.uri.toString();return(b===m.document?this.documentPullStates:this.workspacePullStates).has(w)}getResultId(b,y){const w=y instanceof l.Uri?y.toString():y.uri.toString();return(b===m.document?this.documentPullStates:this.workspacePullStates).get(w)?.resultId}getAllResultIds(){const b=[];for(let[y,w]of this.workspacePullStates)this.documentPullStates.has(y)&&(w=this.documentPullStates.get(y)),void 0!==w.resultId&&b.push({uri:y,value:w.resultId});return b}}class t{constructor(b,y,w){this.client=b,this.tabs=y,this.options=w,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new l.EventEmitter,this.provider=this.createProvider(),this.diagnostics=l.languages.createDiagnosticCollection(w.identifier),this.openRequests=new Map,this.documentStates=new c,this.workspaceErrorCounter=0}knows(b,y){return this.documentStates.tracks(b,y)}forget(b,y){this.documentStates.unTrack(b,y)}pull(b,y){if(this.isDisposed)return;const w=b instanceof l.Uri?b:b.uri;this.pullAsync(b).then(()=>{y&&y()},D=>{this.client.error(`Document pull failed for text document ${w.toString()}`,D,!1)})}pullAsync(b,y){var w=this;return d(function*(){if(w.isDisposed)return;const D=b instanceof l.Uri,x=D?b:b.uri,P=x.toString();y=D?y:b.version;const O=w.openRequests.get(P),V=D?w.documentStates.track(m.document,b,y):w.documentStates.track(m.document,b);if(void 0===O){const H=new l.CancellationTokenSource;let z,k;w.openRequests.set(P,{state:_.active,document:b,version:y,tokenSource:H});try{z=(yield w.provider.provideDiagnostics(b,V.resultId,H.token))??{kind:E.DocumentDiagnosticReportKind.full,items:[]}}catch(F){if(F instanceof T.LSPCancellationError&&S.DiagnosticServerCancellationData.is(F.data)&&!1===F.data.retriggerRequest&&(k={state:_.outDated,document:b}),!(void 0===k&&F instanceof l.CancellationError))throw F;k={state:_.reschedule,document:b}}if(k=k??w.openRequests.get(P),void 0===k)return w.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${P}`),void w.diagnostics.delete(x);if(w.openRequests.delete(P),!w.tabs.isVisible(b))return void w.documentStates.unTrack(m.document,b);if(k.state===_.outDated)return;void 0!==z&&(z.kind===E.DocumentDiagnosticReportKind.full&&w.diagnostics.set(x,z.items),V.pulledVersion=y,V.resultId=z.resultId),k.state===_.reschedule&&w.pull(b)}else O.state===_.active?(O.tokenSource.cancel(),w.openRequests.set(P,{state:_.reschedule,document:O.document})):O.state===_.outDated&&w.openRequests.set(P,{state:_.reschedule,document:O.document})})()}forgetDocument(b){const y=b instanceof l.Uri?b:b.uri,w=y.toString(),D=this.openRequests.get(w);this.options.workspaceDiagnostics?void 0!==D?this.openRequests.set(w,{state:_.reschedule,document:b}):this.pull(b,()=>{this.forget(m.document,b)}):(void 0!==D&&(D.state===_.active&&D.tokenSource.cancel(),this.openRequests.set(w,{state:_.outDated,document:b})),this.diagnostics.delete(y),this.forget(m.document,b))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,S.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},b=>{!(b instanceof T.LSPCancellationError)&&!S.DiagnosticServerCancellationData.is(b.data)&&(this.client.error("Workspace diagnostic pull failed.",b,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,S.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}pullWorkspaceAsync(){var b=this;return d(function*(){if(!b.provider.provideWorkspaceDiagnostics||b.isDisposed)return;void 0!==b.workspaceCancellation&&(b.workspaceCancellation.cancel(),b.workspaceCancellation=void 0),b.workspaceCancellation=new l.CancellationTokenSource;const y=b.documentStates.getAllResultIds().map(w=>({uri:b.client.protocol2CodeConverter.asUri(w.uri),value:w.value}));yield b.provider.provideWorkspaceDiagnostics(y,b.workspaceCancellation.token,w=>{if(w&&!b.isDisposed)for(const D of w.items)D.kind===E.DocumentDiagnosticReportKind.full&&(b.documentStates.tracks(m.document,D.uri)||b.diagnostics.set(D.uri,D.items)),b.documentStates.update(m.workspace,D.uri,D.version??void 0,D.resultId)})})()}createProvider(){var b=this;const y={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(w,D,x)=>{const P=(V,H,z)=>{const k={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(V instanceof l.Uri?V:V.uri)},previousResultId:H};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(S.DocumentDiagnosticRequest.type,k,z).then(function(){var F=d(function*(j){return null==j||b.isDisposed||z.isCancellationRequested?{kind:E.DocumentDiagnosticReportKind.full,items:[]}:j.kind===S.DocumentDiagnosticReportKind.Full?{kind:E.DocumentDiagnosticReportKind.full,resultId:j.resultId,items:yield b.client.protocol2CodeConverter.asDiagnostics(j.items,z)}:{kind:E.DocumentDiagnosticReportKind.unChanged,resultId:j.resultId}});return function(j){return F.apply(this,arguments)}}(),F=>this.client.handleFailedRequest(S.DocumentDiagnosticRequest.type,z,F,{kind:E.DocumentDiagnosticReportKind.full,items:[]})):{kind:E.DocumentDiagnosticReportKind.full,items:[]}},O=this.client.middleware;return O.provideDiagnostics?O.provideDiagnostics(w,D,x,P):P(w,D,x)}};return this.options.workspaceDiagnostics&&(y.provideWorkspaceDiagnostics=(w,D,x)=>{const P=function(){var z=d(function*(k){return k.kind===S.DocumentDiagnosticReportKind.Full?{kind:E.DocumentDiagnosticReportKind.full,uri:b.client.protocol2CodeConverter.asUri(k.uri),resultId:k.resultId,version:k.version,items:yield b.client.protocol2CodeConverter.asDiagnostics(k.items,D)}:{kind:E.DocumentDiagnosticReportKind.unChanged,uri:b.client.protocol2CodeConverter.asUri(k.uri),resultId:k.resultId,version:k.version}});return function(F){return z.apply(this,arguments)}}(),O=z=>{const k=[];for(const F of z)k.push({uri:this.client.code2ProtocolConverter.asUri(F.uri),value:F.value});return k},V=(z,k)=>{const F=(0,v.generateUuid)(),j=this.client.onProgress(S.WorkspaceDiagnosticRequest.partialResult,F,function(){var U=d(function*(ne){if(null==ne)return void x(null);const N={items:[]};for(const W of ne.items)try{N.items.push(yield P(W))}catch(Z){b.client.error("Converting workspace diagnostics failed.",Z)}x(N)});return function(ne){return U.apply(this,arguments)}}()),K={identifier:this.options.identifier,previousResultIds:O(z),partialResultToken:F};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(S.WorkspaceDiagnosticRequest.type,K,k).then(function(){var U=d(function*(ne){if(k.isCancellationRequested)return{items:[]};const N={items:[]};for(const W of ne.items)N.items.push(yield P(W));return j.dispose(),x(N),{items:[]}});return function(ne){return U.apply(this,arguments)}}(),U=>(j.dispose(),this.client.handleFailedRequest(S.DocumentDiagnosticRequest.type,k,U,{items:[]}))):{items:[]}},H=this.client.middleware;return H.provideWorkspaceDiagnostics?H.provideWorkspaceDiagnostics(w,D,x,V):V(w,D)}),y}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[b,y]of this.openRequests)y.state===_.active&&y.tokenSource.cancel(),this.openRequests.set(b,{state:_.outDated,document:y.document});this.diagnostics.dispose()}}class a{constructor(b){this.diagnosticRequestor=b,this.documents=new S.LinkedMap,this.isDisposed=!1}add(b){if(!0===this.isDisposed)return;const y=b instanceof l.Uri?b.toString():b.uri.toString();this.documents.has(y)||(this.documents.set(y,b,S.Touch.Last),this.trigger())}remove(b){const y=b instanceof l.Uri?b.toString():b.uri.toString();this.documents.has(y)&&(this.documents.delete(y),this.diagnosticRequestor.pull(b)),0===this.documents.size?this.stop():b===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(!0!==this.isDisposed){if(void 0!==this.intervalHandle)return void(this.endDocument=this.documents.last);this.endDocument=this.documents.last,this.intervalHandle=(0,S.RAL)().timer.setInterval(()=>{const b=this.documents.first;if(void 0!==b){const y=b instanceof l.Uri?b.toString():b.uri.toString();this.diagnosticRequestor.pull(b),this.documents.set(y,b,S.Touch.Last),b===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class p{constructor(b,y,w){var D=this;const x=b.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},P=b.protocol2CodeConverter.asDocumentSelector(w.documentSelector),O=[],H=U=>U instanceof l.Uri?(U=>{const ne=w.documentSelector;if(void 0!==x.match)return x.match(ne,U);for(const N of ne)if(S.TextDocumentFilter.is(N)){if("string"==typeof N||void 0!==N.language&&"*"!==N.language||void 0!==N.scheme&&"*"!==N.scheme&&N.scheme!==U.scheme)return!1;if(void 0!==N.pattern){const W=new n.Minimatch(N.pattern,{noext:!0});if(!W.makeRe()||!W.match(U.fsPath))return!1}}return!0})(U):l.languages.match(P,U)>0&&y.isVisible(U),z=U=>U instanceof l.Uri?this.activeTextDocument?.uri.toString()===U.toString():this.activeTextDocument===U;this.diagnosticRequestor=new t(b,y,w),this.backgroundScheduler=new a(this.diagnosticRequestor);const k=U=>{!H(U)||!w.interFileDependencies||z(U)||this.backgroundScheduler.add(U)};this.activeTextDocument=l.window.activeTextEditor?.document,l.window.onDidChangeActiveTextEditor(U=>{const ne=this.activeTextDocument;this.activeTextDocument=U?.document,void 0!==ne&&k(ne),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)});const F=b.getFeature(S.DidOpenTextDocumentNotification.method);O.push(F.onNotificationSent(U=>{const ne=U.original;H(ne)&&this.diagnosticRequestor.pull(ne,()=>{k(ne)})}));const j=new Set;for(const U of l.workspace.textDocuments)H(U)&&(this.diagnosticRequestor.pull(U,()=>{k(U)}),j.add(U.uri.toString()));if(!0===x.onTabs)for(const U of y.getTabResources())!j.has(U.toString())&&H(U)&&this.diagnosticRequestor.pull(U,()=>{k(U)});if(y.onOpen(U=>{for(const ne of U)H(ne)&&!this.diagnosticRequestor.knows(m.document,ne)&&this.diagnosticRequestor.pull(ne,()=>{k(ne)})}),!0===x.onChange){const U=b.getFeature(S.DidChangeTextDocumentNotification.method);O.push(U.onNotificationSent(function(){var ne=d(function*(N){const W=N.original.document;(void 0===x.filter||!x.filter(W,L.onType))&&D.diagnosticRequestor.knows(m.document,W)&&N.original.contentChanges.length>0&&D.diagnosticRequestor.pull(W,()=>{D.backgroundScheduler.trigger()})});return function(N){return ne.apply(this,arguments)}}()))}if(!0===x.onSave){const U=b.getFeature(S.DidSaveTextDocumentNotification.method);O.push(U.onNotificationSent(ne=>{const N=ne.original;(void 0===x.filter||!x.filter(N,L.onSave))&&this.diagnosticRequestor.knows(m.document,N)&&this.diagnosticRequestor.pull(ne.original,()=>{this.backgroundScheduler.trigger()})}))}const K=b.getFeature(S.DidCloseTextDocumentNotification.method);O.push(K.onNotificationSent(U=>{this.cleanUpDocument(U.original)})),y.onClose(U=>{for(const ne of U)this.cleanUpDocument(ne)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(const U of l.workspace.textDocuments)H(U)&&this.diagnosticRequestor.pull(U)}),!0===w.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==w.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=l.Disposable.from(...O,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(b){this.diagnosticRequestor.knows(m.document,b)&&(this.diagnosticRequestor.forgetDocument(b),this.backgroundScheduler.remove(b))}}Y.DiagnosticFeature=class u extends T.TextDocumentLanguageFeature{constructor(b){super(b,S.DocumentDiagnosticRequest.type)}fillClientCapabilities(b){let y=C(C(b,"textDocument"),"diagnostic");y.dynamicRegistration=!0,y.relatedDocumentSupport=!1,C(C(b,"workspace"),"diagnostics").refreshSupport=!0}initialize(b,y){var w=this;this._client.onRequest(S.DiagnosticRefreshRequest.type,d(function*(){for(const O of w.getAllProviders())O.onDidChangeDiagnosticsEmitter.fire()}));let[x,P]=this.getRegistration(y,b.diagnosticProvider);!x||!P||this.register({id:x,registerOptions:P})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(b){void 0===this.tabs&&(this.tabs=new s);const y=new p(this._client,this.tabs,b);return[y.disposable,y]}}},72966:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.DocumentHighlightFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(2766);Y.DocumentHighlightFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.DocumentHighlightRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.documentHighlightProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideDocumentHighlights:(_,s,m)=>{const c=this._client,t=(p,u,g)=>c.sendRequest(n.DocumentHighlightRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(p,u),g).then(b=>g.isCancellationRequested?null:c.protocol2CodeConverter.asDocumentHighlights(b,g),b=>c.handleFailedRequest(n.DocumentHighlightRequest.type,g,b,null)),a=c.middleware;return a.provideDocumentHighlights?a.provideDocumentHighlights(_,s,m,t):t(_,s,m)}};return[d.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},93049:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.DocumentLinkFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(2766);Y.DocumentLinkFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.DocumentLinkRequest.type)}fillClientCapabilities(C){const E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"documentLink");E.dynamicRegistration=!0,E.tooltipSupport=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.documentLinkProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideDocumentLinks:(_,s)=>{const m=this._client,c=(a,p)=>m.sendRequest(n.DocumentLinkRequest.type,m.code2ProtocolConverter.asDocumentLinkParams(a),p).then(u=>p.isCancellationRequested?null:m.protocol2CodeConverter.asDocumentLinks(u,p),u=>m.handleFailedRequest(n.DocumentLinkRequest.type,p,u,null)),t=m.middleware;return t.provideDocumentLinks?t.provideDocumentLinks(_,s,c):c(_,s)},resolveDocumentLink:C.resolveProvider?(_,s)=>{const m=this._client;let c=(a,p)=>m.sendRequest(n.DocumentLinkResolveRequest.type,m.code2ProtocolConverter.asDocumentLink(a),p).then(u=>p.isCancellationRequested?a:m.protocol2CodeConverter.asDocumentLink(u),u=>m.handleFailedRequest(n.DocumentLinkResolveRequest.type,p,u,a));const t=m.middleware;return t.resolveDocumentLink?t.resolveDocumentLink(_,s,c):c(_,s)}:void 0};return[d.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},8203:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.DocumentSymbolFeature=Y.SupportedSymbolTags=Y.SupportedSymbolKinds=void 0;const n=e(78708),l=e(85055),S=e(37062),v=e(2766);Y.SupportedSymbolKinds=[l.SymbolKind.File,l.SymbolKind.Module,l.SymbolKind.Namespace,l.SymbolKind.Package,l.SymbolKind.Class,l.SymbolKind.Method,l.SymbolKind.Property,l.SymbolKind.Field,l.SymbolKind.Constructor,l.SymbolKind.Enum,l.SymbolKind.Interface,l.SymbolKind.Function,l.SymbolKind.Variable,l.SymbolKind.Constant,l.SymbolKind.String,l.SymbolKind.Number,l.SymbolKind.Boolean,l.SymbolKind.Array,l.SymbolKind.Object,l.SymbolKind.Key,l.SymbolKind.Null,l.SymbolKind.EnumMember,l.SymbolKind.Struct,l.SymbolKind.Event,l.SymbolKind.Operator,l.SymbolKind.TypeParameter],Y.SupportedSymbolTags=[l.SymbolTag.Deprecated],Y.DocumentSymbolFeature=class T extends S.TextDocumentLanguageFeature{constructor(E){super(E,l.DocumentSymbolRequest.type)}fillClientCapabilities(E){let L=(0,S.ensure)((0,S.ensure)(E,"textDocument"),"documentSymbol");L.dynamicRegistration=!0,L.symbolKind={valueSet:Y.SupportedSymbolKinds},L.hierarchicalDocumentSymbolSupport=!0,L.tagSupport={valueSet:Y.SupportedSymbolTags},L.labelSupport=!0}initialize(E,L){const _=this.getRegistrationOptions(L,E.documentSymbolProvider);!_||this.register({id:v.generateUuid(),registerOptions:_})}registerLanguageProvider(E){const _={provideDocumentSymbols:(m,c)=>{const t=this._client,a=(u,g)=>t.sendRequest(l.DocumentSymbolRequest.type,t.code2ProtocolConverter.asDocumentSymbolParams(u),g).then(function(){var b=d(function*(y){return g.isCancellationRequested||null==y?null:0===y.length?[]:l.DocumentSymbol.is(y[0])?yield t.protocol2CodeConverter.asDocumentSymbols(y,g):yield t.protocol2CodeConverter.asSymbolInformations(y,g)});return function(y){return b.apply(this,arguments)}}(),b=>t.handleFailedRequest(l.DocumentSymbolRequest.type,g,b,null)),p=t.middleware;return p.provideDocumentSymbols?p.provideDocumentSymbols(m,c,a):a(m,c)}},s=void 0!==E.label?{label:E.label}:void 0;return[n.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(E.documentSelector),_,s),_]}}},29236:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.ExecuteCommandFeature=void 0;const d=e(78708),n=e(85055),l=e(2766),S=e(37062);Y.ExecuteCommandFeature=class v{constructor(C){this._client=C,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return n.ExecuteCommandRequest.type}fillClientCapabilities(C){(0,S.ensure)((0,S.ensure)(C,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(C){!C.executeCommandProvider||this.register({id:l.generateUuid(),registerOptions:Object.assign({},C.executeCommandProvider)})}register(C){const E=this._client,L=E.middleware,_=(s,m)=>E.sendRequest(n.ExecuteCommandRequest.type,{command:s,arguments:m}).then(void 0,t=>E.handleFailedRequest(n.ExecuteCommandRequest.type,void 0,t,void 0));if(C.registerOptions.commands){const s=[];for(const m of C.registerOptions.commands)s.push(d.commands.registerCommand(m,(...c)=>L.executeCommand?L.executeCommand(m,c,_):_(m,c)));this._commands.set(C.id,s)}}unregister(C){let E=this._commands.get(C);E&&E.forEach(L=>L.dispose())}dispose(){this._commands.forEach(C=>{C.forEach(E=>E.dispose())}),this._commands.clear()}}},37062:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.WorkspaceFeature=Y.TextDocumentLanguageFeature=Y.TextDocumentEventFeature=Y.DynamicDocumentFeature=Y.DynamicFeature=Y.StaticFeature=Y.ensure=Y.LSPCancellationError=void 0;const n=e(78708),l=e(85055),S=e(81072),v=e(2766);Y.LSPCancellationError=class T extends n.CancellationError{constructor(a){super(),this.data=a}},Y.ensure=function C(t,a){return void 0===t[a]&&(t[a]={}),t[a]},(Y.StaticFeature||(Y.StaticFeature={})).is=function a(p){const u=p;return null!=u&&S.func(u.fillClientCapabilities)&&S.func(u.initialize)&&S.func(u.getState)&&S.func(u.dispose)&&(void 0===u.fillInitializeParams||S.func(u.fillInitializeParams))},(Y.DynamicFeature||(Y.DynamicFeature={})).is=function a(p){const u=p;return null!=u&&S.func(u.fillClientCapabilities)&&S.func(u.initialize)&&S.func(u.getState)&&S.func(u.dispose)&&(void 0===u.fillInitializeParams||S.func(u.fillInitializeParams))&&S.func(u.register)&&S.func(u.unregister)&&void 0!==u.registrationType};class _{constructor(a){this._client=a}getState(){const a=this.getDocumentSelectors();let p=0;for(const g of a){p++;for(const b of n.workspace.textDocuments)if(n.languages.match(g,b)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:p>0,matches:!1}}}Y.DynamicDocumentFeature=_,Y.TextDocumentEventFeature=class s extends _{constructor(a,p,u,g,b,y,w){super(a),this._event=p,this._type=u,this._middleware=g,this._createParams=b,this._textDocument=y,this._selectorFilter=w,this._selectors=new Map,this._onNotificationSent=new n.EventEmitter}static textDocumentFilter(a,p){for(const u of a)if(n.languages.match(u,p)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(a){!a.registerOptions.documentSelector||(this._listener||(this._listener=this._event(p=>{this.callback(p).catch(u=>{this._client.error(`Sending document notification ${this._type.method} failed.`,u)})})),this._selectors.set(a.id,this._client.protocol2CodeConverter.asDocumentSelector(a.registerOptions.documentSelector)))}callback(a){var p=this;return d(function*(){const u=function(){var g=d(function*(b){const y=p._createParams(b);yield p._client.sendNotification(p._type,y).catch(),p.notificationSent(b,p._type,y)});return function(y){return g.apply(this,arguments)}}();if(p.matches(a)){const g=p._middleware();return g?g(a,b=>u(b)):u(a)}})()}matches(a){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(a))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),a))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(a,p,u){this._onNotificationSent.fire({original:a,type:p,params:u})}unregister(a){this._selectors.delete(a),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(a){for(const p of this._selectors.values())if(n.languages.match(p,a)>0)return{send:u=>this.callback(u)}}},Y.TextDocumentLanguageFeature=class m extends _{constructor(a,p){super(a),this._registrationType=p,this._registrations=new Map}*getDocumentSelectors(){for(const a of this._registrations.values()){const p=a.data.registerOptions.documentSelector;null!==p&&(yield this._client.protocol2CodeConverter.asDocumentSelector(p))}}get registrationType(){return this._registrationType}register(a){if(!a.registerOptions.documentSelector)return;let p=this.registerLanguageProvider(a.registerOptions,a.id);this._registrations.set(a.id,{disposable:p[0],data:a,provider:p[1]})}unregister(a){let p=this._registrations.get(a);void 0!==p&&p.disposable.dispose()}dispose(){this._registrations.forEach(a=>{a.disposable.dispose()}),this._registrations.clear()}getRegistration(a,p){if(!p)return[void 0,void 0];if(l.TextDocumentRegistrationOptions.is(p)){const u=l.StaticRegistrationOptions.hasId(p)?p.id:v.generateUuid(),g=p.documentSelector||a;if(g)return[u,Object.assign({},p,{documentSelector:g})]}else if(S.boolean(p)&&!0===p||l.WorkDoneProgressOptions.is(p)){if(!a)return[void 0,void 0];let u=S.boolean(p)&&!0===p?{documentSelector:a}:Object.assign({},p,{documentSelector:a});return[v.generateUuid(),u]}return[void 0,void 0]}getRegistrationOptions(a,p){if(a&&p)return S.boolean(p)&&!0===p?{documentSelector:a}:Object.assign({},p,{documentSelector:a})}getProvider(a){for(const p of this._registrations.values()){let u=p.data.registerOptions.documentSelector;if(null!==u&&n.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(u),a)>0)return p.provider}}getAllProviders(){const a=[];for(const p of this._registrations.values())a.push(p.provider);return a}},Y.WorkspaceFeature=class c{constructor(a,p){this._client=a,this._registrationType=p,this._registrations=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._registrations.size>0}}get registrationType(){return this._registrationType}register(a){const p=this.registerLanguageProvider(a.registerOptions);this._registrations.set(a.id,{disposable:p[0],provider:p[1]})}unregister(a){let p=this._registrations.get(a);void 0!==p&&p.disposable.dispose()}dispose(){this._registrations.forEach(a=>{a.disposable.dispose()}),this._registrations.clear()}getProviders(){const a=[];for(const p of this._registrations.values())a.push(p.provider);return a}}},39727:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.WillDeleteFilesFeature=Y.WillRenameFilesFeature=Y.WillCreateFilesFeature=Y.DidDeleteFilesFeature=Y.DidRenameFilesFeature=Y.DidCreateFilesFeature=void 0;const n=e(78708),l=e(34916),S=e(85055),v=e(2766);function T(b,y){return void 0===b[y]&&(b[y]={}),b[y]}function E(b,y,w){b[y]=w}class L{constructor(y,w,D,x,P){this._client=y,this._event=w,this._registrationType=D,this._clientCapability=x,this._serverCapability=P,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(y){const w=T(T(y,"workspace"),"fileOperations");E(w,"dynamicRegistration",!0),E(w,this._clientCapability,!0)}initialize(y){const w=y.workspace?.fileOperations,D=void 0!==w?function C(b,y){return b[y]}(w,this._serverCapability):void 0;if(void 0!==D?.filters)try{this.register({id:v.generateUuid(),registerOptions:{filters:D.filters}})}catch(x){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${x}`)}}register(y){this._listener||(this._listener=this._event(this.send,this));const w=y.registerOptions.filters.map(D=>{const x=new l.Minimatch(D.pattern.glob,L.asMinimatchOptions(D.pattern.options));if(!x.makeRe())throw new Error(`Invalid pattern ${D.pattern.glob}!`);return{scheme:D.scheme,matcher:x,kind:D.pattern.matches}});this._filters.set(y.id,w)}unregister(y){this._filters.delete(y),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(y){return L.getFileType(y)}filter(y,w){var D=this;return d(function*(){const x=yield Promise.all(y.files.map(function(){var O=d(function*(V){const H=w(V),z=H.fsPath.replace(/\\/g,"/");for(const k of D._filters.values())for(const F of k)if(void 0===F.scheme||F.scheme===H.scheme)if(F.matcher.match(z)){if(void 0===F.kind)return!0;const j=yield D.getFileType(H);if(void 0===j)return D._client.error(`Failed to determine file type for ${H.toString()}.`),!0;if(j===n.FileType.File&&F.kind===S.FileOperationPatternKind.file||j===n.FileType.Directory&&F.kind===S.FileOperationPatternKind.folder)return!0}else if(F.kind===S.FileOperationPatternKind.folder&&(yield L.getFileType(H))===n.FileType.Directory&&F.matcher.match(`${z}/`))return!0;return!1});return function(V){return O.apply(this,arguments)}}())),P=y.files.filter((O,V)=>x[V]);return{...y,files:P}})()}static getFileType(y){return d(function*(){try{return(yield n.workspace.fs.stat(y)).type}catch{return}})()}static asMinimatchOptions(y){if(void 0!==y&&!0===y.ignoreCase)return{nocase:!0}}}class _ extends L{constructor(y,w,D,x,P,O,V){super(y,w,D,x,P),this._notificationType=D,this._accessUri=O,this._createParams=V}send(y){var w=this;return d(function*(){const D=yield w.filter(y,w._accessUri);if(D.files.length){const x=function(){var P=d(function*(O){return w._client.sendNotification(w._notificationType,w._createParams(O))});return function(V){return P.apply(this,arguments)}}();return w.doSend(D,x)}})()}}class s extends _{constructor(){super(...arguments),this._fsPathFileTypes=new Map}getFileType(y){var w=this;return d(function*(){const D=y.fsPath;if(w._fsPathFileTypes.has(D))return w._fsPathFileTypes.get(D);const x=yield L.getFileType(y);return x&&w._fsPathFileTypes.set(D,x),x})()}cacheFileTypes(y,w){var D=this;return d(function*(){yield D.filter(y,w)})()}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(y){super.unregister(y),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}Y.DidCreateFilesFeature=class m extends _{constructor(y){super(y,n.workspace.onDidCreateFiles,S.DidCreateFilesNotification.type,"didCreate","didCreate",w=>w,y.code2ProtocolConverter.asDidCreateFilesParams)}doSend(y,w){const D=this._client.middleware.workspace;return D?.didCreateFiles?D.didCreateFiles(y,w):w(y)}},Y.DidRenameFilesFeature=class c extends s{constructor(y){super(y,n.workspace.onDidRenameFiles,S.DidRenameFilesNotification.type,"didRename","didRename",w=>w.oldUri,y.code2ProtocolConverter.asDidRenameFilesParams)}register(y){this._willListener||(this._willListener=n.workspace.onWillRenameFiles(this.willRename,this)),super.register(y)}willRename(y){y.waitUntil(this.cacheFileTypes(y,w=>w.oldUri))}doSend(y,w){this.clearFileTypeCache();const D=this._client.middleware.workspace;return D?.didRenameFiles?D.didRenameFiles(y,w):w(y)}},Y.DidDeleteFilesFeature=class t extends s{constructor(y){super(y,n.workspace.onDidDeleteFiles,S.DidDeleteFilesNotification.type,"didDelete","didDelete",w=>w,y.code2ProtocolConverter.asDidDeleteFilesParams)}register(y){this._willListener||(this._willListener=n.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(y)}willDelete(y){y.waitUntil(this.cacheFileTypes(y,w=>w))}doSend(y,w){this.clearFileTypeCache();const D=this._client.middleware.workspace;return D?.didDeleteFiles?D.didDeleteFiles(y,w):w(y)}};class a extends L{constructor(y,w,D,x,P,O,V){super(y,w,D,x,P),this._requestType=D,this._accessUri=O,this._createParams=V}send(y){var w=this;return d(function*(){const D=w.waitUntil(y);y.waitUntil(D)})()}waitUntil(y){var w=this;return d(function*(){const D=yield w.filter(y,w._accessUri);if(D.files.length){const x=P=>w._client.sendRequest(w._requestType,w._createParams(P),P.token).then(w._client.protocol2CodeConverter.asWorkspaceEdit);return w.doSend(D,x)}})()}}Y.WillCreateFilesFeature=class p extends a{constructor(y){super(y,n.workspace.onWillCreateFiles,S.WillCreateFilesRequest.type,"willCreate","willCreate",w=>w,y.code2ProtocolConverter.asWillCreateFilesParams)}doSend(y,w){const D=this._client.middleware.workspace;return D?.willCreateFiles?D.willCreateFiles(y,w):w(y)}},Y.WillRenameFilesFeature=class u extends a{constructor(y){super(y,n.workspace.onWillRenameFiles,S.WillRenameFilesRequest.type,"willRename","willRename",w=>w.oldUri,y.code2ProtocolConverter.asWillRenameFilesParams)}doSend(y,w){const D=this._client.middleware.workspace;return D?.willRenameFiles?D.willRenameFiles(y,w):w(y)}},Y.WillDeleteFilesFeature=class g extends a{constructor(y){super(y,n.workspace.onWillDeleteFiles,S.WillDeleteFilesRequest.type,"willDelete","willDelete",w=>w,y.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(y,w){const D=this._client.middleware.workspace;return D?.willDeleteFiles?D.willDeleteFiles(y,w):w(y)}}},22958:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.FileSystemWatcherFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);Y.FileSystemWatcherFeature=class S{constructor(T,C){this._client=T,this._notifyFileEvent=C,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return n.DidChangeWatchedFilesNotification.type}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,l.ensure)((0,l.ensure)(T,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(T,C){}register(T){if(!Array.isArray(T.registerOptions.watchers))return;const C=[];for(const E of T.registerOptions.watchers){const L=this._client.protocol2CodeConverter.asGlobPattern(E.globPattern);if(void 0===L)continue;let _=!0,s=!0,m=!0;null!=E.kind&&(_=0!=(E.kind&n.WatchKind.Create),s=0!=(E.kind&n.WatchKind.Change),m=0!=(E.kind&n.WatchKind.Delete));const c=d.workspace.createFileSystemWatcher(L,!_,!s,!m);this.hookListeners(c,_,s,m,C),C.push(c)}this._watchers.set(T.id,C)}registerRaw(T,C){let E=[];for(let L of C)this.hookListeners(L,!0,!0,!0,E);this._watchers.set(T,E)}hookListeners(T,C,E,L,_){C&&T.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:n.FileChangeType.Created}),null,_),E&&T.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:n.FileChangeType.Changed}),null,_),L&&T.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:n.FileChangeType.Deleted}),null,_)}unregister(T){let C=this._watchers.get(T);if(C)for(let E of C)E.dispose()}dispose(){this._watchers.forEach(T=>{for(let C of T)C.dispose()}),this._watchers.clear()}}},22722:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.FoldingRangeFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);Y.FoldingRangeFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,n.FoldingRangeRequest.type)}fillClientCapabilities(T){let C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"foldingRange");C.dynamicRegistration=!0,C.rangeLimit=5e3,C.lineFoldingOnly=!0,C.foldingRangeKind={valueSet:[n.FoldingRangeKind.Comment,n.FoldingRangeKind.Imports,n.FoldingRangeKind.Region]},C.foldingRange={collapsedText:!1}}initialize(T,C){let[E,L]=this.getRegistration(C,T.foldingRangeProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideFoldingRanges:(L,_,s)=>{const m=this._client,c=(a,p,u)=>{const g={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(a)};return m.sendRequest(n.FoldingRangeRequest.type,g,u).then(b=>u.isCancellationRequested?null:m.protocol2CodeConverter.asFoldingRanges(b,u),b=>m.handleFailedRequest(n.FoldingRangeRequest.type,u,b,null))},t=m.middleware;return t.provideFoldingRanges?t.provideFoldingRanges(L,_,s,c):c(L,0,s)}};return[d.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(T.documentSelector),E),E]}}},84453:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.DocumentOnTypeFormattingFeature=Y.DocumentRangeFormattingFeature=Y.DocumentFormattingFeature=void 0;const d=e(78708),n=e(85055),l=e(2766),S=e(37062);var v;(v||(v={})).fromConfiguration=function _(s){const m=d.workspace.getConfiguration("files",s);return{trimTrailingWhitespace:m.get("trimTrailingWhitespace"),trimFinalNewlines:m.get("trimFinalNewlines"),insertFinalNewline:m.get("insertFinalNewline")}},Y.DocumentFormattingFeature=class T extends S.TextDocumentLanguageFeature{constructor(_){super(_,n.DocumentFormattingRequest.type)}fillClientCapabilities(_){(0,S.ensure)((0,S.ensure)(_,"textDocument"),"formatting").dynamicRegistration=!0}initialize(_,s){const m=this.getRegistrationOptions(s,_.documentFormattingProvider);!m||this.register({id:l.generateUuid(),registerOptions:m})}registerLanguageProvider(_){const m={provideDocumentFormattingEdits:(c,t,a)=>{const p=this._client,u=(b,y,w)=>{const D={textDocument:p.code2ProtocolConverter.asTextDocumentIdentifier(b),options:p.code2ProtocolConverter.asFormattingOptions(y,v.fromConfiguration(b))};return p.sendRequest(n.DocumentFormattingRequest.type,D,w).then(x=>w.isCancellationRequested?null:p.protocol2CodeConverter.asTextEdits(x,w),x=>p.handleFailedRequest(n.DocumentFormattingRequest.type,w,x,null))},g=p.middleware;return g.provideDocumentFormattingEdits?g.provideDocumentFormattingEdits(c,t,a,u):u(c,t,a)}};return[d.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),m),m]}},Y.DocumentRangeFormattingFeature=class C extends S.TextDocumentLanguageFeature{constructor(_){super(_,n.DocumentRangeFormattingRequest.type)}fillClientCapabilities(_){(0,S.ensure)((0,S.ensure)(_,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(_,s){const m=this.getRegistrationOptions(s,_.documentRangeFormattingProvider);!m||this.register({id:l.generateUuid(),registerOptions:m})}registerLanguageProvider(_){const m={provideDocumentRangeFormattingEdits:(c,t,a,p)=>{const u=this._client,g=(y,w,D,x)=>{const P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(y),range:u.code2ProtocolConverter.asRange(w),options:u.code2ProtocolConverter.asFormattingOptions(D,v.fromConfiguration(y))};return u.sendRequest(n.DocumentRangeFormattingRequest.type,P,x).then(O=>x.isCancellationRequested?null:u.protocol2CodeConverter.asTextEdits(O,x),O=>u.handleFailedRequest(n.DocumentRangeFormattingRequest.type,x,O,null))},b=u.middleware;return b.provideDocumentRangeFormattingEdits?b.provideDocumentRangeFormattingEdits(c,t,a,p,g):g(c,t,a,p)}};return[d.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),m),m]}},Y.DocumentOnTypeFormattingFeature=class E extends S.TextDocumentLanguageFeature{constructor(_){super(_,n.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(_){(0,S.ensure)((0,S.ensure)(_,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(_,s){const m=this.getRegistrationOptions(s,_.documentOnTypeFormattingProvider);!m||this.register({id:l.generateUuid(),registerOptions:m})}registerLanguageProvider(_){const m={provideOnTypeFormattingEdits:(t,a,p,u,g)=>{const b=this._client,y=(D,x,P,O,V)=>{let H={textDocument:b.code2ProtocolConverter.asTextDocumentIdentifier(D),position:b.code2ProtocolConverter.asPosition(x),ch:P,options:b.code2ProtocolConverter.asFormattingOptions(O,v.fromConfiguration(D))};return b.sendRequest(n.DocumentOnTypeFormattingRequest.type,H,V).then(z=>V.isCancellationRequested?null:b.protocol2CodeConverter.asTextEdits(z,V),z=>b.handleFailedRequest(n.DocumentOnTypeFormattingRequest.type,V,z,null))},w=b.middleware;return w.provideOnTypeFormattingEdits?w.provideOnTypeFormattingEdits(t,a,p,u,g,y):y(t,a,p,u,g)}},c=_.moreTriggerCharacter||[];return[d.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),m,_.firstTriggerCharacter,...c),m]}}},30429:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.HoverFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(2766);Y.HoverFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.HoverRequest.type)}fillClientCapabilities(C){const E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"hover");E.dynamicRegistration=!0,E.contentFormat=[n.MarkupKind.Markdown,n.MarkupKind.PlainText]}initialize(C,E){const L=this.getRegistrationOptions(E,C.hoverProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideHover:(_,s,m)=>{const c=this._client,t=(p,u,g)=>c.sendRequest(n.HoverRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(p,u),g).then(b=>g.isCancellationRequested?null:c.protocol2CodeConverter.asHover(b),b=>c.handleFailedRequest(n.HoverRequest.type,g,b,null)),a=c.middleware;return a.provideHover?a.provideHover(_,s,m,t):t(_,s,m)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return d.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},94749:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.ImplementationFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);Y.ImplementationFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,n.ImplementationRequest.type)}fillClientCapabilities(T){let C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"implementation");C.dynamicRegistration=!0,C.linkSupport=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.implementationProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideImplementation:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(n.ImplementationRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asDefinitionResult(g,u),g=>m.handleFailedRequest(n.ImplementationRequest.type,u,g,null)),t=m.middleware;return t.provideImplementation?t.provideImplementation(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},96140:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.InlayHintsFeature=void 0;const n=e(78708),l=e(85055),S=e(37062);Y.InlayHintsFeature=class v extends S.TextDocumentLanguageFeature{constructor(C){super(C,l.InlayHintRequest.type)}fillClientCapabilities(C){const E=(0,S.ensure)((0,S.ensure)(C,"textDocument"),"inlayHint");E.dynamicRegistration=!0,E.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,S.ensure)((0,S.ensure)(C,"workspace"),"inlayHint").refreshSupport=!0}initialize(C,E){var L=this;this._client.onRequest(l.InlayHintRefreshRequest.type,d(function*(){for(const m of L.getAllProviders())m.onDidChangeInlayHints.fire()}));const[_,s]=this.getRegistration(E,C.inlayHintProvider);!_||!s||this.register({id:_,registerOptions:s})}registerLanguageProvider(C){const E=C.documentSelector,L=new n.EventEmitter,_={onDidChangeInlayHints:L.event,provideInlayHints:(s,m,c)=>{const t=this._client,a=function(){var u=d(function*(g,b,y){const w={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(g),range:t.code2ProtocolConverter.asRange(b)};try{const D=yield t.sendRequest(l.InlayHintRequest.type,w,y);return y.isCancellationRequested?null:t.protocol2CodeConverter.asInlayHints(D,y)}catch(D){return t.handleFailedRequest(l.InlayHintRequest.type,y,D,null)}});return function(b,y,w){return u.apply(this,arguments)}}(),p=t.middleware;return p.provideInlayHints?p.provideInlayHints(s,m,c,a):a(s,m,c)}};return _.resolveInlayHint=!0===C.resolveProvider?(s,m)=>{const c=this._client,t=function(){var p=d(function*(u,g){try{const b=yield c.sendRequest(l.InlayHintResolveRequest.type,c.code2ProtocolConverter.asInlayHint(u),g);if(g.isCancellationRequested)return null;const y=c.protocol2CodeConverter.asInlayHint(b,g);return g.isCancellationRequested?null:y}catch(b){return c.handleFailedRequest(l.InlayHintResolveRequest.type,g,b,null)}});return function(g,b){return p.apply(this,arguments)}}(),a=c.middleware;return a.resolveInlayHint?a.resolveInlayHint(s,m,t):t(s,m)}:void 0,[this.registerProvider(E,_),{provider:_,onDidChangeInlayHints:L}]}registerProvider(C,E){return n.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},26229:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.InlineValueFeature=void 0;const n=e(78708),l=e(85055),S=e(37062);Y.InlineValueFeature=class v extends S.TextDocumentLanguageFeature{constructor(C){super(C,l.InlineValueRequest.type)}fillClientCapabilities(C){(0,S.ensure)((0,S.ensure)(C,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,S.ensure)((0,S.ensure)(C,"workspace"),"inlineValue").refreshSupport=!0}initialize(C,E){var L=this;this._client.onRequest(l.InlineValueRefreshRequest.type,d(function*(){for(const m of L.getAllProviders())m.onDidChangeInlineValues.fire()}));const[_,s]=this.getRegistration(E,C.inlineValueProvider);!_||!s||this.register({id:_,registerOptions:s})}registerLanguageProvider(C){const E=C.documentSelector,L=new n.EventEmitter,_={onDidChangeInlineValues:L.event,provideInlineValues:(s,m,c,t)=>{const a=this._client,p=(g,b,y,w)=>{const D={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g),range:a.code2ProtocolConverter.asRange(b),context:a.code2ProtocolConverter.asInlineValueContext(y)};return a.sendRequest(l.InlineValueRequest.type,D,w).then(x=>w.isCancellationRequested?null:a.protocol2CodeConverter.asInlineValues(x,w),x=>a.handleFailedRequest(l.InlineValueRequest.type,w,x,null))},u=a.middleware;return u.provideInlineValues?u.provideInlineValues(s,m,c,t,p):p(s,m,c,t)}};return[this.registerProvider(E,_),{provider:_,onDidChangeInlineValues:L}]}registerProvider(C,E){return n.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},44303:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.LinkedEditingFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);Y.LinkedEditingFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,n.LinkedEditingRangeRequest.type)}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.linkedEditingRangeProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideLinkedEditingRanges:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(n.LinkedEditingRangeRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asLinkedEditingRanges(g,u),g=>m.handleFailedRequest(n.LinkedEditingRangeRequest.type,u,g,null)),t=m.middleware;return t.provideLinkedEditingRange?t.provideLinkedEditingRange(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},31446:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.NotebookDocumentSyncFeature=void 0;const n=e(78708),l=e(34916),S=e(85055),v=e(2766),T=e(81072);function C(a,p){return void 0===a[p]&&(a[p]={}),a[p]}var E,L,_,s,m;!function(a){let p;!function(u){function y(H,z){return H.map(k=>D(k,z))}function w(H){return P(new Set,H)}function D(H,z){const k=S.NotebookCell.create(function x(H){switch(H){case n.NotebookCellKind.Markup:return S.NotebookCellKind.Markup;case n.NotebookCellKind.Code:return S.NotebookCellKind.Code}}(H.kind),z.asUri(H.document.uri));return Object.keys(H.metadata).length>0&&(k.metadata=w(H.metadata)),void 0!==H.executionSummary&&T.number(H.executionSummary.executionOrder)&&T.boolean(H.executionSummary.success)&&(k.executionSummary={executionOrder:H.executionSummary.executionOrder,success:H.executionSummary.success}),k}function P(H,z){if(H.has(z))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(z)){const k=[];for(const F of z)if(null!==F&&"object"==typeof F||Array.isArray(F))k.push(P(H,F));else{if(F instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");k.push(F)}return k}{const k=Object.keys(z),F=Object.create(null);for(const j of k){const K=z[j];if(null!==K&&"object"==typeof K||Array.isArray(K))F[j]=P(H,K);else{if(K instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");F[j]=K}}return F}}u.asVersionedNotebookDocumentIdentifier=function g(H,z){return{version:H.version,uri:z.asUri(H.uri)}},u.asNotebookDocument=function b(H,z,k){const F=S.NotebookDocument.create(k.asUri(H.uri),H.notebookType,H.version,y(z,k));return Object.keys(H.metadata).length>0&&(F.metadata=w(H.metadata)),F},u.asNotebookCells=y,u.asMetadata=w,u.asNotebookCell=D,u.asTextContentChange=function O(H,z){const k=z.asChangeTextDocumentParams(H);return{document:k.textDocument,changes:k.contentChanges}},u.asNotebookDocumentChangeEvent=function V(H,z){const k=Object.create(null);if(H.metadata&&(k.metadata=a.c2p.asMetadata(H.metadata)),void 0!==H.cells){const F=Object.create(null),j=H.cells;j.structure&&(F.structure={array:{start:j.structure.array.start,deleteCount:j.structure.array.deleteCount,cells:void 0!==j.structure.array.cells?j.structure.array.cells.map(K=>a.c2p.asNotebookCell(K,z)):void 0},didOpen:void 0!==j.structure.didOpen?j.structure.didOpen.map(K=>z.asOpenTextDocumentParams(K.document).textDocument):void 0,didClose:void 0!==j.structure.didClose?j.structure.didClose.map(K=>z.asCloseTextDocumentParams(K.document).textDocument):void 0}),void 0!==j.data&&(F.data=j.data.map(K=>a.c2p.asNotebookCell(K,z))),void 0!==j.textContent&&(F.textContent=j.textContent.map(K=>a.c2p.asTextContentChange(K,z))),Object.keys(F).length>0&&(k.cells=F)}return k}}(p=a.c2p||(a.c2p={}))}(E||(E={})),function(a){function u(D,x,P=!0){return!(D.kind!==x.kind||D.document.uri.toString()!==x.document.uri.toString()||D.document.languageId!==x.document.languageId||!function g(D,x){return D===x||void 0!==D&&void 0!==x&&D.executionOrder===x.executionOrder&&D.success===x.success&&function b(D,x){return D===x||void 0!==D&&void 0!==x&&D.startTime===x.startTime&&D.endTime===x.endTime}(D.timing,x.timing)}(D.executionSummary,x.executionSummary))&&(!P||P&&y(D.metadata,x.metadata))}function y(D,x){if(D===x)return!0;if(null==D||null==x||typeof D!=typeof x||"object"!=typeof D)return!1;const P=Array.isArray(D),O=Array.isArray(x);if(P!==O)return!1;if(P&&O){if(D.length!==x.length)return!1;for(let V=0;V<D.length;V++)if(!y(D[V],x[V]))return!1}if(w(D)&&w(x)){const V=Object.keys(D),H=Object.keys(x);if(V.length!==H.length||(V.sort(),H.sort(),!y(V,H)))return!1;for(let z=0;z<V.length;z++){const k=V[z];if(!y(D[k],x[k]))return!1}return!0}return!1}function w(D){return null!==D&&"object"==typeof D}a.computeDiff=function p(D,x,P){const O=D.length,V=x.length;let H=0;for(;H<V&&H<O&&u(D[H],x[H],P);)H++;if(H<V&&H<O){let z=O-1,k=V-1;for(;z>=0&&k>=0&&u(D[z],x[k],P);)z--,k--;const F=z+1-H,j=H===k+1?void 0:x.slice(H,k+1);return void 0!==j?{start:H,deleteCount:F,cells:j}:{start:H,deleteCount:F}}return H<V?{start:H,deleteCount:0,cells:x.slice(H)}:H<O?{start:H,deleteCount:O-H}:void 0},a.isObjectLiteral=w}(L||(L={})),(_||(_={})).matchNotebook=function p(u,g){if("string"==typeof u)return"*"===u||g.notebookType===u;if(void 0!==u.notebookType&&"*"!==u.notebookType&&g.notebookType!==u.notebookType)return!1;const b=g.uri;if(void 0!==u.scheme&&"*"!==u.scheme&&b.scheme!==u.scheme)return!1;if(void 0!==u.pattern){const y=new l.Minimatch(u.pattern,{noext:!0});if(!y.makeRe()||!y.match(b.fsPath))return!1}return!0},function(a){function u(g,b,y,w){return void 0===b&&void 0===y?{notebook:g,language:w}:{notebook:{notebookType:g,scheme:b,pattern:y},language:w}}a.asDocumentSelector=function p(g){const b=g.notebookSelector,y=[];for(const w of b){const D=("string"==typeof w.notebook?w.notebook:w.notebook?.notebookType)??"*",x="string"==typeof w.notebook?void 0:w.notebook?.scheme,P="string"==typeof w.notebook?void 0:w.notebook?.pattern;if(void 0!==w.cells)for(const O of w.cells)y.push(u(D,x,P,O.language));else y.push(u(D,x,P,void 0))}return y}}(s||(s={})),(m||(m={})).create=function p(u){return{cells:u,uris:new Set(u.map(g=>g.document.uri.toString()))}};class c{constructor(p,u){this.client=p,this.options=u,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=p.protocol2CodeConverter.asDocumentSelector(s.asDocumentSelector(u)),n.workspace.onDidOpenNotebookDocument(g=>{this.notebookDidOpen.add(g.uri.toString()),this.didOpen(g)},void 0,this.disposables);for(const g of n.workspace.notebookDocuments)this.notebookDidOpen.add(g.uri.toString()),this.didOpen(g);n.workspace.onDidChangeNotebookDocument(g=>this.didChangeNotebookDocument(g),void 0,this.disposables),!0===this.options.save&&n.workspace.onDidSaveNotebookDocument(g=>this.didSave(g),void 0,this.disposables),n.workspace.onDidCloseNotebookDocument(g=>{this.didClose(g),this.notebookDidOpen.delete(g.uri.toString())},void 0,this.disposables)}getState(){for(const p of n.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(p))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(p){return n.languages.match(this.selector,p)>0}didOpenNotebookCellTextDocument(p,u){if(0===n.languages.match(this.selector,u.document)||!this.notebookDidOpen.has(p.uri.toString()))return;const g=this.notebookSyncInfo.get(p.uri.toString()),b=this.cellMatches(p,u);if(void 0!==g){const y=g.uris.has(u.document.uri.toString());if(b&&y||!b&&!y)return;if(b){const w=this.getMatchingCells(p);if(void 0!==w){const D=this.asNotebookDocumentChangeEvent(p,void 0,g,w);void 0!==D&&this.doSendChange(D,w).catch(()=>{})}}}else b&&this.doSendOpen(p,[u]).catch(()=>{})}didChangeNotebookCellTextDocument(p,u){0!==n.languages.match(this.selector,u.document)&&this.doSendChange({notebook:p,cells:{textContent:[u]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(p,u){const g=this.notebookSyncInfo.get(p.uri.toString());if(void 0===g)return;const b=u.document.uri,y=g.cells.findIndex(w=>w.document.uri.toString()===b.toString());if(-1!==y)if(0===y&&1===g.cells.length)this.doSendClose(p,g.cells).catch(()=>{});else{const w=g.cells.slice(),D=w.splice(y,1);this.doSendChange({notebook:p,cells:{structure:{array:{start:y,deleteCount:1},didClose:D}}},w).catch(()=>{})}}dispose(){for(const p of this.disposables)p.dispose()}didOpen(p,u=this.getMatchingCells(p),g=this.notebookSyncInfo.get(p.uri.toString())){if(void 0!==g)if(void 0!==u){const b=this.asNotebookDocumentChangeEvent(p,void 0,g,u);void 0!==b&&this.doSendChange(b,u).catch(()=>{})}else this.doSendClose(p,[]).catch(()=>{});else{if(void 0===u)return;this.doSendOpen(p,u).catch(()=>{})}}didChangeNotebookDocument(p){const u=p.notebook,g=this.notebookSyncInfo.get(u.uri.toString());if(void 0===g){if(0===p.contentChanges.length)return;const b=this.getMatchingCells(u);if(void 0===b)return;this.didOpen(u,b,g)}else{const b=this.getMatchingCells(u);if(void 0===b)return void this.didClose(u,g);const y=this.asNotebookDocumentChangeEvent(p.notebook,p,g,b);void 0!==y&&this.doSendChange(y,b).catch(()=>{})}}didSave(p){void 0!==this.notebookSyncInfo.get(p.uri.toString())&&this.doSendSave(p).catch(()=>{})}didClose(p,u=this.notebookSyncInfo.get(p.uri.toString())){if(void 0===u)return;const g=p.getCells().filter(b=>u.uris.has(b.document.uri.toString()));this.doSendClose(p,g).catch(()=>{})}sendDidOpenNotebookDocument(p){var u=this;return d(function*(){const g=u.getMatchingCells(p);if(void 0!==g)return u.doSendOpen(p,g)})()}doSendOpen(p,u){var g=this;return d(function*(){const b=function(){var w=d(function*(D,x){const P=E.c2p.asNotebookDocument(D,x,g.client.code2ProtocolConverter),O=x.map(V=>g.client.code2ProtocolConverter.asTextDocumentItem(V.document));try{yield g.client.sendNotification(S.DidOpenNotebookDocumentNotification.type,{notebookDocument:P,cellTextDocuments:O})}catch(V){throw g.client.error("Sending DidOpenNotebookDocumentNotification failed",V),V}});return function(x,P){return w.apply(this,arguments)}}(),y=g.client.middleware?.notebooks;return g.notebookSyncInfo.set(p.uri.toString(),m.create(u)),void 0!==y?.didOpen?y.didOpen(p,u,b):b(p,u)})()}sendDidChangeNotebookDocument(p){var u=this;return d(function*(){return u.doSendChange(p,void 0)})()}doSendChange(p,u=this.getMatchingCells(p.notebook)){var g=this;return d(function*(){const b=function(){var w=d(function*(D){try{yield g.client.sendNotification(S.DidChangeNotebookDocumentNotification.type,{notebookDocument:E.c2p.asVersionedNotebookDocumentIdentifier(D.notebook,g.client.code2ProtocolConverter),change:E.c2p.asNotebookDocumentChangeEvent(D,g.client.code2ProtocolConverter)})}catch(x){throw g.client.error("Sending DidChangeNotebookDocumentNotification failed",x),x}});return function(x){return w.apply(this,arguments)}}(),y=g.client.middleware?.notebooks;return void 0!==p.cells?.structure&&g.notebookSyncInfo.set(p.notebook.uri.toString(),m.create(u??[])),void 0!==y?.didChange?y?.didChange(p,b):b(p)})()}sendDidSaveNotebookDocument(p){var u=this;return d(function*(){return u.doSendSave(p)})()}doSendSave(p){var u=this;return d(function*(){const g=function(){var y=d(function*(w){try{yield u.client.sendNotification(S.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:u.client.code2ProtocolConverter.asUri(w.uri)}})}catch(D){throw u.client.error("Sending DidSaveNotebookDocumentNotification failed",D),D}});return function(D){return y.apply(this,arguments)}}(),b=u.client.middleware?.notebooks;return void 0!==b?.didSave?b.didSave(p,g):g(p)})()}sendDidCloseNotebookDocument(p){var u=this;return d(function*(){return u.doSendClose(p,u.getMatchingCells(p)??[])})()}doSendClose(p,u){var g=this;return d(function*(){const b=function(){var w=d(function*(D,x){try{yield g.client.sendNotification(S.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:g.client.code2ProtocolConverter.asUri(D.uri)},cellTextDocuments:x.map(P=>g.client.code2ProtocolConverter.asTextDocumentIdentifier(P.document))})}catch(P){throw g.client.error("Sending DidCloseNotebookDocumentNotification failed",P),P}});return function(x,P){return w.apply(this,arguments)}}(),y=g.client.middleware?.notebooks;return g.notebookSyncInfo.delete(p.uri.toString()),void 0!==y?.didClose?y.didClose(p,u,b):b(p,u)})()}asNotebookDocumentChangeEvent(p,u,g,b){if(void 0!==u&&u.notebook!==p)throw new Error("Notebook must be identical");const y={notebook:p};let w;if(void 0!==u?.metadata&&(y.metadata=E.c2p.asMetadata(u.metadata)),void 0!==u?.cellChanges&&u.cellChanges.length>0){const D=[];w=new Set(b.map(x=>x.document.uri.toString()));for(const x of u.cellChanges)w.has(x.cell.document.uri.toString())&&(void 0!==x.executionSummary||void 0!==x.metadata)&&D.push(x.cell);D.length>0&&(y.cells=y.cells??{},y.cells.data=D)}if((void 0!==u?.contentChanges&&u.contentChanges.length>0||void 0===u)&&void 0!==g&&void 0!==b){const D=g.cells,P=L.computeDiff(D,b,!1);let O,V;if(void 0!==P){O=void 0===P.cells?new Map:new Map(P.cells.map(k=>[k.document.uri.toString(),k])),V=0===P.deleteCount?new Map:new Map(D.slice(P.start,P.start+P.deleteCount).map(k=>[k.document.uri.toString(),k]));for(const k of Array.from(V.keys()))O.has(k)&&(V.delete(k),O.delete(k));y.cells=y.cells??{};const H=[],z=[];if(O.size>0||V.size>0){for(const k of O.values())H.push(k);for(const k of V.values())z.push(k)}y.cells.structure={array:P,didOpen:H,didClose:z}}}return Object.keys(y).length>1?y:void 0}getMatchingCells(p,u=p.getCells()){if(void 0!==this.options.notebookSelector)for(const g of this.options.notebookSelector)if(void 0===g.notebook||_.matchNotebook(g.notebook,p)){const b=this.filterCells(p,u,g.cells);return 0===b.length?void 0:b}}cellMatches(p,u){const g=this.getMatchingCells(p,[u]);return void 0!==g&&g[0]===u}filterCells(p,u,g){const b=void 0!==g?u.filter(y=>{const w=y.document.languageId;return g.some(D=>"*"===D.language||w===D.language)}):u;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(p,b):b}}class t{constructor(p){this.client=p,this.registrations=new Map,this.registrationType=S.NotebookDocumentSyncRegistrationType.type,n.workspace.onDidOpenTextDocument(u=>{if(u.uri.scheme!==t.CellScheme)return;const[g,b]=this.findNotebookDocumentAndCell(u);if(void 0!==g&&void 0!==b)for(const y of this.registrations.values())y instanceof c&&y.didOpenNotebookCellTextDocument(g,b)}),n.workspace.onDidChangeTextDocument(u=>{if(0===u.contentChanges.length)return;const g=u.document;if(g.uri.scheme!==t.CellScheme)return;const[b]=this.findNotebookDocumentAndCell(g);if(void 0!==b)for(const y of this.registrations.values())y instanceof c&&y.didChangeNotebookCellTextDocument(b,u)}),n.workspace.onDidCloseTextDocument(u=>{if(u.uri.scheme!==t.CellScheme)return;const[g,b]=this.findNotebookDocumentAndCell(u);if(void 0!==g&&void 0!==b)for(const y of this.registrations.values())y instanceof c&&y.didCloseNotebookCellTextDocument(g,b)})}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const p of this.registrations.values()){const u=p.getState();if("document"===u.kind&&!0===u.registrations&&!0===u.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(p){const u=C(C(p,"notebookDocument"),"synchronization");u.dynamicRegistration=!0,u.executionSummarySupport=!0}preInitialize(p){const u=p.notebookDocumentSync;void 0!==u&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(s.asDocumentSelector(u)))}initialize(p){const u=p.notebookDocumentSync;if(void 0===u)return;const g=u.id??v.generateUuid();this.register({id:g,registerOptions:u})}register(p){const u=new c(this.client,p.registerOptions);this.registrations.set(p.id,u)}unregister(p){const u=this.registrations.get(p);u&&u.dispose()}dispose(){for(const p of this.registrations.values())p.dispose();this.registrations.clear()}handles(p){if(p.uri.scheme!==t.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&n.languages.match(this.dedicatedChannel,p)>0)return!0;for(const u of this.registrations.values())if(u.handles(p))return!0;return!1}getProvider(p){for(const u of this.registrations.values())if(u.handles(p.document))return u}findNotebookDocumentAndCell(p){const u=p.uri.toString();for(const g of n.workspace.notebookDocuments)for(const b of g.getCells())if(b.document.uri.toString()===u)return[g,b];return[void 0,void 0]}}Y.NotebookDocumentSyncFeature=t,t.CellScheme="vscode-notebook-cell"},18715:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.ProgressFeature=void 0;const d=e(85055),n=e(74342);Y.ProgressFeature=class S{constructor(T){this._client=T,this.activeParts=new Set}getState(){return{kind:"window",id:d.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(T){(function l(v,T){return void 0===v[T]&&(v[T]=Object.create(null)),v[T]}(T,"window")).workDoneProgress=!0}initialize(){const C=L=>{this.activeParts.delete(L)};this._client.onRequest(d.WorkDoneProgressCreateRequest.type,L=>{this.activeParts.add(new n.ProgressPart(this._client,L.token,C))})}dispose(){for(const T of this.activeParts)T.done();this.activeParts.clear()}}},74342:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.ProgressPart=void 0;const n=e(78708),l=e(85055),S=e(81072);Y.ProgressPart=class v{constructor(C,E,L){this._client=C,this._token=E,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(l.WorkDoneProgress.type,this._token,_=>{switch(_.kind){case"begin":this.begin(_);break;case"report":this.report(_);break;case"end":this.done(),L&&L(this)}})}begin(C){var E=this;this._infinite=void 0===C.percentage,void 0!==this._lspProgressDisposable&&n.window.withProgress({location:n.ProgressLocation.Window,cancellable:C.cancellable,title:C.title},function(){var L=d(function*(_,s){if(void 0!==E._lspProgressDisposable)return E._progress=_,E._cancellationToken=s,E._tokenDisposable=E._cancellationToken.onCancellationRequested(()=>{E._client.sendNotification(l.WorkDoneProgressCancelNotification.type,{token:E._token})}),E.report(C),new Promise((m,c)=>{E._resolve=m,E._reject=c})});return function(_,s){return L.apply(this,arguments)}}())}report(C){if(this._infinite&&S.string(C.message))void 0!==this._progress&&this._progress.report({message:C.message});else if(S.number(C.percentage)){const E=Math.max(0,Math.min(C.percentage,100)),L=Math.max(0,E-this._reported);this._reported+=L,void 0!==this._progress&&this._progress.report({message:C.message,increment:L})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},29966:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.CallHierarchyItem{constructor(S,v,T,C,E,L,_){super(S,v,T,C,E,L),void 0!==_&&(this.data=_)}}},40359:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.CodeAction{constructor(S,v){super(S),this.data=v}}},81056:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.CodeLens{constructor(S){super(S)}}},12115:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.CompletionItem{constructor(S){super(S)}}},85959:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.createConverter=void 0;const n=e(78708),l=e(85055),S=e(81072),v=e(8787),T=e(12115),C=e(81056),E=e(95388),L=e(40359),_=e(1426),s=e(29966),m=e(90244),c=e(52251),t=e(30674),a=e(85055);var p;(p||(p={})).is=function b(y){let w=y;return w&&S.string(w.language)&&S.string(w.value)},Y.createConverter=function u(g,b,y){const D=g||(Re=>n.Uri.parse(Re));function x(Re){return D(Re)}function V(){return(V=d(function*(Re,ct){return v.map(Re,z,ct)})).apply(this,arguments)}function H(Re){const ct=new Array(Re.length);for(let Cn=0;Cn<Re.length;Cn++)ct[Cn]=z(Re[Cn]);return ct}function z(Re){let ct=new _.ProtocolDiagnostic(U(Re.range),Re.message,W(Re.severity),Re.data);if(void 0!==Re.code)if("string"==typeof Re.code||"number"==typeof Re.code)ct.code=l.CodeDescription.is(Re.codeDescription)?{value:Re.code,target:x(Re.codeDescription.href)}:Re.code;else if(_.DiagnosticCode.is(Re.code)){ct.hasDiagnosticCode=!0;const Cn=Re.code;ct.code={value:Cn.value,target:x(Cn.target)}}return Re.source&&(ct.source=Re.source),Re.relatedInformation&&(ct.relatedInformation=function k(Re){const ct=new Array(Re.length);for(let Cn=0;Cn<Re.length;Cn++){const Hn=Re[Cn];ct[Cn]=new n.DiagnosticRelatedInformation(Q(Hn.location),Hn.message)}return ct}(Re.relatedInformation)),Array.isArray(Re.tags)&&(ct.tags=function F(Re){if(!Re)return;let ct=[];for(let Cn of Re){let Hn=j(Cn);void 0!==Hn&&ct.push(Hn)}return ct.length>0?ct:void 0}(Re.tags)),ct}function j(Re){switch(Re){case l.DiagnosticTag.Unnecessary:return n.DiagnosticTag.Unnecessary;case l.DiagnosticTag.Deprecated:return n.DiagnosticTag.Deprecated;default:return}}function K(Re){return Re?new n.Position(Re.line,Re.character):void 0}function U(Re){return Re?new n.Range(Re.start.line,Re.start.character,Re.end.line,Re.end.character):void 0}function ne(Re,ct){return N.apply(this,arguments)}function N(){return(N=d(function*(Re,ct){return v.map(Re,Cn=>new n.Range(Cn.start.line,Cn.start.character,Cn.end.line,Cn.end.character),ct)})).apply(this,arguments)}function W(Re){if(null==Re)return n.DiagnosticSeverity.Error;switch(Re){case l.DiagnosticSeverity.Error:return n.DiagnosticSeverity.Error;case l.DiagnosticSeverity.Warning:return n.DiagnosticSeverity.Warning;case l.DiagnosticSeverity.Information:return n.DiagnosticSeverity.Information;case l.DiagnosticSeverity.Hint:return n.DiagnosticSeverity.Hint}return n.DiagnosticSeverity.Error}function ge(Re){if(S.string(Re))return Re;switch(Re.kind){case l.MarkupKind.Markdown:return M(Re.value);case l.MarkupKind.PlainText:return Re.value;default:return`Unsupported Markup content received. Kind is: ${Re.kind}`}}function M(Re){let ct;if(void 0===Re||"string"==typeof Re)ct=new n.MarkdownString(Re);else switch(Re.kind){case l.MarkupKind.Markdown:ct=new n.MarkdownString(Re.value);break;case l.MarkupKind.PlainText:ct=new n.MarkdownString,ct.appendText(Re.value);break;default:ct=new n.MarkdownString,ct.appendText(`Unsupported Markup content received. Kind is: ${Re.kind}`)}return ct.isTrusted=b,ct.supportHtml=y,ct}function xe(){return(xe=d(function*(Re,ct,Cn){if(!Re)return;if(Array.isArray(Re))return v.map(Re,Ft=>me(Ft,ct),Cn);const Hn=Re,{defaultRange:Ii,commitCharacters:bi}=Ne(Hn,ct),di=yield v.map(Hn.items,Ft=>me(Ft,bi,Ii,Hn.itemDefaults?.insertTextMode,Hn.itemDefaults?.insertTextFormat,Hn.itemDefaults?.data),Cn);return new n.CompletionList(di,Hn.isIncomplete)})).apply(this,arguments)}function Ne(Re,ct){const Cn=Re.itemDefaults?.editRange,Hn=Re.itemDefaults?.commitCharacters??ct;return l.Range.is(Cn)?{defaultRange:U(Cn),commitCharacters:Hn}:void 0!==Cn?{defaultRange:{inserting:U(Cn.insert),replacing:U(Cn.replace)},commitCharacters:Hn}:{defaultRange:void 0,commitCharacters:Hn}}function Se(Re){if(Re===l.CompletionItemTag.Deprecated)return n.CompletionItemTag.Deprecated}function me(Re,ct,Cn,Hn,Ii,bi){const di=function Ie(Re){if(null==Re)return[];const ct=[];for(const Cn of Re){const Hn=Se(Cn);void 0!==Hn&&ct.push(Hn)}return ct}(Re.tags),Ft=function Me(Re){return l.CompletionItemLabelDetails.is(Re.labelDetails)?{label:Re.label,detail:Re.labelDetails.detail,description:Re.labelDetails.description}:Re.label}(Re),R=new T.default(Ft);Re.detail&&(R.detail=Re.detail),Re.documentation&&(R.documentation=ge(Re.documentation),R.documentationFormat=S.string(Re.documentation)?"$string":Re.documentation.kind),Re.filterText&&(R.filterText=Re.filterText);const J=function de(Re,ct,Cn){const Hn=Re.insertTextFormat??Cn;if(void 0!==Re.textEdit||void 0!==ct){const[Ii,bi]=void 0!==Re.textEdit?function ke(Re){return l.InsertReplaceEdit.is(Re)?[{inserting:U(Re.insert),replacing:U(Re.replace)},Re.newText]:[U(Re.range),Re.newText]}(Re.textEdit):[ct,Re.textEditText??Re.label];return Hn===l.InsertTextFormat.Snippet?{text:new n.SnippetString(bi),range:Ii,fromEdit:!0}:{text:bi,range:Ii,fromEdit:!0}}return Re.insertText?Hn===l.InsertTextFormat.Snippet?{text:new n.SnippetString(Re.insertText),fromEdit:!1}:{text:Re.insertText,fromEdit:!1}:void 0}(Re,Cn,Ii);if(J&&(R.insertText=J.text,R.range=J.range,R.fromEdit=J.fromEdit),S.number(Re.kind)){let[at,on]=function oe(Re){return l.CompletionItemKind.Text<=Re&&Re<=l.CompletionItemKind.TypeParameter?[Re-1,void 0]:[n.CompletionItemKind.Text,Re]}(Re.kind);R.kind=at,on&&(R.originalItemKind=on)}Re.sortText&&(R.sortText=Re.sortText),Re.additionalTextEdits&&(R.additionalTextEdits=Ve(Re.additionalTextEdits));const _e=void 0!==Re.commitCharacters?S.stringArray(Re.commitCharacters)?Re.commitCharacters:void 0:ct;_e&&(R.commitCharacters=_e.slice()),Re.command&&(R.command=Je(Re.command)),(!0===Re.deprecated||!1===Re.deprecated)&&(R.deprecated=Re.deprecated,!0===Re.deprecated&&di.push(n.CompletionItemTag.Deprecated)),(!0===Re.preselect||!1===Re.preselect)&&(R.preselect=Re.preselect);const je=Re.data??bi;void 0!==je&&(R.data=je),di.length>0&&(R.tags=di);const Ye=Re.insertTextMode??Hn;return void 0!==Ye&&(R.insertTextMode=Ye,Ye===l.InsertTextMode.asIs&&(R.keepWhitespace=!0)),R}function Ue(Re){if(Re)return new n.TextEdit(U(Re.range),Re.newText)}function ze(Re,ct){return ce.apply(this,arguments)}function ce(){return(ce=d(function*(Re,ct){if(Re)return v.map(Re,Ue,ct)})).apply(this,arguments)}function Ve(Re){if(!Re)return;const ct=new Array(Re.length);for(let Cn=0;Cn<Re.length;Cn++)ct[Cn]=Ue(Re[Cn]);return ct}function Ct(){return(Ct=d(function*(Re,ct){if(!Re)return;let Cn=new n.SignatureHelp;return Cn.activeSignature=S.number(Re.activeSignature)?Re.activeSignature:0,Cn.activeParameter=S.number(Re.activeParameter)?Re.activeParameter:0,Re.signatures&&(Cn.signatures=yield Lt(Re.signatures,ct)),Cn})).apply(this,arguments)}function Lt(Re,ct){return $e.apply(this,arguments)}function $e(){return($e=d(function*(Re,ct){return v.mapAsync(Re,ae,ct)})).apply(this,arguments)}function ae(Re,ct){return ve.apply(this,arguments)}function ve(){return(ve=d(function*(Re,ct){let Cn=new n.SignatureInformation(Re.label);return void 0!==Re.documentation&&(Cn.documentation=ge(Re.documentation)),void 0!==Re.parameters&&(Cn.parameters=yield he(Re.parameters,ct)),void 0!==Re.activeParameter&&(Cn.activeParameter=Re.activeParameter),Cn})).apply(this,arguments)}function he(Re,ct){return v.map(Re,le,ct)}function le(Re){let ct=new n.ParameterInformation(Re.label);return Re.documentation&&(ct.documentation=ge(Re.documentation)),ct}function Q(Re){return Re?new n.Location(D(Re.uri),U(Re.range)):void 0}function Pe(){return(Pe=d(function*(Re,ct){if(Re)return Qe(Re,ct)})).apply(this,arguments)}function st(){return(st=d(function*(Re,ct){if(Re)return Qe(Re,ct)})).apply(this,arguments)}function qe(Re){if(!Re)return;let ct={targetUri:D(Re.targetUri),targetRange:U(Re.targetRange),originSelectionRange:U(Re.originSelectionRange),targetSelectionRange:U(Re.targetSelectionRange)};if(!ct.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return ct}function Qe(Re,ct){return et.apply(this,arguments)}function et(){return(et=d(function*(Re,ct){if(Re)return S.array(Re)?0===Re.length?[]:l.LocationLink.is(Re[0])?v.map(Re,qe,ct):v.map(Re,Q,ct):l.LocationLink.is(Re)?[qe(Re)]:Q(Re)})).apply(this,arguments)}function mt(){return(mt=d(function*(Re,ct){if(Re)return v.map(Re,Q,ct)})).apply(this,arguments)}function $t(){return($t=d(function*(Re,ct){if(Re)return v.map(Re,Bt,ct)})).apply(this,arguments)}function Bt(Re){let ct=new n.DocumentHighlight(U(Re.range));return S.number(Re.kind)&&(ct.kind=Ke(Re.kind)),ct}function Ke(Re){switch(Re){case l.DocumentHighlightKind.Text:return n.DocumentHighlightKind.Text;case l.DocumentHighlightKind.Read:return n.DocumentHighlightKind.Read;case l.DocumentHighlightKind.Write:return n.DocumentHighlightKind.Write}return n.DocumentHighlightKind.Text}function jt(){return(jt=d(function*(Re,ct){if(Re)return v.map(Re,He,ct)})).apply(this,arguments)}function fn(Re){return Re<=l.SymbolKind.TypeParameter?Re-1:n.SymbolKind.Property}function Dn(Re){if(Re===l.SymbolTag.Deprecated)return n.SymbolTag.Deprecated}function yt(Re){if(null==Re)return;const ct=[];for(const Cn of Re){const Hn=Dn(Cn);void 0!==Hn&&ct.push(Hn)}return 0===ct.length?void 0:ct}function He(Re){const ct=Re.data,Cn=Re.location,Hn=void 0===Cn.range||void 0!==ct?new c.default(Re.name,fn(Re.kind),Re.containerName??"",void 0===Cn.range?D(Cn.uri):new n.Location(D(Re.location.uri),U(Cn.range)),ct):new n.SymbolInformation(Re.name,fn(Re.kind),Re.containerName??"",new n.Location(D(Re.location.uri),U(Cn.range)));return be(Hn,Re),Hn}function Ae(){return(Ae=d(function*(Re,ct){if(null!=Re)return v.map(Re,ue,ct)})).apply(this,arguments)}function ue(Re){let ct=new n.DocumentSymbol(Re.name,Re.detail||"",fn(Re.kind),U(Re.range),U(Re.selectionRange));if(be(ct,Re),void 0!==Re.children&&Re.children.length>0){let Cn=[];for(let Hn of Re.children)Cn.push(ue(Hn));ct.children=Cn}return ct}function be(Re,ct){Re.tags=yt(ct.tags),ct.deprecated&&(Re.tags?Re.tags.includes(n.SymbolTag.Deprecated)||(Re.tags=Re.tags.concat(n.SymbolTag.Deprecated)):Re.tags=[n.SymbolTag.Deprecated])}function Je(Re){let ct={title:Re.title,command:Re.command};return Re.arguments&&(ct.arguments=Re.arguments),ct}function nt(){return(nt=d(function*(Re,ct){if(Re)return v.map(Re,Je,ct)})).apply(this,arguments)}const bt=new Map;function Ut(Re){if(null==Re)return;let ct=bt.get(Re);if(ct)return ct;let Cn=Re.split(".");ct=n.CodeActionKind.Empty;for(let Hn of Cn)ct=ct.append(Hn);return ct}function Mn(Re,ct){return St.apply(this,arguments)}function St(){return(St=d(function*(Re,ct){if(null==Re)return;let Cn=new L.default(Re.title,Re.data);return void 0!==Re.kind&&(Cn.kind=Ut(Re.kind)),void 0!==Re.diagnostics&&(Cn.diagnostics=H(Re.diagnostics)),void 0!==Re.edit&&(Cn.edit=yield ci(Re.edit,ct)),void 0!==Re.command&&(Cn.command=Je(Re.command)),void 0!==Re.isPreferred&&(Cn.isPreferred=Re.isPreferred),void 0!==Re.disabled&&(Cn.disabled={reason:Re.disabled.reason}),Cn})).apply(this,arguments)}function Vn(Re){if(!Re)return;let ct=new C.default(U(Re.range));return Re.command&&(ct.command=Je(Re.command)),null!=Re.data&&(ct.data=Re.data),ct}function Gn(){return(Gn=d(function*(Re,ct){if(Re)return v.map(Re,Vn,ct)})).apply(this,arguments)}function ci(Re,ct){return ii.apply(this,arguments)}function ii(){return(ii=d(function*(Re,ct){if(!Re)return;const Cn=new Map;if(void 0!==Re.changeAnnotations){const bi=Re.changeAnnotations;yield v.forEach(Object.keys(bi),di=>{const Ft=Ei(bi[di]);Cn.set(di,Ft)},ct)}const Hn=bi=>{if(void 0!==bi)return Cn.get(bi)},Ii=new n.WorkspaceEdit;if(Re.documentChanges){const bi=Re.documentChanges;yield v.forEach(bi,di=>{if(l.CreateFile.is(di))Ii.createFile(D(di.uri),di.options,Hn(di.annotationId));else if(l.RenameFile.is(di))Ii.renameFile(D(di.oldUri),D(di.newUri),di.options,Hn(di.annotationId));else if(l.DeleteFile.is(di))Ii.deleteFile(D(di.uri),di.options,Hn(di.annotationId));else{if(!l.TextDocumentEdit.is(di))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(di,void 0,4)}`);{const Ft=D(di.textDocument.uri);for(const R of di.edits)l.AnnotatedTextEdit.is(R)?Ii.replace(Ft,U(R.range),R.newText,Hn(R.annotationId)):Ii.replace(Ft,U(R.range),R.newText)}}},ct)}else if(Re.changes){const bi=Re.changes;yield v.forEach(Object.keys(bi),di=>{Ii.set(D(di),Ve(bi[di]))},ct)}return Ii})).apply(this,arguments)}function Ei(Re){if(void 0!==Re)return{label:Re.label,needsConfirmation:!!Re.needsConfirmation,description:Re.description}}function no(Re){let ct=U(Re.range),Cn=Re.target?x(Re.target):void 0,Hn=new E.default(ct,Cn);return void 0!==Re.tooltip&&(Hn.tooltip=Re.tooltip),null!=Re.data&&(Hn.data=Re.data),Hn}function Co(){return(Co=d(function*(Re,ct){if(Re)return v.map(Re,no,ct)})).apply(this,arguments)}function io(Re){return new n.Color(Re.red,Re.green,Re.blue,Re.alpha)}function uo(Re){return new n.ColorInformation(U(Re.range),io(Re.color))}function si(){return(si=d(function*(Re,ct){if(Re)return v.map(Re,uo,ct)})).apply(this,arguments)}function Yt(Re){let ct=new n.ColorPresentation(Re.label);return ct.additionalTextEdits=Ve(Re.additionalTextEdits),Re.textEdit&&(ct.textEdit=Ue(Re.textEdit)),ct}function gt(){return(gt=d(function*(Re,ct){if(Re)return v.map(Re,Yt,ct)})).apply(this,arguments)}function Kt(Re){if(Re)switch(Re){case l.FoldingRangeKind.Comment:return n.FoldingRangeKind.Comment;case l.FoldingRangeKind.Imports:return n.FoldingRangeKind.Imports;case l.FoldingRangeKind.Region:return n.FoldingRangeKind.Region}}function nn(Re){return new n.FoldingRange(Re.startLine,Re.endLine,Kt(Re.kind))}function mn(){return(mn=d(function*(Re,ct){if(Re)return v.map(Re,nn,ct)})).apply(this,arguments)}function Nn(Re){return new n.SelectionRange(U(Re.range),Re.parent?Nn(Re.parent):void 0)}function Yn(){return(Yn=d(function*(Re,ct){return Array.isArray(Re)?v.map(Re,Nn,ct):[]})).apply(this,arguments)}function wi(Re){return l.InlineValueText.is(Re)?new n.InlineValueText(U(Re.range),Re.text):l.InlineValueVariableLookup.is(Re)?new n.InlineValueVariableLookup(U(Re.range),Re.variableName,Re.caseSensitiveLookup):new n.InlineValueEvaluatableExpression(U(Re.range),Re.expression)}function Qi(){return(Qi=d(function*(Re,ct){return Array.isArray(Re)?v.map(Re,wi,ct):[]})).apply(this,arguments)}function Pi(Re,ct){return Ki.apply(this,arguments)}function Ki(){return(Ki=d(function*(Re,ct){const Cn="string"==typeof Re.label?Re.label:yield v.map(Re.label,Wi,ct),Hn=new t.default(K(Re.position),Cn);return void 0!==Re.kind&&(Hn.kind=Re.kind),void 0!==Re.textEdits&&(Hn.textEdits=yield ze(Re.textEdits,ct)),void 0!==Re.tooltip&&(Hn.tooltip=ro(Re.tooltip)),void 0!==Re.paddingLeft&&(Hn.paddingLeft=Re.paddingLeft),void 0!==Re.paddingRight&&(Hn.paddingRight=Re.paddingRight),void 0!==Re.data&&(Hn.data=Re.data),Hn})).apply(this,arguments)}function Wi(Re){const ct=new n.InlayHintLabelPart(Re.value);return void 0!==Re.location&&(ct.location=Q(Re.location)),void 0!==Re.tooltip&&(ct.tooltip=ro(Re.tooltip)),void 0!==Re.command&&(ct.command=Je(Re.command)),ct}function ro(Re){return"string"==typeof Re?Re:M(Re)}function Ko(){return(Ko=d(function*(Re,ct){if(Array.isArray(Re))return v.mapAsync(Re,Pi,ct)})).apply(this,arguments)}function Eo(Re){if(null===Re)return;const ct=new s.default(fn(Re.kind),Re.name,Re.detail||"",x(Re.uri),U(Re.range),U(Re.selectionRange),Re.data);return void 0!==Re.tags&&(ct.tags=yt(Re.tags)),ct}function Io(){return(Io=d(function*(Re,ct){if(null!==Re)return v.map(Re,Eo,ct)})).apply(this,arguments)}function Yi(Re,ct){return ho.apply(this,arguments)}function ho(){return(ho=d(function*(Re,ct){return new n.CallHierarchyIncomingCall(Eo(Re.from),yield ne(Re.fromRanges,ct))})).apply(this,arguments)}function li(){return(li=d(function*(Re,ct){if(null!==Re)return v.mapAsync(Re,Yi,ct)})).apply(this,arguments)}function Xt(Re,ct){return kt.apply(this,arguments)}function kt(){return(kt=d(function*(Re,ct){return new n.CallHierarchyOutgoingCall(Eo(Re.to),yield ne(Re.fromRanges,ct))})).apply(this,arguments)}function Rn(){return(Rn=d(function*(Re,ct){if(null!==Re)return v.mapAsync(Re,Xt,ct)})).apply(this,arguments)}function dn(){return(dn=d(function*(Re,ct){if(null!=Re)return new n.SemanticTokens(new Uint32Array(Re.data),Re.resultId)})).apply(this,arguments)}function ft(Re){return new n.SemanticTokensEdit(Re.start,Re.deleteCount,void 0!==Re.data?new Uint32Array(Re.data):void 0)}function tn(){return(tn=d(function*(Re,ct){if(null!=Re)return new n.SemanticTokensEdits(Re.edits.map(ft),Re.resultId)})).apply(this,arguments)}function En(){return(En=d(function*(Re,ct){if(null!=Re)return new n.LinkedEditingRanges(yield ne(Re.ranges,ct),ut(Re.wordPattern))})).apply(this,arguments)}function ut(Re){if(null!=Re)return new RegExp(Re)}function Pt(Re){if(null===Re)return;let ct=new m.default(fn(Re.kind),Re.name,Re.detail||"",x(Re.uri),U(Re.range),U(Re.selectionRange),Re.data);return void 0!==Re.tags&&(ct.tags=yt(Re.tags)),ct}function Qt(){return(Qt=d(function*(Re,ct){if(null!==Re)return v.map(Re,Pt,ct)})).apply(this,arguments)}return bt.set(l.CodeActionKind.Empty,n.CodeActionKind.Empty),bt.set(l.CodeActionKind.QuickFix,n.CodeActionKind.QuickFix),bt.set(l.CodeActionKind.Refactor,n.CodeActionKind.Refactor),bt.set(l.CodeActionKind.RefactorExtract,n.CodeActionKind.RefactorExtract),bt.set(l.CodeActionKind.RefactorInline,n.CodeActionKind.RefactorInline),bt.set(l.CodeActionKind.RefactorRewrite,n.CodeActionKind.RefactorRewrite),bt.set(l.CodeActionKind.Source,n.CodeActionKind.Source),bt.set(l.CodeActionKind.SourceOrganizeImports,n.CodeActionKind.SourceOrganizeImports),{asUri:x,asDocumentSelector:function P(Re){const ct=[];for(const Cn of Re)"string"==typeof Cn?ct.push(Cn):a.NotebookCellTextDocumentFilter.is(Cn)?ct.push("string"==typeof Cn.notebook?{notebookType:Cn.notebook,language:Cn.language}:{notebookType:Cn.notebook.notebookType??"*",scheme:Cn.notebook.scheme,pattern:Cn.notebook.pattern,language:Cn.language}):a.TextDocumentFilter.is(Cn)&&ct.push({language:Cn.language,scheme:Cn.scheme,pattern:Cn.pattern});return ct},asDiagnostics:function O(Re,ct){return V.apply(this,arguments)},asDiagnostic:z,asRange:U,asRanges:ne,asPosition:K,asDiagnosticSeverity:W,asDiagnosticTag:j,asHover:function we(Re){if(Re)return new n.Hover(function Z(Re){if(S.string(Re))return M(Re);if(p.is(Re))return M().appendCodeblock(Re.value,Re.language);if(Array.isArray(Re)){let ct=[];for(let Cn of Re){let Hn=M();p.is(Cn)?Hn.appendCodeblock(Cn.value,Cn.language):Hn.appendMarkdown(Cn),ct.push(Hn)}return ct}return M(Re)}(Re.contents),U(Re.range))},asCompletionResult:function Ee(Re,ct,Cn){return xe.apply(this,arguments)},asCompletionItem:me,asTextEdit:Ue,asTextEdits:ze,asSignatureHelp:function tt(Re,ct){return Ct.apply(this,arguments)},asSignatureInformations:Lt,asSignatureInformation:ae,asParameterInformations:he,asParameterInformation:le,asDeclarationResult:function Ce(Re,ct){return Pe.apply(this,arguments)},asDefinitionResult:function dt(Re,ct){return st.apply(this,arguments)},asLocation:Q,asReferences:function vt(Re,ct){return mt.apply(this,arguments)},asDocumentHighlights:function _t(Re,ct){return $t.apply(this,arguments)},asDocumentHighlight:Bt,asDocumentHighlightKind:Ke,asSymbolKind:fn,asSymbolTag:Dn,asSymbolTags:yt,asSymbolInformations:function ht(Re,ct){return jt.apply(this,arguments)},asSymbolInformation:He,asDocumentSymbols:function ye(Re,ct){return Ae.apply(this,arguments)},asDocumentSymbol:ue,asCommand:Je,asCommands:function Fe(Re,ct){return nt.apply(this,arguments)},asCodeAction:Mn,asCodeActionKind:Ut,asCodeActionKinds:function vn(Re){if(null!=Re)return Re.map(ct=>Ut(ct))},asCodeActionResult:function gn(Re,ct){return v.mapAsync(Re,function(){var Cn=d(function*(Hn){return l.Command.is(Hn)?Je(Hn):Mn(Hn,ct)});return function(Hn){return Cn.apply(this,arguments)}}(),ct)},asCodeLens:Vn,asCodeLenses:function Sn(Re,ct){return Gn.apply(this,arguments)},asWorkspaceEdit:ci,asDocumentLink:no,asDocumentLinks:function to(Re,ct){return Co.apply(this,arguments)},asFoldingRangeKind:Kt,asFoldingRange:nn,asFoldingRanges:function an(Re,ct){return mn.apply(this,arguments)},asColor:io,asColorInformation:uo,asColorInformations:function go(Re,ct){return si.apply(this,arguments)},asColorPresentation:Yt,asColorPresentations:function pt(Re,ct){return gt.apply(this,arguments)},asSelectionRange:Nn,asSelectionRanges:function jn(Re,ct){return Yn.apply(this,arguments)},asInlineValue:wi,asInlineValues:function Li(Re,ct){return Qi.apply(this,arguments)},asInlayHint:Pi,asInlayHints:function mo(Re,ct){return Ko.apply(this,arguments)},asSemanticTokensLegend:function xn(Re){return Re},asSemanticTokens:function Wn(Re,ct){return dn.apply(this,arguments)},asSemanticTokensEdit:ft,asSemanticTokensEdits:function sn(Re,ct){return tn.apply(this,arguments)},asCallHierarchyItem:Eo,asCallHierarchyItems:function Mo(Re,ct){return Io.apply(this,arguments)},asCallHierarchyIncomingCall:Yi,asCallHierarchyIncomingCalls:function Ao(Re,ct){return li.apply(this,arguments)},asCallHierarchyOutgoingCall:Xt,asCallHierarchyOutgoingCalls:function un(Re,ct){return Rn.apply(this,arguments)},asLinkedEditingRanges:function Pn(Re,ct){return En.apply(this,arguments)},asTypeHierarchyItem:Pt,asTypeHierarchyItems:function Ht(Re,ct){return Qt.apply(this,arguments)},asGlobPattern:function bn(Re){if(S.string(Re))return Re;if(l.RelativePattern.is(Re)){if(l.URI.is(Re.baseUri))return new n.RelativePattern(x(Re.baseUri),Re.pattern);if(l.WorkspaceFolder.is(Re.baseUri)){const ct=n.workspace.getWorkspaceFolder(x(Re.baseUri.uri));return void 0!==ct?new n.RelativePattern(ct,Re.pattern):void 0}}}}}},1426:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.ProtocolDiagnostic=Y.DiagnosticCode=void 0;const d=e(78708),n=e(81072);(Y.DiagnosticCode||(Y.DiagnosticCode={})).is=function T(C){const E=C;return null!=E&&(n.number(E.value)||n.string(E.value))&&n.string(E.target)},Y.ProtocolDiagnostic=class S extends d.Diagnostic{constructor(T,C,E,L){super(T,C,E),this.data=L,this.hasDiagnosticCode=!1}}},95388:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.DocumentLink{constructor(S,v){super(S,v)}}},30674:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.InlayHint{constructor(S,v,T){super(S,v,T)}}},90244:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.TypeHierarchyItem{constructor(S,v,T,C,E,L,_){super(S,v,T,C,E,L),void 0!==_&&(this.data=_)}}},52251:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});const d=e(78708);Y.default=class n extends d.SymbolInformation{constructor(S,v,T,C,E){const L=!(C instanceof d.Uri);super(S,v,T,L?C:new d.Location(C,new d.Range(0,0,0,0))),this.hasRange=L,void 0!==E&&(this.data=E)}}},19323:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.ReferencesFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(2766);Y.ReferencesFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.ReferencesRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"references").dynamicRegistration=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.referencesProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideReferences:(_,s,m,c)=>{const t=this._client,a=(u,g,b,y)=>t.sendRequest(n.ReferencesRequest.type,t.code2ProtocolConverter.asReferenceParams(u,g,b),y).then(w=>y.isCancellationRequested?null:t.protocol2CodeConverter.asReferences(w,y),w=>t.handleFailedRequest(n.ReferencesRequest.type,y,w,null)),p=t.middleware;return p.provideReferences?p.provideReferences(_,s,m,c,a):a(_,s,m,c)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return d.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},24146:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.RenameFeature=void 0;const d=e(78708),n=e(85055),l=e(2766),S=e(81072),v=e(37062);Y.RenameFeature=class T extends v.TextDocumentLanguageFeature{constructor(E){super(E,n.RenameRequest.type)}fillClientCapabilities(E){let L=(0,v.ensure)((0,v.ensure)(E,"textDocument"),"rename");L.dynamicRegistration=!0,L.prepareSupport=!0,L.prepareSupportDefaultBehavior=n.PrepareSupportDefaultBehavior.Identifier,L.honorsChangeAnnotations=!0}initialize(E,L){const _=this.getRegistrationOptions(L,E.renameProvider);!_||(S.boolean(E.renameProvider)&&(_.prepareProvider=!1),this.register({id:l.generateUuid(),registerOptions:_}))}registerLanguageProvider(E){const _={provideRenameEdits:(s,m,c,t)=>{const a=this._client,p=(g,b,y,w)=>{let D={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g),position:a.code2ProtocolConverter.asPosition(b),newName:y};return a.sendRequest(n.RenameRequest.type,D,w).then(x=>w.isCancellationRequested?null:a.protocol2CodeConverter.asWorkspaceEdit(x,w),x=>a.handleFailedRequest(n.RenameRequest.type,w,x,null,!1))},u=a.middleware;return u.provideRenameEdits?u.provideRenameEdits(s,m,c,t,p):p(s,m,c,t)},prepareRename:E.prepareProvider?(s,m,c)=>{const t=this._client,a=(u,g,b)=>{let y={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(u),position:t.code2ProtocolConverter.asPosition(g)};return t.sendRequest(n.PrepareRenameRequest.type,y,b).then(w=>b.isCancellationRequested?null:n.Range.is(w)?t.protocol2CodeConverter.asRange(w):this.isDefaultBehavior(w)?!0===w.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):w&&n.Range.is(w.range)?{range:t.protocol2CodeConverter.asRange(w.range),placeholder:w.placeholder}:Promise.reject(new Error("The element can't be renamed.")),w=>{throw"string"==typeof w.message?new Error(w.message):new Error("The element can't be renamed.")})},p=t.middleware;return p.prepareRename?p.prepareRename(s,m,c,a):a(s,m,c)}:void 0};return[this.registerProvider(E.documentSelector,_),_]}registerProvider(E,L){return d.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(E),L)}isDefaultBehavior(E){return E&&S.boolean(E.defaultBehavior)}}},88139:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.SelectionRangeFeature=void 0;const n=e(78708),l=e(85055),S=e(37062);Y.SelectionRangeFeature=class v extends S.TextDocumentLanguageFeature{constructor(C){super(C,l.SelectionRangeRequest.type)}fillClientCapabilities(C){(0,S.ensure)((0,S.ensure)(C,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(C,E){const[L,_]=this.getRegistration(E,C.selectionRangeProvider);!L||!_||this.register({id:L,registerOptions:_})}registerLanguageProvider(C){const L={provideSelectionRanges:(_,s,m)=>{const c=this._client,t=function(){var p=d(function*(u,g,b){const y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(u),positions:yield c.code2ProtocolConverter.asPositions(g,b)};return c.sendRequest(l.SelectionRangeRequest.type,y,b).then(w=>b.isCancellationRequested?null:c.protocol2CodeConverter.asSelectionRanges(w,b),w=>c.handleFailedRequest(l.SelectionRangeRequest.type,b,w,null))});return function(g,b,y){return p.apply(this,arguments)}}(),a=c.middleware;return a.provideSelectionRanges?a.provideSelectionRanges(_,s,m,t):t(_,s,m)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return n.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},35234:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.SemanticTokensFeature=void 0;const n=e(78708),l=e(85055),S=e(37062),v=e(81072);Y.SemanticTokensFeature=class T extends S.TextDocumentLanguageFeature{constructor(E){super(E,l.SemanticTokensRegistrationType.type)}fillClientCapabilities(E){const L=(0,S.ensure)((0,S.ensure)(E,"textDocument"),"semanticTokens");L.dynamicRegistration=!0,L.tokenTypes=[l.SemanticTokenTypes.namespace,l.SemanticTokenTypes.type,l.SemanticTokenTypes.class,l.SemanticTokenTypes.enum,l.SemanticTokenTypes.interface,l.SemanticTokenTypes.struct,l.SemanticTokenTypes.typeParameter,l.SemanticTokenTypes.parameter,l.SemanticTokenTypes.variable,l.SemanticTokenTypes.property,l.SemanticTokenTypes.enumMember,l.SemanticTokenTypes.event,l.SemanticTokenTypes.function,l.SemanticTokenTypes.method,l.SemanticTokenTypes.macro,l.SemanticTokenTypes.keyword,l.SemanticTokenTypes.modifier,l.SemanticTokenTypes.comment,l.SemanticTokenTypes.string,l.SemanticTokenTypes.number,l.SemanticTokenTypes.regexp,l.SemanticTokenTypes.operator,l.SemanticTokenTypes.decorator],L.tokenModifiers=[l.SemanticTokenModifiers.declaration,l.SemanticTokenModifiers.definition,l.SemanticTokenModifiers.readonly,l.SemanticTokenModifiers.static,l.SemanticTokenModifiers.deprecated,l.SemanticTokenModifiers.abstract,l.SemanticTokenModifiers.async,l.SemanticTokenModifiers.modification,l.SemanticTokenModifiers.documentation,l.SemanticTokenModifiers.defaultLibrary],L.formats=[l.TokenFormat.Relative],L.requests={range:!0,full:{delta:!0}},L.multilineTokenSupport=!1,L.overlappingTokenSupport=!1,L.serverCancelSupport=!0,L.augmentsSyntaxTokens=!0,(0,S.ensure)((0,S.ensure)(E,"workspace"),"semanticTokens").refreshSupport=!0}initialize(E,L){var _=this;this._client.onRequest(l.SemanticTokensRefreshRequest.type,d(function*(){for(const t of _.getAllProviders())t.onDidChangeSemanticTokensEmitter.fire()}));const[m,c]=this.getRegistration(L,E.semanticTokensProvider);!m||!c||this.register({id:m,registerOptions:c})}registerLanguageProvider(E){const L=E.documentSelector,_=v.boolean(E.full)?E.full:void 0!==E.full,s=void 0!==E.full&&"boolean"!=typeof E.full&&!0===E.full.delta,m=new n.EventEmitter,c=_?{onDidChangeSemanticTokens:m.event,provideDocumentSemanticTokens:(y,w)=>{const D=this._client,x=D.middleware,P=(O,V)=>{const H={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(O)};return D.sendRequest(l.SemanticTokensRequest.type,H,V).then(z=>V.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(z,V),z=>D.handleFailedRequest(l.SemanticTokensRequest.type,V,z,null))};return x.provideDocumentSemanticTokens?x.provideDocumentSemanticTokens(y,w,P):P(y,w)},provideDocumentSemanticTokensEdits:s?(y,w,D)=>{const x=this._client,P=x.middleware,O=(V,H,z)=>{const k={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(V),previousResultId:H};return x.sendRequest(l.SemanticTokensDeltaRequest.type,k,z).then(function(){var F=d(function*(j){return z.isCancellationRequested?null:l.SemanticTokens.is(j)?yield x.protocol2CodeConverter.asSemanticTokens(j,z):yield x.protocol2CodeConverter.asSemanticTokensEdits(j,z)});return function(j){return F.apply(this,arguments)}}(),F=>x.handleFailedRequest(l.SemanticTokensDeltaRequest.type,z,F,null))};return P.provideDocumentSemanticTokensEdits?P.provideDocumentSemanticTokensEdits(y,w,D,O):O(y,w,D)}:void 0}:void 0,a=!0===E.range?{provideDocumentRangeSemanticTokens:(y,w,D)=>{const x=this._client,P=x.middleware,O=(V,H,z)=>{const k={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(V),range:x.code2ProtocolConverter.asRange(H)};return x.sendRequest(l.SemanticTokensRangeRequest.type,k,z).then(F=>z.isCancellationRequested?null:x.protocol2CodeConverter.asSemanticTokens(F,z),F=>x.handleFailedRequest(l.SemanticTokensRangeRequest.type,z,F,null))};return P.provideDocumentRangeSemanticTokens?P.provideDocumentRangeSemanticTokens(y,w,D,O):O(y,w,D)}}:void 0,p=[],u=this._client,g=u.protocol2CodeConverter.asSemanticTokensLegend(E.legend),b=u.protocol2CodeConverter.asDocumentSelector(L);return void 0!==c&&p.push(n.languages.registerDocumentSemanticTokensProvider(b,c,g)),void 0!==a&&p.push(n.languages.registerDocumentRangeSemanticTokensProvider(b,a,g)),[new n.Disposable(()=>p.forEach(y=>y.dispose())),{range:a,full:c,onDidChangeSemanticTokensEmitter:m}]}}},66808:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.SignatureHelpFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(2766);Y.SignatureHelpFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.SignatureHelpRequest.type)}fillClientCapabilities(C){let E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"signatureHelp");E.dynamicRegistration=!0,E.signatureInformation={documentationFormat:[n.MarkupKind.Markdown,n.MarkupKind.PlainText]},E.signatureInformation.parameterInformation={labelOffsetSupport:!0},E.signatureInformation.activeParameterSupport=!0,E.contextSupport=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.signatureHelpProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const E={provideSignatureHelp:(L,_,s,m)=>{const c=this._client,t=(p,u,g,b)=>c.sendRequest(n.SignatureHelpRequest.type,c.code2ProtocolConverter.asSignatureHelpParams(p,u,g),b).then(y=>b.isCancellationRequested?null:c.protocol2CodeConverter.asSignatureHelp(y,b),y=>c.handleFailedRequest(n.SignatureHelpRequest.type,b,y,null)),a=c.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(L,_,m,s,t):t(L,_,m,s)}};return[this.registerProvider(C,E),E]}registerProvider(C,E){const L=this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector);return void 0===C.retriggerCharacters?d.languages.registerSignatureHelpProvider(L,E,...C.triggerCharacters||[]):d.languages.registerSignatureHelpProvider(L,E,{triggerCharacters:C.triggerCharacters||[],retriggerCharacters:C.retriggerCharacters||[]})}}},5074:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.DidSaveTextDocumentFeature=Y.WillSaveWaitUntilFeature=Y.WillSaveFeature=Y.DidChangeTextDocumentFeature=Y.DidCloseTextDocumentFeature=Y.DidOpenTextDocumentFeature=void 0;const n=e(78708),l=e(85055),S=e(37062),v=e(8787),T=e(2766);Y.DidOpenTextDocumentFeature=class C extends S.TextDocumentEventFeature{constructor(t,a){super(t,n.workspace.onDidOpenTextDocument,l.DidOpenTextDocumentNotification.type,()=>t.middleware.didOpen,p=>t.code2ProtocolConverter.asOpenTextDocumentParams(p),p=>p,S.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=a}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(t){(0,S.ensure)((0,S.ensure)(t,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(t,a){const p=t.resolvedTextDocumentSync;a&&p&&p.openClose&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}get registrationType(){return l.DidOpenTextDocumentNotification.type}register(t){if(super.register(t),!t.registerOptions.documentSelector)return;const a=this._client.protocol2CodeConverter.asDocumentSelector(t.registerOptions.documentSelector);n.workspace.textDocuments.forEach(p=>{const u=p.uri.toString();if(!this._syncedDocuments.has(u)&&n.languages.match(a,p)>0&&!this._client.hasDedicatedTextSynchronizationFeature(p)){const g=this._client.middleware,b=y=>this._client.sendNotification(this._type,this._createParams(y));(g.didOpen?g.didOpen(p,b):b(p)).catch(y=>{this._client.error(`Sending document notification ${this._type.method} failed`,y)}),this._syncedDocuments.set(u,p)}})}notificationSent(t,a,p){super.notificationSent(t,a,p),this._syncedDocuments.set(t.uri.toString(),t)}},Y.DidCloseTextDocumentFeature=class E extends S.TextDocumentEventFeature{constructor(t,a){super(t,n.workspace.onDidCloseTextDocument,l.DidCloseTextDocumentNotification.type,()=>t.middleware.didClose,p=>t.code2ProtocolConverter.asCloseTextDocumentParams(p),p=>p,S.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=a}get registrationType(){return l.DidCloseTextDocumentNotification.type}fillClientCapabilities(t){(0,S.ensure)((0,S.ensure)(t,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(t,a){let p=t.resolvedTextDocumentSync;a&&p&&p.openClose&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}notificationSent(t,a,p){super.notificationSent(t,a,p),this._syncedDocuments.delete(t.uri.toString())}unregister(t){const a=this._selectors.get(t);super.unregister(t);const p=this._selectors.values();this._syncedDocuments.forEach(u=>{if(n.languages.match(a,u)>0&&!this._selectorFilter(p,u)&&!this._client.hasDedicatedTextSynchronizationFeature(u)){let g=this._client.middleware,b=y=>this._client.sendNotification(this._type,this._createParams(y));this._syncedDocuments.delete(u.uri.toString()),(g.didClose?g.didClose(u,b):b(u)).catch(y=>{this._client.error(`Sending document notification ${this._type.method} failed`,y)})}})}},Y.DidChangeTextDocumentFeature=class L extends S.DynamicDocumentFeature{constructor(t){super(t),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new n.EventEmitter}get registrationType(){return l.DidChangeTextDocumentNotification.type}fillClientCapabilities(t){(0,S.ensure)((0,S.ensure)(t,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(t,a){let p=t.resolvedTextDocumentSync;a&&p&&void 0!==p.change&&p.change!==l.TextDocumentSyncKind.None&&this.register({id:T.generateUuid(),registerOptions:Object.assign({},{documentSelector:a},{syncKind:p.change})})}register(t){!t.registerOptions.documentSelector||(this._listener||(this._listener=n.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(t.id,{syncKind:t.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(t.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const t of this._changeData.values())yield t.documentSelector}callback(t){var a=this;return d(function*(){if(0===t.contentChanges.length)return;const p=[];for(const u of a._changeData.values())if(n.languages.match(u.documentSelector,t.document)>0&&!a._client.hasDedicatedTextSynchronizationFeature(t.document)){const g=a._client.middleware;if(u.syncKind===l.TextDocumentSyncKind.Incremental){const b=function(){var y=d(function*(w){const D=a._client.code2ProtocolConverter.asChangeTextDocumentParams(w);yield a._client.sendNotification(l.DidChangeTextDocumentNotification.type,D),a.notificationSent(w,l.DidChangeTextDocumentNotification.type,D)});return function(D){return y.apply(this,arguments)}}();p.push(g.didChange?g.didChange(t,y=>b(y)):b(t))}else if(u.syncKind===l.TextDocumentSyncKind.Full){const b=function(){var y=d(function*(w){const D=function(){var x=d(function*(P){const O=a._client.code2ProtocolConverter.asChangeTextDocumentParams(P.document);yield a._client.sendNotification(l.DidChangeTextDocumentNotification.type,O),a.notificationSent(P,l.DidChangeTextDocumentNotification.type,O)});return function(O){return x.apply(this,arguments)}}();return a._changeDelayer?(a._changeDelayer.uri!==w.document.uri.toString()&&(yield a.forceDelivery(),a._changeDelayer.uri=w.document.uri.toString()),a._changeDelayer.delayer.trigger(()=>D(w))):(a._changeDelayer={uri:w.document.uri.toString(),delayer:new v.Delayer(200)},a._changeDelayer.delayer.trigger(()=>D(w),-1))});return function(D){return y.apply(this,arguments)}}();p.push(g.didChange?g.didChange(t,y=>b(y)):b(t))}}return Promise.all(p).then(void 0,u=>{throw a._client.error(`Sending document notification ${l.DidChangeTextDocumentNotification.type.method} failed`,u),u})})()}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(t,a,p){this._onNotificationSent.fire({original:t,type:a,params:p})}unregister(t){this._changeData.delete(t),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){var t=this;return d(function*(){if(!t._forcingDelivery&&t._changeDelayer)try{return t._forcingDelivery=!0,t._changeDelayer.delayer.forceDelivery()}finally{t._forcingDelivery=!1}})()}getProvider(t){for(const a of this._changeData.values())if(n.languages.match(a.documentSelector,t)>0)return{send:p=>this.callback(p)}}},Y.WillSaveFeature=class _ extends S.TextDocumentEventFeature{constructor(t){super(t,n.workspace.onWillSaveTextDocument,l.WillSaveTextDocumentNotification.type,()=>t.middleware.willSave,a=>t.code2ProtocolConverter.asWillSaveTextDocumentParams(a),a=>a.document,(a,p)=>S.TextDocumentEventFeature.textDocumentFilter(a,p.document))}get registrationType(){return l.WillSaveTextDocumentNotification.type}fillClientCapabilities(t){(0,S.ensure)((0,S.ensure)(t,"textDocument"),"synchronization").willSave=!0}initialize(t,a){let p=t.resolvedTextDocumentSync;a&&p&&p.willSave&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}},Y.WillSaveWaitUntilFeature=class s extends S.DynamicDocumentFeature{constructor(t){super(t),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return l.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(t){(0,S.ensure)((0,S.ensure)(t,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(t,a){let p=t.resolvedTextDocumentSync;a&&p&&p.willSaveWaitUntil&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}register(t){!t.registerOptions.documentSelector||(this._listener||(this._listener=n.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(t.id,this._client.protocol2CodeConverter.asDocumentSelector(t.registerOptions.documentSelector)))}callback(t){var a=this;if(S.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),t.document)&&!this._client.hasDedicatedTextSynchronizationFeature(t.document)){let p=this._client.middleware,u=g=>this._client.sendRequest(l.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(g)).then(function(){var b=d(function*(y){let w=yield a._client.protocol2CodeConverter.asTextEdits(y);return void 0===w?[]:w});return function(y){return b.apply(this,arguments)}}());t.waitUntil(p.willSaveWaitUntil?p.willSaveWaitUntil(t,u):u(t))}}unregister(t){this._selectors.delete(t),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},Y.DidSaveTextDocumentFeature=class m extends S.TextDocumentEventFeature{constructor(t){super(t,n.workspace.onDidSaveTextDocument,l.DidSaveTextDocumentNotification.type,()=>t.middleware.didSave,a=>t.code2ProtocolConverter.asSaveTextDocumentParams(a,this._includeText),a=>a,S.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return l.DidSaveTextDocumentNotification.type}fillClientCapabilities(t){(0,S.ensure)((0,S.ensure)(t,"textDocument"),"synchronization").didSave=!0}initialize(t,a){const p=t.resolvedTextDocumentSync;if(a&&p&&p.save){const u="boolean"==typeof p.save?{includeText:!1}:{includeText:!!p.save.includeText};this.register({id:T.generateUuid(),registerOptions:Object.assign({},{documentSelector:a},u)})}}register(t){this._includeText=!!t.registerOptions.includeText,super.register(t)}}},77917:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.TypeDefinitionFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);Y.TypeDefinitionFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,n.TypeDefinitionRequest.type)}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"textDocument"),"typeDefinition").dynamicRegistration=!0;let C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"typeDefinition");C.dynamicRegistration=!0,C.linkSupport=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.typeDefinitionProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideTypeDefinition:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(n.TypeDefinitionRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asDefinitionResult(g,u),g=>m.handleFailedRequest(n.TypeDefinitionRequest.type,u,g,null)),t=m.middleware;return t.provideTypeDefinition?t.provideTypeDefinition(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},92802:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.TypeHierarchyFeature=void 0;const d=e(78708),n=e(85055),l=e(37062);class S{constructor(C){this.client=C,this.middleware=C.middleware}prepareTypeHierarchy(C,E,L){const _=this.client,s=this.middleware,m=(c,t,a)=>{const p=_.code2ProtocolConverter.asTextDocumentPositionParams(c,t);return _.sendRequest(n.TypeHierarchyPrepareRequest.type,p,a).then(u=>a.isCancellationRequested?null:_.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>_.handleFailedRequest(n.TypeHierarchyPrepareRequest.type,a,u,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(C,E,L,m):m(C,E,L)}provideTypeHierarchySupertypes(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const t={item:L.code2ProtocolConverter.asTypeHierarchyItem(m)};return L.sendRequest(n.TypeHierarchySupertypesRequest.type,t,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asTypeHierarchyItems(a,c),a=>L.handleFailedRequest(n.TypeHierarchySupertypesRequest.type,c,a,null))};return _.provideTypeHierarchySupertypes?_.provideTypeHierarchySupertypes(C,E,s):s(C,E)}provideTypeHierarchySubtypes(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const t={item:L.code2ProtocolConverter.asTypeHierarchyItem(m)};return L.sendRequest(n.TypeHierarchySubtypesRequest.type,t,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asTypeHierarchyItems(a,c),a=>L.handleFailedRequest(n.TypeHierarchySubtypesRequest.type,c,a,null))};return _.provideTypeHierarchySubtypes?_.provideTypeHierarchySubtypes(C,E,s):s(C,E)}}Y.TypeHierarchyFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,n.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(C,E){const[L,_]=this.getRegistration(E,C.typeHierarchyProvider);!L||!_||this.register({id:L,registerOptions:_})}registerLanguageProvider(C){const E=this._client,L=new S(E);return[d.languages.registerTypeHierarchyProvider(E.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},8787:(Dt,Y,e)=>{"use strict";var d=e(328).default;Object.defineProperty(Y,"__esModule",{value:!0}),Y.forEach=Y.mapAsync=Y.map=Y.clearTestMode=Y.setTestMode=Y.Semaphore=Y.Delayer=void 0;const n=e(85055);Y.Delayer=class l{constructor(u){this.defaultDelay=u,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(u,g=this.defaultDelay){return this.task=u,g>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(b=>{this.onSuccess=b}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var b=this.task();return this.task=void 0,b})),(g>=0||void 0===this.timeout)&&(this.timeout=(0,n.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},g>=0?g:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let u=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,u}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},Y.Semaphore=class S{constructor(u=1){if(u<=0)throw new Error("Capacity must be greater than 0");this._capacity=u,this._active=0,this._waiting=[]}lock(u){return new Promise((g,b)=>{this._waiting.push({thunk:u,resolve:g,reject:b}),this.runNext()})}get active(){return this._active}runNext(){0===this._waiting.length||this._active===this._capacity||(0,n.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const u=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const g=u.thunk();g instanceof Promise?g.then(b=>{this._active--,u.resolve(b),this.runNext()},b=>{this._active--,u.reject(b),this.runNext()}):(this._active--,u.resolve(g),this.runNext())}catch(g){this._active--,u.reject(g),this.runNext()}}};let v=!1;Y.setTestMode=function T(){v=!0},Y.clearTestMode=function C(){v=!1};class L{constructor(u=15){this.yieldAfter=!0===v?Math.max(u,2):Math.max(u,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const u=Date.now()-this.startTime,g=Math.max(0,this.yieldAfter-u);if(this.total+=this.counter,this.counter=0,u>=this.yieldAfter||g<=1)return this.counterInterval=1,this.total=0,!0;switch(u){case 0:case 1:this.counterInterval=2*this.total}}return!1}}function s(){return(s=d(function*(p,u,g,b){if(0===p.length)return[];const y=new Array(p.length),w=new L(b?.yieldAfter);function D(P){w.start();for(let O=P;O<p.length;O++)if(y[O]=u(p[O]),w.shouldYield())return b?.yieldCallback&&b.yieldCallback(),O+1;return-1}let x=D(0);for(;-1!==x&&(void 0===g||!g.isCancellationRequested);)x=yield new Promise(P=>{(0,n.RAL)().timer.setImmediate(()=>{P(D(x))})});return y})).apply(this,arguments)}function c(){return c=d(function*(p,u,g,b){if(0===p.length)return[];const y=new Array(p.length),w=new L(b?.yieldAfter);function D(O){return x.apply(this,arguments)}function x(){return(x=d(function*(O){w.start();for(let V=O;V<p.length;V++)if(y[V]=yield u(p[V],g),w.shouldYield())return b?.yieldCallback&&b.yieldCallback(),V+1;return-1})).apply(this,arguments)}let P=yield D(0);for(;-1!==P&&(void 0===g||!g.isCancellationRequested);)P=yield new Promise(O=>{(0,n.RAL)().timer.setImmediate(()=>{O(D(P))})});return y}),c.apply(this,arguments)}function a(){return(a=d(function*(p,u,g,b){if(0===p.length)return;const y=new L(b?.yieldAfter);function w(x){y.start();for(let P=x;P<p.length;P++)if(u(p[P]),y.shouldYield())return b?.yieldCallback&&b.yieldCallback(),P+1;return-1}let D=w(0);for(;-1!==D&&(void 0===g||!g.isCancellationRequested);)D=yield new Promise(x=>{(0,n.RAL)().timer.setImmediate(()=>{x(w(D))})})})).apply(this,arguments)}Y.map=function _(p,u,g,b){return s.apply(this,arguments)},Y.mapAsync=function m(p,u,g,b){return c.apply(this,arguments)},Y.forEach=function t(p,u,g,b){return a.apply(this,arguments)}},81072:(Dt,Y)=>{"use strict";function d(_){return"string"==typeof _||_ instanceof String}function S(_){return"function"==typeof _}function v(_){return Array.isArray(_)}function E(_){return _&&S(_.then)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.asPromise=Y.thenable=Y.typedArray=Y.stringArray=Y.array=Y.func=Y.error=Y.number=Y.string=Y.boolean=void 0,Y.boolean=function e(_){return!0===_||!1===_},Y.string=d,Y.number=function n(_){return"number"==typeof _||_ instanceof Number},Y.error=function l(_){return _ instanceof Error},Y.func=S,Y.array=v,Y.stringArray=function T(_){return v(_)&&_.every(s=>d(s))},Y.typedArray=function C(_,s){return Array.isArray(_)&&_.every(s)},Y.thenable=E,Y.asPromise=function L(_){return _ instanceof Promise?_:E(_)?new Promise((s,m)=>{_.then(c=>s(c),c=>m(c))}):Promise.resolve(_)}},2766:(Dt,Y)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.generateUuid=Y.parse=Y.isUUID=Y.v4=Y.empty=void 0;class e{constructor(E){this._value=E}asHex(){return this._value}equals(E){return this.asHex()===E.asHex()}}let d=(()=>{class C extends e{constructor(){super([C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),"-",C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),"-","4",C._randomHex(),C._randomHex(),C._randomHex(),"-",C._oneOf(C._timeHighBits),C._randomHex(),C._randomHex(),C._randomHex(),"-",C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex()].join(""))}static _oneOf(L){return L[Math.floor(L.length*Math.random())]}static _randomHex(){return C._oneOf(C._chars)}}return C._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],C._timeHighBits=["8","9","a","b"],C})();function n(){return new d}Y.empty=new e("00000000-0000-0000-0000-000000000000"),Y.v4=n;const l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function S(C){return l.test(C)}Y.isUUID=S,Y.parse=function v(C){if(!S(C))throw new Error("invalid uuid");return new e(C)},Y.generateUuid=function T(){return n().asHex()}},91433:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.WorkspaceFoldersFeature=Y.arrayDiff=void 0;const d=e(2766),n=e(78708),l=e(85055);function S(C,E){if(void 0!==C)return C[E]}function v(C,E){return C.filter(L=>E.indexOf(L)<0)}Y.arrayDiff=v,Y.WorkspaceFoldersFeature=class T{constructor(E){this._client=E,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return l.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(E){const L=n.workspace.workspaceFolders;this.initializeWithFolders(L),E.workspaceFolders=void 0===L?null:L.map(_=>this.asProtocol(_))}initializeWithFolders(E){this._initialFolders=E}fillClientCapabilities(E){E.workspace=E.workspace||{},E.workspace.workspaceFolders=!0}initialize(E){const L=this._client;L.onRequest(l.WorkspaceFoldersRequest.type,m=>{const c=()=>{const a=n.workspace.workspaceFolders;return void 0===a?null:a.map(u=>this.asProtocol(u))},t=L.middleware.workspace;return t&&t.workspaceFolders?t.workspaceFolders(m,c):c()});const _=S(S(S(E,"workspace"),"workspaceFolders"),"changeNotifications");let s;"string"==typeof _?s=_:!0===_&&(s=d.generateUuid()),s&&this.register({id:s,registerOptions:void 0})}sendInitialEvent(E){let L;if(this._initialFolders&&E){const _=v(this._initialFolders,E),s=v(E,this._initialFolders);(s.length>0||_.length>0)&&(L=this.doSendEvent(s,_))}else this._initialFolders?L=this.doSendEvent([],this._initialFolders):E&&(L=this.doSendEvent(E,[]));void 0!==L&&L.catch(_=>{this._client.error(`Sending notification ${l.DidChangeWorkspaceFoldersNotification.type.method} failed`,_)})}doSendEvent(E,L){let _={event:{added:E.map(s=>this.asProtocol(s)),removed:L.map(s=>this.asProtocol(s))}};return this._client.sendNotification(l.DidChangeWorkspaceFoldersNotification.type,_)}register(E){let L=E.id,_=this._client,s=n.workspace.onDidChangeWorkspaceFolders(m=>{let c=p=>this.doSendEvent(p.added,p.removed),t=_.middleware.workspace;(t&&t.didChangeWorkspaceFolders?t.didChangeWorkspaceFolders(m,c):c(m)).catch(p=>{this._client.error(`Sending notification ${l.DidChangeWorkspaceFoldersNotification.type.method} failed`,p)})});this._listeners.set(L,s),this.sendInitialEvent(n.workspace.workspaceFolders)}unregister(E){let L=this._listeners.get(E);void 0!==L&&(this._listeners.delete(E),L.dispose())}dispose(){for(let E of this._listeners.values())E.dispose();this._listeners.clear()}asProtocol(E){return void 0===E?null:{uri:this._client.code2ProtocolConverter.asUri(E.uri),name:E.name}}}},97837:(Dt,Y,e)=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0}),Y.WorkspaceSymbolFeature=void 0;const d=e(78708),n=e(85055),l=e(37062),S=e(8203),v=e(2766);Y.WorkspaceSymbolFeature=class T extends l.WorkspaceFeature{constructor(E){super(E,n.WorkspaceSymbolRequest.type)}fillClientCapabilities(E){let L=(0,l.ensure)((0,l.ensure)(E,"workspace"),"symbol");L.dynamicRegistration=!0,L.symbolKind={valueSet:S.SupportedSymbolKinds},L.tagSupport={valueSet:S.SupportedSymbolTags},L.resolveSupport={properties:["location.range"]}}initialize(E){!E.workspaceSymbolProvider||this.register({id:v.generateUuid(),registerOptions:!0===E.workspaceSymbolProvider?{workDoneProgress:!1}:E.workspaceSymbolProvider})}registerLanguageProvider(E){const L={provideWorkspaceSymbols:(_,s)=>{const m=this._client,c=(a,p)=>m.sendRequest(n.WorkspaceSymbolRequest.type,{query:a},p).then(u=>p.isCancellationRequested?null:m.protocol2CodeConverter.asSymbolInformations(u,p),u=>m.handleFailedRequest(n.WorkspaceSymbolRequest.type,p,u,null)),t=m.middleware;return t.provideWorkspaceSymbols?t.provideWorkspaceSymbols(_,s,c):c(_,s)},resolveWorkspaceSymbol:!0===E.resolveProvider?(_,s)=>{const m=this._client,c=(a,p)=>m.sendRequest(n.WorkspaceSymbolResolveRequest.type,m.code2ProtocolConverter.asWorkspaceSymbol(a),p).then(u=>p.isCancellationRequested?null:m.protocol2CodeConverter.asSymbolInformation(u),u=>m.handleFailedRequest(n.WorkspaceSymbolResolveRequest.type,p,u,null)),t=m.middleware;return t.resolveWorkspaceSymbol?t.resolveWorkspaceSymbol(_,s,c):c(_,s)}:void 0};return[d.languages.registerWorkspaceSymbolProvider(L),L]}}},4938:(Dt,Y,e)=>{"use strict";Dt.exports=e(85055)},46057:function(Dt,Y,e){"use strict";var d=this&&this.__createBinding||(Object.create?function(v,T,C,E){void 0===E&&(E=C);var L=Object.getOwnPropertyDescriptor(T,C);(!L||("get"in L?!T.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(v,E,L)}:function(v,T,C,E){void 0===E&&(E=C),v[E]=T[C]}),n=this&&this.__exportStar||function(v,T){for(var C in v)"default"!==C&&!Object.prototype.hasOwnProperty.call(T,C)&&d(T,v,C)};Object.defineProperty(Y,"__esModule",{value:!0}),Y.LSPErrorCodes=Y.createProtocolConnection=void 0,n(e(34154),Y),n(e(20479),Y),n(e(41500),Y),n(e(25561),Y);var v,l=e(27360);Object.defineProperty(Y,"createProtocolConnection",{enumerable:!0,get:function(){return l.createProtocolConnection}}),(v=Y.LSPErrorCodes||(Y.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,v.RequestFailed=-32803,v.ServerCancelled=-32802,v.ContentModified=-32801,v.RequestCancelled=-32800,v.lspReservedErrorRangeEnd=-32800},27651:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.6;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n",""]);const T=v},38022:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}",""]);const T=v},91169:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown.disabled {\n\tcursor: default;\n}\n\n.monaco-button-dropdown > .monaco-button:focus {\n\toutline-offset: -1px !important;\n}\n\n.monaco-button-dropdown.disabled > .monaco-button.disabled,\n.monaco-button-dropdown.disabled > .monaco-button.disabled:focus,\n.monaco-button-dropdown.disabled > .monaco-button-dropdown-separator {\n\topacity: 0.4 !important;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-right-width: 0 !important;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator {\n\tpadding: 4px 0;\n\tcursor: default;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator > div {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-dropdown-button {\n\tborder-left-width: 0 !important;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n",""]);const T=v},21756:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n",""]);const T=v},72981:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: "codicon";\n\tfont-display: block;\n\tsrc: url(./codicon.ttf) format("truetype");\n}\n\n.codicon[class*=\'codicon-\'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n',""]);const T=v},99166:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tcolor: inherit;\n}\n",""]);const T=v},12003:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n",""]);const T=v},35437:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const T=v},4316:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n\n.monaco-findInput {\n\tposition: relative;\n}\n\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls,\n.hc-light .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n\n.monaco-findInput.highlight-1 .controls,\n.hc-light .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n",""]);const T=v},70994:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n",""]);const T=v},64047:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n",""]);const T=v},4260:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n",""]);const T=v},30333:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n",""]);const T=v},87253:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Filter */\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n",""]);const T=v},26390:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n",""]);const T=v},71689:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n",""]);const T=v},43226:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n",""]);const T=v},43586:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n",""]);const T=v},9740:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n",""]);const T=v},95957:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n',""]);const T=v},78322:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-toggle {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-toggle:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-toggle,\n.hc-light .monaco-custom-toggle {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tbackground: none;\n}\n\n.monaco-custom-toggle.monaco-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n.monaco-custom-toggle.monaco-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n",""]);const T=v},19114:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n\n.monaco-tree-type-filter {\n\tposition: absolute;\n\ttop: 0;\n\tdisplay: flex;\n\tpadding: 3px;\n\ttransition: top 0.3s;\n\tmax-width: 200px;\n\tz-index: 100;\n\tmargin: 0 6px;\n}\n\n.monaco-tree-type-filter.disabled {\n\ttop: -40px;\n}\n\n.monaco-tree-type-filter-grab {\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: grab;\n\tmargin-right: 2px;\n}\n\n.monaco-tree-type-filter-grab.grabbing {\n\tcursor: grabbing;\n}\n\n.monaco-tree-type-filter-input {\n\tflex: 1;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox {\n\theight: 23px;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .input,\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding: 2px 4px;\n}\n\n.monaco-tree-type-filter-input .monaco-findInput > .controls {\n\ttop: 2px;\n}\n\n.monaco-tree-type-filter-actionbar {\n\tmargin-left: 4px;\n}\n\n.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label {\n\tpadding: 2px;\n}\n",""]);const T=v},41015:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2550;\n\tleft: 50%;\n\tmargin-left: -300px;\n\t-webkit-app-region: no-drag;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n\tpadding: 0px 1px 1px 1px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n",""]);const T=v},31082:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n",""]);const T=v},11625:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .blockDecorations-container {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .blockDecorations-block {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const T=v},69025:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n",""]);const T=v},83772:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}",""]);const T=v},30181:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n",""]);const T=v},74563:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const T=v},17609:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n",""]);const T=v},43475:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor.enable-user-select {\n\tuser-select: initial;\n\t-webkit-user-select: initial;\n\t-ms-user-select: initial;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n",""]);const T=v},3710:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}",""]);const T=v},80025:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""]);const T=v},47679:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n\n/* 0.5s fade in/out for the minimap */\n.minimap.autohide {\n\topacity: 0.0;\n\ttransition: opacity 0.5s;\n}\n.minimap.autohide:hover {\n\topacity: 1.0;\n}\n",""]);const T=v},11724:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""]);const T=v},4439:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}",""]);const T=v},16858:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}",""]);const T=v},5826:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n\n.monaco-editor.hc-light .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-light .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-light .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-light .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""]);const T=v},51595:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""]);const T=v},9324:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light\t.scrollbar { background: none; }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n.modified-in-monaco-diff-editor.hc-light\t.slider.active { background: none; }\n\n/* ---------- Diff ---------- */\n\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign,\n.monaco-editor.hc-light .insert-sign,\n.monaco-diff-editor.hc-light .insert-sign,\n.monaco-editor.hc-light .delete-sign,\n.monaco-diff-editor.hc-light .delete-sign {\n\topacity: 1;\n}\n\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n\n.monaco-editor .arrow-revert-change {\n\tz-index: 10;\n\tposition: absolute;\n}\n\n.monaco-editor .arrow-revert-change:hover {\n\tcursor: pointer;\n}\n\n/* ---------- Inline Diff ---------- */\n\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n",""]);const T=v},55704:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n",""]);const T=v},89009:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n/* I am not a big fan of this rule */\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n",""]);const T=v},22499:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n",""]);const T=v},38653:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n",""]);const T=v},38393:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n",""]);const T=v},47538:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codeActionMenuWidget {\n\tpadding: 8px 0px 8px 0px;\n\toverflow: auto;\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n\tz-index: 40;\n\tdisplay: block;\n\t/* flex-direction: column;\n\tflex: 0 1 auto; */\n\twidth: 100%;\n\tborder-width: 0px;\n\tborder-color: none;\n\tbackground-color: var(--vscode-menu-background);\n\tcolor: var(--vscode-menu-foreground);\n\tbox-shadow: rgb(0,0,0, 16%) 0px 2px 8px;\n}\n\n.codeActionMenuWidget .monaco-list:not(.element-focused):focus:before {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 5; /* make sure we are on top of the tree items */\n\tcontent: "";\n\tpointer-events: none; /* enable click through */\n\toutline: 0px solid !important; /* we still need to handle the empty tree or no focus item case */\n\toutline-width: 0px !important;\n\toutline-style: none !important;\n\toutline-offset: 0px !important;\n}\n\n.codeActionMenuWidget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tborder: none !important;\n\tborder-width: 0px !important;\n}\n\n/* .codeActionMenuWidget .monaco-list:not(.element-focus) {\n\tborder: none !important;\n\tborder-width: 0px !important;\n} */\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element .monaco-list-rows {\n\theight: 100% !important;\n}\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element {\n\toverflow: visible;\n}\n/** Styles for each row in the list element **/\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:not(.separator) {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding: 0px 26px 0px 26px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n\twidth: 100%;\n}\n\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:hover:not(.option-disabled),\n.codeActionMenuWidget .monaco-list .moncao-list-row.focused:not(.option-disabled) {\n\tcolor: var(--vscode-menu-selectionForeground) !important;\n\tbackground-color: var(--vscode-menu-selectionBackground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .option-disabled,\n.codeActionMenuWidget .monaco-list .option-disabled .focused {\n\tpointer-events: none;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tcolor: var(--vscode-disabledForeground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .separator {\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 0px !important;\n\t/* padding: 30px; */\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tborder-radius: 0;\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n',""]);const T=v},75462:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration>span,\n.monaco-editor .codelens-decoration>a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration>a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration>a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% {\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n",""]);const T=v},28837:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration,\n.hc-light .colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n',""]);const T=v},1158:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target,\n.monaco-editor.hc-light .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines,\n.monaco-editor.hc-light.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines,\n.monaco-editor.hc-light.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}\n",""]);const T=v},74777:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .find-widget {\n\ttransition: transform 0ms linear;\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\tcolor: var(--vscode-disabledForeground);\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n",""]);const T=v},75697:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n\n',""]);const T=v},37367:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n",""]);const T=v},60464:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}",""]);const T=v},78635:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n",""]);const T=v},64272:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n\n.monaco-editor .inline-completion-text-to-replace {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n",""]);const T=v},98061:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n",""]);const T=v},80572:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message,\n.monaco-editor.hc-light .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n",""]);const T=v},7111:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n\tcursor: default;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs a:hover {\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs  .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n",""]);const T=v},73608:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n",""]);const T=v},47479:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n",""]);const T=v},88674:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n",""]);const T=v},33955:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details,\n.monaco-editor.hc-light .suggest-widget,\n.monaco-editor.hc-light .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const T=v},77459:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n",""]);const T=v},60716:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbackground-color: var(--vscode-editorUnicodeHighlight-background);\n\tbox-sizing: border-box;\n}\n",""]);const T=v},21410:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n\n\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n",""]);const T=v},80318:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}",""]);const T=v},3656:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}',""]);const T=v},41709:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const T=v},25460:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0F4A85;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.hc-light .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px #0F4A85;\n\tbox-shadow: none;\n\tcolor: #292929;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n",""]);const T=v},66793:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n/* The hc-black theme is already high contrast optimized */\n.monaco-editor.hc-black,\n.monaco-editor.hc-light {\n\t-ms-high-contrast-adjust: none;\n}\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n',""]);const T=v},45355:(Dt,Y,e)=>{"use strict";e.d(Y,{Z:()=>T});var d=e(35887),n=e.n(d),l=e(22521),v=e.n(l)()(n());v.push([Dt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const T=v},21955:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{CancellationTokenSource:()=>ba,Emitter:()=>es,KeyCode:()=>Cr,KeyMod:()=>Or,MarkerSeverity:()=>ya,MarkerTag:()=>aa,Position:()=>Ui,Range:()=>Va,Selection:()=>Jo,SelectionDirection:()=>Xs,Token:()=>da,Uri:()=>la,editor:()=>Bo,languages:()=>br});var d=e(54862),n=e(48885),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),t=e.n(c),a=e(66793),p={};p.styleTagTransform=t(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p);var b=e(80142),y=e(73879),w=e(15057),D=e(33745),x=e(94772),P=e(3778),O=e(6276),V=e(98570);const H={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class z extends b.JT{constructor(De,Ge={}){super(),this._onDidUpdate=this._register(new P.Q5),this._editor=De,this._options=O.jB(Ge,H,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(xt=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(xt=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(De){this.ranges=[],De&&De.forEach(Ge=>{!this._options.ignoreCharChanges&&Ge.charChanges?Ge.charChanges.forEach(xt=>{this.ranges.push({rhs:!0,range:new V.e(xt.modifiedStartLineNumber,xt.modifiedStartColumn,xt.modifiedEndLineNumber,xt.modifiedEndColumn)})}):this.ranges.push(0===Ge.modifiedEndLineNumber?{rhs:!0,range:new V.e(Ge.modifiedStartLineNumber,1,Ge.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new V.e(Ge.modifiedStartLineNumber,1,Ge.modifiedEndLineNumber+1,1)})}),this.ranges.sort((Ge,xt)=>V.e.compareRangesUsingStarts(Ge.range,xt.range)),this._onDidUpdate.fire(this)}_initIdx(De){let Ge=!1;const xt=this._editor.getPosition();if(xt){for(let Jt=0,pn=this.ranges.length;Jt<pn&&!Ge;Jt++)xt.isBeforeOrEqual(this.ranges[Jt].range.getStartPosition())&&(this.nextIdx=Jt+(De?0:-1),Ge=!0);Ge||(this.nextIdx=De?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(De,Ge){if(x.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(De):De?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const xt=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const Jt=xt.range.getStartPosition();this._editor.setPosition(Jt),this._editor.revealRangeInCenter(xt.range,Ge)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(De=0){this._move(!0,De)}previous(De=0){this._move(!1,De)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var k=e(44120),F=e(22859),j=e(47629),K=e(45337),U=e(94911),ne=e(88086),N=e(45358),W=e(59602),Z=e(30910),ge=e(72715);class we extends Z.Q8{constructor(De,Ge,xt){super(De,xt.keepIdleModels||!1,xt.label,Ge),this._foreignModuleId=xt.moduleId,this._foreignModuleCreateData=xt.createData||null,this._foreignModuleHost=xt.host||null,this._foreignProxy=null}fhr(De,Ge){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[De])return Promise.reject(new Error("Missing method "+De+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[De].apply(this._foreignModuleHost,Ge))}catch(xt){return Promise.reject(xt)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(De=>{const Ge=this._foreignModuleHost?ge.$E(this._foreignModuleHost):[];return De.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,Ge).then(xt=>{this._foreignModuleCreateData=null;const Jt=(On,Xn)=>De.fmr(On,Xn),pn=(On,Xn)=>function(){const Qn=Array.prototype.slice.call(arguments,0);return Xn(On,Qn)},zt={};for(const On of xt)zt[On]=pn(On,Jt);return zt})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(De){return this._withSyncedResources(De).then(Ge=>this.getProxy())}}var Ee=e(98104),xe=e(71513),Ne=e(27131),oe=e(38232);function Ie(Vt){return!function Se(Vt){return Array.isArray(Vt)}(Vt)}function me(Vt){return"string"==typeof Vt}function Me(Vt){return!me(Vt)}function de(Vt){return!Vt}function ke(Vt,De){return Vt.ignoreCase&&De?De.toLowerCase():De}function Ue(Vt){return Vt.replace(/[&<>'"_]/g,"-")}function ze(Vt,De){console.log(`${Vt.languageId}: ${De}`)}function ce(Vt,De){return new Error(`${Vt.languageId}: ${De}`)}function Ve(Vt,De,Ge,xt,Jt){let zt=null;return De.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(On,Xn,Qn,qn,kn,xi,Ti,ki,ji){return de(Qn)?de(qn)?!de(kn)&&kn<xt.length?ke(Vt,xt[kn]):!de(Ti)&&Vt&&"string"==typeof Vt[Ti]?Vt[Ti]:(null===zt&&(zt=Jt.split("."),zt.unshift(Jt)),!de(xi)&&xi<zt.length?ke(Vt,zt[xi]):""):ke(Vt,Ge):"$"})}function tt(Vt,De){let Ge=De;for(;Ge&&Ge.length>0;){const xt=Vt.tokenizer[Ge];if(xt)return xt;const Jt=Ge.lastIndexOf(".");Ge=Jt<0?null:Ge.substr(0,Jt)}return null}var Lt=e(94667);class he{constructor(De){this._maxCacheDepth=De,this._entries=Object.create(null)}static create(De,Ge){return this._INSTANCE.create(De,Ge)}create(De,Ge){if(null!==De&&De.depth>=this._maxCacheDepth)return new le(De,Ge);let xt=le.getStackElementId(De);xt.length>0&&(xt+="|"),xt+=Ge;let Jt=this._entries[xt];return Jt||(Jt=new le(De,Ge),this._entries[xt]=Jt,Jt)}}he._INSTANCE=new he(5);class le{constructor(De,Ge){this.parent=De,this.state=Ge,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(De){let Ge="";for(;null!==De;)Ge.length>0&&(Ge+="|"),Ge+=De.state,De=De.parent;return Ge}static _equals(De,Ge){for(;null!==De&&null!==Ge;){if(De===Ge)return!0;if(De.state!==Ge.state)return!1;De=De.parent,Ge=Ge.parent}return null===De&&null===Ge}equals(De){return le._equals(this,De)}push(De){return he.create(this,De)}pop(){return this.parent}popall(){let De=this;for(;De.parent;)De=De.parent;return De}switchTo(De){return he.create(this.parent,De)}}class Q{constructor(De,Ge){this.languageId=De,this.state=Ge}equals(De){return this.languageId===De.languageId&&this.state.equals(De.state)}clone(){return this.state.clone()===this.state?this:new Q(this.languageId,this.state)}}class Ce{constructor(De){this._maxCacheDepth=De,this._entries=Object.create(null)}static create(De,Ge){return this._INSTANCE.create(De,Ge)}create(De,Ge){if(null!==Ge)return new Pe(De,Ge);if(null!==De&&De.depth>=this._maxCacheDepth)return new Pe(De,Ge);const xt=le.getStackElementId(De);let Jt=this._entries[xt];return Jt||(Jt=new Pe(De,null),this._entries[xt]=Jt,Jt)}}Ce._INSTANCE=new Ce(5);class Pe{constructor(De,Ge){this.stack=De,this.embeddedLanguageData=Ge}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Ce.create(this.stack,this.embeddedLanguageData)}equals(De){return!!(De instanceof Pe&&this.stack.equals(De.stack))&&(null===this.embeddedLanguageData&&null===De.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==De.embeddedLanguageData&&this.embeddedLanguageData.equals(De.embeddedLanguageData))}}class dt{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(De){this._languageId=De}emit(De,Ge){this._lastTokenType===Ge&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=Ge,this._lastTokenLanguage=this._languageId,this._tokens.push(new K.WU(De,Ge,this._languageId)))}nestedLanguageTokenize(De,Ge,xt,Jt){const pn=xt.languageId,zt=xt.state,On=K.RW.get(pn);if(!On)return this.enterLanguage(pn),this.emit(Jt,""),zt;const Xn=On.tokenize(De,Ge,zt);if(0!==Jt)for(const Qn of Xn.tokens)this._tokens.push(new K.WU(Qn.offset+Jt,Qn.type,Qn.language));else this._tokens=this._tokens.concat(Xn.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Xn.endState}finalize(De){return new K.hG(this._tokens,De)}}class st{constructor(De,Ge){this._languageService=De,this._theme=Ge,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(De){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(De)}emit(De,Ge){const xt=this._theme.match(this._currentLanguageId,Ge);this._lastTokenMetadata!==xt&&(this._lastTokenMetadata=xt,this._tokens.push(De),this._tokens.push(xt))}static _merge(De,Ge,xt){const Jt=null!==De?De.length:0,pn=Ge.length,zt=null!==xt?xt.length:0;if(0===Jt&&0===pn&&0===zt)return new Uint32Array(0);if(0===Jt&&0===pn)return xt;if(0===pn&&0===zt)return De;const On=new Uint32Array(Jt+pn+zt);null!==De&&On.set(De);for(let Xn=0;Xn<pn;Xn++)On[Jt+Xn]=Ge[Xn];return null!==xt&&On.set(xt,Jt+pn),On}nestedLanguageTokenize(De,Ge,xt,Jt){const pn=xt.languageId,zt=xt.state,On=K.RW.get(pn);if(!On)return this.enterLanguage(pn),this.emit(Jt,""),zt;const Xn=On.tokenizeEncoded(De,Ge,zt);if(0!==Jt)for(let Qn=0,qn=Xn.tokens.length;Qn<qn;Qn+=2)Xn.tokens[Qn]+=Jt;return this._prependTokens=st._merge(this._prependTokens,this._tokens,Xn.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Xn.endState}finalize(De){return new K.DI(st._merge(this._prependTokens,this._tokens,null),De)}}let qe=class Bc{constructor(De,Ge,xt,Jt,pn){this._configurationService=pn,this._languageService=De,this._standaloneThemeService=Ge,this._languageId=xt,this._lexer=Jt,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let zt=!1;this._tokenizationRegistryListener=K.RW.onDidChange(On=>{if(zt)return;let Xn=!1;for(let Qn=0,qn=On.changedLanguages.length;Qn<qn;Qn++)if(this._embeddedLanguages[On.changedLanguages[Qn]]){Xn=!0;break}Xn&&(zt=!0,K.RW.fire([this._languageId]),zt=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(On=>{On.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const De=[];for(const Ge in this._embeddedLanguages){const xt=K.RW.get(Ge);if(xt){if(xt instanceof Bc){const Jt=xt.getLoadStatus();!1===Jt.loaded&&De.push(Jt.promise)}}else K.RW.isResolved(Ge)||De.push(K.RW.getOrCreate(Ge))}return 0===De.length?{loaded:!0}:{loaded:!1,promise:Promise.all(De).then(Ge=>{})}}getInitialState(){const De=he.create(null,this._lexer.start);return Ce.create(De,null)}tokenize(De,Ge,xt){if(De.length>=this._maxTokenizationLineLength)return(0,ne.Ri)(this._languageId,xt);const Jt=new dt,pn=this._tokenize(De,Ge,xt,Jt);return Jt.finalize(pn)}tokenizeEncoded(De,Ge,xt){if(De.length>=this._maxTokenizationLineLength)return(0,ne.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),xt);const Jt=new st(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),pn=this._tokenize(De,Ge,xt,Jt);return Jt.finalize(pn)}_tokenize(De,Ge,xt,Jt){return xt.embeddedLanguageData?this._nestedTokenize(De,Ge,xt,0,Jt):this._myTokenize(De,Ge,xt,0,Jt)}_findLeavingNestedLanguageOffset(De,Ge){let xt=this._lexer.tokenizer[Ge.stack.state];if(!xt&&(xt=tt(this._lexer,Ge.stack.state),!xt))throw ce(this._lexer,"tokenizer state is not defined: "+Ge.stack.state);let Jt=-1,pn=!1;for(const zt of xt){if(!Me(zt.action)||"@pop"!==zt.action.nextEmbedded)continue;pn=!0;let On=zt.regex;const Xn=zt.regex.source;if("^(?:"===Xn.substr(0,4)&&")"===Xn.substr(Xn.length-1,1)){const qn=(On.ignoreCase?"i":"")+(On.unicode?"u":"");On=new RegExp(Xn.substr(4,Xn.length-5),qn)}const Qn=De.search(On);-1===Qn||0!==Qn&&zt.matchOnlyAtLineStart||(-1===Jt||Qn<Jt)&&(Jt=Qn)}if(!pn)throw ce(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+Ge.stack.state);return Jt}_nestedTokenize(De,Ge,xt,Jt,pn){const zt=this._findLeavingNestedLanguageOffset(De,xt);if(-1===zt){const Qn=pn.nestedLanguageTokenize(De,Ge,xt.embeddedLanguageData,Jt);return Ce.create(xt.stack,new Q(xt.embeddedLanguageData.languageId,Qn))}const On=De.substring(0,zt);On.length>0&&pn.nestedLanguageTokenize(On,!1,xt.embeddedLanguageData,Jt);const Xn=De.substring(zt);return this._myTokenize(Xn,Ge,xt,Jt+zt,pn)}_safeRuleName(De){return De?De.name:"(unknown)"}_myTokenize(De,Ge,xt,Jt,pn){pn.enterLanguage(this._languageId);const zt=De.length,On=Ge&&this._lexer.includeLF?De+"\n":De,Xn=On.length;let Qn=xt.embeddedLanguageData,qn=xt.stack,kn=0,xi=null,Ti=!0;for(;Ti||kn<Xn;){const ki=kn,ji=qn.depth,co=xi?xi.groups.length:0,bo=qn.state;let Lo=null,yo=null,oo=null,Vo=null,No=null;if(xi){Lo=xi.matches;const vo=xi.groups.shift();yo=vo.matched,oo=vo.action,Vo=xi.rule,0===xi.groups.length&&(xi=null)}else{if(!Ti&&kn>=Xn)break;Ti=!1;let vo=this._lexer.tokenizer[bo];if(!vo&&(vo=tt(this._lexer,bo),!vo))throw ce(this._lexer,"tokenizer state is not defined: "+bo);const ko=On.substr(kn);for(const Wo of vo)if((0===kn||!Wo.matchOnlyAtLineStart)&&(Lo=ko.match(Wo.regex),Lo)){yo=Lo[0],oo=Wo.action;break}}if(Lo||(Lo=[""],yo=""),oo||(kn<Xn&&(Lo=[On.charAt(kn)],yo=Lo[0]),oo=this._lexer.defaultToken),null===yo)break;for(kn+=yo.length;Ie(oo)&&Me(oo)&&oo.test;)oo=oo.test(yo,Lo,bo,kn===Xn);let po=null;if("string"==typeof oo||Array.isArray(oo))po=oo;else if(oo.group)po=oo.group;else if(null!=oo.token){if(po=oo.tokenSubst?Ve(this._lexer,oo.token,yo,Lo,bo):oo.token,oo.nextEmbedded)if("@pop"===oo.nextEmbedded){if(!Qn)throw ce(this._lexer,"cannot pop embedded language if not inside one");Qn=null}else{if(Qn)throw ce(this._lexer,"cannot enter embedded language from within an embedded language");No=Ve(this._lexer,oo.nextEmbedded,yo,Lo,bo)}if(oo.goBack&&(kn=Math.max(0,kn-oo.goBack)),oo.switchTo&&"string"==typeof oo.switchTo){let vo=Ve(this._lexer,oo.switchTo,yo,Lo,bo);if("@"===vo[0]&&(vo=vo.substr(1)),!tt(this._lexer,vo))throw ce(this._lexer,"trying to switch to a state '"+vo+"' that is undefined in rule: "+this._safeRuleName(Vo));qn=qn.switchTo(vo)}else{if(oo.transform&&"function"==typeof oo.transform)throw ce(this._lexer,"action.transform not supported");if(oo.next)if("@push"===oo.next){if(qn.depth>=this._lexer.maxStack)throw ce(this._lexer,"maximum tokenizer stack size reached: ["+qn.state+","+qn.parent.state+",...]");qn=qn.push(bo)}else if("@pop"===oo.next){if(qn.depth<=1)throw ce(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Vo));qn=qn.pop()}else if("@popall"===oo.next)qn=qn.popall();else{let vo=Ve(this._lexer,oo.next,yo,Lo,bo);if("@"===vo[0]&&(vo=vo.substr(1)),!tt(this._lexer,vo))throw ce(this._lexer,"trying to set a next state '"+vo+"' that is undefined in rule: "+this._safeRuleName(Vo));qn=qn.push(vo)}}oo.log&&"string"==typeof oo.log&&ze(this._lexer,this._lexer.languageId+": "+Ve(this._lexer,oo.log,yo,Lo,bo))}if(null===po)throw ce(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Vo));const Ji=vo=>{const ko=this._languageService.getLanguageIdByLanguageName(vo)||this._languageService.getLanguageIdByMimeType(vo)||vo,Wo=this._getNestedEmbeddedLanguageData(ko);if(kn<Xn){const qo=De.substr(kn);return this._nestedTokenize(qo,Ge,Ce.create(qn,Wo),Jt+kn,pn)}return Ce.create(qn,Wo)};if(Array.isArray(po)){if(xi&&xi.groups.length>0)throw ce(this._lexer,"groups cannot be nested: "+this._safeRuleName(Vo));if(Lo.length!==po.length+1)throw ce(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Vo));let vo=0;for(let ko=1;ko<Lo.length;ko++)vo+=Lo[ko].length;if(vo!==yo.length)throw ce(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Vo));xi={rule:Vo,matches:Lo,groups:[]};for(let ko=0;ko<po.length;ko++)xi.groups[ko]={action:po[ko],matched:Lo[ko+1]};kn-=yo.length}else{{if("@rematch"===po&&(kn-=yo.length,yo="",Lo=null,po="",null!==No))return Ji(No);if(0===yo.length){if(0===Xn||ji!==qn.depth||bo!==qn.state||(xi?xi.groups.length:0)!==co)continue;throw ce(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Vo))}let vo=null;if(me(po)&&0===po.indexOf("@brackets")){const ko=po.substr(9),Wo=Qe(this._lexer,yo);if(!Wo)throw ce(this._lexer,"@brackets token returned but no bracket defined as: "+yo);vo=Ue(Wo.token+ko)}else vo=Ue(""===po?"":po+this._lexer.tokenPostfix);ki<zt&&pn.emit(ki+Jt,vo)}if(null!==No)return Ji(No)}}return Ce.create(qn,Qn)}_getNestedEmbeddedLanguageData(De){if(!this._languageService.isRegisteredLanguageId(De))return new Q(De,ne.TJ);De!==this._languageId&&(K.RW.getOrCreate(De),this._embeddedLanguages[De]=!0);const Ge=K.RW.get(De);return new Q(De,Ge?Ge.getInitialState():ne.TJ)}};var De;function Qe(Vt,De){if(!De)return null;De=ke(Vt,De);const Ge=Vt.brackets;for(const xt of Ge){if(xt.open===De)return{token:xt.token,bracketType:1};if(xt.close===De)return{token:xt.token,bracketType:-1}}return null}qe=function(Vt,De,Ge,xt){var zt,Jt=arguments.length,pn=Jt<3?De:null===xt?xt=Object.getOwnPropertyDescriptor(De,Ge):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(Vt,De,Ge,xt);else for(var On=Vt.length-1;On>=0;On--)(zt=Vt[On])&&(pn=(Jt<3?zt(pn):Jt>3?zt(De,Ge,pn):zt(De,Ge))||pn);return Jt>3&&pn&&Object.defineProperty(De,Ge,pn),pn}([(4,De=Lt.Ui,function(Ge,xt){De(Ge,xt,4)})],qe);var vt;const mt=null===(vt=window.trustedTypes)||void 0===vt?void 0:vt.createPolicy("standaloneColorizer",{createHTML:Vt=>Vt});class _t{static colorizeElement(De,Ge,xt,Jt){const pn=(Jt=Jt||{}).theme||"vs",zt=Jt.mimeType||xt.getAttribute("lang")||xt.getAttribute("data-lang");if(!zt)return console.error("Mode not detected"),Promise.resolve();const On=Ge.getLanguageIdByMimeType(zt)||zt;De.setTheme(pn);const Xn=xt.firstChild?xt.firstChild.nodeValue:"";return xt.className+=" "+pn,this.colorize(Ge,Xn||"",On,Jt).then(qn=>{var kn;const xi=null!==(kn=mt?.createHTML(qn))&&void 0!==kn?kn:qn;xt.innerHTML=xi},qn=>console.error(qn))}static colorize(De,Ge,xt,Jt){return function(Vt,De,Ge,xt){return new(Ge||(Ge=Promise))(function(pn,zt){function On(qn){try{Qn(xt.next(qn))}catch(kn){zt(kn)}}function Xn(qn){try{Qn(xt.throw(qn))}catch(kn){zt(kn)}}function Qn(qn){qn.done?pn(qn.value):function Jt(pn){return pn instanceof Ge?pn:new Ge(function(zt){zt(pn)})}(qn.value).then(On,Xn)}Qn((xt=xt.apply(Vt,De||[])).next())})}(this,void 0,void 0,function*(){const pn=De.languageIdCodec;let zt=4;Jt&&"number"==typeof Jt.tabSize&&(zt=Jt.tabSize),y.uS(Ge)&&(Ge=Ge.substr(1));const On=y.uq(Ge);if(!De.isRegisteredLanguageId(xt))return Bt(On,zt,pn);const Xn=yield K.RW.getOrCreate(xt);return Xn?function $t(Vt,De,Ge,xt){return new Promise((Jt,pn)=>{const zt=()=>{const On=function Ke(Vt,De,Ge,xt){let Jt=[],pn=Ge.getInitialState();for(let zt=0,On=Vt.length;zt<On;zt++){const Xn=Vt[zt],Qn=Ge.tokenizeEncoded(Xn,!0,pn);xe.A.convertToEndOffset(Qn.tokens,Xn.length);const qn=new xe.A(Qn.tokens,Xn,xt),kn=oe.wA.isBasicASCII(Xn,!0),xi=oe.wA.containsRTL(Xn,kn,!0),Ti=(0,Ne.tF)(new Ne.IJ(!1,!0,Xn,!1,kn,xi,0,qn.inflate(),[],De,0,0,0,0,-1,"none",!1,!1,null));Jt=Jt.concat(Ti.html),Jt.push("<br/>"),pn=Qn.endState}return Jt.join("")}(Vt,De,Ge,xt);if(Ge instanceof qe){const Xn=Ge.getLoadStatus();if(!1===Xn.loaded)return void Xn.promise.then(zt,pn)}Jt(On)};zt()})}(On,zt,Xn,pn):Bt(On,zt,pn)})}static colorizeLine(De,Ge,xt,Jt,pn=4){const zt=oe.wA.isBasicASCII(De,Ge),On=oe.wA.containsRTL(De,zt,xt);return(0,Ne.tF)(new Ne.IJ(!1,!0,De,!1,zt,On,0,Jt,[],pn,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(De,Ge,xt=4){const Jt=De.getLineContent(Ge);De.tokenization.forceTokenization(Ge);const zt=De.tokenization.getLineTokens(Ge).inflate();return this.colorizeLine(Jt,De.mightContainNonBasicASCII(),De.mightContainRTL(),zt,xt)}}function Bt(Vt,De,Ge){let xt=[];const pn=new Uint32Array(2);pn[0]=0,pn[1]=33587200;for(let zt=0,On=Vt.length;zt<On;zt++){const Xn=Vt[zt];pn[0]=Xn.length;const Qn=new xe.A(pn,Xn,Ge),qn=oe.wA.isBasicASCII(Xn,!0),kn=oe.wA.containsRTL(Xn,qn,!0),xi=(0,Ne.tF)(new Ne.IJ(!1,!0,Xn,!1,qn,kn,0,Qn,[],De,0,0,0,0,-1,"none",!1,!1,null));xt=xt.concat(xi.html),xt.push("<br/>")}return xt.join("")}var ht=e(59797),jt=e(85421),fn=e(9324),Dn={};Dn.styleTagTransform=t(),Dn.setAttributes=_(),Dn.insert=E().bind(null,"head"),Dn.domAPI=T(),Dn.insertStyleElement=m(),S()(fn.Z,Dn);var ye=e(55197),Ae=e(98463),ue=e(12226),be=e(84075),Je=e(48648),Fe=e(44716),nt=e(46780),bt=e(55704),Ut={};Ut.styleTagTransform=t(),Ut.setAttributes=_(),Ut.insert=E().bind(null,"head"),Ut.domAPI=T(),Ut.insertStyleElement=m(),S()(bt.Z,Ut);var si,St=e(65065),gn=e(3067),Vn=e(827),Sn=e(26845),Gn=e(18723),ci=e(43944),ii=e(16468),Ei=e(4062),no=e(40902),to=e(58783),Co=e(66287);class pt{constructor(De,Ge,xt,Jt){this.originalLineStart=De,this.originalLineEnd=Ge,this.modifiedLineStart=xt,this.modifiedLineEnd=Jt}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class gt{constructor(De){this.entries=De}}const Kt=(0,Co.q5)("diff-review-insert",to.lA.add,ye.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),nn=(0,Co.q5)("diff-review-remove",to.lA.remove,ye.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),an=(0,Co.q5)("diff-review-close",to.lA.close,ye.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let mn=class ml extends b.JT{constructor(De,Ge){super(),this._languageService=Ge,this._width=0,this._diffEditor=De,this._isVisible=!1,this.shadow=(0,ue.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,ue.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new St.o(this.actionBarContainer.domNode)),this._actionBar.push(new Vn.aU("diffreview.close",ye.NC("label.close","Close"),"close-diff-review "+no.kS.asClassName(an),!0,()=>function(Vt,De,Ge,xt){return new(Ge||(Ge=Promise))(function(pn,zt){function On(qn){try{Qn(xt.next(qn))}catch(kn){zt(kn)}}function Xn(qn){try{Qn(xt.throw(qn))}catch(kn){zt(kn)}}function Qn(qn){qn.done?pn(qn.value):function Jt(pn){return pn instanceof Ge?pn:new Ge(function(zt){zt(pn)})}(qn.value).then(On,Xn)}Qn((xt=xt.apply(Vt,De||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,ue.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,ue.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new gn.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(De.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(De.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Ae.mu(this.domNode.domNode,"click",xt=>{xt.preventDefault();const Jt=Ae.Fx(xt.target,"diff-review-row");Jt&&this._goToRow(Jt)})),this._register(Ae.mu(this.domNode.domNode,"keydown",xt=>{(xt.equals(18)||xt.equals(2066)||xt.equals(530))&&(xt.preventDefault(),this._goToRow(this._getNextRow())),(xt.equals(16)||xt.equals(2064)||xt.equals(528))&&(xt.preventDefault(),this._goToRow(this._getPrevRow())),(xt.equals(9)||xt.equals(2057)||xt.equals(521)||xt.equals(1033))&&(xt.preventDefault(),this.hide()),(xt.equals(10)||xt.equals(3))&&(xt.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let De=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let xt=-1;for(let Jt=0,pn=this._diffs.length;Jt<pn;Jt++)if(this._diffs[Jt]===this._currentDiff){xt=Jt;break}De=this._diffs.length+xt-1}else De=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;De%=this._diffs.length;const Ge=this._diffs[De].entries;this._diffEditor.setPosition(new Gn.L(Ge[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ge[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ge[Ge.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let De=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let xt=-1;for(let Jt=0,pn=this._diffs.length;Jt<pn;Jt++)if(this._diffs[Jt]===this._currentDiff){xt=Jt;break}De=xt+1}else De=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;De%=this._diffs.length;const Ge=this._diffs[De].entries;this._diffEditor.setPosition(new Gn.L(Ge[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ge[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ge[Ge.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let De=-1;const Ge=this._getCurrentFocusedRow();if(Ge){const xt=parseInt(Ge.getAttribute("data-line"),10);isNaN(xt)||(De=xt)}this.hide(),-1!==De&&(this._diffEditor.setPosition(new Gn.L(De,1)),this._diffEditor.revealPosition(new Gn.L(De,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const De=this._getCurrentFocusedRow();return De?De.previousElementSibling?De.previousElementSibling:De:this._getFirstRow()}_getNextRow(){const De=this._getCurrentFocusedRow();return De?De.nextElementSibling?De.nextElementSibling:De:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const De=document.activeElement;return De&&/diff-review-row/.test(De.className)?De:null}_goToRow(De){const Ge=this._getCurrentFocusedRow();De.tabIndex=0,De.focus(),Ge&&Ge!==De&&(Ge.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(De,Ge,xt){this._width=Ge,this.shadow.setTop(De-6),this.shadow.setWidth(Ge),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(De),this.domNode.setWidth(Ge),this.domNode.setHeight(xt),this._content.setHeight(xt),this._content.setWidth(Ge),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const De=this._diffEditor.getLineChanges();if(!De||0===De.length)return[];const Ge=this._diffEditor.getOriginalEditor().getModel(),xt=this._diffEditor.getModifiedEditor().getModel();return Ge&&xt?ml._mergeAdjacent(De,Ge.getLineCount(),xt.getLineCount()):[]}static _mergeAdjacent(De,Ge,xt){if(!De||0===De.length)return[];const Jt=[];let pn=0;for(let Qn=0,qn=De.length;Qn<qn;Qn++){const kn=De[Qn],xi=kn.originalStartLineNumber,Ti=kn.originalEndLineNumber,ki=kn.modifiedStartLineNumber,ji=kn.modifiedEndLineNumber,co=[];let bo=0;{const Lo=0===Ti?xi:xi-1,yo=0===ji?ki:ki-1;let oo=1,Vo=1;if(Qn>0){const Ji=De[Qn-1];oo=0===Ji.originalEndLineNumber?Ji.originalStartLineNumber+1:Ji.originalEndLineNumber+1,Vo=0===Ji.modifiedEndLineNumber?Ji.modifiedStartLineNumber+1:Ji.modifiedEndLineNumber+1}let No=Lo-3+1,po=yo-3+1;if(No<oo){const Ji=oo-No;No+=Ji,po+=Ji}if(po<Vo){const Ji=Vo-po;No+=Ji,po+=Ji}co[bo++]=new pt(No,Lo,po,yo)}0!==Ti&&(co[bo++]=new pt(xi,Ti,0,0)),0!==ji&&(co[bo++]=new pt(0,0,ki,ji));{const Lo=0===Ti?xi+1:Ti+1,yo=0===ji?ki+1:ji+1;let oo=Ge,Vo=xt;if(Qn+1<qn){const Ji=De[Qn+1];oo=0===Ji.originalEndLineNumber?Ji.originalStartLineNumber:Ji.originalStartLineNumber-1,Vo=0===Ji.modifiedEndLineNumber?Ji.modifiedStartLineNumber:Ji.modifiedStartLineNumber-1}let No=Lo+3-1,po=yo+3-1;if(No>oo){const Ji=oo-No;No+=Ji,po+=Ji}if(po>Vo){const Ji=Vo-po;No+=Ji,po+=Ji}co[bo++]=new pt(Lo,No,yo,po)}Jt[pn++]=new gt(co)}let zt=Jt[0].entries;const On=[];let Xn=0;for(let Qn=1,qn=Jt.length;Qn<qn;Qn++){const kn=Jt[Qn].entries,xi=zt[zt.length-1],Ti=kn[0];0===xi.getType()&&0===Ti.getType()&&Ti.originalLineStart<=xi.originalLineEnd?(zt[zt.length-1]=new pt(xi.originalLineStart,Ti.originalLineEnd,xi.modifiedLineStart,Ti.modifiedLineEnd),zt=zt.concat(kn.slice(1))):(On[Xn++]=new gt(zt),zt=kn)}return On[Xn++]=new gt(zt),On}_findDiffIndex(De){const Ge=De.lineNumber;for(let xt=0,Jt=this._diffs.length;xt<Jt;xt++){const pn=this._diffs[xt].entries;if(Ge<=pn[pn.length-1].modifiedLineEnd)return xt}return 0}_render(){const De=this._diffEditor.getOriginalEditor().getOptions(),Ge=this._diffEditor.getModifiedEditor().getOptions(),xt=this._diffEditor.getOriginalEditor().getModel(),Jt=this._diffEditor.getModifiedEditor().getModel(),pn=xt.getOptions(),zt=Jt.getOptions();if(!this._isVisible||!xt||!Jt)return Ae.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const On=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[On]===this._currentDiff)return;this._currentDiff=this._diffs[On];const Xn=this._diffs[On].entries,Qn=document.createElement("div");Qn.className="diff-review-table",Qn.setAttribute("role","list"),Qn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,Fe.N)(Qn,Ge.get(46));let qn=0,kn=0,xi=0,Ti=0;for(let po=0,Ji=Xn.length;po<Ji;po++){const vo=Xn[po],ko=vo.originalLineStart,Wo=vo.originalLineEnd,qo=vo.modifiedLineStart,So=vo.modifiedLineEnd;0!==ko&&(0===qn||ko<qn)&&(qn=ko),0!==Wo&&(0===kn||Wo>kn)&&(kn=Wo),0!==qo&&(0===xi||qo<xi)&&(xi=qo),0!==So&&(0===Ti||So>Ti)&&(Ti=So)}const ki=document.createElement("div");ki.className="diff-review-row";const ji=document.createElement("div");ji.className="diff-review-cell diff-review-summary";const co=kn-qn+1,bo=Ti-xi+1;ji.appendChild(document.createTextNode(`${On+1}/${this._diffs.length}: @@ -${qn},${co} +${xi},${bo} @@`)),ki.setAttribute("data-line",String(xi));const Lo=po=>0===po?ye.NC("no_lines_changed","no lines changed"):1===po?ye.NC("one_line_changed","1 line changed"):ye.NC("more_lines_changed","{0} lines changed",po),yo=Lo(co),oo=Lo(bo);ki.setAttribute("aria-label",ye.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",On+1,this._diffs.length,qn,yo,xi,oo)),ki.appendChild(ji),ki.setAttribute("role","listitem"),Qn.appendChild(ki);const Vo=Ge.get(61);let No=xi;for(let po=0,Ji=Xn.length;po<Ji;po++){const vo=Xn[po];ml._renderSection(Qn,vo,No,Vo,this._width,De,xt,pn,Ge,Jt,zt,this._languageService.languageIdCodec),0!==vo.modifiedLineStart&&(No=vo.modifiedLineEnd)}Ae.PO(this._content.domNode),this._content.domNode.appendChild(Qn),this.scrollbar.scanDomNode()}static _renderSection(De,Ge,xt,Jt,pn,zt,On,Xn,Qn,qn,kn,xi){const Ti=Ge.getType();let ki="diff-review-row",ji="",bo=null;switch(Ti){case 1:ki="diff-review-row line-insert",ji=" char-insert",bo=Kt;break;case 2:ki="diff-review-row line-delete",ji=" char-delete",bo=nn}const Lo=Ge.originalLineStart,oo=Ge.modifiedLineStart,No=Math.max(Ge.modifiedLineEnd-oo,Ge.originalLineEnd-Lo),po=zt.get(133),Ji=po.glyphMarginWidth+po.lineNumbersWidth,vo=Qn.get(133),ko=10+vo.glyphMarginWidth+vo.lineNumbersWidth;for(let Wo=0;Wo<=No;Wo++){const qo=0===Lo?0:Lo+Wo,So=0===oo?0:oo+Wo,ns=document.createElement("div");ns.style.minWidth=pn+"px",ns.className=ki,ns.setAttribute("role","listitem"),0!==So&&(xt=So),ns.setAttribute("data-line",String(xt));const Rs=document.createElement("div");Rs.className="diff-review-cell",Rs.style.height=`${Jt}px`,ns.appendChild(Rs);const Zo=document.createElement("span");Zo.style.width=Ji+"px",Zo.style.minWidth=Ji+"px",Zo.className="diff-review-line-number"+ji,0!==qo?Zo.appendChild(document.createTextNode(String(qo))):Zo.innerText="\xa0",Rs.appendChild(Zo);const Fs=document.createElement("span");Fs.style.width=ko+"px",Fs.style.minWidth=ko+"px",Fs.style.paddingRight="10px",Fs.className="diff-review-line-number"+ji,0!==So?Fs.appendChild(document.createTextNode(String(So))):Fs.innerText="\xa0",Rs.appendChild(Fs);const Os=document.createElement("span");if(Os.className="diff-review-spacer",bo){const Us=document.createElement("span");Us.className=no.kS.asClassName(bo),Us.innerText="\xa0\xa0",Os.appendChild(Us)}else Os.innerText="\xa0\xa0";let Ro;if(Rs.appendChild(Os),0!==So){let Us=this._renderLine(qn,Qn,kn.tabSize,So,xi);ml._ttPolicy&&(Us=ml._ttPolicy.createHTML(Us)),Rs.insertAdjacentHTML("beforeend",Us),Ro=qn.getLineContent(So)}else{let Us=this._renderLine(On,zt,Xn.tabSize,qo,xi);ml._ttPolicy&&(Us=ml._ttPolicy.createHTML(Us)),Rs.insertAdjacentHTML("beforeend",Us),Ro=On.getLineContent(qo)}0===Ro.length&&(Ro=ye.NC("blankLine","blank"));let Js="";switch(Ti){case 0:Js=qo===So?ye.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Ro,qo):ye.NC("equalLine","{0} original line {1} modified line {2}",Ro,qo,So);break;case 1:Js=ye.NC("insertLine","+ {0} modified line {1}",Ro,So);break;case 2:Js=ye.NC("deleteLine","- {0} original line {1}",Ro,qo)}ns.setAttribute("aria-label",Js),De.appendChild(ns)}}static _renderLine(De,Ge,xt,Jt,pn){const zt=De.getLineContent(Jt),On=Ge.get(46),Xn=xe.A.createEmpty(zt,pn),Qn=oe.wA.isBasicASCII(zt,De.mightContainNonBasicASCII()),qn=oe.wA.containsRTL(zt,Qn,De.mightContainRTL());return(0,Ne.tF)(new Ne.IJ(On.isMonospace&&!Ge.get(29),On.canUseHalfwidthRightwardsArrow,zt,!1,Qn,qn,0,Xn,[],xt,0,On.spaceWidth,On.middotWidth,On.wsmiddotWidth,Ge.get(107),Ge.get(90),Ge.get(85),Ge.get(47)!==d.n0.OFF,null)).html}};function Yn(Vt){const De=Vt.get(D.$),Ge=De.listDiffEditors(),xt=De.getActiveCodeEditor();if(!xt)return null;for(let Jt=0,pn=Ge.length;Jt<pn;Jt++){const zt=Ge[Jt];if(zt.getModifiedEditor().getId()===xt.getId()||zt.getOriginalEditor().getId()===xt.getId())return zt}return null}mn._ttPolicy=null===(si=window.trustedTypes)||void 0===si?void 0:si.createPolicy("diffReview",{createHTML:Vt=>Vt}),mn=function(Vt,De,Ge,xt){var zt,Jt=arguments.length,pn=Jt<3?De:null===xt?xt=Object.getOwnPropertyDescriptor(De,Ge):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(Vt,De,Ge,xt);else for(var On=Vt.length-1;On>=0;On--)(zt=Vt[On])&&(pn=(Jt<3?zt(pn):Jt>3?zt(De,Ge,pn):zt(De,Ge))||pn);return Jt>3&&pn&&Object.defineProperty(De,Ge,pn),pn}([function(Vt,De){return function(Ge,xt){De(Ge,xt,1)}}(0,N.O)],mn),(0,no.Ic)((Vt,De)=>{const Ge=Vt.getColor(ci.hw);Ge&&De.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Ge}; }`);const xt=Vt.getColor(Ei._wn);xt&&De.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${xt} 0 -6px 6px -6px inset; }`)}),(0,Sn.Qr)(class Nn extends Sn.R6{constructor(){super({id:"editor.action.diffReview.next",label:ye.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:ii.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(De,Ge){const xt=Yn(De);xt&&xt.diffReviewNext()}}),(0,Sn.Qr)(class jn extends Sn.R6{constructor(){super({id:"editor.action.diffReview.prev",label:ye.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:ii.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(De,Ge){const xt=Yn(De);xt&&xt.diffReviewPrev()}});var wi=e(8680),Li=e(59758),Qi=e(81534),Pi=e(18632),Ki=e(56110),Wi=e(9265),ro=e(62706),mo=e(54436),Ko=e(50703),Eo=function(Vt,De,Ge,xt){return new(Ge||(Ge=Promise))(function(pn,zt){function On(qn){try{Qn(xt.next(qn))}catch(kn){zt(kn)}}function Xn(qn){try{Qn(xt.throw(qn))}catch(kn){zt(kn)}}function Qn(qn){qn.done?pn(qn.value):function Jt(pn){return pn instanceof Ge?pn:new Ge(function(zt){zt(pn)})}(qn.value).then(On,Xn)}Qn((xt=xt.apply(Vt,De||[])).next())})};class Mo extends b.JT{constructor(De,Ge,xt,Jt,pn,zt){super(),this._viewZoneId=De,this._marginDomNode=Ge,this.editor=xt,this.diff=Jt,this._contextMenuService=pn,this._clipboardService=zt,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=to.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const On=xt.getOption(61),Xn=xt.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${On}px`,this._diffActions.style.lineHeight=`${On}px`,this._marginDomNode.appendChild(this._diffActions);const Qn=[],qn=0===Jt.modifiedEndLineNumber;Qn.push(new Vn.aU("diff.clipboard.copyDeletedContent",qn?Jt.originalEndLineNumber>Jt.modifiedStartLineNumber?ye.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):ye.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Jt.originalEndLineNumber>Jt.modifiedStartLineNumber?ye.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):ye.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Eo(this,void 0,void 0,function*(){const ji=new V.e(Jt.originalStartLineNumber,1,Jt.originalEndLineNumber+1,1),co=Jt.originalModel.getValueInRange(ji);yield this._clipboardService.writeText(co)})));let xi,kn=0;Jt.originalEndLineNumber>Jt.modifiedStartLineNumber&&(xi=new Vn.aU("diff.clipboard.copyDeletedLineContent",qn?ye.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Jt.originalStartLineNumber):ye.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Jt.originalStartLineNumber),void 0,!0,()=>Eo(this,void 0,void 0,function*(){const ji=Jt.originalModel.getLineContent(Jt.originalStartLineNumber+kn);if(""===ji){const co=Jt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===co?"\n":"\r\n")}else yield this._clipboardService.writeText(ji)})),Qn.push(xi)),xt.getOption(83)||Qn.push(new Vn.aU("diff.inline.revertChange",ye.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Eo(this,void 0,void 0,function*(){const ji=new V.e(Jt.originalStartLineNumber,1,Jt.originalEndLineNumber,Jt.originalModel.getLineMaxColumn(Jt.originalEndLineNumber)),co=Jt.originalModel.getValueInRange(ji);if(0===Jt.modifiedEndLineNumber){const bo=xt.getModel().getLineMaxColumn(Jt.modifiedStartLineNumber);xt.executeEdits("diffEditor",[{range:new V.e(Jt.modifiedStartLineNumber,bo,Jt.modifiedStartLineNumber,bo),text:Xn+co}])}else{const bo=xt.getModel().getLineMaxColumn(Jt.modifiedEndLineNumber);xt.executeEdits("diffEditor",[{range:new V.e(Jt.modifiedStartLineNumber,1,Jt.modifiedEndLineNumber,bo),text:co}])}})));const ki=(ji,co)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:ji,y:co}),getActions:()=>(xi&&(xi.label=qn?ye.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Jt.originalStartLineNumber+kn):ye.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Jt.originalStartLineNumber+kn)),Qn),autoSelectFirstItem:!0})};this._register(Ae.mu(this._diffActions,"mousedown",ji=>{const{top:co,height:bo}=Ae.i(this._diffActions),Lo=Math.floor(On/3);ji.preventDefault(),ki(ji.posx,co+bo+Lo)})),this._register(xt.onMouseMove(ji=>{8!==ji.target.type&&5!==ji.target.type||ji.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,kn=this._updateLightBulbPosition(this._marginDomNode,ji.event.browserEvent.y,On))})),this._register(xt.onMouseDown(ji=>{!ji.event.rightButton||(8===ji.target.type||5===ji.target.type)&&ji.target.detail.viewZoneId===this._viewZoneId&&(ji.event.preventDefault(),kn=this._updateLightBulbPosition(this._marginDomNode,ji.event.browserEvent.y,On),ki(ji.event.posx,ji.event.posy+On))}))}get visibility(){return this._visibility}set visibility(De){this._visibility!==De&&(this._visibility=De,this._diffActions.style.visibility=De?"visible":"hidden")}_updateLightBulbPosition(De,Ge,xt){const{top:Jt}=Ae.i(De),zt=Math.floor((Ge-Jt)/xt);if(this._diffActions.style.top=zt*xt+"px",this.diff.viewLineCounts){let Xn=0;for(let Qn=0;Qn<this.diff.viewLineCounts.length;Qn++)if(Xn+=this.diff.viewLineCounts[Qn],zt<Xn)return Qn}return zt}}var Rn,Io=e(25787),Yi=e(4125),ho=e(55538),Ao=e(93972),li=e(92273),Xt=e(18034),un=function(Vt,De){return function(Ge,xt){De(Ge,xt,Vt)}};class Wn{constructor(De,Ge){this._contextMenuService=De,this._clipboardService=Ge,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(De){return De.filter(Ge=>!this._zonesMap[String(Ge.id)])}clean(De){this._zones.length>0&&De.changeViewZones(Ge=>{for(const xt of this._zones)Ge.removeZone(xt)}),this._zones=[],this._zonesMap={},De.changeDecorations(Ge=>{this._decorations=Ge.deltaDecorations(this._decorations,[])})}apply(De,Ge,xt,Jt){const pn=Jt?nt.Z.capture(De):null;De.changeViewZones(zt=>{var On;for(const Xn of this._zones)zt.removeZone(Xn);for(const Xn of this._inlineDiffMargins)Xn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Xn=0,Qn=xt.zones.length;Xn<Qn;Xn++){const qn=xt.zones[Xn];qn.suppressMouseDown=!0;const kn=zt.addZone(qn);this._zones.push(kn),this._zonesMap[String(kn)]=!0,xt.zones[Xn].diff&&qn.marginDomNode&&(qn.suppressMouseDown=!1,0!==(null===(On=xt.zones[Xn].diff)||void 0===On?void 0:On.originalModel.getValueLength())&&this._inlineDiffMargins.push(new Mo(kn,qn.marginDomNode,De,xt.zones[Xn].diff,this._contextMenuService,this._clipboardService)))}}),pn?.restore(De),De.changeDecorations(zt=>{this._decorations=zt.deltaDecorations(this._decorations,xt.decorations)}),Ge?.setZones(xt.overviewZones)}}let dn=0;const ft=(0,Co.q5)("diff-insert",to.lA.add,ye.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),sn=(0,Co.q5)("diff-remove",to.lA.remove,ye.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),tn=null===(Rn=window.trustedTypes)||void 0===Rn?void 0:Rn.createPolicy("diffEditorWidget",{createHTML:Vt=>Vt});let xn=class or extends b.JT{constructor(De,Ge,xt,Jt,pn,zt,On,Xn,Qn,qn,kn,xi){super(),this._editorProgressService=xi,this._onDidDispose=this._register(new P.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new P.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new P.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=pn,this._codeEditorService=Xn,this._contextKeyService=this._register(zt.createScoped(De)),this._instantiationService=On.createChild(new ro.y([ii.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Qn,this._notificationService=qn,this._id=++dn,this._state=0,this._updatingDiffProgress=null,this._domElement=De,this._options=_e(Ge=Ge||{},{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",typeof Ge.isInEmbeddedEditor<"u"&&Ge.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new Je.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,ue.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Ae.mu(this._overviewDomElement,Ae.tw.POINTER_DOWN,ki=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(ki)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Wn(kn,Jt),this._modifiedEditorState=new Wn(kn,Jt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ao.I(this._containerDomElement,Ge.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ge.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ge,xt.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ge,xt.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=On.createInstance(mn,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new Qt(this._createDataSource(),this._options.enableSplitViewResizing):new Re(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Qn.onDidColorThemeChange(ki=>{this._strategy&&this._strategy.applyColors(ki)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Ti=Sn.Uc.getDiffEditorContributions();for(const ki of Ti)try{this._register(On.createInstance(ki.ctor,this))}catch(ji){(0,Yi.dL)(ji)}this._codeEditorService.addDiffEditor(this)}_setState(De){this._state!==De&&(this._state=De,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(De,Ge){let xt="monaco-diff-editor monaco-editor-background ";return Ge&&(xt+="side-by-side "),xt+=(0,no.m6)(De.type),xt}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(x.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(De,Ge){const xt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(De),Ge);this._register(xt.onDidScrollChange(pn=>{this._isHandlingScrollEvent||!pn.scrollTopChanged&&!pn.scrollLeftChanged&&!pn.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:pn.scrollLeft,scrollTop:pn.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(xt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(xt.onDidChangeConfiguration(pn=>{!xt.getModel()||(pn.hasChanged(46)&&this._updateDecorationsRunner.schedule(),pn.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(xt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(xt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Jt=this._contextKeyService.createKey("isInDiffLeftEditor",xt.hasWidgetFocus());return this._register(xt.onDidFocusEditorWidget(()=>Jt.set(!0))),this._register(xt.onDidBlurEditorWidget(()=>Jt.set(!1))),this._register(xt.onDidContentSizeChange(pn=>{const zt=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+or.ONE_OVERVIEW_WIDTH,On=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:On,contentWidth:zt,contentHeightChanged:pn.contentHeightChanged,contentWidthChanged:pn.contentWidthChanged})})),xt}_createRightHandSideEditor(De,Ge){const xt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(De),Ge);this._register(xt.onDidScrollChange(pn=>{this._isHandlingScrollEvent||!pn.scrollTopChanged&&!pn.scrollLeftChanged&&!pn.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:pn.scrollLeft,scrollTop:pn.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(xt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(xt.onDidChangeConfiguration(pn=>{!xt.getModel()||(pn.hasChanged(46)&&this._updateDecorationsRunner.schedule(),pn.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(xt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(xt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(xt.onDidChangeModelOptions(pn=>{pn.tabSize&&this._updateDecorationsRunner.schedule()}));const Jt=this._contextKeyService.createKey("isInDiffRightEditor",xt.hasWidgetFocus());return this._register(xt.onDidFocusEditorWidget(()=>Jt.set(!0))),this._register(xt.onDidBlurEditorWidget(()=>Jt.set(!1))),this._register(xt.onDidContentSizeChange(pn=>{const zt=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+or.ONE_OVERVIEW_WIDTH,On=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:On,contentWidth:zt,contentHeightChanged:pn.contentHeightChanged,contentWidthChanged:pn.contentWidthChanged})})),this._register(xt.onMouseDown(pn=>{var zt,On;if(!pn.event.rightButton&&pn.target.position&&(null===(zt=pn.target.element)||void 0===zt?void 0:zt.className.includes("arrow-revert-change"))){const Xn=pn.target.position.lineNumber,Qn=null===(On=this._diffComputationResult)||void 0===On?void 0:On.changes.find(qn=>qn.modifiedStartLineNumber===Xn-1||qn.modifiedStartLineNumber===Xn);return Qn&&this.revertChange(Qn),pn.event.stopPropagation(),void this._updateDecorations()}})),xt}revertChange(De){const Ge=this._modifiedEditor,xt=this._originalEditor.getModel(),Jt=this._modifiedEditor.getModel();if(!xt||!Jt||!Ge)return;const pn=De.originalEndLineNumber>0?new V.e(De.originalStartLineNumber,1,De.originalEndLineNumber,xt.getLineMaxColumn(De.originalEndLineNumber)):null,zt=pn?xt.getValueInRange(pn):null,On=De.modifiedEndLineNumber>0?new V.e(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,Jt.getLineMaxColumn(De.modifiedEndLineNumber)):null,Xn=Jt.getEOL();if(0===De.originalEndLineNumber&&On){let Qn=On;De.modifiedStartLineNumber>1?Qn=On.setStartPosition(De.modifiedStartLineNumber-1,Jt.getLineMaxColumn(De.modifiedStartLineNumber-1)):De.modifiedEndLineNumber<Jt.getLineCount()&&(Qn=On.setEndPosition(De.modifiedEndLineNumber+1,1)),Ge.executeEdits("diffEditor",[{range:Qn,text:""}])}else if(0===De.modifiedEndLineNumber&&null!==zt){const Qn=De.modifiedStartLineNumber<Jt.getLineCount()?new Gn.L(De.modifiedStartLineNumber+1,1):new Gn.L(De.modifiedStartLineNumber,Jt.getLineMaxColumn(De.modifiedStartLineNumber));Ge.executeEdits("diffEditor",[{range:V.e.fromPositions(Qn,Qn),text:De.modifiedStartLineNumber<Jt.getLineCount()?zt+Xn:Xn+zt}])}else On&&null!==zt&&Ge.executeEdits("diffEditor",[{range:On,text:zt}])}_createInnerEditor(De,Ge,xt,Jt){return De.createInstance(jt.Gm,Ge,xt,Jt)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return F.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(De){const Ge=_e(De,this._options),xt=function je(Vt,De){return{enableSplitViewResizing:Vt.enableSplitViewResizing!==De.enableSplitViewResizing,renderSideBySide:Vt.renderSideBySide!==De.renderSideBySide,renderMarginRevertIcon:Vt.renderMarginRevertIcon!==De.renderMarginRevertIcon,maxComputationTime:Vt.maxComputationTime!==De.maxComputationTime,maxFileSize:Vt.maxFileSize!==De.maxFileSize,ignoreTrimWhitespace:Vt.ignoreTrimWhitespace!==De.ignoreTrimWhitespace,renderIndicators:Vt.renderIndicators!==De.renderIndicators,originalEditable:Vt.originalEditable!==De.originalEditable,diffCodeLens:Vt.diffCodeLens!==De.diffCodeLens,renderOverviewRuler:Vt.renderOverviewRuler!==De.renderOverviewRuler,diffWordWrap:Vt.diffWordWrap!==De.diffWordWrap}}(this._options,Ge);this._options=Ge;const pn=this._isVisible&&(xt.maxComputationTime||xt.maxFileSize);xt.ignoreTrimWhitespace||xt.renderIndicators||xt.renderMarginRevertIcon?this._beginUpdateDecorations():pn&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(De)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(De)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),xt.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new Qt(this._createDataSource(),this._options.enableSplitViewResizing):new Re(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),xt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(De){if(De&&(!De.original||!De.modified))throw new Error(De.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(De?De.original:null),this._modifiedEditor.setModel(De?De.modified:null),this._updateDecorationsRunner.cancel(),De&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),De&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(De){return this._modifiedEditor.getVisibleColumnFromPosition(De)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(De,Ge="api"){this._modifiedEditor.setPosition(De,Ge)}revealLine(De,Ge=0){this._modifiedEditor.revealLine(De,Ge)}revealLineInCenter(De,Ge=0){this._modifiedEditor.revealLineInCenter(De,Ge)}revealLineInCenterIfOutsideViewport(De,Ge=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(De,Ge)}revealLineNearTop(De,Ge=0){this._modifiedEditor.revealLineNearTop(De,Ge)}revealPosition(De,Ge=0){this._modifiedEditor.revealPosition(De,Ge)}revealPositionInCenter(De,Ge=0){this._modifiedEditor.revealPositionInCenter(De,Ge)}revealPositionInCenterIfOutsideViewport(De,Ge=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(De,Ge)}revealPositionNearTop(De,Ge=0){this._modifiedEditor.revealPositionNearTop(De,Ge)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(De,Ge="api"){this._modifiedEditor.setSelection(De,Ge)}setSelections(De,Ge="api"){this._modifiedEditor.setSelections(De,Ge)}revealLines(De,Ge,xt=0){this._modifiedEditor.revealLines(De,Ge,xt)}revealLinesInCenter(De,Ge,xt=0){this._modifiedEditor.revealLinesInCenter(De,Ge,xt)}revealLinesInCenterIfOutsideViewport(De,Ge,xt=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(De,Ge,xt)}revealLinesNearTop(De,Ge,xt=0){this._modifiedEditor.revealLinesNearTop(De,Ge,xt)}revealRange(De,Ge=0,xt=!1,Jt=!0){this._modifiedEditor.revealRange(De,Ge,xt,Jt)}revealRangeInCenter(De,Ge=0){this._modifiedEditor.revealRangeInCenter(De,Ge)}revealRangeInCenterIfOutsideViewport(De,Ge=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(De,Ge)}revealRangeNearTop(De,Ge=0){this._modifiedEditor.revealRangeNearTop(De,Ge)}revealRangeNearTopIfOutsideViewport(De,Ge=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(De,Ge)}revealRangeAtTop(De,Ge=0){this._modifiedEditor.revealRangeAtTop(De,Ge)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(De){if(De&&De.original&&De.modified){const Ge=De;this._originalEditor.restoreViewState(Ge.original),this._modifiedEditor.restoreViewState(Ge.modified)}}layout(De){this._elementSizeObserver.observe(De)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(De,Ge,xt){this._modifiedEditor.trigger(De,Ge,xt)}createDecorationsCollection(De){return this._modifiedEditor.createDecorationsCollection(De)}changeDecorations(De){return this._modifiedEditor.changeDecorations(De)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const De=this._elementSizeObserver.getHeight(),Ge=this._getReviewHeight(),xt=or.ENTIRE_DIFF_OVERVIEW_WIDTH-2*or.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:or.ONE_OVERVIEW_WIDTH,right:xt+or.ONE_OVERVIEW_WIDTH,height:De-Ge}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:or.ONE_OVERVIEW_WIDTH,height:De-Ge}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),or.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(De,Ge){return!De&&!Ge||!(!De||!Ge)&&De.toString()===Ge.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const De=this._originalEditor.getModel(),Ge=this._modifiedEditor.getModel();if(!De||!Ge)return;this._diffComputationToken++;const xt=this._diffComputationToken,Jt=1024*this._options.maxFileSize*1024,pn=zt=>{const On=zt.getValueLength();return 0===Jt||On<=Jt};pn(De)&&pn(Ge)?(this._setState(1),this._editorWorkerService.computeDiff(De.uri,Ge.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(zt=>{xt===this._diffComputationToken&&De===this._originalEditor.getModel()&&Ge===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=zt,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},zt=>{xt===this._diffComputationToken&&De===this._originalEditor.getModel()&&Ge===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!or._equals(De.uri,this._lastOriginalWarning)||!or._equals(Ge.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=De.uri,this._lastModifiedWarning=Ge.uri,this._notificationService.warn(ye.NC("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const De=this._diffComputationResult?this._diffComputationResult.changes:[],Ge=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),xt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Jt=this._strategy.getEditorsDiffDecorations(De,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,Ge,xt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Jt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Jt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(De){const Ge=Object.assign({},De);return Ge.inDiffEditor=!0,Ge.automaticLayout=!1,Ge.scrollbar=Object.assign({},Ge.scrollbar||{}),Ge.scrollbar.vertical="visible",Ge.folding=!1,Ge.codeLens=this._options.diffCodeLens,Ge.fixedOverflowWidgets=!0,Ge.minimap=Object.assign({},Ge.minimap||{}),Ge.minimap.enabled=!1,Ge}_adjustOptionsForLeftHandSide(De){const Ge=this._adjustOptionsForSubEditor(De);return this._options.renderSideBySide?Ge.wordWrapOverride1=this._options.diffWordWrap:(Ge.wordWrapOverride1="off",Ge.wordWrapOverride2="off"),De.originalAriaLabel&&(Ge.ariaLabel=De.originalAriaLabel),Ge.readOnly=!this._options.originalEditable,Ge.dropIntoEditor={enabled:!Ge.readOnly},Ge.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ge),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(De){const Ge=this._adjustOptionsForSubEditor(De);return De.modifiedAriaLabel&&(Ge.ariaLabel=De.modifiedAriaLabel),Ge.wordWrapOverride1=this._options.diffWordWrap,Ge.revealHorizontalRightPadding=d.BH.revealHorizontalRightPadding.defaultValue+or.ENTIRE_DIFF_OVERVIEW_WIDTH,Ge.scrollbar.verticalHasArrows=!1,Ge.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ge),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const De=this._elementSizeObserver.getWidth(),Ge=this._elementSizeObserver.getHeight(),xt=this._getReviewHeight(),Jt=this._strategy.layout();this._originalDomNode.style.width=Jt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=De-Jt+"px",this._modifiedDomNode.style.left=Jt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ge-xt+"px",this._overviewDomElement.style.width=or.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=De-or.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(or.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Jt,height:Ge-xt}),this._modifiedEditor.layout({width:De-Jt-(this._options.renderOverviewRuler?or.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ge-xt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ge-xt,De,xt),this._layoutOverviewViewport()}_layoutOverviewViewport(){const De=this._computeOverviewViewport();De?(this._overviewViewportDomElement.setTop(De.top),this._overviewViewportDomElement.setHeight(De.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const De=this._modifiedEditor.getLayoutInfo();if(!De)return null;const Ge=this._modifiedEditor.getScrollTop(),xt=this._modifiedEditor.getScrollHeight(),Jt=Math.max(0,De.height),pn=Math.max(0,Jt-0),zt=xt>0?pn/xt:0;return{height:Math.max(0,Math.floor(De.height*zt)),top:Math.floor(Ge*zt)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(De){this._strategy&&this._strategy.dispose(),this._strategy=De,De.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(De,Ge){const xt=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===xt.length||De<Ge(xt[0]))return null;let Jt=0,pn=xt.length-1;for(;Jt<pn;){const zt=Math.floor((Jt+pn)/2),On=Ge(xt[zt]),Xn=zt+1<=pn?Ge(xt[zt+1]):1073741824;De<On?pn=zt-1:De>=Xn?Jt=zt+1:(Jt=zt,pn=zt)}return xt[Jt]}_getEquivalentLineForOriginalLineNumber(De){const Ge=this._getLineChangeAtOrBeforeLineNumber(De,Xn=>Xn.originalStartLineNumber);if(!Ge)return De;const Jt=Ge.modifiedStartLineNumber+(Ge.modifiedEndLineNumber>0?-1:0),pn=Ge.originalEndLineNumber>0?Ge.originalEndLineNumber-Ge.originalStartLineNumber+1:0,zt=Ge.modifiedEndLineNumber>0?Ge.modifiedEndLineNumber-Ge.modifiedStartLineNumber+1:0,On=De-(Ge.originalStartLineNumber+(Ge.originalEndLineNumber>0?-1:0));return On<=pn?Jt+Math.min(On,zt):Jt+zt-pn+On}_getEquivalentLineForModifiedLineNumber(De){const Ge=this._getLineChangeAtOrBeforeLineNumber(De,Xn=>Xn.modifiedStartLineNumber);if(!Ge)return De;const xt=Ge.originalStartLineNumber+(Ge.originalEndLineNumber>0?-1:0),pn=Ge.originalEndLineNumber>0?Ge.originalEndLineNumber-Ge.originalStartLineNumber+1:0,zt=Ge.modifiedEndLineNumber>0?Ge.modifiedEndLineNumber-Ge.modifiedStartLineNumber+1:0,On=De-(Ge.modifiedStartLineNumber+(Ge.modifiedEndLineNumber>0?-1:0));return On<=zt?xt+Math.min(On,pn):xt+pn-zt+On}getDiffLineInformationForOriginal(De){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(De)}:null}getDiffLineInformationForModified(De){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(De)}:null}};xn.ONE_OVERVIEW_WIDTH=15,xn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,xn.UPDATE_DIFF_DECORATIONS_DELAY=200,xn=function(Vt,De,Ge,xt){var zt,Jt=arguments.length,pn=Jt<3?De:null===xt?xt=Object.getOwnPropertyDescriptor(De,Ge):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(Vt,De,Ge,xt);else for(var On=Vt.length-1;On>=0;On--)(zt=Vt[On])&&(pn=(Jt<3?zt(pn):Jt>3?zt(De,Ge,pn):zt(De,Ge))||pn);return Jt>3&&pn&&Object.defineProperty(De,Ge,pn),pn}([un(3,Io.p),un(4,Qi.p),un(5,ii.i6),un(6,Wi.TG),un(7,D.$),un(8,no.XE),un(9,mo.lT),un(10,Ko.i),un(11,ho.ek)],xn);class Pn extends b.JT{constructor(De){super(),this._dataSource=De,this._insertColor=null,this._removeColor=null}applyColors(De){const Ge=De.getColor(Ei.P6Y)||(De.getColor(Ei.ypS)||Ei.CzK).transparent(2),xt=De.getColor(Ei.F9q)||(De.getColor(Ei.P4M)||Ei.keg).transparent(2),Jt=!Ge.equals(this._insertColor)||!xt.equals(this._removeColor);return this._insertColor=Ge,this._removeColor=xt,Jt}getEditorsDiffDecorations(De,Ge,xt,Jt,pn,zt){zt=zt.sort((qn,kn)=>qn.afterLineNumber-kn.afterLineNumber),pn=pn.sort((qn,kn)=>qn.afterLineNumber-kn.afterLineNumber);const On=this._getViewZones(De,pn,zt,xt),Xn=this._getOriginalEditorDecorations(On,De,Ge,xt),Qn=this._getModifiedEditorDecorations(On,De,Ge,xt,Jt);return{original:{decorations:Xn.decorations,overviewZones:Xn.overviewZones,zones:On.original},modified:{decorations:Qn.decorations,overviewZones:Qn.overviewZones,zones:On.modified}}}}class En{constructor(De){this._source=De,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class ut{constructor(De,Ge,xt,Jt,pn){this._lineChanges=De,this._originalForeignVZ=Ge,this._modifiedForeignVZ=xt,this._originalEditor=Jt,this._modifiedEditor=pn}static _getViewLineCount(De,Ge,xt){const Jt=De.getModel(),pn=De._getViewModel();if(Jt&&pn){const zt=J(Jt,pn,Ge,xt);return zt.endLineNumber-zt.startLineNumber+1}return xt-Ge+1}getViewZones(){const De=this._originalEditor.getOption(61),Ge=this._modifiedEditor.getOption(61),xt=-1!==this._originalEditor.getOption(134).wrappingColumn,Jt=-1!==this._modifiedEditor.getOption(134).wrappingColumn,pn=xt||Jt,zt=this._originalEditor.getModel(),On=this._originalEditor._getViewModel().coordinatesConverter,Xn=this._modifiedEditor._getViewModel().coordinatesConverter,Qn_original=[],Qn_modified=[];let qn=0,kn=0,xi=0,Ti=0,ki=0,ji=0;const co=(No,po)=>No.afterLineNumber-po.afterLineNumber,bo=(No,po)=>{if(null===po.domNode&&No.length>0){const Ji=No[No.length-1];if(Ji.afterLineNumber===po.afterLineNumber&&null===Ji.domNode)return void(Ji.heightInLines+=po.heightInLines)}No.push(po)},Lo=new En(this._modifiedForeignVZ),yo=new En(this._originalForeignVZ);let oo=1,Vo=1;for(let No=0,po=this._lineChanges.length;No<=po;No++){const Ji=No<po?this._lineChanges[No]:null;null!==Ji?(xi=Ji.originalStartLineNumber+(Ji.originalEndLineNumber>0?-1:0),Ti=Ji.modifiedStartLineNumber+(Ji.modifiedEndLineNumber>0?-1:0),kn=Ji.originalEndLineNumber>0?ut._getViewLineCount(this._originalEditor,Ji.originalStartLineNumber,Ji.originalEndLineNumber):0,qn=Ji.modifiedEndLineNumber>0?ut._getViewLineCount(this._modifiedEditor,Ji.modifiedStartLineNumber,Ji.modifiedEndLineNumber):0,ki=Math.max(Ji.originalStartLineNumber,Ji.originalEndLineNumber),ji=Math.max(Ji.modifiedStartLineNumber,Ji.modifiedEndLineNumber)):(xi+=1e7+kn,Ti+=1e7+qn,ki=xi,ji=Ti);let vo=[],ko=[];if(pn){let So;So=Ji?Ji.originalEndLineNumber>0?Ji.originalStartLineNumber-oo:Ji.modifiedStartLineNumber-Vo:zt.getLineCount()-oo+1;for(let ns=0;ns<So;ns++){const Rs=oo+ns,Zo=Vo+ns,Fs=On.getModelLineViewLineCount(Rs),Os=Xn.getModelLineViewLineCount(Zo);Fs<Os?vo.push({afterLineNumber:Rs,heightInLines:Os-Fs,domNode:null,marginDomNode:null}):Fs>Os&&ko.push({afterLineNumber:Zo,heightInLines:Fs-Os,domNode:null,marginDomNode:null})}Ji&&(oo=(Ji.originalEndLineNumber>0?Ji.originalEndLineNumber:Ji.originalStartLineNumber)+1,Vo=(Ji.modifiedEndLineNumber>0?Ji.modifiedEndLineNumber:Ji.modifiedStartLineNumber)+1)}for(;Lo.current&&Lo.current.afterLineNumber<=ji;){let So;So=Lo.current.afterLineNumber<=Ti?xi-Ti+Lo.current.afterLineNumber:ki;let ns=null;Ji&&Ji.modifiedStartLineNumber<=Lo.current.afterLineNumber&&Lo.current.afterLineNumber<=Ji.modifiedEndLineNumber&&(ns=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),vo.push({afterLineNumber:So,heightInLines:Lo.current.height/Ge,domNode:null,marginDomNode:ns}),Lo.advance()}for(;yo.current&&yo.current.afterLineNumber<=ki;){let So;So=yo.current.afterLineNumber<=xi?Ti-xi+yo.current.afterLineNumber:ji,ko.push({afterLineNumber:So,heightInLines:yo.current.height/De,domNode:null}),yo.advance()}if(null!==Ji&&Hn(Ji)){const So=this._produceOriginalFromDiff(Ji,kn,qn);So&&vo.push(So)}if(null!==Ji&&Ii(Ji)){const So=this._produceModifiedFromDiff(Ji,kn,qn);So&&ko.push(So)}let Wo=0,qo=0;for(vo=vo.sort(co),ko=ko.sort(co);Wo<vo.length&&qo<ko.length;){const So=vo[Wo],ns=ko[qo],Rs=So.afterLineNumber-xi,Zo=ns.afterLineNumber-Ti;Rs<Zo?(bo(Qn_original,So),Wo++):Zo<Rs?(bo(Qn_modified,ns),qo++):So.shouldNotShrink?(bo(Qn_original,So),Wo++):ns.shouldNotShrink?(bo(Qn_modified,ns),qo++):So.heightInLines>=ns.heightInLines?(So.heightInLines-=ns.heightInLines,qo++):(ns.heightInLines-=So.heightInLines,Wo++)}for(;Wo<vo.length;)bo(Qn_original,vo[Wo]),Wo++;for(;qo<ko.length;)bo(Qn_modified,ko[qo]),qo++}return{original:ut._ensureDomNodes(Qn_original),modified:ut._ensureDomNodes(Qn_modified)}}static _ensureDomNodes(De){return De.map(Ge=>(Ge.domNode||(Ge.domNode=Ft()),Ge))}}function Pt(Vt,De,Ge,xt,Jt){return{range:new V.e(Vt,De,Ge,xt),options:Jt}}const Ht={arrowRevertChange:Li.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+no.kS.asClassName(to.lA.arrowRight)}),charDelete:Li.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Li.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Li.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Li.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Li.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Li.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+no.kS.asClassName(ft),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Li.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Li.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+no.kS.asClassName(sn),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Li.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let Qt=(()=>{class Vt extends Pn{constructor(Ge,xt){super(Ge),this._disableSash=!1===xt,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new be.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Jt=>this._onSashDrag(Jt)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Ge){const xt=!1===Ge;this._disableSash!==xt&&(this._disableSash=xt,this._sash.state=this._disableSash?0:3)}layout(Ge=this._sashRatio){const Jt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let pn=Math.floor((Ge||.5)*Jt);const zt=Math.floor(.5*Jt);return pn=this._disableSash?zt:pn||zt,Jt>2*Vt.MINIMUM_EDITOR_WIDTH?(pn<Vt.MINIMUM_EDITOR_WIDTH&&(pn=Vt.MINIMUM_EDITOR_WIDTH),pn>Jt-Vt.MINIMUM_EDITOR_WIDTH&&(pn=Jt-Vt.MINIMUM_EDITOR_WIDTH)):pn=zt,this._sashPosition!==pn&&(this._sashPosition=pn),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Ge){const Jt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),pn=this.layout((this._startSashPosition+(Ge.currentX-Ge.startX))/Jt);this._sashRatio=pn/Jt,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Ge){return 0}getVerticalSashLeft(Ge){return this._sashPosition}getVerticalSashHeight(Ge){return this._dataSource.getHeight()}_getViewZones(Ge,xt,Jt){const pn=this._dataSource.getOriginalEditor(),zt=this._dataSource.getModifiedEditor();return new bn(Ge,xt,Jt,pn,zt).getViewZones()}_getOriginalEditorDecorations(Ge,xt,Jt,pn){const zt=this._dataSource.getOriginalEditor(),On=String(this._removeColor),Xn={decorations:[],overviewZones:[]},Qn=zt.getModel(),qn=zt._getViewModel();for(const kn of xt)if(Ii(kn)){Xn.decorations.push({range:new V.e(kn.originalStartLineNumber,1,kn.originalEndLineNumber,1073741824),options:pn?Ht.lineDeleteWithSign:Ht.lineDelete}),(!Hn(kn)||!kn.charChanges)&&Xn.decorations.push(Pt(kn.originalStartLineNumber,1,kn.originalEndLineNumber,1073741824,Ht.charDeleteWholeLine));const xi=J(Qn,qn,kn.originalStartLineNumber,kn.originalEndLineNumber);if(Xn.overviewZones.push(new Pi.EY(xi.startLineNumber,xi.endLineNumber,0,On)),kn.charChanges)for(const Ti of kn.charChanges)if(di(Ti))if(Jt)for(let ki=Ti.originalStartLineNumber;ki<=Ti.originalEndLineNumber;ki++){let ji,co;ji=ki===Ti.originalStartLineNumber?Ti.originalStartColumn:Qn.getLineFirstNonWhitespaceColumn(ki),co=ki===Ti.originalEndLineNumber?Ti.originalEndColumn:Qn.getLineLastNonWhitespaceColumn(ki),Xn.decorations.push(Pt(ki,ji,ki,co,Ht.charDelete))}else Xn.decorations.push(Pt(Ti.originalStartLineNumber,Ti.originalStartColumn,Ti.originalEndLineNumber,Ti.originalEndColumn,Ht.charDelete))}return Xn}_getModifiedEditorDecorations(Ge,xt,Jt,pn,zt){const On=this._dataSource.getModifiedEditor(),Xn=String(this._insertColor),Qn={decorations:[],overviewZones:[]},qn=On.getModel(),kn=On._getViewModel();for(const xi of xt){if(zt)if(xi.modifiedEndLineNumber>0)Qn.decorations.push({range:new V.e(xi.modifiedStartLineNumber,1,xi.modifiedStartLineNumber,1),options:Ht.arrowRevertChange});else{const Ti=Ge.modified.find(ki=>ki.afterLineNumber===xi.modifiedStartLineNumber);Ti&&(Ti.marginDomNode=R())}if(Hn(xi)){Qn.decorations.push({range:new V.e(xi.modifiedStartLineNumber,1,xi.modifiedEndLineNumber,1073741824),options:pn?Ht.lineInsertWithSign:Ht.lineInsert}),(!Ii(xi)||!xi.charChanges)&&Qn.decorations.push(Pt(xi.modifiedStartLineNumber,1,xi.modifiedEndLineNumber,1073741824,Ht.charInsertWholeLine));const Ti=J(qn,kn,xi.modifiedStartLineNumber,xi.modifiedEndLineNumber);if(Qn.overviewZones.push(new Pi.EY(Ti.startLineNumber,Ti.endLineNumber,0,Xn)),xi.charChanges)for(const ki of xi.charChanges)if(bi(ki))if(Jt)for(let ji=ki.modifiedStartLineNumber;ji<=ki.modifiedEndLineNumber;ji++){let co,bo;co=ji===ki.modifiedStartLineNumber?ki.modifiedStartColumn:qn.getLineFirstNonWhitespaceColumn(ji),bo=ji===ki.modifiedEndLineNumber?ki.modifiedEndColumn:qn.getLineLastNonWhitespaceColumn(ji),Qn.decorations.push(Pt(ji,co,ji,bo,Ht.charInsert))}else Qn.decorations.push(Pt(ki.modifiedStartLineNumber,ki.modifiedStartColumn,ki.modifiedEndLineNumber,ki.modifiedEndColumn,Ht.charInsert))}}return Qn}}return Vt.MINIMUM_EDITOR_WIDTH=100,Vt})();class bn extends ut{constructor(De,Ge,xt,Jt,pn){super(De,Ge,xt,Jt,pn)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(De,Ge,xt){return xt>Ge?{afterLineNumber:Math.max(De.originalStartLineNumber,De.originalEndLineNumber),heightInLines:xt-Ge,domNode:null}:null}_produceModifiedFromDiff(De,Ge,xt){return Ge>xt?{afterLineNumber:Math.max(De.modifiedStartLineNumber,De.modifiedEndLineNumber),heightInLines:Ge-xt,domNode:null}:null}}class Re extends Pn{constructor(De,Ge){super(De),this._decorationsLeft=De.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(De.getOriginalEditor().onDidLayoutChange(xt=>{this._decorationsLeft!==xt.decorationsLeft&&(this._decorationsLeft=xt.decorationsLeft,De.relayoutEditors())}))}setEnableSplitViewResizing(De){}_getViewZones(De,Ge,xt,Jt){const pn=this._dataSource.getOriginalEditor(),zt=this._dataSource.getModifiedEditor();return new ct(De,Ge,xt,pn,zt,Jt).getViewZones()}_getOriginalEditorDecorations(De,Ge,xt,Jt){const pn=String(this._removeColor),zt={decorations:[],overviewZones:[]},On=this._dataSource.getOriginalEditor(),Xn=On.getModel(),Qn=On._getViewModel();let qn=0;for(const kn of Ge)if(Ii(kn)){for(zt.decorations.push({range:new V.e(kn.originalStartLineNumber,1,kn.originalEndLineNumber,1073741824),options:Ht.lineDeleteMargin});qn<De.modified.length;){const ki=De.modified[qn];if(ki.diff&&ki.diff.originalStartLineNumber>=kn.originalStartLineNumber)break;qn++}let xi=0;if(qn<De.modified.length){const ki=De.modified[qn];ki.diff&&ki.diff.originalStartLineNumber===kn.originalStartLineNumber&&ki.diff.originalEndLineNumber===kn.originalEndLineNumber&&ki.diff.modifiedStartLineNumber===kn.modifiedStartLineNumber&&ki.diff.modifiedEndLineNumber===kn.modifiedEndLineNumber&&(xi=ki.heightInLines)}const Ti=J(Xn,Qn,kn.originalStartLineNumber,kn.originalEndLineNumber);zt.overviewZones.push(new Pi.EY(Ti.startLineNumber,Ti.endLineNumber,xi,pn))}return zt}_getModifiedEditorDecorations(De,Ge,xt,Jt,pn){const zt=this._dataSource.getModifiedEditor(),On=String(this._insertColor),Xn={decorations:[],overviewZones:[]},Qn=zt.getModel(),qn=zt._getViewModel();for(const kn of Ge)if(Hn(kn)){Xn.decorations.push({range:new V.e(kn.modifiedStartLineNumber,1,kn.modifiedEndLineNumber,1073741824),options:Jt?Ht.lineInsertWithSign:Ht.lineInsert});const xi=J(Qn,qn,kn.modifiedStartLineNumber,kn.modifiedEndLineNumber);if(Xn.overviewZones.push(new Pi.EY(xi.startLineNumber,xi.endLineNumber,0,On)),kn.charChanges){for(const Ti of kn.charChanges)if(bi(Ti))if(xt)for(let ki=Ti.modifiedStartLineNumber;ki<=Ti.modifiedEndLineNumber;ki++){let ji,co;ji=ki===Ti.modifiedStartLineNumber?Ti.modifiedStartColumn:Qn.getLineFirstNonWhitespaceColumn(ki),co=ki===Ti.modifiedEndLineNumber?Ti.modifiedEndColumn:Qn.getLineLastNonWhitespaceColumn(ki),Xn.decorations.push(Pt(ki,ji,ki,co,Ht.charInsert))}else Xn.decorations.push(Pt(Ti.modifiedStartLineNumber,Ti.modifiedStartColumn,Ti.modifiedEndLineNumber,Ti.modifiedEndColumn,Ht.charInsert))}else Xn.decorations.push(Pt(kn.modifiedStartLineNumber,1,kn.modifiedEndLineNumber,1073741824,Ht.charInsertWholeLine))}return Xn}layout(){return Math.max(5,this._decorationsLeft)}}class ct extends ut{constructor(De,Ge,xt,Jt,pn,zt){super(De,Ge,xt,Jt,pn),this._originalModel=Jt.getModel(),this._renderIndicators=zt,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const De=super.getViewZones();return this._finalize(De),De}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const De=document.createElement("div");return De.className="inline-added-margin-view-zone",De}_produceOriginalFromDiff(De,Ge,xt){const Jt=document.createElement("div");return Jt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(De.originalStartLineNumber,De.originalEndLineNumber),heightInLines:xt,domNode:document.createElement("div"),marginDomNode:Jt}}_produceModifiedFromDiff(De,Ge,xt){const Jt=document.createElement("div");Jt.className=`view-lines line-delete ${li.S}`;const pn=document.createElement("div");pn.className="inline-deleted-margin-view-zone";const zt={shouldNotShrink:!0,afterLineNumber:0===De.modifiedEndLineNumber?De.modifiedStartLineNumber:De.modifiedStartLineNumber-1,heightInLines:Ge,minWidthInPx:0,domNode:Jt,marginDomNode:pn,diff:{originalStartLineNumber:De.originalStartLineNumber,originalEndLineNumber:De.originalEndLineNumber,modifiedStartLineNumber:De.modifiedStartLineNumber,modifiedEndLineNumber:De.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let On=De.originalStartLineNumber;On<=De.originalEndLineNumber;On++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(On),null,null);return this._pendingLineChange.push(De),this._pendingViewZones.push(zt),zt}_finalize(De){const Ge=this._modifiedEditor.getOptions(),xt=this._modifiedEditor.getModel().getOptions().tabSize,Jt=Ge.get(46),pn=Ge.get(29),zt=Jt.typicalHalfwidthCharacterWidth,On=Ge.get(95),Xn=this._originalModel.mightContainNonBasicASCII(),Qn=this._originalModel.mightContainRTL(),qn=Ge.get(61),xi=Ge.get(133).decorationsWidth,Ti=Ge.get(107),ki=Ge.get(90),ji=Ge.get(85),co=Ge.get(47),bo=this._lineBreaksComputer.finalize();let Lo=0;for(let yo=0;yo<this._pendingLineChange.length;yo++){const oo=this._pendingLineChange[yo],Vo=this._pendingViewZones[yo],No=Vo.domNode;(0,Fe.N)(No,Jt);const po=Vo.marginDomNode;(0,Fe.N)(po,Jt);const Ji=[];if(oo.charChanges)for(const Zo of oo.charChanges)di(Zo)&&Ji.push(new oe.$t(new V.e(Zo.originalStartLineNumber,Zo.originalStartColumn,Zo.originalEndLineNumber,Zo.originalEndColumn),"char-delete",0));const vo=Ji.length>0,ko=(0,wi.l$)(1e4);let Wo=0,qo=0,So=null;for(let Zo=oo.originalStartLineNumber;Zo<=oo.originalEndLineNumber;Zo++){const Fs=Zo-oo.originalStartLineNumber,Os=this._originalModel.tokenization.getLineTokens(Zo),Ro=Os.getLineContent(),Js=bo[Lo++],Us=Ki.Kp.filter(Ji,Zo,1,Ro.length+1);if(Js){let Ir=0;for(const Kr of Js.breakOffsets){const Sa=Os.sliceAndInflate(Ir,Kr,0),wa=Ro.substring(Ir,Kr);Wo=Math.max(Wo,this._renderOriginalLine(qo++,wa,Sa,Ki.Kp.extractWrapped(Us,Ir,Kr),vo,Xn,Qn,Jt,pn,qn,xi,Ti,ki,ji,co,xt,ko,po)),Ir=Kr}for(So||(So=[]);So.length<Fs;)So[So.length]=1;So[Fs]=Js.breakOffsets.length,Vo.heightInLines+=Js.breakOffsets.length-1;const zr=document.createElement("div");zr.className="gutter-delete",De.original.push({afterLineNumber:Zo,afterColumn:0,heightInLines:Js.breakOffsets.length-1,domNode:Ft(),marginDomNode:zr})}else Wo=Math.max(Wo,this._renderOriginalLine(qo++,Ro,Os,Us,vo,Xn,Qn,Jt,pn,qn,xi,Ti,ki,ji,co,xt,ko,po))}Wo+=On;const ns=ko.build(),Rs=tn?tn.createHTML(ns):ns;if(No.innerHTML=Rs,Vo.minWidthInPx=Wo*zt,So){const Zo=oo.originalEndLineNumber-oo.originalStartLineNumber;for(;So.length<=Zo;)So[So.length]=1}Vo.diff.viewLineCounts=So}De.original.sort((yo,oo)=>yo.afterLineNumber-oo.afterLineNumber)}_renderOriginalLine(De,Ge,xt,Jt,pn,zt,On,Xn,Qn,qn,kn,xi,Ti,ki,ji,co,bo,Lo){bo.appendASCIIString('<div class="view-line'),pn||bo.appendASCIIString(" char-delete"),bo.appendASCIIString('" style="top:'),bo.appendASCIIString(String(De*qn)),bo.appendASCIIString('px;width:1000000px;">');const yo=oe.wA.isBasicASCII(Ge,zt),oo=oe.wA.containsRTL(Ge,yo,On),Vo=(0,Ne.d1)(new Ne.IJ(Xn.isMonospace&&!Qn,Xn.canUseHalfwidthRightwardsArrow,Ge,!1,yo,oo,0,xt,Jt,co,0,Xn.spaceWidth,Xn.middotWidth,Xn.wsmiddotWidth,xi,Ti,ki,ji!==d.n0.OFF,null),bo);if(bo.appendASCIIString("</div>"),this._renderIndicators){const No=document.createElement("div");No.className=`delete-sign ${no.kS.asClassName(sn)}`,No.setAttribute("style",`position:absolute;top:${De*qn}px;width:${kn}px;height:${qn}px;right:0;`),Lo.appendChild(No)}return Vo.characterMapping.getHorizontalOffset(Vo.characterMapping.length)}}function Cn(Vt,De){return(0,d.NY)(Vt,De,["off","on","inherit"])}function Hn(Vt){return Vt.modifiedEndLineNumber>0}function Ii(Vt){return Vt.originalEndLineNumber>0}function bi(Vt){return Vt.modifiedStartLineNumber===Vt.modifiedEndLineNumber?Vt.modifiedEndColumn-Vt.modifiedStartColumn>0:Vt.modifiedEndLineNumber-Vt.modifiedStartLineNumber>0}function di(Vt){return Vt.originalStartLineNumber===Vt.originalEndLineNumber?Vt.originalEndColumn-Vt.originalStartColumn>0:Vt.originalEndLineNumber-Vt.originalStartLineNumber>0}function Ft(){const Vt=document.createElement("div");return Vt.className="diagonal-fill",Vt}function R(){const Vt=document.createElement("div");return Vt.className="arrow-revert-change "+no.kS.asClassName(to.lA.arrowRight),Ae.$("div",{},Vt)}function J(Vt,De,Ge,xt){const Jt=Vt.getLineCount();return Ge=Math.min(Jt,Math.max(1,Ge)),xt=Math.min(Jt,Math.max(1,xt)),De.coordinatesConverter.convertModelRangeToViewRange(new V.e(Ge,Vt.getLineMinColumn(Ge),xt,Vt.getLineMaxColumn(xt)))}function _e(Vt,De){return{enableSplitViewResizing:(0,d.O7)(Vt.enableSplitViewResizing,De.enableSplitViewResizing),renderSideBySide:(0,d.O7)(Vt.renderSideBySide,De.renderSideBySide),renderMarginRevertIcon:(0,d.O7)(Vt.renderMarginRevertIcon,De.renderMarginRevertIcon),maxComputationTime:(0,d.Zc)(Vt.maxComputationTime,De.maxComputationTime,0,1073741824),maxFileSize:(0,d.Zc)(Vt.maxFileSize,De.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,d.O7)(Vt.ignoreTrimWhitespace,De.ignoreTrimWhitespace),renderIndicators:(0,d.O7)(Vt.renderIndicators,De.renderIndicators),originalEditable:(0,d.O7)(Vt.originalEditable,De.originalEditable),diffCodeLens:(0,d.O7)(Vt.diffCodeLens,De.diffCodeLens),renderOverviewRuler:(0,d.O7)(Vt.renderOverviewRuler,De.renderOverviewRuler),diffWordWrap:Cn(Vt.diffWordWrap,De.diffWordWrap)}}(0,no.Ic)((Vt,De)=>{const Ge=Vt.getColor(Ei.ypS);Ge&&De.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ge}; }`);const xt=Vt.getColor(Ei.hzo)||Ge;xt&&De.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${xt}; }`);const Jt=Vt.getColor(Ei.j51)||xt;Jt&&(De.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Jt}; }`),De.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${Jt}; }`));const pn=Vt.getColor(Ei.P4M);pn&&De.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${pn}; }`);const zt=Vt.getColor(Ei.xi6)||pn;zt&&De.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${zt}; }`);const On=Vt.getColor(Ei.zOm)||zt;On&&(De.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${On}; }`),De.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${On}; }`));const Xn=Vt.getColor(Ei.XL$);Xn&&De.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,Xt.c3)(Vt.type)?"dashed":"solid"} ${Xn}; }`);const Qn=Vt.getColor(Ei.mHy);Qn&&De.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,Xt.c3)(Vt.type)?"dashed":"solid"} ${Qn}; }`);const qn=Vt.getColor(Ei._wn);qn&&De.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${qn}; }`);const kn=Vt.getColor(Ei.LLc);kn&&De.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${kn}; }`);const xi=Vt.getColor(Ei.etL);xi&&De.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${xi};\n\t\t\t}\n\t\t`);const Ti=Vt.getColor(Ei.ABB);Ti&&De.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${Ti};\n\t\t\t}\n\t\t`);const ki=Vt.getColor(Ei.ynu);ki&&De.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${ki};\n\t\t\t}\n\t\t`);const ji=Vt.getColor(Ei.L_t);De.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${ji} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${ji} 50%, ${ji} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)});var Ye=e(58397),at=e(53559),on=e(55503),qt=e(74918),yn=e(66549),Tn=e(14759),Bn=e(64280),Kn=e(74982),ni=e(55843),hi=e(72188),fi=e(90790),Rt=function(Vt,De,Ge,xt){var zt,Jt=arguments.length,pn=Jt<3?De:null===xt?xt=Object.getOwnPropertyDescriptor(De,Ge):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(Vt,De,Ge,xt);else for(var On=Vt.length-1;On>=0;On--)(zt=Vt[On])&&(pn=(Jt<3?zt(pn):Jt>3?zt(De,Ge,pn):zt(De,Ge))||pn);return Jt>3&&pn&&Object.defineProperty(De,Ge,pn),pn},ee=function(Vt,De){return function(Ge,xt){De(Ge,xt,Vt)}};let fe=0,it=!1,en=class extends jt.Gm{constructor(De,Ge,xt,Jt,pn,zt,On,Xn,Qn,qn,kn,xi){const Ti=Object.assign({},Ge);Ti.ariaLabel=Ti.ariaLabel||Kn.B8.editorViewAccessibleLabel,Ti.ariaLabel=Ti.ariaLabel+";"+Kn.B8.accessibilityHelpMessage,super(De,Ti,{},xt,Jt,pn,zt,Xn,Qn,qn,kn,xi),this._standaloneKeybindingService=On instanceof at.zC?On:null,function It(Vt){if(!Vt){if(it)return;it=!0}ht.wW(Vt||document.body)}(Ti.ariaContainerElement)}addCommand(De,Ge,xt){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Jt="DYNAMIC_"+ ++fe,pn=ii.Ao.deserialize(xt);return this._standaloneKeybindingService.addDynamicKeybinding(Jt,De,Ge,pn),Jt}createContextKey(De,Ge){return this._contextKeyService.createKey(De,Ge)}addAction(De){if("string"!=typeof De.id||"string"!=typeof De.label||"function"!=typeof De.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),b.JT.None;const Ge=De.id,xt=De.label,Jt=ii.Ao.and(ii.Ao.equals("editorId",this.getId()),ii.Ao.deserialize(De.precondition)),pn=De.keybindings,zt=ii.Ao.and(Jt,ii.Ao.deserialize(De.keybindingContext)),On=De.contextMenuGroupId||null,Xn=De.contextMenuOrder||0,Qn=(Ti,...ki)=>Promise.resolve(De.run(this,...ki)),qn=new b.SL,kn=this.getId()+":"+Ge;if(qn.add(yn.P0.registerCommand(kn,Qn)),On&&qn.add(qt.BH.appendMenuItem(qt.eH.EditorContext,{command:{id:kn,title:xt},when:Jt,group:On,order:Xn})),Array.isArray(pn))for(const Ti of pn)qn.add(this._standaloneKeybindingService.addDynamicKeybinding(kn,Ti,Qn,zt));const xi=new Ye.p(kn,xt,xt,Jt,Qn,this._contextKeyService);return this._actions[Ge]=xi,qn.add((0,b.OF)(()=>{delete this._actions[Ge]})),qn}_triggerCommand(De,Ge){if(this._codeEditorService instanceof ni.B)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(De,Ge)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(De,Ge)}};en=Rt([ee(2,Wi.TG),ee(3,D.$),ee(4,yn.Hy),ee(5,ii.i6),ee(6,Tn.d),ee(7,no.XE),ee(8,mo.lT),ee(9,Bn.F),ee(10,U.c_),ee(11,fi.p)],en);let Tt=class extends en{constructor(De,Ge,xt,Jt,pn,zt,On,Xn,Qn,qn,kn,xi,Ti,ki,ji){const co=Object.assign({},Ge);(0,at.XZ)(qn,co,!1);const bo=Xn.registerEditorContainer(De);"string"==typeof co.theme&&Xn.setTheme(co.theme),typeof co.autoDetectHighContrast<"u"&&Xn.setAutoDetectHighContrast(Boolean(co.autoDetectHighContrast));const Lo=co.model;let yo;if(delete co.model,super(De,co,xt,Jt,pn,zt,On,Xn,Qn,kn,ki,ji),this._configurationService=qn,this._standaloneThemeService=Xn,this._register(bo),typeof Lo>"u"){const oo=Ti.getLanguageIdByMimeType(co.language)||co.language||hi.bd;yo=Te(xi,Ti,co.value||"",oo,void 0),this._ownsModel=!0}else yo=Lo,this._ownsModel=!1;this._attachModel(yo),yo&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:yo.uri})}dispose(){super.dispose()}updateOptions(De){(0,at.XZ)(this._configurationService,De,!1),"string"==typeof De.theme&&this._standaloneThemeService.setTheme(De.theme),typeof De.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(De.autoDetectHighContrast)),super.updateOptions(De)}_postDetachModelCleanup(De){super._postDetachModelCleanup(De),De&&this._ownsModel&&(De.dispose(),this._ownsModel=!1)}};Tt=Rt([ee(2,Wi.TG),ee(3,D.$),ee(4,yn.Hy),ee(5,ii.i6),ee(6,Tn.d),ee(7,on.Z),ee(8,mo.lT),ee(9,Lt.Ui),ee(10,Bn.F),ee(11,W.q),ee(12,N.O),ee(13,U.c_),ee(14,fi.p)],Tt);let q=class extends xn{constructor(De,Ge,xt,Jt,pn,zt,On,Xn,Qn,qn,kn,xi){const Ti=Object.assign({},Ge);(0,at.XZ)(Qn,Ti,!0);const ki=On.registerEditorContainer(De);"string"==typeof Ti.theme&&On.setTheme(Ti.theme),typeof Ti.autoDetectHighContrast<"u"&&On.setAutoDetectHighContrast(Boolean(Ti.autoDetectHighContrast)),super(De,Ti,{},xi,pn,Jt,xt,zt,On,Xn,qn,kn),this._configurationService=Qn,this._standaloneThemeService=On,this._register(ki)}dispose(){super.dispose()}updateOptions(De){(0,at.XZ)(this._configurationService,De,!0),"string"==typeof De.theme&&this._standaloneThemeService.setTheme(De.theme),typeof De.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(De.autoDetectHighContrast)),super.updateOptions(De)}_createInnerEditor(De,Ge,xt){return De.createInstance(en,Ge,xt)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(De,Ge,xt){return this.getModifiedEditor().addCommand(De,Ge,xt)}createContextKey(De,Ge){return this.getModifiedEditor().createContextKey(De,Ge)}addAction(De){return this.getModifiedEditor().addAction(De)}};function Te(Vt,De,Ge,xt,Jt){if(Ge=Ge||"",!xt){const pn=Ge.indexOf("\n");let zt=Ge;return-1!==pn&&(zt=Ge.substring(0,pn)),rt(Vt,Ge,De.createByFilepathOrFirstLine(Jt||null,zt),Jt)}return rt(Vt,Ge,De.createById(xt),Jt)}function rt(Vt,De,Ge,xt){return Vt.createModel(De,Ge,xt)}q=Rt([ee(2,Wi.TG),ee(3,ii.i6),ee(4,Qi.p),ee(5,D.$),ee(6,on.Z),ee(7,mo.lT),ee(8,Lt.Ui),ee(9,Ko.i),ee(10,ho.ek),ee(11,Io.p)],q);var Gt=e(58177);function cn(Vt,De,Ge){return at.IO.initialize(Ge||{}).createInstance(Tt,Vt,De)}function Ln(Vt){return at.IO.get(D.$).onCodeEditorAdd(Ge=>{Vt(Ge)})}function In(Vt){return at.IO.get(D.$).onDiffEditorAdd(Ge=>{Vt(Ge)})}function ei(){return at.IO.get(D.$).listCodeEditors()}function Jn(){return at.IO.get(D.$).listDiffEditors()}function gi(Vt,De,Ge){return at.IO.initialize(Ge||{}).createInstance(q,Vt,De)}function pi(Vt,De){return new z(Vt,De)}function Ci(Vt){if("string"!=typeof Vt.id||"function"!=typeof Vt.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return yn.P0.registerCommand(Vt.id,Vt.run)}function Mi(Vt){if("string"!=typeof Vt.id||"string"!=typeof Vt.label||"function"!=typeof Vt.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const De=ii.Ao.deserialize(Vt.precondition),xt=new b.SL;if(xt.add(yn.P0.registerCommand(Vt.id,(Jt,...pn)=>Sn._l.runEditorCommand(Jt,pn,De,(zt,On,Xn)=>Promise.resolve(Vt.run(On,...Xn))))),Vt.contextMenuGroupId&&xt.add(qt.BH.appendMenuItem(qt.eH.EditorContext,{command:{id:Vt.id,title:Vt.label},when:De,group:Vt.contextMenuGroupId,order:Vt.contextMenuOrder||0})),Array.isArray(Vt.keybindings)){const Jt=at.IO.get(Tn.d);if(Jt instanceof at.zC){const pn=ii.Ao.and(De,ii.Ao.deserialize(Vt.keybindingContext));xt.add(Jt.addDynamicKeybindings(Vt.keybindings.map(zt=>({keybinding:zt,command:Vt.id,when:pn}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return xt}function Bi(Vt){return $i([Vt])}function $i(Vt){const De=at.IO.get(Tn.d);return De instanceof at.zC?De.addDynamicKeybindings(Vt.map(Ge=>({keybinding:Ge.keybinding,command:Ge.command,commandArgs:Ge.commandArgs,when:ii.Ao.deserialize(Ge.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),b.JT.None)}function zi(Vt,De,Ge){const xt=at.IO.get(N.O),Jt=xt.getLanguageIdByMimeType(De)||De;return Te(at.IO.get(W.q),xt,Vt,Jt,Ge)}function _o(Vt,De){const Ge=at.IO.get(N.O);at.IO.get(W.q).setMode(Vt,Ge.createById(De))}function jo(Vt,De,Ge){Vt&&at.IO.get(Gt.lT).changeOne(De,Vt.uri,Ge)}function To(Vt){at.IO.get(Gt.lT).changeAll(Vt,[])}function ss(Vt){return at.IO.get(Gt.lT).read(Vt)}function sr(Vt){return at.IO.get(Gt.lT).onMarkerChanged(Vt)}function _s(Vt){return at.IO.get(W.q).getModel(Vt)}function Qo(){return at.IO.get(W.q).getModels()}function $o(Vt){return at.IO.get(W.q).onModelAdded(Vt)}function wr(Vt){return at.IO.get(W.q).onModelRemoved(Vt)}function Ds(Vt){return at.IO.get(W.q).onModelLanguageChanged(Ge=>{Vt({model:Ge.model,oldLanguage:Ge.oldLanguageId})})}function rr(Vt){return function M(Vt,De,Ge){return new we(Vt,De,Ge)}(at.IO.get(W.q),at.IO.get(U.c_),Vt)}function Xo(Vt,De){const Ge=at.IO.get(N.O),xt=at.IO.get(on.Z);return xt.registerEditorContainer(Vt),_t.colorizeElement(xt,Ge,Vt,De)}function ar(Vt,De,Ge){const xt=at.IO.get(N.O);return at.IO.get(on.Z).registerEditorContainer(document.body),_t.colorize(xt,Vt,De,Ge)}function Ws(Vt,De,Ge=4){return at.IO.get(on.Z).registerEditorContainer(document.body),_t.colorizeModelLine(Vt,De,Ge)}function hr(Vt,De){K.RW.getOrCreate(De);const Ge=function Vs(Vt){return K.RW.get(Vt)||{getInitialState:()=>ne.TJ,tokenize:(Ge,xt,Jt)=>(0,ne.Ri)(Vt,Jt)}}(De),xt=(0,y.uq)(Vt),Jt=[];let pn=Ge.getInitialState();for(let zt=0,On=xt.length;zt<On;zt++){const Qn=Ge.tokenize(xt[zt],!0,pn);Jt[zt]=Qn.tokens,pn=Qn.endState}return Jt}function $s(Vt,De){at.IO.get(on.Z).defineTheme(Vt,De)}function Dr(Vt){at.IO.get(on.Z).setTheme(Vt)}function ks(){w.g.clearAllFontInfos()}function Es(Vt,De){return yn.P0.registerCommand({id:Vt,handler:De})}var xs=e(69355);function Gs(Vt,De){return"boolean"==typeof Vt?Vt:De}function Ms(Vt,De){return"string"==typeof Vt?Vt:De}function lr(Vt,De=!1){De&&(Vt=Vt.map(function(xt){return xt.toLowerCase()}));const Ge=function Go(Vt){const De={};for(const Ge of Vt)De[Ge]=!0;return De}(Vt);return De?function(xt){return void 0!==Ge[xt.toLowerCase()]&&Ge.hasOwnProperty(xt.toLowerCase())}:function(xt){return void 0!==Ge[xt]&&Ge.hasOwnProperty(xt)}}function zs(Vt,De){De=De.replace(/@@/g,"\x01");let xt,Ge=0;do{xt=!1,De=De.replace(/@(\w+)/g,function(pn,zt){xt=!0;let On="";if("string"==typeof Vt[zt])On=Vt[zt];else{if(!(Vt[zt]&&Vt[zt]instanceof RegExp))throw ce(Vt,void 0===Vt[zt]?"language definition does not contain attribute '"+zt+"', used at: "+De:"attribute reference '"+zt+"' must be a string, used at: "+De);On=Vt[zt].source}return de(On)?"":"(?:"+On+")"}),Ge++}while(xt&&Ge<5);return De=De.replace(/\x01/g,"@"),new RegExp(De,(Vt.ignoreCase?"i":"")+(Vt.unicode?"u":""))}function ms(Vt,De,Ge,xt){let Jt=-1,pn=Ge,zt=Ge.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);zt&&(zt[3]&&(Jt=parseInt(zt[3]),zt[2]&&(Jt+=100)),pn=zt[4]);let Qn,On="~",Xn=pn;if(pn&&0!==pn.length?/^\w*$/.test(Xn)?On="==":(zt=pn.match(/^(@|!@|~|!~|==|!=)(.*)$/),zt&&(On=zt[1],Xn=zt[2])):(On="!=",Xn=""),"~"!==On&&"!~"!==On||!/^(\w|\|)*$/.test(Xn))if("@"===On||"!@"===On){const qn=Vt[Xn];if(!qn)throw ce(Vt,"the @ match target '"+Xn+"' is not defined, in rule: "+De);if(!function _r(Vt,De){if(!De||!Array.isArray(De))return!1;for(const Ge of De)if(!Vt(Ge))return!1;return!0}(function(xi){return"string"==typeof xi},qn))throw ce(Vt,"the @ match target '"+Xn+"' must be an array of strings, in rule: "+De);const kn=lr(qn,Vt.ignoreCase);Qn=function(xi){return"@"===On?kn(xi):!kn(xi)}}else if("~"===On||"!~"===On)if(Xn.indexOf("$")<0){const qn=zs(Vt,"^"+Xn+"$");Qn=function(kn){return"~"===On?qn.test(kn):!qn.test(kn)}}else Qn=function(qn,kn,xi,Ti){return zs(Vt,"^"+Ve(Vt,Xn,kn,xi,Ti)+"$").test(qn)};else if(Xn.indexOf("$")<0){const qn=ke(Vt,Xn);Qn=function(kn){return"=="===On?kn===qn:kn!==qn}}else{const qn=ke(Vt,Xn);Qn=function(kn,xi,Ti,ki,ji){const co=Ve(Vt,qn,xi,Ti,ki);return"=="===On?kn===co:kn!==co}}else{const qn=lr(Xn.split("|"),Vt.ignoreCase);Qn=function(kn){return"~"===On?qn(kn):!qn(kn)}}return-1===Jt?{name:Ge,value:xt,test:function(qn,kn,xi,Ti){return Qn(qn,qn,kn,xi,Ti)}}:{name:Ge,value:xt,test:function(qn,kn,xi,Ti){const ki=function vr(Vt,De,Ge,xt){if(xt<0)return Vt;if(xt<De.length)return De[xt];if(xt>=100){xt-=100;const Jt=Ge.split(".");if(Jt.unshift(Ge),xt<Jt.length)return Jt[xt]}return null}(qn,kn,xi,Jt);return Qn(ki||"",qn,kn,xi,Ti)}}}function us(Vt,De,Ge){if(Ge){if("string"==typeof Ge)return Ge;if(Ge.token||""===Ge.token){if("string"!=typeof Ge.token)throw ce(Vt,"a 'token' attribute must be of type string, in rule: "+De);{const xt={token:Ge.token};if(Ge.token.indexOf("$")>=0&&(xt.tokenSubst=!0),"string"==typeof Ge.bracket)if("@open"===Ge.bracket)xt.bracket=1;else{if("@close"!==Ge.bracket)throw ce(Vt,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+De);xt.bracket=-1}if(Ge.next){if("string"!=typeof Ge.next)throw ce(Vt,"the next state must be a string value in rule: "+De);{let Jt=Ge.next;if(!/^(@pop|@push|@popall)$/.test(Jt)&&("@"===Jt[0]&&(Jt=Jt.substr(1)),Jt.indexOf("$")<0&&!function Ct(Vt,De){let Ge=De;for(;Ge&&Ge.length>0;){if(Vt.stateNames[Ge])return!0;const Jt=Ge.lastIndexOf(".");Ge=Jt<0?null:Ge.substr(0,Jt)}return!1}(Vt,Ve(Vt,Jt,"",[],""))))throw ce(Vt,"the next state '"+Ge.next+"' is not defined in rule: "+De);xt.next=Jt}}return"number"==typeof Ge.goBack&&(xt.goBack=Ge.goBack),"string"==typeof Ge.switchTo&&(xt.switchTo=Ge.switchTo),"string"==typeof Ge.log&&(xt.log=Ge.log),"string"==typeof Ge.nextEmbedded&&(xt.nextEmbedded=Ge.nextEmbedded,Vt.usesEmbedded=!0),xt}}if(Array.isArray(Ge)){const xt=[];for(let Jt=0,pn=Ge.length;Jt<pn;Jt++)xt[Jt]=us(Vt,De,Ge[Jt]);return{group:xt}}if(Ge.cases){const xt=[];for(const pn in Ge.cases)if(Ge.cases.hasOwnProperty(pn)){const zt=us(Vt,De,Ge.cases[pn]);xt.push("@default"===pn||"@"===pn||""===pn?{test:void 0,value:zt,name:pn}:"@eos"===pn?{test:function(On,Xn,Qn,qn){return qn},value:zt,name:pn}:ms(Vt,De,pn,zt))}const Jt=Vt.defaultToken;return{test:function(pn,zt,On,Xn){for(const Qn of xt)if(!Qn.test||Qn.test(pn,zt,On,Xn))return Qn.value;return Jt}}}throw ce(Vt,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+De)}return{token:""}}class gr{constructor(De){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=De}setRegex(De,Ge){let xt;if("string"==typeof Ge)xt=Ge;else{if(!(Ge instanceof RegExp))throw ce(De,"rules must start with a match string or regular expression: "+this.name);xt=Ge.source}this.matchOnlyAtLineStart=xt.length>0&&"^"===xt[0],this.name=this.name+": "+xt,this.regex=zs(De,"^(?:"+(this.matchOnlyAtLineStart?xt.substr(1):xt)+")")}setAction(De,Ge){this.action=us(De,this.name,Ge)}}function er(Vt,De){if(!De||"object"!=typeof De)throw new Error("Monarch: expecting a language definition object");const Ge={};Ge.languageId=Vt,Ge.includeLF=Gs(De.includeLF,!1),Ge.noThrow=!1,Ge.maxStack=100,Ge.start="string"==typeof De.start?De.start:null,Ge.ignoreCase=Gs(De.ignoreCase,!1),Ge.unicode=Gs(De.unicode,!1),Ge.tokenPostfix=Ms(De.tokenPostfix,"."+Ge.languageId),Ge.defaultToken=Ms(De.defaultToken,"source"),Ge.usesEmbedded=!1;const xt=De;function Jt(zt,On,Xn){for(const Qn of Xn){let qn=Qn.include;if(qn){if("string"!=typeof qn)throw ce(Ge,"an 'include' attribute must be a string at: "+zt);if("@"===qn[0]&&(qn=qn.substr(1)),!De.tokenizer[qn])throw ce(Ge,"include target '"+qn+"' is not defined at: "+zt);Jt(zt+"."+qn,On,De.tokenizer[qn])}else{const kn=new gr(zt);if(Array.isArray(Qn)&&Qn.length>=1&&Qn.length<=3)if(kn.setRegex(xt,Qn[0]),Qn.length>=3)if("string"==typeof Qn[1])kn.setAction(xt,{token:Qn[1],next:Qn[2]});else{if("object"!=typeof Qn[1])throw ce(Ge,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+zt);{const xi=Qn[1];xi.next=Qn[2],kn.setAction(xt,xi)}}else kn.setAction(xt,Qn[1]);else{if(!Qn.regex)throw ce(Ge,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+zt);Qn.name&&"string"==typeof Qn.name&&(kn.name=Qn.name),Qn.matchOnlyAtStart&&(kn.matchOnlyAtLineStart=Gs(Qn.matchOnlyAtLineStart,!1)),kn.setRegex(xt,Qn.regex),kn.setAction(xt,Qn.action)}On.push(kn)}}}if(xt.languageId=Vt,xt.includeLF=Ge.includeLF,xt.ignoreCase=Ge.ignoreCase,xt.unicode=Ge.unicode,xt.noThrow=Ge.noThrow,xt.usesEmbedded=Ge.usesEmbedded,xt.stateNames=De.tokenizer,xt.defaultToken=Ge.defaultToken,!De.tokenizer||"object"!=typeof De.tokenizer)throw ce(Ge,"a language definition must define the 'tokenizer' attribute as an object");Ge.tokenizer=[];for(const zt in De.tokenizer)if(De.tokenizer.hasOwnProperty(zt)){Ge.start||(Ge.start=zt);const On=De.tokenizer[zt];Ge.tokenizer[zt]=new Array,Jt("tokenizer."+zt,Ge.tokenizer[zt],On)}if(Ge.usesEmbedded=xt.usesEmbedded,De.brackets){if(!Array.isArray(De.brackets))throw ce(Ge,"the 'brackets' attribute must be defined as an array")}else De.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const pn=[];for(const zt of De.brackets){let On=zt;if(On&&Array.isArray(On)&&3===On.length&&(On={token:On[2],open:On[0],close:On[1]}),On.open===On.close)throw ce(Ge,"open and close brackets in a 'brackets' attribute must be different: "+On.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof On.open||"string"!=typeof On.token||"string"!=typeof On.close)throw ce(Ge,"every element in the 'brackets' array must be a '{open,close,token}' object or array");pn.push({token:On.token+Ge.tokenPostfix,open:ke(Ge,On.open),close:ke(Ge,On.close)})}return Ge.brackets=pn,Ge.noThrow=!0,Ge}function jr(Vt){hi.dQ.registerLanguage(Vt)}function Zs(){let Vt=[];return Vt=Vt.concat(hi.dQ.getLanguages()),Vt}function As(Vt){return at.IO.get(N.O).languageIdCodec.encodeLanguageId(Vt)}function Gi(Vt,De){const xt=at.IO.get(N.O).onDidEncounterLanguage(Jt=>{Jt===Vt&&(xt.dispose(),De())});return xt}function dr(Vt,De){if(!at.IO.get(N.O).isRegisteredLanguageId(Vt))throw new Error(`Cannot set configuration for unknown language ${Vt}`);return at.IO.get(U.c_).register(Vt,De,100)}class tr{constructor(De,Ge){this._languageId=De,this._actual=Ge}getInitialState(){return this._actual.getInitialState()}tokenize(De,Ge,xt){if("function"==typeof this._actual.tokenize)return nr.adaptTokenize(this._languageId,this._actual,De,xt);throw new Error("Not supported!")}tokenizeEncoded(De,Ge,xt){const Jt=this._actual.tokenizeEncoded(De,xt);return new K.DI(Jt.tokens,Jt.endState)}}class nr{constructor(De,Ge,xt,Jt){this._languageId=De,this._actual=Ge,this._languageService=xt,this._standaloneThemeService=Jt}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(De,Ge){const xt=[];let Jt=0;for(let pn=0,zt=De.length;pn<zt;pn++){const On=De[pn];let Xn=On.startIndex;0===pn?Xn=0:Xn<Jt&&(Xn=Jt),xt[pn]=new K.WU(Xn,On.scopes,Ge),Jt=Xn}return xt}static adaptTokenize(De,Ge,xt,Jt){const pn=Ge.tokenize(xt,Jt),zt=nr._toClassicTokens(pn.tokens,De);let On;return On=pn.endState.equals(Jt)?Jt:pn.endState,new K.hG(zt,On)}tokenize(De,Ge,xt){return nr.adaptTokenize(this._languageId,this._actual,De,xt)}_toBinaryTokens(De,Ge){const xt=De.encodeLanguageId(this._languageId),Jt=this._standaloneThemeService.getColorTheme().tokenTheme,pn=[];let zt=0,On=0;for(let Qn=0,qn=Ge.length;Qn<qn;Qn++){const kn=Ge[Qn],xi=Jt.match(xt,kn.scopes);if(zt>0&&pn[zt-1]===xi)continue;let Ti=kn.startIndex;0===Qn?Ti=0:Ti<On&&(Ti=On),pn[zt++]=Ti,pn[zt++]=xi,On=Ti}const Xn=new Uint32Array(zt);for(let Qn=0;Qn<zt;Qn++)Xn[Qn]=pn[Qn];return Xn}tokenizeEncoded(De,Ge,xt){const Jt=this._actual.tokenize(De,xt),pn=this._toBinaryTokens(this._languageService.languageIdCodec,Jt.tokens);let zt;return zt=Jt.endState.equals(xt)?xt:Jt.endState,new K.DI(pn,zt)}}function mr(Vt){return Vt&&"function"==typeof Vt.then}function Lr(Vt){const De=at.IO.get(on.Z);if(Vt){const Ge=[null];for(let xt=1,Jt=Vt.length;xt<Jt;xt++)Ge[xt]=xs.Il.fromHex(Vt[xt]);De.setColorMapOverride(Ge)}else De.setColorMapOverride(null)}function lo(Vt,De){return function Er(Vt){return"tokenizeEncoded"in Vt}(De)?new tr(Vt,De):new nr(Vt,De,at.IO.get(N.O),at.IO.get(on.Z))}function Po(Vt,De){return K.RW.registerFactory(Vt,{createTokenizationSupport:()=>function(Vt,De,Ge,xt){return new(Ge||(Ge=Promise))(function(pn,zt){function On(qn){try{Qn(xt.next(qn))}catch(kn){zt(kn)}}function Xn(qn){try{Qn(xt.throw(qn))}catch(kn){zt(kn)}}function Qn(qn){qn.done?pn(qn.value):function Jt(pn){return pn instanceof Ge?pn:new Ge(function(zt){zt(pn)})}(qn.value).then(On,Xn)}Qn((xt=xt.apply(Vt,De||[])).next())})}(this,void 0,void 0,function*(){const xt=yield Promise.resolve(De.create());return xt?function Ts(Vt){return"function"==typeof Vt.getInitialState}(xt)?lo(Vt,xt):new qe(at.IO.get(N.O),at.IO.get(on.Z),Vt,er(Vt,xt),at.IO.get(Lt.Ui)):null})})}function as(Vt,De){if(!at.IO.get(N.O).isRegisteredLanguageId(Vt))throw new Error(`Cannot set tokens provider for unknown language ${Vt}`);return mr(De)?Po(Vt,{create:()=>De}):K.RW.register(Vt,lo(Vt,De))}function ls(Vt,De){return mr(De)?Po(Vt,{create:()=>De}):K.RW.register(Vt,(xt=De,new qe(at.IO.get(N.O),at.IO.get(on.Z),Vt,er(Vt,xt),at.IO.get(Lt.Ui))));var xt}function vs(Vt,De){return at.IO.get(fi.p).referenceProvider.register(Vt,De)}function hs(Vt,De){return at.IO.get(fi.p).renameProvider.register(Vt,De)}function Ps(Vt,De){return at.IO.get(fi.p).signatureHelpProvider.register(Vt,De)}function Qs(Vt,De){return at.IO.get(fi.p).hoverProvider.register(Vt,{provideHover:(xt,Jt,pn)=>{const zt=xt.getWordAtPosition(Jt);return Promise.resolve(De.provideHover(xt,Jt,pn)).then(On=>{if(On)return!On.range&&zt&&(On.range=new V.e(Jt.lineNumber,zt.startColumn,Jt.lineNumber,zt.endColumn)),On.range||(On.range=new V.e(Jt.lineNumber,Jt.column,Jt.lineNumber,Jt.column)),On})}})}function Rr(Vt,De){return at.IO.get(fi.p).documentSymbolProvider.register(Vt,De)}function sa(Vt,De){return at.IO.get(fi.p).documentHighlightProvider.register(Vt,De)}function Ks(Vt,De){return at.IO.get(fi.p).linkedEditingRangeProvider.register(Vt,De)}function An(Vt,De){return at.IO.get(fi.p).definitionProvider.register(Vt,De)}function te(Vt,De){return at.IO.get(fi.p).implementationProvider.register(Vt,De)}function pe(Vt,De){return at.IO.get(fi.p).typeDefinitionProvider.register(Vt,De)}function We(Vt,De){return at.IO.get(fi.p).codeLensProvider.register(Vt,De)}function Et(Vt,De,Ge){return at.IO.get(fi.p).codeActionProvider.register(Vt,{providedCodeActionKinds:Ge?.providedCodeActionKinds,documentation:Ge?.documentation,provideCodeActions:(Jt,pn,zt,On)=>{const Qn=at.IO.get(Gt.lT).read({resource:Jt.uri}).filter(qn=>V.e.areIntersectingOrTouching(qn,pn));return De.provideCodeActions(Jt,pn,{markers:Qn,only:zt.only,trigger:zt.trigger},On)},resolveCodeAction:De.resolveCodeAction})}function At(Vt,De){return at.IO.get(fi.p).documentFormattingEditProvider.register(Vt,De)}function rn(Vt,De){return at.IO.get(fi.p).documentRangeFormattingEditProvider.register(Vt,De)}function wn(Vt,De){return at.IO.get(fi.p).onTypeFormattingEditProvider.register(Vt,De)}function oi(Vt,De){return at.IO.get(fi.p).linkProvider.register(Vt,De)}function _i(Vt,De){return at.IO.get(fi.p).completionProvider.register(Vt,De)}function Ni(Vt,De){return at.IO.get(fi.p).colorProvider.register(Vt,De)}function wo(Vt,De){return at.IO.get(fi.p).foldingRangeProvider.register(Vt,De)}function ts(Vt,De){return at.IO.get(fi.p).declarationProvider.register(Vt,De)}function Fo(Vt,De){return at.IO.get(fi.p).selectionRangeProvider.register(Vt,De)}function Ns(Vt,De){return at.IO.get(fi.p).documentSemanticTokensProvider.register(Vt,De)}function Ys(Vt,De){return at.IO.get(fi.p).documentRangeSemanticTokensProvider.register(Vt,De)}function xr(Vt,De){return at.IO.get(fi.p).inlineCompletionsProvider.register(Vt,De)}function Yr(Vt,De){return at.IO.get(fi.p).inlayHintsProvider.register(Vt,De)}var rs,Wa=e(8841),Ca=e(25541);d.BH.wrappingIndent.defaultValue=0,d.BH.glyphMargin.defaultValue=!1,d.BH.autoIndent.defaultValue=3,d.BH.overviewRulerLanes.defaultValue=2,Ca.xC.setFormatterSelector((Vt,De,Ge)=>Promise.resolve(Vt[0]));const Hs=(0,n.O)();Hs.editor=function fr(){return{create:cn,getEditors:ei,getDiffEditors:Jn,onDidCreateEditor:Ln,onDidCreateDiffEditor:In,createDiffEditor:gi,createDiffNavigator:pi,addCommand:Ci,addEditorAction:Mi,addKeybindingRule:Bi,addKeybindingRules:$i,createModel:zi,setModelLanguage:_o,setModelMarkers:jo,getModelMarkers:ss,removeAllMarkers:To,onDidChangeMarkers:sr,getModels:Qo,getModel:_s,onDidCreateModel:$o,onWillDisposeModel:wr,onDidChangeModelLanguage:Ds,createWebWorker:rr,colorizeElement:Xo,colorize:ar,colorizeModelLine:Ws,tokenize:hr,defineTheme:$s,setTheme:Dr,remeasureFonts:ks,registerCommand:Es,AccessibilitySupport:Ee.ao,ContentWidgetPositionPreference:Ee.r3,CursorChangeReason:Ee.Vi,DefaultEndOfLine:Ee._x,EditorAutoIndentStrategy:Ee.rf,EditorOption:Ee.wT,EndOfLinePreference:Ee.gm,EndOfLineSequence:Ee.jl,MinimapPosition:Ee.F5,MouseTargetType:Ee.MG,OverlayWidgetPositionPreference:Ee.E$,OverviewRulerLane:Ee.sh,RenderLineNumbersType:Ee.Lu,RenderMinimap:Ee.vQ,ScrollbarVisibility:Ee.g_,ScrollType:Ee.g4,TextEditorCursorBlinkingStyle:Ee.In,TextEditorCursorStyle:Ee.d2,TrackedRangeStickiness:Ee.OI,WrappingIndent:Ee.up,InjectedTextCursorStops:Ee.RM,PositionAffinity:Ee.py,ConfigurationChangedEvent:d.Bb,BareFontInfo:k.E4,FontInfo:k.pR,TextModelResolvedOptions:j.dJ,FindMatch:j.tk,ApplyUpdateResult:d.rk,EditorType:F.g,EditorOptions:d.BH}}(),Hs.languages=function ra(){return{register:jr,getLanguages:Zs,onLanguage:Gi,getEncodedLanguageId:As,setLanguageConfiguration:dr,setColorMap:Lr,registerTokensProviderFactory:Po,setTokensProvider:as,setMonarchTokensProvider:ls,registerReferenceProvider:vs,registerRenameProvider:hs,registerCompletionItemProvider:_i,registerSignatureHelpProvider:Ps,registerHoverProvider:Qs,registerDocumentSymbolProvider:Rr,registerDocumentHighlightProvider:sa,registerLinkedEditingRangeProvider:Ks,registerDefinitionProvider:An,registerImplementationProvider:te,registerTypeDefinitionProvider:pe,registerCodeLensProvider:We,registerCodeActionProvider:Et,registerDocumentFormattingEditProvider:At,registerDocumentRangeFormattingEditProvider:rn,registerOnTypeFormattingEditProvider:wn,registerLinkProvider:oi,registerColorProvider:Ni,registerFoldingRangeProvider:wo,registerDeclarationProvider:ts,registerSelectionRangeProvider:Fo,registerDocumentSemanticTokensProvider:Ns,registerDocumentRangeSemanticTokensProvider:Ys,registerInlineCompletionsProvider:xr,registerInlayHintsProvider:Yr,DocumentHighlightKind:Ee.MY,CompletionItemKind:Ee.cm,CompletionItemTag:Ee.we,CompletionItemInsertTextRule:Ee.a7,SymbolKind:Ee.cR,SymbolTag:Ee.r4,IndentAction:Ee.wU,CompletionTriggerKind:Ee.Ij,SignatureHelpTriggerKind:Ee.WW,InlayHintKind:Ee.gl,InlineCompletionTriggerKind:Ee.bw,CodeActionTriggerType:Ee.np,FoldingRangeKind:K.AD}}();const ba=Hs.CancellationTokenSource,es=Hs.Emitter,Cr=Hs.KeyCode,Or=Hs.KeyMod,Ui=Hs.Position,Va=Hs.Range,Jo=Hs.Selection,Xs=Hs.SelectionDirection,ya=Hs.MarkerSeverity,aa=Hs.MarkerTag,la=Hs.Uri,da=Hs.Token,Bo=Hs.editor,br=Hs.languages;((null===(rs=Wa.li.MonacoEnvironment)||void 0===rs?void 0:rs.globalAPI)||"function"==typeof define&&e.amdO)&&(self.monaco=Hs),typeof self.require<"u"&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},3247:(Dt,Y,e)=>{"use strict";var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(27651),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t)},51426:(Dt,Y,e)=>{"use strict";var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(4316),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t)},57948:(Dt,Y,e)=>{"use strict";var d=e(57856),n=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(87253),t={};t.styleTagTransform=m(),t.setAttributes=E(),t.insert=T().bind(null,"head"),t.domAPI=S(),t.insertStyleElement=_(),n()(c.Z,t)},57856:Dt=>{"use strict";var Y=[];function e(l){for(var S=-1,v=0;v<Y.length;v++)if(Y[v].identifier===l){S=v;break}return S}function d(l,S){for(var v={},T=[],C=0;C<l.length;C++){var E=l[C],L=S.base?E[0]+S.base:E[0],_=v[L]||0,s="".concat(L," ").concat(_);v[L]=_+1;var m=e(s),c={css:E[1],media:E[2],sourceMap:E[3],supports:E[4],layer:E[5]};if(-1!==m)Y[m].references++,Y[m].updater(c);else{var t=n(c,S);S.byIndex=C,Y.splice(C,0,{identifier:s,updater:t,references:1})}T.push(s)}return T}function n(l,S){var v=S.domAPI(S);return v.update(l),function(E){if(E){if(E.css===l.css&&E.media===l.media&&E.sourceMap===l.sourceMap&&E.supports===l.supports&&E.layer===l.layer)return;v.update(l=E)}else v.remove()}}Dt.exports=function(l,S){var v=d(l=l||[],S=S||{});return function(C){C=C||[];for(var E=0;E<v.length;E++){var _=e(v[E]);Y[_].references--}for(var s=d(C,S),m=0;m<v.length;m++){var t=e(v[m]);0===Y[t].references&&(Y[t].updater(),Y.splice(t,1))}v=s}}},43370:Dt=>{"use strict";var Y={};Dt.exports=function d(n,l){var S=function e(n){if(typeof Y[n]>"u"){var l=document.querySelector(n);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch{l=null}Y[n]=l}return Y[n]}(n);if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(l)}},71278:Dt=>{"use strict";Dt.exports=function Y(e){var d=document.createElement("style");return e.setAttributes(d,e.attributes),e.insert(d,e.options),d}},28458:(Dt,Y,e)=>{"use strict";Dt.exports=function d(n){var l=e.nc;l&&n.setAttribute("nonce",l)}},38470:Dt=>{"use strict";Dt.exports=function d(n){var l=n.insertStyleElement(n);return{update:function(v){!function Y(n,l,S){var v="";S.supports&&(v+="@supports (".concat(S.supports,") {")),S.media&&(v+="@media ".concat(S.media," {"));var T=typeof S.layer<"u";T&&(v+="@layer".concat(S.layer.length>0?" ".concat(S.layer):""," {")),v+=S.css,T&&(v+="}"),S.media&&(v+="}"),S.supports&&(v+="}");var C=S.sourceMap;C&&typeof btoa<"u"&&(v+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),l.styleTagTransform(v,n,l.options)}(l,n,v)},remove:function(){!function e(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(l)}}}},29488:Dt=>{"use strict";Dt.exports=function Y(e,d){if(d.styleSheet)d.styleSheet.cssText=e;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(e))}}},78708:(Dt,Y,e)=>{"use strict";e.r(Y),e.d(Y,{Breakpoint:()=>Lu,CallHierarchyIncomingCall:()=>xu,CallHierarchyItem:()=>Iu,CallHierarchyOutgoingCall:()=>Tu,CancellationError:()=>Mu,CancellationTokenSource:()=>Au,CodeAction:()=>Pu,CodeActionKind:()=>Nu,CodeActionTriggerKind:()=>Ru,CodeLens:()=>Ou,Color:()=>ku,ColorInformation:()=>Fu,ColorPresentation:()=>Bu,ColorThemeKind:()=>Wu,CommentMode:()=>Vu,CommentThreadCollapsibleState:()=>Hu,CompletionItem:()=>Uu,CompletionItemKind:()=>ju,CompletionItemTag:()=>zu,CompletionList:()=>Ku,CompletionTriggerKind:()=>$u,ConfigurationTarget:()=>Gu,CustomExecution:()=>Zu,DataTransfer:()=>$f,DataTransferItem:()=>Gf,DebugAdapterExecutable:()=>Qu,DebugAdapterInlineImplementation:()=>Yu,DebugAdapterNamedPipeServer:()=>Xu,DebugAdapterServer:()=>Ju,DebugConfigurationProviderTriggerKind:()=>qu,DebugConsoleMode:()=>eh,DecorationRangeBehavior:()=>th,Diagnostic:()=>nh,DiagnosticRelatedInformation:()=>ih,DiagnosticSeverity:()=>oh,DiagnosticTag:()=>sh,Disposable:()=>rh,DocumentDropEdit:()=>ag,DocumentHighlight:()=>ah,DocumentHighlightKind:()=>lh,DocumentLink:()=>dh,DocumentSymbol:()=>ch,EndOfLine:()=>uh,EnvironmentVariableMutatorType:()=>hh,EvaluatableExpression:()=>fh,EventEmitter:()=>_h,ExtensionKind:()=>vh,ExtensionMode:()=>Ch,FileChangeType:()=>bh,FileDecoration:()=>yh,FilePermission:()=>Dh,FileSystemError:()=>Sh,FileType:()=>wh,FoldingRange:()=>Eh,FoldingRangeKind:()=>Lh,FunctionBreakpoint:()=>xh,Hover:()=>Ih,IndentAction:()=>Th,InlayHint:()=>Tf,InlayHintKind:()=>Af,InlayHintLabelPart:()=>Mf,InlineCompletionItem:()=>rg,InlineCompletionList:()=>og,InlineCompletionTriggerKind:()=>sg,InlineValueEvaluatableExpression:()=>ph,InlineValueText:()=>gh,InlineValueVariableLookup:()=>mh,InputBoxValidationSeverity:()=>ig,LanguageStatusSeverity:()=>Zf,LinkedEditingRanges:()=>Hf,Location:()=>Mh,MarkdownString:()=>Ah,NotebookCellData:()=>Rf,NotebookCellKind:()=>Nf,NotebookCellOutput:()=>Ff,NotebookCellOutputItem:()=>Bf,NotebookCellStatusBarAlignment:()=>kf,NotebookCellStatusBarItem:()=>Wf,NotebookControllerAffinity:()=>Vf,NotebookData:()=>Of,NotebookEditorRevealType:()=>lg,NotebookRange:()=>Pf,OverviewRulerLane:()=>Ph,ParameterInformation:()=>Nh,Position:()=>Rh,ProcessExecution:()=>Oh,ProgressLocation:()=>kh,QuickInputButtons:()=>Fh,QuickPickItemKind:()=>Qf,Range:()=>Bh,RelativePattern:()=>Wh,Selection:()=>Vh,SelectionRange:()=>Hh,SemanticTokens:()=>Uh,SemanticTokensBuilder:()=>jh,SemanticTokensEdit:()=>zh,SemanticTokensEdits:()=>Kh,SemanticTokensLegend:()=>$h,ShellExecution:()=>Gh,ShellQuoting:()=>Zh,SignatureHelp:()=>Qh,SignatureHelpTriggerKind:()=>Yh,SignatureInformation:()=>Xh,SnippetString:()=>Jh,SourceBreakpoint:()=>qh,StatusBarAlignment:()=>ef,SymbolInformation:()=>tf,SymbolKind:()=>nf,SymbolTag:()=>of,TabInputCustom:()=>Jf,TabInputNotebook:()=>qf,TabInputNotebookDiff:()=>eg,TabInputTerminal:()=>ng,TabInputText:()=>Yf,TabInputTextDiff:()=>Xf,TabInputWebview:()=>tg,Task:()=>sf,TaskGroup:()=>rf,TaskPanelKind:()=>af,TaskRevealKind:()=>lf,TaskScope:()=>df,TerminalLink:()=>cf,TerminalLocation:()=>uf,TerminalProfile:()=>hf,TestMessage:()=>jf,TestRunProfileKind:()=>Kf,TestRunRequest:()=>Uf,TestTag:()=>zf,TextDocumentChangeReason:()=>Cf,TextDocumentSaveReason:()=>ff,TextEdit:()=>gf,TextEditorCursorStyle:()=>mf,TextEditorLineNumbersStyle:()=>pf,TextEditorRevealType:()=>_f,TextEditorSelectionChangeKind:()=>vf,ThemeColor:()=>bf,ThemeIcon:()=>yf,TreeItem:()=>Sf,TreeItemCollapsibleState:()=>wf,TypeHierarchyItem:()=>Df,UIKind:()=>Ef,Uri:()=>Lf,ViewColumn:()=>xf,WorkspaceEdit:()=>If,authentication:()=>Cu,commands:()=>Su,comments:()=>vu,debug:()=>pu,env:()=>yu,extensions:()=>_u,languages:()=>Eu,notebooks:()=>gu,scm:()=>mu,tasks:()=>fu,tests:()=>bu,version:()=>hu,window:()=>wu,workspace:()=>Du});var d=e(17374),n=e(61699),l=e(67044),S=e(4496),v=e(39021),T=e(4125),C=e(59547),E=e(64023),L=e(15067),_=e(72715),s=e(73879),m=e(34189),c=e(5067),t=e(48701),a=e(26662),p=e(89982),u=e(58177),g=e(61408),b=e(6276),y=e(92192),w=e(32068),D=e(9265),x=e(93979),P=e(29693),O=e(80142),V=e(34042),H=e(66549),z=e(59310),k=e(40734),F=e(3778),j=e(55197),K=e(48648),U=e(73888),ne=e(98950),N=e(94772),W=e(50894),Z=e(50819),ge=e(40902),M=e(54436),we=e(24596),Ee=e(73622),xe=e(78610),Ne=e(827),oe=e(55538),Se=e(65484),Ie=e(1149),me=e(45358),Me=e(59602),de=e(81534),ke=e(84575),Ue=e(27386),ze=e(1999),ce=e(61283),Ve=e(15240),tt=e(8841),Ct=e(47629),Lt=e(61254),$e=e(31583),ae=e(18623),ve=e(54862),he=e(33745),le=e(25787),Q=e(91353),Ce=e(24131),Pe=e(37188),dt=e(61560),st=e(44827),qe=e(45802),Qe=e(45337),et=e(631),vt=e(46090),mt=e(94911),_t=e(90790),$t=e(1187),Bt=e(15945),Ke=e(29093),ht=e(94667),jt=e(4259),fn=e(7886),Dn=e(99775),yt=e(53559);function He(ie){return(0,C.q)(ie,!0)}const Ae=new class ye{constructor(o){this._ignorePathCasing=o}compare(o,f,A=!1){return o===f?0:(0,s.qu)(this.getComparisonKey(o,A),this.getComparisonKey(f,A))}isEqual(o,f,A=!1){return o===f||!(!o||!f)&&this.getComparisonKey(o,A)===this.getComparisonKey(f,A)}getComparisonKey(o,f=!1){return o.with({path:this._ignorePathCasing(o)?o.path.toLowerCase():void 0,fragment:f?null:void 0}).toString()}ignorePathCasing(o){return this._ignorePathCasing(o)}isEqualOrParent(o,f,A=!1){if(o.scheme===f.scheme){if(o.scheme===z.lg.file)return(0,Ve.KM)(He(o),He(f),this._ignorePathCasing(o))&&o.query===f.query&&(A||o.fragment===f.fragment);if(be(o.authority,f.authority))return(0,Ve.KM)(o.path,f.path,this._ignorePathCasing(o),"/")&&o.query===f.query&&(A||o.fragment===f.fragment)}return!1}joinPath(o,...f){return C.o.joinPath(o,...f)}basenameOrAuthority(o){return ue(o)||o.authority}basename(o){return ce.KR.basename(o.path)}extname(o){return ce.KR.extname(o.path)}dirname(o){if(0===o.path.length)return o;let f;return o.scheme===z.lg.file?f=C.o.file((0,ce.XX)(He(o))).path:(f=ce.KR.dirname(o.path),o.authority&&f.length&&47!==f.charCodeAt(0)&&(console.error(`dirname("${o.toString})) resulted in a relative path`),f="/")),o.with({path:f})}normalizePath(o){if(!o.path.length)return o;let f;return f=o.scheme===z.lg.file?C.o.file((0,ce.Fv)(He(o))).path:ce.KR.normalize(o.path),o.with({path:f})}relativePath(o,f){if(o.scheme!==f.scheme||!be(o.authority,f.authority))return;if(o.scheme===z.lg.file){const re=(0,ce.Gf)(He(o),He(f));return tt.ED?(0,Ve.ej)(re):re}let A=o.path||"/";const G=f.path||"/";if(this._ignorePathCasing(o)){let re=0;for(const Oe=Math.min(A.length,G.length);re<Oe&&(A.charCodeAt(re)===G.charCodeAt(re)||A.charAt(re).toLowerCase()===G.charAt(re).toLowerCase());re++);A=G.substr(0,re)+A.substr(re)}return ce.KR.relative(A,G)}resolvePath(o,f){if(o.scheme===z.lg.file){const A=C.o.file((0,ce.DB)(He(o),f));return o.with({authority:A.authority,path:A.path})}return f=(0,Ve.fn)(f),o.with({path:ce.KR.resolve(o.path,f)})}isAbsolutePath(o){return!!o.path&&"/"===o.path[0]}isEqualAuthority(o,f){return o===f||void 0!==o&&void 0!==f&&(0,s.qq)(o,f)}hasTrailingPathSeparator(o,f=ce.ir){if(o.scheme===z.lg.file){const A=He(o);return A.length>(0,Ve.yj)(A).length&&A[A.length-1]===f}{const A=o.path;return A.length>1&&47===A.charCodeAt(A.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(o.fsPath)}}removeTrailingPathSeparator(o,f=ce.ir){return Je(o,f)?o.with({path:o.path.substr(0,o.path.length-1)}):o}addTrailingPathSeparator(o,f=ce.ir){let A=!1;if(o.scheme===z.lg.file){const G=He(o);A=void 0!==G&&G.length===(0,Ve.yj)(G).length&&G[G.length-1]===f}else{f="/";const G=o.path;A=1===G.length&&47===G.charCodeAt(G.length-1)}return A||Je(o,f)?o:o.with({path:o.path+"/"})}}(()=>!1);Ae.isEqual.bind(Ae),Ae.isEqualOrParent.bind(Ae),Ae.getComparisonKey.bind(Ae),Ae.basenameOrAuthority.bind(Ae);const ue=Ae.basename.bind(Ae);Ae.extname.bind(Ae),Ae.dirname.bind(Ae),Ae.joinPath.bind(Ae),Ae.normalizePath.bind(Ae),Ae.relativePath.bind(Ae),Ae.resolvePath.bind(Ae),Ae.isAbsolutePath.bind(Ae);const be=Ae.isEqualAuthority.bind(Ae),Je=Ae.hasTrailingPathSeparator.bind(Ae);Ae.removeTrailingPathSeparator.bind(Ae),Ae.addTrailingPathSeparator.bind(Ae);const nt=p.Range,bt=p.languages.FoldingRangeKind,vn="vscode://schemas/settings/resourceLanguage",St=jt.B.as(fn.I.JSONContribution),Vn="\\[([^\\]]+)\\]",Sn=new RegExp(Vn,"g"),ci=new RegExp(`^(${Vn})+$`);function ii(ie){const o=[];if(ci.test(ie)){let f=Sn.exec(ie);for(;f?.length;){const A=f[1].trim();A&&o.push(A),f=Sn.exec(ie)}}return(0,E.EB)(o)}const no=new class gn{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new l.E,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new l.E,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:(0,j.NC)("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},St.registerSchema(vn,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(o,f=!0){this.registerConfigurations([o],f)}registerConfigurations(o,f=!0){const A=this.doRegisterConfigurations(o,f);St.registerSchema(vn,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:A})}deregisterConfigurations(o){const f=this.doDeregisterConfigurations(o);St.registerSchema(vn,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:f})}updateConfigurations({add:o,remove:f}){const A=[];A.push(...this.doDeregisterConfigurations(f)),A.push(...this.doRegisterConfigurations(o,!1)),St.registerSchema(vn,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:(0,E.EB)(A)})}registerDefaultConfigurations(o){const f=[],A=[];for(const{overrides:G,source:re}of o)for(const Oe in G)if(f.push(Oe),ci.test(Oe)){const Xe=this.configurationDefaultsOverrides.get(Oe),Mt=Xe?.valuesSources??new Map;if(re)for(const Si of Object.keys(G[Oe]))Mt.set(Si,re);const _n={...Xe?.value||{},...G[Oe]};this.configurationDefaultsOverrides.set(Oe,{source:re,value:_n,valuesSources:Mt});const Un=(0,ht.UI)(Oe),ui={type:"object",default:_n,description:(0,j.NC)("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Un),$ref:vn,defaultDefaultValue:_n,source:(0,_.HD)(re)?void 0:re,defaultValueSource:re};A.push(...ii(Oe)),this.configurationProperties[Oe]=ui,this.defaultLanguageConfigurationOverridesNode.properties[Oe]=ui}else{this.configurationDefaultsOverrides.set(Oe,{value:G[Oe],source:re});const Xe=this.configurationProperties[Oe];Xe&&(this.updatePropertyDefaultValue(Oe,Xe),this.updateSchema(Oe,Xe))}this.registerOverrideIdentifiers(A),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:f,defaultsOverrides:!0})}deregisterDefaultConfigurations(o){const f=[];for(const{overrides:A,source:G}of o)for(const re in A){const Oe=this.configurationDefaultsOverrides.get(re);if(((0,_.HD)(G)?G:G?.id)===((0,_.HD)(Oe?.source)?Oe?.source:Oe?.source?.id))if(f.push(re),this.configurationDefaultsOverrides.delete(re),ci.test(re))delete this.configurationProperties[re],delete this.defaultLanguageConfigurationOverridesNode.properties[re];else{const _n=this.configurationProperties[re];_n&&(this.updatePropertyDefaultValue(re,_n),this.updateSchema(re,_n))}}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:f,defaultsOverrides:!0})}notifyConfigurationSchemaUpdated(...o){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(o){for(const f of o)this.overrideIdentifiers.add(f);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(o,f){const A=[];return o.forEach(G=>{A.push(...this.validateAndRegisterProperties(G,f,G.extensionInfo,G.restrictedProperties)),this.configurationContributors.push(G),this.registerJSONConfiguration(G)}),A}doDeregisterConfigurations(o){const f=[],A=G=>{if(G.properties)for(const re in G.properties){f.push(re);const Oe=this.configurationProperties[re];Oe?.policy?.name&&this.policyConfigurations.delete(Oe.policy.name),delete this.configurationProperties[re],this.removeFromSchema(re,G.properties[re])}G.allOf?.forEach(re=>A(re))};for(const G of o){A(G);const re=this.configurationContributors.indexOf(G);-1!==re&&this.configurationContributors.splice(re,1)}return f}validateAndRegisterProperties(o,f=!0,A,G,re=3){re=(0,_.Jp)(o.scope)?re:o.scope;const Oe=[],Xe=o.properties;if(Xe)for(const _n in Xe){const Un=Xe[_n];f&&to(_n,Un)?delete Xe[_n]:(Un.source=A,Un.defaultDefaultValue=Xe[_n].default,this.updatePropertyDefaultValue(_n,Un),ci.test(_n)?Un.scope=void 0:(Un.scope=(0,_.Jp)(Un.scope)?re:Un.scope,Un.restricted=(0,_.Jp)(Un.restricted)?!!G?.includes(_n):Un.restricted),!Xe[_n].hasOwnProperty("included")||Xe[_n].included?(this.configurationProperties[_n]=Xe[_n],Xe[_n].policy?.name&&this.policyConfigurations.set(Xe[_n].policy.name,_n),!Xe[_n].deprecationMessage&&Xe[_n].markdownDeprecationMessage&&(Xe[_n].deprecationMessage=Xe[_n].markdownDeprecationMessage),Oe.push(_n)):(this.excludedConfigurationProperties[_n]=Xe[_n],delete Xe[_n]))}const Mt=o.allOf;if(Mt)for(const _n of Mt)Oe.push(...this.validateAndRegisterProperties(_n,f,A,G,re));return Oe}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getConfigurationDefaultsOverrides(){return this.configurationDefaultsOverrides}registerJSONConfiguration(o){const f=A=>{const G=A.properties;if(G)for(const Oe in G)this.updateSchema(Oe,G[Oe]);A.allOf?.forEach(f)};f(o)}updateSchema(o,f){switch(f.scope){case 1:case 2:case 6:case 3:case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[o]=f}}removeFromSchema(o,f){switch(f.scope){case 1:case 2:case 6:case 3:break;case 4:case 5:delete this.resourceLanguageSettingsSchema.properties[o]}}updateOverridePropertyPatternKey(){for(const o of this.overrideIdentifiers.values()){const f=`[${o}]`,A={type:"object",description:(0,j.NC)("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:(0,j.NC)("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:vn};this.updatePropertyDefaultValue(f,A)}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){this._onDidSchemaChange.fire()}updatePropertyDefaultValue(o,f){const A=this.configurationDefaultsOverrides.get(o);let G=A?.value,re=A?.source;(0,_.o8)(G)&&(G=f.defaultDefaultValue,re=void 0),(0,_.o8)(G)&&(G=function Ei(ie){switch(Array.isArray(ie)?ie[0]:ie){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(f.type)),f.default=G,f.defaultValueSource=re}};function to(ie,o){return ie.trim()?ci.test(ie)?(0,j.NC)("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",ie):void 0!==no.getConfigurationProperties()[ie]?(0,j.NC)("config.property.duplicate","Cannot register '{0}'. This property is already registered.",ie):o.policy?.name&&void 0!==no.getPolicyConfigurations().get(o.policy?.name)?(0,j.NC)("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",ie,o.policy?.name,no.getPolicyConfigurations().get(o.policy?.name)):null:(0,j.NC)("config.property.empty","Cannot register an empty property")}const io=p.Position,si=/^(.+)\/(.+?)(;.+)?$/;function Yt(ie,o){const f=si.exec(ie);return f?`${f[1].toLowerCase()}/${f[2].toLowerCase()}${f[3]??""}`:o?void 0:ie}const pt=a.T.marked;class nn{constructor(){this._next=0}getNext(){return this._next++}}var an,mn,Nn,jn,Yn,wi,Li,Qi,Pi,Ki,Wi,ro,mo,Ko,Eo,Mo,Io,Yi,ho,Ao,li,Xt;function kt(ie){function o(){return Reflect.construct(ie,arguments,this.constructor)}return Object.defineProperty(o,"name",Object.getOwnPropertyDescriptor(ie,"name")),Object.setPrototypeOf(o,ie),Object.setPrototypeOf(o.prototype,ie.prototype),o}let un=wi=class{constructor(o){an.set(this,void 0),(0,l.b)(this,an,o,"f")}static from(...o){let f=o;return new wi(function(){if(f){for(const A of f)A&&"function"==typeof A.dispose&&A.dispose();f=void 0}})}dispose(){"function"==typeof(0,l.c)(this,an,"f")&&((0,l.c)(this,an,"f").call(this),(0,l.b)(this,an,void 0,"f"))}};an=new WeakMap,un=wi=(0,l._)([kt],un);let Rn=Li=class{constructor(o,f){if(o<0)throw(0,T.b1)("line must be non-negative");if(f<0)throw(0,T.b1)("character must be non-negative");this._line=o,this._character=f}static Min(...o){if(0===o.length)throw new TypeError;let f=o[0];for(let A=1;A<o.length;A++){const G=o[A];G.isBefore(f)&&(f=G)}return f}static Max(...o){if(0===o.length)throw new TypeError;let f=o[0];for(let A=1;A<o.length;A++){const G=o[A];G.isAfter(f)&&(f=G)}return f}static isPosition(o){if(!o)return!1;if(o instanceof Li)return!0;const{line:f,character:A}=o;return"number"==typeof f&&"number"==typeof A}static of(o){if(o instanceof Li)return o;if(this.isPosition(o))return new Li(o.line,o.character);throw new Error("Invalid argument, is NOT a position-like object")}get line(){return this._line}get character(){return this._character}isBefore(o){return this._line<o._line||!(o._line<this._line)&&this._character<o._character}isBeforeOrEqual(o){return this._line<o._line||!(o._line<this._line)&&this._character<=o._character}isAfter(o){return!this.isBeforeOrEqual(o)}isAfterOrEqual(o){return!this.isBefore(o)}isEqual(o){return this._line===o._line&&this._character===o._character}compareTo(o){return this._line<o._line?-1:this._line>o.line?1:this._character<o._character?-1:this._character>o._character?1:0}translate(o,f=0){if(null===o||null===f)throw(0,T.b1)();let A;return typeof o>"u"?A=0:"number"==typeof o?A=o:(A="number"==typeof o.lineDelta?o.lineDelta:0,f="number"==typeof o.characterDelta?o.characterDelta:0),0===A&&0===f?this:new Li(this.line+A,this.character+f)}with(o,f=this.character){if(null===o||null===f)throw(0,T.b1)();let A;return typeof o>"u"?A=this.line:"number"==typeof o?A=o:(A="number"==typeof o.line?o.line:this.line,f="number"==typeof o.character?o.character:this.character),A===this.line&&f===this.character?this:new Li(A,f)}toJSON(){return{line:this.line,character:this.character}}};Rn=Li=(0,l._)([kt],Rn);let Wn=Qi=class{constructor(o,f,A,G){let re,Oe;if("number"==typeof o&&"number"==typeof f&&"number"==typeof A&&"number"==typeof G?(re=new Rn(o,f),Oe=new Rn(A,G)):Rn.isPosition(o)&&Rn.isPosition(f)&&(re=Rn.of(o),Oe=Rn.of(f)),!re||!Oe)throw new Error("Invalid arguments");re.isBefore(Oe)?(this._start=re,this._end=Oe):(this._start=Oe,this._end=re)}static isRange(o){return o instanceof Qi||!!o&&Rn.isPosition(o.start)&&Rn.isPosition(o.end)}static of(o){if(o instanceof Qi)return o;if(this.isRange(o))return new Qi(o.start,o.end);throw new Error("Invalid argument, is NOT a range-like object")}get start(){return this._start}get end(){return this._end}contains(o){return Qi.isRange(o)?this.contains(o.start)&&this.contains(o.end):!!Rn.isPosition(o)&&!(Rn.of(o).isBefore(this._start)||this._end.isBefore(o))}isEqual(o){return this._start.isEqual(o._start)&&this._end.isEqual(o._end)}intersection(o){const f=Rn.Max(o.start,this._start),A=Rn.Min(o.end,this._end);if(!f.isAfter(A))return new Qi(f,A)}union(o){if(this.contains(o))return this;if(o.contains(this))return o;const f=Rn.Min(o.start,this._start),A=Rn.Max(o.end,this.end);return new Qi(f,A)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(o,f=this.end){if(null===o||null===f)throw(0,T.b1)();let A;return o?Rn.isPosition(o)?A=o:(A=o.start||this.start,f=o.end||this.end):A=this.start,A.isEqual(this._start)&&f.isEqual(this.end)?this:new Qi(A,f)}toJSON(){return[this.start,this.end]}};Wn=Qi=(0,l._)([kt],Wn);let dn=Pi=class extends Wn{constructor(o,f,A,G){let re,Oe;if("number"==typeof o&&"number"==typeof f&&"number"==typeof A&&"number"==typeof G?(re=new Rn(o,f),Oe=new Rn(A,G)):Rn.isPosition(o)&&Rn.isPosition(f)&&(re=Rn.of(o),Oe=Rn.of(f)),!re||!Oe)throw new Error("Invalid arguments");super(re,Oe),this._anchor=re,this._active=Oe}static isSelection(o){return o instanceof Pi||!!o&&Wn.isRange(o)&&Rn.isPosition(o.anchor)&&Rn.isPosition(o.active)&&"boolean"==typeof o.isReversed}get anchor(){return this._anchor}get active(){return this._active}get isReversed(){return this._anchor===this._end}toJSON(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}};dn=Pi=(0,l._)([kt],dn);var ft=(()=>{return(ie=ft||(ft={}))[ie.LF=1]="LF",ie[ie.CRLF=2]="CRLF",ft;var ie})(),sn=(()=>{return(ie=sn||(sn={}))[ie.Replace=1]="Replace",ie[ie.Append=2]="Append",ie[ie.Prepend=3]="Prepend",sn;var ie})();let tn=Ki=class{constructor(o,f){this._range=o,this._newText=f}static isTextEdit(o){return o instanceof Ki||!!o&&Wn.isRange(o)&&"string"==typeof o.newText}static replace(o,f){return new Ki(o,f)}static insert(o,f){return Ki.replace(new Wn(o,o),f)}static delete(o){return Ki.replace(o,"")}static setEndOfLine(o){const f=new Ki(new Wn(new Rn(0,0),new Rn(0,0)),"");return f.newEol=o,f}get range(){return this._range}set range(o){if(o&&!Wn.isRange(o))throw(0,T.b1)("range");this._range=o}get newText(){return this._newText||""}set newText(o){if(o&&"string"!=typeof o)throw(0,T.b1)("newText");this._newText=o}get newEol(){return this._newEol}set newEol(o){if(o&&"number"!=typeof o)throw(0,T.b1)("newEol");this._newEol=o}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};tn=Ki=(0,l._)([kt],tn);let xn=Wi=class{constructor(o,f){this.range=o,this.newCells=f}static isNotebookCellEdit(o){return o instanceof Wi||!!o&&Qs.isNotebookRange(o)&&Array.isArray(o.newCells)}static replaceCells(o,f){return new Wi(o,f)}static insertCells(o,f){return new Wi(new Qs(o,o),f)}static deleteCells(o){return new Wi(o,[])}static updateCellMetadata(o,f){const A=new Wi(new Qs(o,o),[]);return A.newCellMetadata=f,A}static updateNotebookMetadata(o){const f=new Wi(new Qs(0,0),[]);return f.newNotebookMetadata=o,f}};xn=Wi=(0,l._)([kt],xn);let Pn=class{constructor(){this._edits=[]}_allEntries(){return this._edits}renameFile(o,f,A,G){this._edits.push({_type:1,from:o,to:f,options:A,metadata:G})}createFile(o,f,A){this._edits.push({_type:1,from:void 0,to:o,options:f,metadata:A})}deleteFile(o,f,A){this._edits.push({_type:1,from:o,to:void 0,options:f,metadata:A})}replaceNotebookMetadata(o,f,A){this._edits.push({_type:3,metadata:A,uri:o,edit:{editType:5,metadata:f},notebookMetadata:f})}replaceNotebookCells(o,f,A,G,re){let Oe,Xe,_n,Mt=[];if(Qs.isNotebookRange(f)&&Rr.isNotebookCellDataArray(A)&&!Rr.isNotebookCellDataArray(G)?(Oe=f.start,Xe=f.end,Mt=A,_n=G):"number"==typeof f&&"number"==typeof A&&Rr.isNotebookCellDataArray(G)&&(Oe=f,Xe=A,Mt=G,_n=re),void 0===Oe||void 0===Xe)throw new Error("Invalid arguments");(Oe!==Xe||Mt.length>0)&&this._edits.push({_type:5,uri:o,index:Oe,count:Xe-Oe,cells:Mt,metadata:_n})}replaceNotebookCellMetadata(o,f,A,G){this._edits.push({_type:3,metadata:G,uri:o,edit:{editType:8,index:f,metadata:A}})}replace(o,f,A,G){this._edits.push("string"==typeof A?{_type:2,uri:o,edit:new tn(f,A),metadata:G}:{_type:6,uri:o,range:f,edit:A,metadata:G})}insert(o,f,A,G){this.replace(o,new Wn(f,f),A,G)}delete(o,f,A){this.replace(o,f,"",A)}has(o){return this._edits.some(f=>2===f._type&&f.uri.toString()===o.toString())}set(o,f){if(f)for(const A of f)A&&(xn.isNotebookCellEdit(A)?A.newCellMetadata?this.replaceNotebookCellMetadata(o,A.range.start,A.newCellMetadata):A.newNotebookMetadata?this.replaceNotebookMetadata(o,A.newNotebookMetadata):this.replaceNotebookCells(o,A.range,A.newCells):this._edits.push({_type:2,uri:o,edit:A}));else{for(let A=0;A<this._edits.length;A++){const G=this._edits[A];2===G._type&&G.uri.toString()===o.toString()&&(this._edits[A]=void 0)}(0,l.d)(this._edits)}}get(o){const f=[];for(const A of this._edits)2===A._type&&A.uri.toString()===o.toString()&&f.push(A.edit);return f}entries(){const o=new c.Y9;for(const f of this._edits)if(2===f._type){let A=o.get(f.uri);A||(A=[f.uri,[]],o.set(f.uri,A)),A[1].push(f.edit)}return[...o.values()]}get size(){return this.entries().length}toJSON(){return this.entries()}};Pn=(0,l._)([kt],Pn);let En=ro=class{constructor(o){this._tabstop=1,this.value=o||""}static isSnippetString(o){return o instanceof ro||!!o&&"string"==typeof o.value}static _escape(o){return o.replace(/\$|}|\\/g,"\\$&")}appendText(o){return this.value+=ro._escape(o),this}appendTabstop(o=this._tabstop++){return this.value+="$",this.value+=o,this}appendPlaceholder(o,f=this._tabstop++){if("function"==typeof o){const A=new ro;A._tabstop=this._tabstop,o(A),this._tabstop=A._tabstop,o=A.value}else o=ro._escape(o);return this.value+="${",this.value+=f,this.value+=":",this.value+=o,this.value+="}",this}appendChoice(o,f=this._tabstop++){const A=o.map(G=>G.replace(/\$|}|\\|,/g,"\\$&")).join(",");return this.value+="${",this.value+=f,this.value+="|",this.value+=A,this.value+="|}",this}appendVariable(o,f){if("function"==typeof f){const A=new ro;A._tabstop=this._tabstop,f(A),this._tabstop=A._tabstop,f=A.value}else"string"==typeof f&&(f=f.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=o,f&&(this.value+=":",this.value+=f),this.value+="}",this}};En=ro=(0,l._)([kt],En);var ut=(()=>{return(ie=ut||(ut={}))[ie.Unnecessary=1]="Unnecessary",ie[ie.Deprecated=2]="Deprecated",ut;var ie})(),Pt=(()=>{return(ie=Pt||(Pt={}))[ie.Hint=3]="Hint",ie[ie.Information=2]="Information",ie[ie.Warning=1]="Warning",ie[ie.Error=0]="Error",Pt;var ie})();let Ht=mo=class{constructor(o,f){if(this.uri=o,f)if(Wn.isRange(f))this.range=Wn.of(f);else{if(!Rn.isPosition(f))throw new Error("Illegal argument");this.range=new Wn(f,f)}}static isLocation(o){return o instanceof mo||!!o&&Wn.isRange(o.range)&&C.o.isUri(o.uri)}toJSON(){return{uri:this.uri,range:this.range}}};Ht=mo=(0,l._)([kt],Ht);let Qt=class{constructor(o,f){this.location=o,this.message=f}static is(o){return!!o&&"string"==typeof o.message&&o.location&&Wn.isRange(o.location.range)&&C.o.isUri(o.location.uri)}static isEqual(o,f){return o===f||!(!o||!f)&&o.message===f.message&&o.location.range.isEqual(f.location.range)&&o.location.uri.toString()===f.location.uri.toString()}};Qt=(0,l._)([kt],Qt);let bn=class{constructor(o,f,A=Pt.Error){if(!Wn.isRange(o))throw new TypeError("range must be set");if(!f)throw new TypeError("message must be set");this.range=o,this.message=f,this.severity=A}toJSON(){return{severity:Pt[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}static isEqual(o,f){return o===f||!(!o||!f)&&o.message===f.message&&o.severity===f.severity&&o.code===f.code&&o.severity===f.severity&&o.source===f.source&&o.range.isEqual(f.range)&&(0,E.fS)(o.tags,f.tags)&&(0,E.fS)(o.relatedInformation,f.relatedInformation,Qt.isEqual)}};bn=(0,l._)([kt],bn);let Re=class{constructor(o,f){if(!o)throw new Error("Illegal argument, contents must be defined");this.contents=Array.isArray(o)?o:[o],this.range=f}};Re=(0,l._)([kt],Re);var ct=(()=>{return(ie=ct||(ct={}))[ie.Text=0]="Text",ie[ie.Read=1]="Read",ie[ie.Write=2]="Write",ct;var ie})();let Cn=class{constructor(o,f=ct.Text){this.range=o,this.kind=f}toJSON(){return{range:this.range,kind:ct[this.kind]}}};Cn=(0,l._)([kt],Cn);var Hn=(()=>{return(ie=Hn||(Hn={}))[ie.File=0]="File",ie[ie.Module=1]="Module",ie[ie.Namespace=2]="Namespace",ie[ie.Package=3]="Package",ie[ie.Class=4]="Class",ie[ie.Method=5]="Method",ie[ie.Property=6]="Property",ie[ie.Field=7]="Field",ie[ie.Constructor=8]="Constructor",ie[ie.Enum=9]="Enum",ie[ie.Interface=10]="Interface",ie[ie.Function=11]="Function",ie[ie.Variable=12]="Variable",ie[ie.Constant=13]="Constant",ie[ie.String=14]="String",ie[ie.Number=15]="Number",ie[ie.Boolean=16]="Boolean",ie[ie.Array=17]="Array",ie[ie.Object=18]="Object",ie[ie.Key=19]="Key",ie[ie.Null=20]="Null",ie[ie.EnumMember=21]="EnumMember",ie[ie.Struct=22]="Struct",ie[ie.Event=23]="Event",ie[ie.Operator=24]="Operator",ie[ie.TypeParameter=25]="TypeParameter",Hn;var ie})(),Ii=(()=>{return(ie=Ii||(Ii={}))[ie.Deprecated=1]="Deprecated",Ii;var ie})();let bi=Ko=class{constructor(o,f,A,G,re){this.name=o,this.kind=f,this.containerName=re,"string"==typeof A&&(this.containerName=A),G instanceof Ht?this.location=G:A instanceof Wn&&(this.location=new Ht(G,A)),Ko.validate(this)}static validate(o){if(!o.name)throw new Error("name must not be falsy")}toJSON(){return{name:this.name,kind:Hn[this.kind],location:this.location,containerName:this.containerName}}};bi=Ko=(0,l._)([kt],bi);let di=Eo=class{constructor(o,f,A,G,re){this.name=o,this.detail=f,this.kind=A,this.range=G,this.selectionRange=re,this.children=[],Eo.validate(this)}static validate(o){if(!o.name)throw new Error("name must not be falsy");if(!o.range.contains(o.selectionRange))throw new Error("selectionRange must be contained in fullRange");o.children?.forEach(Eo.validate)}};di=Eo=(0,l._)([kt],di);var Ft=(()=>{return(ie=Ft||(Ft={}))[ie.Invoke=1]="Invoke",ie[ie.Automatic=2]="Automatic",Ft;var ie})();let R=class{constructor(o,f){this.title=o,this.kind=f}};R=(0,l._)([kt],R);let J=Mo=class{constructor(o){this.value=o}append(o){return new Mo(this.value?this.value+Mo.sep+o:o)}intersects(o){return this.contains(o)||o.contains(this)}contains(o){return this.value===o.value||o.value.startsWith(this.value+Mo.sep)}};J.sep=".",J=Mo=(0,l._)([kt],J),J.Empty=new J(""),J.QuickFix=J.Empty.append("quickfix"),J.Refactor=J.Empty.append("refactor"),J.RefactorExtract=J.Refactor.append("extract"),J.RefactorInline=J.Refactor.append("inline"),J.RefactorRewrite=J.Refactor.append("rewrite"),J.Source=J.Empty.append("source"),J.SourceOrganizeImports=J.Source.append("organizeImports"),J.SourceFixAll=J.Source.append("fixAll");let _e=class{constructor(o,f){if(this.range=o,this.parent=f,f&&!f.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};_e=(0,l._)([kt],_e);let je=class{constructor(o,f,A,G,re,Oe){this.kind=o,this.name=f,this.detail=A,this.uri=G,this.range=re,this.selectionRange=Oe}};var on=(()=>{return(ie=on||(on={}))[ie.Information=0]="Information",ie[ie.Warning=1]="Warning",ie[ie.Error=2]="Error",on;var ie})();let qt=class{constructor(o,f){this.range=o,this.command=f}get isResolved(){return!!this.command}};qt=(0,l._)([kt],qt);let yn=Io=class{constructor(o,f=!1){mn.set(this,void 0),(0,l.b)(this,mn,new t.W5(o,{supportThemeIcons:f}),"f")}static isMarkdownString(o){return o instanceof Io||o&&o.appendCodeblock&&o.appendMarkdown&&o.appendText&&void 0!==o.value}get value(){return(0,l.c)(this,mn,"f").value}set value(o){(0,l.c)(this,mn,"f").value=o}get isTrusted(){return(0,l.c)(this,mn,"f").isTrusted}set isTrusted(o){(0,l.c)(this,mn,"f").isTrusted=o}get supportThemeIcons(){return(0,l.c)(this,mn,"f").supportThemeIcons}set supportThemeIcons(o){(0,l.c)(this,mn,"f").supportThemeIcons=o}get supportHtml(){return(0,l.c)(this,mn,"f").supportHtml}set supportHtml(o){(0,l.c)(this,mn,"f").supportHtml=o}get baseUri(){return(0,l.c)(this,mn,"f").baseUri}set baseUri(o){(0,l.c)(this,mn,"f").baseUri=o}appendText(o){return(0,l.c)(this,mn,"f").appendText(o),this}appendMarkdown(o){return(0,l.c)(this,mn,"f").appendMarkdown(o),this}appendCodeblock(o,f){return(0,l.c)(this,mn,"f").appendCodeblock(f??"",o),this}};mn=new WeakMap,yn=Io=(0,l._)([kt],yn);let Tn=class{constructor(o,f){this.label=o,this.documentation=f}};Tn=(0,l._)([kt],Tn);let Bn=class{constructor(o,f){this.label=o,this.documentation=f,this.parameters=[]}};Bn=(0,l._)([kt],Bn);let Kn=class{constructor(){this.activeSignature=0,this.activeParameter=0,this.signatures=[]}};Kn=(0,l._)([kt],Kn);var ni=(()=>{return(ie=ni||(ni={}))[ie.Invoke=1]="Invoke",ie[ie.TriggerCharacter=2]="TriggerCharacter",ie[ie.ContentChange=3]="ContentChange",ni;var ie})(),hi=(()=>{return(ie=hi||(hi={}))[ie.Type=1]="Type",ie[ie.Parameter=2]="Parameter",hi;var ie})();let fi=class{constructor(o){this.value=o}};fi=(0,l._)([kt],fi);let Rt=class{constructor(o,f,A){this.position=o,this.label=f,this.kind=A}};Rt=(0,l._)([kt],Rt);var ee=(()=>{return(ie=ee||(ee={}))[ie.Invoke=0]="Invoke",ie[ie.TriggerCharacter=1]="TriggerCharacter",ie[ie.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",ee;var ie})(),fe=(()=>{return(ie=fe||(fe={}))[ie.Text=0]="Text",ie[ie.Method=1]="Method",ie[ie.Function=2]="Function",ie[ie.Constructor=3]="Constructor",ie[ie.Field=4]="Field",ie[ie.Variable=5]="Variable",ie[ie.Class=6]="Class",ie[ie.Interface=7]="Interface",ie[ie.Module=8]="Module",ie[ie.Property=9]="Property",ie[ie.Unit=10]="Unit",ie[ie.Value=11]="Value",ie[ie.Enum=12]="Enum",ie[ie.Keyword=13]="Keyword",ie[ie.Snippet=14]="Snippet",ie[ie.Color=15]="Color",ie[ie.File=16]="File",ie[ie.Reference=17]="Reference",ie[ie.Folder=18]="Folder",ie[ie.EnumMember=19]="EnumMember",ie[ie.Constant=20]="Constant",ie[ie.Struct=21]="Struct",ie[ie.Event=22]="Event",ie[ie.Operator=23]="Operator",ie[ie.TypeParameter=24]="TypeParameter",ie[ie.User=25]="User",ie[ie.Issue=26]="Issue",fe;var ie})(),it=(()=>{return(ie=it||(it={}))[ie.Deprecated=1]="Deprecated",it;var ie})();let It=class{constructor(o,f){this.label=o,this.kind=f}toJSON(){return{label:this.label,kind:this.kind&&fe[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}};It=(0,l._)([kt],It);let en=class{constructor(o=[],f=!1){this.items=o,this.isIncomplete=f}};en=(0,l._)([kt],en);let Tt=class{constructor(o,f,A){this.insertText=o,this.range=f,this.command=A}};Tt=(0,l._)([kt],Tt);let q=class{constructor(o){this.commands=void 0,this.items=o}};q=(0,l._)([kt],q);var ie,Te=(()=>{return(ie=Te||(Te={}))[ie.Active=-1]="Active",ie[ie.Beside=-2]="Beside",ie[ie.One=1]="One",ie[ie.Two=2]="Two",ie[ie.Three=3]="Three",ie[ie.Four=4]="Four",ie[ie.Five=5]="Five",ie[ie.Six=6]="Six",ie[ie.Seven=7]="Seven",ie[ie.Eight=8]="Eight",ie[ie.Nine=9]="Nine",Te;var ie})(),rt=(()=>{return(ie=rt||(rt={}))[ie.Left=1]="Left",ie[ie.Right=2]="Right",rt;var ie})(),Gt=(()=>{return(ie=Gt||(Gt={}))[ie.Off=0]="Off",ie[ie.On=1]="On",ie[ie.Relative=2]="Relative",Gt;var ie})(),cn=(()=>{return(ie=cn||(cn={}))[ie.Manual=1]="Manual",ie[ie.AfterDelay=2]="AfterDelay",ie[ie.FocusOut=3]="FocusOut",cn;var ie})(),Ln=(()=>{return(ie=Ln||(Ln={}))[ie.Default=0]="Default",ie[ie.InCenter=1]="InCenter",ie[ie.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",ie[ie.AtTop=3]="AtTop",Ln;var ie})(),In=(()=>{return(ie=In||(In={}))[ie.Keyboard=1]="Keyboard",ie[ie.Mouse=2]="Mouse",ie[ie.Command=3]="Command",In;var ie})(),ei=(()=>{return(ie=ei||(ei={}))[ie.Undo=1]="Undo",ie[ie.Redo=2]="Redo",ei;var ie})(),Jn=(()=>{return(ie=Jn||(Jn={}))[ie.OpenOpen=0]="OpenOpen",ie[ie.ClosedClosed=1]="ClosedClosed",ie[ie.OpenClosed=2]="OpenClosed",ie[ie.ClosedOpen=3]="ClosedOpen",Jn;var ie})();(ie=In||(In={})).fromValue=function o(f){switch(f){case"keyboard":return ie.Keyboard;case"mouse":return ie.Mouse;case"api":return ie.Command}};let gi=class{constructor(o,f){if(f&&!C.o.isUri(f))throw(0,T.b1)("target");if(!Wn.isRange(o)||o.isEmpty)throw(0,T.b1)("range");this.range=o,this.target=f}};gi=(0,l._)([kt],gi);let pi=class{constructor(o,f,A,G){this.red=o,this.green=f,this.blue=A,this.alpha=G}};pi=(0,l._)([kt],pi);let Ci=class{constructor(o,f){if(f&&!(f instanceof pi))throw(0,T.b1)("color");if(!Wn.isRange(o)||o.isEmpty)throw(0,T.b1)("range");this.range=o,this.color=f}};Ci=(0,l._)([kt],Ci);let Mi=class{constructor(o){if(!o||"string"!=typeof o)throw(0,T.b1)("label");this.label=o}};Mi=(0,l._)([kt],Mi);var $i=(()=>(function(ie){ie[ie.Panel=1]="Panel",ie[ie.Editor=2]="Editor"}($i||($i={})),$i))(),_o=(()=>(function(ie){ie[ie.Always=1]="Always",ie[ie.Silent=2]="Silent",ie[ie.Never=3]="Never"}(_o||(_o={})),_o))(),jo=(()=>(function(ie){ie[ie.Shared=1]="Shared",ie[ie.Dedicated=2]="Dedicated",ie[ie.New=3]="New"}(jo||(jo={})),jo))();let To=Yi=class{constructor(o,f){if(this.label=f,"string"!=typeof o||"string"!=typeof f)throw(0,T.b1)("name");this._id=o}static from(o){switch(o){case"clean":return Yi.Clean;case"build":return Yi.Build;case"rebuild":return Yi.Rebuild;case"test":return Yi.Test;default:return}}get id(){return this._id}};function ss(ie){let o="";for(let f=0;f<ie.length;f++)o+=ie[f].replace(/,/g,",,")+",";return o}To.Clean=new Yi("clean","Clean"),To.Build=new Yi("build","Build"),To.Rebuild=new Yi("rebuild","Rebuild"),To.Test=new Yi("test","Test"),To=Yi=(0,l._)([kt],To);let sr=class{constructor(o,f,A){if("string"!=typeof o)throw(0,T.b1)("process");this._args=[],this._process=o,void 0!==f&&(Array.isArray(f)?(this._args=f,this._options=A):this._options=f)}get process(){return this._process}set process(o){if("string"!=typeof o)throw(0,T.b1)("process");this._process=o}get args(){return this._args}set args(o){Array.isArray(o)||(o=[]),this._args=o}get options(){return this._options}set options(o){this._options=o}computeId(){const o=[];if(o.push("process"),void 0!==this._process&&o.push(this._process),this._args&&this._args.length>0)for(const f of this._args)o.push(f);return ss(o)}};sr=(0,l._)([kt],sr);let _s=class{constructor(o,f,A){if(this._args=[],Array.isArray(f)){if(!o)throw(0,T.b1)("command can't be undefined or null");if("string"!=typeof o&&"string"!=typeof o.value)throw(0,T.b1)("command");this._command=o,this._args=f,this._options=A}else{if("string"!=typeof o)throw(0,T.b1)("commandLine");this._commandLine=o,this._options=f}}get commandLine(){return this._commandLine}set commandLine(o){if("string"!=typeof o)throw(0,T.b1)("commandLine");this._commandLine=o}get command(){return this._command?this._command:""}set command(o){if("string"!=typeof o&&"string"!=typeof o.value)throw(0,T.b1)("command");this._command=o}get args(){return this._args}set args(o){this._args=o||[]}get options(){return this._options}set options(o){this._options=o}computeId(){const o=[];if(o.push("shell"),void 0!==this._commandLine&&o.push(this._commandLine),void 0!==this._command&&o.push("string"==typeof this._command?this._command:this._command.value),this._args&&this._args.length>0)for(const f of this._args)o.push("string"==typeof f?f:f.value);return ss(o)}};_s=(0,l._)([kt],_s);var Qo=(()=>(function(ie){ie[ie.Escape=1]="Escape",ie[ie.Strong=2]="Strong",ie[ie.Weak=3]="Weak"}(Qo||(Qo={})),Qo))(),$o=(()=>(function(ie){ie[ie.Global=1]="Global",ie[ie.Workspace=2]="Workspace"}($o||($o={})),$o))();class wr{constructor(o){this._callback=o}computeId(){return"customExecution"+(0,L.R)()}set callback(o){this._callback=o}get callback(){return this._callback}}let Ds=ho=class{constructor(o,f,A,G,re,Oe){let Xe;this.__deprecated=!1,this._definition=this.definition=o,"string"==typeof f?(this._name=this.name=f,this._source=this.source=A,this.execution=G,Xe=re,this.__deprecated=!0):(this.target=f,this._name=this.name=A,this._source=this.source=G,this.execution=re,Xe=Oe),"string"==typeof Xe?(this._problemMatchers=[Xe],this._hasDefinedMatchers=!0):Array.isArray(Xe)?(this._problemMatchers=Xe,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1,this._presentationOptions=Object.create(null),this._runOptions=Object.create(null)}get _id(){return this.__id}set _id(o){this.__id=o}get _deprecated(){return this.__deprecated}clear(){void 0!==this.__id&&(this.__id=void 0,this._scope=void 0,this.computeDefinitionBasedOnExecution())}computeDefinitionBasedOnExecution(){this._definition=this._execution instanceof sr?{type:ho.ProcessType,id:this._execution.computeId()}:this._execution instanceof _s?{type:ho.ShellType,id:this._execution.computeId()}:this._execution instanceof wr?{type:ho.ExtensionCallbackType,id:this._execution.computeId()}:{type:ho.EmptyType,id:(0,L.R)()}}get definition(){return this._definition}set definition(o){if(null==o)throw(0,T.b1)("Kind can't be undefined or null");this.clear(),this._definition=o}get scope(){return this._scope}set target(o){this.clear(),this._scope=o}get name(){return this._name}set name(o){if("string"!=typeof o)throw(0,T.b1)("name");this.clear(),this._name=o}get execution(){return this._execution}set execution(o){null===o&&(o=void 0),this.clear(),this._execution=o;const f=this._definition.type;(ho.EmptyType===f||ho.ProcessType===f||ho.ShellType===f||ho.ExtensionCallbackType===f)&&this.computeDefinitionBasedOnExecution()}get problemMatchers(){return this._problemMatchers}set problemMatchers(o){if(!Array.isArray(o))return this.clear(),this._problemMatchers=[],void(this._hasDefinedMatchers=!1);this.clear(),this._problemMatchers=o,this._hasDefinedMatchers=!0}get hasDefinedMatchers(){return this._hasDefinedMatchers}get isBackground(){return this._isBackground}set isBackground(o){!0!==o&&!1!==o&&(o=!1),this.clear(),this._isBackground=o}get source(){return this._source}set source(o){if("string"!=typeof o||0===o.length)throw(0,T.b1)("source must be a string of length > 0");this.clear(),this._source=o}get group(){return this._group}set group(o){null===o&&(o=void 0),this.clear(),this._group=o}get detail(){return this._detail}set detail(o){null===o&&(o=void 0),this._detail=o}get presentationOptions(){return this._presentationOptions}set presentationOptions(o){null==o&&(o=Object.create(null)),this.clear(),this._presentationOptions=o}get runOptions(){return this._runOptions}set runOptions(o){null==o&&(o=Object.create(null)),this.clear(),this._runOptions=o}};Ds.ExtensionCallbackType="customExecution",Ds.ProcessType="process",Ds.ShellType="shell",Ds.EmptyType="$empty",Ds=ho=(0,l._)([kt],Ds);var rr=(()=>(function(ie){ie[ie.SourceControl=1]="SourceControl",ie[ie.Window=10]="Window",ie[ie.Notification=15]="Notification"}(rr||(rr={})),rr))();let Xo=Ao=class{constructor(o,f=ar.None){this.collapsibleState=f,C.o.isUri(o)?this.resourceUri=o:this.label=o}static isTreeItem(o){if(o instanceof Ao)return!0;const f=o;return void 0===f.label||(0,_.HD)(f.label)||f.label.label?void 0===f.id||(0,_.HD)(f.id)?void 0===f.iconPath||(0,_.HD)(f.iconPath)||C.o.isUri(f.iconPath)||(0,_.HD)(f.iconPath.id)?void 0===f.description||(0,_.HD)(f.description)||"boolean"==typeof f.description?void 0===f.resourceUri||C.o.isUri(f.resourceUri)?void 0===f.tooltip||(0,_.HD)(f.tooltip)||f.tooltip instanceof yn?void 0===f.command||f.command.command?void 0!==f.collapsibleState&&f.collapsibleState<ar.None&&f.collapsibleState>ar.Expanded?(console.log("INVALID tree item, invalid collapsibleState",f.collapsibleState),!1):void 0===f.contextValue||(0,_.HD)(f.contextValue)?!(void 0!==f.accessibilityInformation&&!f.accessibilityInformation.label&&(console.log("INVALID tree item, invalid accessibilityInformation",f.accessibilityInformation),1)):(console.log("INVALID tree item, invalid contextValue",f.contextValue),!1):(console.log("INVALID tree item, invalid command",f.command),!1):(console.log("INVALID tree item, invalid tooltip",f.tooltip),!1):(console.log("INVALID tree item, invalid resourceUri",f.resourceUri),!1):(console.log("INVALID tree item, invalid description",f.description),!1):(console.log("INVALID tree item, invalid iconPath",f.iconPath),!1):(console.log("INVALID tree item, invalid id",f.id),!1):(console.log("INVALID tree item, invalid label",f.label),!1)}};Xo=Ao=(0,l._)([kt],Xo);var ar=(()=>(function(ie){ie[ie.None=0]="None",ie[ie.Collapsed=1]="Collapsed",ie[ie.Expanded=2]="Expanded"}(ar||(ar={})),ar))();let Ws=class{constructor(o){this.value=o}asString(){var o=this;return(0,d.Z)(function*(){return"string"==typeof o.value?o.value:JSON.stringify(o.value)})()}asFile(){}};Ws=(0,l._)([kt],Ws);let Vs=class{constructor(o){Nn.set(this,new Map);for(const[f,A]of o??[]){const G=(0,l.c)(this,Nn,"f").get(f);G?G.push(A):(0,l.c)(this,Nn,"f").set(f,[A])}}get(o){return(0,l.c)(this,Nn,"f").get(o)?.[0]}set(o,f){(0,l.c)(this,Nn,"f").set(o,[f])}forEach(o,f){for(const[A,G]of(0,l.c)(this,Nn,"f"))for(const re of G)o.call(f,re,A,this)}*[(Nn=new WeakMap,Symbol.iterator)](){for(const[o,f]of(0,l.c)(this,Nn,"f"))for(const A of f)yield[o,A]}};Vs=(0,l._)([kt],Vs);let hr=class{constructor(o){this.insertText=o}};hr=(0,l._)([kt],hr);let $s=class{constructor(o,f){this.id=o,this.color=f}};$s=(0,l._)([kt],$s),$s.File=new $s("file"),$s.Folder=new $s("folder");let Dr=class{constructor(o){this.id=o}};Dr=(0,l._)([kt],Dr);var ks=(()=>(function(ie){ie[ie.Global=1]="Global",ie[ie.Workspace=2]="Workspace",ie[ie.WorkspaceFolder=3]="WorkspaceFolder"}(ks||(ks={})),ks))();let Es=class{constructor(o,f){if("string"!=typeof o&&(!o||!C.o.isUri(o)&&!C.o.isUri(o.uri)))throw(0,T.b1)("base");if("string"!=typeof f)throw(0,T.b1)("pattern");this.baseUri="string"==typeof o?C.o.file(o):C.o.isUri(o)?o:o.uri,this.pattern=f}get base(){return this._base}set base(o){this._base=o,this._baseUri=C.o.file(o)}get baseUri(){return this._baseUri}set baseUri(o){this._baseUri=o,this._base=o.fsPath}toJSON(){return{pattern:this.pattern,base:this.base,baseUri:this.baseUri.toJSON()}}};Es=(0,l._)([kt],Es);let fr=class{constructor(o,f,A,G){this.enabled="boolean"!=typeof o||o,"string"==typeof f&&(this.condition=f),"string"==typeof A&&(this.hitCondition=A),"string"==typeof G&&(this.logMessage=G)}get id(){return this._id||(this._id=(0,L.R)()),this._id}};fr=(0,l._)([kt],fr);let xs=class extends fr{constructor(o,f,A,G,re){if(super(f,A,G,re),null===o)throw(0,T.b1)("location");this.location=o}};xs=(0,l._)([kt],xs);let _r=class extends fr{constructor(o,f,A,G,re){super(f,A,G,re),this.functionName=o}};_r=(0,l._)([kt],_r);let Gs=class{constructor(o,f,A){this.command=o,this.args=f||[],this.options=A}};Gs=(0,l._)([kt],Gs);let Ms=class{constructor(o,f){this.port=o,this.host=f}};Ms=(0,l._)([kt],Ms);let Go=class{constructor(o){this.path=o}};Go=(0,l._)([kt],Go);let lr=class{constructor(o){this.implementation=o}};lr=(0,l._)([kt],lr);let zs=class{constructor(o,f){this.range=o,this.expression=f}};zs=(0,l._)([kt],zs);var vr=(()=>(function(ie){ie[ie.Invoke=0]="Invoke",ie[ie.Automatic=1]="Automatic"}(vr||(vr={})),vr))(),ms=(()=>(function(ie){ie[ie.Invoke=0]="Invoke",ie[ie.Automatic=1]="Automatic"}(ms||(ms={})),ms))();let us=class{constructor(o,f){this.range=o,this.text=f}};us=(0,l._)([kt],us);let gr=class{constructor(o,f,A=!0){this.range=o,this.variableName=f,this.caseSensitiveLookup=A}};gr=(0,l._)([kt],gr);let er=class{constructor(o,f){this.range=o,this.expression=f}};er=(0,l._)([kt],er);let Ur=class{constructor(o,f){this.frameId=o,this.stoppedLocation=f}};Ur=(0,l._)([kt],Ur);var jr=(()=>(function(ie){ie[ie.Changed=1]="Changed",ie[ie.Created=2]="Created",ie[ie.Deleted=3]="Deleted"}(jr||(jr={})),jr))();let Zs=li=class extends Error{constructor(o,f=S.d.Unknown,A){super(C.o.isUri(o)?o.toString(!0):o),this.code=A?.name??"Unknown",(0,S.m)(this,f),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,li.prototype),"function"==typeof Error.captureStackTrace&&"function"==typeof A&&Error.captureStackTrace(this,A)}static FileExists(o){return new li(o,S.d.FileExists,li.FileExists)}static FileNotFound(o){return new li(o,S.d.FileNotFound,li.FileNotFound)}static FileNotADirectory(o){return new li(o,S.d.FileNotADirectory,li.FileNotADirectory)}static FileIsADirectory(o){return new li(o,S.d.FileIsADirectory,li.FileIsADirectory)}static NoPermissions(o){return new li(o,S.d.NoPermissions,li.NoPermissions)}static Unavailable(o){return new li(o,S.d.Unavailable,li.Unavailable)}};Zs=li=(0,l._)([kt],Zs);let As=class{constructor(o,f,A){this.start=o,this.end=f,this.kind=A}};As=(0,l._)([kt],As);var Gi=(()=>(function(ie){ie[ie.Comment=1]="Comment",ie[ie.Imports=2]="Imports",ie[ie.Region=3]="Region"}(Gi||(Gi={})),Gi))(),dr=(()=>(function(ie){ie[ie.Collapsed=0]="Collapsed",ie[ie.Expanded=1]="Expanded"}(dr||(dr={})),dr))(),tr=(()=>(function(ie){ie[ie.Editing=0]="Editing",ie[ie.Preview=1]="Preview"}(tr||(tr={})),tr))();class Er{constructor(o){if(this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,o){this._hasLegend=!0;for(let f=0,A=o.tokenTypes.length;f<A;f++)this._tokenTypeStrToInt.set(o.tokenTypes[f],f);for(let f=0,A=o.tokenModifiers.length;f<A;f++)this._tokenModifierStrToInt.set(o.tokenModifiers[f],f)}}push(o,f,A,G,re){if("number"==typeof o&&"number"==typeof f&&"number"==typeof A&&"number"==typeof G&&("number"==typeof re||typeof re>"u"))return typeof re>"u"&&(re=0),this._pushEncoded(o,f,A,G,re);if(Wn.isRange(o)&&"string"==typeof f&&function Ts(ie){return typeof ie>"u"||(0,v.i)(ie)}(A))return this._push(o,f,A);throw(0,T.b1)()}_push(o,f,A){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(o.start.line!==o.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(f))throw new Error("`tokenType` is not in the provided legend");const G=o.start.line,re=o.start.character,Oe=o.end.character-o.start.character,Xe=this._tokenTypeStrToInt.get(f);let Mt=0;if(A)for(const _n of A){if(!this._tokenModifierStrToInt.has(_n))throw new Error("`tokenModifier` is not in the provided legend");Mt|=1<<this._tokenModifierStrToInt.get(_n)>>>0}this._pushEncoded(G,re,Oe,Xe,Mt)}_pushEncoded(o,f,A,G,re){if(this._dataIsSortedAndDeltaEncoded&&(o<this._prevLine||o===this._prevLine&&f<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;const Mt=this._data.length/5|0;let _n=0,Un=0;for(let ui=0;ui<Mt;ui++){let Si=this._data[5*ui],ti=this._data[5*ui+1];0===Si?(Si=_n,ti+=Un):Si+=_n,this._data[5*ui]=Si,this._data[5*ui+1]=ti,_n=Si,Un=ti}}let Oe=o,Xe=f;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&(Oe-=this._prevLine,0===Oe&&(Xe-=this._prevChar)),this._data[this._dataLen++]=Oe,this._data[this._dataLen++]=Xe,this._data[this._dataLen++]=A,this._data[this._dataLen++]=G,this._data[this._dataLen++]=re,this._prevLine=o,this._prevChar=f}static _sortAndDeltaEncode(o){const f=[],A=o.length/5|0;for(let Xe=0;Xe<A;Xe++)f[Xe]=Xe;f.sort((Xe,Mt)=>{const _n=o[5*Xe],Un=o[5*Mt];return _n===Un?o[5*Xe+1]-o[5*Mt+1]:_n-Un});const G=new Uint32Array(o.length);let re=0,Oe=0;for(let Xe=0;Xe<A;Xe++){const Mt=5*f[Xe],_n=o[Mt+0],Un=o[Mt+1],ui=o[Mt+2],Si=o[Mt+3],ti=o[Mt+4],mi=_n-re,Ai=0===mi?Un-Oe:Un,Fi=5*Xe;G[Fi+0]=mi,G[Fi+1]=Ai,G[Fi+2]=ui,G[Fi+3]=Si,G[Fi+4]=ti,re=_n,Oe=Un}return G}build(o){return new mr(this._dataIsSortedAndDeltaEncoded?new Uint32Array(this._data):Er._sortAndDeltaEncode(this._data),o)}}class mr{constructor(o,f){this.resultId=f,this.data=o}}class Lr{constructor(o,f,A){this.start=o,this.deleteCount=f,this.data=A}}class lo{constructor(o,f){this.resultId=f,this.edits=o}}var Po=(()=>(function(ie){ie[ie.Separate=0]="Separate",ie[ie.MergeWithParent=1]="MergeWithParent"}(Po||(Po={})),Po))();let as=class{constructor(){}};as.Back={iconPath:new $s("arrow-left")},as=(0,l._)([kt],as);var ls=(()=>(function(ie){ie[ie.Separator=-1]="Separator",ie[ie.Default=0]="Default"}(ls||(ls={})),ls))(),vs=(()=>(function(ie){ie[ie.Info=1]="Info",ie[ie.Warning=2]="Warning",ie[ie.Error=3]="Error"}(vs||(vs={})),vs))(),hs=(()=>(function(ie){ie[ie.UI=1]="UI",ie[ie.Workspace=2]="Workspace"}(hs||(hs={})),hs))();let Qs=class{constructor(o,f){if(o<0)throw(0,T.b1)("start must be positive");if(f<0)throw(0,T.b1)("end must be positive");o<=f?(this._start=o,this._end=f):(this._start=f,this._end=o)}static isNotebookRange(o){return o instanceof Qs||!!o&&"number"==typeof o.start&&"number"==typeof o.end}get start(){return this._start}get end(){return this._end}get isEmpty(){return this._start===this._end}with(o){let f=this._start,A=this._end;return void 0!==o.start&&(f=o.start),void 0!==o.end&&(A=o.end),f===this._start&&A===this._end?this:new Qs(f,A)}},Rr=class{constructor(o,f,A,G,re,Oe,Xe){this.kind=o,this.value=f,this.languageId=A,this.mime=G,this.outputs=re??[],this.metadata=Oe,this.executionSummary=Xe,Rr.validate(this)}static validate(o){if("number"!=typeof o.kind)throw new Error("NotebookCellData MUST have 'kind' property");if("string"!=typeof o.value)throw new Error("NotebookCellData MUST have 'value' property");if("string"!=typeof o.languageId)throw new Error("NotebookCellData MUST have 'languageId' property")}static isNotebookCellDataArray(o){return Array.isArray(o)&&o.every(f=>Rr.isNotebookCellData(f))}static isNotebookCellData(o){return!0}},Ks=class{constructor(o,f){this.data=o,this.mime=f;const A=Yt(f,!0);if(!A)throw new Error(`INVALID mime type: ${f}. Must be in the format "type/subtype[;optionalparameter]"`);this.mime=A}static isNotebookCellOutputItem(o){return o instanceof Ks||!!o&&"string"==typeof o.mime&&o.data instanceof Uint8Array}static error(o){return Ks.json({name:o.name,message:o.message,stack:o.stack},"application/vnd.code.notebook.error")}static stdout(o){return Ks.text(o,"application/vnd.code.notebook.stdout")}static stderr(o){return Ks.text(o,"application/vnd.code.notebook.stderr")}static bytes(o,f="application/octet-stream"){return new Ks(o,f)}static text(o,f=m.v.text){const A=(0,l.c)(Ks,jn,"f",Yn).encode(String(o));return new Ks(A,f)}static json(o,f="text/x-json"){const A=JSON.stringify(o,void 0,"\t");return Ks.text(A,f)}};jn=Ks,Yn={value:new TextEncoder};let An=class{constructor(o,f,A){this.items=An.ensureUniqueMimeTypes(o,!0),"string"==typeof f?(this.id=f,this.metadata=A):(this.id=(0,L.R)(),this.metadata=f??A)}static isNotebookCellOutput(o){return o instanceof An||!(!o||"object"!=typeof o)&&"string"==typeof o.id&&(0,_.kJ)(o.items)}static ensureUniqueMimeTypes(o,f=!1){const A=new Set,G=new Set;for(let re=0;re<o.length;re++){const Oe=o[re],Xe=Yt(Oe.mime);A.has(Xe)?(G.add(re),f&&console.warn(`DUPLICATED mime type '${Oe.mime}' will be dropped`)):A.add(Xe)}return 0===G.size?o:o.filter((re,Oe)=>!G.has(Oe))}};var te=(()=>(function(ie){ie[ie.Markup=1]="Markup",ie[ie.Code=2]="Code"}(te||(te={})),te))(),pe=(()=>(function(ie){ie[ie.Left=1]="Left",ie[ie.Right=2]="Right"}(pe||(pe={})),pe))(),We=(()=>(function(ie){ie[ie.Default=0]="Default",ie[ie.InCenter=1]="InCenter",ie[ie.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",ie[ie.AtTop=3]="AtTop"}(We||(We={})),We))(),At=(()=>(function(ie){ie[ie.Default=1]="Default",ie[ie.Preferred=2]="Preferred"}(At||(At={})),At))(),rn=(()=>(function(ie){ie[ie.Production=1]="Production",ie[ie.Development=2]="Development",ie[ie.Test=3]="Test"}(rn||(rn={})),rn))(),wn=(()=>(function(ie){ie[ie.Other=0]="Other",ie[ie.Comment=1]="Comment",ie[ie.String=2]="String",ie[ie.RegEx=3]="RegEx"}(wn||(wn={})),wn))(),_i=(()=>(function(ie){ie[ie.Run=1]="Run",ie[ie.Debug=2]="Debug",ie[ie.Coverage=3]="Coverage"}(_i||(_i={})),_i))();let Ni=class{constructor(o,f,A){this.include=o,this.exclude=f,this.profile=A}};Ni=(0,l._)([kt],Ni);let wo=Xt=class{constructor(o){this.message=o}static diff(o,f,A){const G=new Xt(o);return G.expectedOutput=f,G.actualOutput=A,G}};wo=Xt=(0,l._)([kt],wo);let ts=class{constructor(o){this.id=o}};ts=(0,l._)([kt],ts);let Fo=class{constructor(o,f,A,G,re,Oe){this.kind=o,this.name=f,this.detail=A,this.uri=G,this.range=re,this.selectionRange=Oe}};var Or,Ui,Va,Jo,Xs,ya,aa,la,da,Bo,De,Jt,pn,zt,On,Xn,Qn,qn,kn,xi,Ti,ki,ji,co,bo,Lo,yo,oo,Vo,No,po,Ji,vo,ko,Wo,qo,So,ns,Rs,Zo,Fs,Os,Ro,Js,Us,Ir,zr,Kr,Sa,wa,Ha,ca,Da,Ea,ua,Ua,La,kr,Ca=(()=>(function(ie){ie[ie.Desktop=1]="Desktop",ie[ie.Web=2]="Web"}(Ca||(Ca={})),Ca))(),rs=(()=>(function(ie){ie[ie.Line=1]="Line",ie[ie.Block=2]="Block",ie[ie.Underline=3]="Underline",ie[ie.LineThin=4]="LineThin",ie[ie.BlockOutline=5]="BlockOutline",ie[ie.UnderlineThin=6]="UnderlineThin"}(rs||(rs={})),rs))(),ba=(()=>(function(ie){ie[ie.ACTIVATE=1]="ACTIVATE",ie[ie.RESTORE=2]="RESTORE",ie[ie.PRESERVE=3]="PRESERVE"}(ba||(ba={})),ba))(),es=(()=>(function(ie){ie[ie.PICK=0]="PICK",ie[ie.DISABLED=1]="DISABLED",ie[ie.EXCLUSIVE_ONLY=2]="EXCLUSIVE_ONLY"}(es||(es={})),es))(),Cr=(()=>(function(ie){ie[ie.Markup=1]="Markup",ie[ie.Code=2]="Code"}(Cr||(Cr={})),Cr))();function Vt(ie){return 0===ie.length||!!function br(ie){return typeof ie.range<"u"}(ie[0])}function xt(ie){return typeof ie>"u"?ie:"string"==typeof ie?C.o.file(ie):ie}!function(ie){ie.to=function o(A){const{selectionStartLineNumber:G,selectionStartColumn:re,positionLineNumber:Oe,positionColumn:Xe}=A,Mt=new Rn(G-1,re-1),_n=new Rn(Oe-1,Xe-1);return new dn(Mt,_n)},ie.from=function f(A){const{anchor:G,active:re}=A;return{selectionStartLineNumber:G.line+1,selectionStartColumn:G.character+1,positionLineNumber:re.line+1,positionColumn:re.character+1}}}(Or||(Or={})),function(ie){ie.from=function o(A){if(!A)return;const{start:G,end:re}=A;return{startLineNumber:G.line+1,startColumn:G.character+1,endLineNumber:re.line+1,endColumn:re.character+1}},ie.to=function f(A){if(!A)return;const{startLineNumber:G,startColumn:re,endLineNumber:Oe,endColumn:Xe}=A;return new Wn(G-1,re-1,Oe-1,Xe-1)}}(Ui||(Ui={})),function(ie){ie.to=function o(f){switch(f){case 1:return wn.Comment;case 0:return wn.Other;case 3:return wn.RegEx;case 2:return wn.String}}}(Va||(Va={})),function(ie){ie.to=function o(A){return new Rn(A.lineNumber-1,A.column-1)},ie.from=function f(A){return{lineNumber:A.line+1,column:A.character+1}}}(Jo||(Jo={})),function(ie){function A(G,re){return re&&"string"==typeof G?re.transformOutgoingScheme(G):G}ie.from=function o(G,re){return(0,E.kX)((0,E._2)(G).map(Oe=>function f(G,re){return"string"==typeof G?{$serialized:!0,language:G}:G?{$serialized:!0,language:G.language,scheme:A(G.scheme,re),pattern:zr.from(G.pattern)??void 0,exclusive:G.exclusive,notebookType:G.notebookType}:void 0}(Oe,re)))}}(Xs||(Xs={})),function(ie){ie.from=function o(A){switch(A){case ut.Unnecessary:return 1;case ut.Deprecated:return 2}},ie.to=function f(A){switch(A){case 1:return ut.Unnecessary;case 2:return ut.Deprecated;default:return}}}(ya||(ya={})),function(ie){ie.from=function o(A){let G;return A.code&&(G=(0,_.HD)(A.code)||(0,_.hj)(A.code)?String(A.code):{value:String(A.code.value),target:A.code.target}),{...Ui.from(A.range),message:A.message,source:A.source,code:G,severity:da.from(A.severity),relatedInformation:A.relatedInformation&&A.relatedInformation.map(la.from),tags:Array.isArray(A.tags)?(0,E.kX)(A.tags.map(ya.from)):void 0}},ie.to=function f(A){const G=new bn(Ui.to(A),A.message,da.to(A.severity));return G.source=A.source,G.code=(0,_.HD)(A.code)?A.code:A.code?.value,G.relatedInformation=A.relatedInformation&&A.relatedInformation.map(la.to),G.tags=A.tags&&(0,E.kX)(A.tags.map(ya.to)),G}}(aa||(aa={})),function(ie){ie.from=function o(A){return{...Ui.from(A.location.range),message:A.message,resource:A.location.uri}},ie.to=function f(A){return new Qt(new Ht(A.resource,Ui.to(A)),A.message)}}(la||(la={})),function(ie){ie.from=function o(A){switch(A){case Pt.Error:return u.ZL.Error;case Pt.Warning:return u.ZL.Warning;case Pt.Information:return u.ZL.Info;case Pt.Hint:return u.ZL.Hint}return u.ZL.Error},ie.to=function f(A){switch(A){case u.ZL.Info:return Pt.Information;case u.ZL.Warning:return Pt.Warning;case u.ZL.Error:return Pt.Error;case u.ZL.Hint:return Pt.Hint;default:return Pt.Error}}}(da||(da={})),function(ie){ie.from=function o(A){return"number"==typeof A&&A>=Te.One?A-1:A===Te.Beside?S.e:S.A},ie.to=function f(A){if("number"==typeof A&&A>=0)return A+1;throw new Error("invalid 'EditorGroupColumn'")}}(Bo||(Bo={})),function(ie){function G(Xe,Mt){if(!Xe)return Xe;let _n;try{_n=(0,g.Q)(Xe)}catch{}if(!_n)return Xe;let Un=!1;return _n=(0,b.rs)(_n,ui=>{if(C.o.isUri(ui)){const Si=`__uri_${Math.random().toString(16).slice(2,8)}`;return Mt[Si]=ui,Un=!0,Si}}),Un?JSON.stringify(_n):Xe}ie.fromMany=function o(Xe){return Xe.map(ie.from)},ie.from=function A(Xe){let Mt;if(function f(Xe){return Xe&&"object"==typeof Xe&&"string"==typeof Xe.language&&"string"==typeof Xe.value}(Xe)){const{language:Si,value:ti}=Xe;Mt={value:"```"+Si+"\n"+ti+"\n```\n"}}else Mt=yn.isMarkdownString(Xe)?{value:Xe.value,isTrusted:Xe.isTrusted,supportThemeIcons:Xe.supportThemeIcons,supportHtml:Xe.supportHtml,baseUri:Xe.baseUri}:"string"==typeof Xe?{value:Xe}:{value:""};const _n=Object.create(null);Mt.uris=_n;const Un=Si=>{try{let ti=C.o.parse(Si,!0);ti=ti.with({query:G(ti.query,_n)}),_n[Si]=ti}catch{}return""},ui=new pt.Renderer;return ui.link=Un,ui.image=Si=>"string"==typeof Si?Un((0,t.v1)(Si).href):"",pt(Mt.value,{renderer:ui}),Mt},ie.to=function re(Xe){const Mt=new yn(Xe.value,Xe.supportThemeIcons);return Mt.isTrusted=Xe.isTrusted,Mt.supportHtml=Xe.supportHtml,Mt.baseUri=Xe.baseUri?C.o.from(Xe.baseUri):void 0,Mt},ie.fromStrict=function Oe(Xe){if(Xe)return"string"==typeof Xe?Xe:ie.from(Xe)}}(De||(De={})),function(ie){ie.from=function o(f){return typeof f>"u"?f:{contentText:f.contentText,contentIconPath:f.contentIconPath?xt(f.contentIconPath):void 0,border:f.border,borderColor:f.borderColor,fontStyle:f.fontStyle,fontWeight:f.fontWeight,textDecoration:f.textDecoration,color:f.color,backgroundColor:f.backgroundColor,margin:f.margin,width:f.width,height:f.height}}}(Jt||(Jt={})),function(ie){ie.from=function o(f){return typeof f>"u"?f:{backgroundColor:f.backgroundColor,outline:f.outline,outlineColor:f.outlineColor,outlineStyle:f.outlineStyle,outlineWidth:f.outlineWidth,border:f.border,borderColor:f.borderColor,borderRadius:f.borderRadius,borderSpacing:f.borderSpacing,borderStyle:f.borderStyle,borderWidth:f.borderWidth,fontStyle:f.fontStyle,fontWeight:f.fontWeight,textDecoration:f.textDecoration,cursor:f.cursor,color:f.color,opacity:f.opacity,letterSpacing:f.letterSpacing,gutterIconPath:f.gutterIconPath?xt(f.gutterIconPath):void 0,gutterIconSize:f.gutterIconSize,overviewRulerColor:f.overviewRulerColor,before:f.before?Jt.from(f.before):void 0,after:f.after?Jt.from(f.after):void 0}}}(pn||(pn={})),function(ie){ie.from=function o(f){if(typeof f>"u")return f;switch(f){case Jn.OpenOpen:return 0;case Jn.ClosedClosed:return 1;case Jn.OpenClosed:return 2;case Jn.ClosedOpen:return 3}}}(zt||(zt={})),function(ie){ie.from=function o(f){return{isWholeLine:f.isWholeLine,rangeBehavior:f.rangeBehavior?zt.from(f.rangeBehavior):void 0,overviewRulerLane:f.overviewRulerLane,light:f.light?pn.from(f.light):void 0,dark:f.dark?pn.from(f.dark):void 0,backgroundColor:f.backgroundColor,outline:f.outline,outlineColor:f.outlineColor,outlineStyle:f.outlineStyle,outlineWidth:f.outlineWidth,border:f.border,borderColor:f.borderColor,borderRadius:f.borderRadius,borderSpacing:f.borderSpacing,borderStyle:f.borderStyle,borderWidth:f.borderWidth,fontStyle:f.fontStyle,fontWeight:f.fontWeight,textDecoration:f.textDecoration,cursor:f.cursor,color:f.color,opacity:f.opacity,letterSpacing:f.letterSpacing,gutterIconPath:f.gutterIconPath?xt(f.gutterIconPath):void 0,gutterIconSize:f.gutterIconSize,overviewRulerColor:f.overviewRulerColor,before:f.before?Jt.from(f.before):void 0,after:f.after?Jt.from(f.after):void 0}}}(On||(On={})),function(ie){ie.from=function o(A){return{text:A.newText,eol:A.newEol&&Ro.from(A.newEol),range:Ui.from(A.range)}},ie.to=function f(A){const G=new tn(Ui.to(A.range),A.text);return G.newEol=typeof A.eol>"u"?void 0:Ro.to(A.eol),G}}(Xn||(Xn={})),function(ie){ie.from=function o(A,G,re){const Oe={edits:[]};if(A instanceof Pn){const Xe=new n.R;for(const Mt of A._allEntries())1===Mt._type&&C.o.isUri(Mt.to)&&void 0===Mt.from&&Xe.add(Mt.to);for(const Mt of A._allEntries())if(1===Mt._type)Oe.edits.push({oldResource:Mt.from,newResource:Mt.to,options:Mt.options,metadata:Mt.metadata});else if(2===Mt._type)Oe.edits.push({resource:Mt.uri,textEdit:Xn.from(Mt.edit),versionId:Xe.has(Mt.uri)?void 0:G?.getTextDocumentVersion(Mt.uri),metadata:Mt.metadata});else if(6===Mt._type){if(!re){console.warn("DROPPING snippet text edit because proposal IS NOT ENABLED",Mt);continue}Oe.edits.push({resource:Mt.uri,textEdit:{range:Ui.from(Mt.range),text:Mt.edit.value,insertAsSnippet:!0},versionId:Xe.has(Mt.uri)?void 0:G?.getTextDocumentVersion(Mt.uri),metadata:Mt.metadata})}else 3===Mt._type?Oe.edits.push({metadata:Mt.metadata,resource:Mt.uri,cellEdit:Mt.edit,notebookMetadata:Mt.notebookMetadata,notebookVersionId:G?.getNotebookDocumentVersion(Mt.uri)}):5===Mt._type&&Oe.edits.push({metadata:Mt.metadata,resource:Mt.uri,notebookVersionId:G?.getNotebookDocumentVersion(Mt.uri),cellEdit:{editType:1,index:Mt.index,count:Mt.count,cells:Mt.cells.map(ca.from)}})}return Oe},ie.to=function f(A){const G=new Pn;for(const re of A.edits)re.textEdit?G.replace(C.o.revive(re.resource),Ui.to(re.textEdit.range),re.textEdit.text):G.renameFile(C.o.revive(re.oldResource),C.o.revive(re.newResource),re.options);return G}}(Qn||(Qn={})),function(ie){const o=Object.create(null);o[Hn.File]=0,o[Hn.Module]=1,o[Hn.Namespace]=2,o[Hn.Package]=3,o[Hn.Class]=4,o[Hn.Method]=5,o[Hn.Property]=6,o[Hn.Field]=7,o[Hn.Constructor]=8,o[Hn.Enum]=9,o[Hn.Interface]=10,o[Hn.Function]=11,o[Hn.Variable]=12,o[Hn.Constant]=13,o[Hn.String]=14,o[Hn.Number]=15,o[Hn.Boolean]=16,o[Hn.Array]=17,o[Hn.Object]=18,o[Hn.Key]=19,o[Hn.Null]=20,o[Hn.EnumMember]=21,o[Hn.Struct]=22,o[Hn.Event]=23,o[Hn.Operator]=24,o[Hn.TypeParameter]=25,ie.from=function f(G){return"number"==typeof o[G]?o[G]:6},ie.to=function A(G){for(const re in o)if(o[re]===G)return Number(re);return Hn.Property}}(qn||(qn={})),function(ie){ie.from=function o(A){if(A===Ii.Deprecated)return 1},ie.to=function f(A){if(1===A)return Ii.Deprecated}}(kn||(kn={})),function(ie){ie.from=function o(A){return{name:A.name,kind:qn.from(A.kind),tags:A.tags&&A.tags.map(kn.from),containerName:A.containerName,location:ji.from(A.location)}},ie.to=function f(A){const G=new bi(A.name,qn.to(A.kind),A.containerName,ji.to(A.location));return G.tags=A.tags&&A.tags.map(kn.to),G}}(xi||(xi={})),function(ie){ie.from=function o(A){const G={name:A.name||"!!MISSING: name!!",detail:A.detail,range:Ui.from(A.range),selectionRange:Ui.from(A.selectionRange),kind:qn.from(A.kind),tags:A.tags?.map(kn.from)??[]};return A.children&&(G.children=A.children.map(o)),G},ie.to=function f(A){const G=new di(A.name,A.detail,qn.to(A.kind),Ui.to(A.range),Ui.to(A.selectionRange));return(0,E.Of)(A.tags)&&(G.tags=A.tags.map(kn.to)),A.children&&(G.children=A.children.map(f)),G}}(Ti||(Ti={})),function(ie){ie.to=function o(A){const G=new je(qn.to(A.kind),A.name,A.detail||"",C.o.revive(A.uri),Ui.to(A.range),Ui.to(A.selectionRange));return G._sessionId=A._sessionId,G._itemId=A._itemId,G},ie.from=function f(A,G,re){if(re=re??A._itemId,void 0===(G=G??A._sessionId)||void 0===re)throw new Error("invalid item");return{_sessionId:G,_itemId:re,name:A.name,detail:A.detail,kind:qn.from(A.kind),uri:A.uri,range:Ui.from(A.range),selectionRange:Ui.from(A.selectionRange),tags:A.tags?.map(kn.from)}}}(ki||(ki={})),function(ie){ie.from=function o(A){return{range:A.range&&Ui.from(A.range),uri:A.uri}},ie.to=function f(A){return new Ht(C.o.revive(A.uri),Ui.to(A.range))}}(ji||(ji={})),function(ie){ie.from=function o(A){const G=A,re=A;return{originSelectionRange:G.originSelectionRange?Ui.from(G.originSelectionRange):void 0,uri:G.targetUri?G.targetUri:re.uri,range:Ui.from(G.targetRange?G.targetRange:re.range),targetSelectionRange:G.targetSelectionRange?Ui.from(G.targetSelectionRange):void 0}},ie.to=function f(A){return{targetUri:C.o.revive(A.uri),targetRange:Ui.to(A.range),targetSelectionRange:A.targetSelectionRange?Ui.to(A.targetSelectionRange):void 0,originSelectionRange:A.originSelectionRange?Ui.to(A.originSelectionRange):void 0}}}(co||(co={})),function(ie){ie.from=function o(A){return{range:Ui.from(A.range),contents:De.fromMany(A.contents)}},ie.to=function f(A){return new Re(A.contents.map(De.to),Ui.to(A.range))}}(bo||(bo={})),function(ie){ie.from=function o(A){return{range:Ui.from(A.range),expression:A.expression}},ie.to=function f(A){return new zs(Ui.to(A.range),A.expression)}}(Lo||(Lo={})),function(ie){ie.from=function o(A){if(A instanceof us)return{type:"text",range:Ui.from(A.range),text:A.text};if(A instanceof gr)return{type:"variable",range:Ui.from(A.range),variableName:A.variableName,caseSensitiveLookup:A.caseSensitiveLookup};if(A instanceof er)return{type:"expression",range:Ui.from(A.range),expression:A.expression};throw new Error("Unknown 'InlineValue' type")},ie.to=function f(A){switch(A.type){case"text":return{range:Ui.to(A.range),text:A.text};case"variable":return{range:Ui.to(A.range),variableName:A.variableName,caseSensitiveLookup:A.caseSensitiveLookup};case"expression":return{range:Ui.to(A.range),expression:A.expression}}}}(yo||(yo={})),function(ie){ie.from=function o(A){return{frameId:A.frameId,stoppedLocation:Ui.from(A.stoppedLocation)}},ie.to=function f(A){return new Ur(A.frameId,Ui.to(A.stoppedLocation))}}(oo||(oo={})),function(ie){ie.from=function o(A){return{range:Ui.from(A.range),kind:A.kind}},ie.to=function f(A){return new Cn(Ui.to(A.range),A.kind)}}(Vo||(Vo={})),function(ie){ie.to=function o(f){switch(f){case 1:return ee.TriggerCharacter;case 2:return ee.TriggerForIncompleteCompletions;default:return ee.Invoke}}}(No||(No={})),function(ie){ie.to=function o(f){return{triggerKind:No.to(f.triggerKind),triggerCharacter:f.triggerCharacter}}}(po||(po={})),function(ie){ie.from=function o(A){if(A===it.Deprecated)return 1},ie.to=function f(A){if(1===A)return it.Deprecated}}(Ji||(Ji={})),function(ie){const o=new Map([[fe.Method,0],[fe.Function,1],[fe.Constructor,2],[fe.Field,3],[fe.Variable,4],[fe.Class,5],[fe.Interface,7],[fe.Struct,6],[fe.Module,8],[fe.Property,9],[fe.Unit,12],[fe.Value,13],[fe.Constant,14],[fe.Enum,15],[fe.EnumMember,16],[fe.Keyword,17],[fe.Snippet,27],[fe.Text,18],[fe.Color,19],[fe.File,20],[fe.Reference,21],[fe.Folder,23],[fe.Event,10],[fe.Operator,11],[fe.TypeParameter,24],[fe.Issue,26],[fe.User,25]]);ie.from=function f(re){return o.get(re)??9};const A=new Map([[0,fe.Method],[1,fe.Function],[2,fe.Constructor],[3,fe.Field],[4,fe.Variable],[5,fe.Class],[7,fe.Interface],[6,fe.Struct],[8,fe.Module],[9,fe.Property],[12,fe.Unit],[13,fe.Value],[14,fe.Constant],[15,fe.Enum],[16,fe.EnumMember],[17,fe.Keyword],[27,fe.Snippet],[18,fe.Text],[19,fe.Color],[20,fe.File],[21,fe.Reference],[23,fe.Folder],[10,fe.Event],[11,fe.Operator],[24,fe.TypeParameter],[25,fe.User],[26,fe.Issue]]);ie.to=function G(re){return A.get(re)??fe.Property}}(vo||(vo={})),function(ie){ie.from=function o(A){return{label:A.label,documentation:De.fromStrict(A.documentation)}},ie.to=function f(A){return{label:A.label,documentation:(0,t.Fr)(A.documentation)?De.to(A.documentation):A.documentation}}}(ko||(ko={})),function(ie){ie.from=function o(A){return{label:A.label,documentation:De.fromStrict(A.documentation),parameters:Array.isArray(A.parameters)?A.parameters.map(ko.from):[],activeParameter:A.activeParameter}},ie.to=function f(A){return{label:A.label,documentation:(0,t.Fr)(A.documentation)?De.to(A.documentation):A.documentation,parameters:Array.isArray(A.parameters)?A.parameters.map(ko.to):[],activeParameter:A.activeParameter}}}(Wo||(Wo={})),function(ie){ie.from=function o(A){return{activeSignature:A.activeSignature,activeParameter:A.activeParameter,signatures:Array.isArray(A.signatures)?A.signatures.map(Wo.from):[]}},ie.to=function f(A){return{activeSignature:A.activeSignature,activeParameter:A.activeParameter,signatures:Array.isArray(A.signatures)?A.signatures.map(Wo.to):[]}}}(qo||(qo={})),function(ie){ie.from=function o(A){return A},ie.to=function f(A){return A}}(So||(So={})),function(ie){ie.from=function o(A){return{range:Ui.from(A.range),url:A.target,tooltip:A.tooltip}},ie.to=function f(A){let G;if(A.url)try{G="string"==typeof A.url?C.o.parse(A.url,!0):C.o.revive(A.url)}catch{}return new gi(Ui.to(A.range),G)}}(ns||(ns={})),function(ie){ie.to=function o(A){const G=new Mi(A.label);return A.textEdit&&(G.textEdit=Xn.to(A.textEdit)),A.additionalTextEdits&&(G.additionalTextEdits=A.additionalTextEdits.map(re=>Xn.to(re))),G},ie.from=function f(A){return{label:A.label,textEdit:A.textEdit?Xn.from(A.textEdit):void 0,additionalTextEdits:A.additionalTextEdits?A.additionalTextEdits.map(G=>Xn.from(G)):void 0}}}(Rs||(Rs={})),function(ie){ie.to=function o(A){return new pi(A[0],A[1],A[2],A[3])},ie.from=function f(A){return[A.red,A.green,A.blue,A.alpha]}}(Zo||(Zo={})),function(ie){ie.from=function o(A){return{range:Ui.from(A.range)}},ie.to=function f(A){return new _e(Ui.to(A.range))}}(Fs||(Fs={})),function(ie){ie.from=function o(A){switch(A){case Gt.Off:return 0;case Gt.Relative:return 2;default:return 1}},ie.to=function f(A){switch(A){case 0:return Gt.Off;case 2:return Gt.Relative;default:return Gt.On}}}(Os||(Os={})),function(ie){ie.from=function o(A){return A===ft.CRLF?1:A===ft.LF?0:void 0},ie.to=function f(A){return 1===A?ft.CRLF:0===A?ft.LF:void 0}}(Ro||(Ro={})),function(ie){ie.from=function o(f){if("object"==typeof f)return f.viewId;switch(f){case rr.SourceControl:return 3;case rr.Window:return 10;case rr.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}}(Js||(Js={})),function(ie){ie.from=function o(f){const A={start:f.start+1,end:f.end+1};return f.kind&&(A.kind=Ir.from(f.kind)),A}}(Us||(Us={})),function(ie){ie.from=function o(f){if(f)switch(f){case Gi.Comment:return bt.Comment;case Gi.Imports:return bt.Imports;case Gi.Region:return bt.Region}}}(Ir||(Ir={})),function(ie){ie.from=function o(re){return re instanceof Es?re.toJSON():"string"==typeof re?re:function f(re){const Oe=re;return!!Oe&&C.o.isUri(Oe.baseUri)&&"string"==typeof Oe.pattern}(re)||function A(re){return!!re&&"string"==typeof re.base&&"string"==typeof re.pattern}(re)?new Es(re.baseUri??re.base,re.pattern).toJSON():re},ie.to=function G(re){return"string"==typeof re?re:new Es(C.o.revive(re.baseUri),re.pattern)}}(zr||(zr={})),function(ie){ie.from=function o(f){if(f){if(Array.isArray(f))return f.map(o);if("string"==typeof f)return f;{const A=f;return{language:A.language,scheme:A.scheme,pattern:zr.from(A.pattern),exclusive:A.exclusive,notebookType:A.notebookType}}}}}(Kr||(Kr={})),function(ie){ie.from=function o(A){return{start:A.start,end:A.end}},ie.to=function f(A){return new Qs(A.start,A.end)}}(Sa||(Sa={})),function(ie){ie.to=function o(A){return{timing:"number"==typeof A.runStartTime&&"number"==typeof A.runEndTime?{startTime:A.runStartTime,endTime:A.runEndTime}:void 0,executionOrder:A.executionOrder,success:A.lastRunSuccess}},ie.from=function f(A){return{lastRunSuccess:A.success,runStartTime:A.timing?.startTime,runEndTime:A.timing?.endTime,executionOrder:A.executionOrder}}}(wa||(wa={})),function(ie){ie.from=function o(A){return A===te.Markup?Cr.Markup:Cr.Code},ie.to=function f(A){return A===Cr.Markup?te.Markup:te.Code}}(Ha||(Ha={})),function(ie){ie.from=function o(A){return{cellKind:Ha.from(A.kind),language:A.languageId,mime:A.mime,source:A.value,metadata:A.metadata,internalMetadata:wa.from(A.executionSummary??{}),outputs:A.outputs?A.outputs.map(Ea.from):[]}},ie.to=function f(A){return new Rr(Ha.to(A.cellKind),A.source,A.language,A.mime,A.outputs?A.outputs.map(Ea.to):void 0,A.metadata,A.internalMetadata?wa.to(A.internalMetadata):void 0)}}(ca||(ca={})),function(ie){ie.from=function o(A){return{mime:A.mime,valueBytes:w.KN.wrap(A.data)}},ie.to=function f(A){return new Ks(A.valueBytes.buffer,A.mime)}}(Da||(Da={})),function(ie){ie.from=function o(A){return{outputId:A.id,items:A.items.map(Da.from),metadata:A.metadata}},ie.to=function f(A){const G=A.items.map(Da.to);return new An(G,A.outputId,A.metadata)}}(Ea||(Ea={})),function(ie){ie.to=function o(f){switch(f){case 1:return Ft.Invoke;case 2:return Ft.Automatic}}}(ua||(ua={})),function(ie){ie.to=function o(A){const G=new Fo(qn.to(A.kind),A.name,A.detail||"",C.o.revive(A.uri),Ui.to(A.range),Ui.to(A.selectionRange));return G._sessionId=A._sessionId,G._itemId=A._itemId,G},ie.from=function f(A,G,re){if(re=re??A._itemId,void 0===(G=G??A._sessionId)||void 0===re)throw new Error("invalid item");return{_sessionId:G,_itemId:re,kind:qn.from(A.kind),name:A.name,detail:A.detail??"",uri:A.uri,range:Ui.from(A.range),selectionRange:Ui.from(A.selectionRange),tags:A.tags?.map(kn.from)}}}(Ua||(Ua={})),function(ie){ie.toDataTransferItem=function o(f,A){const G=f.fileData;return G?new class extends Ws{asFile(){return{name:G.name,uri:C.o.revive(G.uri),data:(0,y.I)(()=>A())}}}(""):new Ws(f.asString)}}(La||(La={})),function(ie){function A(){return(A=(0,d.Z)(function*(G){const re={items:[]},Oe=[];return G.forEach((Xe,Mt)=>{Oe.push((0,d.Z)(function*(){const _n=yield Xe.asString(),Un=Xe.asFile();re.items.push([Mt,{asString:_n,fileData:Un?{name:Un.name,uri:Un.uri}:void 0}])})())}),yield Promise.all(Oe),re})).apply(this,arguments)}ie.toDataTransfer=function o(G,re){const Oe=G.items.map(([Xe,Mt],_n)=>[Xe,La.toDataTransferItem(Mt,()=>re(_n))]);return new Vs(Oe)},ie.toDataTransferDTO=function f(G){return A.apply(this,arguments)}}(kr||(kr={}));let xa=(()=>{class ie{constructor(f){this._proxyIdentifierBrand=void 0,this.sid=f,this.nid=++ie.count}}return ie.count=0,ie})();const Xr=[];function Ri(ie){const o=new xa(ie);return Xr[o.nid]=o,o}function Ia(ie){return Xr[ie].sid}class ha{constructor(o){this.value=o}}var Jr=(()=>(function(ie){ie[ie.Default=0]="Default",ie[ie.InCenter=1]="InCenter",ie[ie.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",ie[ie.AtTop=3]="AtTop"}(Jr||(Jr={})),Jr))();function yr(ie){return ie&&ie.edits&&(0,g.w)(ie),ie}const Oo={MainThreadAuthentication:Ri("MainThreadAuthentication"),MainThreadBulkEdits:Ri("MainThreadBulkEdits"),MainThreadClipboard:Ri("MainThreadClipboard"),MainThreadCommands:Ri("MainThreadCommands"),MainThreadComments:Ri("MainThreadComments"),MainThreadConfiguration:Ri("MainThreadConfiguration"),MainThreadConsole:Ri("MainThreadConsole"),MainThreadDebugService:Ri("MainThreadDebugService"),MainThreadDecorations:Ri("MainThreadDecorations"),MainThreadDiagnostics:Ri("MainThreadDiagnostics"),MainThreadDialogs:Ri("MainThreadDiaglogs"),MainThreadDocuments:Ri("MainThreadDocuments"),MainThreadDocumentContentProviders:Ri("MainThreadDocumentContentProviders"),MainThreadTextEditors:Ri("MainThreadTextEditors"),MainThreadEditorInsets:Ri("MainThreadEditorInsets"),MainThreadEditorTabs:Ri("MainThreadEditorTabs"),MainThreadErrors:Ri("MainThreadErrors"),MainThreadTreeViews:Ri("MainThreadTreeViews"),MainThreadDownloadService:Ri("MainThreadDownloadService"),MainThreadKeytar:Ri("MainThreadKeytar"),MainThreadLanguageFeatures:Ri("MainThreadLanguageFeatures"),MainThreadLanguages:Ri("MainThreadLanguages"),MainThreadLogger:Ri("MainThreadLogger"),MainThreadMessageService:Ri("MainThreadMessageService"),MainThreadOutputService:Ri("MainThreadOutputService"),MainThreadProgress:Ri("MainThreadProgress"),MainThreadQuickOpen:Ri("MainThreadQuickOpen"),MainThreadStatusBar:Ri("MainThreadStatusBar"),MainThreadSecretState:Ri("MainThreadSecretState"),MainThreadStorage:Ri("MainThreadStorage"),MainThreadTelemetry:Ri("MainThreadTelemetry"),MainThreadTerminalService:Ri("MainThreadTerminalService"),MainThreadWebviews:Ri("MainThreadWebviews"),MainThreadWebviewPanels:Ri("MainThreadWebviewPanels"),MainThreadWebviewViews:Ri("MainThreadWebviewViews"),MainThreadCustomEditors:Ri("MainThreadCustomEditors"),MainThreadUrls:Ri("MainThreadUrls"),MainThreadUriOpeners:Ri("MainThreadUriOpeners"),MainThreadWorkspace:Ri("MainThreadWorkspace"),MainThreadFileSystem:Ri("MainThreadFileSystem"),MainThreadExtensionService:Ri("MainThreadExtensionService"),MainThreadSCM:Ri("MainThreadSCM"),MainThreadSearch:Ri("MainThreadSearch"),MainThreadTask:Ri("MainThreadTask"),MainThreadWindow:Ri("MainThreadWindow"),MainThreadLabelService:Ri("MainThreadLabelService"),MainThreadNotebook:Ri("MainThreadNotebook"),MainThreadNotebookDocuments:Ri("MainThreadNotebookDocumentsShape"),MainThreadNotebookEditors:Ri("MainThreadNotebookEditorsShape"),MainThreadNotebookKernels:Ri("MainThreadNotebookKernels"),MainThreadNotebookRenderers:Ri("MainThreadNotebookRenderers"),MainThreadInteractive:Ri("MainThreadInteractive"),MainThreadTheming:Ri("MainThreadTheming"),MainThreadTunnelService:Ri("MainThreadTunnelService"),MainThreadTimeline:Ri("MainThreadTimeline"),MainThreadTesting:Ri("MainThreadTesting")},ds={ExtHostCommands:Ri("ExtHostCommands"),ExtHostConfiguration:Ri("ExtHostConfiguration"),ExtHostDiagnostics:Ri("ExtHostDiagnostics"),ExtHostDebugService:Ri("ExtHostDebugService"),ExtHostDecorations:Ri("ExtHostDecorations"),ExtHostDocumentsAndEditors:Ri("ExtHostDocumentsAndEditors"),ExtHostDocuments:Ri("ExtHostDocuments"),ExtHostDocumentContentProviders:Ri("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:Ri("ExtHostDocumentSaveParticipant"),ExtHostEditors:Ri("ExtHostEditors"),ExtHostTreeViews:Ri("ExtHostTreeViews"),ExtHostFileSystem:Ri("ExtHostFileSystem"),ExtHostFileSystemInfo:Ri("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:Ri("ExtHostFileSystemEventService"),ExtHostLanguages:Ri("ExtHostLanguages"),ExtHostLanguageFeatures:Ri("ExtHostLanguageFeatures"),ExtHostQuickOpen:Ri("ExtHostQuickOpen"),ExtHostExtensionService:Ri("ExtHostExtensionService"),ExtHostLogLevelServiceShape:Ri("ExtHostLogLevelServiceShape"),ExtHostTerminalService:Ri("ExtHostTerminalService"),ExtHostSCM:Ri("ExtHostSCM"),ExtHostSearch:Ri("ExtHostSearch"),ExtHostTask:Ri("ExtHostTask"),ExtHostWorkspace:Ri("ExtHostWorkspace"),ExtHostWindow:Ri("ExtHostWindow"),ExtHostWebviews:Ri("ExtHostWebviews"),ExtHostWebviewPanels:Ri("ExtHostWebviewPanels"),ExtHostCustomEditors:Ri("ExtHostCustomEditors"),ExtHostWebviewViews:Ri("ExtHostWebviewViews"),ExtHostEditorInsets:Ri("ExtHostEditorInsets"),ExtHostEditorTabs:Ri("ExtHostEditorTabs"),ExtHostProgress:Ri("ExtHostProgress"),ExtHostComments:Ri("ExtHostComments"),ExtHostSecretState:Ri("ExtHostSecretState"),ExtHostStorage:Ri("ExtHostStorage"),ExtHostUrls:Ri("ExtHostUrls"),ExtHostUriOpeners:Ri("ExtHostUriOpeners"),ExtHostOutputService:Ri("ExtHostOutputService"),ExtHosLabelService:Ri("ExtHostLabelService"),ExtHostNotebook:Ri("ExtHostNotebook"),ExtHostNotebookDocuments:Ri("ExtHostNotebookDocuments"),ExtHostNotebookEditors:Ri("ExtHostNotebookEditors"),ExtHostNotebookKernels:Ri("ExtHostNotebookKernels"),ExtHostNotebookRenderers:Ri("ExtHostNotebookRenderers"),ExtHostInteractive:Ri("ExtHostInteractive"),ExtHostTheming:Ri("ExtHostTheming"),ExtHostTunnelService:Ri("ExtHostTunnelService"),ExtHostAuthentication:Ri("ExtHostAuthentication"),ExtHostTimeline:Ri("ExtHostTimeline"),ExtHostTesting:Ri("ExtHostTesting"),ExtHostTelemetry:Ri("ExtHostTelemetry")},Sr=(0,D.yh)("IExtHostRpcService");var $r,Cs;let qr=class{constructor(o,f){$r.set(this,void 0),this._commands=new Map,this._apiCommands=new Map,Cs.set(this,void 0),(0,l.b)(this,$r,o.getProxy(Oo.MainThreadCommands),"f"),this._logService=f,(0,l.b)(this,Cs,o.getProxy(Oo.MainThreadTelemetry),"f"),this.converter=new Tr(this,A=>{const G=this._apiCommands.get(A);return G?.result===ea.Void?G:void 0},f),this._argumentProcessors=[{processArgument:A=>(0,g.w)(A)},{processArgument:A=>(0,b.rs)(A,function(G){return nt.isIRange(G)?Ui.to(G):io.isIPosition(G)?Jo.to(G):nt.isIRange(G.range)&&C.o.isUri(G.uri)?ji.to(G):G instanceof w.KN?G.buffer.buffer:Array.isArray(G)?void 0:G})}]}registerArgumentProcessor(o){this._argumentProcessors.push(o)}registerApiCommand(o){var f=this;const A=this.registerCommand(!1,o.id,(0,d.Z)(function*(...G){const re=o.args.map((Xe,Mt)=>{if(!Xe.validate(G[Mt]))throw new Error(`Invalid argument '${Xe.name}' when running '${o.id}', received: ${G[Mt]}`);return Xe.convert(G[Mt])}),Oe=yield f.executeCommand(o.internalId,...re);return o.result.convert(Oe,G,f.converter)}),void 0,{description:o.description,args:o.args,returns:o.result.description});return this._apiCommands.set(o.id,o),new un(()=>{A.dispose(),this._apiCommands.delete(o.id)})}registerCommand(o,f,A,G,re,Oe){if(this._logService.trace("ExtHostCommands#registerCommand",f),!f.trim().length)throw new Error("invalid id");if(this._commands.has(f))throw new Error(`command '${f}' already exists`);return this._commands.set(f,{callback:A,thisArg:G,description:re,extension:Oe}),o&&(0,l.c)(this,$r,"f").$registerCommand(f),new un(()=>{this._commands.delete(f)&&o&&(0,l.c)(this,$r,"f").$unregisterCommand(f)})}executeCommand(o,...f){return this._logService.trace("ExtHostCommands#executeCommand",o),this._doExecuteCommand(o,f,!0)}_doExecuteCommand(o,f,A){var G=this;return(0,d.Z)(function*(){if(G._commands.has(o))return(0,l.c)(G,$r,"f").$fireCommandActivationEvent(o),G._executeContributedCommand(o,f,!1);{let re=!1;const Oe=(0,b.rs)(f,function(Xe){return Xe instanceof Rn?Jo.from(Xe):Xe instanceof Wn?Ui.from(Xe):Xe instanceof Ht?ji.from(Xe):Qs.isNotebookRange(Xe)?Sa.from(Xe):Xe instanceof ArrayBuffer?(re=!0,w.KN.wrap(new Uint8Array(Xe))):Xe instanceof Uint8Array?(re=!0,w.KN.wrap(Xe)):Xe instanceof w.KN?(re=!0,Xe):Array.isArray(Xe)?void 0:Xe});try{const Xe=yield(0,l.c)(G,$r,"f").$executeCommand(o,re?new ha(Oe):Oe,A);return(0,g.w)(Xe)}catch(Xe){if(Xe instanceof Error&&"$executeCommand:retry"===Xe.message)return G._doExecuteCommand(o,f,!1);throw Xe}}})()}_executeContributedCommand(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._commands.get(o);if(!re)throw new Error("Unknown command");G._reportTelemetry(re,o);const{callback:Oe,thisArg:Xe,description:Mt}=re;if(Mt)for(let _n=0;_n<Mt.args.length;_n++)try{(0,_.Nf)(f[_n],Mt.args[_n].constraint)}catch{throw new Error(`Running the contributed command: '${o}' failed. Illegal argument '${Mt.args[_n].name}' - ${Mt.args[_n].description}`)}try{return yield Oe.apply(Xe,f)}catch(_n){if(o===G.converter.delegatingCommandId){const Un=G.converter.getActualCommand(...f);Un&&(o=Un.command)}throw G._logService.error(_n,o,re.extension?.identifier),A?new class extends Error{constructor(){super((0,x.y)(_n)),this.id=o,this.source=re.extension?.displayName??re.extension?.name}}:_n}})()}_reportTelemetry(o,f){!o.extension||o.extension.isBuiltin||(0,l.c)(this,Cs,"f").$publicLog2("Extension:ActionExecuted",{extensionId:o.extension.identifier.value,id:f})}$executeContributedCommand(o,...f){return this._logService.trace("ExtHostCommands#$executeContributedCommand",o),this._commands.has(o)?(f=f.map(A=>this._argumentProcessors.reduce((G,re)=>re.processArgument(G),A)),this._executeContributedCommand(o,f,!0)):Promise.reject(new Error(`Contributed command '${o}' does not exist.`))}getCommands(o=!1){return this._logService.trace("ExtHostCommands#getCommands",o),(0,l.c)(this,$r,"f").$getCommands().then(f=>(o&&(f=f.filter(A=>"_"!==A[0])),f))}$getContributedCommandHandlerDescriptions(){const o=Object.create(null);for(const[f,A]of this._commands){const{description:G}=A;G&&(o[f]=G)}return Promise.resolve(o)}};$r=new WeakMap,Cs=new WeakMap,qr=(0,l._)([(0,l.a)(0,Sr),(0,l.a)(1,P.VZ)],qr);class Tr{constructor(o,f,A){this._commands=o,this._lookupApiCommand=f,this._logService=A,this.delegatingCommandId=`_vscode_delegate_cmd_${Date.now().toString(36)}`,this._cache=new Map,this._cachIdPool=0,this._commands.registerCommand(!0,this.delegatingCommandId,this._executeConvertedCommand,this)}toInternal(o,f){if(!o)return;const A={$ident:void 0,id:o.command,title:o.title,tooltip:o.tooltip};if(!o.command)return A;const G=this._lookupApiCommand(o.command);if(G)A.id=G.internalId,A.arguments=G.args.map((re,Oe)=>re.convert(o.arguments&&o.arguments[Oe]));else if((0,E.Of)(o.arguments)){const re=++this._cachIdPool;this._cache.set(re,o),f.add((0,O.OF)(()=>{this._cache.delete(re),this._logService.trace("CommandsConverter#DISPOSE",re)})),A.$ident=re,A.id=this.delegatingCommandId,A.arguments=[re],this._logService.trace("CommandsConverter#CREATE",o.command,re)}return A}fromInternal(o){return"number"==typeof o.$ident?this._cache.get(o.$ident):{command:o.id,title:o.title,arguments:o.arguments}}getActualCommand(...o){return this._cache.get(o[0])}_executeConvertedCommand(...o){const f=this.getActualCommand(...o);return this._logService.trace("CommandsConverter#EXECUTE",o[0],f?f.command:"MISSING"),f?this._commands.executeCommand(f.command,...f.arguments||[]):Promise.reject("actual command NOT FOUND")}}class ea{constructor(o,f){this.description=o,this.convert=f}}function bs(ie){return function(o){Ra.INSTANCE.registerNamedCustomer(ie,o)}}ea.Void=new ea("no result",ie=>ie);class Ra{constructor(){this._namedCustomers=[],this._customers=[]}registerNamedCustomer(o,f){this._namedCustomers.push([o,f])}getNamedCustomers(){return this._namedCustomers}registerCustomer(o){this._customers.push(o)}getCustomers(){return this._customers}}Ra.INSTANCE=new Ra;let ja=class{constructor(o,f,A){this._commandService=f,this._extensionService=A,this._commandRegistrations=new Map,this._proxy=o.getProxy(ds.ExtHostCommands),this._generateCommandsDocumentationRegistration=H.P0.registerCommand("_generateCommandsDocumentation",()=>this._generateCommandsDocumentation())}dispose(){(0,O.B9)(this._commandRegistrations.values()),this._commandRegistrations.clear(),this._generateCommandsDocumentationRegistration.dispose()}_generateCommandsDocumentation(){var o=this;return(0,d.Z)(function*(){const f=yield o._proxy.$getContributedCommandHandlerDescriptions(),A=H.P0.getCommands();for(const[re,Oe]of A)Oe.description&&(f[re]=Oe.description);const G=[];for(const re in f)G.push("`"+re+"` - "+Ya(f[re]));console.log(G.join("\n"))})()}$registerCommand(o){this._commandRegistrations.set(o,H.P0.registerCommand(o,(f,...A)=>this._proxy.$executeContributedCommand(o,...A).then(G=>(0,g.w)(G))))}$unregisterCommand(o){const f=this._commandRegistrations.get(o);f&&(f.dispose(),this._commandRegistrations.delete(o))}$fireCommandActivationEvent(o){const f=`onCommand:${o}`;this._extensionService.activationEventIsDone(f)||this._extensionService.activateByEvent(f)}$executeCommand(o,f,A){var G=this;return(0,d.Z)(function*(){f instanceof ha&&(f=f.value);for(let re=0;re<f.length;re++)f[re]=(0,g.w)(f[re]);if(A&&f.length>0&&!H.P0.getCommand(o))throw yield G._extensionService.activateByEvent(`onCommand:${o}`),new Error("$executeCommand:retry");return G._commandService.executeCommand(o,...f)})()}$getCommands(){return Promise.resolve([...H.P0.getCommands().keys()])}};function Ya(ie){if("string"==typeof ie)return ie;{const o=[ie.description];if(o.push("\n\n"),ie.args)for(const f of ie.args)o.push(`* _${f.name}_ - ${f.description||""}\n`);return ie.returns&&o.push(`* _(returns)_ - ${ie.returns}`),o.push("\n\n"),o.join("")}}ja=(0,l._)([bs(Oo.MainThreadCommands),(0,l.a)(1,H.Hy),(0,l.a)(2,V.I)],ja);let Xa=class{constructor(o,f){this._extHostLogService=f,this._reportedUsages=new Set,this._telemetryShape=o.getProxy(Oo.MainThreadTelemetry)}report(o,f,A){const G=this.getUsageKey(o,f);this._reportedUsages.has(G)||(this._reportedUsages.add(G),f.isUnderDevelopment&&this._extHostLogService.warn(`[Deprecation Warning] '${o}' is deprecated. ${A}`),this._telemetryShape.$publicLog2("extHostDeprecatedApiUsage",{extensionId:f.identifier.value,apiId:o}))}getUsageKey(o,f){return`${o}-${f.identifier.value}`}};Xa=(0,l._)([(0,l.a)(0,Sr),(0,l.a)(1,P.VZ)],Xa);class Tl{constructor(){this._systemSchemes=new Set(Object.keys(z.lg)),this._providerInfo=new Map,this.extUri=new k.U9(o=>{const f=this._providerInfo.get(o.scheme);return!(void 0===f||1024&f)})}$acceptProviderInfos(o,f){null===f?this._providerInfo.delete(o.scheme):this._providerInfo.set(o.scheme,f)}isFreeScheme(o){return!this._providerInfo.has(o)&&!this._systemSchemes.has(o)}getCapabilities(o){return this._providerInfo.get(o)}}const Ta=(0,D.yh)("IExtHostFileSystemInfo");var qs,ta,Bs;class Ja{constructor(o,f,A,G,re,Oe){this._name=o,this._owner=f,this._maxDiagnosticsPerFile=A,qs.set(this,void 0),ta.set(this,void 0),Bs.set(this,void 0),this._isDisposed=!1,(0,l.b)(this,Bs,new c.Y9(Xe=>G.getComparisonKey(Xe)),"f"),(0,l.b)(this,qs,re,"f"),(0,l.b)(this,ta,Oe,"f")}dispose(){this._isDisposed||((0,l.c)(this,ta,"f").fire([...(0,l.c)(this,Bs,"f").keys()]),(0,l.c)(this,qs,"f")?.$clear(this._owner),(0,l.c)(this,Bs,"f").clear(),this._isDisposed=!0)}get name(){return this._checkDisposed(),this._name}set(o,f){if(!o)return void this.clear();this._checkDisposed();let A=[];if(C.o.isUri(o)){if(!f)return void this.delete(o);(0,l.c)(this,Bs,"f").set(o,f.slice()),A=[o]}else if(Array.isArray(o)){let re;A=[],o=[...o].sort(Ja._compareIndexedTuplesByUri);for(const Oe of o){const[Xe,Mt]=Oe;if((!re||Xe.toString()!==re.toString())&&(re&&0===(0,l.c)(this,Bs,"f").get(re).length&&(0,l.c)(this,Bs,"f").delete(re),re=Xe,A.push(Xe),(0,l.c)(this,Bs,"f").set(Xe,[])),Mt)(0,l.c)(this,Bs,"f").get(Xe)?.push(...Mt);else{const _n=(0,l.c)(this,Bs,"f").get(Xe);_n&&(_n.length=0)}}}if((0,l.c)(this,ta,"f").fire(A),!(0,l.c)(this,qs,"f"))return;const G=[];for(const re of A){let Oe=[];const Xe=(0,l.c)(this,Bs,"f").get(re);if(Xe)if(Xe.length>this._maxDiagnosticsPerFile){Oe=[];const Mt=[Pt.Error,Pt.Warning,Pt.Information,Pt.Hint];e:for(let _n=0;_n<4;_n++)for(const Un of Xe)if(Un.severity===Mt[_n]&&Oe.push(aa.from(Un))===this._maxDiagnosticsPerFile)break e;Oe.push({severity:u.ZL.Info,message:(0,j.NC)({key:"limitHit",comment:["amount of errors/warning skipped due to limits"]},"Not showing {0} further errors and warnings.",Xe.length-this._maxDiagnosticsPerFile),startLineNumber:Oe[Oe.length-1].startLineNumber,startColumn:Oe[Oe.length-1].startColumn,endLineNumber:Oe[Oe.length-1].endLineNumber,endColumn:Oe[Oe.length-1].endColumn})}else Oe=Xe.map(Mt=>aa.from(Mt));G.push([re,Oe])}(0,l.c)(this,qs,"f").$changeMany(this._owner,G)}delete(o){this._checkDisposed(),(0,l.c)(this,ta,"f").fire([o]),(0,l.c)(this,Bs,"f").delete(o),(0,l.c)(this,qs,"f")?.$changeMany(this._owner,[[o,void 0]])}clear(){this._checkDisposed(),(0,l.c)(this,ta,"f").fire([...(0,l.c)(this,Bs,"f").keys()]),(0,l.c)(this,Bs,"f").clear(),(0,l.c)(this,qs,"f")?.$clear(this._owner)}forEach(o,f){this._checkDisposed();for(const[A,G]of this)o.call(f,A,G,this)}*[(qs=new WeakMap,ta=new WeakMap,Bs=new WeakMap,Symbol.iterator)](){this._checkDisposed();for(const o of(0,l.c)(this,Bs,"f").keys())yield[o,this.get(o)]}get(o){this._checkDisposed();const f=(0,l.c)(this,Bs,"f").get(o);return Array.isArray(f)?Object.freeze(f.slice(0)):[]}has(o){return this._checkDisposed(),Array.isArray((0,l.c)(this,Bs,"f").get(o))}_checkDisposed(){if(this._isDisposed)throw new Error("illegal state - object is disposed")}static _compareIndexedTuplesByUri(o,f){return o[0].toString()<f[0].toString()?-1:o[0].toString()>f[0].toString()?1:0}}let na=class Il{constructor(o,f,A){this._logService=f,this._fileSystemInfoService=A,this._collections=new Map,this._onDidChangeDiagnostics=new F.D0({merge:G=>G.flat(),delay:50}),this.onDidChangeDiagnostics=F.ju.map(this._onDidChangeDiagnostics.event,Il._mapper),this._proxy=o.getProxy(Oo.MainThreadDiagnostics)}static _mapper(o){const f=new c.Y9;for(const A of o)f.set(A,A);return{uris:Object.freeze(Array.from(f.values()))}}createDiagnosticCollection(o,f){const{_collections:A,_proxy:G,_onDidChangeDiagnostics:re,_logService:Oe,_fileSystemInfoService:Xe}=this,Mt=new class{$changeMany(ui,Si){G.$changeMany(ui,Si),Oe.trace("[DiagnosticCollection] change many (extension, owner, uris)",o.value,ui,0===Si.length?"CLEARING":Si)}$clear(ui){G.$clear(ui),Oe.trace("[DiagnosticCollection] remove all (extension, owner)",o.value,ui)}dispose(){G.dispose()}};let _n;if(f)if(A.has(f)){this._logService.warn(`DiagnosticCollection with name '${f}' does already exist.`);do{_n=f+Il._idPool++}while(A.has(_n))}else _n=f;else f="_generated_diagnostic_collection_name_#"+Il._idPool++,_n=f;return new class extends Ja{constructor(){super(f,_n,Il._maxDiagnosticsPerFile,Xe.extUri,Mt,re),A.set(_n,this)}dispose(){super.dispose(),A.delete(_n)}}}getDiagnostics(o){if(o)return this._getDiagnostics(o);{const f=new Map,A=[];for(const G of this._collections.values())G.forEach((re,Oe)=>{let Xe=f.get(re.toString());typeof Xe>"u"&&(Xe=A.length,f.set(re.toString(),Xe),A.push([re,[]])),A[Xe][1]=A[Xe][1].concat(...Oe)});return A}}_getDiagnostics(o){let f=[];for(const A of this._collections.values())A.has(o)&&(f=f.concat(A.get(o)));return f}$acceptMarkersChange(o){if(!this._mirrorCollection){const f="_generated_mirror",A=new Ja(f,f,Il._maxDiagnosticsPerFile,this._fileSystemInfoService.extUri,void 0,this._onDidChangeDiagnostics);this._collections.set(f,A),this._mirrorCollection=A}for(const[f,A]of o)this._mirrorCollection.set(C.o.revive(f),A.map(aa.to))}};function za(ie,o,f,A){if(!ie||A>200)return null;if("object"==typeof ie){if(1===ie.$mid)return f?C.o.revive(o.transformIncoming(ie)):o.transformIncoming(ie);for(const G in ie)if(Object.hasOwnProperty.call(ie,G)){const re=za(ie[G],o,f,A+1);null!==re&&(ie[G]=re)}}return null}function Oa(ie,o){const f=za(ie,o,!1,0);return null===f?ie:f}na._idPool=0,na._maxDiagnosticsPerFile=1e3,na=(0,l._)([(0,l.a)(1,P.VZ),(0,l.a)(2,Ta)],na);class Ka{constructor(){this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null}get[Symbol.toStringTag](){return this.toString()}_ensureActual(){return this._actual||(this._actual=new Promise((o,f)=>{this._actualOk=o,this._actualErr=f,this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)})),this._actual}resolveOk(o){this._hasValue||this._hasErr||(this._hasValue=!0,this._value=o,this._actual&&this._actualOk(o))}resolveErr(o){this._hasValue||this._hasErr||(this._hasErr=!0,this._err=o,this._actual?this._actualErr(o):(0,T.dL)(o))}then(o,f){return this._ensureActual().then(o,f)}catch(o){return this._ensureActual().then(void 0,o)}finally(o){return this._ensureActual().finally(o)}}class Gr extends Ka{constructor(){super(),this._hasErr=!0,this._err=new T.FU}}var pl;function qa(ie,o){try{return JSON.stringify(ie,o)}catch{return"null"}}const Mr="$$ref$$",_l={[Mr]:-1};function $a(ie,o=null,f=!1){const A=[];return{jsonString:(f?qa:JSON.stringify)(ie,(re,Oe)=>{if(typeof Oe>"u")return _l;if("object"==typeof Oe){if(Oe instanceof w.KN){const Xe=A.push(Oe)-1;return{[Mr]:Xe}}if(o)return o(re,Oe)}return Oe}),referencedBuffers:A}}function el(ie,o,f){return JSON.parse(ie,(A,G)=>{if(G){const re=G[Mr];if("number"==typeof re)return o[re];if(f&&1===G.$mid)return f.transformIncoming(G)}return G})}function Ga(ie,o){return JSON.stringify(ie,o)}const nl=()=>{},Ml=Symbol.for("rpcProtocol"),Al=Symbol.for("rpcProxy");class ia extends O.JT{constructor(o,f=null,A=null){super(),this[pl]=!0,this._onDidChangeResponsiveState=this._register(new l.E),this.onDidChangeResponsiveState=this._onDidChangeResponsiveState.event,this._protocol=o,this._logger=f,this._uriTransformer=A,this._uriReplacer=function tl(ie){return ie?(o,f)=>f&&1===f.$mid?ie.transformOutgoing(f):f:null}(this._uriTransformer),this._isDisposed=!1,this._locals=[],this._proxies=[];for(let G=0,re=xa.count;G<re;G++)this._locals[G]=null,this._proxies[G]=null;this._lastMessageId=0,this._cancelInvokedHandlers=Object.create(null),this._pendingRPCReplies={},this._responsiveState=0,this._unacknowledgedCount=0,this._unresponsiveTime=0,this._asyncCheckUresponsive=this._register(new K.pY(()=>this._checkUnresponsive(),1e3)),this._protocol.onMessage(G=>this._receiveOneMessage(G))}dispose(){this._isDisposed=!0,Object.keys(this._pendingRPCReplies).forEach(o=>{this._pendingRPCReplies[o].resolveErr((0,T.F0)())})}drain(){return"function"==typeof this._protocol.drain?this._protocol.drain():Promise.resolve()}_onWillSendRequest(o){0===this._unacknowledgedCount&&(this._unresponsiveTime=Date.now()+ia.UNRESPONSIVE_TIME),this._unacknowledgedCount++,this._asyncCheckUresponsive.isScheduled()||this._asyncCheckUresponsive.schedule()}_onDidReceiveAcknowledge(o){this._unresponsiveTime=Date.now()+ia.UNRESPONSIVE_TIME,this._unacknowledgedCount--,0===this._unacknowledgedCount&&this._asyncCheckUresponsive.cancel(),this._setResponsiveState(0)}_checkUnresponsive(){0!==this._unacknowledgedCount&&(Date.now()>this._unresponsiveTime?this._setResponsiveState(1):this._asyncCheckUresponsive.schedule())}_setResponsiveState(o){this._responsiveState!==o&&(this._responsiveState=o,this._onDidChangeResponsiveState.fire(this._responsiveState))}get responsiveState(){return this._responsiveState}transformIncomingURIs(o){return this._uriTransformer?Oa(o,this._uriTransformer):o}getProxy(o){const{nid:f,sid:A}=o;return this._proxies[f]||(this._proxies[f]=this._createProxy(f,A)),this._proxies[f]}_createProxy(o,f){const A={get:(G,re)=>("string"==typeof re&&!G[re]&&36===re.charCodeAt(0)&&(G[re]=(...Oe)=>this._remoteCall(o,re,Oe)),re===Al?f:G[re])};return new Proxy(Object.create(null),A)}set(o,f){return this._locals[o.nid]=f,f}assertRegistered(o){for(let f=0,A=o.length;f<A;f++){const G=o[f];if(!this._locals[G.nid])throw new Error(`Missing proxy instance ${G.sid}`)}}_receiveOneMessage(o){if(this._isDisposed)return;const f=o.byteLength,A=fs.read(o,0),G=A.readUInt8(),re=A.readUInt32();switch(G){case 1:case 2:{let{rpcId:Oe,method:Xe,args:Mt}=ir.deserializeRequestJSONArgs(A);this._uriTransformer&&(Mt=Oa(Mt,this._uriTransformer)),this._receiveRequest(f,re,Oe,Xe,Mt,2===G);break}case 3:case 4:{let{rpcId:Oe,method:Xe,args:Mt}=ir.deserializeRequestMixedArgs(A);this._uriTransformer&&(Mt=Oa(Mt,this._uriTransformer)),this._receiveRequest(f,re,Oe,Xe,Mt,4===G);break}case 5:this._logger?.logIncoming(f,re,0,"ack"),this._onDidReceiveAcknowledge(re);break;case 6:this._receiveCancel(f,re);break;case 7:this._receiveReply(f,re,void 0);break;case 9:{let Oe=ir.deserializeReplyOKJSON(A);this._uriTransformer&&(Oe=Oa(Oe,this._uriTransformer)),this._receiveReply(f,re,Oe);break}case 10:{const Oe=ir.deserializeReplyOKJSONWithBuffers(A,this._uriTransformer);this._receiveReply(f,re,Oe);break}case 8:{const Oe=ir.deserializeReplyOKVSBuffer(A);this._receiveReply(f,re,Oe);break}case 11:{let Oe=ir.deserializeReplyErrError(A);this._uriTransformer&&(Oe=Oa(Oe,this._uriTransformer)),this._receiveReplyErr(f,re,Oe);break}case 12:this._receiveReplyErr(f,re,void 0);break;default:console.error("received unexpected message"),console.error(o)}}_receiveRequest(o,f,A,G,re,Oe){this._logger?.logIncoming(o,f,1,`receiveRequest ${Ia(A)}.${G}(`,re);const Xe=String(f);let Mt,_n;if(Oe){const ui=new S.C;re.push(ui.token),Mt=this._invokeHandler(A,G,re),_n=()=>ui.cancel()}else Mt=this._invokeHandler(A,G,re),_n=nl;this._cancelInvokedHandlers[Xe]=_n;const Un=ir.serializeAcknowledged(f);this._logger?.logOutgoing(Un.byteLength,f,1,"ack"),this._protocol.send(Un),Mt.then(ui=>{delete this._cancelInvokedHandlers[Xe];const Si=ir.serializeReplyOK(f,ui,this._uriReplacer);this._logger?.logOutgoing(Si.byteLength,f,1,"reply:",ui),this._protocol.send(Si)},ui=>{delete this._cancelInvokedHandlers[Xe];const Si=ir.serializeReplyErr(f,ui);this._logger?.logOutgoing(Si.byteLength,f,1,"replyErr:",ui),this._protocol.send(Si)})}_receiveCancel(o,f){this._logger?.logIncoming(o,f,1,"receiveCancel");const A=String(f);this._cancelInvokedHandlers[A]?.()}_receiveReply(o,f,A){this._logger?.logIncoming(o,f,0,"receiveReply:",A);const G=String(f);if(!this._pendingRPCReplies.hasOwnProperty(G))return;const re=this._pendingRPCReplies[G];delete this._pendingRPCReplies[G],re.resolveOk(A)}_receiveReplyErr(o,f,A){this._logger?.logIncoming(o,f,0,"receiveReplyErr:",A);const G=String(f);if(!this._pendingRPCReplies.hasOwnProperty(G))return;const re=this._pendingRPCReplies[G];let Oe;delete this._pendingRPCReplies[G],A&&(A.$isError?(Oe=new Error,Oe.name=A.name,Oe.message=A.message,Oe.stack=A.stack):Oe=A),re.resolveErr(Oe)}_invokeHandler(o,f,A){try{return Promise.resolve(this._doInvokeHandler(o,f,A))}catch(G){return Promise.reject(G)}}_doInvokeHandler(o,f,A){const G=this._locals[o];if(!G)throw new Error("Unknown actor "+Ia(o));const re=G[f];if("function"!=typeof re)throw new Error("Unknown method "+f+" on actor "+Ia(o));return re.apply(G,A)}_remoteCall(o,f,A){if(this._isDisposed)return new Gr;let G=null;if(A.length>0&&U.T.isCancellationToken(A[A.length-1])&&(G=A.pop()),G&&G.isCancellationRequested)return Promise.reject((0,T.F0)());const re=ir.serializeRequestArguments(A,this._uriReplacer),Oe=++this._lastMessageId,Xe=String(Oe),Mt=new Ka;G&&G.onCancellationRequested(()=>{const Un=ir.serializeCancel(Oe);this._logger?.logOutgoing(Un.byteLength,Oe,0,"cancel"),this._protocol.send(ir.serializeCancel(Oe))}),this._pendingRPCReplies[Xe]=Mt,this._onWillSendRequest(Oe);const _n=ir.serializeRequest(Oe,o,f,re,!!G);return this._logger?.logOutgoing(_n.byteLength,Oe,0,`request: ${Ia(o)}.${f}(`,A),this._protocol.send(_n),Mt}}pl=Ml,ia.UNRESPONSIVE_TIME=3e3;let fs=(()=>{class ie{constructor(f,A){this._buff=f,this._offset=A}static alloc(f,A,G){const re=new ie(w.KN.alloc(G+1+4),0);return re.writeUInt8(f),re.writeUInt32(A),re}static read(f,A){return new ie(f,A)}get buffer(){return this._buff}static sizeUInt8(){return 1}writeUInt8(f){this._buff.writeUInt8(f,this._offset),this._offset+=1}readUInt8(){const f=this._buff.readUInt8(this._offset);return this._offset+=1,f}writeUInt32(f){this._buff.writeUInt32BE(f,this._offset),this._offset+=4}readUInt32(){const f=this._buff.readUInt32BE(this._offset);return this._offset+=4,f}static sizeShortString(f){return 1+f.byteLength}writeShortString(f){this._buff.writeUInt8(f.byteLength,this._offset),this._offset+=1,this._buff.set(f,this._offset),this._offset+=f.byteLength}readShortString(){const f=this._buff.readUInt8(this._offset);this._offset+=1;const G=this._buff.slice(this._offset,this._offset+f).toString();return this._offset+=f,G}static sizeLongString(f){return 4+f.byteLength}writeLongString(f){this._buff.writeUInt32BE(f.byteLength,this._offset),this._offset+=4,this._buff.set(f,this._offset),this._offset+=f.byteLength}readLongString(){const f=this._buff.readUInt32BE(this._offset);this._offset+=4;const G=this._buff.slice(this._offset,this._offset+f).toString();return this._offset+=f,G}writeBuffer(f){this._buff.writeUInt32BE(f.byteLength,this._offset),this._offset+=4,this._buff.set(f,this._offset),this._offset+=f.byteLength}static sizeVSBuffer(f){return 4+f.byteLength}writeVSBuffer(f){this._buff.writeUInt32BE(f.byteLength,this._offset),this._offset+=4,this._buff.set(f,this._offset),this._offset+=f.byteLength}readVSBuffer(){const f=this._buff.readUInt32BE(this._offset);this._offset+=4;const A=this._buff.slice(this._offset,this._offset+f);return this._offset+=f,A}static sizeMixedArray(f){let A=0;A+=1;for(let G=0,re=f.length;G<re;G++){const Oe=f[G];switch(A+=1,Oe.type){case 1:A+=this.sizeLongString(Oe.value);break;case 2:A+=this.sizeVSBuffer(Oe.value);break;case 3:A+=this.sizeUInt32,A+=this.sizeLongString(Oe.value);for(let Xe=0;Xe<Oe.buffers.length;++Xe)A+=this.sizeVSBuffer(Oe.buffers[Xe])}}return A}writeMixedArray(f){this._buff.writeUInt8(f.length,this._offset),this._offset+=1;for(let A=0,G=f.length;A<G;A++){const re=f[A];switch(re.type){case 1:this.writeUInt8(1),this.writeLongString(re.value);break;case 2:this.writeUInt8(2),this.writeVSBuffer(re.value);break;case 3:this.writeUInt8(3),this.writeUInt32(re.buffers.length),this.writeLongString(re.value);for(let Oe=0;Oe<re.buffers.length;++Oe)this.writeBuffer(re.buffers[Oe]);break;case 4:this.writeUInt8(4)}}}readMixedArray(){const f=this._buff.readUInt8(this._offset);this._offset+=1;const A=new Array(f);for(let G=0;G<f;G++)switch(this.readUInt8()){case 1:A[G]=this.readLongString();break;case 2:A[G]=this.readVSBuffer();break;case 3:{const Oe=this.readUInt32(),Xe=this.readLongString(),Mt=[];for(let _n=0;_n<Oe;++_n)Mt.push(this.readVSBuffer());A[G]=new ha(el(Xe,Mt,null));break}case 4:A[G]=void 0}return A}}return ie.sizeUInt32=4,ie})();class ir{static _useMixedArgSerialization(o){for(let f=0,A=o.length;f<A;f++)if(o[f]instanceof w.KN||o[f]instanceof ha||typeof o[f]>"u")return!0;return!1}static serializeRequestArguments(o,f){if(this._useMixedArgSerialization(o)){const A=[];for(let G=0,re=o.length;G<re;G++){const Oe=o[G];if(Oe instanceof w.KN)A[G]={type:2,value:Oe};else if(typeof Oe>"u")A[G]={type:4};else if(Oe instanceof ha){const{jsonString:Xe,referencedBuffers:Mt}=$a(Oe.value,f);A[G]={type:3,value:w.KN.fromString(Xe),buffers:Mt}}else A[G]={type:1,value:w.KN.fromString(Ga(Oe,f))}}return{type:1,args:A}}return{type:0,args:Ga(o,f)}}static serializeRequest(o,f,A,G,re){switch(G.type){case 0:return this._requestJSONArgs(o,f,A,G.args,re);case 1:return this._requestMixedArgs(o,f,A,G.args,re)}}static _requestJSONArgs(o,f,A,G,re){const Oe=w.KN.fromString(A),Xe=w.KN.fromString(G);let Mt=0;Mt+=fs.sizeUInt8(),Mt+=fs.sizeShortString(Oe),Mt+=fs.sizeLongString(Xe);const _n=fs.alloc(re?2:1,o,Mt);return _n.writeUInt8(f),_n.writeShortString(Oe),_n.writeLongString(Xe),_n.buffer}static deserializeRequestJSONArgs(o){const f=o.readUInt8(),A=o.readShortString(),G=o.readLongString();return{rpcId:f,method:A,args:JSON.parse(G)}}static _requestMixedArgs(o,f,A,G,re){const Oe=w.KN.fromString(A);let Xe=0;Xe+=fs.sizeUInt8(),Xe+=fs.sizeShortString(Oe),Xe+=fs.sizeMixedArray(G);const Mt=fs.alloc(re?4:3,o,Xe);return Mt.writeUInt8(f),Mt.writeShortString(Oe),Mt.writeMixedArray(G),Mt.buffer}static deserializeRequestMixedArgs(o){const f=o.readUInt8(),A=o.readShortString(),G=o.readMixedArray(),re=new Array(G.length);for(let Oe=0,Xe=G.length;Oe<Xe;Oe++){const Mt=G[Oe];re[Oe]="string"==typeof Mt?JSON.parse(Mt):Mt}return{rpcId:f,method:A,args:re}}static serializeAcknowledged(o){return fs.alloc(5,o,0).buffer}static serializeCancel(o){return fs.alloc(6,o,0).buffer}static serializeReplyOK(o,f,A){if(typeof f>"u")return this._serializeReplyOKEmpty(o);if(f instanceof w.KN)return this._serializeReplyOKVSBuffer(o,f);if(f instanceof ha){const{jsonString:G,referencedBuffers:re}=$a(f.value,A,!0);return this._serializeReplyOKJSONWithBuffers(o,G,re)}return this._serializeReplyOKJSON(o,qa(f,A))}static _serializeReplyOKEmpty(o){return fs.alloc(7,o,0).buffer}static _serializeReplyOKVSBuffer(o,f){let A=0;A+=fs.sizeVSBuffer(f);const G=fs.alloc(8,o,A);return G.writeVSBuffer(f),G.buffer}static deserializeReplyOKVSBuffer(o){return o.readVSBuffer()}static _serializeReplyOKJSON(o,f){const A=w.KN.fromString(f);let G=0;G+=fs.sizeLongString(A);const re=fs.alloc(9,o,G);return re.writeLongString(A),re.buffer}static _serializeReplyOKJSONWithBuffers(o,f,A){const G=w.KN.fromString(f);let re=0;re+=fs.sizeUInt32,re+=fs.sizeLongString(G);for(const Xe of A)re+=fs.sizeVSBuffer(Xe);const Oe=fs.alloc(10,o,re);Oe.writeUInt32(A.length),Oe.writeLongString(G);for(const Xe of A)Oe.writeBuffer(Xe);return Oe.buffer}static deserializeReplyOKJSON(o){const f=o.readLongString();return JSON.parse(f)}static deserializeReplyOKJSONWithBuffers(o,f){const A=o.readUInt32(),G=o.readLongString(),re=[];for(let Oe=0;Oe<A;++Oe)re.push(o.readVSBuffer());return new ha(el(G,re,f))}static serializeReplyErr(o,f){const A=f?qa((0,T.ri)(f),null):void 0;if("string"!=typeof A)return this._serializeReplyErrEmpty(o);const G=w.KN.fromString(A);let re=0;re+=fs.sizeLongString(G);const Oe=fs.alloc(11,o,re);return Oe.writeLongString(G),Oe.buffer}static deserializeReplyErrError(o){const f=o.readLongString();return JSON.parse(f)}static _serializeReplyErrEmpty(o){return fs.alloc(12,o,0).buffer}}var Ar=(()=>(function(ie){ie[ie.Undefined=0]="Undefined",ie[ie.String=1]="String",ie[ie.Buffer=2]="Buffer",ie[ie.VSBuffer=3]="VSBuffer",ie[ie.Array=4]="Array",ie[ie.Object=5]="Object"}(Ar||(Ar={})),Ar))();function Fr(ie){const o=w.KN.alloc(1);return o.writeUInt8(ie,0),o}Fr(Ar.Undefined),Fr(Ar.String),Fr(Ar.Buffer),Fr(Ar.VSBuffer),Fr(Ar.Array),Fr(Ar.Object);class Pl{constructor(){this._hasListeners=!1,this._isDeliveringMessages=!1,this._bufferedMessages=[],this._emitter=new l.E({onFirstListenerAdd:()=>{this._hasListeners=!0,queueMicrotask(()=>this._deliverMessages())},onLastListenerRemove:()=>{this._hasListeners=!1}}),this.event=this._emitter.event}_deliverMessages(){if(!this._isDeliveringMessages){for(this._isDeliveringMessages=!0;this._hasListeners&&this._bufferedMessages.length>0;)this._emitter.fire(this._bufferedMessages.shift());this._isDeliveringMessages=!1}}fire(o){this._hasListeners?this._bufferedMessages.length>0?this._bufferedMessages.push(o):this._emitter.fire(o):this._bufferedMessages.push(o)}flushBuffer(){this._bufferedMessages=[]}}const il=new Map;class Yl extends ne.v{constructor(o,f,A,G,re,Oe,Xe,Mt){super(f,A,G,re),this._proxy=o,this._languageId=Oe,this._isDirty=Xe,this.notebook=Mt,this._isDisposed=!1}dispose(){(0,N.ok)(!this._isDisposed),this._isDisposed=!0,this._isDirty=!1}equalLines(o){return(0,E.fS)(this._lines,o)}get document(){if(!this._document){const o=this;this._document={get uri(){return o._uri},get fileName(){return o._uri.fsPath},get isUntitled(){return o._uri.scheme===z.lg.untitled},get languageId(){return o._languageId},get version(){return o._versionId},get isClosed(){return o._isDisposed},get isDirty(){return o._isDirty},save:()=>o._save(),getText:f=>f?o._getTextInRange(f):o.getText(),get eol(){return"\n"===o._eol?ft.LF:ft.CRLF},get lineCount(){return o._lines.length},lineAt:f=>o._lineAt(f),offsetAt:f=>o._offsetAt(f),positionAt:f=>o._positionAt(f),validateRange:f=>o._validateRange(f),validatePosition:f=>o._validatePosition(f),getWordRangeAtPosition:(f,A)=>o._getWordRangeAtPosition(f,A)}}return Object.freeze(this._document)}_acceptLanguageId(o){(0,N.ok)(!this._isDisposed),this._languageId=o}_acceptIsDirty(o){(0,N.ok)(!this._isDisposed),this._isDirty=o}_save(){return this._isDisposed?Promise.reject(new Error("Document has been closed")):this._proxy.$trySaveDocument(this._uri)}_getTextInRange(o){const f=this._validateRange(o);if(f.isEmpty)return"";if(f.isSingleLine)return this._lines[f.start.line].substring(f.start.character,f.end.character);const A=this._eol,G=f.start.line,re=f.end.line,Oe=[];Oe.push(this._lines[G].substring(f.start.character));for(let Xe=G+1;Xe<re;Xe++)Oe.push(this._lines[Xe]);return Oe.push(this._lines[re].substring(0,f.end.character)),Oe.join(A)}_lineAt(o){let f;if(o instanceof Rn?f=o.line:"number"==typeof o&&(f=o),"number"!=typeof f||f<0||f>=this._lines.length||Math.floor(f)!==f)throw new Error("Illegal value for `line`");return new Br(f,this._lines[f],f===this._lines.length-1)}_offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getPrefixSum(o.line-1)+o.character}_positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();const f=this._lineStarts.getIndexOf(o);return new Rn(f.index,Math.min(f.remainder,this._lines[f.index].length))}_validateRange(o){if(!(o instanceof Wn))throw new Error("Invalid argument");const f=this._validatePosition(o.start),A=this._validatePosition(o.end);return f===o.start&&A===o.end?o:new Wn(f.line,f.character,A.line,A.character)}_validatePosition(o){if(!(o instanceof Rn))throw new Error("Invalid argument");if(0===this._lines.length)return o.with(0,0);let{line:f,character:A}=o,G=!1;if(f<0)f=0,A=0,G=!0;else if(f>=this._lines.length)f=this._lines.length-1,A=this._lines[f].length,G=!0;else{const re=this._lines[f].length;A<0?(A=0,G=!0):A>re&&(A=re,G=!0)}return G?new Rn(f,A):o}_getWordRangeAtPosition(o,f){const A=this._validatePosition(o);if(f){if((0,s.IO)(f))throw new Error(`[getWordRangeAtPosition]: ignoring custom regexp '${f.source}' because it matches the empty string.`)}else f=function ol(ie){return il.get(ie)}(this._languageId);const G=(0,W.t2)(A.character+1,(0,W.eq)(f),this._lines[A.line],0);if(G)return new Wn(A.line,G.startColumn-1,A.line,G.endColumn-1)}}class Br{constructor(o,f,A){this._line=o,this._text=f,this._isLastLine=A}get lineNumber(){return this._line}get text(){return this._text}get range(){return new Wn(this._line,0,this._line,this._text.length)}get rangeIncludingLineBreak(){return this._isLastLine?this.range:new Wn(this._line,0,this._line+1,0)}get firstNonWhitespaceCharacterIndex(){return/^(\s*)/.exec(this._text)[1].length}get isEmptyOrWhitespace(){return this.firstNonWhitespaceCharacterIndex===this._text.length}}class ga{constructor(o,f){this._onDidAddDocument=new l.E,this._onDidRemoveDocument=new l.E,this._onDidChangeDocument=new l.E,this._onDidSaveDocument=new l.E,this.onDidAddDocument=this._onDidAddDocument.event,this.onDidRemoveDocument=this._onDidRemoveDocument.event,this.onDidChangeDocument=this._onDidChangeDocument.event,this.onDidSaveDocument=this._onDidSaveDocument.event,this._toDispose=new O.SL,this._documentLoader=new Map,this._proxy=o.getProxy(Oo.MainThreadDocuments),this._documentsAndEditors=f,this._documentsAndEditors.onDidRemoveDocuments(A=>{for(const G of A)this._onDidRemoveDocument.fire(G.document)},void 0,this._toDispose),this._documentsAndEditors.onDidAddDocuments(A=>{for(const G of A)this._onDidAddDocument.fire(G.document)},void 0,this._toDispose)}dispose(){this._toDispose.dispose()}getAllDocumentData(){return[...this._documentsAndEditors.allDocuments()]}getDocumentData(o){if(!o)return;return this._documentsAndEditors.getDocument(o)||void 0}getDocument(o){const f=this.getDocumentData(o);if(!f?.document)throw new Error(`Unable to retrieve document from URI '${o}'`);return f.document}ensureDocumentData(o){const f=this._documentsAndEditors.getDocument(o);if(f)return Promise.resolve(f);let A=this._documentLoader.get(o.toString());return A||(A=this._proxy.$tryOpenDocument(o).then(G=>{this._documentLoader.delete(o.toString());const re=C.o.revive(G);return(0,_.cW)(this._documentsAndEditors.getDocument(re))},G=>(this._documentLoader.delete(o.toString()),Promise.reject(G))),this._documentLoader.set(o.toString(),A)),A}createDocumentData(o){return this._proxy.$tryCreateDocument(o).then(f=>C.o.revive(f))}$acceptModelLanguageChanged(o,f){const A=C.o.revive(o),G=this._documentsAndEditors.getDocument(A);if(!G)throw new Error("unknown document");this._onDidRemoveDocument.fire(G.document),G._acceptLanguageId(f),this._onDidAddDocument.fire(G.document)}$acceptModelSaved(o){const f=C.o.revive(o),A=this._documentsAndEditors.getDocument(f);if(!A)throw new Error("unknown document");this.$acceptDirtyStateChanged(o,!1),this._onDidSaveDocument.fire(A.document)}$acceptDirtyStateChanged(o,f){const A=C.o.revive(o),G=this._documentsAndEditors.getDocument(A);if(!G)throw new Error("unknown document");G._acceptIsDirty(f),this._onDidChangeDocument.fire({document:G.document,contentChanges:[],reason:void 0})}$acceptModelChanged(o,f,A){const G=C.o.revive(o),re=this._documentsAndEditors.getDocument(G);if(!re)throw new Error("unknown document");let Oe;re._acceptIsDirty(A),re.onEvents(f),f.isUndoing?Oe=ei.Undo:f.isRedoing&&(Oe=ei.Redo),this._onDidChangeDocument.fire((0,b._A)({document:re.document,contentChanges:f.changes.map(Xe=>({range:Ui.to(Xe.range),rangeOffset:Xe.rangeOffset,rangeLength:Xe.rangeLength,text:Xe.text})),reason:Oe}))}setWordDefinitionFor(o,f){!function Pr(ie,o){o?il.set(ie,o):il.delete(ie)}(o,f)}}const Nr=(0,D.yh)("IExtHostInitDataService");function oa(ie,o,f){return new k.U9(A=>ka(A,f)).isEqual(ie,o)}function vl(ie,o,f){return oa(ie.uri,o.uri,f)?0:(0,s.qu)(ie.uri.toString(),o.uri.toString())}function Rl(ie,o,f){return ie.index!==o.index?ie.index<o.index?-1:1:oa(ie.uri,o.uri,f)?(0,s.qu)(ie.name,o.name):(0,s.qu)(ie.uri.toString(),o.uri.toString())}function Cl(ie,o,f,A){const G=ie.slice(0).sort((Oe,Xe)=>f(Oe,Xe,A)),re=o.slice(0).sort((Oe,Xe)=>f(Oe,Xe,A));return(0,l.e)(G,re,(Oe,Xe)=>f(Oe,Xe,A))}function ka(ie,o){const f=o.getCapabilities(ie.scheme);return!(f&&1024&f)}class Ma extends we.j${constructor(o,f,A,G,re,Oe,Xe){super(o,A.map(Mt=>new we.md(Mt)),G,re,Xe),this._name=f,this._isUntitled=Oe,this._workspaceFolders=[],this._structure=c.Id.forUris(Xe),A.forEach(Mt=>{this._workspaceFolders.push(Mt),this._structure.set(Mt.uri,Mt)})}static toExtHostWorkspace(o,f,A,G){if(!o)return{workspace:null,added:[],removed:[]};const{id:re,name:Oe,folders:Xe,configuration:Mt,transient:_n,isUntitled:Un}=o,ui=[],Si=f;f?Xe.forEach((Fi,gs)=>{const ws=C.o.revive(Fi.uri),ur=Ma._findFolder(A||f,ws,G);ur?(ur.name=Fi.name,ur.index=Fi.index,ui.push(ur)):ui.push({uri:ws,name:Fi.name,index:gs})}):ui.push(...Xe.map(({uri:Fi,name:gs,index:ws})=>({uri:C.o.revive(Fi),name:gs,index:ws}))),ui.sort((Fi,gs)=>Fi.index<gs.index?-1:1);const ti=new Ma(re,Oe,ui,!!_n,Mt?C.o.revive(Mt):null,!!Un,Fi=>ka(Fi,G)),{added:mi,removed:Ai}=Cl(Si?Si.workspaceFolders:[],ti.workspaceFolders,vl,G);return{workspace:ti,added:mi,removed:Ai}}static _findFolder(o,f,A){for(let G=0;G<o.folders.length;G++){const re=o.workspaceFolders[G];if(oa(re.uri,f,A))return re}}get name(){return this._name}get isUntitled(){return this._isUntitled}get workspaceFolders(){return this._workspaceFolders.slice(0)}getWorkspaceFolder(o,f){return f&&this._structure.get(o)&&(o=(0,k.XX)(o)),this._structure.findSubstr(o)}resolveWorkspaceFolder(o){return this._structure.get(o)}}let sl=class{constructor(o,f,A,G){this._onDidChangeWorkspace=new l.E,this.onDidChangeWorkspace=this._onDidChangeWorkspace.event,this._onDidGrantWorkspaceTrust=new l.E,this.onDidGrantWorkspaceTrust=this._onDidGrantWorkspaceTrust.event,this._activeSearchCallbacks=[],this._trusted=!1,this._logService=G,this._extHostFileSystemInfo=A,this._requestIdProvider=new nn,this._barrier=new V.B,this._proxy=o.getProxy(Oo.MainThreadWorkspace),this._messageService=o.getProxy(Oo.MainThreadMessageService);const re=f.workspace;this._confirmedWorkspace=re?new Ma(re.id,re.name,[],!!re.transient,re.configuration?C.o.revive(re.configuration):null,!!re.isUntitled,Oe=>ka(Oe,A)):void 0}$initializeWorkspace(o,f){this._trusted=f,this.$acceptWorkspaceData(o),this._barrier.open()}waitForInitializeCall(){return this._barrier.wait()}get workspace(){return this._actualWorkspace}get name(){return this._actualWorkspace?this._actualWorkspace.name:void 0}get workspaceFile(){if(this._actualWorkspace&&this._actualWorkspace.configuration)return this._actualWorkspace.isUntitled?C.o.from({scheme:z.lg.untitled,path:(0,k.EZ)((0,k.XX)(this._actualWorkspace.configuration))}):this._actualWorkspace.configuration}get _actualWorkspace(){return this._unconfirmedWorkspace||this._confirmedWorkspace}getWorkspaceFolders(){if(this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}getWorkspaceFolders2(){var o=this;return(0,d.Z)(function*(){if(yield o._barrier.wait(),o._actualWorkspace)return o._actualWorkspace.workspaceFolders.slice(0)})()}updateWorkspaceFolders(o,f,A,...G){const re=[];if(Array.isArray(G)&&G.forEach(Un=>{C.o.isUri(Un.uri)&&!re.some(ui=>oa(ui.uri,Un.uri,this._extHostFileSystemInfo))&&re.push({uri:Un.uri,name:Un.name||(0,k.Hx)(Un.uri)})}),this._unconfirmedWorkspace||[f,A].some(Un=>"number"!=typeof Un||Un<0)||0===A&&0===re.length)return!1;const Oe=this._actualWorkspace?this._actualWorkspace.workspaceFolders:[];if(f+A>Oe.length)return!1;const Xe=Oe.slice(0);Xe.splice(f,A,...re.map(Un=>({uri:Un.uri,name:Un.name||(0,k.Hx)(Un.uri),index:void 0})));for(let Un=0;Un<Xe.length;Un++){const ui=Xe[Un];if(Xe.some((Si,ti)=>ti!==Un&&oa(ui.uri,Si.uri,this._extHostFileSystemInfo)))return!1}Xe.forEach((Un,ui)=>Un.index=ui);const{added:Mt,removed:_n}=Cl(Oe,Xe,Rl,this._extHostFileSystemInfo);if(0===Mt.length&&0===_n.length)return!1;if(this._proxy){const Un=o.displayName||o.name;this._proxy.$updateWorkspaceFolders(Un,f,A,re).then(void 0,ui=>{this._unconfirmedWorkspace=void 0;const Si={source:{identifier:o.identifier,label:o.displayName||o.name}};this._messageService.$showMessage(M.zb.Error,(0,j.NC)("updateerror","Extension '{0}' failed to update workspace folders: {1}",Un,ui.toString()),Si,[])})}return this.trySetWorkspaceFolders(Xe),!0}getWorkspaceFolder(o,f){if(this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(o,f)}getWorkspaceFolder2(o,f){var A=this;return(0,d.Z)(function*(){if(yield A._barrier.wait(),A._actualWorkspace)return A._actualWorkspace.getWorkspaceFolder(o,f)})()}resolveWorkspaceFolder(o){var f=this;return(0,d.Z)(function*(){if(yield f._barrier.wait(),f._actualWorkspace)return f._actualWorkspace.resolveWorkspaceFolder(o)})()}getPath(){if(!this._actualWorkspace)return;const{folders:o}=this._actualWorkspace;return 0!==o.length?o[0].uri.fsPath:void 0}getRelativePath(o,f){let A,G="";if("string"==typeof o?(A=C.o.file(o),G=o):typeof o<"u"&&(A=o,G=o.fsPath),!A)return G;const re=this.getWorkspaceFolder(A,!0);if(!re)return G;typeof f>"u"&&this._actualWorkspace&&(f=this._actualWorkspace.folders.length>1);let Oe=(0,k.lX)(re.uri,A);return f&&re.name&&(Oe=`${re.name}/${Oe}`),Oe}trySetWorkspaceFolders(o){this._actualWorkspace&&(this._unconfirmedWorkspace=Ma.toExtHostWorkspace({id:this._actualWorkspace.id,name:this._actualWorkspace.name,configuration:this._actualWorkspace.configuration,folders:o,isUntitled:this._actualWorkspace.isUntitled},this._actualWorkspace,void 0,this._extHostFileSystemInfo).workspace||void 0)}$acceptWorkspaceData(o){const{workspace:f,added:A,removed:G}=Ma.toExtHostWorkspace(o,this._confirmedWorkspace,this._unconfirmedWorkspace,this._extHostFileSystemInfo);this._confirmedWorkspace=f||void 0,this._unconfirmedWorkspace=void 0,this._onDidChangeWorkspace.fire(Object.freeze({added:A,removed:G}))}findFiles(o,f,A,G,re=U.T.None){let Oe;if(this._logService.trace(`extHostWorkspace#findFiles: fileSearch, extension: ${G.value}, entryPoint: findFiles`),null===f?Oe=!1:f&&(Oe="string"==typeof f?f:f.pattern),re&&re.isCancellationRequested)return Promise.resolve([]);const{includePattern:Xe,folder:Mt}=Wt(zr.from(o));return this._proxy.$startFileSearch((0,v.w)(Xe),(0,v.w)(Mt),(0,v.w)(Oe),(0,v.w)(A),re).then(_n=>Array.isArray(_n)?_n.map(Un=>C.o.revive(Un)):[])}findTextInFiles(o,f,A,G,re=U.T.None){var Oe=this;return(0,d.Z)(function*(){Oe._logService.trace(`extHostWorkspace#findTextInFiles: textSearch, extension: ${G.value}, entryPoint: findTextInFiles`);const Xe=Oe._requestIdProvider.getNext(),Mt=typeof f.previewOptions>"u"?{matchLines:100,charsPerLine:1e4}:f.previewOptions,{includePattern:_n,folder:Un}=Wt(zr.from(f.include)),Si={ignoreSymlinks:"boolean"==typeof f.followSymlinks?!f.followSymlinks:void 0,disregardIgnoreFiles:"boolean"==typeof f.useIgnoreFiles?!f.useIgnoreFiles:void 0,disregardGlobalIgnoreFiles:"boolean"==typeof f.useGlobalIgnoreFiles?!f.useGlobalIgnoreFiles:void 0,disregardParentIgnoreFiles:"boolean"==typeof f.useParentIgnoreFiles?!f.useParentIgnoreFiles:void 0,disregardExcludeSettings:"boolean"!=typeof f.useDefaultExcludes||!f.useDefaultExcludes,fileEncoding:f.encoding,maxResults:f.maxResults,previewOptions:Mt,afterContext:f.afterContext,beforeContext:f.beforeContext,includePattern:_n,excludePattern:"string"==typeof f.exclude?f.exclude:f.exclude?f.exclude.pattern:void 0};if(Oe._activeSearchCallbacks[Xe]=ti=>{const mi=C.o.revive(ti.resource);ti.results.forEach(Ai=>{!function Nl(ie){return!!ie.preview}(Ai)?A({uri:mi,text:Ai.text,lineNumber:Ai.lineNumber}):A({uri:mi,preview:{text:Ai.preview.text,matches:(0,l.m)(Ai.preview.matches,Fi=>new Wn(Fi.startLineNumber,Fi.startColumn,Fi.endLineNumber,Fi.endColumn))},ranges:(0,l.m)(Ai.ranges,Fi=>new Wn(Fi.startLineNumber,Fi.startColumn,Fi.endLineNumber,Fi.endColumn))})})},re.isCancellationRequested)return{};try{const ti=yield Oe._proxy.$startTextSearch(o,(0,v.w)(Un),Si,Xe,re);return delete Oe._activeSearchCallbacks[Xe],ti||{}}catch(ti){throw delete Oe._activeSearchCallbacks[Xe],ti}})()}$handleTextSearchResult(o,f){this._activeSearchCallbacks[f]?.(o)}saveAll(o){return this._proxy.$saveAll(o)}resolveProxy(o){return this._proxy.$resolveProxy(o)}get trusted(){return this._trusted}requestWorkspaceTrust(o){return this._proxy.$requestWorkspaceTrust(o)}$onDidGrantWorkspaceTrust(){this._trusted||(this._trusted=!0,this._onDidGrantWorkspaceTrust.fire())}};sl=(0,l._)([(0,l.a)(0,Sr),(0,l.a)(1,Nr),(0,l.a)(2,Ta),(0,l.a)(3,P.VZ)],sl);const rl=(0,D.yh)("IExtHostWorkspace");function Wt(ie){let o,f;return ie&&("string"==typeof ie?o=ie:(o=ie.pattern,f=C.o.revive(ie.baseUri))),{includePattern:o,folder:f}}function i(ie){ie.dark=C.o.revive(ie.dark),ie.light&&(ie.light=C.o.revive(ie.light))}let r=class{constructor(o,f){this._items={},this.sessions=new Map,this._proxy=o.getProxy(ds.ExtHostQuickOpen),this._quickInputService=f}dispose(){}$show(o,f,A){const G=new Promise((re,Oe)=>{this._items[o]={resolve:re,reject:Oe}});return(f={...f,onDidFocus:re=>{re&&this._proxy.$onItemSelected(re.handle)}}).canPickMany?this._quickInputService.pick(G,f,A).then(re=>{if(re)return re.map(Oe=>Oe.handle)}):this._quickInputService.pick(G,f,A).then(re=>{if(re)return re.handle})}$setItems(o,f){return this._items[o]&&(this._items[o].resolve(f),delete this._items[o]),Promise.resolve()}$setError(o,f){return this._items[o]&&(this._items[o].reject(f),delete this._items[o]),Promise.resolve()}$input(o,f,A){const G=Object.create(null);return o&&(G.title=o.title,G.password=o.password,G.placeHolder=o.placeHolder,G.valueSelection=o.valueSelection,G.prompt=o.prompt,G.value=o.value,G.ignoreFocusLost=o.ignoreFocusOut),f&&(G.validateInput=re=>this._proxy.$validateInput(re)),this._quickInputService.input(G,A)}$createOrUpdate(o){const f=o.id;let A=this.sessions.get(f);if(!A){const Oe="quickPick"===o.type?this._quickInputService.createQuickPick():this._quickInputService.createInputBox();if(Oe.onDidAccept(()=>{this._proxy.$onDidAccept(f)}),Oe.onDidTriggerButton(Xe=>{this._proxy.$onDidTriggerButton(f,Xe.handle)}),Oe.onDidChangeValue(Xe=>{this._proxy.$onDidChangeValue(f,Xe)}),Oe.onDidHide(()=>{this._proxy.$onDidHide(f)}),"quickPick"===o.type){const Xe=Oe;Xe.onDidChangeActive(Mt=>{this._proxy.$onDidChangeActive(f,Mt.map(_n=>_n.handle))}),Xe.onDidChangeSelection(Mt=>{this._proxy.$onDidChangeSelection(f,Mt.map(_n=>_n.handle))}),Xe.onDidTriggerItemButton(Mt=>{this._proxy.$onDidTriggerItemButton(f,Mt.item.handle,Mt.button.handle)})}A={input:Oe,handlesToItems:new Map},this.sessions.set(f,A)}const{input:G,handlesToItems:re}=A;for(const Oe in o)"id"===Oe||"type"===Oe||("visible"===Oe?o.visible?G.show():G.hide():"items"===Oe?(re.clear(),o[Oe].forEach(Xe=>{"separator"!==Xe.type&&(Xe.buttons&&(Xe.buttons=Xe.buttons.map(Mt=>(Mt.iconPath&&i(Mt.iconPath),Mt))),re.set(Xe.handle,Xe))}),G[Oe]=o[Oe]):G[Oe]="activeItems"===Oe||"selectedItems"===Oe?o[Oe].filter(Xe=>re.has(Xe)).map(Xe=>re.get(Xe)):"buttons"===Oe?o.buttons.map(Xe=>-1===Xe.handle?this._quickInputService.backButton:(Xe.iconPath&&i(Xe.iconPath),Xe)):o[Oe]);return Promise.resolve(void 0)}$dispose(o){const f=this.sessions.get(o);return f&&(f.input.dispose(),this.sessions.delete(o)),Promise.resolve(void 0)}};r=(0,l._)([bs(Oo.MainThreadQuickOpen),(0,l.a)(1,Ee.eJ)],r);let B=class{constructor(o,f){this._logService=f,this._proxy=o.getProxy(Oo.MainThreadMessageService)}showMessage(o,f,A,G,re){const Oe={source:{identifier:o.identifier,label:o.displayName||o.name}};let Xe;"string"==typeof G||function I(ie){return ie&&ie.title}(G)?Xe=[G,...re]:(Oe.modal=G?.modal,Oe.useCustom=G?.useCustom,Oe.detail=G?.detail,Xe=re),Oe.useCustom&&(0,V.c)(o,"resolvers");const Mt=[];for(let _n=0;_n<Xe.length;_n++){const Un=Xe[_n];if("string"==typeof Un)Mt.push({title:Un,handle:_n,isCloseAffordance:!1});else if("object"==typeof Un){const{title:ui,isCloseAffordance:Si}=Un;Mt.push({title:ui,isCloseAffordance:!!Si,handle:_n})}else this._logService.warn("Invalid message item:",Un)}return this._proxy.$showMessage(f,A,Oe,Mt).then(_n=>{if("number"==typeof _n)return Xe[_n]})}};B=(0,l._)([(0,l.a)(1,P.VZ)],B);let X=class{constructor(o,f,A,G){this._notificationService=f,this._commandService=A,this._dialogService=G}dispose(){}$showMessage(o,f,A,G){return A.modal?this._showModalMessage(o,f,A.detail,G,A.useCustom):this._showMessage(o,f,G,A)}_showMessage(o,f,A,G){return new Promise(re=>{const Oe=[];class Xe extends Ne.aU{constructor(ti,mi,Ai){super(ti,mi,void 0,!0,()=>(re(Ai),Promise.resolve()))}}let _n;A.forEach(Si=>{Oe.push(new Xe("_extension_message_handle_"+Si.handle,Si.title,Si.handle))}),G.source&&(_n={label:(0,j.NC)("extensionSource","{0} (Extension)",G.source.label),id:G.source.identifier.value}),_n||(_n=(0,j.NC)("defaultSource","Extension"));const Un=[];G.source&&Un.push(new class Mt extends Ne.aU{constructor(ti,mi,Ai){super(ti.value,mi,void 0,!0,()=>Ai.executeCommand("_extensions.manage",ti.value))}}(G.source.identifier,(0,j.NC)("manageExtension","Manage Extension"),this._commandService));const ui=this._notificationService.notify({severity:o,message:f,actions:{primary:Oe,secondary:Un},source:_n});F.ju.once(ui.onDidClose)(()=>{(0,O.B9)(Oe),(0,O.B9)(Un),re(void 0)})})}_showModalMessage(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){let Xe;const Mt=G.map((Un,ui)=>(!0===Un.isCloseAffordance&&(Xe=ui),Un.title));void 0===Xe&&(Mt.push(Mt.length>0?(0,j.NC)("cancel","Cancel"):(0,j.NC)("ok","OK")),Xe=Mt.length-1);const{choice:_n}=yield Oe._dialogService.show(o,f,Mt,{cancelId:Xe,custom:re,detail:A});return _n===G.length?void 0:G[_n].handle})()}};X=(0,l._)([bs(Oo.MainThreadMessageService),(0,l.a)(1,M.lT),(0,l.a)(2,H.Hy),(0,l.a)(3,xe.S)],X);class Le{constructor(o){this._handles=0,this._mapHandleToCancellationSource=new Map,this._proxy=o}withProgress(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._handles++,{title:Oe,location:Xe,cancellable:Mt}=f,_n={label:(0,j.NC)("extensionSource","{0} (Extension)",o.displayName||o.name),id:o.identifier.value};return G._proxy.$startProgress(re,{location:Js.from(Xe),title:Oe,source:_n,cancellable:Mt},o.isUnderDevelopment?void 0:o.identifier.value).catch(T.Cp),G._withProgress(re,A,!!Mt)})()}_withProgress(o,f,A){let G;A&&(G=new S.C,this._mapHandleToCancellationSource.set(o,G));const re=Xe=>{this._proxy.$progressEnd(Xe),this._mapHandleToCancellationSource.delete(Xe),G&&G.dispose()};let Oe;try{Oe=f(new Be(this._proxy,o),A&&G?G.token:U.T.None)}catch(Xe){throw re(o),Xe}return Oe.then(Xe=>re(o),Xe=>re(o)),Oe}$acceptProgressCanceled(o){const f=this._mapHandleToCancellationSource.get(o);f&&(f.cancel(),this._mapHandleToCancellationSource.delete(o))}}class Be extends oe.Ex{constructor(o,f){super(A=>this.throttledReport(A)),this._proxy=o,this._handle=f}throttledReport(o){this._proxy.$progressReport(this._handle,o)}}class lt extends Ne.aU{constructor(o,f,A){super(o,f,void 0,!0,()=>A.executeCommand("_extensions.manage",o))}}let wt=class{constructor(o,f,A){this._commandService=A,this._progress=new Map,this._proxy=o.getProxy(ds.ExtHostProgress),this._progressService=f}dispose(){this._progress.forEach(o=>o.resolve()),this._progress.clear()}$startProgress(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._createTask(o);15===f.location&&A&&(f={...f,location:15,secondaryActions:[new lt(A,(0,j.NC)("manageExtension","Manage Extension"),G._commandService)]}),G._progressService.withProgress(f,re,()=>G._proxy.$acceptProgressCanceled(o))})()}$progressReport(o,f){this._progress.get(o)?.progress.report(f)}$progressEnd(o){const f=this._progress.get(o);f&&(f.resolve(),this._progress.delete(o))}_createTask(o){return f=>new Promise(A=>{this._progress.set(o,{resolve:A,progress:f})})}};wt=(0,l._)([bs(Oo.MainThreadProgress),(0,l.a)(1,oe.R9),(0,l.a)(2,H.Hy)],wt);let Nt=class{constructor(o,f,A,G,re){this._textModelResolverService=f,this._languageService=A,this._modelService=G,this._editorWorkerService=re,this._resourceContentProvider=new Map,this._pendingUpdate=new Map,this._proxy=o.getProxy(ds.ExtHostDocumentContentProviders)}dispose(){(0,O.B9)(this._resourceContentProvider.values()),(0,O.B9)(this._pendingUpdate.values())}$registerTextContentProvider(o,f){const A=this._textModelResolverService.registerTextModelContentProvider(f,{provideTextContent:G=>this._proxy.$provideTextDocumentContent(o,G).then(re=>{if("string"==typeof re){const Oe=re.substr(0,1+re.search(/\r?\n/)),Xe=this._languageService.createByFilepathOrFirstLine(G,Oe);return this._modelService.createModel(re,Xe,G)}return null})});this._resourceContentProvider.set(o,A)}$unregisterTextContentProvider(o){const f=this._resourceContentProvider.get(o);f&&(f.dispose(),this._resourceContentProvider.delete(o))}$onVirtualDocumentChange(o,f){const A=this._modelService.getModel(C.o.revive(o));if(!A)return;const G=this._pendingUpdate.get(A.id);G&&G.cancel();const re=new S.C;this._pendingUpdate.set(A.id,re),this._editorWorkerService.computeMoreMinimalEdits(A.uri,[{text:f,range:A.getFullModelRange()}]).then(Oe=>{this._pendingUpdate.delete(A.id),!re.token.isCancellationRequested&&Oe&&Oe.length>0&&A.applyEdits(Oe.map(Xe=>Se.h.replace(nt.lift(Xe.range),Xe.text)))}).catch(T.dL)}};Nt=(0,l._)([bs(Oo.MainThreadDocumentContentProviders),(0,l.a)(1,Ie.S),(0,l.a)(2,me.O),(0,l.a)(3,Me.q),(0,l.a)(4,de.p)],Nt);let Zt=(()=>{class ie{constructor(f,A,G){this._documentsAndEditors=A,this._logService=G,this._documentContentProviders=new Map,this._proxy=f.getProxy(Oo.MainThreadDocumentContentProviders)}registerTextDocumentContentProvider(f,A){if(Object.keys(z.lg).indexOf(f)>=0)throw new Error(`scheme '${f}' already registered`);const G=ie._handlePool++;let re;return this._documentContentProviders.set(G,A),this._proxy.$registerTextContentProvider(G,f),"function"==typeof A.onDidChange&&(re=A.onDidChange(Oe=>{Oe.scheme===f?this._documentsAndEditors.getDocument(Oe)&&this.$provideTextDocumentContent(G,Oe).then(Xe=>{if(!Xe&&"string"!=typeof Xe)return;const Mt=this._documentsAndEditors.getDocument(Oe);if(!Mt)return;const _n=(0,s.uq)(Xe);return Mt.equalLines(_n)?void 0:this._proxy.$onVirtualDocumentChange(Oe,Xe)},T.dL):this._logService.warn(`Provider for scheme '${f}' is firing event for schema '${Oe.scheme}' which will be IGNORED`)})),new un(()=>{this._documentContentProviders.delete(G)&&this._proxy.$unregisterTextContentProvider(G),re&&(re.dispose(),re=void 0)})}$provideTextDocumentContent(f,A){const G=this._documentContentProviders.get(f);return G?Promise.resolve(G.provideTextDocumentContent(C.o.revive(A),U.T.None)):Promise.reject(new Error(`unsupported uri-scheme: ${A.scheme}`))}}return ie._handlePool=0,ie})();class ln{constructor(o,f,A){const G=ln._Keys.nextId();o.$registerTextEditorDecorationType(f.identifier,G,On.from(A)),this.value=Object.freeze({key:G,dispose(){o.$removeTextEditorDecorationType(G)}})}}ln._Keys=new ke.R("TextEditorDecorationType");class hn{constructor(o,f){this._collectedEdits=[],this._setEndOfLine=void 0,this._finalized=!1,this._document=o,this._documentVersionId=o.version,this._undoStopBefore=f.undoStopBefore,this._undoStopAfter=f.undoStopAfter}finalize(){return this._finalized=!0,{documentVersionId:this._documentVersionId,edits:this._collectedEdits,setEndOfLine:this._setEndOfLine,undoStopBefore:this._undoStopBefore,undoStopAfter:this._undoStopAfter}}_throwIfFinalized(){if(this._finalized)throw new Error("Edit is only valid while callback runs")}replace(o,f){this._throwIfFinalized();let A=null;if(o instanceof Rn)A=new Wn(o,o);else{if(!(o instanceof Wn))throw new Error("Unrecognized location");A=o}this._pushEdit(A,f,!1)}insert(o,f){this._throwIfFinalized(),this._pushEdit(new Wn(o,o),f,!0)}delete(o){this._throwIfFinalized();let f=null;if(!(o instanceof Wn))throw new Error("Unrecognized location");f=o,this._pushEdit(f,null,!0)}_pushEdit(o,f,A){const G=this._document.validateRange(o);this._collectedEdits.push({range:G,text:f,forceMoveMarkers:A})}setEndOfLine(o){if(this._throwIfFinalized(),o!==ft.LF&&o!==ft.CRLF)throw(0,T.b1)("endOfLine");this._setEndOfLine=o}}class Fn{constructor(o,f,A,G){this._proxy=o,this._id=f,this._accept(A),this._logService=G;const re=this;this.value={get tabSize(){return re._tabSize},set tabSize(Oe){re._setTabSize(Oe)},get insertSpaces(){return re._insertSpaces},set insertSpaces(Oe){re._setInsertSpaces(Oe)},get cursorStyle(){return re._cursorStyle},set cursorStyle(Oe){re._setCursorStyle(Oe)},get lineNumbers(){return re._lineNumbers},set lineNumbers(Oe){re._setLineNumbers(Oe)}}}_accept(o){this._tabSize=o.tabSize,this._insertSpaces=o.insertSpaces,this._cursorStyle=o.cursorStyle,this._lineNumbers=Os.to(o.lineNumbers)}_validateTabSize(o){if("auto"===o)return"auto";if("number"==typeof o){const f=Math.floor(o);return f>0?f:null}if("string"==typeof o){const f=parseInt(o,10);return isNaN(f)?null:f>0?f:null}return null}_setTabSize(o){const f=this._validateTabSize(o);if(null!==f){if("number"==typeof f){if(this._tabSize===f)return;this._tabSize=f}this._warnOnError("setTabSize",this._proxy.$trySetOptions(this._id,{tabSize:f}))}}_validateInsertSpaces(o){return"auto"===o?"auto":"false"!==o&&Boolean(o)}_setInsertSpaces(o){const f=this._validateInsertSpaces(o);if("boolean"==typeof f){if(this._insertSpaces===f)return;this._insertSpaces=f}this._warnOnError("setInsertSpaces",this._proxy.$trySetOptions(this._id,{insertSpaces:f}))}_setCursorStyle(o){this._cursorStyle!==o&&(this._cursorStyle=o,this._warnOnError("setCursorStyle",this._proxy.$trySetOptions(this._id,{cursorStyle:o})))}_setLineNumbers(o){this._lineNumbers!==o&&(this._lineNumbers=o,this._warnOnError("setLineNumbers",this._proxy.$trySetOptions(this._id,{lineNumbers:Os.from(o)})))}assign(o){const f={};let A=!1;if(typeof o.tabSize<"u"){const G=this._validateTabSize(o.tabSize);"auto"===G?(A=!0,f.tabSize=G):"number"==typeof G&&this._tabSize!==G&&(this._tabSize=G,A=!0,f.tabSize=G)}if(typeof o.insertSpaces<"u"){const G=this._validateInsertSpaces(o.insertSpaces);"auto"===G?(A=!0,f.insertSpaces=G):this._insertSpaces!==G&&(this._insertSpaces=G,A=!0,f.insertSpaces=G)}typeof o.cursorStyle<"u"&&this._cursorStyle!==o.cursorStyle&&(this._cursorStyle=o.cursorStyle,A=!0,f.cursorStyle=o.cursorStyle),typeof o.lineNumbers<"u"&&this._lineNumbers!==o.lineNumbers&&(this._lineNumbers=o.lineNumbers,A=!0,f.lineNumbers=Os.from(o.lineNumbers)),A&&this._warnOnError("setOptions",this._proxy.$trySetOptions(this._id,f))}_warnOnError(o,f){f.catch(A=>{this._logService.warn(`ExtHostTextEditorOptions '${o}' failed:'`),this._logService.warn(A)})}}class $n{constructor(o,f,A,G,re,Oe,Xe,Mt){this.id=o,this._proxy=f,this._logService=A,this._disposed=!1,this._hasDecorationsForKey=new Set,this._selections=re,this._options=new Fn(this._proxy,this.id,Oe,A),this._visibleRanges=Xe,this._viewColumn=Mt;const _n=this;this.value=Object.freeze({get document(){return G.getValue()},set document(Un){throw(0,n.r)("document")},get selection(){return _n._selections&&_n._selections[0]},set selection(Un){if(!(Un instanceof dn))throw(0,T.b1)("selection");_n._selections=[Un],_n._trySetSelection()},get selections(){return _n._selections},set selections(Un){if(!Array.isArray(Un)||Un.some(ui=>!(ui instanceof dn)))throw(0,T.b1)("selections");_n._selections=Un,_n._trySetSelection()},get visibleRanges(){return _n._visibleRanges},set visibleRanges(Un){throw(0,n.r)("visibleRanges")},get options(){return _n._options.value},set options(Un){_n._disposed||_n._options.assign(Un)},get viewColumn(){return _n._viewColumn},set viewColumn(Un){throw(0,n.r)("viewColumn")},edit(Un,ui={undoStopBefore:!0,undoStopAfter:!0}){if(_n._disposed)return Promise.reject(new Error("TextEditor#edit not possible on closed editors"));const Si=new hn(G.getValue(),ui);return Un(Si),_n._applyEdit(Si)},insertSnippet(Un,ui,Si={undoStopBefore:!0,undoStopAfter:!0}){if(_n._disposed)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));let ti;if(!ui||Array.isArray(ui)&&0===ui.length)ti=_n._selections.map(mi=>Ui.from(mi));else if(ui instanceof Rn){const{lineNumber:mi,column:Ai}=Jo.from(ui);ti=[{startLineNumber:mi,startColumn:Ai,endLineNumber:mi,endColumn:Ai}]}else if(ui instanceof Wn)ti=[Ui.from(ui)];else{ti=[];for(const mi of ui)if(mi instanceof Wn)ti.push(Ui.from(mi));else{const{lineNumber:Ai,column:Fi}=Jo.from(mi);ti.push({startLineNumber:Ai,startColumn:Fi,endLineNumber:Ai,endColumn:Fi})}}return f.$tryInsertSnippet(o,G.getValue().version,Un.value,ti,Si)},setDecorations(Un,ui){const Si=0===ui.length;Si&&!_n._hasDecorationsForKey.has(Un.key)||(Si?_n._hasDecorationsForKey.delete(Un.key):_n._hasDecorationsForKey.add(Un.key),_n._runOnProxy(()=>{if(Vt(ui))return f.$trySetDecorations(o,Un.key,function Ge(ie){return Vt(ie)?ie.map(o=>({range:Ui.from(o.range),hoverMessage:Array.isArray(o.hoverMessage)?De.fromMany(o.hoverMessage):o.hoverMessage?De.from(o.hoverMessage):void 0,renderOptions:o.renderOptions})):ie.map(o=>({range:Ui.from(o)}))}(ui));{const ti=new Array(4*ui.length);for(let mi=0,Ai=ui.length;mi<Ai;mi++){const Fi=ui[mi];ti[4*mi]=Fi.start.line+1,ti[4*mi+1]=Fi.start.character+1,ti[4*mi+2]=Fi.end.line+1,ti[4*mi+3]=Fi.end.character+1}return f.$trySetDecorationsFast(o,Un.key,ti)}}))},revealRange(Un,ui){_n._runOnProxy(()=>f.$tryRevealRange(o,Ui.from(Un),ui||Ln.Default))},show(Un){f.$tryShowEditor(o,Bo.from(Un))},hide(){f.$tryHideEditor(o)}})}dispose(){(0,N.ok)(!this._disposed),this._disposed=!0}_acceptOptions(o){(0,N.ok)(!this._disposed),this._options._accept(o)}_acceptVisibleRanges(o){(0,N.ok)(!this._disposed),this._visibleRanges=o}_acceptViewColumn(o){(0,N.ok)(!this._disposed),this._viewColumn=o}_acceptSelections(o){(0,N.ok)(!this._disposed),this._selections=o}_trySetSelection(){var o=this;return(0,d.Z)(function*(){const f=o._selections.map(Or.from);return yield o._runOnProxy(()=>o._proxy.$trySetSelections(o.id,f)),o.value})()}_applyEdit(o){const f=o.finalize();if(0===f.edits.length&&!f.setEndOfLine)return Promise.resolve(!0);const A=f.edits.map(re=>re.range);A.sort((re,Oe)=>re.end.line===Oe.end.line?re.end.character===Oe.end.character?re.start.line===Oe.start.line?re.start.character-Oe.start.character:re.start.line-Oe.start.line:re.end.character-Oe.end.character:re.end.line-Oe.end.line);for(let re=0,Oe=A.length-1;re<Oe;re++)if(A[re+1].start.isBefore(A[re].end))return Promise.reject(new Error("Overlapping ranges are not allowed!"));const G=f.edits.map(re=>({range:Ui.from(re.range),text:re.text,forceMoveMarkers:re.forceMoveMarkers}));return this._proxy.$tryApplyEdits(this.id,f.documentVersionId,G,{setEndOfLine:"number"==typeof f.setEndOfLine?Ro.from(f.setEndOfLine):void 0,undoStopBefore:f.undoStopBefore,undoStopAfter:f.undoStopAfter})}_runOnProxy(o){return this._disposed?(this._logService.warn("TextEditor is closed/disposed"),Promise.resolve(void 0)):o().then(()=>this,f=>(f instanceof Error&&"DISPOSED"===f.name||this._logService.warn(f),null))}}class Zn{constructor(o){this.value=o,this._count=0}ref(){this._count++}unref(){return 0==--this._count}}let ai=class{constructor(o,f){this._extHostRpc=o,this._logService=f,this._activeEditorId=null,this._editors=new Map,this._documents=new c.Y9,this._onDidAddDocuments=new l.E,this._onDidRemoveDocuments=new l.E,this._onDidChangeVisibleTextEditors=new l.E,this._onDidChangeActiveTextEditor=new l.E,this.onDidAddDocuments=this._onDidAddDocuments.event,this.onDidRemoveDocuments=this._onDidRemoveDocuments.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event}$acceptDocumentsAndEditorsDelta(o){this.acceptDocumentsAndEditorsDelta(o)}acceptDocumentsAndEditorsDelta(o){const f=[],A=[],G=[];if(o.removedDocuments)for(const re of o.removedDocuments){const Oe=C.o.revive(re),Xe=this._documents.get(Oe);Xe?.unref()&&(this._documents.delete(Oe),f.push(Xe.value))}if(o.addedDocuments)for(const re of o.addedDocuments){const Oe=C.o.revive(re.uri);let Xe=this._documents.get(Oe);if(Xe&&Oe.scheme!==z.lg.vscodeNotebookCell&&Oe.scheme!==z.lg.vscodeInteractiveInput)throw new Error(`document '${Oe} already exists!'`);Xe||(Xe=new Zn(new Yl(this._extHostRpc.getProxy(Oo.MainThreadDocuments),Oe,re.lines,re.EOL,re.versionId,re.languageId,re.isDirty,re.notebook)),this._documents.set(Oe,Xe),A.push(Xe.value)),Xe.ref()}if(o.removedEditors)for(const re of o.removedEditors){const Oe=this._editors.get(re);this._editors.delete(re),Oe&&G.push(Oe)}if(o.addedEditors)for(const re of o.addedEditors){const Oe=C.o.revive(re.documentUri);(0,N.ok)(this._documents.has(Oe),`document '${Oe}' does not exist`),(0,N.ok)(!this._editors.has(re.id),`editor '${re.id}' already exists!`);const Xe=this._documents.get(Oe).value,Mt=new $n(re.id,this._extHostRpc.getProxy(Oo.MainThreadTextEditors),this._logService,new Ue.o(()=>Xe.document),re.selections.map(Or.to),re.options,re.visibleRanges.map(_n=>Ui.to(_n)),"number"==typeof re.editorPosition?Bo.to(re.editorPosition):void 0);this._editors.set(re.id,Mt)}void 0!==o.newActiveEditor&&((0,N.ok)(null===o.newActiveEditor||this._editors.has(o.newActiveEditor),`active editor '${o.newActiveEditor}' does not exist`),this._activeEditorId=o.newActiveEditor),(0,O.B9)(f),(0,O.B9)(G),o.removedDocuments&&this._onDidRemoveDocuments.fire(f),o.addedDocuments&&this._onDidAddDocuments.fire(A),(o.removedEditors||o.addedEditors)&&this._onDidChangeVisibleTextEditors.fire(this.allEditors().map(re=>re.value)),void 0!==o.newActiveEditor&&this._onDidChangeActiveTextEditor.fire(this.activeEditor())}getDocument(o){return this._documents.get(o)?.value}allDocuments(){return ze.$.map(this._documents.values(),o=>o.value)}getEditor(o){return this._editors.get(o)}activeEditor(o){if(!this._activeEditorId)return;const f=this._editors.get(this._activeEditorId);return o?f:f?.value}allEditors(){return[...this._editors.values()]}};ai=(0,l._)([(0,l.a)(0,Sr),(0,l.a)(1,P.VZ)],ai);class vi{constructor(o,f){this._extHostDocumentsAndEditors=f,this._onDidChangeTextEditorSelection=new l.E,this._onDidChangeTextEditorOptions=new l.E,this._onDidChangeTextEditorVisibleRanges=new l.E,this._onDidChangeTextEditorViewColumn=new l.E,this._onDidChangeActiveTextEditor=new l.E,this._onDidChangeVisibleTextEditors=new l.E,this.onDidChangeTextEditorSelection=this._onDidChangeTextEditorSelection.event,this.onDidChangeTextEditorOptions=this._onDidChangeTextEditorOptions.event,this.onDidChangeTextEditorVisibleRanges=this._onDidChangeTextEditorVisibleRanges.event,this.onDidChangeTextEditorViewColumn=this._onDidChangeTextEditorViewColumn.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this._proxy=o.getProxy(Oo.MainThreadTextEditors),this._extHostDocumentsAndEditors.onDidChangeVisibleTextEditors(A=>this._onDidChangeVisibleTextEditors.fire(A)),this._extHostDocumentsAndEditors.onDidChangeActiveTextEditor(A=>this._onDidChangeActiveTextEditor.fire(A))}getActiveTextEditor(){return this._extHostDocumentsAndEditors.activeEditor()}getVisibleTextEditors(o){const f=this._extHostDocumentsAndEditors.allEditors();return o?f:f.map(A=>A.value)}showTextDocument(o,f,A){var G=this;return(0,d.Z)(function*(){let re;re="number"==typeof f?{position:Bo.from(f),preserveFocus:A}:"object"==typeof f?{position:Bo.from(f.viewColumn),preserveFocus:f.preserveFocus,selection:"object"==typeof f.selection?Ui.from(f.selection):void 0,pinned:"boolean"==typeof f.preview?!f.preview:void 0}:{preserveFocus:!1};const Oe=yield G._proxy.$tryShowTextDocument(o.uri,re),Xe=Oe&&G._extHostDocumentsAndEditors.getEditor(Oe);if(Xe)return Xe.value;throw Oe?new Error(`Could NOT open editor for "${o.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${o.uri.toString()}".`)})()}createTextEditorDecorationType(o,f){return new ln(this._proxy,o,f).value}$acceptEditorPropertiesChanged(o,f){const A=this._extHostDocumentsAndEditors.getEditor(o);if(!A)throw new Error("unknown text editor");if(f.options&&A._acceptOptions(f.options),f.selections){const G=f.selections.selections.map(Or.to);A._acceptSelections(G)}if(f.visibleRanges){const G=(0,E.kX)(f.visibleRanges.map(Ui.to));A._acceptVisibleRanges(G)}if(f.options&&this._onDidChangeTextEditorOptions.fire({textEditor:A.value,options:{...f.options,lineNumbers:Os.to(f.options.lineNumbers)}}),f.selections){const G=In.fromValue(f.selections.source),re=f.selections.selections.map(Or.to);this._onDidChangeTextEditorSelection.fire({textEditor:A.value,selections:re,kind:G})}if(f.visibleRanges){const G=(0,E.kX)(f.visibleRanges.map(Ui.to));this._onDidChangeTextEditorVisibleRanges.fire({textEditor:A.value,visibleRanges:G})}}$acceptEditorPositionData(o){for(const f in o){const A=this._extHostDocumentsAndEditors.getEditor(f);if(!A)throw new Error("Unknown text editor");const G=Bo.to(o[f]);A.value.viewColumn!==G&&(A._acceptViewColumn(G),this._onDidChangeTextEditorViewColumn.fire({textEditor:A.value,viewColumn:G}))}}getDiffInformation(o){return Promise.resolve(this._proxy.$getDiffInformation(o))}}class yi{constructor(o,f=18e4,A=83886080,G=50){this._extUri=o,this._maxAge=f,this._maxLength=A,this._maxSize=G,this._data=new Array,this._length=0}dispose(){this._data=(0,O.B9)(this._data)}remove(o){for(const f of[...this._data])this._extUri.isEqualOrParent(f.uri,o)&&f.dispose()}add(o,f,A=0){const G=()=>{const Xe=this._data.indexOf(Oe);Xe>=0&&(this._length-=A,f.dispose(),clearTimeout(re),this._data.splice(Xe,1))},re=setTimeout(G,this._maxAge),Oe={uri:o,length:A,dispose:G};this._data.push(Oe),this._length+=A,this._cleanup()}_cleanup(){for(;this._length>this._maxLength;)this._data[0].dispose();const o=Math.ceil(1.2*this._maxSize);this._data.length>=o&&(0,O.B9)(this._data.slice(0,o-this._maxSize))}}class Vi extends O.JT{constructor(o,f,A,G){super(),this._model=o,this._onIsCaughtUpWithContentChanges=f,this._proxy=A,this._textFileService=G,this._knownVersionId=this._model.getVersionId(),this._store.add(this._model.onDidChangeContent(re=>{this._knownVersionId=re.versionId,this._proxy.$acceptModelChanged(this._model.uri,re,this._textFileService.isDirty(this._model.uri)),this.isCaughtUpWithContentChanges()&&this._onIsCaughtUpWithContentChanges.fire(this._model.uri)}))}isCaughtUpWithContentChanges(){return this._model.getVersionId()===this._knownVersionId}}let Xi=class extends O.JT{constructor(o,f,A,G,re,Oe,Xe,Mt,_n){super(),this._modelService=f,this._textFileService=A,this._fileService=G,this._textModelResolverService=re,this._environmentService=Oe,this._uriIdentityService=Xe,this._pathService=_n,this._onIsCaughtUpWithContentChanges=this._store.add(new l.E),this.onIsCaughtUpWithContentChanges=this._onIsCaughtUpWithContentChanges.event,this._modelTrackers=new c.Y9,this._modelReferenceCollection=this._store.add(new yi(Xe.extUri)),this._proxy=o.getProxy(ds.ExtHostDocuments),this._store.add(f.onModelLanguageChanged(this._onModelModeChanged,this)),this._store.add(A.files.onDidSave(Un=>{this._shouldHandleFileEvent(Un.model.resource)&&this._proxy.$acceptModelSaved(Un.model.resource)})),this._store.add(A.files.onDidChangeDirty(Un=>{this._shouldHandleFileEvent(Un.resource)&&this._proxy.$acceptDirtyStateChanged(Un.resource,Un.isDirty())})),this._store.add(Mt.onDidRunWorkingCopyFileOperation(Un=>{const ui=2===Un.operation;if(ui||1===Un.operation)for(const Si of Un.files){const ti=ui?Si.source:Si.target;ti&&this._modelReferenceCollection.remove(ti)}}))}dispose(){(0,O.B9)(this._modelTrackers.values()),this._modelTrackers.clear(),super.dispose()}isCaughtUpWithContentChanges(o){const f=this._modelTrackers.get(o);return!f||f.isCaughtUpWithContentChanges()}_shouldHandleFileEvent(o){const f=this._modelService.getModel(o);return!!f&&(0,Ct.pt)(f)}handleModelAdded(o){!(0,Ct.pt)(o)||this._modelTrackers.set(o.uri,new Vi(o,this._onIsCaughtUpWithContentChanges,this._proxy,this._textFileService))}_onModelModeChanged(o){const{model:f}=o;!this._modelTrackers.has(f.uri)||this._proxy.$acceptModelLanguageChanged(f.uri,f.getLanguageId())}handleModelRemoved(o){!this._modelTrackers.has(o)||(this._modelTrackers.get(o).dispose(),this._modelTrackers.delete(o))}$trySaveDocument(o){var f=this;return(0,d.Z)(function*(){const A=yield f._textFileService.save(C.o.revive(o));return Boolean(A)})()}$tryOpenDocument(o){var f=this;return(0,d.Z)(function*(){const A=C.o.revive(o);if(!A.scheme||!A.fsPath&&!A.authority)throw new Error("Invalid uri. Scheme and authority or path must be set.");const G=f._uriIdentityService.asCanonicalUri(A);let re,Oe;re=G.scheme===z.lg.untitled?f._handleUntitledScheme(G):f._handleAsResourceInput(G);try{Oe=yield re}catch(Xe){throw new Error(`cannot open ${G.toString()}. Detail: ${(0,x.y)(Xe)}`)}if(Oe){if(k.SF.isEqual(Oe,G)){if(f._modelTrackers.has(G))return G;throw new Error(`cannot open ${G.toString()}. Detail: Files above 50MB cannot be synchronized with extensions.`)}throw new Error(`cannot open ${G.toString()}. Detail: Actual document opened as ${Oe.toString()}`)}throw new Error(`cannot open ${G.toString()}`)})()}$tryCreateDocument(o){return this._doCreateUntitled(void 0,o?o.language:void 0,o?o.content:void 0)}_handleAsResourceInput(o){var f=this;return(0,d.Z)(function*(){const A=yield f._textModelResolverService.createModelReference(o);return f._modelReferenceCollection.add(o,A,A.object.textEditorModel.getValueLength()),A.object.textEditorModel.uri})()}_handleUntitledScheme(o){var f=this;return(0,d.Z)(function*(){const A=function Fe(ie,o,f){if(o){let A=ie.path;return A&&A[0]!==ce.KR.sep&&(A=ce.KR.sep+A),ie.with({scheme:f,authority:o,path:A})}return ie.with({scheme:f})}(o,f._environmentService.remoteAuthority,f._pathService.defaultUriScheme);return(yield f._fileService.exists(A))?Promise.reject(new Error("file already exists")):yield f._doCreateUntitled(Boolean(o.path)?o:void 0)})()}_doCreateUntitled(o,f,A){var G=this;return(0,d.Z)(function*(){const Oe=(yield G._textFileService.untitled.resolve({associatedResource:o,languageId:f,initialValue:A})).resource;if(!G._modelTrackers.has(Oe))throw new Error(`expected URI ${Oe.toString()} to have come to LIFE`);return G._proxy.$acceptDirtyStateChanged(Oe,!0),Oe})()}};Xi=(0,l._)([(0,l.a)(1,Me.q),(0,l.a)(2,S.h),(0,l.a)(3,S.i),(0,l.a)(4,Ie.S),(0,l.a)(5,S.j),(0,l.a)(6,S.f),(0,l.a)(7,S.k),(0,l.a)(8,S.l)],Xi);const Zi=p.Selection;class eo{constructor(o,f,A){this.selections=o,this.options=f,this.visibleRanges=A}static readFromEditor(o,f,A){const G=eo._readSelectionsFromCodeEditor(o,A),re=eo._readOptionsFromCodeEditor(o,f,A),Oe=eo._readVisibleRangesFromCodeEditor(o,A);return new eo(G,re,Oe)}static _readSelectionsFromCodeEditor(o,f){let A=null;return f&&(A=f.getSelections()),!A&&o&&(A=o.selections),A||(A=[new Zi(1,1,1,1)]),A}static _readOptionsFromCodeEditor(o,f,A){if(f.isDisposed()){if(o)return o.options;throw new Error("No valid properties")}let G,re;if(A){const Xe=A.getOptions(),Mt=Xe.get(62);G=Xe.get(24),re=Mt.renderType}else o?(G=o.options.cursorStyle,re=o.options.lineNumbers):(G=ve.d2.Line,re=1);const Oe=f.getOptions();return{insertSpaces:Oe.insertSpaces,tabSize:Oe.tabSize,cursorStyle:G,lineNumbers:re}}static _readVisibleRangesFromCodeEditor(o,f){return f?f.getVisibleRanges():[]}generateDelta(o,f){const A={options:null,selections:null,visibleRanges:null};return(!o||!eo._selectionsEqual(o.selections,this.selections))&&(A.selections={selections:this.selections,source:(0,_.f6)(f)}),(!o||!eo._optionsEqual(o.options,this.options))&&(A.options=this.options),(!o||!eo._rangesEqual(o.visibleRanges,this.visibleRanges))&&(A.visibleRanges=this.visibleRanges),A.selections||A.options||A.visibleRanges?A:null}static _selectionsEqual(o,f){return(0,E.fS)(o,f,(A,G)=>A.equalsSelection(G))}static _rangesEqual(o,f){return(0,E.fS)(o,f,(A,G)=>A.equalsRange(G))}static _optionsEqual(o,f){return!(o&&!f||!o&&f)&&(!o&&!f||o.tabSize===f.tabSize&&o.insertSpaces===f.insertSpaces&&o.cursorStyle===f.cursorStyle&&o.lineNumbers===f.lineNumbers)}}class Hi{constructor(o,f,A,G,re,Oe,Xe){this._modelListeners=new O.SL,this._codeEditorListeners=new O.SL,this._id=o,this._model=f,this._codeEditor=null,this._properties=null,this._focusTracker=G,this._mainThreadDocuments=re,this._modelService=Oe,this._clipboardService=Xe,this._onPropertiesChanged=new l.E,this._modelListeners.add(this._model.onDidChangeOptions(Mt=>{this._updatePropertiesNow(null)})),this.setCodeEditor(A),this._updatePropertiesNow(null)}dispose(){this._modelListeners.dispose(),this._codeEditor=null,this._codeEditorListeners.dispose()}_updatePropertiesNow(o){this._setProperties(eo.readFromEditor(this._properties,this._model,this._codeEditor),o)}_setProperties(o,f){const A=o.generateDelta(this._properties,f);this._properties=o,A&&this._onPropertiesChanged.fire(A)}getId(){return this._id}getModel(){return this._model}getCodeEditor(){return this._codeEditor}hasCodeEditor(o){return this._codeEditor===o}setCodeEditor(o){if(!this.hasCodeEditor(o)&&(this._codeEditorListeners.clear(),this._codeEditor=o,this._codeEditor)){this._codeEditorListeners.add(this._codeEditor.onDidChangeModel(()=>{this.setCodeEditor(null)})),this._codeEditorListeners.add(this._codeEditor.onDidFocusEditorWidget(()=>{this._focusTracker.onGainedFocus()})),this._codeEditorListeners.add(this._codeEditor.onDidBlurEditorWidget(()=>{this._focusTracker.onLostFocus()}));let f=null;this._codeEditorListeners.add(this._mainThreadDocuments.onIsCaughtUpWithContentChanges(re=>{if(re.toString()===this._model.uri.toString()){const Oe=f;f=null,this._updatePropertiesNow(Oe)}}));const A=()=>this._codeEditor&&this._codeEditor.getModel()===this._model,G=re=>{this._mainThreadDocuments.isCaughtUpWithContentChanges(this._model.uri)?(f=null,this._updatePropertiesNow(re)):f=re};this._codeEditorListeners.add(this._codeEditor.onDidChangeCursorSelection(re=>{!A()||G(re.source)})),this._codeEditorListeners.add(this._codeEditor.onDidChangeConfiguration(re=>{!A()||G(null)})),this._codeEditorListeners.add(this._codeEditor.onDidLayoutChange(()=>{!A()||G(null)})),this._codeEditorListeners.add(this._codeEditor.onDidScrollChange(()=>{!A()||G(null)})),this._updatePropertiesNow(null)}}isVisible(){return!!this._codeEditor}getProperties(){return this._properties}get onPropertiesChanged(){return this._onPropertiesChanged.event}setSelections(o){if(this._codeEditor)return void this._codeEditor.setSelections(o);const f=o.map(Zi.liftSelection);this._setProperties(new eo(f,this._properties.options,this._properties.visibleRanges),null)}_setIndentConfiguration(o){const f=this._modelService.getCreationOptions(this._model.getLanguageId(),this._model.uri,this._model.isForSimpleWidget);if("auto"===o.tabSize||"auto"===o.insertSpaces){let G=f.insertSpaces,re=f.tabSize;return"auto"!==o.insertSpaces&&typeof o.insertSpaces<"u"&&(G=o.insertSpaces),"auto"!==o.tabSize&&typeof o.tabSize<"u"&&(re=o.tabSize),void this._model.detectIndentation(G,re)}const A={};typeof o.insertSpaces<"u"&&(A.insertSpaces=o.insertSpaces),typeof o.tabSize<"u"&&(A.tabSize=o.tabSize),this._model.updateOptions(A)}setConfiguration(o){if(this._setIndentConfiguration(o),this._codeEditor){if(o.cursorStyle){const f=function Hs(ie){switch(ie){case rs.Line:return"line";case rs.Block:return"block";case rs.Underline:return"underline";case rs.LineThin:return"line-thin";case rs.BlockOutline:return"block-outline";case rs.UnderlineThin:return"underline-thin"}}(o.cursorStyle);this._codeEditor.updateOptions({cursorStyle:f})}if(typeof o.lineNumbers<"u"){let f;switch(o.lineNumbers){case 1:f="on";break;case 2:f="relative";break;default:f="off"}this._codeEditor.updateOptions({lineNumbers:f})}}}setDecorations(o,f){!this._codeEditor||this._codeEditor.setDecorationsByType("exthost-api",o,f)}setDecorationsFast(o,f){if(!this._codeEditor)return;const A=[];for(let G=0,re=Math.floor(f.length/4);G<re;G++)A[G]=new nt(f[4*G],f[4*G+1],f[4*G+2],f[4*G+3]);this._codeEditor.setDecorationsByTypeFast(o,A)}revealRange(o,f){if(this._codeEditor)switch(f){case Jr.Default:this._codeEditor.revealRange(o,0);break;case Jr.InCenter:this._codeEditor.revealRangeInCenter(o,0);break;case Jr.InCenterIfOutsideViewport:this._codeEditor.revealRangeInCenterIfOutsideViewport(o,0);break;case Jr.AtTop:this._codeEditor.revealRangeAtTop(o,0);break;default:console.warn(`Unknown revealType: ${f}`)}}isFocused(){return!!this._codeEditor&&this._codeEditor.hasTextFocus()}matches(o){return!!o&&o.getControl()===this._codeEditor}applyEdits(o,f,A){if(this._model.getVersionId()!==o||!this._codeEditor)return!1;typeof A.setEndOfLine<"u"&&this._model.pushEOL(A.setEndOfLine);const G=f.map(re=>({range:nt.lift(re.range),text:re.text,forceMoveMarkers:re.forceMoveMarkers}));return A.undoStopBefore&&this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",G),A.undoStopAfter&&this._codeEditor.pushUndoStop(),!0}insertSnippet(o,f,A,G){var re=this;return(0,d.Z)(function*(){if(!re._codeEditor||!re._codeEditor.hasModel())return!1;let Oe;if(Lt.Yj.guessNeedsClipboard(f)){const Un=new ae.yy(re._codeEditor,5);if(Oe=yield re._clipboardService.readText(),!Un.validate(re._codeEditor))return!1}re._codeEditor.getModel().getVersionId();const Mt=$e.SnippetController2.get(re._codeEditor);if(!Mt)return!1;const _n=A.map(Un=>new Zi(Un.startLineNumber,Un.startColumn,Un.endLineNumber,Un.endColumn));return re._codeEditor.setSelections(_n),re._codeEditor.focus(),Mt.insert(f,{overwriteBefore:0,overwriteAfter:0,undoStopBefore:G.undoStopBefore,undoStopAfter:G.undoStopAfter,clipboardText:Oe}),!0})()}}function ao(ie,o){if("number"!=typeof o||o===S.A||1===ie.count&&ie.activeGroup.isEmpty)return S.A;if(o===S.e)return S.e;const f=ie.getGroups(2)[o];return f?f.id:S.e}function Do(ie,o){const f="number"==typeof o?ie.getGroup(o):o;return ie.getGroups(2).indexOf(f??ie.activeGroup)}let so=class Wc{constructor(o,f,A,G,re){this._editorLocator=o,this._codeEditorService=A,this._editorService=G,this._editorGroupService=re,this._toDispose=new O.SL,this._instanceId=String(++Wc.INSTANCE_COUNT),this._proxy=f.getProxy(ds.ExtHostEditors),this._textEditorsListenersMap=Object.create(null),this._editorPositionData=null,this._toDispose.add(this._editorService.onDidVisibleEditorsChange(()=>this._updateActiveAndVisibleTextEditors())),this._toDispose.add(this._editorGroupService.onDidRemoveGroup(()=>this._updateActiveAndVisibleTextEditors())),this._toDispose.add(this._editorGroupService.onDidMoveGroup(()=>this._updateActiveAndVisibleTextEditors())),this._registeredDecorationTypes=Object.create(null)}dispose(){Object.keys(this._textEditorsListenersMap).forEach(o=>{(0,O.B9)(this._textEditorsListenersMap[o])}),this._textEditorsListenersMap=Object.create(null),this._toDispose.dispose();for(const o in this._registeredDecorationTypes)this._codeEditorService.removeDecorationType(o);this._registeredDecorationTypes=Object.create(null)}handleTextEditorAdded(o){const f=o.getId(),A=[];A.push(o.onPropertiesChanged(G=>{this._proxy.$acceptEditorPropertiesChanged(f,G)})),this._textEditorsListenersMap[f]=A}handleTextEditorRemoved(o){(0,O.B9)(this._textEditorsListenersMap[o]),delete this._textEditorsListenersMap[o]}_updateActiveAndVisibleTextEditors(){const o=this._getTextEditorPositionData();(0,b.fS)(this._editorPositionData,o)||(this._editorPositionData=o,this._proxy.$acceptEditorPositionData(this._editorPositionData))}_getTextEditorPositionData(){const o=Object.create(null);for(const f of this._editorService.visibleEditorPanes){const A=this._editorLocator.findTextEditorIdFor(f);A&&(o[A]=Do(this._editorGroupService,f.group))}return o}$tryShowTextDocument(o,f){var A=this;return(0,d.Z)(function*(){const Oe={resource:C.o.revive(o),options:{preserveFocus:f.preserveFocus,pinned:f.pinned,selection:f.selection,activation:f.preserveFocus?ba.RESTORE:void 0,override:es.DISABLED}},Xe=yield A._editorService.openEditor(Oe,ao(A._editorGroupService,f.position));if(Xe)return A._editorLocator.findTextEditorIdFor(Xe)})()}$tryShowEditor(o,f){var A=this;return(0,d.Z)(function*(){const G=A._editorLocator.getEditor(o);if(G){const re=G.getModel();yield A._editorService.openEditor({resource:re.uri,options:{preserveFocus:!1}},ao(A._editorGroupService,f))}})()}$tryHideEditor(o){var f=this;return(0,d.Z)(function*(){const A=f._editorLocator.getEditor(o);if(A){const G=f._editorService.visibleEditorPanes;for(const re of G)if(A.matches(re))return void(yield re.group.closeEditor(re.input))}})()}$trySetSelections(o,f){const A=this._editorLocator.getEditor(o);return A?(A.setSelections(f),Promise.resolve(void 0)):Promise.reject((0,n.d)(`TextEditor(${o})`))}$trySetDecorations(o,f,A){f=`${this._instanceId}-${f}`;const G=this._editorLocator.getEditor(o);return G?(G.setDecorations(f,A),Promise.resolve(void 0)):Promise.reject((0,n.d)(`TextEditor(${o})`))}$trySetDecorationsFast(o,f,A){f=`${this._instanceId}-${f}`;const G=this._editorLocator.getEditor(o);return G?(G.setDecorationsFast(f,A),Promise.resolve(void 0)):Promise.reject((0,n.d)(`TextEditor(${o})`))}$tryRevealRange(o,f,A){const G=this._editorLocator.getEditor(o);return G?(G.revealRange(f,A),Promise.resolve()):Promise.reject((0,n.d)(`TextEditor(${o})`))}$trySetOptions(o,f){const A=this._editorLocator.getEditor(o);return A?(A.setConfiguration(f),Promise.resolve(void 0)):Promise.reject((0,n.d)(`TextEditor(${o})`))}$tryApplyEdits(o,f,A,G){const re=this._editorLocator.getEditor(o);return re?Promise.resolve(re.applyEdits(f,A,G)):Promise.reject((0,n.d)(`TextEditor(${o})`))}$tryInsertSnippet(o,f,A,G,re){const Oe=this._editorLocator.getEditor(o);return Oe?Promise.resolve(Oe.insertSnippet(f,A,G,re)):Promise.reject((0,n.d)(`TextEditor(${o})`))}$registerTextEditorDecorationType(o,f,A){this._registeredDecorationTypes[f=`${this._instanceId}-${f}`]=!0,this._codeEditorService.registerDecorationType(`exthost-api-${o}`,f,A)}$removeTextEditorDecorationType(o){delete this._registeredDecorationTypes[o=`${this._instanceId}-${o}`],this._codeEditorService.removeDecorationType(o)}$getDiffInformation(o){const f=this._editorLocator.getEditor(o);if(!f)return Promise.reject(new Error("No such TextEditor"));const A=f.getCodeEditor();if(!A)return Promise.reject(new Error("No such CodeEditor"));const G=A.getId(),re=this._codeEditorService.listDiffEditors(),[Oe]=re.filter(Mt=>Mt.getOriginalEditor().getId()===G||Mt.getModifiedEditor().getId()===G);if(Oe)return Promise.resolve(Oe.getLineChanges()||[]);const Xe=A.getContribution("editor.contrib.dirtydiff");return Promise.resolve(Xe?Xe.getChanges():[])}};so.INSTANCE_COUNT=0,so=(0,l._)([(0,l.a)(2,he.$),(0,l.a)(3,S.I),(0,l.a)(4,S.b)],so);class Yo{}class is{constructor(o){this.editor=o,this.id=`${o.getId()},${o.getModel().id}`}}class Ls{constructor(o,f,A,G,re,Oe){this.removedDocuments=o,this.addedDocuments=f,this.removedEditors=A,this.addedEditors=G,this.oldActiveEditor=re,this.newActiveEditor=Oe,this.isEmpty=0===this.removedDocuments.length&&0===this.addedDocuments.length&&0===this.removedEditors.length&&0===this.addedEditors.length&&re===Oe}toString(){let o="DocumentAndEditorStateDelta\n";return o+=`\tRemoved Documents: [${this.removedDocuments.map(f=>f.uri.toString(!0)).join(", ")}]\n`,o+=`\tAdded Documents: [${this.addedDocuments.map(f=>f.uri.toString(!0)).join(", ")}]\n`,o+=`\tRemoved Editors: [${this.removedEditors.map(f=>f.id).join(", ")}]\n`,o+=`\tAdded Editors: [${this.addedEditors.map(f=>f.id).join(", ")}]\n`,o+=`\tNew Active Editor: ${this.newActiveEditor}\n`,o}}class Ho{constructor(o,f,A){this.documents=o,this.textEditors=f,this.activeEditor=A}static compute(o,f){if(!o)return new Ls([],[...f.documents.values()],[],[...f.textEditors.values()],void 0,f.activeEditor);const A=function gt(ie,o){const f=[],A=[];for(const G of ie)o.has(G)||f.push(G);for(const G of o)ie.has(G)||A.push(G);return{removed:f,added:A}}(o.documents,f.documents),G=function Kt(ie,o){const f=[],A=[];for(const[G,re]of ie)o.has(G)||f.push(re);for(const[G,re]of o)ie.has(G)||A.push(re);return{removed:f,added:A}}(o.textEditors,f.textEditors);return new Ls(A.removed,A.added,G.removed,G.added,o.activeEditor!==f.activeEditor?o.activeEditor:void 0,o.activeEditor!==f.activeEditor?f.activeEditor:void 0)}}let Is=class{constructor(o,f,A,G,re){this._onDidChangeState=o,this._modelService=f,this._codeEditorService=A,this._editorService=G,this._paneCompositeService=re,this._toDispose=new O.SL,this._toDisposeOnEditorRemove=new Map,this._activeEditorOrder=0,this._modelService.onModelAdded(this._updateStateOnModelAdd,this,this._toDispose),this._modelService.onModelRemoved(Oe=>this._updateState(),this,this._toDispose),this._editorService.onDidActiveEditorChange(Oe=>this._updateState(),this,this._toDispose),this._codeEditorService.onCodeEditorAdd(this._onDidAddEditor,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onDidRemoveEditor,this,this._toDispose),this._codeEditorService.listCodeEditors().forEach(this._onDidAddEditor,this),F.ju.filter(this._paneCompositeService.onDidPaneCompositeOpen,Oe=>1===Oe.viewContainerLocation)(Oe=>this._activeEditorOrder=1,void 0,this._toDispose),F.ju.filter(this._paneCompositeService.onDidPaneCompositeClose,Oe=>1===Oe.viewContainerLocation)(Oe=>this._activeEditorOrder=0,void 0,this._toDispose),this._editorService.onDidVisibleEditorsChange(Oe=>this._activeEditorOrder=0,void 0,this._toDispose),this._updateState()}dispose(){this._toDispose.dispose()}_onDidAddEditor(o){this._toDisposeOnEditorRemove.set(o.getId(),(0,O.F8)(o.onDidChangeModel(()=>this._updateState()),o.onDidFocusEditorText(()=>this._updateState()),o.onDidFocusEditorWidget(()=>this._updateState(o)))),this._updateState()}_onDidRemoveEditor(o){const f=this._toDisposeOnEditorRemove.get(o.getId());f&&(this._toDisposeOnEditorRemove.delete(o.getId()),f.dispose(),this._updateState())}_updateStateOnModelAdd(o){if((0,Ct.pt)(o)){if(!this._currentState)return void this._updateState();this._currentState=new Ho(this._currentState.documents.add(o),this._currentState.textEditors,this._currentState.activeEditor),this._onDidChangeState(new Ls([],[o],[],[],void 0,void 0))}}_updateState(o){const f=new Set;for(const Xe of this._modelService.getModels())(0,Ct.pt)(Xe)&&f.add(Xe);const A=new Map;let G=null;for(const Xe of this._codeEditorService.listCodeEditors()){if(Xe.isSimpleWidget)continue;const Mt=Xe.getModel();if(Xe.hasModel()&&Mt&&(0,Ct.pt)(Mt)&&!Mt.isDisposed()&&Boolean(this._modelService.getModel(Mt.uri))){const _n=new is(Xe);A.set(_n.id,_n),(Xe.hasTextFocus()||o===Xe&&Xe.hasWidgetFocus())&&(G=_n.id)}}if(!G){let Xe;if(Xe=0===this._activeEditorOrder?this._getActiveEditorFromEditorPart()||this._getActiveEditorFromPanel():this._getActiveEditorFromPanel()||this._getActiveEditorFromEditorPart(),Xe)for(const Mt of A.values())Xe===Mt.editor&&(G=Mt.id)}const re=new Ho(f,A,G),Oe=Ho.compute(this._currentState,re);Oe.isEmpty||(this._currentState=re,this._onDidChangeState(Oe))}_getActiveEditorFromPanel(){const o=this._paneCompositeService.getActivePaneComposite(1);if(o instanceof Yo){const f=o.getControl();if((0,Q.CL)(f))return f}}_getActiveEditorFromEditorPart(){let o=this._editorService.activeTextEditorControl;return(0,Q.QI)(o)&&(o=o.getModifiedEditor()),o}};Is=(0,l._)([(0,l.a)(1,Me.q),(0,l.a)(2,he.$),(0,l.a)(3,S.I),(0,l.a)(4,S.g)],Is);let ys=class{constructor(o,f,A,G,re,Oe,Xe,Mt,_n,Un,ui,Si,ti,mi,Ai){this._modelService=f,this._textFileService=A,this._editorService=G,this._editorGroupService=Mt,this._clipboardService=ti,this._toDispose=new O.SL,this._textEditors=new Map,this._proxy=o.getProxy(ds.ExtHostDocumentsAndEditors),this._mainThreadDocuments=this._toDispose.add(new Xi(o,this._modelService,this._textFileService,Oe,Xe,Un,Si,ui,mi)),o.set(Oo.MainThreadDocuments,this._mainThreadDocuments),this._mainThreadEditors=this._toDispose.add(new so(this,o,re,this._editorService,this._editorGroupService)),o.set(Oo.MainThreadTextEditors,this._mainThreadEditors),this._toDispose.add(new Is(Fi=>this._onDelta(Fi),f,re,this._editorService,_n))}dispose(){this._toDispose.dispose()}_onDelta(o){const f=[],A=[],G=o.removedDocuments.map(Xe=>Xe.uri);for(const Xe of o.addedEditors){const Mt=new Hi(Xe.id,Xe.editor.getModel(),Xe.editor,{onGainedFocus(){},onLostFocus(){}},this._mainThreadDocuments,this._modelService,this._clipboardService);this._textEditors.set(Xe.id,Mt),A.push(Mt)}for(const{id:Xe}of o.removedEditors){const Mt=this._textEditors.get(Xe);Mt&&(Mt.dispose(),this._textEditors.delete(Xe),f.push(Xe))}const re=Object.create(null);let Oe=!0;void 0!==o.newActiveEditor&&(Oe=!1,re.newActiveEditor=o.newActiveEditor),G.length>0&&(Oe=!1,re.removedDocuments=G),f.length>0&&(Oe=!1,re.removedEditors=f),o.addedDocuments.length>0&&(Oe=!1,re.addedDocuments=o.addedDocuments.map(Xe=>this._toModelAddData(Xe))),o.addedEditors.length>0&&(Oe=!1,re.addedEditors=A.map(Xe=>this._toTextEditorAddData(Xe))),Oe||(this._proxy.$acceptDocumentsAndEditorsDelta(re),G.forEach(this._mainThreadDocuments.handleModelRemoved,this._mainThreadDocuments),o.addedDocuments.forEach(this._mainThreadDocuments.handleModelAdded,this._mainThreadDocuments),f.forEach(this._mainThreadEditors.handleTextEditorRemoved,this._mainThreadEditors),A.forEach(this._mainThreadEditors.handleTextEditorAdded,this._mainThreadEditors))}_toModelAddData(o){return{uri:o.uri,versionId:o.getVersionId(),lines:o.getLinesContent(),EOL:o.getEOL(),languageId:o.getLanguageId(),isDirty:this._textFileService.isDirty(o.uri)}}_toTextEditorAddData(o){const f=o.getProperties();return{id:o.getId(),documentUri:o.getModel().uri,options:f.options,selections:f.selections,visibleRanges:f.visibleRanges,editorPosition:this._findEditorPosition(o)}}_findEditorPosition(o){for(const f of this._editorService.visibleEditorPanes)if(o.matches(f))return Do(this._editorGroupService,f.group)}findTextEditorIdFor(o){for(const[f,A]of this._textEditors)if(A.matches(o))return f}getIdOfCodeEditor(o){for(const[f,A]of this._textEditors)if(A.getCodeEditor()===o)return f}getEditor(o){return this._textEditors.get(o)}};ys=(0,l._)([function fa(ie){Ra.INSTANCE.registerCustomer(ie)},(0,l.a)(1,Me.q),(0,l.a)(2,S.h),(0,l.a)(3,S.I),(0,l.a)(4,he.$),(0,l.a)(5,S.i),(0,l.a)(6,Ie.S),(0,l.a)(7,S.b),(0,l.a)(8,S.g),(0,l.a)(9,S.j),(0,l.a)(10,S.k),(0,l.a)(11,S.f),(0,l.a)(12,le.p),(0,l.a)(13,S.l),(0,l.a)(14,D.TG)],ys);let Ss=class{constructor(o,f,A){this._markerService=f,this._uriIdentService=A,this._activeOwners=new Set,this._proxy=o.getProxy(ds.ExtHostDiagnostics),this._markerListener=this._markerService.onMarkerChanged(this._forwardMarkers,this)}dispose(){this._markerListener.dispose(),this._activeOwners.forEach(o=>this._markerService.changeAll(o,[])),this._activeOwners.clear()}_forwardMarkers(o){const f=[];for(const A of o){const G=this._markerService.read({resource:A});if(0===G.length)f.push([A,[]]);else{const re=G.filter(Oe=>!this._activeOwners.has(Oe.owner));re.length>0&&f.push([A,re])}}f.length>0&&this._proxy.$acceptMarkersChange(f)}$changeMany(o,f){for(const A of f){const[G,re]=A;if(re)for(const Oe of re){if(Oe.relatedInformation)for(const Xe of Oe.relatedInformation)Xe.resource=C.o.revive(Xe.resource);Oe.code&&"string"!=typeof Oe.code&&(Oe.code.target=C.o.revive(Oe.code.target))}this._markerService.changeOne(o,this._uriIdentService.asCanonicalUri(C.o.revive(G)),re)}this._activeOwners.add(o)}$clear(o){this._markerService.changeAll(o,[]),this._activeOwners.delete(o)}};function pr(ie,o){return!(o.disableTelemetry||!ie.enableTelemetry||o.extensionTestsLocationURI)}var al;Ss=(0,l._)([bs(Oo.MainThreadDiagnostics),(0,l.a)(1,u.lT),(0,l.a)(2,S.f)],Ss);let bl=al=class extends O.JT{constructor(o,f,A,G){super(),this._telemetryService=f,this._environmentService=A,this._productService=G,this._proxy=o.getProxy(ds.ExtHostTelemetry),pr(this._productService,this._environmentService)&&this._register(f.telemetryLevel.onDidChange(re=>{this._proxy.$onDidChangeTelemetryLevel(re)})),this._proxy.$initializeTelemetryLevel(this.telemetryLevel,this._productService.enabledTelemetryLevels)}get telemetryLevel(){return pr(this._productService,this._environmentService)?this._telemetryService.telemetryLevel.value:0}$publicLog(o,f=Object.create(null)){f[al._name]=!0,this._telemetryService.publicLog(o,f)}$publicLog2(o,f){this.$publicLog(o,f)}};bl._name="pluginHostTelemetry",bl=al=(0,l._)([bs(Oo.MainThreadTelemetry),(0,l.a)(1,Ce.b),(0,l.a)(2,Pe.Y),(0,l.a)(3,S.c)],bl);let Ol=class{constructor(o,f){this._proxy=o.getProxy(Oo.MainThreadBulkEdits),this._versionInformationProvider={getTextDocumentVersion:A=>f.getDocument(A)?.version,getNotebookDocumentVersion:()=>{}}}applyWorkspaceEdit(o,f){const A=(0,V.i)(f,"snippetWorkspaceEdit"),G=Qn.from(o,this._versionInformationProvider,A);return this._proxy.$tryApplyWorkspaceEdit(G)}};Ol=(0,l._)([(0,l.a)(0,Sr)],Ol);class Za extends dt.fo{constructor(o,f,A,G){super(G),this.resource=o,this.cellEdit=f,this.notebookVersionId=A}static is(o){return o instanceof Za||C.o.isUri(o.resource)&&(0,_.Kn)(o.cellEdit)}static lift(o){return o instanceof Za?o:new Za(o.resource,o.cellEdit,o.notebookVersionId,o.metadata)}}let kl=class{constructor(o,f,A){this._bulkEditService=f,this._logService=A}dispose(){}$tryApplyWorkspaceEdit(o,f){const A=function ud(ie){const o=yr(ie)?.edits;return o?o.map(f=>{if(dt.Gl.is(f))return dt.Gl.lift(f);if(dt.pH.is(f))return dt.pH.lift(f);if(Za.is(f))return Za.lift(f);throw new Error("Unsupported edit")}):[]}(o);return this._bulkEditService.apply(A,{undoRedoGroupId:f}).then(()=>!0,G=>(this._logService.warn("IGNORING workspace edit",G),!1))}};kl=(0,l._)([bs(Oo.MainThreadBulkEdits),(0,l.a)(1,dt.vu),(0,l.a)(2,P.VZ)],kl);class ll{constructor(o,f,A,G){this._documents=f,this._commands=A,this._uriTransformer=G,this._languageIds=[],this._handlePool=0,this._ids=new Set,this._proxy=o.getProxy(Oo.MainThreadLanguages)}$acceptLanguageIds(o){this._languageIds=o}getLanguages(){var o=this;return(0,d.Z)(function*(){return o._languageIds.slice(0)})()}changeLanguage(o,f){var A=this;return(0,d.Z)(function*(){yield A._proxy.$changeLanguage(o,f);const G=A._documents.getDocumentData(o);if(!G)throw new Error(`document '${o.toString()}' NOT found`);return G.document})()}tokenAtPosition(o,f){var A=this;return(0,d.Z)(function*(){const G=o.version,re=Jo.from(f),Oe=yield A._proxy.$tokensAtPosition(o.uri,re),Xe={type:wn.Other,range:o.getWordRangeAtPosition(f)??new Wn(f.line,f.character,f.line,f.character)};if(!Oe)return Xe;const Mt={range:Ui.to(Oe.range),type:Va.to(Oe.type)};return Mt.range.contains(f)&&G===o.version?Mt:Xe})()}createLanguageStatusItem(o,f,A){const G=this._handlePool++,re=this._proxy,Oe=this._ids,Xe=`${o.identifier.value}/${f}`;if(Oe.has(Xe))throw new Error(`LanguageStatusItem with id '${f}' ALREADY exists`);Oe.add(Xe);const Mt={selector:A,id:f,name:o.displayName??o.name,severity:on.Information,command:void 0,text:"",detail:"",busy:!1};let _n;const Un=new O.SL,ui=()=>{_n?.dispose(),_n=(0,K.Vg)(()=>{Un.clear(),this._proxy.$setLanguageStatus(G,{id:Xe,name:Mt.name??o.displayName??o.name,source:o.displayName??o.name,selector:Xs.from(Mt.selector,this._uriTransformer),label:Mt.text,detail:Mt.detail??"",severity:Mt.severity===on.Error?Z.Z.Error:Mt.severity===on.Warning?Z.Z.Warning:Z.Z.Info,command:Mt.command&&this._commands.toInternal(Mt.command,Un),accessibilityInfo:Mt.accessibilityInformation,busy:Mt.busy})},0)},Si={dispose(){Un.dispose(),_n?.dispose(),re.$removeLanguageStatus(G),Oe.delete(Xe)},get id(){return Mt.id},get name(){return Mt.name},set name(ti){Mt.name=ti,ui()},get selector(){return Mt.selector},set selector(ti){Mt.selector=ti,ui()},get text(){return Mt.text},set text(ti){Mt.text=ti,ui()},get detail(){return Mt.detail},set detail(ti){Mt.detail=ti,ui()},get severity(){return Mt.severity},set severity(ti){Mt.severity=ti,ui()},get accessibilityInformation(){return Mt.accessibilityInformation},set accessibilityInformation(ti){Mt.accessibilityInformation=ti,ui()},get command(){return Mt.command},set command(ti){Mt.command=ti,ui()},get busy(){return Mt.busy},set busy(ti){Mt.busy=ti,ui()}};return ui(),Si}}let Fl=class{constructor(o,f,A,G,re){this._languageService=f,this._modelService=A,this._resolverService=G,this._languageStatusService=re,this._disposables=new O.SL,this._status=new Map,this._proxy=o.getProxy(ds.ExtHostLanguages),this._proxy.$acceptLanguageIds(f.getRegisteredLanguageIds()),this._disposables.add(f.onDidChange(Oe=>{this._proxy.$acceptLanguageIds(f.getRegisteredLanguageIds())}))}dispose(){this._disposables.dispose();for(const o of this._status.values())o.dispose();this._status.clear()}$changeLanguage(o,f){var A=this;return(0,d.Z)(function*(){if(!A._languageService.isRegisteredLanguageId(f))return Promise.reject(new Error(`Unknown language id: ${f}`));const G=C.o.revive(o),re=yield A._resolverService.createModelReference(G);try{A._modelService.setMode(re.object.textEditorModel,A._languageService.createById(f))}finally{re.dispose()}})()}$tokensAtPosition(o,f){var A=this;return(0,d.Z)(function*(){const G=C.o.revive(o),re=A._modelService.getModel(G);if(!re)return;re.tokenization.tokenizeIfCheap(f.lineNumber);const Oe=re.tokenization.getLineTokens(f.lineNumber),Xe=Oe.findTokenIndexAtOffset(f.column-1);return{type:Oe.getStandardTokenType(Xe),range:new nt(f.lineNumber,1+Oe.getStartOffset(Xe),f.lineNumber,1+Oe.getEndOffset(Xe))}})()}$setLanguageStatus(o,f){this._status.get(o)?.dispose(),this._status.set(o,this._languageStatusService.addStatus(f))}$removeLanguageStatus(o){this._status.get(o)?.dispose()}};Fl=(0,l._)([bs(Oo.MainThreadLanguages),(0,l.a)(1,me.O),(0,l.a)(2,Me.q),(0,l.a)(3,Ie.S),(0,l.a)(4,S.n)],Fl);class dl{constructor(o){o?(this.transformIncoming=o.transformIncoming.bind(o),this.transformOutgoing=o.transformOutgoing.bind(o),this.transformOutgoingURI=o.transformOutgoingURI.bind(o),this.transformOutgoingScheme=o.transformOutgoingScheme.bind(o)):(this.transformIncoming=f=>f,this.transformOutgoing=f=>f,this.transformOutgoingURI=f=>f,this.transformOutgoingScheme=f=>f)}}let yl=class Vc{constructor(o){this._onDidChangeWindowState=new l.E,this.onDidChangeWindowState=this._onDidChangeWindowState.event,this._state=Vc.InitialState,this._proxy=o.getProxy(Oo.MainThreadWindow),this._proxy.$getWindowVisibility().then(f=>this.$onDidChangeWindowFocus(f))}get state(){return this._state}$onDidChangeWindowFocus(o){o!==this._state.focused&&(this._state={...this._state,focused:o},this._onDidChangeWindowState.fire(this._state))}openUri(o,f){let A;if("string"==typeof o){A=o;try{o=C.o.parse(o)}catch{return Promise.reject(`Invalid uri - '${o}'`)}}return(0,s.m5)(o.scheme)?Promise.reject("Invalid scheme - cannot be empty"):o.scheme===z.lg.command?Promise.reject(`Invalid scheme '${o.scheme}'`):this._proxy.$openUri(o,A,f)}asExternalUri(o,f){var A=this;return(0,d.Z)(function*(){if((0,s.m5)(o.scheme))return Promise.reject("Invalid scheme - cannot be empty");const G=yield A._proxy.$asExternalUri(o,f);return C.o.from(G)})()}};yl.InitialState={focused:!0},yl=(0,l._)([(0,l.a)(0,Sr)],yl);let Aa=class{constructor(o,f,A){this.hostService=f,this.openerService=A,this.disposables=new O.SL,this.resolved=new Map,this.proxy=o.getProxy(ds.ExtHostWindow),F.ju.latch(f.onDidChangeFocus)(this.proxy.$onDidChangeWindowFocus,this.proxy,this.disposables)}dispose(){this.disposables.dispose();for(const o of this.resolved.values())o.dispose();this.resolved.clear()}$getWindowVisibility(){return Promise.resolve(this.hostService.hasFocus)}$openUri(o,f,A){var G=this;return(0,d.Z)(function*(){const re=C.o.from(o);let Oe;return Oe=f&&C.o.parse(f).toString()===re.toString()?f:re,G.openerService.open(Oe,{openExternal:!0,allowTunneling:A.allowTunneling,allowContributedOpeners:A.allowContributedOpeners})})()}$asExternalUri(o,f){var A=this;return(0,d.Z)(function*(){return(yield A.openerService.resolveExternalUri(C.o.revive(o),f)).resolved})()}};Aa=(0,l._)([bs(Oo.MainThreadWindow),(0,l.a)(1,S.o),(0,l.a)(2,st.v4)],Aa);let Pa=class{constructor(o,f){this._clipboardService=f}dispose(){}$readText(){return this._clipboardService.readText()}$writeText(o){return this._clipboardService.writeText(o)}};Pa=(0,l._)([bs(Oo.MainThreadClipboard),(0,l.a)(1,le.p)],Pa);class ot{constructor(o){const f=o.getProxy(Oo.MainThreadClipboard);this.value=Object.freeze({readText:()=>f.$readText(),writeText:A=>f.$writeText(A)})}}class ${constructor(){this._onDidChangeTelemetryEnabled=new l.E,this.onDidChangeTelemetryEnabled=this._onDidChangeTelemetryEnabled.event,this._onDidChangeTelemetryConfiguration=new l.E,this.onDidChangeTelemetryConfiguration=this._onDidChangeTelemetryConfiguration.event,this._productConfig={usage:!0,error:!0},this._level=0}getTelemetryConfiguration(){return 3===this._level}getTelemetryDetails(){return{isCrashEnabled:this._level>=1,isErrorsEnabled:!!this._productConfig.error&&this._level>=2,isUsageEnabled:!!this._productConfig.usage&&this._level>=3}}$initializeTelemetryLevel(o,f){this._level=o,this._productConfig=f||{usage:!0,error:!0}}$onDidChangeTelemetryLevel(o){this._oldTelemetryEnablement=this.getTelemetryConfiguration(),this._level=o,this._oldTelemetryEnablement!==this.getTelemetryConfiguration()&&this._onDidChangeTelemetryEnabled.fire(this.getTelemetryConfiguration()),this._onDidChangeTelemetryConfiguration.fire(this.getTelemetryDetails())}}function Ot(ie){const o=function Ze(ie){const o=ie.buffer;if((0,tt.r)()||function se(ie){for(let o=0,f=ie.length;o<f;o+=4){const A=ie[o+0],G=ie[o+1],re=ie[o+2];ie[o+0]=ie[o+3],ie[o+1]=re,ie[o+2]=G,ie[o+3]=A}}(o),o.byteOffset%4==0)return new Uint32Array(o.buffer,o.byteOffset,o.length/4);{const f=new Uint8Array(o.byteLength);return f.set(o),new Uint32Array(f.buffer,f.byteOffset,f.length/4)}}(ie);let f=0;const A=o[f++];if(1===o[f++]){const Xe=o[f++],Mt=o.subarray(f,f+Xe);return f+=Xe,{id:A,type:"full",data:Mt}}const re=o[f++],Oe=[];for(let Xe=0;Xe<re;Xe++){const Mt=o[f++],_n=o[f++],Un=o[f++];let ui;Un>0&&(ui=o.subarray(f,f+Un),f+=Un),Oe[Xe]={start:Mt,deleteCount:_n,data:ui}}return{id:A,type:"delta",deltas:Oe}}let zn=(()=>{class ie{constructor(f){this.id=f,this._data=new Map,this._idPool=1}add(f){const A=this._idPool++;return this._data.set(A,f),this.logDebugInfo(),A}get(f,A){return this._data.has(f)?this._data.get(f)[A]:void 0}delete(f){this._data.delete(f),this.logDebugInfo()}logDebugInfo(){!ie.enableDebugLogging||console.log(`${this.id} cache size - ${this._data.size}`)}}return ie.enableDebugLogging=!1,ie})();class ri{constructor(o,f){this._documents=o,this._provider=f}provideDocumentSymbols(o,f){var A=this;return(0,d.Z)(function*(){const G=A._documents.getDocument(o),re=yield A._provider.provideDocumentSymbols(G,f);if(!(0,E.XY)(re))return re[0]instanceof di?re.map(Ti.from):ri._asDocumentSymbolTree(re)})()}static _asDocumentSymbolTree(o){o=o.slice(0).sort((G,re)=>{let Oe=G.location.range.start.compareTo(re.location.range.start);return 0===Oe&&(Oe=re.location.range.end.compareTo(G.location.range.end)),Oe});const f=[],A=[];for(const G of o){const re={name:G.name||"!!MISSING: name!!",kind:qn.from(G.kind),tags:G.tags?.map(kn.from)||[],detail:"",containerName:G.containerName,range:Ui.from(G.location.range),selectionRange:Ui.from(G.location.range),children:[]};for(;;){if(0===A.length){A.push(re),f.push(re);break}const Oe=A[A.length-1];if(nt.containsRange(Oe.range,re.range)&&!nt.equalsRange(Oe.range,re.range)){Oe.children?.push(re),A.push(re);break}A.pop()}}return f}}let Di=(()=>{class ie{constructor(f,A,G){this._documents=f,this._commands=A,this._provider=G,this._cache=new zn("CodeLens"),this._disposables=new Map}provideCodeLenses(f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(f),Oe=yield G._provider.provideCodeLenses(re,A);if(!Oe||A.isCancellationRequested)return;const Xe=G._cache.add(Oe),Mt=new O.SL;G._disposables.set(Xe,Mt);const _n={cacheId:Xe,lenses:[]};for(let Un=0;Un<Oe.length;Un++)_n.lenses.push({cacheId:[Xe,Un],range:Ui.from(Oe[Un].range),command:G._commands.toInternal(Oe[Un].command,Mt)});return _n})()}resolveCodeLens(f,A){var G=this;return(0,d.Z)(function*(){const re=f.cacheId&&G._cache.get(...f.cacheId);if(!re)return;let Oe;if(Oe="function"!=typeof G._provider.resolveCodeLens||re.isResolved?re:yield G._provider.resolveCodeLens(re,A),Oe||(Oe=re),A.isCancellationRequested)return;const Xe=f.cacheId&&G._disposables.get(f.cacheId[0]);return Xe?(f.command=G._commands.toInternal(Oe.command??ie._badCmd,Xe),f):void 0})()}releaseCodeLenses(f){this._disposables.get(f)?.dispose(),this._disposables.delete(f),this._cache.delete(f)}}return ie._badCmd={command:"missing",title:"!!MISSING: command!!"},ie})();function Oi(ie){return Array.isArray(ie)?ie.map(co.from):ie?[co.from(ie)]:[]}class qi{constructor(o,f){this._documents=o,this._provider=f}provideDefinition(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f);return Oi(yield G._provider.provideDefinition(re,Oe,A))})()}}class xo{constructor(o,f){this._documents=o,this._provider=f}provideDeclaration(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f);return Oi(yield G._provider.provideDeclaration(re,Oe,A))})()}}class zo{constructor(o,f){this._documents=o,this._provider=f}provideImplementation(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f);return Oi(yield G._provider.provideImplementation(re,Oe,A))})()}}class cr{constructor(o,f){this._documents=o,this._provider=f}provideTypeDefinition(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f);return Oi(yield G._provider.provideTypeDefinition(re,Oe,A))})()}}class Wr{constructor(o,f){this._documents=o,this._provider=f}provideHover(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f),Xe=yield G._provider.provideHover(re,Oe,A);if(Xe&&!(0,E.XY)(Xe.contents))return Xe.range||(Xe.range=re.getWordRangeAtPosition(Oe)),Xe.range||(Xe.range=new Wn(Oe,Oe)),bo.from(Xe)})()}}class ma{constructor(o,f){this._documents=o,this._provider=f}provideEvaluatableExpression(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f),Xe=yield G._provider.provideEvaluatableExpression(re,Oe,A);if(Xe)return Lo.from(Xe)})()}}class pa{constructor(o,f){this._documents=o,this._provider=f}provideInlineValues(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=yield re._provider.provideInlineValues(Oe,Ui.to(f),oo.to(A),G);if(Array.isArray(Xe))return Xe.map(Mt=>yo.from(Mt))})()}}class Sl{constructor(o,f){this._documents=o,this._provider=f}provideDocumentHighlights(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f),Xe=yield G._provider.provideDocumentHighlights(re,Oe,A);if(Array.isArray(Xe))return Xe.map(Vo.from)})()}}class Vd{constructor(o,f){this._documents=o,this._provider=f}provideLinkedEditingRanges(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f),Xe=yield G._provider.provideLinkedEditingRanges(re,Oe,A);if(Xe&&Array.isArray(Xe.ranges))return{ranges:(0,E.kX)(Xe.ranges.map(Ui.from)),wordPattern:Xe.wordPattern}})()}}class Hd{constructor(o,f){this._documents=o,this._provider=f}provideReferences(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=Jo.to(f),Mt=yield re._provider.provideReferences(Oe,Xe,A,G);if(Array.isArray(Mt))return Mt.map(ji.from)})()}}let Xl=(()=>{class ie{constructor(f,A,G,re,Oe,Xe,Mt){this._documents=f,this._commands=A,this._diagnostics=G,this._provider=re,this._logService=Oe,this._extension=Xe,this._apiDeprecation=Mt,this._cache=new zn("CodeAction"),this._disposables=new Map}provideCodeActions(f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Xe=Oe._documents.getDocument(f),Mt=Zi.isISelection(A)?Or.to(A):Ui.to(A),_n=[];for(const Ai of Oe._diagnostics.getDiagnostics(f))if(Mt.intersection(Ai.range)&&_n.push(Ai)>ie._maxCodeActionsPerFile)break;const Un={diagnostics:_n,only:G.only?new J(G.only):void 0,triggerKind:ua.to(G.trigger)},ui=yield Oe._provider.provideCodeActions(Xe,Mt,Un,re);if(!(0,E.Of)(ui)||re.isCancellationRequested)return;const Si=Oe._cache.add(ui),ti=new O.SL;Oe._disposables.set(Si,ti);const mi=[];for(let Ai=0;Ai<ui.length;Ai++){const Fi=ui[Ai];!Fi||(ie._isCommand(Fi)?(Oe._apiDeprecation.report("CodeActionProvider.provideCodeActions - return commands",Oe._extension,"Return 'CodeAction' instances instead."),mi.push({_isSynthetic:!0,title:Fi.title,command:Oe._commands.toInternal(Fi,ti)})):(Un.only&&(Fi.kind?Un.only.contains(Fi.kind)||Oe._logService.warn(`${Oe._extension.identifier.value} - Code actions of kind '${Un.only.value} 'requested but returned code action is of kind '${Fi.kind.value}'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code actions.`):Oe._logService.warn(`${Oe._extension.identifier.value} - Code actions of kind '${Un.only.value} 'requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.`)),mi.push({cacheId:[Si,Ai],title:Fi.title,command:Fi.command&&Oe._commands.toInternal(Fi.command,ti),diagnostics:Fi.diagnostics&&Fi.diagnostics.map(aa.from),edit:Fi.edit&&Qn.from(Fi.edit,void 0,(0,V.i)(Oe._extension,"snippetWorkspaceEdit")),kind:Fi.kind&&Fi.kind.value,isPreferred:Fi.isPreferred,disabled:Fi.disabled?.reason})))}return{cacheId:Si,actions:mi}})()}resolveCodeAction(f,A){var G=this;return(0,d.Z)(function*(){const[re,Oe]=f,Xe=G._cache.get(re,Oe);if(!Xe||ie._isCommand(Xe)||!G._provider.resolveCodeAction)return;const Mt=(yield G._provider.resolveCodeAction(Xe,A))??Xe;return Mt?.edit?Qn.from(Mt.edit,void 0,(0,V.i)(G._extension,"snippetWorkspaceEdit")):void 0})()}releaseCodeActions(f){this._disposables.get(f)?.dispose(),this._disposables.delete(f),this._cache.delete(f)}static _isCommand(f){return"string"==typeof f.command&&"string"==typeof f.title}}return ie._maxCodeActionsPerFile=1e3,ie})();class hd{constructor(o,f,A,G){this._proxy=o,this._documents=f,this._provider=A,this._handle=G}prepareDocumentPaste(o,f,A,G){var re=this;return(0,d.Z)(function*(){if(!re._provider.prepareDocumentPaste)return;const Oe=re._documents.getDocument(o),Xe=f.map(_n=>Ui.to(_n)),Mt=kr.toDataTransfer(A,()=>{throw new n.N});return yield re._provider.prepareDocumentPaste(Oe,Xe,Mt,G),kr.toDataTransferDTO(Mt)})()}providePasteEdits(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Xe=Oe._documents.getDocument(f),Mt=A.map(ui=>Ui.to(ui)),_n=kr.toDataTransfer(G,function(){var ui=(0,d.Z)(function*(Si){return(yield Oe._proxy.$resolvePasteFileData(Oe._handle,o,Si)).buffer});return function(Si){return ui.apply(this,arguments)}}()),Un=yield Oe._provider.provideDocumentPasteEdits(Xe,Mt,_n,re);if(Un)return{insertText:"string"==typeof Un.insertText?Un.insertText:{snippet:Un.insertText.value},additionalEdit:Un.additionalEdit?Qn.from(Un.additionalEdit,void 0,!0):void 0}})()}}class Ud{constructor(o,f){this._documents=o,this._provider=f}provideDocumentFormattingEdits(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=yield G._provider.provideDocumentFormattingEdits(re,f,A);if(Array.isArray(Oe))return Oe.map(Xn.from)})()}}class jd{constructor(o,f){this._documents=o,this._provider=f}provideDocumentRangeFormattingEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=Ui.to(f),Mt=yield re._provider.provideDocumentRangeFormattingEdits(Oe,Xe,A,G);if(Array.isArray(Mt))return Mt.map(Xn.from)})()}}class zd{constructor(o,f){this._documents=o,this._provider=f,this.autoFormatTriggerCharacters=[]}provideOnTypeFormattingEdits(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Xe=Oe._documents.getDocument(o),Mt=Jo.to(f),_n=yield Oe._provider.provideOnTypeFormattingEdits(Xe,Mt,A,G,re);if(Array.isArray(_n))return _n.map(Xn.from)})()}}class Jl{constructor(o,f){this._provider=o,this._logService=f,this._cache=new zn("WorkspaceSymbols")}provideWorkspaceSymbols(o,f){var A=this;return(0,d.Z)(function*(){const G=yield A._provider.provideWorkspaceSymbols(o,f);if(!(0,E.Of)(G))return{symbols:[]};const re=A._cache.add(G),Oe={cacheId:re,symbols:[]};for(let Xe=0;Xe<G.length;Xe++){const Mt=G[Xe];Mt&&Mt.name?Oe.symbols.push({...xi.from(Mt),cacheId:[re,Xe]}):A._logService.warn("INVALID SymbolInformation",Mt)}return Oe})()}resolveWorkspaceSymbol(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveWorkspaceSymbol||!o.cacheId)return o;const G=A._cache.get(...o.cacheId);if(G){const re=yield A._provider.resolveWorkspaceSymbol(G,f);return re&&(0,b.jB)(o,xi.from(re),!0)}})()}releaseWorkspaceSymbols(o){this._cache.delete(o)}}class cl{constructor(o,f,A){this._documents=o,this._provider=f,this._logService=A}static supportsResolving(o){return"function"==typeof o.prepareRename}provideRenameEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=Jo.to(f);try{const Mt=yield re._provider.provideRenameEdits(Oe,Xe,A,G);return Mt?Qn.from(Mt):void 0}catch(Mt){const _n=cl._asMessage(Mt);return _n?{rejectReason:_n,edits:void 0}:Promise.reject(Mt)}})()}resolveRenameLocation(o,f,A){var G=this;return(0,d.Z)(function*(){if("function"!=typeof G._provider.prepareRename)return Promise.resolve(void 0);const re=G._documents.getDocument(o),Oe=Jo.to(f);try{const Xe=yield G._provider.prepareRename(re,Oe,A);let Mt,_n;if(Wn.isRange(Xe)?(Mt=Xe,_n=re.getText(Xe)):(0,_.Kn)(Xe)&&(Mt=Xe.range,_n=Xe.placeholder),!Mt||!_n)return;return Mt.start.line>Oe.line||Mt.end.line<Oe.line?void G._logService.warn("INVALID rename location: position line must be within range start/end lines"):{range:Ui.from(Mt),text:_n}}catch(Xe){const Mt=cl._asMessage(Xe);return Mt?{rejectReason:Mt,range:void 0,text:void 0}:Promise.reject(Xe)}})()}static _asMessage(o){return"string"==typeof o?o:o instanceof Error&&"string"==typeof o.message?o.message:void 0}}class fd{constructor(o,f){this.resultId=o,this.tokens=f}}class Vr{constructor(o,f){this._documents=o,this._provider=f,this._nextResultId=1,this._previousResults=new Map}provideDocumentSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=0!==f?G._previousResults.get(f):null;let Xe="string"==typeof Oe?.resultId&&"function"==typeof G._provider.provideDocumentSemanticTokensEdits?yield G._provider.provideDocumentSemanticTokensEdits(re,Oe.resultId,A):yield G._provider.provideDocumentSemanticTokens(re,A);return Oe&&G._previousResults.delete(f),Xe?(Xe=Vr._fixProvidedSemanticTokens(Xe),G._send(Vr._convertToEdits(Oe,Xe),Xe)):null})()}releaseDocumentSemanticColoring(o){var f=this;return(0,d.Z)(function*(){f._previousResults.delete(o)})()}static _fixProvidedSemanticTokens(o){return Vr._isSemanticTokens(o)?Vr._isCorrectSemanticTokens(o)?o:new mr(new Uint32Array(o.data),o.resultId):Vr._isSemanticTokensEdits(o)?Vr._isCorrectSemanticTokensEdits(o)?o:new lo(o.edits.map(f=>new Lr(f.start,f.deleteCount,f.data?new Uint32Array(f.data):f.data)),o.resultId):o}static _isSemanticTokens(o){return o&&!!o.data}static _isCorrectSemanticTokens(o){return o.data instanceof Uint32Array}static _isSemanticTokensEdits(o){return o&&Array.isArray(o.edits)}static _isCorrectSemanticTokensEdits(o){for(const f of o.edits)if(!(f.data instanceof Uint32Array))return!1;return!0}static _convertToEdits(o,f){if(!Vr._isSemanticTokens(f)||!o||!o.tokens)return f;const A=o.tokens,G=A.length,re=f.data,Oe=re.length;let Xe=0;const Mt=Math.min(G,Oe);for(;Xe<Mt&&A[Xe]===re[Xe];)Xe++;if(Xe===G&&Xe===Oe)return new lo([],f.resultId);let _n=0;const Un=Mt-Xe;for(;_n<Un&&A[G-_n-1]===re[Oe-_n-1];)_n++;return new lo([{start:Xe,deleteCount:G-Xe-_n,data:re.subarray(Xe,Oe-_n)}],f.resultId)}_send(o,f){if(Vr._isSemanticTokens(o)){const A=this._nextResultId++;return this._previousResults.set(A,new fd(o.resultId,o.data)),(0,qe.C)({id:A,type:"full",data:o.data})}if(Vr._isSemanticTokensEdits(o)){const A=this._nextResultId++;return Vr._isSemanticTokens(f)?this._previousResults.set(A,new fd(f.resultId,f.data)):this._previousResults.set(A,new fd(o.resultId)),(0,qe.C)({id:A,type:"delta",deltas:(o.edits||[]).map(G=>({start:G.start,deleteCount:G.deleteCount,data:G.data}))})}return null}}class Kd{constructor(o,f){this._documents=o,this._provider=f}provideDocumentRangeSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=yield G._provider.provideDocumentRangeSemanticTokens(re,Ui.to(f),A);return Oe?G._send(Oe):null})()}_send(o){return(0,qe.C)({id:0,type:"full",data:o.data})}}class ul{constructor(o,f,A,G,re){this._documents=o,this._commands=f,this._provider=A,this._apiDeprecation=G,this._extension=re,this._cache=new zn("CompletionItem"),this._disposables=new Map}static supportsResolving(o){return"function"==typeof o.resolveCompletionItem}provideCompletionItems(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=Jo.to(f),Mt=Oe.getWordRangeAtPosition(Xe)||new Wn(Xe,Xe),_n=Mt.with({end:Xe}),Un=new et.G(!0),ui=yield re._provider.provideCompletionItems(Oe,Xe,G,po.to(A));if(!ui||G.isCancellationRequested)return;const Si=Array.isArray(ui)?new en(ui):ui,ti=ul.supportsResolving(re._provider)?re._cache.add(Si.items):re._cache.add([]),mi=new O.SL;re._disposables.set(ti,mi);const Ai=[],Fi={x:ti,b:Ai,a:{replace:Ui.from(Mt),insert:Ui.from(_n)},c:Si.isIncomplete||void 0,d:Un.elapsed()};for(let gs=0;gs<Si.items.length;gs++){const ur=re._convertCompletionItem(Si.items[gs],[ti,gs],_n,Mt);Ai.push(ur)}return Fi})()}resolveCompletionItem(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveCompletionItem)return;const G=A._cache.get(...o);if(!G)return;const re=yield A._provider.resolveCompletionItem(G,f);return re?A._convertCompletionItem(re,o):void 0})()}releaseCompletionItems(o){this._disposables.get(o)?.dispose(),this._disposables.delete(o),this._cache.delete(o)}_convertCompletionItem(o,f,A,G){const re=this._disposables.get(f[0]);if(!re)throw Error("DisposableStore is missing...");const Oe={x:f,a:o.label,b:void 0!==o.kind?vo.from(o.kind):void 0,n:o.tags&&o.tags.map(Ji.from),c:o.detail,d:typeof o.documentation>"u"?void 0:De.fromStrict(o.documentation),e:o.sortText!==o.label?o.sortText:void 0,f:o.filterText!==o.label?o.filterText:void 0,g:o.preselect||void 0,i:o.keepWhitespace?1:0,k:o.commitCharacters,l:o.additionalTextEdits&&o.additionalTextEdits.map(Xn.from),m:this._commands.toInternal(o.command,re)};let Xe;return o.textEdit?(this._apiDeprecation.report("CompletionItem.textEdit",this._extension,"Use 'CompletionItem.insertText' and 'CompletionItem.range' instead."),Oe.h=o.textEdit.newText):"string"==typeof o.insertText?Oe.h=o.insertText:o.insertText instanceof En&&(Oe.h=o.insertText.value,Oe.i|=4),o.textEdit?Xe=o.textEdit.range:o.range&&(Xe=o.range),Wn.isRange(Xe)?Oe.j=Ui.from(Xe):Xe&&(!A?.isEqual(Xe.inserting)||!G?.isEqual(Xe.replacing))&&(Oe.j={insert:Ui.from(Xe.inserting),replace:Ui.from(Xe.replacing)}),Oe}}class Bl{provideInlineCompletions(o,f,A,G){return(0,d.Z)(function*(){})()}disposeCompletions(o){}handleDidShowCompletionItem(o,f){}}class Hc extends Bl{constructor(o,f,A,G){super(),this._extension=o,this._documents=f,this._provider=A,this._commands=G,this._references=new $d,this._isAdditionsProposedApiEnabled=(0,V.i)(this._extension,"inlineCompletionsAdditions"),this.languageTriggerKindToVSCodeTriggerKind={[Qe.bw.Automatic]:vr.Automatic,[Qe.bw.Explicit]:vr.Invoke}}get supportsHandleDidShowCompletionItem(){return(0,V.i)(this._extension,"inlineCompletionsAdditions")&&"function"==typeof this._provider.handleDidShowCompletionItem}provideInlineCompletions(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=Jo.to(f),Mt=yield re._provider.provideInlineCompletionItems(Oe,Xe,{selectedCompletionInfo:A.selectedSuggestionInfo?{range:Ui.to(A.selectedSuggestionInfo.range),text:A.selectedSuggestionInfo.text}:void 0,triggerKind:re.languageTriggerKindToVSCodeTriggerKind[A.triggerKind]},G);if(!Mt||G.isCancellationRequested)return;const _n=(0,_.kJ)(Mt)?Mt:Mt.items,Un=re._isAdditionsProposedApiEnabled?(0,_.kJ)(Mt)?[]:Mt.commands||[]:[];let ui;return{pid:re._references.createReferenceId({dispose(){ui&&ui.dispose()},items:_n}),items:_n.map((ti,mi)=>{let Ai;ti.command&&(ui||(ui=new O.SL),Ai=re._commands.toInternal(ti.command,ui));const Fi=ti.insertText;return{insertText:"string"==typeof Fi?Fi:{snippet:Fi.value},filterText:ti.filterText,range:ti.range?Ui.from(ti.range):void 0,command:Ai,idx:mi,completeBracketPairs:!!re._isAdditionsProposedApiEnabled&&ti.completeBracketPairs}}),commands:Un.map(ti=>(ui||(ui=new O.SL),re._commands.toInternal(ti,ui)))}})()}disposeCompletions(o){this._references.disposeReferenceId(o)?.dispose()}handleDidShowCompletionItem(o,f){const A=this._references.get(o)?.items[f];A&&this._provider.handleDidShowCompletionItem&&this._isAdditionsProposedApiEnabled&&this._provider.handleDidShowCompletionItem(A)}}class Uc extends Bl{constructor(o,f,A,G){super(),this.extension=o,this._documents=f,this._provider=A,this._commands=G,this._references=new $d,this.isAdditionProposedApiEnabled=(0,V.i)(this.extension,"inlineCompletionsAdditions"),this.languageTriggerKindToVSCodeTriggerKind={[Qe.bw.Automatic]:ms.Automatic,[Qe.bw.Explicit]:ms.Invoke}}provideInlineCompletions(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=Jo.to(f),Mt=yield re._provider.provideInlineCompletionItems(Oe,Xe,{selectedCompletionInfo:A.selectedSuggestionInfo?{range:Ui.to(A.selectedSuggestionInfo.range),text:A.selectedSuggestionInfo.text}:void 0,triggerKind:re.languageTriggerKindToVSCodeTriggerKind[A.triggerKind]},G);if(!Mt||G.isCancellationRequested)return;const _n=(0,_.kJ)(Mt)?Mt:Mt.items,Un=(0,_.kJ)(Mt)?[]:Mt.commands||[];let ui;return{pid:re._references.createReferenceId({dispose(){ui&&ui.dispose()},items:_n}),items:_n.map((ti,mi)=>{let Ai;ti.command&&(ui||(ui=new O.SL),Ai=re._commands.toInternal(ti.command,ui));const Fi=ti.insertText;return{insertText:"string"==typeof Fi?Fi:{snippet:Fi.value},filterText:ti.filterText,range:ti.range?Ui.from(ti.range):void 0,command:Ai,idx:mi,completeBracketPairs:!!re.isAdditionProposedApiEnabled&&ti.completeBracketPairs}}),commands:Un.map(ti=>(ui||(ui=new O.SL),re._commands.toInternal(ti,ui)))}})()}disposeCompletions(o){this._references.disposeReferenceId(o)?.dispose()}handleDidShowCompletionItem(o,f){const A=this._references.get(o)?.items[f];A&&this._provider.handleDidShowCompletionItem&&this.isAdditionProposedApiEnabled&&this._provider.handleDidShowCompletionItem(A)}}class $d{constructor(){this._references=new Map,this._idPool=1}createReferenceId(o){const f=this._idPool++;return this._references.set(f,o),f}disposeReferenceId(o){const f=this._references.get(o);return this._references.delete(o),f}get(o){return this._references.get(o)}}class gd{constructor(o,f){this._documents=o,this._provider=f,this._cache=new zn("SignatureHelp")}provideSignatureHelp(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Xe=Jo.to(f),Mt=re.reviveContext(A),_n=yield re._provider.provideSignatureHelp(Oe,Xe,G,Mt);if(_n){const Un=re._cache.add([_n]);return{...qo.from(_n),id:Un}}})()}reviveContext(o){let f;if(o.activeSignatureHelp){const A=qo.to(o.activeSignatureHelp),G=this._cache.get(o.activeSignatureHelp.id,0);G?(f=G,f.activeSignature=A.activeSignature,f.activeParameter=A.activeParameter):f=A}return{...o,activeSignatureHelp:f}}releaseSignatureHelp(o){this._cache.delete(o)}}class ql{constructor(o,f,A,G,re){this._documents=o,this._commands=f,this._provider=A,this._logService=G,this._extension=re,this._cache=new zn("InlayHints"),this._disposables=new Map}provideInlayHints(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Ui.to(f),Xe=yield G._provider.provideInlayHints(re,Oe,A);if(!Array.isArray(Xe)||0===Xe.length)return void G._logService.trace(`[InlayHints] NO inlay hints from '${G._extension.identifier.value}' for ${f}`);if(A.isCancellationRequested)return;const Mt=G._cache.add(Xe);G._disposables.set(Mt,new O.SL);const _n={hints:[],cacheId:Mt};for(let Un=0;Un<Xe.length;Un++)G._isValidInlayHint(Xe[Un],Oe)&&_n.hints.push(G._convertInlayHint(Xe[Un],[Mt,Un]));return G._logService.trace(`[InlayHints] ${_n.hints.length} inlay hints from '${G._extension.identifier.value}' for ${f}`),_n})()}resolveInlayHint(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveInlayHint)return;const G=A._cache.get(...o);if(!G)return;const re=yield A._provider.resolveInlayHint(G,f);return re&&A._isValidInlayHint(re)?A._convertInlayHint(re,o):void 0})()}releaseHints(o){this._disposables.get(o)?.dispose(),this._disposables.delete(o),this._cache.delete(o)}_isValidInlayHint(o,f){return 0===o.label.length||Array.isArray(o.label)&&o.label.every(A=>0===A.value.length)?(console.log("INVALID inlay hint, empty label",o),!1):!(f&&!f.contains(o.position))}_convertInlayHint(o,f){const A=this._disposables.get(f[0]);if(!A)throw Error("DisposableStore is missing...");const G={label:"",cacheId:f,tooltip:De.fromStrict(o.tooltip),position:Jo.from(o.position),textEdits:o.textEdits&&o.textEdits.map(Xn.from),kind:o.kind&&So.from(o.kind),paddingLeft:o.paddingLeft,paddingRight:o.paddingRight};return G.label="string"==typeof o.label?o.label:o.label.map(re=>{const Oe={label:re.value};return Oe.tooltip=De.fromStrict(re.tooltip),Ht.isLocation(re.location)&&(Oe.location=ji.from(re.location)),re.command&&(Oe.command=this._commands.toInternal(re.command,A)),Oe}),G}}class Qa{constructor(o,f){this._documents=o,this._provider=f,this._cache=new zn("DocumentLink")}provideLinks(o,f){var A=this;return(0,d.Z)(function*(){const G=A._documents.getDocument(o),re=yield A._provider.provideDocumentLinks(G,f);if(Array.isArray(re)&&0!==re.length&&!f.isCancellationRequested){if("function"!=typeof A._provider.resolveDocumentLink)return{links:re.filter(Qa._validateLink).map(ns.from)};{const Oe=A._cache.add(re),Xe={links:[],cacheId:Oe};for(let Mt=0;Mt<re.length;Mt++){if(!Qa._validateLink(re[Mt]))continue;const _n=ns.from(re[Mt]);_n.cacheId=[Oe,Mt],Xe.links.push(_n)}return Xe}}})()}static _validateLink(o){return!(o.target&&o.target.path.length>5e4&&(console.warn("DROPPING link because it is too long"),1))}resolveLink(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveDocumentLink)return;const G=A._cache.get(...o);if(!G)return;const re=yield A._provider.resolveDocumentLink(G,f);return re&&Qa._validateLink(re)?ns.from(re):void 0})()}releaseLinks(o){this._cache.delete(o)}}class md{constructor(o,f){this._documents=o,this._provider=f}provideColors(o,f){var A=this;return(0,d.Z)(function*(){const G=A._documents.getDocument(o),re=yield A._provider.provideDocumentColors(G,f);return Array.isArray(re)?re.map(Xe=>({color:Zo.from(Xe.color),range:Ui.from(Xe.range)})):[]})()}provideColorPresentations(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Ui.to(f.range),Xe=Zo.to(f.color),Mt=yield G._provider.provideColorPresentations(Xe,{document:re,range:Oe},A);if(Array.isArray(Mt))return Mt.map(Rs.from)})()}}class Gd{constructor(o,f){this._documents=o,this._provider=f}provideFoldingRanges(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=yield G._provider.provideFoldingRanges(re,f,A);if(Array.isArray(Oe))return Oe.map(Us.from)})()}}class Zd{constructor(o,f,A){this._documents=o,this._provider=f,this._logService=A}provideSelectionRanges(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=f.map(Jo.to),Xe=yield G._provider.provideSelectionRanges(re,Oe,A);if(!(0,E.Of)(Xe))return[];if(Xe.length!==Oe.length)return G._logService.warn("BAD selection ranges, provider must return ranges for each position"),[];const Mt=[];for(let _n=0;_n<Oe.length;_n++){const Un=[];Mt.push(Un);let ui=Oe[_n],Si=Xe[_n];for(;;){if(!Si.range.contains(ui))throw new Error("INVALID selection range, must contain the previous range");if(Un.push(Fs.from(Si)),!Si.parent)break;ui=Si.range,Si=Si.parent}}return Mt})()}}class Wl{constructor(o,f){this._documents=o,this._provider=f,this._idPool=new ke.R(""),this._cache=new Map}prepareSession(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f),Xe=yield G._provider.prepareCallHierarchy(re,Oe,A);if(!Xe)return;const Mt=G._idPool.nextId();return G._cache.set(Mt,new Map),Array.isArray(Xe)?Xe.map(_n=>G._cacheAndConvertItem(Mt,_n)):[G._cacheAndConvertItem(Mt,Xe)]})()}provideCallsTo(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing call hierarchy item");const Oe=yield G._provider.provideCallHierarchyIncomingCalls(re,A);if(Oe)return Oe.map(Xe=>({from:G._cacheAndConvertItem(o,Xe.from),fromRanges:Xe.fromRanges.map(Mt=>Ui.from(Mt))}))})()}provideCallsFrom(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing call hierarchy item");const Oe=yield G._provider.provideCallHierarchyOutgoingCalls(re,A);if(Oe)return Oe.map(Xe=>({to:G._cacheAndConvertItem(o,Xe.to),fromRanges:Xe.fromRanges.map(Mt=>Ui.from(Mt))}))})()}releaseSession(o){this._cache.delete(o)}_cacheAndConvertItem(o,f){const A=this._cache.get(o),G=ki.from(f,o,A.size.toString(36));return A.set(G._itemId,f),G}_itemFromCache(o,f){return this._cache.get(o)?.get(f)}}class Vl{constructor(o,f){this._documents=o,this._provider=f,this._idPool=new ke.R(""),this._cache=new Map}prepareSession(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Jo.to(f),Xe=yield G._provider.prepareTypeHierarchy(re,Oe,A);if(!Xe)return;const Mt=G._idPool.nextId();return G._cache.set(Mt,new Map),Array.isArray(Xe)?Xe.map(_n=>G._cacheAndConvertItem(Mt,_n)):[G._cacheAndConvertItem(Mt,Xe)]})()}provideSupertypes(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing type hierarchy item");const Oe=yield G._provider.provideTypeHierarchySupertypes(re,A);if(Oe)return Oe.map(Xe=>G._cacheAndConvertItem(o,Xe))})()}provideSubtypes(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing type hierarchy item");const Oe=yield G._provider.provideTypeHierarchySubtypes(re,A);if(Oe)return Oe.map(Xe=>G._cacheAndConvertItem(o,Xe))})()}releaseSession(o){this._cache.delete(o)}_cacheAndConvertItem(o,f){const A=this._cache.get(o),G=Ua.from(f,o,A.size.toString(36));return A.set(G._itemId,f),G}_itemFromCache(o,f){return this._cache.get(o)?.get(f)}}class Qd{constructor(o,f,A,G){this._proxy=o,this._documents=f,this._provider=A,this._handle=G}provideDocumentOnDropEdits(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Xe=Oe._documents.getDocument(f),Mt=Jo.to(A),_n=kr.toDataTransfer(G,function(){var ui=(0,d.Z)(function*(Si){return(yield Oe._proxy.$resolveDocumentOnDropFileData(Oe._handle,o,Si)).buffer});return function(Si){return ui.apply(this,arguments)}}()),Un=yield Oe._provider.provideDocumentDropEdits(Xe,Mt,_n,re);if(Un)return{insertText:"string"==typeof Un.insertText?Un.insertText:{snippet:Un.insertText.value},additionalEdit:Un.additionalEdit?Qn.from(Un.additionalEdit,void 0,!0):void 0}})()}}class Hl{constructor(o,f){this.adapter=o,this.extension=f}}let jc=(()=>{class ie{constructor(f,A,G,re,Oe,Xe,Mt){this._adapter=new Map,this._uriTransformer=A,this._proxy=f.getProxy(Oo.MainThreadLanguageFeatures),this._documents=G,this._commands=re,this._diagnostics=Oe,this._logService=Xe,this._apiDeprecation=Mt}_transformDocumentSelector(f){return Xs.from(f,this._uriTransformer)}_createDisposable(f){return new un(()=>{this._adapter.delete(f),this._proxy.$unregister(f)})}_nextHandle(){return ie._handlePool++}_withAdapter(f,A,G,re,Oe,Xe=!1){var Mt=this;return(0,d.Z)(function*(){const _n=Mt._adapter.get(f);if(!(_n&&_n.adapter instanceof A))return re;const Un=Date.now();Xe||Mt._logService.trace(`[${_n.extension.identifier.value}] INVOKE provider '${G.toString().replace(/[\r\n]/g,"")}'`);const ui=G(_n.adapter,_n.extension);return Promise.resolve(ui).catch(Si=>{(0,T.n2)(Si)||(Mt._logService.error(`[${_n.extension.identifier.value}] provider FAILED`),Mt._logService.error(Si))}).finally(()=>{Xe||Mt._logService.trace(`[${_n.extension.identifier.value}] provider DONE after ${Date.now()-Un}ms`)}),U.T.isCancellationToken(Oe)?(0,V.r)(ui,Oe):ui})()}_addNewAdapter(f,A){const G=this._nextHandle();return this._adapter.set(G,new Hl(f,A)),G}static _extLabel(f){return f.displayName||f.name}registerDocumentSymbolProvider(f,A,G,re){const Oe=this._addNewAdapter(new ri(this._documents,G),f),Xe=re&&re.label||ie._extLabel(f);return this._proxy.$registerDocumentSymbolProvider(Oe,this._transformDocumentSelector(A),Xe),this._createDisposable(Oe)}$provideDocumentSymbols(f,A,G){return this._withAdapter(f,ri,re=>re.provideDocumentSymbols(C.o.revive(A),G),void 0,G)}registerCodeLensProvider(f,A,G){const re=this._nextHandle(),Oe="function"==typeof G.onDidChangeCodeLenses?this._nextHandle():void 0;this._adapter.set(re,new Hl(new Di(this._documents,this._commands.converter,G),f)),this._proxy.$registerCodeLensSupport(re,this._transformDocumentSelector(A),Oe);let Xe=this._createDisposable(re);if(void 0!==Oe){const Mt=G.onDidChangeCodeLenses(_n=>this._proxy.$emitCodeLensEvent(Oe));Xe=un.from(Xe,Mt)}return Xe}$provideCodeLenses(f,A,G){return this._withAdapter(f,Di,re=>re.provideCodeLenses(C.o.revive(A),G),void 0,G)}$resolveCodeLens(f,A,G){return this._withAdapter(f,Di,re=>re.resolveCodeLens(A,G),void 0,void 0)}$releaseCodeLenses(f,A){this._withAdapter(f,Di,G=>Promise.resolve(G.releaseCodeLenses(A)),void 0,void 0)}registerDefinitionProvider(f,A,G){const re=this._addNewAdapter(new qi(this._documents,G),f);return this._proxy.$registerDefinitionSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDefinition(f,A,G,re){return this._withAdapter(f,qi,Oe=>Oe.provideDefinition(C.o.revive(A),G,re),[],re)}registerDeclarationProvider(f,A,G){const re=this._addNewAdapter(new xo(this._documents,G),f);return this._proxy.$registerDeclarationSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDeclaration(f,A,G,re){return this._withAdapter(f,xo,Oe=>Oe.provideDeclaration(C.o.revive(A),G,re),[],re)}registerImplementationProvider(f,A,G){const re=this._addNewAdapter(new zo(this._documents,G),f);return this._proxy.$registerImplementationSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideImplementation(f,A,G,re){return this._withAdapter(f,zo,Oe=>Oe.provideImplementation(C.o.revive(A),G,re),[],re)}registerTypeDefinitionProvider(f,A,G){const re=this._addNewAdapter(new cr(this._documents,G),f);return this._proxy.$registerTypeDefinitionSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideTypeDefinition(f,A,G,re){return this._withAdapter(f,cr,Oe=>Oe.provideTypeDefinition(C.o.revive(A),G,re),[],re)}registerHoverProvider(f,A,G,re){const Oe=this._addNewAdapter(new Wr(this._documents,G),f);return this._proxy.$registerHoverProvider(Oe,this._transformDocumentSelector(A)),this._createDisposable(Oe)}$provideHover(f,A,G,re){return this._withAdapter(f,Wr,Oe=>Oe.provideHover(C.o.revive(A),G,re),void 0,re)}registerEvaluatableExpressionProvider(f,A,G,re){const Oe=this._addNewAdapter(new ma(this._documents,G),f);return this._proxy.$registerEvaluatableExpressionProvider(Oe,this._transformDocumentSelector(A)),this._createDisposable(Oe)}$provideEvaluatableExpression(f,A,G,re){return this._withAdapter(f,ma,Oe=>Oe.provideEvaluatableExpression(C.o.revive(A),G,re),void 0,re)}registerInlineValuesProvider(f,A,G,re){const Oe="function"==typeof G.onDidChangeInlineValues?this._nextHandle():void 0,Xe=this._addNewAdapter(new pa(this._documents,G),f);this._proxy.$registerInlineValuesProvider(Xe,this._transformDocumentSelector(A),Oe);let Mt=this._createDisposable(Xe);if(void 0!==Oe){const _n=G.onDidChangeInlineValues(Un=>this._proxy.$emitInlineValuesEvent(Oe));Mt=un.from(Mt,_n)}return Mt}$provideInlineValues(f,A,G,re,Oe){return this._withAdapter(f,pa,Xe=>Xe.provideInlineValues(C.o.revive(A),G,re,Oe),void 0,Oe)}registerDocumentHighlightProvider(f,A,G){const re=this._addNewAdapter(new Sl(this._documents,G),f);return this._proxy.$registerDocumentHighlightProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDocumentHighlights(f,A,G,re){return this._withAdapter(f,Sl,Oe=>Oe.provideDocumentHighlights(C.o.revive(A),G,re),void 0,re)}registerLinkedEditingRangeProvider(f,A,G){const re=this._addNewAdapter(new Vd(this._documents,G),f);return this._proxy.$registerLinkedEditingRangeProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideLinkedEditingRanges(f,A,G,re){return this._withAdapter(f,Vd,function(){var Oe=(0,d.Z)(function*(Xe){const Mt=yield Xe.provideLinkedEditingRanges(C.o.revive(A),G,re);if(Mt)return{ranges:Mt.ranges,wordPattern:Mt.wordPattern?ie._serializeRegExp(Mt.wordPattern):void 0}});return function(Xe){return Oe.apply(this,arguments)}}(),void 0,re)}registerReferenceProvider(f,A,G){const re=this._addNewAdapter(new Hd(this._documents,G),f);return this._proxy.$registerReferenceSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideReferences(f,A,G,re,Oe){return this._withAdapter(f,Hd,Xe=>Xe.provideReferences(C.o.revive(A),G,re,Oe),void 0,Oe)}registerCodeActionProvider(f,A,G,re){const Oe=new O.SL,Xe=this._addNewAdapter(new Xl(this._documents,this._commands.converter,this._diagnostics,G,this._logService,f,this._apiDeprecation),f);return this._proxy.$registerQuickFixSupport(Xe,this._transformDocumentSelector(A),{providedKinds:re?.providedCodeActionKinds?.map(Mt=>Mt.value),documentation:re?.documentation?.map(Mt=>({kind:Mt.kind.value,command:this._commands.converter.toInternal(Mt.command,Oe)}))},ie._extLabel(f),Boolean(G.resolveCodeAction)),Oe.add(this._createDisposable(Xe)),Oe}$provideCodeActions(f,A,G,re,Oe){return this._withAdapter(f,Xl,Xe=>Xe.provideCodeActions(C.o.revive(A),G,re,Oe),void 0,Oe)}$resolveCodeAction(f,A,G){return this._withAdapter(f,Xl,re=>re.resolveCodeAction(A,G),void 0,void 0)}$releaseCodeActions(f,A){this._withAdapter(f,Xl,G=>Promise.resolve(G.releaseCodeActions(A)),void 0,void 0)}registerDocumentFormattingEditProvider(f,A,G){const re=this._addNewAdapter(new Ud(this._documents,G),f);return this._proxy.$registerDocumentFormattingSupport(re,this._transformDocumentSelector(A),f.identifier,f.displayName||f.name),this._createDisposable(re)}$provideDocumentFormattingEdits(f,A,G,re){return this._withAdapter(f,Ud,Oe=>Oe.provideDocumentFormattingEdits(C.o.revive(A),G,re),void 0,re)}registerDocumentRangeFormattingEditProvider(f,A,G){const re=this._addNewAdapter(new jd(this._documents,G),f);return this._proxy.$registerRangeFormattingSupport(re,this._transformDocumentSelector(A),f.identifier,f.displayName||f.name),this._createDisposable(re)}$provideDocumentRangeFormattingEdits(f,A,G,re,Oe){return this._withAdapter(f,jd,Xe=>Xe.provideDocumentRangeFormattingEdits(C.o.revive(A),G,re,Oe),void 0,Oe)}registerOnTypeFormattingEditProvider(f,A,G,re){const Oe=this._addNewAdapter(new zd(this._documents,G),f);return this._proxy.$registerOnTypeFormattingSupport(Oe,this._transformDocumentSelector(A),re,f.identifier),this._createDisposable(Oe)}$provideOnTypeFormattingEdits(f,A,G,re,Oe,Xe){return this._withAdapter(f,zd,Mt=>Mt.provideOnTypeFormattingEdits(C.o.revive(A),G,re,Oe,Xe),void 0,Xe)}registerWorkspaceSymbolProvider(f,A){const G=this._addNewAdapter(new Jl(A,this._logService),f);return this._proxy.$registerNavigateTypeSupport(G,"function"==typeof A.resolveWorkspaceSymbol),this._createDisposable(G)}$provideWorkspaceSymbols(f,A,G){return this._withAdapter(f,Jl,re=>re.provideWorkspaceSymbols(A,G),{symbols:[]},G)}$resolveWorkspaceSymbol(f,A,G){return this._withAdapter(f,Jl,re=>re.resolveWorkspaceSymbol(A,G),void 0,void 0)}$releaseWorkspaceSymbols(f,A){this._withAdapter(f,Jl,G=>G.releaseWorkspaceSymbols(A),void 0,void 0)}registerRenameProvider(f,A,G){const re=this._addNewAdapter(new cl(this._documents,G,this._logService),f);return this._proxy.$registerRenameSupport(re,this._transformDocumentSelector(A),cl.supportsResolving(G)),this._createDisposable(re)}$provideRenameEdits(f,A,G,re,Oe){return this._withAdapter(f,cl,Xe=>Xe.provideRenameEdits(C.o.revive(A),G,re,Oe),void 0,Oe)}$resolveRenameLocation(f,A,G,re){return this._withAdapter(f,cl,Oe=>Oe.resolveRenameLocation(C.o.revive(A),G,re),void 0,re)}registerDocumentSemanticTokensProvider(f,A,G,re){const Oe=this._addNewAdapter(new Vr(this._documents,G),f),Xe="function"==typeof G.onDidChangeSemanticTokens?this._nextHandle():void 0;this._proxy.$registerDocumentSemanticTokensProvider(Oe,this._transformDocumentSelector(A),re,Xe);let Mt=this._createDisposable(Oe);if(Xe){const _n=G.onDidChangeSemanticTokens(Un=>this._proxy.$emitDocumentSemanticTokensEvent(Xe));Mt=un.from(Mt,_n)}return Mt}$provideDocumentSemanticTokens(f,A,G,re){return this._withAdapter(f,Vr,Oe=>Oe.provideDocumentSemanticTokens(C.o.revive(A),G,re),null,re)}$releaseDocumentSemanticTokens(f,A){this._withAdapter(f,Vr,G=>G.releaseDocumentSemanticColoring(A),void 0,void 0)}registerDocumentRangeSemanticTokensProvider(f,A,G,re){const Oe=this._addNewAdapter(new Kd(this._documents,G),f);return this._proxy.$registerDocumentRangeSemanticTokensProvider(Oe,this._transformDocumentSelector(A),re),this._createDisposable(Oe)}$provideDocumentRangeSemanticTokens(f,A,G,re){return this._withAdapter(f,Kd,Oe=>Oe.provideDocumentRangeSemanticTokens(C.o.revive(A),G,re),null,re)}registerCompletionItemProvider(f,A,G,re){const Oe=this._addNewAdapter(new ul(this._documents,this._commands.converter,G,this._apiDeprecation,f),f);return this._proxy.$registerCompletionsProvider(Oe,this._transformDocumentSelector(A),re,ul.supportsResolving(G),`${f.identifier.value}(${re.join("")})`),this._createDisposable(Oe)}$provideCompletionItems(f,A,G,re,Oe){return this._withAdapter(f,ul,Xe=>Xe.provideCompletionItems(C.o.revive(A),G,re,Oe),void 0,Oe)}$resolveCompletionItem(f,A,G){return this._withAdapter(f,ul,re=>re.resolveCompletionItem(A,G),void 0,G)}$releaseCompletionItems(f,A){this._withAdapter(f,ul,G=>G.releaseCompletionItems(A),void 0,void 0)}registerInlineCompletionsProvider(f,A,G){const re=new Hc(f,this._documents,G,this._commands.converter),Oe=this._addNewAdapter(re,f);return this._proxy.$registerInlineCompletionsSupport(Oe,this._transformDocumentSelector(A),re.supportsHandleDidShowCompletionItem),this._createDisposable(Oe)}registerInlineCompletionsProviderNew(f,A,G){const re=this._addNewAdapter(new Uc(f,this._documents,G,this._commands.converter),f);return this._proxy.$registerInlineCompletionsSupport(re,this._transformDocumentSelector(A),!0),this._createDisposable(re)}$provideInlineCompletions(f,A,G,re,Oe){return this._withAdapter(f,Bl,Xe=>Xe.provideInlineCompletions(C.o.revive(A),G,re,Oe),void 0,Oe)}$handleInlineCompletionDidShow(f,A,G){this._withAdapter(f,Bl,function(){var re=(0,d.Z)(function*(Oe){Oe.handleDidShowCompletionItem(A,G)});return function(Oe){return re.apply(this,arguments)}}(),void 0,void 0)}$freeInlineCompletionsList(f,A){this._withAdapter(f,Bl,function(){var G=(0,d.Z)(function*(re){re.disposeCompletions(A)});return function(re){return G.apply(this,arguments)}}(),void 0,void 0)}registerSignatureHelpProvider(f,A,G,re){const Oe=Array.isArray(re)?{triggerCharacters:re,retriggerCharacters:[]}:re,Xe=this._addNewAdapter(new gd(this._documents,G),f);return this._proxy.$registerSignatureHelpProvider(Xe,this._transformDocumentSelector(A),Oe),this._createDisposable(Xe)}$provideSignatureHelp(f,A,G,re,Oe){return this._withAdapter(f,gd,Xe=>Xe.provideSignatureHelp(C.o.revive(A),G,re,Oe),void 0,Oe)}$releaseSignatureHelp(f,A){this._withAdapter(f,gd,G=>G.releaseSignatureHelp(A),void 0,void 0)}registerInlayHintsProvider(f,A,G){const re="function"==typeof G.onDidChangeInlayHints?this._nextHandle():void 0,Oe=this._addNewAdapter(new ql(this._documents,this._commands.converter,G,this._logService,f),f);this._proxy.$registerInlayHintsProvider(Oe,this._transformDocumentSelector(A),"function"==typeof G.resolveInlayHint,re,ie._extLabel(f));let Xe=this._createDisposable(Oe);if(void 0!==re){const Mt=G.onDidChangeInlayHints(_n=>this._proxy.$emitInlayHintsEvent(re));Xe=un.from(Xe,Mt)}return Xe}$provideInlayHints(f,A,G,re){return this._withAdapter(f,ql,Oe=>Oe.provideInlayHints(C.o.revive(A),G,re),void 0,re)}$resolveInlayHint(f,A,G){return this._withAdapter(f,ql,re=>re.resolveInlayHint(A,G),void 0,G)}$releaseInlayHints(f,A){this._withAdapter(f,ql,G=>G.releaseHints(A),void 0,void 0)}registerDocumentLinkProvider(f,A,G){const re=this._addNewAdapter(new Qa(this._documents,G),f);return this._proxy.$registerDocumentLinkProvider(re,this._transformDocumentSelector(A),"function"==typeof G.resolveDocumentLink),this._createDisposable(re)}$provideDocumentLinks(f,A,G){return this._withAdapter(f,Qa,re=>re.provideLinks(C.o.revive(A),G),void 0,G,"output"===A.scheme)}$resolveDocumentLink(f,A,G){return this._withAdapter(f,Qa,re=>re.resolveLink(A,G),void 0,void 0,!0)}$releaseDocumentLinks(f,A){this._withAdapter(f,Qa,G=>G.releaseLinks(A),void 0,void 0,!0)}registerColorProvider(f,A,G){const re=this._addNewAdapter(new md(this._documents,G),f);return this._proxy.$registerDocumentColorProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDocumentColors(f,A,G){return this._withAdapter(f,md,re=>re.provideColors(C.o.revive(A),G),[],G)}$provideColorPresentations(f,A,G,re){return this._withAdapter(f,md,Oe=>Oe.provideColorPresentations(C.o.revive(A),G,re),void 0,re)}registerFoldingRangeProvider(f,A,G){const re=this._nextHandle(),Oe="function"==typeof G.onDidChangeFoldingRanges?this._nextHandle():void 0;this._adapter.set(re,new Hl(new Gd(this._documents,G),f)),this._proxy.$registerFoldingRangeProvider(re,this._transformDocumentSelector(A),Oe);let Xe=this._createDisposable(re);if(void 0!==Oe){const Mt=G.onDidChangeFoldingRanges(()=>this._proxy.$emitFoldingRangeEvent(Oe));Xe=un.from(Xe,Mt)}return Xe}$provideFoldingRanges(f,A,G,re){return this._withAdapter(f,Gd,Oe=>Oe.provideFoldingRanges(C.o.revive(A),G,re),void 0,re)}registerSelectionRangeProvider(f,A,G){const re=this._addNewAdapter(new Zd(this._documents,G,this._logService),f);return this._proxy.$registerSelectionRangeProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideSelectionRanges(f,A,G,re){return this._withAdapter(f,Zd,Oe=>Oe.provideSelectionRanges(C.o.revive(A),G,re),[],re)}registerCallHierarchyProvider(f,A,G){const re=this._addNewAdapter(new Wl(this._documents,G),f);return this._proxy.$registerCallHierarchyProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$prepareCallHierarchy(f,A,G,re){return this._withAdapter(f,Wl,Oe=>Promise.resolve(Oe.prepareSession(C.o.revive(A),G,re)),void 0,re)}$provideCallHierarchyIncomingCalls(f,A,G,re){return this._withAdapter(f,Wl,Oe=>Oe.provideCallsTo(A,G,re),void 0,re)}$provideCallHierarchyOutgoingCalls(f,A,G,re){return this._withAdapter(f,Wl,Oe=>Oe.provideCallsFrom(A,G,re),void 0,re)}$releaseCallHierarchy(f,A){this._withAdapter(f,Wl,G=>Promise.resolve(G.releaseSession(A)),void 0,void 0)}registerTypeHierarchyProvider(f,A,G){const re=this._addNewAdapter(new Vl(this._documents,G),f);return this._proxy.$registerTypeHierarchyProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$prepareTypeHierarchy(f,A,G,re){return this._withAdapter(f,Vl,Oe=>Promise.resolve(Oe.prepareSession(C.o.revive(A),G,re)),void 0,re)}$provideTypeHierarchySupertypes(f,A,G,re){return this._withAdapter(f,Vl,Oe=>Oe.provideSupertypes(A,G,re),void 0,re)}$provideTypeHierarchySubtypes(f,A,G,re){return this._withAdapter(f,Vl,Oe=>Oe.provideSubtypes(A,G,re),void 0,re)}$releaseTypeHierarchy(f,A){this._withAdapter(f,Vl,G=>Promise.resolve(G.releaseSession(A)),void 0,void 0)}registerDocumentOnDropEditProvider(f,A,G){const re=this._nextHandle();return this._adapter.set(re,new Hl(new Qd(this._proxy,this._documents,G,re),f)),this._proxy.$registerDocumentOnDropEditProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDocumentOnDropEdits(f,A,G,re,Oe,Xe){return this._withAdapter(f,Qd,Mt=>Promise.resolve(Mt.provideDocumentOnDropEdits(A,C.o.revive(G),re,Oe,Xe)),void 0,void 0)}registerDocumentPasteEditProvider(f,A,G,re){const Oe=this._nextHandle();return this._adapter.set(Oe,new Hl(new hd(this._proxy,this._documents,G,Oe),f)),this._proxy.$registerPasteEditProvider(Oe,this._transformDocumentSelector(A),!!G.prepareDocumentPaste,re.pasteMimeTypes),this._createDisposable(Oe)}$prepareDocumentPaste(f,A,G,re,Oe){return this._withAdapter(f,hd,Xe=>Xe.prepareDocumentPaste(C.o.revive(A),G,re,Oe),void 0,Oe)}$providePasteEdits(f,A,G,re,Oe,Xe){return this._withAdapter(f,hd,Mt=>Mt.providePasteEdits(A,C.o.revive(G),re,Oe,Xe),void 0,Xe)}static _serializeRegExp(f){return{pattern:f.source,flags:(0,s.mr)(f)}}static _serializeIndentationRule(f){return{decreaseIndentPattern:ie._serializeRegExp(f.decreaseIndentPattern),increaseIndentPattern:ie._serializeRegExp(f.increaseIndentPattern),indentNextLinePattern:f.indentNextLinePattern?ie._serializeRegExp(f.indentNextLinePattern):void 0,unIndentedLinePattern:f.unIndentedLinePattern?ie._serializeRegExp(f.unIndentedLinePattern):void 0}}static _serializeOnEnterRule(f){return{beforeText:ie._serializeRegExp(f.beforeText),afterText:f.afterText?ie._serializeRegExp(f.afterText):void 0,previousLineText:f.previousLineText?ie._serializeRegExp(f.previousLineText):void 0,action:f.action}}static _serializeOnEnterRules(f){return f.map(ie._serializeOnEnterRule)}setLanguageConfiguration(f,A,G){const{wordPattern:re}=G;if(re&&(0,s.IO)(re))throw new Error(`Invalid language configuration: wordPattern '${re}' is not allowed to match the empty string.`);this._documents.setWordDefinitionFor(A,re||void 0),G.__electricCharacterSupport&&this._apiDeprecation.report("LanguageConfiguration.__electricCharacterSupport",f,"Do not use."),G.__characterPairSupport&&this._apiDeprecation.report("LanguageConfiguration.__characterPairSupport",f,"Do not use.");const Oe=this._nextHandle(),Xe={comments:G.comments,brackets:G.brackets,wordPattern:G.wordPattern?ie._serializeRegExp(G.wordPattern):void 0,indentationRules:G.indentationRules?ie._serializeIndentationRule(G.indentationRules):void 0,onEnterRules:G.onEnterRules?ie._serializeOnEnterRules(G.onEnterRules):void 0,__electricCharacterSupport:G.__electricCharacterSupport,__characterPairSupport:G.__characterPairSupport};return this._proxy.$setLanguageConfiguration(Oe,A,Xe),this._createDisposable(Oe)}$setWordDefinitions(f){for(const A of f)this._documents.setWordDefinitionFor(A.languageId,new RegExp(A.regexSource,A.regexFlags))}}return ie._handlePool=0,ie})();class Yd{constructor(){this.requestIdPool=0,this.dataTransfers=new Map}add(o){const f=this.requestIdPool++;return this.dataTransfers.set(f,[...o.values()]),{id:f,dispose:()=>{this.dataTransfers.delete(f)}}}resolveDropFileData(o,f){var A=this;return(0,d.Z)(function*(){const G=A.dataTransfers.get(o);if(!G)throw new Error("No data transfer found");const re=G[f]?.asFile();if(!re)throw new Error("No file item found in data transfer");return w.KN.wrap(yield re.data())})()}dispose(){this.dataTransfers.clear()}}const zc=new vt.c;var pd;!function(ie){const o=[];ie.register=function f(G){let re=G;return re&&o.push(re),{dispose(){if(re){const Oe=o.indexOf(re);Oe>=0&&(o.splice(Oe,1),re=void 0)}}}},ie.all=function A(){return o.slice(0)}}(pd||(pd={}));const Kc=new vt.c;var os;let _d=os=class extends O.JT{constructor(o,f,A,G){if(super(),this._languageService=f,this._languageConfigurationService=A,this._languageFeaturesService=G,this._registrations=new Map,this._pasteEditProviders=new Map,this._documentOnDropEditProviders=new Map,this._proxy=o.getProxy(ds.ExtHostLanguageFeatures),this._languageService){const re=()=>{const Oe=[];for(const Xe of f.getRegisteredLanguageIds()){const Mt=this._languageConfigurationService.getLanguageConfiguration(Xe).getWordDefinition();Oe.push({languageId:Xe,regexSource:Mt.source,regexFlags:Mt.flags})}this._proxy.$setWordDefinitions(Oe)};this._languageConfigurationService.onDidChange(Oe=>{if(Oe.languageId){const Xe=this._languageConfigurationService.getLanguageConfiguration(Oe.languageId).getWordDefinition();this._proxy.$setWordDefinitions([{languageId:Oe.languageId,regexSource:Xe.source,regexFlags:Xe.flags}])}else re()}),re()}}dispose(){for(const o of this._registrations.values())o.dispose();this._registrations.clear(),super.dispose()}$unregister(o){const f=this._registrations.get(o);f&&(f.dispose(),this._registrations.delete(o))}static _reviveLocationDto(o){return o&&(Array.isArray(o)?(o.forEach(f=>os._reviveLocationDto(f)),o):(o.uri=C.o.revive(o.uri),o))}static _reviveLocationLinkDto(o){return o&&(Array.isArray(o)?(o.forEach(f=>os._reviveLocationLinkDto(f)),o):(o.uri=C.o.revive(o.uri),o))}static _reviveWorkspaceSymbolDto(o){return o&&(Array.isArray(o)?(o.forEach(os._reviveWorkspaceSymbolDto),o):(o.location=os._reviveLocationDto(o.location),o))}static _reviveCodeActionDto(o){return o?.forEach(f=>yr(f.edit)),o}static _reviveLinkDTO(o){return o.url&&"string"!=typeof o.url&&(o.url=C.o.revive(o.url)),o}static _reviveCallHierarchyItemDto(o){return o&&(o.uri=C.o.revive(o.uri)),o}static _reviveTypeHierarchyItemDto(o){return o&&(o.uri=C.o.revive(o.uri)),o}$registerDocumentSymbolProvider(o,f,A){this._registrations.set(o,this._languageFeaturesService.documentSymbolProvider.register(f,{displayName:A,provideDocumentSymbols:(G,re)=>this._proxy.$provideDocumentSymbols(o,G.uri,re)}))}$registerCodeLensSupport(o,f,A){var G=this;const re={provideCodeLenses:(Oe=(0,d.Z)(function*(Xe,Mt){const _n=yield G._proxy.$provideCodeLenses(o,Xe.uri,Mt);if(_n)return{lenses:_n.lenses,dispose:()=>_n.cacheId&&G._proxy.$releaseCodeLenses(o,_n.cacheId)}}),function(Mt,_n){return Oe.apply(this,arguments)}),resolveCodeLens:(Oe,Xe,Mt)=>this._proxy.$resolveCodeLens(o,Xe,Mt)};var Oe;if("number"==typeof A){const Oe=new l.E;this._registrations.set(A,Oe),re.onDidChange=Oe.event}this._registrations.set(o,this._languageFeaturesService.codeLensProvider.register(f,re))}$emitCodeLensEvent(o,f){const A=this._registrations.get(o);A instanceof l.E&&A.fire(f)}$registerDefinitionSupport(o,f){this._registrations.set(o,this._languageFeaturesService.definitionProvider.register(f,{provideDefinition:(A,G,re)=>this._proxy.$provideDefinition(o,A.uri,G,re).then(os._reviveLocationLinkDto)}))}$registerDeclarationSupport(o,f){this._registrations.set(o,this._languageFeaturesService.declarationProvider.register(f,{provideDeclaration:(A,G,re)=>this._proxy.$provideDeclaration(o,A.uri,G,re).then(os._reviveLocationLinkDto)}))}$registerImplementationSupport(o,f){this._registrations.set(o,this._languageFeaturesService.implementationProvider.register(f,{provideImplementation:(A,G,re)=>this._proxy.$provideImplementation(o,A.uri,G,re).then(os._reviveLocationLinkDto)}))}$registerTypeDefinitionSupport(o,f){this._registrations.set(o,this._languageFeaturesService.typeDefinitionProvider.register(f,{provideTypeDefinition:(A,G,re)=>this._proxy.$provideTypeDefinition(o,A.uri,G,re).then(os._reviveLocationLinkDto)}))}$registerHoverProvider(o,f){this._registrations.set(o,this._languageFeaturesService.hoverProvider.register(f,{provideHover:(A,G,re)=>this._proxy.$provideHover(o,A.uri,G,re)}))}$registerEvaluatableExpressionProvider(o,f){this._registrations.set(o,this._languageFeaturesService.evaluatableExpressionProvider.register(f,{provideEvaluatableExpression:(A,G,re)=>this._proxy.$provideEvaluatableExpression(o,A.uri,G,re)}))}$registerInlineValuesProvider(o,f,A){const G={provideInlineValues:(re,Oe,Xe,Mt)=>this._proxy.$provideInlineValues(o,re.uri,Oe,Xe,Mt)};if("number"==typeof A){const re=new l.E;this._registrations.set(A,re),G.onDidChangeInlineValues=re.event}this._registrations.set(o,this._languageFeaturesService.inlineValuesProvider.register(f,G))}$emitInlineValuesEvent(o,f){const A=this._registrations.get(o);A instanceof l.E&&A.fire(f)}$registerDocumentHighlightProvider(o,f){this._registrations.set(o,this._languageFeaturesService.documentHighlightProvider.register(f,{provideDocumentHighlights:(A,G,re)=>this._proxy.$provideDocumentHighlights(o,A.uri,G,re)}))}$registerLinkedEditingRangeProvider(o,f){var G,A=this;this._registrations.set(o,this._languageFeaturesService.linkedEditingRangeProvider.register(f,{provideLinkedEditingRanges:(G=(0,d.Z)(function*(re,Oe,Xe){const Mt=yield A._proxy.$provideLinkedEditingRanges(o,re.uri,Oe,Xe);if(Mt)return{ranges:Mt.ranges,wordPattern:Mt.wordPattern?os._reviveRegExp(Mt.wordPattern):void 0}}),function(Oe,Xe,Mt){return G.apply(this,arguments)})}))}$registerReferenceSupport(o,f){this._registrations.set(o,this._languageFeaturesService.referenceProvider.register(f,{provideReferences:(A,G,re,Oe)=>this._proxy.$provideReferences(o,A.uri,G,re,Oe).then(os._reviveLocationDto)}))}$registerQuickFixSupport(o,f,A,G,re){var Oe=this;const Xe={provideCodeActions:(Mt=(0,d.Z)(function*(_n,Un,ui,Si){const ti=yield Oe._proxy.$provideCodeActions(o,_n.uri,Un,ui,Si);if(ti)return{actions:os._reviveCodeActionDto(ti.actions),dispose:()=>{"number"==typeof ti.cacheId&&Oe._proxy.$releaseCodeActions(o,ti.cacheId)}}}),function(Un,ui,Si,ti){return Mt.apply(this,arguments)}),providedCodeActionKinds:A.providedKinds,documentation:A.documentation,displayName:G};var Mt;re&&(Xe.resolveCodeAction=function(){var Mt=(0,d.Z)(function*(_n,Un){const ui=yield Oe._proxy.$resolveCodeAction(o,_n.cacheId,Un);return _n.edit=yr(ui),_n});return function(_n,Un){return Mt.apply(this,arguments)}}()),this._registrations.set(o,this._languageFeaturesService.codeActionProvider.register(f,Xe))}$registerPasteEditProvider(o,f,A,G){const re=new $c(o,this._proxy,A,G);this._pasteEditProviders.set(o,re),this._registrations.set(o,(0,O.F8)(this._languageFeaturesService.documentPasteEditProvider.register(f,re),(0,O.OF)(()=>this._pasteEditProviders.delete(o))))}$resolvePasteFileData(o,f,A){const G=this._pasteEditProviders.get(o);if(!G)throw new Error("Could not find provider");return G.resolveFileData(f,A)}$registerDocumentFormattingSupport(o,f,A,G){this._registrations.set(o,this._languageFeaturesService.documentFormattingEditProvider.register(f,{extensionId:A,displayName:G,provideDocumentFormattingEdits:(re,Oe,Xe)=>this._proxy.$provideDocumentFormattingEdits(o,re.uri,Oe,Xe)}))}$registerRangeFormattingSupport(o,f,A,G){this._registrations.set(o,this._languageFeaturesService.documentRangeFormattingEditProvider.register(f,{extensionId:A,displayName:G,provideDocumentRangeFormattingEdits:(re,Oe,Xe,Mt)=>this._proxy.$provideDocumentRangeFormattingEdits(o,re.uri,Oe,Xe,Mt)}))}$registerOnTypeFormattingSupport(o,f,A,G){this._registrations.set(o,this._languageFeaturesService.onTypeFormattingEditProvider.register(f,{extensionId:G,autoFormatTriggerCharacters:A,provideOnTypeFormattingEdits:(re,Oe,Xe,Mt,_n)=>this._proxy.$provideOnTypeFormattingEdits(o,re.uri,Oe,Xe,Mt,_n)}))}$registerNavigateTypeSupport(o,f){var A=this;let G;const re={provideWorkspaceSymbols:(Oe=(0,d.Z)(function*(Xe,Mt){const _n=yield A._proxy.$provideWorkspaceSymbols(o,Xe,Mt);return void 0!==G&&A._proxy.$releaseWorkspaceSymbols(o,G),G=_n.cacheId,os._reviveWorkspaceSymbolDto(_n.symbols)}),function(Mt,_n){return Oe.apply(this,arguments)})};var Oe;f&&(re.resolveWorkspaceSymbol=function(){var Oe=(0,d.Z)(function*(Xe,Mt){const _n=yield A._proxy.$resolveWorkspaceSymbol(o,Xe,Mt);return _n&&os._reviveWorkspaceSymbolDto(_n)});return function(Xe,Mt){return Oe.apply(this,arguments)}}()),this._registrations.set(o,pd.register(re))}$registerRenameSupport(o,f,A){this._registrations.set(o,this._languageFeaturesService.renameProvider.register(f,{provideRenameEdits:(G,re,Oe,Xe)=>this._proxy.$provideRenameEdits(o,G.uri,re,Oe,Xe).then(yr),resolveRenameLocation:A?(G,re,Oe)=>this._proxy.$resolveRenameLocation(o,G.uri,re,Oe):void 0}))}$registerDocumentSemanticTokensProvider(o,f,A,G){let re;if("number"==typeof G){const Oe=new l.E;this._registrations.set(G,Oe),re=Oe.event}this._registrations.set(o,this._languageFeaturesService.documentSemanticTokensProvider.register(f,new Zc(this._proxy,o,A,re)))}$emitDocumentSemanticTokensEvent(o){const f=this._registrations.get(o);f instanceof l.E&&f.fire(void 0)}$registerDocumentRangeSemanticTokensProvider(o,f,A){this._registrations.set(o,this._languageFeaturesService.documentRangeSemanticTokensProvider.register(f,new Qc(this._proxy,o,A)))}static _inflateSuggestDto(o,f){const A=f.a;return{label:A,kind:f.b??9,tags:f.n,detail:f.c,documentation:f.d,sortText:f.e,filterText:f.f,preselect:f.g,insertText:f.h??("string"==typeof A?A:A.label),range:f.j??o,insertTextRules:f.i,commitCharacters:f.k,additionalTextEdits:f.l,command:f.m,_id:f.x}}$registerCompletionsProvider(o,f,A,G,re){var Oe=this;const Xe={triggerCharacters:A,_debugDisplayName:re,provideCompletionItems:(Mt=(0,d.Z)(function*(_n,Un,ui,Si){const ti=yield Oe._proxy.$provideCompletionItems(o,_n.uri,Un,ui,Si);return ti&&{suggestions:ti.b.map(mi=>os._inflateSuggestDto(ti.a,mi)),incomplete:ti.c||!1,duration:ti.d,dispose:()=>{"number"==typeof ti.x&&Oe._proxy.$releaseCompletionItems(o,ti.x)}}}),function(Un,ui,Si,ti){return Mt.apply(this,arguments)})};var Mt;G&&(Xe.resolveCompletionItem=(Mt,_n)=>this._proxy.$resolveCompletionItem(o,Mt._id,_n).then(Un=>{if(!Un)return Mt;const ui=os._inflateSuggestDto(Mt.range,Un);return(0,b.jB)(Mt,ui,!0)})),this._registrations.set(o,this._languageFeaturesService.completionProvider.register(f,Xe))}$registerInlineCompletionsSupport(o,f,A){var G=this;const re={provideInlineCompletions:(Oe=(0,d.Z)(function*(Xe,Mt,_n,Un){return G._proxy.$provideInlineCompletions(o,Xe.uri,Mt,_n,Un)}),function(Mt,_n,Un,ui){return Oe.apply(this,arguments)}),handleItemDidShow:function(){var Oe=(0,d.Z)(function*(Xe,Mt){A&&(yield G._proxy.$handleInlineCompletionDidShow(o,Xe.pid,Mt.idx))});return function(Mt,_n){return Oe.apply(this,arguments)}}(),freeInlineCompletions:Oe=>{this._proxy.$freeInlineCompletionsList(o,Oe.pid)}};var Oe;this._registrations.set(o,this._languageFeaturesService.inlineCompletionsProvider.register(f,re))}$registerSignatureHelpProvider(o,f,A){var re,G=this;this._registrations.set(o,this._languageFeaturesService.signatureHelpProvider.register(f,{signatureHelpTriggerCharacters:A.triggerCharacters,signatureHelpRetriggerCharacters:A.retriggerCharacters,provideSignatureHelp:(re=(0,d.Z)(function*(Oe,Xe,Mt,_n){const Un=yield G._proxy.$provideSignatureHelp(o,Oe.uri,Xe,_n,Mt);if(Un)return{value:Un,dispose:()=>{G._proxy.$releaseSignatureHelp(o,Un.id)}}}),function(Xe,Mt,_n,Un){return re.apply(this,arguments)})}))}$registerInlayHintsProvider(o,f,A,G,re){var Oe=this;const Xe={displayName:re,provideInlayHints:(Mt=(0,d.Z)(function*(_n,Un,ui){const Si=yield Oe._proxy.$provideInlayHints(o,_n.uri,Un,ui);if(Si)return{hints:(0,g.w)(Si.hints),dispose:()=>{Si.cacheId&&Oe._proxy.$releaseInlayHints(o,Si.cacheId)}}}),function(Un,ui,Si){return Mt.apply(this,arguments)})};var Mt;if(A&&(Xe.resolveInlayHint=function(){var Mt=(0,d.Z)(function*(_n,Un){const ui=_n;if(!ui.cacheId)return _n;const Si=yield Oe._proxy.$resolveInlayHint(o,ui.cacheId,Un);if(Un.isCancellationRequested)throw new T.FU;return Si?{..._n,tooltip:Si.tooltip,label:(0,g.w)(Si.label)}:_n});return function(_n,Un){return Mt.apply(this,arguments)}}()),"number"==typeof G){const Mt=new l.E;this._registrations.set(G,Mt),Xe.onDidChangeInlayHints=Mt.event}this._registrations.set(o,this._languageFeaturesService.inlayHintsProvider.register(f,Xe))}$emitInlayHintsEvent(o){const f=this._registrations.get(o);f instanceof l.E&&f.fire(void 0)}$registerDocumentLinkProvider(o,f,A){const G={provideLinks:(re,Oe)=>this._proxy.$provideDocumentLinks(o,re.uri,Oe).then(Xe=>{if(Xe)return{links:Xe.links.map(os._reviveLinkDTO),dispose:()=>{"number"==typeof Xe.cacheId&&this._proxy.$releaseDocumentLinks(o,Xe.cacheId)}}})};A&&(G.resolveLink=(re,Oe)=>re.cacheId?this._proxy.$resolveDocumentLink(o,re.cacheId,Oe).then(Mt=>Mt&&os._reviveLinkDTO(Mt)):re),this._registrations.set(o,this._languageFeaturesService.linkProvider.register(f,G))}$registerDocumentColorProvider(o,f){const A=this._proxy;this._registrations.set(o,this._languageFeaturesService.colorProvider.register(f,{provideDocumentColors:(G,re)=>A.$provideDocumentColors(o,G.uri,re).then(Oe=>Oe.map(Xe=>{const[Mt,_n,Un,ui]=Xe.color;return{color:{red:Mt,green:_n,blue:Un,alpha:ui},range:Xe.range}})),provideColorPresentations:(G,re,Oe)=>A.$provideColorPresentations(o,G.uri,{color:[re.color.red,re.color.green,re.color.blue,re.color.alpha],range:re.range},Oe)}))}$registerFoldingRangeProvider(o,f,A){const G={provideFoldingRanges:(re,Oe,Xe)=>this._proxy.$provideFoldingRanges(o,re.uri,Oe,Xe)};if("number"==typeof A){const re=new l.E;this._registrations.set(A,re),G.onDidChange=re.event}this._registrations.set(o,this._languageFeaturesService.foldingRangeProvider.register(f,G))}$emitFoldingRangeEvent(o,f){const A=this._registrations.get(o);A instanceof l.E&&A.fire(f)}$registerSelectionRangeProvider(o,f){this._registrations.set(o,this._languageFeaturesService.selectionRangeProvider.register(f,{provideSelectionRanges:(A,G,re)=>this._proxy.$provideSelectionRanges(o,A.uri,G,re)}))}$registerCallHierarchyProvider(o,f){var G,A=this;this._registrations.set(o,zc.register(f,{prepareCallHierarchy:(G=(0,d.Z)(function*(re,Oe,Xe){const Mt=yield A._proxy.$prepareCallHierarchy(o,re.uri,Oe,Xe);if(Mt&&0!==Mt.length)return{dispose:()=>{for(const _n of Mt)A._proxy.$releaseCallHierarchy(o,_n._sessionId)},roots:Mt.map(os._reviveCallHierarchyItemDto)}}),function(Oe,Xe,Mt){return G.apply(this,arguments)}),provideOutgoingCalls:function(){var G=(0,d.Z)(function*(re,Oe){const Xe=yield A._proxy.$provideCallHierarchyOutgoingCalls(o,re._sessionId,re._itemId,Oe);return Xe&&(Xe.forEach(Mt=>{Mt.to=os._reviveCallHierarchyItemDto(Mt.to)}),Xe)});return function(Oe,Xe){return G.apply(this,arguments)}}(),provideIncomingCalls:function(){var G=(0,d.Z)(function*(re,Oe){const Xe=yield A._proxy.$provideCallHierarchyIncomingCalls(o,re._sessionId,re._itemId,Oe);return Xe&&(Xe.forEach(Mt=>{Mt.from=os._reviveCallHierarchyItemDto(Mt.from)}),Xe)});return function(Oe,Xe){return G.apply(this,arguments)}}()}))}static _reviveRegExp(o){return new RegExp(o.pattern,o.flags)}static _reviveIndentationRule(o){return{decreaseIndentPattern:os._reviveRegExp(o.decreaseIndentPattern),increaseIndentPattern:os._reviveRegExp(o.increaseIndentPattern),indentNextLinePattern:o.indentNextLinePattern?os._reviveRegExp(o.indentNextLinePattern):void 0,unIndentedLinePattern:o.unIndentedLinePattern?os._reviveRegExp(o.unIndentedLinePattern):void 0}}static _reviveOnEnterRule(o){return{beforeText:os._reviveRegExp(o.beforeText),afterText:o.afterText?os._reviveRegExp(o.afterText):void 0,previousLineText:o.previousLineText?os._reviveRegExp(o.previousLineText):void 0,action:o.action}}static _reviveOnEnterRules(o){return o.map(os._reviveOnEnterRule)}$setLanguageConfiguration(o,f,A){const G={comments:A.comments,brackets:A.brackets,wordPattern:A.wordPattern?os._reviveRegExp(A.wordPattern):void 0,indentationRules:A.indentationRules?os._reviveIndentationRule(A.indentationRules):void 0,onEnterRules:A.onEnterRules?os._reviveOnEnterRules(A.onEnterRules):void 0,autoClosingPairs:void 0,surroundingPairs:void 0,__electricCharacterSupport:void 0};A.__characterPairSupport&&(G.autoClosingPairs=A.__characterPairSupport.autoClosingPairs),A.__electricCharacterSupport&&A.__electricCharacterSupport.docComment&&(G.__electricCharacterSupport={docComment:{open:A.__electricCharacterSupport.docComment.open,close:A.__electricCharacterSupport.docComment.close}}),this._languageService.isRegisteredLanguageId(f)&&this._registrations.set(o,this._languageConfigurationService.register(f,G,100))}$registerTypeHierarchyProvider(o,f){var G,A=this;this._registrations.set(o,Kc.register(f,{prepareTypeHierarchy:(G=(0,d.Z)(function*(re,Oe,Xe){const Mt=yield A._proxy.$prepareTypeHierarchy(o,re.uri,Oe,Xe);if(Mt)return{dispose:()=>{for(const _n of Mt)A._proxy.$releaseTypeHierarchy(o,_n._sessionId)},roots:Mt.map(os._reviveTypeHierarchyItemDto)}}),function(Oe,Xe,Mt){return G.apply(this,arguments)}),provideSupertypes:function(){var G=(0,d.Z)(function*(re,Oe){const Xe=yield A._proxy.$provideTypeHierarchySupertypes(o,re._sessionId,re._itemId,Oe);return Xe&&Xe.map(os._reviveTypeHierarchyItemDto)});return function(Oe,Xe){return G.apply(this,arguments)}}(),provideSubtypes:function(){var G=(0,d.Z)(function*(re,Oe){const Xe=yield A._proxy.$provideTypeHierarchySubtypes(o,re._sessionId,re._itemId,Oe);return Xe&&Xe.map(os._reviveTypeHierarchyItemDto)});return function(Oe,Xe){return G.apply(this,arguments)}}()}))}$registerDocumentOnDropEditProvider(o,f){const A=new Gc(o,this._proxy);this._documentOnDropEditProviders.set(o,A),this._registrations.set(o,(0,O.F8)(this._languageFeaturesService.documentOnDropEditProvider.register(f,A),(0,O.OF)(()=>this._documentOnDropEditProviders.delete(o))))}$resolveDocumentOnDropFileData(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documentOnDropEditProviders.get(o);if(!re)throw new Error("Could not find provider");return re.resolveDocumentOnDropFileData(f,A)})()}};_d=os=(0,l._)([bs(Oo.MainThreadLanguageFeatures),(0,l.a)(1,me.O),(0,l.a)(2,mt.c_),(0,l.a)(3,_t.p)],_d);class $c{constructor(o,f,A,G){var re=this;this.handle=o,this._proxy=f,this.dataTransfers=new Yd,this.pasteMimeTypes=G,A&&(this.prepareDocumentPaste=function(){var Oe=(0,d.Z)(function*(Xe,Mt,_n,Un){const ui=yield kr.toDataTransferDTO(_n);if(Un.isCancellationRequested)return;const Si=yield re._proxy.$prepareDocumentPaste(o,Xe.uri,Mt,ui,Un);if(!Si)return;const ti=new $t.Hl;return Si.items.forEach(([mi,Ai])=>{ti.replace(mi,(0,$t.ZO)(Ai.asString))}),ti});return function(Xe,Mt,_n,Un){return Oe.apply(this,arguments)}}())}provideDocumentPasteEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re.dataTransfers.add(A);try{const Xe=yield kr.toDataTransferDTO(A),Mt=yield re._proxy.$providePasteEdits(re.handle,Oe.id,o.uri,f,Xe,G);return Mt?{insertText:Mt.insertText,additionalEdit:Mt.additionalEdit?yr(Mt.additionalEdit):void 0}:void 0}finally{Oe.dispose()}})()}resolveFileData(o,f){return this.dataTransfers.resolveDropFileData(o,f)}}class Gc{constructor(o,f){this.handle=o,this._proxy=f,this.dataTransfers=new Yd}provideDocumentOnDropEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re.dataTransfers.add(A);try{const Xe=yield kr.toDataTransferDTO(A),Mt=yield re._proxy.$provideDocumentOnDropEdits(re.handle,Oe.id,o.uri,f,Xe,G);return Mt?{insertText:Mt.insertText,additionalEdit:yr(Mt.additionalEdit)}:void 0}finally{Oe.dispose()}})()}resolveDocumentOnDropFileData(o,f){return this.dataTransfers.resolveDropFileData(o,f)}}class Zc{constructor(o,f,A,G){this._proxy=o,this._handle=f,this._legend=A,this.onDidChange=G}releaseDocumentSemanticTokens(o){o&&this._proxy.$releaseDocumentSemanticTokens(this._handle,parseInt(o,10))}getLegend(){return this._legend}provideDocumentSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=f?parseInt(f,10):0,Oe=yield G._proxy.$provideDocumentSemanticTokens(G._handle,o.uri,re,A);if(!Oe||A.isCancellationRequested)return null;const Xe=Ot(Oe);return"full"===Xe.type?{resultId:String(Xe.id),data:Xe.data}:{resultId:String(Xe.id),edits:Xe.deltas}})()}}class Qc{constructor(o,f,A){this._proxy=o,this._handle=f,this._legend=A}getLegend(){return this._legend}provideDocumentRangeSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=yield G._proxy.$provideDocumentRangeSemanticTokens(G._handle,o.uri,f,A);if(!re||A.isCancellationRequested)return null;const Oe=Ot(re);if("full"===Oe.type)return{resultId:String(Oe.id),data:Oe.data};throw new Error("Unexpected")})()}}function Ul(ie,o){if(o){const f=o.split(".");let A=ie;for(let G=0;A&&G<f.length;G++)A=A[f[G]];return A}}function Xd(ie){return function Yc(ie){return ie instanceof C.o}(ie)?{resource:ie}:function Xc(ie){return ie&&ie.uri instanceof C.o&&ie.languageId&&"string"==typeof ie.languageId}(ie)?{resource:ie.uri,overrideIdentifier:ie.languageId}:function Jc(ie){return ie&&!ie.uri&&ie.languageId&&"string"==typeof ie.languageId}(ie)?{overrideIdentifier:ie.languageId}:function qc(ie){return ie&&ie.uri instanceof C.o&&(!ie.name||"string"==typeof ie.name)&&(!ie.index||"number"==typeof ie.index)}(ie)?{resource:ie.uri}:null===ie?{resource:null}:void 0}class eu{constructor(o,f,A,G){this._onDidChangeConfiguration=new l.E,this._proxy=o,this._logService=G,this._extHostWorkspace=f,this._configuration=Bt.VK.parse(A),this._configurationScopes=this._toMap(A.configurationScopes)}get onDidChangeConfiguration(){return this._onDidChangeConfiguration&&this._onDidChangeConfiguration.event}$acceptConfigurationChanged(o,f){const A={data:this._configuration.toData(),workspace:this._extHostWorkspace.workspace};this._configuration=Bt.VK.parse(o),this._configurationScopes=this._toMap(o.configurationScopes),this._onDidChangeConfiguration.fire(this._toConfigurationChangeEvent(f,A))}getConfiguration(o,f,A){const G=Xd(f)||{},re=this._toReadonlyValue(o?Ul(this._configuration.getValue(void 0,G,this._extHostWorkspace.workspace),o):this._configuration.getValue(void 0,G,this._extHostWorkspace.workspace));o&&this._validateConfigurationAccess(o,G,A?.identifier);const Xe={has:Mt=>typeof Ul(re,Mt)<"u",get:(Mt,_n)=>{this._validateConfigurationAccess(o?`${o}.${Mt}`:Mt,G,A?.identifier);let Un=Ul(re,Mt);if(typeof Un>"u")Un=_n;else{let ui;const Si=(ti,mi)=>{let Ai;const Fi=()=>{ui=ui||(0,b.I8)(re),Ai=Ai||Ul(ui,mi)};return(0,_.Kn)(ti)?new Proxy(ti,{get:(gs,ws)=>{if("string"==typeof ws&&"tojson"===ws.toLowerCase())return Fi(),()=>Ai;if(ui)return Ai=Ai||Ul(ui,mi),Ai[ws];const ur=gs[ws];return"string"==typeof ws?Si(ur,`${mi}.${ws}`):ur},set:(gs,ws,ur)=>(Fi(),Ai&&(Ai[ws]=ur),!0),deleteProperty:(gs,ws)=>(Fi(),Ai&&delete Ai[ws],!0),defineProperty:(gs,ws,ur)=>(Fi(),Ai&&Object.defineProperty(Ai,ws,ur),!0)}):ti};Un=Si(Un,Mt)}return Un},update:(Mt,_n,Un,ui)=>{Mt=o?`${o}.${Mt}`:Mt;const Si=function Oe(Mt){if(null==Mt)return null;if("boolean"==typeof Mt)return Mt?2:5;switch(Mt){case ks.Global:return 2;case ks.Workspace:return 5;case ks.WorkspaceFolder:return 6}}(Un);return void 0!==_n?this._proxy.$updateConfigurationOption(Si,Mt,_n,G,ui):this._proxy.$removeConfigurationOption(Si,Mt,G,ui)},inspect:Mt=>{const _n=(0,b.I8)(this._configuration.inspect(Mt=o?`${o}.${Mt}`:Mt,G,this._extHostWorkspace.workspace));if(_n)return{key:Mt,defaultValue:_n.policy?.value??_n.default?.value,globalValue:_n.user?.value??_n.application?.value,workspaceValue:_n.workspace?.value,workspaceFolderValue:_n.workspaceFolder?.value,defaultLanguageValue:_n.default?.override,globalLanguageValue:_n.user?.override??_n.application?.override,workspaceLanguageValue:_n.workspace?.override,workspaceFolderLanguageValue:_n.workspaceFolder?.override,languageIds:_n.overrideIdentifiers}}};return"object"==typeof re&&(0,b.jB)(Xe,re,!1),Object.freeze(Xe)}_toReadonlyValue(o){const f=A=>(0,_.Kn)(A)?new Proxy(A,{get:(G,re)=>f(G[re]),set:(G,re,Oe)=>{throw new Error(`TypeError: Cannot assign to read only property '${String(re)}' of object`)},deleteProperty:(G,re)=>{throw new Error(`TypeError: Cannot delete read only property '${String(re)}' of object`)},defineProperty:(G,re)=>{throw new Error(`TypeError: Cannot define property '${String(re)}' for a readonly object`)},setPrototypeOf:G=>{throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:()=>!1,preventExtensions:()=>!0}):A;return f(o)}_validateConfigurationAccess(o,f,A){const G=Ke.eU.test(o)?4:this._configurationScopes.get(o),re=A?`[${A.value}] `:"";4!==G?3!==G||f?.resource&&this._logService.warn(`${re}Accessing a window scoped configuration for a resource is not expected. To associate '${o}' to a resource, define its scope to 'resource' in configuration contributions in 'package.json'.`):typeof f?.resource>"u"&&this._logService.warn(`${re}Accessing a resource scoped configuration without providing a resource is not expected. To get the effective value for '${o}', provide the URI of a resource or 'null' for any resource.`)}_toConfigurationChangeEvent(o,f){const A=new Bt.YX(o,f,this._configuration,this._extHostWorkspace.workspace);return Object.freeze({affectsConfiguration:(G,re)=>A.affectsConfiguration(G,Xd(re))})}_toMap(o){return o.reduce((f,A)=>(f.set(A[0],A[1]),f),new Map)}}let vd=class{constructor(o,f,A,G){this._workspaceContextService=f,this.configurationService=A,this._environmentService=G;const re=o.getProxy(ds.ExtHostConfiguration);re.$initializeConfiguration(this._getConfigurationData()),this._configurationListener=A.onDidChangeConfiguration(Oe=>{re.$acceptConfigurationChanged(this._getConfigurationData(),Oe.change)})}_getConfigurationData(){const o={...this.configurationService.getConfigurationData(),configurationScopes:[]};return(!this._environmentService.isBuilt||this._environmentService.isExtensionDevelopment)&&(o.configurationScopes=function Co(){const ie=[],o=no.getConfigurationProperties();for(const f of Object.keys(o))ie.push([f,o[f].scope]);return ie.push(["launch",4]),ie.push(["task",4]),ie}()),o}dispose(){this._configurationListener.dispose()}$updateConfigurationOption(o,f,A,G,re){return G={resource:G?.resource?C.o.revive(G.resource):void 0,overrideIdentifier:G?.overrideIdentifier},this.writeConfiguration(o,f,A,G,re)}$removeConfigurationOption(o,f,A,G){return A={resource:A?.resource?C.o.revive(A.resource):void 0,overrideIdentifier:A?.overrideIdentifier},this.writeConfiguration(o,f,void 0,A,G)}writeConfiguration(o,f,A,G,re){o=o??this.deriveConfigurationTarget(f,G);const Oe=this.configurationService.inspect(f,G);switch(o){case 8:return this._updateValue(f,A,o,Oe?.memory?.override,G,re);case 6:return this._updateValue(f,A,o,Oe?.workspaceFolder?.override,G,re);case 5:return this._updateValue(f,A,o,Oe?.workspace?.override,G,re);case 4:return this._updateValue(f,A,o,Oe?.userRemote?.override,G,re);default:return this._updateValue(f,A,o,Oe?.userLocal?.override,G,re)}}_updateValue(o,f,A,G,re,Oe){return this.configurationService.updateValue(o,f,re=!0===Oe?re:!1===Oe?{resource:re.resource}:re.overrideIdentifier&&void 0!==G?re:{resource:re.resource},A,!0)}deriveConfigurationTarget(o,f){if(f.resource&&3===this._workspaceContextService.getWorkbenchState()){const A=jt.B.as(Ke.IP.Configuration).getConfigurationProperties();if(A[o]&&(4===A[o].scope||5===A[o].scope))return 6}return 5}};vd=(0,l._)([bs(Oo.MainThreadConfiguration),(0,l.a)(1,we.ec),(0,l.a)(2,ht.Ui),(0,l.a)(3,Pe.Y)],vd);const Uo={identifier:new Dn.k("monaco"),isBuiltin:!0,isUserBuiltin:!0,isUnderDevelopment:!1,extensionLocation:C.o.from({scheme:"extension",path:"/"}),name:"monaco",publisher:"microsoft",version:"1.0.0",engines:{vscode:"1.69.0"},targetPlatform:"web"};class tu{constructor(){this._onMessage=new Pl,this.onMessage=this._onMessage.event}send(o){this._onMessage.fire(o)}}class nu extends X{constructor(){super(...arguments),this.$showMessage=(o,f,A,G)=>{const re={...A,source:void 0};return super.$showMessage(o,f,re,G)}}}let bd,Cd=class{constructor(o,f,A){this._proxy=o.getProxy(Oo.MainThreadConfiguration),this._extHostWorkspace=f,this._logService=A,this._actual=null}getConfigProvider(){return this._actual}$initializeConfiguration(o){this._actual=new eu(this._proxy,this._extHostWorkspace,o,this._logService)}$acceptConfigurationChanged(o,f){this.getConfigProvider().$acceptConfigurationChanged(o,f)}};function fo(){return null==bd&&(bd=function iu(){const ie=yt.IO.get(H.Hy),o=yt.IO.get(M.lT),f=yt.IO.get(xe.S),A=yt.IO.get(Ie.S),G=yt.IO.get(Me.q),re=yt.IO.get(me.O),Oe=yt.IO.get(de.p),Xe=yt.IO.get(Ee.eJ),Mt=yt.IO.get(he.$),_n=yt.IO.get(u.lT),Un=yt.IO.get(le.p),ui=yt.IO.get(S.I),Si=yt.IO.get(S.f),ti=yt.IO.get(S.g),mi=yt.IO.get(S.h),Ai=yt.IO.get(S.i),Fi=yt.IO.get(S.b),gs=yt.IO.get(S.j),ws=yt.IO.get(S.k),ur=yt.IO.get(S.l),Sd=yt.IO.get(oe.R9),hl=yt.IO.get(Ce.b),fl=yt.IO.get(S.c),wl=yt.IO.get(dt.vu),Hr=yt.IO.get(S.n),Qr=yt.IO.get(st.v4),dg=yt.IO.get(S.o),cg=yt.IO.get(mt.c_),ug=yt.IO.get(_t.p),hg=yt.IO.get(ht.Ui),fg=yt.IO.get(we.ec),gg=yt.IO.get(V.I),mg=yt.IO.get(D.TG),pg=new tu,cs=new ia(pg),ec=new Tl,ps={_serviceBrand:void 0,remoteAuthority:null,extensionHostKind:1,getProxy:function(Kl){return cs.getProxy(Kl)},set:function(Kl,Tg){return cs.set(Kl,Tg)},assertRegistered:function(Kl){cs.assertRegistered(Kl)},drain:function(){return cs.drain()},dispose(){cs.dispose()}},_g={_serviceBrand:void 0,version:"1.0.0",parentPid:0,get environment(){return(0,V.u)()},allExtensions:[S.S.get().extension??Uo],myExtensions:[(S.S.get().extension??Uo).identifier],consoleForward:{includeStack:!1,logNative:!1},get telemetryInfo(){return(0,V.u)()},logLevel:P.in.Trace,get logsLocation(){return(0,V.u)()},get logFile(){return(0,V.u)()},autoStart:!1,remote:{isRemote:!1,authority:void 0,connectionData:null},uiKind:Ca.Web},va=new P.$V(new n.C),tc=new Xa(ps,va),vg=new B(ps,va),nc=new dl(null);cs.set(Oo.MainThreadWindow,new Aa(ps,dg,Qr)),cs.set(Oo.MainThreadCommands,new ja(ps,ie,gg));const td=cs.set(ds.ExtHostCommands,new qr(ps,va)),zl=cs.set(ds.ExtHostDocumentsAndEditors,new ai(ps,va)),wd=cs.set(ds.ExtHostDocuments,new ga(ps,zl)),Cg=cs.set(ds.ExtHostLanguages,new ll(ps,wd,td.converter,nc)),bg=cs.set(ds.ExtHostWindow,new yl(ps)),yg=cs.set(ds.ExtHostQuickOpen,function Zr(ie,o,f){const A=ie.getProxy(Oo.MainThreadQuickOpen);let re=(()=>{class Si{constructor(mi,Ai){this._extensionId=mi,this._onDidDispose=Ai,this._id=Un._nextId++,this._visible=!1,this._expectingHide=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!0,this._value="",this._buttons=[],this._handlesToButtons=new Map,this._onDidAcceptEmitter=new l.E,this._onDidChangeValueEmitter=new l.E,this._onDidTriggerButtonEmitter=new l.E,this._onDidHideEmitter=new l.E,this._pendingUpdate={id:this._id},this._disposed=!1,this._disposables=[this._onDidTriggerButtonEmitter,this._onDidHideEmitter,this._onDidAcceptEmitter,this._onDidChangeValueEmitter],this.onDidChangeValue=this._onDidChangeValueEmitter.event,this.onDidAccept=this._onDidAcceptEmitter.event,this.onDidTriggerButton=this._onDidTriggerButtonEmitter.event,this.onDidHide=this._onDidHideEmitter.event}get title(){return this._title}set title(mi){this._title=mi,this.update({title:mi})}get step(){return this._steps}set step(mi){this._steps=mi,this.update({step:mi})}get totalSteps(){return this._totalSteps}set totalSteps(mi){this._totalSteps=mi,this.update({totalSteps:mi})}get enabled(){return this._enabled}set enabled(mi){this._enabled=mi,this.update({enabled:mi})}get busy(){return this._busy}set busy(mi){this._busy=mi,this.update({busy:mi})}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(mi){this._ignoreFocusOut=mi,this.update({ignoreFocusOut:mi})}get value(){return this._value}set value(mi){this._value=mi,this.update({value:mi})}get placeholder(){return this._placeholder}set placeholder(mi){this._placeholder=mi,this.update({placeholder:mi})}get buttons(){return this._buttons}set buttons(mi){this._buttons=mi.slice(),this._handlesToButtons.clear(),mi.forEach((Ai,Fi)=>{this._handlesToButtons.set(Ai===as.Back?-1:Fi,Ai)}),this.update({buttons:mi.map((Ai,Fi)=>({..._n(Ai),tooltip:Ai.tooltip,handle:Ai===as.Back?-1:Fi}))})}show(){this._visible=!0,this._expectingHide=!0,this.update({visible:!0})}hide(){this._visible=!1,this.update({visible:!1})}_fireDidAccept(){this._onDidAcceptEmitter.fire()}_fireDidChangeValue(mi){this._value=mi,this._onDidChangeValueEmitter.fire(mi)}_fireDidTriggerButton(mi){const Ai=this._handlesToButtons.get(mi);Ai&&this._onDidTriggerButtonEmitter.fire(Ai)}_fireDidHide(){this._expectingHide&&(this._expectingHide=this._visible,this._onDidHideEmitter.fire())}dispose(){this._disposed||(this._disposed=!0,this._fireDidHide(),this._disposables=(0,O.B9)(this._disposables),this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this._onDidDispose(),A.$dispose(this._id))}update(mi){if(!this._disposed){for(const Ai of Object.keys(mi)){const Fi=mi[Ai];this._pendingUpdate[Ai]=void 0===Fi?null:Fi}"visible"in this._pendingUpdate?(this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this.dispatchUpdate()):this._visible&&!this._updateTimeout&&(this._updateTimeout=setTimeout(()=>{this._updateTimeout=void 0,this.dispatchUpdate()},0))}}dispatchUpdate(){A.$createOrUpdate(this._pendingUpdate),this._pendingUpdate={id:this._id}}}return Si._nextId=1,Si})();function _n(Si){const ti=function Oe(Si){if(Si instanceof $s)return{id:Si.id};const ti=function Mt(Si){return"object"==typeof Si&&"dark"in Si?Si.dark:Si}(Si),mi=function Xe(Si){return"object"==typeof Si&&"light"in Si?Si.light:Si}(Si);return{dark:"string"==typeof ti?C.o.file(ti):ti,light:"string"==typeof mi?C.o.file(mi):mi}}(Si.iconPath);let mi,Ai;return"id"in ti?Ai=ge.kS.asClassName(ti):mi=ti,{iconPath:mi,iconClass:Ai}}class Un extends re{constructor(ti,mi){super(ti.identifier,mi),this._items=[],this._handlesToItems=new Map,this._itemsToHandles=new Map,this._canSelectMany=!1,this._matchOnDescription=!0,this._matchOnDetail=!0,this._sortByLabel=!0,this._keepScrollPosition=!1,this._activeItems=[],this._onDidChangeActiveEmitter=new l.E,this._selectedItems=[],this._onDidChangeSelectionEmitter=new l.E,this._onDidTriggerItemButtonEmitter=new l.E,this.onDidChangeActive=this._onDidChangeActiveEmitter.event,this.onDidChangeSelection=this._onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this._onDidTriggerItemButtonEmitter.event,this._disposables.push(this._onDidChangeActiveEmitter,this._onDidChangeSelectionEmitter,this._onDidTriggerItemButtonEmitter),this.update({type:"quickPick"})}get items(){return this._items}set items(ti){this._items=ti.slice(),this._handlesToItems.clear(),this._itemsToHandles.clear(),ti.forEach((Ai,Fi)=>{this._handlesToItems.set(Fi,Ai),this._itemsToHandles.set(Ai,Fi)});const mi=[];for(let Ai=0;Ai<ti.length;Ai++){const Fi=ti[Ai];mi.push(Fi.kind===ls.Separator?{type:"separator",label:Fi.label}:{handle:Ai,label:Fi.label,description:Fi.description,detail:Fi.detail,picked:Fi.picked,alwaysShow:Fi.alwaysShow,buttons:Fi.buttons?.map((gs,ws)=>({..._n(gs),tooltip:gs.tooltip,handle:ws}))})}this.update({items:mi})}get canSelectMany(){return this._canSelectMany}set canSelectMany(ti){this._canSelectMany=ti,this.update({canSelectMany:ti})}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(ti){this._matchOnDescription=ti,this.update({matchOnDescription:ti})}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(ti){this._matchOnDetail=ti,this.update({matchOnDetail:ti})}get sortByLabel(){return this._sortByLabel}set sortByLabel(ti){this._sortByLabel=ti,this.update({sortByLabel:ti})}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(ti){this._keepScrollPosition=ti,this.update({keepScrollPosition:ti})}get activeItems(){return this._activeItems}set activeItems(ti){this._activeItems=ti.filter(mi=>this._itemsToHandles.has(mi)),this.update({activeItems:this._activeItems.map(mi=>this._itemsToHandles.get(mi))})}get selectedItems(){return this._selectedItems}set selectedItems(ti){this._selectedItems=ti.filter(mi=>this._itemsToHandles.has(mi)),this.update({selectedItems:this._selectedItems.map(mi=>this._itemsToHandles.get(mi))})}_fireDidChangeActive(ti){const mi=(0,E.kX)(ti.map(Ai=>this._handlesToItems.get(Ai)));this._activeItems=mi,this._onDidChangeActiveEmitter.fire(mi)}_fireDidChangeSelection(ti){const mi=(0,E.kX)(ti.map(Ai=>this._handlesToItems.get(Ai)));this._selectedItems=mi,this._onDidChangeSelectionEmitter.fire(mi)}_fireDidTriggerItemButton(ti,mi){const Ai=this._handlesToItems.get(ti);if(!Ai||!Ai.buttons||!Ai.buttons.length)return;const Fi=Ai.buttons[mi];Fi&&this._onDidTriggerItemButtonEmitter.fire({button:Fi,item:Ai})}}class ui extends re{constructor(ti,mi){super(ti.identifier,mi),this._password=!1,this.update({type:"inputBox"})}get password(){return this._password}set password(ti){this._password=ti,this.update({password:ti})}get prompt(){return this._prompt}set prompt(ti){this._prompt=ti,this.update({prompt:ti})}get validationMessage(){return this._validationMessage}set validationMessage(ti){this._validationMessage=ti,this.update(ti?"string"==typeof ti?{validationMessage:ti,severity:Z.Z.Error}:{validationMessage:ti.message,severity:ti.severity??Z.Z.Error}:{validationMessage:void 0,severity:Z.Z.Ignore})}}return new class G{constructor(ti,mi){this._sessions=new Map,this._instances=0,this._workspace=ti,this._commands=mi}showQuickPick(ti,mi,Ai=U.T.None){this._onDidSelectItem=void 0;const Fi=Promise.resolve(ti),gs=++this._instances,ws=A.$show(gs,{title:mi?.title,placeHolder:mi?.placeHolder,matchOnDescription:mi?.matchOnDescription,matchOnDetail:mi?.matchOnDetail,ignoreFocusLost:mi?.ignoreFocusOut,canPickMany:mi?.canPickMany},Ai),ur={},Sd=ws.then(()=>ur);return Promise.race([Sd,Fi]).then(hl=>{if(hl!==ur)return Fi.then(fl=>{const wl=[];for(let Hr=0;Hr<fl.length;Hr++){const Qr=fl[Hr];wl.push("string"==typeof Qr?{label:Qr,handle:Hr}:Qr.kind===ls.Separator?{type:"separator",label:Qr.label}:{label:Qr.label,description:Qr.description,detail:Qr.detail,picked:Qr.picked,alwaysShow:Qr.alwaysShow,handle:Hr})}return mi&&"function"==typeof mi.onDidSelectItem&&(this._onDidSelectItem=Hr=>{mi.onDidSelectItem(fl[Hr])}),A.$setItems(gs,wl),ws.then(Hr=>"number"==typeof Hr?fl[Hr]:Array.isArray(Hr)?Hr.map(Qr=>fl[Qr]):void 0)})}).then(void 0,hl=>{if(!(0,T.n2)(hl))return A.$setError(gs,hl),Promise.reject(hl)})}$onItemSelected(ti){this._onDidSelectItem?.(ti)}showInput(ti,mi=U.T.None){return this._validateInput=ti?.validateInput,A.$input(ti,"function"==typeof this._validateInput,mi).then(void 0,Ai=>{if(!(0,T.n2)(Ai))return Promise.reject(Ai)})}$validateInput(ti){var mi=this;return(0,d.Z)(function*(){if(!mi._validateInput)return;const Ai=yield mi._validateInput(ti);if(!Ai||"string"==typeof Ai)return Ai;let Fi;switch(Ai.severity){case vs.Info:Fi=Z.Z.Info;break;case vs.Warning:Fi=Z.Z.Warning;break;case vs.Error:Fi=Z.Z.Error;break;default:Fi=Ai.message?Z.Z.Error:Z.Z.Ignore}return{content:Ai.message,severity:Fi}})()}showWorkspaceFolderPick(ti,mi=U.T.None){var Ai=this;return(0,d.Z)(function*(){const Fi=yield Ai._commands.executeCommand("_workbench.pickWorkspaceFolder",[ti]);if(!Fi)return;const gs=yield Ai._workspace.getWorkspaceFolders2();return gs?gs.find(ws=>ws.uri.toString()===Fi.uri.toString()):void 0})()}createQuickPick(ti){const mi=new Un(ti,()=>this._sessions.delete(mi._id));return this._sessions.set(mi._id,mi),mi}createInputBox(ti){const mi=new ui(ti,()=>this._sessions.delete(mi._id));return this._sessions.set(mi._id,mi),mi}$onDidChangeValue(ti,mi){this._sessions.get(ti)?._fireDidChangeValue(mi)}$onDidAccept(ti){const mi=this._sessions.get(ti);mi&&mi._fireDidAccept()}$onDidChangeActive(ti,mi){const Ai=this._sessions.get(ti);Ai instanceof Un&&Ai._fireDidChangeActive(mi)}$onDidChangeSelection(ti,mi){const Ai=this._sessions.get(ti);Ai instanceof Un&&Ai._fireDidChangeSelection(mi)}$onDidTriggerButton(ti,mi){this._sessions.get(ti)?._fireDidTriggerButton(mi)}$onDidTriggerItemButton(ti,mi,Ai){const Fi=this._sessions.get(ti);Fi instanceof Un&&Fi._fireDidTriggerItemButton(mi,Ai)}$onDidHide(ti){const mi=this._sessions.get(ti);mi&&mi._fireDidHide()}}(o,f)}(ps,null,td)),ic=cs.set(ds.ExtHostDiagnostics,new na(ps,va,ec)),Sg=cs.set(ds.ExtHostProgress,new Le(cs.getProxy(Oo.MainThreadProgress))),wg=cs.set(ds.ExtHostDocumentContentProviders,new Zt(ps,zl,va)),Dg=cs.set(ds.ExtHostEditors,new vi(ps,zl)),Eg=new ot(ps),Lg=cs.set(ds.ExtHostLanguageFeatures,new jc(cs,nc,wd,td,ic,va,tc)),oc=cs.set(ds.ExtHostWorkspace,new sl(ps,_g,ec,va)),xg=cs.set(ds.ExtHostConfiguration,new Cd(ps,oc,va));return cs.set(ds.ExtHostTelemetry,new $),cs.set(Oo.MainThreadMessageService,new nu(ps,o,ie,f)),cs.set(Oo.MainThreadDiagnostics,new Ss(ps,_n,Si)),cs.set(Oo.MainThreadQuickOpen,new r(ps,Xe)),cs.set(Oo.MainThreadTelemetry,new bl(ps,hl,gs,fl)),cs.set(Oo.MainThreadProgress,new wt(ps,Sd,ie)),cs.set(Oo.MainThreadDocumentContentProviders,new Nt(ps,A,re,G,Oe)),cs.set(Oo.MainThreadBulkEdits,new kl(ps,wl,va)),cs.set(Oo.MainThreadLanguages,new Fl(ps,re,G,A,Hr)),cs.set(Oo.MainThreadClipboard,new Pa(ps,Un)),cs.set(Oo.MainThreadLanguageFeatures,new _d(ps,re,cg,ug)),cs.set(Oo.MainThreadConfiguration,new vd(ps,fg,hg,gs)),new ys(ps,G,mi,ui,Mt,Ai,A,Fi,ti,gs,ws,Si,Un,ur,mg),{extHostLogService:va,extHostApiDeprecationService:tc,extHostMessageService:vg,extHostDocumentsAndEditors:zl,extHostBulkEdits:new Ol(ps,zl),extHostDocuments:wd,extHostDocumentContentProviders:wg,extHostQuickOpen:yg,extHostProgress:Sg,extHostDiagnostics:ic,extHostEditors:Dg,extHostCommands:td,extHostLanguages:Cg,extHostWindow:bg,extHostClipboard:Eg,extHostLanguageFeatures:Lg,extHostWorkspace:oc,extHostConfiguration:xg}}()),bd}Cd=(0,l._)([(0,l.a)(0,Sr),(0,l.a)(1,rl),(0,l.a)(2,P.VZ)],Cd);var ou=e(38224),su=e(63331),ed=(()=>(function(ie){ie[ie.Initial=1]="Initial",ie[ie.Dynamic=2]="Dynamic"}(ed||(ed={})),ed))();const ru={createDiagnosticCollection(ie){const{extHostDiagnostics:o}=fo(),f=S.S.get().extension??Uo;return o.createDiagnosticCollection(f.identifier,ie)},get onDidChangeDiagnostics(){const{extHostDiagnostics:ie}=fo();return ie.onDidChangeDiagnostics},getDiagnostics:ie=>{const{extHostDiagnostics:o}=fo();return o.getDiagnostics(ie)},getLanguages(){const{extHostLanguages:ie}=fo();return ie.getLanguages()},setTextDocumentLanguage(ie,o){const{extHostLanguages:f}=fo();return f.changeLanguage(ie.uri,o)},match:(ie,o)=>(0,ou.G)(Kr.from(ie),o.uri,o.languageId,!0,void 0,void 0),registerCodeActionsProvider(ie,o,f){const{extHostLanguageFeatures:A}=fo(),G=S.S.get().extension??Uo;return A.registerCodeActionProvider(G,ie,o,f)},registerCodeLensProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerCodeLensProvider(A,ie,o)},registerDefinitionProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerDefinitionProvider(A,ie,o)},registerDeclarationProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerDeclarationProvider(A,ie,o)},registerImplementationProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerImplementationProvider(A,ie,o)},registerTypeDefinitionProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerTypeDefinitionProvider(A,ie,o)},registerHoverProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerHoverProvider(A,ie,o,A.identifier)},registerEvaluatableExpressionProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerEvaluatableExpressionProvider(A,ie,o,A.identifier)},registerInlineValuesProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerInlineValuesProvider(A,ie,o,A.identifier)},registerDocumentHighlightProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerDocumentHighlightProvider(A,ie,o)},registerLinkedEditingRangeProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerLinkedEditingRangeProvider(A,ie,o)},registerReferenceProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerReferenceProvider(A,ie,o)},registerRenameProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerRenameProvider(A,ie,o)},registerDocumentSymbolProvider(ie,o,f){const{extHostLanguageFeatures:A}=fo(),G=S.S.get().extension??Uo;return A.registerDocumentSymbolProvider(G,ie,o,f)},registerWorkspaceSymbolProvider(ie){const{extHostLanguageFeatures:o}=fo(),f=S.S.get().extension??Uo;return o.registerWorkspaceSymbolProvider(f,ie)},registerDocumentFormattingEditProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerDocumentFormattingEditProvider(A,ie,o)},registerDocumentRangeFormattingEditProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerDocumentRangeFormattingEditProvider(A,ie,o)},registerOnTypeFormattingEditProvider(ie,o,f,...A){const{extHostLanguageFeatures:G}=fo(),re=S.S.get().extension??Uo;return G.registerOnTypeFormattingEditProvider(re,ie,o,[f].concat(A))},registerDocumentSemanticTokensProvider(ie,o,f){const{extHostLanguageFeatures:A}=fo(),G=S.S.get().extension??Uo;return A.registerDocumentSemanticTokensProvider(G,ie,o,f)},registerDocumentRangeSemanticTokensProvider(ie,o,f){const{extHostLanguageFeatures:A}=fo(),G=S.S.get().extension??Uo;return A.registerDocumentRangeSemanticTokensProvider(G,ie,o,f)},registerSignatureHelpProvider(ie,o,f,...A){const{extHostLanguageFeatures:G}=fo(),re=S.S.get().extension??Uo;return G.registerSignatureHelpProvider(re,ie,o,"object"==typeof f?f:typeof f>"u"?[]:[f,...A])},registerCompletionItemProvider(ie,o,...f){const{extHostLanguageFeatures:A}=fo(),G=S.S.get().extension??Uo;return A.registerCompletionItemProvider(G,ie,o,f)},registerDocumentLinkProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerDocumentLinkProvider(A,ie,o)},registerColorProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerColorProvider(A,ie,o)},registerFoldingRangeProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerFoldingRangeProvider(A,ie,o)},registerSelectionRangeProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerSelectionRangeProvider(A,ie,o)},registerCallHierarchyProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerCallHierarchyProvider(A,ie,o)},registerTypeHierarchyProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerTypeHierarchyProvider(A,ie,o)},setLanguageConfiguration:(ie,o)=>{const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.setLanguageConfiguration(A,ie,o)},registerInlayHintsProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerInlayHintsProvider(A,ie,o)},createLanguageStatusItem(ie,o){const{extHostLanguages:f}=fo(),A=S.S.get().extension??Uo;return f.createLanguageStatusItem(A,ie,o)},registerInlineCompletionItemProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerInlineCompletionsProvider(A,ie,o)},registerDocumentDropEditProvider(ie,o){const{extHostLanguageFeatures:f}=fo(),A=S.S.get().extension??Uo;return f.registerDocumentOnDropEditProvider(A,ie,o)}},au={registerCommand(ie,o,f){const{extHostCommands:A}=fo();return A.registerCommand(!0,ie,o,f,void 0,S.S.get().extension??Uo)},registerTextEditorCommand(ie,o,f){const{extHostCommands:A,extHostEditors:G,extHostLogService:re}=fo();return A.registerCommand(!0,ie,(...Oe)=>{const Xe=G.getActiveTextEditor();if(null!=Xe)return Xe.edit(Mt=>{o.apply(f,[Xe,Mt,...Oe])}).then(Mt=>{Mt||re.warn("Edits from command "+ie+" were not applied.")},Mt=>{re.warn("An error occurred while running command "+ie,Mt)});re.warn("Cannot execute "+ie+" because there is no active text editor.")},void 0,void 0,S.S.get().extension??Uo)},executeCommand(ie,...o){const{extHostCommands:f}=fo();return f.executeCommand(ie,...o)},getCommands(ie=!1){const{extHostCommands:o}=fo();return o.getCommands(ie)}},Jd={fs:new class lu{constructor(){this.stat=V.u}isWritableFileSystem(){return!1}readDirectory(){return Promise.resolve([])}createDirectory(){return Promise.resolve()}readFile(){return Promise.resolve(new Uint8Array(0))}writeFile(){return Promise.resolve()}delete(){return Promise.resolve()}rename(){return Promise.resolve()}copy(){return Promise.resolve()}},workspaceFile:void 0,createFileSystemWatcher(ie,o,f,A){const{workspace:G}=S.S.get();return null!=G?.createFileSystemWatcher?G.createFileSystemWatcher(ie,o,f,A):{ignoreCreateEvents:o??!1,ignoreChangeEvents:f??!1,ignoreDeleteEvents:A??!1,onDidCreate:F.ju.None,onDidChange:F.ju.None,onDidDelete:F.ju.None,dispose:()=>{}}},applyEdit:function(){var ie=(0,d.Z)(function*(o){const{extHostBulkEdits:f}=fo(),A=S.S.get().extension??Uo;return f.applyWorkspaceEdit(o,A)});return function(f){return ie.apply(this,arguments)}}(),getConfiguration:(ie,o)=>{const{extHostConfiguration:f}=fo();return f.getConfigProvider().getConfiguration(ie,o,S.S.get().extension??Uo)},onDidChangeConfiguration(ie,o,f){const{extHostConfiguration:A}=fo();return A.getConfigProvider().onDidChangeConfiguration(ie,o,f)},get rootPath(){const{workspace:ie}=S.S.get();return ie?.rootPath},get workspaceFolders(){const{workspace:ie}=S.S.get();if(null==ie)return;if("workspaceFolders"in ie)return ie.workspaceFolders;const o=ie.rootPath;if(null==o)return;const f=C.o.file(o);return[{uri:f,index:0,name:f.toString()}]},getWorkspaceFolder(ie){return this.workspaceFolders?.find(o=>ie.path.startsWith(o.uri.path))},get onDidChangeWorkspaceFolders(){const{workspace:ie}=S.S.get();return ie?.onDidChangeWorkspaceFolders??F.ju.None},get textDocuments(){const{extHostDocuments:ie}=fo();return Array.from(ie.getAllDocumentData().map(o=>o.document))},get onDidOpenTextDocument(){const{extHostDocuments:ie}=fo();return ie.onDidAddDocument},get onDidCloseTextDocument(){const{extHostDocuments:ie}=fo();return ie.onDidRemoveDocument},get onDidChangeTextDocument(){const{extHostDocuments:ie}=fo();return ie.onDidChangeDocument},get onWillSaveTextDocument(){const{workspace:ie}=S.S.get();return ie?.onWillSaveTextDocument??F.ju.None},get onDidSaveTextDocument(){const{workspace:ie}=S.S.get();return ie?.onDidSaveTextDocument??F.ju.None},get onWillCreateFiles(){return F.ju.None},get onDidCreateFiles(){return F.ju.None},get onWillDeleteFiles(){return F.ju.None},get onDidDeleteFiles(){return F.ju.None},get onWillRenameFiles(){return F.ju.None},get onDidRenameFiles(){return F.ju.None},get onDidGrantWorkspaceTrust(){return F.ju.None},asRelativePath:V.u,updateWorkspaceFolders(ie,o,...f){const{workspace:A}=S.S.get();return null!=A?.updateWorkspaceFolders&&A.updateWorkspaceFolders(ie,o,...f)},findFiles:V.u,saveAll:V.u,openTextDocument(ie){const{extHostDocuments:o}=fo();let f;const A=ie;if("string"==typeof ie)f=Promise.resolve(C.o.file(ie));else if(C.o.isUri(ie))f=Promise.resolve(ie);else{if(null!=A&&"object"!=typeof A)throw new Error("illegal argument - uriOrFileNameOrOptions");f=o.createDocumentData(A)}return f.then(G=>o.ensureDocumentData(G).then(re=>re.document))},registerTextDocumentContentProvider(ie,o){const{extHostDocumentContentProviders:f}=fo();return f.registerTextDocumentContentProvider(ie,o)},registerTaskProvider:V.u,registerFileSystemProvider:V.u,openNotebookDocument:V.u,registerNotebookSerializer:V.u,notebookDocuments:[],onDidOpenNotebookDocument:V.u,onDidCloseNotebookDocument:V.u,isTrusted:!0,name:void 0,onDidChangeNotebookDocument:V.u,onDidSaveNotebookDocument:V.u};class qd{constructor(o){this.uri=o}}function yd(ie,o){return{label:ie.uri.fsPath,group:o,get isActive(){return ie.isAttachedToEditor()},isDirty:!1,isPinned:!1,isPreview:!1,input:new qd(ie.uri)}}const jl={isActive:!0,activeTab:void 0,viewColumn:Te.One,get tabs(){return yt.IO.get(Me.q).getModels().map(o=>yd(o,jl))}},du={showInformationMessage(ie,...o){const{extHostMessageService:f}=fo();return f.showMessage(S.S.get().extension??Uo,Z.Z.Info,ie,o[0],o.slice(1))},showWarningMessage(ie,...o){const{extHostMessageService:f}=fo();return f.showMessage(S.S.get().extension??Uo,Z.Z.Warning,ie,o[0],o.slice(1))},showErrorMessage(ie,...o){const{extHostMessageService:f}=fo();return f.showMessage(S.S.get().extension??Uo,Z.Z.Error,ie,o[0],o.slice(1))},createOutputChannel(ie){const{window:o}=S.S.get();return o?.createOutputChannel?.call(o,ie)??{name:ie,append:()=>{},appendLine:()=>{},clear:V.u,show:()=>{},hide:V.u,replace:V.u,dispose:()=>{}}},withScmProgress(ie){const{extHostProgress:o}=fo();return o.withProgress(S.S.get().extension??Uo,{location:rr.SourceControl},()=>ie({report(){}}))},withProgress(ie,o){const{extHostProgress:f}=fo();return f.withProgress(S.S.get().extension??Uo,ie,o)},showTextDocument:function(){var ie=(0,d.Z)(function*(o,f,A){const{extHostEditors:G}=fo(),re=yield C.o.isUri(o)?Promise.resolve(Jd.openTextDocument(o)):Promise.resolve(o);return G.showTextDocument(re,f,A)});return function(f,A,G){return ie.apply(this,arguments)}}(),createQuickPick(){const{extHostQuickOpen:ie}=fo();return ie.createQuickPick(S.S.get().extension??Uo)},showQuickPick(ie,o,f){const{extHostQuickOpen:A}=fo();return A.showQuickPick(ie,o,f)},createInputBox(){const{extHostQuickOpen:ie}=fo(),o=S.S.get().extension??Uo;return ie.createInputBox(o)},showInputBox(ie,o){const{extHostQuickOpen:f}=fo();return f.showInput(ie,o)},createTextEditorDecorationType:V.u,showWorkspaceFolderPick:V.u,showOpenDialog:V.u,showSaveDialog:V.u,createWebviewPanel:V.u,setStatusBarMessage:V.u,createStatusBarItem:V.u,createTerminal:V.u,registerTreeDataProvider:V.u,createTreeView:V.u,registerWebviewPanelSerializer:V.u,get activeTextEditor(){const{extHostEditors:ie}=fo();return ie.getActiveTextEditor()},get visibleTextEditors(){const{extHostEditors:ie}=fo();return ie.getVisibleTextEditors()},onDidChangeActiveTextEditor(ie,o,f){const{extHostEditors:A}=fo();return A.onDidChangeActiveTextEditor(ie,o,f)},onDidChangeVisibleTextEditors(ie,o,f){const{extHostEditors:A}=fo();return A.onDidChangeVisibleTextEditors(ie,o,f)},onDidChangeTextEditorSelection(ie,o,f){const{extHostEditors:A}=fo();return A.onDidChangeTextEditorSelection(ie,o,f)},onDidChangeTextEditorVisibleRanges(ie,o,f){const{extHostEditors:A}=fo();return A.onDidChangeTextEditorVisibleRanges(ie,o,f)},onDidChangeTextEditorOptions(ie,o,f){const{extHostEditors:A}=fo();return A.onDidChangeTextEditorOptions(ie,o,f)},onDidChangeTextEditorViewColumn(ie,o,f){const{extHostEditors:A}=fo();return A.onDidChangeTextEditorViewColumn(ie,o,f)},get terminals(){return(0,V.u)()},get activeTerminal(){return(0,V.u)()},onDidChangeActiveTerminal:F.ju.None,onDidOpenTerminal:F.ju.None,onDidCloseTerminal:F.ju.None,get state(){return(0,V.u)()},onDidChangeWindowState:F.ju.None,registerUriHandler:V.u,registerWebviewViewProvider:V.u,registerCustomEditorProvider:V.u,registerTerminalLinkProvider:V.u,get activeColorTheme(){return(0,V.u)()},onDidChangeActiveColorTheme:F.ju.None,registerFileDecorationProvider:V.u,registerTerminalProfileProvider:V.u,onDidChangeTerminalState:F.ju.None,tabGroups:{get all(){return[jl]},activeTabGroup:jl,onDidChangeTabGroups:F.ju.None,onDidChangeTabs(ie){const o=yt.IO.get(Me.q),f=new O.SL;return f.add(o.onModelAdded(A=>{ie({opened:[yd(A,jl)],closed:[],changed:[]})})),f.add(o.onModelRemoved(A=>{ie({opened:[],closed:[yd(A,jl)],changed:[]})})),f},close:V.u},showNotebookDocument:V.u,visibleNotebookEditors:[],onDidChangeVisibleNotebookEditors:F.ju.None,activeNotebookEditor:void 0,onDidChangeActiveNotebookEditor:F.ju.None,onDidChangeNotebookEditorSelection:F.ju.None,onDidChangeNotebookEditorVisibleRanges:F.ju.None},cu={appName:"Monaco",appRoot:"",language:window.navigator.language??"en-US",get uriScheme(){return(0,V.u)()},get clipboard(){const{extHostClipboard:ie}=fo();return ie.value},get machineId(){return(0,V.u)()},get sessionId(){return(0,V.u)()},remoteName:void 0,shell:"",uiKind:Ca.Web,asExternalUri:ie=>(0,d.Z)(function*(){const{extHostWindow:o}=fo();try{return yield o.asExternalUri(ie,{allowTunneling:!1})}catch(f){if((0,st.xn)(ie,z.lg.http)||(0,st.xn)(ie,z.lg.https))return ie;throw f}})(),openExternal:function(){var ie=(0,d.Z)(function*(o,f){const{extHostWindow:A}=fo();return A.openUri(o,{allowTunneling:!1,allowContributedOpeners:f?.allowContributedOpeners})});return function(f,A){return ie.apply(this,arguments)}}(),appHost:"web",isNewAppInstall:!1,isTelemetryEnabled:!1,onDidChangeTelemetryEnabled:F.ju.None},_a=void 0,uu={version:"1.69.0",tasks:_a,notebooks:_a,scm:_a,debug:_a,extensions:_a,comments:_a,authentication:_a,tests:_a,env:cu,commands:au,window:du,workspace:Jd,languages:ru,Breakpoint:fr,CallHierarchyIncomingCall:class Ye{constructor(o,f){this.fromRanges=f,this.from=o}},CallHierarchyItem:je,CallHierarchyOutgoingCall:class at{constructor(o,f){this.fromRanges=f,this.to=o}},CancellationError:T.FU,CancellationTokenSource:S.C,CodeAction:R,CodeActionKind:J,CodeActionTriggerKind:Ft,CodeLens:qt,Color:pi,ColorInformation:Ci,ColorPresentation:Mi,ColorThemeKind:_a,CommentMode:tr,CommentThreadCollapsibleState:dr,CompletionItem:It,CompletionItemKind:fe,CompletionItemTag:it,CompletionList:en,CompletionTriggerKind:ee,ConfigurationTarget:ks,CustomExecution:wr,DebugAdapterExecutable:Gs,DebugAdapterInlineImplementation:lr,DebugAdapterNamedPipeServer:Go,DebugAdapterServer:Ms,DebugConfigurationProviderTriggerKind:ed,DebugConsoleMode:Po,DecorationRangeBehavior:Jn,Diagnostic:bn,DiagnosticRelatedInformation:Qt,DiagnosticSeverity:Pt,DiagnosticTag:ut,Disposable:un,DocumentHighlight:Cn,DocumentHighlightKind:ct,DocumentLink:gi,DocumentSymbol:di,EndOfLine:ft,EnvironmentVariableMutatorType:sn,EvaluatableExpression:zs,InlineValueText:us,InlineValueVariableLookup:gr,InlineValueEvaluatableExpression:er,EventEmitter:l.E,ExtensionKind:hs,ExtensionMode:rn,FileChangeType:jr,FileDecoration:class Ps{constructor(o,f,A){this.badge=o,this.tooltip=f,this.color=A}static validate(o){if(o.badge){let f=(0,s.vH)(o.badge,0);if(f<o.badge.length&&(f+=(0,s.vH)(o.badge,f)),o.badge.length>f)throw new Error("The 'badge'-property must be undefined or a short character")}if(!o.color&&!o.badge&&!o.tooltip)throw new Error("The decoration is empty");return!0}},FileSystemError:Zs,FileType:S.F,FilePermission:S.a,FoldingRange:As,FoldingRangeKind:Gi,FunctionBreakpoint:_r,Hover:Re,IndentAction:su.wU,Location:Ht,MarkdownString:yn,OverviewRulerLane:Ct.sh,ParameterInformation:Tn,Position:Rn,ProcessExecution:sr,ProgressLocation:rr,QuickInputButtons:as,Range:Wn,RelativePattern:Es,Selection:dn,SelectionRange:_e,SemanticTokens:mr,SemanticTokensBuilder:Er,SemanticTokensEdit:Lr,SemanticTokensEdits:lo,SemanticTokensLegend:class nr{constructor(o,f=[]){this.tokenTypes=o,this.tokenModifiers=f}},ShellExecution:_s,ShellQuoting:Qo,SignatureHelp:Kn,SignatureHelpTriggerKind:ni,SignatureInformation:Bn,SnippetString:En,SourceBreakpoint:xs,StatusBarAlignment:rt,SymbolInformation:bi,SymbolKind:Hn,SymbolTag:Ii,Task:Ds,TaskGroup:To,TaskPanelKind:jo,TaskRevealKind:_o,TaskScope:$o,TerminalLink:class Bi{constructor(o,f,A){if(this.startIndex=o,this.length=f,this.tooltip=A,"number"!=typeof o||o<0)throw(0,T.b1)("startIndex");if("number"!=typeof f||f<1)throw(0,T.b1)("length");if(void 0!==A&&"string"!=typeof A)throw(0,T.b1)("tooltip")}},TerminalLocation:$i,TerminalProfile:class zi{constructor(o){if(this.options=o,"object"!=typeof o)throw(0,T.b1)("options")}},TextDocumentSaveReason:cn,TextEdit:tn,TextEditorCursorStyle:ve.d2,TextEditorLineNumbersStyle:Gt,TextEditorRevealType:Ln,TextEditorSelectionChangeKind:In,TextDocumentChangeReason:ei,ThemeColor:Dr,ThemeIcon:$s,TreeItem:Xo,TreeItemCollapsibleState:ar,TypeHierarchyItem:Fo,UIKind:Ca,Uri:C.o,ViewColumn:Te,WorkspaceEdit:Pn,InlayHint:Rt,InlayHintLabelPart:fi,InlayHintKind:hi,NotebookRange:Qs,NotebookCellKind:te,NotebookCellData:Rr,NotebookData:class sa{constructor(o){this.cells=o}},NotebookCellStatusBarAlignment:pe,NotebookCellOutput:An,NotebookCellOutputItem:Ks,NotebookCellStatusBarItem:class Et{constructor(o,f){this.text=o,this.alignment=f}},NotebookControllerAffinity:At,LinkedEditingRanges:class oi{constructor(o,f){this.ranges=o,this.wordPattern=f}},TestRunRequest:Ni,TestMessage:wo,TestTag:ts,TestRunProfileKind:_i,DataTransfer:_a,DataTransferItem:_a,LanguageStatusSeverity:on,QuickPickItemKind:ls,TabInputText:qd,TabInputTextDiff:class Ns{constructor(o,f){this.original=o,this.modified=f}},TabInputCustom:class Ys{constructor(o,f){this.uri=o,this.viewType=f}},TabInputNotebook:class Yr{constructor(o,f){this.uri=o,this.notebookType=f}},TabInputNotebookDiff:class ra{constructor(o,f,A){this.original=o,this.modified=f,this.notebookType=A}},TabInputWebview:class xr{constructor(o){this.viewType=o}},TabInputTerminal:class Wa{constructor(){}},InputBoxValidationSeverity:vs,InlineCompletionList:q,InlineCompletionTriggerKind:vr,InlineCompletionItem:Tt,DocumentDropEdit:hr,NotebookEditorRevealType:We},{version:hu,tasks:fu,notebooks:gu,scm:mu,debug:pu,extensions:_u,comments:vu,authentication:Cu,tests:bu,env:yu,commands:Su,window:wu,workspace:Du,languages:Eu,Breakpoint:Lu,CallHierarchyIncomingCall:xu,CallHierarchyItem:Iu,CallHierarchyOutgoingCall:Tu,CancellationError:Mu,CancellationTokenSource:Au,CodeAction:Pu,CodeActionKind:Nu,CodeActionTriggerKind:Ru,CodeLens:Ou,Color:ku,ColorInformation:Fu,ColorPresentation:Bu,ColorThemeKind:Wu,CommentMode:Vu,CommentThreadCollapsibleState:Hu,CompletionItem:Uu,CompletionItemKind:ju,CompletionItemTag:zu,CompletionList:Ku,CompletionTriggerKind:$u,ConfigurationTarget:Gu,CustomExecution:Zu,DebugAdapterExecutable:Qu,DebugAdapterInlineImplementation:Yu,DebugAdapterNamedPipeServer:Xu,DebugAdapterServer:Ju,DebugConfigurationProviderTriggerKind:qu,DebugConsoleMode:eh,DecorationRangeBehavior:th,Diagnostic:nh,DiagnosticRelatedInformation:ih,DiagnosticSeverity:oh,DiagnosticTag:sh,Disposable:rh,DocumentHighlight:ah,DocumentHighlightKind:lh,DocumentLink:dh,DocumentSymbol:ch,EndOfLine:uh,EnvironmentVariableMutatorType:hh,EvaluatableExpression:fh,InlineValueText:gh,InlineValueVariableLookup:mh,InlineValueEvaluatableExpression:ph,EventEmitter:_h,ExtensionKind:vh,ExtensionMode:Ch,FileChangeType:bh,FileDecoration:yh,FileSystemError:Sh,FileType:wh,FilePermission:Dh,FoldingRange:Eh,FoldingRangeKind:Lh,FunctionBreakpoint:xh,Hover:Ih,IndentAction:Th,Location:Mh,MarkdownString:Ah,OverviewRulerLane:Ph,ParameterInformation:Nh,Position:Rh,ProcessExecution:Oh,ProgressLocation:kh,QuickInputButtons:Fh,Range:Bh,RelativePattern:Wh,Selection:Vh,SelectionRange:Hh,SemanticTokens:Uh,SemanticTokensBuilder:jh,SemanticTokensEdit:zh,SemanticTokensEdits:Kh,SemanticTokensLegend:$h,ShellExecution:Gh,ShellQuoting:Zh,SignatureHelp:Qh,SignatureHelpTriggerKind:Yh,SignatureInformation:Xh,SnippetString:Jh,SourceBreakpoint:qh,StatusBarAlignment:ef,SymbolInformation:tf,SymbolKind:nf,SymbolTag:of,Task:sf,TaskGroup:rf,TaskPanelKind:af,TaskRevealKind:lf,TaskScope:df,TerminalLink:cf,TerminalLocation:uf,TerminalProfile:hf,TextDocumentSaveReason:ff,TextEdit:gf,TextEditorCursorStyle:mf,TextEditorLineNumbersStyle:pf,TextEditorRevealType:_f,TextEditorSelectionChangeKind:vf,TextDocumentChangeReason:Cf,ThemeColor:bf,ThemeIcon:yf,TreeItem:Sf,TreeItemCollapsibleState:wf,TypeHierarchyItem:Df,UIKind:Ef,Uri:Lf,ViewColumn:xf,WorkspaceEdit:If,InlayHint:Tf,InlayHintLabelPart:Mf,InlayHintKind:Af,NotebookRange:Pf,NotebookCellKind:Nf,NotebookCellData:Rf,NotebookData:Of,NotebookCellStatusBarAlignment:kf,NotebookCellOutput:Ff,NotebookCellOutputItem:Bf,NotebookCellStatusBarItem:Wf,NotebookControllerAffinity:Vf,LinkedEditingRanges:Hf,TestRunRequest:Uf,TestMessage:jf,TestTag:zf,TestRunProfileKind:Kf,DataTransfer:$f,DataTransferItem:Gf,LanguageStatusSeverity:Zf,QuickPickItemKind:Qf,TabInputText:Yf,TabInputTextDiff:Xf,TabInputCustom:Jf,TabInputNotebook:qf,TabInputNotebookDiff:eg,TabInputWebview:tg,TabInputTerminal:ng,InputBoxValidationSeverity:ig,InlineCompletionList:og,InlineCompletionTriggerKind:sg,InlineCompletionItem:rg,DocumentDropEdit:ag,NotebookEditorRevealType:lg}=uu},34042:(Dt,Y,e)=>{"use strict";e.d(Y,{B:()=>Se,I:()=>Lt,a:()=>de,b:()=>he,c:()=>ae,i:()=>$e,r:()=>Ne,u:()=>be});var M,d=e(17374),n=e(67044),l=e(4496),S=e(9265),v=e(73879),T=e(3778),C=e(99775),E=e(51915),L=e(37451),c=(e(61699),e(15067),e(32068),e(4259)),t=e(27386),a=e(71664),p=e(80142),u=e(48648),g=e(55197),b=e(59547),y=e(37188),w=e(16468),D=e(8841),x=e(40734),P=e(4125),O=e(7886),H=(e(50819),e(66287)),z=e(58783),k=e(37428),F=e(38980),j=e(47494),K=e(53559),U=e(33745),ne=e(59310),N=e(55538),W=e(46090),Z=e(98463),ge=e(75366);class xe{constructor(Sn){this.confusableDictionary=Sn}static getInstance(Sn){return xe.cache.get(Array.from(Sn))}static getLocales(){return xe._locales.getValue()}isAmbiguous(Sn){return this.confusableDictionary.has(Sn)}getPrimaryConfusable(Sn){return this.confusableDictionary.get(Sn)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}function Ne(Vn,Sn){return new Promise((Gn,ci)=>{const ii=Sn.onCancellationRequested(()=>{ii.dispose(),ci(new P.FU)});Vn.then(Gn,ci).finally(()=>ii.dispose())})}M=xe,xe.ambiguousCharacterData=new t.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),xe.cache=new a.t(Vn=>{function Sn(io){const uo=new Map;for(let go=0;go<io.length;go+=2)uo.set(io[go],io[go+1]);return uo}function ci(io,uo){if(!io)return uo;const go=new Map;for(const[si,Yt]of io)uo.has(si)&&go.set(si,Yt);return go}const ii=M.ambiguousCharacterData.getValue();let no,Ei=Vn.filter(io=>!io.startsWith("_")&&io in ii);0===Ei.length&&(Ei=["_default"]);for(const io of Ei)no=ci(no,Sn(ii[io]));const Co=function Gn(io,uo){const go=new Map(io);for(const[si,Yt]of uo)go.set(si,Yt);return go}(Sn(ii._common),no);return new xe(Co)}),xe._locales=new t.o(()=>Object.keys(xe.ambiguousCharacterData.getValue()).filter(Vn=>!Vn.startsWith("_")));class Se{constructor(){this._isOpen=!1,this._promise=new Promise((Sn,Gn)=>{this._completePromise=Sn})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}class de{constructor(Sn,Gn=(()=>Date.now())){this.interval=Sn,this.nowFn=Gn,this.lastIncrementTime=0,this.value=0}increment(){const Sn=this.nowFn();return Sn-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=Sn,this.value=0),this.value++,this.value}}const ce=(0,S.yh)("policy"),Ct="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",Lt=(0,S.yh)("extensionService");function $e(Vn,Sn){return!!Vn.enabledApiProposals&&Vn.enabledApiProposals.includes(Sn)}function ae(Vn,Sn){if(!$e(Vn,Sn))throw new Error(`Extension '${Vn.identifier.value}' CANNOT use API proposal: ${Sn}.\nIts package.json#enabledApiProposals-property declares: ${Vn.enabledApiProposals?.join(", ")??"[]"} but NOT ${Sn}.\n The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ${Vn.identifier.value}`)}const he=(0,S.yh)("lifecycleService"),le=(0,S.yh)("ILanguageDetectionService"),Q=(0,S.yh)("keyboardLayoutService");class Ce{constructor(Sn){this._OS=Sn}dumpDebugInfo(){return"FallbackKeyboardMapper dispatching on keyCode"}resolveKeybinding(Sn){return[new E.j(Sn,this._OS)]}resolveKeyboardEvent(Sn){const Gn=new L.QC(Sn.ctrlKey,Sn.shiftKey,Sn.altKey,Sn.metaKey,Sn.keyCode);return new E.j(Gn.toChord(),this._OS)}resolveUserBinding(Sn){return E.j.resolveUserBinding(Sn,this._OS)}}const st=(0,l.s)(y.Y),qe=Object.freeze({authSession:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts",badges:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.badges.d.ts",commentsResolvedState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsResolvedState.d.ts",contribEditSessions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts",contribLabelFormatterWorkspaceTooltip:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts",contribMenuBarHome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts",contribMergeEditorToolbar:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorToolbar.d.ts",contribRemoteHelp:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts",contribShareMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts",contribViewSize:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewSize.d.ts",contribViewsRemote:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts",contribViewsWelcome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts",contribWebviewContext:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribWebviewContext.d.ts",customEditorMove:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts",diffCommand:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts",documentFiltersExclusive:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts",documentPaste:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts",editorInsets:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts",extensionRuntime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts",extensionsAny:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts",externalUriOpener:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts",fileSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts",findTextInFiles:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts",fsChunks:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts",idToken:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts",inlineCompletionsAdditions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts",inlineCompletionsNew:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsNew.d.ts",interactiveWindow:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts",ipc:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts",notebookCellExecutionState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts",notebookContentProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookContentProvider.d.ts",notebookControllerKind:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerKind.d.ts",notebookDebugOptions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDebugOptions.d.ts",notebookDeprecated:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts",notebookEditor:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditor.d.ts",notebookEditorEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditorEdit.d.ts",notebookKernelSource:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts",notebookLiveShare:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts",notebookMessaging:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts",notebookMime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts",notebookWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookWorkspaceEdit.d.ts",portsAttributes:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts",quickPickSortByLabel:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts",resolvers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts",scmActionButton:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts",scmSelectedProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts",scmValidation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts",snippetWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.snippetWorkspaceEdit.d.ts",tabInputTextMerge:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts",taskPresentationGroup:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts",telemetry:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts",terminalDataWriteEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts",terminalDimensions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts",terminalExitReason:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExitReason.d.ts",testCoverage:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testCoverage.d.ts",testObserver:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts",textSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts",timeline:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts",tokenInformation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts",treeViewReveal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts",workspaceTrust:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"}),Qe=c.B.as(O.I.JSONContribution);class vt{constructor(Sn,Gn){this.added=Sn,this.removed=Gn}static _toSet(Sn){const Gn=new Set;for(let ci=0,ii=Sn.length;ci<ii;ci++)Gn.add(C.k.toKey(Sn[ci].description.identifier));return Gn}static compute(Sn,Gn){if(!Sn||!Sn.length)return new vt(Gn,[]);if(!Gn||!Gn.length)return new vt([],Sn);const ci=this._toSet(Sn),ii=this._toSet(Gn),Ei=Gn.filter(to=>!ci.has(C.k.toKey(to.description.identifier))),no=Sn.filter(to=>!ii.has(C.k.toKey(to.description.identifier)));return new vt(Ei,no)}}class mt{constructor(Sn,Gn){this.name=Sn,this.defaultExtensionKind=Gn,this._handler=null,this._users=null,this._delta=null}setHandler(Sn){if(null!==this._handler)throw new Error("Handler already set!");this._handler=Sn,this._handle()}acceptUsers(Sn){this._delta=vt.compute(this._users,Sn),this._users=Sn,this._handle()}_handle(){if(null!==this._handler&&null!==this._users&&null!==this._delta)try{this._handler(this._users,this._delta)}catch(Sn){(0,P.dL)(Sn)}}}const _t={type:"string",enum:["ui","workspace"],enumDescriptions:[(0,g.NC)("ui","UI extension kind. In a remote window, such extensions are enabled only when available on the local machine."),(0,g.NC)("workspace","Workspace extension kind. In a remote window, such extensions are enabled only when available on the remote.")]},$t="vscode://schemas/vscode-extensions",Bt={properties:{engines:{type:"object",description:(0,g.NC)("vscode.extension.engines","Engine compatibility."),properties:{vscode:{type:"string",description:(0,g.NC)("vscode.extension.engines.vscode","For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5."),default:"^1.22.0"}}},publisher:{description:(0,g.NC)("vscode.extension.publisher","The publisher of the VS Code extension."),type:"string"},displayName:{description:(0,g.NC)("vscode.extension.displayName","The display name for the extension used in the VS Code gallery."),type:"string"},categories:{description:(0,g.NC)("vscode.extension.categories","The categories used by the VS Code gallery to categorize the extension."),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"]},{type:"string",const:"Languages",deprecationMessage:(0,g.NC)("vscode.extension.category.languages.deprecated","Use 'Programming  Languages' instead")}]}},galleryBanner:{type:"object",description:(0,g.NC)("vscode.extension.galleryBanner","Banner used in the VS Code marketplace."),properties:{color:{description:(0,g.NC)("vscode.extension.galleryBanner.color","The banner color on the VS Code marketplace page header."),type:"string"},theme:{description:(0,g.NC)("vscode.extension.galleryBanner.theme","The color theme for the font used in the banner."),type:"string",enum:["dark","light"]}}},contributes:{description:(0,g.NC)("vscode.extension.contributes","All contributions of the VS Code extension represented by this package."),type:"object",properties:{},default:{}},preview:{type:"boolean",description:(0,g.NC)("vscode.extension.preview","Sets the extension to be flagged as a Preview in the Marketplace.")},enableProposedApi:{type:"boolean",deprecationMessage:(0,g.NC)("vscode.extension.enableProposedApi.deprecated","Use `enabledApiProposals` instead.")},enabledApiProposals:{markdownDescription:(0,g.NC)("vscode.extension.enabledApiProposals","Enable API proposals to try them out. Only valid **during development**. Extensions **cannot be published** with this property. For more details visit: https://code.visualstudio.com/api/advanced-topics/using-proposed-api"),type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(qe),markdownEnumDescriptions:Object.values(qe)}},activationEvents:{description:(0,g.NC)("vscode.extension.activationEvents","Activation events for the VS Code extension."),type:"array",items:{type:"string",defaultSnippets:[{label:"onWebviewPanel",description:(0,g.NC)("vscode.extension.activationEvents.onWebviewPanel","An activation event emmited when a webview is loaded of a certain viewType"),body:"onWebviewPanel:viewType"},{label:"onLanguage",description:(0,g.NC)("vscode.extension.activationEvents.onLanguage","An activation event emitted whenever a file that resolves to the specified language gets opened."),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:(0,g.NC)("vscode.extension.activationEvents.onCommand","An activation event emitted whenever the specified command gets invoked."),body:"onCommand:${2:commandId}"},{label:"onDebug",description:(0,g.NC)("vscode.extension.activationEvents.onDebug","An activation event emitted whenever a user is about to start debugging or about to setup debug configurations."),body:"onDebug"},{label:"onDebugInitialConfigurations",description:(0,g.NC)("vscode.extension.activationEvents.onDebugInitialConfigurations",'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).'),body:"onDebugInitialConfigurations"},{label:"onDebugDynamicConfigurations",description:(0,g.NC)("vscode.extension.activationEvents.onDebugDynamicConfigurations",'An activation event emitted whenever a list of all debug configurations needs to be created (and all provideDebugConfigurations methods for the "dynamic" scope need to be called).'),body:"onDebugDynamicConfigurations"},{label:"onDebugResolve",description:(0,g.NC)("vscode.extension.activationEvents.onDebugResolve","An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called)."),body:"onDebugResolve:${6:type}"},{label:"onDebugAdapterProtocolTracker",description:(0,g.NC)("vscode.extension.activationEvents.onDebugAdapterProtocolTracker","An activation event emitted whenever a debug session with the specific type is about to be launched and a debug protocol tracker might be needed."),body:"onDebugAdapterProtocolTracker:${6:type}"},{label:"workspaceContains",description:(0,g.NC)("vscode.extension.activationEvents.workspaceContains","An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern."),body:"workspaceContains:${4:filePattern}"},{label:"onStartupFinished",description:(0,g.NC)("vscode.extension.activationEvents.onStartupFinished","An activation event emitted after the start-up finished (after all `*` activated extensions have finished activating)."),body:"onStartupFinished"},{label:"onTaskType",description:(0,g.NC)("vscode.extension.activationEvents.onTaskType","An activation event emitted whenever tasks of a certain type need to be listed or resolved."),body:"onTaskType:${1:taskType}"},{label:"onFileSystem",description:(0,g.NC)("vscode.extension.activationEvents.onFileSystem","An activation event emitted whenever a file or folder is accessed with the given scheme."),body:"onFileSystem:${1:scheme}"},{label:"onSearch",description:(0,g.NC)("vscode.extension.activationEvents.onSearch","An activation event emitted whenever a search is started in the folder with the given scheme."),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:(0,g.NC)("vscode.extension.activationEvents.onView","An activation event emitted whenever the specified view is expanded.")},{label:"onIdentity",body:"onIdentity:${8:identity}",description:(0,g.NC)("vscode.extension.activationEvents.onIdentity","An activation event emitted whenever the specified user identity.")},{label:"onUri",body:"onUri",description:(0,g.NC)("vscode.extension.activationEvents.onUri","An activation event emitted whenever a system-wide Uri directed towards this extension is open.")},{label:"onOpenExternalUri",body:"onOpenExternalUri",description:(0,g.NC)("vscode.extension.activationEvents.onOpenExternalUri","An activation event emitted whenever a external uri (such as an http or https link) is being opened.")},{label:"onCustomEditor",body:"onCustomEditor:${9:viewType}",description:(0,g.NC)("vscode.extension.activationEvents.onCustomEditor","An activation event emitted whenever the specified custom editor becomes visible.")},{label:"onNotebook",body:"onNotebook:${1:type}",description:(0,g.NC)("vscode.extension.activationEvents.onNotebook","An activation event emitted whenever the specified notebook document is opened.")},{label:"onAuthenticationRequest",body:"onAuthenticationRequest:${11:authenticationProviderId}",description:(0,g.NC)("vscode.extension.activationEvents.onAuthenticationRequest","An activation event emitted whenever sessions are requested from the specified authentication provider.")},{label:"onRenderer",description:(0,g.NC)("vscode.extension.activationEvents.onRenderer","An activation event emitted whenever a notebook output renderer is used."),body:"onRenderer:${11:rendererId}"},{label:"onTerminalProfile",body:"onTerminalProfile:${1:terminalId}",description:(0,g.NC)("vscode.extension.activationEvents.onTerminalProfile","An activation event emitted when a specific terminal profile is launched.")},{label:"onWalkthrough",body:"onWalkthrough:${1:walkthroughID}",description:(0,g.NC)("vscode.extension.activationEvents.onWalkthrough","An activation event emitted when a specified walkthrough is opened.")},{label:"*",description:(0,g.NC)("vscode.extension.activationEvents.star","An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case."),body:"*"}]}},badges:{type:"array",description:(0,g.NC)("vscode.extension.badges","Array of badges to display in the sidebar of the Marketplace's extension page."),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:(0,g.NC)("vscode.extension.badges.url","Badge image URL.")},href:{type:"string",description:(0,g.NC)("vscode.extension.badges.href","Badge link.")},description:{type:"string",description:(0,g.NC)("vscode.extension.badges.description","Badge description.")}}}},markdown:{type:"string",description:(0,g.NC)("vscode.extension.markdown","Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard."),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:(0,g.NC)("vscode.extension.qna","Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether."),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:(0,g.NC)("vscode.extension.extensionDependencies","Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:Ct}},extensionPack:{description:(0,g.NC)("vscode.extension.contributes.extensionPack","A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:Ct}},extensionKind:{description:(0,g.NC)("extensionKind","Define the kind of an extension. `ui` extensions are installed and run on the local machine while `workspace` extensions run on the remote."),type:"array",items:_t,default:["workspace"],defaultSnippets:[{body:["ui"],description:(0,g.NC)("extensionKind.ui","Define an extension which can run only on the local machine when connected to remote window.")},{body:["workspace"],description:(0,g.NC)("extensionKind.workspace","Define an extension which can run only on the remote machine when connected remote window.")},{body:["ui","workspace"],description:(0,g.NC)("extensionKind.ui-workspace","Define an extension which can run on either side, with a preference towards running on the local machine.")},{body:["workspace","ui"],description:(0,g.NC)("extensionKind.workspace-ui","Define an extension which can run on either side, with a preference towards running on the remote machine.")},{body:[],description:(0,g.NC)("extensionKind.empty","Define an extension which cannot run in a remote context, neither on the local, nor on the remote machine.")}]},capabilities:{description:(0,g.NC)("vscode.extension.capabilities","Declare the set of supported capabilities by the extension."),type:"object",properties:{virtualWorkspaces:{description:(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces","Declares whether the extension should be enabled in virtual workspaces. A virtual workspace is a workspace which is not backed by any on-disk resources. When false, this extension will be automatically disabled in virtual workspaces. Default is true."),type:["boolean","object"],defaultSnippets:[{label:"limited",body:{supported:"${1:limited}",description:"${2}"}},{label:"false",body:{supported:!1,description:"${2}"}}],default:(!0).valueOf,properties:{supported:{markdownDescription:(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported","Declares the level of support for virtual workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.limited","The extension will be enabled in virtual workspaces with some functionality disabled."),(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.true","The extension will be enabled in virtual workspaces with all functionality enabled."),(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.false","The extension will not be enabled in virtual workspaces.")]},description:{type:"string",markdownDescription:(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.description","A description of how virtual workspaces affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}},untrustedWorkspaces:{description:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces","Declares how the extension should be handled in untrusted workspaces."),type:"object",required:["supported"],defaultSnippets:[{body:{supported:"${1:limited}",description:"${2}"}}],properties:{supported:{markdownDescription:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported","Declares the level of support for untrusted workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.limited","The extension will be enabled in untrusted workspaces with some functionality disabled."),(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.true","The extension will be enabled in untrusted workspaces with all functionality enabled."),(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.false","The extension will not be enabled in untrusted workspaces.")]},restrictedConfigurations:{description:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.restrictedConfigurations","A list of configuration keys contributed by the extension that should not use workspace values in untrusted workspaces."),type:"array",items:{type:"string"}},description:{type:"string",markdownDescription:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.description","A description of how workspace trust affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}}}},sponsor:{description:(0,g.NC)("vscode.extension.contributes.sponsor","Specify the location from where users can sponsor your extension."),type:"object",defaultSnippets:[{body:{url:"${1:https:}"}}],properties:{url:{description:(0,g.NC)("vscode.extension.contributes.sponsor.url","URL from where users can sponsor your extension. It must be a valid URL with a HTTP or HTTPS protocol. Example value: https://github.com/sponsors/nvaccess"),type:"string"}}},scripts:{type:"object",properties:{"vscode:prepublish":{description:(0,g.NC)("vscode.extension.scripts.prepublish","Script executed before the package is published as a VS Code extension."),type:"string"},"vscode:uninstall":{description:(0,g.NC)("vscode.extension.scripts.uninstall","Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported."),type:"string"}}},icon:{type:"string",description:(0,g.NC)("vscode.extension.icon","The path to a 128x128 pixel icon.")}}};c.B.add("ExtensionsRegistry",new class Ke{constructor(){this._extensionPoints=new Map}registerExtensionPoint(Sn){if(this._extensionPoints.has(Sn.extensionPoint))throw new Error("Duplicate extension point: "+Sn.extensionPoint);const Gn=new mt(Sn.extensionPoint,Sn.defaultExtensionKind);return this._extensionPoints.set(Sn.extensionPoint,Gn),Bt.properties.contributes.properties[Sn.extensionPoint]=Sn.jsonSchema,Qe.registerSchema($t,Bt),Gn}getExtensionPoints(){return Array.from(this._extensionPoints.values())}}),c.B.as("ExtensionsRegistry"),Qe.registerSchema($t,Bt),Qe.registerSchema(l.p,{properties:{extensionEnabledApiProposals:{description:(0,g.NC)("product.extensionEnabledApiProposals","API proposals that the respective extensions can freely use."),type:"object",properties:{},additionalProperties:{anyOf:[{type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(qe),markdownEnumDescriptions:Object.values(qe)}}]}}}}),(0,H.q5)("settings-sync-view-icon",z.lA.sync,(0,g.NC)("syncViewIcon","View icon of the Settings Sync view."));const fn=(0,S.yh)("IUserDataInitializationService"),Dn=(0,S.yh)("hostColorSchemeService"),He=(0,S.yh)("preferencesService"),ye=(0,S.yh)("textMateService"),Ae=(0,S.yh)("IUserDataProfileService");w.Ao.and(F.j_.notEqualsTo("stable"),w.SI.create(`config.${l.P}`));let ue=class extends p.JT{constructor(Sn,Gn){super(),this._onDidChangeCurrentProfile=this._register(new n.E),this.onDidChangeCurrentProfile=this._onDidChangeCurrentProfile.event,this._onDidUpdateCurrentProfile=this._register(new n.E),this.onDidUpdateCurrentProfile=this._onDidUpdateCurrentProfile.event,this._currentProfile=Sn,this._register(Gn.onDidChangeProfiles(ci=>{if(this._currentProfile.isDefault)return void(this._currentProfile=Gn.defaultProfile);const ii=ci.updated.find(Ei=>this._currentProfile.id===Ei.id);ii&&(this._currentProfile=ii,this._onDidUpdateCurrentProfile.fire())}))}get currentProfile(){return this._currentProfile}updateCurrentProfile(Sn,Gn){var ci=this;return(0,d.Z)(function*(){if(ci._currentProfile.id===Sn.id)return;const ii=ci._currentProfile;ci._currentProfile=Sn;const Ei=[];ci._onDidChangeCurrentProfile.fire({preserveData:Gn,previous:ii,profile:Sn,join(no){Ei.push(no)}}),yield u.jT.settled(Ei)})()}};function be(){throw new Error("unsupported")}ue=(0,n._)([(0,n.a)(1,l.q)],ue),(0,j.z)(l.I,class{constructor(){this._serviceBrand=void 0,this.onDidActiveEditorChange=T.ju.None,this.onDidVisibleEditorsChange=T.ju.None,this.onDidEditorsChange=T.ju.None,this.onDidCloseEditor=T.ju.None,this.activeEditorPane=void 0,this.activeEditor=void 0,this.activeTextEditorLanguageId=void 0,this.visibleEditorPanes=[],this.visibleEditors=[],this.visibleTextEditorControls=[],this.editors=[],this.count=0,this.getEditors=()=>[],this.openEditor=be,this.openEditors=be,this.replaceEditors=(0,d.Z)(function*(){}),this.isOpened=()=>!1,this.isVisible=()=>!1,this.closeEditor=(0,d.Z)(function*(){}),this.closeEditors=(0,d.Z)(function*(){}),this.findEditors=()=>[],this.save=(0,d.Z)(function*(){return!1}),this.saveAll=(0,d.Z)(function*(){return!1}),this.revert=(0,d.Z)(function*(){return!1}),this.revertAll=(0,d.Z)(function*(){return!1})}get activeTextEditorControl(){return K.IO.get(U.$).getFocusedCodeEditor()??void 0}}),(0,j.z)(l.g,class{constructor(){this._serviceBrand=void 0,this.onDidPaneCompositeOpen=T.ju.None,this.onDidPaneCompositeClose=T.ju.None,this.openPaneComposite=be,this.getActivePaneComposite=()=>{},this.getPaneComposite=()=>{},this.getPaneComposites=()=>[],this.getPinnedPaneCompositeIds=()=>[],this.getVisiblePaneCompositeIds=()=>[],this.getProgressIndicator=()=>{},this.hideActivePaneComposite=()=>{},this.getLastActivePaneCompositeId=be,this.showActivity=be}}),(0,j.z)(l.f,class{constructor(){this._serviceBrand=void 0,this.extUri=new x.U9(()=>!1)}asCanonicalUri(Sn){return Sn}});const Je=new n.E;class Fe{constructor(){this.onDidCreate=T.ju.None,this.onDidResolve=T.ju.None,this.onDidChangeDirty=T.ju.None,this.onDidChangeReadonly=T.ju.None,this.onDidRemove=T.ju.None,this.onDidChangeOrphaned=T.ju.None,this.onDidChangeEncoding=T.ju.None,this.onDidSaveError=T.ju.None,this.onDidSave=Je.event,this.onDidRevert=T.ju.None,this.models=[],this.saveErrorHandler={onSaveError:be},this.get=()=>{},this.resolve=be,this.addSaveParticipant=be,this.runSaveParticipants=be}canDispose(){return!0}}(0,j.z)(l.h,class{constructor(){this._serviceBrand=void 0,this.files=new Fe,this.isDirty=()=>!1,this.save=be,this.saveAs=be,this.revert=be,this.read=be,this.readStream=be,this.write=be,this.create=be,this.getEncodedReadable=be,this.getDecodedStream=be}get untitled(){return be()}get encoding(){return be()}dispose(){}}),(0,j.z)(l.i,class{constructor(){this._serviceBrand=void 0,this.onDidChangeFileSystemProviderRegistrations=T.ju.None,this.onDidChangeFileSystemProviderCapabilities=T.ju.None,this.onWillActivateFileSystemProvider=T.ju.None,this.registerProvider=be,this.getProvider=function(){},this.activateProvider=(0,d.Z)(function*(){}),this.canHandleResource=(0,d.Z)(function*(){return!1}),this.hasProvider=()=>!1,this.hasCapability=()=>!1,this.listCapabilities=()=>[],this.onDidFilesChange=T.ju.None,this.onDidRunOperation=T.ju.None,this.resolve=be,this.resolveAll=be,this.stat=be,this.exists=(0,d.Z)(function*(){return!1}),this.readFile=be,this.readFileStream=be,this.writeFile=be,this.move=be,this.canMove=be,this.copy=be,this.canCopy=be,this.cloneFile=be,this.createFile=be,this.canCreateFile=be,this.createFolder=be,this.del=be,this.canDelete=be,this.onDidWatchError=T.ju.None,this.watch=be}dispose(){}});class nt{constructor(){this.onDidModelChange=T.ju.None,this.onWillDispose=T.ju.None,this.onDidActiveEditorChange=T.ju.None,this.onWillCloseEditor=T.ju.None,this.onDidCloseEditor=T.ju.None,this.onWillMoveEditor=T.ju.None,this.onWillOpenEditor=T.ju.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=be,this.findEditors=be,this.getEditorByIndex=be,this.getIndexOfEditor=be,this.openEditor=be,this.openEditors=be,this.isPinned=be,this.isSticky=be,this.isActive=be,this.contains=be,this.moveEditor=be,this.moveEditors=be,this.copyEditor=be,this.copyEditors=be,this.closeEditor=be,this.closeEditors=be,this.closeAllEditors=be,this.replaceEditors=be,this.pinEditor=be,this.stickEditor=be,this.unstickEditor=be,this.lock=be,this.isFirst=()=>!0,this.isLast=()=>!0}get scopedContextKeyService(){return K.IO.get(w.i6)}focus(){}}(0,j.z)(l.b,class{constructor(){this._serviceBrand=void 0,this.onDidChangeActiveGroup=T.ju.None,this.onDidAddGroup=T.ju.None,this.onDidRemoveGroup=T.ju.None,this.onDidMoveGroup=T.ju.None,this.onDidActivateGroup=T.ju.None,this.onDidLayout=T.ju.None,this.onDidScroll=T.ju.None,this.onDidChangeGroupIndex=T.ju.None,this.onDidChangeGroupLocked=T.ju.None,this.activeGroup=new nt,this.groups=[],this.count=0,this.orientation=0,this.isReady=!1,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.getGroups=()=>[],this.getGroup=()=>{},this.activateGroup=be,this.getSize=be,this.setSize=be,this.arrangeGroups=be,this.applyLayout=be,this.centerLayout=be,this.isLayoutCentered=()=>!1,this.setGroupOrientation=be,this.findGroup=()=>{},this.addGroup=be,this.removeGroup=be,this.moveGroup=be,this.mergeGroup=be,this.mergeAllGroups=be,this.copyGroup=be,this.onDidChangeEditorPartOptions=T.ju.None,this.enforcePartOptions=be}get contentDimension(){return be()}get sideGroup(){return be()}get partOptions(){return be()}});class bt{constructor(){this._serviceBrand=void 0,this.skipReleaseNotes=!0,this.skipWelcome=!0,this.disableWorkspaceTrust=!0,this.debugRenderer=!1,this.sync=void 0,this.isExtensionDevelopment=!1,this.disableExtensions=!1,this.logsPath="",this.verbose=!1,this.isBuilt=!0,this.disableTelemetry=!1}get logFile(){return be()}get extHostLogsPath(){return be()}get webviewExternalEndpoint(){return be()}get userRoamingDataHome(){return be()}get keyboardLayoutResource(){return be()}get argvResource(){return be()}get snippetsHome(){return b.o.from({scheme:"user",path:"/snippets"})}get untitledWorkspacesHome(){return be()}get globalStorageHome(){return be()}get workspaceStorageHome(){return be()}get localHistoryHome(){return be()}get cacheHome(){return be()}get userDataSyncHome(){return be()}get userDataSyncLogResource(){return be()}get debugExtensionHost(){return be()}get telemetryLogResource(){return be()}get serviceMachineIdResource(){return be()}get stateResource(){return be()}get editSessionsLogResource(){return be()}}(0,j.z)(l.j,bt),(0,j.z)(y.Y,bt),(0,j.z)(st,bt),(0,j.z)(l.k,class{constructor(){this._serviceBrand=void 0,this.onWillRunWorkingCopyFileOperation=T.ju.None,this.onDidFailWorkingCopyFileOperation=T.ju.None,this.onDidRunWorkingCopyFileOperation=T.ju.None,this.addFileOperationParticipant=be,this.hasSaveParticipants=!1,this.addSaveParticipant=be,this.runSaveParticipants=be,this.create=be,this.createFolder=be,this.move=be,this.copy=be,this.delete=be,this.registerWorkingCopyProvider=be,this.getDirty=be}}),(0,j.z)(l.l,class{constructor(){this._serviceBrand=void 0,this.defaultUriScheme=ne.lg.file,this.userHome=be,this.hasValidBasename=be,this.resolvedUserHome=void 0}get path(){return be()}fileURI(Sn){return(0,d.Z)(function*(){return b.o.file(Sn)})()}}),(0,j.z)(N.R9,class{constructor(){this._serviceBrand=void 0}withProgress(Sn,Gn,ci){const{window:ii}=l.S.get();return null!=ii?.withProgress?ii.withProgress(Sn,Gn,ci):Gn({report:()=>{}})}}),(0,j.z)(l.c,class{constructor(){this._serviceBrand=void 0,this.version="1.69.0",this.nameShort="Code - OSS Dev",this.nameLong="Code - OSS Dev",this.applicationName="code-oss",this.dataFolderName=".vscode-oss",this.urlProtocol="code-oss",this.reportIssueUrl="https://github.com/microsoft/vscode/issues/new",this.licenseName="MIT",this.licenseUrl="https://github.com/microsoft/vscode/blob/main/LICENSE.txt",this.serverApplicationName="code-server-oss"}}),(0,j.z)(l.n,class{constructor(){this._provider=new W.c,this.onDidChange=this._provider.onDidChange}addStatus(Sn){return this._provider.register(Sn.selector,Sn)}getLanguageStatus(Sn){return this._provider.ordered(Sn).sort((Gn,ci)=>{let ii=ci.severity-Gn.severity;return 0===ii&&(ii=(0,v.qu)(Gn.source,ci.source)),0===ii&&(ii=(0,v.qu)(Gn.id,ci.id)),ii})}});const Ut=(0,Z.go)(window),vn=new ge.Y(window.document,"visibilitychange"),Mn=T.ju.latch(T.ju.any(T.ju.map(Ut.onDidFocus,()=>document.hasFocus()),T.ju.map(Ut.onDidBlur,()=>document.hasFocus()),T.ju.map(vn.event,()=>document.hasFocus())));(0,j.z)(l.o,class{constructor(){this.onDidChangeFocus=Mn,this.openWindow=be,this.restart=be,this.reload=be,this.close=be}get hasFocus(){return document.hasFocus()}hadLastFocus(){return(0,d.Z)(function*(){return!0})()}focus(){return(0,d.Z)(function*(){window.focus()})()}toggleFullScreen(){return(0,d.Z)(function*(){document.fullscreenEnabled?yield document.body.requestFullscreen():yield document.exitFullscreen()})()}}),(0,j.z)(he,class{constructor(){this.startupKind=1,this.phase=2,this.onBeforeShutdown=T.ju.None,this.onShutdownVeto=T.ju.None,this.onBeforeShutdownError=T.ju.None,this.onWillShutdown=T.ju.None,this.onDidShutdown=T.ju.None,this.shutdown=be}when(){return(0,d.Z)(function*(){})()}}),(0,j.z)(le,class{isEnabledForLanguage(){return!1}detectLanguage(){return(0,d.Z)(function*(){})()}}),(0,j.z)(Lt,class ve{constructor(){this.onDidRegisterExtensions=T.ju.None,this.onDidChangeExtensionsStatus=T.ju.None,this.onDidChangeExtensions=T.ju.None,this.onWillActivateByEvent=T.ju.None,this.onDidChangeResponsiveChange=T.ju.None}activateByEvent(Sn){return Promise.resolve(void 0)}activationEventIsDone(Sn){return!1}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtensions(){return Promise.resolve([])}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(Sn){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPort(Sn,Gn){return Promise.resolve(0)}getInspectPorts(Sn,Gn){return Promise.resolve([])}stopExtensionHosts(){}restartExtensionHost(){return(0,d.Z)(function*(){})()}startExtensionHosts(){return(0,d.Z)(function*(){})()}setRemoteEnvironment(Sn){return(0,d.Z)(function*(){})()}canAddExtension(){return!1}canRemoveExtension(){return!1}_activateById(Sn,Gn){return Promise.resolve()}}),(0,j.z)(Q,class{constructor(){this.onDidChangeKeyboardLayout=T.ju.None,this.getRawKeyboardMapping=()=>null,this.getCurrentKeyboardLayout=()=>null,this.getAllKeyboardLayouts=()=>[],this.getKeyboardMapper=()=>new Ce(D.OS),this.validateCurrentKeyboardMapping=()=>{}}}),(0,j.z)(fn,class{requiresInitialization(){return(0,d.Z)(function*(){return!1})()}whenInitializationFinished(){return(0,d.Z)(function*(){})()}initializeRequiredResources(){return(0,d.Z)(function*(){})()}initializeInstalledExtensions(){return(0,d.Z)(function*(){})()}initializeOtherResources(){return(0,d.Z)(function*(){})()}}),(0,j.z)(Dn,class yt extends p.JT{constructor(){super(),this._onDidSchemeChangeEvent=this._register(new n.E),this.registerListeners()}registerListeners(){(0,k.addMatchMediaChangeListener)("(prefers-color-scheme: dark)",()=>{this._onDidSchemeChangeEvent.fire()}),(0,k.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onDidSchemeChangeEvent.fire()})}get onDidChangeColorScheme(){return this._onDidSchemeChangeEvent.event}get dark(){return!window.matchMedia("(prefers-color-scheme: light)").matches&&!!window.matchMedia("(prefers-color-scheme: dark)").matches}get highContrast(){return!!window.matchMedia("(forced-colors: active)").matches}}),(0,j.z)(He,class{constructor(){this.workspaceSettingsResource=null,this.getFolderSettingsResource=be,this.createPreferencesEditorModel=be,this.resolveModel=be,this.createSettings2EditorModel=be,this.openRawDefaultSettings=be,this.openSettings=be,this.openUserSettings=be,this.openRemoteSettings=be,this.openWorkspaceSettings=be,this.openFolderSettings=be,this.openGlobalKeybindingSettings=be,this.openDefaultKeybindingsFile=be,this.getEditableSettingsURI=be,this.createSplitJsonEditorInput=be,this.openApplicationSettings=be,this.openLanguageSpecificSettings=be}get userSettingsResource(){return be()}}),(0,j.z)(ye,class{constructor(){this.onDidEncounterLanguage=T.ju.None,this.createGrammar=be,this.startDebugMode=be}});const St={id:"default",isDefault:!0,name:"default",location:b.o.from({scheme:"user",path:"/profile.json"}),get globalStorageHome(){return be()},settingsResource:b.o.from({scheme:"user",path:"/settings.json"}),keybindingsResource:b.o.from({scheme:"user",path:"/keybindings.json"}),get tasksResource(){return be()},get snippetsHome(){return b.o.from({scheme:"user",path:"/snippets"})},extensionsResource:void 0};(0,j.z)(l.q,class{constructor(){this.defaultProfile=St,this.onDidChangeProfiles=T.ju.None,this.profiles=[St],this.createProfile=be,this.updateProfile=be,this.setProfileForWorkspace=be,this.getProfile=()=>St,this.removeProfile=be}get profilesHome(){return be()}});let gn=class extends ue{constructor(Sn){super(St,Sn)}};gn=(0,n._)([(0,n.a)(0,l.q)],gn),(0,j.z)(Ae,gn),(0,j.z)(ce,class{constructor(){this.onDidChange=T.ju.None,this.registerPolicyDefinitions=be,this.getPolicyValue=()=>{},this.serialize=()=>{}}}),(0,j.z)(l.r,class{constructor(){this.getSnippetFiles=be,this.isEnabled=be,this.updateEnablement=be,this.updateUsageTimestamp=be,this.getSnippets=(0,d.Z)(function*(){return[]}),this.getSnippetsSync=be}})},61699:(Dt,Y,e)=>{"use strict";e.d(Y,{C:()=>Qi,N:()=>Ue,R:()=>pt,d:()=>ke,r:()=>de});var d=e(17374),n=e(32068),l=e(80142),S=e(4125),v=e(40902),T=e(24738),C=e(6276),E=e(48648),L=e(98463),_=e(72715),s=e(69355),m=e(64763),c=e(67044),t=e(98998),a=e(64023),p=e(72188),u=e(45337),g=e(54436),b=e(53559),y=e(15945),w=e(12084),D=e(59547),x=e(5067),P=e(73879),O=e(29093),V=e(94667),H=e(3778),z=e(4259),k=e(16468),F=e(14072),j=e(24596),K=e(25478),U=e(66127),ne=e(83256),N=e(75366),W=e(41140),Z=e(15175),ge=e(73455),M=e(8841),we=e(59797),Ee=e(25715),xe=e(62922),Ne=e(29693),oe=e(61254),Se=e(50342),Ie=e(47494),me=e(57585);function de(Rt){return Rt?new Error(`readonly property '${Rt} cannot be changed'`):new Error("readonly property cannot be changed")}function ke(Rt){const ee=new Error(`${Rt} has been disposed`);return ee.name="DISPOSED",ee}class Ue extends Error{constructor(ee){super("NotImplemented"),ee&&(this.message=ee)}}class ze extends Error{constructor(ee){super(ee),this.name="ErrorNoTelemetry"}static fromError(ee){if(ee instanceof ze)return ee;const fe=new ze;return fe.message=ee.message,fe.stack=ee.stack,fe}static isErrorNoTelemetry(ee){return"ErrorNoTelemetry"===ee.name}}const Ce=typeof Buffer<"u";let Pe,dt;class st{constructor(ee){this.buffer=ee,this.byteLength=this.buffer.byteLength}static alloc(ee){return new st(Ce?Buffer.allocUnsafe(ee):new Uint8Array(ee))}static wrap(ee){return Ce&&!Buffer.isBuffer(ee)&&(ee=Buffer.from(ee.buffer,ee.byteOffset,ee.byteLength)),new st(ee)}static fromString(ee,fe){return!fe?.dontUseNodeBuffer&&Ce?new st(Buffer.from(ee)):(Pe||(Pe=new TextEncoder),new st(Pe.encode(ee)))}static fromByteArray(ee){const fe=st.alloc(ee.length);for(let it=0,It=ee.length;it<It;it++)fe.buffer[it]=ee[it];return fe}static concat(ee,fe){if(typeof fe>"u"){fe=0;for(let en=0,Tt=ee.length;en<Tt;en++)fe+=ee[en].byteLength}const it=st.alloc(fe);let It=0;for(let en=0,Tt=ee.length;en<Tt;en++){const q=ee[en];it.set(q,It),It+=q.byteLength}return it}clone(){const ee=st.alloc(this.byteLength);return ee.set(this),ee}toString(){return Ce?this.buffer.toString():(dt||(dt=new TextDecoder),dt.decode(this.buffer))}slice(ee,fe){return new st(this.buffer.subarray(ee,fe))}set(ee,fe){if(ee instanceof st)this.buffer.set(ee.buffer,fe);else if(ee instanceof Uint8Array)this.buffer.set(ee,fe);else if(ee instanceof ArrayBuffer)this.buffer.set(new Uint8Array(ee),fe);else{if(!ArrayBuffer.isView(ee))throw new Error("Unknown argument 'array'");this.buffer.set(new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength),fe)}}readUInt32BE(ee){return function qe(Rt,ee){return Rt[ee]*2**24+65536*Rt[ee+1]+256*Rt[ee+2]+Rt[ee+3]}(this.buffer,ee)}writeUInt32BE(ee,fe){!function Qe(Rt,ee,fe){Rt[fe+3]=ee,Rt[fe+2]=ee>>>=8,Rt[fe+1]=ee>>>=8,Rt[fe]=ee>>>=8}(this.buffer,ee,fe)}readUInt32LE(ee){return function et(Rt,ee){return Rt[ee+0]<<0>>>0|Rt[ee+1]<<8>>>0|Rt[ee+2]<<16>>>0|Rt[ee+3]<<24>>>0}(this.buffer,ee)}writeUInt32LE(ee,fe){!function vt(Rt,ee,fe){Rt[fe+0]=255&ee,Rt[fe+1]=255&(ee>>>=8),Rt[fe+2]=255&(ee>>>=8),Rt[fe+3]=255&(ee>>>=8)}(this.buffer,ee,fe)}readUInt8(ee){return function mt(Rt,ee){return Rt[ee]}(this.buffer,ee)}writeUInt8(ee,fe){!function _t(Rt,ee,fe){Rt[fe]=ee}(this.buffer,ee,fe)}}const ye="done",Ae="active",ue="infinite",be="infinite-long-running",Je="discrete",Fe={progressBarBackground:s.Il.fromHex("#0E70C0")};let nt=(()=>{class Rt extends l.JT{constructor(fe,it){super(),this.options=it||Object.create(null),(0,C.jB)(this.options,Fe,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new E.pY(()=>(0,L.$Z)(this.element),0)),this.longRunningScheduler=this._register(new E.pY(()=>this.infiniteLongRunning(),Rt.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(fe)}create(fe){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),fe.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Ae,ue,be,Je),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}done(){return this.doDone(!0)}stop(){return this.doDone(!1)}doDone(fe){return this.element.classList.add(ye),this.element.classList.contains(ue)?(this.bit.style.opacity="0",fe?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",fe?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Je,ye,be),this.element.classList.add(Ae,ue),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(be)}total(fe){return this.workedVal=0,this.totalWork=fe,this.element.setAttribute("aria-valuemax",fe.toString()),this}hasTotal(){return(0,_.hj)(this.totalWork)}worked(fe){return fe=Math.max(1,Number(fe)),this.doSetWorked(this.workedVal+fe)}setWorked(fe){return fe=Math.max(1,Number(fe)),this.doSetWorked(fe)}doSetWorked(fe){const it=this.totalWork||100;return this.workedVal=fe,this.workedVal=Math.min(it,this.workedVal),this.element.classList.remove(ue,be,ye),this.element.classList.add(Ae,Je),this.element.setAttribute("aria-valuenow",fe.toString()),this.bit.style.width=this.workedVal/it*100+"%",this}getContainer(){return this.element}show(fe){this.showDelayedScheduler.cancel(),"number"==typeof fe?this.showDelayedScheduler.schedule(fe):(0,L.$Z)(this.element)}hide(){(0,L.Cp)(this.element),this.showDelayedScheduler.cancel()}style(fe){this.progressBarBackground=fe.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const fe=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=fe}}}return Rt.LONG_RUNNING_INFINITE_THRESHOLD=1e4,Rt})(),bt=(()=>{class Rt extends l.JT{constructor(fe=!1){super(),this._onDidEncounterLanguage=this._register(new c.E),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new c.E({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,Rt.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new t.t(!0,fe)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Rt.instanceCount--,super.dispose()}registerLanguage(fe){return this._registry.registerLanguage(fe)}isRegisteredLanguageId(fe){return this._registry.isRegisteredLanguageId(fe)}getRegisteredLanguageIds(){return this._registry.getRegisteredLanguageIds()}getSortedRegisteredLanguageNames(){return this._registry.getSortedRegisteredLanguageNames()}getLanguageName(fe){return this._registry.getLanguageName(fe)}getMimeType(fe){return this._registry.getMimeType(fe)}getIcon(fe){return this._registry.getIcon(fe)}getExtensions(fe){return this._registry.getExtensions(fe)}getFilenames(fe){return this._registry.getFilenames(fe)}getConfigurationFiles(fe){return this._registry.getConfigurationFiles(fe)}getLanguageIdByLanguageName(fe){return this._registry.getLanguageIdByLanguageName(fe)}getLanguageIdByMimeType(fe){return this._registry.getLanguageIdByMimeType(fe)}guessLanguageIdByFilepathOrFirstLine(fe,it){const It=this._registry.guessLanguageIdByFilepathOrFirstLine(fe,it);return(0,a.Xh)(It,null)}createById(fe){return new Ut(this.onDidChange,()=>this._createAndGetLanguageIdentifier(fe))}createByMimeType(fe){return new Ut(this.onDidChange,()=>{const it=this.getLanguageIdByMimeType(fe);return this._createAndGetLanguageIdentifier(it)})}createByFilepathOrFirstLine(fe,it){return new Ut(this.onDidChange,()=>{const It=this.guessLanguageIdByFilepathOrFirstLine(fe,it);return this._createAndGetLanguageIdentifier(It)})}_createAndGetLanguageIdentifier(fe){return(!fe||!this.isRegisteredLanguageId(fe))&&(fe=p.bd),this._encounteredLanguages.has(fe)||(this._encounteredLanguages.add(fe),u.RW.getOrCreate(fe),this._onDidEncounterLanguage.fire(fe)),fe}}return Rt.instanceCount=0,Rt})();class Ut{constructor(ee,fe){this._onDidChangeLanguages=ee,this._selector=fe,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new c.E({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const ee=this._selector();ee!==this.languageId&&(this.languageId=ee,this._emitter?.fire(this.languageId))}}var ii,Ei;class no{constructor(){this._value="",this._pos=0}reset(ee){return this._value=ee,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(ee){return ee.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class to{constructor(ee=!0){this._caseSensitive=ee}reset(ee){return this._value=ee,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let ee=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!ee)break;this._from++}else ee=!1;return this}cmp(ee){return this._caseSensitive?(0,P.TT)(ee,this._value,0,ee.length,this._from,this._to):(0,P.j_)(ee,this._value,0,ee.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Co{constructor(ee=!0,fe=!0){this._splitOnBackslash=ee,this._caseSensitive=fe}reset(ee){this._from=0,this._to=0,this._value=ee,this._valueLen=ee.length;for(let fe=ee.length-1;fe>=0;fe--,this._valueLen--){const it=this._value.charCodeAt(fe);if(!(47===it||this._splitOnBackslash&&92===it))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let ee=!0;for(;this._to<this._valueLen;this._to++){const fe=this._value.charCodeAt(this._to);if(47===fe||this._splitOnBackslash&&92===fe){if(!ee)break;this._from++}else ee=!1}return this}cmp(ee){return this._caseSensitive?(0,P.TT)(ee,this._value,0,ee.length,this._from,this._to):(0,P.j_)(ee,this._value,0,ee.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class io{constructor(ee,fe){this._ignorePathCasing=ee,this._ignoreQueryAndFragment=fe,this._states=[],this._stateIdx=0}reset(ee){return this._value=ee,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Co(!1,!this._ignorePathCasing(ee)),this._pathIterator.reset(ee.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(ee)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(ee){if(1===this._states[this._stateIdx])return(0,P.zY)(ee,this._value.scheme);if(2===this._states[this._stateIdx])return(0,P.zY)(ee,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(ee);if(4===this._states[this._stateIdx])return(0,P.qu)(ee,this._value.query);if(5===this._states[this._stateIdx])return(0,P.qu)(ee,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class uo{constructor(){this.height=1}isEmpty(){return!(this.left||this.mid||this.right||this.value)}rotateLeft(){const ee=this.right;return this.right=ee.left,ee.left=this,this.updateHeight(),ee.updateHeight(),ee}rotateRight(){const ee=this.left;return this.left=ee.right,ee.right=this,this.updateHeight(),ee.updateHeight(),ee}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}class go{constructor(ee){this._iter=ee}static forUris(ee=(()=>!1),fe=(()=>!1)){return new go(new io(ee,fe))}static forPaths(ee=!1){return new go(new Co(void 0,!ee))}static forStrings(){return new go(new no)}static forConfigKeys(){return new go(new to)}clear(){this._root=void 0}fill(ee,fe){if(fe){const it=fe.slice(0);(0,c.s)(it);for(const It of it)this.set(It,ee)}else{const it=ee.slice(0);(0,c.s)(it);for(const It of it)this.set(It[0],It[1])}}set(ee,fe){const it=this._iter.reset(ee);let It;this._root||(this._root=new uo,this._root.segment=it.value());const en=[];for(It=this._root;;){const q=it.cmp(It.segment);if(q>0)It.left||(It.left=new uo,It.left.segment=it.value()),en.push([-1,It]),It=It.left;else if(q<0)It.right||(It.right=new uo,It.right.segment=it.value()),en.push([1,It]),It=It.right;else{if(!it.hasNext())break;it.next(),It.mid||(It.mid=new uo,It.mid.segment=it.value()),en.push([0,It]),It=It.mid}}const Tt=It.value;It.value=fe,It.key=ee;for(let q=en.length-1;q>=0;q--){const Te=en[q][1];Te.updateHeight();const rt=Te.balanceFactor();if(rt<-1||rt>1){const Gt=en[q][0],cn=en[q+1][0];if(1===Gt&&1===cn)en[q][1]=Te.rotateLeft();else if(-1===Gt&&-1===cn)en[q][1]=Te.rotateRight();else if(1===Gt&&-1===cn)Te.right=en[q+1][1]=en[q+1][1].rotateRight(),en[q][1]=Te.rotateLeft();else{if(-1!==Gt||1!==cn)throw new Error;Te.left=en[q+1][1]=en[q+1][1].rotateLeft(),en[q][1]=Te.rotateRight()}if(q>0)switch(en[q-1][0]){case-1:en[q-1][1].left=en[q][1];break;case 1:en[q-1][1].right=en[q][1];break;case 0:en[q-1][1].mid=en[q][1]}else this._root=en[0][1]}}return Tt}get(ee){return this._getNode(ee)?.value}_getNode(ee){const fe=this._iter.reset(ee);let it=this._root;for(;it;){const It=fe.cmp(it.segment);if(It>0)it=it.left;else if(It<0)it=it.right;else{if(!fe.hasNext())break;fe.next(),it=it.mid}}return it}has(ee){const fe=this._getNode(ee);return!(void 0===fe?.value&&void 0===fe?.mid)}delete(ee){return this._delete(ee,!1)}deleteSuperstr(ee){return this._delete(ee,!0)}_delete(ee,fe){const it=this._iter.reset(ee),It=[];let en=this._root;for(;en;){const Tt=it.cmp(en.segment);if(Tt>0)It.push([-1,en]),en=en.left;else if(Tt<0)It.push([1,en]),en=en.right;else{if(!it.hasNext())break;it.next(),It.push([0,en]),en=en.mid}}if(en){if(fe?(en.left=void 0,en.mid=void 0,en.right=void 0,en.height=1):(en.key=void 0,en.value=void 0),!en.mid&&!en.value)if(en.left&&en.right){const Tt=this._min(en.right),{key:q,value:Te,segment:rt}=Tt;this._delete(Tt.key,!1),en.key=q,en.value=Te,en.segment=rt}else{const Tt=en.left??en.right;if(It.length>0){const[q,Te]=It[It.length-1];switch(q){case-1:Te.left=Tt;break;case 0:Te.mid=Tt;break;case 1:Te.right=Tt}}else this._root=Tt}for(let Tt=It.length-1;Tt>=0;Tt--){const q=It[Tt][1];q.updateHeight();const Te=q.balanceFactor();if(Te>1?(q.right.balanceFactor()>=0||(q.right=q.right.rotateRight()),It[Tt][1]=q.rotateLeft()):Te<-1&&(q.left.balanceFactor()<=0||(q.left=q.left.rotateLeft()),It[Tt][1]=q.rotateRight()),Tt>0)switch(It[Tt-1][0]){case-1:It[Tt-1][1].left=It[Tt][1];break;case 1:It[Tt-1][1].right=It[Tt][1];break;case 0:It[Tt-1][1].mid=It[Tt][1]}else this._root=It[0][1]}}}_min(ee){for(;ee.left;)ee=ee.left;return ee}findSubstr(ee){const fe=this._iter.reset(ee);let It,it=this._root;for(;it;){const en=fe.cmp(it.segment);if(en>0)it=it.left;else if(en<0)it=it.right;else{if(!fe.hasNext())break;fe.next(),It=it.value||It,it=it.mid}}return it&&it.value||It}findSuperstr(ee){const fe=this._iter.reset(ee);let it=this._root;for(;it;){const It=fe.cmp(it.segment);if(It>0)it=it.left;else if(It<0)it=it.right;else{if(!fe.hasNext())return it.mid?this._entries(it.mid):void 0;fe.next(),it=it.mid}}}forEach(ee){for(const[fe,it]of this)ee(it,fe)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(ee){const fe=[];return this._dfsEntries(ee,fe),fe[Symbol.iterator]()}_dfsEntries(ee,fe){!ee||(ee.left&&this._dfsEntries(ee.left,fe),ee.value&&fe.push([ee.key,ee.value]),ee.mid&&this._dfsEntries(ee.mid,fe),ee.right&&this._dfsEntries(ee.right,fe))}_isBalanced(){const ee=fe=>{if(!fe)return!0;const it=fe.balanceFactor();return!(it<-1||it>1)&&ee(fe.left)&&ee(fe.right)};return ee(this._root)}}class si{constructor(ee,fe){this.uri=ee,this.value=fe}}let Yt=(()=>{class Rt{constructor(fe,it){this[ii]="ResourceMap",fe instanceof Rt?(this.map=new Map(fe.map),this.toKey=it??Rt.defaultToKey):(this.map=new Map,this.toKey=fe??Rt.defaultToKey)}set(fe,it){return this.map.set(this.toKey(fe),new si(fe,it)),this}get(fe){return this.map.get(this.toKey(fe))?.value}has(fe){return this.map.has(this.toKey(fe))}get size(){return this.map.size}clear(){this.map.clear()}delete(fe){return this.map.delete(this.toKey(fe))}forEach(fe,it){typeof it<"u"&&(fe=fe.bind(it));for(const[It,en]of this.map)fe(en.value,en.uri,this)}*values(){for(const fe of this.map.values())yield fe.value}*keys(){for(const fe of this.map.values())yield fe.uri}*entries(){for(const fe of this.map.values())yield[fe.uri,fe.value]}*[(ii=Symbol.toStringTag,Symbol.iterator)](){for(const[,fe]of this.map)yield[fe.uri,fe.value]}}return Rt.defaultToKey=ee=>ee.toString(),Rt})();class pt{constructor(ee,fe){this[Ei]="ResourceSet",ee&&"function"!=typeof ee?(this._map=new Yt(fe),ee.forEach(this.add,this)):this._map=new Yt(ee)}get size(){return this._map.size}add(ee){return this._map.set(ee,ee),this}clear(){this._map.clear()}delete(ee){return this._map.delete(ee)}forEach(ee,fe){this._map.forEach((it,It)=>ee.call(fe,It,It,this))}has(ee){return this._map.has(ee)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(Ei=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}class gt{constructor(ee={},fe=[],it=[]){this._contents=ee,this._keys=fe,this._overrides=it,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}isFrozen(){return this.frozen}getValue(ee){return ee?(0,V.Mt)(this.contents,ee):this.contents}getOverrideValue(ee,fe){const it=this.getContentsForOverrideIdentifer(fe);return it?ee?(0,V.Mt)(it,ee):it:void 0}getKeysForOverrideIdentifier(ee){const fe=[];for(const it of this.overrides)it.identifiers.includes(ee)&&fe.push(...it.keys);return(0,a.EB)(fe)}getAllOverrideIdentifiers(){const ee=[];for(const fe of this.overrides)ee.push(...fe.identifiers);return(0,a.EB)(ee)}override(ee){let fe=this.overrideConfigurations.get(ee);return fe||(fe=this.createOverrideConfigurationModel(ee),this.overrideConfigurations.set(ee,fe)),fe}merge(...ee){const fe=(0,C.I8)(this.contents),it=(0,C.I8)(this.overrides),It=[...this.keys];for(const en of ee)if(!en.isEmpty()){this.mergeContents(fe,en.contents);for(const Tt of en.overrides){const[q]=it.filter(Te=>(0,a.fS)(Te.identifiers,Tt.identifiers));q?(this.mergeContents(q.contents,Tt.contents),q.keys.push(...Tt.keys),q.keys=(0,a.EB)(q.keys)):it.push((0,C.I8)(Tt))}for(const Tt of en.keys)-1===It.indexOf(Tt)&&It.push(Tt)}return new gt(fe,It,it)}freeze(){return this.frozen=!0,this}clone(){return new gt((0,C.I8)(this.contents),[...this.keys],(0,C.I8)(this.overrides))}createOverrideConfigurationModel(ee){const fe=this.getContentsForOverrideIdentifer(ee);if(!fe||"object"!=typeof fe||!Object.keys(fe).length)return this;const it={};for(const It of(0,a.EB)([...Object.keys(this.contents),...Object.keys(fe)])){let en=this.contents[It];const Tt=fe[It];Tt&&("object"==typeof en&&"object"==typeof Tt?(en=(0,C.I8)(en),this.mergeContents(en,Tt)):en=Tt),it[It]=en}return new gt(it,this.keys,this.overrides)}mergeContents(ee,fe){for(const it of Object.keys(fe))it in ee&&(0,_.Kn)(ee[it])&&(0,_.Kn)(fe[it])?this.mergeContents(ee[it],fe[it]):ee[it]=(0,C.I8)(fe[it])}checkAndFreeze(ee){return this.frozen&&!Object.isFrozen(ee)?(0,C._A)(ee):ee}getContentsForOverrideIdentifer(ee){let fe=null,it=null;const It=en=>{en&&(it?this.mergeContents(it,en):it=(0,C.I8)(en))};for(const en of this.overrides)(0,a.fS)(en.identifiers,[ee])?fe=en.contents:en.identifiers.includes(ee)&&It(en.contents);return It(fe),it}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(ee,fe){this.addKey(ee),(0,V.KV)(this.contents,ee,fe,it=>{throw new Error(it)})}removeValue(ee){this.removeKey(ee)&&(0,V.xL)(this.contents,ee)}addKey(ee){let fe=this.keys.length;for(let it=0;it<fe;it++)0===ee.indexOf(this.keys[it])&&(fe=it);this.keys.splice(fe,1,ee)}removeKey(ee){const fe=this.keys.indexOf(ee);return-1!==fe&&(this.keys.splice(fe,1),!0)}}class an{constructor(ee,fe,it,It,en=new gt,Tt=new gt,q=new x.Y9,Te=new gt,rt=new x.Y9,Gt=!0){this._defaultConfiguration=ee,this._policyConfiguration=fe,this._applicationConfiguration=it,this._localUserConfiguration=It,this._remoteUserConfiguration=en,this._workspaceConfiguration=Tt,this._folderConfigurations=q,this._memoryConfiguration=Te,this._memoryConfigurationByResource=rt,this._freeze=Gt,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new x.Y9,this._userConfiguration=null}getValue(ee,fe,it){return this.getConsolidatedConfigurationModel(ee,fe,it).getValue(ee)}updateValue(ee,fe,it={}){let It;it.resource?(It=this._memoryConfigurationByResource.get(it.resource),It||(It=new gt,this._memoryConfigurationByResource.set(it.resource,It))):It=this._memoryConfiguration,void 0===fe?It.removeValue(ee):It.setValue(ee,fe),it.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(ee,fe,it){const It=this.getConsolidatedConfigurationModel(ee,fe,it),en=this.getFolderConfigurationModelForResource(fe.resource,it),Tt=fe.resource&&this._memoryConfigurationByResource.get(fe.resource)||this._memoryConfiguration,q=fe.overrideIdentifier?this._defaultConfiguration.freeze().override(fe.overrideIdentifier).getValue(ee):this._defaultConfiguration.freeze().getValue(ee),Te=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(ee),rt=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(ee),Gt=fe.overrideIdentifier?this.userConfiguration.freeze().override(fe.overrideIdentifier).getValue(ee):this.userConfiguration.freeze().getValue(ee),cn=fe.overrideIdentifier?this.localUserConfiguration.freeze().override(fe.overrideIdentifier).getValue(ee):this.localUserConfiguration.freeze().getValue(ee),Ln=fe.overrideIdentifier?this.remoteUserConfiguration.freeze().override(fe.overrideIdentifier).getValue(ee):this.remoteUserConfiguration.freeze().getValue(ee),In=it?fe.overrideIdentifier?this._workspaceConfiguration.freeze().override(fe.overrideIdentifier).getValue(ee):this._workspaceConfiguration.freeze().getValue(ee):void 0,ei=en?fe.overrideIdentifier?en.freeze().override(fe.overrideIdentifier).getValue(ee):en.freeze().getValue(ee):void 0,Jn=fe.overrideIdentifier?Tt.override(fe.overrideIdentifier).getValue(ee):Tt.getValue(ee),gi=It.getValue(ee),pi=(0,a.EB)(It.overrides.map(Ci=>Ci.identifiers).flat()).filter(Ci=>void 0!==It.getOverrideValue(ee,Ci));return{defaultValue:q,policyValue:Te,applicationValue:rt,userValue:Gt,userLocalValue:cn,userRemoteValue:Ln,workspaceValue:In,workspaceFolderValue:ei,memoryValue:Jn,value:gi,default:void 0!==q?{value:this._defaultConfiguration.freeze().getValue(ee),override:fe.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,policy:void 0!==Te?{value:Te}:void 0,application:void 0!==rt?{value:rt,override:fe.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,user:void 0!==Gt?{value:this.userConfiguration.freeze().getValue(ee),override:fe.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,userLocal:void 0!==cn?{value:this.localUserConfiguration.freeze().getValue(ee),override:fe.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,userRemote:void 0!==Ln?{value:this.remoteUserConfiguration.freeze().getValue(ee),override:fe.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,workspace:void 0!==In?{value:this._workspaceConfiguration.freeze().getValue(ee),override:fe.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==ei?{value:en?.freeze().getValue(ee),override:fe.overrideIdentifier?en?.freeze().getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,memory:void 0!==Jn?{value:Tt.getValue(ee),override:fe.overrideIdentifier?Tt.getOverrideValue(ee,fe.overrideIdentifier):void 0}:void 0,overrideIdentifiers:pi.length?pi:void 0}}keys(ee){const fe=this.getFolderConfigurationModelForResource(void 0,ee);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:fe?fe.freeze().keys:[]}}updateDefaultConfiguration(ee){this._defaultConfiguration=ee,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updatePolicyConfiguration(ee){this._policyConfiguration=ee}updateApplicationConfiguration(ee){this._applicationConfiguration=ee,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(ee){this._localUserConfiguration=ee,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(ee){this._remoteUserConfiguration=ee,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(ee){this._workspaceConfiguration=ee,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(ee,fe){this._folderConfigurations.set(ee,fe),this._foldersConsolidatedConfigurations.delete(ee)}deleteFolderConfiguration(ee){this.folderConfigurations.delete(ee),this._foldersConsolidatedConfigurations.delete(ee)}compareAndUpdateDefaultConfiguration(ee,fe){const it=[];if(!fe){const{added:It,updated:en,removed:Tt}=mn(this._defaultConfiguration,ee);fe=[...It,...en,...Tt]}for(const It of fe)for(const en of(0,O.ny)(It)){const Tt=this._defaultConfiguration.getKeysForOverrideIdentifier(en),q=ee.getKeysForOverrideIdentifier(en),Te=[...q.filter(rt=>-1===Tt.indexOf(rt)),...Tt.filter(rt=>-1===q.indexOf(rt)),...Tt.filter(rt=>!(0,C.fS)(this._defaultConfiguration.override(en).getValue(rt),ee.override(en).getValue(rt)))];it.push([en,Te])}return this.updateDefaultConfiguration(ee),{keys:fe,overrides:it}}compareAndUpdatePolicyConfiguration(ee){const{added:fe,updated:it,removed:It}=mn(this._policyConfiguration,ee),en=[...fe,...it,...It];return en.length&&this.updatePolicyConfiguration(ee),{keys:en,overrides:[]}}compareAndUpdateApplicationConfiguration(ee){const{added:fe,updated:it,removed:It,overrides:en}=mn(this.applicationConfiguration,ee),Tt=[...fe,...it,...It];return Tt.length&&this.updateApplicationConfiguration(ee),{keys:Tt,overrides:en}}compareAndUpdateLocalUserConfiguration(ee){const{added:fe,updated:it,removed:It,overrides:en}=mn(this.localUserConfiguration,ee),Tt=[...fe,...it,...It];return Tt.length&&this.updateLocalUserConfiguration(ee),{keys:Tt,overrides:en}}compareAndUpdateRemoteUserConfiguration(ee){const{added:fe,updated:it,removed:It,overrides:en}=mn(this.remoteUserConfiguration,ee),Tt=[...fe,...it,...It];return Tt.length&&this.updateRemoteUserConfiguration(ee),{keys:Tt,overrides:en}}compareAndUpdateWorkspaceConfiguration(ee){const{added:fe,updated:it,removed:It,overrides:en}=mn(this.workspaceConfiguration,ee),Tt=[...fe,...it,...It];return Tt.length&&this.updateWorkspaceConfiguration(ee),{keys:Tt,overrides:en}}compareAndUpdateFolderConfiguration(ee,fe){const it=this.folderConfigurations.get(ee),{added:It,updated:en,removed:Tt,overrides:q}=mn(it,fe),Te=[...It,...en,...Tt];return(Te.length||!it)&&this.updateFolderConfiguration(ee,fe),{keys:Te,overrides:q}}compareAndDeleteFolderConfiguration(ee){const fe=this.folderConfigurations.get(ee);if(!fe)throw new Error("Unknown folder");this.deleteFolderConfiguration(ee);const{added:it,updated:It,removed:en,overrides:Tt}=mn(fe,void 0);return{keys:[...it,...It,...en],overrides:Tt}}get defaults(){return this._defaultConfiguration}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidatedConfigurationModel(ee,fe,it){let It=this.getConsolidatedConfigurationModelForResource(fe,it);return fe.overrideIdentifier&&(It=It.override(fe.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(ee)&&(It=It.merge(this._policyConfiguration)),It}getConsolidatedConfigurationModelForResource({resource:ee},fe){let it=this.getWorkspaceConsolidatedConfiguration();if(fe&&ee){const It=fe.getFolder(ee);It&&(it=this.getFolderConsolidatedConfiguration(It.uri)||it);const en=this._memoryConfigurationByResource.get(ee);en&&(it=it.merge(en))}return it}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(ee){let fe=this._foldersConsolidatedConfigurations.get(ee);if(!fe){const it=this.getWorkspaceConsolidatedConfiguration(),It=this._folderConfigurations.get(ee);It?(fe=it.merge(It),this._freeze&&(fe=fe.freeze()),this._foldersConsolidatedConfigurations.set(ee,fe)):fe=it}return fe}getFolderConfigurationModelForResource(ee,fe){if(fe&&ee){const it=fe.getFolder(ee);if(it)return this._folderConfigurations.get(it.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((ee,fe)=>{const{contents:it,overrides:It,keys:en}=this._folderConfigurations.get(fe);return ee.push([fe,{contents:it,overrides:It,keys:en}]),ee},[])}}allKeys(){const ee=new Set;return this._defaultConfiguration.freeze().keys.forEach(fe=>ee.add(fe)),this.userConfiguration.freeze().keys.forEach(fe=>ee.add(fe)),this._workspaceConfiguration.freeze().keys.forEach(fe=>ee.add(fe)),this._folderConfigurations.forEach(fe=>fe.freeze().keys.forEach(it=>ee.add(it))),[...ee.values()]}allOverrideIdentifiers(){const ee=new Set;return this._defaultConfiguration.freeze().getAllOverrideIdentifiers().forEach(fe=>ee.add(fe)),this.userConfiguration.freeze().getAllOverrideIdentifiers().forEach(fe=>ee.add(fe)),this._workspaceConfiguration.freeze().getAllOverrideIdentifiers().forEach(fe=>ee.add(fe)),this._folderConfigurations.forEach(fe=>fe.freeze().getAllOverrideIdentifiers().forEach(it=>ee.add(it))),[...ee.values()]}getAllKeysForOverrideIdentifier(ee){const fe=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(ee).forEach(it=>fe.add(it)),this.userConfiguration.getKeysForOverrideIdentifier(ee).forEach(it=>fe.add(it)),this._workspaceConfiguration.getKeysForOverrideIdentifier(ee).forEach(it=>fe.add(it)),this._folderConfigurations.forEach(it=>it.getKeysForOverrideIdentifier(ee).forEach(It=>fe.add(It))),[...fe.values()]}static parse(ee){const fe=this.parseConfigurationModel(ee.defaults),it=this.parseConfigurationModel(ee.policy),It=this.parseConfigurationModel(ee.application),en=this.parseConfigurationModel(ee.user),Tt=this.parseConfigurationModel(ee.workspace),q=ee.folders.reduce((Te,rt)=>(Te.set(D.o.revive(rt[0]),this.parseConfigurationModel(rt[1])),Te),new x.Y9);return new an(fe,it,It,en,new gt,Tt,q,new gt,new x.Y9,!1)}static parseConfigurationModel(ee){return new gt(ee.contents,ee.keys,ee.overrides).freeze()}}function mn(Rt,ee){const{added:fe,removed:it,updated:It}=Nn(ee,Rt),en=[],Tt=Rt?.getAllOverrideIdentifiers()||[],q=ee?.getAllOverrideIdentifiers()||[];if(ee){const Te=q.filter(rt=>!Tt.includes(rt));for(const rt of Te)en.push([rt,ee.getKeysForOverrideIdentifier(rt)])}if(Rt){const Te=Tt.filter(rt=>!q.includes(rt));for(const rt of Te)en.push([rt,Rt.getKeysForOverrideIdentifier(rt)])}if(ee&&Rt)for(const Te of Tt)if(q.includes(Te)){const rt=Nn({contents:Rt.getOverrideValue(void 0,Te)||{},keys:Rt.getKeysForOverrideIdentifier(Te)},{contents:ee.getOverrideValue(void 0,Te)||{},keys:ee.getKeysForOverrideIdentifier(Te)});en.push([Te,[...rt.added,...rt.removed,...rt.updated]])}return{added:fe,removed:it,updated:It,overrides:en}}function Nn(Rt,ee){const fe=Rt?ee?Rt.keys.filter(en=>-1===ee.keys.indexOf(en)):[...Rt.keys]:[],it=ee?Rt?ee.keys.filter(en=>-1===Rt.keys.indexOf(en)):[...ee.keys]:[],It=[];if(Rt&&ee)for(const en of ee.keys)if(-1!==Rt.keys.indexOf(en)){const Tt=(0,V.Mt)(ee.contents,en),q=(0,V.Mt)(Rt.contents,en);(0,C.fS)(Tt,q)||It.push(en)}return{added:fe,removed:it,updated:It}}function jn(){return(new Date).toISOString()}var Yn=(()=>{return(Rt=Yn||(Yn={}))[Rt.Trace=0]="Trace",Rt[Rt.Debug=1]="Debug",Rt[Rt.Info=2]="Info",Rt[Rt.Warning=3]="Warning",Rt[Rt.Error=4]="Error",Rt[Rt.Critical=5]="Critical",Rt[Rt.Off=6]="Off",Yn;var Rt})();const wi=Yn.Info;class Li extends l.JT{constructor(){super(...arguments),this.level=wi,this._onDidChangeLogLevel=this._register(new c.E),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(ee){this.level!==ee&&(this.level=ee,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class Qi extends Li{constructor(ee=wi){super(),this.setLevel(ee),this.useColors=!M.ED}trace(ee,...fe){this.getLevel()<=Yn.Trace&&(this.useColors?console.log(`\x1b[90m[main ${jn()}]\x1b[0m`,ee,...fe):console.log(`[main ${jn()}]`,ee,...fe))}debug(ee,...fe){this.getLevel()<=Yn.Debug&&(this.useColors?console.log(`\x1b[90m[main ${jn()}]\x1b[0m`,ee,...fe):console.log(`[main ${jn()}]`,ee,...fe))}info(ee,...fe){this.getLevel()<=Yn.Info&&(this.useColors?console.log(`\x1b[90m[main ${jn()}]\x1b[0m`,ee,...fe):console.log(`[main ${jn()}]`,ee,...fe))}warn(ee,...fe){this.getLevel()<=Yn.Warning&&(this.useColors?console.warn(`\x1b[93m[main ${jn()}]\x1b[0m`,ee,...fe):console.warn(`[main ${jn()}]`,ee,...fe))}error(ee,...fe){this.getLevel()<=Yn.Error&&(this.useColors?console.error(`\x1b[91m[main ${jn()}]\x1b[0m`,ee,...fe):console.error(`[main ${jn()}]`,ee,...fe))}critical(ee,...fe){this.getLevel()<=Yn.Critical&&(this.useColors?console.error(`\x1b[90m[main ${jn()}]\x1b[0m`,ee,...fe):console.error(`[main ${jn()}]`,ee,...fe))}dispose(){}flush(){}}function Ki(Rt){return Rt&&"object"==typeof Rt&&(!Rt.overrideIdentifier||"string"==typeof Rt.overrideIdentifier)&&(!Rt.resource||Rt.resource instanceof D.o)}const ro=Object.prototype.hasOwnProperty,mo="vs.editor.nullLanguage";class Ko{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(mo,0),this._register(p.bd,1),this._nextLanguageId=2}_register(ee,fe){this._languageIdToLanguage[fe]=ee,this._languageToLanguageId.set(ee,fe)}register(ee){if(this._languageToLanguageId.has(ee))return;const fe=this._nextLanguageId++;this._register(ee,fe)}encodeLanguageId(ee){return this._languageToLanguageId.get(ee)||0}decodeLanguageId(ee){return this._languageIdToLanguage[ee]||mo}}let Eo=(()=>{class Rt extends l.JT{constructor(fe=!0,it=!1){super(),this._onDidChange=this._register(new c.E),this.onDidChange=this._onDidChange.event,Rt.instanceCount++,this._warnOnOverwrite=it,this.languageIdCodec=new Ko,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},fe&&(this._initializeFromRegistry(),this._register(p.dQ.onDidChangeLanguages(It=>{this._initializeFromRegistry()})))}dispose(){Rt.instanceCount--,super.dispose()}setDynamicLanguages(fe){this._dynamicLanguages=fe,this._initializeFromRegistry()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,F.UU)();const fe=[].concat(p.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(fe)}registerLanguage(fe){return p.dQ.registerLanguage(fe)}_registerLanguages(fe){for(const it of fe)this._registerLanguage(it);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(it=>{const It=this._languages[it];It.name&&(this._nameMap[It.name]=It.identifier),It.aliases.forEach(en=>{this._lowercaseNameMap[en.toLowerCase()]=It.identifier}),It.mimetypes.forEach(en=>{this._mimeTypesMap[en]=It.identifier})}),z.B.as(O.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(fe){const it=fe.id;let It;ro.call(this._languages,it)?It=this._languages[it]:(this.languageIdCodec.register(it),It={identifier:it,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[it]=It),this._mergeLanguage(It,fe)}_mergeLanguage(fe,it){const It=it.id;let en=null;if(Array.isArray(it.mimetypes)&&it.mimetypes.length>0&&(fe.mimetypes.push(...it.mimetypes),en=it.mimetypes[0]),en||(en=`text/x-${It}`,fe.mimetypes.push(en)),Array.isArray(it.extensions)){fe.extensions=it.configuration?it.extensions.concat(fe.extensions):fe.extensions.concat(it.extensions);for(const Te of it.extensions)(0,F.Jw)({id:It,mime:en,extension:Te},this._warnOnOverwrite)}if(Array.isArray(it.filenames))for(const Te of it.filenames)(0,F.Jw)({id:It,mime:en,filename:Te},this._warnOnOverwrite),fe.filenames.push(Te);if(Array.isArray(it.filenamePatterns))for(const Te of it.filenamePatterns)(0,F.Jw)({id:It,mime:en,filepattern:Te},this._warnOnOverwrite);if("string"==typeof it.firstLine&&it.firstLine.length>0){let Te=it.firstLine;"^"!==Te.charAt(0)&&(Te="^"+Te);try{const rt=new RegExp(Te);(0,P.IO)(rt)||(0,F.Jw)({id:It,mime:en,firstline:rt},this._warnOnOverwrite)}catch(rt){(0,S.dL)(rt)}}fe.aliases.push(It);let Tt=null;if(typeof it.aliases<"u"&&Array.isArray(it.aliases)&&(Tt=0===it.aliases.length?[null]:it.aliases),null!==Tt)for(const Te of Tt)!Te||0===Te.length||fe.aliases.push(Te);const q=null!==Tt&&Tt.length>0;if(!q||null!==Tt[0]){const Te=(q?Tt[0]:null)||It;(q||!fe.name)&&(fe.name=Te)}it.configuration&&fe.configurationFiles.push(it.configuration),it.icon&&fe.icons.push(it.icon)}isRegisteredLanguageId(fe){return!!fe&&ro.call(this._languages,fe)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getSortedRegisteredLanguageNames(){const fe=[];for(const it in this._nameMap)ro.call(this._nameMap,it)&&fe.push({languageName:it,languageId:this._nameMap[it]});return fe.sort((it,It)=>(0,P.zY)(it.languageName,It.languageName)),fe}getLanguageName(fe){return ro.call(this._languages,fe)?this._languages[fe].name:null}getMimeType(fe){return ro.call(this._languages,fe)&&this._languages[fe].mimetypes[0]||null}getExtensions(fe){return ro.call(this._languages,fe)?this._languages[fe].extensions:[]}getFilenames(fe){return ro.call(this._languages,fe)?this._languages[fe].filenames:[]}getIcon(fe){return ro.call(this._languages,fe)&&this._languages[fe].icons[0]||null}getConfigurationFiles(fe){return ro.call(this._languages,fe)&&this._languages[fe].configurationFiles||[]}getLanguageIdByLanguageName(fe){const it=fe.toLowerCase();return ro.call(this._lowercaseNameMap,it)?this._lowercaseNameMap[it]:null}getLanguageIdByMimeType(fe){return fe&&ro.call(this._mimeTypesMap,fe)?this._mimeTypesMap[fe]:null}guessLanguageIdByFilepathOrFirstLine(fe,it){return fe||it?(0,F.ST)(fe,it):[]}}return Rt.instanceCount=0,Rt})();class Mo{constructor(ee){this.trait=ee,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ee){return ee}renderElement(ee,fe,it){const It=this.renderedElements.findIndex(en=>en.templateData===it);if(It>=0){const en=this.renderedElements[It];this.trait.unrender(it),en.index=fe}else this.renderedElements.push({index:fe,templateData:it});this.trait.renderIndex(fe,it)}splice(ee,fe,it){const It=[];for(const en of this.renderedElements)en.index<ee?It.push(en):en.index>=ee+fe&&It.push({index:en.index+it-fe,templateData:en.templateData});this.renderedElements=It}renderIndexes(ee){for(const{index:fe,templateData:it}of this.renderedElements)ee.indexOf(fe)>-1&&this.trait.renderIndex(fe,it)}disposeTemplate(ee){const fe=this.renderedElements.findIndex(it=>it.templateData===ee);fe<0||this.renderedElements.splice(fe,1)}}class Io{constructor(ee){this._trait=ee,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new c.E,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new Mo(this)}splice(ee,fe,it){fe=Math.max(0,Math.min(fe,this.length-ee));const It=it.length-fe,en=ee+fe,Tt=[...this.sortedIndexes.filter(Te=>Te<ee),...it.map((Te,rt)=>Te?rt+ee:-1).filter(Te=>-1!==Te),...this.sortedIndexes.filter(Te=>Te>=en).map(Te=>Te+It)],q=this.length+It;if(this.sortedIndexes.length>0&&0===Tt.length&&q>0){const Te=this.sortedIndexes.find(rt=>rt>=ee)??q-1;Tt.push(Math.min(Te,q-1))}this.renderer.splice(ee,fe,it.length),this._set(Tt,Tt),this.length=q}renderIndex(ee,fe){fe.classList.toggle(this._trait,this.contains(ee))}unrender(ee){ee.classList.remove(this._trait)}set(ee,fe){return this._set(ee,[...ee].sort(Re),fe)}_set(ee,fe,it){const It=this.indexes,en=this.sortedIndexes;this.indexes=ee,this.sortedIndexes=fe;const Tt=Qt(en,ee);return this.renderer.renderIndexes(Tt),this._onChange.fire({indexes:ee,browserEvent:it}),It}get(){return this.indexes}contains(ee){return(0,a.ry)(this.sortedIndexes,ee,Re)>=0}dispose(){(0,l.B9)(this._onChange)}}class Yi extends Io{constructor(ee){super("selected"),this.setAriaSelected=ee}renderIndex(ee,fe){super.renderIndex(ee,fe),this.setAriaSelected&&(this.contains(ee)?fe.setAttribute("aria-selected","true"):fe.setAttribute("aria-selected","false"))}}class ho{constructor(ee,fe,it){this.trait=ee,this.view=fe,this.identityProvider=it}splice(ee,fe,it){if(!this.identityProvider)return this.trait.splice(ee,fe,it.map(()=>!1));const It=this.trait.get().map(Tt=>this.identityProvider.getId(this.view.element(Tt)).toString()),en=it.map(Tt=>It.indexOf(this.identityProvider.getId(Tt).toString())>-1);this.trait.splice(ee,fe,en)}}function Ao(Rt){return"INPUT"===Rt.tagName||"TEXTAREA"===Rt.tagName}function li(Rt){return!!Rt.classList.contains("monaco-editor")||!(Rt.classList.contains("monaco-list")||!Rt.parentElement)&&li(Rt.parentElement)}class Xt{constructor(ee,fe,it){this.list=ee,this.view=fe,this.disposables=new l.SL,this.multipleSelectionDisposables=new l.SL,this.onKeyDown.filter(It=>3===It.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(It=>16===It.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(It=>18===It.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(It=>11===It.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(It=>12===It.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(It=>9===It.keyCode).on(this.onEscape,this,this.disposables),!1!==it.multipleSelectionSupport&&this.onKeyDown.filter(It=>(M.dz?It.metaKey:It.ctrlKey)&&31===It.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(H.ju.chain(this.disposables.add(new N.Y(this.view.domNode,"keydown")).event).filter(ee=>!Ao(ee.target)).map(ee=>new W.y(ee)))}updateOptions(ee){void 0!==ee.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),ee.multipleSelectionSupport&&this.onKeyDown.filter(fe=>(M.dz?fe.metaKey:fe.ctrlKey)&&31===fe.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(ee){ee.preventDefault(),ee.stopPropagation(),this.list.setSelection(this.list.getFocus(),ee.browserEvent)}onUpArrow(ee){ee.preventDefault(),ee.stopPropagation(),this.list.focusPrevious(1,!1,ee.browserEvent);const fe=this.list.getFocus()[0];this.list.setAnchor(fe),this.list.reveal(fe),this.view.domNode.focus()}onDownArrow(ee){ee.preventDefault(),ee.stopPropagation(),this.list.focusNext(1,!1,ee.browserEvent);const fe=this.list.getFocus()[0];this.list.setAnchor(fe),this.list.reveal(fe),this.view.domNode.focus()}onPageUpArrow(ee){ee.preventDefault(),ee.stopPropagation(),this.list.focusPreviousPage(ee.browserEvent);const fe=this.list.getFocus()[0];this.list.setAnchor(fe),this.list.reveal(fe),this.view.domNode.focus()}onPageDownArrow(ee){ee.preventDefault(),ee.stopPropagation(),this.list.focusNextPage(ee.browserEvent);const fe=this.list.getFocus()[0];this.list.setAnchor(fe),this.list.reveal(fe),this.view.domNode.focus()}onCtrlA(ee){ee.preventDefault(),ee.stopPropagation(),this.list.setSelection((0,a.w6)(this.list.length),ee.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ee){this.list.getSelection().length&&(ee.preventDefault(),ee.stopPropagation(),this.list.setSelection([],ee.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}var kt=(()=>{return(Rt=kt||(kt={}))[Rt.Automatic=0]="Automatic",Rt[Rt.Trigger=1]="Trigger",kt;var Rt})(),un=(()=>{return(Rt=un||(un={}))[Rt.Idle=0]="Idle",Rt[Rt.Typing=1]="Typing",un;var Rt})();const Rn=new class{mightProducePrintableCharacter(Rt){return!(Rt.ctrlKey||Rt.metaKey||Rt.altKey)&&(Rt.keyCode>=31&&Rt.keyCode<=56||Rt.keyCode>=21&&Rt.keyCode<=30||Rt.keyCode>=93&&Rt.keyCode<=102||Rt.keyCode>=80&&Rt.keyCode<=90)}};class Wn{constructor(ee,fe,it,It,en){this.list=ee,this.view=fe,this.keyboardNavigationLabelProvider=it,this.keyboardNavigationEventFilter=It,this.delegate=en,this.enabled=!1,this.state=un.Idle,this.mode=kt.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new l.SL,this.disposables=new l.SL,this.updateOptions(ee.options)}updateOptions(ee){ee.typeNavigationEnabled??1?this.enable():this.disable(),this.mode=ee.typeNavigationMode??kt.Automatic}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let ee=!1;const fe=this.enabledDisposables.add(H.ju.chain(this.enabledDisposables.add(new N.Y(this.view.domNode,"keydown")).event)).filter(en=>!Ao(en.target)).filter(()=>this.mode===kt.Automatic||this.triggered).map(en=>new W.y(en)).filter(en=>ee||this.keyboardNavigationEventFilter(en)).filter(en=>this.delegate.mightProducePrintableCharacter(en)).forEach(N.p).map(en=>en.browserEvent.key).event,it=H.ju.debounce(fe,()=>null,800,void 0,void 0,this.enabledDisposables);H.ju.reduce(H.ju.any(fe,it),(en,Tt)=>null===Tt?null:(en||"")+Tt,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),it(this.onClear,this,this.enabledDisposables),fe(()=>ee=!0,void 0,this.enabledDisposables),it(()=>ee=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){const ee=this.list.getFocus();if(ee.length>0&&ee[0]===this.previouslyFocused){const fe=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(ee[0]));fe&&(0,we.Z9)(fe)}this.previouslyFocused=-1}onInput(ee){if(!ee)return this.state=un.Idle,void(this.triggered=!1);const fe=this.list.getFocus(),it=fe.length>0?fe[0]:0,It=this.state===un.Idle?1:0;this.state=un.Typing;for(let en=0;en<this.list.length;en++){const Tt=(it+en+It)%this.list.length,q=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Tt)),Te=q&&q.toString();if(typeof Te>"u"||(0,Ee.Ji)(ee,Te))return this.previouslyFocused=it,this.list.setFocus([Tt]),void this.list.reveal(Tt)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class dn{constructor(ee,fe){this.list=ee,this.view=fe,this.disposables=new l.SL,this.disposables.add(H.ju.chain(this.disposables.add(new N.Y(fe.domNode,"keydown")).event)).filter(It=>!Ao(It.target)).map(It=>new W.y(It)).filter(It=>!(2!==It.keyCode||It.ctrlKey||It.metaKey||It.shiftKey||It.altKey)).on(this.onTab,this,this.disposables)}onTab(ee){if(ee.target!==this.view.domNode)return;const fe=this.list.getFocus();if(0===fe.length)return;const it=this.view.domElement(fe[0]);if(!it)return;const It=it.querySelector("[tabIndex]");if(!(It&&It instanceof HTMLElement&&-1!==It.tabIndex))return;const en=window.getComputedStyle(It);"hidden"===en.visibility||"none"===en.display||(ee.preventDefault(),ee.stopPropagation(),It.focus())}dispose(){this.disposables.dispose()}}const xn={isSelectionSingleChangeEvent:function ft(Rt){return M.dz?Rt.browserEvent.metaKey:Rt.browserEvent.ctrlKey},isSelectionRangeChangeEvent:function sn(Rt){return Rt.browserEvent.shiftKey}};class Pn{constructor(ee){this.list=ee,this.disposables=new l.SL,this._onPointer=new c.E,this.onPointer=this._onPointer.event,!1!==ee.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||xn),this.mouseSupport=typeof ee.options.mouseSupport>"u"||!!ee.options.mouseSupport,this.mouseSupport&&(ee.onMouseDown(this.onMouseDown,this,this.disposables),ee.onContextMenu(this.onContextMenu,this,this.disposables),ee.onMouseDblClick(this.onDoubleClick,this,this.disposables),ee.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(xe.o.addTarget(ee.getHTMLElement()))),H.ju.any(ee.onMouseClick,ee.onMouseMiddleClick,ee.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ee){void 0!==ee.multipleSelectionSupport&&(this.multipleSelectionController=void 0,ee.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||xn))}isSelectionSingleChangeEvent(ee){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(ee)}isSelectionRangeChangeEvent(ee){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(ee)}isSelectionChangeEvent(ee){return this.isSelectionSingleChangeEvent(ee)||this.isSelectionRangeChangeEvent(ee)}onMouseDown(ee){li(ee.browserEvent.target)||document.activeElement!==ee.browserEvent.target&&this.list.domFocus()}onContextMenu(ee){li(ee.browserEvent.target)||this.list.setFocus(typeof ee.index>"u"?[]:[ee.index],ee.browserEvent)}onViewPointer(ee){if(!this.mouseSupport||Ao(ee.browserEvent.target)||li(ee.browserEvent.target))return;const fe=ee.index;return typeof fe>"u"?(this.list.setFocus([],ee.browserEvent),this.list.setSelection([],ee.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(ee)||this.isSelectionChangeEvent(ee)?this.changeSelection(ee):(this.list.setFocus([fe],ee.browserEvent),this.list.setAnchor(fe),function tn(Rt){return Rt instanceof MouseEvent&&2===Rt.button}(ee.browserEvent)||this.list.setSelection([fe],ee.browserEvent),void this._onPointer.fire(ee))}onDoubleClick(ee){if(Ao(ee.browserEvent.target)||li(ee.browserEvent.target)||this.isSelectionChangeEvent(ee))return;const fe=this.list.getFocus();this.list.setSelection(fe,ee.browserEvent)}changeSelection(ee){const fe=ee.index;let it=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ee)){typeof it>"u"&&(it=this.list.getFocus()[0]??fe,this.list.setAnchor(it));const It=Math.min(it,fe),en=Math.max(it,fe),Tt=(0,a.w6)(It,en+1),q=this.list.getSelection(),Te=function Ht(Rt,ee){const fe=Rt.indexOf(ee);if(-1===fe)return[];const it=[];let It=fe-1;for(;It>=0&&Rt[It]===ee-(fe-It);)it.push(Rt[It--]);for(it.reverse(),It=fe;It<Rt.length&&Rt[It]===ee+(It-fe);)it.push(Rt[It++]);return it}(Qt(q,[it]),it);if(0===Te.length)return;const rt=Qt(Tt,function bn(Rt,ee){const fe=[];let it=0,It=0;for(;it<Rt.length||It<ee.length;)if(it>=Rt.length)fe.push(ee[It++]);else if(It>=ee.length)fe.push(Rt[it++]);else{if(Rt[it]===ee[It]){it++,It++;continue}Rt[it]<ee[It]?fe.push(Rt[it++]):It++}return fe}(q,Te));this.list.setSelection(rt,ee.browserEvent),this.list.setFocus([fe],ee.browserEvent)}else if(this.isSelectionSingleChangeEvent(ee)){const It=this.list.getSelection(),en=It.filter(Tt=>Tt!==fe);this.list.setFocus([fe]),this.list.setAnchor(fe),this.list.setSelection(It.length===en.length?[...en,fe]:en,ee.browserEvent)}}dispose(){this.disposables.dispose()}}class En{constructor(ee,fe){this.styleElement=ee,this.selectorSuffix=fe}style(ee){const fe=this.selectorSuffix&&`.${this.selectorSuffix}`,it=[];ee.listBackground&&(ee.listBackground.isOpaque()?it.push(`.monaco-list${fe} .monaco-list-rows { background: ${ee.listBackground}; }`):M.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),ee.listFocusBackground&&(it.push(`.monaco-list${fe}:focus .monaco-list-row.focused { background-color: ${ee.listFocusBackground}; }`),it.push(`.monaco-list${fe}:focus .monaco-list-row.focused:hover { background-color: ${ee.listFocusBackground}; }`)),ee.listFocusForeground&&it.push(`.monaco-list${fe}:focus .monaco-list-row.focused { color: ${ee.listFocusForeground}; }`),ee.listActiveSelectionBackground&&(it.push(`.monaco-list${fe}:focus .monaco-list-row.selected { background-color: ${ee.listActiveSelectionBackground}; }`),it.push(`.monaco-list${fe}:focus .monaco-list-row.selected:hover { background-color: ${ee.listActiveSelectionBackground}; }`)),ee.listActiveSelectionForeground&&it.push(`.monaco-list${fe}:focus .monaco-list-row.selected { color: ${ee.listActiveSelectionForeground}; }`),ee.listActiveSelectionIconForeground&&it.push(`.monaco-list${fe}:focus .monaco-list-row.selected .codicon { color: ${ee.listActiveSelectionIconForeground}; }`),ee.listFocusAndSelectionOutline&&it.push(`.monaco-list${fe}:focus .monaco-list-row.selected { outline-color: ${ee.listFocusAndSelectionOutline} !important; }`),ee.listFocusAndSelectionBackground&&it.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${fe}:focus .monaco-list-row.selected.focused { background-color: ${ee.listFocusAndSelectionBackground}; }\n\t\t\t`),ee.listFocusAndSelectionForeground&&it.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${fe}:focus .monaco-list-row.selected.focused { color: ${ee.listFocusAndSelectionForeground}; }\n\t\t\t`),ee.listInactiveFocusForeground&&(it.push(`.monaco-list${fe} .monaco-list-row.focused { color:  ${ee.listInactiveFocusForeground}; }`),it.push(`.monaco-list${fe} .monaco-list-row.focused:hover { color:  ${ee.listInactiveFocusForeground}; }`)),ee.listInactiveSelectionIconForeground&&it.push(`.monaco-list${fe} .monaco-list-row.focused .codicon { color:  ${ee.listInactiveSelectionIconForeground}; }`),ee.listInactiveFocusBackground&&(it.push(`.monaco-list${fe} .monaco-list-row.focused { background-color:  ${ee.listInactiveFocusBackground}; }`),it.push(`.monaco-list${fe} .monaco-list-row.focused:hover { background-color:  ${ee.listInactiveFocusBackground}; }`)),ee.listInactiveSelectionBackground&&(it.push(`.monaco-list${fe} .monaco-list-row.selected { background-color:  ${ee.listInactiveSelectionBackground}; }`),it.push(`.monaco-list${fe} .monaco-list-row.selected:hover { background-color:  ${ee.listInactiveSelectionBackground}; }`)),ee.listInactiveSelectionForeground&&it.push(`.monaco-list${fe} .monaco-list-row.selected { color: ${ee.listInactiveSelectionForeground}; }`),ee.listHoverBackground&&it.push(`.monaco-list${fe}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ee.listHoverBackground}; }`),ee.listHoverForeground&&it.push(`.monaco-list${fe} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ee.listHoverForeground}; }`),ee.listSelectionOutline&&it.push(`.monaco-list${fe} .monaco-list-row.selected { outline: 1px dotted ${ee.listSelectionOutline}; outline-offset: -1px; }`),ee.listFocusOutline&&it.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${fe}:focus .monaco-list-row.focused { outline: 1px solid ${ee.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${fe}.last-focused .monaco-list-row.focused { outline: 1px solid ${ee.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),ee.listInactiveFocusOutline&&it.push(`.monaco-list${fe} .monaco-list-row.focused { outline: 1px dotted ${ee.listInactiveFocusOutline}; outline-offset: -1px; }`),ee.listHoverOutline&&it.push(`.monaco-list${fe} .monaco-list-row:hover { outline: 1px dashed ${ee.listHoverOutline}; outline-offset: -1px; }`),ee.listDropBackground&&it.push(`\n\t\t\t\t.monaco-list${fe}.drop-target,\n\t\t\t\t.monaco-list${fe} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${fe} .monaco-list-row.drop-target { background-color: ${ee.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),ee.tableColumnsBorder&&it.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${ee.tableColumnsBorder};\n\t\t\t}`),ee.tableOddRowsBackgroundColor&&it.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${ee.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=it.join("\n")}}const ut={listFocusBackground:s.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:s.Il.fromHex("#0E639C"),listActiveSelectionForeground:s.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:s.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:s.Il.fromHex("#094771"),listFocusAndSelectionForeground:s.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:s.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listHoverBackground:s.Il.fromHex("#2A2D2E"),listDropBackground:s.Il.fromHex("#383B3D"),treeIndentGuidesStroke:s.Il.fromHex("#a9a9a9"),tableColumnsBorder:s.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:s.Il.fromHex("#cccccc").transparent(.04)},Pt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function Qt(Rt,ee){const fe=[];let it=0,It=0;for(;it<Rt.length||It<ee.length;)if(it>=Rt.length)fe.push(ee[It++]);else if(It>=ee.length)fe.push(Rt[it++]);else{if(Rt[it]===ee[It]){fe.push(Rt[it]),it++,It++;continue}fe.push(Rt[it]<ee[It]?Rt[it++]:ee[It++])}return fe}const Re=(Rt,ee)=>Rt-ee;class ct{constructor(ee,fe){this._templateId=ee,this.renderers=fe}get templateId(){return this._templateId}renderTemplate(ee){return this.renderers.map(fe=>fe.renderTemplate(ee))}renderElement(ee,fe,it,It){let en=0;for(const Tt of this.renderers)Tt.renderElement(ee,fe,it[en++],It)}disposeElement(ee,fe,it,It){let en=0;for(const Tt of this.renderers)Tt.disposeElement?.(ee,fe,it[en],It),en+=1}disposeTemplate(ee){let fe=0;for(const it of this.renderers)it.disposeTemplate(ee[fe++])}}class Cn{constructor(ee){this.accessibilityProvider=ee,this.templateId="a18n"}renderTemplate(ee){return ee}renderElement(ee,fe,it){const It=this.accessibilityProvider.getAriaLabel(ee);It?it.setAttribute("aria-label",It):it.removeAttribute("aria-label");const en=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ee);"number"==typeof en?it.setAttribute("aria-level",`${en}`):it.removeAttribute("aria-level")}disposeTemplate(ee){}}class Hn{constructor(ee,fe){this.list=ee,this.dnd=fe}getDragElements(ee){const fe=this.list.getSelectedElements();return fe.indexOf(ee)>-1?fe:[ee]}getDragURI(ee){return this.dnd.getDragURI(ee)}getDragLabel(ee,fe){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ee,fe)}onDragStart(ee,fe){this.dnd.onDragStart?.(ee,fe)}onDragOver(ee,fe,it,It){return this.dnd.onDragOver(ee,fe,it,It)}onDragLeave(ee,fe,it,It){this.dnd.onDragLeave?.(ee,fe,it,It)}onDragEnd(ee){this.dnd.onDragEnd?.(ee)}drop(ee,fe,it,It){this.dnd.drop(ee,fe,it,It)}}function bi(Rt,ee){const fe=Math.pow(10,ee);return Math.round(Rt*fe)/fe}class di{constructor(ee,fe,it,It=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,ee)),this.g=0|Math.min(255,Math.max(0,fe)),this.b=0|Math.min(255,Math.max(0,it)),this.a=bi(Math.max(Math.min(1,It),0),3)}static equals(ee,fe){return ee.r===fe.r&&ee.g===fe.g&&ee.b===fe.b&&ee.a===fe.a}}class Ft{constructor(ee,fe,it,It){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,ee),0),this.s=bi(Math.max(Math.min(1,fe),0),3),this.l=bi(Math.max(Math.min(1,it),0),3),this.a=bi(Math.max(Math.min(1,It),0),3)}static equals(ee,fe){return ee.h===fe.h&&ee.s===fe.s&&ee.l===fe.l&&ee.a===fe.a}static fromRGBA(ee){const fe=ee.r/255,it=ee.g/255,It=ee.b/255,en=ee.a,Tt=Math.max(fe,it,It),q=Math.min(fe,it,It);let Te=0,rt=0;const Gt=(q+Tt)/2,cn=Tt-q;if(cn>0){switch(rt=Math.min(Gt<=.5?cn/(2*Gt):cn/(2-2*Gt),1),Tt){case fe:Te=(it-It)/cn+(it<It?6:0);break;case it:Te=(It-fe)/cn+2;break;case It:Te=(fe-it)/cn+4}Te*=60,Te=Math.round(Te)}return new Ft(Te,rt,Gt,en)}static _hue2rgb(ee,fe,it){return it<0&&(it+=1),it>1&&(it-=1),it<1/6?ee+6*(fe-ee)*it:it<.5?fe:it<2/3?ee+(fe-ee)*(2/3-it)*6:ee}static toRGBA(ee){const fe=ee.h/360,{s:it,l:It,a:en}=ee;let Tt,q,Te;if(0===it)Tt=q=Te=It;else{const rt=It<.5?It*(1+it):It+it-It*it,Gt=2*It-rt;Tt=Ft._hue2rgb(Gt,rt,fe+1/3),q=Ft._hue2rgb(Gt,rt,fe),Te=Ft._hue2rgb(Gt,rt,fe-1/3)}return new di(Math.round(255*Tt),Math.round(255*q),Math.round(255*Te),en)}}class R{constructor(ee,fe,it,It){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,ee),0),this.s=bi(Math.max(Math.min(1,fe),0),3),this.v=bi(Math.max(Math.min(1,it),0),3),this.a=bi(Math.max(Math.min(1,It),0),3)}static equals(ee,fe){return ee.h===fe.h&&ee.s===fe.s&&ee.v===fe.v&&ee.a===fe.a}static fromRGBA(ee){const fe=ee.r/255,it=ee.g/255,It=ee.b/255,en=Math.max(fe,it,It),q=en-Math.min(fe,it,It),Te=0===en?0:q/en;let rt;return rt=0===q?0:en===fe?((it-It)/q%6+6)%6:en===it?(It-fe)/q+2:(fe-it)/q+4,new R(Math.round(60*rt),Te,en,ee.a)}static toRGBA(ee){const{h:fe,s:it,v:It,a:en}=ee,Tt=It*it,q=Tt*(1-Math.abs(fe/60%2-1)),Te=It-Tt;let[rt,Gt,cn]=[0,0,0];return fe<60?(rt=Tt,Gt=q):fe<120?(rt=q,Gt=Tt):fe<180?(Gt=Tt,cn=q):fe<240?(Gt=q,cn=Tt):fe<300?(rt=q,cn=Tt):fe<=360&&(rt=Tt,cn=q),rt=Math.round(255*(rt+Te)),Gt=Math.round(255*(Gt+Te)),cn=Math.round(255*(cn+Te)),new di(rt,Gt,cn,en)}}class J{constructor(ee){if(!ee)throw new Error("Color needs a value");if(ee instanceof di)this.rgba=ee;else if(ee instanceof Ft)this._hsla=ee,this.rgba=Ft.toRGBA(ee);else{if(!(ee instanceof R))throw new Error("Invalid color ctor argument");this._hsva=ee,this.rgba=R.toRGBA(ee)}}static fromHex(ee){return J.Format.CSS.parseHex(ee)||J.red}get hsla(){return this._hsla?this._hsla:Ft.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:R.fromRGBA(this.rgba)}equals(ee){return!!ee&&di.equals(this.rgba,ee.rgba)&&Ft.equals(this.hsla,ee.hsla)&&R.equals(this.hsva,ee.hsva)}getRelativeLuminance(){return bi(.2126*J._relativeLuminanceForComponent(this.rgba.r)+.7152*J._relativeLuminanceForComponent(this.rgba.g)+.0722*J._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(ee){const fe=ee/255;return fe<=.03928?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}getContrastRatio(ee){const fe=this.getRelativeLuminance(),it=ee.getRelativeLuminance();return fe>it?(fe+.05)/(it+.05):(it+.05)/(fe+.05)}isDarker(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(ee){return this.getRelativeLuminance()>ee.getRelativeLuminance()}isDarkerThan(ee){return this.getRelativeLuminance()<ee.getRelativeLuminance()}lighten(ee){return new J(new Ft(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*ee,this.hsla.a))}darken(ee){return new J(new Ft(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*ee,this.hsla.a))}transparent(ee){const{r:fe,g:it,b:It,a:en}=this.rgba;return new J(new di(fe,it,It,en*ee))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new J(new di(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(ee){const fe=ee.rgba,it=this.rgba.a,It=fe.a,en=it+It*(1-it);return en<1e-6?J.transparent:new J(new di(this.rgba.r*it/en+fe.r*It*(1-it)/en,this.rgba.g*it/en+fe.g*It*(1-it)/en,this.rgba.b*it/en+fe.b*It*(1-it)/en,en))}makeOpaque(ee){if(this.isOpaque()||1!==ee.rgba.a)return this;const{r:fe,g:it,b:It,a:en}=this.rgba;return new J(new di(ee.rgba.r-en*(ee.rgba.r-fe),ee.rgba.g-en*(ee.rgba.g-it),ee.rgba.b-en*(ee.rgba.b-It),1))}flatten(...ee){const fe=ee.reduceRight((it,It)=>J._flatten(It,it));return J._flatten(this,fe)}static _flatten(ee,fe){const it=1-ee.rgba.a;return new J(new di(it*fe.rgba.r+ee.rgba.a*ee.rgba.r,it*fe.rgba.g+ee.rgba.a*ee.rgba.g,it*fe.rgba.b+ee.rgba.a*ee.rgba.b))}toString(){return this._toString||(this._toString=J.Format.CSS.format(this)),this._toString}static getLighterColor(ee,fe,it){if(ee.isLighterThan(fe))return ee;it=it||.5;const It=ee.getRelativeLuminance(),en=fe.getRelativeLuminance();return ee.lighten(it=it*(en-It)/en)}static getDarkerColor(ee,fe,it){if(ee.isDarkerThan(fe))return ee;it=it||.5;const It=ee.getRelativeLuminance(),en=fe.getRelativeLuminance();return ee.darken(it=it*(It-en)/It)}}var Rt,ee,_e,je;function Ye(Rt,ee){Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(ee))}function at(Rt,ee,fe,it){for(const It of Object.getOwnPropertyNames(ee))Object.hasOwnProperty.call(Rt,It)||(Rt[It]=function(...en){return fe(ee[It].call(this,...en.map(it)))})}J.white=new J(new di(255,255,255,1)),J.black=new J(new di(0,0,0,1)),J.red=new J(new di(255,0,0,1)),J.blue=new J(new di(0,0,255,1)),J.green=new J(new di(0,255,0,1)),J.cyan=new J(new di(0,255,255,1)),J.lightgrey=new J(new di(211,211,211,1)),J.transparent=new J(new di(0,0,0,0)),function(fe){function q(In){const ei=In.toString(16);return 2!==ei.length?"0"+ei:ei}function Ln(In){switch(In){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}fe.formatRGB=function it(In){return 1===In.rgba.a?`rgb(${In.rgba.r}, ${In.rgba.g}, ${In.rgba.b})`:Rt.Format.CSS.formatRGBA(In)},fe.formatRGBA=function It(In){return`rgba(${In.rgba.r}, ${In.rgba.g}, ${In.rgba.b}, ${+In.rgba.a.toFixed(2)})`},fe.formatHSL=function en(In){return 1===In.hsla.a?`hsl(${In.hsla.h}, ${(100*In.hsla.s).toFixed(2)}%, ${(100*In.hsla.l).toFixed(2)}%)`:Rt.Format.CSS.formatHSLA(In)},fe.formatHSLA=function Tt(In){return`hsla(${In.hsla.h}, ${(100*In.hsla.s).toFixed(2)}%, ${(100*In.hsla.l).toFixed(2)}%, ${In.hsla.a.toFixed(2)})`},fe.formatHex=function Te(In){return`#${q(In.rgba.r)}${q(In.rgba.g)}${q(In.rgba.b)}`},fe.formatHexA=function rt(In,ei=!1){return ei&&1===In.rgba.a?Rt.Format.CSS.formatHex(In):`#${q(In.rgba.r)}${q(In.rgba.g)}${q(In.rgba.b)}${q(Math.round(255*In.rgba.a))}`},fe.format=function Gt(In){return In.isOpaque()?Rt.Format.CSS.formatHex(In):Rt.Format.CSS.formatRGBA(In)},fe.parseHex=function cn(In){const ei=In.length;if(0===ei||35!==In.charCodeAt(0))return null;if(7===ei){const Jn=16*Ln(In.charCodeAt(1))+Ln(In.charCodeAt(2)),gi=16*Ln(In.charCodeAt(3))+Ln(In.charCodeAt(4)),pi=16*Ln(In.charCodeAt(5))+Ln(In.charCodeAt(6));return new Rt(new di(Jn,gi,pi,1))}if(9===ei){const Jn=16*Ln(In.charCodeAt(1))+Ln(In.charCodeAt(2)),gi=16*Ln(In.charCodeAt(3))+Ln(In.charCodeAt(4)),pi=16*Ln(In.charCodeAt(5))+Ln(In.charCodeAt(6)),Ci=16*Ln(In.charCodeAt(7))+Ln(In.charCodeAt(8));return new Rt(new di(Jn,gi,pi,Ci/255))}if(4===ei){const Jn=Ln(In.charCodeAt(1)),gi=Ln(In.charCodeAt(2)),pi=Ln(In.charCodeAt(3));return new Rt(new di(16*Jn+Jn,16*gi+gi,16*pi+pi))}if(5===ei){const Jn=Ln(In.charCodeAt(1)),gi=Ln(In.charCodeAt(2)),pi=Ln(In.charCodeAt(3)),Ci=Ln(In.charCodeAt(4));return new Rt(new di(16*Jn+Jn,16*gi+gi,16*pi+pi,(16*Ci+Ci)/255))}return null}}((ee=(Rt=J||(J={})).Format||(Rt.Format={})).CSS||(ee.CSS={})),null==oe.Yj.prototype.text?oe.Yj.prototype.text=function(Rt){return this.parse(Rt).toString()}:console.warn("Useless polyfill: SnippetParser"),Ye(Ne.$V.prototype,class Pi extends l.JT{constructor(ee){super(),this.logger=ee,this._register(ee)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(ee){this.logger.setLevel(ee)}getLevel(){return this.logger.getLevel()}trace(ee,...fe){this.logger.trace(ee,...fe)}debug(ee,...fe){this.logger.debug(ee,...fe)}info(ee,...fe){this.logger.info(ee,...fe)}warn(ee,...fe){this.logger.warn(ee,...fe)}error(ee,...fe){this.logger.error(ee,...fe)}critical(ee,...fe){this.logger.critical(ee,...fe)}flush(){this.logger.flush()}}.prototype),Ye(K.aV.prototype,class Ii{constructor(ee,fe,it,It,en=Pt){this.user=ee,this._options=en,this.focus=new Io("focused"),this.anchor=new Io("anchor"),this.eventBufferer=new H.E7,this._ariaLabel="",this.disposables=new l.SL,this._onDidDispose=new c.E,this.onDidDispose=this._onDidDispose.event;const Tt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new Yi("listbox"!==Tt),(0,C.jB)(en,ut,!1);const q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=en.accessibilityProvider,this.accessibilityProvider&&(q.push(new Cn(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),It=It.map(rt=>new ct(rt.templateId,[...q,rt]));const Te={...en,dnd:en.dnd&&new Hn(this,en.dnd)};if(this.view=new U.Bv(fe,it,It,Te),this.view.domNode.setAttribute("role",Tt),en.styleController)this.styleController=en.styleController(this.view.domId);else{const rt=(0,L.dS)(this.view.domNode);this.styleController=new En(rt,this.view.domId)}this.spliceable=new ne.J([new ho(this.focus,this.view,en.identityProvider),new ho(this.selection,this.view,en.identityProvider),new ho(this.anchor,this.view,en.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new dn(this,this.view)),("boolean"!=typeof en.keyboardSupport||en.keyboardSupport)&&(this.keyboardController=new Xt(this,this.view,en),this.disposables.add(this.keyboardController)),en.keyboardNavigationLabelProvider&&(this.typeNavigationController=new Wn(this,this.view,en.keyboardNavigationLabelProvider,en.keyboardNavigationEventFilter??(()=>!0),en.keyboardNavigationDelegate||Rn),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(en),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return H.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ee=>this.toListEvent(ee),this.disposables)}get onDidChangeSelection(){return H.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ee=>this.toListEvent(ee),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ee=!1;const fe=this.disposables.add(H.ju.chain(this.disposables.add(new N.Y(this.view.domNode,"keydown")).event)).map(en=>new W.y(en)).filter(en=>ee=58===en.keyCode||en.shiftKey&&68===en.keyCode).map(N.p).filter(()=>!1).event,it=this.disposables.add(H.ju.chain(this.disposables.add(new N.Y(this.view.domNode,"keyup")).event)).forEach(()=>ee=!1).map(en=>new W.y(en)).filter(en=>58===en.keyCode||en.shiftKey&&68===en.keyCode).map(N.p).map(({browserEvent:en})=>{const Tt=this.getFocus(),q=Tt.length?Tt[0]:void 0;return{index:q,element:typeof q<"u"?this.view.element(q):void 0,anchor:typeof q<"u"?this.view.domElement(q):this.view.domNode,browserEvent:en}}).event,It=this.disposables.add(H.ju.chain(this.view.onContextMenu)).filter(en=>!ee).map(({element:en,index:Tt,browserEvent:q})=>({element:en,index:Tt,anchor:{x:q.pageX+1,y:q.pageY},browserEvent:q})).event;return H.ju.any(fe,it,It)}get onKeyDown(){return this.disposables.add(new N.Y(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new N.Y(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new N.Y(this.view.domNode,"keypress")).event}get onDidFocus(){return H.ju.signal(this.disposables.add(new N.Y(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return H.ju.signal(this.disposables.add(new N.Y(this.view.domNode,"blur",!0)).event)}createMouseController(ee){return new Pn(this)}updateOptions(ee={}){this._options={...this._options,...ee},this.typeNavigationController?.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ee),this.keyboardController?.updateOptions(ee),this.view.updateOptions(ee)}get options(){return this._options}splice(ee,fe,it=[]){if(ee<0||ee>this.view.length)throw new Z.A(this.user,`Invalid start index: ${ee}`);if(fe<0)throw new Z.A(this.user,`Invalid delete count: ${fe}`);0===fe&&0===it.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ee,fe,it))}updateWidth(ee){this.view.updateWidth(ee)}updateElementHeight(ee,fe){this.view.updateElementHeight(ee,fe,null)}rerender(){this.view.rerender()}element(ee){return this.view.element(ee)}indexOf(ee){return this.view.indexOf(ee)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ee){this.view.setScrollTop(ee)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(ee){this.view.setScrollLeft(ee)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(ee){this._ariaLabel=ee,this.view.domNode.setAttribute("aria-label",ee)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ee,fe){this.view.layout(ee,fe)}triggerTypeNavigation(){this.typeNavigationController&&this.typeNavigationController.trigger()}setSelection(ee,fe){for(const it of ee)if(it<0||it>=this.length)throw new Z.A(this.user,`Invalid index ${it}`);this.selection.set(ee,fe)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ee=>this.view.element(ee))}setAnchor(ee){if(typeof ee>"u")this.anchor.set([]);else{if(ee<0||ee>=this.length)throw new Z.A(this.user,`Invalid index ${ee}`);this.anchor.set([ee])}}getAnchor(){return(0,a.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ee=this.getAnchor();return typeof ee>"u"?void 0:this.element(ee)}setFocus(ee,fe){for(const it of ee)if(it<0||it>=this.length)throw new Z.A(this.user,`Invalid index ${it}`);this.focus.set(ee,fe)}focusNext(ee=1,fe=!1,it,It){if(0===this.length)return;const en=this.focus.get(),Tt=this.findNextIndex(en.length>0?en[0]+ee:0,fe,It);Tt>-1&&this.setFocus([Tt],it)}focusPrevious(ee=1,fe=!1,it,It){if(0===this.length)return;const en=this.focus.get(),Tt=this.findPreviousIndex(en.length>0?en[0]-ee:0,fe,It);Tt>-1&&this.setFocus([Tt],it)}focusNextPage(ee,fe){var it=this;return(0,d.Z)(function*(){let It=it.view.indexAt(it.view.getScrollTop()+it.view.renderHeight);It=0===It?0:It-1;const en=it.getFocus()[0];if(en!==It&&(void 0===en||It>en)){const Tt=it.findPreviousIndex(It,!1,fe);it.setFocus(Tt>-1&&en!==Tt?[Tt]:[It],ee)}else{const Tt=it.view.getScrollTop();let q=Tt+it.view.renderHeight;It>en&&(q-=it.view.elementHeight(It)),it.view.setScrollTop(q),it.view.getScrollTop()!==Tt&&(it.setFocus([]),yield(0,E.Vs)(0),yield it.focusNextPage(ee,fe))}})()}focusPreviousPage(ee,fe){var it=this;return(0,d.Z)(function*(){let It;const en=it.view.getScrollTop();It=0===en?it.view.indexAt(en):it.view.indexAfter(en-1);const Tt=it.getFocus()[0];if(Tt!==It&&(void 0===Tt||Tt>=It)){const q=it.findNextIndex(It,!1,fe);it.setFocus(q>-1&&Tt!==q?[q]:[It],ee)}else{const q=en;it.view.setScrollTop(en-it.view.renderHeight),it.view.getScrollTop()!==q&&(it.setFocus([]),yield(0,E.Vs)(0),yield it.focusPreviousPage(ee,fe))}})()}focusLast(ee,fe){if(0===this.length)return;const it=this.findPreviousIndex(this.length-1,!1,fe);it>-1&&this.setFocus([it],ee)}focusFirst(ee,fe){this.focusNth(0,ee,fe)}focusNth(ee,fe,it){if(0===this.length)return;const It=this.findNextIndex(ee,!1,it);It>-1&&this.setFocus([It],fe)}findNextIndex(ee,fe=!1,it){for(let It=0;It<this.length;It++){if(ee>=this.length&&!fe)return-1;if(ee%=this.length,!it||it(this.element(ee)))return ee;ee++}return-1}findPreviousIndex(ee,fe=!1,it){for(let It=0;It<this.length;It++){if(ee<0&&!fe)return-1;if(ee=(this.length+ee%this.length)%this.length,!it||it(this.element(ee)))return ee;ee--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ee=>this.view.element(ee))}reveal(ee,fe){if(ee<0||ee>=this.length)throw new Z.A(this.user,`Invalid index ${ee}`);const it=this.view.getScrollTop(),It=this.view.elementTop(ee),en=this.view.elementHeight(ee);if((0,_.hj)(fe))this.view.setScrollTop((en-this.view.renderHeight)*(0,ge.uZ)(fe,0,1)+It);else{const Tt=It+en,q=it+this.view.renderHeight;It<it&&Tt>=q||(It<it||Tt>=q&&en>=this.view.renderHeight?this.view.setScrollTop(It):Tt>=q&&this.view.setScrollTop(Tt-this.view.renderHeight))}}getRelativeTop(ee){if(ee<0||ee>=this.length)throw new Z.A(this.user,`Invalid index ${ee}`);const fe=this.view.getScrollTop(),it=this.view.elementTop(ee),It=this.view.elementHeight(ee);return it<fe||it+It>fe+this.view.renderHeight?null:Math.abs((fe-it)/(It-this.view.renderHeight))}isDOMFocused(){return this.view.domNode===document.activeElement}getHTMLElement(){return this.view.domNode}getElementID(ee){return this.view.getElementDomId(ee)}style(ee){this.styleController.style(ee)}toListEvent({indexes:ee,browserEvent:fe}){return{indexes:ee,elements:ee.map(it=>this.view.element(it)),browserEvent:fe}}_onFocusChange(){const ee=this.focus.get();this.view.domNode.classList.toggle("element-focused",ee.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){const ee=this.focus.get();if(ee.length>0){let fe;this.accessibilityProvider?.getActiveDescendantId&&(fe=this.accessibilityProvider.getActiveDescendantId(this.view.element(ee[0]))),this.view.domNode.setAttribute("aria-activedescendant",fe||this.view.getElementDomId(ee[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ee=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===ee.length),this.view.domNode.classList.toggle("selection-single",1===ee.length),this.view.domNode.classList.toggle("selection-multiple",ee.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}.prototype),Ye(j.md.prototype,c.W.prototype),Ye(t.t.prototype,Eo.prototype),Ye(S.qL.prototype,class Me{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(ee){setTimeout(()=>{throw ee.stack?ze.isErrorNoTelemetry(ee)?new ze(ee.message+"\n\n"+ee.stack):new Error(ee.message+"\n\n"+ee.stack):ee},0)}}addListener(ee){return this.listeners.push(ee),()=>{this._removeListener(ee)}}emit(ee){this.listeners.forEach(fe=>{fe(ee)})}_removeListener(ee){this.listeners.splice(this.listeners.indexOf(ee),1)}setUnexpectedErrorHandler(ee){this.unexpectedErrorHandler=ee}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(ee){this.unexpectedErrorHandler(ee),this.emit(ee)}onUnexpectedExternalError(ee){this.unexpectedErrorHandler(ee)}}.prototype),Ye(k.uy.prototype,c.R.prototype),Ye(y.VK.prototype,an.prototype),Ye(x.Id.prototype,go.prototype),Ye(b.AC.prototype,class Wi{constructor(){this._onDidChangeConfiguration=new c.E,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new y.VK(new w.l,new y.VV,new y.VV,new y.VV)}getValue(ee,fe){const it="string"==typeof ee?ee:void 0,It=Ki(ee)?ee:Ki(fe)?fe:{};return this._configuration.getValue(it,It,void 0)}updateValues(ee){const fe={data:this._configuration.toData()},it=[];for(const It of ee){const[en,Tt]=It;this.getValue(en)!==Tt&&(this._configuration.updateValue(en,Tt),it.push(en))}if(it.length>0){const It=new y.YX({keys:it,overrides:[]},fe,this._configuration);It.source=8,It.sourceConfig=null,this._onDidChangeConfiguration.fire(It)}return Promise.resolve()}updateValue(ee,fe,it,It){return this.updateValues([[ee,fe]])}inspect(ee,fe={}){return this._configuration.inspect(ee,fe,void 0)}keys(){return this._configuration.keys(void 0)}reloadConfiguration(){return Promise.resolve(void 0)}getConfigurationData(){const ee={contents:{},keys:[],overrides:[]};return{defaults:ee,policy:ee,application:ee,user:ee,workspace:ee,folders:[]}}}.prototype),Ye(m.T.prototype,bt.prototype),Ye(g.EO.prototype,c.N.prototype),Ye(v.bB.prototype,class yt extends l.JT{constructor(ee){super(),this.themeService=ee,this.theme=ee.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(fe=>this.onThemeChange(fe)))}onThemeChange(ee){this.theme=ee,this.updateStyles()}updateStyles(){}getColor(ee,fe){let it=this.theme.getColor(ee);return it&&fe&&(it=fe(it,this.theme)),it?it.toString():null}}.prototype),Ye(T.k.prototype,nt.prototype);const on=z.B.as("base.contributions.json");on.getSchemaContributions??(on.getSchemaContributions=()=>({schemas:on.schemasById})),on.onDidChangeSchema??(on.onDidChangeSchema=on._onDidChangeSchema.event);const qt=z.B.as("base.contributions.theming");qt.onThemingParticipantAdded??(qt.onThemingParticipantAdded=qt.onThemingParticipantAddedEmitter.event);const yn=z.B.as(O.IP.Configuration);function Tn(Rt){return function(){const ee=Rt.call(this);return ee.onDidTriggerButton??(ee.onDidTriggerButton=ee.onDidTriggerButtonEmitter.event),ee}}function Kn(Rt){return Rt instanceof n.KN?st.wrap(Rt.buffer):Rt}function ni(Rt){return Rt instanceof st?n.KN.wrap(Rt.buffer):Rt}yn.onDidUpdateConfiguration??(yn.onDidUpdateConfiguration=yn._onDidUpdateConfiguration.event),yn.onDidSchemaChange??(yn.onDidSchemaChange=yn._onDidSchemaChange.event),yn.notifyConfigurationSchemaUpdated??(yn.notifyConfigurationSchemaUpdated=()=>{yn._onDidSchemaChange.fire()}),(_e=g.EO.prototype).onDidClose??(_e.onDidClose=H.ju.None),Se.O.prototype.createQuickPick=Tn(Se.O.prototype.createQuickPick),Se.O.prototype.createInputBox=Tn(Se.O.prototype.createInputBox),(je=(0,Ie.d)().find(([Rt])=>Rt===me.e)[1].ctor.prototype).onDidChangeFormatters??(je.onDidChangeFormatters=H.ju.None);for(const Rt of Object.getOwnPropertyNames(st))if(!Object.hasOwnProperty.call(n.KN,Rt)){const ee=st[Rt];st[Rt]=n.KN[Rt]=function(...fe){return ni(ee.call(n.KN,...fe.map(Kn)))}}at(n.KN.prototype,st.prototype,ni,Kn),at(s.Il.prototype,J.prototype,function hi(Rt){if(Rt instanceof J){const ee=Rt.rgba;return new s.Il(new s.VS(ee.r,ee.g,ee.g,ee.a))}return Rt},function fi(Rt){if(Rt instanceof s.Il){const ee=Rt.rgba;return new J(new di(ee.r,ee.g,ee.g,ee.a))}return Rt})},4496:(Dt,Y,e)=>{"use strict";e.d(Y,{A:()=>he,C:()=>g,F:()=>y,I:()=>ve,P:()=>oe,S:()=>Bt,a:()=>w,b:()=>$e,c:()=>Qe,d:()=>z,e:()=>le,f:()=>xe,g:()=>qe,h:()=>Ce,i:()=>b,j:()=>Pe,k:()=>dt,l:()=>st,m:()=>K,n:()=>vt,o:()=>mt,p:()=>et,q:()=>Se,r:()=>_t,s:()=>u});var d=e(17374),n=e(9265),l=e(37188),S=e(67044),v=e(24596),T=e(40734),C=e(59547),E=e(80142),L=e(29693),_=e(89982),s=e(55197),m=e(48648),c=e(5067),t=e(7626),a=e(15067);function u(Ke){return Ke}e(3778);const g=_.CancellationTokenSource,b=(0,n.yh)("fileService");var y=(()=>{return(Ke=y||(y={}))[Ke.Unknown=0]="Unknown",Ke[Ke.File=1]="File",Ke[Ke.Directory=2]="Directory",Ke[Ke.SymbolicLink=64]="SymbolicLink",y;var Ke})(),w=(()=>{return(Ke=w||(w={}))[Ke.Readonly=1]="Readonly",w;var Ke})(),z=(()=>{return(Ke=z||(z={})).FileExists="EntryExists",Ke.FileNotFound="EntryNotFound",Ke.FileNotADirectory="EntryNotADirectory",Ke.FileIsADirectory="EntryIsADirectory",Ke.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",Ke.FileTooLarge="EntryTooLarge",Ke.FileWriteLocked="EntryWriteLocked",Ke.NoPermissions="NoPermissions",Ke.Unavailable="Unavailable",Ke.Unknown="Unknown",z;var Ke})();class k extends Error{constructor(ht,jt){super(ht),this.code=jt}}function K(Ke,ht){return Ke.name=ht?`${ht} (FileSystemError)`:"FileSystemError",Ke}class Z extends Error{constructor(ht,jt,fn){super(ht),this.fileOperationResult=jt,this.options=fn}}const xe=(0,n.yh)("IUriIdentityService"),oe="workbench.experimental.settingsProfiles.enabled",Se=(0,n.yh)("IUserDataProfilesService");function me(Ke,ht,jt){return{id:(0,t.vp)(ht.path).toString(16),name:Ke,location:ht,isDefault:!1,globalStorageHome:(0,T.Vo)(ht,"globalStorage"),settingsResource:(0,T.Vo)(ht,"settings.json"),keybindingsResource:(0,T.Vo)(ht,"keybindings.json"),tasksResource:(0,T.Vo)(ht,"tasks.json"),snippetsHome:(0,T.Vo)(ht,"snippets"),extensionsResource:(0,T.Vo)(ht,"extensions.json"),useDefaultFlags:jt}}let Me=class extends E.JT{constructor(ht,jt,fn,Dn){super(),this.environmentService=ht,this.fileService=jt,this.uriIdentityService=fn,this.logService=Dn,this.enabled=!1,this.defaultProfileShouldIncludeExtensionsResourceAlways=!1,this._onDidChangeProfiles=this._register(new S.E),this.onDidChangeProfiles=this._onDidChangeProfiles.event,this._onWillCreateProfile=this._register(new S.E),this.onWillCreateProfile=this._onWillCreateProfile.event,this._onWillRemoveProfile=this._register(new S.E),this.onWillRemoveProfile=this._onWillRemoveProfile.event,this.profilesHome=(0,T.Vo)(this.environmentService.userRoamingDataHome,"profiles")}get defaultProfile(){return this.profiles[0]}get profiles(){return this.profilesObject.profiles}setEnablement(ht){this.enabled!==ht&&(this._profilesObject=void 0,this.enabled=ht)}get profilesObject(){if(!this._profilesObject){const ht=this.enabled?this.getStoredProfiles().map(yt=>me(yt.name,yt.location,yt.useDefaultFlags)):[];let jt;const fn=new c.Y9;if(ht.length){const yt=this.getStoredProfileAssociations();if(yt.workspaces)for(const[He,ye]of Object.entries(yt.workspaces)){const Ae=C.o.parse(He),ue=C.o.parse(ye),be=ht.find(Je=>this.uriIdentityService.extUri.isEqual(Je.location,ue));be&&fn.set(Ae,be)}if(yt.emptyWindow){const He=C.o.parse(yt.emptyWindow);jt=ht.find(ye=>this.uriIdentityService.extUri.isEqual(ye.location,He))}}const Dn=me((0,s.NC)("defaultProfile","Default"),this.environmentService.userRoamingDataHome);ht.unshift({...Dn,isDefault:!0,extensionsResource:this.defaultProfileShouldIncludeExtensionsResourceAlways||ht.length>0?Dn.extensionsResource:void 0}),this._profilesObject={profiles:ht,workspaces:fn,emptyWindow:jt}}return this._profilesObject}getProfile(ht){const jt=this.getWorkspace(ht);return(C.o.isUri(jt)?this.profilesObject.workspaces.get(jt):this.profilesObject.emptyWindow)??this.defaultProfile}getWorkspace(ht){return(0,v.eb)(ht)?ht.uri:(0,S.i)(ht)?ht.configPath:"empty-window"}createProfile(ht,jt,fn){var Dn=this;return(0,d.Z)(function*(){if(!Dn.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);if(Dn.getStoredProfiles().some(ye=>ye.name===ht))throw new Error(`Profile with name ${ht} already exists`);const yt=me(ht,(0,T.Vo)(Dn.profilesHome,(0,t.vp)((0,a.R)()).toString(16)),jt);yield Dn.fileService.createFolder(yt.location);const He=[];return Dn._onWillCreateProfile.fire({profile:yt,join(ye){He.push(ye)}}),yield m.jT.settled(He),Dn.updateProfiles([yt],[],[]),fn&&(yield Dn.setProfileForWorkspace(yt,fn)),yt})()}updateProfile(ht,jt,fn){var Dn=this;return(0,d.Z)(function*(){if(!Dn.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);let yt=Dn.profiles.find(He=>He.id===ht.id);if(!yt)throw new Error(`Profile '${ht.name}' does not exist`);return yt=me(jt,yt.location,fn),Dn.updateProfiles([],[],[yt]),yt})()}setProfileForWorkspace(ht,jt){var fn=this;return(0,d.Z)(function*(){if(!fn.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);const Dn=fn.profiles.find(yt=>yt.id===ht.id);if(!Dn)throw new Error(`Profile '${ht.name}' does not exist`);fn.updateWorkspaceAssociation(jt,Dn)})()}unsetWorkspace(ht){var jt=this;return(0,d.Z)(function*(){if(!jt.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);jt.updateWorkspaceAssociation(ht)})()}removeProfile(ht){var jt=this;return(0,d.Z)(function*(){if(!jt.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);if(ht.isDefault)throw new Error("Cannot remove default profile");const fn=jt.profiles.find(yt=>yt.id===ht.id);if(!fn)throw new Error(`Profile '${ht.name}' does not exist`);const Dn=[];jt._onWillRemoveProfile.fire({profile:fn,join(yt){Dn.push(yt)}}),yield m.jT.settled(Dn),fn.id===jt.profilesObject.emptyWindow?.id&&(jt.profilesObject.emptyWindow=void 0);for(const yt of[...jt.profilesObject.workspaces.keys()])fn.id===jt.profilesObject.workspaces.get(yt)?.id&&jt.profilesObject.workspaces.delete(yt);jt.updateStoredProfileAssociations(),jt.updateProfiles([],[fn],[]);try{1===jt.profiles.length?yield jt.fileService.del(jt.profilesHome,{recursive:!0}):yield jt.fileService.del(fn.location,{recursive:!0})}catch(yt){jt.logService.error(yt)}})()}updateProfiles(ht,jt,fn){const Dn=[];for(let yt of[...this.profilesObject.profiles,...ht])yt.isDefault||jt.some(He=>yt.id===He.id)||(yt=fn.find(He=>yt.id===He.id)??yt,Dn.push({location:yt.location,name:yt.name,useDefaultFlags:yt.useDefaultFlags}));this.saveStoredProfiles(Dn),this._profilesObject=void 0,this.triggerProfilesChanges(ht,jt,fn)}triggerProfilesChanges(ht,jt,fn){this._onDidChangeProfiles.fire({added:ht,removed:jt,updated:fn,all:this.profiles})}updateWorkspaceAssociation(ht,jt){const fn=this.getWorkspace(ht);C.o.isUri(fn)?(this.profilesObject.workspaces.delete(fn),jt&&!jt.isDefault&&this.profilesObject.workspaces.set(fn,jt)):this.profilesObject.emptyWindow=jt?.isDefault?void 0:jt,this.updateStoredProfileAssociations()}updateStoredProfileAssociations(){const ht={};for(const[fn,Dn]of this.profilesObject.workspaces.entries())ht[fn.toString()]=Dn.location.toString();const jt=this.profilesObject.emptyWindow?.location.toString();this.saveStoredProfileAssociations({workspaces:ht,emptyWindow:jt}),this._profilesObject=void 0}getStoredProfiles(){return[]}saveStoredProfiles(ht){throw new Error("not implemented")}getStoredProfileAssociations(){return{}}saveStoredProfileAssociations(ht){throw new Error("not implemented")}};Me.PROFILES_KEY="userDataProfiles",Me.PROFILE_ASSOCIATIONS_KEY="profileAssociations",Me=(0,S._)([(0,S.a)(0,l.Y),(0,S.a)(1,b),(0,S.a)(2,xe),(0,S.a)(3,L.VZ)],Me);const $e=(0,n.yh)("editorGroupsService"),ve=(0,n.yh)("editorService"),he=-1,le=-2,Ce=(0,n.yh)("textFileService"),Pe=l.Y,dt=(0,n.yh)("workingCopyFileService"),st=(0,n.yh)("pathService"),qe=(0,n.yh)("paneCompositePartService"),Qe=(0,n.yh)("productService"),et="vscode://schemas/vscode-product",vt=(0,n.yh)("ILanguageStatusService"),mt=(0,n.yh)("hostService"),_t=(0,n.yh)("snippetService");let $t;var Bt,Ke;(Ke=Bt||(Bt={})).get=()=>$t??{},Ke.install=function ht(jt){return null!=$t&&console.warn("Services have been overridden"),$t=jt,{dispose:()=>{$t===jt&&($t=void 0)}}}},39021:(Dt,Y,e)=>{"use strict";function n(_){return Array.isArray(_)&&_.every(s=>function d(_){return"string"==typeof _}(s))}function v(_){return function S(_){return typeof _>"u"}(_)||null===_}function T(..._){const s=[];for(let m=0;m<_.length;m++){const c=_[m];if(v(c))throw new Error(`Assertion Failed: argument at index ${m} is undefined or null`);s.push(c)}return s}function L(_){return typeof _>"u"?null:_}e.d(Y,{a:()=>T,i:()=>n,w:()=>L})},67044:(Dt,Y,e)=>{"use strict";e.d(Y,{E:()=>T,N:()=>p,R:()=>F,W:()=>ne,_:()=>g,a:()=>b,b:()=>w,c:()=>y,d:()=>L,e:()=>E,f:()=>a,g:()=>t,i:()=>U,m:()=>c,s:()=>m});var d=e(89982),n=e(3778),l=e(8841),S=e(40734),v=e(59547);const T=d.Emitter;function E(N,W,Z){const ge=function C(N,W,Z){const ge=[];function M(xe,Ne,oe){if(0===Ne&&0===oe.length)return;const Se=ge[ge.length-1];Se&&Se.start+Se.deleteCount===xe?(Se.deleteCount+=Ne,Se.toInsert.push(...oe)):ge.push({start:xe,deleteCount:Ne,toInsert:oe})}let we=0,Ee=0;for(;;){if(we===N.length){M(we,0,W.slice(Ee));break}if(Ee===W.length){M(we,N.length-we,[]);break}const Ne=W[Ee],oe=Z(N[we],Ne);0===oe?(we+=1,Ee+=1):oe<0?(M(we,1,[]),we+=1):oe>0&&(M(we,0,[Ne]),Ee+=1)}return ge}(N,W,Z),M=[],we=[];for(const Ee of ge)M.push(...N.slice(Ee.start,Ee.start+Ee.deleteCount)),we.push(...Ee.toInsert);return{removed:M,added:we}}function L(N){let W=0;for(let Z=0;Z<N.length;Z++)N[Z]&&(N[W]=N[Z],W+=1);N.length=W}function m(N,W){let Z;if("number"==typeof W){let ge=W;Z=()=>{const M=179426549*Math.sin(ge++);return M-Math.floor(M)}}else Z=Math.random;for(let ge=N.length-1;ge>0;ge-=1){const M=Math.floor(Z()*(ge+1)),we=N[ge];N[ge]=N[M],N[M]=we}}function c(N,W){return Array.isArray(N)?N.map(W):W(N)}var t=(()=>{return(N=t||(t={}))[N.WORKSPACE=0]="WORKSPACE",N[N.PROFILE=1]="PROFILE",N[N.APPLICATION=2]="APPLICATION",t;var N})(),a=(()=>{return(N=a||(a={}))[N.OFF=0]="OFF",N[N.SILENT=1]="SILENT",N[N.ERROR=2]="ERROR",a;var N})();class p{constructor(){this.progress=new u,this.onDidClose=n.ju.None,this.onDidChangeVisibility=n.ju.None}updateSeverity(W){}updateMessage(W){}updateActions(W){}close(){}}class u{infinite(){}done(){}total(W){}worked(W){}}function g(N,W,Z,ge){var Ee,M=arguments.length,we=M<3?W:null===ge?ge=Object.getOwnPropertyDescriptor(W,Z):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)we=Reflect.decorate(N,W,Z,ge);else for(var xe=N.length-1;xe>=0;xe--)(Ee=N[xe])&&(we=(M<3?Ee(we):M>3?Ee(W,Z,we):Ee(W,Z))||we);return M>3&&we&&Object.defineProperty(W,Z,we),we}function b(N,W){return function(Z,ge){W(Z,ge,N)}}function y(N,W,Z,ge){if("a"===Z&&!ge)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof W?N!==W||!ge:!W.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Z?ge:"a"===Z?ge.call(N):ge?ge.value:W.get(N)}function w(N,W,Z,ge,M){if("m"===ge)throw new TypeError("Private method is not writable");if("a"===ge&&!M)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof W?N!==W||!M:!W.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ge?M.call(N,Z):M?M.value=Z:W.set(N,Z),Z}const D=new Map;D.set("false",!1),D.set("true",!0),D.set("isMac",l.dz),D.set("isLinux",l.IJ),D.set("isWindows",l.ED),D.set("isWeb",l.$L),D.set("isMacNative",l.dz&&!l.$L),D.set("isEdge",l.un),D.set("isFirefox",l.vU),D.set("isChrome",l.i7),D.set("isSafari",l.G6);class P{constructor(){this.type=0}cmp(W){return this.type-W.type}equals(W){return W.type===this.type}substituteConstants(){return this}evaluate(W){return!1}serialize(){return"false"}keys(){return[]}map(W){return this}negate(){return O.INSTANCE}}P.INSTANCE=new P;class O{constructor(){this.type=1}cmp(W){return this.type-W.type}equals(W){return W.type===this.type}substituteConstants(){return this}evaluate(W){return!0}serialize(){return"true"}keys(){return[]}map(W){return this}negate(){return P.INSTANCE}}O.INSTANCE=new O;class V{constructor(W,Z){this.key=W,this.negated=Z,this.type=2}static create(W,Z=null){const ge=D.get(W);return"boolean"==typeof ge?ge?O.INSTANCE:P.INSTANCE:new V(W,Z)}cmp(W){return W.type!==this.type?this.type-W.type:j(this.key,W.key)}equals(W){return W.type===this.type&&this.key===W.key}substituteConstants(){const W=D.get(this.key);return"boolean"==typeof W?W?O.INSTANCE:P.INSTANCE:this}evaluate(W){return!!W.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(W){return W.mapDefined(this.key)}negate(){return this.negated||(this.negated=k.create(this.key,this)),this.negated}}class H{constructor(W,Z,ge){this.key=W,this.value=Z,this.negated=ge,this.type=4}static create(W,Z,ge=null){if("boolean"==typeof Z)return Z?V.create(W,ge):k.create(W,ge);const M=D.get(W);return"boolean"==typeof M?Z===(M?"true":"false")?O.INSTANCE:P.INSTANCE:new H(W,Z,ge)}cmp(W){return W.type!==this.type?this.type-W.type:K(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type&&this.key===W.key&&this.value===W.value}substituteConstants(){const W=D.get(this.key);return"boolean"==typeof W?this.value===(W?"true":"false")?O.INSTANCE:P.INSTANCE:this}evaluate(W){return W.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(W){return W.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=z.create(this.key,this.value,this)),this.negated}}class z{constructor(W,Z,ge){this.key=W,this.value=Z,this.negated=ge,this.type=5}static create(W,Z,ge=null){if("boolean"==typeof Z)return Z?k.create(W,ge):V.create(W,ge);const M=D.get(W);return"boolean"==typeof M?Z===(M?"true":"false")?P.INSTANCE:O.INSTANCE:new z(W,Z,ge)}cmp(W){return W.type!==this.type?this.type-W.type:K(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type&&this.key===W.key&&this.value===W.value}substituteConstants(){const W=D.get(this.key);return"boolean"==typeof W?this.value===(W?"true":"false")?P.INSTANCE:O.INSTANCE:this}evaluate(W){return W.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(W){return W.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class k{constructor(W,Z){this.key=W,this.negated=Z,this.type=3}static create(W,Z=null){const ge=D.get(W);return"boolean"==typeof ge?ge?P.INSTANCE:O.INSTANCE:new k(W,Z)}cmp(W){return W.type!==this.type?this.type-W.type:j(this.key,W.key)}equals(W){return W.type===this.type&&this.key===W.key}substituteConstants(){const W=D.get(this.key);return"boolean"==typeof W?W?P.INSTANCE:O.INSTANCE:this}evaluate(W){return!W.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(W){return W.mapNot(this.key)}negate(){return this.negated||(this.negated=V.create(this.key,this)),this.negated}}let F=(()=>{class N extends V{constructor(Z,ge,M){super(Z,null),this._defaultValue=ge,"object"==typeof M?N._info.push({...M,key:Z}):!0!==M&&N._info.push({key:Z,description:M,type:null!=ge?typeof ge:void 0})}static all(){return N._info.values()}bindTo(Z){return Z.createKey(this.key,this._defaultValue)}getValue(Z){return Z.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Z){return H.create(this.key,Z)}notEqualsTo(Z){return z.create(this.key,Z)}}return N._info=[],N})();function j(N,W){return N<W?-1:N>W?1:0}function K(N,W,Z,ge){return N<Z?-1:N>Z?1:W<ge?-1:W>ge?1:0}function U(N){return"string"==typeof N?.id&&v.o.isUri(N.configPath)}class ne{constructor(W,Z){this.raw=Z,this.uri=W.uri,this.index=W.index,this.name=W.name}toResource(W){return(0,S.Vo)(this.uri,W)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},17374:(Dt,Y,e)=>{"use strict";function d(l,S,v,T,C,E,L){try{var _=l[E](L),s=_.value}catch(m){return void v(m)}_.done?S(s):Promise.resolve(s).then(T,C)}function n(l){return function(){var S=this,v=arguments;return new Promise(function(T,C){var E=l.apply(S,v);function L(s){d(E,T,C,L,_,"next",s)}function _(s){d(E,T,C,L,_,"throw",s)}L(void 0)})}}e.d(Y,{Z:()=>n})},67519:(Dt,Y,e)=>{"use strict";function d(n,l,S){return l in n?Object.defineProperty(n,l,{value:S,enumerable:!0,configurable:!0,writable:!0}):n[l]=S,n}e.d(Y,{Z:()=>d})}}]);