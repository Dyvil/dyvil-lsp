(()=>{"use strict";var k,be={3827:(k,i,y)=>{var s=y(92547);class D{constructor(e){this.connection=e,e.onInitialize(t=>{var o,d,h,R;const C=t.capabilities;this.hasConfigurationCapability=!(null===(o=C.workspace)||void 0===o||!o.configuration),this.hasWorkspaceFolderCapability=!(null===(d=C.workspace)||void 0===d||!d.workspaceFolders),this.hasDiagnosticRelatedInformationCapability=!(null===(R=null===(h=C.textDocument)||void 0===h?void 0:h.publishDiagnostics)||void 0===R||!R.relatedInformation);const O={capabilities:{textDocumentSync:s.TextDocumentSyncKind.Incremental,completionProvider:{triggerCharacters:["."]},renameProvider:{prepareProvider:!0},referencesProvider:!0,definitionProvider:!0,hoverProvider:!0,documentHighlightProvider:!0}};return this.hasWorkspaceFolderCapability&&(O.capabilities.workspace={workspaceFolders:{supported:!0}}),O}),e.onInitialized(()=>{this.hasConfigurationCapability&&e.client.register(s.DidChangeConfigurationNotification.type,void 0)})}}var n,r,w=y(77297),u=y(28158),f=function(r,e,t){if(t||2===arguments.length)for(var h,o=0,d=e.length;o<d;o++)(h||!(o in e))&&(h||(h=Array.prototype.slice.call(e,0,o)),h[o]=e[o]);return r.concat(h||Array.prototype.slice.call(e))},g=function(){function r(e,t,o,d){this._uri=e,this._languageId=t,this._version=o,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(r.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),r.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),o=this.offsetAt(e.end);return this._content.substring(t,o)}return this._content},r.prototype.update=function(e,t){for(var o=0,d=e;o<d.length;o++){var h=d[o];if(r.isIncremental(h)){var R=S(h.range),C=this.offsetAt(R.start),O=this.offsetAt(R.end);this._content=this._content.substring(0,C)+h.text+this._content.substring(O,this._content.length);var c=Math.max(R.start.line,0),l=Math.max(R.end.line,0),b=this._lineOffsets,W=_(h.text,!1,C);if(l-c===W.length)for(var j=0,A=W.length;j<A;j++)b[j+c+1]=W[j];else W.length<1e4?b.splice.apply(b,f([c+1,l-c],W,!1)):this._lineOffsets=b=b.slice(0,c+1).concat(W,b.slice(l+1));var B=h.text.length-(O-C);if(0!==B)for(j=c+1+W.length,A=b.length;j<A;j++)b[j]=b[j]+B}else{if(!r.isFull(h))throw new Error("Unknown change event received");this._content=h.text,this._lineOffsets=void 0}}this._version=t},r.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=_(this._content,!0)),this._lineOffsets},r.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),o=0,d=t.length;if(0===d)return{line:0,character:e};for(;o<d;){var h=Math.floor((o+d)/2);t[h]>e?d=h:o=h+1}var R=o-1;return{line:R,character:e-t[R]}},r.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var o=t[e.line];return Math.max(Math.min(o+e.character,e.line+1<t.length?t[e.line+1]:this._content.length),o)},Object.defineProperty(r.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),r.isIncremental=function(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)},r.isFull=function(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength},r}();function p(r,e){if(r.length<=1)return r;var t=r.length/2|0,o=r.slice(0,t),d=r.slice(t);p(o,e),p(d,e);for(var h=0,R=0,C=0;h<o.length&&R<d.length;){var O=e(o[h],d[R]);r[C++]=O<=0?o[h++]:d[R++]}for(;h<o.length;)r[C++]=o[h++];for(;R<d.length;)r[C++]=d[R++];return r}function _(r,e,t){void 0===t&&(t=0);for(var o=e?[t]:[],d=0;d<r.length;d++){var h=r.charCodeAt(d);(13===h||10===h)&&(13===h&&d+1<r.length&&10===r.charCodeAt(d+1)&&d++,o.push(t+d+1))}return o}function S(r){var e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function T(r){var e=S(r.range);return e!==r.range?{newText:r.newText,range:e}:r}(r=n||(n={})).create=function e(d,h,R,C){return new g(d,h,R,C)},r.update=function t(d,h,R){if(d instanceof g)return d.update(h,R),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")},r.applyEdits=function o(d,h){for(var R=d.getText(),O=0,c=[],l=0,b=p(h.map(T),function(A,B){var J=A.range.start.line-B.range.start.line;return 0===J?A.range.start.character-B.range.start.character:J});l<b.length;l++){var W=b[l],j=d.offsetAt(W.range.start);if(j<O)throw new Error("Overlapping edit");j>O&&c.push(R.substring(O,j)),W.newText.length&&c.push(W.newText),O=d.offsetAt(W.range.end)}return c.push(R.substr(O)),c.join("")};class H{constructor(e){this.connectionService=e,this.documents=new s.TextDocuments(n),this.astCache=new Map,this.documents.listen(this.connectionService.connection),this.documents.onDidChangeContent(t=>{this.astCache.has(t.document.uri)&&this.astCache.delete(t.document.uri)})}getAST(e){const t="string"==typeof e?e:e.uri,o=this.astCache.get(t);if(o)return o;const d="string"==typeof e?this.documents.get(t):e;return d?(0,u.V3)(d.getText(),t).resolve(new w._8([])):void 0}}function q(r){switch(r){case"keyword":return s.CompletionItemKind.Keyword;case"operator":return s.CompletionItemKind.Operator;case"class":return s.CompletionItemKind.Class;case"field":return s.CompletionItemKind.Field;case"method":return s.CompletionItemKind.Method;case"variable":case"parameter":return s.CompletionItemKind.Variable;default:return s.CompletionItemKind.Text}}class M{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onCompletion(o=>this.provideCompletionItems(o))}provideCompletionItems(e){const o=this.documentService.documents.get(e.textDocument.uri);if(!o)return[];const d=o.getText({start:{line:0,character:0},end:e.position}),h=o.getText({start:e.position,end:{line:o.lineCount,character:0}}),C=(0,u.V3)(`${d}\xa7${h}`).resolve(new w._8([])).diagnostics.find(O=>O.message.includes("input '\xa7' expecting"));return C&&C.expected?C.expected.map(O=>({kind:q(O.kind),label:O.label,labelDetails:{detail:O.signature,description:O.description},insertText:O.snippet,insertTextFormat:O.snippet?s.InsertTextFormat.Snippet:void 0})):[]}}function P(r){return{start:{line:r.start.line-1,character:r.start.column},end:{line:r.end.line-1,character:r.end.column}}}function a({severity:r,location:e,message:t}){return{severity:"error"===r?s.DiagnosticSeverity.Error:s.DiagnosticSeverity.Warning,range:P(e),message:t,source:"dyvil"}}class v{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onDidChangeConfiguration(()=>{this.documentService.documents.all().forEach(o=>this.validateTextDocument(o))}),this.documentService.documents.onDidChangeContent(o=>{this.validateTextDocument(o.document)})}validateTextDocument(e){return function G(r,e,t,o){return new(t||(t=Promise))(function(h,R){function C(l){try{c(o.next(l))}catch(b){R(b)}}function O(l){try{c(o.throw(l))}catch(b){R(b)}}function c(l){l.done?h(l.value):function d(h){return h instanceof t?h:new t(function(R){R(h)})}(l.value).then(C,O)}c((o=o.apply(r,e||[])).next())})}(this,void 0,void 0,function*(){const t=this.documentService.getAST(e);if(!t)return;const o=t.diagnostics.map(a);yield this.connectionService.connection.sendDiagnostics({uri:e.uri,diagnostics:o})})}}class F{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onPrepareRename(o=>this.prepareRename(o)),this.connectionService.connection.onRenameRequest(o=>this.rename(o)),this.connectionService.connection.onReferences(o=>this.references(o)),this.connectionService.connection.onDefinition(o=>this.definition(o)),this.connectionService.connection.onHover(o=>this.hover(o)),this.connectionService.connection.onDocumentHighlight(o=>this.highlight(o))}prepareRename(e){const t=this.findNode(e);if(!t)return;const o=t.references("rename");return o&&o.length?P(t.location):void 0}rename(e){var t;const o=null===(t=this.findNode(e))||void 0===t?void 0:t.references("rename");if(o&&o.length)return{changes:{[e.textDocument.uri]:o.map(d=>({range:P(d),newText:e.newName}))}}}references(e){var t;const o=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(o&&o.length)return!e.context.includeDeclaration&&o.length&&o.shift(),o.map(d=>({uri:e.textDocument.uri,range:P(d)}))}definition(e){var t;const o=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(o&&o.length)return{uri:e.textDocument.uri,range:P(o[0])}}hover(e){var t;const o=null===(t=this.findNode(e))||void 0===t?void 0:t.documentation();return o?{contents:{kind:"markdown",value:o}}:null}highlight(e){var t;const o=null===(t=this.findNode(e))||void 0===t?void 0:t.references();if(o&&o.length)return o.map(d=>({range:P(d)}))}findNode(e){const t=e.textDocument.uri,o=new w.Ly(e.position.line+1,e.position.character),d=this.documentService.getAST(t);if(!d)return;const h=d.findByPosition(o);return h?h[h.length-1]:void 0}}var I=y(7821);console.log("Running Dyvil Language Server in Web Worker");const K=new I.BrowserMessageReader(self),ee=new I.BrowserMessageWriter(self),ie=(0,I.createConnection)(K,ee);(function m(r){const e=new D(r),t=new H(e);new M(e,t),new v(e,t),new F(e,t)})(ie),ie.listen()},31044:(k,i,y)=>{k.exports=y(86581)},85773:function(k,i,y){var s=this&&this.__createBinding||(Object.create?function(f,g,n,p){void 0===p&&(p=n);var _=Object.getOwnPropertyDescriptor(g,n);(!_||("get"in _?!g.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return g[n]}}),Object.defineProperty(f,p,_)}:function(f,g,n,p){void 0===p&&(p=n),f[p]=g[n]}),D=this&&this.__exportStar||function(f,g){for(var n in f)"default"!==n&&!Object.prototype.hasOwnProperty.call(g,n)&&s(g,f,n)};Object.defineProperty(i,"__esModule",{value:!0}),i.LSPErrorCodes=i.createProtocolConnection=void 0,D(y(62059),i),D(y(51769),i),D(y(34007),i),D(y(95712),i);var f,w=y(75991);Object.defineProperty(i,"createProtocolConnection",{enumerable:!0,get:function(){return w.createProtocolConnection}}),(f=i.LSPErrorCodes||(i.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,f.RequestFailed=-32803,f.ServerCancelled=-32802,f.ContentModified=-32801,f.RequestCancelled=-32800,f.lspReservedErrorRangeEnd=-32800},7821:(k,i,y)=>{k.exports=y(92547)},92547:function(k,i,y){var s=this&&this.__createBinding||(Object.create?function(n,p,_,S){void 0===S&&(S=_);var T=Object.getOwnPropertyDescriptor(p,_);(!T||("get"in T?!p.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return p[_]}}),Object.defineProperty(n,S,T)}:function(n,p,_,S){void 0===S&&(S=_),n[S]=p[_]}),D=this&&this.__exportStar||function(n,p){for(var _ in n)"default"!==_&&!Object.prototype.hasOwnProperty.call(p,_)&&s(p,n,_)};Object.defineProperty(i,"__esModule",{value:!0}),i.createConnection=void 0;const w=y(45270);D(y(31044),i),D(y(45270),i);let u=!1;const f={initialize:n=>{},get shutdownReceived(){return u},set shutdownReceived(n){u=n},exit:n=>{}};i.createConnection=function g(n,p,_,S){let T,H,q,M;return void 0!==n&&"features"===n.__brand&&(T=n,n=p,p=_,_=S),w.ConnectionStrategy.is(n)||w.ConnectionOptions.is(n)?M=n:(H=n,q=p,M=_),(0,w.createConnection)(Q=>(0,w.createProtocolConnection)(H,q,Q,M),f,T)}},45270:function(k,i,y){var s=this&&this.__createBinding||(Object.create?function(n,p,_,S){void 0===S&&(S=_);var T=Object.getOwnPropertyDescriptor(p,_);(!T||("get"in T?!p.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return p[_]}}),Object.defineProperty(n,S,T)}:function(n,p,_,S){void 0===S&&(S=_),n[S]=p[_]}),D=this&&this.__exportStar||function(n,p){for(var _ in n)"default"!==_&&!Object.prototype.hasOwnProperty.call(p,_)&&s(p,n,_)};Object.defineProperty(i,"__esModule",{value:!0}),i.ProposedFeatures=i.NotebookDocuments=i.TextDocuments=i.SemanticTokensBuilder=void 0;const w=y(71764);Object.defineProperty(i,"SemanticTokensBuilder",{enumerable:!0,get:function(){return w.SemanticTokensBuilder}}),D(y(86581),i);const u=y(17275);Object.defineProperty(i,"TextDocuments",{enumerable:!0,get:function(){return u.TextDocuments}});const f=y(90623);Object.defineProperty(i,"NotebookDocuments",{enumerable:!0,get:function(){return f.NotebookDocuments}}),D(y(99820),i),(i.ProposedFeatures||(i.ProposedFeatures={})).all={__brand:"features"}},40079:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CallHierarchyFeature=void 0;const s=y(86581);i.CallHierarchyFeature=w=>class extends w{get callHierarchy(){return{onPrepare:u=>this.connection.onRequest(s.CallHierarchyPrepareRequest.type,(f,g)=>u(f,g,this.attachWorkDoneProgress(f),void 0)),onIncomingCalls:u=>{const f=s.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(f,(g,n)=>u(g,n,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(f,g)))},onOutgoingCalls:u=>{const f=s.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(f,(g,n)=>u(g,n,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(f,g)))}}}}},57602:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigurationFeature=void 0;const s=y(86581),D=y(42954);i.ConfigurationFeature=u=>class extends u{getConfiguration(f){return f?D.string(f)?this._getConfiguration({section:f}):this._getConfiguration(f):this._getConfiguration({})}_getConfiguration(f){let g={items:Array.isArray(f)?f:[f]};return this.connection.sendRequest(s.ConfigurationRequest.type,g).then(n=>Array.isArray(n)?Array.isArray(f)?n:n[0]:Array.isArray(f)?[]:null)}}},61561:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DiagnosticFeature=void 0;const s=y(86581);i.DiagnosticFeature=w=>class extends w{get diagnostics(){return{refresh:()=>this.connection.sendRequest(s.DiagnosticRefreshRequest.type),on:u=>this.connection.onRequest(s.DocumentDiagnosticRequest.type,(f,g)=>u(f,g,this.attachWorkDoneProgress(f),this.attachPartialResultProgress(s.DocumentDiagnosticRequest.partialResult,f))),onWorkspace:u=>this.connection.onRequest(s.WorkspaceDiagnosticRequest.type,(f,g)=>u(f,g,this.attachWorkDoneProgress(f),this.attachPartialResultProgress(s.WorkspaceDiagnosticRequest.partialResult,f)))}}}},39709:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FileOperationsFeature=void 0;const s=y(86581);i.FileOperationsFeature=w=>class extends w{onDidCreateFiles(u){return this.connection.onNotification(s.DidCreateFilesNotification.type,f=>{u(f)})}onDidRenameFiles(u){return this.connection.onNotification(s.DidRenameFilesNotification.type,f=>{u(f)})}onDidDeleteFiles(u){return this.connection.onNotification(s.DidDeleteFilesNotification.type,f=>{u(f)})}onWillCreateFiles(u){return this.connection.onRequest(s.WillCreateFilesRequest.type,(f,g)=>u(f,g))}onWillRenameFiles(u){return this.connection.onRequest(s.WillRenameFilesRequest.type,(f,g)=>u(f,g))}onWillDeleteFiles(u){return this.connection.onRequest(s.WillDeleteFilesRequest.type,(f,g)=>u(f,g))}}},78738:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InlayHintFeature=void 0;const s=y(86581);i.InlayHintFeature=w=>class extends w{get inlayHint(){return{refresh:()=>this.connection.sendRequest(s.InlayHintRefreshRequest.type),on:u=>this.connection.onRequest(s.InlayHintRequest.type,(f,g)=>u(f,g,this.attachWorkDoneProgress(f))),resolve:u=>this.connection.onRequest(s.InlayHintResolveRequest.type,(f,g)=>u(f,g))}}}},81482:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InlineValueFeature=void 0;const s=y(86581);i.InlineValueFeature=w=>class extends w{get inlineValue(){return{refresh:()=>this.connection.sendRequest(s.InlineValueRefreshRequest.type),on:u=>this.connection.onRequest(s.InlineValueRequest.type,(f,g)=>u(f,g,this.attachWorkDoneProgress(f)))}}}},29566:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LinkedEditingRangeFeature=void 0;const s=y(86581);i.LinkedEditingRangeFeature=w=>class extends w{onLinkedEditingRange(u){return this.connection.onRequest(s.LinkedEditingRangeRequest.type,(f,g)=>u(f,g,this.attachWorkDoneProgress(f),void 0))}}},11700:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MonikerFeature=void 0;const s=y(86581);i.MonikerFeature=w=>class extends w{get moniker(){return{on:u=>{const f=s.MonikerRequest.type;return this.connection.onRequest(f,(g,n)=>u(g,n,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(f,g)))}}}}},90623:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NotebookDocuments=i.NotebookSyncFeature=void 0;const s=y(86581),D=y(17275);i.NotebookSyncFeature=g=>class extends g{get synchronization(){return{onDidOpenNotebookDocument:n=>this.connection.onNotification(s.DidOpenNotebookDocumentNotification.type,p=>{n(p)}),onDidChangeNotebookDocument:n=>this.connection.onNotification(s.DidChangeNotebookDocumentNotification.type,p=>{n(p)}),onDidSaveNotebookDocument:n=>this.connection.onNotification(s.DidSaveNotebookDocumentNotification.type,p=>{n(p)}),onDidCloseNotebookDocument:n=>this.connection.onNotification(s.DidCloseNotebookDocumentNotification.type,p=>{n(p)})}}};class u{onDidOpenTextDocument(n){return this.openHandler=n,s.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(n){this.openHandler&&this.openHandler(n)}onDidChangeTextDocument(n){return this.changeHandler=n,s.Disposable.create(()=>{this.changeHandler=n})}changeTextDocument(n){this.changeHandler&&this.changeHandler(n)}onDidCloseTextDocument(n){return this.closeHandler=n,s.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(n){this.closeHandler&&this.closeHandler(n)}onWillSaveTextDocument(){return u.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return u.NULL_DISPOSE}onDidSaveTextDocument(){return u.NULL_DISPOSE}}u.NULL_DISPOSE=Object.freeze({dispose:()=>{}}),i.NotebookDocuments=class f{constructor(n){this._cellTextDocuments=n instanceof D.TextDocuments?n:new D.TextDocuments(n),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new s.Emitter,this._onDidChange=new s.Emitter,this._onDidSave=new s.Emitter,this._onDidClose=new s.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(n){return this._cellTextDocuments.get(n.document)}getNotebookDocument(n){return this.notebookDocuments.get(n)}getNotebookCell(n){const p=this.notebookCellMap.get(n);return p&&p[0]}findNotebookDocumentForCell(n){const _=this.notebookCellMap.get("string"==typeof n?n:n.document);return _&&_[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(n){const p=new u,_=[];return _.push(this.cellTextDocuments.listen(p)),_.push(n.notebooks.synchronization.onDidOpenNotebookDocument(S=>{this.notebookDocuments.set(S.notebookDocument.uri,S.notebookDocument);for(const T of S.cellTextDocuments)p.openTextDocument({textDocument:T});this.updateCellMap(S.notebookDocument),this._onDidOpen.fire(S.notebookDocument)})),_.push(n.notebooks.synchronization.onDidChangeNotebookDocument(S=>{const T=this.notebookDocuments.get(S.notebookDocument.uri);if(void 0===T)return;T.version=S.notebookDocument.version;const H=T.metadata;let q=!1;const M=S.change;void 0!==M.metadata&&(q=!0,T.metadata=M.metadata);const x=[],Q=[],$=[],Y=[];if(void 0!==M.cells){const E=M.cells;if(void 0!==E.structure){const L=E.structure.array;if(T.cells.splice(L.start,L.deleteCount,...void 0!==L.cells?L.cells:[]),void 0!==E.structure.didOpen)for(const z of E.structure.didOpen)p.openTextDocument({textDocument:z}),x.push(z.uri);if(E.structure.didClose)for(const z of E.structure.didClose)p.closeTextDocument({textDocument:z}),Q.push(z.uri)}if(void 0!==E.data){const L=new Map(E.data.map(z=>[z.document,z]));for(let z=0;z<=T.cells.length;z++){const G=L.get(T.cells[z].document);if(void 0!==G){const ne=T.cells.splice(z,1,G);if($.push({old:ne[0],new:G}),L.delete(G.document),0===L.size)break}}}if(void 0!==E.textContent)for(const L of E.textContent)p.changeTextDocument({textDocument:L.document,contentChanges:L.changes}),Y.push(L.document.uri)}this.updateCellMap(T);const X={notebookDocument:T};q&&(X.metadata={old:H,new:T.metadata});const Z=[];for(const E of x)Z.push(this.getNotebookCell(E));const te=[];for(const E of Q)te.push(this.getNotebookCell(E));const V=[];for(const E of Y)V.push(this.getNotebookCell(E));(Z.length>0||te.length>0||$.length>0||V.length>0)&&(X.cells={added:Z,removed:te,changed:{data:$,textContent:V}}),(void 0!==X.metadata||void 0!==X.cells)&&this._onDidChange.fire(X)})),_.push(n.notebooks.synchronization.onDidSaveNotebookDocument(S=>{const T=this.notebookDocuments.get(S.notebookDocument.uri);void 0!==T&&this._onDidSave.fire(T)})),_.push(n.notebooks.synchronization.onDidCloseNotebookDocument(S=>{const T=this.notebookDocuments.get(S.notebookDocument.uri);if(void 0!==T){this._onDidClose.fire(T);for(const H of S.cellTextDocuments)p.closeTextDocument({textDocument:H});this.notebookDocuments.delete(S.notebookDocument.uri);for(const H of T.cells)this.notebookCellMap.delete(H.document)}})),s.Disposable.create(()=>{_.forEach(S=>S.dispose())})}updateCellMap(n){for(const p of n.cells)this.notebookCellMap.set(p.document,[p,n])}}},24170:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.attachPartialResult=i.ProgressFeature=i.attachWorkDone=void 0;const s=y(86581),D=y(68171);class w{constructor(q,M){this._connection=q,this._token=M,w.Instances.set(this._token,this)}begin(q,M,x,Q){this._connection.sendProgress(s.WorkDoneProgress.type,this._token,{kind:"begin",title:q,percentage:M,message:x,cancellable:Q})}report(q,M){let x={kind:"report"};"number"==typeof q?(x.percentage=q,void 0!==M&&(x.message=M)):x.message=q,this._connection.sendProgress(s.WorkDoneProgress.type,this._token,x)}done(){w.Instances.delete(this._token),this._connection.sendProgress(s.WorkDoneProgress.type,this._token,{kind:"end"})}}w.Instances=new Map;class u extends w{constructor(q,M){super(q,M),this._source=new s.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class f{constructor(){}begin(){}report(){}done(){}}class g extends f{constructor(){super(),this._source=new s.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}var _;i.attachWorkDone=function n(H,q){if(void 0===q||void 0===q.workDoneToken)return new f;const M=q.workDoneToken;return delete q.workDoneToken,new w(H,M)},i.ProgressFeature=H=>class extends H{constructor(){super(),this._progressSupported=!1}initialize(q){super.initialize(q),!0===q?.window?.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(s.WorkDoneProgressCancelNotification.type,M=>{let x=w.Instances.get(M.token);(x instanceof u||x instanceof g)&&x.cancel()}))}attachWorkDoneProgress(q){return void 0===q?new f:new w(this.connection,q)}createWorkDoneProgress(){if(this._progressSupported){const q=(0,D.generateUuid)();return this.connection.sendRequest(s.WorkDoneProgressCreateRequest.type,{token:q}).then(()=>new u(this.connection,q))}return Promise.resolve(new g)}},(_||(_={})).type=new s.ProgressType;class S{constructor(q,M){this._connection=q,this._token=M}report(q){this._connection.sendProgress(_.type,this._token,q)}}i.attachPartialResult=function T(H,q){if(void 0===q||void 0===q.partialResultToken)return;const M=q.partialResultToken;return delete q.partialResultToken,new S(H,M)}},71764:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SemanticTokensBuilder=i.SemanticTokensDiff=i.SemanticTokensFeature=void 0;const s=y(86581);i.SemanticTokensFeature=f=>class extends f{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(s.SemanticTokensRefreshRequest.type),on:g=>{const n=s.SemanticTokensRequest.type;return this.connection.onRequest(n,(p,_)=>g(p,_,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(n,p)))},onDelta:g=>{const n=s.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(p,_)=>g(p,_,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(n,p)))},onRange:g=>{const n=s.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(p,_)=>g(p,_,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(n,p)))}}}};class w{constructor(g,n){this.originalSequence=g,this.modifiedSequence=n}computeDiff(){const g=this.originalSequence.length,n=this.modifiedSequence.length;let p=0;for(;p<n&&p<g&&this.originalSequence[p]===this.modifiedSequence[p];)p++;if(p<n&&p<g){let _=g-1,S=n-1;for(;_>=p&&S>=p&&this.originalSequence[_]===this.modifiedSequence[S];)_--,S--;(_<p||S<p)&&(_++,S++);const T=_-p+1,H=this.modifiedSequence.slice(p,S+1);return 1===H.length&&H[0]===this.originalSequence[_]?[{start:p,deleteCount:T-1}]:[{start:p,deleteCount:T,data:H}]}return p<n?[{start:p,deleteCount:0,data:this.modifiedSequence.slice(p)}]:p<g?[{start:p,deleteCount:g-p}]:[]}}i.SemanticTokensDiff=w,i.SemanticTokensBuilder=class u{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(g,n,p,_,S){let T=g,H=n;this._dataLen>0&&(T-=this._prevLine,0===T&&(H-=this._prevChar)),this._data[this._dataLen++]=T,this._data[this._dataLen++]=H,this._data[this._dataLen++]=p,this._data[this._dataLen++]=_,this._data[this._dataLen++]=S,this._prevLine=g,this._prevChar=n}get id(){return this._id.toString()}previousResult(g){this.id===g&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){return void 0!==this._prevData?{resultId:this.id,edits:new w(this._prevData,this._data).computeDiff()}:this.build()}}},99820:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createConnection=i.combineFeatures=i.combineNotebooksFeatures=i.combineLanguagesFeatures=i.combineWorkspaceFeatures=i.combineWindowFeatures=i.combineClientFeatures=i.combineTracerFeatures=i.combineTelemetryFeatures=i.combineConsoleFeatures=i._NotebooksImpl=i._LanguagesImpl=i.BulkUnregistration=i.BulkRegistration=i.ErrorMessageTracker=void 0;const s=y(86581),D=y(42954),w=y(68171),u=y(24170),f=y(57602),g=y(93173),n=y(40079),p=y(71764),_=y(43066),S=y(39709),T=y(29566),H=y(17207),q=y(81482),M=y(78738),x=y(61561),Q=y(90623),$=y(11700);function Y(P){if(null!==P)return P}i.ErrorMessageTracker=class X{constructor(){this._messages=Object.create(null)}add(a){let v=this._messages[a];v||(v=0),v++,this._messages[a]=v}sendErrors(a){Object.keys(this._messages).forEach(v=>{a.window.showErrorMessage(v)})}};class Z{constructor(){}rawAttach(a){this._rawConnection=a}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(a){}initialize(a){}error(a){this.send(s.MessageType.Error,a)}warn(a){this.send(s.MessageType.Warning,a)}info(a){this.send(s.MessageType.Info,a)}log(a){this.send(s.MessageType.Log,a)}send(a,v){this._rawConnection&&this._rawConnection.sendNotification(s.LogMessageNotification.type,{type:a,message:v}).catch(()=>{(0,s.RAL)().console.error("Sending log message failed")})}}const V=(0,_.ShowDocumentFeature)((0,u.ProgressFeature)(class te{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}showErrorMessage(a,...v){return this.connection.sendRequest(s.ShowMessageRequest.type,{type:s.MessageType.Error,message:a,actions:v}).then(Y)}showWarningMessage(a,...v){return this.connection.sendRequest(s.ShowMessageRequest.type,{type:s.MessageType.Warning,message:a,actions:v}).then(Y)}showInformationMessage(a,...v){return this.connection.sendRequest(s.ShowMessageRequest.type,{type:s.MessageType.Info,message:a,actions:v}).then(Y)}}));(i.BulkRegistration||(i.BulkRegistration={})).create=function a(){return new L};class L{constructor(){this._registrations=[],this._registered=new Set}add(a,v){const F=D.string(a)?a:a.method;if(this._registered.has(F))throw new Error(`${F} is already added to this registration`);const m=w.generateUuid();this._registrations.push({id:m,method:F,registerOptions:v||{}}),this._registered.add(F)}asRegistrationParams(){return{registrations:this._registrations}}}(i.BulkUnregistration||(i.BulkUnregistration={})).create=function a(){return new G(void 0,[])};class G{constructor(a,v){this._connection=a,this._unregistrations=new Map,v.forEach(F=>{this._unregistrations.set(F.method,F)})}get isAttached(){return!!this._connection}attach(a){this._connection=a}add(a){this._unregistrations.set(a.method,a)}dispose(){let a=[];for(let F of this._unregistrations.values())a.push(F);this._connection.sendRequest(s.UnregistrationRequest.type,{unregisterations:a}).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(a){const v=D.string(a)?a:a.method,F=this._unregistrations.get(v);return!!F&&(this._connection.sendRequest(s.UnregistrationRequest.type,{unregisterations:[F]}).then(()=>{this._unregistrations.delete(v)},I=>{this._connection.console.info(`Un-registering request handler for ${F.id} failed.`)}),!0)}}class ne{attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}register(a,v,F){return a instanceof L?this.registerMany(a):a instanceof G?this.registerSingle1(a,v,F):this.registerSingle2(a,v)}registerSingle1(a,v,F){const m=D.string(v)?v:v.method,I=w.generateUuid();let K={registrations:[{id:I,method:m,registerOptions:F||{}}]};return a.isAttached||a.attach(this.connection),this.connection.sendRequest(s.RegistrationRequest.type,K).then(ee=>(a.add({id:I,method:m}),a),ee=>(this.connection.console.info(`Registering request handler for ${m} failed.`),Promise.reject(ee)))}registerSingle2(a,v){const F=D.string(a)?a:a.method,m=w.generateUuid();return this.connection.sendRequest(s.RegistrationRequest.type,{registrations:[{id:m,method:F,registerOptions:v||{}}]}).then(K=>s.Disposable.create(()=>{this.unregisterSingle(m,F).catch(()=>{this.connection.console.info(`Un-registering capability with id ${m} failed.`)})}),K=>(this.connection.console.info(`Registering request handler for ${F} failed.`),Promise.reject(K)))}unregisterSingle(a,v){return this.connection.sendRequest(s.UnregistrationRequest.type,{unregisterations:[{id:a,method:v}]}).catch(()=>{this.connection.console.info(`Un-registering request handler for ${a} failed.`)})}registerMany(a){let v=a.asRegistrationParams();return this.connection.sendRequest(s.RegistrationRequest.type,v).then(()=>new G(this._connection,v.registrations.map(F=>({id:F.id,method:F.method}))),F=>(this.connection.console.info("Bulk registration failed."),Promise.reject(F)))}}const ue=(0,S.FileOperationsFeature)((0,g.WorkspaceFoldersFeature)((0,f.ConfigurationFeature)(class se{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}applyEdit(a){let F=function v(m){return m&&!!m.edit}(a)?a:{edit:a};return this.connection.sendRequest(s.ApplyWorkspaceEditRequest.type,F)}})));class oe{constructor(){this._trace=s.Trace.Off}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}set trace(a){this._trace=a}log(a,v){this._trace!==s.Trace.Off&&this.connection.sendNotification(s.LogTraceNotification.type,{message:a,verbose:this._trace===s.Trace.Verbose?v:void 0}).catch(()=>{})}}class ce{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}logEvent(a){this.connection.sendNotification(s.TelemetryEventNotification.type,a).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class le{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}attachWorkDoneProgress(a){return(0,u.attachWorkDone)(this.connection,a)}attachPartialResultProgress(a,v){return(0,u.attachPartialResult)(this.connection,v)}}i._LanguagesImpl=le;const de=(0,$.MonikerFeature)((0,x.DiagnosticFeature)((0,M.InlayHintFeature)((0,q.InlineValueFeature)((0,H.TypeHierarchyFeature)((0,T.LinkedEditingRangeFeature)((0,p.SemanticTokensFeature)((0,n.CallHierarchyFeature)(le))))))));class he{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}attachWorkDoneProgress(a){return(0,u.attachWorkDone)(this.connection,a)}attachPartialResultProgress(a,v){return(0,u.attachPartialResult)(this.connection,v)}}i._NotebooksImpl=he;const U=(0,Q.NotebookSyncFeature)(he);function fe(P,a){return function(v){return a(P(v))}}function ge(P,a){return function(v){return a(P(v))}}function me(P,a){return function(v){return a(P(v))}}function pe(P,a){return function(v){return a(P(v))}}function ae(P,a){return function(v){return a(P(v))}}function ye(P,a){return function(v){return a(P(v))}}function _e(P,a){return function(v){return a(P(v))}}function ve(P,a){return function(v){return a(P(v))}}i.combineConsoleFeatures=fe,i.combineTelemetryFeatures=ge,i.combineTracerFeatures=me,i.combineClientFeatures=pe,i.combineWindowFeatures=ae,i.combineWorkspaceFeatures=ye,i.combineLanguagesFeatures=_e,i.combineNotebooksFeatures=ve,i.combineFeatures=function Re(P,a){function v(m,I,K){return m&&I?K(m,I):m||I}return{__brand:"features",console:v(P.console,a.console,fe),tracer:v(P.tracer,a.tracer,me),telemetry:v(P.telemetry,a.telemetry,ge),client:v(P.client,a.client,pe),window:v(P.window,a.window,ae),workspace:v(P.workspace,a.workspace,ye),languages:v(P.languages,a.languages,_e),notebooks:v(P.notebooks,a.notebooks,ve)}},i.createConnection=function we(P,a,v){const F=v&&v.console?new(v.console(Z)):new Z,m=P(F);F.rawAttach(m);const I=v&&v.tracer?new(v.tracer(oe)):new oe,K=v&&v.telemetry?new(v.telemetry(ce)):new ce,ee=v&&v.client?new(v.client(ne)):new ne,ie=v&&v.window?new(v.window(V)):new V,r=v&&v.workspace?new(v.workspace(ue)):new ue,e=v&&v.languages?new(v.languages(de)):new de,t=v&&v.notebooks?new(v.notebooks(U)):new U,o=[F,I,K,ee,ie,r,e,t];let h,R,C,O={listen:()=>m.listen(),sendRequest:(c,...l)=>m.sendRequest(D.string(c)?c:c.method,...l),onRequest:(c,l)=>m.onRequest(c,l),sendNotification:(c,l)=>{const b=D.string(c)?c:c.method;return 1===arguments.length?m.sendNotification(b):m.sendNotification(b,l)},onNotification:(c,l)=>m.onNotification(c,l),onProgress:m.onProgress,sendProgress:m.sendProgress,onInitialize:c=>(R=c,{dispose:()=>{R=void 0}}),onInitialized:c=>m.onNotification(s.InitializedNotification.type,c),onShutdown:c=>(h=c,{dispose:()=>{h=void 0}}),onExit:c=>(C=c,{dispose:()=>{C=void 0}}),get console(){return F},get telemetry(){return K},get tracer(){return I},get client(){return ee},get window(){return ie},get workspace(){return r},get languages(){return e},get notebooks(){return t},onDidChangeConfiguration:c=>m.onNotification(s.DidChangeConfigurationNotification.type,c),onDidChangeWatchedFiles:c=>m.onNotification(s.DidChangeWatchedFilesNotification.type,c),__textDocumentSync:void 0,onDidOpenTextDocument:c=>m.onNotification(s.DidOpenTextDocumentNotification.type,c),onDidChangeTextDocument:c=>m.onNotification(s.DidChangeTextDocumentNotification.type,c),onDidCloseTextDocument:c=>m.onNotification(s.DidCloseTextDocumentNotification.type,c),onWillSaveTextDocument:c=>m.onNotification(s.WillSaveTextDocumentNotification.type,c),onWillSaveTextDocumentWaitUntil:c=>m.onRequest(s.WillSaveTextDocumentWaitUntilRequest.type,c),onDidSaveTextDocument:c=>m.onNotification(s.DidSaveTextDocumentNotification.type,c),sendDiagnostics:c=>m.sendNotification(s.PublishDiagnosticsNotification.type,c),onHover:c=>m.onRequest(s.HoverRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),void 0)),onCompletion:c=>m.onRequest(s.CompletionRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onCompletionResolve:c=>m.onRequest(s.CompletionResolveRequest.type,c),onSignatureHelp:c=>m.onRequest(s.SignatureHelpRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),void 0)),onDeclaration:c=>m.onRequest(s.DeclarationRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onDefinition:c=>m.onRequest(s.DefinitionRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onTypeDefinition:c=>m.onRequest(s.TypeDefinitionRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onImplementation:c=>m.onRequest(s.ImplementationRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onReferences:c=>m.onRequest(s.ReferencesRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onDocumentHighlight:c=>m.onRequest(s.DocumentHighlightRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onDocumentSymbol:c=>m.onRequest(s.DocumentSymbolRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onWorkspaceSymbol:c=>m.onRequest(s.WorkspaceSymbolRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onWorkspaceSymbolResolve:c=>m.onRequest(s.WorkspaceSymbolResolveRequest.type,c),onCodeAction:c=>m.onRequest(s.CodeActionRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onCodeActionResolve:c=>m.onRequest(s.CodeActionResolveRequest.type,(l,b)=>c(l,b)),onCodeLens:c=>m.onRequest(s.CodeLensRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onCodeLensResolve:c=>m.onRequest(s.CodeLensResolveRequest.type,(l,b)=>c(l,b)),onDocumentFormatting:c=>m.onRequest(s.DocumentFormattingRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),void 0)),onDocumentRangeFormatting:c=>m.onRequest(s.DocumentRangeFormattingRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),void 0)),onDocumentOnTypeFormatting:c=>m.onRequest(s.DocumentOnTypeFormattingRequest.type,(l,b)=>c(l,b)),onRenameRequest:c=>m.onRequest(s.RenameRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),void 0)),onPrepareRename:c=>m.onRequest(s.PrepareRenameRequest.type,(l,b)=>c(l,b)),onDocumentLinks:c=>m.onRequest(s.DocumentLinkRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onDocumentLinkResolve:c=>m.onRequest(s.DocumentLinkResolveRequest.type,(l,b)=>c(l,b)),onDocumentColor:c=>m.onRequest(s.DocumentColorRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onColorPresentation:c=>m.onRequest(s.ColorPresentationRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onFoldingRanges:c=>m.onRequest(s.FoldingRangeRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onSelectionRanges:c=>m.onRequest(s.SelectionRangeRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),(0,u.attachPartialResult)(m,l))),onExecuteCommand:c=>m.onRequest(s.ExecuteCommandRequest.type,(l,b)=>c(l,b,(0,u.attachWorkDone)(m,l),void 0)),dispose:()=>m.dispose()};for(let c of o)c.attach(O);return m.onRequest(s.InitializeRequest.type,c=>{a.initialize(c),D.string(c.trace)&&(I.trace=s.Trace.fromString(c.trace));for(let l of o)l.initialize(c.capabilities);if(R)return function d(c){return c instanceof Promise?c:D.thenable(c)?new Promise((l,b)=>{c.then(W=>l(W),W=>b(W))}):Promise.resolve(c)}(R(c,(new s.CancellationTokenSource).token,(0,u.attachWorkDone)(m,c),void 0)).then(b=>{if(b instanceof s.ResponseError)return b;let W=b;W||(W={capabilities:{}});let j=W.capabilities;j||(j={},W.capabilities=j),null==j.textDocumentSync?j.textDocumentSync=D.number(O.__textDocumentSync)?O.__textDocumentSync:s.TextDocumentSyncKind.None:!D.number(j.textDocumentSync)&&!D.number(j.textDocumentSync.change)&&(j.textDocumentSync.change=D.number(O.__textDocumentSync)?O.__textDocumentSync:s.TextDocumentSyncKind.None);for(let A of o)A.fillServerCapabilities(j);return W});{let l={capabilities:{textDocumentSync:s.TextDocumentSyncKind.None}};for(let b of o)b.fillServerCapabilities(l.capabilities);return l}}),m.onRequest(s.ShutdownRequest.type,()=>{if(a.shutdownReceived=!0,h)return h((new s.CancellationTokenSource).token)}),m.onNotification(s.ExitNotification.type,()=>{try{C&&C()}finally{a.exit(a.shutdownReceived?0:1)}}),m.onNotification(s.SetTraceNotification.type,c=>{I.trace=s.Trace.fromString(c.value)}),O}},43066:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ShowDocumentFeature=void 0;const s=y(86581);i.ShowDocumentFeature=w=>class extends w{showDocument(u){return this.connection.sendRequest(s.ShowDocumentRequest.type,u)}}},17275:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextDocuments=void 0;const s=y(86581);i.TextDocuments=class D{constructor(u){this._configuration=u,this._syncedDocuments=new Map,this._onDidChangeContent=new s.Emitter,this._onDidOpen=new s.Emitter,this._onDidClose=new s.Emitter,this._onDidSave=new s.Emitter,this._onWillSave=new s.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(u){this._willSaveWaitUntil=u}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(u){return this._syncedDocuments.get(u)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(u){u.__textDocumentSync=s.TextDocumentSyncKind.Incremental;const f=[];return f.push(u.onDidOpenTextDocument(g=>{const n=g.textDocument,p=this._configuration.create(n.uri,n.languageId,n.version,n.text);this._syncedDocuments.set(n.uri,p);const _=Object.freeze({document:p});this._onDidOpen.fire(_),this._onDidChangeContent.fire(_)})),f.push(u.onDidChangeTextDocument(g=>{const n=g.textDocument,p=g.contentChanges;if(0===p.length)return;const{version:_}=n;if(null==_)throw new Error(`Received document change event for ${n.uri} without valid version identifier`);let S=this._syncedDocuments.get(n.uri);void 0!==S&&(S=this._configuration.update(S,p,_),this._syncedDocuments.set(n.uri,S),this._onDidChangeContent.fire(Object.freeze({document:S})))})),f.push(u.onDidCloseTextDocument(g=>{let n=this._syncedDocuments.get(g.textDocument.uri);void 0!==n&&(this._syncedDocuments.delete(g.textDocument.uri),this._onDidClose.fire(Object.freeze({document:n})))})),f.push(u.onWillSaveTextDocument(g=>{let n=this._syncedDocuments.get(g.textDocument.uri);void 0!==n&&this._onWillSave.fire(Object.freeze({document:n,reason:g.reason}))})),f.push(u.onWillSaveTextDocumentWaitUntil((g,n)=>{let p=this._syncedDocuments.get(g.textDocument.uri);return void 0!==p&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:p,reason:g.reason}),n):[]})),f.push(u.onDidSaveTextDocument(g=>{let n=this._syncedDocuments.get(g.textDocument.uri);void 0!==n&&this._onDidSave.fire(Object.freeze({document:n}))})),s.Disposable.create(()=>{f.forEach(g=>g.dispose())})}}},17207:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TypeHierarchyFeature=void 0;const s=y(86581);i.TypeHierarchyFeature=w=>class extends w{get typeHierarchy(){return{onPrepare:u=>this.connection.onRequest(s.TypeHierarchyPrepareRequest.type,(f,g)=>u(f,g,this.attachWorkDoneProgress(f),void 0)),onSupertypes:u=>{const f=s.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(f,(g,n)=>u(g,n,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(f,g)))},onSubtypes:u=>{const f=s.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(f,(g,n)=>u(g,n,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(f,g)))}}}}},42954:(k,i)=>{function s(_){return"string"==typeof _||_ instanceof String}function u(_){return"function"==typeof _}function f(_){return Array.isArray(_)}Object.defineProperty(i,"__esModule",{value:!0}),i.thenable=i.typedArray=i.stringArray=i.array=i.func=i.error=i.number=i.string=i.boolean=void 0,i.boolean=function y(_){return!0===_||!1===_},i.string=s,i.number=function D(_){return"number"==typeof _||_ instanceof Number},i.error=function w(_){return _ instanceof Error},i.func=u,i.array=f,i.stringArray=function g(_){return f(_)&&_.every(S=>s(S))},i.typedArray=function n(_,S){return Array.isArray(_)&&_.every(S)},i.thenable=function p(_){return _&&u(_.then)}},68171:(k,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.generateUuid=i.parse=i.isUUID=i.v4=i.empty=void 0;class y{constructor(p){this._value=p}asHex(){return this._value}equals(p){return this.asHex()===p.asHex()}}let s=(()=>{class n extends y{constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}static _oneOf(_){return _[Math.floor(_.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}}return n._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n._timeHighBits=["8","9","a","b"],n})();function D(){return new s}i.empty=new y("00000000-0000-0000-0000-000000000000"),i.v4=D;const w=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function u(n){return w.test(n)}i.isUUID=u,i.parse=function f(n){if(!u(n))throw new Error("invalid uuid");return new y(n)},i.generateUuid=function g(){return D().asHex()}},93173:(k,i,y)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WorkspaceFoldersFeature=void 0;const s=y(86581);i.WorkspaceFoldersFeature=w=>class extends w{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(u){super.initialize(u);let f=u.workspace;f&&f.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new s.Emitter,this.connection.onNotification(s.DidChangeWorkspaceFoldersNotification.type,g=>{this._onDidChangeWorkspaceFolders.fire(g.event)}))}fillServerCapabilities(u){super.fillServerCapabilities(u);const f=u.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=!0===f||"string"==typeof f}getWorkspaceFolders(){return this.connection.sendRequest(s.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(s.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}}},De={};function N(k){var i=De[k];if(void 0!==i)return i.exports;var y=De[k]={exports:{}};return be[k].call(y.exports,y,y.exports,N),y.exports}N.m=be,N.x=()=>{var k=N.O(void 0,[158,772],()=>N(3827));return N.O(k)},k=[],N.O=(i,y,s,D)=>{if(!y){var u=1/0;for(w=0;w<k.length;w++){for(var[y,s,D]=k[w],f=!0,g=0;g<y.length;g++)(!1&D||u>=D)&&Object.keys(N.O).every(H=>N.O[H](y[g]))?y.splice(g--,1):(f=!1,D<u&&(u=D));if(f){k.splice(w--,1);var n=s();void 0!==n&&(i=n)}}return i}D=D||0;for(var w=k.length;w>0&&k[w-1][2]>D;w--)k[w]=k[w-1];k[w]=[y,s,D]},N.d=(k,i)=>{for(var y in i)N.o(i,y)&&!N.o(k,y)&&Object.defineProperty(k,y,{enumerable:!0,get:i[y]})},N.f={},N.e=k=>Promise.all(Object.keys(N.f).reduce((i,y)=>(N.f[y](k,i),i),[])),N.u=k=>k+"."+{158:"e3c5fd1e935f5f50",772:"7805bcec0c64f827"}[k]+".js",N.miniCssF=k=>{},N.o=(k,i)=>Object.prototype.hasOwnProperty.call(k,i),N.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},(()=>{var k;N.tt=()=>(void 0===k&&(k={createScriptURL:i=>i},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(k=trustedTypes.createPolicy("angular#bundler",k))),k)})(),N.tu=k=>N.tt().createScriptURL(k),N.p="",(()=>{var k={830:1};N.f.i=(D,w)=>{k[D]||importScripts(N.tu(N.p+N.u(D)))};var y=self.webpackChunkweb=self.webpackChunkweb||[],s=y.push.bind(y);y.push=D=>{var[w,u,f]=D;for(var g in u)N.o(u,g)&&(N.m[g]=u[g]);for(f&&f(N);w.length;)k[w.pop()]=1;s(D)}})(),(()=>{var k=N.x;N.x=()=>Promise.all([N.e(158),N.e(772)]).then(k)})(),N.x()})();