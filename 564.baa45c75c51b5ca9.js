(self.webpackChunkweb=self.webpackChunkweb||[]).push([[564],{54564:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{EditorModule:()=>Wc});var s=e(71650),t=e(39480),l=e(45187),C=e(19480),f=e(3176),I=e(4442),b=e(84098),S=e(66716),D=e(1711),_=e(23562);class r{}class a{}class u{constructor(B){this.normalizedNames=new Map,this.lazyUpdate=null,B?this.lazyInit="string"==typeof B?()=>{this.headers=new Map,B.split("\n").forEach(G=>{const Ve=G.indexOf(":");if(Ve>0){const Mt=G.slice(0,Ve),Tn=Mt.toLowerCase(),kn=G.slice(Ve+1).trim();this.maybeSetNormalizedName(Mt,Tn),this.headers.has(Tn)?this.headers.get(Tn).push(kn):this.headers.set(Tn,[kn])}})}:()=>{this.headers=new Map,Object.entries(B).forEach(([G,Ve])=>{let Mt;if(Mt="string"==typeof Ve?[Ve]:"number"==typeof Ve?[Ve.toString()]:Ve.map(Tn=>Tn.toString()),Mt.length>0){const Tn=G.toLowerCase();this.headers.set(Tn,Mt),this.maybeSetNormalizedName(G,Tn)}})}:this.headers=new Map}has(B){return this.init(),this.headers.has(B.toLowerCase())}get(B){this.init();const G=this.headers.get(B.toLowerCase());return G&&G.length>0?G[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(B){return this.init(),this.headers.get(B.toLowerCase())||null}append(B,G){return this.clone({name:B,value:G,op:"a"})}set(B,G){return this.clone({name:B,value:G,op:"s"})}delete(B,G){return this.clone({name:B,value:G,op:"d"})}maybeSetNormalizedName(B,G){this.normalizedNames.has(G)||this.normalizedNames.set(G,B)}init(){this.lazyInit&&(this.lazyInit instanceof u?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(B=>this.applyUpdate(B)),this.lazyUpdate=null))}copyFrom(B){B.init(),Array.from(B.headers.keys()).forEach(G=>{this.headers.set(G,B.headers.get(G)),this.normalizedNames.set(G,B.normalizedNames.get(G))})}clone(B){const G=new u;return G.lazyInit=this.lazyInit&&this.lazyInit instanceof u?this.lazyInit:this,G.lazyUpdate=(this.lazyUpdate||[]).concat([B]),G}applyUpdate(B){const G=B.name.toLowerCase();switch(B.op){case"a":case"s":let Ve=B.value;if("string"==typeof Ve&&(Ve=[Ve]),0===Ve.length)return;this.maybeSetNormalizedName(B.name,G);const Mt=("a"===B.op?this.headers.get(G):void 0)||[];Mt.push(...Ve),this.headers.set(G,Mt);break;case"d":const Tn=B.value;if(Tn){let kn=this.headers.get(G);if(!kn)return;kn=kn.filter(hi=>-1===Tn.indexOf(hi)),0===kn.length?(this.headers.delete(G),this.normalizedNames.delete(G)):this.headers.set(G,kn)}else this.headers.delete(G),this.normalizedNames.delete(G)}}forEach(B){this.init(),Array.from(this.normalizedNames.keys()).forEach(G=>B(this.normalizedNames.get(G),this.headers.get(G)))}}class d{encodeKey(B){return m(B)}encodeValue(B){return m(B)}decodeKey(B){return decodeURIComponent(B)}decodeValue(B){return decodeURIComponent(B)}}const g=/%(\d[a-f0-9])/gi,v={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m(je){return encodeURIComponent(je).replace(g,(B,G)=>v[G]??B)}function w(je){return`${je}`}class E{constructor(B={}){if(this.updates=null,this.cloneFrom=null,this.encoder=B.encoder||new d,B.fromString){if(B.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function y(je,B){const G=new Map;return je.length>0&&je.replace(/^\?/,"").split("&").forEach(Mt=>{const Tn=Mt.indexOf("="),[kn,hi]=-1==Tn?[B.decodeKey(Mt),""]:[B.decodeKey(Mt.slice(0,Tn)),B.decodeValue(Mt.slice(Tn+1))],yi=G.get(kn)||[];yi.push(hi),G.set(kn,yi)}),G}(B.fromString,this.encoder)}else B.fromObject?(this.map=new Map,Object.keys(B.fromObject).forEach(G=>{const Ve=B.fromObject[G],Mt=Array.isArray(Ve)?Ve.map(w):[w(Ve)];this.map.set(G,Mt)})):this.map=null}has(B){return this.init(),this.map.has(B)}get(B){this.init();const G=this.map.get(B);return G?G[0]:null}getAll(B){return this.init(),this.map.get(B)||null}keys(){return this.init(),Array.from(this.map.keys())}append(B,G){return this.clone({param:B,value:G,op:"a"})}appendAll(B){const G=[];return Object.keys(B).forEach(Ve=>{const Mt=B[Ve];Array.isArray(Mt)?Mt.forEach(Tn=>{G.push({param:Ve,value:Tn,op:"a"})}):G.push({param:Ve,value:Mt,op:"a"})}),this.clone(G)}set(B,G){return this.clone({param:B,value:G,op:"s"})}delete(B,G){return this.clone({param:B,value:G,op:"d"})}toString(){return this.init(),this.keys().map(B=>{const G=this.encoder.encodeKey(B);return this.map.get(B).map(Ve=>G+"="+this.encoder.encodeValue(Ve)).join("&")}).filter(B=>""!==B).join("&")}clone(B){const G=new E({encoder:this.encoder});return G.cloneFrom=this.cloneFrom||this,G.updates=(this.updates||[]).concat(B),G}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(B=>this.map.set(B,this.cloneFrom.map.get(B))),this.updates.forEach(B=>{switch(B.op){case"a":case"s":const G=("a"===B.op?this.map.get(B.param):void 0)||[];G.push(w(B.value)),this.map.set(B.param,G);break;case"d":if(void 0===B.value){this.map.delete(B.param);break}{let Ve=this.map.get(B.param)||[];const Mt=Ve.indexOf(w(B.value));-1!==Mt&&Ve.splice(Mt,1),Ve.length>0?this.map.set(B.param,Ve):this.map.delete(B.param)}}}),this.cloneFrom=this.updates=null)}}class x{constructor(){this.map=new Map}set(B,G){return this.map.set(B,G),this}get(B){return this.map.has(B)||this.map.set(B,B.defaultValue()),this.map.get(B)}delete(B){return this.map.delete(B),this}has(B){return this.map.has(B)}keys(){return this.map.keys()}}function k(je){return typeof ArrayBuffer<"u"&&je instanceof ArrayBuffer}function W(je){return typeof Blob<"u"&&je instanceof Blob}function H(je){return typeof FormData<"u"&&je instanceof FormData}class N{constructor(B,G,Ve,Mt){let Tn;if(this.url=G,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=B.toUpperCase(),function A(je){switch(je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Mt?(this.body=void 0!==Ve?Ve:null,Tn=Mt):Tn=Ve,Tn&&(this.reportProgress=!!Tn.reportProgress,this.withCredentials=!!Tn.withCredentials,Tn.responseType&&(this.responseType=Tn.responseType),Tn.headers&&(this.headers=Tn.headers),Tn.context&&(this.context=Tn.context),Tn.params&&(this.params=Tn.params)),this.headers||(this.headers=new u),this.context||(this.context=new x),this.params){const kn=this.params.toString();if(0===kn.length)this.urlWithParams=G;else{const hi=G.indexOf("?");this.urlWithParams=G+(-1===hi?"?":hi<G.length-1?"&":"")+kn}}else this.params=new E,this.urlWithParams=G}serializeBody(){return null===this.body?null:k(this.body)||W(this.body)||H(this.body)||function z(je){return typeof URLSearchParams<"u"&&je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof E?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||H(this.body)?null:W(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof E?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(B={}){const G=B.method||this.method,Ve=B.url||this.url,Mt=B.responseType||this.responseType,Tn=void 0!==B.body?B.body:this.body,kn=void 0!==B.withCredentials?B.withCredentials:this.withCredentials,hi=void 0!==B.reportProgress?B.reportProgress:this.reportProgress;let yi=B.headers||this.headers,$i=B.params||this.params;const Ao=B.context??this.context;return void 0!==B.setHeaders&&(yi=Object.keys(B.setHeaders).reduce((Wo,Ps)=>Wo.set(Ps,B.setHeaders[Ps]),yi)),B.setParams&&($i=Object.keys(B.setParams).reduce((Wo,Ps)=>Wo.set(Ps,B.setParams[Ps]),$i)),new N(G,Ve,Tn,{params:$i,headers:yi,context:Ao,reportProgress:hi,responseType:Mt,withCredentials:kn})}}var O=(()=>((O=O||{})[O.Sent=0]="Sent",O[O.UploadProgress=1]="UploadProgress",O[O.ResponseHeader=2]="ResponseHeader",O[O.DownloadProgress=3]="DownloadProgress",O[O.Response=4]="Response",O[O.User=5]="User",O))();class K{constructor(B,G=200,Ve="OK"){this.headers=B.headers||new u,this.status=void 0!==B.status?B.status:G,this.statusText=B.statusText||Ve,this.url=B.url||null,this.ok=this.status>=200&&this.status<300}}class $ extends K{constructor(B={}){super(B),this.type=O.ResponseHeader}clone(B={}){return new $({headers:B.headers||this.headers,status:void 0!==B.status?B.status:this.status,statusText:B.statusText||this.statusText,url:B.url||this.url||void 0})}}class j extends K{constructor(B={}){super(B),this.type=O.Response,this.body=void 0!==B.body?B.body:null}clone(B={}){return new j({body:void 0!==B.body?B.body:this.body,headers:B.headers||this.headers,status:void 0!==B.status?B.status:this.status,statusText:B.statusText||this.statusText,url:B.url||this.url||void 0})}}class q extends K{constructor(B){super(B,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${B.url||"(unknown url)"}`:`Http failure response for ${B.url||"(unknown url)"}: ${B.status} ${B.statusText}`,this.error=B.error||null}}function R(je,B){return{body:B,headers:je.headers,context:je.context,observe:je.observe,params:je.params,reportProgress:je.reportProgress,responseType:je.responseType,withCredentials:je.withCredentials}}let Z=(()=>{class je{constructor(G){this.handler=G}request(G,Ve,Mt={}){let Tn;if(G instanceof N)Tn=G;else{let yi,$i;yi=Mt.headers instanceof u?Mt.headers:new u(Mt.headers),Mt.params&&($i=Mt.params instanceof E?Mt.params:new E({fromObject:Mt.params})),Tn=new N(G,Ve,void 0!==Mt.body?Mt.body:null,{headers:yi,context:Mt.context,params:$i,reportProgress:Mt.reportProgress,responseType:Mt.responseType||"json",withCredentials:Mt.withCredentials})}const kn=(0,l.of)(Tn).pipe((0,I.b)(yi=>this.handler.handle(yi)));if(G instanceof N||"events"===Mt.observe)return kn;const hi=kn.pipe((0,b.h)(yi=>yi instanceof j));switch(Mt.observe||"body"){case"body":switch(Tn.responseType){case"arraybuffer":return hi.pipe((0,S.U)(yi=>{if(null!==yi.body&&!(yi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yi.body}));case"blob":return hi.pipe((0,S.U)(yi=>{if(null!==yi.body&&!(yi.body instanceof Blob))throw new Error("Response is not a Blob.");return yi.body}));case"text":return hi.pipe((0,S.U)(yi=>{if(null!==yi.body&&"string"!=typeof yi.body)throw new Error("Response is not a string.");return yi.body}));default:return hi.pipe((0,S.U)(yi=>yi.body))}case"response":return hi;default:throw new Error(`Unreachable: unhandled observe type ${Mt.observe}}`)}}delete(G,Ve={}){return this.request("DELETE",G,Ve)}get(G,Ve={}){return this.request("GET",G,Ve)}head(G,Ve={}){return this.request("HEAD",G,Ve)}jsonp(G,Ve){return this.request("JSONP",G,{params:(new E).append(Ve,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(G,Ve={}){return this.request("OPTIONS",G,Ve)}patch(G,Ve,Mt={}){return this.request("PATCH",G,R(Mt,Ve))}post(G,Ve,Mt={}){return this.request("POST",G,R(Mt,Ve))}put(G,Ve,Mt={}){return this.request("PUT",G,R(Mt,Ve))}}return je.\u0275fac=function(G){return new(G||je)(t.LFG(r))},je.\u0275prov=t.Yz7({token:je,factory:je.\u0275fac}),je})();function J(je,B){return B(je)}function Ce(je,B){return(G,Ve)=>B.intercept(G,{handle:Mt=>je(Mt,Ve)})}const Ie=new t.OlP(""),xe=new t.OlP(""),Me=new t.OlP("");function Oe(){let je=null;return(B,G)=>{null===je&&(je=((0,t.f3M)(Ie,{optional:!0})??[]).reduceRight(Ce,J));const Ve=(0,t.f3M)(t.HDt),Mt=Ve.add();return je(B,G).pipe((0,D.x)(()=>Ve.remove(Mt)))}}let se=(()=>{class je extends r{constructor(G,Ve){super(),this.backend=G,this.injector=Ve,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(G){if(null===this.chain){const Mt=Array.from(new Set([...this.injector.get(xe),...this.injector.get(Me,[])]));this.chain=Mt.reduceRight((Tn,kn)=>function Se(je,B,G){return(Ve,Mt)=>G.runInContext(()=>B(Ve,Tn=>je(Tn,Mt)))}(Tn,kn,this.injector),J)}const Ve=this.pendingTasks.add();return this.chain(G,Mt=>this.backend.handle(Mt)).pipe((0,D.x)(()=>this.pendingTasks.remove(Ve)))}}return je.\u0275fac=function(G){return new(G||je)(t.LFG(a),t.LFG(t.lqb))},je.\u0275prov=t.Yz7({token:je,factory:je.\u0275fac}),je})();const vt=/^\)\]\}',?\n/;let Xe=(()=>{class je{constructor(G){this.xhrFactory=G}handle(G){if("JSONP"===G.method)throw new t.vHH(-2800,!1);const Ve=this.xhrFactory;return(Ve.\u0275loadImpl?(0,C.D)(Ve.\u0275loadImpl()):(0,l.of)(null)).pipe((0,_.w)(()=>new f.y(Tn=>{const kn=Ve.build();if(kn.open(G.method,G.urlWithParams),G.withCredentials&&(kn.withCredentials=!0),G.headers.forEach((bs,Vs)=>kn.setRequestHeader(bs,Vs.join(","))),G.headers.has("Accept")||kn.setRequestHeader("Accept","application/json, text/plain, */*"),!G.headers.has("Content-Type")){const bs=G.detectContentTypeHeader();null!==bs&&kn.setRequestHeader("Content-Type",bs)}if(G.responseType){const bs=G.responseType.toLowerCase();kn.responseType="json"!==bs?bs:"text"}const hi=G.serializeBody();let yi=null;const $i=()=>{if(null!==yi)return yi;const bs=kn.statusText||"OK",Vs=new u(kn.getAllResponseHeaders()),_l=function Et(je){return"responseURL"in je&&je.responseURL?je.responseURL:/^X-Request-URL:/m.test(je.getAllResponseHeaders())?je.getResponseHeader("X-Request-URL"):null}(kn)||G.url;return yi=new $({headers:Vs,status:kn.status,statusText:bs,url:_l}),yi},Ao=()=>{let{headers:bs,status:Vs,statusText:_l,url:nc}=$i(),kr=null;204!==Vs&&(kr=typeof kn.response>"u"?kn.responseText:kn.response),0===Vs&&(Vs=kr?200:0);let Od=Vs>=200&&Vs<300;if("json"===G.responseType&&"string"==typeof kr){const Hc=kr;kr=kr.replace(vt,"");try{kr=""!==kr?JSON.parse(kr):null}catch(Vc){kr=Hc,Od&&(Od=!1,kr={error:Vc,text:kr})}}Od?(Tn.next(new j({body:kr,headers:bs,status:Vs,statusText:_l,url:nc||void 0})),Tn.complete()):Tn.error(new q({error:kr,headers:bs,status:Vs,statusText:_l,url:nc||void 0}))},Wo=bs=>{const{url:Vs}=$i(),_l=new q({error:bs,status:kn.status||0,statusText:kn.statusText||"Unknown Error",url:Vs||void 0});Tn.error(_l)};let Ps=!1;const Or=bs=>{Ps||(Tn.next($i()),Ps=!0);let Vs={type:O.DownloadProgress,loaded:bs.loaded};bs.lengthComputable&&(Vs.total=bs.total),"text"===G.responseType&&kn.responseText&&(Vs.partialText=kn.responseText),Tn.next(Vs)},la=bs=>{let Vs={type:O.UploadProgress,loaded:bs.loaded};bs.lengthComputable&&(Vs.total=bs.total),Tn.next(Vs)};return kn.addEventListener("load",Ao),kn.addEventListener("error",Wo),kn.addEventListener("timeout",Wo),kn.addEventListener("abort",Wo),G.reportProgress&&(kn.addEventListener("progress",Or),null!==hi&&kn.upload&&kn.upload.addEventListener("progress",la)),kn.send(hi),Tn.next({type:O.Sent}),()=>{kn.removeEventListener("error",Wo),kn.removeEventListener("abort",Wo),kn.removeEventListener("load",Ao),kn.removeEventListener("timeout",Wo),G.reportProgress&&(kn.removeEventListener("progress",Or),null!==hi&&kn.upload&&kn.upload.removeEventListener("progress",la)),kn.readyState!==kn.DONE&&kn.abort()}})))}}return je.\u0275fac=function(G){return new(G||je)(t.LFG(s.JF))},je.\u0275prov=t.Yz7({token:je,factory:je.\u0275fac}),je})();const re=new t.OlP("XSRF_ENABLED"),ge=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Q=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ye{}let Ae=(()=>{class je{constructor(G,Ve,Mt){this.doc=G,this.platform=Ve,this.cookieName=Mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const G=this.doc.cookie||"";return G!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,s.Mx)(G,this.cookieName),this.lastCookieString=G),this.lastToken}}return je.\u0275fac=function(G){return new(G||je)(t.LFG(s.K0),t.LFG(t.Lbi),t.LFG(ge))},je.\u0275prov=t.Yz7({token:je,factory:je.\u0275fac}),je})();function ft(je,B){const G=je.url.toLowerCase();if(!(0,t.f3M)(re)||"GET"===je.method||"HEAD"===je.method||G.startsWith("http://")||G.startsWith("https://"))return B(je);const Ve=(0,t.f3M)(ye).getToken(),Mt=(0,t.f3M)(Q);return null!=Ve&&!je.headers.has(Mt)&&(je=je.clone({headers:je.headers.set(Mt,Ve)})),B(je)}var it=(()=>((it=it||{})[it.Interceptors=0]="Interceptors",it[it.LegacyInterceptors=1]="LegacyInterceptors",it[it.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",it[it.NoXsrfProtection=3]="NoXsrfProtection",it[it.JsonpSupport=4]="JsonpSupport",it[it.RequestsMadeViaParent=5]="RequestsMadeViaParent",it))();function et(je,B){return{\u0275kind:je,\u0275providers:B}}function st(...je){const B=[Z,Xe,se,{provide:r,useExisting:se},{provide:a,useExisting:Xe},{provide:xe,useValue:ft,multi:!0},{provide:re,useValue:!0},{provide:ye,useClass:Ae}];for(const G of je)B.push(...G.\u0275providers);return(0,t.MR2)(B)}const mt=new t.OlP("LEGACY_INTERCEPTOR_FN");let Ot=(()=>{class je{}return je.\u0275fac=function(G){return new(G||je)},je.\u0275mod=t.oAB({type:je}),je.\u0275inj=t.cJS({providers:[st(et(it.LegacyInterceptors,[{provide:mt,useFactory:Oe},{provide:xe,useExisting:mt,multi:!0}]))]}),je})();e(41712),e(60283),e(39542);var lt=e(56326);e(553),e(19942);const uo=new t.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ho}),ho="always";let tr=(()=>{class je{}return je.\u0275fac=function(G){return new(G||je)},je.\u0275mod=t.oAB({type:je}),je.\u0275inj=t.cJS({}),je})(),Mr=(()=>{class je{}return je.\u0275fac=function(G){return new(G||je)},je.\u0275mod=t.oAB({type:je}),je.\u0275inj=t.cJS({imports:[tr]}),je})(),ms=(()=>{class je{static withConfig(G){return{ngModule:je,providers:[{provide:uo,useValue:G.callSetDisabledState??ho}]}}}return je.\u0275fac=function(G){return new(G||je)},je.\u0275mod=t.oAB({type:je}),je.\u0275inj=t.cJS({imports:[Mr]}),je})();var pa=e(9369),es=e(78450),ta=e(56204),zt=e(34358);class ke extends zt.w0{constructor(B,G){super()}schedule(B,G=0){return this}}const tt={setInterval(je,B,...G){const{delegate:Ve}=tt;return Ve?.setInterval?Ve.setInterval(je,B,...G):setInterval(je,B,...G)},clearInterval(je){const{delegate:B}=tt;return(B?.clearInterval||clearInterval)(je)},delegate:void 0};var Pt=e(6405);const _n={now:()=>(_n.delegate||Date).now(),delegate:void 0};class yn{constructor(B,G=yn.now){this.schedulerActionCtor=B,this.now=G}schedule(B,G=0,Ve){return new this.schedulerActionCtor(this,B).schedule(Ve,G)}}yn.now=_n.now;const qn=new class Rn extends yn{constructor(B,G=yn.now){super(B,G),this.actions=[],this._active=!1}flush(B){const{actions:G}=this;if(this._active)return void G.push(B);let Ve;this._active=!0;do{if(Ve=B.execute(B.state,B.delay))break}while(B=G.shift());if(this._active=!1,Ve){for(;B=G.shift();)B.unsubscribe();throw Ve}}}(class Jt extends ke{constructor(B,G){super(B,G),this.scheduler=B,this.work=G,this.pending=!1}schedule(B,G=0){var Ve;if(this.closed)return this;this.state=B;const Mt=this.id,Tn=this.scheduler;return null!=Mt&&(this.id=this.recycleAsyncId(Tn,Mt,G)),this.pending=!0,this.delay=G,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(Tn,this.id,G),this}requestAsyncId(B,G,Ve=0){return tt.setInterval(B.flush.bind(B,this),Ve)}recycleAsyncId(B,G,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return G;null!=G&&tt.clearInterval(G)}execute(B,G){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(B,G);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(B,G){let Mt,Ve=!1;try{this.work(B)}catch(Tn){Ve=!0,Mt=Tn||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),Mt}unsubscribe(){if(!this.closed){const{id:B,scheduler:G}=this,{actions:Ve}=G;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pt.P)(Ve,this),null!=B&&(this.id=this.recycleAsyncId(G,B,null)),this.delay=null,super.unsubscribe()}}});var ei=e(92304),Ti=e(79388),xi=e(13688),ki=e(72343),qi=e(5748),po=e(51025),No=e(85693),Io=e(17026),To=e(50529),co=e(74850),Jo=e(79866),Uo=e(28446),wo=e(97597),no=e(31465),Eo=e(49566),Qo=e(89559),qo=e(16645),ls=e(48817),Po=e(49518),hs=e(38593),Ks=e(5887),ss=e(59253),zs=e(72877),lr=e(13184),jo=e(48779),ur=e(11582),$s=e(41864),Gr=e(13737),Ta=e(56055),ua=e(1303),za=e(91051);class ha extends ki.dp{constructor({id:B,name:G,clientOptions:Ve,connectionProvider:Mt}){super(B||G.toLowerCase(),G,Ve),(0,xi.Z)(this,"connectionProvider",void 0),this.connectionProvider=Mt;const Tn=this.handleRegistrationRequest.bind(this);this.handleRegistrationRequest=hi=>{Tn({...hi,registrations:hi.registrations.filter(yi=>null!=this.getFeature(yi.method))})};const kn=this.handleUnregistrationRequest.bind(this);this.handleUnregistrationRequest=hi=>{kn({...hi,unregisterations:hi.unregisterations.filter(yi=>null!=this.getFeature(yi.method))})}}createMessageTransports(B){return this.connectionProvider.get(B)}getLocale(){return navigator.language||"en-US"}registerBuiltinFeatures(){this.registerFeature(new po.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new po.DidChangeTextDocumentFeature(this)),this.registerFeature(new po.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new No.CompletionItemFeature(this)),this.registerFeature(new Io.HoverFeature(this)),this.registerFeature(new To.SignatureHelpFeature(this)),this.registerFeature(new co.DefinitionFeature(this)),this.registerFeature(new Jo.ReferencesFeature(this)),this.registerFeature(new Uo.DocumentHighlightFeature(this)),this.registerFeature(new wo.DocumentSymbolFeature(this)),this.registerFeature(new no.CodeActionFeature(this)),this.registerFeature(new Eo.CodeLensFeature(this)),this.registerFeature(new Qo.DocumentFormattingFeature(this)),this.registerFeature(new Qo.DocumentRangeFormattingFeature(this)),this.registerFeature(new Qo.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new qo.RenameFeature(this)),this.registerFeature(new ls.DocumentLinkFeature(this)),this.registerFeature(new Po.ExecuteCommandFeature(this)),this.registerFeature(new hs.TypeDefinitionFeature(this)),this.registerFeature(new Ks.ImplementationFeature(this)),this.registerFeature(new ss.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new zs.WorkspaceFoldersFeature(this)),this.registerFeature(new lr.FoldingRangeFeature(this)),this.registerFeature(new jo.DeclarationFeature(this)),this.registerFeature(new ur.SelectionRangeFeature(this)),this.registerFeature(new $s.SemanticTokensFeature(this)),this.registerFeature(new Gr.LinkedEditingFeature(this)),this.registerFeature(new Ta.InlayHintsFeature(this)),this.registerFeature(new ua.DiagnosticFeature(this))}registerTextDocumentSaveFeatures(){this.registerFeature(new po.WillSaveFeature(this)),this.registerFeature(new po.WillSaveWaitUntilFeature(this)),this.registerFeature(new po.DidSaveTextDocumentFeature(this))}registerConfigurationFeatures(){this.registerFeature(new qi.ConfigurationFeature(this)),this.registerFeature(new qi.SyncConfigurationFeature(this))}registerProgressFeatures(){this.registerFeature(new za.ProgressFeature(this))}}var Dl,Er=e(52236),Ni=e(63896),fa=e(64455),na=e(34468),Ls=e(83916),xa=(e(59961),e(60896)),yl=e(12375),bl=(e(15333),e(80607),e(13154),e(44378)),Fi=(e(97953),e(21611)),Za=e(34474),Lr=e(30888),_a=(e(80618),e(78668)),ys=(e(21156),e(90062)),Ts=(e(56767),e(14089)),Qa=(e(83310),e(22735)),ga=e(91729);class wl{constructor(){(0,xi.Z)(this,"channels",new Map)}showMessage(B,G,...Ve){return B===ga.Z.Error&&console.error(G),B===ga.Z.Warning&&console.warn(G),B===ga.Z.Info&&console.info(G),B===ga.Z.Ignore&&console.debug(G),Promise.resolve(void 0)}createOutputChannel(B){const G=this.channels.get(B);if(G)return G;const Ve={name:"default",append(Mt){console.log(B+": "+Mt)},appendLine(Mt){console.log(B+": "+Mt)},show(){},dispose(){},replace:function(Mt){},clear:function(){},hide:function(){}};return this.channels.set(B,Ve),Ve}}class Cr{constructor(B,G){(0,xi.Z)(this,"workspaceFolders",void 0),(0,xi.Z)(this,"rootPath",void 0),this.workspaceFolders=B,this.rootPath=G}}!function(je){function B(Mt={}){return{workspace:new Cr(Mt.workspaceFolders,Mt.rootPath),window:new wl}}je.create=B,je.install=function G(Mt={}){const Tn=B(Mt);return Er.S.install(Tn)},je.get=function Ve(){return Er.S.get()}}(Dl||(Dl={})),e(97785),e(85773);var Hl=e(31044);e(8424);var Ll=e(15729),io=e(6192),ts=e(21576),ji=e(94418),dl=e(82941),Qr=e(52364),Pa=e(47579),rs=e(51153),mr=e(36608),Qn=e(1200),Aa=e(47888),Hr=e(84968),ia=e(53192);const Ya=(0,Er.s)(ia.F);var Na=e(25468),cl=e(84783),ul=e(3219),Il=e(90963);const hl="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",Ra=Object.freeze({authSession:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts",badges:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.badges.d.ts",commentsResolvedState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsResolvedState.d.ts",contribEditSessions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts",contribLabelFormatterWorkspaceTooltip:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts",contribMenuBarHome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts",contribMergeEditorToolbar:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorToolbar.d.ts",contribRemoteHelp:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts",contribShareMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts",contribViewSize:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewSize.d.ts",contribViewsRemote:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts",contribViewsWelcome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts",contribWebviewContext:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribWebviewContext.d.ts",customEditorMove:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts",diffCommand:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts",documentFiltersExclusive:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts",documentPaste:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts",editorInsets:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts",extensionRuntime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts",extensionsAny:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts",externalUriOpener:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts",fileSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts",findTextInFiles:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts",fsChunks:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts",idToken:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts",inlineCompletionsAdditions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts",inlineCompletionsNew:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsNew.d.ts",interactiveWindow:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts",ipc:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts",notebookCellExecutionState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts",notebookContentProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookContentProvider.d.ts",notebookControllerKind:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerKind.d.ts",notebookDebugOptions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDebugOptions.d.ts",notebookDeprecated:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts",notebookEditor:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditor.d.ts",notebookEditorEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditorEdit.d.ts",notebookKernelSource:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts",notebookLiveShare:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts",notebookMessaging:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts",notebookMime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts",notebookWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookWorkspaceEdit.d.ts",portsAttributes:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts",quickPickSortByLabel:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts",resolvers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts",scmActionButton:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts",scmSelectedProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts",scmValidation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts",snippetWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.snippetWorkspaceEdit.d.ts",tabInputTextMerge:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts",taskPresentationGroup:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts",telemetry:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts",terminalDataWriteEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts",terminalDimensions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts",terminalExitReason:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExitReason.d.ts",testCoverage:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testCoverage.d.ts",testObserver:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts",textSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts",timeline:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts",tokenInformation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts",treeViewReveal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts",workspaceTrust:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"}),Ca=Na.B.as(cl.I.JSONContribution);class dr{constructor(B,G){this.added=B,this.removed=G}static _toSet(B){const G=new Set;for(let Ve=0,Mt=B.length;Ve<Mt;Ve++)G.add(Il.k.toKey(B[Ve].description.identifier));return G}static compute(B,G){if(!B||!B.length)return new dr(G,[]);if(!G||!G.length)return new dr([],B);const Ve=this._toSet(B),Mt=this._toSet(G),Tn=G.filter(hi=>!Ve.has(Il.k.toKey(hi.description.identifier))),kn=B.filter(hi=>!Mt.has(Il.k.toKey(hi.description.identifier)));return new dr(Tn,kn)}}class pd{constructor(B,G){this.name=B,this.defaultExtensionKind=G,this._handler=null,this._users=null,this._delta=null}setHandler(B){if(null!==this._handler)throw new Error("Handler already set!");this._handler=B,this._handle()}acceptUsers(B){this._delta=dr.compute(this._users,B),this._users=B,this._handle()}_handle(){if(null!==this._handler&&null!==this._users&&null!==this._delta)try{this._handler(this._users,this._delta)}catch(B){(0,ul.dL)(B)}}}const Vr={type:"string",enum:["ui","workspace"],enumDescriptions:[(0,Qn.NC)("ui","UI extension kind. In a remote window, such extensions are enabled only when available on the local machine."),(0,Qn.NC)("workspace","Workspace extension kind. In a remote window, such extensions are enabled only when available on the remote.")]},Vl="vscode://schemas/vscode-extensions",Tl={properties:{engines:{type:"object",description:(0,Qn.NC)("vscode.extension.engines","Engine compatibility."),properties:{vscode:{type:"string",description:(0,Qn.NC)("vscode.extension.engines.vscode","For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5."),default:"^1.22.0"}}},publisher:{description:(0,Qn.NC)("vscode.extension.publisher","The publisher of the VS Code extension."),type:"string"},displayName:{description:(0,Qn.NC)("vscode.extension.displayName","The display name for the extension used in the VS Code gallery."),type:"string"},categories:{description:(0,Qn.NC)("vscode.extension.categories","The categories used by the VS Code gallery to categorize the extension."),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"]},{type:"string",const:"Languages",deprecationMessage:(0,Qn.NC)("vscode.extension.category.languages.deprecated","Use 'Programming  Languages' instead")}]}},galleryBanner:{type:"object",description:(0,Qn.NC)("vscode.extension.galleryBanner","Banner used in the VS Code marketplace."),properties:{color:{description:(0,Qn.NC)("vscode.extension.galleryBanner.color","The banner color on the VS Code marketplace page header."),type:"string"},theme:{description:(0,Qn.NC)("vscode.extension.galleryBanner.theme","The color theme for the font used in the banner."),type:"string",enum:["dark","light"]}}},contributes:{description:(0,Qn.NC)("vscode.extension.contributes","All contributions of the VS Code extension represented by this package."),type:"object",properties:{},default:{}},preview:{type:"boolean",description:(0,Qn.NC)("vscode.extension.preview","Sets the extension to be flagged as a Preview in the Marketplace.")},enableProposedApi:{type:"boolean",deprecationMessage:(0,Qn.NC)("vscode.extension.enableProposedApi.deprecated","Use `enabledApiProposals` instead.")},enabledApiProposals:{markdownDescription:(0,Qn.NC)("vscode.extension.enabledApiProposals","Enable API proposals to try them out. Only valid **during development**. Extensions **cannot be published** with this property. For more details visit: https://code.visualstudio.com/api/advanced-topics/using-proposed-api"),type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(Ra),markdownEnumDescriptions:Object.values(Ra)}},activationEvents:{description:(0,Qn.NC)("vscode.extension.activationEvents","Activation events for the VS Code extension."),type:"array",items:{type:"string",defaultSnippets:[{label:"onWebviewPanel",description:(0,Qn.NC)("vscode.extension.activationEvents.onWebviewPanel","An activation event emmited when a webview is loaded of a certain viewType"),body:"onWebviewPanel:viewType"},{label:"onLanguage",description:(0,Qn.NC)("vscode.extension.activationEvents.onLanguage","An activation event emitted whenever a file that resolves to the specified language gets opened."),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:(0,Qn.NC)("vscode.extension.activationEvents.onCommand","An activation event emitted whenever the specified command gets invoked."),body:"onCommand:${2:commandId}"},{label:"onDebug",description:(0,Qn.NC)("vscode.extension.activationEvents.onDebug","An activation event emitted whenever a user is about to start debugging or about to setup debug configurations."),body:"onDebug"},{label:"onDebugInitialConfigurations",description:(0,Qn.NC)("vscode.extension.activationEvents.onDebugInitialConfigurations",'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).'),body:"onDebugInitialConfigurations"},{label:"onDebugDynamicConfigurations",description:(0,Qn.NC)("vscode.extension.activationEvents.onDebugDynamicConfigurations",'An activation event emitted whenever a list of all debug configurations needs to be created (and all provideDebugConfigurations methods for the "dynamic" scope need to be called).'),body:"onDebugDynamicConfigurations"},{label:"onDebugResolve",description:(0,Qn.NC)("vscode.extension.activationEvents.onDebugResolve","An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called)."),body:"onDebugResolve:${6:type}"},{label:"onDebugAdapterProtocolTracker",description:(0,Qn.NC)("vscode.extension.activationEvents.onDebugAdapterProtocolTracker","An activation event emitted whenever a debug session with the specific type is about to be launched and a debug protocol tracker might be needed."),body:"onDebugAdapterProtocolTracker:${6:type}"},{label:"workspaceContains",description:(0,Qn.NC)("vscode.extension.activationEvents.workspaceContains","An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern."),body:"workspaceContains:${4:filePattern}"},{label:"onStartupFinished",description:(0,Qn.NC)("vscode.extension.activationEvents.onStartupFinished","An activation event emitted after the start-up finished (after all `*` activated extensions have finished activating)."),body:"onStartupFinished"},{label:"onTaskType",description:(0,Qn.NC)("vscode.extension.activationEvents.onTaskType","An activation event emitted whenever tasks of a certain type need to be listed or resolved."),body:"onTaskType:${1:taskType}"},{label:"onFileSystem",description:(0,Qn.NC)("vscode.extension.activationEvents.onFileSystem","An activation event emitted whenever a file or folder is accessed with the given scheme."),body:"onFileSystem:${1:scheme}"},{label:"onSearch",description:(0,Qn.NC)("vscode.extension.activationEvents.onSearch","An activation event emitted whenever a search is started in the folder with the given scheme."),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:(0,Qn.NC)("vscode.extension.activationEvents.onView","An activation event emitted whenever the specified view is expanded.")},{label:"onIdentity",body:"onIdentity:${8:identity}",description:(0,Qn.NC)("vscode.extension.activationEvents.onIdentity","An activation event emitted whenever the specified user identity.")},{label:"onUri",body:"onUri",description:(0,Qn.NC)("vscode.extension.activationEvents.onUri","An activation event emitted whenever a system-wide Uri directed towards this extension is open.")},{label:"onOpenExternalUri",body:"onOpenExternalUri",description:(0,Qn.NC)("vscode.extension.activationEvents.onOpenExternalUri","An activation event emitted whenever a external uri (such as an http or https link) is being opened.")},{label:"onCustomEditor",body:"onCustomEditor:${9:viewType}",description:(0,Qn.NC)("vscode.extension.activationEvents.onCustomEditor","An activation event emitted whenever the specified custom editor becomes visible.")},{label:"onNotebook",body:"onNotebook:${1:type}",description:(0,Qn.NC)("vscode.extension.activationEvents.onNotebook","An activation event emitted whenever the specified notebook document is opened.")},{label:"onAuthenticationRequest",body:"onAuthenticationRequest:${11:authenticationProviderId}",description:(0,Qn.NC)("vscode.extension.activationEvents.onAuthenticationRequest","An activation event emitted whenever sessions are requested from the specified authentication provider.")},{label:"onRenderer",description:(0,Qn.NC)("vscode.extension.activationEvents.onRenderer","An activation event emitted whenever a notebook output renderer is used."),body:"onRenderer:${11:rendererId}"},{label:"onTerminalProfile",body:"onTerminalProfile:${1:terminalId}",description:(0,Qn.NC)("vscode.extension.activationEvents.onTerminalProfile","An activation event emitted when a specific terminal profile is launched.")},{label:"onWalkthrough",body:"onWalkthrough:${1:walkthroughID}",description:(0,Qn.NC)("vscode.extension.activationEvents.onWalkthrough","An activation event emitted when a specified walkthrough is opened.")},{label:"*",description:(0,Qn.NC)("vscode.extension.activationEvents.star","An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case."),body:"*"}]}},badges:{type:"array",description:(0,Qn.NC)("vscode.extension.badges","Array of badges to display in the sidebar of the Marketplace's extension page."),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:(0,Qn.NC)("vscode.extension.badges.url","Badge image URL.")},href:{type:"string",description:(0,Qn.NC)("vscode.extension.badges.href","Badge link.")},description:{type:"string",description:(0,Qn.NC)("vscode.extension.badges.description","Badge description.")}}}},markdown:{type:"string",description:(0,Qn.NC)("vscode.extension.markdown","Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard."),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:(0,Qn.NC)("vscode.extension.qna","Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether."),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:(0,Qn.NC)("vscode.extension.extensionDependencies","Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:hl}},extensionPack:{description:(0,Qn.NC)("vscode.extension.contributes.extensionPack","A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:hl}},extensionKind:{description:(0,Qn.NC)("extensionKind","Define the kind of an extension. `ui` extensions are installed and run on the local machine while `workspace` extensions run on the remote."),type:"array",items:Vr,default:["workspace"],defaultSnippets:[{body:["ui"],description:(0,Qn.NC)("extensionKind.ui","Define an extension which can run only on the local machine when connected to remote window.")},{body:["workspace"],description:(0,Qn.NC)("extensionKind.workspace","Define an extension which can run only on the remote machine when connected remote window.")},{body:["ui","workspace"],description:(0,Qn.NC)("extensionKind.ui-workspace","Define an extension which can run on either side, with a preference towards running on the local machine.")},{body:["workspace","ui"],description:(0,Qn.NC)("extensionKind.workspace-ui","Define an extension which can run on either side, with a preference towards running on the remote machine.")},{body:[],description:(0,Qn.NC)("extensionKind.empty","Define an extension which cannot run in a remote context, neither on the local, nor on the remote machine.")}]},capabilities:{description:(0,Qn.NC)("vscode.extension.capabilities","Declare the set of supported capabilities by the extension."),type:"object",properties:{virtualWorkspaces:{description:(0,Qn.NC)("vscode.extension.capabilities.virtualWorkspaces","Declares whether the extension should be enabled in virtual workspaces. A virtual workspace is a workspace which is not backed by any on-disk resources. When false, this extension will be automatically disabled in virtual workspaces. Default is true."),type:["boolean","object"],defaultSnippets:[{label:"limited",body:{supported:"${1:limited}",description:"${2}"}},{label:"false",body:{supported:!1,description:"${2}"}}],default:(!0).valueOf,properties:{supported:{markdownDescription:(0,Qn.NC)("vscode.extension.capabilities.virtualWorkspaces.supported","Declares the level of support for virtual workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,Qn.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.limited","The extension will be enabled in virtual workspaces with some functionality disabled."),(0,Qn.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.true","The extension will be enabled in virtual workspaces with all functionality enabled."),(0,Qn.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.false","The extension will not be enabled in virtual workspaces.")]},description:{type:"string",markdownDescription:(0,Qn.NC)("vscode.extension.capabilities.virtualWorkspaces.description","A description of how virtual workspaces affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}},untrustedWorkspaces:{description:(0,Qn.NC)("vscode.extension.capabilities.untrustedWorkspaces","Declares how the extension should be handled in untrusted workspaces."),type:"object",required:["supported"],defaultSnippets:[{body:{supported:"${1:limited}",description:"${2}"}}],properties:{supported:{markdownDescription:(0,Qn.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported","Declares the level of support for untrusted workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,Qn.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.limited","The extension will be enabled in untrusted workspaces with some functionality disabled."),(0,Qn.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.true","The extension will be enabled in untrusted workspaces with all functionality enabled."),(0,Qn.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.false","The extension will not be enabled in untrusted workspaces.")]},restrictedConfigurations:{description:(0,Qn.NC)("vscode.extension.capabilities.untrustedWorkspaces.restrictedConfigurations","A list of configuration keys contributed by the extension that should not use workspace values in untrusted workspaces."),type:"array",items:{type:"string"}},description:{type:"string",markdownDescription:(0,Qn.NC)("vscode.extension.capabilities.untrustedWorkspaces.description","A description of how workspace trust affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}}}},sponsor:{description:(0,Qn.NC)("vscode.extension.contributes.sponsor","Specify the location from where users can sponsor your extension."),type:"object",defaultSnippets:[{body:{url:"${1:https:}"}}],properties:{url:{description:(0,Qn.NC)("vscode.extension.contributes.sponsor.url","URL from where users can sponsor your extension. It must be a valid URL with a HTTP or HTTPS protocol. Example value: https://github.com/sponsors/nvaccess"),type:"string"}}},scripts:{type:"object",properties:{"vscode:prepublish":{description:(0,Qn.NC)("vscode.extension.scripts.prepublish","Script executed before the package is published as a VS Code extension."),type:"string"},"vscode:uninstall":{description:(0,Qn.NC)("vscode.extension.scripts.uninstall","Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported."),type:"string"}}},icon:{type:"string",description:(0,Qn.NC)("vscode.extension.icon","The path to a 128x128 pixel icon.")}}};Na.B.add("ExtensionsRegistry",new class _d{constructor(){this._extensionPoints=new Map}registerExtensionPoint(B){if(this._extensionPoints.has(B.extensionPoint))throw new Error("Duplicate extension point: "+B.extensionPoint);const G=new pd(B.extensionPoint,B.defaultExtensionKind);return this._extensionPoints.set(B.extensionPoint,G),Tl.properties.contributes.properties[B.extensionPoint]=B.jsonSchema,Ca.registerSchema(Vl,Tl),G}getExtensionPoints(){return Array.from(this._extensionPoints.values())}}),Na.B.as("ExtensionsRegistry"),Ca.registerSchema(Vl,Tl),Ca.registerSchema(Er.Q,{properties:{extensionEnabledApiProposals:{description:(0,Qn.NC)("product.extensionEnabledApiProposals","API proposals that the respective extensions can freely use."),type:"object",properties:{},additionalProperties:{anyOf:[{type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(Ra),markdownEnumDescriptions:Object.values(Ra)}}]}}}});const jl=new Ni.E,ya=jl.event;let Kl=!1;const vd=fa.IO.initialize;fa.IO.initialize=je=>{const B=vd.call(fa.IO,je);return Kl||(Kl=!0,jl.fire(B)),B};var ba=e(30693),fl=[],Yr=[];function Sa(je,B){if(je&&typeof document<"u"){var G,Ve=!0===B.prepend?"prepend":"append",Mt=!0===B.singleTag,Tn="string"==typeof B.container?document.querySelector(B.container):document.getElementsByTagName("head")[0];if(Mt){var kn=fl.indexOf(Tn);-1===kn&&(kn=fl.push(Tn)-1,Yr[kn]={}),G=Yr[kn]&&Yr[kn][Ve]?Yr[kn][Ve]:Yr[kn][Ve]=hi()}else G=hi();65279===je.charCodeAt(0)&&(je=je.substring(1)),G.styleSheet?G.styleSheet.cssText+=je:G.appendChild(document.createTextNode(je))}function hi(){var yi=document.createElement("style");if(yi.setAttribute("type","text/css"),B.attributes)for(var $i=Object.keys(B.attributes),Ao=0;Ao<$i.length;Ao++)yi.setAttribute($i[Ao],B.attributes[$i[Ao]]);return Tn.insertAdjacentElement("prepend"===Ve?"afterbegin":"beforeend",yi),yi}}function i(je,B,G){function Ve(){const Mt=function Vt(je,B){const G=Object.create(null);for(const Ve in B){const Mt=B[Ve];Mt&&(G[Ve]=(0,io.Snq)(Mt,je))}return G}(je.getColorTheme(),B);"function"==typeof G?G(Mt):G.style(Mt)}return Ve(),je.onDidColorThemeChange(Ve)}function c(je,B,G){return i(B,{buttonForeground:G?.buttonForeground||io.j5u,buttonSeparator:G?.buttonSeparator||io.iFQ,buttonBackground:G?.buttonBackground||io.b7$,buttonHoverBackground:G?.buttonHoverBackground||io.GO4,buttonSecondaryForeground:G?.buttonSecondaryForeground||io.qBU,buttonSecondaryBackground:G?.buttonSecondaryBackground||io.ESD,buttonSecondaryHoverBackground:G?.buttonSecondaryHoverBackground||io.xEn,buttonBorder:G?.buttonBorder||io.GYc},je)}const U={dialogBackground:io.D0T,dialogForeground:io.Hfx,dialogShadow:io.rh,dialogBorder:io.lRK,buttonForeground:io.j5u,buttonSeparator:io.iFQ,buttonBackground:io.b7$,buttonSecondaryBackground:io.ESD,buttonSecondaryForeground:io.qBU,buttonSecondaryHoverBackground:io.xEn,buttonHoverBackground:io.GO4,buttonBorder:io.GYc,checkboxBorder:io.nd,checkboxBackground:io.SUp,checkboxForeground:io.BQ0,errorIconForeground:io.JpG,warningIconForeground:io.BOY,infoIconForeground:io.OLZ,inputBackground:io.sEe,inputForeground:io.zJb,inputBorder:io.dt_,textLinkForeground:io.url},Te={buttonBackground:Hr.Il.fromHex("#0E639C"),buttonHoverBackground:Hr.Il.fromHex("#006BB3"),buttonSeparator:Hr.Il.white,buttonForeground:Hr.Il.white};class Ue extends ts.JT{constructor(B,G){super(),this._onDidClick=this._register(new Ni.E),this.options=G||Object.create(null),(0,dl.jB)(this.options,Te,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),B.appendChild(this._element),this._register(Qr.o.addTarget(this._element)),[ji.tw.CLICK,Qr.t.Tap].forEach(Ve=>{this._register((0,ji.nm)(this._element,Ve,Mt=>{this.enabled?this._onDidClick.fire(Mt):ji.zB.stop(Mt)}))}),this._register((0,ji.nm)(this._element,ji.tw.KEY_DOWN,Ve=>{const Mt=new Aa.y(Ve);let Tn=!1;this.enabled&&(Mt.equals(3)||Mt.equals(10))?(this._onDidClick.fire(Ve),Tn=!0):Mt.equals(9)&&(this._element.blur(),Tn=!0),Tn&&ji.zB.stop(Mt,!0)})),this._register((0,ji.nm)(this._element,ji.tw.MOUSE_OVER,Ve=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,ji.nm)(this._element,ji.tw.MOUSE_OUT,Ve=>{this.applyStyles()})),this.focusTracker=this._register((0,ji.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let B;B=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,B&&(this._element.style.backgroundColor=B)}style(B){this.buttonForeground=B.buttonForeground,this.buttonBackground=B.buttonBackground,this.buttonHoverBackground=B.buttonHoverBackground,this.buttonSecondaryForeground=B.buttonSecondaryForeground,this.buttonSecondaryBackground=B.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=B.buttonSecondaryHoverBackground,this.buttonBorder=B.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let B,G;this.options.secondary?(G=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",B=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(G=this.buttonForeground?this.buttonForeground.toString():"",B=this.buttonBackground?this.buttonBackground.toString():"");const Ve=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=G,this._element.style.backgroundColor=B,this._element.style.borderWidth=Ve?"1px":"",this._element.style.borderStyle=Ve?"solid":"",this._element.style.borderColor=Ve}}get element(){return this._element}set label(B){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,ji.mc)(this._element,...(0,Pa.T)(B)):this._element.textContent=B,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=B)}set icon(B){this._element.classList.add(...rs.dT.asClassNameArray(B))}set enabled(B){B?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}focus(){this._element.focus()}hasFocus(){return this._element===document.activeElement}}class gt extends ts.JT{constructor(B,G){var Ve;super(),Ve=this,this._onDidClick=this._register(new Ni.E),this.onDidClick=this._onDidClick.event,this.element=document.createElement("div"),this.element.classList.add("monaco-button-dropdown"),B.appendChild(this.element),this.button=this._register(new Ue(this.element,G)),this._register(this.button.onDidClick(Mt=>this._onDidClick.fire(Mt))),this.action=this._register(new mr.aU("primaryAction",this.button.label,void 0,!0,(0,es.Z)(function*(){return Ve._onDidClick.fire(void 0)}))),this.separatorContainer=document.createElement("div"),this.separatorContainer.classList.add("monaco-button-dropdown-separator"),this.separator=document.createElement("div"),this.separatorContainer.appendChild(this.separator),this.element.appendChild(this.separatorContainer),this.dropdownButton=this._register(new Ue(this.element,{...G,title:!1,supportIcons:!0})),this.dropdownButton.element.title=(0,Qn.NC)("button dropdown more actions","More Actions..."),this.dropdownButton.element.setAttribute("aria-haspopup","true"),this.dropdownButton.element.setAttribute("aria-expanded","false"),this.dropdownButton.element.classList.add("monaco-dropdown-button"),this.dropdownButton.icon=rs.lA.dropDownButton,this._register(this.dropdownButton.onDidClick(Mt=>{G.contextMenuProvider.showContextMenu({getAnchor:()=>this.dropdownButton.element,getActions:()=>!1===G.addPrimaryActionToDropdown?[...G.actions]:[this.action,...G.actions],actionRunner:G.actionRunner,onHide:()=>this.dropdownButton.element.setAttribute("aria-expanded","false")}),this.dropdownButton.element.setAttribute("aria-expanded","true")}))}set label(B){this.button.label=B,this.action.label=B}set icon(B){this.button.icon=B}set enabled(B){this.button.enabled=B,this.dropdownButton.enabled=B,this.element.classList.toggle("disabled",!B)}get enabled(){return this.button.enabled}style(B){this.button.style(B),this.dropdownButton.style(B);const G=B.buttonBorder?B.buttonBorder.toString():"";this.separatorContainer.style.borderTopWidth=G?"1px":"",this.separatorContainer.style.borderTopStyle=G?"solid":"",this.separatorContainer.style.borderTopColor=G,this.separatorContainer.style.borderBottomWidth=G?"1px":"",this.separatorContainer.style.borderBottomStyle=G?"solid":"",this.separatorContainer.style.borderBottomColor=G,this.separatorContainer.style.backgroundColor=B.buttonBackground?.toString()??"",this.separator.style.backgroundColor=B.buttonSeparator?.toString()??""}focus(){this.button.focus()}hasFocus(){return this.button.hasFocus()||this.dropdownButton.hasFocus()}}class xt extends Ue{constructor(B,G){super(B,G),this._element.classList.add("monaco-description-button"),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._descriptionElement=document.createElement("div"),this._descriptionElement.classList.add("monaco-button-description"),this._element.appendChild(this._descriptionElement)}set label(B){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,ji.mc)(this._labelElement,...(0,Pa.T)(B)):this._labelElement.textContent=B,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=B)}set description(B){this.options.supportIcons?(0,ji.mc)(this._descriptionElement,...(0,Pa.T)(B)):this._descriptionElement.textContent=B}}class kt extends ts.JT{constructor(B){super(),this.container=B,this._buttons=[]}get buttons(){return this._buttons}addButton(B){const G=this._register(new Ue(this.container,B));return this.pushButton(G),G}addButtonWithDescription(B){const G=this._register(new xt(this.container,B));return this.pushButton(G),G}addButtonWithDropdown(B){const G=this._register(new gt(this.container,B));return this.pushButton(G),G}pushButton(B){this._buttons.push(B);const G=this._buttons.length-1;this._register((0,ji.nm)(B.element,ji.tw.KEY_DOWN,Ve=>{const Mt=new Aa.y(Ve);let kn,Tn=!0;Mt.equals(15)?kn=G>0?G-1:this._buttons.length-1:Mt.equals(17)?kn=G===this._buttons.length-1?0:G+1:Tn=!1,Tn&&"number"==typeof kn&&(this._buttons[kn].focus(),ji.zB.stop(Ve,!0))}))}}class Qt{constructor(B){this.container=B,this.offset={top:0,quickPickTop:0},this._onDidLayout=new Ni.E,this.onDidLayout=this._onDidLayout.event,window.addEventListener("resize",()=>this.layout()),this.layout()}isVisible(){return!1}get dimension(){return this._dimension}layout(){this._dimension=(0,ji.D6)(window.document.body),this._onDidLayout.fire(this._dimension)}get hasContainer(){return!0}focus(){fa.IO.get(xa.$).getFocusedCodeEditor()?.focus()}}function hn(je){je.invokeFunction(G=>G.get(ia.F)).container.classList.add("monaco-workbench")}function fn(je=document.body){return ya(hn),{[ia.F.toString()]:new ba.M(Qt,[je]),[Ya.toString()]:new ba.M(Qt,[je])}}var On=e(31864),Un=e(96109),jn=e(14940),ai=e(50540),mi=e(38336),Si=e(9590),Ki=e(47545),eo=e(75239),Gi=e(30116),to=e(68762),Vi=e(16936),go=e(3847),Bo=e(78239),So=e(64170),cs=e(56740),us=e(54980),Gs=e(64062),Yo=e(30125),xs=e(22070),Rs=e(16741),Os=e(48460);Sa("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench > .notifications-toasts {\n\tposition: absolute;\n\tz-index: 1000;\n\tright: 3px;\n\tbottom: 26px;\n\tdisplay: none;\n\toverflow: hidden;\n}\n\n.monaco-workbench.nostatusbar > .notifications-toasts {\n\tbottom: 3px;\n}\n\n.monaco-workbench > .notifications-toasts.visible {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container {\n\toverflow: hidden; /* this ensures that the notification toast does not shine through */\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast {\n\tmargin: 8px; /* enables separation and drop shadows around toasts */\n\ttransform: translate3d(0px, 100%, 0px); /* move the notification 50px to the bottom (to prevent bleed through) */\n\topacity: 0; /*  fade the toast in */\n\ttransition:\ttransform 300ms ease-out, opacity 300ms ease-out;\n}\n\n.monaco-workbench.reduce-motion > .notifications-toasts .notification-toast-container > .notification-toast {\n\ttransition:\ttransform 0ms ease-out, opacity 0ms ease-out;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast.notification-fade-in {\n\topacity: 1;\n\ttransform: none;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast.notification-fade-in-done {\n\topacity: 1;\n\ttransform: none;\n\ttransition:\tnone;\n}\n",{}),Sa("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/** Notification: Container */\n\n.monaco-workbench .notifications-list-container .notification-list-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-direction: column-reverse; /* the details row appears first in order for better keyboard access to notification buttons */\n\tpadding: 10px 5px;\n\theight: 100%;\n\tbox-sizing: border-box;\n}\n\n.monaco-workbench .notifications-list-container .notification-offset-helper {\n\topacity: 0;\n\tposition: absolute;\n\tline-height: 22px;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n}\n\n/** Notification: Main Row */\n\n.monaco-workbench .notifications-list-container .notification-list-item > .notification-list-item-main-row {\n\tdisplay: flex;\n\tflex-grow: 1;\n}\n\n/** Notification: Icon */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 0 0 16px;\n\theight: 22px;\n\tmargin-right: 4px;\n\tmargin-left: 4px;\n\tfont-size: 18px;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n/** Notification: Message */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message {\n\tline-height: 22px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1; /* let the message always grow */\n\tuser-select: text;\n\t-webkit-user-select: text;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a:focus {\n\toutline-width: 1px;\n\toutline-style: solid;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item.expanded .notification-list-item-message {\n\twhite-space: normal;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n}\n\n/** Notification: Toolbar Container */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container {\n\tdisplay: none;\n\theight: 22px;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item:hover .notification-list-item-toolbar-container,\n.monaco-workbench .notifications-list-container .monaco-list-row.focused .notification-list-item .notification-list-item-toolbar-container,\n.monaco-workbench .notifications-list-container .notification-list-item.expanded .notification-list-item-toolbar-container {\n\tdisplay: block;\n}\n\n/** Notification: Details Row */\n\n.monaco-workbench .notifications-list-container .notification-list-item > .notification-list-item-details-row {\n\tdisplay: none;\n\talign-items: center;\n\tpadding-left: 5px;\n\toverflow: hidden; /* details row should never overflow */\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item.expanded > .notification-list-item-details-row {\n\tdisplay: flex;\n}\n\n/** Notification: Source */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-source {\n\tflex: 1;\n\tfont-size: 12px;\n\toverflow: hidden; /* always give away space to buttons container */\n\ttext-overflow: ellipsis;\n}\n\n/** Notification: Buttons */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container {\n\tdisplay: flex;\n\toverflow: hidden;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container > .monaco-button-dropdown,\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container > .monaco-button {\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-button {\n\toutline-offset: 2px !important;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-text-button {\n\twidth: fit-content;\n\twidth: -moz-fit-content;\n\tpadding: 5px 10px;\n\tdisplay: inline-block;\t/* to enable ellipsis in text overflow */\n\tfont-size: 12px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-dropdown-button {\n\tpadding: 5px\n}\n\n/** Notification: Progress */\n\n.monaco-workbench .notifications-list-container .progress-bit {\n\theight: 2px;\n\tbottom: 0;\n}\n",{});const Cd=(0,io.P6G)("notificationCenter.border",{dark:null,light:null,hcDark:io.lRK,hcLight:io.lRK},(0,Qn.NC)("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window.")),zl=(0,io.P6G)("notificationToast.border",{dark:null,light:null,hcDark:io.lRK,hcLight:io.lRK},(0,Qn.NC)("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window.")),yd=(0,io.P6G)("notifications.foreground",{dark:io.Hfx,light:io.Hfx,hcDark:io.Hfx,hcLight:io.Hfx},(0,Qn.NC)("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window.")),Xr=(0,io.P6G)("notifications.background",{dark:io.D0T,light:io.D0T,hcDark:io.D0T,hcLight:io.D0T},(0,Qn.NC)("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window.")),fc=(0,io.P6G)("notificationLink.foreground",{dark:io.url,light:io.url,hcDark:io.url,hcLight:io.url},(0,Qn.NC)("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window.")),bd=(0,io.P6G)("notificationCenterHeader.foreground",{dark:null,light:null,hcDark:null,hcLight:null},(0,Qn.NC)("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window.")),xl=(0,io.P6G)("notificationCenterHeader.background",{dark:(0,io.$ny)(Xr,.3),light:(0,io._jn)(Xr,.05),hcDark:Xr,hcLight:Xr},(0,Qn.NC)("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window.")),Sd=(0,io.P6G)("notifications.border",{dark:xl,light:xl,hcDark:xl,hcLight:xl},(0,Qn.NC)("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window.")),gc=(0,io.P6G)("notificationsErrorIcon.foreground",{dark:io.lXJ,light:io.lXJ,hcDark:io.lXJ,hcLight:io.lXJ},(0,Qn.NC)("notificationsErrorIconForeground","The color used for the icon of error notifications. Notifications slide in from the bottom right of the window.")),$l=(0,io.P6G)("notificationsWarningIcon.foreground",{dark:io.uoC,light:io.uoC,hcDark:io.uoC,hcLight:io.uoC},(0,Qn.NC)("notificationsWarningIconForeground","The color used for the icon of warning notifications. Notifications slide in from the bottom right of the window.")),wd=(0,io.P6G)("notificationsInfoIcon.foreground",{dark:io.c63,light:io.c63,hcDark:io.c63,hcLight:io.c63},(0,Qn.NC)("notificationsInfoIconForeground","The color used for the icon of info notifications. Notifications slide in from the bottom right of the window."));class Dd{constructor(B){this.nodes=B}toString(){return this.nodes.map(B=>"string"==typeof B?B:B.label).join("")}}const mc=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: ("|')([^\3]+)(\3))?\)/gi;class _c extends ts.JT{constructor(B,G){super(),this.item=B,this.onClose=G,this._onDidClose=this._register(new Ni.E),this.onDidClose=this._onDidClose.event,this._onDidChangeVisibility=this._register(new Ni.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.registerListeners()}registerListeners(){this._register(this.item.onDidChangeVisibility(B=>this._onDidChangeVisibility.fire(B))),On.ju.once(this.item.onDidClose)(()=>{this._onDidClose.fire(),this.dispose()})}get progress(){return this.item.progress}updateSeverity(B){this.item.updateSeverity(B)}updateMessage(B){this.item.updateMessage(B)}updateActions(B){this.item.updateActions(B)}close(){this.onClose(this.item),this.dispose()}}class Gl extends ts.JT{constructor(){super(...arguments),this._onDidChangeNotification=this._register(new Ni.E),this.onDidChangeNotification=this._onDidChangeNotification.event,this._onDidChangeStatusMessage=this._register(new Ni.E),this.onDidChangeStatusMessage=this._onDidChangeStatusMessage.event,this._onDidChangeFilter=this._register(new Ni.E),this.onDidChangeFilter=this._onDidChangeFilter.event,this._notifications=[],this.filter=Ni.N.OFF}get notifications(){return this._notifications}get statusMessage(){return this._statusMessage}setFilter(B){this.filter=B,this._onDidChangeFilter.fire(B)}addNotification(B){const G=this.createViewItem(B);if(!G)return Gl.NO_OP_NOTIFICATION;const Ve=this.findNotification(G);return Ve&&Ve.close(),this._notifications.splice(0,0,G),this._onDidChangeNotification.fire({item:G,index:0,kind:0}),new _c(G,Mt=>this.onClose(Mt))}onClose(B){const G=this.findNotification(B);G&&G!==B?G.close():B.close()}findNotification(B){return this._notifications.find(G=>G.equals(B))}createViewItem(B){const G=gl.create(B,this.filter);if(!G)return;const Ve=(kn,hi)=>{const yi=this._notifications.indexOf(G);yi>=0&&this._onDidChangeNotification.fire({item:G,index:yi,kind:kn,detail:hi})},Mt=G.onDidChangeExpansion(()=>Ve(2)),Tn=G.onDidChangeContent(kn=>Ve(1,kn.kind));return On.ju.once(G.onDidClose)(()=>{Mt.dispose(),Tn.dispose();const kn=this._notifications.indexOf(G);kn>=0&&(this._notifications.splice(kn,1),this._onDidChangeNotification.fire({item:G,index:kn,kind:3}))}),G}showStatusMessage(B,G){const Ve=Ql.create(B,G);return Ve?(this._statusMessage=Ve,this._onDidChangeStatusMessage.fire({kind:0,item:Ve}),(0,ts.OF)(()=>{this._statusMessage===Ve&&(this._statusMessage=void 0,this._onDidChangeStatusMessage.fire({kind:1,item:Ve}))})):ts.JT.None}}function Zl(je){return je instanceof gl}Gl.NO_OP_NOTIFICATION=new Ls.EO;class Ja extends ts.JT{constructor(){super(),this._onDidChange=this._register(new Ni.E),this.onDidChange=this._onDidChange.event,this._state=Object.create(null)}get state(){return this._state}infinite(){this._state.infinite||(this._state.infinite=!0,this._state.total=void 0,this._state.worked=void 0,this._state.done=void 0,this._onDidChange.fire())}done(){this._state.done||(this._state.done=!0,this._state.infinite=void 0,this._state.total=void 0,this._state.worked=void 0,this._onDidChange.fire())}total(B){this._state.total!==B&&(this._state.total=B,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire())}worked(B){"number"==typeof this._state.worked?this._state.worked+=B:this._state.worked=B,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire()}}let gl=(()=>{class je extends ts.JT{constructor(G,Ve,Mt,Tn,kn,hi,yi,$i){super(),this.id=G,this._severity=Ve,this._sticky=Mt,this._silent=Tn,this._message=kn,this._source=hi,this._visible=!1,this._onDidChangeExpansion=this._register(new Ni.E),this.onDidChangeExpansion=this._onDidChangeExpansion.event,this._onDidClose=this._register(new Ni.E),this.onDidClose=this._onDidClose.event,this._onDidChangeContent=this._register(new Ni.E),this.onDidChangeContent=this._onDidChangeContent.event,this._onDidChangeVisibility=this._register(new Ni.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,yi&&this.setProgress(yi),this.setActions($i)}static create(G,Ve=Ni.N.OFF){if(!G||!G.message||(0,ul.n2)(G.message))return;let Mt;Mt="number"==typeof G.severity?G.severity:Ls.zb.Info;const Tn=je.parseNotificationMessage(G.message);if(!Tn)return;let kn;return G.actions?kn=G.actions:function yr(je){return je instanceof Error&&Array.isArray(je.actions)}(G.message)&&(kn={primary:G.message.actions}),new je(G.id,Mt,G.sticky,G.silent||Ve===Ni.N.SILENT||Ve===Ni.N.ERROR&&G.severity!==Ls.zb.Error,Tn,G.source,G.progress,kn)}static parseNotificationMessage(G){let Ve;if(G instanceof Error?Ve=(0,Un.y)(G,!1):"string"==typeof G&&(Ve=G),!Ve)return;const Mt=Ve;Ve.length>je.MAX_MESSAGE_LENGTH&&(Ve=`${Ve.substr(0,je.MAX_MESSAGE_LENGTH)}...`),Ve=Ve.replace(/(\r\n|\n|\r)/gm," ").trim();const Tn=function pc(je){const B=[];let Ve,G=0;for(;Ve=mc.exec(je);){Ve.index-G>0&&B.push(je.substring(G,Ve.index));const[,Mt,Tn,,kn]=Ve;B.push(kn?{label:Mt,href:Tn,title:kn}:{label:Mt,href:Tn}),G=Ve.index+Ve[0].length}return G<je.length&&B.push(je.substring(G)),new Dd(B)}(Ve);return{raw:Mt,linkedText:Tn,original:G}}setProgress(G){G.infinite?this.progress.infinite():G.total&&(this.progress.total(G.total),G.worked&&this.progress.worked(G.worked))}setActions(G={primary:[],secondary:[]}){this._actions={primary:Array.isArray(G.primary)?G.primary:[],secondary:Array.isArray(G.secondary)?G.secondary:[]},this._expanded=G.primary&&G.primary.length>0}get canCollapse(){return!this.hasActions}get expanded(){return!!this._expanded}get severity(){return this._severity}get sticky(){if(this._sticky)return!0;const G=this.hasActions;return!!(G&&this._severity===Ls.zb.Error||!G&&this._expanded||this._progress&&!this._progress.state.done)}get silent(){return!!this._silent}get hasActions(){return!(!this._actions||!this._actions.primary)&&this._actions.primary.length>0}get hasProgress(){return!!this._progress}get progress(){return this._progress||(this._progress=this._register(new Ja),this._register(this._progress.onDidChange(()=>this._onDidChangeContent.fire({kind:3})))),this._progress}get message(){return this._message}get source(){return"string"==typeof this._source?this._source:this._source?this._source.label:void 0}get sourceId(){return this._source&&"string"!=typeof this._source&&"id"in this._source?this._source.id:void 0}get actions(){return this._actions}get visible(){return this._visible}updateSeverity(G){G!==this._severity&&(this._severity=G,this._onDidChangeContent.fire({kind:0}))}updateMessage(G){const Ve=je.parseNotificationMessage(G);!Ve||Ve.raw===this._message.raw||(this._message=Ve,this._onDidChangeContent.fire({kind:1}))}updateActions(G){this.setActions(G),this._onDidChangeContent.fire({kind:2})}updateVisibility(G){this._visible!==G&&(this._visible=G,this._onDidChangeVisibility.fire(G))}expand(){this._expanded||!this.canCollapse||(this._expanded=!0,this._onDidChangeExpansion.fire())}collapse(G){!this._expanded||!this.canCollapse||(this._expanded=!1,G||this._onDidChangeExpansion.fire())}toggle(){this._expanded?this.collapse():this.expand()}close(){this._onDidClose.fire(),this.dispose()}equals(G){if(this.hasProgress||G.hasProgress)return!1;if("string"==typeof this.id||"string"==typeof G.id)return this.id===G.id;if("object"==typeof this._source){if(this._source.label!==G.source||this._source.id!==G.sourceId)return!1}else if(this._source!==G.source)return!1;return this._message.raw===G.message.raw&&(0,jn.fS)(this._actions&&this._actions.primary||[],G.actions&&G.actions.primary||[],(Tn,kn)=>Tn.id+Tn.label===kn.id+kn.label)}}return je.MAX_MESSAGE_LENGTH=1e3,je})();class Oa extends mr.aU{constructor(B,G){var Ve;super(B,G.label,void 0,!0,(0,es.Z)(function*(){G.run(),Ve._onDidRun.fire()})),Ve=this,this._onDidRun=this._register(new Ni.E),this.onDidRun=this._onDidRun.event,this._keepOpen=!!G.keepOpen,this._menu=!G.isSecondary&&G.menu?G.menu.map((Mt,Tn)=>new Oa(`${B}.${Tn}`,Mt)):void 0}get menu(){return this._menu}get keepOpen(){return this._keepOpen}}class Ql{static create(B,G){if(!B||(0,ul.n2)(B))return;let Ve;return B instanceof Error?Ve=(0,Un.y)(B,!1):"string"==typeof B&&(Ve=B),Ve?{message:Ve,options:G}:void 0}}function Yl(je,B,G){return{id:(0,ai.vp)(je.toString()).toString(),silent:G,source:B||"core"}}Sa("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container .action-item,\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .action-item {\n\tmargin-right: 4px;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container .action-item:first-child,\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .action-item:first-child {\n\tmargin-left: 4px;\n}\n",{});let Xl=class extends ts.JT{constructor(B,G){super(),this.telemetryService=B,this.notificationService=G,this.registerListeners()}registerListeners(){this._register(this.notificationService.onDidAddNotification(B=>{this.telemetryService.publicLog2("notification:show",Yl(B.message,B.source&&"string"!=typeof B.source?B.source.id:B.source,!!B.silent))})),this._register(this.notificationService.onDidRemoveNotification(B=>{this.telemetryService.publicLog2("notification:close",Yl(B.message,B.source&&"string"!=typeof B.source?B.source.id:B.source,!!B.silent))}))}};Xl=(0,Ni._)([(0,Ni.a)(0,ys.b),(0,Ni.a)(1,Ls.lT)],Xl),new mi.uy("multipleEditorGroups",!1,(0,Qn.NC)("multipleEditorGroups","Whether there are multiple editor groups opened")).toNegated();const oa=new mi.uy("notificationFocus",!0,(0,Qn.NC)("notificationFocus","Whether a notification has keyboard focus")),Ml=new mi.uy("notificationCenterVisible",!1,(0,Qn.NC)("notificationCenterVisible","Whether the notifications center is visible")),wa=new mi.uy("notificationToastsVisible",!1,(0,Qn.NC)("notificationToastsVisible","Whether a notification toast is visible"));let Jr=class Ua{constructor(B,G,Ve,Mt){this._contextKeyService=B,this._fileService=G,this._languageService=Ve,this._modelService=Mt,this._disposables=new ts.SL,this._schemeKey=Ua.Scheme.bindTo(this._contextKeyService),this._filenameKey=Ua.Filename.bindTo(this._contextKeyService),this._dirnameKey=Ua.Dirname.bindTo(this._contextKeyService),this._pathKey=Ua.Path.bindTo(this._contextKeyService),this._langIdKey=Ua.LangId.bindTo(this._contextKeyService),this._resourceKey=Ua.Resource.bindTo(this._contextKeyService),this._extensionKey=Ua.Extension.bindTo(this._contextKeyService),this._hasResource=Ua.HasResource.bindTo(this._contextKeyService),this._isFileSystemResource=Ua.IsFileSystemResource.bindTo(this._contextKeyService),this._disposables.add(G.onDidChangeFileSystemProviderRegistrations(()=>{const Tn=this.get();this._isFileSystemResource.set(!(!Tn||!G.hasProvider(Tn)))})),this._disposables.add(Mt.onModelAdded(Tn=>{(0,Si.Xy)(Tn.uri,this.get())&&this._setLangId()})),this._disposables.add(Mt.onModelLanguageChanged(Tn=>{(0,Si.Xy)(Tn.model.uri,this.get())&&this._setLangId()}))}dispose(){this._disposables.dispose()}_setLangId(){const B=this.get();if(!B)return void this._langIdKey.set(null);const G=this._modelService.getModel(B)?.getLanguageId()??this._languageService.guessLanguageIdByFilepathOrFirstLine(B);this._langIdKey.set(G)}set(B){!(0,Si.Xy)(this._value,B=B??void 0)&&(this._value=B,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.set(B?B.toString():null),this._schemeKey.set(B?B.scheme:null),this._filenameKey.set(B?(0,Si.EZ)(B):null),this._dirnameKey.set(B?(0,Si.XX)(B).fsPath:null),this._pathKey.set(B?B.fsPath:null),this._setLangId(),this._extensionKey.set(B?(0,Si.DZ)(B):null),this._hasResource.set(!!B),this._isFileSystemResource.set(!!B&&this._fileService.hasProvider(B))}))}reset(){this._value=void 0,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.reset(),this._schemeKey.reset(),this._filenameKey.reset(),this._dirnameKey.reset(),this._pathKey.reset(),this._langIdKey.reset(),this._extensionKey.reset(),this._hasResource.reset(),this._isFileSystemResource.reset()})}get(){return this._value}};Jr.Scheme=new mi.uy("resourceScheme",void 0,{type:"string",description:(0,Qn.NC)("resourceScheme","The scheme of the resource")}),Jr.Filename=new mi.uy("resourceFilename",void 0,{type:"string",description:(0,Qn.NC)("resourceFilename","The file name of the resource")}),Jr.Dirname=new mi.uy("resourceDirname",void 0,{type:"string",description:(0,Qn.NC)("resourceDirname","The folder name the resource is contained in")}),Jr.Path=new mi.uy("resourcePath",void 0,{type:"string",description:(0,Qn.NC)("resourcePath","The full path of the resource")}),Jr.LangId=new mi.uy("resourceLangId",void 0,{type:"string",description:(0,Qn.NC)("resourceLangId","The language identifier of the resource")}),Jr.Resource=new mi.uy("resource",void 0,{type:"URI",description:(0,Qn.NC)("resource","The full value of the resource including scheme and path")}),Jr.Extension=new mi.uy("resourceExtname",void 0,{type:"string",description:(0,Qn.NC)("resourceExtname","The extension name of the resource")}),Jr.HasResource=new mi.uy("resourceSet",void 0,{type:"boolean",description:(0,Qn.NC)("resourceSet","Whether a resource is present or not")}),Jr.IsFileSystemResource=new mi.uy("isFileSystemResource",void 0,{type:"boolean",description:(0,Qn.NC)("isFileSystemResource","Whether the resource is backed by a file system provider")}),Jr=(0,Ni._)([(0,Ni.a)(0,mi.i6),(0,Ni.a)(1,Er.c),(0,Ni.a)(2,yl.O),(0,Ni.a)(3,bl.q)],Jr);const $d="notifications.showList",Pl="notifications.hideList",Al="notifications.hideToasts",Ed="notifications.focusToasts",Gd="notifications.focusNextToast",Zd="notifications.focusPreviousToast",Qd="notifications.focusFirstToast",Jl="notifications.focusLastToast",Da="notification.collapse",Nl="notification.expand",Rr="notification.toggle",ql="notification.clear",Ea="notifications.clearAll",qa="notifications.toggleDoNotDisturbMode",yc=(0,to.q5)("notifications-clear",rs.lA.close,(0,Qn.NC)("clearIcon","Icon for the clear action in notifications.")),Yd=(0,to.q5)("notifications-clear-all",rs.lA.clearAll,(0,Qn.NC)("clearAllIcon","Icon for the clear all action in notifications.")),Ld=(0,to.q5)("notifications-hide",rs.lA.chevronDown,(0,Qn.NC)("hideIcon","Icon for the hide action in notifications.")),ed=(0,to.q5)("notifications-expand",rs.lA.chevronUp,(0,Qn.NC)("expandIcon","Icon for the expand action in notifications.")),ka=(0,to.q5)("notifications-collapse",rs.lA.chevronDown,(0,Qn.NC)("collapseIcon","Icon for the collapse action in notifications.")),Id=(0,to.q5)("notifications-configure",rs.lA.gear,(0,Qn.NC)("configureIcon","Icon for the configure action in notifications.")),Xd=(0,to.q5)("notifications-do-not-disturb",rs.lA.bellSlash,(0,Qn.NC)("doNotDisturbIcon","Icon for the mute all action in notifications."));let Fa=class extends mr.aU{constructor(B,G,Ve){super(B,G,Ts.kS.asClassName(yc)),this.commandService=Ve}run(B){var G=this;return(0,es.Z)(function*(){G.commandService.executeCommand(ql,B)})()}};Fa.ID=ql,Fa.LABEL=(0,Qn.NC)("clearNotification","Clear Notification"),Fa=(0,Ni._)([(0,Ni.a)(2,na.Hy)],Fa);let sa=class extends mr.aU{constructor(B,G,Ve){super(B,G,Ts.kS.asClassName(Yd)),this.commandService=Ve}run(){var B=this;return(0,es.Z)(function*(){B.commandService.executeCommand(Ea)})()}};sa.ID=Ea,sa.LABEL=(0,Qn.NC)("clearNotifications","Clear All Notifications"),sa=(0,Ni._)([(0,Ni.a)(2,na.Hy)],sa);let ra=class extends mr.aU{constructor(B,G,Ve){super(B,G,Ts.kS.asClassName(Xd)),this.commandService=Ve}run(){var B=this;return(0,es.Z)(function*(){B.commandService.executeCommand(qa)})()}};ra.ID=qa,ra.LABEL=(0,Qn.NC)("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),ra=(0,Ni._)([(0,Ni.a)(2,na.Hy)],ra);let Ba=class extends mr.aU{constructor(B,G,Ve){super(B,G,Ts.kS.asClassName(Ld)),this.commandService=Ve}run(){var B=this;return(0,es.Z)(function*(){B.commandService.executeCommand(Pl)})()}};Ba.ID=Pl,Ba.LABEL=(0,Qn.NC)("hideNotificationsCenter","Hide Notifications"),Ba=(0,Ni._)([(0,Ni.a)(2,na.Hy)],Ba);let aa=class extends mr.aU{constructor(B,G,Ve){super(B,G,Ts.kS.asClassName(ed)),this.commandService=Ve}run(B){var G=this;return(0,es.Z)(function*(){G.commandService.executeCommand(Nl,B)})()}};aa.ID=Nl,aa.LABEL=(0,Qn.NC)("expandNotification","Expand Notification"),aa=(0,Ni._)([(0,Ni.a)(2,na.Hy)],aa);let el=class extends mr.aU{constructor(B,G,Ve){super(B,G,Ts.kS.asClassName(ka)),this.commandService=Ve}run(B){var G=this;return(0,es.Z)(function*(){G.commandService.executeCommand(Da,B)})()}};el.ID=Da,el.LABEL=(0,Qn.NC)("collapseNotification","Collapse Notification"),el=(0,Ni._)([(0,Ni.a)(2,na.Hy)],el);class tl extends mr.aU{constructor(B,G,Ve){super(B,G,Ts.kS.asClassName(Id)),this.configurationActions=Ve}}tl.ID="workbench.action.configureNotification",tl.LABEL=(0,Qn.NC)("configureNotification","Configure Notification");let nl=class extends mr.aU{constructor(B,G,Ve){super(B,G),this.clipboardService=Ve}run(B){return this.clipboardService.writeText(B.message.raw)}};nl.ID="workbench.action.copyNotificationMessage",nl.LABEL=(0,Qn.NC)("copyNotification","Copy Text"),nl=(0,Ni._)([(0,Ni.a)(2,Fi.p)],nl);let ml=class extends mr.Wi{constructor(B,G){super(),this.telemetryService=B,this.notificationService=G}runAction(B,G){var Ve=()=>super.runAction,Mt=this;return(0,es.Z)(function*(){Mt.telemetryService.publicLog2("workbenchActionExecuted",{id:B.id,from:"message"}),Zl(G)&&Mt.telemetryService.publicLog2("notification:actionExecuted",{id:(0,ai.vp)(G.message.original.toString()).toString(),actionLabel:B.label,source:G.sourceId||"core",silent:G.silent});try{yield Ve().call(Mt,B,G)}catch(Tn){Mt.notificationService.error(Tn)}})()}};ml=(0,Ni._)([(0,Ni.a)(0,ys.b),(0,Ni.a)(1,Ls.lT)],ml);let bc=(()=>{class je{constructor(G){this.offsetHelper=this.createOffsetHelper(G)}createOffsetHelper(G){const Ve=document.createElement("div");return Ve.classList.add("notification-offset-helper"),G.appendChild(Ve),Ve}getHeight(G){if(!G.expanded)return je.ROW_HEIGHT;let Ve=je.ROW_HEIGHT;const Mt=this.computePreferredHeight(G);return je.LINE_HEIGHT<Mt&&(Ve+=Mt-je.LINE_HEIGHT),(G.source||(0,jn.Of)(G.actions&&G.actions.primary))&&(Ve+=je.ROW_HEIGHT),Ve===je.ROW_HEIGHT&&G.collapse(!0),Ve}computePreferredHeight(G){let Ve=1;G.canCollapse&&Ve++,(0,jn.Of)(G.actions&&G.actions.secondary)&&Ve++,this.offsetHelper.style.width=450-(36+32*Ve-4)+"px";const Mt=as.render(G.message);this.offsetHelper.appendChild(Mt);const Tn=Math.max(this.offsetHelper.offsetHeight,this.offsetHelper.scrollHeight);return(0,ji.PO)(this.offsetHelper),Tn}getTemplateId(G){if(G instanceof gl)return il.TEMPLATE_ID;throw new Error("unknown element type: "+G)}}return je.ROW_HEIGHT=42,je.LINE_HEIGHT=22,je})();class as{static render(B,G){const Ve=document.createElement("span");for(const Mt of B.linkedText.nodes)if("string"==typeof Mt)Ve.appendChild(document.createTextNode(Mt));else{let Tn=Mt.title;!Tn&&Mt.href.startsWith("command:")?Tn=(0,Qn.NC)("executeCommand","Click to execute command '{0}'",Mt.href.substr(8)):Tn||(Tn=Mt.href);const kn=(0,ji.$)("a",{href:Mt.href,title:Tn},Mt.label);if(G){const hi=Ao=>{ji.zB.stop(Ao,!0),G.callback(Mt.href)},yi=G.toDispose.add(new Vi.Y(kn,"click")).event;G.toDispose.add(Qr.o.addTarget(kn));const $i=G.toDispose.add(new Vi.Y(kn,Qr.t.Tap)).event;On.ju.any(yi,$i)(hi,null,G.toDispose)}Ve.appendChild(kn)}return Ve}}let il=class mu{constructor(B,G,Ve,Mt){this.actionRunner=B,this.themeService=G,this.contextMenuService=Ve,this.instantiationService=Mt}get templateId(){return mu.TEMPLATE_ID}renderTemplate(B){const G=Object.create(null);G.toDispose=new ts.SL,G.container=document.createElement("div"),G.container.classList.add("notification-list-item"),G.mainRow=document.createElement("div"),G.mainRow.classList.add("notification-list-item-main-row"),G.icon=document.createElement("div"),G.icon.classList.add("notification-list-item-icon","codicon"),G.message=document.createElement("div"),G.message.classList.add("notification-list-item-message");const Ve=document.createElement("div");return Ve.classList.add("notification-list-item-toolbar-container"),G.toolbar=new go.o(Ve,{ariaLabel:(0,Qn.NC)("notificationActions","Notification Actions"),actionViewItemProvider:Mt=>{if(Mt&&Mt instanceof tl){const Tn=new Gs.C(Mt,Mt.configurationActions,this.contextMenuService,{actionRunner:this.actionRunner,classNames:Mt.class});return G.toDispose.add(Tn),Tn}},actionRunner:this.actionRunner}),G.toDispose.add(G.toolbar),G.detailsRow=document.createElement("div"),G.detailsRow.classList.add("notification-list-item-details-row"),G.source=document.createElement("div"),G.source.classList.add("notification-list-item-source"),G.buttonsContainer=document.createElement("div"),G.buttonsContainer.classList.add("notification-list-item-buttons-container"),B.appendChild(G.container),G.container.appendChild(G.detailsRow),G.detailsRow.appendChild(G.source),G.detailsRow.appendChild(G.buttonsContainer),G.container.appendChild(G.mainRow),G.mainRow.appendChild(G.icon),G.mainRow.appendChild(G.message),G.mainRow.appendChild(Ve),G.progress=new Bo.k(B),G.toDispose.add(function M(je,B,G){return i(B,{progressBarBackground:G?.progressBarBackground||io.zRJ},je)}(G.progress,this.themeService)),G.toDispose.add(G.progress),G.renderer=this.instantiationService.createInstance(td,G,this.actionRunner),G.toDispose.add(G.renderer),G}renderElement(B,G,Ve){Ve.renderer.setInput(B)}disposeTemplate(B){(0,ts.B9)(B.toDispose)}};il.TEMPLATE_ID="notification",il=(0,Ni._)([(0,Ni.a)(1,Ts.XE),(0,Ni.a)(2,So.i),(0,Ni.a)(3,Lr.TG)],il);let td=class ol extends ts.JT{constructor(B,G,Ve,Mt,Tn,kn,hi){super(),this.template=B,this.actionRunner=G,this.openerService=Ve,this.instantiationService=Mt,this.themeService=Tn,this.keybindingService=kn,this.contextMenuService=hi,this.inputDisposables=this._register(new ts.SL),ol.closeNotificationAction||(ol.closeNotificationAction=Mt.createInstance(Fa,Fa.ID,Fa.LABEL),ol.expandNotificationAction=Mt.createInstance(aa,aa.ID,aa.LABEL),ol.collapseNotificationAction=Mt.createInstance(el,el.ID,el.LABEL))}setInput(B){this.inputDisposables.clear(),this.render(B)}render(B){this.template.container.classList.toggle("expanded",B.expanded),this.inputDisposables.add((0,ji.nm)(this.template.container,ji.tw.MOUSE_UP,Ve=>{1===Ve.button&&ji.zB.stop(Ve,!0)})),this.inputDisposables.add((0,ji.nm)(this.template.container,ji.tw.AUXCLICK,Ve=>{!B.hasProgress&&1===Ve.button&&(ji.zB.stop(Ve,!0),B.close())})),this.renderSeverity(B);const G=this.renderMessage(B);this.renderSecondaryActions(B,G),this.renderSource(B),this.renderButtons(B),this.renderProgress(B),this.inputDisposables.add(B.onDidChangeContent(Ve=>{switch(Ve.kind){case 0:this.renderSeverity(B);break;case 3:this.renderProgress(B);break;case 1:this.renderMessage(B)}}))}renderSeverity(B){ol.SEVERITIES.forEach(G=>{B.severity!==G&&this.template.icon.classList.remove(...this.toSeverityIcon(G).classNamesArray)}),this.template.icon.classList.add(...this.toSeverityIcon(B.severity).classNamesArray)}renderMessage(B){(0,ji.PO)(this.template.message),this.template.message.appendChild(as.render(B.message,{callback:Mt=>this.openerService.open(cs.o.parse(Mt),{allowCommands:!0}),toDispose:this.inputDisposables}));const G=B.canCollapse&&!B.expanded&&this.template.message.scrollWidth>this.template.message.clientWidth;G?this.template.message.title=this.template.message.textContent+"":this.template.message.removeAttribute("title");const Ve=this.template.message.querySelectorAll("a");for(let Mt=0;Mt<Ve.length;Mt++)Ve.item(Mt).tabIndex=-1;return G}renderSecondaryActions(B,G){const Ve=[],Mt=B.actions?B.actions.secondary:void 0;if((0,jn.Of)(Mt)){const kn=this.instantiationService.createInstance(tl,tl.ID,tl.LABEL,Mt);Ve.push(kn),this.inputDisposables.add(kn)}let Tn=!1;B.canCollapse&&(B.expanded||B.source||G)&&(Tn=!0),Tn&&Ve.push(B.expanded?ol.collapseNotificationAction:ol.expandNotificationAction),B.hasProgress||Ve.push(ol.closeNotificationAction),this.template.toolbar.clear(),this.template.toolbar.context=B,Ve.forEach(kn=>this.template.toolbar.push(kn,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(kn)}))}renderSource(B){B.expanded&&B.source?(this.template.source.textContent=(0,Qn.NC)("notificationSource","Source: {0}",B.source),this.template.source.title=B.source):(this.template.source.textContent="",this.template.source.removeAttribute("title"))}renderButtons(B){(0,ji.PO)(this.template.buttonsContainer);const G=B.actions?B.actions.primary:void 0;if(B.expanded&&(0,jn.Of)(G)){const Ve=this,Mt=new class extends mr.Wi{runAction(kn){return(0,es.Z)(function*(){Ve.actionRunner.run(kn,B),(!(kn instanceof Oa)||!kn.keepOpen)&&B.close()})()}},Tn=this.inputDisposables.add(new kt(this.template.buttonsContainer));for(let kn=0;kn<G.length;kn++){const hi=G[kn],yi={title:!0,secondary:kn>0},$i=hi instanceof Oa?hi.menu:void 0,Ao=this.inputDisposables.add($i?Tn.addButtonWithDropdown({...yi,contextMenuProvider:this.contextMenuService,actions:$i,actionRunner:Mt}):Tn.addButton(yi));Ao.label=hi.label,this.inputDisposables.add(Ao.onDidClick(Wo=>{Wo&&ji.zB.stop(Wo,!0),Mt.run(hi)})),this.inputDisposables.add(c(Ao,this.themeService))}}}renderProgress(B){if(!B.hasProgress)return void this.template.progress.stop().hide();const G=B.progress.state;G.infinite?this.template.progress.infinite().show():"number"==typeof G.total||"number"==typeof G.worked?("number"==typeof G.total&&!this.template.progress.hasTotal()&&this.template.progress.total(G.total),"number"==typeof G.worked&&this.template.progress.setWorked(G.worked).show()):this.template.progress.done().hide()}toSeverityIcon(B){switch(B){case Ls.zb.Warning:return rs.lA.warning;case Ls.zb.Error:return rs.lA.error}return rs.lA.info}getKeybindingLabel(B){const G=this.keybindingService.lookupKeybinding(B.id);return G?G.getLabel():null}};td.SEVERITIES=[Ls.zb.Info,Ls.zb.Warning,Ls.zb.Error],td=(0,Ni._)([(0,Ni.a)(2,_a.v4),(0,Ni.a)(3,Lr.TG),(0,Ni.a)(4,Ts.XE),(0,Ni.a)(5,us.d),(0,Ni.a)(6,So.i)],td);let nd=class extends Ts.bB{constructor(B,G,Ve,Mt,Tn){super(Mt),this.container=B,this.options=G,this.instantiationService=Ve,this.contextMenuService=Tn,this.viewModel=[]}show(B){this.isVisible||(this.list||this.createNotificationsList(),this.isVisible=!0),B&&(0,xs.cW)(this.list).domFocus()}createNotificationsList(){this.listContainer=document.createElement("div"),this.listContainer.classList.add("notifications-list-container");const B=this._register(this.instantiationService.createInstance(ml)),G=this.instantiationService.createInstance(il,B),Ve=this.listDelegate=new bc(this.listContainer),Mt=this.options,Tn=this.list=this._register(this.instantiationService.createInstance(eo.ev,"NotificationsList",this.listContainer,Ve,[G],{...Mt,setRowLineHeight:!1,horizontalScrolling:!1,overrideStyles:{listBackground:Xr},accessibilityProvider:{getAriaLabel:yi=>yi.source?(0,Qn.NC)("notificationWithSourceAriaLabel","{0}, source: {1}, notification",yi.message.raw,yi.source):(0,Qn.NC)("notificationAriaLabel","{0}, notification",yi.message.raw),getWidgetAriaLabel:()=>Mt.widgetAriaLabel??(0,Qn.NC)("notificationsList","Notifications List"),getRole:()=>"dialog"}})),kn=this._register(this.instantiationService.createInstance(nl,nl.ID,nl.LABEL));this._register(Tn.onContextMenu(yi=>{yi.element&&this.contextMenuService.showContextMenu({getAnchor:()=>yi.anchor,getActions:()=>[kn],getActionsContext:()=>yi.element,actionRunner:B})})),this._register(Tn.onMouseDblClick(yi=>yi.element.toggle()));const hi=this._register((0,ji.go)(Tn.getHTMLElement()));this._register(hi.onDidBlur(()=>{document.hasFocus()&&Tn.setFocus([])})),oa.bindTo(Tn.contextKeyService),this._register(Tn.onDidChangeSelection(yi=>{yi.indexes.length>0&&Tn.setSelection([])})),this.container.appendChild(this.listContainer),this.updateStyles()}updateNotificationsList(B,G,Ve=[]){const[Mt,Tn]=(0,Yo.a)(this.list,this.listContainer),kn=(0,ji.jg)(document.activeElement,Tn),hi=Mt.getFocus()[0],yi=this.viewModel[hi];let $i=null;if("number"==typeof hi&&($i=Mt.getRelativeTop(hi)),this.viewModel.splice(B,G,...Ve),Mt.splice(B,G,Ve),Mt.layout(),0===this.viewModel.length)this.hide();else if("number"==typeof hi){let Ao=0;if(yi){let Wo=this.viewModel.indexOf(yi);-1===Wo&&(Wo=hi-1),Wo<this.viewModel.length&&Wo>=0&&(Ao=Wo)}"number"==typeof $i&&Mt.reveal(Ao,$i),Mt.setFocus([Ao])}this.isVisible&&kn&&Mt.domFocus()}updateNotificationHeight(B){const G=this.viewModel.indexOf(B);if(-1===G)return;const[Ve,Mt]=(0,Yo.a)(this.list,this.listDelegate);Ve.updateElementHeight(G,Mt.getHeight(B)),Ve.layout()}hide(){!this.isVisible||!this.list||(this.isVisible=!1,this.list.splice(0,this.viewModel.length),this.viewModel=[])}focusFirst(){!this.isVisible||!this.list||(this.list.focusFirst(),this.list.domFocus())}hasFocus(){return!(!this.isVisible||!this.listContainer)&&(0,ji.jg)(document.activeElement,this.listContainer)}updateStyles(){if(this.listContainer){const B=this.getColor(yd);this.listContainer.style.color=B||"";const G=this.getColor(Xr);this.listContainer.style.background=G||"";const Ve=this.getColor(io.lRK);this.listContainer.style.outlineColor=Ve||""}}layout(B,G){this.listContainer&&this.list&&(this.listContainer.style.width=`${B}px`,"number"==typeof G&&(this.list.getHTMLElement().style.maxHeight=`${G}px`),this.list.layout())}dispose(){this.hide(),super.dispose()}};nd=(0,Ni._)([(0,Ni.a)(2,Lr.TG),(0,Ni.a)(3,Ts.XE),(0,Ni.a)(4,So.i)],nd),(0,Ts.Ic)((je,B)=>{const G=je.getColor(fc);G&&B.addRule(`.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a { color: ${G}; }`);const Ve=je.getColor(io.R80);Ve&&B.addRule(`\n\t\t.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a:focus {\n\t\t\toutline-color: ${Ve};\n\t\t}`);const Mt=je.getColor(gc);Mt&&B.addRule(`\n\t\t.monaco-workbench .notifications-center ${rs.lA.error.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${rs.lA.error.cssSelector} {\n\t\t\tcolor: ${Mt};\n\t\t}`);const Tn=je.getColor($l);Tn&&B.addRule(`\n\t\t.monaco-workbench .notifications-center ${rs.lA.warning.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${rs.lA.warning.cssSelector} {\n\t\t\tcolor: ${Tn};\n\t\t}`);const kn=je.getColor(wd);kn&&B.addRule(`\n\t\t.monaco-workbench .notifications-center ${rs.lA.info.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${rs.lA.info.cssSelector} {\n\t\t\tcolor: ${kn};\n\t\t}`)});var hr=(()=>((hr=hr||{})[hr.HIDDEN_OR_VISIBLE=0]="HIDDEN_OR_VISIBLE",hr[hr.HIDDEN=1]="HIDDEN",hr[hr.VISIBLE=2]="VISIBLE",hr))();let Wa=class ad extends Ts.bB{constructor(B,G,Ve,Mt,Tn,kn,hi,yi,$i){super(Tn),this.container=B,this.model=G,this.instantiationService=Ve,this.layoutService=Mt,this.editorGroupService=kn,this.contextKeyService=hi,this.lifecycleService=yi,this.hostService=$i,this._onDidChangeVisibility=this._register(new Ni.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._isVisible=!1,this.mapNotificationToToast=new Map,this.mapNotificationToDisposable=new Map,this.notificationsToastsVisibleContextKey=wa.bindTo(this.contextKeyService),this.addedToastsIntervalCounter=new Rs.I(ad.SPAM_PROTECTION.interval),this.registerListeners()}get isVisible(){return!!this._isVisible}registerListeners(){this._register(this.layoutService.onDidLayout(B=>this.layout(ji.Ro.lift(B)))),this.lifecycleService.when(3).then(()=>{this.model.notifications.forEach(B=>this.addToast(B)),this._register(this.model.onDidChangeNotification(B=>this.onDidChangeNotification(B)))}),this._register(this.model.onDidChangeFilter(B=>{(B===Ni.N.SILENT||B===Ni.N.ERROR)&&this.hide()}))}onDidChangeNotification(B){switch(B.kind){case 0:return this.addToast(B.item);case 3:return this.removeToast(B.item)}}addToast(B){if(this.isNotificationsCenterVisible||B.silent||this.addedToastsIntervalCounter.increment()>ad.SPAM_PROTECTION.limit)return;const G=new ts.SL;this.mapNotificationToDisposable.set(B,G),G.add((0,ji.jL)(()=>this.doAddToast(B,G)))}doAddToast(B,G){let Ve=this.notificationsToastsContainer;Ve||(Ve=this.notificationsToastsContainer=document.createElement("div"),Ve.classList.add("notifications-toasts"),this.container.appendChild(Ve)),Ve.classList.add("visible");const Mt=document.createElement("div");Mt.classList.add("notification-toast-container");const Tn=Ve.firstChild;Tn?Ve.insertBefore(Mt,Tn):Ve.appendChild(Mt);const kn=document.createElement("div");kn.classList.add("notification-toast"),Mt.appendChild(kn);const hi=this.instantiationService.createInstance(nd,kn,{verticalScrollMode:2,widgetAriaLabel:B.source?(0,Qn.NC)("notificationWithSourceAriaLabel","{0}, source: {1}, notification",B.message.raw,B.source):(0,Qn.NC)("notificationAriaLabel","{0}, notification",B.message.raw)});G.add(hi);const yi={item:B,list:hi,container:Mt,toast:kn};this.mapNotificationToToast.set(B,yi),G.add((0,ts.OF)(()=>this.updateToastVisibility(yi,!1))),hi.show();const $i=this.computeMaxDimensions();this.layoutLists($i.width),hi.updateNotificationsList(0,0,[B]),this.layoutContainer($i.height),G.add(B.onDidChangeExpansion(()=>{hi.updateNotificationsList(0,1,[B])})),G.add(B.onDidChangeContent(Ao=>{switch(Ao.kind){case 2:hi.updateNotificationsList(0,1,[B]);break;case 1:B.expanded&&hi.updateNotificationHeight(B)}})),On.ju.once(B.onDidClose)(()=>{this.removeToast(B)}),this.purgeNotification(B,Mt,hi,G),this.updateStyles(),this.notificationsToastsVisibleContextKey.set(!0),kn.classList.add("notification-fade-in"),G.add((0,ji.nm)(kn,"transitionend",()=>{kn.classList.remove("notification-fade-in"),kn.classList.add("notification-fade-in-done")})),B.updateVisibility(!0),this._isVisible||(this._isVisible=!0,this._onDidChangeVisibility.fire())}purgeNotification(B,G,Ve,Mt){let kn,hi,Tn=!1;Mt.add((0,ji.nm)(G,ji.tw.MOUSE_OVER,()=>Tn=!0)),Mt.add((0,ji.nm)(G,ji.tw.MOUSE_OUT,()=>Tn=!1));const yi=()=>{kn=setTimeout(()=>{this.hostService.hasFocus?B.sticky||Ve.hasFocus()||Tn?yi():this.removeToast(B):hi||(hi=this.hostService.onDidChangeFocus($i=>{$i&&yi()}),Mt.add(hi))},ad.PURGE_TIMEOUT[B.severity])};yi(),Mt.add((0,ts.OF)(()=>clearTimeout(kn)))}removeToast(B){let G=!1;const Ve=this.mapNotificationToToast.get(B);Ve&&((0,ji.jg)(document.activeElement,Ve.container)&&(G=!(this.focusNext()||this.focusPrevious())),this.mapNotificationToToast.delete(B));const Mt=this.mapNotificationToDisposable.get(B);Mt&&((0,ts.B9)(Mt),this.mapNotificationToDisposable.delete(B)),this.mapNotificationToToast.size>0?this.layout(this.workbenchDimensions):(this.doHide(),G&&this.editorGroupService.activeGroup.focus())}removeToasts(){this.mapNotificationToToast.clear(),this.mapNotificationToDisposable.forEach(B=>(0,ts.B9)(B)),this.mapNotificationToDisposable.clear(),this.doHide()}doHide(){this.notificationsToastsContainer?.classList.remove("visible"),this.notificationsToastsVisibleContextKey.set(!1),this._isVisible&&(this._isVisible=!1,this._onDidChangeVisibility.fire())}hide(){const B=!!this.notificationsToastsContainer&&(0,ji.jg)(document.activeElement,this.notificationsToastsContainer);this.removeToasts(),B&&this.editorGroupService.activeGroup.focus()}focus(){const B=this.getToasts(hr.VISIBLE);return B.length>0&&(B[0].list.focusFirst(),!0)}focusNext(){const B=this.getToasts(hr.VISIBLE);for(let G=0;G<B.length;G++)if(B[G].list.hasFocus()){const Mt=B[G+1];if(Mt)return Mt.list.focusFirst(),!0;break}return!1}focusPrevious(){const B=this.getToasts(hr.VISIBLE);for(let G=0;G<B.length;G++)if(B[G].list.hasFocus()){const Mt=B[G-1];if(Mt)return Mt.list.focusFirst(),!0;break}return!1}focusFirst(){const B=this.getToasts(hr.VISIBLE)[0];return!!B&&(B.list.focusFirst(),!0)}focusLast(){const B=this.getToasts(hr.VISIBLE);return B.length>0&&(B[B.length-1].list.focusFirst(),!0)}update(B){this.isNotificationsCenterVisible!==B&&(this.isNotificationsCenterVisible=B,this.isNotificationsCenterVisible&&this.removeToasts())}updateStyles(){this.mapNotificationToToast.forEach(({toast:B})=>{const G=this.getColor(Xr);B.style.background=G||"";const Ve=this.getColor(io.rh);B.style.boxShadow=Ve?`0 0 8px 2px ${Ve}`:"";const Mt=this.getColor(zl);B.style.border=Mt?`1px solid ${Mt}`:""})}getToasts(B){const G=[];return this.mapNotificationToToast.forEach(Ve=>{switch(B){case hr.HIDDEN_OR_VISIBLE:G.push(Ve);break;case hr.HIDDEN:this.isToastInDOM(Ve)||G.push(Ve);break;case hr.VISIBLE:this.isToastInDOM(Ve)&&G.push(Ve)}}),G.reverse()}layout(B){this.workbenchDimensions=B;const G=this.computeMaxDimensions();G.height&&this.layoutContainer(G.height),this.layoutLists(G.width)}computeMaxDimensions(){const B=ad.MAX_WIDTH;let Ve,G=B;return this.workbenchDimensions&&(G=this.workbenchDimensions.width,G-=16,Ve=this.workbenchDimensions.height,this.layoutService.isVisible("workbench.parts.statusbar")&&(Ve-=22),this.layoutService.isVisible("workbench.parts.titlebar")&&(Ve-=22),Ve-=24),Ve="number"==typeof Ve?Math.round(.618*Ve):0,new ji.Ro(Math.min(B,G),Ve)}layoutLists(B){this.mapNotificationToToast.forEach(({list:G})=>G.layout(B))}layoutContainer(B){let G=0;for(const Ve of this.getToasts(hr.HIDDEN_OR_VISIBLE)){Ve.container.style.opacity="0",this.updateToastVisibility(Ve,!0),B-=Ve.container.offsetHeight;let Mt=!1;G===ad.MAX_NOTIFICATIONS?Mt=!1:B>=0&&(Mt=!0),this.updateToastVisibility(Ve,Mt),Ve.container.style.opacity="",Mt&&G++}}updateToastVisibility(B,G){if(this.isToastInDOM(B)===G)return;const Ve=(0,xs.cW)(this.notificationsToastsContainer);G?Ve.appendChild(B.container):Ve.removeChild(B.container),B.item.updateVisibility(G)}isToastInDOM(B){return!!B.container.parentElement}};Wa.MAX_WIDTH=450,Wa.MAX_NOTIFICATIONS=3,Wa.PURGE_TIMEOUT={[Ls.zb.Info]:15e3,[Ls.zb.Warning]:18e3,[Ls.zb.Error]:2e4},Wa.SPAM_PROTECTION={interval:800,limit:Wa.MAX_NOTIFICATIONS},Wa=(0,Ni._)([(0,Ni.a)(2,Lr.TG),(0,Ni.a)(3,Ya),(0,Ni.a)(4,Ts.XE),(0,Ni.a)(5,Er.I),(0,Ni.a)(6,mi.i6),(0,Ni.a)(7,Ll.I),(0,Ni.a)(8,Er.d)],Wa);let Ha=class Kc extends ts.JT{constructor(B){super(),this.storageService=B,this.model=this._register(new Gl),this._onDidAddNotification=this._register(new Ni.E),this.onDidAddNotification=this._onDidAddNotification.event,this._onDidRemoveNotification=this._register(new Ni.E),this.onDidRemoveNotification=this._onDidRemoveNotification.event,this._onDidChangeDoNotDisturbMode=this._register(new Ni.E),this.onDidChangeDoNotDisturbMode=this._onDidChangeDoNotDisturbMode.event,this._doNotDisturbMode=this.storageService.getBoolean(Kc.DND_SETTINGS_KEY,-1,!1),this.updateDoNotDisturbFilters(),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(B=>{switch(B.kind){case 0:case 3:{const G={message:B.item.message.original,severity:B.item.severity,source:"string"==typeof B.item.sourceId&&"string"==typeof B.item.source?{id:B.item.sourceId,label:B.item.source}:B.item.source,silent:B.item.silent};0===B.kind&&this._onDidAddNotification.fire(G),3===B.kind&&this._onDidRemoveNotification.fire(G);break}}}))}get doNotDisturbMode(){return this._doNotDisturbMode}set doNotDisturbMode(B){this._doNotDisturbMode!==B&&(this.storageService.store(Kc.DND_SETTINGS_KEY,B,-1,1),this._doNotDisturbMode=B,this.updateDoNotDisturbFilters(),this._onDidChangeDoNotDisturbMode.fire())}updateDoNotDisturbFilters(){let B;B=this._doNotDisturbMode?Ni.N.ERROR:Ni.N.OFF,this.model.setFilter(B)}info(B){Array.isArray(B)?B.forEach(G=>this.info(G)):this.model.addNotification({severity:Ls.zb.Info,message:B})}warn(B){Array.isArray(B)?B.forEach(G=>this.warn(G)):this.model.addNotification({severity:Ls.zb.Warning,message:B})}error(B){Array.isArray(B)?B.forEach(G=>this.error(G)):this.model.addNotification({severity:Ls.zb.Error,message:B})}notify(B){var G=this;const Ve=new ts.SL;if(B.neverShowAgain){const Tn=this.toStorageScope(B.neverShowAgain),kn=B.neverShowAgain.id;if(this.storageService.getBoolean(kn,Tn))return new Ls.EO;const hi=Ve.add(new mr.aU("workbench.notification.neverShowAgain",(0,Qn.NC)("neverShowAgain","Don't Show Again"),void 0,!0,(0,es.Z)(function*(){Mt.close(),G.storageService.store(kn,!0,Tn,0)}))),yi={primary:B.actions?.primary||[],secondary:B.actions?.secondary||[]};B.neverShowAgain.isSecondary?yi.secondary=[...yi.secondary,hi]:yi.primary=[hi,...yi.primary],B.actions=yi}const Mt=this.model.addNotification(B);return On.ju.once(Mt.onDidClose)(()=>Ve.dispose()),Mt}toStorageScope(B){switch(B.scope){case Ni.b.APPLICATION:return-1;case Ni.b.PROFILE:return 0;case Ni.b.WORKSPACE:return 1;default:return-1}}prompt(B,G,Ve,Mt){const Tn=new ts.SL;if(Mt?.neverShowAgain){const Wo=this.toStorageScope(Mt.neverShowAgain),Ps=Mt.neverShowAgain.id;if(this.storageService.getBoolean(Ps,Wo))return new Ls.EO;const Or={label:(0,Qn.NC)("neverShowAgain","Don't Show Again"),run:()=>this.storageService.store(Ps,!0,Wo,0),isSecondary:Mt.neverShowAgain.isSecondary};Ve=Mt.neverShowAgain.isSecondary?[...Ve,Or]:[Or,...Ve]}let kn=!1;const hi=[],yi=[];Ve.forEach((Wo,Ps)=>{const Or=new Oa(`workbench.dialog.choice.${Ps}`,Wo);Wo.isSecondary?yi.push(Or):hi.push(Or),Tn.add(Or.onDidRun(()=>{kn=!0,Wo.keepOpen||Ao.close()})),Tn.add(Or)});const Ao=this.notify({severity:B,message:G,actions:{primary:hi,secondary:yi},sticky:Mt?.sticky,silent:Mt?.silent});return On.ju.once(Ao.onDidClose)(()=>{Tn.dispose(),Mt&&"function"==typeof Mt.onCancel&&!kn&&Mt.onCancel()}),Ao}status(B,G){return this.model.showStatusMessage(B,G)}};Ha.DND_SETTINGS_KEY="notifications.doNotDisturbMode",Ha=(0,Ni._)([(0,Ni.a)(0,Qa.Uy)],Ha),Sa("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench > .notifications-center {\n\tposition: absolute;\n\tz-index: 1000;\n\tright: 8px;\n\tbottom: 31px;\n\tdisplay: none;\n\toverflow: hidden;\n}\n\n.monaco-workbench.nostatusbar > .notifications-center {\n\tbottom: 8px;\n}\n\n.monaco-workbench > .notifications-center.visible {\n\tdisplay: block;\n}\n\n/* Header */\n\n.monaco-workbench > .notifications-center > .notifications-center-header {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: 8px;\n\tpadding-right: 5px;\n\theight: 35px;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-title {\n\ttext-transform: uppercase;\n\tfont-size: 11px;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar {\n\tflex: 1;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .actions-container {\n\tjustify-content: flex-end;\n}\n",{});let id=class zc extends Ts.bB{constructor(B,G,Ve,Mt,Tn,kn,hi,yi,$i){super(Ve),this.container=B,this.model=G,this.instantiationService=Mt,this.layoutService=Tn,this.contextKeyService=kn,this.editorGroupService=hi,this.keybindingService=yi,this.notificationService=$i,this._onDidChangeVisibility=this._register(new Ni.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.notificationsCenterVisibleContextKey=Ml.bindTo(this.contextKeyService),this.notificationsCenterVisibleContextKey=Ml.bindTo(kn),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(B=>this.onDidChangeNotification(B))),this._register(this.layoutService.onDidLayout(B=>this.layout(ji.Ro.lift(B)))),this._register(this.notificationService.onDidChangeDoNotDisturbMode(()=>this.onDidChangeDoNotDisturbMode()))}onDidChangeDoNotDisturbMode(){this.hide()}get isVisible(){return!!this._isVisible}show(){if(this._isVisible)return void(0,xs.cW)(this.notificationsList).show(!0);this.notificationsCenterContainer||this.create(),this.updateTitle();const[B,G]=(0,Yo.a)(this.notificationsList,this.notificationsCenterContainer);this._isVisible=!0,G.classList.add("visible"),B.show(),this.layout(this.workbenchDimensions),B.updateNotificationsList(0,0,this.model.notifications),B.focusFirst(),this.updateStyles(),this.model.notifications.forEach(Ve=>Ve.updateVisibility(!0)),this.notificationsCenterVisibleContextKey.set(!0),this._onDidChangeVisibility.fire()}updateTitle(){const[B,G]=(0,Yo.a)(this.notificationsCenterTitle,this.clearAllAction);0===this.model.notifications.length?(B.textContent=(0,Qn.NC)("notificationsEmpty","No new notifications"),G.enabled=!1):(B.textContent=(0,Qn.NC)("notifications","Notifications"),G.enabled=this.model.notifications.some(Ve=>!Ve.hasProgress))}create(){this.notificationsCenterContainer=document.createElement("div"),this.notificationsCenterContainer.classList.add("notifications-center"),this.notificationsCenterHeader=document.createElement("div"),this.notificationsCenterHeader.classList.add("notifications-center-header"),this.notificationsCenterContainer.appendChild(this.notificationsCenterHeader),this.notificationsCenterTitle=document.createElement("span"),this.notificationsCenterTitle.classList.add("notifications-center-header-title"),this.notificationsCenterHeader.appendChild(this.notificationsCenterTitle);const B=document.createElement("div");B.classList.add("notifications-center-header-toolbar"),this.notificationsCenterHeader.appendChild(B);const G=this._register(this.instantiationService.createInstance(ml)),Ve=this._register(new go.o(B,{ariaLabel:(0,Qn.NC)("notificationsToolbar","Notification Center Actions"),actionRunner:G}));this.clearAllAction=this._register(this.instantiationService.createInstance(sa,sa.ID,sa.LABEL)),Ve.push(this.clearAllAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.clearAllAction)}),this.toggleDoNotDisturbAction=this._register(this.instantiationService.createInstance(ra,ra.ID,ra.LABEL)),Ve.push(this.toggleDoNotDisturbAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.toggleDoNotDisturbAction)});const Mt=this._register(this.instantiationService.createInstance(Ba,Ba.ID,Ba.LABEL));Ve.push(Mt,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(Mt)}),this.notificationsList=this.instantiationService.createInstance(nd,this.notificationsCenterContainer,{widgetAriaLabel:(0,Qn.NC)("notificationsCenterWidgetAriaLabel","Notifications Center")}),this.container.appendChild(this.notificationsCenterContainer)}getKeybindingLabel(B){const G=this.keybindingService.lookupKeybinding(B.id);return G?G.getLabel():null}onDidChangeNotification(B){if(!this._isVisible)return;let G=!1;const[Ve,Mt]=(0,Yo.a)(this.notificationsList,this.notificationsCenterContainer);switch(B.kind){case 0:Ve.updateNotificationsList(B.index,0,[B.item]),B.item.updateVisibility(!0);break;case 1:switch(B.detail){case 2:Ve.updateNotificationsList(B.index,1,[B.item]);break;case 1:B.item.expanded&&Ve.updateNotificationHeight(B.item)}break;case 2:Ve.updateNotificationsList(B.index,1,[B.item]);break;case 3:G=(0,ji.jg)(document.activeElement,Mt),Ve.updateNotificationsList(B.index,1),B.item.updateVisibility(!1)}this.updateTitle(),0===this.model.notifications.length&&(this.hide(),G&&this.editorGroupService.activeGroup.focus())}hide(){if(!this._isVisible||!this.notificationsCenterContainer||!this.notificationsList)return;const B=(0,ji.jg)(document.activeElement,this.notificationsCenterContainer);this._isVisible=!1,this.notificationsCenterContainer.classList.remove("visible"),this.notificationsList.hide(),this.model.notifications.forEach(G=>G.updateVisibility(!1)),this.notificationsCenterVisibleContextKey.set(!1),this._onDidChangeVisibility.fire(),B&&this.editorGroupService.activeGroup.focus()}updateStyles(){if(this.notificationsCenterContainer&&this.notificationsCenterHeader){const B=this.getColor(io.rh);this.notificationsCenterContainer.style.boxShadow=B?`0 0 8px 2px ${B}`:"";const G=this.getColor(Cd);this.notificationsCenterContainer.style.border=G?`1px solid ${G}`:"";const Ve=this.getColor(bd);this.notificationsCenterHeader.style.color=Ve?Ve.toString():"";const Mt=this.getColor(xl);this.notificationsCenterHeader.style.background=Mt?Mt.toString():""}}layout(B){if(this.workbenchDimensions=B,this._isVisible&&this.notificationsCenterContainer){const G=zc.MAX_DIMENSIONS.width,Ve=zc.MAX_DIMENSIONS.height;let Mt=G,Tn=Ve;this.workbenchDimensions&&(Mt=this.workbenchDimensions.width,Mt-=16,Tn=this.workbenchDimensions.height-35,this.layoutService.isVisible("workbench.parts.statusbar")&&(Tn-=22),this.layoutService.isVisible("workbench.parts.titlebar")&&(Tn-=22),Tn-=24),(0,xs.cW)(this.notificationsList).layout(Math.min(G,Mt),Math.min(Ve,Tn))}}clearAll(){this.hide();for(const B of[...this.model.notifications])B.hasProgress||B.close()}};id.MAX_DIMENSIONS=new ji.Ro(450,400),id=(0,Ni._)([(0,Ni.a)(2,Ts.XE),(0,Ni.a)(3,Lr.TG),(0,Ni.a)(4,Ya),(0,Ni.a)(5,mi.i6),(0,Ni.a)(6,Er.I),(0,Ni.a)(7,us.d),(0,Ni.a)(8,Ls.lT)],id),(0,Ts.Ic)((je,B)=>{const G=je.getColor(Sd);G&&B.addRule(`.monaco-workbench > .notifications-center .notifications-list-container .monaco-list-row[data-last-element="false"] > .notification-list-item { border-bottom: 1px solid ${G}; }`)});class wc extends ts.JT{constructor(B){super(),this.model=B;for(const G of B.notifications)this.triggerAriaAlert(G);this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(B=>this.onDidChangeNotification(B)))}onDidChangeNotification(B){0===B.kind&&(this.triggerAriaAlert(B.item),B.item.severity===Ls.zb.Error&&(B.item.message.original instanceof Error?console.error(B.item.message.original):console.error((0,Un.y)(B.item.message.linkedText.toString(),!0))))}triggerAriaAlert(B){if(B.silent)return;const G=B.onDidChangeContent(Ve=>{1===Ve.kind&&this.doTriggerAriaAlert(B)});On.ju.once(B.onDidClose)(()=>G.dispose()),this.doTriggerAriaAlert(B)}doTriggerAriaAlert(B){let G;G=B.severity===Ls.zb.Error?(0,Qn.NC)("alertErrorMessage","Error: {0}",B.message.linkedText.toString()):B.severity===Ls.zb.Warning?(0,Qn.NC)("alertWarningMessage","Warning: {0}",B.message.linkedText.toString()):(0,Qn.NC)("alertInfoMessage","Info: {0}",B.message.linkedText.toString()),(0,Os.Z9)(G)}}function Dc(je){const B=je.invokeFunction(Tn=>Tn.get(ia.F)).container,G=je.invokeFunction(Tn=>Tn.get(Ls.lT)).model,Ve=je.createInstance(id,B,G),Mt=je.createInstance(Wa,B,G);je.createInstance(wc,G),je.createInstance(Xl),function Cc(je,B,G){function Ve(Tn,kn){if(Zl(kn))return kn;const hi=Tn.lastFocusedList;if(hi instanceof eo.ev){const yi=hi.getFocusedElements()[0];if(Zl(yi))return yi}}Ki.W.registerCommandAndKeybindingRule({id:Pl,weight:250,when:Ml,primary:9,handler:Tn=>{const kn=Tn.get(ys.b);for(const hi of G.notifications)hi.visible&&kn.publicLog2("notification:hide",Yl(hi.message.original,hi.sourceId,hi.silent));je.hide()}}),Ki.W.registerCommandAndKeybindingRule({id:ql,weight:200,when:oa,primary:20,mac:{primary:2049},handler:(Tn,kn)=>{const hi=Ve(Tn.get(eo.Lw),kn);hi&&!hi.hasProgress&&hi.close()}}),Ki.W.registerCommandAndKeybindingRule({id:Nl,weight:200,when:oa,primary:17,handler:(Tn,kn)=>{const hi=Ve(Tn.get(eo.Lw),kn);hi&&hi.expand()}}),Ki.W.registerCommandAndKeybindingRule({id:Da,weight:200,when:oa,primary:15,handler:(Tn,kn)=>{const hi=Ve(Tn.get(eo.Lw),kn);hi&&hi.collapse()}}),Ki.W.registerCommandAndKeybindingRule({id:Rr,weight:200,when:oa,primary:10,secondary:[3],handler:Tn=>{const kn=Ve(Tn.get(eo.Lw));kn&&kn.toggle()}}),Ki.W.registerKeybindingRule({id:Al,weight:150,when:wa,primary:9}),Ki.W.registerKeybindingRule({id:Al,weight:300,when:mi.Ao.and(wa,oa),primary:9}),Ki.W.registerCommandAndKeybindingRule({id:Gd,weight:200,when:mi.Ao.and(oa,wa),primary:18,handler:Tn=>{B.focusNext()}}),Ki.W.registerCommandAndKeybindingRule({id:Zd,weight:200,when:mi.Ao.and(oa,wa),primary:16,handler:Tn=>{B.focusPrevious()}}),Ki.W.registerCommandAndKeybindingRule({id:Qd,weight:200,when:mi.Ao.and(oa,wa),primary:11,secondary:[14],handler:Tn=>{B.focusFirst()}}),Ki.W.registerCommandAndKeybindingRule({id:Jl,weight:200,when:mi.Ao.and(oa,wa),primary:12,secondary:[13],handler:Tn=>{B.focusLast()}});const Mt={value:(0,Qn.NC)("notifications","Notifications"),original:"Notifications"};Gi.BH.appendMenuItem(Gi.eH.CommandPalette,{command:{id:$d,title:{value:(0,Qn.NC)("showNotifications","Show Notifications"),original:"Show Notifications"},category:Mt}}),Gi.BH.appendMenuItem(Gi.eH.CommandPalette,{command:{id:Pl,title:{value:(0,Qn.NC)("hideNotifications","Hide Notifications"),original:"Hide Notifications"},category:Mt},when:Ml}),Gi.BH.appendMenuItem(Gi.eH.CommandPalette,{command:{id:Ea,title:{value:(0,Qn.NC)("clearAllNotifications","Clear All Notifications"),original:"Clear All Notifications"},category:Mt}}),Gi.BH.appendMenuItem(Gi.eH.CommandPalette,{command:{id:qa,title:{value:(0,Qn.NC)("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),original:"Toggle Do Not Disturb Mode"},category:Mt}}),Gi.BH.appendMenuItem(Gi.eH.CommandPalette,{command:{id:Ed,title:{value:(0,Qn.NC)("focusNotificationToasts","Focus Notification Toast"),original:"Focus Notification Toast"},category:Mt},when:wa})}(Ve,Mt,G),Mt.layout((0,ji.D6)(B))}function Jd(je){return ya(Dc),{[Ls.lT.toString()]:new ba.M(Ha),...fn(je)}}var qd=e(79595),pl=e(84834),$o=e(18341),Ec=e(87060),Td=e(57908),xd=e(41883);const Lc={inputActiveOptionBorder:Hr.Il.fromHex("#007ACC00"),inputActiveOptionForeground:Hr.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:Hr.Il.fromHex("#0E639C50")};class Md extends qd.${constructor(B){super(),this._onChange=this._register(new Ni.E),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Ni.E),this.onKeyDown=this._onKeyDown.event,this._opts={...Lc,...B},this._checked=this._opts.isChecked;const G=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,G.push(...rs.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&G.push(...this._opts.actionClassName.split(" ")),this._checked&&G.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...G),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,Ve=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),Ve.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,Ve=>{if(10===Ve.keyCode||3===Ve.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),Ve.preventDefault(),void Ve.stopPropagation();this._onKeyDown.fire(Ve)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(B){this._checked=B,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon(B){this._icon&&this.domNode.classList.remove(...rs.dT.asClassNameArray(this._icon)),this._icon=B,this._icon&&this.domNode.classList.add(...rs.dT.asClassNameArray(this._icon))}width(){return 22}style(B){B.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=B.inputActiveOptionBorder),B.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=B.inputActiveOptionForeground),B.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=B.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(B){this.domNode.title=B,this.domNode.setAttribute("aria-label",B)}}class _o extends qd.${constructor(B,G){super(),this.title=B,this.isChecked=G,this.checkbox=new Md({title:this.title,isChecked:this.isChecked,icon:rs.lA.check,actionClassName:"monaco-checkbox"}),this.domNode=this.checkbox.domNode,this.styles={},this.checkbox.onChange(()=>{this.applyStyles()})}get checked(){return this.checkbox.checked}set checked(B){this.checkbox.checked=B,this.applyStyles()}focus(){this.domNode.focus()}hasFocus(){return this.domNode===document.activeElement}style(B){this.styles=B,this.applyStyles()}applyStyles(){this.domNode.style.color=this.styles.checkboxForeground?this.styles.checkboxForeground.toString():"",this.domNode.style.backgroundColor=this.styles.checkboxBackground?this.styles.checkboxBackground.toString():"",this.domNode.style.borderColor=this.styles.checkboxBorder?this.styles.checkboxBorder.toString():""}}Sa("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/** Dialog: Modal Block */\n.monaco-dialog-modal-block {\n\tposition: fixed;\n\theight: 100%;\n\twidth: 100%;\n\tleft:0;\n\ttop:0;\n\tz-index: 2600;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-dialog-modal-block.dimmed {\n\tbackground: rgba(0, 0, 0, 0.3);\n}\n\n/** Dialog: Container */\n.monaco-dialog-box {\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\twidth: min-content;\n\tmin-width: 500px;\n\tmax-width: 90vw;\n\tmin-height: 75px;\n\tpadding: 10px;\n\ttransform: translate3d(0px, 0px, 0px);\n}\n\n/** Dialog: Title Actions Row */\n.monaco-dialog-box .dialog-toolbar-row {\n\theight: 22px;\n\tpadding-bottom: 4px;\n}\n\n.monaco-dialog-box .dialog-toolbar-row .actions-container {\n\tjustify-content: flex-end;\n}\n\n/** Dialog: Message Row */\n.monaco-dialog-box .dialog-message-row {\n\tdisplay: flex;\n\tflex-grow: 1;\n\talign-items: center;\n\tpadding: 0 10px;\n}\n\n.monaco-dialog-box .dialog-message-row > .dialog-icon.codicon {\n\tflex: 0 0 48px;\n\theight: 48px;\n\talign-self: baseline;\n\tfont-size: 48px;\n}\n\n/** Dialog: Message Container */\n.monaco-dialog-box .dialog-message-row .dialog-message-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tpadding-left: 24px;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n\twhite-space: normal;\n}\n\n/** Dialog: Message */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message {\n\tline-height: 22px;\n\tfont-size: 18px;\n\tflex: 1; /* let the message always grow */\n\twhite-space: normal;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n\tmin-height: 48px; /* matches icon height */\n\tmargin-bottom: 8px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n/** Dialog: Details */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-detail {\n\tline-height: 22px;\n\tflex: 1; /* let the message always grow */\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message a:focus {\n\toutline-width: 1px;\n\toutline-style: solid;\n}\n\n/** Dialog: Checkbox */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row {\n\tpadding: 15px 0px 0px;\n\tdisplay: flex;\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row .dialog-checkbox-message {\n\tcursor: pointer;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Dialog: Input */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input {\n\tpadding: 15px 0px 0px;\n\tdisplay: flex;\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input .monaco-inputbox {\n\tflex: 1;\n}\n\n/** Dialog: File Path */\n.monaco-dialog-box code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n/** Dialog: Buttons Row */\n.monaco-dialog-box > .dialog-buttons-row {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-right: 1px;\n\toverflow: hidden; /* buttons row should never overflow */\n}\n\n.monaco-dialog-box > .dialog-buttons-row {\n\tdisplay: flex;\n\twhite-space: nowrap;\n\tpadding: 20px 10px 10px;\n}\n\n/** Dialog: Buttons */\n.monaco-dialog-box > .dialog-buttons-row > .dialog-buttons {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: flex-end;\n\toverflow: hidden;\n\tmargin-left: 67px; /* for long buttons, force align with text */\n}\n\n.monaco-dialog-box > .dialog-buttons-row > .dialog-buttons > .monaco-button {\n\twidth: fit-content;\n\twidth: -moz-fit-content;\n\tpadding: 5px 10px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n\toutline-offset: 2px !important;\n}\n",{});class od extends ts.JT{constructor(B,G,Ve,Mt){super(),this.container=B,this.message=G,this.options=Mt,this.modalElement=this.container.appendChild((0,ji.$)(".monaco-dialog-modal-block.dimmed")),this.shadowElement=this.modalElement.appendChild((0,ji.$)(".dialog-shadow")),this.element=this.shadowElement.appendChild((0,ji.$)(".monaco-dialog-box")),this.element.setAttribute("role","dialog"),this.element.tabIndex=-1,(0,ji.Cp)(this.element),this.buttons=Array.isArray(Ve)&&Ve.length>0?Ve:this.options.disableDefaultAction?[]:[(0,Qn.NC)("ok","OK")];const Tn=this.element.appendChild((0,ji.$)(".dialog-buttons-row"));this.buttonsContainer=Tn.appendChild((0,ji.$)(".dialog-buttons"));const kn=this.element.appendChild((0,ji.$)(".dialog-message-row"));if(this.iconElement=kn.appendChild((0,ji.$)("#monaco-dialog-icon.dialog-icon")),this.iconElement.setAttribute("aria-label",this.getIconAriaLabel()),this.messageContainer=kn.appendChild((0,ji.$)(".dialog-message-container")),(this.options.detail||this.options.renderBody)&&(this.messageContainer.appendChild((0,ji.$)(".dialog-message")).appendChild((0,ji.$)("#monaco-dialog-message-text.dialog-message-text")).innerText=this.message),this.messageDetailElement=this.messageContainer.appendChild((0,ji.$)("#monaco-dialog-message-detail.dialog-message-detail")),this.options.detail||!this.options.renderBody?this.messageDetailElement.innerText=this.options.detail?this.options.detail:G:this.messageDetailElement.style.display="none",this.options.renderBody){const yi=this.messageContainer.appendChild((0,ji.$)("#monaco-dialog-message-body.dialog-message-body"));this.options.renderBody(yi);for(const $i of this.messageContainer.querySelectorAll("a"))$i.tabIndex=0}if(this.inputs=this.options.inputs?this.options.inputs.map(yi=>{const $i=this.messageContainer.appendChild((0,ji.$)(".dialog-message-input")),Ao=this._register(new $o.W($i,void 0,{placeholder:yi.placeholder,type:yi.type??"text"}));return yi.value&&(Ao.value=yi.value),Ao}):[],this.options.checkboxLabel){const yi=this.messageContainer.appendChild((0,ji.$)(".dialog-checkbox-row")),$i=this.checkbox=this._register(new _o(this.options.checkboxLabel,!!this.options.checkboxChecked));yi.appendChild($i.domNode);const Ao=yi.appendChild((0,ji.$)(".dialog-checkbox-message"));Ao.innerText=this.options.checkboxLabel,this._register((0,ji.nm)(Ao,ji.tw.CLICK,()=>$i.checked=!$i.checked))}const hi=this.element.appendChild((0,ji.$)(".dialog-toolbar-row"));this.toolbarContainer=hi.appendChild((0,ji.$)(".dialog-toolbar"))}getIconAriaLabel(){return(0,Qn.NC)("dialogInfoMessage","Info")}updateMessage(B){this.messageDetailElement.innerText=B}show(){var B=this;return(0,es.Z)(function*(){return B.focusToReturn=document.activeElement,new Promise(G=>{(0,ji.PO)(B.buttonsContainer);const Ve=B.buttonBar=B._register(new kt(B.buttonsContainer)),Mt=B.rearrangeButtons(B.buttons,B.options.cancelId);Mt.forEach((kn,hi)=>{const yi=0===Mt[hi].index,$i=B._register(B.options.buttonDetails?Ve.addButtonWithDescription({title:!0,secondary:!yi}):Ve.addButton({title:!0,secondary:!yi}));$i.label=function Ic(je,B){return pl.dz||B?je.replace(/\(&&\w\)|&&/g,""):pl.ED?je.replace(/&&|&/g,G=>"&"===G?"&&":"&"):je.replace(/&&/g,"_")}(Mt[hi].label,!0),$i instanceof xt&&($i.description=B.options.buttonDetails[Mt[hi].index]),B._register($i.onDidClick(Ao=>{Ao&&ji.zB.stop(Ao),G({button:Mt[hi].index,checkboxChecked:B.checkbox?B.checkbox.checked:void 0,values:B.inputs.length>0?B.inputs.map(Wo=>Wo.value):void 0})}))}),B._register((0,ji.nm)(window,"keydown",kn=>{const hi=new Aa.y(kn);if(hi.equals(512)&&hi.preventDefault(),hi.equals(3))return void(B.inputs.some($i=>$i.hasFocus())&&(ji.zB.stop(kn),G({button:Mt.find($i=>$i.index!==B.options.cancelId)?.index??0,checkboxChecked:B.checkbox?B.checkbox.checked:void 0,values:B.inputs.length>0?B.inputs.map($i=>$i.value):void 0})));if(hi.equals(10))return;let yi=!1;if(hi.equals(2)||hi.equals(17)||hi.equals(1026)||hi.equals(15)){const $i=[];let Ao=-1;if(B.messageContainer){const Wo=B.messageContainer.querySelectorAll("a");for(const Ps of Wo)$i.push(Ps),Ps===document.activeElement&&(Ao=$i.length-1)}for(const Wo of B.inputs)$i.push(Wo),Wo.hasFocus()&&(Ao=$i.length-1);if(B.checkbox&&($i.push(B.checkbox),B.checkbox.hasFocus()&&(Ao=$i.length-1)),B.buttonBar)for(const Wo of B.buttonBar.buttons)$i.push(Wo),Wo.hasFocus()&&(Ao=$i.length-1);if(hi.equals(2)||hi.equals(17))-1===Ao&&(Ao=0),$i[(Ao+1)%$i.length].focus();else{-1===Ao&&(Ao=$i.length);let Wo=Ao-1;-1===Wo&&(Wo=$i.length-1),$i[Wo].focus()}yi=!0}yi?ji.zB.stop(kn,!0):B.options.keyEventProcessor&&B.options.keyEventProcessor(hi)},!0)),B._register((0,ji.nm)(window,"keyup",kn=>{ji.zB.stop(kn,!0);const hi=new Aa.y(kn);!B.options.disableCloseAction&&hi.equals(9)&&G({button:B.options.cancelId||0,checkboxChecked:B.checkbox?B.checkbox.checked:void 0})},!0)),B._register((0,ji.nm)(B.element,"focusout",kn=>{kn.relatedTarget&&B.element&&((0,ji.jg)(kn.relatedTarget,B.element)||(B.focusToReturn=kn.relatedTarget,kn.target&&(kn.target.focus(),ji.zB.stop(kn,!0))))},!1));const Tn="codicon-modifier-spin";if(B.iconElement.classList.remove(...rs.lA.dialogError.classNamesArray,...rs.lA.dialogWarning.classNamesArray,...rs.lA.dialogInfo.classNamesArray,...rs.lA.loading.classNamesArray,Tn),B.options.icon)B.iconElement.classList.add(...B.options.icon.classNamesArray);else switch(B.options.type){case"error":B.iconElement.classList.add(...rs.lA.dialogError.classNamesArray);break;case"warning":B.iconElement.classList.add(...rs.lA.dialogWarning.classNamesArray);break;case"pending":B.iconElement.classList.add(...rs.lA.loading.classNamesArray,Tn);break;default:B.iconElement.classList.add(...rs.lA.dialogInfo.classNamesArray)}if(!B.options.disableCloseAction){const kn=B._register(new go.o(B.toolbarContainer,{})),hi=B._register(new mr.aU("dialog.close",(0,Qn.NC)("dialogClose","Close Dialog"),rs.lA.dialogClose.classNames,!0,(0,es.Z)(function*(){G({button:B.options.cancelId||0,checkboxChecked:B.checkbox?B.checkbox.checked:void 0})})));kn.push(hi,{icon:!0,label:!1})}B.applyStyles(),B.element.setAttribute("aria-modal","true"),B.element.setAttribute("aria-labelledby","monaco-dialog-icon monaco-dialog-message-text"),B.element.setAttribute("aria-describedby","monaco-dialog-icon monaco-dialog-message-text monaco-dialog-message-detail monaco-dialog-message-body"),(0,ji.$Z)(B.element),B.inputs.length>0?(B.inputs[0].focus(),B.inputs[0].select()):Mt.forEach((kn,hi)=>{0===kn.index&&Ve.buttons[hi].focus()})})})()}applyStyles(){if(this.styles){const B=this.styles,G=B.dialogForeground,Ve=B.dialogBackground,Tn=B.dialogBorder?`1px solid ${B.dialogBorder}`:"",kn=B.textLinkForeground;if(this.shadowElement.style.boxShadow=B.dialogShadow?`0 0px 8px ${B.dialogShadow}`:"",this.element.style.color=G?.toString()??"",this.element.style.backgroundColor=Ve?.toString()??"",this.element.style.border=Tn,this.buttonBar?.buttons.forEach(yi=>yi.style(B)),this.checkbox?.style(B),G&&Ve){const yi=G.transparent(.9);this.messageDetailElement.style.color=yi.makeOpaque(Ve).toString()}if(kn)for(const yi of this.messageContainer.getElementsByTagName("a"))yi.style.color=kn.toString();let hi;switch(this.options.type){case"error":hi=B.errorIconForeground;break;case"warning":hi=B.warningIconForeground;break;default:hi=B.infoIconForeground}hi&&(this.iconElement.style.color=hi.toString());for(const yi of this.inputs)yi.style(B)}}style(B){this.styles=B,this.applyStyles()}dispose(){super.dispose(),this.modalElement&&(this.modalElement.remove(),this.modalElement=void 0),this.focusToReturn&&(0,ji.jg)(this.focusToReturn,document.body)&&(this.focusToReturn.focus(),this.focusToReturn=void 0)}rearrangeButtons(B,G){const Ve=[];if(0===B.length)return Ve;if(B.forEach((Mt,Tn)=>{Ve.push({label:Mt,index:Tn})}),(pl.dz||pl.IJ)&&void 0!==G&&G<B.length){const Mt=Ve.splice(G,1)[0];Ve.reverse(),Ve.splice(Ve.length-1,0,Mt)}return Ve}}function sd(je,B,G){"number"!=typeof je&&(je=je.getTime());const Ve=Math.round(((new Date).getTime()-je)/1e3);if(Ve<-30)return(0,Qn.NC)("date.fromNow.in","in {0}",sd((new Date).getTime()+1e3*Ve,!1));if(Ve<30)return(0,Qn.NC)("date.fromNow.now","now");let Mt;return Ve<60?(Mt=Ve,B?1===Mt?G?(0,Qn.NC)("date.fromNow.seconds.singular.ago.fullWord","{0} second ago",Mt):(0,Qn.NC)("date.fromNow.seconds.singular.ago","{0} sec ago",Mt):G?(0,Qn.NC)("date.fromNow.seconds.plural.ago.fullWord","{0} seconds ago",Mt):(0,Qn.NC)("date.fromNow.seconds.plural.ago","{0} secs ago",Mt):1===Mt?G?(0,Qn.NC)("date.fromNow.seconds.singular.fullWord","{0} second",Mt):(0,Qn.NC)("date.fromNow.seconds.singular","{0} sec",Mt):G?(0,Qn.NC)("date.fromNow.seconds.plural.fullWord","{0} seconds",Mt):(0,Qn.NC)("date.fromNow.seconds.plural","{0} secs",Mt)):Ve<3600?(Mt=Math.floor(Ve/60),B?1===Mt?G?(0,Qn.NC)("date.fromNow.minutes.singular.ago.fullWord","{0} minute ago",Mt):(0,Qn.NC)("date.fromNow.minutes.singular.ago","{0} min ago",Mt):G?(0,Qn.NC)("date.fromNow.minutes.plural.ago.fullWord","{0} minutes ago",Mt):(0,Qn.NC)("date.fromNow.minutes.plural.ago","{0} mins ago",Mt):1===Mt?G?(0,Qn.NC)("date.fromNow.minutes.singular.fullWord","{0} minute",Mt):(0,Qn.NC)("date.fromNow.minutes.singular","{0} min",Mt):G?(0,Qn.NC)("date.fromNow.minutes.plural.fullWord","{0} minutes",Mt):(0,Qn.NC)("date.fromNow.minutes.plural","{0} mins",Mt)):Ve<86400?(Mt=Math.floor(Ve/3600),B?1===Mt?G?(0,Qn.NC)("date.fromNow.hours.singular.ago.fullWord","{0} hour ago",Mt):(0,Qn.NC)("date.fromNow.hours.singular.ago","{0} hr ago",Mt):G?(0,Qn.NC)("date.fromNow.hours.plural.ago.fullWord","{0} hours ago",Mt):(0,Qn.NC)("date.fromNow.hours.plural.ago","{0} hrs ago",Mt):1===Mt?G?(0,Qn.NC)("date.fromNow.hours.singular.fullWord","{0} hour",Mt):(0,Qn.NC)("date.fromNow.hours.singular","{0} hr",Mt):G?(0,Qn.NC)("date.fromNow.hours.plural.fullWord","{0} hours",Mt):(0,Qn.NC)("date.fromNow.hours.plural","{0} hrs",Mt)):Ve<604800?(Mt=Math.floor(Ve/86400),B?1===Mt?(0,Qn.NC)("date.fromNow.days.singular.ago","{0} day ago",Mt):(0,Qn.NC)("date.fromNow.days.plural.ago","{0} days ago",Mt):1===Mt?(0,Qn.NC)("date.fromNow.days.singular","{0} day",Mt):(0,Qn.NC)("date.fromNow.days.plural","{0} days",Mt)):Ve<2592e3?(Mt=Math.floor(Ve/604800),B?1===Mt?G?(0,Qn.NC)("date.fromNow.weeks.singular.ago.fullWord","{0} week ago",Mt):(0,Qn.NC)("date.fromNow.weeks.singular.ago","{0} wk ago",Mt):G?(0,Qn.NC)("date.fromNow.weeks.plural.ago.fullWord","{0} weeks ago",Mt):(0,Qn.NC)("date.fromNow.weeks.plural.ago","{0} wks ago",Mt):1===Mt?G?(0,Qn.NC)("date.fromNow.weeks.singular.fullWord","{0} week",Mt):(0,Qn.NC)("date.fromNow.weeks.singular","{0} wk",Mt):G?(0,Qn.NC)("date.fromNow.weeks.plural.fullWord","{0} weeks",Mt):(0,Qn.NC)("date.fromNow.weeks.plural","{0} wks",Mt)):Ve<31536e3?(Mt=Math.floor(Ve/2592e3),B?1===Mt?G?(0,Qn.NC)("date.fromNow.months.singular.ago.fullWord","{0} month ago",Mt):(0,Qn.NC)("date.fromNow.months.singular.ago","{0} mo ago",Mt):G?(0,Qn.NC)("date.fromNow.months.plural.ago.fullWord","{0} months ago",Mt):(0,Qn.NC)("date.fromNow.months.plural.ago","{0} mos ago",Mt):1===Mt?G?(0,Qn.NC)("date.fromNow.months.singular.fullWord","{0} month",Mt):(0,Qn.NC)("date.fromNow.months.singular","{0} mo",Mt):G?(0,Qn.NC)("date.fromNow.months.plural.fullWord","{0} months",Mt):(0,Qn.NC)("date.fromNow.months.plural","{0} mos",Mt)):(Mt=Math.floor(Ve/31536e3),B?1===Mt?G?(0,Qn.NC)("date.fromNow.years.singular.ago.fullWord","{0} year ago",Mt):(0,Qn.NC)("date.fromNow.years.singular.ago","{0} yr ago",Mt):G?(0,Qn.NC)("date.fromNow.years.plural.ago.fullWord","{0} years ago",Mt):(0,Qn.NC)("date.fromNow.years.plural.ago","{0} yrs ago",Mt):1===Mt?G?(0,Qn.NC)("date.fromNow.years.singular.fullWord","{0} year",Mt):(0,Qn.NC)("date.fromNow.years.singular","{0} yr",Mt):G?(0,Qn.NC)("date.fromNow.years.plural.fullWord","{0} years",Mt):(0,Qn.NC)("date.fromNow.years.plural","{0} yrs",Mt))}let Va=class pu{constructor(B,G,Ve,Mt,Tn,kn,hi){this.logService=B,this.layoutService=G,this.themeService=Ve,this.keybindingService=Mt,this.instantiationService=Tn,this.productService=kn,this.clipboardService=hi,this.markdownRenderer=this.instantiationService.createInstance(Ec.$,{})}confirm(B){var G=this;return(0,es.Z)(function*(){G.logService.trace("DialogService#confirm",B.message);const Ve=[];Ve.push(B.primaryButton?B.primaryButton:(0,Qn.NC)({key:"yesButton",comment:["&& denotes a mnemonic"]},"&&Yes")),B.secondaryButton?Ve.push(B.secondaryButton):typeof B.secondaryButton>"u"&&Ve.push((0,Qn.NC)("cancelButton","Cancel"));const Mt=yield G.doShow(B.type,B.message,Ve,B.detail,1,B.checkbox);return{confirmed:0===Mt.button,checkboxChecked:Mt.checkboxChecked}})()}getDialogType(B){return B===ga.Z.Info?"question":B===ga.Z.Error?"error":B===ga.Z.Warning?"warning":"none"}show(B,G,Ve,Mt){var Tn=this;return(0,es.Z)(function*(){Tn.logService.trace("DialogService#show",G);const kn=yield Tn.doShow(Tn.getDialogType(B),G,Ve,Mt?.detail,Mt?.cancelId,Mt?.checkbox,void 0,"object"==typeof Mt?.custom?Mt.custom:void 0);return{choice:kn.button,checkboxChecked:kn.checkboxChecked}})()}doShow(B,G,Ve,Mt,Tn,kn,hi,yi){var $i=this;return(0,es.Z)(function*(){const Ao=new ts.SL,Wo=yi?la=>{la.classList.add(...yi.classes||[]),yi.markdownDetails?.forEach(bs=>{const Vs=$i.markdownRenderer.render(bs.markdown);la.appendChild(Vs.element),Vs.element.classList.add(...bs.classes||[]),Ao.add(Vs)})}:void 0,Ps=new od($i.layoutService.container,G,Ve,{detail:Mt,cancelId:Tn,type:B,keyEventProcessor:la=>{const bs=$i.keybindingService.softDispatch(la,$i.layoutService.container);bs?.commandId&&-1===pu.ALLOWABLE_COMMANDS.indexOf(bs.commandId)&&ji.zB.stop(la,!0)},renderBody:Wo,icon:yi?.icon,disableCloseAction:yi?.disableCloseAction,buttonDetails:yi?.buttonDetails,checkboxLabel:kn?.label,checkboxChecked:kn?.checked,inputs:hi});Ao.add(Ps),Ao.add(function X(je,B,G){return i(B,{...U,...G},je)}(Ps,$i.themeService));const Or=yield Ps.show();return Ao.dispose(),Or})()}input(B,G,Ve,Mt,Tn){var kn=this;return(0,es.Z)(function*(){kn.logService.trace("DialogService#input",G);const hi=yield kn.doShow(kn.getDialogType(B),G,Ve,Tn?.detail,Tn?.cancelId,Tn?.checkbox,Mt);return{choice:hi.button,checkboxChecked:hi.checkboxChecked,values:hi.values}})()}about(){var B=this;return(0,es.Z)(function*(){const G=kn=>(0,Qn.NC)("aboutDetail","Version: {0}\nCommit: {1}\nDate: {2}\nBrowser: {3}",B.productService.version||"Unknown",B.productService.commit||"Unknown",B.productService.date?`${B.productService.date}${kn?" ("+sd(new Date(B.productService.date),!0)+")":""}`:"Unknown",navigator.userAgent),Ve=G(!0),Mt=G(!1),{choice:Tn}=yield B.show(ga.Z.Info,B.productService.nameLong,[(0,Qn.NC)("copy","Copy"),(0,Qn.NC)("ok","OK")],{detail:Ve,cancelId:1});0===Tn&&B.clipboardService.writeText(Mt)})()}};Va.ALLOWABLE_COMMANDS=["copy","cut","editor.action.selectAll","editor.action.clipboardCopyAction","editor.action.clipboardCutAction","editor.action.clipboardPasteAction"],Va=(0,Ni._)([(0,Ni.a)(0,Td.VZ),(0,Ni.a)(1,ia.F),(0,Ni.a)(2,Ts.XE),(0,Ni.a)(3,us.d),(0,Ni.a)(4,Lr.TG),(0,Ni.a)(5,Er.h),(0,Ni.a)(6,Fi.p)],Va);let Rd=class extends ts.JT{constructor(B,G,Ve,Mt,Tn,kn,hi,yi){super(),this.dialogService=B,this.impl=new Va(G,Ve,Mt,Tn,kn,hi,yi),this.model=this.dialogService.model,this._register(this.model.onWillShowDialog(()=>{this.currentDialog||this.processDialogs()})),this.processDialogs()}processDialogs(){var B=this;return(0,es.Z)(function*(){for(;B.model.dialogs.length;){let G;if(B.currentDialog=B.model.dialogs[0],B.currentDialog.args.confirmArgs){const Ve=B.currentDialog.args.confirmArgs;G=yield B.impl.confirm(Ve.confirmation)}else if(B.currentDialog.args.inputArgs){const Ve=B.currentDialog.args.inputArgs;G=yield B.impl.input(Ve.severity,Ve.message,Ve.buttons,Ve.inputs,Ve.options)}else if(B.currentDialog.args.showArgs){const Ve=B.currentDialog.args.showArgs;G=yield B.impl.show(Ve.severity,Ve.message,Ve.buttons,Ve.options)}else yield B.impl.about();B.currentDialog.close(G),B.currentDialog=void 0}})()}};Rd=(0,Ni._)([(0,Ni.a)(0,Za.S),(0,Ni.a)(1,Td.VZ),(0,Ni.a)(2,ia.F),(0,Ni.a)(3,Ts.XE),(0,Ni.a)(4,us.d),(0,Ni.a)(5,Lr.TG),(0,Ni.a)(6,Er.h),(0,Ni.a)(7,Fi.p)],Rd);class xc extends ts.JT{constructor(){super(...arguments),this.dialogs=[],this._onWillShowDialog=this._register(new Ni.E),this.onWillShowDialog=this._onWillShowDialog.event,this._onDidShowDialog=this._register(new Ni.E),this.onDidShowDialog=this._onDidShowDialog.event}show(B){const G=new xd.CR,Ve={args:B,close:Mt=>{this.dialogs.splice(0,1),G.complete(Mt),this._onDidShowDialog.fire()}};return this.dialogs.push(Ve),this._onWillShowDialog.fire(),{item:Ve,result:G.p}}}let Ur=class extends ts.JT{constructor(B,G){super(),this.environmentService=B,this.logService=G,this.model=this._register(new xc),this.onWillShowDialog=this.model.onWillShowDialog,this.onDidShowDialog=this.model.onDidShowDialog}skipDialogs(){return!(!this.environmentService.isExtensionDevelopment||!this.environmentService.extensionTestsLocationURI)||!!this.environmentService.enableSmokeTestDriver}confirm(B){var G=this;return(0,es.Z)(function*(){return G.skipDialogs()?(G.logService.trace("DialogService: refused to show confirmation dialog in tests."),{confirmed:!0}):yield G.model.show({confirmArgs:{confirmation:B}}).result})()}show(B,G,Ve,Mt){var Tn=this;return(0,es.Z)(function*(){if(Tn.skipDialogs())throw new Error("DialogService: refused to show dialog in tests.");return yield Tn.model.show({showArgs:{severity:B,message:G,buttons:Ve,options:Mt}}).result})()}input(B,G,Ve,Mt,Tn){var kn=this;return(0,es.Z)(function*(){if(kn.skipDialogs())throw new Error("DialogService: refused to show input dialog in tests.");return yield kn.model.show({inputArgs:{severity:B,message:G,buttons:Ve,inputs:Mt,options:Tn}}).result})()}about(){var B=this;return(0,es.Z)(function*(){if(B.skipDialogs())throw new Error("DialogService: refused to show about dialog in tests.");yield B.model.show({}).result})()}};function Mc(je){je.createInstance(Rd)}function Pc(je){return ya(Mc),{[Za.S.toString()]:new ba.M(Ur),...fn(je)}}Ur=(0,Ni._)([(0,Ni.a)(0,Er.l),(0,Ni.a)(1,Td.VZ)],Ur),fa.IO.initialize({...function Ac(je){return{...Jd(je),...Pc(je)}}(document.body)}),function va(je,B,G){const Ve=self,Mt={basePath:B,workerPath:je,workerOptions:{type:G?"module":"classic"}};Ve.MonacoEnvironment||(Ve.MonacoEnvironment={workerOverrideGlobals:Mt}),Ve.MonacoEnvironment.getWorker=(kn,hi)=>{console.log("getWorker: workerId: "+kn+" label: "+hi);const yi=($i,Ao,Wo,Ps)=>{$i.workerOptions.name=Ao;const la=`${$i.workerPath}/${"module"===$i.workerOptions.type?`${Wo}-es.js`:`${Wo}-iife.js`}`,bs=new URL(la,$i.basePath);return console.log(`${Ps}: url: ${bs.href} created from basePath: ${$i.basePath} and file: ${la}`),new Worker(bs.href,$i.workerOptions)};switch(hi){case"typescript":case"javascript":return yi(Mt,hi,"tsWorker","TS Worker");case"html":case"handlebars":case"razor":return yi(Mt,hi,"htmlWorker","HTML Worker");case"css":case"scss":case"less":return yi(Mt,hi,"cssWorker","CSS Worker");case"json":return yi(Mt,hi,"jsonWorker","JSON Worker");default:return yi(Mt,hi,"editorWorker","Editor Worker")}}}("./assets/monaco-editor-workers/workers",document.baseURI,!1),Ti.languages.register({id:"dyvil",aliases:["Dyvil"],extensions:[".dyv"]}),Ti.languages.setMonarchTokensProvider("dyvil",{keywords:"class|var|init|func|true|false|this|super".split("|"),typeKeywords:["boolean","int","void","string"],operators:/[+\-*/%&|<>!:^=]+/,escapes:/\\./,tokenizer:{root:[[/[a-z][A-Za-z0-9_]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][A-Za-z0-9_]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@operators/,"operator"],[/[+-]?\d+\.\d+/,"number.float"],[/[+-]?\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}});const Rc=["container"];let Oc=(()=>{class je{constructor(){this.language="dyvil",this.codeChanged=new t.vpe}ngAfterViewInit(){var G=this;return(0,es.Z)(function*(){if(G.editor=Ti.editor.create(G.container.nativeElement,{value:G.code,language:G.language,theme:"vs-dark",glyphMargin:!0,lightbulb:{enabled:!0},automaticLayout:!0}),G.editor.onDidChangeModelContent(()=>{G.editor&&G.codeChanged.next(G.editor.getValue())}),"dyvil"===G.language){Dl.install(),G.worker=new Worker(e.tu(new URL(e.p+e.u(830),e.b)));const Mt=new Hl.BrowserMessageReader(G.worker),Tn=new Hl.BrowserMessageWriter(G.worker);G.lspClient=function Nc(je){return new ha({name:"Dyvil Language Client",clientOptions:{documentSelector:[{language:"dyvil"}],errorHandler:{error:()=>({action:ki._X.Continue}),closed:()=>({action:ki.UY.DoNotRestart})}},connectionProvider:{get:()=>Promise.resolve(je)}})}({reader:Mt,writer:Tn}),G.lspClient.start(),Mt.onClose(()=>G.lspClient?.stop())}})()}ngOnChanges(G){G.code&&this.editor?.setValue(G.code.currentValue)}ngOnDestroy(){var G=this;return(0,es.Z)(function*(){G.editor?.dispose(),yield G.lspClient?.stop(),G.worker?.terminate()})()}}return je.\u0275fac=function(G){return new(G||je)},je.\u0275cmp=t.Xpm({type:je,selectors:[["stc-editor"]],viewQuery:function(G,Ve){if(1&G&&t.Gf(Rc,7),2&G){let Mt;t.iGM(Mt=t.CRH())&&(Ve.container=Mt.first)}},inputs:{language:"language",code:"code"},outputs:{codeChanged:"codeChanged"},features:[t.TTD],decls:2,vars:0,consts:[[2,"height","100vh"],["container",""]],template:function(G,Ve){1&G&&t._UZ(0,"div",0,1)}}),je})();const kc=["editor"],Fc=[{path:"",component:(()=>{class je{constructor(G){this.http=G,this.code="",this.compiled="class Foo {}",this.compile$=new ta.x}ngOnInit(){this.http.get("assets/examples/Greeter.dyv",{responseType:"text"}).subscribe(Ve=>{this.code=Ve}),this.compile$.pipe(function ti(je,B=qn){return(0,ei.e)((G,Ve)=>{let Mt=null,Tn=null,kn=null;const hi=()=>{if(Mt){Mt.unsubscribe(),Mt=null;const $i=Tn;Tn=null,Ve.next($i)}};function yi(){const $i=kn+je,Ao=B.now();if(Ao<$i)return Mt=this.schedule(void 0,$i-Ao),void Ve.add(Mt);hi()}G.subscribe((0,lt.x)(Ve,$i=>{Tn=$i,kn=B.now(),Mt||(Mt=B.schedule(yi,je),Ve.add(Mt))},()=>{hi(),Ve.complete()},void 0,()=>{Tn=Mt=null}))})}(400)).subscribe(Ve=>{this.compile(Ve).then(Mt=>this.compiled=Mt)}),this.worker=new Worker(e.tu(new URL(e.p+e.u(771),e.b)))}compile(G){var Ve=this;return(0,es.Z)(function*(){return new Promise((Mt,Tn)=>{Ve.worker&&(Ve.worker.postMessage({compile:G}),Ve.worker.addEventListener("message",kn=>{const hi=kn.data.compiled;hi&&Mt(hi)}))})})()}}return je.\u0275fac=function(G){return new(G||je)(t.Y36(Z))},je.\u0275cmp=t.Xpm({type:je,selectors:[["stc-playground"]],viewQuery:function(G,Ve){if(1&G&&t.Gf(kc,7),2&G){let Mt;t.iGM(Mt=t.CRH())&&(Ve.editor=Mt.first)}},decls:4,vars:2,consts:[[2,"display","flex"],[2,"width","50%",3,"code","codeChanged"],["editor",""],["language","javascript",2,"width","50%",3,"code"]],template:function(G,Ve){1&G&&(t.TgZ(0,"div",0)(1,"stc-editor",1,2),t.NdJ("codeChanged",function(Tn){return Ve.compile$.next(Tn)}),t.qZA(),t._UZ(3,"stc-editor",3),t.qZA()),2&G&&(t.xp6(1),t.Q6J("code",Ve.code),t.xp6(2),t.Q6J("code",Ve.compiled))},dependencies:[Oc]}),je})()}];let Bc=(()=>{class je{}return je.\u0275fac=function(G){return new(G||je)},je.\u0275mod=t.oAB({type:je}),je.\u0275inj=t.cJS({imports:[pa.Bz.forChild(Fc),pa.Bz]}),je})(),Wc=(()=>{class je{}return je.\u0275fac=function(G){return new(G||je)},je.\u0275mod=t.oAB({type:je}),je.\u0275inj=t.cJS({imports:[s.ez,ms,Bc,Ot]}),je})()},80020:yt=>{"use strict";function T(t,l,C){t instanceof RegExp&&(t=e(t,C)),l instanceof RegExp&&(l=e(l,C));var f=s(t,l,C);return f&&{start:f[0],end:f[1],pre:C.slice(0,f[0]),body:C.slice(f[0]+t.length,f[1]),post:C.slice(f[1]+l.length)}}function e(t,l){var C=l.match(t);return C?C[0]:null}function s(t,l,C){var f,I,b,S,D,_=C.indexOf(t),r=C.indexOf(l,_+1),a=_;if(_>=0&&r>0){if(t===l)return[_,r];for(f=[],b=C.length;a>=0&&!D;)a==_?(f.push(a),_=C.indexOf(t,a+1)):1==f.length?D=[f.pop(),r]:((I=f.pop())<b&&(b=I,S=r),r=C.indexOf(l,a+1)),a=_<r&&_>=0?_:r;f.length&&(D=[b,S])}return D}yt.exports=T,T.range=s},7684:(yt,T,e)=>{var s=e(59858),t=e(80020);yt.exports=function a(m){return m?("{}"===m.substr(0,2)&&(m="\\{\\}"+m.substr(2)),v(function D(m){return m.split("\\\\").join(l).split("\\{").join(C).split("\\}").join(f).split("\\,").join(I).split("\\.").join(b)}(m),!0).map(_)):[]};var l="\0SLASH"+Math.random()+"\0",C="\0OPEN"+Math.random()+"\0",f="\0CLOSE"+Math.random()+"\0",I="\0COMMA"+Math.random()+"\0",b="\0PERIOD"+Math.random()+"\0";function S(m){return parseInt(m,10)==m?parseInt(m,10):m.charCodeAt(0)}function _(m){return m.split(l).join("\\").split(C).join("{").split(f).join("}").split(I).join(",").split(b).join(".")}function r(m){if(!m)return[""];var w=[],E=t("{","}",m);if(!E)return m.split(",");var x=E.body,A=E.post,k=E.pre.split(",");k[k.length-1]+="{"+x+"}";var W=r(A);return A.length&&(k[k.length-1]+=W.shift(),k.push.apply(k,W)),w.push.apply(w,k),w}function n(m){return"{"+m+"}"}function d(m){return/^-?0\d/.test(m)}function y(m,w){return m<=w}function g(m,w){return m>=w}function v(m,w){var E=[],L=t("{","}",m);if(!L||/\$$/.test(L.pre))return[m];var H,x=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(L.body),A=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(L.body),k=x||A,W=L.body.indexOf(",")>=0;if(!k&&!W)return L.post.match(/,.*\}/)?v(m=L.pre+"{"+L.body+f+L.post):[m];if(k)H=L.body.split(/\.\./);else if(1===(H=r(L.body)).length&&1===(H=v(H[0],!1).map(n)).length)return(N=L.post.length?v(L.post,!1):[""]).map(function(Ee){return L.pre+H[0]+Ee});var O,z=L.pre,N=L.post.length?v(L.post,!1):[""];if(k){var K=S(H[0]),$=S(H[1]),j=Math.max(H[0].length,H[1].length),q=3==H.length?Math.abs(S(H[2])):1,R=y;$<K&&(q*=-1,R=g);var J=H.some(d);O=[];for(var Ce=K;R(Ce,$);Ce+=q){var Se;if(A)"\\"===(Se=String.fromCharCode(Ce))&&(Se="");else if(Se=String(Ce),J){var Ie=j-Se.length;if(Ie>0){var xe=new Array(Ie+1).join("0");Se=Ce<0?"-"+xe+Se.slice(1):xe+Se}}O.push(Se)}}else O=s(H,function(ce){return v(ce,!1)});for(var Me=0;Me<O.length;Me++)for(var Oe=0;Oe<N.length;Oe++){var se=z+O[Me]+N[Oe];(!w||k||se)&&E.push(se)}return E}},59858:yt=>{yt.exports=function(e,s){for(var t=[],l=0;l<e.length;l++){var C=s(e[l],l);T(C)?t.push.apply(t,C):t.push(C)}return t};var T=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},5715:yt=>{"use strict";yt.exports=function(T){var e=[];return e.toString=function(){return this.map(function(t){var l="",C=typeof t[5]<"u";return t[4]&&(l+="@supports (".concat(t[4],") {")),t[2]&&(l+="@media ".concat(t[2]," {")),C&&(l+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),l+=T(t),C&&(l+="}"),t[2]&&(l+="}"),t[4]&&(l+="}"),l}).join("")},e.i=function(t,l,C,f,I){"string"==typeof t&&(t=[[null,t,void 0]]);var b={};if(C)for(var S=0;S<this.length;S++){var D=this[S][0];null!=D&&(b[D]=!0)}for(var _=0;_<t.length;_++){var r=[].concat(t[_]);C&&b[r[0]]||(typeof I<"u"&&(typeof r[5]>"u"||(r[1]="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {").concat(r[1],"}")),r[5]=I),l&&(r[2]&&(r[1]="@media ".concat(r[2]," {").concat(r[1],"}")),r[2]=l),f&&(r[4]?(r[1]="@supports (".concat(r[4],") {").concat(r[1],"}"),r[4]=f):r[4]="".concat(f)),e.push(r))}},e}},51090:yt=>{"use strict";yt.exports=function(T){return T[1]}},78746:(yt,T,e)=>{yt.exports=n,n.Minimatch=d;var s=function(){try{return e(85024)}catch{}}()||{sep:"/"};n.sep=s.sep;var t=n.GLOBSTAR=d.GLOBSTAR={},l=e(7684),C={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},f="[^/]",I=f+"*?",D=function _(W){return W.split("").reduce(function(H,z){return H[z]=!0,H},{})}("().*{}+?[]^$\\!"),r=/\/+/;function u(W,H){H=H||{};var z={};return Object.keys(W).forEach(function(N){z[N]=W[N]}),Object.keys(H).forEach(function(N){z[N]=H[N]}),z}function n(W,H,z){return w(H),z||(z={}),!(!z.nocomment&&"#"===H.charAt(0))&&new d(H,z).match(W)}function d(W,H){if(!(this instanceof d))return new d(W,H);w(W),H||(H={}),W=W.trim(),!H.allowWindowsEscape&&"/"!==s.sep&&(W=W.split(s.sep).join("/")),this.options=H,this.set=[],this.pattern=W,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!H.partial,this.make()}function v(W,H){return H||(H=this instanceof d?this.options:{}),w(W=typeof W>"u"?this.pattern:W),H.nobrace||!/\{(?:(?!\{).)*\}/.test(W)?[W]:l(W)}n.filter=function a(W,H){return H=H||{},function(z,N,O){return n(z,W,H)}},n.defaults=function(W){if(!W||"object"!=typeof W||!Object.keys(W).length)return n;var H=n,z=function(O,K,$){return H(O,K,u(W,$))};return(z.Minimatch=function(O,K){return new H.Minimatch(O,u(W,K))}).defaults=function(O){return H.defaults(u(W,O)).Minimatch},z.filter=function(O,K){return H.filter(O,u(W,K))},z.defaults=function(O){return H.defaults(u(W,O))},z.makeRe=function(O,K){return H.makeRe(O,u(W,K))},z.braceExpand=function(O,K){return H.braceExpand(O,u(W,K))},z.match=function(N,O,K){return H.match(N,O,u(W,K))},z},d.defaults=function(W){return n.defaults(W).Minimatch},d.prototype.debug=function(){},d.prototype.make=function y(){var W=this.pattern,H=this.options;if(H.nocomment||"#"!==W.charAt(0))if(W){this.parseNegate();var z=this.globSet=this.braceExpand();H.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,z),z=this.globParts=z.map(function(N){return N.split(r)}),this.debug(this.pattern,z),z=z.map(function(N,O,K){return N.map(this.parse,this)},this),this.debug(this.pattern,z),z=z.filter(function(N){return-1===N.indexOf(!1)}),this.debug(this.pattern,z),this.set=z}else this.empty=!0;else this.comment=!0},d.prototype.parseNegate=function g(){var W=this.pattern,H=!1,N=0;if(!this.options.nonegate){for(var O=0,K=W.length;O<K&&"!"===W.charAt(O);O++)H=!H,N++;N&&(this.pattern=W.substr(N)),this.negate=H}},n.braceExpand=function(W,H){return v(W,H)},d.prototype.braceExpand=v;var w=function(W){if("string"!=typeof W)throw new TypeError("invalid pattern");if(W.length>65536)throw new TypeError("pattern is too long")};d.prototype.parse=function L(W,H){w(W);var z=this.options;if("**"===W){if(!z.noglobstar)return t;W="*"}if(""===W)return"";var q,N="",O=!!z.nocase,K=!1,$=[],j=[],R=!1,Z=-1,J=-1,Ce="."===W.charAt(0)?"":z.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",Se=this;function Ie(){if(q){switch(q){case"*":N+=I,O=!0;break;case"?":N+=f,O=!0;break;default:N+="\\"+q}Se.debug("clearStateChar %j %j",q,N),q=!1}}for(var Oe,xe=0,Me=W.length;xe<Me&&(Oe=W.charAt(xe));xe++)if(this.debug("%s\t%s %s %j",W,xe,N,Oe),K&&D[Oe])N+="\\"+Oe,K=!1;else switch(Oe){case"/":return!1;case"\\":Ie(),K=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",W,xe,N,Oe),R){this.debug("  in class"),"!"===Oe&&xe===J+1&&(Oe="^"),N+=Oe;continue}Se.debug("call clearStateChar %j",q),Ie(),q=Oe,z.noext&&Ie();continue;case"(":if(R){N+="(";continue}if(!q){N+="\\(";continue}$.push({type:q,start:xe-1,reStart:N.length,open:C[q].open,close:C[q].close}),this.debug("plType %j %j",q,N+="!"===q?"(?:(?!(?:":"(?:"),q=!1;continue;case")":if(R||!$.length){N+="\\)";continue}Ie(),O=!0;var se=$.pop();N+=se.close,"!"===se.type&&j.push(se),se.reEnd=N.length;continue;case"|":if(R||!$.length||K){N+="\\|",K=!1;continue}Ie(),N+="|";continue;case"[":if(Ie(),R){N+="\\"+Oe;continue}R=!0,J=xe,Z=N.length,N+=Oe;continue;case"]":if(xe===J+1||!R){N+="\\"+Oe,K=!1;continue}var ce=W.substring(J+1,xe);try{RegExp("["+ce+"]")}catch{var Ee=this.parse(ce,E);N=N.substr(0,Z)+"\\["+Ee[0]+"\\]",O=O||Ee[1],R=!1;continue}O=!0,R=!1,N+=Oe;continue;default:Ie(),K?K=!1:D[Oe]&&!("^"===Oe&&R)&&(N+="\\"),N+=Oe}for(R&&(ce=W.substr(J+1),Ee=this.parse(ce,E),N=N.substr(0,Z)+"\\["+Ee[0],O=O||Ee[1]),se=$.pop();se;se=$.pop()){var me=N.slice(se.reStart+se.open.length);this.debug("setting tail",N,se),me=me.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(de,Q,ye){return ye||(ye="\\"),Q+Q+ye+"|"}),this.debug("tail=%j\n   %s",me,me,se,N);var Pe="*"===se.type?I:"?"===se.type?f:"\\"+se.type;O=!0,N=N.slice(0,se.reStart)+Pe+"\\("+me}Ie(),K&&(N+="\\\\");var he=!1;switch(N.charAt(0)){case"[":case".":case"(":he=!0}for(var Fe=j.length-1;Fe>-1;Fe--){var Ze=j[Fe],ze=N.slice(0,Ze.reStart),fe=N.slice(Ze.reStart,Ze.reEnd-8),Ke=N.slice(Ze.reEnd-8,Ze.reEnd),Je=N.slice(Ze.reEnd);Ke+=Je;var vt=ze.split("(").length-1,Et=Je;for(xe=0;xe<vt;xe++)Et=Et.replace(/\)[+*?]?/,"");var Xe="";""===(Je=Et)&&H!==E&&(Xe="$"),N=ze+fe+Je+Xe+Ke}if(""!==N&&O&&(N="(?=.)"+N),he&&(N=Ce+N),H===E)return[N,O];if(!O)return function A(W){return W.replace(/\\(.)/g,"$1")}(W);var pe=z.nocase?"i":"";try{var ge=new RegExp("^"+N+"$",pe)}catch{return new RegExp("$.")}return ge._glob=W,ge._src=N,ge};var E={};n.makeRe=function(W,H){return new d(W,H||{}).makeRe()},d.prototype.makeRe=function x(){if(this.regexp||!1===this.regexp)return this.regexp;var W=this.set;if(!W.length)return this.regexp=!1,this.regexp;var H=this.options,z=H.noglobstar?I:H.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",N=H.nocase?"i":"",O=W.map(function(K){return K.map(function($){return $===t?z:"string"==typeof $?function k(W){return W.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}($):$._src}).join("\\/")}).join("|");O="^(?:"+O+")$",this.negate&&(O="^(?!"+O+").*$");try{this.regexp=new RegExp(O,N)}catch{this.regexp=!1}return this.regexp},n.match=function(W,H,z){var N=new d(H,z=z||{});return W=W.filter(function(O){return N.match(O)}),N.options.nonull&&!W.length&&W.push(H),W},d.prototype.match=function(H,z){if(typeof z>"u"&&(z=this.partial),this.debug("match",H,this.pattern),this.comment)return!1;if(this.empty)return""===H;if("/"===H&&z)return!0;var N=this.options;"/"!==s.sep&&(H=H.split(s.sep).join("/")),H=H.split(r),this.debug(this.pattern,"split",H);var K,$,O=this.set;for(this.debug(this.pattern,"set",O),$=H.length-1;$>=0&&!(K=H[$]);$--);for($=0;$<O.length;$++){var j=O[$],q=H;if(N.matchBase&&1===j.length&&(q=[K]),this.matchOne(q,j,z))return!!N.flipNegate||!this.negate}return!N.flipNegate&&this.negate},d.prototype.matchOne=function(W,H,z){var N=this.options;this.debug("matchOne",{this:this,file:W,pattern:H}),this.debug("matchOne",W.length,H.length);for(var O=0,K=0,$=W.length,j=H.length;O<$&&K<j;O++,K++){this.debug("matchOne loop");var Se,q=H[K],R=W[O];if(this.debug(H,q,R),!1===q)return!1;if(q===t){this.debug("GLOBSTAR",[H,q,R]);var Z=O,J=K+1;if(J===j){for(this.debug("** at the end");O<$;O++)if("."===W[O]||".."===W[O]||!N.dot&&"."===W[O].charAt(0))return!1;return!0}for(;Z<$;){var Ce=W[Z];if(this.debug("\nglobstar while",W,Z,H,J,Ce),this.matchOne(W.slice(Z),H.slice(J),z))return this.debug("globstar found match!",Z,$,Ce),!0;if("."===Ce||".."===Ce||!N.dot&&"."===Ce.charAt(0)){this.debug("dot detected!",W,Z,H,J);break}this.debug("globstar swallow a segment, and continue"),Z++}return!(!z||(this.debug("\n>>> no match, partial?",W,Z,H,J),Z!==$))}if("string"==typeof q?this.debug("string match",q,R,Se=R===q):(Se=R.match(q),this.debug("pattern match",q,R,Se)),!Se)return!1}if(O===$&&K===j)return!0;if(O===$)return z;if(K===j)return O===$-1&&""===W[O];throw new Error("wtf?")}},79388:(yt,T,e)=>{var s;self.MonacoEnvironment=(s={editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js"},{globalAPI:!1,getWorkerUrl:function(l,C){var I=function t(l){return l.replace(/\/$/,"")}("/")+"/"+s[C];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(I)){var b=String(window.location),S=b.substr(0,b.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(I.substring(0,S.length)!==S){/^(\/\/)/.test(I)&&(I=window.location.protocol+I);var _=new Blob(["/*"+C+'*/importScripts("'+I+'");'],{type:"application/javascript"});return URL.createObjectURL(_)}}return I}}),e(76051),e(2806),e(29523),e(75090),e(44461),e(82721),e(55324),e(17691),e(74217),e(43595),e(36642),e(81373),e(53341),e(36944),e(26889),e(4129),e(66647),e(92410),e(2756),e(40777),e(70527),e(86246),e(34340),e(21615),e(81065),e(83303),e(75386),e(34918),e(79681),e(46865),e(25727),e(46255),e(10820),e(68253),e(7486),e(86415),e(44699),e(26968),e(51977),e(16177),e(23929),e(95530),e(74458),e(87485),e(28374),e(72354),e(14303),e(94363),e(99278),e(467),e(18367),e(18183),e(62659),e(14536),e(70741),e(97813),e(39744),e(87883),yt.exports=e(93426),e(26650),e(35029),e(70007)},52253:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{PixelRatio:()=>S,addMatchMediaChangeListener:()=>b,getZoomFactor:()=>D,isAndroid:()=>g,isChrome:()=>u,isElectron:()=>y,isFirefox:()=>r,isSafari:()=>n,isStandalone:()=>m,isWebKit:()=>a,isWebkitWebView:()=>d});var s=e(31864),t=e(21576);class l{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}l.INSTANCE=new l;class C extends t.JT{constructor(){super(),this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(E){var L;null===(L=this._mediaQueryList)||void 0===L||L.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),E&&this._onDidChange.fire()}}class f extends t.JT{constructor(){super(),this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const E=this._register(new C);this._register(E.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const E=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(E.webkitBackingStorePixelRatio||E.mozBackingStorePixelRatio||E.msBackingStorePixelRatio||E.oBackingStorePixelRatio||E.backingStorePixelRatio||1)}}function b(w,E){"string"==typeof w&&(w=window.matchMedia(w)),w.addEventListener("change",E)}const S=new class I{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,t.dk)(new f)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function D(){return l.INSTANCE.getZoomFactor()}const _=navigator.userAgent,r=_.indexOf("Firefox")>=0,a=_.indexOf("AppleWebKit")>=0,u=_.indexOf("Chrome")>=0,n=!u&&_.indexOf("Safari")>=0,d=!u&&!n&&a,y=_.indexOf("Electron/")>=0,g=_.indexOf("Android")>=0;let v=!1;if(window.matchMedia){const w=window.matchMedia("(display-mode: standalone)");v=w.matches,b(w,({matches:E})=>{v=E})}function m(){return v}},20570:(yt,T,e)=>{"use strict";e.d(T,{D:()=>l});var s=e(52253),t=e(84834);const l={clipboard:{writeText:t.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:t.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:t.tY||s.isStandalone()?0:navigator.keyboard||s.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},87559:(yt,T,e)=>{"use strict";e.d(T,{P:()=>l,g:()=>t});const t={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:e(98225).v.text},l={CurrentDragAndDropData:void 0}},94418:(yt,T,e)=>{"use strict";e.d(T,{$:()=>dt,$Z:()=>it,Ay:()=>Ee,Ce:()=>de,Cp:()=>et,D6:()=>N,DI:()=>Z,Dx:()=>z,FK:()=>Ce,Fx:()=>Me,GQ:()=>v,H$:()=>st,I8:()=>R,IC:()=>L,If:()=>Se,OO:()=>ce,PO:()=>r,R3:()=>ge,Re:()=>Ke,Ro:()=>K,Uh:()=>St,Uw:()=>a,V3:()=>mt,_0:()=>Xe,_F:()=>Ye,_h:()=>Lt,_q:()=>Tt,dS:()=>Pe,dp:()=>j,eg:()=>qt,fk:()=>ze,go:()=>pe,i:()=>q,jL:()=>W,jg:()=>xe,jt:()=>bt,lI:()=>k,mc:()=>Q,mu:()=>g,nm:()=>n,tw:()=>Je,uN:()=>fe,uU:()=>Oe,vL:()=>Et,vY:()=>me,w:()=>J,wY:()=>Bt,wn:()=>Ie,xQ:()=>$,zB:()=>vt});var s=e(52253),t=e(20570),l=e(47888),C=e(46073),f=e(3219),I=e(31864),b=e(26995),S=e(21576),D=e(34059),_=e(84834);function r(Le){for(;Le.firstChild;)Le.firstChild.remove()}function a(Le){var ie;return null!==(ie=Le?.isConnected)&&void 0!==ie&&ie}class u{constructor(ie,te,oe,we){this._node=ie,this._type=te,this._handler=oe,this._options=we||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function n(Le,ie,te,oe){return new u(Le,ie,te,oe)}function d(Le){return function(ie){return Le(new C.n(ie))}}const g=function(ie,te,oe,we){let nt=oe;return"click"===te||"mousedown"===te?nt=d(oe):("keydown"===te||"keypress"===te||"keyup"===te)&&(nt=function y(Le){return function(ie){return Le(new l.y(ie))}}(oe)),n(ie,te,nt,we)},v=function(ie,te,oe){return function w(Le,ie,te){return n(Le,_.gn&&t.D.pointerEvents?Je.POINTER_DOWN:Je.MOUSE_DOWN,ie,te)}(ie,d(te),oe)};function L(Le,ie,te){let oe=null;const we=pt=>De.fire(pt),De=new I.Q5({onFirstListenerAdd:()=>{oe||(oe=new u(Le,ie,we,te))},onLastListenerRemove:()=>{oe&&(oe.dispose(),oe=null)}});return De}let k,W,x=null;class H{constructor(ie,te=0){this._runner=ie,this.priority=te,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ie){(0,f.dL)(ie)}}static sort(ie,te){return te.priority-ie.priority}}function z(Le){return document.defaultView.getComputedStyle(Le,null)}function N(Le){if(Le!==document.body)return new K(Le.clientWidth,Le.clientHeight);if(_.gn&&window.visualViewport)return new K(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new K(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new K(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new K(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}!function(){let Le=[],ie=null,te=!1,oe=!1;const we=()=>{for(te=!1,ie=Le,Le=[],oe=!0;ie.length>0;)ie.sort(H.sort),ie.shift().execute();oe=!1};W=(nt,He=0)=>{const De=new H(nt,He);return Le.push(De),te||(te=!0,function A(Le){x||(x=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||(te=>setTimeout(()=>te((new Date).getTime()),0))),x.call(self,Le)}(we)),De},k=(nt,He)=>{if(oe){const De=new H(nt,He);return ie.push(De),De}return W(nt,He)}}();class O{static convertToPixels(ie,te){return parseFloat(te)||0}static getDimension(ie,te,oe){const we=z(ie);let nt="0";return we&&(nt=we.getPropertyValue?we.getPropertyValue(te):we.getAttribute(oe)),O.convertToPixels(ie,nt)}static getBorderLeftWidth(ie){return O.getDimension(ie,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ie){return O.getDimension(ie,"border-right-width","borderRightWidth")}static getBorderTopWidth(ie){return O.getDimension(ie,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ie){return O.getDimension(ie,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ie){return O.getDimension(ie,"padding-left","paddingLeft")}static getPaddingRight(ie){return O.getDimension(ie,"padding-right","paddingRight")}static getPaddingTop(ie){return O.getDimension(ie,"padding-top","paddingTop")}static getPaddingBottom(ie){return O.getDimension(ie,"padding-bottom","paddingBottom")}static getMarginLeft(ie){return O.getDimension(ie,"margin-left","marginLeft")}static getMarginTop(ie){return O.getDimension(ie,"margin-top","marginTop")}static getMarginRight(ie){return O.getDimension(ie,"margin-right","marginRight")}static getMarginBottom(ie){return O.getDimension(ie,"margin-bottom","marginBottom")}}class K{constructor(ie,te){this.width=ie,this.height=te}with(ie=this.width,te=this.height){return ie!==this.width||te!==this.height?new K(ie,te):this}static is(ie){return"object"==typeof ie&&"number"==typeof ie.height&&"number"==typeof ie.width}static lift(ie){return ie instanceof K?ie:new K(ie.width,ie.height)}static equals(ie,te){return ie===te||!(!ie||!te)&&ie.width===te.width&&ie.height===te.height}}function $(Le){let ie=Le.offsetParent,te=Le.offsetTop,oe=Le.offsetLeft;for(;null!==(Le=Le.parentNode)&&Le!==document.body&&Le!==document.documentElement;){te-=Le.scrollTop;const we=se(Le)?null:z(Le);we&&(oe-="rtl"!==we.direction?Le.scrollLeft:-Le.scrollLeft),Le===ie&&(oe+=O.getBorderLeftWidth(Le),te+=O.getBorderTopWidth(Le),te+=Le.offsetTop,oe+=Le.offsetLeft,ie=Le.offsetParent)}return{left:oe,top:te}}function j(Le,ie,te){"number"==typeof ie&&(Le.style.width=`${ie}px`),"number"==typeof te&&(Le.style.height=`${te}px`)}function q(Le){const ie=Le.getBoundingClientRect();return{left:ie.left+Z.scrollX,top:ie.top+Z.scrollY,width:ie.width,height:ie.height}}function R(Le){let ie=Le,te=1;do{const oe=z(ie).zoom;null!=oe&&"1"!==oe&&(te*=oe),ie=ie.parentElement}while(null!==ie&&ie!==document.documentElement);return te}K.None=new K(0,0);const Z=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function J(Le){const ie=O.getMarginLeft(Le)+O.getMarginRight(Le);return Le.offsetWidth+ie}function Ce(Le){const ie=O.getBorderLeftWidth(Le)+O.getBorderRightWidth(Le),te=O.getPaddingLeft(Le)+O.getPaddingRight(Le);return Le.offsetWidth-ie-te}function Se(Le){const ie=O.getBorderTopWidth(Le)+O.getBorderBottomWidth(Le),te=O.getPaddingTop(Le)+O.getPaddingBottom(Le);return Le.offsetHeight-ie-te}function Ie(Le){const ie=O.getMarginTop(Le)+O.getMarginBottom(Le);return Le.offsetHeight+ie}function xe(Le,ie){for(;Le;){if(Le===ie)return!0;Le=Le.parentNode}return!1}function Me(Le,ie,te){for(;Le&&Le.nodeType===Le.ELEMENT_NODE;){if(Le.classList.contains(ie))return Le;if(te)if("string"==typeof te){if(Le.classList.contains(te))return null}else if(Le===te)return null;Le=Le.parentNode}return null}function Oe(Le,ie,te){return!!Me(Le,ie,te)}function se(Le){return Le&&!!Le.host&&!!Le.mode}function ce(Le){return!!Ee(Le)}function Ee(Le){for(;Le.parentNode;){if(Le===document.body)return null;Le=Le.parentNode}return se(Le)?Le:null}function me(){let Le=document.activeElement;for(;Le?.shadowRoot;)Le=Le.shadowRoot.activeElement;return Le}function Pe(Le=document.getElementsByTagName("head")[0]){const ie=document.createElement("style");return ie.type="text/css",ie.media="screen",Le.appendChild(ie),ie}let he=null;function Fe(){return he||(he=Pe()),he}function ze(Le,ie,te=Fe()){!te||!ie||te.sheet.insertRule(Le+"{"+ie+"}",0)}function fe(Le,ie=Fe()){if(!ie)return;const te=function Ze(Le){var ie,te;return null!==(ie=Le?.sheet)&&void 0!==ie&&ie.rules?Le.sheet.rules:null!==(te=Le?.sheet)&&void 0!==te&&te.cssRules?Le.sheet.cssRules:[]}(ie),oe=[];for(let we=0;we<te.length;we++)-1!==te[we].selectorText.indexOf(Le)&&oe.push(we);for(let we=oe.length-1;we>=0;we--)ie.sheet.deleteRule(oe[we])}function Ke(Le){return"object"==typeof HTMLElement?Le instanceof HTMLElement:Le&&"object"==typeof Le&&1===Le.nodeType&&"string"==typeof Le.nodeName}const Je={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:s.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:s.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:s.isWebKit?"webkitAnimationIteration":"animationiteration"},vt={stop:function(Le,ie){Le.preventDefault?Le.preventDefault():Le.returnValue=!1,ie&&(Le.stopPropagation?Le.stopPropagation():Le.cancelBubble=!0)}};function Et(Le){const ie=[];for(let te=0;Le&&Le.nodeType===Le.ELEMENT_NODE;te++)ie[te]=Le.scrollTop,Le=Le.parentNode;return ie}function Xe(Le,ie){for(let te=0;Le&&Le.nodeType===Le.ELEMENT_NODE;te++)Le.scrollTop!==ie[te]&&(Le.scrollTop=ie[te]),Le=Le.parentNode}class re extends S.JT{constructor(ie){super(),this._onDidFocus=this._register(new I.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new I.Q5),this.onDidBlur=this._onDidBlur.event;let te=re.hasFocusWithin(ie),oe=!1;const we=()=>{oe=!1,te||(te=!0,this._onDidFocus.fire())},nt=()=>{te&&(oe=!0,window.setTimeout(()=>{oe&&(oe=!1,te=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{re.hasFocusWithin(ie)!==te&&(te?nt():we())},this._register(n(ie,Je.FOCUS,we,!0)),this._register(n(ie,Je.BLUR,nt,!0)),this._register(n(ie,Je.FOCUS_IN,()=>this._refreshStateHandler())),this._register(n(ie,Je.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(ie){const te=Ee(ie);return xe(te?te.activeElement:document.activeElement,ie)}}function pe(Le){return new re(Le)}function ge(Le,...ie){if(Le.append(...ie),1===ie.length&&"string"!=typeof ie[0])return ie[0]}function de(Le,ie){return Le.insertBefore(ie,Le.firstChild),ie}function Q(Le,...ie){Le.innerText="",ge(Le,...ie)}const ye=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Ae=(()=>((Ae=Ae||{}).HTML="http://www.w3.org/1999/xhtml",Ae.SVG="http://www.w3.org/2000/svg",Ae))();function ft(Le,ie,te,...oe){const we=ye.exec(ie);if(!we)throw new Error("Bad use of emmet");te=Object.assign({},te||{});const nt=we[1]||"div";let He;return He=Le!==Ae.HTML?document.createElementNS(Le,nt):document.createElement(nt),we[3]&&(He.id=we[3]),we[4]&&(He.className=we[4].replace(/\./g," ").trim()),Object.keys(te).forEach(De=>{const pt=te[De];typeof pt>"u"||(/^on\w+$/.test(De)?He[De]=pt:"selected"===De?pt&&He.setAttribute(De,"true"):He.setAttribute(De,pt))}),He.append(...oe),He}function dt(Le,ie,...te){return ft(Ae.HTML,Le,ie,...te)}function it(...Le){for(const ie of Le)ie.style.display="",ie.removeAttribute("aria-hidden")}function et(...Le){for(const ie of Le)ie.style.display="none",ie.setAttribute("aria-hidden","true")}function st(Le){return Array.prototype.slice.call(document.getElementsByTagName(Le),0)}function St(Le){const ie=window.devicePixelRatio*Le;return Math.max(1,Math.floor(ie))/window.devicePixelRatio}function mt(Le){window.open(Le,"_blank","noopener")}function bt(Le){const ie=()=>{Le(),te=W(ie)};let te=W(ie);return(0,S.OF)(()=>te.dispose())}function Bt(Le){return Le?`url('${D.Gi.asBrowserUri(Le).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Lt(Le){return`'${Le.replace(/'/g,"%27")}'`}function Ye(Le,ie=!1){const te=document.createElement("a");return b.v5("afterSanitizeAttributes",oe=>{for(const we of["href","src"])if(oe.hasAttribute(we)){const nt=oe.getAttribute(we);if("href"===we&&nt.startsWith("#"))continue;if(te.href=nt,!Le.includes(te.protocol.replace(/:$/,""))){if(ie&&"src"===we&&te.href.startsWith("data:"))continue;oe.removeAttribute(we)}}}),(0,S.OF)(()=>{b.ok("afterSanitizeAttributes")})}dt.SVG=function(Le,ie,...te){return ft(Ae.SVG,Le,ie,...te)},D.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class Tt extends I.Q5{constructor(){super(),this._subscriptions=new S.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(n(window,"keydown",ie=>{if(ie.defaultPrevented)return;const te=new l.y(ie);if(6!==te.keyCode||!ie.repeat){if(ie.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ie.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ie.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ie.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===te.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=ie.altKey,this._keyStatus.ctrlKey=ie.ctrlKey,this._keyStatus.metaKey=ie.metaKey,this._keyStatus.shiftKey=ie.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ie,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(n(window,"keyup",ie=>{ie.defaultPrevented||(this._keyStatus.lastKeyReleased=!ie.altKey&&this._keyStatus.altKey?"alt":!ie.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!ie.metaKey&&this._keyStatus.metaKey?"meta":!ie.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ie.altKey,this._keyStatus.ctrlKey=ie.ctrlKey,this._keyStatus.metaKey=ie.metaKey,this._keyStatus.shiftKey=ie.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ie,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(n(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mousemove",ie=>{ie.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(n(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Tt.instance||(Tt.instance=new Tt),Tt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class qt extends S.JT{constructor(ie,te){super(),this.element=ie,this.callbacks=te,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(n(this.element,Je.DRAG_ENTER,ie=>{this.counter++,this.dragStartTime=ie.timeStamp,this.callbacks.onDragEnter(ie)})),this._register(n(this.element,Je.DRAG_OVER,ie=>{var te,oe;ie.preventDefault(),null===(oe=(te=this.callbacks).onDragOver)||void 0===oe||oe.call(te,ie,ie.timeStamp-this.dragStartTime)})),this._register(n(this.element,Je.DRAG_LEAVE,ie=>{this.counter--,0===this.counter&&(this.dragStartTime=0,this.callbacks.onDragLeave(ie))})),this._register(n(this.element,Je.DRAG_END,ie=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(ie)})),this._register(n(this.element,Je.DROP,ie=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(ie)}))}}},26995:(yt,T,e)=>{"use strict";e.d(T,{Nw:()=>Je,ok:()=>pe,v5:()=>re});var t=Object.hasOwnProperty,l=Object.setPrototypeOf,C=Object.isFrozen,f=Object.getPrototypeOf,I=Object.getOwnPropertyDescriptor,b=Object.freeze,S=Object.seal,D=Object.create,_=typeof Reflect<"u"&&Reflect,r=_.apply,a=_.construct;r||(r=function(ye,Ae,ft){return ye.apply(Ae,ft)}),b||(b=function(ye){return ye}),S||(S=function(ye){return ye}),a||(a=function(ye,Ae){return new(Function.prototype.bind.apply(ye,[null].concat(function s(Q){if(Array.isArray(Q)){for(var ye=0,Ae=Array(Q.length);ye<Q.length;ye++)Ae[ye]=Q[ye];return Ae}return Array.from(Q)}(Ae))))});var u=x(Array.prototype.forEach),n=x(Array.prototype.pop),d=x(Array.prototype.push),y=x(String.prototype.toLowerCase),g=x(String.prototype.match),v=x(String.prototype.replace),m=x(String.prototype.indexOf),w=x(String.prototype.trim),E=x(RegExp.prototype.test),L=function A(Q){return function(){for(var ye=arguments.length,Ae=Array(ye),ft=0;ft<ye;ft++)Ae[ft]=arguments[ft];return a(Q,Ae)}}(TypeError);function x(Q){return function(ye){for(var Ae=arguments.length,ft=Array(Ae>1?Ae-1:0),dt=1;dt<Ae;dt++)ft[dt-1]=arguments[dt];return r(Q,ye,ft)}}function k(Q,ye){l&&l(Q,null);for(var Ae=ye.length;Ae--;){var ft=ye[Ae];if("string"==typeof ft){var dt=y(ft);dt!==ft&&(C(ye)||(ye[Ae]=dt),ft=dt)}Q[ft]=!0}return Q}function W(Q){var ye=D(null),Ae=void 0;for(Ae in Q)r(t,Q,[Ae])&&(ye[Ae]=Q[Ae]);return ye}function H(Q,ye){for(;null!==Q;){var Ae=I(Q,ye);if(Ae){if(Ae.get)return x(Ae.get);if("function"==typeof Ae.value)return x(Ae.value)}Q=f(Q)}return function ft(dt){return console.warn("fallback value for",dt),null}}var z=b(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=b(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=b(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),K=b(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=b(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=b(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=b(["#text"]),R=b(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Z=b(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),J=b(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ce=b(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Se=S(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Ie=S(/<%[\s\S]*|[\s\S]*%>/gm),xe=S(/^data-[\-\w.\u00B7-\uFFFF]/),Me=S(/^aria-[\-\w]+$/),Oe=S(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),se=S(/^(?:\w+script|data):/i),ce=S(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};function me(Q){if(Array.isArray(Q)){for(var ye=0,Ae=Array(Q.length);ye<Q.length;ye++)Ae[ye]=Q[ye];return Ae}return Array.from(Q)}var Ze=function Fe(){var Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window,ye=function(_t){return Fe(_t)};if(ye.version="2.3.1",ye.removed=[],!Q||!Q.document||9!==Q.document.nodeType)return ye.isSupported=!1,ye;var Ae=Q.document,ft=Q.document,dt=Q.DocumentFragment,it=Q.HTMLTemplateElement,et=Q.Node,st=Q.Element,St=Q.NodeFilter,mt=Q.NamedNodeMap,bt=void 0===mt?Q.NamedNodeMap||Q.MozNamedAttrMap:mt,Bt=Q.Text,Lt=Q.Comment,Ye=Q.DOMParser,Tt=Q.trustedTypes,qt=st.prototype,Ot=H(qt,"cloneNode"),Ft=H(qt,"nextSibling"),rt=H(qt,"childNodes"),Le=H(qt,"parentNode");if("function"==typeof it){var ie=ft.createElement("template");ie.content&&ie.content.ownerDocument&&(ft=ie.content.ownerDocument)}var te=function(ye,Ae){if("object"!==(typeof ye>"u"?"undefined":Ee(ye))||"function"!=typeof ye.createPolicy)return null;var ft=null,dt="data-tt-policy-suffix";Ae.currentScript&&Ae.currentScript.hasAttribute(dt)&&(ft=Ae.currentScript.getAttribute(dt));var it="dompurify"+(ft?"#"+ft:"");try{return ye.createPolicy(it,{createHTML:function(st){return st}})}catch{return console.warn("TrustedTypes policy "+it+" could not be created."),null}}(Tt,Ae),oe=te&&Hn?te.createHTML(""):"",nt=ft.implementation,He=ft.createNodeIterator,De=ft.createDocumentFragment,pt=ft.getElementsByTagName,lt=Ae.importNode,Ht={};try{Ht=W(ft).documentMode?ft.documentMode:{}}catch{}var Xt={};ye.isSupported="function"==typeof Le&&nt&&typeof nt.createHTMLDocument<"u"&&9!==Ht;var ut=Se,an=Ie,Kn=xe,Gn=Me,li=se,fi=ce,ri=Oe,_i=null,Xi=k({},[].concat(me(z),me(N),me(O),me($),me(q))),Zi=null,vo=k({},[].concat(me(R),me(Z),me(J),me(Ce))),oo=null,yo=null,Lo=!0,oi=!0,en=!1,wt=!1,Dt=!1,$t=!1,tn=!1,cn=!1,Cn=!1,Pn=!0,Hn=!1,zn=!0,bi=!0,Ei=!1,ao={},Oi=null,Qi=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Wi=null,xo=k({},["audio","video","img","source","image","track"]),ro=null,Co=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mo="http://www.w3.org/1998/Math/MathML",Oo="http://www.w3.org/2000/svg",ko="http://www.w3.org/1999/xhtml",so=ko,Do=!1,Ho=null,ni=ft.createElement("form"),Zt=function(_t){Ho&&Ho===_t||((!_t||"object"!==(typeof _t>"u"?"undefined":Ee(_t)))&&(_t={}),_t=W(_t),_i="ALLOWED_TAGS"in _t?k({},_t.ALLOWED_TAGS):Xi,Zi="ALLOWED_ATTR"in _t?k({},_t.ALLOWED_ATTR):vo,ro="ADD_URI_SAFE_ATTR"in _t?k(W(Co),_t.ADD_URI_SAFE_ATTR):Co,Wi="ADD_DATA_URI_TAGS"in _t?k(W(xo),_t.ADD_DATA_URI_TAGS):xo,Oi="FORBID_CONTENTS"in _t?k({},_t.FORBID_CONTENTS):Qi,oo="FORBID_TAGS"in _t?k({},_t.FORBID_TAGS):{},yo="FORBID_ATTR"in _t?k({},_t.FORBID_ATTR):{},Lo=!1!==_t.ALLOW_ARIA_ATTR,oi=!1!==_t.ALLOW_DATA_ATTR,en=_t.ALLOW_UNKNOWN_PROTOCOLS||!1,Dt=_t.WHOLE_DOCUMENT||!1,cn=_t.RETURN_DOM||!1,Pn=!1!==_t.RETURN_DOM_IMPORT,Hn=_t.RETURN_TRUSTED_TYPE||!1,tn=_t.FORCE_BODY||!1,zn=!1!==_t.SANITIZE_DOM,bi=!1!==_t.KEEP_CONTENT,Ei=_t.IN_PLACE||!1,ri=_t.ALLOWED_URI_REGEXP||ri,so=_t.NAMESPACE||ko,(wt=_t.SAFE_FOR_TEMPLATES||!1)&&(oi=!1),(Cn=_t.RETURN_DOM_FRAGMENT||!1)&&(cn=!0),(ao="USE_PROFILES"in _t&&_t.USE_PROFILES)&&(_i=k({},[].concat(me(q))),Zi=[],!0===ao.html&&(k(_i,z),k(Zi,R)),!0===ao.svg&&(k(_i,N),k(Zi,Z),k(Zi,Ce)),!0===ao.svgFilters&&(k(_i,O),k(Zi,Z),k(Zi,Ce)),!0===ao.mathMl&&(k(_i,$),k(Zi,J),k(Zi,Ce))),_t.ADD_TAGS&&(_i===Xi&&(_i=W(_i)),k(_i,_t.ADD_TAGS)),_t.ADD_ATTR&&(Zi===vo&&(Zi=W(Zi)),k(Zi,_t.ADD_ATTR)),_t.ADD_URI_SAFE_ATTR&&k(ro,_t.ADD_URI_SAFE_ATTR),_t.FORBID_CONTENTS&&(Oi===Qi&&(Oi=W(Oi)),k(Oi,_t.FORBID_CONTENTS)),bi&&(_i["#text"]=!0),Dt&&k(_i,["html","head","body"]),_i.table&&(k(_i,["tbody"]),delete oo.tbody),b&&b(_t),Ho=_t)},sn=k({},["mi","mo","mn","ms","mtext"]),dn=k({},["foreignobject","desc","title","annotation-xml"]),Bn=k({},N);k(Bn,O),k(Bn,K);var An=k({},$);k(An,j);var ht=function(_t){d(ye.removed,{element:_t});try{_t.parentNode.removeChild(_t)}catch{try{_t.outerHTML=oe}catch{_t.remove()}}},Kt=function(_t,vn){try{d(ye.removed,{attribute:vn.getAttributeNode(_t),from:vn})}catch{d(ye.removed,{attribute:null,from:vn})}if(vn.removeAttribute(_t),"is"===_t&&!Zi[_t])if(cn||Cn)try{ht(vn)}catch{}else try{vn.setAttribute(_t,"")}catch{}},nn=function(_t){var vn=void 0,$n=void 0;if(tn)_t="<remove></remove>"+_t;else{var Pi=g(_t,/^[\r\n\t ]+/);$n=Pi&&Pi[0]}var Ii=te?te.createHTML(_t):_t;if(so===ko)try{vn=(new Ye).parseFromString(Ii,"text/html")}catch{}if(!vn||!vn.documentElement){vn=nt.createDocument(so,"template",null);try{vn.documentElement.innerHTML=Do?"":Ii}catch{}}var ii=vn.body||vn.documentElement;return _t&&$n&&ii.insertBefore(ft.createTextNode($n),ii.childNodes[0]||null),so===ko?pt.call(vn,Dt?"html":"body")[0]:Dt?vn.documentElement:ii},Dn=function(_t){return He.call(_t.ownerDocument||_t,_t,St.SHOW_ELEMENT|St.SHOW_COMMENT|St.SHOW_TEXT,null,!1)},bn=function(_t){return"object"===(typeof et>"u"?"undefined":Ee(et))?_t instanceof et:_t&&"object"===(typeof _t>"u"?"undefined":Ee(_t))&&"number"==typeof _t.nodeType&&"string"==typeof _t.nodeName},Ct=function(_t,vn,$n){Xt[_t]&&u(Xt[_t],function(Pi){Pi.call(ye,vn,$n,Ho)})},Wt=function(_t){var vn=void 0;if(Ct("beforeSanitizeElements",_t,null),function(_t){return!(_t instanceof Bt||_t instanceof Lt||"string"==typeof _t.nodeName&&"string"==typeof _t.textContent&&"function"==typeof _t.removeChild&&_t.attributes instanceof bt&&"function"==typeof _t.removeAttribute&&"function"==typeof _t.setAttribute&&"string"==typeof _t.namespaceURI&&"function"==typeof _t.insertBefore)}(_t)||g(_t.nodeName,/[\u0080-\uFFFF]/))return ht(_t),!0;var $n=y(_t.nodeName);if(Ct("uponSanitizeElement",_t,{tagName:$n,allowedTags:_i}),!bn(_t.firstElementChild)&&(!bn(_t.content)||!bn(_t.content.firstElementChild))&&E(/<[/\w]/g,_t.innerHTML)&&E(/<[/\w]/g,_t.textContent)||"select"===$n&&E(/<template/i,_t.innerHTML))return ht(_t),!0;if(!_i[$n]||oo[$n]){if(bi&&!Oi[$n]){var Pi=Le(_t)||_t.parentNode,Ii=rt(_t)||_t.childNodes;if(Ii&&Pi)for(var Ut=Ii.length-1;Ut>=0;--Ut)Pi.insertBefore(Ot(Ii[Ut],!0),Ft(_t))}return ht(_t),!0}return _t instanceof st&&!function(_t){var vn=Le(_t);(!vn||!vn.tagName)&&(vn={namespaceURI:ko,tagName:"template"});var $n=y(_t.tagName),Pi=y(vn.tagName);if(_t.namespaceURI===Oo)return vn.namespaceURI===ko?"svg"===$n:vn.namespaceURI===Mo?"svg"===$n&&("annotation-xml"===Pi||sn[Pi]):!!Bn[$n];if(_t.namespaceURI===Mo)return vn.namespaceURI===ko?"math"===$n:vn.namespaceURI===Oo?"math"===$n&&dn[Pi]:!!An[$n];if(_t.namespaceURI===ko){if(vn.namespaceURI===Oo&&!dn[Pi]||vn.namespaceURI===Mo&&!sn[Pi])return!1;var Ii=k({},["title","style","font","a","script"]);return!An[$n]&&(Ii[$n]||!Bn[$n])}return!1}(_t)||("noscript"===$n||"noembed"===$n)&&E(/<\/no(script|embed)/i,_t.innerHTML)?(ht(_t),!0):(wt&&3===_t.nodeType&&(vn=v(vn=_t.textContent,ut," "),vn=v(vn,an," "),_t.textContent!==vn&&(d(ye.removed,{element:_t.cloneNode()}),_t.textContent=vn)),Ct("afterSanitizeElements",_t,null),!1)},jt=function(_t,vn,$n){if(zn&&("id"===vn||"name"===vn)&&($n in ft||$n in ni))return!1;if((!oi||yo[vn]||!E(Kn,vn))&&(!Lo||!E(Gn,vn))){if(!Zi[vn]||yo[vn])return!1;if(!ro[vn]&&!E(ri,v($n,fi,""))&&("src"!==vn&&"xlink:href"!==vn&&"href"!==vn||"script"===_t||0!==m($n,"data:")||!Wi[_t])&&(!en||E(li,v($n,fi,"")))&&$n)return!1}return!0},Yt=function(_t){var vn=void 0,$n=void 0,Pi=void 0,Ii=void 0;Ct("beforeSanitizeAttributes",_t,null);var ii=_t.attributes;if(ii){var Ut={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Zi};for(Ii=ii.length;Ii--;){var ee=(vn=ii[Ii]).name,_e=vn.namespaceURI;if($n=w(vn.value),Pi=y(ee),Ut.attrName=Pi,Ut.attrValue=$n,Ut.keepAttr=!0,Ut.forceKeepAttr=void 0,Ct("uponSanitizeAttribute",_t,Ut),$n=Ut.attrValue,!Ut.forceKeepAttr&&(Kt(ee,_t),Ut.keepAttr)){if(E(/\/>/i,$n)){Kt(ee,_t);continue}wt&&($n=v($n,ut," "),$n=v($n,an," "));var Qe=_t.nodeName.toLowerCase();if(jt(Qe,Pi,$n))try{_e?_t.setAttributeNS(_e,ee,$n):_t.setAttribute(ee,$n),n(ye.removed)}catch{}}}Ct("afterSanitizeAttributes",_t,null)}},gn=function Be(_t){var vn=void 0,$n=Dn(_t);for(Ct("beforeSanitizeShadowDOM",_t,null);vn=$n.nextNode();)Ct("uponSanitizeShadowNode",vn,null),!Wt(vn)&&(vn.content instanceof dt&&Be(vn.content),Yt(vn));Ct("afterSanitizeShadowDOM",_t,null)};return ye.sanitize=function(Be,_t){var vn=void 0,$n=void 0,Pi=void 0,Ii=void 0,ii=void 0;if((Do=!Be)&&(Be="\x3c!--\x3e"),"string"!=typeof Be&&!bn(Be)){if("function"!=typeof Be.toString)throw L("toString is not a function");if("string"!=typeof(Be=Be.toString()))throw L("dirty is not a string, aborting")}if(!ye.isSupported){if("object"===Ee(Q.toStaticHTML)||"function"==typeof Q.toStaticHTML){if("string"==typeof Be)return Q.toStaticHTML(Be);if(bn(Be))return Q.toStaticHTML(Be.outerHTML)}return Be}if($t||Zt(_t),ye.removed=[],"string"==typeof Be&&(Ei=!1),!Ei)if(Be instanceof et)1===($n=(vn=nn("\x3c!----\x3e")).ownerDocument.importNode(Be,!0)).nodeType&&"BODY"===$n.nodeName||"HTML"===$n.nodeName?vn=$n:vn.appendChild($n);else{if(!cn&&!wt&&!Dt&&-1===Be.indexOf("<"))return te&&Hn?te.createHTML(Be):Be;if(!(vn=nn(Be)))return cn?null:oe}vn&&tn&&ht(vn.firstChild);for(var Ut=Dn(Ei?Be:vn);Pi=Ut.nextNode();)3===Pi.nodeType&&Pi===Ii||Wt(Pi)||(Pi.content instanceof dt&&gn(Pi.content),Yt(Pi),Ii=Pi);if(Ii=null,Ei)return Be;if(cn){if(Cn)for(ii=De.call(vn.ownerDocument);vn.firstChild;)ii.appendChild(vn.firstChild);else ii=vn;return Pn&&(ii=lt.call(Ae,ii,!0)),ii}var F=Dt?vn.outerHTML:vn.innerHTML;return wt&&(F=v(F,ut," "),F=v(F,an," ")),te&&Hn?te.createHTML(F):F},ye.setConfig=function(Be){Zt(Be),$t=!0},ye.clearConfig=function(){Ho=null,$t=!1},ye.isValidAttribute=function(Be,_t,vn){Ho||Zt({});var $n=y(Be),Pi=y(_t);return jt($n,Pi,vn)},ye.addHook=function(Be,_t){"function"==typeof _t&&(Xt[Be]=Xt[Be]||[],d(Xt[Be],_t))},ye.removeHook=function(Be){Xt[Be]&&n(Xt[Be])},ye.removeHooks=function(Be){Xt[Be]&&(Xt[Be]=[])},ye.removeAllHooks=function(){Xt={}},ye}();const Je=Ze.sanitize,re=Ze.addHook,pe=Ze.removeHook},16936:(yt,T,e)=>{"use strict";e.d(T,{Y:()=>t,p:()=>l});var s=e(31864);class t{constructor(f,I,b){const S=D=>this.emitter.fire(D);this.emitter=new s.Q5({onFirstListenerAdd:()=>f.addEventListener(I,S,b),onLastListenerRemove:()=>f.removeEventListener(I,S,b)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function l(C){return C.preventDefault(),C.stopPropagation(),C}},81500:(yt,T,e)=>{"use strict";e.d(T,{X:()=>l,Z:()=>s});class s{constructor(f){this.domNode=f,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(f){const I=t(f);this._maxWidth!==I&&(this._maxWidth=I,this.domNode.style.maxWidth=this._maxWidth)}setWidth(f){const I=t(f);this._width!==I&&(this._width=I,this.domNode.style.width=this._width)}setHeight(f){const I=t(f);this._height!==I&&(this._height=I,this.domNode.style.height=this._height)}setTop(f){const I=t(f);this._top!==I&&(this._top=I,this.domNode.style.top=this._top)}setLeft(f){const I=t(f);this._left!==I&&(this._left=I,this.domNode.style.left=this._left)}setBottom(f){const I=t(f);this._bottom!==I&&(this._bottom=I,this.domNode.style.bottom=this._bottom)}setRight(f){const I=t(f);this._right!==I&&(this._right=I,this.domNode.style.right=this._right)}setFontFamily(f){this._fontFamily!==f&&(this._fontFamily=f,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(f){this._fontWeight!==f&&(this._fontWeight=f,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(f){const I=t(f);this._fontSize!==I&&(this._fontSize=I,this.domNode.style.fontSize=this._fontSize)}setFontStyle(f){this._fontStyle!==f&&(this._fontStyle=f,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(f){this._fontFeatureSettings!==f&&(this._fontFeatureSettings=f,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(f){this._textDecoration!==f&&(this._textDecoration=f,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(f){const I=t(f);this._lineHeight!==I&&(this._lineHeight=I,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(f){const I=t(f);this._letterSpacing!==I&&(this._letterSpacing=I,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(f){this._className!==f&&(this._className=f,this.domNode.className=this._className)}toggleClassName(f,I){this.domNode.classList.toggle(f,I),this._className=this.domNode.className}setDisplay(f){this._display!==f&&(this._display=f,this.domNode.style.display=this._display)}setPosition(f){this._position!==f&&(this._position=f,this.domNode.style.position=this._position)}setVisibility(f){this._visibility!==f&&(this._visibility=f,this.domNode.style.visibility=this._visibility)}setColor(f){this._color!==f&&(this._color=f,this.domNode.style.color=this._color)}setBackgroundColor(f){this._backgroundColor!==f&&(this._backgroundColor=f,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(f){this._layerHint!==f&&(this._layerHint=f,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(f){this._boxShadow!==f&&(this._boxShadow=f,this.domNode.style.boxShadow=f)}setContain(f){this._contain!==f&&(this._contain=f,this.domNode.style.contain=this._contain)}setAttribute(f,I){this.domNode.setAttribute(f,I)}removeAttribute(f){this.domNode.removeAttribute(f)}appendChild(f){this.domNode.appendChild(f.domNode)}removeChild(f){this.domNode.removeChild(f.domNode)}}function t(C){return"number"==typeof C?`${C}px`:C}function l(C){return new s(C)}},92356:(yt,T,e)=>{"use strict";e.d(T,{BO:()=>l,IY:()=>t,az:()=>C});var s=e(94418);function t(_,r={}){const a=C(r);return a.textContent=_,a}function l(_,r={}){const a=C(r);return I(a,function b(_,r){const a={type:1,children:[]};let u=0,n=a;const d=[],y=new f(_);for(;!y.eos();){let g=y.next();const v="\\"===g&&0!==D(y.peek(),r);if(v&&(g=y.next()),!v&&S(g,r)&&g===y.peek()){y.advance(),2===n.type&&(n=d.pop());const m=D(g,r);if(n.type===m||5===n.type&&6===m)n=d.pop();else{const w={type:m,children:[]};5===m&&(w.index=u,u++),n.children.push(w),d.push(n),n=w}}else if("\n"===g)2===n.type&&(n=d.pop()),n.children.push({type:8});else if(2!==n.type){const m={type:2,content:g};n.children.push(m),d.push(n),n=m}else n.content+=g}return 2===n.type&&(n=d.pop()),a}(_,!!r.renderCodeSegments),r.actionHandler,r.renderCodeSegments),a}function C(_){const a=document.createElement(_.inline?"span":"div");return _.className&&(a.className=_.className),a}class f{constructor(r){this.source=r,this.index=0}eos(){return this.index>=this.source.length}next(){const r=this.peek();return this.advance(),r}peek(){return this.source[this.index]}advance(){this.index++}}function I(_,r,a,u){let n;if(2===r.type)n=document.createTextNode(r.content||"");else if(3===r.type)n=document.createElement("b");else if(4===r.type)n=document.createElement("i");else if(7===r.type&&u)n=document.createElement("code");else if(5===r.type&&a){const d=document.createElement("a");a.disposables.add(s.mu(d,"click",y=>{a.callback(String(r.index),y)})),n=d}else 8===r.type?n=document.createElement("br"):1===r.type&&(n=_);n&&_!==n&&_.appendChild(n),n&&Array.isArray(r.children)&&r.children.forEach(d=>{I(n,d,a,u)})}function S(_,r){return 0!==D(_,r)}function D(_,r){switch(_){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return r?7:0;default:return 0}}},48763:(yt,T,e)=>{"use strict";e.d(T,{C:()=>l});var s=e(94418),t=e(21576);class l{constructor(){this._hooks=new t.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(f,I){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const b=this._onStopCallback;this._onStopCallback=null,f&&b&&b(I)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(f,I,b,S,D){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=S,this._onStopCallback=D;let _=f;try{f.setPointerCapture(I),this._hooks.add((0,t.OF)(()=>{f.releasePointerCapture(I)}))}catch{_=window}this._hooks.add(s.nm(_,s.tw.POINTER_MOVE,r=>{r.buttons===b?(r.preventDefault(),this._pointerMoveCallback(r)):this.stopMonitoring(!0)})),this._hooks.add(s.nm(_,s.tw.POINTER_UP,r=>this.stopMonitoring(!0)))}}},47888:(yt,T,e)=>{"use strict";e.d(T,{y:()=>_});var s=e(52253),t=e(32133),l=e(99385),C=e(84834);const I=C.dz?256:2048,D=C.dz?2048:256;class _{constructor(a){this._standardKeyboardEventBrand=!0;const u=a;this.browserEvent=u,this.target=u.target,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.altKey=u.altKey,this.metaKey=u.metaKey,this.keyCode=function f(r){if(r.charCode){const u=String.fromCharCode(r.charCode).toUpperCase();return t.kL.fromString(u)}const a=r.keyCode;if(3===a)return 7;if(s.isFirefox){if(59===a)return 80;if(107===a)return 81;if(109===a)return 83;if(C.dz&&224===a)return 57}else if(s.isWebKit){if(91===a)return 57;if(C.dz&&93===a)return 57;if(!C.dz&&92===a)return 57}return t.H_[a]||0}(u),this.code=u.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(a){return this._asKeybinding===a}_computeKeybinding(){let a=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(a=this.keyCode);let u=0;return this.ctrlKey&&(u|=I),this.altKey&&(u|=512),this.shiftKey&&(u|=1024),this.metaKey&&(u|=D),u|=a,u}_computeRuntimeKeybinding(){let a=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(a=this.keyCode),new l.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,a)}}},46073:(yt,T,e)=>{"use strict";e.d(T,{n:()=>b,q:()=>S});var s=e(52253);let t=!1,l=null;function C(D){if(!D.parent||D.parent===D)return null;try{const _=D.location,r=D.parent.location;if("null"!==_.origin&&"null"!==r.origin&&_.origin!==r.origin)return t=!0,null}catch{return t=!0,null}return D.parent}class f{static getSameOriginWindowChain(){if(!l){l=[];let r,_=window;do{r=C(_),l.push(r?{window:_,iframeElement:_.frameElement||null}:{window:_,iframeElement:null}),_=r}while(_)}return l.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(_,r){if(!r||_===r)return{top:0,left:0};let a=0,u=0;const n=this.getSameOriginWindowChain();for(const d of n){if(a+=d.window.scrollY,u+=d.window.scrollX,d.window===r||!d.iframeElement)break;const y=d.iframeElement.getBoundingClientRect();a+=y.top,u+=y.left}return{top:a,left:u}}}var I=e(84834);class b{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=0===_.button,this.middleButton=1===_.button,this.rightButton=2===_.button,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,"dblclick"===_.type&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,"number"==typeof _.pageX?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=_.clientY+document.body.scrollTop+document.documentElement.scrollTop);const r=f.getPositionOfChildWindowRelativeToAncestorWindow(self,_.view);this.posx-=r.left,this.posy-=r.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class S{constructor(_,r=0,a=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=a,this.deltaX=r,_){const u=_,n=_;typeof u.wheelDeltaY<"u"?this.deltaY=u.wheelDeltaY/120:typeof n.VERTICAL_AXIS<"u"&&n.axis===n.VERTICAL_AXIS?this.deltaY=-n.detail/3:"wheel"===_.type&&(this.deltaY=_.deltaMode===_.DOM_DELTA_LINE?s.isFirefox&&!I.dz?-_.deltaY/3:-_.deltaY:-_.deltaY/40),typeof u.wheelDeltaX<"u"?this.deltaX=s.isSafari&&I.ED?-u.wheelDeltaX/120:u.wheelDeltaX/120:typeof n.HORIZONTAL_AXIS<"u"&&n.axis===n.HORIZONTAL_AXIS?this.deltaX=-_.detail/3:"wheel"===_.type&&(this.deltaX=_.deltaMode===_.DOM_DELTA_LINE?s.isFirefox&&!I.dz?-_.deltaX/3:-_.deltaX:-_.deltaX/40),0===this.deltaY&&0===this.deltaX&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},52364:(yt,T,e)=>{"use strict";e.d(T,{o:()=>b,t:()=>I});var s=e(94418),t=e(14940),l=e(47957),C=e(21576),I=(()=>((I=I||{}).Tap="-monaco-gesturetap",I.Change="-monaco-gesturechange",I.Start="-monaco-gesturestart",I.End="-monaco-gesturesend",I.Contextmenu="-monaco-gesturecontextmenu",I))();class b extends C.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(s.nm(document,"touchstart",D=>this.onTouchStart(D),{passive:!1})),this._register(s.nm(document,"touchend",D=>this.onTouchEnd(D))),this._register(s.nm(document,"touchmove",D=>this.onTouchMove(D),{passive:!1}))}static addTarget(D){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.targets.push(D),{dispose:()=>{b.INSTANCE.targets=b.INSTANCE.targets.filter(_=>_!==D)}}):C.JT.None}static ignoreTarget(D){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.ignoreTargets.push(D),{dispose:()=>{b.INSTANCE.ignoreTargets=b.INSTANCE.ignoreTargets.filter(_=>_!==D)}}):C.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(D){const _=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let r=0,a=D.targetTouches.length;r<a;r++){const u=D.targetTouches.item(r);this.activeTouches[u.identifier]={id:u.identifier,initialTarget:u.target,initialTimeStamp:_,initialPageX:u.pageX,initialPageY:u.pageY,rollingTimestamps:[_],rollingPageX:[u.pageX],rollingPageY:[u.pageY]};const n=this.newGestureEvent(I.Start,u.target);n.pageX=u.pageX,n.pageY=u.pageY,this.dispatchEvent(n)}this.dispatched&&(D.preventDefault(),D.stopPropagation(),this.dispatched=!1)}onTouchEnd(D){const _=Date.now(),r=Object.keys(this.activeTouches).length;for(let a=0,u=D.changedTouches.length;a<u;a++){const n=D.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("move of an UNKNOWN touch",n);continue}const d=this.activeTouches[n.identifier],y=Date.now()-d.initialTimeStamp;if(y<b.HOLD_DELAY&&Math.abs(d.initialPageX-t.Gb(d.rollingPageX))<30&&Math.abs(d.initialPageY-t.Gb(d.rollingPageY))<30){const g=this.newGestureEvent(I.Tap,d.initialTarget);g.pageX=t.Gb(d.rollingPageX),g.pageY=t.Gb(d.rollingPageY),this.dispatchEvent(g)}else if(y>=b.HOLD_DELAY&&Math.abs(d.initialPageX-t.Gb(d.rollingPageX))<30&&Math.abs(d.initialPageY-t.Gb(d.rollingPageY))<30){const g=this.newGestureEvent(I.Contextmenu,d.initialTarget);g.pageX=t.Gb(d.rollingPageX),g.pageY=t.Gb(d.rollingPageY),this.dispatchEvent(g)}else if(1===r){const g=t.Gb(d.rollingPageX),v=t.Gb(d.rollingPageY),m=t.Gb(d.rollingTimestamps)-d.rollingTimestamps[0],w=g-d.rollingPageX[0],E=v-d.rollingPageY[0],L=this.targets.filter(x=>d.initialTarget instanceof Node&&x.contains(d.initialTarget));this.inertia(L,_,Math.abs(w)/m,w>0?1:-1,g,Math.abs(E)/m,E>0?1:-1,v)}this.dispatchEvent(this.newGestureEvent(I.End,d.initialTarget)),delete this.activeTouches[n.identifier]}this.dispatched&&(D.preventDefault(),D.stopPropagation(),this.dispatched=!1)}newGestureEvent(D,_){const r=document.createEvent("CustomEvent");return r.initEvent(D,!1,!0),r.initialTarget=_,r.tapCount=0,r}dispatchEvent(D){if(D.type===I.Tap){const _=(new Date).getTime();let r=0;r=_-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=_,D.tapCount=r}else(D.type===I.Change||D.type===I.Contextmenu)&&(this._lastSetTapCountTime=0);for(let _=0;_<this.ignoreTargets.length;_++)if(D.initialTarget instanceof Node&&this.ignoreTargets[_].contains(D.initialTarget))return;this.targets.forEach(_=>{D.initialTarget instanceof Node&&_.contains(D.initialTarget)&&(_.dispatchEvent(D),this.dispatched=!0)})}inertia(D,_,r,a,u,n,d,y){this.handle=s.jL(()=>{const g=Date.now(),v=g-_;let m=0,w=0,E=!0;(r+=b.SCROLL_FRICTION*v)>0&&(E=!1,m=a*r*v),(n+=b.SCROLL_FRICTION*v)>0&&(E=!1,w=d*n*v);const L=this.newGestureEvent(I.Change);L.translationX=m,L.translationY=w,D.forEach(x=>x.dispatchEvent(L)),E||this.inertia(D,g,r,a,u+m,n,d,y+w)})}onTouchMove(D){const _=Date.now();for(let r=0,a=D.changedTouches.length;r<a;r++){const u=D.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(u.identifier))){console.warn("end of an UNKNOWN touch",u);continue}const n=this.activeTouches[u.identifier],d=this.newGestureEvent(I.Change,n.initialTarget);d.translationX=u.pageX-t.Gb(n.rollingPageX),d.translationY=u.pageY-t.Gb(n.rollingPageY),d.pageX=u.pageX,d.pageY=u.pageY,this.dispatchEvent(d),n.rollingPageX.length>3&&(n.rollingPageX.shift(),n.rollingPageY.shift(),n.rollingTimestamps.shift()),n.rollingPageX.push(u.pageX),n.rollingPageY.push(u.pageY),n.rollingTimestamps.push(_)}this.dispatched&&(D.preventDefault(),D.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,function(S,D,_,r){var n,a=arguments.length,u=a<3?D:null===r?r=Object.getOwnPropertyDescriptor(D,_):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(S,D,_,r);else for(var d=S.length-1;d>=0;d--)(n=S[d])&&(u=(a<3?n(u):a>3?n(D,_,u):n(D,_))||u);a>3&&u&&Object.defineProperty(D,_,u)}([l.H],b,"isTouchDevice",null)},43219:(yt,T,e)=>{"use strict";e.d(T,{Y:()=>a,g:()=>u});var s=e(52253),t=e(87559),l=e(94418),C=e(52364),f=e(28055),I=e(36608),b=e(21576),S=e(84834),D=e(22070),r=(e(79407),e(1200));class a extends b.JT{constructor(d,y,g={}){super(),this.options=g,this._context=d||this,this._action=y,y instanceof I.aU&&this._register(y.onDidChange(v=>{this.element&&this.handleActionChangeEvent(v)}))}get action(){return this._action}handleActionChangeEvent(d){void 0!==d.enabled&&this.updateEnabled(),void 0!==d.checked&&this.updateChecked(),void 0!==d.class&&this.updateClass(),void 0!==d.label&&(this.updateLabel(),this.updateTooltip()),void 0!==d.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new I.Wi)),this._actionRunner}set actionRunner(d){this._actionRunner=d}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(d){this._context=d}render(d){const y=this.element=d;this._register(C.o.addTarget(d));const g=this.options&&this.options.draggable;g&&(d.draggable=!0,s.isFirefox&&this._register((0,l.nm)(d,l.tw.DRAG_START,v=>{var m;return null===(m=v.dataTransfer)||void 0===m?void 0:m.setData(t.g.TEXT,this._action.label)}))),this._register((0,l.nm)(y,C.t.Tap,v=>this.onClick(v,!0))),this._register((0,l.nm)(y,l.tw.MOUSE_DOWN,v=>{g||l.zB.stop(v,!0),this._action.enabled&&0===v.button&&y.classList.add("active")})),S.dz&&this._register((0,l.nm)(y,l.tw.CONTEXT_MENU,v=>{0===v.button&&!0===v.ctrlKey&&this.onClick(v)})),this._register((0,l.nm)(y,l.tw.CLICK,v=>{l.zB.stop(v,!0),this.options&&this.options.isMenu||this.onClick(v)})),this._register((0,l.nm)(y,l.tw.DBLCLICK,v=>{l.zB.stop(v,!0)})),[l.tw.MOUSE_UP,l.tw.MOUSE_OUT].forEach(v=>{this._register((0,l.nm)(y,v,m=>{l.zB.stop(m),y.classList.remove("active")}))})}onClick(d,y=!1){var g;l.zB.stop(d,!0);const v=D.Jp(this._context)?null!==(g=this.options)&&void 0!==g&&g.useEventAsContext?d:{preserveFocus:y}:this._context;this.actionRunner.run(this._action,v)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(d){this.element&&(this.element.tabIndex=d?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var d;if(!this.element)return;const y=null!==(d=this.getTooltip())&&void 0!==d?d:"";this.element.setAttribute("aria-label",y),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(y):(this.customHover=(0,f.g)(this.options.hoverDelegate,this.element,y),this._store.add(this.customHover))):this.element.title=y}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class u extends a{constructor(d,y,g={}){super(d,y,g),this.options=g,this.options.icon=void 0!==g.icon&&g.icon,this.options.label=void 0===g.label||g.label,this.cssClass=""}render(d){super.render(d),this.element&&(this.label=(0,l.R3)(this.element,(0,l.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===I.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,l.R3)(this.element,(0,l.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(d){this.label&&(this.label.tabIndex=d?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let d=null;return this.getAction().tooltip?d=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(d=this.getAction().label,this.options.keybinding&&(d=r.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",d,this.options.keybinding))),d??void 0}updateClass(){var d;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(d=this.label)||void 0===d||d.classList.remove("codicon")}updateEnabled(){var d,y;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(d=this.element)||void 0===d||d.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(y=this.element)||void 0===y||y.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},3847:(yt,T,e)=>{"use strict";e.d(T,{o:()=>_});var s=e(94418),t=e(47888),l=e(43219),C=e(36608),f=e(31864),I=e(21576),b=e(22070),D=(e(79407),function(r,a,u,n){return new(u||(u=Promise))(function(y,g){function v(E){try{w(n.next(E))}catch(L){g(L)}}function m(E){try{w(n.throw(E))}catch(L){g(L)}}function w(E){E.done?y(E.value):function d(y){return y instanceof u?y:new u(function(g){g(y)})}(E.value).then(v,m)}w((n=n.apply(r,a||[])).next())})});class _ extends I.JT{constructor(a,u={}){var n,d,y,g,v,m;let w,E;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new f.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new f.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new f.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new f.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=u,this._context=null!==(n=u.context)&&void 0!==n?n:null,this._orientation=null!==(d=this.options.orientation)&&void 0!==d?d:0,this._triggerKeys={keyDown:null!==(g=null===(y=this.options.triggerKeys)||void 0===y?void 0:y.keyDown)&&void 0!==g&&g,keys:null!==(m=null===(v=this.options.triggerKeys)||void 0===v?void 0:v.keys)&&void 0!==m?m:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new C.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(L=>this._onDidRun.fire(L))),this._register(this._actionRunner.onBeforeRun(L=>this._onBeforeRun.fire(L))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==u.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:w=[15],E=[17];break;case 1:w=[16],E=[18],this.domNode.className+=" vertical"}this._register(s.nm(this.domNode,s.tw.KEY_DOWN,L=>{const x=new t.y(L);let A=!0;const k="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;w&&(x.equals(w[0])||x.equals(w[1]))?A=this.focusPrevious():E&&(x.equals(E[0])||x.equals(E[1]))?A=this.focusNext():x.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():x.equals(14)?A=this.focusFirst():x.equals(13)?A=this.focusLast():x.equals(2)&&k instanceof l.Y&&k.trapsArrowNavigation?A=this.focusNext():this.isTriggerKeyEvent(x)?this._triggerKeys.keyDown?this.doTrigger(x):this.triggerKeyDown=!0:A=!1,A&&(x.preventDefault(),x.stopPropagation())})),this._register(s.nm(this.domNode,s.tw.KEY_UP,L=>{const x=new t.y(L);this.isTriggerKeyEvent(x)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(x)),x.preventDefault(),x.stopPropagation()):(x.equals(2)||x.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(s.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(s.vY()===this.domNode||!s.jg(s.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),a.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(a){if(this.focusable=a,this.focusable){const u=this.viewItems.find(n=>n instanceof l.Y&&n.isEnabled());u instanceof l.Y&&u.setFocusable(!0)}else this.viewItems.forEach(u=>{u instanceof l.Y&&u.setFocusable(!1)})}isTriggerKeyEvent(a){let u=!1;return this._triggerKeys.keys.forEach(n=>{u=u||a.equals(n)}),u}updateFocusedItem(){for(let a=0;a<this.actionsList.children.length;a++){const u=this.actionsList.children[a];if(s.jg(s.vY(),u)){this.focusedItem=a;break}}}get context(){return this._context}set context(a){this._context=a,this.viewItems.forEach(u=>u.setActionContext(a))}get actionRunner(){return this._actionRunner}set actionRunner(a){a&&(this._actionRunner=a,this.viewItems.forEach(u=>u.actionRunner=a))}getContainer(){return this.domNode}push(a,u={}){const n=Array.isArray(a)?a:[a];let d=b.hj(u.index)?u.index:null;n.forEach(y=>{const g=document.createElement("li");let v;g.className="action-item",g.setAttribute("role","presentation"),this.options.actionViewItemProvider&&(v=this.options.actionViewItemProvider(y)),v||(v=new l.g(this.context,y,Object.assign({hoverDelegate:this.options.hoverDelegate},u))),this.options.allowContextMenu||this.viewItemDisposables.set(v,s.nm(g,s.tw.CONTEXT_MENU,m=>{s.zB.stop(m,!0)})),v.actionRunner=this._actionRunner,v.setActionContext(this.context),v.render(g),this.focusable&&v instanceof l.Y&&0===this.viewItems.length&&v.setFocusable(!0),null===d||d<0||d>=this.actionsList.children.length?(this.actionsList.appendChild(g),this.viewItems.push(v),this._actionIds.push(y.id)):(this.actionsList.insertBefore(g,this.actionsList.children[d]),this.viewItems.splice(d,0,v),this._actionIds.splice(d,0,y.id),d++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,I.B9)(this.viewItems),this.viewItemDisposables.forEach(a=>a.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],s.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(a){let n,u=!1;if(void 0===a?u=!0:"number"==typeof a?n=a:"boolean"==typeof a&&(u=a),u&&typeof this.focusedItem>"u"){const d=this.viewItems.findIndex(y=>y.isEnabled());this.focusedItem=-1===d?void 0:d,this.updateFocus(void 0,void 0,!0)}else void 0!==n&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(a){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let n;do{if(!a&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=u,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===C.Z0.ID));return this.updateFocus(),!0}focusPrevious(a){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!a&&this.options.preventLoopNavigation)return this.focusedItem=u,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===C.Z0.ID));return this.updateFocus(!0),!0}updateFocus(a,u,n=!1){var d;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:u}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(d=this.viewItems[this.previouslyFocusedItem])||void 0===d||d.blur());const y=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(y){let g=!0;b.mf(y.focus)||(g=!1),this.options.focusOnlyEnabledItems&&b.mf(y.isEnabled)&&!y.isEnabled()&&(g=!1),y.action.id===C.Z0.ID&&(g=!1),g?(n||this.previouslyFocusedItem!==this.focusedItem)&&(y.focus(a),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:u}),this.previouslyFocusedItem=void 0)}}doTrigger(a){if(typeof this.focusedItem>"u")return;const u=this.viewItems[this.focusedItem];u instanceof l.Y&&this.run(u._action,null==u._context?a:u._context)}run(a,u){return D(this,void 0,void 0,function*(){yield this._actionRunner.run(a,u)})}dispose(){(0,I.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},48460:(yt,T,e)=>{"use strict";e.d(T,{Z9:()=>W,wW:()=>k,i7:()=>H});var s=e(94418),t=e(84834),l=e(92123),C=e.n(l),f=e(65057),I=e.n(f),b=e(28764),S=e.n(b),D=e(6557),_=e.n(D),r=e(11146),a=e.n(r),u=e(95085),n=e.n(u),d=e(89469),y={};y.styleTagTransform=n(),y.setAttributes=_(),y.insert=S().bind(null,"head"),y.domAPI=I(),y.insertStyleElement=a(),C()(d.Z,y);const m=2e4;let w,E,L,x,A;function k(N){w=document.createElement("div"),w.className="monaco-aria-container";const O=()=>{const $=document.createElement("div");return $.className="monaco-alert",$.setAttribute("role","alert"),$.setAttribute("aria-atomic","true"),w.appendChild($),$};E=O(),L=O();const K=()=>{const $=document.createElement("div");return $.className="monaco-status",$.setAttribute("role","complementary"),$.setAttribute("aria-live","polite"),$.setAttribute("aria-atomic","true"),w.appendChild($),$};x=K(),A=K(),N.appendChild(w)}function W(N){w&&(E.textContent!==N?(s.PO(L),z(E,N)):(s.PO(E),z(L,N)))}function H(N){w&&(t.dz?W(N):x.textContent!==N?(s.PO(A),z(x,N)):(s.PO(x),z(A,N)))}function z(N,O){s.PO(N),O.length>m&&(O=O.substr(0,m)),N.textContent=O,N.style.visibility="hidden",N.style.visibility="visible"}},99670:(yt,T,e)=>{"use strict";e.d(T,{a:()=>L});var s=e(51153),t=e(92123),l=e.n(t),C=e(65057),f=e.n(C),I=e(28764),b=e.n(I),S=e(6557),D=e.n(S),_=e(11146),r=e.n(_),a=e(95085),u=e.n(a),n=e(99138),d={};d.styleTagTransform=u(),d.setAttributes=D(),d.insert=b().bind(null,"head"),d.domAPI=f(),d.insertStyleElement=r(),l()(n.Z,d);var v=e(8901),m={};function L(x){let A=x.definition;for(;A instanceof s.lA;)A=A.definition;return`.codicon-${x.id}:before { content: '${A.fontCharacter}'; }`}m.styleTagTransform=u(),m.setAttributes=D(),m.insert=b().bind(null,"head"),m.domAPI=f(),m.insertStyleElement=r(),l()(v.Z,m)},29348:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>L});var s=e(94418),t=e(84968),l=e(82941),C=e(77697),f=e(92123),I=e.n(f),b=e(65057),S=e.n(b),D=e(28764),_=e.n(D),r=e(6557),a=e.n(r),u=e(11146),n=e.n(u),d=e(95085),y=e.n(d),g=e(90244),v={};v.styleTagTransform=y(),v.setAttributes=a(),v.insert=_().bind(null,"head"),v.domAPI=S(),v.insertStyleElement=n(),I()(g.Z,v);const E={badgeBackground:t.Il.fromHex("#4D4D4D"),badgeForeground:t.Il.fromHex("#FFFFFF")};class L{constructor(A,k){this.count=0,this.options=k||Object.create(null),(0,l.jB)(this.options,E,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,s.R3)(A,(0,s.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(A){this.count=A,this.render()}setTitleFormat(A){this.titleFormat=A,this.render()}render(){this.element.textContent=(0,C.WU)(this.countFormat,this.count),this.element.title=(0,C.WU)(this.titleFormat,this.count),this.applyStyles()}style(A){this.badgeBackground=A.badgeBackground,this.badgeForeground=A.badgeForeground,this.badgeBorder=A.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const A=this.badgeBackground?this.badgeBackground.toString():"",k=this.badgeForeground?this.badgeForeground.toString():"",W=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=A,this.element.style.color=k,this.element.style.borderWidth=W?"1px":"",this.element.style.borderStyle=W?"solid":"",this.element.style.borderColor=W}}}},64062:(yt,T,e)=>{"use strict";e.d(T,{C:()=>k});var s=e(94418),t=e(43219),l=e(47888),C=e(52364),f=e(36608),I=e(31864),b=e(92123),S=e.n(b),D=e(65057),_=e.n(D),r=e(28764),a=e.n(r),u=e(6557),n=e.n(u),d=e(11146),y=e.n(d),g=e(95085),v=e.n(g),m=e(13590),w={};w.styleTagTransform=v(),w.setAttributes=n(),w.insert=a().bind(null,"head"),w.domAPI=_(),w.insertStyleElement=y(),S()(m.Z,w);class x extends f.Wi{constructor(H,z){super(),this._onDidChangeVisibility=this._register(new I.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,s.R3)(H,(0,s.$)(".monaco-dropdown")),this._label=(0,s.R3)(this._element,(0,s.$)(".dropdown-label"));let N=z.labelRenderer;N||(N=K=>(K.textContent=z.label||"",null));for(const K of[s.tw.CLICK,s.tw.MOUSE_DOWN,C.t.Tap])this._register((0,s.nm)(this.element,K,$=>s.zB.stop($,!0)));for(const K of[s.tw.MOUSE_DOWN,C.t.Tap])this._register((0,s.nm)(this._label,K,$=>{$ instanceof MouseEvent&&($.detail>1||0!==$.button)||(this.visible?this.hide():this.show())}));this._register((0,s.nm)(this._label,s.tw.KEY_UP,K=>{const $=new l.y(K);($.equals(3)||$.equals(10))&&(s.zB.stop(K,!0),this.visible?this.hide():this.show())}));const O=N(this._label);O&&this._register(O),this._register(C.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class A extends x{constructor(H,z){super(H,z),this._actions=[],this._contextMenuProvider=z.contextMenuProvider,this.actions=z.actions||[],this.actionProvider=z.actionProvider,this.menuClassName=z.menuClassName||"",this.menuAsChild=!!z.menuAsChild}set menuOptions(H){this._menuOptions=H}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(H){this._actions=H}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:H=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(H):void 0,getKeyBinding:H=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(H):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class k extends t.Y{constructor(H,z,N,O=Object.create(null)){super(null,H,O),this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Q5),this.menuActionsOrProvider=z,this.contextMenuProvider=N,this.options=O,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(H){this.actionItem=H;const N=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new A(H,{contextMenuProvider:this.contextMenuProvider,labelRenderer:K=>{this.element=(0,s.R3)(K,(0,s.$)("a.action-label"));let $=[];return"string"==typeof this.options.classNames?$=this.options.classNames.split(/\s+/g).filter(j=>!!j):this.options.classNames&&($=this.options.classNames),$.find(j=>"icon"===j)||$.push("codicon"),this.element.classList.add(...$),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:N?this.menuActionsOrProvider:void 0,actionProvider:N?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(K=>{var $;null===($=this.element)||void 0===$||$.setAttribute("aria-expanded",`${K}`),this._onDidChangeVisibility.fire(K)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const K=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return K.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let H=null;return this.getAction().tooltip?H=this.getAction().tooltip:this.getAction().label&&(H=this.getAction().label),H??void 0}setActionContext(H){super.setActionContext(H),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=H:this.dropdownMenu.menuOptions={context:H})}updateEnabled(){var H,z;const N=!this.getAction().enabled;null===(H=this.actionItem)||void 0===H||H.classList.toggle("disabled",N),null===(z=this.element)||void 0===z||z.classList.toggle("disabled",N)}}},48880:(yt,T,e)=>{"use strict";e.d(T,{V:()=>D});var s=e(94418),t=e(68965),l=e(18341),C=e(79595),f=e(31864);e(51024);const S=e(1200).NC("defaultLabel","input");class D extends C.${constructor(r,a,u,n){var d;super(),this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new f.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new f.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new f.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new f.Q5),this._onKeyUp=this._register(new f.Q5),this._onCaseSensitiveKeyDown=this._register(new f.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new f.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=a,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||S,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const y=n.appendCaseSensitiveLabel||"",g=n.appendWholeWordsLabel||"",v=n.appendRegexLabel||"",m=n.history||[],w=!!n.flexibleHeight,E=!!n.flexibleWidth,L=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new l.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:m,showHistoryHint:n.showHistoryHint,flexibleHeight:w,flexibleWidth:E,flexibleMaxHeight:L})),this.regex=this._register(new t.eH({appendTitle:v,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(A=>{this._onDidOptionChange.fire(A),!A&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(A=>{this._onRegexKeyDown.fire(A)})),this.wholeWords=this._register(new t.Qx({appendTitle:g,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(A=>{this._onDidOptionChange.fire(A),!A&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new t.rk({appendTitle:y,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(A=>{this._onDidOptionChange.fire(A),!A&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(A=>{this._onCaseSensitiveKeyDown.fire(A)}));const x=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,A=>{if(A.equals(15)||A.equals(17)||A.equals(9)){const k=x.indexOf(document.activeElement);if(k>=0){let W=-1;A.equals(17)?W=(k+1)%x.length:A.equals(15)&&(W=0===k?x.length-1:k-1),A.equals(9)?(x[k].blur(),this.inputBox.focus()):W>=0&&x[W].focus(),s.zB.stop(A,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const A of null!==(d=n?.additionalToggles)&&void 0!==d?d:[])this._register(A),this.controls.appendChild(A.domNode),this._register(A.onChange(k=>{this._onDidOptionChange.fire(k),!k&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(A);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((A,k)=>A+k.width(),0),this.domNode.appendChild(this.controls),r?.appendChild(this.domNode),this._register(s.nm(this.inputBox.inputElement,"compositionstart",A=>{this.imeSessionInProgress=!0})),this._register(s.nm(this.inputBox.inputElement,"compositionend",A=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,A=>this._onKeyDown.fire(A)),this.onkeyup(this.inputBox.inputElement,A=>this._onKeyUp.fire(A)),this.oninput(this.inputBox.inputElement,A=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,A=>this._onMouseDown.fire(A))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const r of this.additionalToggles)r.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(r){this.fixFocusOnOptionClickEnabled=r}setEnabled(r){r?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(r){this.inputBox.value!==r&&(this.inputBox.value=r)}style(r){this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const r={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(r),this.wholeWords.style(r),this.caseSensitive.style(r);for(const u of this.additionalToggles)u.style(r);this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(r){this.caseSensitive.checked=r}getWholeWords(){return this.wholeWords.checked}setWholeWords(r){this.wholeWords.checked=r}getRegex(){return this.regex.checked}setRegex(r){this.regex.checked=r,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(r){this.inputBox.showMessage(r)}clearMessage(){this.inputBox.hideMessage()}}},68965:(yt,T,e)=>{"use strict";e.d(T,{Qx:()=>S,eH:()=>D,rk:()=>b});var s=e(26463),t=e(51153),l=e(1200);const C=l.NC("caseDescription","Match Case"),f=l.NC("wordsDescription","Match Whole Word"),I=l.NC("regexDescription","Use Regular Expression");class b extends s.Z{constructor(r){super({icon:t.lA.caseSensitive,title:C+r.appendTitle,isChecked:r.isChecked,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionForeground:r.inputActiveOptionForeground,inputActiveOptionBackground:r.inputActiveOptionBackground})}}class S extends s.Z{constructor(r){super({icon:t.lA.wholeWord,title:f+r.appendTitle,isChecked:r.isChecked,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionForeground:r.inputActiveOptionForeground,inputActiveOptionBackground:r.inputActiveOptionBackground})}}class D extends s.Z{constructor(r){super({icon:t.lA.regex,title:I+r.appendTitle,isChecked:r.isChecked,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionForeground:r.inputActiveOptionForeground,inputActiveOptionBackground:r.inputActiveOptionBackground})}}},38831:(yt,T,e)=>{"use strict";e.d(T,{q:()=>C});var s=e(94418),t=e(47579),l=e(82941);class C{constructor(I,b){var S;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(S=b?.supportIcons)&&void 0!==S&&S,this.domNode=s.R3(I,s.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(I,b=[],S="",D){I||(I=""),D&&(I=C.escapeNewLines(I,b)),(!this.didEverRender||this.text!==I||this.title!==S||!l.fS(this.highlights,b))&&(this.text=I,this.title=S,this.highlights=b,this.render())}render(){const I=[];let b=0;for(const S of this.highlights){if(S.end===S.start)continue;if(b<S.start){const r=this.text.substring(b,S.start);I.push(s.$("span",void 0,...this.supportIcons?(0,t.T)(r):[r])),b=S.end}const D=this.text.substring(S.start,S.end),_=s.$("span.highlight",void 0,...this.supportIcons?(0,t.T)(D):[D]);S.extraClasses&&_.classList.add(...S.extraClasses),I.push(_),b=S.end}if(b<this.text.length){const S=this.text.substring(b);I.push(s.$("span",void 0,...this.supportIcons?(0,t.T)(S):[S]))}s.mc(this.domNode,...I),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(I,b){let S=0,D=0;return I.replace(/\r\n|\r|\n/g,(_,r)=>{D="\r\n"===_?-1:0,r+=S;for(const a of b)a.end<=r||(a.start>=r&&(a.start+=D),a.end>=r&&(a.end+=D));return S+=D,"\u23ce"})}}},51970:(yt,T,e)=>{"use strict";e.d(T,{g:()=>A});var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(69930),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n);var g=e(94418),v=e(38831),m=e(28055),w=e(21576),E=e(82941),L=e(8406);class x{constructor(N){this._element=N}get element(){return this._element}set textContent(N){this.disposed||N===this._textContent||(this._textContent=N,this._element.textContent=N)}set className(N){this.disposed||N===this._className||(this._className=N,this._element.className=N)}set empty(N){this.disposed||N===this._empty||(this._empty=N,this._element.style.marginLeft=N?"0":"")}dispose(){this.disposed=!0}}class A extends w.JT{constructor(N,O){super(),this.customHovers=new Map,this.domNode=this._register(new x(g.R3(N,g.$(".monaco-icon-label")))),this.labelContainer=g.R3(this.domNode.element,g.$(".monaco-icon-label-container"));const K=g.R3(this.labelContainer,g.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new x(g.R3(this.labelContainer,g.$("span.monaco-icon-description-container")))),this.nameNode=O?.supportHighlights||O?.supportIcons?new H(K,!!O.supportIcons):new k(K),this.descriptionNodeFactory=O?.supportDescriptionHighlights?()=>new v.q(g.R3(this.descriptionContainer.element,g.$("span.label-description")),{supportIcons:!!O.supportIcons}):()=>this._register(new x(g.R3(this.descriptionContainer.element,g.$("span.label-description")))),this.hoverDelegate=O?.hoverDelegate}get element(){return this.domNode.element}setLabel(N,O,K){const $=["monaco-icon-label"];K&&(K.extraClasses&&$.push(...K.extraClasses),K.italic&&$.push("italic"),K.strikethrough&&$.push("strikethrough")),this.domNode.className=$.join(" "),this.setupHover(K?.descriptionTitle?this.labelContainer:this.element,K?.title),this.nameNode.setLabel(N,K),(O||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof v.q?(this.descriptionNode.set(O||"",K?K.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,K?.descriptionTitle)):(this.descriptionNode.textContent=O||"",this.setupHover(this.descriptionNode.element,K?.descriptionTitle||""),this.descriptionNode.empty=!O))}setupHover(N,O){const K=this.customHovers.get(N);if(K&&(K.dispose(),this.customHovers.delete(N)),O)if(this.hoverDelegate){const $=(0,m.g)(this.hoverDelegate,N,O);$&&this.customHovers.set(N,$)}else(0,m.O)(N,O);else N.removeAttribute("title")}dispose(){super.dispose();for(const N of this.customHovers.values())N.dispose();this.customHovers.clear()}}class k{constructor(N){this.container=N,this.label=void 0,this.singleLabel=void 0}setLabel(N,O){if(this.label!==N||!(0,E.fS)(this.options,O))if(this.label=N,this.options=O,"string"==typeof N)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=g.R3(this.container,g.$("a.label-name",{id:O?.domId}))),this.singleLabel.textContent=N;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let K=0;K<N.length;K++){const $=N[K];g.R3(this.container,g.$("a.label-name",{id:O?.domId&&`${O?.domId}_${K}`,"data-icon-label-count":N.length,"data-icon-label-index":K,role:"treeitem"},$)),K<N.length-1&&g.R3(this.container,g.$("span.label-separator",void 0,O?.separator||"/"))}}}}class H{constructor(N,O){this.container=N,this.supportIcons=O,this.label=void 0,this.singleLabel=void 0}setLabel(N,O){if(this.label!==N||!(0,E.fS)(this.options,O))if(this.label=N,this.options=O,"string"==typeof N)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new v.q(g.R3(this.container,g.$("a.label-name",{id:O?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(N,O?.matches,void 0,O?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const K=O?.separator||"/",$=function W(z,N,O){if(!O)return;let K=0;return z.map($=>{const j={start:K,end:K+$.length},q=O.map(R=>L.e.intersect(j,R)).filter(R=>!L.e.isEmpty(R)).map(({start:R,end:Z})=>({start:R-K,end:Z-K}));return K=j.end+N.length,q})}(N,K,O?.matches);for(let j=0;j<N.length;j++){const q=N[j],R=$?$[j]:void 0,J=g.$("a.label-name",{id:O?.domId&&`${O?.domId}_${j}`,"data-icon-label-count":N.length,"data-icon-label-index":j,role:"treeitem"});new v.q(g.R3(this.container,J),{supportIcons:this.supportIcons}).set(q,R,void 0,O?.labelEscapeNewLines),j<N.length-1&&g.R3(J,g.$("span.label-separator",void 0,K))}}}}},28055:(yt,T,e)=>{"use strict";e.d(T,{O:()=>_,g:()=>a});var s=e(94418),t=e(41883),l=e(71943),C=e(32418),f=e(1853),I=e(21576),b=e(22070),S=e(1200),D=function(u,n,d,y){return new(d||(d=Promise))(function(v,m){function w(x){try{L(y.next(x))}catch(A){m(A)}}function E(x){try{L(y.throw(x))}catch(A){m(A)}}function L(x){x.done?v(x.value):function g(v){return v instanceof d?v:new d(function(m){m(v)})}(x.value).then(w,E)}L((y=y.apply(u,n||[])).next())})};function _(u,n){(0,b.HD)(n)?u.title=(0,f.x$)(n):n?.markdownNotSupportedFallback?u.title=n.markdownNotSupportedFallback:u.removeAttribute("title")}class r{constructor(n,d,y){this.hoverDelegate=n,this.target=d,this.fadeInAnimation=y}update(n,d,y){var g;return D(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let v;if(void 0===n||(0,b.HD)(n)||n instanceof HTMLElement)v=n;else if((0,b.mf)(n.markdown)){this._hoverWidget||this.show((0,S.NC)("iconLabel.loading","Loading..."),d),this._cancellationTokenSource=new l.A;const m=this._cancellationTokenSource.token;if(v=yield n.markdown(m),void 0===v&&(v=n.markdownNotSupportedFallback),this.isDisposed||m.isCancellationRequested)return}else v=null!==(g=n.markdown)&&void 0!==g?g:n.markdownNotSupportedFallback;this.show(v,d,y)})}show(n,d,y){const g=this._hoverWidget;if(this.hasContent(n)){const v=Object.assign({content:n,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!g},y);this._hoverWidget=this.hoverDelegate.showHover(v,d)}g?.dispose()}hasContent(n){return!(!n||(0,C.Fr)(n)&&!n.value)}get isDisposed(){var n;return null===(n=this._hoverWidget)||void 0===n?void 0:n.isDisposed}dispose(){var n,d;null===(n=this._hoverWidget)||void 0===n||n.dispose(),null===(d=this._cancellationTokenSource)||void 0===d||d.dispose(!0),this._cancellationTokenSource=void 0}}function a(u,n,d,y){let g,v;const m=(A,k)=>{var W;A&&(v?.dispose(),v=void 0),k&&(g?.dispose(),g=void 0),null===(W=u.onDidHideHover)||void 0===W||W.call(u)},w=(A,k,W)=>new t._F(()=>D(this,void 0,void 0,function*(){(!v||v.isDisposed)&&(v=new r(u,W||n,A>0),yield v.update(d,k,y))}),A),L=s.nm(n,s.tw.MOUSE_OVER,()=>{if(g)return;const A=new I.SL;A.add(s.nm(n,s.tw.MOUSE_LEAVE,z=>m(!1,z.fromElement===n),!0)),A.add(s.nm(n,s.tw.MOUSE_DOWN,()=>m(!0,!0),!0));const H={targetElements:[n],dispose:()=>{}};void 0!==u.placement&&"mouse"!==u.placement||A.add(s.nm(n,s.tw.MOUSE_MOVE,N=>{H.x=N.x+10,N.target instanceof HTMLElement&&N.target.classList.contains("action-label")&&m(!0,!0)},!0)),A.add(w(u.delay,!1,H)),g=A},!0);return{show:A=>{m(!1,!0),w(0,A)},hide:()=>{m(!0,!0)},update:(A,k)=>D(this,void 0,void 0,function*(){d=A,yield v?.update(d,void 0,k)}),dispose:()=>{L.dispose(),m(!0,!0)}}}},47579:(yt,T,e)=>{"use strict";e.d(T,{T:()=>C});var s=e(94418),t=e(51153);const l=new RegExp(`(\\\\)?\\$\\((${t.dT.iconNameExpression}(?:${t.dT.iconModifierExpression})?)\\)`,"g");function C(I){const b=new Array;let S,D=0,_=0;for(;null!==(S=l.exec(I));){_=S.index||0,b.push(I.substring(D,_)),D=(S.index||0)+S[0].length;const[,r,a]=S;b.push(r?`$(${a})`:f({id:a}))}return D<I.length&&b.push(I.substring(D)),b}function f(I){const b=s.$("span");return b.classList.add(...t.dT.asClassNameArray(I)),b}},18341:(yt,T,e)=>{"use strict";e.d(T,{p:()=>j,W:()=>$});var s=e(94418),t=e(16936),l=e(92356),C=e(3847),f=e(48460),I=e(2654),b=e(79595),S=e(84968),D=e(31864);class _{constructor(R,Z=0,J=R.length,Ce=Z-1){this.items=R,this.start=Z,this.end=J,this.index=Ce}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class r{constructor(R=[],Z=10){this._initialize(R),this._limit=Z,this._onChange()}getHistory(){return this._elements}add(R){this._history.delete(R),this._history.add(R),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(R){return this._history.has(R)}_onChange(){this._reduceToLimit();const R=this._elements;this._navigator=new _(R,0,R.length,R.length)}_reduceToLimit(){const R=this._elements;R.length>this._limit&&this._initialize(R.slice(R.length-this._limit))}_currentPosition(){const R=this._navigator.current();return R?this._elements.indexOf(R):-1}_initialize(R){this._history=new Set;for(const Z of R)this._history.add(Z)}get _elements(){const R=[];return this._history.forEach(Z=>R.push(Z)),R}}var a=e(82941),u=e(92123),n=e.n(u),d=e(65057),y=e.n(d),g=e(28764),v=e.n(g),m=e(6557),w=e.n(m),E=e(11146),L=e.n(E),x=e(95085),A=e.n(x),k=e(23612),W={};W.styleTagTransform=A(),W.setAttributes=w(),W.insert=v().bind(null,"head"),W.domAPI=y(),W.insertStyleElement=L(),n()(k.Z,W);var N=e(1200);const O=s.$,K={inputBackground:S.Il.fromHex("#3C3C3C"),inputForeground:S.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:S.Il.fromHex("#55AAFF"),inputValidationInfoBackground:S.Il.fromHex("#063B49"),inputValidationWarningBorder:S.Il.fromHex("#B89500"),inputValidationWarningBackground:S.Il.fromHex("#352A05"),inputValidationErrorBorder:S.Il.fromHex("#BE1100"),inputValidationErrorBackground:S.Il.fromHex("#5A1D1D")};class $ extends b.${constructor(R,Z,J){var Ce;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new D.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=Z,this.options=J||Object.create(null),(0,a.jB)(this.options,K,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(Ce=this.options.tooltip)&&void 0!==Ce?Ce:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=s.R3(R,O(".monaco-inputbox.idle"));const Se=this.options.flexibleHeight?"textarea":"input",Ie=s.R3(this.element,O(".ibwrapper"));if(this.input=s.R3(Ie,O(Se+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=s.R3(Ie,O("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new I.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),s.R3(R,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(Oe=>this.input.scrollTop=Oe.scrollTop));const xe=this._register(new t.Y(document,"selectionchange")),Me=D.ju.filter(xe.event,()=>{const Oe=document.getSelection();return Oe?.anchorNode===Ie});this._register(Me(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new C.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(R){this.placeholder=R,this.input.setAttribute("placeholder",R)}setTooltip(R){this.tooltip=R,this.input.title=R}setAriaLabel(R){this.ariaLabel=R,R?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(R){this.input.value!==R&&(this.input.value=R,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:s.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(R=null){this.input.select(),R&&(this.input.setSelectionRange(R.start,R.end),R.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return s.w(this.input)}set width(R){if(this.options.flexibleHeight&&this.options.flexibleWidth){let Z=0;this.mirror&&(Z=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=R-Z+"px"}else this.input.style.width=R+"px";this.mirror&&(this.mirror.style.width=R+"px")}set paddingRight(R){this.input.style.width=`calc(100% - ${R}px)`,this.mirror&&(this.mirror.style.paddingRight=R+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const J=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:J})}showMessage(R,Z){this.message=R,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(R.type));const J=this.stylesForType(this.message.type);this.element.style.border=J.border?`1px solid ${J.border}`:"",(this.hasFocus()||Z)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let R=null;return this.validation&&(R=this.validation(this.value),R?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(R)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),R?.type}stylesForType(R){switch(R){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(R){switch(R){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let R;const Z=()=>R.style.width=s.w(this.element)+"px";let J;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:Ce=>{if(!this.message)return null;R=s.R3(Ce,O(".monaco-inputbox-container")),Z();const Se={inline:!0,className:"monaco-inputbox-message"},Ie=this.message.formatContent?(0,l.BO)(this.message.content,Se):(0,l.IY)(this.message.content,Se);Ie.classList.add(this.classForType(this.message.type));const xe=this.stylesForType(this.message.type);return Ie.style.backgroundColor=xe.background?xe.background.toString():"",Ie.style.color=xe.foreground?xe.foreground.toString():"",Ie.style.border=xe.border?`1px solid ${xe.border}`:"",s.R3(R,Ie),null},onHide:()=>{this.state="closed"},layout:Z}),J=3===this.message.type?N.NC("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?N.NC("alertWarningMessage","Warning: {0}",this.message.content):N.NC("alertInfoMessage","Info: {0}",this.message.content),f.Z9(J),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const R=this.value,J=10===R.charCodeAt(R.length-1)?" ":"";(R+J).replace(/\u000c/g,"")?this.mirror.textContent=R+J:this.mirror.innerText="\xa0",this.layout()}style(R){this.inputBackground=R.inputBackground,this.inputForeground=R.inputForeground,this.inputBorder=R.inputBorder,this.inputValidationInfoBackground=R.inputValidationInfoBackground,this.inputValidationInfoForeground=R.inputValidationInfoForeground,this.inputValidationInfoBorder=R.inputValidationInfoBorder,this.inputValidationWarningBackground=R.inputValidationWarningBackground,this.inputValidationWarningForeground=R.inputValidationWarningForeground,this.inputValidationWarningBorder=R.inputValidationWarningBorder,this.inputValidationErrorBackground=R.inputValidationErrorBackground,this.inputValidationErrorForeground=R.inputValidationErrorForeground,this.inputValidationErrorBorder=R.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const R=this.inputBackground?this.inputBackground.toString():"",Z=this.inputForeground?this.inputForeground.toString():"",J=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=R,this.element.style.color=Z,this.input.style.backgroundColor="inherit",this.input.style.color=Z,this.element.style.borderWidth=J?"1px":"",this.element.style.borderStyle=J?"solid":"",this.element.style.borderColor=J}layout(){if(!this.mirror)return;const R=this.cachedContentHeight;this.cachedContentHeight=s.wn(this.mirror),R!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(R){const Z=this.inputElement,J=Z.selectionStart,Ce=Z.selectionEnd,Se=Z.value;null!==J&&null!==Ce&&(this.value=Se.substr(0,J)+R+Se.substr(Ce),Z.setSelectionRange(J+1,J+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class j extends ${constructor(R,Z,J){const Ce=N.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),Se=` or \u21c5 ${Ce}`,Ie=` (\u21c5 ${Ce})`;super(R,Z,J),this._onDidFocus=this._register(new D.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new D.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new r(J.history,100);const xe=()=>{if(J.showHistoryHint&&J.showHistoryHint()&&!this.placeholder.endsWith(Se)&&!this.placeholder.endsWith(Ie)&&this.history.getHistory().length){const Me=this.placeholder.endsWith(")")?Se:Ie,Oe=this.placeholder+Me;J.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=Oe:this.setPlaceHolder(Oe)}};this.observer=new MutationObserver((Me,Oe)=>{Me.forEach(se=>{se.target.textContent||xe()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>xe()),this.onblur(this.input,()=>{const Me=Oe=>{if(this.placeholder.endsWith(Oe)){const se=this.placeholder.slice(0,this.placeholder.length-Oe.length);return J.showPlaceholderOnFocus?this.placeholder=se:this.setPlaceHolder(se),!0}return!1};Me(Ie)||Me(Se)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let R=this.getNextValue();R&&(R=R===this.value?this.getNextValue():R),R&&(this.value=R,f.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let R=this.getPreviousValue();R&&(R=R===this.value?this.getPreviousValue():R),R&&(this.value=R,f.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let R=this.history.current();return R||(R=this.history.last(),this.history.next()),R}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},5912:(yt,T,e)=>{"use strict";e.d(T,{A:()=>s});class s extends Error{constructor(l,C){super(`ListError [${l}] ${C}`)}}},35425:(yt,T,e)=>{"use strict";e.d(T,{kX:()=>x,Bv:()=>z});var s=e(52253),t=e(87559),l=e(94418),C=e(16936),f=e(52364),I=e(2654),b=e(14940),S=e(41883),D=e(47957),_=e(31864),r=e(21576),a=e(8406),u=e(79257);function n(N,O){const K=[];for(const $ of O){if(N.start>=$.range.end)continue;if(N.end<$.range.start)break;const j=a.e.intersect(N,$.range);a.e.isEmpty(j)||K.push({range:j,size:$.size})}return K}function d({start:N,end:O},K){return{start:N+K,end:O+K}}class v{constructor(){this.groups=[],this._size=0}splice(O,K,$=[]){const j=$.length-K,q=n({start:0,end:O},this.groups),R=n({start:O+K,end:Number.POSITIVE_INFINITY},this.groups).map(J=>({range:d(J.range,j),size:J.size})),Z=$.map((J,Ce)=>({range:{start:O+Ce,end:O+Ce+1},size:J.size}));this.groups=function g(...N){return function y(N){const O=[];let K=null;for(const $ of N){const j=$.range.start,q=$.range.end,R=$.size;K&&R===K.size?K.range.end=q:(K={range:{start:j,end:q},size:R},O.push(K))}return O}(N.reduce((O,K)=>O.concat(K),[]))}(q,Z,R),this._size=this.groups.reduce((J,Ce)=>J+Ce.size*(Ce.range.end-Ce.range.start),0)}get count(){const O=this.groups.length;return O?this.groups[O-1].range.end:0}get size(){return this._size}indexAt(O){if(O<0)return-1;let K=0,$=0;for(const j of this.groups){const q=j.range.end-j.range.start,R=$+q*j.size;if(O<R)return K+Math.floor((O-$)/j.size);K+=q,$=R}return K}indexAfter(O){return Math.min(this.indexAt(O)+1,this.count)}positionAt(O){if(O<0)return-1;let K=0,$=0;for(const j of this.groups){const q=j.range.end-j.range.start,R=$+q;if(O<R)return K+(O-$)*j.size;K+=q*j.size,$=R}return-1}}class w{constructor(O){this.renderers=O,this.cache=new Map}alloc(O){let K=this.getTemplateCache(O).pop();if(!K){const $=(0,l.$)(".monaco-list-row");K={domNode:$,templateId:O,templateData:this.getRenderer(O).renderTemplate($)}}return K}release(O){O&&this.releaseRow(O)}releaseRow(O){const{domNode:K,templateId:$}=O;K&&(K.classList.remove("scrolling"),function m(N){var O;try{null===(O=N.parentElement)||void 0===O||O.removeChild(N)}catch{}}(K)),this.getTemplateCache($).push(O)}getTemplateCache(O){let K=this.cache.get(O);return K||(K=[],this.cache.set(O,K)),K}dispose(){this.cache.forEach((O,K)=>{for(const $ of O)this.getRenderer(K).disposeTemplate($.templateData),$.templateData=null}),this.cache.clear()}getRenderer(O){const K=this.renderers.get(O);if(!K)throw new Error(`No renderer found for ${O}`);return K}}var E=function(N,O,K,$){var R,j=arguments.length,q=j<3?O:null===$?$=Object.getOwnPropertyDescriptor(O,K):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(N,O,K,$);else for(var Z=N.length-1;Z>=0;Z--)(R=N[Z])&&(q=(j<3?R(q):j>3?R(O,K,q):R(O,K))||q);return j>3&&q&&Object.defineProperty(O,K,q),q};const L={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:N=>[N],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class x{constructor(O){this.elements=O}update(){}getData(){return this.elements}}class A{constructor(O){this.elements=O}update(){}getData(){return this.elements}}class k{constructor(){this.types=[],this.files=[]}update(O){if(O.types&&this.types.splice(0,this.types.length,...O.types),O.files){this.files.splice(0,this.files.length);for(let K=0;K<O.files.length;K++){const $=O.files.item(K);$&&($.size||$.type)&&this.files.push($)}}}getData(){return{types:this.types,files:this.files}}}class H{constructor(O){this.getSetSize=O?.getSetSize?O.getSetSize.bind(O):(K,$,j)=>j,this.getPosInSet=O?.getPosInSet?O.getPosInSet.bind(O):(K,$)=>$+1,this.getRole=O?.getRole?O.getRole.bind(O):K=>"listitem",this.isChecked=O?.isChecked?O.isChecked.bind(O):K=>{}}}class z{constructor(O,K,$,j=L){var q,R,Z,J,Ce,Se,Ie,xe,Me,Oe;if(this.virtualDelegate=K,this.domId="list_id_"+ ++z.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new S.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=r.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=r.JT.None,this.onDragLeaveTimeout=r.JT.None,this.disposables=new r.SL,this._onDidChangeContentHeight=new _.Q5,this._horizontalScrolling=!1,j.horizontalScrolling&&j.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new v;for(const ce of $)this.renderers.set(ce.templateId,ce);this.cache=this.disposables.add(new w(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof j.mouseSupport||j.mouseSupport),this._horizontalScrolling=null!==(q=j.horizontalScrolling)&&void 0!==q?q:L.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof j.additionalScrollHeight>"u"?0:j.additionalScrollHeight,this.accessibilityProvider=new H(j.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(null!==(R=j.transformOptimization)&&void 0!==R?R:L.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(f.o.addTarget(this.rowsContainer)),this.scrollable=new u.Rm({forceIntegerValues:!0,smoothScrollDuration:null!==(Z=j.smoothScrolling)&&void 0!==Z&&Z?125:0,scheduleAtNextAnimationFrame:ce=>(0,l.jL)(ce)}),this.scrollableElement=this.disposables.add(new I.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(J=j.alwaysConsumeMouseWheel)&&void 0!==J?J:L.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(Ce=j.verticalScrollMode)&&void 0!==Ce?Ce:L.verticalScrollMode,useShadows:null!==(Se=j.useShadows)&&void 0!==Se?Se:L.useShadows,mouseWheelScrollSensitivity:j.mouseWheelScrollSensitivity,fastScrollSensitivity:j.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),O.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,l.nm)(this.rowsContainer,f.t.Change,ce=>this.onTouchChange(ce))),this.disposables.add((0,l.nm)(this.scrollableElement.getDomNode(),"scroll",ce=>ce.target.scrollTop=0)),this.disposables.add((0,l.nm)(this.domNode,"dragover",ce=>this.onDragOver(this.toDragEvent(ce)))),this.disposables.add((0,l.nm)(this.domNode,"drop",ce=>this.onDrop(this.toDragEvent(ce)))),this.disposables.add((0,l.nm)(this.domNode,"dragleave",ce=>this.onDragLeave(this.toDragEvent(ce)))),this.disposables.add((0,l.nm)(this.domNode,"dragend",ce=>this.onDragEnd(ce))),this.setRowLineHeight=null!==(Ie=j.setRowLineHeight)&&void 0!==Ie?Ie:L.setRowLineHeight,this.setRowHeight=null!==(xe=j.setRowHeight)&&void 0!==xe?xe:L.setRowHeight,this.supportDynamicHeights=null!==(Me=j.supportDynamicHeights)&&void 0!==Me?Me:L.supportDynamicHeights,this.dnd=null!==(Oe=j.dnd)&&void 0!==Oe?Oe:L.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(O){if(O!==this._horizontalScrolling){if(O&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=O,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const K of this.items)this.measureItemWidth(K);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,l.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(O){void 0!==O.additionalScrollHeight&&(this.additionalScrollHeight=O.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==O.smoothScrolling&&this.scrollable.setSmoothScrollDuration(O.smoothScrolling?125:0),void 0!==O.horizontalScrolling&&(this.horizontalScrolling=O.horizontalScrolling),void 0!==O.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:O.mouseWheelScrollSensitivity}),void 0!==O.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:O.fastScrollSensitivity})}splice(O,K,$=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(O,K,$)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(O,K,$=[]){const j=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),R=a.e.intersect(j,{start:O,end:O+K}),Z=new Map;for(let Ze=R.end-1;Ze>=R.start;Ze--){const ze=this.items[Ze];if(ze.dragStartDisposable.dispose(),ze.checkedDisposable.dispose(),ze.row){let fe=Z.get(ze.templateId);fe||(fe=[],Z.set(ze.templateId,fe));const Ke=this.renderers.get(ze.templateId);Ke&&Ke.disposeElement&&Ke.disposeElement(ze.element,Ze,ze.row.templateData,ze.size),fe.push(ze.row)}ze.row=null}const J={start:O+K,end:this.items.length},Ce=a.e.intersect(J,j),Se=a.e.relativeComplement(J,j),Ie=$.map(Ze=>({id:String(this.itemId++),element:Ze,templateId:this.virtualDelegate.getTemplateId(Ze),size:this.virtualDelegate.getHeight(Ze),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ze),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:r.JT.None,checkedDisposable:r.JT.None}));let xe;0===O&&K>=this.items.length?(this.rangeMap=new v,this.rangeMap.splice(0,0,Ie),xe=this.items,this.items=Ie):(this.rangeMap.splice(O,K,Ie),xe=this.items.splice(O,K,...Ie));const Me=$.length-K,Oe=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),se=d(Ce,Me),ce=a.e.intersect(Oe,se);for(let Ze=ce.start;Ze<ce.end;Ze++)this.updateItemInDOM(this.items[Ze],Ze);const Ee=a.e.relativeComplement(se,Oe);for(const Ze of Ee)for(let ze=Ze.start;ze<Ze.end;ze++)this.removeItemFromDOM(ze);const me=Se.map(Ze=>d(Ze,Me)),he=[{start:O,end:O+$.length},...me].map(Ze=>a.e.intersect(Oe,Ze)),Fe=this.getNextToLastElement(he);for(const Ze of he)for(let ze=Ze.start;ze<Ze.end;ze++){const Ke=Z.get(this.items[ze].templateId),Je=Ke?.pop();this.insertItemInDOM(ze,Fe,Je)}for(const Ze of Z.values())for(const ze of Ze)this.cache.release(ze);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),xe.map(Ze=>Ze.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,l.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let O=0;for(const K of this.items)typeof K.width<"u"&&(O=Math.max(O,K.width));this.scrollWidth=O,this.scrollableElement.setScrollDimensions({scrollWidth:0===O?0:O+10})}rerender(){if(this.supportDynamicHeights){for(const O of this.items)O.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(O){return this.items[O].element}domElement(O){const K=this.items[O].row;return K&&K.domNode}elementHeight(O){return this.items[O].size}elementTop(O){return this.rangeMap.positionAt(O)}indexAt(O){return this.rangeMap.indexAt(O)}indexAfter(O){return this.rangeMap.indexAfter(O)}layout(O,K){const $={height:"number"==typeof O?O:(0,l.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,$.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions($),typeof K<"u"&&(this.renderWidth=K,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof K?K:(0,l.FK)(this.domNode)})}render(O,K,$,j,q,R=!1){const Z=this.getRenderRange(K,$),J=a.e.relativeComplement(Z,O),Ce=a.e.relativeComplement(O,Z),Se=this.getNextToLastElement(J);if(R){const Ie=a.e.intersect(O,Z);for(let xe=Ie.start;xe<Ie.end;xe++)this.updateItemInDOM(this.items[xe],xe)}for(const Ie of J)for(let xe=Ie.start;xe<Ie.end;xe++)this.insertItemInDOM(xe,Se);for(const Ie of Ce)for(let xe=Ie.start;xe<Ie.end;xe++)this.removeItemFromDOM(xe);void 0!==j&&(this.rowsContainer.style.left=`-${j}px`),this.rowsContainer.style.top=`-${K}px`,this.horizontalScrolling&&void 0!==q&&(this.rowsContainer.style.width=`${Math.max(q,this.renderWidth)}px`),this.lastRenderTop=K,this.lastRenderHeight=$}insertItemInDOM(O,K,$){const j=this.items[O];j.row||(j.row=$??this.cache.alloc(j.templateId));const q=this.accessibilityProvider.getRole(j.element)||"listitem";j.row.domNode.setAttribute("role",q);const R=this.accessibilityProvider.isChecked(j.element);if("boolean"==typeof R)j.row.domNode.setAttribute("aria-checked",String(!!R));else if(R){const Ce=Se=>j.row.domNode.setAttribute("aria-checked",String(!!Se));Ce(R.value),j.checkedDisposable=R.onDidChange(Ce)}j.row.domNode.parentElement||(K?this.rowsContainer.insertBefore(j.row.domNode,K):this.rowsContainer.appendChild(j.row.domNode)),this.updateItemInDOM(j,O);const Z=this.renderers.get(j.templateId);if(!Z)throw new Error(`No renderer found for template id ${j.templateId}`);Z?.renderElement(j.element,O,j.row.templateData,j.size);const J=this.dnd.getDragURI(j.element);j.dragStartDisposable.dispose(),j.row.domNode.draggable=!!J,J&&(j.dragStartDisposable=(0,l.nm)(j.row.domNode,"dragstart",Ce=>this.onDragStart(j.element,J,Ce))),this.horizontalScrolling&&(this.measureItemWidth(j),this.eventuallyUpdateScrollWidth())}measureItemWidth(O){if(!O.row||!O.row.domNode)return;O.row.domNode.style.width=s.isFirefox?"-moz-fit-content":"fit-content",O.width=(0,l.FK)(O.row.domNode);const K=window.getComputedStyle(O.row.domNode);K.paddingLeft&&(O.width+=parseFloat(K.paddingLeft)),K.paddingRight&&(O.width+=parseFloat(K.paddingRight)),O.row.domNode.style.width=""}updateItemInDOM(O,K){O.row.domNode.style.top=`${this.elementTop(K)}px`,this.setRowHeight&&(O.row.domNode.style.height=`${O.size}px`),this.setRowLineHeight&&(O.row.domNode.style.lineHeight=`${O.size}px`),O.row.domNode.setAttribute("data-index",`${K}`),O.row.domNode.setAttribute("data-last-element",K===this.length-1?"true":"false"),O.row.domNode.setAttribute("data-parity",K%2==0?"even":"odd"),O.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(O.element,K,this.length))),O.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(O.element,K))),O.row.domNode.setAttribute("id",this.getElementDomId(K)),O.row.domNode.classList.toggle("drop-target",O.dropTarget)}removeItemFromDOM(O){const K=this.items[O];if(K.dragStartDisposable.dispose(),K.checkedDisposable.dispose(),K.row){const $=this.renderers.get(K.templateId);$&&$.disposeElement&&$.disposeElement(K.element,O,K.row.templateData,K.size),this.cache.release(K.row),K.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(O,K){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:O,reuseAnimation:K})}get scrollTop(){return this.getScrollTop()}set scrollTop(O){this.setScrollTop(O)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return _.ju.map(this.disposables.add(new C.Y(this.domNode,"click")).event,O=>this.toMouseEvent(O),this.disposables)}get onMouseDblClick(){return _.ju.map(this.disposables.add(new C.Y(this.domNode,"dblclick")).event,O=>this.toMouseEvent(O),this.disposables)}get onMouseMiddleClick(){return _.ju.filter(_.ju.map(this.disposables.add(new C.Y(this.domNode,"auxclick")).event,O=>this.toMouseEvent(O),this.disposables),O=>1===O.browserEvent.button,this.disposables)}get onMouseDown(){return _.ju.map(this.disposables.add(new C.Y(this.domNode,"mousedown")).event,O=>this.toMouseEvent(O),this.disposables)}get onMouseOver(){return _.ju.map(this.disposables.add(new C.Y(this.domNode,"mouseover")).event,O=>this.toMouseEvent(O),this.disposables)}get onContextMenu(){return _.ju.any(_.ju.map(this.disposables.add(new C.Y(this.domNode,"contextmenu")).event,O=>this.toMouseEvent(O),this.disposables),_.ju.map(this.disposables.add(new C.Y(this.domNode,f.t.Contextmenu)).event,O=>this.toGestureEvent(O),this.disposables))}get onTouchStart(){return _.ju.map(this.disposables.add(new C.Y(this.domNode,"touchstart")).event,O=>this.toTouchEvent(O),this.disposables)}get onTap(){return _.ju.map(this.disposables.add(new C.Y(this.rowsContainer,f.t.Tap)).event,O=>this.toGestureEvent(O),this.disposables)}toMouseEvent(O){const K=this.getItemIndexFromEventTarget(O.target||null),$=typeof K>"u"?void 0:this.items[K];return{browserEvent:O,index:K,element:$&&$.element}}toTouchEvent(O){const K=this.getItemIndexFromEventTarget(O.target||null),$=typeof K>"u"?void 0:this.items[K];return{browserEvent:O,index:K,element:$&&$.element}}toGestureEvent(O){const K=this.getItemIndexFromEventTarget(O.initialTarget||null),$=typeof K>"u"?void 0:this.items[K];return{browserEvent:O,index:K,element:$&&$.element}}toDragEvent(O){const K=this.getItemIndexFromEventTarget(O.target||null),$=typeof K>"u"?void 0:this.items[K];return{browserEvent:O,index:K,element:$&&$.element}}onScroll(O){try{const K=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(K,O.scrollTop,O.height,O.scrollLeft,O.scrollWidth),this.supportDynamicHeights&&this._rerender(O.scrollTop,O.height,O.inSmoothScrolling)}catch(K){throw console.error("Got bad scroll event:",O),K}}onTouchChange(O){O.preventDefault(),O.stopPropagation(),this.scrollTop-=O.translationY}onDragStart(O,K,$){var j,q;if(!$.dataTransfer)return;const R=this.dnd.getDragElements(O);if($.dataTransfer.effectAllowed="copyMove",$.dataTransfer.setData(t.g.TEXT,K),$.dataTransfer.setDragImage){let Z;this.dnd.getDragLabel&&(Z=this.dnd.getDragLabel(R,$)),typeof Z>"u"&&(Z=String(R.length));const J=(0,l.$)(".monaco-drag-image");J.textContent=Z,document.body.appendChild(J),$.dataTransfer.setDragImage(J,-10,-10),setTimeout(()=>document.body.removeChild(J),0)}this.currentDragData=new x(R),t.P.CurrentDragAndDropData=new A(R),null===(q=(j=this.dnd).onDragStart)||void 0===q||q.call(j,this.currentDragData,$)}onDragOver(O){var K;if(O.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),t.P.CurrentDragAndDropData&&"vscode-ui"===t.P.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(O.browserEvent),!O.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(t.P.CurrentDragAndDropData)this.currentDragData=t.P.CurrentDragAndDropData;else{if(!O.browserEvent.dataTransfer.types)return!1;this.currentDragData=new k}const $=this.dnd.onDragOver(this.currentDragData,O.element,O.index,O.browserEvent);if(this.canDrop="boolean"==typeof $?$:$.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let j;if(O.browserEvent.dataTransfer.dropEffect="boolean"!=typeof $&&0===$.effect?"copy":"move",j="boolean"!=typeof $&&$.feedback?$.feedback:typeof O.index>"u"?[-1]:[O.index],j=(0,b.EB)(j).filter(q=>q>=-1&&q<this.length).sort((q,R)=>q-R),j=-1===j[0]?[-1]:j,function W(N,O){return Array.isArray(N)&&Array.isArray(O)?(0,b.fS)(N,O):N===O}(this.currentDragFeedback,j))return!0;if(this.currentDragFeedback=j,this.currentDragFeedbackDisposable.dispose(),-1===j[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,r.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const q of j){const R=this.items[q];R.dropTarget=!0,null===(K=R.row)||void 0===K||K.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,r.OF)(()=>{var q;for(const R of j){const Z=this.items[R];Z.dropTarget=!1,null===(q=Z.row)||void 0===q||q.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(O){var K,$;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,S.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===($=(K=this.dnd).onDragLeave)||void 0===$||$.call(K,this.currentDragData,O.element,O.index,O.browserEvent))}onDrop(O){if(!this.canDrop)return;const K=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,t.P.CurrentDragAndDropData=void 0,K&&O.browserEvent.dataTransfer&&(O.browserEvent.preventDefault(),K.update(O.browserEvent.dataTransfer),this.dnd.drop(K,O.element,O.index,O.browserEvent))}onDragEnd(O){var K,$;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,t.P.CurrentDragAndDropData=void 0,null===($=(K=this.dnd).onDragEnd)||void 0===$||$.call(K,O)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=r.JT.None}setupDragAndDropScrollTopAnimation(O){if(!this.dragOverAnimationDisposable){const K=(0,l.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,l.jt)(this.animateDragAndDropScrollTop.bind(this,K))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,S.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=O.pageY}animateDragAndDropScrollTop(O){if(void 0===this.dragOverMouseY)return;const K=this.dragOverMouseY-O,$=this.renderHeight-35;K<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(K-35))):K>$&&(this.scrollTop+=Math.min(14,Math.floor(.3*(K-$))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(O){const K=this.scrollableElement.getDomNode();let $=O;for(;$ instanceof HTMLElement&&$!==this.rowsContainer&&K.contains($);){const j=$.getAttribute("data-index");if(j){const q=Number(j);if(!isNaN(q))return q}$=$.parentElement}}getRenderRange(O,K){return{start:this.rangeMap.indexAt(O),end:this.rangeMap.indexAfter(O+K-1)}}_rerender(O,K,$){const j=this.getRenderRange(O,K);let q,R;O===this.elementTop(j.start)?(q=j.start,R=0):j.end-j.start>1&&(q=j.start+1,R=this.elementTop(q)-O);let Z=0;for(;;){const J=this.getRenderRange(O,K);let Ce=!1;for(let Se=J.start;Se<J.end;Se++){const Ie=this.probeDynamicHeight(Se);0!==Ie&&this.rangeMap.splice(Se,1,[this.items[Se]]),Z+=Ie,Ce=Ce||0!==Ie}if(!Ce){0!==Z&&this.eventuallyUpdateScrollDimensions();const Se=a.e.relativeComplement(j,J);for(const xe of Se)for(let Me=xe.start;Me<xe.end;Me++)this.items[Me].row&&this.removeItemFromDOM(Me);const Ie=a.e.relativeComplement(J,j);for(const xe of Ie)for(let Me=xe.start;Me<xe.end;Me++){const Oe=Me+1,se=Oe<this.items.length?this.items[Oe].row:null;this.insertItemInDOM(Me,se?se.domNode:null)}for(let xe=J.start;xe<J.end;xe++)this.items[xe].row&&this.updateItemInDOM(this.items[xe],xe);if("number"==typeof q){const xe=this.scrollable.getFutureScrollPosition().scrollTop-O,Me=this.elementTop(q)-R+xe;this.setScrollTop(Me,$)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(O){var K,$,j;const q=this.items[O];if(this.virtualDelegate.getDynamicHeight){const Ce=this.virtualDelegate.getDynamicHeight(q.element);if(null!==Ce){const Se=q.size;return q.size=Ce,q.lastDynamicHeightWidth=this.renderWidth,Ce-Se}}if(!q.hasDynamicHeight||q.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(q.element))return 0;const R=q.size;if(!this.setRowHeight&&q.row){const Ce=q.row.domNode.offsetHeight;return q.size=Ce,q.lastDynamicHeightWidth=this.renderWidth,Ce-R}const Z=this.cache.alloc(q.templateId);Z.domNode.style.height="",this.rowsContainer.appendChild(Z.domNode);const J=this.renderers.get(q.templateId);return J&&(J.renderElement(q.element,O,Z.templateData,void 0),null===(K=J.disposeElement)||void 0===K||K.call(J,q.element,O,Z.templateData,void 0)),q.size=Z.domNode.offsetHeight,null===(j=($=this.virtualDelegate).setDynamicHeight)||void 0===j||j.call($,q.element,q.size),q.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(Z.domNode),this.cache.release(Z),q.size-R}getNextToLastElement(O){const K=O[O.length-1];if(!K)return null;const $=this.items[K.end];return $&&$.row?$.row.domNode:null}getElementDomId(O){return`${this.domId}_${O}`}dispose(){var O;if(this.items){for(const K of this.items)if(K.row){const $=this.renderers.get(K.row.templateId);$&&(null===(O=$.disposeElement)||void 0===O||O.call($,K.element,-1,K.row.templateData,void 0),$.disposeTemplate(K.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,r.B9)(this.disposables)}}z.InstanceCount=0,E([D.H],z.prototype,"onMouseClick",null),E([D.H],z.prototype,"onMouseDblClick",null),E([D.H],z.prototype,"onMouseMiddleClick",null),E([D.H],z.prototype,"onMouseDown",null),E([D.H],z.prototype,"onMouseOver",null),E([D.H],z.prototype,"onContextMenu",null),E([D.H],z.prototype,"onTouchStart",null),E([D.H],z.prototype,"onTap",null)},42749:(yt,T,e)=>{"use strict";e.d(T,{AA:()=>K,Zo:()=>Z,aV:()=>Ze,cK:()=>H,hD:()=>z,iK:()=>N,sx:()=>Ie,wD:()=>xe,wn:()=>J});var s=e(94418),t=e(16936),l=e(47888),C=e(52364),f=e(48460),I=e(96245),b=e(14940),S=e(41883),D=e(84968),_=e(47957),r=e(31864),a=e(19623),u=e(21576),n=e(23944),d=e(82941),y=e(84834),g=e(22070),m=(e(38475),e(5912)),w=e(35425),E=function(ze,fe,Ke,Je){var Xe,vt=arguments.length,Et=vt<3?fe:null===Je?Je=Object.getOwnPropertyDescriptor(fe,Ke):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(ze,fe,Ke,Je);else for(var re=ze.length-1;re>=0;re--)(Xe=ze[re])&&(Et=(vt<3?Xe(Et):vt>3?Xe(fe,Ke,Et):Xe(fe,Ke))||Et);return vt>3&&Et&&Object.defineProperty(fe,Ke,Et),Et},L=function(ze,fe,Ke,Je){return new(Ke||(Ke=Promise))(function(Et,Xe){function re(de){try{ge(Je.next(de))}catch(Q){Xe(Q)}}function pe(de){try{ge(Je.throw(de))}catch(Q){Xe(Q)}}function ge(de){de.done?Et(de.value):function vt(Et){return Et instanceof Ke?Et:new Ke(function(Xe){Xe(Et)})}(de.value).then(re,pe)}ge((Je=Je.apply(ze,fe||[])).next())})};class x{constructor(fe){this.trait=fe,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(fe){return fe}renderElement(fe,Ke,Je){const vt=this.renderedElements.findIndex(Et=>Et.templateData===Je);if(vt>=0){const Et=this.renderedElements[vt];this.trait.unrender(Je),Et.index=Ke}else this.renderedElements.push({index:Ke,templateData:Je});this.trait.renderIndex(Ke,Je)}splice(fe,Ke,Je){const vt=[];for(const Et of this.renderedElements)Et.index<fe?vt.push(Et):Et.index>=fe+Ke&&vt.push({index:Et.index+Je-Ke,templateData:Et.templateData});this.renderedElements=vt}renderIndexes(fe){for(const{index:Ke,templateData:Je}of this.renderedElements)fe.indexOf(Ke)>-1&&this.trait.renderIndex(Ke,Je)}disposeTemplate(fe){const Ke=this.renderedElements.findIndex(Je=>Je.templateData===fe);Ke<0||this.renderedElements.splice(Ke,1)}}class A{constructor(fe){this._trait=fe,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new r.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new x(this)}splice(fe,Ke,Je){var vt;Ke=Math.max(0,Math.min(Ke,this.length-fe));const Et=Je.length-Ke,Xe=fe+Ke,re=[...this.sortedIndexes.filter(ge=>ge<fe),...Je.map((ge,de)=>ge?de+fe:-1).filter(ge=>-1!==ge),...this.sortedIndexes.filter(ge=>ge>=Xe).map(ge=>ge+Et)],pe=this.length+Et;if(this.sortedIndexes.length>0&&0===re.length&&pe>0){const ge=null!==(vt=this.sortedIndexes.find(de=>de>=fe))&&void 0!==vt?vt:pe-1;re.push(Math.min(ge,pe-1))}this.renderer.splice(fe,Ke,Je.length),this._set(re,re),this.length=pe}renderIndex(fe,Ke){Ke.classList.toggle(this._trait,this.contains(fe))}unrender(fe){fe.classList.remove(this._trait)}set(fe,Ke){return this._set(fe,[...fe].sort(me),Ke)}_set(fe,Ke,Je){const vt=this.indexes,Et=this.sortedIndexes;this.indexes=fe,this.sortedIndexes=Ke;const Xe=ce(Et,fe);return this.renderer.renderIndexes(Xe),this._onChange.fire({indexes:fe,browserEvent:Je}),vt}get(){return this.indexes}contains(fe){return(0,b.ry)(this.sortedIndexes,fe,me)>=0}dispose(){(0,u.B9)(this._onChange)}}E([_.H],A.prototype,"renderer",null);class k extends A{constructor(fe){super("selected"),this.setAriaSelected=fe}renderIndex(fe,Ke){super.renderIndex(fe,Ke),this.setAriaSelected&&(this.contains(fe)?Ke.setAttribute("aria-selected","true"):Ke.setAttribute("aria-selected","false"))}}class W{constructor(fe,Ke,Je){this.trait=fe,this.view=Ke,this.identityProvider=Je}splice(fe,Ke,Je){if(!this.identityProvider)return this.trait.splice(fe,Ke,Je.map(()=>!1));const vt=this.trait.get().map(Xe=>this.identityProvider.getId(this.view.element(Xe)).toString()),Et=Je.map(Xe=>vt.indexOf(this.identityProvider.getId(Xe).toString())>-1);this.trait.splice(fe,Ke,Et)}}function H(ze){return"INPUT"===ze.tagName||"TEXTAREA"===ze.tagName}function z(ze){return!!ze.classList.contains("monaco-editor")||!(ze.classList.contains("monaco-list")||!ze.parentElement)&&z(ze.parentElement)}function N(ze){return!!("A"===ze.tagName&&ze.classList.contains("monaco-button")||"DIV"===ze.tagName&&ze.classList.contains("monaco-button-dropdown"))||!(ze.classList.contains("monaco-list")||!ze.parentElement)&&N(ze.parentElement)}class O{constructor(fe,Ke,Je){this.list=fe,this.view=Ke,this.disposables=new u.SL,this.multipleSelectionDisposables=new u.SL,this.onKeyDown.filter(vt=>3===vt.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(vt=>16===vt.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(vt=>18===vt.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(vt=>11===vt.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(vt=>12===vt.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(vt=>9===vt.keyCode).on(this.onEscape,this,this.disposables),!1!==Je.multipleSelectionSupport&&this.onKeyDown.filter(vt=>(y.dz?vt.metaKey:vt.ctrlKey)&&31===vt.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(r.ju.chain(this.disposables.add(new t.Y(this.view.domNode,"keydown")).event).filter(fe=>!H(fe.target)).map(fe=>new l.y(fe)))}updateOptions(fe){void 0!==fe.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),fe.multipleSelectionSupport&&this.onKeyDown.filter(Ke=>(y.dz?Ke.metaKey:Ke.ctrlKey)&&31===Ke.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(fe){fe.preventDefault(),fe.stopPropagation(),this.list.setSelection(this.list.getFocus(),fe.browserEvent)}onUpArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusPrevious(1,!1,fe.browserEvent);const Ke=this.list.getFocus()[0];this.list.setAnchor(Ke),this.list.reveal(Ke),this.view.domNode.focus()}onDownArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusNext(1,!1,fe.browserEvent);const Ke=this.list.getFocus()[0];this.list.setAnchor(Ke),this.list.reveal(Ke),this.view.domNode.focus()}onPageUpArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusPreviousPage(fe.browserEvent);const Ke=this.list.getFocus()[0];this.list.setAnchor(Ke),this.list.reveal(Ke),this.view.domNode.focus()}onPageDownArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusNextPage(fe.browserEvent);const Ke=this.list.getFocus()[0];this.list.setAnchor(Ke),this.list.reveal(Ke),this.view.domNode.focus()}onCtrlA(fe){fe.preventDefault(),fe.stopPropagation(),this.list.setSelection((0,b.w6)(this.list.length),fe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(fe){this.list.getSelection().length&&(fe.preventDefault(),fe.stopPropagation(),this.list.setSelection([],fe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}E([_.H],O.prototype,"onKeyDown",null);var K=(()=>((K=K||{})[K.Automatic=0]="Automatic",K[K.Trigger=1]="Trigger",K))(),$=(()=>(($=$||{})[$.Idle=0]="Idle",$[$.Typing=1]="Typing",$))();const j=new class{mightProducePrintableCharacter(ze){return!(ze.ctrlKey||ze.metaKey||ze.altKey)&&(ze.keyCode>=31&&ze.keyCode<=56||ze.keyCode>=21&&ze.keyCode<=30||ze.keyCode>=93&&ze.keyCode<=102||ze.keyCode>=80&&ze.keyCode<=90)}};class q{constructor(fe,Ke,Je,vt,Et){this.list=fe,this.view=Ke,this.keyboardNavigationLabelProvider=Je,this.keyboardNavigationEventFilter=vt,this.delegate=Et,this.enabled=!1,this.state=$.Idle,this.mode=K.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new u.SL,this.disposables=new u.SL,this.updateOptions(fe.options)}updateOptions(fe){var Ke,Je;null===(Ke=fe.typeNavigationEnabled)||void 0===Ke||Ke?this.enable():this.disable(),this.mode=null!==(Je=fe.typeNavigationMode)&&void 0!==Je?Je:K.Automatic}enable(){if(this.enabled)return;let fe=!1;const Ke=this.enabledDisposables.add(r.ju.chain(this.enabledDisposables.add(new t.Y(this.view.domNode,"keydown")).event)).filter(Et=>!H(Et.target)).filter(()=>this.mode===K.Automatic||this.triggered).map(Et=>new l.y(Et)).filter(Et=>fe||this.keyboardNavigationEventFilter(Et)).filter(Et=>this.delegate.mightProducePrintableCharacter(Et)).forEach(t.p).map(Et=>Et.browserEvent.key).event,Je=r.ju.debounce(Ke,()=>null,800,void 0,void 0,this.enabledDisposables);r.ju.reduce(r.ju.any(Ke,Je),(Et,Xe)=>null===Xe?null:(Et||"")+Xe,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Je(this.onClear,this,this.enabledDisposables),Ke(()=>fe=!0,void 0,this.enabledDisposables),Je(()=>fe=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var fe;const Ke=this.list.getFocus();if(Ke.length>0&&Ke[0]===this.previouslyFocused){const Je=null===(fe=this.list.options.accessibilityProvider)||void 0===fe?void 0:fe.getAriaLabel(this.list.element(Ke[0]));Je&&(0,f.Z9)(Je)}this.previouslyFocused=-1}onInput(fe){if(!fe)return this.state=$.Idle,void(this.triggered=!1);const Ke=this.list.getFocus(),Je=Ke.length>0?Ke[0]:0,vt=this.state===$.Idle?1:0;this.state=$.Typing;for(let Et=0;Et<this.list.length;Et++){const Xe=(Je+Et+vt)%this.list.length,re=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Xe)),pe=re&&re.toString();if(typeof pe>"u"||(0,a.Ji)(fe,pe))return this.previouslyFocused=Je,this.list.setFocus([Xe]),void this.list.reveal(Xe)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class R{constructor(fe,Ke){this.list=fe,this.view=Ke,this.disposables=new u.SL,this.disposables.add(r.ju.chain(this.disposables.add(new t.Y(Ke.domNode,"keydown")).event)).filter(vt=>!H(vt.target)).map(vt=>new l.y(vt)).filter(vt=>!(2!==vt.keyCode||vt.ctrlKey||vt.metaKey||vt.shiftKey||vt.altKey)).on(this.onTab,this,this.disposables)}onTab(fe){if(fe.target!==this.view.domNode)return;const Ke=this.list.getFocus();if(0===Ke.length)return;const Je=this.view.domElement(Ke[0]);if(!Je)return;const vt=Je.querySelector("[tabIndex]");if(!(vt&&vt instanceof HTMLElement&&-1!==vt.tabIndex))return;const Et=window.getComputedStyle(vt);"hidden"===Et.visibility||"none"===Et.display||(fe.preventDefault(),fe.stopPropagation(),vt.focus())}dispose(){this.disposables.dispose()}}function Z(ze){return y.dz?ze.browserEvent.metaKey:ze.browserEvent.ctrlKey}function J(ze){return ze.browserEvent.shiftKey}const Se={isSelectionSingleChangeEvent:Z,isSelectionRangeChangeEvent:J};class Ie{constructor(fe){this.list=fe,this.disposables=new u.SL,this._onPointer=new r.Q5,this.onPointer=this._onPointer.event,!1!==fe.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Se),this.mouseSupport=typeof fe.options.mouseSupport>"u"||!!fe.options.mouseSupport,this.mouseSupport&&(fe.onMouseDown(this.onMouseDown,this,this.disposables),fe.onContextMenu(this.onContextMenu,this,this.disposables),fe.onMouseDblClick(this.onDoubleClick,this,this.disposables),fe.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(C.o.addTarget(fe.getHTMLElement()))),r.ju.any(fe.onMouseClick,fe.onMouseMiddleClick,fe.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(fe){void 0!==fe.multipleSelectionSupport&&(this.multipleSelectionController=void 0,fe.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Se))}isSelectionSingleChangeEvent(fe){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(fe)}isSelectionRangeChangeEvent(fe){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(fe)}isSelectionChangeEvent(fe){return this.isSelectionSingleChangeEvent(fe)||this.isSelectionRangeChangeEvent(fe)}onMouseDown(fe){z(fe.browserEvent.target)||document.activeElement!==fe.browserEvent.target&&this.list.domFocus()}onContextMenu(fe){z(fe.browserEvent.target)||this.list.setFocus(typeof fe.index>"u"?[]:[fe.index],fe.browserEvent)}onViewPointer(fe){if(!this.mouseSupport||H(fe.browserEvent.target)||z(fe.browserEvent.target))return;const Ke=fe.index;return typeof Ke>"u"?(this.list.setFocus([],fe.browserEvent),this.list.setSelection([],fe.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(fe)||this.isSelectionChangeEvent(fe)?this.changeSelection(fe):(this.list.setFocus([Ke],fe.browserEvent),this.list.setAnchor(Ke),function Ce(ze){return ze instanceof MouseEvent&&2===ze.button}(fe.browserEvent)||this.list.setSelection([Ke],fe.browserEvent),void this._onPointer.fire(fe))}onDoubleClick(fe){if(H(fe.browserEvent.target)||z(fe.browserEvent.target)||this.isSelectionChangeEvent(fe))return;const Ke=this.list.getFocus();this.list.setSelection(Ke,fe.browserEvent)}changeSelection(fe){const Ke=fe.index;let Je=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(fe)){typeof Je>"u"&&(Je=this.list.getFocus()[0]??Ke,this.list.setAnchor(Je));const vt=Math.min(Je,Ke),Et=Math.max(Je,Ke),Xe=(0,b.w6)(vt,Et+1),re=this.list.getSelection(),pe=function se(ze,fe){const Ke=ze.indexOf(fe);if(-1===Ke)return[];const Je=[];let vt=Ke-1;for(;vt>=0&&ze[vt]===fe-(Ke-vt);)Je.push(ze[vt--]);for(Je.reverse(),vt=Ke;vt<ze.length&&ze[vt]===fe+(vt-Ke);)Je.push(ze[vt++]);return Je}(ce(re,[Je]),Je);if(0===pe.length)return;const ge=ce(Xe,function Ee(ze,fe){const Ke=[];let Je=0,vt=0;for(;Je<ze.length||vt<fe.length;)if(Je>=ze.length)Ke.push(fe[vt++]);else if(vt>=fe.length)Ke.push(ze[Je++]);else{if(ze[Je]===fe[vt]){Je++,vt++;continue}ze[Je]<fe[vt]?Ke.push(ze[Je++]):vt++}return Ke}(re,pe));this.list.setSelection(ge,fe.browserEvent),this.list.setFocus([Ke],fe.browserEvent)}else if(this.isSelectionSingleChangeEvent(fe)){const vt=this.list.getSelection(),Et=vt.filter(Xe=>Xe!==Ke);this.list.setFocus([Ke]),this.list.setAnchor(Ke),this.list.setSelection(vt.length===Et.length?[...Et,Ke]:Et,fe.browserEvent)}}dispose(){this.disposables.dispose()}}class xe{constructor(fe,Ke){this.styleElement=fe,this.selectorSuffix=Ke}style(fe){const Ke=this.selectorSuffix&&`.${this.selectorSuffix}`,Je=[];fe.listBackground&&(fe.listBackground.isOpaque()?Je.push(`.monaco-list${Ke} .monaco-list-rows { background: ${fe.listBackground}; }`):y.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),fe.listFocusBackground&&(Je.push(`.monaco-list${Ke}:focus .monaco-list-row.focused { background-color: ${fe.listFocusBackground}; }`),Je.push(`.monaco-list${Ke}:focus .monaco-list-row.focused:hover { background-color: ${fe.listFocusBackground}; }`)),fe.listFocusForeground&&Je.push(`.monaco-list${Ke}:focus .monaco-list-row.focused { color: ${fe.listFocusForeground}; }`),fe.listActiveSelectionBackground&&(Je.push(`.monaco-list${Ke}:focus .monaco-list-row.selected { background-color: ${fe.listActiveSelectionBackground}; }`),Je.push(`.monaco-list${Ke}:focus .monaco-list-row.selected:hover { background-color: ${fe.listActiveSelectionBackground}; }`)),fe.listActiveSelectionForeground&&Je.push(`.monaco-list${Ke}:focus .monaco-list-row.selected { color: ${fe.listActiveSelectionForeground}; }`),fe.listActiveSelectionIconForeground&&Je.push(`.monaco-list${Ke}:focus .monaco-list-row.selected .codicon { color: ${fe.listActiveSelectionIconForeground}; }`),fe.listFocusAndSelectionOutline&&Je.push(`.monaco-list${Ke}:focus .monaco-list-row.selected { outline-color: ${fe.listFocusAndSelectionOutline} !important; }`),fe.listFocusAndSelectionBackground&&Je.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ke}:focus .monaco-list-row.selected.focused { background-color: ${fe.listFocusAndSelectionBackground}; }\n\t\t\t`),fe.listFocusAndSelectionForeground&&Je.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ke}:focus .monaco-list-row.selected.focused { color: ${fe.listFocusAndSelectionForeground}; }\n\t\t\t`),fe.listInactiveFocusForeground&&(Je.push(`.monaco-list${Ke} .monaco-list-row.focused { color:  ${fe.listInactiveFocusForeground}; }`),Je.push(`.monaco-list${Ke} .monaco-list-row.focused:hover { color:  ${fe.listInactiveFocusForeground}; }`)),fe.listInactiveSelectionIconForeground&&Je.push(`.monaco-list${Ke} .monaco-list-row.focused .codicon { color:  ${fe.listInactiveSelectionIconForeground}; }`),fe.listInactiveFocusBackground&&(Je.push(`.monaco-list${Ke} .monaco-list-row.focused { background-color:  ${fe.listInactiveFocusBackground}; }`),Je.push(`.monaco-list${Ke} .monaco-list-row.focused:hover { background-color:  ${fe.listInactiveFocusBackground}; }`)),fe.listInactiveSelectionBackground&&(Je.push(`.monaco-list${Ke} .monaco-list-row.selected { background-color:  ${fe.listInactiveSelectionBackground}; }`),Je.push(`.monaco-list${Ke} .monaco-list-row.selected:hover { background-color:  ${fe.listInactiveSelectionBackground}; }`)),fe.listInactiveSelectionForeground&&Je.push(`.monaco-list${Ke} .monaco-list-row.selected { color: ${fe.listInactiveSelectionForeground}; }`),fe.listHoverBackground&&Je.push(`.monaco-list${Ke}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${fe.listHoverBackground}; }`),fe.listHoverForeground&&Je.push(`.monaco-list${Ke} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${fe.listHoverForeground}; }`),fe.listSelectionOutline&&Je.push(`.monaco-list${Ke} .monaco-list-row.selected { outline: 1px dotted ${fe.listSelectionOutline}; outline-offset: -1px; }`),fe.listFocusOutline&&Je.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ke}:focus .monaco-list-row.focused { outline: 1px solid ${fe.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ke}.last-focused .monaco-list-row.focused { outline: 1px solid ${fe.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),fe.listInactiveFocusOutline&&Je.push(`.monaco-list${Ke} .monaco-list-row.focused { outline: 1px dotted ${fe.listInactiveFocusOutline}; outline-offset: -1px; }`),fe.listHoverOutline&&Je.push(`.monaco-list${Ke} .monaco-list-row:hover { outline: 1px dashed ${fe.listHoverOutline}; outline-offset: -1px; }`),fe.listDropBackground&&Je.push(`\n\t\t\t\t.monaco-list${Ke}.drop-target,\n\t\t\t\t.monaco-list${Ke} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ke} .monaco-list-row.drop-target { background-color: ${fe.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),fe.tableColumnsBorder&&Je.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${fe.tableColumnsBorder};\n\t\t\t}`),fe.tableOddRowsBackgroundColor&&Je.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${fe.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=Je.join("\n")}}const Me={listFocusBackground:D.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:D.Il.fromHex("#0E639C"),listActiveSelectionForeground:D.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:D.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:D.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:D.Il.fromHex("#094771"),listFocusAndSelectionForeground:D.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:D.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:D.Il.fromHex("#FFFFFF"),listHoverBackground:D.Il.fromHex("#2A2D2E"),listDropBackground:D.Il.fromHex("#383B3D"),treeIndentGuidesStroke:D.Il.fromHex("#a9a9a9"),tableColumnsBorder:D.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:D.Il.fromHex("#cccccc").transparent(.04)},Oe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function ce(ze,fe){const Ke=[];let Je=0,vt=0;for(;Je<ze.length||vt<fe.length;)if(Je>=ze.length)Ke.push(fe[vt++]);else if(vt>=fe.length)Ke.push(ze[Je++]);else{if(ze[Je]===fe[vt]){Ke.push(ze[Je]),Je++,vt++;continue}Ke.push(ze[Je]<fe[vt]?ze[Je++]:fe[vt++])}return Ke}const me=(ze,fe)=>ze-fe;class Pe{constructor(fe,Ke){this._templateId=fe,this.renderers=Ke}get templateId(){return this._templateId}renderTemplate(fe){return this.renderers.map(Ke=>Ke.renderTemplate(fe))}renderElement(fe,Ke,Je,vt){let Et=0;for(const Xe of this.renderers)Xe.renderElement(fe,Ke,Je[Et++],vt)}disposeElement(fe,Ke,Je,vt){var Et;let Xe=0;for(const re of this.renderers)null===(Et=re.disposeElement)||void 0===Et||Et.call(re,fe,Ke,Je[Xe],vt),Xe+=1}disposeTemplate(fe){let Ke=0;for(const Je of this.renderers)Je.disposeTemplate(fe[Ke++])}}class he{constructor(fe){this.accessibilityProvider=fe,this.templateId="a18n"}renderTemplate(fe){return fe}renderElement(fe,Ke,Je){const vt=this.accessibilityProvider.getAriaLabel(fe);vt?Je.setAttribute("aria-label",vt):Je.removeAttribute("aria-label");const Et=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(fe);"number"==typeof Et?Je.setAttribute("aria-level",`${Et}`):Je.removeAttribute("aria-level")}disposeTemplate(fe){}}class Fe{constructor(fe,Ke){this.list=fe,this.dnd=Ke}getDragElements(fe){const Ke=this.list.getSelectedElements();return Ke.indexOf(fe)>-1?Ke:[fe]}getDragURI(fe){return this.dnd.getDragURI(fe)}getDragLabel(fe,Ke){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(fe,Ke)}onDragStart(fe,Ke){var Je,vt;null===(vt=(Je=this.dnd).onDragStart)||void 0===vt||vt.call(Je,fe,Ke)}onDragOver(fe,Ke,Je,vt){return this.dnd.onDragOver(fe,Ke,Je,vt)}onDragLeave(fe,Ke,Je,vt){var Et,Xe;null===(Xe=(Et=this.dnd).onDragLeave)||void 0===Xe||Xe.call(Et,fe,Ke,Je,vt)}onDragEnd(fe){var Ke,Je;null===(Je=(Ke=this.dnd).onDragEnd)||void 0===Je||Je.call(Ke,fe)}drop(fe,Ke,Je,vt){this.dnd.drop(fe,Ke,Je,vt)}}class Ze{constructor(fe,Ke,Je,vt,Et=Oe){var Xe,re,pe,ge;this.user=fe,this._options=Et,this.focus=new A("focused"),this.anchor=new A("anchor"),this.eventBufferer=new r.E7,this._ariaLabel="",this.disposables=new u.SL,this._onDidDispose=new r.Q5,this.onDidDispose=this._onDidDispose.event;const de=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Xe=this._options.accessibilityProvider)||void 0===Xe?void 0:Xe.getWidgetRole():"list";this.selection=new k("listbox"!==de),(0,d.jB)(Et,Me,!1);const Q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Et.accessibilityProvider,this.accessibilityProvider&&(Q.push(new he(this.accessibilityProvider)),null===(pe=(re=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===pe||pe.call(re,this.onDidChangeActiveDescendant,this,this.disposables)),vt=vt.map(Ae=>new Pe(Ae.templateId,[...Q,Ae]));const ye=Object.assign(Object.assign({},Et),{dnd:Et.dnd&&new Fe(this,Et.dnd)});if(this.view=new w.Bv(Ke,Je,vt,ye),this.view.domNode.setAttribute("role",de),Et.styleController)this.styleController=Et.styleController(this.view.domId);else{const Ae=(0,s.dS)(this.view.domNode);this.styleController=new xe(Ae,this.view.domId)}this.spliceable=new I.J([new W(this.focus,this.view,Et.identityProvider),new W(this.selection,this.view,Et.identityProvider),new W(this.anchor,this.view,Et.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new R(this,this.view)),("boolean"!=typeof Et.keyboardSupport||Et.keyboardSupport)&&(this.keyboardController=new O(this,this.view,Et),this.disposables.add(this.keyboardController)),Et.keyboardNavigationLabelProvider&&(this.typeNavigationController=new q(this,this.view,Et.keyboardNavigationLabelProvider,null!==(ge=Et.keyboardNavigationEventFilter)&&void 0!==ge?ge:()=>!0,Et.keyboardNavigationDelegate||j),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(Et),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return r.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),fe=>this.toListEvent(fe),this.disposables)}get onDidChangeSelection(){return r.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),fe=>this.toListEvent(fe),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let fe=!1;const Ke=this.disposables.add(r.ju.chain(this.disposables.add(new t.Y(this.view.domNode,"keydown")).event)).map(Et=>new l.y(Et)).filter(Et=>fe=58===Et.keyCode||Et.shiftKey&&68===Et.keyCode).map(t.p).filter(()=>!1).event,Je=this.disposables.add(r.ju.chain(this.disposables.add(new t.Y(this.view.domNode,"keyup")).event)).forEach(()=>fe=!1).map(Et=>new l.y(Et)).filter(Et=>58===Et.keyCode||Et.shiftKey&&68===Et.keyCode).map(t.p).map(({browserEvent:Et})=>{const Xe=this.getFocus(),re=Xe.length?Xe[0]:void 0;return{index:re,element:typeof re<"u"?this.view.element(re):void 0,anchor:typeof re<"u"?this.view.domElement(re):this.view.domNode,browserEvent:Et}}).event,vt=this.disposables.add(r.ju.chain(this.view.onContextMenu)).filter(Et=>!fe).map(({element:Et,index:Xe,browserEvent:re})=>({element:Et,index:Xe,anchor:{x:re.pageX+1,y:re.pageY},browserEvent:re})).event;return r.ju.any(Ke,Je,vt)}get onKeyDown(){return this.disposables.add(new t.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return r.ju.signal(this.disposables.add(new t.Y(this.view.domNode,"focus",!0)).event)}createMouseController(fe){return new Ie(this)}updateOptions(fe={}){var Ke,Je;this._options=Object.assign(Object.assign({},this._options),fe),null===(Ke=this.typeNavigationController)||void 0===Ke||Ke.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(fe),null===(Je=this.keyboardController)||void 0===Je||Je.updateOptions(fe),this.view.updateOptions(fe)}get options(){return this._options}splice(fe,Ke,Je=[]){if(fe<0||fe>this.view.length)throw new m.A(this.user,`Invalid start index: ${fe}`);if(Ke<0)throw new m.A(this.user,`Invalid delete count: ${Ke}`);0===Ke&&0===Je.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(fe,Ke,Je))}rerender(){this.view.rerender()}element(fe){return this.view.element(fe)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(fe){this.view.setScrollTop(fe)}get ariaLabel(){return this._ariaLabel}set ariaLabel(fe){this._ariaLabel=fe,this.view.domNode.setAttribute("aria-label",fe)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(fe,Ke){this.view.layout(fe,Ke)}setSelection(fe,Ke){for(const Je of fe)if(Je<0||Je>=this.length)throw new m.A(this.user,`Invalid index ${Je}`);this.selection.set(fe,Ke)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(fe=>this.view.element(fe))}setAnchor(fe){if(typeof fe>"u")this.anchor.set([]);else{if(fe<0||fe>=this.length)throw new m.A(this.user,`Invalid index ${fe}`);this.anchor.set([fe])}}getAnchor(){return(0,b.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const fe=this.getAnchor();return typeof fe>"u"?void 0:this.element(fe)}setFocus(fe,Ke){for(const Je of fe)if(Je<0||Je>=this.length)throw new m.A(this.user,`Invalid index ${Je}`);this.focus.set(fe,Ke)}focusNext(fe=1,Ke=!1,Je,vt){if(0===this.length)return;const Et=this.focus.get(),Xe=this.findNextIndex(Et.length>0?Et[0]+fe:0,Ke,vt);Xe>-1&&this.setFocus([Xe],Je)}focusPrevious(fe=1,Ke=!1,Je,vt){if(0===this.length)return;const Et=this.focus.get(),Xe=this.findPreviousIndex(Et.length>0?Et[0]-fe:0,Ke,vt);Xe>-1&&this.setFocus([Xe],Je)}focusNextPage(fe,Ke){return L(this,void 0,void 0,function*(){let Je=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Je=0===Je?0:Je-1;const vt=this.getFocus()[0];if(vt!==Je&&(void 0===vt||Je>vt)){const Et=this.findPreviousIndex(Je,!1,Ke);this.setFocus(Et>-1&&vt!==Et?[Et]:[Je],fe)}else{const Et=this.view.getScrollTop();let Xe=Et+this.view.renderHeight;Je>vt&&(Xe-=this.view.elementHeight(Je)),this.view.setScrollTop(Xe),this.view.getScrollTop()!==Et&&(this.setFocus([]),yield(0,S.Vs)(0),yield this.focusNextPage(fe,Ke))}})}focusPreviousPage(fe,Ke){return L(this,void 0,void 0,function*(){let Je;const vt=this.view.getScrollTop();Je=0===vt?this.view.indexAt(vt):this.view.indexAfter(vt-1);const Et=this.getFocus()[0];if(Et!==Je&&(void 0===Et||Et>=Je)){const Xe=this.findNextIndex(Je,!1,Ke);this.setFocus(Xe>-1&&Et!==Xe?[Xe]:[Je],fe)}else{const Xe=vt;this.view.setScrollTop(vt-this.view.renderHeight),this.view.getScrollTop()!==Xe&&(this.setFocus([]),yield(0,S.Vs)(0),yield this.focusPreviousPage(fe,Ke))}})}focusLast(fe,Ke){if(0===this.length)return;const Je=this.findPreviousIndex(this.length-1,!1,Ke);Je>-1&&this.setFocus([Je],fe)}focusFirst(fe,Ke){this.focusNth(0,fe,Ke)}focusNth(fe,Ke,Je){if(0===this.length)return;const vt=this.findNextIndex(fe,!1,Je);vt>-1&&this.setFocus([vt],Ke)}findNextIndex(fe,Ke=!1,Je){for(let vt=0;vt<this.length;vt++){if(fe>=this.length&&!Ke)return-1;if(fe%=this.length,!Je||Je(this.element(fe)))return fe;fe++}return-1}findPreviousIndex(fe,Ke=!1,Je){for(let vt=0;vt<this.length;vt++){if(fe<0&&!Ke)return-1;if(fe=(this.length+fe%this.length)%this.length,!Je||Je(this.element(fe)))return fe;fe--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(fe=>this.view.element(fe))}reveal(fe,Ke){if(fe<0||fe>=this.length)throw new m.A(this.user,`Invalid index ${fe}`);const Je=this.view.getScrollTop(),vt=this.view.elementTop(fe),Et=this.view.elementHeight(fe);if((0,g.hj)(Ke))this.view.setScrollTop((Et-this.view.renderHeight)*(0,n.uZ)(Ke,0,1)+vt);else{const Xe=vt+Et,re=Je+this.view.renderHeight;vt<Je&&Xe>=re||(vt<Je||Xe>=re&&Et>=this.view.renderHeight?this.view.setScrollTop(vt):Xe>=re&&this.view.setScrollTop(Xe-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(fe){return this.view.getElementDomId(fe)}style(fe){this.styleController.style(fe)}toListEvent({indexes:fe,browserEvent:Ke}){return{indexes:fe,elements:fe.map(Je=>this.view.element(Je)),browserEvent:Ke}}_onFocusChange(){const fe=this.focus.get();this.view.domNode.classList.toggle("element-focused",fe.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var fe;const Ke=this.focus.get();if(Ke.length>0){let Je;!(null===(fe=this.accessibilityProvider)||void 0===fe)&&fe.getActiveDescendantId&&(Je=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ke[0]))),this.view.domNode.setAttribute("aria-activedescendant",Je||this.view.getElementDomId(Ke[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const fe=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===fe.length),this.view.domNode.classList.toggle("selection-single",1===fe.length),this.view.domNode.classList.toggle("selection-multiple",fe.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}E([_.H],Ze.prototype,"onDidChangeFocus",null),E([_.H],Ze.prototype,"onDidChangeSelection",null),E([_.H],Ze.prototype,"onContextMenu",null),E([_.H],Ze.prototype,"onKeyDown",null),E([_.H],Ze.prototype,"onDidFocus",null)},96245:(yt,T,e)=>{"use strict";e.d(T,{J:()=>s});class s{constructor(l){this.spliceables=l}splice(l,C,f){this.spliceables.forEach(I=>I.splice(l,C,f))}}},58291:(yt,T,e)=>{"use strict";e.d(T,{S:()=>g});var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(46106),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n);const g="monaco-mouse-cursor-text"},78239:(yt,T,e)=>{"use strict";e.d(T,{k:()=>z});var s=e(94418),t=e(41883),l=e(84968),C=e(21576),f=e(82941),I=e(92123),b=e.n(I),S=e(65057),D=e.n(S),_=e(28764),r=e.n(_),a=e(6557),u=e.n(a),n=e(11146),d=e.n(n),y=e(95085),g=e.n(y),v=e(89147),m={};m.styleTagTransform=g(),m.setAttributes=u(),m.insert=r().bind(null,"head"),m.domAPI=D(),m.insertStyleElement=d(),b()(v.Z,m);const L="done",x="active",A="infinite",k="infinite-long-running",W="discrete",H={progressBarBackground:l.Il.fromHex("#0E70C0")};let z=(()=>{class N extends C.JT{constructor(K,$){super(),this.options=$||Object.create(null),(0,f.jB)(this.options,H,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new t.pY(()=>(0,s.$Z)(this.element),0)),this.longRunningScheduler=this._register(new t.pY(()=>this.infiniteLongRunning(),N.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(K)}create(K){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),K.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(x,A,k,W),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(K){return this.element.classList.add(L),this.element.classList.contains(A)?(this.bit.style.opacity="0",K?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",K?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(W,L,k),this.element.classList.add(x,A),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(k)}getContainer(){return this.element}style(K){this.progressBarBackground=K.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const K=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=K}}}return N.LONG_RUNNING_INFINITE_THRESHOLD=1e4,N})()},30728:(yt,T,e)=>{"use strict";e.d(T,{l:()=>H,g:()=>Z});var s=e(94418),t=e(16936),l=e(52364),C=e(41883),f=e(47957),I=e(31864),b=e(21576),S=e(84834),D=e(92123),_=e.n(D),r=e(65057),a=e.n(r),u=e(28764),n=e.n(u),d=e(6557),y=e.n(d),g=e(11146),v=e.n(g),m=e(95085),w=e.n(m),E=e(4848),L={};L.styleTagTransform=w(),L.setAttributes=y(),L.insert=n().bind(null,"head"),L.domAPI=a(),L.insertStyleElement=v(),_()(E.Z,L);var k=function(J,Ce,Se,Ie){var Oe,xe=arguments.length,Me=xe<3?Ce:null===Ie?Ie=Object.getOwnPropertyDescriptor(Ce,Se):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Me=Reflect.decorate(J,Ce,Se,Ie);else for(var se=J.length-1;se>=0;se--)(Oe=J[se])&&(Me=(xe<3?Oe(Me):xe>3?Oe(Ce,Se,Me):Oe(Ce,Se))||Me);return xe>3&&Me&&Object.defineProperty(Ce,Se,Me),Me},H=(()=>((H=H||{}).North="north",H.South="south",H.East="east",H.West="west",H))();const N=new I.Q5,K=new I.Q5;class ${constructor(){this.disposables=new b.SL}get onPointerMove(){return this.disposables.add(new t.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new t.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}k([f.H],$.prototype,"onPointerMove",null),k([f.H],$.prototype,"onPointerUp",null);class j{constructor(Ce){this.el=Ce,this.disposables=new b.SL}get onPointerMove(){return this.disposables.add(new t.Y(this.el,l.t.Change)).event}get onPointerUp(){return this.disposables.add(new t.Y(this.el,l.t.End)).event}dispose(){this.disposables.dispose()}}k([f.H],j.prototype,"onPointerMove",null),k([f.H],j.prototype,"onPointerUp",null);class q{constructor(Ce){this.factory=Ce}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}k([f.H],q.prototype,"onPointerMove",null),k([f.H],q.prototype,"onPointerUp",null);const R="pointer-events-disabled";class Z extends b.JT{constructor(Ce,Se,Ie){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new C.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new I.Q5),this._onDidStart=this._register(new I.Q5),this._onDidChange=this._register(new I.Q5),this._onDidReset=this._register(new I.Q5),this._onDidEnd=this._register(new I.Q5),this.orthogonalStartSashDisposables=this._register(new b.SL),this.orthogonalStartDragHandleDisposables=this._register(new b.SL),this.orthogonalEndSashDisposables=this._register(new b.SL),this.orthogonalEndDragHandleDisposables=this._register(new b.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,s.R3)(Ce,(0,s.$)(".monaco-sash")),Ie.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${Ie.orthogonalEdge}`),S.dz&&this.el.classList.add("mac");const xe=this._register(new t.Y(this.el,"mousedown")).event;this._register(xe(Pe=>this.onPointerStart(Pe,new $),this));const Me=this._register(new t.Y(this.el,"dblclick")).event;this._register(Me(this.onPointerDoublePress,this));const Oe=this._register(new t.Y(this.el,"mouseenter")).event;this._register(Oe(()=>Z.onMouseEnter(this)));const se=this._register(new t.Y(this.el,"mouseleave")).event;this._register(se(()=>Z.onMouseLeave(this))),this._register(l.o.addTarget(this.el));const ce=I.ju.map(this._register(new t.Y(this.el,l.t.Start)).event,Pe=>{var he;return Object.assign(Object.assign({},Pe),{target:null!==(he=Pe.initialTarget)&&void 0!==he?he:null})});this._register(ce(Pe=>this.onPointerStart(Pe,new j(this.el)),this));const Ee=this._register(new t.Y(this.el,l.t.Tap)).event,me=I.ju.map(I.ju.filter(I.ju.debounce(Ee,(Pe,he)=>{var Fe;return{event:he,count:(null!==(Fe=Pe?.count)&&void 0!==Fe?Fe:0)+1}},250),({count:Pe})=>2===Pe),({event:Pe})=>{var he;return Object.assign(Object.assign({},Pe),{target:null!==(he=Pe.initialTarget)&&void 0!==he?he:null})});this._register(me(this.onPointerDoublePress,this)),"number"==typeof Ie.size?(this.size=Ie.size,0===Ie.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(N.event(Pe=>{this.size=Pe,this.layout()}))),this._register(K.event(Pe=>this.hoverDelay=Pe)),this.layoutProvider=Se,this.orthogonalStartSash=Ie.orthogonalStartSash,this.orthogonalEndSash=Ie.orthogonalEndSash,this.orientation=Ie.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(Ce){this._state!==Ce&&(this.el.classList.toggle("disabled",0===Ce),this.el.classList.toggle("minimum",1===Ce),this.el.classList.toggle("maximum",2===Ce),this._state=Ce,this.onDidEnablementChange.fire(Ce))}set orthogonalStartSash(Ce){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),Ce){const Se=Ie=>{this.orthogonalStartDragHandleDisposables.clear(),0!==Ie&&(this._orthogonalStartDragHandle=(0,s.R3)(this.el,(0,s.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,b.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new t.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Z.onMouseEnter(Ce),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new t.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Z.onMouseLeave(Ce),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(Ce.onDidEnablementChange.event(Se,this)),Se(Ce.state)}this._orthogonalStartSash=Ce}set orthogonalEndSash(Ce){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),Ce){const Se=Ie=>{this.orthogonalEndDragHandleDisposables.clear(),0!==Ie&&(this._orthogonalEndDragHandle=(0,s.R3)(this.el,(0,s.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,b.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new t.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Z.onMouseEnter(Ce),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new t.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Z.onMouseLeave(Ce),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(Ce.onDidEnablementChange.event(Se,this)),Se(Ce.state)}this._orthogonalEndSash=Ce}onPointerStart(Ce,Se){s.zB.stop(Ce);let Ie=!1;if(!Ce.__orthogonalSashEvent){const Ze=this.getOrthogonalSash(Ce);Ze&&(Ie=!0,Ce.__orthogonalSashEvent=!0,Ze.onPointerStart(Ce,new q(Se)))}if(this.linkedSash&&!Ce.__linkedSashEvent&&(Ce.__linkedSashEvent=!0,this.linkedSash.onPointerStart(Ce,new q(Se))),!this.state)return;const xe=(0,s.H$)("iframe");for(const Ze of xe)Ze.classList.add(R);const Me=Ce.pageX,Oe=Ce.pageY,se=Ce.altKey,ce={startX:Me,currentX:Me,startY:Oe,currentY:Oe,altKey:se};this.el.classList.add("active"),this._onDidStart.fire(ce);const Ee=(0,s.dS)(this.el),me=()=>{let Ze="";Ze=Ie?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":S.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":S.dz?"col-resize":"ew-resize",Ee.textContent=`* { cursor: ${Ze} !important; }`},Pe=new b.SL;me(),Ie||this.onDidEnablementChange.event(me,null,Pe),Se.onPointerMove(Ze=>{s.zB.stop(Ze,!1),this._onDidChange.fire({startX:Me,currentX:Ze.pageX,startY:Oe,currentY:Ze.pageY,altKey:se})},null,Pe),Se.onPointerUp(Ze=>{s.zB.stop(Ze,!1),this.el.removeChild(Ee),this.el.classList.remove("active"),this._onDidEnd.fire(),Pe.dispose();for(const ze of xe)ze.classList.remove(R)},null,Pe),Pe.add(Se)}onPointerDoublePress(Ce){const Se=this.getOrthogonalSash(Ce);Se&&Se._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(Ce,Se=!1){Ce.el.classList.contains("active")?(Ce.hoverDelayer.cancel(),Ce.el.classList.add("hover")):Ce.hoverDelayer.trigger(()=>Ce.el.classList.add("hover"),Ce.hoverDelay).then(void 0,()=>{}),!Se&&Ce.linkedSash&&Z.onMouseEnter(Ce.linkedSash,!0)}static onMouseLeave(Ce,Se=!1){Ce.hoverDelayer.cancel(),Ce.el.classList.remove("hover"),!Se&&Ce.linkedSash&&Z.onMouseLeave(Ce.linkedSash,!0)}clearSashHoverState(){Z.onMouseLeave(this)}layout(){if(0===this.orientation){const Ce=this.layoutProvider;this.el.style.left=Ce.getVerticalSashLeft(this)-this.size/2+"px",Ce.getVerticalSashTop&&(this.el.style.top=Ce.getVerticalSashTop(this)+"px"),Ce.getVerticalSashHeight&&(this.el.style.height=Ce.getVerticalSashHeight(this)+"px")}else{const Ce=this.layoutProvider;this.el.style.top=Ce.getHorizontalSashTop(this)-this.size/2+"px",Ce.getHorizontalSashLeft&&(this.el.style.left=Ce.getHorizontalSashLeft(this)+"px"),Ce.getHorizontalSashWidth&&(this.el.style.width=Ce.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(Ce){if(Ce.target&&Ce.target instanceof HTMLElement&&Ce.target.classList.contains("orthogonal-drag-handle"))return Ce.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},2654:(yt,T,e)=>{"use strict";e.d(T,{s$:()=>Ee,NB:()=>se,$Z:()=>ce});var s=e(52253),t=e(94418),l=e(81500),C=e(46073),f=e(48763),I=e(79595),b=e(41883);class D extends I.${constructor(he){super(),this._onActivate=he.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=he.bgWidth+"px",this.bgDomNode.style.height=he.bgHeight+"px",typeof he.top<"u"&&(this.bgDomNode.style.top="0px"),typeof he.left<"u"&&(this.bgDomNode.style.left="0px"),typeof he.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof he.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=he.className,this.domNode.classList.add(...he.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",typeof he.top<"u"&&(this.domNode.style.top=he.top+"px"),typeof he.left<"u"&&(this.domNode.style.left=he.left+"px"),typeof he.bottom<"u"&&(this.domNode.style.bottom=he.bottom+"px"),typeof he.right<"u"&&(this.domNode.style.right=he.right+"px"),this._pointerMoveMonitor=this._register(new f.C),this._register(t.mu(this.bgDomNode,t.tw.POINTER_DOWN,Fe=>this._arrowPointerDown(Fe))),this._register(t.mu(this.domNode,t.tw.POINTER_DOWN,Fe=>this._arrowPointerDown(Fe))),this._pointerdownRepeatTimer=this._register(new b.zh),this._pointerdownScheduleRepeatTimer=this._register(new b._F)}_arrowPointerDown(he){he.target&&he.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._pointerMoveMonitor.startMonitoring(he.target,he.pointerId,he.buttons,Ze=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),he.preventDefault())}}var _=e(21576);class r extends _.JT{constructor(he,Fe,Ze){super(),this._visibility=he,this._visibleClassName=Fe,this._invisibleClassName=Ze,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new b._F)}setVisibility(he){this._visibility!==he&&(this._visibility=he,this._updateShouldBeVisible())}setShouldBeVisible(he){this._rawShouldBeVisible=he,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const he=this._applyVisibilitySetting();this._shouldBeVisible!==he&&(this._shouldBeVisible=he,this.ensureVisibility())}setIsNeeded(he){this._isNeeded!==he&&(this._isNeeded=he,this.ensureVisibility())}setDomNode(he){this._domNode=he,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var he;null===(he=this._domNode)||void 0===he||he.setClassName(this._visibleClassName)},0))}_hide(he){var Fe;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(Fe=this._domNode)||void 0===Fe||Fe.setClassName(this._invisibleClassName+(he?" fade":"")))}}var a=e(84834);class n extends I.${constructor(he){super(),this._lazyRender=he.lazyRender,this._host=he.host,this._scrollable=he.scrollable,this._scrollByPage=he.scrollByPage,this._scrollbarState=he.scrollbarState,this._visibilityController=this._register(new r(he.visibility,"visible scrollbar "+he.extraScrollbarClassName,"invisible scrollbar "+he.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new f.C),this._shouldRender=!0,this.domNode=(0,l.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(t.nm(this.domNode.domNode,t.tw.POINTER_DOWN,Fe=>this._domNodePointerDown(Fe)))}_createArrow(he){const Fe=this._register(new D(he));this.domNode.domNode.appendChild(Fe.bgDomNode),this.domNode.domNode.appendChild(Fe.domNode)}_createSlider(he,Fe,Ze,ze){this.slider=(0,l.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(he),this.slider.setLeft(Fe),"number"==typeof Ze&&this.slider.setWidth(Ze),"number"==typeof ze&&this.slider.setHeight(ze),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(t.nm(this.slider.domNode,t.tw.POINTER_DOWN,fe=>{0===fe.button&&(fe.preventDefault(),this._sliderPointerDown(fe))})),this.onclick(this.slider.domNode,fe=>{fe.leftButton&&fe.stopPropagation()})}_onElementSize(he){return this._scrollbarState.setVisibleSize(he)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(he){return this._scrollbarState.setScrollSize(he)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(he){return this._scrollbarState.setScrollPosition(he)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(he){he.target===this.domNode.domNode&&this._onPointerDown(he)}delegatePointerDown(he){const Fe=this.domNode.domNode.getClientRects()[0].top,Ze=Fe+this._scrollbarState.getSliderPosition(),ze=Fe+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),fe=this._sliderPointerPosition(he);Ze<=fe&&fe<=ze?0===he.button&&(he.preventDefault(),this._sliderPointerDown(he)):this._onPointerDown(he)}_onPointerDown(he){let Fe,Ze;if(he.target===this.domNode.domNode&&"number"==typeof he.offsetX&&"number"==typeof he.offsetY)Fe=he.offsetX,Ze=he.offsetY;else{const fe=t.i(this.domNode.domNode);Fe=he.pageX-fe.left,Ze=he.pageY-fe.top}const ze=this._pointerDownRelativePosition(Fe,Ze);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ze):this._scrollbarState.getDesiredScrollPositionFromOffset(ze)),0===he.button&&(he.preventDefault(),this._sliderPointerDown(he))}_sliderPointerDown(he){if(!(he.target&&he.target instanceof Element))return;const Fe=this._sliderPointerPosition(he),Ze=this._sliderOrthogonalPointerPosition(he),ze=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(he.target,he.pointerId,he.buttons,fe=>{const Ke=this._sliderOrthogonalPointerPosition(fe),Je=Math.abs(Ke-Ze);if(a.ED&&Je>140)return void this._setDesiredScrollPositionNow(ze.getScrollPosition());const Et=this._sliderPointerPosition(fe)-Fe;this._setDesiredScrollPositionNow(ze.getDesiredScrollPositionFromDelta(Et))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(he){const Fe={};this.writeScrollPosition(Fe,he),this._scrollable.setScrollPositionNow(Fe)}updateScrollbarSize(he){this._updateScrollbarSize(he),this._scrollbarState.setScrollbarSize(he),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class y{constructor(he,Fe,Ze,ze,fe,Ke){this._scrollbarSize=Math.round(Fe),this._oppositeScrollbarSize=Math.round(Ze),this._arrowSize=Math.round(he),this._visibleSize=ze,this._scrollSize=fe,this._scrollPosition=Ke,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new y(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(he){const Fe=Math.round(he);return this._visibleSize!==Fe&&(this._visibleSize=Fe,this._refreshComputedValues(),!0)}setScrollSize(he){const Fe=Math.round(he);return this._scrollSize!==Fe&&(this._scrollSize=Fe,this._refreshComputedValues(),!0)}setScrollPosition(he){const Fe=Math.round(he);return this._scrollPosition!==Fe&&(this._scrollPosition=Fe,this._refreshComputedValues(),!0)}setScrollbarSize(he){this._scrollbarSize=Math.round(he)}setOppositeScrollbarSize(he){this._oppositeScrollbarSize=Math.round(he)}static _computeValues(he,Fe,Ze,ze,fe){const Ke=Math.max(0,Ze-he),Je=Math.max(0,Ke-2*Fe),vt=ze>0&&ze>Ze;if(!vt)return{computedAvailableSize:Math.round(Ke),computedIsNeeded:vt,computedSliderSize:Math.round(Je),computedSliderRatio:0,computedSliderPosition:0};const Et=Math.round(Math.max(20,Math.floor(Ze*Je/ze))),Xe=(Je-Et)/(ze-Ze),re=fe*Xe;return{computedAvailableSize:Math.round(Ke),computedIsNeeded:vt,computedSliderSize:Math.round(Et),computedSliderRatio:Xe,computedSliderPosition:Math.round(re)}}_refreshComputedValues(){const he=y._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=he.computedAvailableSize,this._computedIsNeeded=he.computedIsNeeded,this._computedSliderSize=he.computedSliderSize,this._computedSliderRatio=he.computedSliderRatio,this._computedSliderPosition=he.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(he){return this._computedIsNeeded?Math.round((he-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(he){if(!this._computedIsNeeded)return 0;let Ze=this._scrollPosition;return he-this._arrowSize<this._computedSliderPosition?Ze-=this._visibleSize:Ze+=this._visibleSize,Ze}getDesiredScrollPositionFromDelta(he){return this._computedIsNeeded?Math.round((this._computedSliderPosition+he)/this._computedSliderRatio):0}}var g=e(51153);class v extends n{constructor(he,Fe,Ze){const ze=he.getScrollDimensions(),fe=he.getCurrentScrollPosition();if(super({lazyRender:Fe.lazyRender,host:Ze,scrollbarState:new y(Fe.horizontalHasArrows?Fe.arrowSize:0,2===Fe.horizontal?0:Fe.horizontalScrollbarSize,2===Fe.vertical?0:Fe.verticalScrollbarSize,ze.width,ze.scrollWidth,fe.scrollLeft),visibility:Fe.horizontal,extraScrollbarClassName:"horizontal",scrollable:he,scrollByPage:Fe.scrollByPage}),Fe.horizontalHasArrows){const Ke=(Fe.arrowSize-11)/2,Je=(Fe.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:g.lA.scrollbarButtonLeft,top:Je,left:Ke,bottom:void 0,right:void 0,bgWidth:Fe.arrowSize,bgHeight:Fe.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new C.q(null,1,0))}),this._createArrow({className:"scra",icon:g.lA.scrollbarButtonRight,top:Je,left:void 0,bottom:void 0,right:Ke,bgWidth:Fe.arrowSize,bgHeight:Fe.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new C.q(null,-1,0))})}this._createSlider(Math.floor((Fe.horizontalScrollbarSize-Fe.horizontalSliderSize)/2),0,void 0,Fe.horizontalSliderSize)}_updateSlider(he,Fe){this.slider.setWidth(he),this.slider.setLeft(Fe)}_renderDomNode(he,Fe){this.domNode.setWidth(he),this.domNode.setHeight(Fe),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(he){return this._shouldRender=this._onElementScrollSize(he.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(he.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(he.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(he,Fe){return he}_sliderPointerPosition(he){return he.pageX}_sliderOrthogonalPointerPosition(he){return he.pageY}_updateScrollbarSize(he){this.slider.setHeight(he)}writeScrollPosition(he,Fe){he.scrollLeft=Fe}updateOptions(he){this.updateScrollbarSize(2===he.horizontal?0:he.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===he.vertical?0:he.verticalScrollbarSize),this._visibilityController.setVisibility(he.horizontal),this._scrollByPage=he.scrollByPage}}class m extends n{constructor(he,Fe,Ze){const ze=he.getScrollDimensions(),fe=he.getCurrentScrollPosition();if(super({lazyRender:Fe.lazyRender,host:Ze,scrollbarState:new y(Fe.verticalHasArrows?Fe.arrowSize:0,2===Fe.vertical?0:Fe.verticalScrollbarSize,0,ze.height,ze.scrollHeight,fe.scrollTop),visibility:Fe.vertical,extraScrollbarClassName:"vertical",scrollable:he,scrollByPage:Fe.scrollByPage}),Fe.verticalHasArrows){const Ke=(Fe.arrowSize-11)/2,Je=(Fe.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:g.lA.scrollbarButtonUp,top:Ke,left:Je,bottom:void 0,right:void 0,bgWidth:Fe.verticalScrollbarSize,bgHeight:Fe.arrowSize,onActivate:()=>this._host.onMouseWheel(new C.q(null,0,1))}),this._createArrow({className:"scra",icon:g.lA.scrollbarButtonDown,top:void 0,left:Je,bottom:Ke,right:void 0,bgWidth:Fe.verticalScrollbarSize,bgHeight:Fe.arrowSize,onActivate:()=>this._host.onMouseWheel(new C.q(null,0,-1))})}this._createSlider(0,Math.floor((Fe.verticalScrollbarSize-Fe.verticalSliderSize)/2),Fe.verticalSliderSize,void 0)}_updateSlider(he,Fe){this.slider.setHeight(he),this.slider.setTop(Fe)}_renderDomNode(he,Fe){this.domNode.setWidth(Fe),this.domNode.setHeight(he),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(he){return this._shouldRender=this._onElementScrollSize(he.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(he.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(he.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(he,Fe){return Fe}_sliderPointerPosition(he){return he.pageY}_sliderOrthogonalPointerPosition(he){return he.pageX}_updateScrollbarSize(he){this.slider.setWidth(he)}writeScrollPosition(he,Fe){he.scrollTop=Fe}updateOptions(he){this.updateScrollbarSize(2===he.vertical?0:he.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(he.vertical),this._scrollByPage=he.scrollByPage}}var w=e(31864),E=e(79257),L=e(92123),x=e.n(L),A=e(65057),k=e.n(A),W=e(28764),H=e.n(W),z=e(6557),N=e.n(z),O=e(11146),K=e.n(O),$=e(95085),j=e.n($),q=e(64265),R={};R.styleTagTransform=j(),R.setAttributes=N(),R.insert=H().bind(null,"head"),R.domAPI=k(),R.insertStyleElement=K(),x()(q.Z,R);class xe{constructor(he,Fe,Ze){this.timestamp=he,this.deltaX=Fe,this.deltaY=Ze,this.score=0}}class Me{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let he=1,Fe=0,Ze=1,ze=this._rear;for(;;){const fe=ze===this._front?he:Math.pow(2,-Ze);if(he-=fe,Fe+=this._memory[ze].score*fe,ze===this._front)break;ze=(this._capacity+ze-1)%this._capacity,Ze++}return Fe<=.5}accept(he,Fe,Ze){const ze=new xe(he,Fe,Ze);ze.score=this._computeScore(ze),-1===this._front&&-1===this._rear?(this._memory[0]=ze,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ze)}_computeScore(he){if(Math.abs(he.deltaX)>0&&Math.abs(he.deltaY)>0)return 1;let Fe=.5;return(!this._isAlmostInt(he.deltaX)||!this._isAlmostInt(he.deltaY))&&(Fe+=.25),Math.min(Math.max(Fe,0),1)}_isAlmostInt(he){return Math.abs(Math.round(he)-he)<.01}}Me.INSTANCE=new Me;class Oe extends I.${constructor(he,Fe,Ze){super(),this._onScroll=this._register(new w.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new w.Q5),he.style.overflow="hidden",this._options=function me(Pe){const he={lazyRender:typeof Pe.lazyRender<"u"&&Pe.lazyRender,className:typeof Pe.className<"u"?Pe.className:"",useShadows:!(typeof Pe.useShadows<"u")||Pe.useShadows,handleMouseWheel:!(typeof Pe.handleMouseWheel<"u")||Pe.handleMouseWheel,flipAxes:typeof Pe.flipAxes<"u"&&Pe.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:typeof Pe.consumeMouseWheelIfScrollbarIsNeeded<"u"&&Pe.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:typeof Pe.alwaysConsumeMouseWheel<"u"&&Pe.alwaysConsumeMouseWheel,scrollYToX:typeof Pe.scrollYToX<"u"&&Pe.scrollYToX,mouseWheelScrollSensitivity:typeof Pe.mouseWheelScrollSensitivity<"u"?Pe.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof Pe.fastScrollSensitivity<"u"?Pe.fastScrollSensitivity:5,scrollPredominantAxis:!(typeof Pe.scrollPredominantAxis<"u")||Pe.scrollPredominantAxis,mouseWheelSmoothScroll:!(typeof Pe.mouseWheelSmoothScroll<"u")||Pe.mouseWheelSmoothScroll,arrowSize:typeof Pe.arrowSize<"u"?Pe.arrowSize:11,listenOnDomNode:typeof Pe.listenOnDomNode<"u"?Pe.listenOnDomNode:null,horizontal:typeof Pe.horizontal<"u"?Pe.horizontal:1,horizontalScrollbarSize:typeof Pe.horizontalScrollbarSize<"u"?Pe.horizontalScrollbarSize:10,horizontalSliderSize:typeof Pe.horizontalSliderSize<"u"?Pe.horizontalSliderSize:0,horizontalHasArrows:typeof Pe.horizontalHasArrows<"u"&&Pe.horizontalHasArrows,vertical:typeof Pe.vertical<"u"?Pe.vertical:1,verticalScrollbarSize:typeof Pe.verticalScrollbarSize<"u"?Pe.verticalScrollbarSize:10,verticalHasArrows:typeof Pe.verticalHasArrows<"u"&&Pe.verticalHasArrows,verticalSliderSize:typeof Pe.verticalSliderSize<"u"?Pe.verticalSliderSize:0,scrollByPage:typeof Pe.scrollByPage<"u"&&Pe.scrollByPage};return he.horizontalSliderSize=typeof Pe.horizontalSliderSize<"u"?Pe.horizontalSliderSize:he.horizontalScrollbarSize,he.verticalSliderSize=typeof Pe.verticalSliderSize<"u"?Pe.verticalSliderSize:he.verticalScrollbarSize,a.dz&&(he.className+=" mac"),he}(Fe),this._scrollable=Ze,this._register(this._scrollable.onScroll(fe=>{this._onWillScroll.fire(fe),this._onDidScroll(fe),this._onScroll.fire(fe)}));const ze={onMouseWheel:fe=>this._onMouseWheel(fe),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new m(this._scrollable,this._options,ze)),this._horizontalScrollbar=this._register(new v(this._scrollable,this._options,ze)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(he),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,l.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,l.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,l.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,fe=>this._onMouseOver(fe)),this.onmouseleave(this._listenOnDomNode,fe=>this._onMouseLeave(fe)),this._hideTimeout=this._register(new b._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(he){this._verticalScrollbar.delegatePointerDown(he)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(he){this._scrollable.setScrollDimensions(he,!1)}updateClassName(he){this._options.className=he,a.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(he){typeof he.handleMouseWheel<"u"&&(this._options.handleMouseWheel=he.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof he.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=he.mouseWheelScrollSensitivity),typeof he.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=he.fastScrollSensitivity),typeof he.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=he.scrollPredominantAxis),typeof he.horizontal<"u"&&(this._options.horizontal=he.horizontal),typeof he.vertical<"u"&&(this._options.vertical=he.vertical),typeof he.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=he.horizontalScrollbarSize),typeof he.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=he.verticalScrollbarSize),typeof he.scrollByPage<"u"&&(this._options.scrollByPage=he.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(he){this._mouseWheelToDispose.length>0!==he&&(this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),he)&&this._mouseWheelToDispose.push(t.nm(this._listenOnDomNode,t.tw.MOUSE_WHEEL,ze=>{this._onMouseWheel(new C.q(ze))},{passive:!1}))}_onMouseWheel(he){const Fe=Me.INSTANCE;{const fe=window.devicePixelRatio/(0,s.getZoomFactor)();a.ED||a.IJ?Fe.accept(Date.now(),he.deltaX/fe,he.deltaY/fe):Fe.accept(Date.now(),he.deltaX,he.deltaY)}let Ze=!1;if(he.deltaY||he.deltaX){let fe=he.deltaY*this._options.mouseWheelScrollSensitivity,Ke=he.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(fe)>=Math.abs(Ke)?Ke=0:fe=0),this._options.flipAxes&&([fe,Ke]=[Ke,fe]),(this._options.scrollYToX||!a.dz&&he.browserEvent&&he.browserEvent.shiftKey)&&!Ke&&(Ke=fe,fe=0),he.browserEvent&&he.browserEvent.altKey&&(Ke*=this._options.fastScrollSensitivity,fe*=this._options.fastScrollSensitivity);const vt=this._scrollable.getFutureScrollPosition();let Et={};if(fe){const Xe=50*fe,re=vt.scrollTop-(Xe<0?Math.floor(Xe):Math.ceil(Xe));this._verticalScrollbar.writeScrollPosition(Et,re)}if(Ke){const Xe=50*Ke,re=vt.scrollLeft-(Xe<0?Math.floor(Xe):Math.ceil(Xe));this._horizontalScrollbar.writeScrollPosition(Et,re)}Et=this._scrollable.validateScrollPosition(Et),(vt.scrollLeft!==Et.scrollLeft||vt.scrollTop!==Et.scrollTop)&&(this._options.mouseWheelSmoothScroll&&Fe.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Et):this._scrollable.setScrollPositionNow(Et),Ze=!0)}let ze=Ze;!ze&&this._options.alwaysConsumeMouseWheel&&(ze=!0),!ze&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ze=!0),ze&&(he.preventDefault(),he.stopPropagation())}_onDidScroll(he){this._shouldRender=this._horizontalScrollbar.onDidScroll(he)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(he)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const he=this._scrollable.getCurrentScrollPosition(),Fe=he.scrollTop>0,Ze=he.scrollLeft>0,ze=Ze?" left":"",fe=Fe?" top":"",Ke=Ze||Fe?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ze}`),this._topShadowDomNode.setClassName(`shadow${fe}`),this._topLeftShadowDomNode.setClassName(`shadow${Ke}${fe}${ze}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(he){this._mouseIsOver=!1,this._hide()}_onMouseOver(he){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class se extends Oe{constructor(he,Fe){(Fe=Fe||{}).mouseWheelSmoothScroll=!1;const Ze=new E.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ze=>t.jL(ze)});super(he,Fe,Ze),this._register(Ze)}setScrollPosition(he){this._scrollable.setScrollPositionNow(he)}}class ce extends Oe{constructor(he,Fe,Ze){super(he,Fe,Ze)}setScrollPosition(he){he.reuseAnimation?this._scrollable.setScrollPositionSmooth(he,he.reuseAnimation):this._scrollable.setScrollPositionNow(he)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Ee extends Oe{constructor(he,Fe){(Fe=Fe||{}).mouseWheelSmoothScroll=!1;const Ze=new E.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ze=>t.jL(ze)});super(he,Fe,Ze),this._register(Ze),this._element=he,this.onScroll(ze=>{ze.scrollTopChanged&&(this._element.scrollTop=ze.scrollTop),ze.scrollLeftChanged&&(this._element.scrollLeft=ze.scrollLeft)}),this.scanDomNode()}setScrollPosition(he){this._scrollable.setScrollPositionNow(he)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},11587:(yt,T,e)=>{"use strict";e.d(T,{M:()=>$,z:()=>j});var s=e(94418),t=e(30728),l=e(2654),C=e(14940),f=e(84968),I=e(31864),b=e(21576),S=e(23944),D=e(79257),_=e(22070),r=e(92123),a=e.n(r),u=e(65057),n=e.n(u),d=e(28764),y=e.n(d),g=e(6557),v=e.n(g),m=e(11146),w=e.n(m),E=e(95085),L=e.n(E),x=e(95296),A={};A.styleTagTransform=L(),A.setAttributes=v(),A.insert=y().bind(null,"head"),A.domAPI=n(),A.insertStyleElement=w(),a()(x.Z,A);const H={separatorBorder:f.Il.transparent};class z{constructor(R,Z,J,Ce){this.container=R,this.view=Z,this.disposable=Ce,this._cachedVisibleSize=void 0,"number"==typeof J?(this._size=J,this._cachedVisibleSize=void 0,R.classList.add("visible")):(this._size=0,this._cachedVisibleSize=J.cachedVisibleSize)}set size(R){this._size=R}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(R,Z){var J,Ce;R!==this.visible&&(R?(this.size=(0,S.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof Z?Z:this.size,this.size=0),this.container.classList.toggle("visible",R),null===(Ce=(J=this.view).setVisible)||void 0===Ce||Ce.call(J,R))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(R){this.container.style.pointerEvents=R?"":"none"}layout(R,Z){this.layoutContainer(R),this.view.layout(this.size,R,Z)}dispose(){return this.disposable.dispose(),this.view}}class N extends z{layoutContainer(R){this.container.style.top=`${R}px`,this.container.style.height=`${this.size}px`}}class O extends z{layoutContainer(R){this.container.style.left=`${R}px`,this.container.style.width=`${this.size}px`}}var $,q,K=(()=>((K=K||{})[K.Idle=0]="Idle",K[K.Busy=1]="Busy",K))();(q=$||($={})).Distribute={type:"distribute"},q.Split=function R(J){return{type:"split",index:J}},q.Invisible=function Z(J){return{type:"invisible",cachedVisibleSize:J}};class j extends b.JT{constructor(R,Z={}){var J,Ce,Se,Ie,xe;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=K.Idle,this._onDidSashChange=this._register(new I.Q5),this._onDidSashReset=this._register(new I.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(J=Z.orientation)&&void 0!==J?J:0,this.inverseAltBehavior=null!==(Ce=Z.inverseAltBehavior)&&void 0!==Ce&&Ce,this.proportionalLayout=null===(Se=Z.proportionalLayout)||void 0===Se||Se,this.getSashOrthogonalSize=Z.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),R.appendChild(this.el),this.sashContainer=(0,s.R3)(this.el,(0,s.$)(".sash-container")),this.viewContainer=(0,s.$)(".split-view-container"),this.scrollable=new D.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:s.jL}),this.scrollableElement=this._register(new l.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(Ie=Z.scrollbarVisibility)&&void 0!==Ie?Ie:1:2,horizontal:1===this.orientation?null!==(xe=Z.scrollbarVisibility)&&void 0!==xe?xe:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(Me=>{this.viewContainer.scrollTop=Me.scrollTop,this.viewContainer.scrollLeft=Me.scrollLeft})),(0,s.R3)(this.el,this.scrollableElement.getDomNode()),this.style(Z.styles||H),Z.descriptor&&(this.size=Z.descriptor.size,Z.descriptor.views.forEach((Me,Oe)=>{const se=_.o8(Me.visible)||Me.visible?Me.size:{type:"invisible",cachedVisibleSize:Me.size};this.doAddView(Me.view,se,Oe,!0)}),this.contentSize=this.viewItems.reduce((Me,Oe)=>Me+Oe.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(R){for(const Z of this.sashItems)Z.sash.orthogonalStartSash=R;this._orthogonalStartSash=R}set orthogonalEndSash(R){for(const Z of this.sashItems)Z.sash.orthogonalEndSash=R;this._orthogonalEndSash=R}set startSnappingEnabled(R){this._startSnappingEnabled!==R&&(this._startSnappingEnabled=R,this.updateSashEnablement())}set endSnappingEnabled(R){this._endSnappingEnabled!==R&&(this._endSnappingEnabled=R,this.updateSashEnablement())}style(R){R.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",R.separatorBorder.toString()))}addView(R,Z,J=this.viewItems.length,Ce){this.doAddView(R,Z,J,Ce)}layout(R,Z){const J=Math.max(this.size,this.contentSize);if(this.size=R,this.layoutContext=Z,this.proportions)for(let Ce=0;Ce<this.viewItems.length;Ce++){const Se=this.viewItems[Ce];Se.size=(0,S.uZ)(Math.round(this.proportions[Ce]*R),Se.minimumSize,Se.maximumSize)}else{const Ce=(0,C.w6)(this.viewItems.length),Se=Ce.filter(xe=>1===this.viewItems[xe].priority),Ie=Ce.filter(xe=>2===this.viewItems[xe].priority);this.resize(this.viewItems.length-1,R-J,void 0,Se,Ie)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(R=>R.size/this.contentSize))}onSashStart({sash:R,start:Z,alt:J}){for(const xe of this.viewItems)xe.enabled=!1;const Ce=this.sashItems.findIndex(xe=>xe.sash===R),Se=(0,b.F8)((0,s.nm)(document.body,"keydown",xe=>Ie(this.sashDragState.current,xe.altKey)),(0,s.nm)(document.body,"keyup",()=>Ie(this.sashDragState.current,!1))),Ie=(xe,Me)=>{const Oe=this.viewItems.map(Pe=>Pe.size);let Ee,me,se=Number.NEGATIVE_INFINITY,ce=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(Me=!Me),Me)if(Ce===this.sashItems.length-1){const he=this.viewItems[Ce];se=(he.minimumSize-he.size)/2,ce=(he.maximumSize-he.size)/2}else{const he=this.viewItems[Ce+1];se=(he.size-he.maximumSize)/2,ce=(he.size-he.minimumSize)/2}if(!Me){const Pe=(0,C.w6)(Ce,-1),he=(0,C.w6)(Ce+1,this.viewItems.length),Fe=Pe.reduce((Xe,re)=>Xe+(this.viewItems[re].minimumSize-Oe[re]),0),Ze=Pe.reduce((Xe,re)=>Xe+(this.viewItems[re].viewMaximumSize-Oe[re]),0),ze=0===he.length?Number.POSITIVE_INFINITY:he.reduce((Xe,re)=>Xe+(Oe[re]-this.viewItems[re].minimumSize),0),fe=0===he.length?Number.NEGATIVE_INFINITY:he.reduce((Xe,re)=>Xe+(Oe[re]-this.viewItems[re].viewMaximumSize),0),Ke=Math.max(Fe,fe),Je=Math.min(ze,Ze),vt=this.findFirstSnapIndex(Pe),Et=this.findFirstSnapIndex(he);if("number"==typeof vt){const Xe=this.viewItems[vt],re=Math.floor(Xe.viewMinimumSize/2);Ee={index:vt,limitDelta:Xe.visible?Ke-re:Ke+re,size:Xe.size}}if("number"==typeof Et){const Xe=this.viewItems[Et],re=Math.floor(Xe.viewMinimumSize/2);me={index:Et,limitDelta:Xe.visible?Je+re:Je-re,size:Xe.size}}}this.sashDragState={start:xe,current:xe,index:Ce,sizes:Oe,minDelta:se,maxDelta:ce,alt:Me,snapBefore:Ee,snapAfter:me,disposable:Se}};Ie(Z,J)}onSashChange({current:R}){const{index:Z,start:J,sizes:Ce,alt:Se,minDelta:Ie,maxDelta:xe,snapBefore:Me,snapAfter:Oe}=this.sashDragState;this.sashDragState.current=R;const ce=this.resize(Z,R-J,Ce,void 0,void 0,Ie,xe,Me,Oe);if(Se){const Ee=Z===this.sashItems.length-1,me=this.viewItems.map(fe=>fe.size),he=this.viewItems[Ee?Z:Z+1];this.resize(Ee?Z-1:Z+1,-ce,me,void 0,void 0,he.size-he.maximumSize,he.size-he.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(R){this._onDidSashChange.fire(R),this.sashDragState.disposable.dispose(),this.saveProportions();for(const Z of this.viewItems)Z.enabled=!0}onViewChange(R,Z){const J=this.viewItems.indexOf(R);J<0||J>=this.viewItems.length||(Z=(0,S.uZ)(Z="number"==typeof Z?Z:R.size,R.minimumSize,R.maximumSize),this.inverseAltBehavior&&J>0?(this.resize(J-1,Math.floor((R.size-Z)/2)),this.distributeEmptySpace(),this.layoutViews()):(R.size=Z,this.relayout([J],void 0)))}resizeView(R,Z){if(this.state!==K.Idle)throw new Error("Cant modify splitview");if(this.state=K.Busy,R<0||R>=this.viewItems.length)return;const J=(0,C.w6)(this.viewItems.length).filter(xe=>xe!==R),Ce=[...J.filter(xe=>1===this.viewItems[xe].priority),R],Se=J.filter(xe=>2===this.viewItems[xe].priority),Ie=this.viewItems[R];Z=Math.round(Z),Z=(0,S.uZ)(Z,Ie.minimumSize,Math.min(Ie.maximumSize,this.size)),Ie.size=Z,this.relayout(Ce,Se),this.state=K.Idle}distributeViewSizes(){const R=[];let Z=0;for(const xe of this.viewItems)xe.maximumSize-xe.minimumSize>0&&(R.push(xe),Z+=xe.size);const J=Math.floor(Z/R.length);for(const xe of R)xe.size=(0,S.uZ)(J,xe.minimumSize,xe.maximumSize);const Ce=(0,C.w6)(this.viewItems.length),Se=Ce.filter(xe=>1===this.viewItems[xe].priority),Ie=Ce.filter(xe=>2===this.viewItems[xe].priority);this.relayout(Se,Ie)}getViewSize(R){return R<0||R>=this.viewItems.length?-1:this.viewItems[R].size}doAddView(R,Z,J=this.viewItems.length,Ce){if(this.state!==K.Idle)throw new Error("Cant modify splitview");this.state=K.Busy;const Se=(0,s.$)(".split-view-view");J===this.viewItems.length?this.viewContainer.appendChild(Se):this.viewContainer.insertBefore(Se,this.viewContainer.children.item(J));const Ie=R.onDidChange(Ee=>this.onViewChange(se,Ee)),xe=(0,b.OF)(()=>this.viewContainer.removeChild(Se)),Me=(0,b.F8)(Ie,xe);let Oe;Oe="number"==typeof Z?Z:"split"===Z.type?this.getViewSize(Z.index)/2:"invisible"===Z.type?{cachedVisibleSize:Z.cachedVisibleSize}:R.minimumSize;const se=0===this.orientation?new N(Se,R,Oe,Me):new O(Se,R,Oe,Me);if(this.viewItems.splice(J,0,se),this.viewItems.length>1){const Ee={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},me=0===this.orientation?new t.g(this.sashContainer,{getHorizontalSashTop:Xe=>this.getSashPosition(Xe),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Ee),{orientation:1})):new t.g(this.sashContainer,{getVerticalSashLeft:Xe=>this.getSashPosition(Xe),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Ee),{orientation:0})),Pe=0===this.orientation?Xe=>({sash:me,start:Xe.startY,current:Xe.currentY,alt:Xe.altKey}):Xe=>({sash:me,start:Xe.startX,current:Xe.currentX,alt:Xe.altKey}),Fe=I.ju.map(me.onDidStart,Pe)(this.onSashStart,this),ze=I.ju.map(me.onDidChange,Pe)(this.onSashChange,this),Ke=I.ju.map(me.onDidEnd,()=>this.sashItems.findIndex(Xe=>Xe.sash===me))(this.onSashEnd,this),Je=me.onDidReset(()=>{const Xe=this.sashItems.findIndex(Q=>Q.sash===me),re=(0,C.w6)(Xe,-1),pe=(0,C.w6)(Xe+1,this.viewItems.length),ge=this.findFirstSnapIndex(re),de=this.findFirstSnapIndex(pe);"number"==typeof ge&&!this.viewItems[ge].visible||"number"==typeof de&&!this.viewItems[de].visible||this._onDidSashReset.fire(Xe)}),vt=(0,b.F8)(Fe,ze,Ke,Je,me);this.sashItems.splice(J-1,0,{sash:me,disposable:vt})}let ce;Se.appendChild(R.element),"number"!=typeof Z&&"split"===Z.type&&(ce=[Z.index]),Ce||this.relayout([J],ce),this.state=K.Idle,!Ce&&"number"!=typeof Z&&"distribute"===Z.type&&this.distributeViewSizes()}relayout(R,Z){const J=this.viewItems.reduce((Ce,Se)=>Ce+Se.size,0);this.resize(this.viewItems.length-1,this.size-J,void 0,R,Z),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(R,Z,J=this.viewItems.map(se=>se.size),Ce,Se,Ie=Number.NEGATIVE_INFINITY,xe=Number.POSITIVE_INFINITY,Me,Oe){if(R<0||R>=this.viewItems.length)return 0;const se=(0,C.w6)(R,-1),ce=(0,C.w6)(R+1,this.viewItems.length);if(Se)for(const Et of Se)(0,C.zI)(se,Et),(0,C.zI)(ce,Et);if(Ce)for(const Et of Ce)(0,C.al)(se,Et),(0,C.al)(ce,Et);const Ee=se.map(Et=>this.viewItems[Et]),me=se.map(Et=>J[Et]),Pe=ce.map(Et=>this.viewItems[Et]),he=ce.map(Et=>J[Et]),Fe=se.reduce((Et,Xe)=>Et+(this.viewItems[Xe].minimumSize-J[Xe]),0),Ze=se.reduce((Et,Xe)=>Et+(this.viewItems[Xe].maximumSize-J[Xe]),0),ze=0===ce.length?Number.POSITIVE_INFINITY:ce.reduce((Et,Xe)=>Et+(J[Xe]-this.viewItems[Xe].minimumSize),0),fe=0===ce.length?Number.NEGATIVE_INFINITY:ce.reduce((Et,Xe)=>Et+(J[Xe]-this.viewItems[Xe].maximumSize),0),Ke=Math.max(Fe,fe,Ie),Je=Math.min(ze,Ze,xe);let vt=!1;if(Me){const Et=this.viewItems[Me.index],Xe=Z>=Me.limitDelta;vt=Xe!==Et.visible,Et.setVisible(Xe,Me.size)}if(!vt&&Oe){const Et=this.viewItems[Oe.index],Xe=Z<Oe.limitDelta;vt=Xe!==Et.visible,Et.setVisible(Xe,Oe.size)}if(vt)return this.resize(R,Z,J,Ce,Se,Ie,xe);for(let Et=0,Xe=Z=(0,S.uZ)(Z,Ke,Je);Et<Ee.length;Et++){const re=Ee[Et],pe=(0,S.uZ)(me[Et]+Xe,re.minimumSize,re.maximumSize);Xe-=pe-me[Et],re.size=pe}for(let Et=0,Xe=Z;Et<Pe.length;Et++){const re=Pe[Et],pe=(0,S.uZ)(he[Et]-Xe,re.minimumSize,re.maximumSize);Xe+=pe-he[Et],re.size=pe}return Z}distributeEmptySpace(R){const Z=this.viewItems.reduce((xe,Me)=>xe+Me.size,0);let J=this.size-Z;const Ce=(0,C.w6)(this.viewItems.length-1,-1),Se=Ce.filter(xe=>1===this.viewItems[xe].priority),Ie=Ce.filter(xe=>2===this.viewItems[xe].priority);for(const xe of Ie)(0,C.zI)(Ce,xe);for(const xe of Se)(0,C.al)(Ce,xe);"number"==typeof R&&(0,C.al)(Ce,R);for(let xe=0;0!==J&&xe<Ce.length;xe++){const Me=this.viewItems[Ce[xe]],Oe=(0,S.uZ)(Me.size+J,Me.minimumSize,Me.maximumSize);J-=Oe-Me.size,Me.size=Oe}}layoutViews(){this.contentSize=this.viewItems.reduce((Z,J)=>Z+J.size,0);let R=0;for(const Z of this.viewItems)Z.layout(R,this.layoutContext),R+=Z.size;this.sashItems.forEach(Z=>Z.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let R=!1;const Z=this.viewItems.map(Me=>R=Me.size-Me.minimumSize>0||R);R=!1;const J=this.viewItems.map(Me=>R=Me.maximumSize-Me.size>0||R),Ce=[...this.viewItems].reverse();R=!1;const Se=Ce.map(Me=>R=Me.size-Me.minimumSize>0||R).reverse();R=!1;const Ie=Ce.map(Me=>R=Me.maximumSize-Me.size>0||R).reverse();let xe=0;for(let Me=0;Me<this.sashItems.length;Me++){const{sash:Oe}=this.sashItems[Me];xe+=this.viewItems[Me].size;const ce=!(Z[Me]&&Ie[Me+1]),Ee=!(J[Me]&&Se[Me+1]);if(ce&&Ee){const me=(0,C.w6)(Me,-1),Pe=(0,C.w6)(Me+1,this.viewItems.length),he=this.findFirstSnapIndex(me),Fe=this.findFirstSnapIndex(Pe);Oe.state="number"==typeof he&&!this.viewItems[he].visible&&Se[Me]&&(xe>0||this.startSnappingEnabled)?1:"number"==typeof Fe&&!this.viewItems[Fe].visible&&Z[Me]&&(xe<this.contentSize||this.endSnappingEnabled)?2:0}else Oe.state=ce&&!Ee?1:!ce&&Ee?2:3}}getSashPosition(R){let Z=0;for(let J=0;J<this.sashItems.length;J++)if(Z+=this.viewItems[J].size,this.sashItems[J].sash===R)return Z;return 0}findFirstSnapIndex(R){for(const Z of R){const J=this.viewItems[Z];if(J.visible&&J.snap)return Z}for(const Z of R){const J=this.viewItems[Z];if(J.visible&&J.maximumSize-J.minimumSize>0)return;if(!J.visible&&J.snap)return Z}}dispose(){super.dispose(),(0,b.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(R=>R.disposable.dispose()),this.sashItems=[]}}},26463:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>L});var s=e(79595),t=e(51153),l=e(84968),C=e(31864),f=e(92123),I=e.n(f),b=e(65057),S=e.n(b),D=e(28764),_=e.n(D),r=e(6557),a=e.n(r),u=e(11146),n=e.n(u),d=e(95085),y=e.n(d),g=e(83445),v={};v.styleTagTransform=y(),v.setAttributes=a(),v.insert=_().bind(null,"head"),v.domAPI=S(),v.insertStyleElement=n(),I()(g.Z,v);const E={inputActiveOptionBorder:l.Il.fromHex("#007ACC00"),inputActiveOptionForeground:l.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:l.Il.fromHex("#0E639C50")};class L extends s.${constructor(A){super(),this._onChange=this._register(new C.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new C.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},E),A),this._checked=this._opts.isChecked;const k=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,k.push(...t.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&k.push(...this._opts.actionClassName.split(" ")),this._checked&&k.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...k),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,W=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),W.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,W=>{if(10===W.keyCode||3===W.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),W.preventDefault(),void W.stopPropagation();this._onKeyDown.fire(W)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(A){this._checked=A,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(A){A.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=A.inputActiveOptionBorder),A.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=A.inputActiveOptionForeground),A.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=A.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},79595:(yt,T,e)=>{"use strict";e.d(T,{$:()=>I});var s=e(94418),t=e(47888),l=e(46073),C=e(52364),f=e(21576);class I extends f.JT{onclick(S,D){this._register(s.nm(S,s.tw.CLICK,_=>D(new l.n(_))))}onmousedown(S,D){this._register(s.nm(S,s.tw.MOUSE_DOWN,_=>D(new l.n(_))))}onmouseover(S,D){this._register(s.nm(S,s.tw.MOUSE_OVER,_=>D(new l.n(_))))}onmouseleave(S,D){this._register(s.nm(S,s.tw.MOUSE_LEAVE,_=>D(new l.n(_))))}onkeydown(S,D){this._register(s.nm(S,s.tw.KEY_DOWN,_=>D(new t.y(_))))}onkeyup(S,D){this._register(s.nm(S,s.tw.KEY_UP,_=>D(new t.y(_))))}oninput(S,D){this._register(s.nm(S,s.tw.INPUT,D))}onblur(S,D){this._register(s.nm(S,s.tw.BLUR,D))}onfocus(S,D){this._register(s.nm(S,s.tw.FOCUS,D))}ignoreGesture(S){C.o.ignoreTarget(S)}}},36608:(yt,T,e)=>{"use strict";e.d(T,{Wi:()=>I,Z0:()=>b,aU:()=>f,eZ:()=>D,wY:()=>S,xw:()=>_});var s=e(31864),t=e(21576),l=e(1200),C=function(r,a,u,n){return new(u||(u=Promise))(function(y,g){function v(E){try{w(n.next(E))}catch(L){g(L)}}function m(E){try{w(n.throw(E))}catch(L){g(L)}}function w(E){E.done?y(E.value):function d(y){return y instanceof u?y:new u(function(g){g(y)})}(E.value).then(v,m)}w((n=n.apply(r,a||[])).next())})};class f extends t.JT{constructor(a,u="",n="",d=!0,y){super(),this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=a,this._label=u,this._cssClass=n,this._enabled=d,this._actionCallback=y}get id(){return this._id}get label(){return this._label}set label(a){this._setLabel(a)}_setLabel(a){this._label!==a&&(this._label=a,this._onDidChange.fire({label:a}))}get tooltip(){return this._tooltip||""}set tooltip(a){this._setTooltip(a)}_setTooltip(a){this._tooltip!==a&&(this._tooltip=a,this._onDidChange.fire({tooltip:a}))}get class(){return this._cssClass}set class(a){this._setClass(a)}_setClass(a){this._cssClass!==a&&(this._cssClass=a,this._onDidChange.fire({class:a}))}get enabled(){return this._enabled}set enabled(a){this._setEnabled(a)}_setEnabled(a){this._enabled!==a&&(this._enabled=a,this._onDidChange.fire({enabled:a}))}get checked(){return this._checked}set checked(a){this._setChecked(a)}_setChecked(a){this._checked!==a&&(this._checked=a,this._onDidChange.fire({checked:a}))}run(a,u){return C(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(a))})}}class I extends t.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new s.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new s.Q5),this.onDidRun=this._onDidRun.event}run(a,u){return C(this,void 0,void 0,function*(){if(!a.enabled)return;let n;this._onBeforeRun.fire({action:a});try{yield this.runAction(a,u)}catch(d){n=d}this._onDidRun.fire({action:a,error:n})})}runAction(a,u){return C(this,void 0,void 0,function*(){yield a.run(u)})}}let b=(()=>{class r extends f{constructor(u){super(r.ID,u,u?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return r.ID="vs.actions.separator",r})();class S{constructor(a,u,n,d){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=a,this.label=u,this.class=d,this._actions=n}get actions(){return this._actions}dispose(){}run(){return C(this,void 0,void 0,function*(){})}}let D=(()=>{class r extends f{constructor(){super(r.ID,l.NC("submenu.empty","(empty)"),void 0,!1)}}return r.ID="vs.actions.empty",r})();function _(r){var a,u;return{id:r.id,label:r.label,class:void 0,enabled:null===(a=r.enabled)||void 0===a||a,checked:null!==(u=r.checked)&&void 0!==u&&u,run:()=>C(this,void 0,void 0,function*(){return r.run()}),tooltip:r.label,dispose:()=>{}}}},14940:(yt,T,e)=>{"use strict";function s(j,q=0){return j[j.length-(1+q)]}function t(j){if(0===j.length)throw new Error("Invalid tail call");return[j.slice(0,j.length-1),j[j.length-1]]}function l(j,q,R=((Z,J)=>Z===J)){if(j===q)return!0;if(!j||!q||j.length!==q.length)return!1;for(let Z=0,J=j.length;Z<J;Z++)if(!R(j[Z],q[Z]))return!1;return!0}function C(j,q){const R=j.length-1;q<R&&(j[q]=j[R]),j.pop()}function f(j,q,R){return function I(j,q){let R=0,Z=j-1;for(;R<=Z;){const J=(R+Z)/2|0,Ce=q(J);if(Ce<0)R=J+1;else{if(!(Ce>0))return J;Z=J-1}}return-(R+1)}(j.length,Z=>R(j[Z],q))}function b(j,q){let R=0,Z=j.length;if(0===Z)return 0;for(;R<Z;){const J=Math.floor((R+Z)/2);q(j[J])?Z=J:R=J+1}return R}function S(j,q,R){if((j|=0)>=q.length)throw new TypeError("invalid index");const Z=q[Math.floor(q.length*Math.random())],J=[],Ce=[],Se=[];for(const Ie of q){const xe=R(Ie,Z);xe<0?J.push(Ie):xe>0?Ce.push(Ie):Se.push(Ie)}return j<J.length?S(j,J,R):j<J.length+Se.length?Se[0]:S(j-(J.length+Se.length),Ce,R)}function D(j,q){const R=[];let Z;for(const J of j.slice(0).sort(q))Z&&0===q(Z[0],J)?Z.push(J):(Z=[J],R.push(Z));return R}function _(j){return j.filter(q=>!!q)}function r(j){return!Array.isArray(j)||0===j.length}function a(j){return Array.isArray(j)&&j.length>0}function u(j,q=(R=>R)){const R=new Set;return j.filter(Z=>{const J=q(Z);return!R.has(J)&&(R.add(J),!0)})}function n(j,q){const R=function d(j,q){for(let R=j.length-1;R>=0;R--)if(q(j[R]))return R;return-1}(j,q);if(-1!==R)return j[R]}function y(j,q){return j.length>0?j[0]:q}function g(j,q){let R="number"==typeof q?j:0;"number"==typeof q?R=j:(R=0,q=j);const Z=[];if(R<=q)for(let J=R;J<q;J++)Z.push(J);else for(let J=R;J>q;J--)Z.push(J);return Z}function v(j,q,R){const Z=j.slice(0,q),J=j.slice(q);return Z.concat(R,J)}function m(j,q){const R=j.indexOf(q);R>-1&&(j.splice(R,1),j.unshift(q))}function w(j,q){const R=j.indexOf(q);R>-1&&(j.splice(R,1),j.push(q))}function E(j,q){for(const R of q)j.push(R)}function L(j){return Array.isArray(j)?j:[j]}function A(j,q,R,Z){const J=k(j,q),Ce=j.splice(J,R);return function x(j,q,R){const Z=k(j,q),J=j.length,Ce=R.length;j.length=J+Ce;for(let Se=J-1;Se>=Z;Se--)j[Se+Ce]=j[Se];for(let Se=0;Se<Ce;Se++)j[Se+Z]=R[Se]}(j,J,Z),Ce}function k(j,q){return q<0?Math.max(q+j.length,0):Math.min(q,j.length)}var W,j;function H(j,q){return(R,Z)=>q(j(R),j(Z))}e.d(T,{Dc:()=>N,EB:()=>u,Gb:()=>s,H9:()=>$,HW:()=>S,JH:()=>t,LS:()=>C,Of:()=>a,VJ:()=>K,XY:()=>r,Xh:()=>y,Zv:()=>v,_2:()=>L,al:()=>w,dF:()=>n,db:()=>A,fS:()=>l,fv:()=>z,jV:()=>O,kX:()=>_,lG:()=>b,ry:()=>f,tT:()=>H,vA:()=>E,vM:()=>D,w6:()=>g,zI:()=>m}),(j=W||(W={})).isLessThan=function q(J){return J<0},j.isGreaterThan=function R(J){return J>0},j.isNeitherLessOrGreaterThan=function Z(J){return 0===J},j.greaterThan=1,j.lessThan=-1,j.neitherLessOrGreaterThan=0;const z=(j,q)=>j-q;function N(j,q){if(0===j.length)return;let R=j[0];for(let Z=1;Z<j.length;Z++){const J=j[Z];q(J,R)>0&&(R=J)}return R}function O(j,q){if(0===j.length)return;let R=j[0];for(let Z=1;Z<j.length;Z++){const J=j[Z];q(J,R)>=0&&(R=J)}return R}function K(j,q){return N(j,(R,Z)=>-q(R,Z))}class ${constructor(q){this.items=q,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(q){let R=this.firstIdx;for(;R<this.items.length&&q(this.items[R]);)R++;const Z=R===this.firstIdx?null:this.items.slice(this.firstIdx,R);return this.firstIdx=R,Z}takeFromEndWhile(q){let R=this.lastIdx;for(;R>=0&&q(this.items[R]);)R--;const Z=R===this.lastIdx?null:this.items.slice(R+1,this.lastIdx+1);return this.lastIdx=R,Z}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const q=this.items[this.firstIdx];return this.firstIdx++,q}takeCount(q){const R=this.items.slice(this.firstIdx,this.firstIdx+q);return this.firstIdx+=q,R}}},92132:(yt,T,e)=>{"use strict";function s(t,l){if(!t)throw new Error(l?`Assertion failed (${l})`:"Assertion Failed")}e.d(T,{ok:()=>s})},41883:(yt,T,e)=>{"use strict";e.d(T,{Aq:()=>H,CR:()=>k,J8:()=>S,PG:()=>D,Ps:()=>m,To:()=>x,Ue:()=>A,Vg:()=>v,Vs:()=>g,_F:()=>w,eP:()=>_,jT:()=>W,ne:()=>n,pY:()=>L,rH:()=>y,vp:()=>d,zS:()=>N,zh:()=>E});var s=e(71943),t=e(3219),l=e(31864),C=e(21576),f=e(84834),I=function(O,K,$,j){return new($||($=Promise))(function(R,Z){function J(Ie){try{Se(j.next(Ie))}catch(xe){Z(xe)}}function Ce(Ie){try{Se(j.throw(Ie))}catch(xe){Z(xe)}}function Se(Ie){Ie.done?R(Ie.value):function q(R){return R instanceof $?R:new $(function(Z){Z(R)})}(Ie.value).then(J,Ce)}Se((j=j.apply(O,K||[])).next())})},b=function(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,K=O[Symbol.asyncIterator];return K?K.call(O):(O="function"==typeof __values?__values(O):O[Symbol.iterator](),$={},j("next"),j("throw"),j("return"),$[Symbol.asyncIterator]=function(){return this},$);function j(R){$[R]=O[R]&&function(Z){return new Promise(function(J,Ce){!function q(R,Z,J,Ce){Promise.resolve(Ce).then(function(Se){R({value:Se,done:J})},Z)}(J,Ce,(Z=O[R](Z)).done,Z.value)})}}};function S(O){return!!O&&"function"==typeof O.then}function D(O){const K=new s.A,$=O(K.token),j=new Promise((q,R)=>{const Z=K.token.onCancellationRequested(()=>{Z.dispose(),K.dispose(),R(new t.FU)});Promise.resolve($).then(J=>{Z.dispose(),K.dispose(),q(J)},J=>{Z.dispose(),K.dispose(),R(J)})});return new class{cancel(){K.cancel()}then(q,R){return j.then(q,R)}catch(q){return this.then(void 0,q)}finally(q){return j.finally(q)}}}function _(O,K,$){return new Promise((j,q)=>{const R=K.onCancellationRequested(()=>{R.dispose(),j($)});O.then(j,q).finally(()=>R.dispose())})}class r{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(K){if(this.activePromise){if(this.queuedPromiseFactory=K,!this.queuedPromise){const $=()=>{this.queuedPromise=null;const j=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,j};this.queuedPromise=new Promise(j=>{this.activePromise.then($,$).then(j)})}return new Promise(($,j)=>{this.queuedPromise.then($,j)})}return this.activePromise=K(),new Promise(($,j)=>{this.activePromise.then(q=>{this.activePromise=null,$(q)},q=>{this.activePromise=null,j(q)})})}}const n=Symbol("MicrotaskDelay");class d{constructor(K){this.defaultDelay=K,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(K,$=this.defaultDelay){this.task=K,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((q,R)=>{this.doResolve=q,this.doReject=R}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const q=this.task;return this.task=null,q()}}));const j=()=>{var q;this.deferred=null,null===(q=this.doResolve)||void 0===q||q.call(this,null)};return this.deferred=$===n?(O=>{let K=!0;return queueMicrotask(()=>{K&&(K=!1,O())}),{isTriggered:()=>K,dispose:()=>{K=!1}}})(j):((O,K)=>{let $=!0;const j=setTimeout(()=>{$=!1,K()},O);return{isTriggered:()=>$,dispose:()=>{clearTimeout(j),$=!1}}})($,j),this.completionPromise}isTriggered(){var K;return!(null===(K=this.deferred)||void 0===K||!K.isTriggered())}cancel(){var K;this.cancelTimeout(),this.completionPromise&&(null===(K=this.doReject)||void 0===K||K.call(this,new t.FU),this.completionPromise=null)}cancelTimeout(){var K;null===(K=this.deferred)||void 0===K||K.dispose(),this.deferred=null}dispose(){this.cancel()}}class y{constructor(K){this.delayer=new d(K),this.throttler=new r}trigger(K,$){return this.delayer.trigger(()=>this.throttler.queue(K),$)}dispose(){this.delayer.dispose()}}function g(O,K){return K?new Promise(($,j)=>{const q=setTimeout(()=>{R.dispose(),$()},O),R=K.onCancellationRequested(()=>{clearTimeout(q),R.dispose(),j(new t.FU)})}):D($=>g(O,$))}function v(O,K=0){const $=setTimeout(O,K);return(0,C.OF)(()=>clearTimeout($))}function m(O,K=(j=>!!j),$=null){let j=0;const q=O.length,R=()=>{if(j>=q)return Promise.resolve($);const Z=O[j++];return Promise.resolve(Z()).then(Ce=>K(Ce)?Promise.resolve(Ce):R())};return R()}class w{constructor(K,$){this._token=-1,"function"==typeof K&&"number"==typeof $&&this.setIfNotSet(K,$)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(K,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,K()},$)}setIfNotSet(K,$){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,K()},$))}}class E{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(K,$){this.cancel(),this._token=setInterval(()=>{K()},$)}}class L{constructor(K,$){this.timeoutToken=-1,this.runner=K,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(K=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,K)}get delay(){return this.timeout}set delay(K){this.timeout=K}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var K;null===(K=this.runner)||void 0===K||K.call(this)}}let x;x="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?O=>{(0,f.fn)(()=>{if(K)return;const $=Date.now()+15;O(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,$-Date.now())}))});let K=!1;return{dispose(){K||(K=!0)}}}:(O,K)=>{const $=requestIdleCallback(O,"number"==typeof K?{timeout:K}:void 0);let j=!1;return{dispose(){j||(j=!0,cancelIdleCallback($))}}};class A{constructor(K){this._didRun=!1,this._executor=()=>{try{this._value=K()}catch($){this._error=$}finally{this._didRun=!0}},this._handle=x(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class k{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((K,$)=>{this.completeCallback=K,this.errorCallback=$})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(K){return new Promise($=>{this.completeCallback(K),this.resolved=!0,$()})}cancel(){new Promise(K=>{this.errorCallback(new t.FU),this.rejected=!0,K()})}}var W,O;(O=W||(W={})).settled=function K(j){return I(this,void 0,void 0,function*(){let q;const R=yield Promise.all(j.map(Z=>Z.then(J=>J,J=>{q||(q=J)})));if(typeof q<"u")throw q;return R})},O.withAsyncBody=function $(j){return new Promise((q,R)=>I(this,void 0,void 0,function*(){try{yield j(q,R)}catch(Z){R(Z)}}))};class H{constructor(K){this._state=0,this._results=[],this._error=null,this._onStateChanged=new l.Q5,queueMicrotask(()=>I(this,void 0,void 0,function*(){const $={emitOne:j=>this.emitOne(j),emitMany:j=>this.emitMany(j),reject:j=>this.reject(j)};try{yield Promise.resolve(K($)),this.resolve()}catch(j){this.reject(j)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}}))}static fromArray(K){return new H($=>{$.emitMany(K)})}static fromPromise(K){return new H($=>I(this,void 0,void 0,function*(){$.emitMany(yield K)}))}static fromPromises(K){return new H($=>I(this,void 0,void 0,function*(){yield Promise.all(K.map(j=>I(this,void 0,void 0,function*(){return $.emitOne(yield j)})))}))}static merge(K){return new H($=>I(this,void 0,void 0,function*(){yield Promise.all(K.map(j=>{var q,R;return I(this,void 0,void 0,function*(){var Z,J;try{for(q=b(j);!(R=yield q.next()).done;)$.emitOne(R.value)}catch(Ce){Z={error:Ce}}finally{try{R&&!R.done&&(J=q.return)&&(yield J.call(q))}finally{if(Z)throw Z.error}}})}))}))}[Symbol.asyncIterator](){let K=0;return{next:()=>I(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(K<this._results.length)return{done:!1,value:this._results[K++]};if(1===this._state)return{done:!0,value:void 0};yield l.ju.toPromise(this._onStateChanged.event)}})}}static map(K,$){return new H(j=>I(this,void 0,void 0,function*(){var q,R;try{for(var J,Z=b(K);!(J=yield Z.next()).done;)j.emitOne($(J.value))}catch(Ce){q={error:Ce}}finally{try{J&&!J.done&&(R=Z.return)&&(yield R.call(Z))}finally{if(q)throw q.error}}}))}map(K){return H.map(this,K)}static filter(K,$){return new H(j=>I(this,void 0,void 0,function*(){var q,R;try{for(var J,Z=b(K);!(J=yield Z.next()).done;){const Ce=J.value;$(Ce)&&j.emitOne(Ce)}}catch(Ce){q={error:Ce}}finally{try{J&&!J.done&&(R=Z.return)&&(yield R.call(Z))}finally{if(q)throw q.error}}}))}filter(K){return H.filter(this,K)}static coalesce(K){return H.filter(K,$=>!!$)}coalesce(){return H.coalesce(this)}static toPromise(K){var $,j,q,R;return I(this,void 0,void 0,function*(){const Z=[];try{for($=b(K);!(j=yield $.next()).done;)Z.push(j.value)}catch(J){q={error:J}}finally{try{j&&!j.done&&(R=$.return)&&(yield R.call($))}finally{if(q)throw q.error}}return Z})}toPromise(){return H.toPromise(this)}emitOne(K){0===this._state&&(this._results.push(K),this._onStateChanged.fire())}emitMany(K){0===this._state&&(this._results=this._results.concat(K),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(K){0===this._state&&(this._state=2,this._error=K,this._onStateChanged.fire())}}H.EMPTY=H.fromArray([]);class z extends H{constructor(K,$){super($),this._source=K}cancel(){this._source.cancel()}}function N(O){const K=new s.A,$=O(K.token);return new z(K,j=>I(this,void 0,void 0,function*(){var q,R;const Z=K.token.onCancellationRequested(()=>{Z.dispose(),K.dispose(),j.reject(new t.FU)});try{try{for(var Ce,J=b($);!(Ce=yield J.next()).done;){if(K.token.isCancellationRequested)return;j.emitOne(Ce.value)}}catch(Se){q={error:Se}}finally{try{Ce&&!Ce.done&&(R=J.return)&&(yield R.call(J))}finally{if(q)throw q.error}}Z.dispose(),K.dispose()}catch(Se){Z.dispose(),K.dispose(),j.reject(Se)}}))}},28554:(yt,T,e)=>{"use strict";e.d(T,{Ag:()=>I,Cg:()=>D,KN:()=>l,Q$:()=>S,T4:()=>b,mP:()=>C,oq:()=>f});const s=typeof Buffer<"u";let t;class l{constructor(r){this.buffer=r,this.byteLength=this.buffer.byteLength}static wrap(r){return s&&!Buffer.isBuffer(r)&&(r=Buffer.from(r.buffer,r.byteOffset,r.byteLength)),new l(r)}toString(){return s?this.buffer.toString():(t||(t=new TextDecoder),t.decode(this.buffer))}}function C(_,r){return _[r+0]<<0>>>0|_[r+1]<<8>>>0}function f(_,r,a){_[a+0]=255&r,_[a+1]=255&(r>>>=8)}function I(_,r){return _[r]*Math.pow(2,24)+_[r+1]*Math.pow(2,16)+_[r+2]*Math.pow(2,8)+_[r+3]}function b(_,r,a){_[a+3]=r,_[a+2]=r>>>=8,_[a+1]=r>>>=8,_[a]=r>>>=8}function S(_,r){return _[r]}function D(_,r,a){_[a]=r}},36880:(yt,T,e)=>{"use strict";e.d(T,{b:()=>t,t:()=>s});class s{constructor(C){this.fn=C,this.lastCache=void 0,this.lastArgKey=void 0}get(C){const f=JSON.stringify(C);return this.lastArgKey!==f&&(this.lastArgKey=f,this.lastCache=this.fn(C)),this.lastCache}}class t{constructor(C){this.fn=C,this._map=new Map}get cachedValues(){return this._map}get(C){if(this._map.has(C))return this._map.get(C);const f=this.fn(C);return this._map.set(C,f),f}}},71943:(yt,T,e)=>{"use strict";e.d(T,{A:()=>f,T:()=>l});var s=e(31864);const t=Object.freeze(function(I,b){const S=setTimeout(I.bind(b),0);return{dispose(){clearTimeout(S)}}});var l,I;(I=l||(l={})).isCancellationToken=function b(S){return S===I.None||S===I.Cancelled||S instanceof C||!(!S||"object"!=typeof S)&&"boolean"==typeof S.isCancellationRequested&&"function"==typeof S.onCancellationRequested},I.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:s.ju.None}),I.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:t});class C{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?t:(this._emitter||(this._emitter=new s.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class f{constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new C),this._token}cancel(){this._token?this._token instanceof C&&this._token.cancel():this._token=l.Cancelled}dispose(b=!1){b&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof C&&this._token.dispose():this._token=l.None}}},51153:(yt,T,e)=>{"use strict";function s(C){return C?C.replace(/\$\((.*?)\)/g,(f,I)=>` ${I} `).trim():""}e.d(T,{JL:()=>s,dT:()=>l,lA:()=>t});class t{constructor(f,I,b){this.id=f,this.definition=I,this.description=b,t._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return t._allCodicons}}var l;t._allCodicons=[],t.add=new t("add",{fontCharacter:"\\ea60"}),t.plus=new t("plus",t.add.definition),t.gistNew=new t("gist-new",t.add.definition),t.repoCreate=new t("repo-create",t.add.definition),t.lightbulb=new t("lightbulb",{fontCharacter:"\\ea61"}),t.lightBulb=new t("light-bulb",{fontCharacter:"\\ea61"}),t.repo=new t("repo",{fontCharacter:"\\ea62"}),t.repoDelete=new t("repo-delete",{fontCharacter:"\\ea62"}),t.gistFork=new t("gist-fork",{fontCharacter:"\\ea63"}),t.repoForked=new t("repo-forked",{fontCharacter:"\\ea63"}),t.gitPullRequest=new t("git-pull-request",{fontCharacter:"\\ea64"}),t.gitPullRequestAbandoned=new t("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),t.recordKeys=new t("record-keys",{fontCharacter:"\\ea65"}),t.keyboard=new t("keyboard",{fontCharacter:"\\ea65"}),t.tag=new t("tag",{fontCharacter:"\\ea66"}),t.tagAdd=new t("tag-add",{fontCharacter:"\\ea66"}),t.tagRemove=new t("tag-remove",{fontCharacter:"\\ea66"}),t.person=new t("person",{fontCharacter:"\\ea67"}),t.personFollow=new t("person-follow",{fontCharacter:"\\ea67"}),t.personOutline=new t("person-outline",{fontCharacter:"\\ea67"}),t.personFilled=new t("person-filled",{fontCharacter:"\\ea67"}),t.gitBranch=new t("git-branch",{fontCharacter:"\\ea68"}),t.gitBranchCreate=new t("git-branch-create",{fontCharacter:"\\ea68"}),t.gitBranchDelete=new t("git-branch-delete",{fontCharacter:"\\ea68"}),t.sourceControl=new t("source-control",{fontCharacter:"\\ea68"}),t.mirror=new t("mirror",{fontCharacter:"\\ea69"}),t.mirrorPublic=new t("mirror-public",{fontCharacter:"\\ea69"}),t.star=new t("star",{fontCharacter:"\\ea6a"}),t.starAdd=new t("star-add",{fontCharacter:"\\ea6a"}),t.starDelete=new t("star-delete",{fontCharacter:"\\ea6a"}),t.starEmpty=new t("star-empty",{fontCharacter:"\\ea6a"}),t.comment=new t("comment",{fontCharacter:"\\ea6b"}),t.commentAdd=new t("comment-add",{fontCharacter:"\\ea6b"}),t.alert=new t("alert",{fontCharacter:"\\ea6c"}),t.warning=new t("warning",{fontCharacter:"\\ea6c"}),t.search=new t("search",{fontCharacter:"\\ea6d"}),t.searchSave=new t("search-save",{fontCharacter:"\\ea6d"}),t.logOut=new t("log-out",{fontCharacter:"\\ea6e"}),t.signOut=new t("sign-out",{fontCharacter:"\\ea6e"}),t.logIn=new t("log-in",{fontCharacter:"\\ea6f"}),t.signIn=new t("sign-in",{fontCharacter:"\\ea6f"}),t.eye=new t("eye",{fontCharacter:"\\ea70"}),t.eyeUnwatch=new t("eye-unwatch",{fontCharacter:"\\ea70"}),t.eyeWatch=new t("eye-watch",{fontCharacter:"\\ea70"}),t.circleFilled=new t("circle-filled",{fontCharacter:"\\ea71"}),t.primitiveDot=new t("primitive-dot",{fontCharacter:"\\ea71"}),t.closeDirty=new t("close-dirty",{fontCharacter:"\\ea71"}),t.debugBreakpoint=new t("debug-breakpoint",{fontCharacter:"\\ea71"}),t.debugBreakpointDisabled=new t("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),t.debugHint=new t("debug-hint",{fontCharacter:"\\ea71"}),t.primitiveSquare=new t("primitive-square",{fontCharacter:"\\ea72"}),t.edit=new t("edit",{fontCharacter:"\\ea73"}),t.pencil=new t("pencil",{fontCharacter:"\\ea73"}),t.info=new t("info",{fontCharacter:"\\ea74"}),t.issueOpened=new t("issue-opened",{fontCharacter:"\\ea74"}),t.gistPrivate=new t("gist-private",{fontCharacter:"\\ea75"}),t.gitForkPrivate=new t("git-fork-private",{fontCharacter:"\\ea75"}),t.lock=new t("lock",{fontCharacter:"\\ea75"}),t.mirrorPrivate=new t("mirror-private",{fontCharacter:"\\ea75"}),t.close=new t("close",{fontCharacter:"\\ea76"}),t.removeClose=new t("remove-close",{fontCharacter:"\\ea76"}),t.x=new t("x",{fontCharacter:"\\ea76"}),t.repoSync=new t("repo-sync",{fontCharacter:"\\ea77"}),t.sync=new t("sync",{fontCharacter:"\\ea77"}),t.clone=new t("clone",{fontCharacter:"\\ea78"}),t.desktopDownload=new t("desktop-download",{fontCharacter:"\\ea78"}),t.beaker=new t("beaker",{fontCharacter:"\\ea79"}),t.microscope=new t("microscope",{fontCharacter:"\\ea79"}),t.vm=new t("vm",{fontCharacter:"\\ea7a"}),t.deviceDesktop=new t("device-desktop",{fontCharacter:"\\ea7a"}),t.file=new t("file",{fontCharacter:"\\ea7b"}),t.fileText=new t("file-text",{fontCharacter:"\\ea7b"}),t.more=new t("more",{fontCharacter:"\\ea7c"}),t.ellipsis=new t("ellipsis",{fontCharacter:"\\ea7c"}),t.kebabHorizontal=new t("kebab-horizontal",{fontCharacter:"\\ea7c"}),t.mailReply=new t("mail-reply",{fontCharacter:"\\ea7d"}),t.reply=new t("reply",{fontCharacter:"\\ea7d"}),t.organization=new t("organization",{fontCharacter:"\\ea7e"}),t.organizationFilled=new t("organization-filled",{fontCharacter:"\\ea7e"}),t.organizationOutline=new t("organization-outline",{fontCharacter:"\\ea7e"}),t.newFile=new t("new-file",{fontCharacter:"\\ea7f"}),t.fileAdd=new t("file-add",{fontCharacter:"\\ea7f"}),t.newFolder=new t("new-folder",{fontCharacter:"\\ea80"}),t.fileDirectoryCreate=new t("file-directory-create",{fontCharacter:"\\ea80"}),t.trash=new t("trash",{fontCharacter:"\\ea81"}),t.trashcan=new t("trashcan",{fontCharacter:"\\ea81"}),t.history=new t("history",{fontCharacter:"\\ea82"}),t.clock=new t("clock",{fontCharacter:"\\ea82"}),t.folder=new t("folder",{fontCharacter:"\\ea83"}),t.fileDirectory=new t("file-directory",{fontCharacter:"\\ea83"}),t.symbolFolder=new t("symbol-folder",{fontCharacter:"\\ea83"}),t.logoGithub=new t("logo-github",{fontCharacter:"\\ea84"}),t.markGithub=new t("mark-github",{fontCharacter:"\\ea84"}),t.github=new t("github",{fontCharacter:"\\ea84"}),t.terminal=new t("terminal",{fontCharacter:"\\ea85"}),t.console=new t("console",{fontCharacter:"\\ea85"}),t.repl=new t("repl",{fontCharacter:"\\ea85"}),t.zap=new t("zap",{fontCharacter:"\\ea86"}),t.symbolEvent=new t("symbol-event",{fontCharacter:"\\ea86"}),t.error=new t("error",{fontCharacter:"\\ea87"}),t.stop=new t("stop",{fontCharacter:"\\ea87"}),t.variable=new t("variable",{fontCharacter:"\\ea88"}),t.symbolVariable=new t("symbol-variable",{fontCharacter:"\\ea88"}),t.array=new t("array",{fontCharacter:"\\ea8a"}),t.symbolArray=new t("symbol-array",{fontCharacter:"\\ea8a"}),t.symbolModule=new t("symbol-module",{fontCharacter:"\\ea8b"}),t.symbolPackage=new t("symbol-package",{fontCharacter:"\\ea8b"}),t.symbolNamespace=new t("symbol-namespace",{fontCharacter:"\\ea8b"}),t.symbolObject=new t("symbol-object",{fontCharacter:"\\ea8b"}),t.symbolMethod=new t("symbol-method",{fontCharacter:"\\ea8c"}),t.symbolFunction=new t("symbol-function",{fontCharacter:"\\ea8c"}),t.symbolConstructor=new t("symbol-constructor",{fontCharacter:"\\ea8c"}),t.symbolBoolean=new t("symbol-boolean",{fontCharacter:"\\ea8f"}),t.symbolNull=new t("symbol-null",{fontCharacter:"\\ea8f"}),t.symbolNumeric=new t("symbol-numeric",{fontCharacter:"\\ea90"}),t.symbolNumber=new t("symbol-number",{fontCharacter:"\\ea90"}),t.symbolStructure=new t("symbol-structure",{fontCharacter:"\\ea91"}),t.symbolStruct=new t("symbol-struct",{fontCharacter:"\\ea91"}),t.symbolParameter=new t("symbol-parameter",{fontCharacter:"\\ea92"}),t.symbolTypeParameter=new t("symbol-type-parameter",{fontCharacter:"\\ea92"}),t.symbolKey=new t("symbol-key",{fontCharacter:"\\ea93"}),t.symbolText=new t("symbol-text",{fontCharacter:"\\ea93"}),t.symbolReference=new t("symbol-reference",{fontCharacter:"\\ea94"}),t.goToFile=new t("go-to-file",{fontCharacter:"\\ea94"}),t.symbolEnum=new t("symbol-enum",{fontCharacter:"\\ea95"}),t.symbolValue=new t("symbol-value",{fontCharacter:"\\ea95"}),t.symbolRuler=new t("symbol-ruler",{fontCharacter:"\\ea96"}),t.symbolUnit=new t("symbol-unit",{fontCharacter:"\\ea96"}),t.activateBreakpoints=new t("activate-breakpoints",{fontCharacter:"\\ea97"}),t.archive=new t("archive",{fontCharacter:"\\ea98"}),t.arrowBoth=new t("arrow-both",{fontCharacter:"\\ea99"}),t.arrowDown=new t("arrow-down",{fontCharacter:"\\ea9a"}),t.arrowLeft=new t("arrow-left",{fontCharacter:"\\ea9b"}),t.arrowRight=new t("arrow-right",{fontCharacter:"\\ea9c"}),t.arrowSmallDown=new t("arrow-small-down",{fontCharacter:"\\ea9d"}),t.arrowSmallLeft=new t("arrow-small-left",{fontCharacter:"\\ea9e"}),t.arrowSmallRight=new t("arrow-small-right",{fontCharacter:"\\ea9f"}),t.arrowSmallUp=new t("arrow-small-up",{fontCharacter:"\\eaa0"}),t.arrowUp=new t("arrow-up",{fontCharacter:"\\eaa1"}),t.bell=new t("bell",{fontCharacter:"\\eaa2"}),t.bold=new t("bold",{fontCharacter:"\\eaa3"}),t.book=new t("book",{fontCharacter:"\\eaa4"}),t.bookmark=new t("bookmark",{fontCharacter:"\\eaa5"}),t.debugBreakpointConditionalUnverified=new t("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),t.debugBreakpointConditional=new t("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),t.debugBreakpointConditionalDisabled=new t("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),t.debugBreakpointDataUnverified=new t("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),t.debugBreakpointData=new t("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),t.debugBreakpointDataDisabled=new t("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),t.debugBreakpointLogUnverified=new t("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),t.debugBreakpointLog=new t("debug-breakpoint-log",{fontCharacter:"\\eaab"}),t.debugBreakpointLogDisabled=new t("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),t.briefcase=new t("briefcase",{fontCharacter:"\\eaac"}),t.broadcast=new t("broadcast",{fontCharacter:"\\eaad"}),t.browser=new t("browser",{fontCharacter:"\\eaae"}),t.bug=new t("bug",{fontCharacter:"\\eaaf"}),t.calendar=new t("calendar",{fontCharacter:"\\eab0"}),t.caseSensitive=new t("case-sensitive",{fontCharacter:"\\eab1"}),t.check=new t("check",{fontCharacter:"\\eab2"}),t.checklist=new t("checklist",{fontCharacter:"\\eab3"}),t.chevronDown=new t("chevron-down",{fontCharacter:"\\eab4"}),t.dropDownButton=new t("drop-down-button",t.chevronDown.definition),t.chevronLeft=new t("chevron-left",{fontCharacter:"\\eab5"}),t.chevronRight=new t("chevron-right",{fontCharacter:"\\eab6"}),t.chevronUp=new t("chevron-up",{fontCharacter:"\\eab7"}),t.chromeClose=new t("chrome-close",{fontCharacter:"\\eab8"}),t.chromeMaximize=new t("chrome-maximize",{fontCharacter:"\\eab9"}),t.chromeMinimize=new t("chrome-minimize",{fontCharacter:"\\eaba"}),t.chromeRestore=new t("chrome-restore",{fontCharacter:"\\eabb"}),t.circleOutline=new t("circle-outline",{fontCharacter:"\\eabc"}),t.debugBreakpointUnverified=new t("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),t.circleSlash=new t("circle-slash",{fontCharacter:"\\eabd"}),t.circuitBoard=new t("circuit-board",{fontCharacter:"\\eabe"}),t.clearAll=new t("clear-all",{fontCharacter:"\\eabf"}),t.clippy=new t("clippy",{fontCharacter:"\\eac0"}),t.closeAll=new t("close-all",{fontCharacter:"\\eac1"}),t.cloudDownload=new t("cloud-download",{fontCharacter:"\\eac2"}),t.cloudUpload=new t("cloud-upload",{fontCharacter:"\\eac3"}),t.code=new t("code",{fontCharacter:"\\eac4"}),t.collapseAll=new t("collapse-all",{fontCharacter:"\\eac5"}),t.colorMode=new t("color-mode",{fontCharacter:"\\eac6"}),t.commentDiscussion=new t("comment-discussion",{fontCharacter:"\\eac7"}),t.compareChanges=new t("compare-changes",{fontCharacter:"\\eafd"}),t.creditCard=new t("credit-card",{fontCharacter:"\\eac9"}),t.dash=new t("dash",{fontCharacter:"\\eacc"}),t.dashboard=new t("dashboard",{fontCharacter:"\\eacd"}),t.database=new t("database",{fontCharacter:"\\eace"}),t.debugContinue=new t("debug-continue",{fontCharacter:"\\eacf"}),t.debugDisconnect=new t("debug-disconnect",{fontCharacter:"\\ead0"}),t.debugPause=new t("debug-pause",{fontCharacter:"\\ead1"}),t.debugRestart=new t("debug-restart",{fontCharacter:"\\ead2"}),t.debugStart=new t("debug-start",{fontCharacter:"\\ead3"}),t.debugStepInto=new t("debug-step-into",{fontCharacter:"\\ead4"}),t.debugStepOut=new t("debug-step-out",{fontCharacter:"\\ead5"}),t.debugStepOver=new t("debug-step-over",{fontCharacter:"\\ead6"}),t.debugStop=new t("debug-stop",{fontCharacter:"\\ead7"}),t.debug=new t("debug",{fontCharacter:"\\ead8"}),t.deviceCameraVideo=new t("device-camera-video",{fontCharacter:"\\ead9"}),t.deviceCamera=new t("device-camera",{fontCharacter:"\\eada"}),t.deviceMobile=new t("device-mobile",{fontCharacter:"\\eadb"}),t.diffAdded=new t("diff-added",{fontCharacter:"\\eadc"}),t.diffIgnored=new t("diff-ignored",{fontCharacter:"\\eadd"}),t.diffModified=new t("diff-modified",{fontCharacter:"\\eade"}),t.diffRemoved=new t("diff-removed",{fontCharacter:"\\eadf"}),t.diffRenamed=new t("diff-renamed",{fontCharacter:"\\eae0"}),t.diff=new t("diff",{fontCharacter:"\\eae1"}),t.discard=new t("discard",{fontCharacter:"\\eae2"}),t.editorLayout=new t("editor-layout",{fontCharacter:"\\eae3"}),t.emptyWindow=new t("empty-window",{fontCharacter:"\\eae4"}),t.exclude=new t("exclude",{fontCharacter:"\\eae5"}),t.extensions=new t("extensions",{fontCharacter:"\\eae6"}),t.eyeClosed=new t("eye-closed",{fontCharacter:"\\eae7"}),t.fileBinary=new t("file-binary",{fontCharacter:"\\eae8"}),t.fileCode=new t("file-code",{fontCharacter:"\\eae9"}),t.fileMedia=new t("file-media",{fontCharacter:"\\eaea"}),t.filePdf=new t("file-pdf",{fontCharacter:"\\eaeb"}),t.fileSubmodule=new t("file-submodule",{fontCharacter:"\\eaec"}),t.fileSymlinkDirectory=new t("file-symlink-directory",{fontCharacter:"\\eaed"}),t.fileSymlinkFile=new t("file-symlink-file",{fontCharacter:"\\eaee"}),t.fileZip=new t("file-zip",{fontCharacter:"\\eaef"}),t.files=new t("files",{fontCharacter:"\\eaf0"}),t.filter=new t("filter",{fontCharacter:"\\eaf1"}),t.flame=new t("flame",{fontCharacter:"\\eaf2"}),t.foldDown=new t("fold-down",{fontCharacter:"\\eaf3"}),t.foldUp=new t("fold-up",{fontCharacter:"\\eaf4"}),t.fold=new t("fold",{fontCharacter:"\\eaf5"}),t.folderActive=new t("folder-active",{fontCharacter:"\\eaf6"}),t.folderOpened=new t("folder-opened",{fontCharacter:"\\eaf7"}),t.gear=new t("gear",{fontCharacter:"\\eaf8"}),t.gift=new t("gift",{fontCharacter:"\\eaf9"}),t.gistSecret=new t("gist-secret",{fontCharacter:"\\eafa"}),t.gist=new t("gist",{fontCharacter:"\\eafb"}),t.gitCommit=new t("git-commit",{fontCharacter:"\\eafc"}),t.gitCompare=new t("git-compare",{fontCharacter:"\\eafd"}),t.gitMerge=new t("git-merge",{fontCharacter:"\\eafe"}),t.githubAction=new t("github-action",{fontCharacter:"\\eaff"}),t.githubAlt=new t("github-alt",{fontCharacter:"\\eb00"}),t.globe=new t("globe",{fontCharacter:"\\eb01"}),t.grabber=new t("grabber",{fontCharacter:"\\eb02"}),t.graph=new t("graph",{fontCharacter:"\\eb03"}),t.gripper=new t("gripper",{fontCharacter:"\\eb04"}),t.heart=new t("heart",{fontCharacter:"\\eb05"}),t.home=new t("home",{fontCharacter:"\\eb06"}),t.horizontalRule=new t("horizontal-rule",{fontCharacter:"\\eb07"}),t.hubot=new t("hubot",{fontCharacter:"\\eb08"}),t.inbox=new t("inbox",{fontCharacter:"\\eb09"}),t.issueClosed=new t("issue-closed",{fontCharacter:"\\eba4"}),t.issueReopened=new t("issue-reopened",{fontCharacter:"\\eb0b"}),t.issues=new t("issues",{fontCharacter:"\\eb0c"}),t.italic=new t("italic",{fontCharacter:"\\eb0d"}),t.jersey=new t("jersey",{fontCharacter:"\\eb0e"}),t.json=new t("json",{fontCharacter:"\\eb0f"}),t.kebabVertical=new t("kebab-vertical",{fontCharacter:"\\eb10"}),t.key=new t("key",{fontCharacter:"\\eb11"}),t.law=new t("law",{fontCharacter:"\\eb12"}),t.lightbulbAutofix=new t("lightbulb-autofix",{fontCharacter:"\\eb13"}),t.linkExternal=new t("link-external",{fontCharacter:"\\eb14"}),t.link=new t("link",{fontCharacter:"\\eb15"}),t.listOrdered=new t("list-ordered",{fontCharacter:"\\eb16"}),t.listUnordered=new t("list-unordered",{fontCharacter:"\\eb17"}),t.liveShare=new t("live-share",{fontCharacter:"\\eb18"}),t.loading=new t("loading",{fontCharacter:"\\eb19"}),t.location=new t("location",{fontCharacter:"\\eb1a"}),t.mailRead=new t("mail-read",{fontCharacter:"\\eb1b"}),t.mail=new t("mail",{fontCharacter:"\\eb1c"}),t.markdown=new t("markdown",{fontCharacter:"\\eb1d"}),t.megaphone=new t("megaphone",{fontCharacter:"\\eb1e"}),t.mention=new t("mention",{fontCharacter:"\\eb1f"}),t.milestone=new t("milestone",{fontCharacter:"\\eb20"}),t.mortarBoard=new t("mortar-board",{fontCharacter:"\\eb21"}),t.move=new t("move",{fontCharacter:"\\eb22"}),t.multipleWindows=new t("multiple-windows",{fontCharacter:"\\eb23"}),t.mute=new t("mute",{fontCharacter:"\\eb24"}),t.noNewline=new t("no-newline",{fontCharacter:"\\eb25"}),t.note=new t("note",{fontCharacter:"\\eb26"}),t.octoface=new t("octoface",{fontCharacter:"\\eb27"}),t.openPreview=new t("open-preview",{fontCharacter:"\\eb28"}),t.package_=new t("package",{fontCharacter:"\\eb29"}),t.paintcan=new t("paintcan",{fontCharacter:"\\eb2a"}),t.pin=new t("pin",{fontCharacter:"\\eb2b"}),t.play=new t("play",{fontCharacter:"\\eb2c"}),t.run=new t("run",{fontCharacter:"\\eb2c"}),t.plug=new t("plug",{fontCharacter:"\\eb2d"}),t.preserveCase=new t("preserve-case",{fontCharacter:"\\eb2e"}),t.preview=new t("preview",{fontCharacter:"\\eb2f"}),t.project=new t("project",{fontCharacter:"\\eb30"}),t.pulse=new t("pulse",{fontCharacter:"\\eb31"}),t.question=new t("question",{fontCharacter:"\\eb32"}),t.quote=new t("quote",{fontCharacter:"\\eb33"}),t.radioTower=new t("radio-tower",{fontCharacter:"\\eb34"}),t.reactions=new t("reactions",{fontCharacter:"\\eb35"}),t.references=new t("references",{fontCharacter:"\\eb36"}),t.refresh=new t("refresh",{fontCharacter:"\\eb37"}),t.regex=new t("regex",{fontCharacter:"\\eb38"}),t.remoteExplorer=new t("remote-explorer",{fontCharacter:"\\eb39"}),t.remote=new t("remote",{fontCharacter:"\\eb3a"}),t.remove=new t("remove",{fontCharacter:"\\eb3b"}),t.replaceAll=new t("replace-all",{fontCharacter:"\\eb3c"}),t.replace=new t("replace",{fontCharacter:"\\eb3d"}),t.repoClone=new t("repo-clone",{fontCharacter:"\\eb3e"}),t.repoForcePush=new t("repo-force-push",{fontCharacter:"\\eb3f"}),t.repoPull=new t("repo-pull",{fontCharacter:"\\eb40"}),t.repoPush=new t("repo-push",{fontCharacter:"\\eb41"}),t.report=new t("report",{fontCharacter:"\\eb42"}),t.requestChanges=new t("request-changes",{fontCharacter:"\\eb43"}),t.rocket=new t("rocket",{fontCharacter:"\\eb44"}),t.rootFolderOpened=new t("root-folder-opened",{fontCharacter:"\\eb45"}),t.rootFolder=new t("root-folder",{fontCharacter:"\\eb46"}),t.rss=new t("rss",{fontCharacter:"\\eb47"}),t.ruby=new t("ruby",{fontCharacter:"\\eb48"}),t.saveAll=new t("save-all",{fontCharacter:"\\eb49"}),t.saveAs=new t("save-as",{fontCharacter:"\\eb4a"}),t.save=new t("save",{fontCharacter:"\\eb4b"}),t.screenFull=new t("screen-full",{fontCharacter:"\\eb4c"}),t.screenNormal=new t("screen-normal",{fontCharacter:"\\eb4d"}),t.searchStop=new t("search-stop",{fontCharacter:"\\eb4e"}),t.server=new t("server",{fontCharacter:"\\eb50"}),t.settingsGear=new t("settings-gear",{fontCharacter:"\\eb51"}),t.settings=new t("settings",{fontCharacter:"\\eb52"}),t.shield=new t("shield",{fontCharacter:"\\eb53"}),t.smiley=new t("smiley",{fontCharacter:"\\eb54"}),t.sortPrecedence=new t("sort-precedence",{fontCharacter:"\\eb55"}),t.splitHorizontal=new t("split-horizontal",{fontCharacter:"\\eb56"}),t.splitVertical=new t("split-vertical",{fontCharacter:"\\eb57"}),t.squirrel=new t("squirrel",{fontCharacter:"\\eb58"}),t.starFull=new t("star-full",{fontCharacter:"\\eb59"}),t.starHalf=new t("star-half",{fontCharacter:"\\eb5a"}),t.symbolClass=new t("symbol-class",{fontCharacter:"\\eb5b"}),t.symbolColor=new t("symbol-color",{fontCharacter:"\\eb5c"}),t.symbolCustomColor=new t("symbol-customcolor",{fontCharacter:"\\eb5c"}),t.symbolConstant=new t("symbol-constant",{fontCharacter:"\\eb5d"}),t.symbolEnumMember=new t("symbol-enum-member",{fontCharacter:"\\eb5e"}),t.symbolField=new t("symbol-field",{fontCharacter:"\\eb5f"}),t.symbolFile=new t("symbol-file",{fontCharacter:"\\eb60"}),t.symbolInterface=new t("symbol-interface",{fontCharacter:"\\eb61"}),t.symbolKeyword=new t("symbol-keyword",{fontCharacter:"\\eb62"}),t.symbolMisc=new t("symbol-misc",{fontCharacter:"\\eb63"}),t.symbolOperator=new t("symbol-operator",{fontCharacter:"\\eb64"}),t.symbolProperty=new t("symbol-property",{fontCharacter:"\\eb65"}),t.wrench=new t("wrench",{fontCharacter:"\\eb65"}),t.wrenchSubaction=new t("wrench-subaction",{fontCharacter:"\\eb65"}),t.symbolSnippet=new t("symbol-snippet",{fontCharacter:"\\eb66"}),t.tasklist=new t("tasklist",{fontCharacter:"\\eb67"}),t.telescope=new t("telescope",{fontCharacter:"\\eb68"}),t.textSize=new t("text-size",{fontCharacter:"\\eb69"}),t.threeBars=new t("three-bars",{fontCharacter:"\\eb6a"}),t.thumbsdown=new t("thumbsdown",{fontCharacter:"\\eb6b"}),t.thumbsup=new t("thumbsup",{fontCharacter:"\\eb6c"}),t.tools=new t("tools",{fontCharacter:"\\eb6d"}),t.triangleDown=new t("triangle-down",{fontCharacter:"\\eb6e"}),t.triangleLeft=new t("triangle-left",{fontCharacter:"\\eb6f"}),t.triangleRight=new t("triangle-right",{fontCharacter:"\\eb70"}),t.triangleUp=new t("triangle-up",{fontCharacter:"\\eb71"}),t.twitter=new t("twitter",{fontCharacter:"\\eb72"}),t.unfold=new t("unfold",{fontCharacter:"\\eb73"}),t.unlock=new t("unlock",{fontCharacter:"\\eb74"}),t.unmute=new t("unmute",{fontCharacter:"\\eb75"}),t.unverified=new t("unverified",{fontCharacter:"\\eb76"}),t.verified=new t("verified",{fontCharacter:"\\eb77"}),t.versions=new t("versions",{fontCharacter:"\\eb78"}),t.vmActive=new t("vm-active",{fontCharacter:"\\eb79"}),t.vmOutline=new t("vm-outline",{fontCharacter:"\\eb7a"}),t.vmRunning=new t("vm-running",{fontCharacter:"\\eb7b"}),t.watch=new t("watch",{fontCharacter:"\\eb7c"}),t.whitespace=new t("whitespace",{fontCharacter:"\\eb7d"}),t.wholeWord=new t("whole-word",{fontCharacter:"\\eb7e"}),t.window=new t("window",{fontCharacter:"\\eb7f"}),t.wordWrap=new t("word-wrap",{fontCharacter:"\\eb80"}),t.zoomIn=new t("zoom-in",{fontCharacter:"\\eb81"}),t.zoomOut=new t("zoom-out",{fontCharacter:"\\eb82"}),t.listFilter=new t("list-filter",{fontCharacter:"\\eb83"}),t.listFlat=new t("list-flat",{fontCharacter:"\\eb84"}),t.listSelection=new t("list-selection",{fontCharacter:"\\eb85"}),t.selection=new t("selection",{fontCharacter:"\\eb85"}),t.listTree=new t("list-tree",{fontCharacter:"\\eb86"}),t.debugBreakpointFunctionUnverified=new t("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),t.debugBreakpointFunction=new t("debug-breakpoint-function",{fontCharacter:"\\eb88"}),t.debugBreakpointFunctionDisabled=new t("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),t.debugStackframeActive=new t("debug-stackframe-active",{fontCharacter:"\\eb89"}),t.circleSmallFilled=new t("circle-small-filled",{fontCharacter:"\\eb8a"}),t.debugStackframeDot=new t("debug-stackframe-dot",t.circleSmallFilled.definition),t.debugStackframe=new t("debug-stackframe",{fontCharacter:"\\eb8b"}),t.debugStackframeFocused=new t("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),t.debugBreakpointUnsupported=new t("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),t.symbolString=new t("symbol-string",{fontCharacter:"\\eb8d"}),t.debugReverseContinue=new t("debug-reverse-continue",{fontCharacter:"\\eb8e"}),t.debugStepBack=new t("debug-step-back",{fontCharacter:"\\eb8f"}),t.debugRestartFrame=new t("debug-restart-frame",{fontCharacter:"\\eb90"}),t.callIncoming=new t("call-incoming",{fontCharacter:"\\eb92"}),t.callOutgoing=new t("call-outgoing",{fontCharacter:"\\eb93"}),t.menu=new t("menu",{fontCharacter:"\\eb94"}),t.expandAll=new t("expand-all",{fontCharacter:"\\eb95"}),t.feedback=new t("feedback",{fontCharacter:"\\eb96"}),t.groupByRefType=new t("group-by-ref-type",{fontCharacter:"\\eb97"}),t.ungroupByRefType=new t("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),t.account=new t("account",{fontCharacter:"\\eb99"}),t.bellDot=new t("bell-dot",{fontCharacter:"\\eb9a"}),t.debugConsole=new t("debug-console",{fontCharacter:"\\eb9b"}),t.library=new t("library",{fontCharacter:"\\eb9c"}),t.output=new t("output",{fontCharacter:"\\eb9d"}),t.runAll=new t("run-all",{fontCharacter:"\\eb9e"}),t.syncIgnored=new t("sync-ignored",{fontCharacter:"\\eb9f"}),t.pinned=new t("pinned",{fontCharacter:"\\eba0"}),t.githubInverted=new t("github-inverted",{fontCharacter:"\\eba1"}),t.debugAlt=new t("debug-alt",{fontCharacter:"\\eb91"}),t.serverProcess=new t("server-process",{fontCharacter:"\\eba2"}),t.serverEnvironment=new t("server-environment",{fontCharacter:"\\eba3"}),t.pass=new t("pass",{fontCharacter:"\\eba4"}),t.stopCircle=new t("stop-circle",{fontCharacter:"\\eba5"}),t.playCircle=new t("play-circle",{fontCharacter:"\\eba6"}),t.record=new t("record",{fontCharacter:"\\eba7"}),t.debugAltSmall=new t("debug-alt-small",{fontCharacter:"\\eba8"}),t.vmConnect=new t("vm-connect",{fontCharacter:"\\eba9"}),t.cloud=new t("cloud",{fontCharacter:"\\ebaa"}),t.merge=new t("merge",{fontCharacter:"\\ebab"}),t.exportIcon=new t("export",{fontCharacter:"\\ebac"}),t.graphLeft=new t("graph-left",{fontCharacter:"\\ebad"}),t.magnet=new t("magnet",{fontCharacter:"\\ebae"}),t.notebook=new t("notebook",{fontCharacter:"\\ebaf"}),t.redo=new t("redo",{fontCharacter:"\\ebb0"}),t.checkAll=new t("check-all",{fontCharacter:"\\ebb1"}),t.pinnedDirty=new t("pinned-dirty",{fontCharacter:"\\ebb2"}),t.passFilled=new t("pass-filled",{fontCharacter:"\\ebb3"}),t.circleLargeFilled=new t("circle-large-filled",{fontCharacter:"\\ebb4"}),t.circleLargeOutline=new t("circle-large-outline",{fontCharacter:"\\ebb5"}),t.combine=new t("combine",{fontCharacter:"\\ebb6"}),t.gather=new t("gather",{fontCharacter:"\\ebb6"}),t.table=new t("table",{fontCharacter:"\\ebb7"}),t.variableGroup=new t("variable-group",{fontCharacter:"\\ebb8"}),t.typeHierarchy=new t("type-hierarchy",{fontCharacter:"\\ebb9"}),t.typeHierarchySub=new t("type-hierarchy-sub",{fontCharacter:"\\ebba"}),t.typeHierarchySuper=new t("type-hierarchy-super",{fontCharacter:"\\ebbb"}),t.gitPullRequestCreate=new t("git-pull-request-create",{fontCharacter:"\\ebbc"}),t.runAbove=new t("run-above",{fontCharacter:"\\ebbd"}),t.runBelow=new t("run-below",{fontCharacter:"\\ebbe"}),t.notebookTemplate=new t("notebook-template",{fontCharacter:"\\ebbf"}),t.debugRerun=new t("debug-rerun",{fontCharacter:"\\ebc0"}),t.workspaceTrusted=new t("workspace-trusted",{fontCharacter:"\\ebc1"}),t.workspaceUntrusted=new t("workspace-untrusted",{fontCharacter:"\\ebc2"}),t.workspaceUnspecified=new t("workspace-unspecified",{fontCharacter:"\\ebc3"}),t.terminalCmd=new t("terminal-cmd",{fontCharacter:"\\ebc4"}),t.terminalDebian=new t("terminal-debian",{fontCharacter:"\\ebc5"}),t.terminalLinux=new t("terminal-linux",{fontCharacter:"\\ebc6"}),t.terminalPowershell=new t("terminal-powershell",{fontCharacter:"\\ebc7"}),t.terminalTmux=new t("terminal-tmux",{fontCharacter:"\\ebc8"}),t.terminalUbuntu=new t("terminal-ubuntu",{fontCharacter:"\\ebc9"}),t.terminalBash=new t("terminal-bash",{fontCharacter:"\\ebca"}),t.arrowSwap=new t("arrow-swap",{fontCharacter:"\\ebcb"}),t.copy=new t("copy",{fontCharacter:"\\ebcc"}),t.personAdd=new t("person-add",{fontCharacter:"\\ebcd"}),t.filterFilled=new t("filter-filled",{fontCharacter:"\\ebce"}),t.wand=new t("wand",{fontCharacter:"\\ebcf"}),t.debugLineByLine=new t("debug-line-by-line",{fontCharacter:"\\ebd0"}),t.inspect=new t("inspect",{fontCharacter:"\\ebd1"}),t.layers=new t("layers",{fontCharacter:"\\ebd2"}),t.layersDot=new t("layers-dot",{fontCharacter:"\\ebd3"}),t.layersActive=new t("layers-active",{fontCharacter:"\\ebd4"}),t.compass=new t("compass",{fontCharacter:"\\ebd5"}),t.compassDot=new t("compass-dot",{fontCharacter:"\\ebd6"}),t.compassActive=new t("compass-active",{fontCharacter:"\\ebd7"}),t.azure=new t("azure",{fontCharacter:"\\ebd8"}),t.issueDraft=new t("issue-draft",{fontCharacter:"\\ebd9"}),t.gitPullRequestClosed=new t("git-pull-request-closed",{fontCharacter:"\\ebda"}),t.gitPullRequestDraft=new t("git-pull-request-draft",{fontCharacter:"\\ebdb"}),t.debugAll=new t("debug-all",{fontCharacter:"\\ebdc"}),t.debugCoverage=new t("debug-coverage",{fontCharacter:"\\ebdd"}),t.runErrors=new t("run-errors",{fontCharacter:"\\ebde"}),t.folderLibrary=new t("folder-library",{fontCharacter:"\\ebdf"}),t.debugContinueSmall=new t("debug-continue-small",{fontCharacter:"\\ebe0"}),t.beakerStop=new t("beaker-stop",{fontCharacter:"\\ebe1"}),t.graphLine=new t("graph-line",{fontCharacter:"\\ebe2"}),t.graphScatter=new t("graph-scatter",{fontCharacter:"\\ebe3"}),t.pieChart=new t("pie-chart",{fontCharacter:"\\ebe4"}),t.bracket=new t("bracket",t.json.definition),t.bracketDot=new t("bracket-dot",{fontCharacter:"\\ebe5"}),t.bracketError=new t("bracket-error",{fontCharacter:"\\ebe6"}),t.lockSmall=new t("lock-small",{fontCharacter:"\\ebe7"}),t.azureDevops=new t("azure-devops",{fontCharacter:"\\ebe8"}),t.verifiedFilled=new t("verified-filled",{fontCharacter:"\\ebe9"}),t.newLine=new t("newline",{fontCharacter:"\\ebea"}),t.layout=new t("layout",{fontCharacter:"\\ebeb"}),t.layoutActivitybarLeft=new t("layout-activitybar-left",{fontCharacter:"\\ebec"}),t.layoutActivitybarRight=new t("layout-activitybar-right",{fontCharacter:"\\ebed"}),t.layoutPanelLeft=new t("layout-panel-left",{fontCharacter:"\\ebee"}),t.layoutPanelCenter=new t("layout-panel-center",{fontCharacter:"\\ebef"}),t.layoutPanelJustify=new t("layout-panel-justify",{fontCharacter:"\\ebf0"}),t.layoutPanelRight=new t("layout-panel-right",{fontCharacter:"\\ebf1"}),t.layoutPanel=new t("layout-panel",{fontCharacter:"\\ebf2"}),t.layoutSidebarLeft=new t("layout-sidebar-left",{fontCharacter:"\\ebf3"}),t.layoutSidebarRight=new t("layout-sidebar-right",{fontCharacter:"\\ebf4"}),t.layoutStatusbar=new t("layout-statusbar",{fontCharacter:"\\ebf5"}),t.layoutMenubar=new t("layout-menubar",{fontCharacter:"\\ebf6"}),t.layoutCentered=new t("layout-centered",{fontCharacter:"\\ebf7"}),t.layoutSidebarRightOff=new t("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),t.layoutPanelOff=new t("layout-panel-off",{fontCharacter:"\\ec01"}),t.layoutSidebarLeftOff=new t("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),t.target=new t("target",{fontCharacter:"\\ebf8"}),t.indent=new t("indent",{fontCharacter:"\\ebf9"}),t.recordSmall=new t("record-small",{fontCharacter:"\\ebfa"}),t.errorSmall=new t("error-small",{fontCharacter:"\\ebfb"}),t.arrowCircleDown=new t("arrow-circle-down",{fontCharacter:"\\ebfc"}),t.arrowCircleLeft=new t("arrow-circle-left",{fontCharacter:"\\ebfd"}),t.arrowCircleRight=new t("arrow-circle-right",{fontCharacter:"\\ebfe"}),t.arrowCircleUp=new t("arrow-circle-up",{fontCharacter:"\\ebff"}),t.heartFilled=new t("heart-filled",{fontCharacter:"\\ec04"}),t.map=new t("map",{fontCharacter:"\\ec05"}),t.mapFilled=new t("map-filled",{fontCharacter:"\\ec06"}),t.circleSmall=new t("circle-small",{fontCharacter:"\\ec07"}),t.bellSlash=new t("bell-slash",{fontCharacter:"\\ec08"}),t.bellSlashDot=new t("bell-slash-dot",{fontCharacter:"\\ec09"}),t.commentUnresolved=new t("comment-unresolved",{fontCharacter:"\\ec0a"}),t.gitPullRequestGoToChanges=new t("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),t.gitPullRequestNewChanges=new t("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),t.dialogError=new t("dialog-error",t.error.definition),t.dialogWarning=new t("dialog-warning",t.warning.definition),t.dialogInfo=new t("dialog-info",t.info.definition),t.dialogClose=new t("dialog-close",t.close.definition),t.treeItemExpanded=new t("tree-item-expanded",t.chevronDown.definition),t.treeFilterOnTypeOn=new t("tree-filter-on-type-on",t.listFilter.definition),t.treeFilterOnTypeOff=new t("tree-filter-on-type-off",t.listSelection.definition),t.treeFilterClear=new t("tree-filter-clear",t.close.definition),t.treeItemLoading=new t("tree-item-loading",t.loading.definition),t.menuSelection=new t("menu-selection",t.check.definition),t.menuSubmenu=new t("menu-submenu",t.chevronRight.definition),t.menuBarMore=new t("menubar-more",t.more.definition),t.scrollbarButtonLeft=new t("scrollbar-button-left",t.triangleLeft.definition),t.scrollbarButtonRight=new t("scrollbar-button-right",t.triangleRight.definition),t.scrollbarButtonUp=new t("scrollbar-button-up",t.triangleUp.definition),t.scrollbarButtonDown=new t("scrollbar-button-down",t.triangleDown.definition),t.toolBarMore=new t("toolbar-more",t.more.definition),t.quickInputBack=new t("quick-input-back",t.arrowLeft.definition),function(C){C.iconNameSegment="[A-Za-z0-9]+",C.iconNameExpression="[A-Za-z0-9-]+",C.iconModifierExpression="~[A-Za-z]+",C.iconNameCharacter="[A-Za-z0-9~-]";const f=new RegExp(`^(${C.iconNameExpression})(${C.iconModifierExpression})?$`);function I(D){if(D instanceof t)return["codicon","codicon-"+D.id];const _=f.exec(D.id);if(!_)return I(t.error);const[,r,a]=_,u=["codicon","codicon-"+r];return a&&u.push("codicon-modifier-"+a.substr(1)),u}C.asClassNameArray=I,C.asClassName=function b(D){return I(D).join(" ")},C.asCSSSelector=function S(D){return"."+I(D).join(".")}}(l||(l={}))},84968:(yt,T,e)=>{"use strict";function s(I,b){const S=Math.pow(10,b);return Math.round(I*S)/S}e.d(T,{Il:()=>f,VS:()=>t,tx:()=>C});class t{constructor(b,S,D,_=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,b)),this.g=0|Math.min(255,Math.max(0,S)),this.b=0|Math.min(255,Math.max(0,D)),this.a=s(Math.max(Math.min(1,_),0),3)}static equals(b,S){return b.r===S.r&&b.g===S.g&&b.b===S.b&&b.a===S.a}}class l{constructor(b,S,D,_){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,b),0),this.s=s(Math.max(Math.min(1,S),0),3),this.l=s(Math.max(Math.min(1,D),0),3),this.a=s(Math.max(Math.min(1,_),0),3)}static equals(b,S){return b.h===S.h&&b.s===S.s&&b.l===S.l&&b.a===S.a}static fromRGBA(b){const S=b.r/255,D=b.g/255,_=b.b/255,r=b.a,a=Math.max(S,D,_),u=Math.min(S,D,_);let n=0,d=0;const y=(u+a)/2,g=a-u;if(g>0){switch(d=Math.min(y<=.5?g/(2*y):g/(2-2*y),1),a){case S:n=(D-_)/g+(D<_?6:0);break;case D:n=(_-S)/g+2;break;case _:n=(S-D)/g+4}n*=60,n=Math.round(n)}return new l(n,d,y,r)}static _hue2rgb(b,S,D){return D<0&&(D+=1),D>1&&(D-=1),D<1/6?b+6*(S-b)*D:D<.5?S:D<2/3?b+(S-b)*(2/3-D)*6:b}static toRGBA(b){const S=b.h/360,{s:D,l:_,a:r}=b;let a,u,n;if(0===D)a=u=n=_;else{const d=_<.5?_*(1+D):_+D-_*D,y=2*_-d;a=l._hue2rgb(y,d,S+1/3),u=l._hue2rgb(y,d,S),n=l._hue2rgb(y,d,S-1/3)}return new t(Math.round(255*a),Math.round(255*u),Math.round(255*n),r)}}class C{constructor(b,S,D,_){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,b),0),this.s=s(Math.max(Math.min(1,S),0),3),this.v=s(Math.max(Math.min(1,D),0),3),this.a=s(Math.max(Math.min(1,_),0),3)}static equals(b,S){return b.h===S.h&&b.s===S.s&&b.v===S.v&&b.a===S.a}static fromRGBA(b){const S=b.r/255,D=b.g/255,_=b.b/255,r=Math.max(S,D,_),u=r-Math.min(S,D,_),n=0===r?0:u/r;let d;return d=0===u?0:r===S?((D-_)/u%6+6)%6:r===D?(_-S)/u+2:(S-D)/u+4,new C(Math.round(60*d),n,r,b.a)}static toRGBA(b){const{h:S,s:D,v:_,a:r}=b,a=_*D,u=a*(1-Math.abs(S/60%2-1)),n=_-a;let[d,y,g]=[0,0,0];return S<60?(d=a,y=u):S<120?(d=u,y=a):S<180?(y=a,g=u):S<240?(y=u,g=a):S<300?(d=u,g=a):S<=360&&(d=a,g=u),d=Math.round(255*(d+n)),y=Math.round(255*(y+n)),g=Math.round(255*(g+n)),new t(d,y,g,r)}}class f{constructor(b){if(!b)throw new Error("Color needs a value");if(b instanceof t)this.rgba=b;else if(b instanceof l)this._hsla=b,this.rgba=l.toRGBA(b);else{if(!(b instanceof C))throw new Error("Invalid color ctor argument");this._hsva=b,this.rgba=C.toRGBA(b)}}static fromHex(b){return f.Format.CSS.parseHex(b)||f.red}get hsla(){return this._hsla?this._hsla:l.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:C.fromRGBA(this.rgba)}equals(b){return!!b&&t.equals(this.rgba,b.rgba)&&l.equals(this.hsla,b.hsla)&&C.equals(this.hsva,b.hsva)}getRelativeLuminance(){return s(.2126*f._relativeLuminanceForComponent(this.rgba.r)+.7152*f._relativeLuminanceForComponent(this.rgba.g)+.0722*f._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(b){const S=b/255;return S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(b){return this.getRelativeLuminance()>b.getRelativeLuminance()}isDarkerThan(b){return this.getRelativeLuminance()<b.getRelativeLuminance()}lighten(b){return new f(new l(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*b,this.hsla.a))}darken(b){return new f(new l(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*b,this.hsla.a))}transparent(b){const{r:S,g:D,b:_,a:r}=this.rgba;return new f(new t(S,D,_,r*b))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new f(new t(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=f.Format.CSS.format(this)),this._toString}static getLighterColor(b,S,D){if(b.isLighterThan(S))return b;D=D||.5;const _=b.getRelativeLuminance(),r=S.getRelativeLuminance();return b.lighten(D=D*(r-_)/r)}static getDarkerColor(b,S,D){if(b.isDarkerThan(S))return b;D=D||.5;const _=b.getRelativeLuminance(),r=S.getRelativeLuminance();return b.darken(D=D*(_-r)/_)}}f.white=new f(new t(255,255,255,1)),f.black=new f(new t(0,0,0,1)),f.red=new f(new t(255,0,0,1)),f.blue=new f(new t(0,0,255,1)),f.green=new f(new t(0,255,0,1)),f.cyan=new f(new t(0,255,255,1)),f.lightgrey=new f(new t(211,211,211,1)),f.transparent=new f(new t(0,0,0,0)),function(I){let b;!function(S){let D;!function(_){function d(E){const L=E.toString(16);return 2!==L.length?"0"+L:L}function w(E){switch(E){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}_.formatRGB=function r(E){return 1===E.rgba.a?`rgb(${E.rgba.r}, ${E.rgba.g}, ${E.rgba.b})`:I.Format.CSS.formatRGBA(E)},_.formatRGBA=function a(E){return`rgba(${E.rgba.r}, ${E.rgba.g}, ${E.rgba.b}, ${+E.rgba.a.toFixed(2)})`},_.formatHSL=function u(E){return 1===E.hsla.a?`hsl(${E.hsla.h}, ${(100*E.hsla.s).toFixed(2)}%, ${(100*E.hsla.l).toFixed(2)}%)`:I.Format.CSS.formatHSLA(E)},_.formatHSLA=function n(E){return`hsla(${E.hsla.h}, ${(100*E.hsla.s).toFixed(2)}%, ${(100*E.hsla.l).toFixed(2)}%, ${E.hsla.a.toFixed(2)})`},_.formatHex=function y(E){return`#${d(E.rgba.r)}${d(E.rgba.g)}${d(E.rgba.b)}`},_.formatHexA=function g(E,L=!1){return L&&1===E.rgba.a?I.Format.CSS.formatHex(E):`#${d(E.rgba.r)}${d(E.rgba.g)}${d(E.rgba.b)}${d(Math.round(255*E.rgba.a))}`},_.format=function v(E){return E.isOpaque()?I.Format.CSS.formatHex(E):I.Format.CSS.formatRGBA(E)},_.parseHex=function m(E){const L=E.length;if(0===L||35!==E.charCodeAt(0))return null;if(7===L){const x=16*w(E.charCodeAt(1))+w(E.charCodeAt(2)),A=16*w(E.charCodeAt(3))+w(E.charCodeAt(4)),k=16*w(E.charCodeAt(5))+w(E.charCodeAt(6));return new I(new t(x,A,k,1))}if(9===L){const x=16*w(E.charCodeAt(1))+w(E.charCodeAt(2)),A=16*w(E.charCodeAt(3))+w(E.charCodeAt(4)),k=16*w(E.charCodeAt(5))+w(E.charCodeAt(6)),W=16*w(E.charCodeAt(7))+w(E.charCodeAt(8));return new I(new t(x,A,k,W/255))}if(4===L){const x=w(E.charCodeAt(1)),A=w(E.charCodeAt(2)),k=w(E.charCodeAt(3));return new I(new t(16*x+x,16*A+A,16*k+k))}if(5===L){const x=w(E.charCodeAt(1)),A=w(E.charCodeAt(2)),k=w(E.charCodeAt(3)),W=w(E.charCodeAt(4));return new I(new t(16*x+x,16*A+A,16*k+k,(16*W+W)/255))}return null}}(D=S.CSS||(S.CSS={}))}(b=I.Format||(I.Format={}))}(f||(f={}))},158:(yt,T,e)=>{"use strict";e.d(T,{Hl:()=>C,Ix:()=>l,ZO:()=>t});var s=function(f,I,b,S){return new(b||(b=Promise))(function(_,r){function a(d){try{n(S.next(d))}catch(y){r(y)}}function u(d){try{n(S.throw(d))}catch(y){r(y)}}function n(d){d.done?_(d.value):function D(_){return _ instanceof b?_:new b(function(r){r(_)})}(d.value).then(a,u)}n((S=S.apply(f,I||[])).next())})};function t(f){return{asString:()=>s(this,void 0,void 0,function*(){return f}),asFile:()=>{},value:"string"==typeof f?f:void 0}}function l(f,I,b){return{asString:()=>s(this,void 0,void 0,function*(){return""}),asFile:()=>({name:f,uri:I,data:b}),value:void 0}}class C{constructor(){this._entries=new Map}get size(){return this._entries.size}has(I){return this._entries.has(this.toKey(I))}get(I){var b;return null===(b=this._entries.get(this.toKey(I)))||void 0===b?void 0:b[0]}append(I,b){const S=this._entries.get(I);S?S.push(b):this._entries.set(this.toKey(I),[b])}replace(I,b){this._entries.set(this.toKey(I),[b])}delete(I){this._entries.delete(this.toKey(I))}*entries(){for(const[I,b]of this._entries.entries())for(const S of b)yield[I,S]}values(){return Array.from(this._entries.values()).flat()}forEach(I){for(const[b,S]of this.entries())I(S,b)}toKey(I){return I.toLowerCase()}}},47957:(yt,T,e)=>{"use strict";function s(t,l,C){let f=null,I=null;if("function"==typeof C.value?(f="value",I=C.value,0!==I.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof C.get&&(f="get",I=C.get),!I)throw new Error("not supported");const b=`$memoize$${l}`;C[f]=function(...S){return this.hasOwnProperty(b)||Object.defineProperty(this,b,{configurable:!1,enumerable:!1,writable:!1,value:I.apply(this,S)}),this[b]}}e.d(T,{H:()=>s})},60044:(yt,T,e)=>{"use strict";e.d(T,{Hs:()=>S,a$:()=>C});class s{constructor(_,r,a,u){this.originalStart=_,this.originalLength=r,this.modifiedStart=a,this.modifiedLength=u}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var t=e(50540);class l{constructor(_){this.source=_}getElements(){const _=this.source,r=new Int32Array(_.length);for(let a=0,u=_.length;a<u;a++)r[a]=_.charCodeAt(a);return r}}function C(D,_,r){return new S(new l(D),new l(_)).ComputeDiff(r).changes}class f{static Assert(_,r){if(!_)throw new Error(r)}}class I{static Copy(_,r,a,u,n){for(let d=0;d<n;d++)a[u+d]=_[r+d]}static Copy2(_,r,a,u,n){for(let d=0;d<n;d++)a[u+d]=_[r+d]}}class b{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new s(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(_,r){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(_,r){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class S{constructor(_,r,a=null){this.ContinueProcessingPredicate=a,this._originalSequence=_,this._modifiedSequence=r;const[u,n,d]=S._getElements(_),[y,g,v]=S._getElements(r);this._hasStrings=d&&v,this._originalStringElements=u,this._originalElementsOrHash=n,this._modifiedStringElements=y,this._modifiedElementsOrHash=g,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(_){return _.length>0&&"string"==typeof _[0]}static _getElements(_){const r=_.getElements();if(S._isStringArray(r)){const a=new Int32Array(r.length);for(let u=0,n=r.length;u<n;u++)a[u]=(0,t.Cv)(r[u],0);return[r,a,!0]}return r instanceof Int32Array?[[],r,!1]:[[],new Int32Array(r),!1]}ElementsAreEqual(_,r){return this._originalElementsOrHash[_]===this._modifiedElementsOrHash[r]&&(!this._hasStrings||this._originalStringElements[_]===this._modifiedStringElements[r])}ElementsAreStrictEqual(_,r){return!!this.ElementsAreEqual(_,r)&&S._getStrictElement(this._originalSequence,_)===S._getStrictElement(this._modifiedSequence,r)}static _getStrictElement(_,r){return"function"==typeof _.getStrictElement?_.getStrictElement(r):null}OriginalElementsAreEqual(_,r){return this._originalElementsOrHash[_]===this._originalElementsOrHash[r]&&(!this._hasStrings||this._originalStringElements[_]===this._originalStringElements[r])}ModifiedElementsAreEqual(_,r){return this._modifiedElementsOrHash[_]===this._modifiedElementsOrHash[r]&&(!this._hasStrings||this._modifiedStringElements[_]===this._modifiedStringElements[r])}ComputeDiff(_){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,_)}_ComputeDiff(_,r,a,u,n){const d=[!1];let y=this.ComputeDiffRecursive(_,r,a,u,d);return n&&(y=this.PrettifyChanges(y)),{quitEarly:d[0],changes:y}}ComputeDiffRecursive(_,r,a,u,n){for(n[0]=!1;_<=r&&a<=u&&this.ElementsAreEqual(_,a);)_++,a++;for(;r>=_&&u>=a&&this.ElementsAreEqual(r,u);)r--,u--;if(_>r||a>u){let w;return a<=u?(f.Assert(_===r+1,"originalStart should only be one more than originalEnd"),w=[new s(_,0,a,u-a+1)]):_<=r?(f.Assert(a===u+1,"modifiedStart should only be one more than modifiedEnd"),w=[new s(_,r-_+1,a,0)]):(f.Assert(_===r+1,"originalStart should only be one more than originalEnd"),f.Assert(a===u+1,"modifiedStart should only be one more than modifiedEnd"),w=[]),w}const d=[0],y=[0],g=this.ComputeRecursionPoint(_,r,a,u,d,y,n),v=d[0],m=y[0];if(null!==g)return g;if(!n[0]){const w=this.ComputeDiffRecursive(_,v,a,m,n);let E=[];return E=n[0]?[new s(v+1,r-(v+1)+1,m+1,u-(m+1)+1)]:this.ComputeDiffRecursive(v+1,r,m+1,u,n),this.ConcatenateChanges(w,E)}return[new s(_,r-_+1,a,u-a+1)]}WALKTRACE(_,r,a,u,n,d,y,g,v,m,w,E,L,x,A,k,W,H){let z=null,N=null,O=new b,K=r,$=a,j=L[0]-k[0]-u,q=-1073741824,R=this.m_forwardHistory.length-1;do{const Z=j+_;Z===K||Z<$&&v[Z-1]<v[Z+1]?(x=(w=v[Z+1])-j-u,w<q&&O.MarkNextChange(),q=w,O.AddModifiedElement(w+1,x),j=Z+1-_):(x=(w=v[Z-1]+1)-j-u,w<q&&O.MarkNextChange(),q=w-1,O.AddOriginalElement(w,x+1),j=Z-1-_),R>=0&&(_=(v=this.m_forwardHistory[R])[0],K=1,$=v.length-1)}while(--R>=-1);if(z=O.getReverseChanges(),H[0]){let Z=L[0]+1,J=k[0]+1;if(null!==z&&z.length>0){const Ce=z[z.length-1];Z=Math.max(Z,Ce.getOriginalEnd()),J=Math.max(J,Ce.getModifiedEnd())}N=[new s(Z,E-Z+1,J,A-J+1)]}else{O=new b,K=d,$=y,j=L[0]-k[0]-g,q=1073741824,R=W?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const Z=j+n;Z===K||Z<$&&m[Z-1]>=m[Z+1]?(x=(w=m[Z+1]-1)-j-g,w>q&&O.MarkNextChange(),q=w+1,O.AddOriginalElement(w+1,x+1),j=Z+1-n):(x=(w=m[Z-1])-j-g,w>q&&O.MarkNextChange(),q=w,O.AddModifiedElement(w+1,x+1),j=Z-1-n),R>=0&&(n=(m=this.m_reverseHistory[R])[0],K=1,$=m.length-1)}while(--R>=-1);N=O.getChanges()}return this.ConcatenateChanges(z,N)}ComputeRecursionPoint(_,r,a,u,n,d,y){let g=0,v=0,m=0,w=0,E=0,L=0;_--,a--,n[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const x=r-_+(u-a),A=x+1,k=new Int32Array(A),W=new Int32Array(A),H=u-a,z=r-_,N=_-a,O=r-u,$=(z-H)%2==0;k[H]=_,W[z]=r,y[0]=!1;for(let j=1;j<=x/2+1;j++){let q=0,R=0;m=this.ClipDiagonalBound(H-j,j,H,A),w=this.ClipDiagonalBound(H+j,j,H,A);for(let J=m;J<=w;J+=2){g=J===m||J<w&&k[J-1]<k[J+1]?k[J+1]:k[J-1]+1,v=g-(J-H)-N;const Ce=g;for(;g<r&&v<u&&this.ElementsAreEqual(g+1,v+1);)g++,v++;if(k[J]=g,g+v>q+R&&(q=g,R=v),!$&&Math.abs(J-z)<=j-1&&g>=W[J])return n[0]=g,d[0]=v,Ce<=W[J]&&j<=1448?this.WALKTRACE(H,m,w,N,z,E,L,O,k,W,g,r,n,v,u,d,$,y):null}const Z=(q-_+(R-a)-j)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(q,Z))return y[0]=!0,n[0]=q,d[0]=R,Z>0&&j<=1448?this.WALKTRACE(H,m,w,N,z,E,L,O,k,W,g,r,n,v,u,d,$,y):(_++,a++,[new s(_,r-_+1,a,u-a+1)]);E=this.ClipDiagonalBound(z-j,j,z,A),L=this.ClipDiagonalBound(z+j,j,z,A);for(let J=E;J<=L;J+=2){g=J===E||J<L&&W[J-1]>=W[J+1]?W[J+1]-1:W[J-1],v=g-(J-z)-O;const Ce=g;for(;g>_&&v>a&&this.ElementsAreEqual(g,v);)g--,v--;if(W[J]=g,$&&Math.abs(J-H)<=j&&g<=k[J])return n[0]=g,d[0]=v,Ce>=k[J]&&j<=1448?this.WALKTRACE(H,m,w,N,z,E,L,O,k,W,g,r,n,v,u,d,$,y):null}if(j<=1447){let J=new Int32Array(w-m+2);J[0]=H-m+1,I.Copy2(k,m,J,1,w-m+1),this.m_forwardHistory.push(J),J=new Int32Array(L-E+2),J[0]=z-E+1,I.Copy2(W,E,J,1,L-E+1),this.m_reverseHistory.push(J)}}return this.WALKTRACE(H,m,w,N,z,E,L,O,k,W,g,r,n,v,u,d,$,y)}PrettifyChanges(_){for(let r=0;r<_.length;r++){const a=_[r],u=r<_.length-1?_[r+1].originalStart:this._originalElementsOrHash.length,n=r<_.length-1?_[r+1].modifiedStart:this._modifiedElementsOrHash.length,d=a.originalLength>0,y=a.modifiedLength>0;for(;a.originalStart+a.originalLength<u&&a.modifiedStart+a.modifiedLength<n&&(!d||this.OriginalElementsAreEqual(a.originalStart,a.originalStart+a.originalLength))&&(!y||this.ModifiedElementsAreEqual(a.modifiedStart,a.modifiedStart+a.modifiedLength));){const v=this.ElementsAreStrictEqual(a.originalStart,a.modifiedStart);if(this.ElementsAreStrictEqual(a.originalStart+a.originalLength,a.modifiedStart+a.modifiedLength)&&!v)break;a.originalStart++,a.modifiedStart++}const g=[null];r<_.length-1&&this.ChangesOverlap(_[r],_[r+1],g)&&(_[r]=g[0],_.splice(r+1,1),r--)}for(let r=_.length-1;r>=0;r--){const a=_[r];let u=0,n=0;if(r>0){const w=_[r-1];u=w.originalStart+w.originalLength,n=w.modifiedStart+w.modifiedLength}const d=a.originalLength>0,y=a.modifiedLength>0;let g=0,v=this._boundaryScore(a.originalStart,a.originalLength,a.modifiedStart,a.modifiedLength);for(let w=1;;w++){const E=a.originalStart-w,L=a.modifiedStart-w;if(E<u||L<n||d&&!this.OriginalElementsAreEqual(E,E+a.originalLength)||y&&!this.ModifiedElementsAreEqual(L,L+a.modifiedLength))break;const A=(E===u&&L===n?5:0)+this._boundaryScore(E,a.originalLength,L,a.modifiedLength);A>v&&(v=A,g=w)}a.originalStart-=g,a.modifiedStart-=g;const m=[null];r>0&&this.ChangesOverlap(_[r-1],_[r],m)&&(_[r-1]=m[0],_.splice(r,1),r++)}if(this._hasStrings)for(let r=1,a=_.length;r<a;r++){const u=_[r-1],n=_[r],d=n.originalStart-u.originalStart-u.originalLength,y=u.originalStart,g=n.originalStart+n.originalLength,v=g-y,m=u.modifiedStart,w=n.modifiedStart+n.modifiedLength,E=w-m;if(d<5&&v<20&&E<20){const L=this._findBetterContiguousSequence(y,v,m,E,d);if(L){const[x,A]=L;(x!==u.originalStart+u.originalLength||A!==u.modifiedStart+u.modifiedLength)&&(u.originalLength=x-u.originalStart,u.modifiedLength=A-u.modifiedStart,n.originalStart=x+d,n.modifiedStart=A+d,n.originalLength=g-n.originalStart,n.modifiedLength=w-n.modifiedStart)}}}return _}_findBetterContiguousSequence(_,r,a,u,n){if(r<n||u<n)return null;const d=_+r-n+1,y=a+u-n+1;let g=0,v=0,m=0;for(let w=_;w<d;w++)for(let E=a;E<y;E++){const L=this._contiguousSequenceScore(w,E,n);L>0&&L>g&&(g=L,v=w,m=E)}return g>0?[v,m]:null}_contiguousSequenceScore(_,r,a){let u=0;for(let n=0;n<a;n++){if(!this.ElementsAreEqual(_+n,r+n))return 0;u+=this._originalStringElements[_+n].length}return u}_OriginalIsBoundary(_){return _<=0||_>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[_])}_OriginalRegionIsBoundary(_,r){if(this._OriginalIsBoundary(_)||this._OriginalIsBoundary(_-1))return!0;if(r>0){const a=_+r;if(this._OriginalIsBoundary(a-1)||this._OriginalIsBoundary(a))return!0}return!1}_ModifiedIsBoundary(_){return _<=0||_>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[_])}_ModifiedRegionIsBoundary(_,r){if(this._ModifiedIsBoundary(_)||this._ModifiedIsBoundary(_-1))return!0;if(r>0){const a=_+r;if(this._ModifiedIsBoundary(a-1)||this._ModifiedIsBoundary(a))return!0}return!1}_boundaryScore(_,r,a,u){return(this._OriginalRegionIsBoundary(_,r)?1:0)+(this._ModifiedRegionIsBoundary(a,u)?1:0)}ConcatenateChanges(_,r){const a=[];if(0===_.length||0===r.length)return r.length>0?r:_;if(this.ChangesOverlap(_[_.length-1],r[0],a)){const u=new Array(_.length+r.length-1);return I.Copy(_,0,u,0,_.length-1),u[_.length-1]=a[0],I.Copy(r,1,u,_.length,r.length-1),u}{const u=new Array(_.length+r.length);return I.Copy(_,0,u,0,_.length),I.Copy(r,0,u,_.length,r.length),u}}ChangesOverlap(_,r,a){if(f.Assert(_.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),f.Assert(_.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),_.originalStart+_.originalLength>=r.originalStart||_.modifiedStart+_.modifiedLength>=r.modifiedStart){let n=_.originalLength,y=_.modifiedLength;return _.originalStart+_.originalLength>=r.originalStart&&(n=r.originalStart+r.originalLength-_.originalStart),_.modifiedStart+_.modifiedLength>=r.modifiedStart&&(y=r.modifiedStart+r.modifiedLength-_.modifiedStart),a[0]=new s(_.originalStart,n,_.modifiedStart,y),!0}return a[0]=null,!1}ClipDiagonalBound(_,r,a,u){if(_>=0&&_<u)return _;const y=r%2==0;return _<0?y===(a%2==0)?0:1:y===((u-a-1)%2==0)?u-1:u-2}}},96109:(yt,T,e)=>{"use strict";e.d(T,{y:()=>b});var s=e(14940),t=e(22070),l=e(1200);function C(S,D){return D&&(S.stack||S.stacktrace)?l.NC("stackTrace.format","{0}: {1}",I(S),f(S.stack)||f(S.stacktrace)):I(S)}function f(S){return Array.isArray(S)?S.join("\n"):S}function I(S){return"string"==typeof S.code&&"number"==typeof S.errno&&"string"==typeof S.syscall?l.NC("nodeExceptionMessage","A system error occurred ({0})",S.message):S.message||l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function b(S=null,D=!1){if(!S)return l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(S)){const _=s.kX(S),r=b(_[0],D);return _.length>1?l.NC("error.moreErrors","{0} ({1} errors in total)",r,_.length):r}if(t.HD(S))return S;if(S.detail){const _=S.detail;if(_.error)return C(_.error,D);if(_.exception)return C(_.exception,D)}return S.stack?C(S,D):S.message?S.message:l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}},3219:(yt,T,e)=>{"use strict";e.d(T,{B8:()=>a,Cp:()=>C,F0:()=>D,FU:()=>S,L6:()=>r,b1:()=>_,dL:()=>l,he:()=>n,n2:()=>b,qL:()=>s,ri:()=>f});class s{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(y){setTimeout(()=>{throw y.stack?u.isErrorNoTelemetry(y)?new u(y.message+"\n\n"+y.stack):new Error(y.message+"\n\n"+y.stack):y},0)}}emit(y){this.listeners.forEach(g=>{g(y)})}onUnexpectedError(y){this.unexpectedErrorHandler(y),this.emit(y)}onUnexpectedExternalError(y){this.unexpectedErrorHandler(y)}}const t=new s;function l(d){b(d)||t.onUnexpectedError(d)}function C(d){b(d)||t.onUnexpectedExternalError(d)}function f(d){if(d instanceof Error){const{name:y,message:g}=d;return{$isError:!0,name:y,message:g,stack:d.stacktrace||d.stack,noTelemetry:u.isErrorNoTelemetry(d)}}return d}const I="Canceled";function b(d){return d instanceof S||d instanceof Error&&d.name===I&&d.message===I}class S extends Error{constructor(){super(I),this.name=this.message}}function D(){const d=new Error(I);return d.name=d.message,d}function _(d){return d?new Error(`Illegal argument: ${d}`):new Error("Illegal argument")}function r(d){return d?new Error(`Illegal state: ${d}`):new Error("Illegal state")}class a extends Error{constructor(y){super("NotSupported"),y&&(this.message=y)}}class u extends Error{constructor(y){super(y),this.name="ErrorNoTelemetry"}static fromError(y){if(y instanceof u)return y;const g=new u;return g.message=y.message,g.stack=y.stack,g}static isErrorNoTelemetry(y){return"ErrorNoTelemetry"===y.name}}class n extends Error{constructor(y){super(y||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}}},31864:(yt,T,e)=>{"use strict";e.d(T,{D0:()=>v,E7:()=>m,F3:()=>n,K3:()=>g,Q5:()=>u,ZD:()=>w,ju:()=>b});var b,s=e(3219),t=e(21576),l=e(54847),C=e(44753);!function(E){function x(se){return(ce,Ee=null,me)=>{let he,Pe=!1;return he=se(Fe=>{if(!Pe)return he?he.dispose():Pe=!0,ce.call(Ee,Fe)},null,me),Pe&&he.dispose(),he}}function A(se,ce,Ee){return O((me,Pe=null,he)=>se(Fe=>me.call(Pe,ce(Fe)),null,he),Ee)}function k(se,ce,Ee){return O((me,Pe=null,he)=>se(Fe=>{ce(Fe),me.call(Pe,Fe)},null,he),Ee)}function W(se,ce,Ee){return O((me,Pe=null,he)=>se(Fe=>ce(Fe)&&me.call(Pe,Fe),null,he),Ee)}function N(se,ce,Ee,me){let Pe=Ee;return A(se,he=>(Pe=ce(Pe,he),Pe),me)}function O(se,ce){let Ee;const Pe=new u({onFirstListenerAdd(){Ee=se(Pe.fire,Pe)},onLastListenerRemove(){Ee?.dispose()}});return ce?.add(Pe),Pe.event}function K(se,ce,Ee=100,me=!1,Pe,he){let Fe,Ze,ze,fe=0;const Je=new u({leakWarningThreshold:Pe,onFirstListenerAdd(){Fe=se(vt=>{fe++,Ze=ce(Ze,vt),me&&!ze&&(Je.fire(Ze),Ze=void 0),clearTimeout(ze),ze=setTimeout(()=>{const Et=Ze;Ze=void 0,ze=void 0,(!me||fe>1)&&Je.fire(Et),fe=0},Ee)})},onLastListenerRemove(){Fe.dispose()}});return he?.add(Je),Je.event}function $(se,ce=((me,Pe)=>me===Pe),Ee){let Pe,me=!0;return W(se,he=>{const Fe=me||!ce(he,Pe);return me=!1,Pe=he,Fe},Ee)}E.None=()=>t.JT.None,E.once=x,E.map=A,E.forEach=k,E.filter=W,E.signal=function H(se){return se},E.any=function z(...se){return(ce,Ee=null,me)=>(0,t.F8)(...se.map(Pe=>Pe(he=>ce.call(Ee,he),null,me)))},E.reduce=N,E.debounce=K,E.latch=$,E.split=function j(se,ce,Ee){return[E.filter(se,ce,Ee),E.filter(se,me=>!ce(me),Ee)]},E.buffer=function q(se,ce=!1,Ee=[]){let me=Ee.slice(),Pe=se(Ze=>{me?me.push(Ze):Fe.fire(Ze)});const he=()=>{me?.forEach(Ze=>Fe.fire(Ze)),me=null},Fe=new u({onFirstListenerAdd(){Pe||(Pe=se(Ze=>Fe.fire(Ze)))},onFirstListenerDidAdd(){me&&(ce?setTimeout(he):he())},onLastListenerRemove(){Pe&&Pe.dispose(),Pe=null}});return Fe.event};class R{constructor(ce){this.event=ce,this.disposables=new t.SL}map(ce){return new R(A(this.event,ce,this.disposables))}forEach(ce){return new R(k(this.event,ce,this.disposables))}filter(ce){return new R(W(this.event,ce,this.disposables))}reduce(ce,Ee){return new R(N(this.event,ce,Ee,this.disposables))}latch(){return new R($(this.event,void 0,this.disposables))}debounce(ce,Ee=100,me=!1,Pe){return new R(K(this.event,ce,Ee,me,Pe,this.disposables))}on(ce,Ee,me){return this.event(ce,Ee,me)}once(ce,Ee,me){return x(this.event)(ce,Ee,me)}dispose(){this.disposables.dispose()}}E.chain=function Z(se){return new R(se)},E.fromNodeEventEmitter=function J(se,ce,Ee=(me=>me)){const me=(...Ze)=>Fe.fire(Ee(...Ze)),Fe=new u({onFirstListenerAdd:()=>se.on(ce,me),onLastListenerRemove:()=>se.removeListener(ce,me)});return Fe.event},E.fromDOMEventEmitter=function Ce(se,ce,Ee=(me=>me)){const me=(...Ze)=>Fe.fire(Ee(...Ze)),Fe=new u({onFirstListenerAdd:()=>se.addEventListener(ce,me),onLastListenerRemove:()=>se.removeEventListener(ce,me)});return Fe.event},E.toPromise=function Se(se){return new Promise(ce=>x(se)(ce))},E.runAndSubscribe=function Ie(se,ce){return ce(void 0),se(Ee=>ce(Ee))},E.runAndSubscribeWithStore=function xe(se,ce){let Ee=null;function me(he){Ee?.dispose(),Ee=new t.SL,ce(he,Ee)}me(void 0);const Pe=se(he=>me(he));return(0,t.OF)(()=>{Pe.dispose(),Ee?.dispose()})};class Me{constructor(ce,Ee){this.obs=ce,this._counter=0,this._hasChanged=!1;this.emitter=new u({onFirstListenerAdd:()=>{ce.addObserver(this)},onLastListenerRemove:()=>{ce.removeObserver(this)}}),Ee&&Ee.add(this.emitter)}beginUpdate(ce){this._counter++}handleChange(ce,Ee){this._hasChanged=!0}endUpdate(ce){0==--this._counter&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}E.fromObservable=function Oe(se,ce){return new Me(se,ce).emitter.event}}(b||(b={}));let S=(()=>{class E{constructor(x){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${x}_${E._idPool++}`}start(x){this._stopWatch=new C.G(!0),this._listenerCount=x}stop(){if(this._stopWatch){const x=this._stopWatch.elapsed();this._elapsedOverall+=x,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${x.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return E._idPool=0,E})();class r{constructor(L){this.value=L}static create(){var L;return new r(null!==(L=(new Error).stack)&&void 0!==L?L:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class a{constructor(L,x,A){this.callback=L,this.callbackThis=x,this.stack=A,this.subscription=new t.dt}invoke(L){this.callback.call(this.callbackThis,L)}}class u{constructor(L){var x,A;this._disposed=!1,this._options=L,this._leakageMon=void 0,this._perfMon=null!==(x=this._options)&&void 0!==x&&x._profName?new S(this._options._profName):void 0,this._deliveryQueue=null===(A=this._options)||void 0===A?void 0:A.deliveryQueue}dispose(){var L,x,A,k;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(L=this._deliveryQueue)||void 0===L||L.clear(this),null===(A=null===(x=this._options)||void 0===x?void 0:x.onLastListenerRemove)||void 0===A||A.call(x),null===(k=this._leakageMon)||void 0===k||k.dispose())}get event(){return this._event||(this._event=(L,x,A)=>{var k,W,H;this._listeners||(this._listeners=new l.S);const z=this._listeners.isEmpty();let N,O;z&&null!==(k=this._options)&&void 0!==k&&k.onFirstListenerAdd&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(O=r.create(),N=this._leakageMon.check(O,this._listeners.size+1));const K=new a(L,x,O),$=this._listeners.push(K);z&&!(null===(W=this._options)||void 0===W)&&W.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),null!==(H=this._options)&&void 0!==H&&H.onListenerDidAdd&&this._options.onListenerDidAdd(this,L,x);const j=K.subscription.set(()=>{N?.(),this._disposed||($(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return A instanceof t.SL?A.add(j):Array.isArray(A)&&A.push(j),j}),this._event}fire(L){var x,A;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new d);for(const k of this._listeners)this._deliveryQueue.push(this,k,L);null===(x=this._perfMon)||void 0===x||x.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),null===(A=this._perfMon)||void 0===A||A.stop()}}}class n{constructor(){this._queue=new l.S}get size(){return this._queue.size}push(L,x,A){this._queue.push(new y(L,x,A))}clear(L){const x=new l.S;for(const A of this._queue)A.emitter!==L&&x.push(A);this._queue=x}deliver(){for(;this._queue.size>0;){const L=this._queue.shift();try{L.listener.invoke(L.event)}catch(x){(0,s.dL)(x)}}}}class d extends n{clear(L){this._queue.clear()}}class y{constructor(L,x,A){this.emitter=L,this.listener=x,this.event=A}}class g extends u{constructor(L){super(L),this._isPaused=0,this._eventQueue=new l.S,this._mergeFn=L?.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const L=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(L))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(L){this._listeners&&(0!==this._isPaused?this._eventQueue.push(L):super.fire(L))}}class v extends g{constructor(L){var x;super(L),this._delay=null!==(x=L.delay)&&void 0!==x?x:100}fire(L){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(L)}}class m{constructor(){this.buffers=[]}wrapEvent(L){return(x,A,k)=>L(W=>{const H=this.buffers[this.buffers.length-1];H?H.push(()=>x.call(A,W)):x.call(A,W)},void 0,k)}bufferEvents(L){const x=[];this.buffers.push(x);const A=L();return this.buffers.pop(),x.forEach(k=>k()),A}}class w{constructor(){this.listening=!1,this.inputEvent=b.None,this.inputEventListener=t.JT.None,this.emitter=new u({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(L){this.inputEvent=L,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=L(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},35707:(yt,T,e)=>{"use strict";e.d(T,{KM:()=>S,ej:()=>f,fn:()=>I,oP:()=>_,yj:()=>b});var s=e(83872),t=e(84834),l=e(77697);function C(r){return 47===r||92===r}function f(r){return r.replace(/[\\/]/g,s.KR.sep)}function I(r){return-1===r.indexOf("/")&&(r=f(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}function b(r,a=s.KR.sep){if(!r)return"";const u=r.length,n=r.charCodeAt(0);if(C(n)){if(C(r.charCodeAt(1))&&!C(r.charCodeAt(2))){let y=3;const g=y;for(;y<u&&!C(r.charCodeAt(y));y++);if(g!==y&&!C(r.charCodeAt(y+1)))for(y+=1;y<u;y++)if(C(r.charCodeAt(y)))return r.slice(0,y+1).replace(/[\\/]/g,a)}return a}if(D(n)&&58===r.charCodeAt(1))return C(r.charCodeAt(2))?r.slice(0,2)+a:r.slice(0,2);let d=r.indexOf("://");if(-1!==d)for(d+=3;d<u;d++)if(C(r.charCodeAt(d)))return r.slice(0,d+1);return""}function S(r,a,u,n=s.ir){if(r===a)return!0;if(!r||!a||a.length>r.length)return!1;if(u){if(!(0,l.ok)(r,a))return!1;if(a.length===r.length)return!0;let y=a.length;return a.charAt(a.length-1)===n&&y--,r.charAt(y)===n}return a.charAt(a.length-1)!==n&&(a+=n),0===r.indexOf(a)}function D(r){return r>=65&&r<=90||r>=97&&r<=122}function _(r,a=t.ED){return!!a&&D(r.charCodeAt(0))&&58===r.charCodeAt(1)}},19623:(yt,T,e)=>{"use strict";e.d(T,{CL:()=>Fe,EW:()=>ze,Ji:()=>f,KZ:()=>W,Oh:()=>$,Sy:()=>S,ir:()=>b,jB:()=>j,l7:()=>Je,mB:()=>q,mX:()=>Ze,or:()=>l});var s=e(63312),t=e(77697);function l(...Xe){return function(re,pe){for(let ge=0,de=Xe.length;ge<de;ge++){const Q=Xe[ge](re,pe);if(Q)return Q}return null}}I.bind(void 0,!1);const f=I.bind(void 0,!0);function I(Xe,re,pe){if(!pe||pe.length<re.length)return null;let ge;return ge=Xe?t.ok(pe,re):0===pe.indexOf(re),ge?re.length>0?[{start:0,end:re.length}]:[]:null}function b(Xe,re){const pe=re.toLowerCase().indexOf(Xe.toLowerCase());return-1===pe?null:[{start:pe,end:pe+Xe.length}]}function S(Xe,re){return D(Xe.toLowerCase(),re.toLowerCase(),0,0)}function D(Xe,re,pe,ge){if(pe===Xe.length)return[];if(ge===re.length)return null;if(Xe[pe]===re[ge]){let de=null;return(de=D(Xe,re,pe+1,ge+1))?v({start:ge,end:ge+1},de):null}return D(Xe,re,pe,ge+1)}function _(Xe){return 97<=Xe&&Xe<=122}function r(Xe){return 65<=Xe&&Xe<=90}function a(Xe){return 48<=Xe&&Xe<=57}function u(Xe){return 32===Xe||9===Xe||10===Xe||13===Xe}const n=new Set;function d(Xe){return u(Xe)||n.has(Xe)}function g(Xe){return _(Xe)||r(Xe)||a(Xe)}function v(Xe,re){return 0===re.length?re=[Xe]:Xe.end===re[0].start?re[0].start=Xe.start:re.unshift(Xe),re}function m(Xe,re){for(let pe=re;pe<Xe.length;pe++){const ge=Xe.charCodeAt(pe);if(r(ge)||a(ge)||pe>0&&!g(Xe.charCodeAt(pe-1)))return pe}return Xe.length}function w(Xe,re,pe,ge){if(pe===Xe.length)return[];if(ge===re.length)return null;if(Xe[pe]!==re[ge].toLowerCase())return null;{let de=null,Q=ge+1;for(de=w(Xe,re,pe+1,ge+1);!de&&(Q=m(re,Q))<re.length;)de=w(Xe,re,pe+1,Q),Q++;return null===de?null:v({start:ge,end:ge+1},de)}}function k(Xe,re){if(!re||0===(re=re.trim()).length||!function A(Xe){let re=0,pe=0,ge=0,de=0;for(let Q=0;Q<Xe.length;Q++)ge=Xe.charCodeAt(Q),r(ge)&&re++,_(ge)&&pe++,u(ge)&&de++;return 0!==re&&0!==pe||0!==de?re<=5:Xe.length<=30}(Xe)||re.length>60)return null;const pe=function E(Xe){let re=0,pe=0,ge=0,de=0,Q=0;for(let it=0;it<Xe.length;it++)Q=Xe.charCodeAt(it),r(Q)&&re++,_(Q)&&pe++,g(Q)&&ge++,a(Q)&&de++;return{upperPercent:re/Xe.length,lowerPercent:pe/Xe.length,alphaPercent:ge/Xe.length,numericPercent:de/Xe.length}}(re);if(!function x(Xe){const{upperPercent:re,lowerPercent:pe,alphaPercent:ge,numericPercent:de}=Xe;return pe>.2&&re<.8&&ge>.6&&de<.2}(pe)){if(!function L(Xe){const{upperPercent:re,lowerPercent:pe}=Xe;return 0===pe&&re>.6}(pe))return null;re=re.toLowerCase()}let ge=null,de=0;for(Xe=Xe.toLowerCase();de<re.length&&null===(ge=w(Xe,re,0,de));)de=m(re,de+1);return ge}function W(Xe,re,pe=!1){if(!re||0===re.length)return null;let ge=null,de=0;for(Xe=Xe.toLowerCase(),re=re.toLowerCase();de<re.length&&null===(ge=H(Xe,re,0,de,pe));)de=z(re,de+1);return ge}function H(Xe,re,pe,ge,de){if(pe===Xe.length)return[];if(ge===re.length)return null;if(function y(Xe,re){return Xe===re||d(Xe)&&d(re)}(Xe.charCodeAt(pe),re.charCodeAt(ge))){let Q=null,ye=ge+1;if(Q=H(Xe,re,pe+1,ge+1,de),!de)for(;!Q&&(ye=z(re,ye))<re.length;)Q=H(Xe,re,pe+1,ye,de),ye++;return null===Q?null:v({start:ge,end:ge+1},Q)}return null}function z(Xe,re){for(let pe=re;pe<Xe.length;pe++)if(d(Xe.charCodeAt(pe))||pe>0&&d(Xe.charCodeAt(pe-1)))return pe;return Xe.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(Xe=>n.add(Xe.charCodeAt(0)));const N=l(f,k,b),O=l(f,k,S),K=new s.z6(1e4);function $(Xe,re,pe=!1){if("string"!=typeof Xe||"string"!=typeof re)return null;let ge=K.get(Xe);ge||(ge=new RegExp(t.un(Xe),"i"),K.set(Xe,ge));const de=ge.exec(re);return de?[{start:de.index,end:de.index+de[0].length}]:pe?O(Xe,re):N(Xe,re)}function j(Xe,re,pe,ge,de,Q){const ye=Math.min(13,Xe.length);for(;pe<ye;pe++){const Ae=ze(Xe,re,pe,ge,de,Q,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Ae)return Ae}return[0,Q]}function q(Xe){if(typeof Xe>"u")return[];const re=[],pe=Xe[1];for(let ge=Xe.length-1;ge>1;ge--){const de=Xe[ge]+pe,Q=re[re.length-1];Q&&Q.end===de?Q.end=de+1:re.push({start:de,end:de+1})}return re}const R=128;function Z(){const Xe=[],re=[];for(let pe=0;pe<=R;pe++)re[pe]=0;for(let pe=0;pe<=R;pe++)Xe.push(re.slice(0));return Xe}function J(Xe){const re=[];for(let pe=0;pe<=Xe;pe++)re[pe]=0;return re}const Ce=J(2*R),Se=J(2*R),Ie=Z(),xe=Z(),Me=Z(),Oe=!1;function se(Xe,re,pe,ge,de){function Q(Ae,ft,dt=" "){for(;Ae.length<ft;)Ae=dt+Ae;return Ae}let ye=` |   |${ge.split("").map(Ae=>Q(Ae,3)).join("|")}\n`;for(let Ae=0;Ae<=pe;Ae++)ye+=0===Ae?" |":`${re[Ae-1]}|`,ye+=Xe[Ae].slice(0,de+1).map(ft=>Q(ft.toString(),3)).join("|")+"\n";return ye}function Ee(Xe,re){if(re<0||re>=Xe.length)return!1;const pe=Xe.codePointAt(re);switch(pe){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!t.C8(pe)}}function me(Xe,re){if(re<0||re>=Xe.length)return!1;switch(Xe.charCodeAt(re)){case 32:case 9:return!0;default:return!1}}function Pe(Xe,re,pe){return re[Xe]!==pe[Xe]}var Fe,Xe;(Xe=Fe||(Fe={})).Default=[-100,0],Xe.isDefault=function re(pe){return!pe||2===pe.length&&-100===pe[0]&&0===pe[1]};let Ze=(()=>{class Xe{constructor(pe,ge){this.firstMatchCanBeWeak=pe,this.boostFullMatch=ge}}return Xe.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},Xe})();function ze(Xe,re,pe,ge,de,Q,ye=Ze.default){const Ae=Xe.length>R?R:Xe.length,ft=ge.length>R?R:ge.length;if(pe>=Ae||Q>=ft||Ae-pe>ft-Q||!function he(Xe,re,pe,ge,de,Q,ye=!1){for(;re<pe&&de<Q;)Xe[re]===ge[de]&&(ye&&(Ce[re]=de),re+=1),de+=1;return re===pe}(re,pe,Ae,de,Q,ft,!0))return;!function fe(Xe,re,pe,ge,de,Q){let ye=Xe-1,Ae=re-1;for(;ye>=pe&&Ae>=ge;)de[ye]===Q[Ae]&&(Se[ye]=Ae,ye--),Ae--}(Ae,ft,pe,Q,re,de);let dt=1,it=1,et=pe,st=Q;const St=[!1];for(dt=1,et=pe;et<Ae;dt++,et++){const Ye=Ce[et],Tt=Se[et],qt=et+1<Ae?Se[et+1]:ft;for(it=Ye-Q+1,st=Ye;st<qt;it++,st++){let Ot=Number.MIN_SAFE_INTEGER,Ft=!1;st<=Tt&&(Ot=Ke(Xe,re,et,pe,ge,de,st,ft,Q,0===Ie[dt-1][it-1],St));let rt=0;Ot!==Number.MAX_SAFE_INTEGER&&(Ft=!0,rt=Ot+xe[dt-1][it-1]);const Le=st>Ye,ie=Le?xe[dt][it-1]+(Ie[dt][it-1]>0?-5:0):0,te=st>Ye+1&&Ie[dt][it-1]>0,oe=te?xe[dt][it-2]+(Ie[dt][it-2]>0?-5:0):0;if(te&&(!Le||oe>=ie)&&(!Ft||oe>=rt))xe[dt][it]=oe,Me[dt][it]=3,Ie[dt][it]=0;else if(Le&&(!Ft||ie>=rt))xe[dt][it]=ie,Me[dt][it]=2,Ie[dt][it]=0;else{if(!Ft)throw new Error("not possible");xe[dt][it]=rt,Me[dt][it]=1,Ie[dt][it]=Ie[dt-1][it-1]+1}}}if(Oe&&function ce(Xe,re,pe,ge){Xe=Xe.substr(re),pe=pe.substr(ge),console.log(se(xe,Xe,Xe.length,pe,pe.length)),console.log(se(Me,Xe,Xe.length,pe,pe.length)),console.log(se(Ie,Xe,Xe.length,pe,pe.length))}(Xe,pe,ge,Q),!St[0]&&!ye.firstMatchCanBeWeak)return;dt--,it--;const mt=[xe[dt][it],Q];let bt=0,Bt=0;for(;dt>=1;){let Ye=it;do{const Tt=Me[dt][Ye];if(3===Tt)Ye-=2;else{if(2!==Tt)break;Ye-=1}}while(Ye>=1);bt>1&&re[pe+dt-1]===de[Q+it-1]&&!Pe(Ye+Q-1,ge,de)&&bt+1>Ie[dt][Ye]&&(Ye=it),Ye===it?bt++:bt=1,Bt||(Bt=Ye),dt--,it=Ye-1,mt.push(it)}return ft===Ae&&ye.boostFullMatch&&(mt[0]+=2),mt[0]-=Bt-Ae,mt}function Ke(Xe,re,pe,ge,de,Q,ye,Ae,ft,dt,it){if(re[pe]!==Q[ye])return Number.MIN_SAFE_INTEGER;let et=1,st=!1;return ye===pe-ge?et=Xe[pe]===de[ye]?7:5:!Pe(ye,de,Q)||0!==ye&&Pe(ye-1,de,Q)?!Ee(Q,ye)||0!==ye&&Ee(Q,ye-1)?(Ee(Q,ye-1)||me(Q,ye-1))&&(et=5,st=!0):et=5:(et=Xe[pe]===de[ye]?7:5,st=!0),et>1&&pe===ge&&(it[0]=!0),st||(st=Pe(ye,de,Q)||Ee(Q,ye-1)||me(Q,ye-1)),pe===ge?ye>ft&&(et-=st?3:5):et+=dt?st?2:0:st?0:1,ye+1===Ae&&(et-=st?3:5),et}function Je(Xe,re,pe,ge,de,Q,ye){return function vt(Xe,re,pe,ge,de,Q,ye,Ae){let ft=ze(Xe,re,pe,ge,de,Q,Ae);if(ft&&!ye)return ft;if(Xe.length>=3){const dt=Math.min(7,Xe.length-1);for(let it=pe+1;it<dt;it++){const et=Et(Xe,it);if(et){const st=ze(et,et.toLowerCase(),pe,ge,de,Q,Ae);st&&(st[0]-=3,(!ft||st[0]>ft[0])&&(ft=st))}}}return ft}(Xe,re,pe,ge,de,Q,!0,ye)}function Et(Xe,re){if(re+1>=Xe.length)return;const pe=Xe[re],ge=Xe[re+1];return pe!==ge?Xe.slice(0,re)+ge+pe+Xe.slice(re+2):void 0}},67005:(yt,T,e)=>{"use strict";function s(t){const l=this;let f,C=!1;return function(){return C||(C=!0,f=t.apply(l,arguments)),f}}e.d(T,{I:()=>s})},42951:(yt,T,e)=>{"use strict";e.d(T,{EQ:()=>j,Qc:()=>q});var s=e(41883),t=e(35707),l=e(63312),C=e(83872),f=e(84834),I=e(77697),b=function(Se,Ie,xe,Me){return new(xe||(xe=Promise))(function(se,ce){function Ee(he){try{Pe(Me.next(he))}catch(Fe){ce(Fe)}}function me(he){try{Pe(Me.throw(he))}catch(Fe){ce(Fe)}}function Pe(he){he.done?se(he.value):function Oe(se){return se instanceof xe?se:new xe(function(ce){ce(se)})}(he.value).then(Ee,me)}Pe((Me=Me.apply(Se,Ie||[])).next())})};const S="**",D="/",_="[/\\\\]",r="[^/\\\\]",a=/\//g;function u(Se,Ie){switch(Se){case 0:return"";case 1:return`${r}*?`;default:return`(?:${_}|${r}+${_}${Ie?`|${_}${r}+`:""})*?`}}function n(Se,Ie){if(!Se)return[];const xe=[];let Me=!1,Oe=!1,se="";for(const ce of Se){switch(ce){case Ie:if(!Me&&!Oe){xe.push(se),se="";continue}break;case"{":Me=!0;break;case"}":Me=!1;break;case"[":Oe=!0;break;case"]":Oe=!1}se+=ce}return se&&xe.push(se),xe}function d(Se){if(!Se)return"";let Ie="";const xe=n(Se,D);if(xe.every(Me=>Me===S))Ie=".*";else{let Me=!1;xe.forEach((Oe,se)=>{if(Oe===S){if(Me)return;Ie+=u(2,se===xe.length-1)}else{let ce=!1,Ee="",me=!1,Pe="";for(const he of Oe)if("}"!==he&&ce)Ee+=he;else if(!me||"]"===he&&Pe)switch(he){case"{":ce=!0;continue;case"[":me=!0;continue;case"}":{const Ze=`(?:${n(Ee,",").map(ze=>d(ze)).join("|")})`;Ie+=Ze,ce=!1,Ee="";break}case"]":Ie+="["+Pe+"]",me=!1,Pe="";break;case"?":Ie+=r;continue;case"*":Ie+=u(1);continue;default:Ie+=(0,I.ec)(he)}else{let Fe;Fe="-"===he?he:"^"!==he&&"!"!==he||Pe?he===D?"":(0,I.ec)(he):"^",Pe+=Fe}se<xe.length-1&&(xe[se+1]!==S||se+2<xe.length)&&(Ie+=_)}Me=Oe===S})}return Ie}const y=/^\*\*\/\*\.[\w\.-]+$/,g=/^\*\*\/([\w\.-]+)\/?$/,v=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,m=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,w=/^\*\*((\/[\w\.-]+)+)\/?$/,E=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,L=new l.z6(1e4),x=function(){return!1},A=function(){return null};function k(Se,Ie){if(!Se)return A;let xe;xe="string"!=typeof Se?Se.pattern:Se,xe=xe.trim();const Me=`${xe}_${!!Ie.trimForExclusions}`;let se,Oe=L.get(Me);return Oe||(Oe=y.test(xe)?function z(Se,Ie){return function(xe,Me){return"string"==typeof xe&&xe.endsWith(Se)?Ie:null}}(xe.substr(4),xe):(se=g.exec(H(xe,Ie)))?function N(Se,Ie){const xe=`/${Se}`,Me=`\\${Se}`,Oe=function(ce,Ee){return"string"!=typeof ce?null:Ee?Ee===Se?Ie:null:ce===Se||ce.endsWith(xe)||ce.endsWith(Me)?Ie:null},se=[Se];return Oe.basenames=se,Oe.patterns=[Ie],Oe.allBasenames=se,Oe}(se[1],xe):(Ie.trimForExclusions?m:v).test(xe)?function O(Se,Ie){const xe=Ce(Se.slice(1,-1).split(",").map(Ee=>k(Ee,Ie)).filter(Ee=>Ee!==A),Se),Me=xe.length;if(!Me)return A;if(1===Me)return xe[0];const Oe=function(Ee,me){for(let Pe=0,he=xe.length;Pe<he;Pe++)if(xe[Pe](Ee,me))return Se;return null},se=xe.find(Ee=>!!Ee.allBasenames);se&&(Oe.allBasenames=se.allBasenames);const ce=xe.reduce((Ee,me)=>me.allPaths?Ee.concat(me.allPaths):Ee,[]);return ce.length&&(Oe.allPaths=ce),Oe}(xe,Ie):(se=w.exec(H(xe,Ie)))?K(se[1].substr(1),xe,!0):(se=E.exec(H(xe,Ie)))?K(se[1],xe,!1):function $(Se){try{const Ie=new RegExp(`^${d(Se)}$`);return function(xe){return Ie.lastIndex=0,"string"==typeof xe&&Ie.test(xe)?Se:null}}catch{return A}}(xe),L.set(Me,Oe)),function W(Se,Ie){if("string"==typeof Ie)return Se;const xe=function(Me,Oe){return(0,t.KM)(Me,Ie.base,!f.IJ)?Se(Me.substr(Ie.base.length+1),Oe):null};return xe.allBasenames=Se.allBasenames,xe.allPaths=Se.allPaths,xe.basenames=Se.basenames,xe.patterns=Se.patterns,xe}(Oe,Se)}function H(Se,Ie){return Ie.trimForExclusions&&Se.endsWith("/**")?Se.substr(0,Se.length-2):Se}function K(Se,Ie,xe){const Me=C.ir===C.KR.sep,Oe=Me?Se:Se.replace(a,C.ir),se=C.ir+Oe,ce=C.KR.sep+Se;let Ee;return Ee=xe?function(me,Pe){return"string"!=typeof me||me!==Oe&&!me.endsWith(se)&&(Me||me!==Se&&!me.endsWith(ce))?null:Ie}:function(me,Pe){return"string"!=typeof me||me!==Oe&&(Me||me!==Se)?null:Ie},Ee.allPaths=[(xe?"*/":"./")+Se],Ee}function j(Se,Ie,xe){return!(!Se||"string"!=typeof Ie)&&q(Se)(Ie,void 0,xe)}function q(Se,Ie={}){if(!Se)return x;if("string"==typeof Se||function R(Se){return!!Se&&"string"==typeof Se.base&&"string"==typeof Se.pattern}(Se)){const xe=k(Se,Ie);if(xe===A)return x;const Me=function(Oe,se){return!!xe(Oe,se)};return xe.allBasenames&&(Me.allBasenames=xe.allBasenames),xe.allPaths&&(Me.allPaths=xe.allPaths),Me}return function Z(Se,Ie){const xe=Ce(Object.getOwnPropertyNames(Se).map(Ee=>function J(Se,Ie,xe){if(!1===Ie)return A;const Me=k(Se,xe);if(Me===A)return A;if("boolean"==typeof Ie)return Me;if(Ie){const Oe=Ie.when;if("string"==typeof Oe){const se=(ce,Ee,me,Pe)=>{if(!Pe||!Me(ce,Ee))return null;const Fe=Pe(Oe.replace("$(basename)",me));return(0,s.J8)(Fe)?Fe.then(Ze=>Ze?Se:null):Fe?Se:null};return se.requiresSiblings=!0,se}}return Me}(Ee,Se[Ee],Ie)).filter(Ee=>Ee!==A)),Me=xe.length;if(!Me)return A;if(!xe.some(Ee=>!!Ee.requiresSiblings)){if(1===Me)return xe[0];const Ee=function(he,Fe){let Ze;for(let ze=0,fe=xe.length;ze<fe;ze++){const Ke=xe[ze](he,Fe);if("string"==typeof Ke)return Ke;(0,s.J8)(Ke)&&(Ze||(Ze=[]),Ze.push(Ke))}return Ze?(()=>b(this,void 0,void 0,function*(){for(const ze of Ze){const fe=yield ze;if("string"==typeof fe)return fe}return null}))():null},me=xe.find(he=>!!he.allBasenames);me&&(Ee.allBasenames=me.allBasenames);const Pe=xe.reduce((he,Fe)=>Fe.allPaths?he.concat(Fe.allPaths):he,[]);return Pe.length&&(Ee.allPaths=Pe),Ee}const Oe=function(Ee,me,Pe){let he,Fe;for(let Ze=0,ze=xe.length;Ze<ze;Ze++){const fe=xe[Ze];fe.requiresSiblings&&Pe&&(me||(me=(0,C.EZ)(Ee)),he||(he=me.substr(0,me.length-(0,C.DZ)(Ee).length)));const Ke=fe(Ee,me,he,Pe);if("string"==typeof Ke)return Ke;(0,s.J8)(Ke)&&(Fe||(Fe=[]),Fe.push(Ke))}return Fe?(()=>b(this,void 0,void 0,function*(){for(const Ze of Fe){const ze=yield Ze;if("string"==typeof ze)return ze}return null}))():null},se=xe.find(Ee=>!!Ee.allBasenames);se&&(Oe.allBasenames=se.allBasenames);const ce=xe.reduce((Ee,me)=>me.allPaths?Ee.concat(me.allPaths):Ee,[]);return ce.length&&(Oe.allPaths=ce),Oe}(Se,Ie)}function Ce(Se,Ie){const xe=Se.filter(Ee=>!!Ee.basenames);if(xe.length<2)return Se;const Me=xe.reduce((Ee,me)=>{const Pe=me.basenames;return Pe?Ee.concat(Pe):Ee},[]);let Oe;if(Ie){Oe=[];for(let Ee=0,me=Me.length;Ee<me;Ee++)Oe.push(Ie)}else Oe=xe.reduce((Ee,me)=>{const Pe=me.patterns;return Pe?Ee.concat(Pe):Ee},[]);const se=function(Ee,me){if("string"!=typeof Ee)return null;if(!me){let he;for(he=Ee.length;he>0;he--){const Fe=Ee.charCodeAt(he-1);if(47===Fe||92===Fe)break}me=Ee.substr(he)}const Pe=Me.indexOf(me);return-1!==Pe?Oe[Pe]:null};se.basenames=Me,se.patterns=Oe,se.allBasenames=Me;const ce=Se.filter(Ee=>!Ee.basenames);return ce.push(se),ce}},50540:(yt,T,e)=>{"use strict";e.d(T,{Cv:()=>I,SP:()=>l,vp:()=>t,yP:()=>u});var s=e(77697);function t(n){return l(n,0)}function l(n,d){switch(typeof n){case"object":return null===n?C(349,d):Array.isArray(n)?function b(n,d){return d=C(104579,d),n.reduce((y,g)=>l(g,y),d)}(n,d):function S(n,d){return d=C(181387,d),Object.keys(n).sort().reduce((y,g)=>(y=I(g,y),l(n[g],y)),d)}(n,d);case"string":return I(n,d);case"boolean":return function f(n,d){return C(n?433:863,d)}(n,d);case"number":return C(n,d);case"undefined":return C(937,d);default:return C(617,d)}}function C(n,d){return(d<<5)-d+n|0}function I(n,d){d=C(149417,d);for(let y=0,g=n.length;y<g;y++)d=C(n.charCodeAt(y),d);return d}function D(n,d,y=32){const g=y-d;return(n<<d|(~((1<<g)-1)&n)>>>g)>>>0}function _(n,d=0,y=n.byteLength,g=0){for(let v=0;v<y;v++)n[d+v]=g}function a(n,d=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(y=>y.toString(16).padStart(2,"0")).join(""):function r(n,d,y="0"){for(;n.length<d;)n=y+n;return n}((n>>>0).toString(16),d/4)}class u{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const y=d.length;if(0===y)return;const g=this._buff;let w,E,v=this._buffLen,m=this._leftoverHighSurrogate;for(0!==m?(w=m,E=-1,m=0):(w=d.charCodeAt(0),E=0);;){let L=w;if(s.ZG(w)){if(!(E+1<y)){m=w;break}{const x=d.charCodeAt(E+1);s.YK(x)?(E++,L=s.rL(w,x)):L=65533}}else s.YK(w)&&(L=65533);if(v=this._push(g,v,L),E++,!(E<y))break;w=d.charCodeAt(E)}this._buffLen=v,this._leftoverHighSurrogate=m}_push(d,y,g){return g<128?d[y++]=g:g<2048?(d[y++]=192|(1984&g)>>>6,d[y++]=128|(63&g)>>>0):g<65536?(d[y++]=224|(61440&g)>>>12,d[y++]=128|(4032&g)>>>6,d[y++]=128|(63&g)>>>0):(d[y++]=240|(1835008&g)>>>18,d[y++]=128|(258048&g)>>>12,d[y++]=128|(4032&g)>>>6,d[y++]=128|(63&g)>>>0),y>=64&&(this._step(),y-=64,this._totalLen+=64,d[0]=d[64],d[1]=d[65],d[2]=d[66]),y}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),a(this._h0)+a(this._h1)+a(this._h2)+a(this._h3)+a(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,_(this._buff,this._buffLen),this._buffLen>56&&(this._step(),_(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=u._bigBlock32,y=this._buffDV;for(let k=0;k<64;k+=4)d.setUint32(k,y.getUint32(k,!1),!1);for(let k=64;k<320;k+=4)d.setUint32(k,D(d.getUint32(k-12,!1)^d.getUint32(k-32,!1)^d.getUint32(k-56,!1)^d.getUint32(k-64,!1),1),!1);let L,x,A,g=this._h0,v=this._h1,m=this._h2,w=this._h3,E=this._h4;for(let k=0;k<80;k++)k<20?(L=v&m|~v&w,x=1518500249):k<40?(L=v^m^w,x=1859775393):k<60?(L=v&m|v&w|m&w,x=2400959708):(L=v^m^w,x=3395469782),A=D(g,5)+L+E+x+d.getUint32(4*k,!1)&4294967295,E=w,w=m,m=D(v,30),v=g,g=A;this._h0=this._h0+g&4294967295,this._h1=this._h1+v&4294967295,this._h2=this._h2+m&4294967295,this._h3=this._h3+w&4294967295,this._h4=this._h4+E&4294967295}}u._bigBlock32=new DataView(new ArrayBuffer(320))},32418:(yt,T,e)=>{"use strict";e.d(T,{CP:()=>f,Fr:()=>I,W5:()=>C,d9:()=>S,oR:()=>D,v1:()=>_});var s=e(3219),t=e(1853),l=e(77697);class C{constructor(a="",u=!1){var n,d,y;if(this.value=a,"string"!=typeof this.value)throw(0,s.b1)("value");"boolean"==typeof u?(this.isTrusted=u,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(n=u.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(d=u.supportThemeIcons)&&void 0!==d&&d,this.supportHtml=null!==(y=u.supportHtml)&&void 0!==y&&y)}appendText(a,u=0){return this.value+=function b(r){return r.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(0,t.Qo)(a):a).replace(/([ \t]+)/g,(n,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===u?"\\\n":"\n\n"),this}appendMarkdown(a){return this.value+=a,this}appendCodeblock(a,u){return this.value+="\n```",this.value+=a,this.value+="\n",this.value+=u,this.value+="\n```\n",this}appendLink(a,u,n){return this.value+="[",this.value+=this._escape(u,"]"),this.value+="](",this.value+=this._escape(String(a),")"),n&&(this.value+=` "${this._escape(this._escape(n,'"'),")")}"`),this.value+=")",this}_escape(a,u){const n=new RegExp((0,l.ec)(u),"g");return a.replace(n,(d,y)=>"\\"!==a.charAt(y-1)?`\\${d}`:d)}}function f(r){return I(r)?!r.value:!Array.isArray(r)||r.every(f)}function I(r){return r instanceof C||!(!r||"object"!=typeof r)&&!("string"!=typeof r.value||"boolean"!=typeof r.isTrusted&&void 0!==r.isTrusted||"boolean"!=typeof r.supportThemeIcons&&void 0!==r.supportThemeIcons)}function S(r){return r.replace(/"/g,"&quot;")}function D(r){return r&&r.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function _(r){const a=[],u=r.split("|").map(d=>d.trim());r=u[0];const n=u[1];if(n){const d=/height=(\d+)/.exec(n),y=/width=(\d+)/.exec(n),g=d?d[1]:"",v=y?y[1]:"",m=isFinite(parseInt(v)),w=isFinite(parseInt(g));m&&a.push(`width="${v}"`),w&&a.push(`height="${g}"`)}return{href:r,dimensions:a}}},1853:(yt,T,e)=>{"use strict";e.d(T,{Gt:()=>d,Ho:()=>u,Qo:()=>S,f$:()=>_,x$:()=>a});var s=e(51153),t=e(19623),l=e(77697);const C="$(",f=new RegExp(`\\$\\(${s.dT.iconNameExpression}(?:${s.dT.iconModifierExpression})?\\)`,"g"),I=new RegExp(s.dT.iconNameCharacter),b=new RegExp(`(\\\\)?${f.source}`,"g");function S(y){return y.replace(b,(g,v)=>v?g:`\\${g}`)}const D=new RegExp(`\\\\${f.source}`,"g");function _(y){return y.replace(D,g=>`\\${g}`)}const r=new RegExp(`(\\s)?(\\\\)?${f.source}(\\s)?`,"g");function a(y){return-1===y.indexOf(C)?y:y.replace(r,(g,v,m,w)=>m?g:v||w||"")}function u(y){const g=y.indexOf(C);return-1===g?{text:y}:function n(y,g){const v=[];let m="";function w(z){if(z){m+=z;for(const N of z)v.push(x)}}let A,k,E=-1,L="",x=0,W=g;const H=y.length;for(w(y.substr(0,g));W<H;)A=y[W],k=y[W+1],A===C[0]&&k===C[1]?(E=W,w(L),L=C,W++):")"===A&&-1!==E?(x+=W-E+1,E=-1,L=""):-1!==E?I.test(A)?L+=A:(w(L),E=-1,L=""):w(A),W++;return w(L),{text:m,iconOffsets:v}}(y,g)}function d(y,g,v=!1){const{text:m,iconOffsets:w}=g;if(!w||0===w.length)return(0,t.Oh)(y,m,v);const E=(0,l.j3)(m," "),L=m.length-E.length,x=(0,t.Oh)(y,E,v);if(x)for(const A of x){const k=w[A.start+L]+L;A.start+=k,A.end+=k}return x}},42700:(yt,T,e)=>{"use strict";e.d(T,{R:()=>s,a:()=>t});class s{constructor(C){this._prefix=C,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const t=new s("id#")},61777:(yt,T,e)=>{"use strict";var s;e.d(T,{$:()=>s}),function(t){t.is=function l(L){return L&&"object"==typeof L&&"function"==typeof L[Symbol.iterator]};const C=Object.freeze([]);function m(L,x=Number.POSITIVE_INFINITY){const A=[];if(0===x)return[A,L];const k=L[Symbol.iterator]();for(let W=0;W<x;W++){const H=k.next();if(H.done)return[A,t.empty()];A.push(H.value)}return[A,{[Symbol.iterator]:()=>k}]}t.empty=function f(){return C},t.single=function*I(L){yield L},t.from=function b(L){return L||C},t.isEmpty=function S(L){return!L||!0===L[Symbol.iterator]().next().done},t.first=function D(L){return L[Symbol.iterator]().next().value},t.some=function _(L,x){for(const A of L)if(x(A))return!0;return!1},t.find=function r(L,x){for(const A of L)if(x(A))return A},t.filter=function*a(L,x){for(const A of L)x(A)&&(yield A)},t.map=function*u(L,x){let A=0;for(const k of L)yield x(k,A++)},t.concat=function*n(...L){for(const x of L)for(const A of x)yield A},t.concatNested=function*d(L){for(const x of L)for(const A of x)yield A},t.reduce=function y(L,x,A){let k=A;for(const W of L)k=x(k,W);return k},t.forEach=function g(L,x){let A=0;for(const k of L)x(k,A++)},t.slice=function*v(L,x,A=L.length){for(x<0&&(x+=L.length),A<0?A+=L.length:A>L.length&&(A=L.length);x<A;x++)yield L[x]},t.consume=m,t.collect=function w(L){return m(L)[0]},t.equals=function E(L,x,A=((k,W)=>k===W)){const k=L[Symbol.iterator](),W=x[Symbol.iterator]();for(;;){const H=k.next(),z=W.next();if(H.done!==z.done)return!1;if(H.done)return!0;if(!A(H.value,z.value))return!1}}}(s||(s={}))},32133:(yt,T,e)=>{"use strict";e.d(T,{H_:()=>f,Vd:()=>_,gx:()=>u,kL:()=>a});class s{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(d,y){this._keyCodeToStr[d]=y,this._strToKeyCode[y.toLowerCase()]=d}keyCodeToStr(d){return this._keyCodeToStr[d]}strToKeyCode(d){return this._strToKeyCode[d.toLowerCase()]||0}}const t=new s,l=new s,C=new s,f=new Array(230),I={},b=[],S=Object.create(null),D=Object.create(null),_=[],r=[];for(let n=0;n<=193;n++)_[n]=-1;for(let n=0;n<=127;n++)r[n]=-1;var a,n;function u(n,d){return(n|(65535&d)<<16>>>0)>>>0}!function(){const n="",d=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],y=[],g=[];for(const v of d){const[m,w,E,L,x,A,k,W,H,z]=v;if(g[E]||(g[E]=!0,b[E]=L,S[L]=E,D[L.toLowerCase()]=E,w&&(_[E]=x,0!==x&&3!==x&&5!==x&&4!==x&&6!==x&&57!==x&&(r[x]=E))),!y[x]){if(y[x]=!0,!A)throw new Error(`String representation missing for key code ${x} around scan code ${L}`);t.define(x,A),l.define(x,H||A),C.define(x,z||H||A)}k&&(f[k]=x),W&&(I[W]=x)}r[3]=46}(),(n=a||(a={})).toString=function d(E){return t.keyCodeToStr(E)},n.fromString=function y(E){return t.strToKeyCode(E)},n.toUserSettingsUS=function g(E){return l.keyCodeToStr(E)},n.toUserSettingsGeneral=function v(E){return C.keyCodeToStr(E)},n.fromUserSettings=function m(E){return l.strToKeyCode(E)||C.strToKeyCode(E)},n.toElectronAccelerator=function w(E){if(E>=93&&E<=108)return null;switch(E){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return t.keyCodeToStr(E)}},89466:(yt,T,e)=>{"use strict";e.d(T,{X4:()=>C,jC:()=>f,xo:()=>l});var s=e(1200);class t{constructor(D,_,r=_){this.modifierLabels=[null],this.modifierLabels[2]=D,this.modifierLabels[1]=_,this.modifierLabels[3]=r}toLabel(D,_,r){if(0===_.length)return null;const a=[];for(let u=0,n=_.length;u<n;u++){const d=_[u],y=r(d);if(null===y)return null;a[u]=b(d,y,this.modifierLabels[D])}return a.join(" ")}}const l=new t({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:s.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:s.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:s.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:s.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:s.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:s.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:s.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:s.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),C=new t({ctrlKey:s.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:s.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:s.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:s.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:s.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:s.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),f=new t({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function b(S,D,_){if(null===D)return"";const r=[];return S.ctrlKey&&r.push(_.ctrlKey),S.shiftKey&&r.push(_.shiftKey),S.altKey&&r.push(_.altKey),S.metaKey&&r.push(_.metaKey),""!==D&&r.push(D),r.join(_.separator)}new t({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},99385:(yt,T,e)=>{"use strict";e.d(T,{BQ:()=>b,QC:()=>C,X_:()=>f,f1:()=>S,gm:()=>t});var s=e(3219);function t(D,_){if(0===D)return null;const r=(65535&D)>>>0,a=(4294901760&D)>>>16;return new f(0!==a?[l(r,_),l(a,_)]:[l(r,_)])}function l(D,_){const r=!!(2048&D),a=!!(256&D);return new C(2===_?a:r,!!(1024&D),!!(512&D),2===_?r:a,255&D)}class C{constructor(_,r,a,u,n){this.ctrlKey=_,this.shiftKey=r,this.altKey=a,this.metaKey=u,this.keyCode=n}equals(_){return this.ctrlKey===_.ctrlKey&&this.shiftKey===_.shiftKey&&this.altKey===_.altKey&&this.metaKey===_.metaKey&&this.keyCode===_.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new f([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class f{constructor(_){if(0===_.length)throw(0,s.b1)("parts");this.parts=_}}class b{constructor(_,r,a,u,n,d){this.ctrlKey=_,this.shiftKey=r,this.altKey=a,this.metaKey=u,this.keyLabel=n,this.keyAriaLabel=d}}class S{}},22211:(yt,T,e)=>{"use strict";e.d(T,{o:()=>s});class s{constructor(l){this.executor=l,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(l){this._error=l}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},21576:(yt,T,e)=>{"use strict";e.d(T,{B9:()=>u,F8:()=>n,JT:()=>g,Jz:()=>E,L6:()=>m,OF:()=>d,SL:()=>y,Wf:()=>a,XK:()=>v,dk:()=>_,dt:()=>w});var s=e(67005),t=e(61777);let C=null;function I(L){return C?.trackDisposable(L),L}function b(L){C?.markAsDisposed(L)}function S(L,x){C?.setParent(L,x)}function _(L){return C?.markAsSingleton(L),L}class r extends Error{constructor(x){super(`Encountered errors while disposing of store. Errors: [${x.join(", ")}]`),this.errors=x}}function a(L){return"function"==typeof L.dispose&&0===L.dispose.length}function u(L){if(t.$.is(L)){const x=[];for(const A of L)if(A)try{A.dispose()}catch(k){x.push(k)}if(1===x.length)throw x[0];if(x.length>1)throw new r(x);return Array.isArray(L)?[]:L}if(L)return L.dispose(),L}function n(...L){const x=d(()=>u(L));return function D(L,x){if(C)for(const A of L)C.setParent(A,x)}(L,x),x}function d(L){const x=I({dispose:(0,s.I)(()=>{b(x),L()})});return x}let y=(()=>{class L{constructor(){this._toDispose=new Set,this._isDisposed=!1,I(this)}dispose(){this._isDisposed||(b(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{u(this._toDispose.values())}finally{this._toDispose.clear()}}add(A){if(!A)return A;if(A===this)throw new Error("Cannot register a disposable on itself!");return S(A,this),this._isDisposed?L.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(A),A}}return L.DISABLE_DISPOSED_WARNING=!1,L})();class g{constructor(){this._store=new y,I(this),S(this._store,this)}dispose(){b(this),this._store.dispose()}_register(x){if(x===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(x)}}g.None=Object.freeze({dispose(){}});class v{constructor(){this._isDisposed=!1,I(this)}get value(){return this._isDisposed?void 0:this._value}set value(x){var A;this._isDisposed||x===this._value||(null===(A=this._value)||void 0===A||A.dispose(),x&&S(x,this),this._value=x)}clear(){this.value=void 0}dispose(){var x;this._isDisposed=!0,b(this),null===(x=this._value)||void 0===x||x.dispose(),this._value=void 0}clearAndLeak(){const x=this._value;return this._value=void 0,x&&S(x,null),x}}class m{constructor(x){this._disposable=x,this._counter=1}acquire(){return this._counter++,this}release(){return 0==--this._counter&&this._disposable.dispose(),this}}class w{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,I(this)}set(x){let A=x;return this.unset=()=>A=void 0,this.isset=()=>void 0!==A,this.dispose=()=>{A&&(A(),A=void 0,b(this))},this}}class E{constructor(x){this.object=x}dispose(){}}},54847:(yt,T,e)=>{"use strict";e.d(T,{S:()=>t});class s{constructor(C){this.element=C,this.next=s.Undefined,this.prev=s.Undefined}}s.Undefined=new s(void 0);class t{constructor(){this._first=s.Undefined,this._last=s.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===s.Undefined}clear(){let C=this._first;for(;C!==s.Undefined;){const f=C.next;C.prev=s.Undefined,C.next=s.Undefined,C=f}this._first=s.Undefined,this._last=s.Undefined,this._size=0}unshift(C){return this._insert(C,!1)}push(C){return this._insert(C,!0)}_insert(C,f){const I=new s(C);if(this._first===s.Undefined)this._first=I,this._last=I;else if(f){const S=this._last;this._last=I,I.prev=S,S.next=I}else{const S=this._first;this._first=I,I.next=S,S.prev=I}this._size+=1;let b=!1;return()=>{b||(b=!0,this._remove(I))}}shift(){if(this._first!==s.Undefined){const C=this._first.element;return this._remove(this._first),C}}pop(){if(this._last!==s.Undefined){const C=this._last.element;return this._remove(this._last),C}}_remove(C){if(C.prev!==s.Undefined&&C.next!==s.Undefined){const f=C.prev;f.next=C.next,C.next.prev=f}else C.prev===s.Undefined&&C.next===s.Undefined?(this._first=s.Undefined,this._last=s.Undefined):C.next===s.Undefined?(this._last=this._last.prev,this._last.next=s.Undefined):C.prev===s.Undefined&&(this._first=this._first.next,this._first.prev=s.Undefined);this._size-=1}*[Symbol.iterator](){let C=this._first;for(;C!==s.Undefined;)yield C.element,C=C.next}}},63312:(yt,T,e)=>{"use strict";e.d(T,{Id:()=>D,Y9:()=>r,z6:()=>u});var t,l,s=e(77697);class C{constructor(){this._value="",this._pos=0}reset(d){return this._value=d,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(d){return d.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class f{constructor(d=!0){this._caseSensitive=d}reset(d){return this._value=d,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let d=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!d)break;this._from++}else d=!1;return this}cmp(d){return this._caseSensitive?(0,s.TT)(d,this._value,0,d.length,this._from,this._to):(0,s.j_)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class I{constructor(d=!0,y=!0){this._splitOnBackslash=d,this._caseSensitive=y}reset(d){this._from=0,this._to=0,this._value=d,this._valueLen=d.length;for(let y=d.length-1;y>=0;y--,this._valueLen--){const g=this._value.charCodeAt(y);if(!(47===g||this._splitOnBackslash&&92===g))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let d=!0;for(;this._to<this._valueLen;this._to++){const y=this._value.charCodeAt(this._to);if(47===y||this._splitOnBackslash&&92===y){if(!d)break;this._from++}else d=!1}return this}cmp(d){return this._caseSensitive?(0,s.TT)(d,this._value,0,d.length,this._from,this._to):(0,s.j_)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class b{constructor(d,y){this._ignorePathCasing=d,this._ignoreQueryAndFragment=y,this._states=[],this._stateIdx=0}reset(d){return this._value=d,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new I(!1,!this._ignorePathCasing(d)),this._pathIterator.reset(d.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(d)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(d){if(1===this._states[this._stateIdx])return(0,s.zY)(d,this._value.scheme);if(2===this._states[this._stateIdx])return(0,s.zY)(d,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(d);if(4===this._states[this._stateIdx])return(0,s.qu)(d,this._value.query);if(5===this._states[this._stateIdx])return(0,s.qu)(d,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class S{constructor(){this.height=1}rotateLeft(){const d=this.right;return this.right=d.left,d.left=this,this.updateHeight(),d.updateHeight(),d}rotateRight(){const d=this.left;return this.left=d.right,d.right=this,this.updateHeight(),d.updateHeight(),d}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var d,y;return null!==(y=null===(d=this.left)||void 0===d?void 0:d.height)&&void 0!==y?y:0}get heightRight(){var d,y;return null!==(y=null===(d=this.right)||void 0===d?void 0:d.height)&&void 0!==y?y:0}}class D{constructor(d){this._iter=d}static forUris(d=(()=>!1),y=(()=>!1)){return new D(new b(d,y))}static forStrings(){return new D(new C)}static forConfigKeys(){return new D(new f)}clear(){this._root=void 0}set(d,y){const g=this._iter.reset(d);let v;this._root||(this._root=new S,this._root.segment=g.value());const m=[];for(v=this._root;;){const E=g.cmp(v.segment);if(E>0)v.left||(v.left=new S,v.left.segment=g.value()),m.push([-1,v]),v=v.left;else if(E<0)v.right||(v.right=new S,v.right.segment=g.value()),m.push([1,v]),v=v.right;else{if(!g.hasNext())break;g.next(),v.mid||(v.mid=new S,v.mid.segment=g.value()),m.push([0,v]),v=v.mid}}const w=v.value;v.value=y,v.key=d;for(let E=m.length-1;E>=0;E--){const L=m[E][1];L.updateHeight();const x=L.balanceFactor();if(x<-1||x>1){const A=m[E][0],k=m[E+1][0];if(1===A&&1===k)m[E][1]=L.rotateLeft();else if(-1===A&&-1===k)m[E][1]=L.rotateRight();else if(1===A&&-1===k)L.right=m[E+1][1]=m[E+1][1].rotateRight(),m[E][1]=L.rotateLeft();else{if(-1!==A||1!==k)throw new Error;L.left=m[E+1][1]=m[E+1][1].rotateLeft(),m[E][1]=L.rotateRight()}if(E>0)switch(m[E-1][0]){case-1:m[E-1][1].left=m[E][1];break;case 1:m[E-1][1].right=m[E][1];break;case 0:m[E-1][1].mid=m[E][1]}else this._root=m[0][1]}}return w}get(d){var y;return null===(y=this._getNode(d))||void 0===y?void 0:y.value}_getNode(d){const y=this._iter.reset(d);let g=this._root;for(;g;){const v=y.cmp(g.segment);if(v>0)g=g.left;else if(v<0)g=g.right;else{if(!y.hasNext())break;y.next(),g=g.mid}}return g}has(d){const y=this._getNode(d);return!(void 0===y?.value&&void 0===y?.mid)}delete(d){return this._delete(d,!1)}deleteSuperstr(d){return this._delete(d,!0)}_delete(d,y){var g;const v=this._iter.reset(d),m=[];let w=this._root;for(;w;){const E=v.cmp(w.segment);if(E>0)m.push([-1,w]),w=w.left;else if(E<0)m.push([1,w]),w=w.right;else{if(!v.hasNext())break;v.next(),m.push([0,w]),w=w.mid}}if(w){if(y?(w.left=void 0,w.mid=void 0,w.right=void 0,w.height=1):(w.key=void 0,w.value=void 0),!w.mid&&!w.value)if(w.left&&w.right){const E=this._min(w.right),{key:L,value:x,segment:A}=E;this._delete(E.key,!1),w.key=L,w.value=x,w.segment=A}else{const E=null!==(g=w.left)&&void 0!==g?g:w.right;if(m.length>0){const[L,x]=m[m.length-1];switch(L){case-1:x.left=E;break;case 0:x.mid=E;break;case 1:x.right=E}}else this._root=E}for(let E=m.length-1;E>=0;E--){const L=m[E][1];L.updateHeight();const x=L.balanceFactor();if(x>1?(L.right.balanceFactor()>=0||(L.right=L.right.rotateRight()),m[E][1]=L.rotateLeft()):x<-1&&(L.left.balanceFactor()<=0||(L.left=L.left.rotateLeft()),m[E][1]=L.rotateRight()),E>0)switch(m[E-1][0]){case-1:m[E-1][1].left=m[E][1];break;case 1:m[E-1][1].right=m[E][1];break;case 0:m[E-1][1].mid=m[E][1]}else this._root=m[0][1]}}}_min(d){for(;d.left;)d=d.left;return d}findSubstr(d){const y=this._iter.reset(d);let v,g=this._root;for(;g;){const m=y.cmp(g.segment);if(m>0)g=g.left;else if(m<0)g=g.right;else{if(!y.hasNext())break;y.next(),v=g.value||v,g=g.mid}}return g&&g.value||v}findSuperstr(d){const y=this._iter.reset(d);let g=this._root;for(;g;){const v=y.cmp(g.segment);if(v>0)g=g.left;else if(v<0)g=g.right;else{if(!y.hasNext())return g.mid?this._entries(g.mid):void 0;y.next(),g=g.mid}}}forEach(d){for(const[y,g]of this)d(g,y)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(d){const y=[];return this._dfsEntries(d,y),y[Symbol.iterator]()}_dfsEntries(d,y){d&&(d.left&&this._dfsEntries(d.left,y),d.value&&y.push([d.key,d.value]),d.mid&&this._dfsEntries(d.mid,y),d.right&&this._dfsEntries(d.right,y))}}class _{constructor(d,y){this.uri=d,this.value=y}}let r=(()=>{class n{constructor(y,g){this[t]="ResourceMap",y instanceof n?(this.map=new Map(y.map),this.toKey=g??n.defaultToKey):(this.map=new Map,this.toKey=y??n.defaultToKey)}set(y,g){return this.map.set(this.toKey(y),new _(y,g)),this}get(y){var g;return null===(g=this.map.get(this.toKey(y)))||void 0===g?void 0:g.value}has(y){return this.map.has(this.toKey(y))}get size(){return this.map.size}clear(){this.map.clear()}delete(y){return this.map.delete(this.toKey(y))}forEach(y,g){typeof g<"u"&&(y=y.bind(g));for(const[v,m]of this.map)y(m.value,m.uri,this)}*values(){for(const y of this.map.values())yield y.value}*keys(){for(const y of this.map.values())yield y.uri}*entries(){for(const y of this.map.values())yield[y.uri,y.value]}*[(t=Symbol.toStringTag,Symbol.iterator)](){for(const[,y]of this.map)yield[y.uri,y.value]}}return n.defaultToKey=d=>d.toString(),n})();class a{constructor(){this[l]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var d;return null===(d=this._head)||void 0===d?void 0:d.value}get last(){var d;return null===(d=this._tail)||void 0===d?void 0:d.value}has(d){return this._map.has(d)}get(d,y=0){const g=this._map.get(d);if(g)return 0!==y&&this.touch(g,y),g.value}set(d,y,g=0){let v=this._map.get(d);if(v)v.value=y,0!==g&&this.touch(v,g);else{switch(v={key:d,value:y,next:void 0,previous:void 0},g){case 0:case 2:default:this.addItemLast(v);break;case 1:this.addItemFirst(v)}this._map.set(d,v),this._size++}return this}delete(d){return!!this.remove(d)}remove(d){const y=this._map.get(d);if(y)return this._map.delete(d),this.removeItem(y),this._size--,y.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const d=this._head;return this._map.delete(d.key),this.removeItem(d),this._size--,d.value}forEach(d,y){const g=this._state;let v=this._head;for(;v;){if(y?d.bind(y)(v.value,v.key,this):d(v.value,v.key,this),this._state!==g)throw new Error("LinkedMap got modified during iteration.");v=v.next}}keys(){const d=this,y=this._state;let g=this._head;const v={[Symbol.iterator]:()=>v,next(){if(d._state!==y)throw new Error("LinkedMap got modified during iteration.");if(g){const m={value:g.key,done:!1};return g=g.next,m}return{value:void 0,done:!0}}};return v}values(){const d=this,y=this._state;let g=this._head;const v={[Symbol.iterator]:()=>v,next(){if(d._state!==y)throw new Error("LinkedMap got modified during iteration.");if(g){const m={value:g.value,done:!1};return g=g.next,m}return{value:void 0,done:!0}}};return v}entries(){const d=this,y=this._state;let g=this._head;const v={[Symbol.iterator]:()=>v,next(){if(d._state!==y)throw new Error("LinkedMap got modified during iteration.");if(g){const m={value:[g.key,g.value],done:!1};return g=g.next,m}return{value:void 0,done:!0}}};return v}[(l=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(d){if(d>=this.size)return;if(0===d)return void this.clear();let y=this._head,g=this.size;for(;y&&g>d;)this._map.delete(y.key),y=y.next,g--;this._head=y,this._size=g,y&&(y.previous=void 0),this._state++}addItemFirst(d){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");d.next=this._head,this._head.previous=d}else this._tail=d;this._head=d,this._state++}addItemLast(d){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");d.previous=this._tail,this._tail.next=d}else this._head=d;this._tail=d,this._state++}removeItem(d){if(d===this._head&&d===this._tail)this._head=void 0,this._tail=void 0;else if(d===this._head){if(!d.next)throw new Error("Invalid list");d.next.previous=void 0,this._head=d.next}else if(d===this._tail){if(!d.previous)throw new Error("Invalid list");d.previous.next=void 0,this._tail=d.previous}else{const y=d.next,g=d.previous;if(!y||!g)throw new Error("Invalid list");y.previous=g,g.next=y}d.next=void 0,d.previous=void 0,this._state++}touch(d,y){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===y||2===y)if(1===y){if(d===this._head)return;const g=d.next,v=d.previous;d===this._tail?(v.next=void 0,this._tail=v):(g.previous=v,v.next=g),d.previous=void 0,d.next=this._head,this._head.previous=d,this._head=d,this._state++}else if(2===y){if(d===this._tail)return;const g=d.next,v=d.previous;d===this._head?(g.previous=void 0,this._head=g):(g.previous=v,v.next=g),d.next=void 0,d.previous=this._tail,this._tail.next=d,this._tail=d,this._state++}}toJSON(){const d=[];return this.forEach((y,g)=>{d.push([g,y])}),d}fromJSON(d){this.clear();for(const[y,g]of d)this.set(y,g)}}class u extends a{constructor(d,y=1){super(),this._limit=d,this._ratio=Math.min(Math.max(0,y),1)}get limit(){return this._limit}set limit(d){this._limit=d,this.checkTrim()}get(d,y=2){return super.get(d,y)}peek(d){return super.get(d,0)}set(d,y){return super.set(d,y,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},42766:(yt,T,e)=>{"use strict";e.d(T,{T:()=>t});let s={};!function(){function l(C,f){f(s)}var C,f;l.amd=!0,C=this,f=function(C){function f(re,pe){for(var ge=0;ge<pe.length;ge++){var de=pe[ge];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(re,de.key,de)}}function S(re,pe){(null==pe||pe>re.length)&&(pe=re.length);for(var ge=0,de=new Array(pe);ge<pe;ge++)de[ge]=re[ge];return de}function D(re,pe){var ge=typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(ge)return(ge=ge.call(re)).next.bind(ge);if(Array.isArray(re)||(ge=function b(re,pe){if(re){if("string"==typeof re)return S(re,pe);var ge=Object.prototype.toString.call(re).slice(8,-1);if("Object"===ge&&re.constructor&&(ge=re.constructor.name),"Map"===ge||"Set"===ge)return Array.from(re);if("Arguments"===ge||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return S(re,pe)}}(re))||pe&&re&&"number"==typeof re.length){ge&&(re=ge);var de=0;return function(){return de>=re.length?{done:!0}:{done:!1,value:re[de++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}C.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var a=/[&<>"']/,u=/[&<>"']/g,n=/[<>"']|&(?!#?\w+;)/,d=/[<>"']|&(?!#?\w+;)/g,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(pe){return y[pe]};function v(re,pe){if(pe){if(a.test(re))return re.replace(u,g)}else if(n.test(re))return re.replace(d,g);return re}var m=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function w(re){return re.replace(m,function(pe,ge){return"colon"===(ge=ge.toLowerCase())?":":"#"===ge.charAt(0)?"x"===ge.charAt(1)?String.fromCharCode(parseInt(ge.substring(2),16)):String.fromCharCode(+ge.substring(1)):""})}var E=/(^|[^\[])\^/g;function L(re,pe){re="string"==typeof re?re:re.source,pe=pe||"";var ge={replace:function(Q,ye){return ye=(ye=ye.source||ye).replace(E,"$1"),re=re.replace(Q,ye),ge},getRegex:function(){return new RegExp(re,pe)}};return ge}var x=/[^\w:]/g,A=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function k(re,pe,ge){if(re){var de;try{de=decodeURIComponent(w(ge)).replace(x,"").toLowerCase()}catch{return null}if(0===de.indexOf("javascript:")||0===de.indexOf("vbscript:")||0===de.indexOf("data:"))return null}pe&&!A.test(ge)&&(ge=function O(re,pe){W[" "+re]||(W[" "+re]=H.test(re)?re+"/":q(re,"/",!0));var ge=-1===(re=W[" "+re]).indexOf(":");return"//"===pe.substring(0,2)?ge?pe:re.replace(z,"$1")+pe:"/"===pe.charAt(0)?ge?pe:re.replace(N,"$1")+pe:re+pe}(pe,ge));try{ge=encodeURI(ge).replace(/%25/g,"%")}catch{return null}return ge}var W={},H=/^[^:]+:\/*[^/]*$/,z=/^([^:]+:)[\s\S]*$/,N=/^([^:]+:\/*[^/]*)[\s\S]*$/,K={exec:function(){}};function $(re){for(var ge,de,pe=1;pe<arguments.length;pe++)for(de in ge=arguments[pe])Object.prototype.hasOwnProperty.call(ge,de)&&(re[de]=ge[de]);return re}function j(re,pe){var de=re.replace(/\|/g,function(ye,Ae,ft){for(var dt=!1,it=Ae;--it>=0&&"\\"===ft[it];)dt=!dt;return dt?"|":" |"}).split(/ \|/),Q=0;if(de[0].trim()||de.shift(),de.length>0&&!de[de.length-1].trim()&&de.pop(),de.length>pe)de.splice(pe);else for(;de.length<pe;)de.push("");for(;Q<de.length;Q++)de[Q]=de[Q].trim().replace(/\\\|/g,"|");return de}function q(re,pe,ge){var de=re.length;if(0===de)return"";for(var Q=0;Q<de;){var ye=re.charAt(de-Q-1);if(ye!==pe||ge){if(ye===pe||!ge)break;Q++}else Q++}return re.slice(0,de-Q)}function Z(re){re&&re.sanitize&&!re.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function J(re,pe){if(pe<1)return"";for(var ge="";pe>1;)1&pe&&(ge+=re),pe>>=1,re+=re;return ge+re}function Ce(re,pe,ge,de){var Q=pe.href,ye=pe.title?v(pe.title):null,Ae=re[1].replace(/\\([\[\]])/g,"$1");if("!"!==re[0].charAt(0)){de.state.inLink=!0;var ft={type:"link",raw:ge,href:Q,title:ye,text:Ae,tokens:de.inlineTokens(Ae,[])};return de.state.inLink=!1,ft}return{type:"image",raw:ge,href:Q,title:ye,text:v(Ae)}}var Ie=function(){function re(ge){this.options=ge||C.defaults}var pe=re.prototype;return pe.space=function(de){var Q=this.rules.block.newline.exec(de);if(Q&&Q[0].length>0)return{type:"space",raw:Q[0]}},pe.code=function(de){var Q=this.rules.block.code.exec(de);if(Q){var ye=Q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Q[0],codeBlockStyle:"indented",text:this.options.pedantic?ye:q(ye,"\n")}}},pe.fences=function(de){var Q=this.rules.block.fences.exec(de);if(Q){var ye=Q[0],Ae=function Se(re,pe){var ge=re.match(/^(\s+)(?:```)/);if(null===ge)return pe;var de=ge[1];return pe.split("\n").map(function(Q){var ye=Q.match(/^\s+/);return null===ye?Q:ye[0].length>=de.length?Q.slice(de.length):Q}).join("\n")}(ye,Q[3]||"");return{type:"code",raw:ye,lang:Q[2]?Q[2].trim():Q[2],text:Ae}}},pe.heading=function(de){var Q=this.rules.block.heading.exec(de);if(Q){var ye=Q[2].trim();if(/#$/.test(ye)){var Ae=q(ye,"#");(this.options.pedantic||!Ae||/ $/.test(Ae))&&(ye=Ae.trim())}var ft={type:"heading",raw:Q[0],depth:Q[1].length,text:ye,tokens:[]};return this.lexer.inline(ft.text,ft.tokens),ft}},pe.hr=function(de){var Q=this.rules.block.hr.exec(de);if(Q)return{type:"hr",raw:Q[0]}},pe.blockquote=function(de){var Q=this.rules.block.blockquote.exec(de);if(Q){var ye=Q[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Q[0],tokens:this.lexer.blockTokens(ye,[]),text:ye}}},pe.list=function(de){var Q=this.rules.block.list.exec(de);if(Q){var ye,Ae,ft,dt,it,et,st,St,mt,bt,Bt,Lt,Ye=Q[1].trim(),Tt=Ye.length>1,qt={type:"list",raw:"",ordered:Tt,start:Tt?+Ye.slice(0,-1):"",loose:!1,items:[]};Ye=Tt?"\\d{1,9}\\"+Ye.slice(-1):"\\"+Ye,this.options.pedantic&&(Ye=Tt?Ye:"[*+-]");for(var Ot=new RegExp("^( {0,3}"+Ye+")((?:[\t ][^\\n]*)?(?:\\n|$))");de&&(Lt=!1,(Q=Ot.exec(de))&&!this.rules.block.hr.test(de));){if(de=de.substring((ye=Q[0]).length),St=Q[2].split("\n",1)[0],mt=de.split("\n",1)[0],this.options.pedantic?(dt=2,Bt=St.trimLeft()):(dt=Q[2].search(/[^ ]/),Bt=St.slice(dt=dt>4?1:dt),dt+=Q[1].length),et=!1,!St&&/^ *$/.test(mt)&&(ye+=mt+"\n",de=de.substring(mt.length+1),Lt=!0),!Lt)for(var Ft=new RegExp("^ {0,"+Math.min(3,dt-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),rt=new RegExp("^ {0,"+Math.min(3,dt-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");de&&(St=bt=de.split("\n",1)[0],this.options.pedantic&&(St=St.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Ft.test(St)&&!rt.test(de));){if(St.search(/[^ ]/)>=dt||!St.trim())Bt+="\n"+St.slice(dt);else{if(et)break;Bt+="\n"+St}!et&&!St.trim()&&(et=!0),ye+=bt+"\n",de=de.substring(bt.length+1)}qt.loose||(st?qt.loose=!0:/\n *\n *$/.test(ye)&&(st=!0)),this.options.gfm&&(Ae=/^\[[ xX]\] /.exec(Bt))&&(ft="[ ] "!==Ae[0],Bt=Bt.replace(/^\[[ xX]\] +/,"")),qt.items.push({type:"list_item",raw:ye,task:!!Ae,checked:ft,loose:!1,text:Bt}),qt.raw+=ye}qt.items[qt.items.length-1].raw=ye.trimRight(),qt.items[qt.items.length-1].text=Bt.trimRight(),qt.raw=qt.raw.trimRight();var Le=qt.items.length;for(it=0;it<Le;it++){this.lexer.state.top=!1,qt.items[it].tokens=this.lexer.blockTokens(qt.items[it].text,[]);var ie=qt.items[it].tokens.filter(function(oe){return"space"===oe.type}),te=ie.every(function(oe){for(var De,nt=0,He=D(oe.raw.split(""));!(De=He()).done;)if("\n"===De.value&&(nt+=1),nt>1)return!0;return!1});!qt.loose&&ie.length&&te&&(qt.loose=!0,qt.items[it].loose=!0)}return qt}},pe.html=function(de){var Q=this.rules.block.html.exec(de);if(Q){var ye={type:"html",raw:Q[0],pre:!this.options.sanitizer&&("pre"===Q[1]||"script"===Q[1]||"style"===Q[1]),text:Q[0]};return this.options.sanitize&&(ye.type="paragraph",ye.text=this.options.sanitizer?this.options.sanitizer(Q[0]):v(Q[0]),ye.tokens=[],this.lexer.inline(ye.text,ye.tokens)),ye}},pe.def=function(de){var Q=this.rules.block.def.exec(de);if(Q)return Q[3]&&(Q[3]=Q[3].substring(1,Q[3].length-1)),{type:"def",tag:Q[1].toLowerCase().replace(/\s+/g," "),raw:Q[0],href:Q[2],title:Q[3]}},pe.table=function(de){var Q=this.rules.block.table.exec(de);if(Q){var ye={type:"table",header:j(Q[1]).map(function(st){return{text:st}}),align:Q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Q[3]&&Q[3].trim()?Q[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(ye.header.length===ye.align.length){ye.raw=Q[0];var ft,dt,it,et,Ae=ye.align.length;for(ft=0;ft<Ae;ft++)ye.align[ft]=/^ *-+: *$/.test(ye.align[ft])?"right":/^ *:-+: *$/.test(ye.align[ft])?"center":/^ *:-+ *$/.test(ye.align[ft])?"left":null;for(Ae=ye.rows.length,ft=0;ft<Ae;ft++)ye.rows[ft]=j(ye.rows[ft],ye.header.length).map(function(st){return{text:st}});for(Ae=ye.header.length,dt=0;dt<Ae;dt++)ye.header[dt].tokens=[],this.lexer.inline(ye.header[dt].text,ye.header[dt].tokens);for(Ae=ye.rows.length,dt=0;dt<Ae;dt++)for(et=ye.rows[dt],it=0;it<et.length;it++)et[it].tokens=[],this.lexer.inline(et[it].text,et[it].tokens);return ye}}},pe.lheading=function(de){var Q=this.rules.block.lheading.exec(de);if(Q){var ye={type:"heading",raw:Q[0],depth:"="===Q[2].charAt(0)?1:2,text:Q[1],tokens:[]};return this.lexer.inline(ye.text,ye.tokens),ye}},pe.paragraph=function(de){var Q=this.rules.block.paragraph.exec(de);if(Q){var ye={type:"paragraph",raw:Q[0],text:"\n"===Q[1].charAt(Q[1].length-1)?Q[1].slice(0,-1):Q[1],tokens:[]};return this.lexer.inline(ye.text,ye.tokens),ye}},pe.text=function(de){var Q=this.rules.block.text.exec(de);if(Q){var ye={type:"text",raw:Q[0],text:Q[0],tokens:[]};return this.lexer.inline(ye.text,ye.tokens),ye}},pe.escape=function(de){var Q=this.rules.inline.escape.exec(de);if(Q)return{type:"escape",raw:Q[0],text:v(Q[1])}},pe.tag=function(de){var Q=this.rules.inline.tag.exec(de);if(Q)return!this.lexer.state.inLink&&/^<a /i.test(Q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Q[0]):v(Q[0]):Q[0]}},pe.link=function(de){var Q=this.rules.inline.link.exec(de);if(Q){var ye=Q[2].trim();if(!this.options.pedantic&&/^</.test(ye)){if(!/>$/.test(ye))return;var Ae=q(ye.slice(0,-1),"\\");if((ye.length-Ae.length)%2==0)return}else{var ft=function R(re,pe){if(-1===re.indexOf(pe[1]))return-1;for(var ge=re.length,de=0,Q=0;Q<ge;Q++)if("\\"===re[Q])Q++;else if(re[Q]===pe[0])de++;else if(re[Q]===pe[1]&&--de<0)return Q;return-1}(Q[2],"()");if(ft>-1){var it=(0===Q[0].indexOf("!")?5:4)+Q[1].length+ft;Q[2]=Q[2].substring(0,ft),Q[0]=Q[0].substring(0,it).trim(),Q[3]=""}}var et=Q[2],st="";if(this.options.pedantic){var St=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(et);St&&(et=St[1],st=St[3])}else st=Q[3]?Q[3].slice(1,-1):"";return et=et.trim(),/^</.test(et)&&(et=this.options.pedantic&&!/>$/.test(ye)?et.slice(1):et.slice(1,-1)),Ce(Q,{href:et&&et.replace(this.rules.inline._escapes,"$1"),title:st&&st.replace(this.rules.inline._escapes,"$1")},Q[0],this.lexer)}},pe.reflink=function(de,Q){var ye;if((ye=this.rules.inline.reflink.exec(de))||(ye=this.rules.inline.nolink.exec(de))){var Ae=(ye[2]||ye[1]).replace(/\s+/g," ");if(!(Ae=Q[Ae.toLowerCase()])||!Ae.href){var ft=ye[0].charAt(0);return{type:"text",raw:ft,text:ft}}return Ce(ye,Ae,ye[0],this.lexer)}},pe.emStrong=function(de,Q,ye){void 0===ye&&(ye="");var Ae=this.rules.inline.emStrong.lDelim.exec(de);if(Ae&&(!Ae[3]||!ye.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ft=Ae[1]||Ae[2]||"";if(!ft||ft&&(""===ye||this.rules.inline.punctuation.exec(ye))){var it,et,dt=Ae[0].length-1,st=dt,St=0,mt="*"===Ae[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(mt.lastIndex=0,Q=Q.slice(-1*de.length+dt);null!=(Ae=mt.exec(Q));)if(it=Ae[1]||Ae[2]||Ae[3]||Ae[4]||Ae[5]||Ae[6]){if(et=it.length,Ae[3]||Ae[4]){st+=et;continue}if((Ae[5]||Ae[6])&&dt%3&&!((dt+et)%3)){St+=et;continue}if(!((st-=et)>0)){if(et=Math.min(et,et+st+St),Math.min(dt,et)%2){var bt=de.slice(1,dt+Ae.index+et);return{type:"em",raw:de.slice(0,dt+Ae.index+et+1),text:bt,tokens:this.lexer.inlineTokens(bt,[])}}var Bt=de.slice(2,dt+Ae.index+et-1);return{type:"strong",raw:de.slice(0,dt+Ae.index+et+1),text:Bt,tokens:this.lexer.inlineTokens(Bt,[])}}}}}},pe.codespan=function(de){var Q=this.rules.inline.code.exec(de);if(Q){var ye=Q[2].replace(/\n/g," "),Ae=/[^ ]/.test(ye),ft=/^ /.test(ye)&&/ $/.test(ye);return Ae&&ft&&(ye=ye.substring(1,ye.length-1)),ye=v(ye,!0),{type:"codespan",raw:Q[0],text:ye}}},pe.br=function(de){var Q=this.rules.inline.br.exec(de);if(Q)return{type:"br",raw:Q[0]}},pe.del=function(de){var Q=this.rules.inline.del.exec(de);if(Q)return{type:"del",raw:Q[0],text:Q[2],tokens:this.lexer.inlineTokens(Q[2],[])}},pe.autolink=function(de,Q){var Ae,ft,ye=this.rules.inline.autolink.exec(de);if(ye)return ft="@"===ye[2]?"mailto:"+(Ae=v(this.options.mangle?Q(ye[1]):ye[1])):Ae=v(ye[1]),{type:"link",raw:ye[0],text:Ae,href:ft,tokens:[{type:"text",raw:Ae,text:Ae}]}},pe.url=function(de,Q){var ye;if(ye=this.rules.inline.url.exec(de)){var Ae,ft;if("@"===ye[2])ft="mailto:"+(Ae=v(this.options.mangle?Q(ye[0]):ye[0]));else{var dt;do{dt=ye[0],ye[0]=this.rules.inline._backpedal.exec(ye[0])[0]}while(dt!==ye[0]);Ae=v(ye[0]),ft="www."===ye[1]?"http://"+Ae:Ae}return{type:"link",raw:ye[0],text:Ae,href:ft,tokens:[{type:"text",raw:Ae,text:Ae}]}}},pe.inlineText=function(de,Q){var Ae,ye=this.rules.inline.text.exec(de);if(ye)return Ae=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ye[0]):v(ye[0]):ye[0]:v(this.options.smartypants?Q(ye[0]):ye[0]),{type:"text",raw:ye[0],text:Ae}},re}(),xe={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:K,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};xe.def=L(xe.def).replace("label",xe._label).replace("title",xe._title).getRegex(),xe.bullet=/(?:[*+-]|\d{1,9}[.)])/,xe.listItemStart=L(/^( *)(bull) */).replace("bull",xe.bullet).getRegex(),xe.list=L(xe.list).replace(/bull/g,xe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+xe.def.source+")").getRegex(),xe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,xe.html=L(xe.html,"i").replace("comment",xe._comment).replace("tag",xe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xe.paragraph=L(xe._paragraph).replace("hr",xe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xe._tag).getRegex(),xe.blockquote=L(xe.blockquote).replace("paragraph",xe.paragraph).getRegex(),xe.normal=$({},xe),xe.gfm=$({},xe.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),xe.gfm.table=L(xe.gfm.table).replace("hr",xe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xe._tag).getRegex(),xe.gfm.paragraph=L(xe._paragraph).replace("hr",xe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",xe.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xe._tag).getRegex(),xe.pedantic=$({},xe.normal,{html:L("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",xe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:K,paragraph:L(xe.normal._paragraph).replace("hr",xe.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",xe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Me={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:K,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:K,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Oe(re){return re.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function se(re){var ge,de,pe="",Q=re.length;for(ge=0;ge<Q;ge++)de=re.charCodeAt(ge),Math.random()>.5&&(de="x"+de.toString(16)),pe+="&#"+de+";";return pe}Me._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Me.punctuation=L(Me.punctuation).replace(/punctuation/g,Me._punctuation).getRegex(),Me.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Me.escapedEmSt=/\\\*|\\_/g,Me._comment=L(xe._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Me.emStrong.lDelim=L(Me.emStrong.lDelim).replace(/punct/g,Me._punctuation).getRegex(),Me.emStrong.rDelimAst=L(Me.emStrong.rDelimAst,"g").replace(/punct/g,Me._punctuation).getRegex(),Me.emStrong.rDelimUnd=L(Me.emStrong.rDelimUnd,"g").replace(/punct/g,Me._punctuation).getRegex(),Me._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Me._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Me._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Me.autolink=L(Me.autolink).replace("scheme",Me._scheme).replace("email",Me._email).getRegex(),Me._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Me.tag=L(Me.tag).replace("comment",Me._comment).replace("attribute",Me._attribute).getRegex(),Me._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Me._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Me._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Me.link=L(Me.link).replace("label",Me._label).replace("href",Me._href).replace("title",Me._title).getRegex(),Me.reflink=L(Me.reflink).replace("label",Me._label).replace("ref",xe._label).getRegex(),Me.nolink=L(Me.nolink).replace("ref",xe._label).getRegex(),Me.reflinkSearch=L(Me.reflinkSearch,"g").replace("reflink",Me.reflink).replace("nolink",Me.nolink).getRegex(),Me.normal=$({},Me),Me.pedantic=$({},Me.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:L(/^!?\[(label)\]\((.*?)\)/).replace("label",Me._label).getRegex(),reflink:L(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Me._label).getRegex()}),Me.gfm=$({},Me.normal,{escape:L(Me.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Me.gfm.url=L(Me.gfm.url,"i").replace("email",Me.gfm._extended_email).getRegex(),Me.breaks=$({},Me.gfm,{br:L(Me.br).replace("{2,}","*").getRegex(),text:L(Me.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ce=function(){function re(ge){this.tokens=[],this.tokens.links=Object.create(null),this.options=ge||C.defaults,this.options.tokenizer=this.options.tokenizer||new Ie,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var de={block:xe.normal,inline:Me.normal};this.options.pedantic?(de.block=xe.pedantic,de.inline=Me.pedantic):this.options.gfm&&(de.block=xe.gfm,de.inline=this.options.breaks?Me.breaks:Me.gfm),this.tokenizer.rules=de}re.lex=function(de,Q){return new re(Q).lex(de)},re.lexInline=function(de,Q){return new re(Q).inlineTokens(de)};var pe=re.prototype;return pe.lex=function(de){de=de.replace(/\r\n|\r/g,"\n"),this.blockTokens(de,this.tokens);for(var Q;Q=this.inlineQueue.shift();)this.inlineTokens(Q.src,Q.tokens);return this.tokens},pe.blockTokens=function(de,Q){var Ae,ft,dt,it,ye=this;for(void 0===Q&&(Q=[]),de=this.options.pedantic?de.replace(/\t/g,"    ").replace(/^ +$/gm,""):de.replace(/^( *)(\t+)/gm,function(st,St,mt){return St+"    ".repeat(mt.length)});de;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(st){return!!(Ae=st.call({lexer:ye},de,Q))&&(de=de.substring(Ae.raw.length),Q.push(Ae),!0)}))){if(Ae=this.tokenizer.space(de)){de=de.substring(Ae.raw.length),1===Ae.raw.length&&Q.length>0?Q[Q.length-1].raw+="\n":Q.push(Ae);continue}if(Ae=this.tokenizer.code(de)){de=de.substring(Ae.raw.length),!(ft=Q[Q.length-1])||"paragraph"!==ft.type&&"text"!==ft.type?Q.push(Ae):(ft.raw+="\n"+Ae.raw,ft.text+="\n"+Ae.text,this.inlineQueue[this.inlineQueue.length-1].src=ft.text);continue}if(Ae=this.tokenizer.fences(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.heading(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.hr(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.blockquote(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.list(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.html(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.def(de)){de=de.substring(Ae.raw.length),!(ft=Q[Q.length-1])||"paragraph"!==ft.type&&"text"!==ft.type?this.tokens.links[Ae.tag]||(this.tokens.links[Ae.tag]={href:Ae.href,title:Ae.title}):(ft.raw+="\n"+Ae.raw,ft.text+="\n"+Ae.raw,this.inlineQueue[this.inlineQueue.length-1].src=ft.text);continue}if(Ae=this.tokenizer.table(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.lheading(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(dt=de,this.options.extensions&&this.options.extensions.startBlock&&function(){var st=1/0,St=de.slice(1),mt=void 0;ye.options.extensions.startBlock.forEach(function(bt){"number"==typeof(mt=bt.call({lexer:this},St))&&mt>=0&&(st=Math.min(st,mt))}),st<1/0&&st>=0&&(dt=de.substring(0,st+1))}(),this.state.top&&(Ae=this.tokenizer.paragraph(dt))){ft=Q[Q.length-1],it&&"paragraph"===ft.type?(ft.raw+="\n"+Ae.raw,ft.text+="\n"+Ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ft.text):Q.push(Ae),it=dt.length!==de.length,de=de.substring(Ae.raw.length);continue}if(Ae=this.tokenizer.text(de)){de=de.substring(Ae.raw.length),(ft=Q[Q.length-1])&&"text"===ft.type?(ft.raw+="\n"+Ae.raw,ft.text+="\n"+Ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ft.text):Q.push(Ae);continue}if(de){var et="Infinite loop on byte: "+de.charCodeAt(0);if(this.options.silent){console.error(et);break}throw new Error(et)}}return this.state.top=!0,Q},pe.inline=function(de,Q){this.inlineQueue.push({src:de,tokens:Q})},pe.inlineTokens=function(de,Q){var ye=this;void 0===Q&&(Q=[]);var Ae,ft,dt,et,st,St,it=de;if(this.tokens.links){var mt=Object.keys(this.tokens.links);if(mt.length>0)for(;null!=(et=this.tokenizer.rules.inline.reflinkSearch.exec(it));)mt.includes(et[0].slice(et[0].lastIndexOf("[")+1,-1))&&(it=it.slice(0,et.index)+"["+J("a",et[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(et=this.tokenizer.rules.inline.blockSkip.exec(it));)it=it.slice(0,et.index)+"["+J("a",et[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(et=this.tokenizer.rules.inline.escapedEmSt.exec(it));)it=it.slice(0,et.index)+"++"+it.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;de;)if(st||(St=""),st=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Bt){return!!(Ae=Bt.call({lexer:ye},de,Q))&&(de=de.substring(Ae.raw.length),Q.push(Ae),!0)}))){if(Ae=this.tokenizer.escape(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.tag(de)){de=de.substring(Ae.raw.length),(ft=Q[Q.length-1])&&"text"===Ae.type&&"text"===ft.type?(ft.raw+=Ae.raw,ft.text+=Ae.text):Q.push(Ae);continue}if(Ae=this.tokenizer.link(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.reflink(de,this.tokens.links)){de=de.substring(Ae.raw.length),(ft=Q[Q.length-1])&&"text"===Ae.type&&"text"===ft.type?(ft.raw+=Ae.raw,ft.text+=Ae.text):Q.push(Ae);continue}if(Ae=this.tokenizer.emStrong(de,it,St)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.codespan(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.br(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.del(de)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.autolink(de,se)){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(!this.state.inLink&&(Ae=this.tokenizer.url(de,se))){de=de.substring(Ae.raw.length),Q.push(Ae);continue}if(dt=de,this.options.extensions&&this.options.extensions.startInline&&function(){var Bt=1/0,Lt=de.slice(1),Ye=void 0;ye.options.extensions.startInline.forEach(function(Tt){"number"==typeof(Ye=Tt.call({lexer:this},Lt))&&Ye>=0&&(Bt=Math.min(Bt,Ye))}),Bt<1/0&&Bt>=0&&(dt=de.substring(0,Bt+1))}(),Ae=this.tokenizer.inlineText(dt,Oe)){de=de.substring(Ae.raw.length),"_"!==Ae.raw.slice(-1)&&(St=Ae.raw.slice(-1)),st=!0,(ft=Q[Q.length-1])&&"text"===ft.type?(ft.raw+=Ae.raw,ft.text+=Ae.text):Q.push(Ae);continue}if(de){var bt="Infinite loop on byte: "+de.charCodeAt(0);if(this.options.silent){console.error(bt);break}throw new Error(bt)}}return Q},function I(re,pe,ge){pe&&f(re.prototype,pe),ge&&f(re,ge),Object.defineProperty(re,"prototype",{writable:!1})}(re,null,[{key:"rules",get:function(){return{block:xe,inline:Me}}}]),re}(),Ee=function(){function re(ge){this.options=ge||C.defaults}var pe=re.prototype;return pe.code=function(de,Q,ye){var Ae=(Q||"").match(/\S*/)[0];if(this.options.highlight){var ft=this.options.highlight(de,Ae);null!=ft&&ft!==de&&(ye=!0,de=ft)}return de=de.replace(/\n$/,"")+"\n",Ae?'<pre><code class="'+this.options.langPrefix+v(Ae,!0)+'">'+(ye?de:v(de,!0))+"</code></pre>\n":"<pre><code>"+(ye?de:v(de,!0))+"</code></pre>\n"},pe.blockquote=function(de){return"<blockquote>\n"+de+"</blockquote>\n"},pe.html=function(de){return de},pe.heading=function(de,Q,ye,Ae){return this.options.headerIds?"<h"+Q+' id="'+(this.options.headerPrefix+Ae.slug(ye))+'">'+de+"</h"+Q+">\n":"<h"+Q+">"+de+"</h"+Q+">\n"},pe.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},pe.list=function(de,Q,ye){var Ae=Q?"ol":"ul";return"<"+Ae+(Q&&1!==ye?' start="'+ye+'"':"")+">\n"+de+"</"+Ae+">\n"},pe.listitem=function(de){return"<li>"+de+"</li>\n"},pe.checkbox=function(de){return"<input "+(de?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},pe.paragraph=function(de){return"<p>"+de+"</p>\n"},pe.table=function(de,Q){return Q&&(Q="<tbody>"+Q+"</tbody>"),"<table>\n<thead>\n"+de+"</thead>\n"+Q+"</table>\n"},pe.tablerow=function(de){return"<tr>\n"+de+"</tr>\n"},pe.tablecell=function(de,Q){var ye=Q.header?"th":"td";return(Q.align?"<"+ye+' align="'+Q.align+'">':"<"+ye+">")+de+"</"+ye+">\n"},pe.strong=function(de){return"<strong>"+de+"</strong>"},pe.em=function(de){return"<em>"+de+"</em>"},pe.codespan=function(de){return"<code>"+de+"</code>"},pe.br=function(){return this.options.xhtml?"<br/>":"<br>"},pe.del=function(de){return"<del>"+de+"</del>"},pe.link=function(de,Q,ye){if(null===(de=k(this.options.sanitize,this.options.baseUrl,de)))return ye;var Ae='<a href="'+v(de)+'"';return Q&&(Ae+=' title="'+Q+'"'),Ae+">"+ye+"</a>"},pe.image=function(de,Q,ye){if(null===(de=k(this.options.sanitize,this.options.baseUrl,de)))return ye;var Ae='<img src="'+de+'" alt="'+ye+'"';return Q&&(Ae+=' title="'+Q+'"'),Ae+(this.options.xhtml?"/>":">")},pe.text=function(de){return de},re}(),me=function(){function re(){}var pe=re.prototype;return pe.strong=function(de){return de},pe.em=function(de){return de},pe.codespan=function(de){return de},pe.del=function(de){return de},pe.html=function(de){return de},pe.text=function(de){return de},pe.link=function(de,Q,ye){return""+ye},pe.image=function(de,Q,ye){return""+ye},pe.br=function(){return""},re}(),Pe=function(){function re(){this.seen={}}var pe=re.prototype;return pe.serialize=function(de){return de.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},pe.getNextSafeSlug=function(de,Q){var ye=de,Ae=0;if(this.seen.hasOwnProperty(ye)){Ae=this.seen[de];do{ye=de+"-"+ ++Ae}while(this.seen.hasOwnProperty(ye))}return Q||(this.seen[de]=Ae,this.seen[ye]=0),ye},pe.slug=function(de,Q){void 0===Q&&(Q={});var ye=this.serialize(de);return this.getNextSafeSlug(ye,Q.dryrun)},re}(),he=function(){function re(ge){this.options=ge||C.defaults,this.options.renderer=this.options.renderer||new Ee,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new me,this.slugger=new Pe}re.parse=function(de,Q){return new re(Q).parse(de)},re.parseInline=function(de,Q){return new re(Q).parseInline(de)};var pe=re.prototype;return pe.parse=function(de,Q){void 0===Q&&(Q=!0);var Ae,ft,dt,it,et,st,St,mt,bt,Bt,Lt,Ye,Tt,qt,Ot,Ft,rt,Le,ie,ye="",te=de.length;for(Ae=0;Ae<te;Ae++)if(Bt=de[Ae],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Bt.type]&&(!1!==(ie=this.options.extensions.renderers[Bt.type].call({parser:this},Bt))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Bt.type)))ye+=ie||"";else switch(Bt.type){case"space":continue;case"hr":ye+=this.renderer.hr();continue;case"heading":ye+=this.renderer.heading(this.parseInline(Bt.tokens),Bt.depth,w(this.parseInline(Bt.tokens,this.textRenderer)),this.slugger);continue;case"code":ye+=this.renderer.code(Bt.text,Bt.lang,Bt.escaped);continue;case"table":for(mt="",St="",it=Bt.header.length,ft=0;ft<it;ft++)St+=this.renderer.tablecell(this.parseInline(Bt.header[ft].tokens),{header:!0,align:Bt.align[ft]});for(mt+=this.renderer.tablerow(St),bt="",it=Bt.rows.length,ft=0;ft<it;ft++){for(St="",et=(st=Bt.rows[ft]).length,dt=0;dt<et;dt++)St+=this.renderer.tablecell(this.parseInline(st[dt].tokens),{header:!1,align:Bt.align[dt]});bt+=this.renderer.tablerow(St)}ye+=this.renderer.table(mt,bt);continue;case"blockquote":bt=this.parse(Bt.tokens),ye+=this.renderer.blockquote(bt);continue;case"list":for(Lt=Bt.ordered,Ye=Bt.start,Tt=Bt.loose,it=Bt.items.length,bt="",ft=0;ft<it;ft++)Ft=(Ot=Bt.items[ft]).checked,rt=Ot.task,qt="",Ot.task&&(Le=this.renderer.checkbox(Ft),Tt?Ot.tokens.length>0&&"paragraph"===Ot.tokens[0].type?(Ot.tokens[0].text=Le+" "+Ot.tokens[0].text,Ot.tokens[0].tokens&&Ot.tokens[0].tokens.length>0&&"text"===Ot.tokens[0].tokens[0].type&&(Ot.tokens[0].tokens[0].text=Le+" "+Ot.tokens[0].tokens[0].text)):Ot.tokens.unshift({type:"text",text:Le}):qt+=Le),qt+=this.parse(Ot.tokens,Tt),bt+=this.renderer.listitem(qt,rt,Ft);ye+=this.renderer.list(bt,Lt,Ye);continue;case"html":ye+=this.renderer.html(Bt.text);continue;case"paragraph":ye+=this.renderer.paragraph(this.parseInline(Bt.tokens));continue;case"text":for(bt=Bt.tokens?this.parseInline(Bt.tokens):Bt.text;Ae+1<te&&"text"===de[Ae+1].type;)bt+="\n"+((Bt=de[++Ae]).tokens?this.parseInline(Bt.tokens):Bt.text);ye+=Q?this.renderer.paragraph(bt):bt;continue;default:var oe='Token with "'+Bt.type+'" type was not found.';if(this.options.silent)return void console.error(oe);throw new Error(oe)}return ye},pe.parseInline=function(de,Q){Q=Q||this.renderer;var Ae,ft,dt,ye="",it=de.length;for(Ae=0;Ae<it;Ae++)if(ft=de[Ae],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ft.type]&&(!1!==(dt=this.options.extensions.renderers[ft.type].call({parser:this},ft))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ft.type)))ye+=dt||"";else switch(ft.type){case"escape":case"text":ye+=Q.text(ft.text);break;case"html":ye+=Q.html(ft.text);break;case"link":ye+=Q.link(ft.href,ft.title,this.parseInline(ft.tokens,Q));break;case"image":ye+=Q.image(ft.href,ft.title,ft.text);break;case"strong":ye+=Q.strong(this.parseInline(ft.tokens,Q));break;case"em":ye+=Q.em(this.parseInline(ft.tokens,Q));break;case"codespan":ye+=Q.codespan(ft.text);break;case"br":ye+=Q.br();break;case"del":ye+=Q.del(this.parseInline(ft.tokens,Q));break;default:var et='Token with "'+ft.type+'" type was not found.';if(this.options.silent)return void console.error(et);throw new Error(et)}return ye},re}();function Fe(re,pe,ge){if(typeof re>"u"||null===re)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof re)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected");if("function"==typeof pe&&(ge=pe,pe=null),Z(pe=$({},Fe.defaults,pe||{})),ge){var Q,de=pe.highlight;try{Q=ce.lex(re,pe)}catch(dt){return ge(dt)}var ye=function(it){var et;if(!it)try{pe.walkTokens&&Fe.walkTokens(Q,pe.walkTokens),et=he.parse(Q,pe)}catch(st){it=st}return pe.highlight=de,it?ge(it):ge(null,et)};if(!de||de.length<3||(delete pe.highlight,!Q.length))return ye();var Ae=0;return Fe.walkTokens(Q,function(dt){"code"===dt.type&&(Ae++,setTimeout(function(){de(dt.text,dt.lang,function(it,et){if(it)return ye(it);null!=et&&et!==dt.text&&(dt.text=et,dt.escaped=!0),0==--Ae&&ye()})},0))}),void(0===Ae&&ye())}try{var ft=ce.lex(re,pe);return pe.walkTokens&&Fe.walkTokens(ft,pe.walkTokens),he.parse(ft,pe)}catch(dt){if(dt.message+="\nPlease report this to https://github.com/markedjs/marked.",pe.silent)return"<p>An error occurred:</p><pre>"+v(dt.message+"",!0)+"</pre>";throw dt}}Fe.options=Fe.setOptions=function(re){return $(Fe.defaults,re),function r(re){C.defaults=re}(Fe.defaults),Fe},Fe.getDefaults=_,Fe.defaults=C.defaults,Fe.use=function(){for(var re=arguments.length,pe=new Array(re),ge=0;ge<re;ge++)pe[ge]=arguments[ge];var ye,de=$.apply(void 0,[{}].concat(pe)),Q=Fe.defaults.extensions||{renderers:{},childTokens:{}};pe.forEach(function(Ae){if(Ae.extensions&&(ye=!0,Ae.extensions.forEach(function(dt){if(!dt.name)throw new Error("extension name required");if(dt.renderer){var it=Q.renderers?Q.renderers[dt.name]:null;Q.renderers[dt.name]=it?function(){for(var et=arguments.length,st=new Array(et),St=0;St<et;St++)st[St]=arguments[St];var mt=dt.renderer.apply(this,st);return!1===mt&&(mt=it.apply(this,st)),mt}:dt.renderer}if(dt.tokenizer){if(!dt.level||"block"!==dt.level&&"inline"!==dt.level)throw new Error("extension level must be 'block' or 'inline'");Q[dt.level]?Q[dt.level].unshift(dt.tokenizer):Q[dt.level]=[dt.tokenizer],dt.start&&("block"===dt.level?Q.startBlock?Q.startBlock.push(dt.start):Q.startBlock=[dt.start]:"inline"===dt.level&&(Q.startInline?Q.startInline.push(dt.start):Q.startInline=[dt.start]))}dt.childTokens&&(Q.childTokens[dt.name]=dt.childTokens)})),Ae.renderer&&function(){var dt=Fe.defaults.renderer||new Ee,it=function(St){var mt=dt[St];dt[St]=function(){for(var bt=arguments.length,Bt=new Array(bt),Lt=0;Lt<bt;Lt++)Bt[Lt]=arguments[Lt];var Ye=Ae.renderer[St].apply(dt,Bt);return!1===Ye&&(Ye=mt.apply(dt,Bt)),Ye}};for(var et in Ae.renderer)it(et);de.renderer=dt}(),Ae.tokenizer&&function(){var dt=Fe.defaults.tokenizer||new Ie,it=function(St){var mt=dt[St];dt[St]=function(){for(var bt=arguments.length,Bt=new Array(bt),Lt=0;Lt<bt;Lt++)Bt[Lt]=arguments[Lt];var Ye=Ae.tokenizer[St].apply(dt,Bt);return!1===Ye&&(Ye=mt.apply(dt,Bt)),Ye}};for(var et in Ae.tokenizer)it(et);de.tokenizer=dt}(),Ae.walkTokens){var ft=Fe.defaults.walkTokens;de.walkTokens=function(dt){Ae.walkTokens.call(this,dt),ft&&ft.call(this,dt)}}ye&&(de.extensions=Q),Fe.setOptions(de)})},Fe.walkTokens=function(re,pe){for(var Q,ge=function(){var Ae=Q.value;switch(pe.call(Fe,Ae),Ae.type){case"table":for(var dt,ft=D(Ae.header);!(dt=ft()).done;)Fe.walkTokens(dt.value.tokens,pe);for(var st,et=D(Ae.rows);!(st=et()).done;)for(var bt,mt=D(st.value);!(bt=mt()).done;)Fe.walkTokens(bt.value.tokens,pe);break;case"list":Fe.walkTokens(Ae.items,pe);break;default:Fe.defaults.extensions&&Fe.defaults.extensions.childTokens&&Fe.defaults.extensions.childTokens[Ae.type]?Fe.defaults.extensions.childTokens[Ae.type].forEach(function(Lt){Fe.walkTokens(Ae[Lt],pe)}):Ae.tokens&&Fe.walkTokens(Ae.tokens,pe)}},de=D(re);!(Q=de()).done;)ge()},Fe.parseInline=function(re,pe){if(typeof re>"u"||null===re)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof re)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected");Z(pe=$({},Fe.defaults,pe||{}));try{var ge=ce.lexInline(re,pe);return pe.walkTokens&&Fe.walkTokens(ge,pe.walkTokens),he.parseInline(ge,pe)}catch(de){if(de.message+="\nPlease report this to https://github.com/markedjs/marked.",pe.silent)return"<p>An error occurred:</p><pre>"+v(de.message+"",!0)+"</pre>";throw de}},Fe.Parser=he,Fe.parser=he.parse,Fe.Renderer=Ee,Fe.TextRenderer=me,Fe.Lexer=ce,Fe.lexer=ce.lex,Fe.Tokenizer=Ie,Fe.Slugger=Pe,Fe.parse=Fe;var Ze=Fe.options,ze=Fe.setOptions,fe=Fe.use,Ke=Fe.walkTokens,Je=Fe.parseInline,vt=Fe,Et=he.parse,Xe=ce.lex;C.Lexer=ce,C.Parser=he,C.Renderer=Ee,C.Slugger=Pe,C.TextRenderer=me,C.Tokenizer=Ie,C.getDefaults=_,C.lexer=Xe,C.marked=Fe,C.options=Ze,C.parse=vt,C.parseInline=Je,C.parser=Et,C.setOptions=ze,C.use=fe,C.walkTokens=Ke,Object.defineProperty(C,"__esModule",{value:!0})},"object"==typeof exports?f(exports):l.amd?l(0,f):f((C=typeof globalThis<"u"?globalThis:C||self).marked={})}();var t=s||exports},48235:(yt,T,e)=>{"use strict";e.d(T,{Q:()=>l,w:()=>C});var s=e(28554),t=e(56740);function l(f){let I=JSON.parse(f);return I=C(I),I}function C(f,I=0){if(!f||I>200)return f;if("object"==typeof f){switch(f.$mid){case 1:return t.o.revive(f);case 2:return new RegExp(f.source,f.flags);case 14:return new Date(f.source)}if(f instanceof s.KN||f instanceof Uint8Array)return f;if(Array.isArray(f))for(let b=0;b<f.length;++b)f[b]=C(f[b],I+1);else for(const b in f)Object.hasOwnProperty.call(f,b)&&(f[b]=C(f[b],I+1))}return f}},98225:(yt,T,e)=>{"use strict";e.d(T,{v:()=>s});const s=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},34059:(yt,T,e)=>{"use strict";e.d(T,{Gi:()=>S,WX:()=>I,lg:()=>l});var s=e(84834),t=e(56740),l=(()=>((l=l||{}).inMemory="inmemory",l.vscode="vscode",l.internal="private",l.walkThrough="walkThrough",l.walkThroughSnippet="walkThroughSnippet",l.http="http",l.https="https",l.file="file",l.mailto="mailto",l.untitled="untitled",l.data="data",l.command="command",l.vscodeRemote="vscode-remote",l.vscodeRemoteResource="vscode-remote-resource",l.vscodeUserData="vscode-userdata",l.vscodeCustomEditor="vscode-custom-editor",l.vscodeNotebook="vscode-notebook",l.vscodeNotebookCell="vscode-notebook-cell",l.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",l.vscodeNotebookCellOutput="vscode-notebook-cell-output",l.vscodeInteractive="vscode-interactive",l.vscodeInteractiveInput="vscode-interactive-input",l.vscodeSettings="vscode-settings",l.vscodeWorkspaceTrust="vscode-workspace-trust",l.vscodeTerminal="vscode-terminal",l.webviewPanel="webview-panel",l.vscodeWebview="vscode-webview",l.extension="extension",l.vscodeFileResource="vscode-file",l.tmp="tmp",l.vsls="vsls",l.vscodeSourceControl="vscode-scm",l))();const I=new class f{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${l.vscodeRemoteResource}`}setPreferredWebSchema(_){this._preferredWebSchema=_}rewrite(_){if(this._delegate)return this._delegate(_);const r=_.authority;let a=this._hosts[r];a&&-1!==a.indexOf(":")&&(a=`[${a}]`);const u=this._ports[r],n=this._connectionTokens[r];let d=`path=${encodeURIComponent(_.path)}`;return"string"==typeof n&&(d+=`&tkn=${encodeURIComponent(n)}`),t.o.from({scheme:s.$L?this._preferredWebSchema:l.vscodeRemoteResource,authority:`${a}:${u}`,path:this._remoteResourcesPath,query:d})}},S=new((()=>{class D{asBrowserUri(r,a){const u=this.toUri(r,a);return u.scheme===l.vscodeRemote?I.rewrite(u):u.scheme===l.file&&(s.tY||s.n2&&s.li.origin===`${l.vscodeFileResource}://${D.FALLBACK_AUTHORITY}`)?u.with({scheme:l.vscodeFileResource,authority:u.authority||D.FALLBACK_AUTHORITY,query:null,fragment:null}):u}toUri(r,a){return t.o.isUri(r)?r:t.o.parse(a.toUrl(r))}}return D.FALLBACK_AUTHORITY="vscode-app",D})())},23944:(yt,T,e)=>{"use strict";function s(C,f,I){return Math.min(Math.max(C,f),I)}e.d(T,{N:()=>l,nM:()=>t,uZ:()=>s});class t{constructor(){this._n=1,this._val=0}update(f){return this._val=this._val+(f-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class l{constructor(f){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(f),this._values.fill(0,0,f)}update(f){const I=this._values[this._index];return this._values[this._index]=f,this._index=(this._index+1)%this._values.length,this._sum-=I,this._sum+=f,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},82941:(yt,T,e)=>{"use strict";e.d(T,{I8:()=>t,_A:()=>l,fS:()=>S,jB:()=>b,rs:()=>f});var s=e(22070);function t(D){if(!D||"object"!=typeof D||D instanceof RegExp)return D;const _=Array.isArray(D)?[]:{};return Object.keys(D).forEach(r=>{_[r]=D[r]&&"object"==typeof D[r]?t(D[r]):D[r]}),_}function l(D){if(!D||"object"!=typeof D)return D;const _=[D];for(;_.length>0;){const r=_.shift();Object.freeze(r);for(const a in r)if(C.call(r,a)){const u=r[a];"object"==typeof u&&!Object.isFrozen(u)&&!(0,s.fU)(u)&&_.push(u)}}return D}const C=Object.prototype.hasOwnProperty;function f(D,_){return I(D,_,new Set)}function I(D,_,r){if((0,s.Jp)(D))return D;const a=_(D);if(typeof a<"u")return a;if((0,s.kJ)(D)){const u=[];for(const n of D)u.push(I(n,_,r));return u}if((0,s.Kn)(D)){if(r.has(D))throw new Error("Cannot clone recursive data-structure");r.add(D);const u={};for(const n in D)C.call(D,n)&&(u[n]=I(D[n],_,r));return r.delete(D),u}return D}function b(D,_,r=!0){return(0,s.Kn)(D)?((0,s.Kn)(_)&&Object.keys(_).forEach(a=>{a in D?r&&((0,s.Kn)(D[a])&&(0,s.Kn)(_[a])?b(D[a],_[a],r):D[a]=_[a]):D[a]=_[a]}),D):_}function S(D,_){if(D===_)return!0;if(null==D||null==_||typeof D!=typeof _||"object"!=typeof D||Array.isArray(D)!==Array.isArray(_))return!1;let r,a;if(Array.isArray(D)){if(D.length!==_.length)return!1;for(r=0;r<D.length;r++)if(!S(D[r],_[r]))return!1}else{const u=[];for(a in D)u.push(a);u.sort();const n=[];for(a in _)n.push(a);if(n.sort(),!S(u,n))return!1;for(r=0;r<u.length;r++)if(!S(D[u[r]],_[u[r]]))return!1}return!0}},83872:(yt,T,e)=>{"use strict";e.d(T,{EZ:()=>N,XX:()=>z,DZ:()=>O,Fv:()=>k,KR:()=>A,Gf:()=>H,DB:()=>W,ir:()=>K,Ku:()=>x});var s=e(84834),t=e(71330);let l;if(typeof s.li.vscode<"u"&&typeof s.li.vscode.process<"u"){const $=s.li.vscode.process;l={get platform(){return $.platform},get arch(){return $.arch},get env(){return $.env},cwd:()=>$.cwd()}}else l=typeof t<"u"?{get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd:()=>t.env.VSCODE_CWD||t.cwd()}:{get platform(){return s.ED?"win32":s.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const C=l.cwd,f=l.env,I=l.platform,r=46,a=47,u=92,n=58;class y extends Error{constructor(j,q,R){let Z;"string"==typeof q&&0===q.indexOf("not ")?(Z="must not be",q=q.replace(/^not /,"")):Z="must be";const J=-1!==j.indexOf(".")?"property":"argument";let Ce=`The "${j}" ${J} ${Z} of type ${q}`;Ce+=". Received type "+typeof R,super(Ce),this.code="ERR_INVALID_ARG_TYPE"}}function g($,j){if("string"!=typeof $)throw new y(j,"string",$)}function v($){return $===a||$===u}function m($){return $===a}function w($){return $>=65&&$<=90||$>=97&&$<=122}function E($,j,q,R){let Z="",J=0,Ce=-1,Se=0,Ie=0;for(let xe=0;xe<=$.length;++xe){if(xe<$.length)Ie=$.charCodeAt(xe);else{if(R(Ie))break;Ie=a}if(R(Ie)){if(Ce!==xe-1&&1!==Se)if(2===Se){if(Z.length<2||2!==J||Z.charCodeAt(Z.length-1)!==r||Z.charCodeAt(Z.length-2)!==r){if(Z.length>2){const Me=Z.lastIndexOf(q);-1===Me?(Z="",J=0):(Z=Z.slice(0,Me),J=Z.length-1-Z.lastIndexOf(q)),Ce=xe,Se=0;continue}if(0!==Z.length){Z="",J=0,Ce=xe,Se=0;continue}}j&&(Z+=Z.length>0?`${q}..`:"..",J=2)}else Z.length>0?Z+=`${q}${$.slice(Ce+1,xe)}`:Z=$.slice(Ce+1,xe),J=xe-Ce-1;Ce=xe,Se=0}else Ie===r&&-1!==Se?++Se:Se=-1}return Z}function L($,j){if(null===j||"object"!=typeof j)throw new y("pathObject","Object",j);const q=j.dir||j.root,R=j.base||`${j.name||""}${j.ext||""}`;return q?q===j.root?`${q}${R}`:`${q}${$}${R}`:R}const x={resolve(...$){let j="",q="",R=!1;for(let Z=$.length-1;Z>=-1;Z--){let J;if(Z>=0){if(J=$[Z],g(J,"path"),0===J.length)continue}else 0===j.length?J=C():(J=f[`=${j}`]||C(),(void 0===J||J.slice(0,2).toLowerCase()!==j.toLowerCase()&&J.charCodeAt(2)===u)&&(J=`${j}\\`));const Ce=J.length;let Se=0,Ie="",xe=!1;const Me=J.charCodeAt(0);if(1===Ce)v(Me)&&(Se=1,xe=!0);else if(v(Me))if(xe=!0,v(J.charCodeAt(1))){let Oe=2,se=Oe;for(;Oe<Ce&&!v(J.charCodeAt(Oe));)Oe++;if(Oe<Ce&&Oe!==se){const ce=J.slice(se,Oe);for(se=Oe;Oe<Ce&&v(J.charCodeAt(Oe));)Oe++;if(Oe<Ce&&Oe!==se){for(se=Oe;Oe<Ce&&!v(J.charCodeAt(Oe));)Oe++;(Oe===Ce||Oe!==se)&&(Ie=`\\\\${ce}\\${J.slice(se,Oe)}`,Se=Oe)}}}else Se=1;else w(Me)&&J.charCodeAt(1)===n&&(Ie=J.slice(0,2),Se=2,Ce>2&&v(J.charCodeAt(2))&&(xe=!0,Se=3));if(Ie.length>0)if(j.length>0){if(Ie.toLowerCase()!==j.toLowerCase())continue}else j=Ie;if(R){if(j.length>0)break}else if(q=`${J.slice(Se)}\\${q}`,R=xe,xe&&j.length>0)break}return q=E(q,!R,"\\",v),R?`${j}\\${q}`:`${j}${q}`||"."},normalize($){g($,"path");const j=$.length;if(0===j)return".";let R,q=0,Z=!1;const J=$.charCodeAt(0);if(1===j)return m(J)?"\\":$;if(v(J))if(Z=!0,v($.charCodeAt(1))){let Se=2,Ie=Se;for(;Se<j&&!v($.charCodeAt(Se));)Se++;if(Se<j&&Se!==Ie){const xe=$.slice(Ie,Se);for(Ie=Se;Se<j&&v($.charCodeAt(Se));)Se++;if(Se<j&&Se!==Ie){for(Ie=Se;Se<j&&!v($.charCodeAt(Se));)Se++;if(Se===j)return`\\\\${xe}\\${$.slice(Ie)}\\`;Se!==Ie&&(R=`\\\\${xe}\\${$.slice(Ie,Se)}`,q=Se)}}}else q=1;else w(J)&&$.charCodeAt(1)===n&&(R=$.slice(0,2),q=2,j>2&&v($.charCodeAt(2))&&(Z=!0,q=3));let Ce=q<j?E($.slice(q),!Z,"\\",v):"";return 0===Ce.length&&!Z&&(Ce="."),Ce.length>0&&v($.charCodeAt(j-1))&&(Ce+="\\"),void 0===R?Z?`\\${Ce}`:Ce:Z?`${R}\\${Ce}`:`${R}${Ce}`},isAbsolute($){g($,"path");const j=$.length;if(0===j)return!1;const q=$.charCodeAt(0);return v(q)||j>2&&w(q)&&$.charCodeAt(1)===n&&v($.charCodeAt(2))},join(...$){if(0===$.length)return".";let j,q;for(let J=0;J<$.length;++J){const Ce=$[J];g(Ce,"path"),Ce.length>0&&(void 0===j?j=q=Ce:j+=`\\${Ce}`)}if(void 0===j)return".";let R=!0,Z=0;if("string"==typeof q&&v(q.charCodeAt(0))){++Z;const J=q.length;J>1&&v(q.charCodeAt(1))&&(++Z,J>2&&(v(q.charCodeAt(2))?++Z:R=!1))}if(R){for(;Z<j.length&&v(j.charCodeAt(Z));)Z++;Z>=2&&(j=`\\${j.slice(Z)}`)}return x.normalize(j)},relative($,j){if(g($,"from"),g(j,"to"),$===j)return"";const q=x.resolve($),R=x.resolve(j);if(q===R||($=q.toLowerCase())===(j=R.toLowerCase()))return"";let Z=0;for(;Z<$.length&&$.charCodeAt(Z)===u;)Z++;let J=$.length;for(;J-1>Z&&$.charCodeAt(J-1)===u;)J--;const Ce=J-Z;let Se=0;for(;Se<j.length&&j.charCodeAt(Se)===u;)Se++;let Ie=j.length;for(;Ie-1>Se&&j.charCodeAt(Ie-1)===u;)Ie--;const xe=Ie-Se,Me=Ce<xe?Ce:xe;let Oe=-1,se=0;for(;se<Me;se++){const Ee=$.charCodeAt(Z+se);if(Ee!==j.charCodeAt(Se+se))break;Ee===u&&(Oe=se)}if(se!==Me){if(-1===Oe)return R}else{if(xe>Me){if(j.charCodeAt(Se+se)===u)return R.slice(Se+se+1);if(2===se)return R.slice(Se+se)}Ce>Me&&($.charCodeAt(Z+se)===u?Oe=se:2===se&&(Oe=3)),-1===Oe&&(Oe=0)}let ce="";for(se=Z+Oe+1;se<=J;++se)(se===J||$.charCodeAt(se)===u)&&(ce+=0===ce.length?"..":"\\..");return Se+=Oe,ce.length>0?`${ce}${R.slice(Se,Ie)}`:(R.charCodeAt(Se)===u&&++Se,R.slice(Se,Ie))},toNamespacedPath($){if("string"!=typeof $)return $;if(0===$.length)return"";const j=x.resolve($);if(j.length<=2)return $;if(j.charCodeAt(0)===u){if(j.charCodeAt(1)===u){const q=j.charCodeAt(2);if(63!==q&&q!==r)return`\\\\?\\UNC\\${j.slice(2)}`}}else if(w(j.charCodeAt(0))&&j.charCodeAt(1)===n&&j.charCodeAt(2)===u)return`\\\\?\\${j}`;return $},dirname($){g($,"path");const j=$.length;if(0===j)return".";let q=-1,R=0;const Z=$.charCodeAt(0);if(1===j)return v(Z)?$:".";if(v(Z)){if(q=R=1,v($.charCodeAt(1))){let Se=2,Ie=Se;for(;Se<j&&!v($.charCodeAt(Se));)Se++;if(Se<j&&Se!==Ie){for(Ie=Se;Se<j&&v($.charCodeAt(Se));)Se++;if(Se<j&&Se!==Ie){for(Ie=Se;Se<j&&!v($.charCodeAt(Se));)Se++;if(Se===j)return $;Se!==Ie&&(q=R=Se+1)}}}}else w(Z)&&$.charCodeAt(1)===n&&(q=j>2&&v($.charCodeAt(2))?3:2,R=q);let J=-1,Ce=!0;for(let Se=j-1;Se>=R;--Se)if(v($.charCodeAt(Se))){if(!Ce){J=Se;break}}else Ce=!1;if(-1===J){if(-1===q)return".";J=q}return $.slice(0,J)},basename($,j){void 0!==j&&g(j,"ext"),g($,"path");let J,q=0,R=-1,Z=!0;if($.length>=2&&w($.charCodeAt(0))&&$.charCodeAt(1)===n&&(q=2),void 0!==j&&j.length>0&&j.length<=$.length){if(j===$)return"";let Ce=j.length-1,Se=-1;for(J=$.length-1;J>=q;--J){const Ie=$.charCodeAt(J);if(v(Ie)){if(!Z){q=J+1;break}}else-1===Se&&(Z=!1,Se=J+1),Ce>=0&&(Ie===j.charCodeAt(Ce)?-1==--Ce&&(R=J):(Ce=-1,R=Se))}return q===R?R=Se:-1===R&&(R=$.length),$.slice(q,R)}for(J=$.length-1;J>=q;--J)if(v($.charCodeAt(J))){if(!Z){q=J+1;break}}else-1===R&&(Z=!1,R=J+1);return-1===R?"":$.slice(q,R)},extname($){g($,"path");let j=0,q=-1,R=0,Z=-1,J=!0,Ce=0;$.length>=2&&$.charCodeAt(1)===n&&w($.charCodeAt(0))&&(j=R=2);for(let Se=$.length-1;Se>=j;--Se){const Ie=$.charCodeAt(Se);if(v(Ie)){if(!J){R=Se+1;break}}else-1===Z&&(J=!1,Z=Se+1),Ie===r?-1===q?q=Se:1!==Ce&&(Ce=1):-1!==q&&(Ce=-1)}return-1===q||-1===Z||0===Ce||1===Ce&&q===Z-1&&q===R+1?"":$.slice(q,Z)},format:L.bind(null,"\\"),parse($){g($,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if(0===$.length)return j;const q=$.length;let R=0,Z=$.charCodeAt(0);if(1===q)return v(Z)?(j.root=j.dir=$,j):(j.base=j.name=$,j);if(v(Z)){if(R=1,v($.charCodeAt(1))){let Oe=2,se=Oe;for(;Oe<q&&!v($.charCodeAt(Oe));)Oe++;if(Oe<q&&Oe!==se){for(se=Oe;Oe<q&&v($.charCodeAt(Oe));)Oe++;if(Oe<q&&Oe!==se){for(se=Oe;Oe<q&&!v($.charCodeAt(Oe));)Oe++;Oe===q?R=Oe:Oe!==se&&(R=Oe+1)}}}}else if(w(Z)&&$.charCodeAt(1)===n){if(q<=2)return j.root=j.dir=$,j;if(R=2,v($.charCodeAt(2))){if(3===q)return j.root=j.dir=$,j;R=3}}R>0&&(j.root=$.slice(0,R));let J=-1,Ce=R,Se=-1,Ie=!0,xe=$.length-1,Me=0;for(;xe>=R;--xe)if(Z=$.charCodeAt(xe),v(Z)){if(!Ie){Ce=xe+1;break}}else-1===Se&&(Ie=!1,Se=xe+1),Z===r?-1===J?J=xe:1!==Me&&(Me=1):-1!==J&&(Me=-1);return-1!==Se&&(-1===J||0===Me||1===Me&&J===Se-1&&J===Ce+1?j.base=j.name=$.slice(Ce,Se):(j.name=$.slice(Ce,J),j.base=$.slice(Ce,Se),j.ext=$.slice(J,Se))),j.dir=Ce>0&&Ce!==R?$.slice(0,Ce-1):j.root,j},sep:"\\",delimiter:";",win32:null,posix:null},A={resolve(...$){let j="",q=!1;for(let R=$.length-1;R>=-1&&!q;R--){const Z=R>=0?$[R]:C();g(Z,"path"),0!==Z.length&&(j=`${Z}/${j}`,q=Z.charCodeAt(0)===a)}return j=E(j,!q,"/",m),q?`/${j}`:j.length>0?j:"."},normalize($){if(g($,"path"),0===$.length)return".";const j=$.charCodeAt(0)===a,q=$.charCodeAt($.length-1)===a;return 0===($=E($,!j,"/",m)).length?j?"/":q?"./":".":(q&&($+="/"),j?`/${$}`:$)},isAbsolute:$=>(g($,"path"),$.length>0&&$.charCodeAt(0)===a),join(...$){if(0===$.length)return".";let j;for(let q=0;q<$.length;++q){const R=$[q];g(R,"path"),R.length>0&&(void 0===j?j=R:j+=`/${R}`)}return void 0===j?".":A.normalize(j)},relative($,j){if(g($,"from"),g(j,"to"),$===j||($=A.resolve($))===(j=A.resolve(j)))return"";const R=$.length,Z=R-1,Ce=j.length-1,Se=Z<Ce?Z:Ce;let Ie=-1,xe=0;for(;xe<Se;xe++){const Oe=$.charCodeAt(1+xe);if(Oe!==j.charCodeAt(1+xe))break;Oe===a&&(Ie=xe)}if(xe===Se)if(Ce>Se){if(j.charCodeAt(1+xe)===a)return j.slice(1+xe+1);if(0===xe)return j.slice(1+xe)}else Z>Se&&($.charCodeAt(1+xe)===a?Ie=xe:0===xe&&(Ie=0));let Me="";for(xe=1+Ie+1;xe<=R;++xe)(xe===R||$.charCodeAt(xe)===a)&&(Me+=0===Me.length?"..":"/..");return`${Me}${j.slice(1+Ie)}`},toNamespacedPath:$=>$,dirname($){if(g($,"path"),0===$.length)return".";const j=$.charCodeAt(0)===a;let q=-1,R=!0;for(let Z=$.length-1;Z>=1;--Z)if($.charCodeAt(Z)===a){if(!R){q=Z;break}}else R=!1;return-1===q?j?"/":".":j&&1===q?"//":$.slice(0,q)},basename($,j){void 0!==j&&g(j,"ext"),g($,"path");let J,q=0,R=-1,Z=!0;if(void 0!==j&&j.length>0&&j.length<=$.length){if(j===$)return"";let Ce=j.length-1,Se=-1;for(J=$.length-1;J>=0;--J){const Ie=$.charCodeAt(J);if(Ie===a){if(!Z){q=J+1;break}}else-1===Se&&(Z=!1,Se=J+1),Ce>=0&&(Ie===j.charCodeAt(Ce)?-1==--Ce&&(R=J):(Ce=-1,R=Se))}return q===R?R=Se:-1===R&&(R=$.length),$.slice(q,R)}for(J=$.length-1;J>=0;--J)if($.charCodeAt(J)===a){if(!Z){q=J+1;break}}else-1===R&&(Z=!1,R=J+1);return-1===R?"":$.slice(q,R)},extname($){g($,"path");let j=-1,q=0,R=-1,Z=!0,J=0;for(let Ce=$.length-1;Ce>=0;--Ce){const Se=$.charCodeAt(Ce);if(Se!==a)-1===R&&(Z=!1,R=Ce+1),Se===r?-1===j?j=Ce:1!==J&&(J=1):-1!==j&&(J=-1);else if(!Z){q=Ce+1;break}}return-1===j||-1===R||0===J||1===J&&j===R-1&&j===q+1?"":$.slice(j,R)},format:L.bind(null,"/"),parse($){g($,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if(0===$.length)return j;const q=$.charCodeAt(0)===a;let R;q?(j.root="/",R=1):R=0;let Z=-1,J=0,Ce=-1,Se=!0,Ie=$.length-1,xe=0;for(;Ie>=R;--Ie){const Me=$.charCodeAt(Ie);if(Me!==a)-1===Ce&&(Se=!1,Ce=Ie+1),Me===r?-1===Z?Z=Ie:1!==xe&&(xe=1):-1!==Z&&(xe=-1);else if(!Se){J=Ie+1;break}}if(-1!==Ce){const Me=0===J&&q?1:J;-1===Z||0===xe||1===xe&&Z===Ce-1&&Z===J+1?j.base=j.name=$.slice(Me,Ce):(j.name=$.slice(Me,Z),j.base=$.slice(Me,Ce),j.ext=$.slice(Z,Ce))}return J>0?j.dir=$.slice(0,J-1):q&&(j.dir="/"),j},sep:"/",delimiter:":",win32:null,posix:null};A.win32=x.win32=x,A.posix=x.posix=A;const k="win32"===I?x.normalize:A.normalize,W="win32"===I?x.resolve:A.resolve,H="win32"===I?x.relative:A.relative,z="win32"===I?x.dirname:A.dirname,N="win32"===I?x.basename:A.basename,O="win32"===I?x.extname:A.extname,K="win32"===I?x.sep:A.sep},84834:(yt,T,e)=>{"use strict";e.d(T,{$L:()=>H,ED:()=>x,G6:()=>Ie,IJ:()=>k,OS:()=>q,dK:()=>K,dz:()=>A,fn:()=>j,gn:()=>N,i7:()=>Ce,li:()=>v,n2:()=>z,r:()=>J,tY:()=>W,un:()=>xe,vU:()=>Se});var l,s=e(1200),t=e(71330);const C="en";let n,g,f=!1,I=!1,b=!1,S=!1,D=!1,_=!1,r=!1,a=!1,u=!1,d=C,y=null;const v="object"==typeof self?self:"object"==typeof global?global:{};let m;typeof v.vscode<"u"&&typeof v.vscode.process<"u"?m=v.vscode.process:typeof t<"u"&&(m=t);const w="string"==typeof(null===(l=m?.versions)||void 0===l?void 0:l.electron);if("object"!=typeof navigator||w&&"renderer"===m?.type)if("object"==typeof m){f="win32"===m.platform,I="darwin"===m.platform,b="linux"===m.platform,S=b&&!!m.env.SNAP&&!!m.env.SNAP_REVISION,r=w,u=!!m.env.CI||!!m.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=C,d=C;const Oe=m.env.VSCODE_NLS_CONFIG;if(Oe)try{const se=JSON.parse(Oe);n=se.locale,d=se.availableLanguages["*"]||C,y=se._translationsConfigFile}catch{}D=!0}else console.error("Unable to resolve platform.");else g=navigator.userAgent,f=g.indexOf("Windows")>=0,I=g.indexOf("Macintosh")>=0,a=(g.indexOf("Macintosh")>=0||g.indexOf("iPad")>=0||g.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,b=g.indexOf("Linux")>=0,_=!0,n=s.aj(s.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||C,d=n;let L=0;I?L=1:f?L=3:b&&(L=2);const x=f,A=I,k=b,W=D,H=_,z=_&&"function"==typeof v.importScripts,N=a,O=g,K=d,$="function"==typeof v.postMessage&&!v.importScripts,j=(()=>{if($){const Oe=[];v.addEventListener("message",ce=>{if(ce.data&&ce.data.vscodeScheduleAsyncWork)for(let Ee=0,me=Oe.length;Ee<me;Ee++){const Pe=Oe[Ee];if(Pe.id===ce.data.vscodeScheduleAsyncWork)return Oe.splice(Ee,1),void Pe.callback()}});let se=0;return ce=>{const Ee=++se;Oe.push({id:Ee,callback:ce}),v.postMessage({vscodeScheduleAsyncWork:Ee},"*")}}return Oe=>setTimeout(Oe)})(),q=I||a?2:f?1:3;let R=!0,Z=!1;function J(){if(!Z){Z=!0;const Oe=new Uint8Array(2);Oe[0]=1,Oe[1]=2,R=513===new Uint16Array(Oe.buffer)[0]}return R}const Ce=!!(O&&O.indexOf("Chrome")>=0),Se=!!(O&&O.indexOf("Firefox")>=0),Ie=!!(!Ce&&O&&O.indexOf("Safari")>=0),xe=!!(O&&O.indexOf("Edg/")>=0);O&&O.indexOf("Android")},8406:(yt,T,e)=>{"use strict";var s;e.d(T,{e:()=>s}),function(t){function l(b,S){if(b.start>=S.end||S.start>=b.end)return{start:0,end:0};const D=Math.max(b.start,S.start),_=Math.min(b.end,S.end);return _-D<=0?{start:0,end:0}:{start:D,end:_}}function C(b){return b.end-b.start<=0}t.intersect=l,t.isEmpty=C,t.intersects=function f(b,S){return!C(l(b,S))},t.relativeComplement=function I(b,S){const D=[],_={start:b.start,end:Math.min(S.start,b.end)},r={start:Math.max(S.end,b.start),end:b.end};return C(_)||D.push(_),C(r)||D.push(r),D}}(s||(s={}))},9590:(yt,T,e)=>{"use strict";e.d(T,{AH:()=>w,DZ:()=>g,EZ:()=>y,Hx:()=>d,SF:()=>D,U9:()=>S,Vb:()=>z,Vo:()=>m,XX:()=>v,Xy:()=>a,i3:()=>L,lX:()=>E,z_:()=>b});var s=e(35707),t=e(34059),l=e(83872),C=e(84834),f=e(77697),I=e(56740);function b(N){return(0,I.q)(N,!0)}class S{constructor(O){this._ignorePathCasing=O}compare(O,K,$=!1){return O===K?0:(0,f.qu)(this.getComparisonKey(O,$),this.getComparisonKey(K,$))}isEqual(O,K,$=!1){return O===K||!(!O||!K)&&this.getComparisonKey(O,$)===this.getComparisonKey(K,$)}getComparisonKey(O,K=!1){return O.with({path:this._ignorePathCasing(O)?O.path.toLowerCase():void 0,fragment:K?null:void 0}).toString()}isEqualOrParent(O,K,$=!1){if(O.scheme===K.scheme){if(O.scheme===t.lg.file)return s.KM(b(O),b(K),this._ignorePathCasing(O))&&O.query===K.query&&($||O.fragment===K.fragment);if(A(O.authority,K.authority))return s.KM(O.path,K.path,this._ignorePathCasing(O),"/")&&O.query===K.query&&($||O.fragment===K.fragment)}return!1}joinPath(O,...K){return I.o.joinPath(O,...K)}basenameOrAuthority(O){return y(O)||O.authority}basename(O){return l.KR.basename(O.path)}extname(O){return l.KR.extname(O.path)}dirname(O){if(0===O.path.length)return O;let K;return O.scheme===t.lg.file?K=I.o.file(l.XX(b(O))).path:(K=l.KR.dirname(O.path),O.authority&&K.length&&47!==K.charCodeAt(0)&&(console.error(`dirname("${O.toString})) resulted in a relative path`),K="/")),O.with({path:K})}normalizePath(O){if(!O.path.length)return O;let K;return K=O.scheme===t.lg.file?I.o.file(l.Fv(b(O))).path:l.KR.normalize(O.path),O.with({path:K})}relativePath(O,K){if(O.scheme!==K.scheme||!A(O.authority,K.authority))return;if(O.scheme===t.lg.file){const q=l.Gf(b(O),b(K));return C.ED?s.ej(q):q}let $=O.path||"/";const j=K.path||"/";if(this._ignorePathCasing(O)){let q=0;for(const R=Math.min($.length,j.length);q<R&&($.charCodeAt(q)===j.charCodeAt(q)||$.charAt(q).toLowerCase()===j.charAt(q).toLowerCase());q++);$=j.substr(0,q)+$.substr(q)}return l.KR.relative($,j)}resolvePath(O,K){if(O.scheme===t.lg.file){const $=I.o.file(l.DB(b(O),K));return O.with({authority:$.authority,path:$.path})}return K=s.fn(K),O.with({path:l.KR.resolve(O.path,K)})}isAbsolutePath(O){return!!O.path&&"/"===O.path[0]}isEqualAuthority(O,K){return O===K||void 0!==O&&void 0!==K&&(0,f.qq)(O,K)}hasTrailingPathSeparator(O,K=l.ir){if(O.scheme===t.lg.file){const $=b(O);return $.length>s.yj($).length&&$[$.length-1]===K}{const $=O.path;return $.length>1&&47===$.charCodeAt($.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(O.fsPath)}}removeTrailingPathSeparator(O,K=l.ir){return k(O,K)?O.with({path:O.path.substr(0,O.path.length-1)}):O}addTrailingPathSeparator(O,K=l.ir){let $=!1;if(O.scheme===t.lg.file){const j=b(O);$=void 0!==j&&j.length===s.yj(j).length&&j[j.length-1]===K}else{K="/";const j=O.path;$=1===j.length&&47===j.charCodeAt(j.length-1)}return $||k(O,K)?O:O.with({path:O.path+"/"})}}const D=new S(()=>!1),a=(new S(N=>N.scheme!==t.lg.file||!C.IJ),new S(N=>!0),D.isEqual.bind(D)),d=(D.isEqualOrParent.bind(D),D.getComparisonKey.bind(D),D.basenameOrAuthority.bind(D)),y=D.basename.bind(D),g=D.extname.bind(D),v=D.dirname.bind(D),m=D.joinPath.bind(D),w=D.normalizePath.bind(D),E=D.relativePath.bind(D),L=D.resolvePath.bind(D),A=(D.isAbsolutePath.bind(D),D.isEqualAuthority.bind(D)),k=D.hasTrailingPathSeparator.bind(D);var z,N;D.removeTrailingPathSeparator.bind(D),D.addTrailingPathSeparator.bind(D),(N=z||(z={})).META_DATA_LABEL="label",N.META_DATA_DESCRIPTION="description",N.META_DATA_SIZE="size",N.META_DATA_MIME="mime",N.parseMetaData=function O(K){const $=new Map;K.path.substring(K.path.indexOf(";")+1,K.path.lastIndexOf(";")).split(";").forEach(R=>{const[Z,J]=R.split(":");Z&&J&&$.set(Z,J)});const q=K.path.substring(0,K.path.indexOf(";"));return q&&$.set(N.META_DATA_MIME,q),$}},79257:(yt,T,e)=>{"use strict";e.d(T,{Rm:()=>C});var s=e(31864),t=e(21576);class l{constructor(a,u,n,d,y,g,v){this._forceIntegerValues=a,this._scrollStateBrand=void 0,this._forceIntegerValues&&(u|=0,n|=0,d|=0,y|=0,g|=0,v|=0),this.rawScrollLeft=d,this.rawScrollTop=v,u<0&&(u=0),d+u>n&&(d=n-u),d<0&&(d=0),y<0&&(y=0),v+y>g&&(v=g-y),v<0&&(v=0),this.width=u,this.scrollWidth=n,this.scrollLeft=d,this.height=y,this.scrollHeight=g,this.scrollTop=v}equals(a){return this.rawScrollLeft===a.rawScrollLeft&&this.rawScrollTop===a.rawScrollTop&&this.width===a.width&&this.scrollWidth===a.scrollWidth&&this.scrollLeft===a.scrollLeft&&this.height===a.height&&this.scrollHeight===a.scrollHeight&&this.scrollTop===a.scrollTop}withScrollDimensions(a,u){return new l(this._forceIntegerValues,typeof a.width<"u"?a.width:this.width,typeof a.scrollWidth<"u"?a.scrollWidth:this.scrollWidth,u?this.rawScrollLeft:this.scrollLeft,typeof a.height<"u"?a.height:this.height,typeof a.scrollHeight<"u"?a.scrollHeight:this.scrollHeight,u?this.rawScrollTop:this.scrollTop)}withScrollPosition(a){return new l(this._forceIntegerValues,this.width,this.scrollWidth,typeof a.scrollLeft<"u"?a.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof a.scrollTop<"u"?a.scrollTop:this.rawScrollTop)}createScrollEvent(a,u){return{inSmoothScrolling:u,oldWidth:a.width,oldScrollWidth:a.scrollWidth,oldScrollLeft:a.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:a.height,oldScrollHeight:a.scrollHeight,oldScrollTop:a.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==a.width,scrollWidthChanged:this.scrollWidth!==a.scrollWidth,scrollLeftChanged:this.scrollLeft!==a.scrollLeft,heightChanged:this.height!==a.height,scrollHeightChanged:this.scrollHeight!==a.scrollHeight,scrollTopChanged:this.scrollTop!==a.scrollTop}}}class C extends t.JT{constructor(a){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new s.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=a.smoothScrollDuration,this._scheduleAtNextAnimationFrame=a.scheduleAtNextAnimationFrame,this._state=new l(a.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(a){this._smoothScrollDuration=a}validateScrollPosition(a){return this._state.withScrollPosition(a)}getScrollDimensions(){return this._state}setScrollDimensions(a,u){var n;const d=this._state.withScrollDimensions(a,u);this._setState(d,!!this._smoothScrolling),null===(n=this._smoothScrolling)||void 0===n||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(a){const u=this._state.withScrollPosition(a);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(u,!1)}setScrollPositionSmooth(a,u){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(a);if(this._smoothScrolling){const n=this._state.withScrollPosition(a={scrollLeft:typeof a.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:a.scrollLeft,scrollTop:typeof a.scrollTop>"u"?this._smoothScrolling.to.scrollTop:a.scrollTop});if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let d;d=u?new S(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const n=this._state.withScrollPosition(a);this._smoothScrolling=S.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const a=this._smoothScrolling.tick(),u=this._state.withScrollPosition(a);if(this._setState(u,!0),this._smoothScrolling){if(a.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(a,u){const n=this._state;n.equals(a)||(this._state=a,this._onScroll.fire(this._state.createScrollEvent(n,u)))}}class f{constructor(a,u,n){this.scrollLeft=a,this.scrollTop=u,this.isDone=n}}function I(r,a){const u=a-r;return function(n){return r+u*function _(r){return 1-function D(r){return Math.pow(r,3)}(1-r)}(n)}}class S{constructor(a,u,n,d){this.from=a,this.to=u,this.duration=d,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(a,u,n){if(Math.abs(a-u)>2.5*n){let y,g;return a<u?(y=a+.75*n,g=u-.75*n):(y=a-.75*n,g=u+.75*n),function b(r,a,u){return function(n){return n<u?r(n/u):a((n-u)/(1-u))}}(I(a,y),I(g,u),.33)}return I(a,u)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(a){this.to=a.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(a){const u=(a-this.startTime)/this.duration;if(u<1){const n=this.scrollLeft(u),d=this.scrollTop(u);return new f(n,d,!1)}return new f(this.to.scrollLeft,this.to.scrollTop,!0)}combine(a,u,n){return S.start(a,u,n)}static start(a,u,n){n+=10;const d=Date.now()-10;return new S(a,u,d,n)}}},91729:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>l});var s=e(77697),t=(()=>((t=t||{})[t.Ignore=0]="Ignore",t[t.Info=1]="Info",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t))();!function(C){const f="error",I="warning",S="info";C.fromValue=function _(a){return a?s.qq(f,a)?C.Error:s.qq(I,a)||s.qq("warn",a)?C.Warning:s.qq(S,a)?C.Info:C.Ignore:C.Ignore},C.toString=function r(a){switch(a){case C.Error:return f;case C.Warning:return I;case C.Info:return S;default:return"ignore"}}}(t||(t={}));const l=t},44753:(yt,T,e)=>{"use strict";e.d(T,{G:()=>l});var s=e(84834);const t=s.li.performance&&"function"==typeof s.li.performance.now;class l{constructor(f){this._highResolution=t&&f,this._startTime=this._now(),this._stopTime=-1}static create(f=!0){return new l(f)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?s.li.performance.now():Date.now()}}},77697:(yt,T,e)=>{"use strict";e.d(T,{$i:()=>ce,B4:()=>pe,C8:()=>he,GF:()=>n,HO:()=>Ie,IO:()=>d,J_:()=>xe,K7:()=>Pe,Kw:()=>ze,LC:()=>v,Mh:()=>O,P1:()=>K,PJ:()=>fe,Qe:()=>Ee,R1:()=>u,T5:()=>k,TT:()=>L,Ut:()=>Oe,V8:()=>m,W1:()=>Ce,WU:()=>I,YK:()=>j,YU:()=>b,ZG:()=>$,ZH:()=>R,ZK:()=>ge,ab:()=>me,c1:()=>Fe,df:()=>H,ec:()=>S,fy:()=>D,j3:()=>_,j_:()=>A,m5:()=>C,mK:()=>W,mr:()=>y,oH:()=>Et,oL:()=>r,ok:()=>N,ow:()=>w,qq:()=>z,qu:()=>E,rL:()=>q,uS:()=>Ze,un:()=>a,uq:()=>g,vH:()=>Se,vU:()=>de,zY:()=>x});var l,s=e(36880),t=e(22211);function C(Q){return!Q||"string"!=typeof Q||0===Q.trim().length}const f=/{(\d+)}/g;function I(Q,...ye){return 0===ye.length?Q:Q.replace(f,function(Ae,ft){const dt=parseInt(ft,10);return isNaN(dt)||dt<0||dt>=ye.length?Ae:ye[dt]})}function b(Q){return Q.replace(/[<>&]/g,function(ye){switch(ye){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ye}})}function S(Q){return Q.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function D(Q,ye=" "){return r(_(Q,ye),ye)}function _(Q,ye){if(!Q||!ye)return Q;const Ae=ye.length;if(0===Ae||0===Q.length)return Q;let ft=0;for(;Q.indexOf(ye,ft)===ft;)ft+=Ae;return Q.substring(ft)}function r(Q,ye){if(!Q||!ye)return Q;const Ae=ye.length,ft=Q.length;if(0===Ae||0===ft)return Q;let dt=ft,it=-1;for(;it=Q.lastIndexOf(ye,dt-1),-1!==it&&it+Ae===dt;){if(0===it)return"";dt=it}return Q.substring(0,dt)}function a(Q){return Q.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function u(Q){return Q.replace(/\*/g,"")}function n(Q,ye,Ae={}){if(!Q)throw new Error("Cannot create regex from empty string");ye||(Q=S(Q)),Ae.wholeWord&&(/\B/.test(Q.charAt(0))||(Q="\\b"+Q),/\B/.test(Q.charAt(Q.length-1))||(Q+="\\b"));let ft="";return Ae.global&&(ft+="g"),Ae.matchCase||(ft+="i"),Ae.multiline&&(ft+="m"),Ae.unicode&&(ft+="u"),new RegExp(Q,ft)}function d(Q){return"^"!==Q.source&&"^$"!==Q.source&&"$"!==Q.source&&"^\\s*$"!==Q.source&&!(!Q.exec("")||0!==Q.lastIndex)}function y(Q){return(Q.global?"g":"")+(Q.ignoreCase?"i":"")+(Q.multiline?"m":"")+(Q.unicode?"u":"")}function g(Q){return Q.split(/\r\n|\r|\n/)}function v(Q){for(let ye=0,Ae=Q.length;ye<Ae;ye++){const ft=Q.charCodeAt(ye);if(32!==ft&&9!==ft)return ye}return-1}function m(Q,ye=0,Ae=Q.length){for(let ft=ye;ft<Ae;ft++){const dt=Q.charCodeAt(ft);if(32!==dt&&9!==dt)return Q.substring(ye,ft)}return Q.substring(ye,Ae)}function w(Q,ye=Q.length-1){for(let Ae=ye;Ae>=0;Ae--){const ft=Q.charCodeAt(Ae);if(32!==ft&&9!==ft)return Ae}return-1}function E(Q,ye){return Q<ye?-1:Q>ye?1:0}function L(Q,ye,Ae=0,ft=Q.length,dt=0,it=ye.length){for(;Ae<ft&&dt<it;Ae++,dt++){const St=Q.charCodeAt(Ae),mt=ye.charCodeAt(dt);if(St<mt)return-1;if(St>mt)return 1}const et=ft-Ae,st=it-dt;return et<st?-1:et>st?1:0}function x(Q,ye){return A(Q,ye,0,Q.length,0,ye.length)}function A(Q,ye,Ae=0,ft=Q.length,dt=0,it=ye.length){for(;Ae<ft&&dt<it;Ae++,dt++){let St=Q.charCodeAt(Ae),mt=ye.charCodeAt(dt);if(St===mt)continue;if(St>=128||mt>=128)return L(Q.toLowerCase(),ye.toLowerCase(),Ae,ft,dt,it);W(St)&&(St-=32),W(mt)&&(mt-=32);const bt=St-mt;if(0!==bt)return bt}const et=ft-Ae,st=it-dt;return et<st?-1:et>st?1:0}function k(Q){return Q>=48&&Q<=57}function W(Q){return Q>=97&&Q<=122}function H(Q){return Q>=65&&Q<=90}function z(Q,ye){return Q.length===ye.length&&0===A(Q,ye)}function N(Q,ye){return!(ye.length>Q.length)&&0===A(Q,ye,0,ye.length)}function O(Q,ye){const Ae=Math.min(Q.length,ye.length);let ft;for(ft=0;ft<Ae;ft++)if(Q.charCodeAt(ft)!==ye.charCodeAt(ft))return ft;return Ae}function K(Q,ye){const Ae=Math.min(Q.length,ye.length);let ft;const dt=Q.length-1,it=ye.length-1;for(ft=0;ft<Ae;ft++)if(Q.charCodeAt(dt-ft)!==ye.charCodeAt(it-ft))return ft;return Ae}function $(Q){return 55296<=Q&&Q<=56319}function j(Q){return 56320<=Q&&Q<=57343}function q(Q,ye){return ye-56320+(Q-55296<<10)+65536}function R(Q,ye,Ae){const ft=Q.charCodeAt(Ae);if($(ft)&&Ae+1<ye){const dt=Q.charCodeAt(Ae+1);if(j(dt))return q(ft,dt)}return ft}class J{constructor(ye,Ae=0){this._str=ye,this._len=ye.length,this._offset=Ae}get offset(){return this._offset}setOffset(ye){this._offset=ye}prevCodePoint(){const ye=function Z(Q,ye){const Ae=Q.charCodeAt(ye-1);if(j(Ae)&&ye>1){const ft=Q.charCodeAt(ye-2);if($(ft))return q(ft,Ae)}return Ae}(this._str,this._offset);return this._offset-=ye>=65536?2:1,ye}nextCodePoint(){const ye=R(this._str,this._len,this._offset);return this._offset+=ye>=65536?2:1,ye}eol(){return this._offset>=this._len}}class Ce{constructor(ye,Ae=0){this._iterator=new J(ye,Ae)}get offset(){return this._iterator.offset}nextGraphemeLength(){const ye=Je.getInstance(),Ae=this._iterator,ft=Ae.offset;let dt=ye.getGraphemeBreakType(Ae.nextCodePoint());for(;!Ae.eol();){const it=Ae.offset,et=ye.getGraphemeBreakType(Ae.nextCodePoint());if(Ke(dt,et)){Ae.setOffset(it);break}dt=et}return Ae.offset-ft}prevGraphemeLength(){const ye=Je.getInstance(),Ae=this._iterator,ft=Ae.offset;let dt=ye.getGraphemeBreakType(Ae.prevCodePoint());for(;Ae.offset>0;){const it=Ae.offset,et=ye.getGraphemeBreakType(Ae.prevCodePoint());if(Ke(et,dt)){Ae.setOffset(it);break}dt=et}return ft-Ae.offset}eol(){return this._iterator.eol()}}function Se(Q,ye){return new Ce(Q,ye).nextGraphemeLength()}function Ie(Q,ye){return new Ce(Q,ye).prevGraphemeLength()}function xe(Q,ye){ye>0&&j(Q.charCodeAt(ye))&&ye--;const Ae=ye+Se(Q,ye);return[Ae-Ie(Q,Ae),Ae]}const Me=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Oe(Q){return Me.test(Q)}const se=/^[\t\n\r\x20-\x7E]*$/;function ce(Q){return se.test(Q)}const Ee=/[\u2028\u2029]/;function me(Q){return Ee.test(Q)}function Pe(Q){return Q>=11904&&Q<=55215||Q>=63744&&Q<=64255||Q>=65281&&Q<=65374}function he(Q){return Q>=127462&&Q<=127487||8986===Q||8987===Q||9200===Q||9203===Q||Q>=9728&&Q<=10175||11088===Q||11093===Q||Q>=127744&&Q<=128591||Q>=128640&&Q<=128764||Q>=128992&&Q<=129008||Q>=129280&&Q<=129535||Q>=129648&&Q<=129782}const Fe=String.fromCharCode(65279);function Ze(Q){return!!(Q&&Q.length>0&&65279===Q.charCodeAt(0))}function ze(Q,ye=!1){return!!Q&&(ye&&(Q=Q.replace(/\\./g,"")),Q.toLowerCase()!==Q)}function fe(Q){return Q%=52,String.fromCharCode(Q<26?97+Q:65+Q-26)}function Ke(Q,ye){return 0===Q?5!==ye&&7!==ye:!(2===Q&&3===ye||4!==Q&&2!==Q&&3!==Q&&4!==ye&&2!==ye&&3!==ye&&(8===Q&&(8===ye||9===ye||11===ye||12===ye)||(11===Q||9===Q)&&(9===ye||10===ye)||(12===Q||10===Q)&&10===ye||5===ye||13===ye||7===ye||1===Q||13===Q&&14===ye||6===Q&&6===ye))}let Je=(()=>{class Q{constructor(){this._data=function vt(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}static getInstance(){return Q._INSTANCE||(Q._INSTANCE=new Q),Q._INSTANCE}getGraphemeBreakType(Ae){if(Ae<32)return 10===Ae?3:13===Ae?2:4;if(Ae<127)return 0;const ft=this._data,dt=ft.length/3;let it=1;for(;it<=dt;)if(Ae<ft[3*it])it*=2;else{if(!(Ae>ft[3*it+1]))return ft[3*it+2];it=2*it+1}return 0}}return Q._INSTANCE=null,Q})();function Et(Q,ye){if(0===Q)return 0;const Ae=function Xe(Q,ye){const Ae=new J(ye,Q);let ft=Ae.prevCodePoint();for(;re(ft)||65039===ft||8419===ft;){if(0===Ae.offset)return;ft=Ae.prevCodePoint()}if(!he(ft))return;let dt=Ae.offset;return dt>0&&8205===Ae.prevCodePoint()&&(dt=Ae.offset),dt}(Q,ye);if(void 0!==Ae)return Ae;const ft=new J(ye,Q);return ft.prevCodePoint(),ft.offset}function re(Q){return 127995<=Q&&Q<=127999}const pe="\xa0";class ge{constructor(ye){this.confusableDictionary=ye}static getInstance(ye){return ge.cache.get(Array.from(ye))}static getLocales(){return ge._locales.getValue()}isAmbiguous(ye){return this.confusableDictionary.has(ye)}getPrimaryConfusable(ye){return this.confusableDictionary.get(ye)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}l=ge,ge.ambiguousCharacterData=new t.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),ge.cache=new s.t(Q=>{function ye(mt){const bt=new Map;for(let Bt=0;Bt<mt.length;Bt+=2)bt.set(mt[Bt],mt[Bt+1]);return bt}function ft(mt,bt){if(!mt)return bt;const Bt=new Map;for(const[Lt,Ye]of mt)bt.has(Lt)&&Bt.set(Lt,Ye);return Bt}const dt=l.ambiguousCharacterData.getValue();let et,it=Q.filter(mt=>!mt.startsWith("_")&&mt in dt);0===it.length&&(it=["_default"]);for(const mt of it)et=ft(et,ye(dt[mt]));const St=function Ae(mt,bt){const Bt=new Map(mt);for(const[Lt,Ye]of bt)Bt.set(Lt,Ye);return Bt}(ye(dt._common),et);return new ge(St)}),ge._locales=new t.o(()=>Object.keys(ge.ambiguousCharacterData.getValue()).filter(Q=>!Q.startsWith("_")));class de{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(de.getRawData())),this._data}static isInvisibleCharacter(ye){return de.getData().has(ye)}static get codePoints(){return de.getData()}}de._data=void 0},22070:(yt,T,e)=>{"use strict";function s(E){return Array.isArray(E)}function t(E){return"string"==typeof E}function l(E){return!("object"!=typeof E||null===E||Array.isArray(E)||E instanceof RegExp||E instanceof Date)}function C(E){const L=Object.getPrototypeOf(Uint8Array);return"object"==typeof E&&E instanceof L}function f(E){return"number"==typeof E&&!isNaN(E)}function I(E){return!!E&&"function"==typeof E[Symbol.iterator]}function b(E){return!0===E||!1===E}function S(E){return typeof E>"u"}function D(E){return!_(E)}function _(E){return S(E)||null===E}function r(E,L){if(!E)throw new Error(L?`Unexpected type, expected '${L}'`:"Unexpected type")}function a(E){if(_(E))throw new Error("Assertion Failed: argument is undefined or null");return E}function u(E){return"function"==typeof E}function n(E,L){const x=Math.min(E.length,L.length);for(let A=0;A<x;A++)d(E[A],L[A])}function d(E,L){if(t(L)){if(typeof E!==L)throw new Error(`argument does not match constraint: typeof ${L}`)}else if(u(L)){try{if(E instanceof L)return}catch{}if(!_(E)&&E.constructor===L||1===L.length&&!0===L.call(void 0,E))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function g(E){const L=[];for(const x of function y(E){let L=[],x=Object.getPrototypeOf(E);for(;Object.prototype!==x;)L=L.concat(Object.getOwnPropertyNames(x)),x=Object.getPrototypeOf(x);return L}(E))"function"==typeof E[x]&&L.push(x);return L}function v(E,L){const x=k=>function(){const W=Array.prototype.slice.call(arguments,0);return L(k,W)},A={};for(const k of E)A[k]=x(k);return A}function m(E){return null===E?void 0:E}function w(E,L="Unreachable"){throw new Error(L)}e.d(T,{$E:()=>g,$K:()=>D,D8:()=>n,HD:()=>t,IU:()=>v,Jp:()=>_,Kn:()=>l,Nf:()=>d,TW:()=>I,cW:()=>a,f6:()=>m,fU:()=>C,hj:()=>f,jn:()=>b,kJ:()=>s,mf:()=>u,o8:()=>S,p_:()=>r,vE:()=>w})},4193:(yt,T,e)=>{"use strict";function s(l){return l<0?0:l>255?255:0|l}function t(l){return l<0?0:l>4294967295?4294967295:0|l}e.d(T,{A:()=>t,K:()=>s})},56740:(yt,T,e)=>{"use strict";e.d(T,{o:()=>a,q:()=>v});var s=e(83872),t=e(84834);const l=/^\w[\w\d+.-]*$/,C=/^\//,f=/^\/\//;function I(x,A){if(!x.scheme&&A)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${x.authority}", path: "${x.path}", query: "${x.query}", fragment: "${x.fragment}"}`);if(x.scheme&&!l.test(x.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(x.path)if(x.authority){if(!C.test(x.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(f.test(x.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const D="",_="/",r=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class a{constructor(A,k,W,H,z,N=!1){"object"==typeof A?(this.scheme=A.scheme||D,this.authority=A.authority||D,this.path=A.path||D,this.query=A.query||D,this.fragment=A.fragment||D):(this.scheme=function b(x,A){return x||A?x:"file"}(A,N),this.authority=k||D,this.path=function S(x,A){switch(x){case"https":case"http":case"file":A?A[0]!==_&&(A=_+A):A=_}return A}(this.scheme,W||D),this.query=H||D,this.fragment=z||D,I(this,N))}static isUri(A){return A instanceof a||!!A&&"string"==typeof A.authority&&"string"==typeof A.fragment&&"string"==typeof A.path&&"string"==typeof A.query&&"string"==typeof A.scheme&&"string"==typeof A.fsPath&&"function"==typeof A.with&&"function"==typeof A.toString}get fsPath(){return v(this,!1)}with(A){if(!A)return this;let{scheme:k,authority:W,path:H,query:z,fragment:N}=A;return void 0===k?k=this.scheme:null===k&&(k=D),void 0===W?W=this.authority:null===W&&(W=D),void 0===H?H=this.path:null===H&&(H=D),void 0===z?z=this.query:null===z&&(z=D),void 0===N?N=this.fragment:null===N&&(N=D),k===this.scheme&&W===this.authority&&H===this.path&&z===this.query&&N===this.fragment?this:new n(k,W,H,z,N)}static parse(A,k=!1){const W=r.exec(A);return W?new n(W[2]||D,L(W[4]||D),L(W[5]||D),L(W[7]||D),L(W[9]||D),k):new n(D,D,D,D,D)}static file(A){let k=D;if(t.ED&&(A=A.replace(/\\/g,_)),A[0]===_&&A[1]===_){const W=A.indexOf(_,2);-1===W?(k=A.substring(2),A=_):(k=A.substring(2,W),A=A.substring(W)||_)}return new n("file",k,A,D,D)}static from(A){const k=new n(A.scheme,A.authority,A.path,A.query,A.fragment);return I(k,!0),k}static joinPath(A,...k){if(!A.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let W;return W=t.ED&&"file"===A.scheme?a.file(s.Ku.join(v(A,!0),...k)).path:s.KR.join(A.path,...k),A.with({path:W})}toString(A=!1){return m(this,A)}toJSON(){return this}static revive(A){if(A){if(A instanceof a)return A;{const k=new n(A);return k._formatted=A.external,k._fsPath=A._sep===u?A.fsPath:null,k}}return A}}const u=t.ED?1:void 0;class n extends a{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(A=!1){return A?m(this,!0):(this._formatted||(this._formatted=m(this,!1)),this._formatted)}toJSON(){const A={$mid:1};return this._fsPath&&(A.fsPath=this._fsPath,A._sep=u),this._formatted&&(A.external=this._formatted),this.path&&(A.path=this.path),this.scheme&&(A.scheme=this.scheme),this.authority&&(A.authority=this.authority),this.query&&(A.query=this.query),this.fragment&&(A.fragment=this.fragment),A}}const d={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(x,A){let k,W=-1;for(let H=0;H<x.length;H++){const z=x.charCodeAt(H);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||45===z||46===z||95===z||126===z||A&&47===z)-1!==W&&(k+=encodeURIComponent(x.substring(W,H)),W=-1),void 0!==k&&(k+=x.charAt(H));else{void 0===k&&(k=x.substr(0,H));const N=d[z];void 0!==N?(-1!==W&&(k+=encodeURIComponent(x.substring(W,H)),W=-1),k+=N):-1===W&&(W=H)}}return-1!==W&&(k+=encodeURIComponent(x.substring(W))),void 0!==k?k:x}function g(x){let A;for(let k=0;k<x.length;k++){const W=x.charCodeAt(k);35===W||63===W?(void 0===A&&(A=x.substr(0,k)),A+=d[W]):void 0!==A&&(A+=x[k])}return void 0!==A?A:x}function v(x,A){let k;return k=x.authority&&x.path.length>1&&"file"===x.scheme?`//${x.authority}${x.path}`:47===x.path.charCodeAt(0)&&(x.path.charCodeAt(1)>=65&&x.path.charCodeAt(1)<=90||x.path.charCodeAt(1)>=97&&x.path.charCodeAt(1)<=122)&&58===x.path.charCodeAt(2)?A?x.path.substr(1):x.path[1].toLowerCase()+x.path.substr(2):x.path,t.ED&&(k=k.replace(/\//g,"\\")),k}function m(x,A){const k=A?g:y;let W="",{scheme:H,authority:z,path:N,query:O,fragment:K}=x;if(H&&(W+=H,W+=":"),(z||"file"===H)&&(W+=_,W+=_),z){let $=z.indexOf("@");if(-1!==$){const j=z.substr(0,$);z=z.substr($+1),$=j.indexOf(":"),-1===$?W+=k(j,!1):(W+=k(j.substr(0,$),!1),W+=":",W+=k(j.substr($+1),!1)),W+="@"}z=z.toLowerCase(),$=z.indexOf(":"),-1===$?W+=k(z,!1):(W+=k(z.substr(0,$),!1),W+=z.substr($))}if(N){if(N.length>=3&&47===N.charCodeAt(0)&&58===N.charCodeAt(2)){const $=N.charCodeAt(1);$>=65&&$<=90&&(N=`/${String.fromCharCode($+32)}:${N.substr(3)}`)}else if(N.length>=2&&58===N.charCodeAt(1)){const $=N.charCodeAt(0);$>=65&&$<=90&&(N=`${String.fromCharCode($+32)}:${N.substr(2)}`)}W+=k(N,!0)}return O&&(W+="?",W+=k(O,!1)),K&&(W+="#",W+=A?K:y(K,!1)),W}function w(x){try{return decodeURIComponent(x)}catch{return x.length>3?x.substr(0,3)+w(x.substr(3)):x}}const E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function L(x){return x.match(E)?x.replace(E,A=>w(A)):x}},40703:(yt,T,e)=>{"use strict";e.d(T,{R:()=>s});const s=function(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let t;t="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(f){for(let I=0;I<f.length;I++)f[I]=Math.floor(256*Math.random());return f};const l=new Uint8Array(16),C=[];for(let f=0;f<256;f++)C.push(f.toString(16).padStart(2,"0"));return function(){t(l),l[6]=15&l[6]|64,l[8]=63&l[8]|128;let I=0,b="";return b+=C[l[I++]],b+=C[l[I++]],b+=C[l[I++]],b+=C[l[I++]],b+="-",b+=C[l[I++]],b+=C[l[I++]],b+="-",b+=C[l[I++]],b+=C[l[I++]],b+="-",b+=C[l[I++]],b+=C[l[I++]],b+="-",b+=C[l[I++]],b+=C[l[I++]],b+=C[l[I++]],b+=C[l[I++]],b+=C[l[I++]],b+=C[l[I++]],b}}()},62608:(yt,T,e)=>{"use strict";e.d(T,{O:()=>we});var s=e(94418),t=e(47888),l=e(3847),C=e(52364),f=e(47579),I=e(84968),b=e(31864),S=e(21576),D=e(82941),_=e(92123),r=e.n(_),a=e(65057),u=e.n(a),n=e(28764),d=e.n(n),y=e(6557),g=e.n(y),v=e(11146),m=e.n(v),w=e(95085),E=e.n(w),L=e(57585),x={};x.styleTagTransform=E(),x.setAttributes=g(),x.insert=d().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=m(),r()(L.Z,x);const W={buttonBackground:I.Il.fromHex("#0E639C"),buttonHoverBackground:I.Il.fromHex("#006BB3"),buttonSeparator:I.Il.white,buttonForeground:I.Il.white};class H extends S.JT{constructor(He,De){super(),this._onDidClick=this._register(new b.Q5),this.options=De||Object.create(null),(0,D.jB)(this.options,W,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),He.appendChild(this._element),this._register(C.o.addTarget(this._element)),[s.tw.CLICK,C.t.Tap].forEach(pt=>{this._register((0,s.nm)(this._element,pt,lt=>{this.enabled?this._onDidClick.fire(lt):s.zB.stop(lt)}))}),this._register((0,s.nm)(this._element,s.tw.KEY_DOWN,pt=>{const lt=new t.y(pt);let Ht=!1;this.enabled&&(lt.equals(3)||lt.equals(10))?(this._onDidClick.fire(pt),Ht=!0):lt.equals(9)&&(this._element.blur(),Ht=!0),Ht&&s.zB.stop(lt,!0)})),this._register((0,s.nm)(this._element,s.tw.MOUSE_OVER,pt=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,s.nm)(this._element,s.tw.MOUSE_OUT,pt=>{this.applyStyles()})),this.focusTracker=this._register((0,s.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let He;He=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,He&&(this._element.style.backgroundColor=He)}style(He){this.buttonForeground=He.buttonForeground,this.buttonBackground=He.buttonBackground,this.buttonHoverBackground=He.buttonHoverBackground,this.buttonSecondaryForeground=He.buttonSecondaryForeground,this.buttonSecondaryBackground=He.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=He.buttonSecondaryHoverBackground,this.buttonBorder=He.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let He,De;this.options.secondary?(De=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",He=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(De=this.buttonForeground?this.buttonForeground.toString():"",He=this.buttonBackground?this.buttonBackground.toString():"");const pt=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=De,this._element.style.backgroundColor=He,this._element.style.borderWidth=pt?"1px":"",this._element.style.borderStyle=pt?"solid":"",this._element.style.borderColor=pt}}get element(){return this._element}set label(He){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,s.mc)(this._element,...(0,f.T)(He)):this._element.textContent=He,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=He)}set enabled(He){He?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var z=e(29348),N=e(78239),O=e(36608),K=e(14940),$=e(41883),j=e(71943),q=e(51153),R=e(84834),Z=e(91729),J=e(22070),Ce=e(42700),Se=e(88639),Ie={};Ie.styleTagTransform=E(),Ie.setAttributes=g(),Ie.insert=d().bind(null,"head"),Ie.domAPI=u(),Ie.insertStyleElement=m(),r()(Se.Z,Ie);const Oe={},se=new Ce.R("quick-input-button-icon-");function ce(nt){if(!nt)return;let He;const De=nt.dark.toString();return Oe[De]?He=Oe[De]:(He=se.nextId(),s.fk(`.${He}, .hc-light .${He}`,`background-image: ${s.wY(nt.light||nt.dark)}`),s.fk(`.vs-dark .${He}, .hc-black .${He}`,`background-image: ${s.wY(nt.dark)}`),Oe[De]=He),He}var Ee=e(51536),me=e(1200),Pe=e(46073),he=e(18341);const Fe=s.$;class Ze extends S.JT{constructor(He){super(),this.parent=He,this.onKeyDown=De=>s.nm(this.inputBox.inputElement,s.tw.KEY_DOWN,pt=>{De(new t.y(pt))}),this.onMouseDown=De=>s.nm(this.inputBox.inputElement,s.tw.MOUSE_DOWN,pt=>{De(new Pe.n(pt))}),this.onDidChange=De=>this.inputBox.onDidChange(De),this.container=s.R3(this.parent,Fe(".quick-input-box")),this.inputBox=this._register(new he.W(this.container,void 0))}get value(){return this.inputBox.value}set value(He){this.inputBox.value=He}select(He=null){this.inputBox.select(He)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(He){this.inputBox.setPlaceHolder(He)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(He){this.inputBox.setAriaLabel(He)}get password(){return"password"===this.inputBox.inputElement.type}set password(He){this.inputBox.inputElement.type=He?"password":"text"}setAttribute(He,De){this.inputBox.inputElement.setAttribute(He,De)}removeAttribute(He){this.inputBox.inputElement.removeAttribute(He)}showDecoration(He){He===Z.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:He===Z.Z.Info?1:He===Z.Z.Warning?2:3,content:""})}stylesForType(He){return this.inputBox.stylesForType(He===Z.Z.Info?1:He===Z.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(He){this.inputBox.style(He)}}var ze=e(51970),fe=e(89466),Ke=e(29341),Je={};Je.styleTagTransform=E(),Je.setAttributes=g(),Je.insert=d().bind(null,"head"),Je.domAPI=u(),Je.insertStyleElement=m(),r()(Ke.Z,Je);const Xe=s.$;class re{constructor(He,De,pt){this.os=De,this.keyElements=new Set,this.options=pt||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=s.R3(He,Xe(".monaco-keybinding")),this.didEverRender=!1,He.appendChild(this.domNode)}get element(){return this.domNode}set(He,De){this.didEverRender&&this.keybinding===He&&re.areSame(this.matches,De)||(this.keybinding=He,this.matches=De,this.render())}render(){if(this.clear(),this.keybinding){const[He,De]=this.keybinding.getParts();He&&this.renderPart(this.domNode,He,this.matches?this.matches.firstPart:null),De&&(s.R3(this.domNode,Xe("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,De,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){s.PO(this.domNode),this.keyElements.clear()}renderPart(He,De,pt){const lt=fe.xo.modifierLabels[this.os];De.ctrlKey&&this.renderKey(He,lt.ctrlKey,!!pt?.ctrlKey,lt.separator),De.shiftKey&&this.renderKey(He,lt.shiftKey,!!pt?.shiftKey,lt.separator),De.altKey&&this.renderKey(He,lt.altKey,!!pt?.altKey,lt.separator),De.metaKey&&this.renderKey(He,lt.metaKey,!!pt?.metaKey,lt.separator);const Ht=De.keyLabel;Ht&&this.renderKey(He,Ht,!!pt?.keyCode,"")}renderKey(He,De,pt,lt){s.R3(He,this.createKeyElement(De,pt?".highlight":"")),lt&&s.R3(He,Xe("span.monaco-keybinding-key-separator",void 0,lt))}renderUnbound(He){s.R3(He,this.createKeyElement((0,me.NC)("unbound","Unbound")))}createKeyElement(He,De=""){const pt=Xe("span.monaco-keybinding-key"+De,void 0,He);return this.keyElements.add(pt),pt}style(He){this.labelBackground=He.keybindingLabelBackground,this.labelForeground=He.keybindingLabelForeground,this.labelBorder=He.keybindingLabelBorder,this.labelBottomBorder=He.keybindingLabelBottomBorder,this.labelShadow=He.keybindingLabelShadow,this.applyStyles()}applyStyles(){var He;if(this.element){for(const De of this.keyElements)this.labelBackground&&(De.style.backgroundColor=null===(He=this.labelBackground)||void 0===He?void 0:He.toString()),this.labelBorder&&(De.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(De.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(De.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(He,De){return He===De||!He&&!De||!!He&&!!De&&(0,D.fS)(He.firstPart,De.firstPart)&&(0,D.fS)(He.chordPart,De.chordPart)}}const pe=new $.Ue(()=>{const nt=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:nt,collatorIsNumeric:nt.resolvedOptions().numeric}});new $.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new $.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var ft=e(47957),dt=e(1853),it=e(77697),et=function(nt,He,De,pt){var Xt,lt=arguments.length,Ht=lt<3?He:null===pt?pt=Object.getOwnPropertyDescriptor(He,De):pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ht=Reflect.decorate(nt,He,De,pt);else for(var ut=nt.length-1;ut>=0;ut--)(Xt=nt[ut])&&(Ht=(lt<3?Xt(Ht):lt>3?Xt(He,De,Ht):Xt(He,De))||Ht);return lt>3&&Ht&&Object.defineProperty(He,De,Ht),Ht};const St=s.$;class mt{constructor(He){this.hidden=!1,this._onChecked=new b.Q5,this.onChecked=this._onChecked.event,Object.assign(this,He)}get checked(){return!!this._checked}set checked(He){He!==this._checked&&(this._checked=He,this._onChecked.fire(He))}dispose(){this._onChecked.dispose()}}let bt=(()=>{class nt{get templateId(){return nt.ID}renderTemplate(De){const pt=Object.create(null);pt.toDisposeElement=[],pt.toDisposeTemplate=[],pt.entry=s.R3(De,St(".quick-input-list-entry"));const lt=s.R3(pt.entry,St("label.quick-input-list-label"));pt.toDisposeTemplate.push(s.mu(lt,s.tw.CLICK,Gn=>{pt.checkbox.offsetParent||Gn.preventDefault()})),pt.checkbox=s.R3(lt,St("input.quick-input-list-checkbox")),pt.checkbox.type="checkbox",pt.toDisposeTemplate.push(s.mu(pt.checkbox,s.tw.CHANGE,Gn=>{pt.element.checked=pt.checkbox.checked}));const Ht=s.R3(lt,St(".quick-input-list-rows")),Xt=s.R3(Ht,St(".quick-input-list-row")),ut=s.R3(Ht,St(".quick-input-list-row"));pt.label=new ze.g(Xt,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const an=s.R3(Xt,St(".quick-input-list-entry-keybinding"));pt.keybinding=new re(an,R.OS);const Kn=s.R3(ut,St(".quick-input-list-label-meta"));return pt.detail=new ze.g(Kn,{supportHighlights:!0,supportIcons:!0}),pt.separator=s.R3(pt.entry,St(".quick-input-list-separator")),pt.actionBar=new l.o(pt.entry),pt.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),pt.toDisposeTemplate.push(pt.actionBar),pt}renderElement(De,pt,lt){lt.toDisposeElement=(0,S.B9)(lt.toDisposeElement),lt.element=De,lt.checkbox.checked=De.checked,lt.toDisposeElement.push(De.onChecked(Gn=>lt.checkbox.checked=Gn));const{labelHighlights:Ht,descriptionHighlights:Xt,detailHighlights:ut}=De,an=Object.create(null);an.matches=Ht||[],an.descriptionTitle=De.saneDescription,an.descriptionMatches=Xt||[],an.extraClasses=De.item.iconClasses,an.italic=De.item.italic,an.strikethrough=De.item.strikethrough,lt.label.setLabel(De.saneLabel,De.saneDescription,an),lt.keybinding.set(De.item.keybinding),De.saneDetail&&lt.detail.setLabel(De.saneDetail,void 0,{matches:ut,title:De.saneDetail}),De.separator&&De.separator.label?(lt.separator.textContent=De.separator.label,lt.separator.style.display=""):lt.separator.style.display="none",lt.entry.classList.toggle("quick-input-list-separator-border",!!De.separator),lt.actionBar.clear();const Kn=De.item.buttons;Kn&&Kn.length?(lt.actionBar.push(Kn.map((Gn,li)=>{let fi=Gn.iconClass||(Gn.iconPath?ce(Gn.iconPath):void 0);Gn.alwaysVisible&&(fi=fi?`${fi} always-visible`:"always-visible");const ri=new O.aU(`id-${li}`,"",fi,!0,()=>function(nt,He,De,pt){return new(De||(De=Promise))(function(Ht,Xt){function ut(Gn){try{Kn(pt.next(Gn))}catch(li){Xt(li)}}function an(Gn){try{Kn(pt.throw(Gn))}catch(li){Xt(li)}}function Kn(Gn){Gn.done?Ht(Gn.value):function lt(Ht){return Ht instanceof De?Ht:new De(function(Xt){Xt(Ht)})}(Gn.value).then(ut,an)}Kn((pt=pt.apply(nt,He||[])).next())})}(this,void 0,void 0,function*(){De.fireButtonTriggered({button:Gn,item:De.item})}));return ri.tooltip=Gn.tooltip||"",ri}),{icon:!0,label:!1}),lt.entry.classList.add("has-actions")):lt.entry.classList.remove("has-actions")}disposeElement(De,pt,lt){lt.toDisposeElement=(0,S.B9)(lt.toDisposeElement)}disposeTemplate(De){De.toDisposeElement=(0,S.B9)(De.toDisposeElement),De.toDisposeTemplate=(0,S.B9)(De.toDisposeTemplate)}}return nt.ID="listelement",nt})();class Bt{getHeight(He){return He.saneDetail?44:22}getTemplateId(He){return bt.ID}}var Lt=(()=>((Lt=Lt||{})[Lt.First=1]="First",Lt[Lt.Second=2]="Second",Lt[Lt.Last=3]="Last",Lt[Lt.Next=4]="Next",Lt[Lt.Previous=5]="Previous",Lt[Lt.NextPage=6]="NextPage",Lt[Lt.PreviousPage=7]="PreviousPage",Lt))();class Ye{constructor(He,De,pt){this.parent=He,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new b.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new b.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new b.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new b.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new b.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new b.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new b.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=De,this.container=s.R3(this.parent,St(".quick-input-list"));const lt=new Bt,Ht=new Ft;this.list=pt.createList("QuickInput",this.container,lt,[new bt],{identityProvider:{getId:Xt=>Xt.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:Ht}),this.list.getHTMLElement().id=De,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Xt=>{const ut=new t.y(Xt);switch(ut.keyCode){case 10:this.toggleCheckbox();break;case 31:(R.dz?Xt.metaKey:Xt.ctrlKey)&&this.list.setFocus((0,K.w6)(this.list.length));break;case 16:{const an=this.list.getFocus();1===an.length&&0===an[0]&&this._onLeave.fire();break}case 18:{const an=this.list.getFocus();1===an.length&&an[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(ut)})),this.disposables.push(this.list.onMouseDown(Xt=>{2!==Xt.browserEvent.button&&Xt.browserEvent.preventDefault()})),this.disposables.push(s.nm(this.container,s.tw.CLICK,Xt=>{(Xt.x||Xt.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Xt=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Xt=>{"number"==typeof Xt.index&&(Xt.browserEvent.preventDefault(),this.list.setSelection([Xt.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return b.ju.map(this.list.onDidChangeFocus,He=>He.elements.map(De=>De.item))}get onDidChangeSelection(){return b.ju.map(this.list.onDidChangeSelection,He=>({items:He.elements.map(De=>De.item),event:He.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(He){this.list.scrollTop=He}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(He,De=!0){for(let pt=0,lt=He.length;pt<lt;pt++){const Ht=He[pt];if(!Ht.hidden){if(!Ht.checked)return!1;De=!0}}return De}getCheckedCount(){let He=0;const De=this.elements;for(let pt=0,lt=De.length;pt<lt;pt++)De[pt].checked&&He++;return He}getVisibleCount(){let He=0;const De=this.elements;for(let pt=0,lt=De.length;pt<lt;pt++)De[pt].hidden||He++;return He}setAllVisibleChecked(He){try{this._fireCheckedEvents=!1,this.elements.forEach(De=>{De.hidden||(De.checked=He)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(He){this.elementDisposables=(0,S.B9)(this.elementDisposables);const De=pt=>this.fireButtonTriggered(pt);this.inputElements=He,this.elements=He.reduce((pt,lt,Ht)=>{var Xt,ut,an;if("separator"!==lt.type){const Kn=Ht&&He[Ht-1],Gn=lt.label&&lt.label.replace(/\r?\n/g," "),li=(0,dt.Ho)(Gn).text.trim(),fi=lt.meta&&lt.meta.replace(/\r?\n/g," "),ri=lt.description&&lt.description.replace(/\r?\n/g," "),_i=lt.detail&&lt.detail.replace(/\r?\n/g," "),Xi=lt.ariaLabel||[Gn,ri,_i].map(vo=>(0,q.JL)(vo)).filter(vo=>!!vo).join(", "),Zi=this.parent.classList.contains("show-checkboxes");pt.push(new mt({hasCheckbox:Zi,index:Ht,item:lt,saneLabel:Gn,saneSortLabel:li,saneMeta:fi,saneAriaLabel:Xi,saneDescription:ri,saneDetail:_i,labelHighlights:null===(Xt=lt.highlights)||void 0===Xt?void 0:Xt.label,descriptionHighlights:null===(ut=lt.highlights)||void 0===ut?void 0:ut.description,detailHighlights:null===(an=lt.highlights)||void 0===an?void 0:an.detail,checked:!1,separator:Kn&&"separator"===Kn.type?Kn:void 0,fireButtonTriggered:De}))}return pt},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(pt=>pt.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((pt,lt,Ht)=>(pt.set(lt.item,Ht),pt),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(He=>He.item)}setFocusedElements(He){if(this.list.setFocus(He.filter(De=>this.elementsToIndexes.has(De)).map(De=>this.elementsToIndexes.get(De))),He.length>0){const De=this.list.getFocus()[0];"number"==typeof De&&this.list.reveal(De)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(He){this.list.setSelection(He.filter(De=>this.elementsToIndexes.has(De)).map(De=>this.elementsToIndexes.get(De)))}getCheckedElements(){return this.elements.filter(He=>He.checked).map(He=>He.item)}setCheckedElements(He){try{this._fireCheckedEvents=!1;const De=new Set;for(const pt of He)De.add(pt);for(const pt of this.elements)pt.checked=De.has(pt.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(He){this.list.getHTMLElement().style.pointerEvents=He?"":"none"}focus(He){if(!this.list.length)return;switch(He===Lt.Next&&this.list.getFocus()[0]===this.list.length-1&&(He=Lt.First),He===Lt.Previous&&0===this.list.getFocus()[0]&&(He=Lt.Last),He===Lt.Second&&this.list.length<2&&(He=Lt.First),He){case Lt.First:this.list.focusFirst();break;case Lt.Second:this.list.focusNth(1);break;case Lt.Last:this.list.focusLast();break;case Lt.Next:this.list.focusNext();break;case Lt.Previous:this.list.focusPrevious();break;case Lt.NextPage:this.list.focusNextPage();break;case Lt.PreviousPage:this.list.focusPreviousPage()}const De=this.list.getFocus()[0];"number"==typeof De&&this.list.reveal(De)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(He){this.list.getHTMLElement().style.maxHeight=He?`calc(${44*Math.floor(He/44)}px)`:"",this.list.layout()}filter(He){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const De=He;if((He=He.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let lt;this.elements.forEach(Ht=>{let Xt;Xt="fuzzy"===this.matchOnLabelMode?this.matchOnLabel?(0,J.f6)((0,dt.Gt)(He,(0,dt.Ho)(Ht.saneLabel))):void 0:this.matchOnLabel?(0,J.f6)(function Tt(nt,He){const{text:De,iconOffsets:pt}=He;if(!pt||0===pt.length)return qt(nt,De);const lt=(0,it.j3)(De," "),Ht=De.length-lt.length,Xt=qt(nt,lt);if(Xt)for(const ut of Xt){const an=pt[ut.start+Ht]+Ht;ut.start+=an,ut.end+=an}return Xt}(De,(0,dt.Ho)(Ht.saneLabel))):void 0;const ut=this.matchOnDescription?(0,J.f6)((0,dt.Gt)(He,(0,dt.Ho)(Ht.saneDescription||""))):void 0,an=this.matchOnDetail?(0,J.f6)((0,dt.Gt)(He,(0,dt.Ho)(Ht.saneDetail||""))):void 0,Kn=this.matchOnMeta?(0,J.f6)((0,dt.Gt)(He,(0,dt.Ho)(Ht.saneMeta||""))):void 0;if(Xt||ut||an||Kn?(Ht.labelHighlights=Xt,Ht.descriptionHighlights=ut,Ht.detailHighlights=an,Ht.hidden=!1):(Ht.labelHighlights=void 0,Ht.descriptionHighlights=void 0,Ht.detailHighlights=void 0,Ht.hidden=!Ht.item.alwaysShow),Ht.separator=void 0,!this.sortByLabel){const Gn=Ht.index&&this.inputElements[Ht.index-1];lt=Gn&&"separator"===Gn.type?Gn:lt,lt&&!Ht.hidden&&(Ht.separator=lt,lt=void 0)}})}else this.elements.forEach(lt=>{lt.labelHighlights=void 0,lt.descriptionHighlights=void 0,lt.detailHighlights=void 0,lt.hidden=!1;const Ht=lt.index&&this.inputElements[lt.index-1];lt.separator=Ht&&"separator"===Ht.type?Ht:void 0});const pt=this.elements.filter(lt=>!lt.hidden);if(this.sortByLabel&&He){const lt=He.toLowerCase();pt.sort((Ht,Xt)=>function Ot(nt,He,De){const pt=nt.labelHighlights||[],lt=He.labelHighlights||[];return pt.length&&!lt.length?-1:!pt.length&&lt.length?1:0===pt.length&&0===lt.length?0:function ye(nt,He,De){const pt=nt.toLowerCase(),lt=He.toLowerCase(),Ht=function Ae(nt,He,De){const pt=nt.toLowerCase(),lt=He.toLowerCase(),Ht=pt.startsWith(De),Xt=lt.startsWith(De);if(Ht!==Xt)return Ht?-1:1;if(Ht&&Xt){if(pt.length<lt.length)return-1;if(pt.length>lt.length)return 1}return 0}(nt,He,De);if(Ht)return Ht;const Xt=pt.endsWith(De);if(Xt!==lt.endsWith(De))return Xt?-1:1;const an=function Q(nt,He,De=!1){const pt=nt||"",lt=He||"",Ht=pe.value.collator.compare(pt,lt);return pe.value.collatorIsNumeric&&0===Ht&&pt!==lt?pt<lt?-1:1:Ht}(pt,lt);return 0!==an?an:pt.localeCompare(lt)}(nt.saneSortLabel,He.saneSortLabel,De)}(Ht,Xt,lt))}return this.elementsToIndexes=pt.reduce((lt,Ht,Xt)=>(lt.set(Ht.item,Xt),lt),new Map),this.list.splice(0,this.list.length,pt),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(pt.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const He=this.list.getFocusedElements(),De=this.allVisibleChecked(He);for(const pt of He)pt.checked=!De}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(He){this.container.style.display=He?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,S.B9)(this.elementDisposables),this.disposables=(0,S.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(He){this._onButtonTriggered.fire(He)}style(He){this.list.style(He)}}function qt(nt,He){const De=He.toLowerCase().indexOf(nt.toLowerCase());return-1!==De?[{start:De,end:De+nt.length}]:null}et([ft.H],Ye.prototype,"onDidChangeFocus",null),et([ft.H],Ye.prototype,"onDidChangeSelection",null);class Ft{getWidgetAriaLabel(){return(0,me.NC)("quickInput","Quick Input")}getAriaLabel(He){var De;return null!==(De=He.separator)&&void 0!==De&&De.label?`${He.saneAriaLabel}, ${He.separator.label}`:He.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(He){return He.hasCheckbox?"checkbox":"option"}isChecked(He){if(He.hasCheckbox)return{value:He.checked,onDidChange:He.onChecked}}}var rt=function(nt,He,De,pt){return new(De||(De=Promise))(function(Ht,Xt){function ut(Gn){try{Kn(pt.next(Gn))}catch(li){Xt(li)}}function an(Gn){try{Kn(pt.throw(Gn))}catch(li){Xt(li)}}function Kn(Gn){Gn.done?Ht(Gn.value):function lt(Ht){return Ht instanceof De?Ht:new De(function(Xt){Xt(Ht)})}(Gn.value).then(ut,an)}Kn((pt=pt.apply(nt,He||[])).next())})};const Le=s.$,ie={iconClass:q.lA.quickInputBack.classNames,tooltip:(0,me.NC)("quickInput.back","Back"),handle:-1};class te extends S.JT{constructor(He){super(),this.ui=He,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=te.noPromptMessage,this._severity=Z.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new b.Q5),this.onDidHideEmitter=this._register(new b.Q5),this.onDisposeEmitter=this._register(new b.Q5),this.visibleDisposables=this._register(new S.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(He){this._title=He,this.update()}get description(){return this._description}set description(He){this._description=He,this.update()}get step(){return this._steps}set step(He){this._steps=He,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(He){this._totalSteps=He,this.update()}get enabled(){return this._enabled}set enabled(He){this._enabled=He,this.update()}get contextKey(){return this._contextKey}set contextKey(He){this._contextKey=He,this.update()}get busy(){return this._busy}set busy(He){this._busy=He,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(He){const De=this._ignoreFocusOut!==He&&!R.gn;this._ignoreFocusOut=He&&!R.gn,De&&this.update()}get buttons(){return this._buttons}set buttons(He){this._buttons=He,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(He){this._validationMessage=He,this.update()}get severity(){return this._severity}set severity(He){this._severity=He,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(He=>{-1!==this.buttons.indexOf(He)&&this.onDidTriggerButtonEmitter.fire(He)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(He=Ee.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:He})}update(){if(!this.visible)return;const He=this.getTitle();He&&this.ui.title.textContent!==He?this.ui.title.textContent=He:!He&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const De=this.getDescription();if(this.ui.description1.textContent!==De&&(this.ui.description1.textContent=De),this.ui.description2.textContent!==De&&(this.ui.description2.textContent=De),this.busy&&!this.busyDelay&&(this.busyDelay=new $._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const lt=this.buttons.filter(Xt=>Xt===ie);this.ui.leftActionBar.push(lt.map((Xt,ut)=>{const an=new O.aU(`id-${ut}`,"",Xt.iconClass||ce(Xt.iconPath),!0,()=>rt(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Xt)}));return an.tooltip=Xt.tooltip||"",an}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const Ht=this.buttons.filter(Xt=>Xt!==ie);this.ui.rightActionBar.push(Ht.map((Xt,ut)=>{const an=new O.aU(`id-${ut}`,"",Xt.iconClass||ce(Xt.iconPath),!0,()=>rt(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Xt)}));return an.tooltip=Xt.tooltip||"",an}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const pt=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==pt&&(this._lastValidationMessage=pt,s.mc(this.ui.message,...(0,f.T)(pt))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,me.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(He){if(this.ui.inputBox.showDecoration(He),He!==Z.Z.Ignore){const De=this.ui.inputBox.stylesForType(He);this.ui.message.style.color=De.foreground?`${De.foreground}`:"",this.ui.message.style.backgroundColor=De.background?`${De.background}`:"",this.ui.message.style.border=De.border?`1px solid ${De.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}te.noPromptMessage=(0,me.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class oe extends te{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new b.Q5),this.onWillAcceptEmitter=this._register(new b.Q5),this.onDidAcceptEmitter=this._register(new b.Q5),this.onDidCustomEmitter=this._register(new b.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Ee.jG.NONE:Ee.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new b.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new b.Q5),this.onDidTriggerItemButtonEmitter=this._register(new b.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=He=>He,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(He){this._quickNavigate=He,this.update()}get value(){return this._value}set value(He){this.doSetValue(He)}doSetValue(He,De){this._value!==He&&(this._value=He,De||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(He){this._ariaLabel=He,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(He){this._placeholder=He,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(He){this.ui.list.scrollTop=He}set items(He){this._items=He,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(He){this._canSelectMany=He,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(He){this._canAcceptInBackground=He}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(He){this._matchOnDescription=He,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(He){this._matchOnDetail=He,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(He){this._matchOnLabel=He,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(He){this._matchOnLabelMode=He,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(He){this._sortByLabel=He,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(He){this._autoFocusOnList=He,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(He){this._keepScrollPosition=He}get itemActivation(){return this._itemActivation}set itemActivation(He){this._itemActivation=He}get activeItems(){return this._activeItems}set activeItems(He){this._activeItems=He,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(He){this._selectedItems=He,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Ee.X5:this.ui.keyMods}set valueSelection(He){this._valueSelection=He,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(He){this._customButton=He,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(He){this._customButtonLabel=He,this.update()}get customHover(){return this._customButtonHover}set customHover(He){this._customButtonHover=He,this.update()}get ok(){return this._ok}set ok(He){this._ok=He,this.update()}get hideInput(){return!!this._hideInput}set hideInput(He){this._hideInput=He,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Lt.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(He=>{this.doSetValue(He,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(He=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(He=>{switch(He.keyCode){case 18:this.ui.list.focus(Lt.Next),this.canSelectMany&&this.ui.list.domFocus(),s.zB.stop(He,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Lt.Previous):this.ui.list.focus(Lt.Last),this.canSelectMany&&this.ui.list.domFocus(),s.zB.stop(He,!0);break;case 12:this.ui.list.focus(Lt.NextPage),this.canSelectMany&&this.ui.list.domFocus(),s.zB.stop(He,!0);break;case 11:this.ui.list.focus(Lt.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),s.zB.stop(He,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(He.ctrlKey||He.metaKey)&&!He.shiftKey&&!He.altKey&&(this.ui.list.focus(Lt.First),s.zB.stop(He,!0));break;case 13:(He.ctrlKey||He.metaKey)&&!He.shiftKey&&!He.altKey&&(this.ui.list.focus(Lt.Last),s.zB.stop(He,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(He=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,K.fS)(He,this._activeItems,(De,pt)=>De===pt)||(this._activeItems=He,this.onDidChangeActiveEmitter.fire(He))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:He,event:De})=>{this.canSelectMany?He.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,K.fS)(He,this._selectedItems,(pt,lt)=>pt===lt)||(this._selectedItems=He,this.onDidChangeSelectionEmitter.fire(He),He.length&&this.handleAccept(De instanceof MouseEvent&&1===De.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(He=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,K.fS)(He,this._selectedItems,(De,pt)=>De===pt)||(this._selectedItems=He,this.onDidChangeSelectionEmitter.fire(He)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(He=>this.onDidTriggerItemButtonEmitter.fire(He))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(He){let De=!1;this.onWillAcceptEmitter.fire({veto:()=>De=!0}),De||this.onDidAcceptEmitter.fire({inBackground:He})}registerQuickNavigation(){return s.nm(this.ui.container,s.tw.KEY_UP,He=>{if(this.canSelectMany||!this._quickNavigate)return;const De=new t.y(He),pt=De.keyCode;this._quickNavigate.keybindings.some(Xt=>{const[ut,an]=Xt.getParts();return!(an||(ut.shiftKey&&4===pt?De.ctrlKey||De.altKey||De.metaKey:!(ut.altKey&&6===pt||ut.ctrlKey&&5===pt||ut.metaKey&&57===pt)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const He=this.keepScrollPosition?this.scrollTop:0,De=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",De&&!this.description);const pt={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!De,progressBar:!De,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(pt),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let lt=this.ariaLabel;if(lt||(lt=this.placeholder||oe.DEFAULT_ARIA_LABEL,this.title&&(lt+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==lt&&(this.ui.inputBox.ariaLabel=lt),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ee.jG.NONE:this._itemActivation=Ee.jG.FIRST;break;case Ee.jG.SECOND:this.ui.list.focus(Lt.Second),this._itemActivation=Ee.jG.FIRST;break;case Ee.jG.LAST:this.ui.list.focus(Lt.Last),this._itemActivation=Ee.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),pt.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Lt.First)),this.keepScrollPosition&&(this.scrollTop=He)}}oe.DEFAULT_ARIA_LABEL=(0,me.NC)("quickInputBox.ariaLabel","Type to narrow down results.");let we=(()=>{class nt extends S.JT{constructor(De){super(),this.options=De,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new b.Q5),this.onDidCustomEmitter=this._register(new b.Q5),this.onDidTriggerButtonEmitter=this._register(new b.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new b.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new b.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=De.idPrefix,this.parentElement=De.container,this.styles=De.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const De=pt=>{this.keyMods.ctrlCmd=pt.ctrlKey||pt.metaKey,this.keyMods.alt=pt.altKey};this._register(s.nm(window,s.tw.KEY_DOWN,De,!0)),this._register(s.nm(window,s.tw.KEY_UP,De,!0)),this._register(s.nm(window,s.tw.MOUSE_DOWN,De,!0))}getUI(){if(this.ui)return this.ui;const De=s.R3(this.parentElement,Le(".quick-input-widget.show-file-icons"));De.tabIndex=-1,De.style.display="none";const pt=s.dS(De),lt=s.R3(De,Le(".quick-input-titlebar")),Ht=this._register(new l.o(lt));Ht.domNode.classList.add("quick-input-left-action-bar");const Xt=s.R3(lt,Le(".quick-input-title")),ut=this._register(new l.o(lt));ut.domNode.classList.add("quick-input-right-action-bar");const an=s.R3(De,Le(".quick-input-description")),Kn=s.R3(De,Le(".quick-input-header")),Gn=s.R3(Kn,Le("input.quick-input-check-all"));Gn.type="checkbox",Gn.setAttribute("aria-label",(0,me.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(s.mu(Gn,s.tw.CHANGE,cn=>{Dt.setAllVisibleChecked(Gn.checked)})),this._register(s.nm(Gn,s.tw.CLICK,cn=>{(cn.x||cn.y)&&_i.setFocus()}));const li=s.R3(Kn,Le(".quick-input-description")),fi=s.R3(Kn,Le(".quick-input-and-message")),ri=s.R3(fi,Le(".quick-input-filter")),_i=this._register(new Ze(ri));_i.setAttribute("aria-describedby",`${this.idPrefix}message`);const Xi=s.R3(ri,Le(".quick-input-visible-count"));Xi.setAttribute("aria-live","polite"),Xi.setAttribute("aria-atomic","true");const Zi=new z.Z(Xi,{countFormat:(0,me.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),vo=s.R3(ri,Le(".quick-input-count"));vo.setAttribute("aria-live","polite");const oo=new z.Z(vo,{countFormat:(0,me.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),yo=s.R3(Kn,Le(".quick-input-action")),Lo=new H(yo);Lo.label=(0,me.NC)("ok","OK"),this._register(Lo.onDidClick(cn=>{this.onDidAcceptEmitter.fire()}));const oi=s.R3(Kn,Le(".quick-input-action")),en=new H(oi);en.label=(0,me.NC)("custom","Custom"),this._register(en.onDidClick(cn=>{this.onDidCustomEmitter.fire()}));const wt=s.R3(fi,Le(`#${this.idPrefix}message.quick-input-message`)),Dt=this._register(new Ye(De,this.idPrefix+"list",this.options));this._register(Dt.onChangedAllVisibleChecked(cn=>{Gn.checked=cn})),this._register(Dt.onChangedVisibleCount(cn=>{Zi.setCount(cn)})),this._register(Dt.onChangedCheckedCount(cn=>{oo.setCount(cn)})),this._register(Dt.onLeave(()=>{setTimeout(()=>{_i.setFocus(),this.controller instanceof oe&&this.controller.canSelectMany&&Dt.clearFocus()},0)})),this._register(Dt.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const $t=new N.k(De);$t.getContainer().classList.add("quick-input-progress");const tn=s.go(De);return this._register(tn),this._register(s.nm(De,s.tw.FOCUS,cn=>{this.previousFocusElement=cn.relatedTarget instanceof HTMLElement?cn.relatedTarget:void 0},!0)),this._register(tn.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Ee.Jq.Blur),this.previousFocusElement=void 0})),this._register(s.nm(De,s.tw.FOCUS,cn=>{_i.setFocus()})),this._register(s.nm(De,s.tw.KEY_DOWN,cn=>{const Cn=new t.y(cn);switch(Cn.keyCode){case 3:s.zB.stop(cn,!0),this.onDidAcceptEmitter.fire();break;case 9:s.zB.stop(cn,!0),this.hide(Ee.Jq.Gesture);break;case 2:if(!Cn.altKey&&!Cn.ctrlKey&&!Cn.metaKey){const Pn=[".action-label.codicon"];De.classList.contains("show-checkboxes")?Pn.push("input"):Pn.push("input[type=text]"),this.getUI().list.isDisplayed()&&Pn.push(".monaco-list");const Hn=De.querySelectorAll(Pn.join(", "));Cn.shiftKey&&Cn.target===Hn[0]?(s.zB.stop(cn,!0),Hn[Hn.length-1].focus()):!Cn.shiftKey&&Cn.target===Hn[Hn.length-1]&&(s.zB.stop(cn,!0),Hn[0].focus())}}})),this.ui={container:De,styleSheet:pt,leftActionBar:Ht,titleBar:lt,title:Xt,description1:an,description2:li,rightActionBar:ut,checkAll:Gn,filterContainer:ri,inputBox:_i,visibleCountContainer:Xi,visibleCount:Zi,countContainer:vo,count:oo,okContainer:yo,ok:Lo,message:wt,customButtonContainer:oi,customButton:en,list:Dt,progressBar:$t,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:cn=>this.show(cn),hide:()=>this.hide(),setVisibilities:cn=>this.setVisibilities(cn),setComboboxAccessibility:cn=>this.setComboboxAccessibility(cn),setEnabled:cn=>this.setEnabled(cn),setContextKey:cn=>this.options.setContextKey(cn)},this.updateStyles(),this.ui}pick(De,pt={},lt=j.T.None){return new Promise((Ht,Xt)=>{let ut=li=>{var fi;ut=Ht,null===(fi=pt.onKeyMods)||void 0===fi||fi.call(pt,an.keyMods),Ht(li)};if(lt.isCancellationRequested)return void ut(void 0);const an=this.createQuickPick();let Kn;const Gn=[an,an.onDidAccept(()=>{if(an.canSelectMany)ut(an.selectedItems.slice()),an.hide();else{const li=an.activeItems[0];li&&(ut(li),an.hide())}}),an.onDidChangeActive(li=>{const fi=li[0];fi&&pt.onDidFocus&&pt.onDidFocus(fi)}),an.onDidChangeSelection(li=>{if(!an.canSelectMany){const fi=li[0];fi&&(ut(fi),an.hide())}}),an.onDidTriggerItemButton(li=>pt.onDidTriggerItemButton&&pt.onDidTriggerItemButton(Object.assign(Object.assign({},li),{removeItem:()=>{const fi=an.items.indexOf(li.item);if(-1!==fi){const ri=an.items.slice(),_i=ri.splice(fi,1),Xi=an.activeItems.filter(vo=>vo!==_i[0]),Zi=an.keepScrollPosition;an.keepScrollPosition=!0,an.items=ri,Xi&&(an.activeItems=Xi),an.keepScrollPosition=Zi}}}))),an.onDidChangeValue(li=>{Kn&&!li&&(1!==an.activeItems.length||an.activeItems[0]!==Kn)&&(an.activeItems=[Kn])}),lt.onCancellationRequested(()=>{an.hide()}),an.onDidHide(()=>{(0,S.B9)(Gn),ut(void 0)})];an.title=pt.title,an.canSelectMany=!!pt.canPickMany,an.placeholder=pt.placeHolder,an.ignoreFocusOut=!!pt.ignoreFocusLost,an.matchOnDescription=!!pt.matchOnDescription,an.matchOnDetail=!!pt.matchOnDetail,an.matchOnLabel=void 0===pt.matchOnLabel||pt.matchOnLabel,an.autoFocusOnList=void 0===pt.autoFocusOnList||pt.autoFocusOnList,an.quickNavigate=pt.quickNavigate,an.hideInput=!!pt.hideInput,an.contextKey=pt.contextKey,an.busy=!0,Promise.all([De,pt.activeItem]).then(([li,fi])=>{Kn=fi,an.busy=!1,an.items=li,an.canSelectMany&&(an.selectedItems=li.filter(ri=>"separator"!==ri.type&&ri.picked)),Kn&&(an.activeItems=[Kn])}),an.show(),Promise.resolve(De).then(void 0,li=>{Xt(li),an.hide()})})}createQuickPick(){const De=this.getUI();return new oe(De)}show(De){const pt=this.getUI();this.onShowEmitter.fire();const lt=this.controller;this.controller=De,lt&&lt.didHide(),this.setEnabled(!0),pt.leftActionBar.clear(),pt.title.textContent="",pt.description1.textContent="",pt.description2.textContent="",pt.rightActionBar.clear(),pt.checkAll.checked=!1,pt.inputBox.placeholder="",pt.inputBox.password=!1,pt.inputBox.showDecoration(Z.Z.Ignore),pt.visibleCount.setCount(0),pt.count.setCount(0),s.mc(pt.message),pt.progressBar.stop(),pt.list.setElements([]),pt.list.matchOnDescription=!1,pt.list.matchOnDetail=!1,pt.list.matchOnLabel=!0,pt.list.sortByLabel=!0,pt.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),pt.inputBox.ariaLabel="";const Ht=this.options.backKeybindingLabel();ie.tooltip=Ht?(0,me.NC)("quickInput.backWithKeybinding","Back ({0})",Ht):(0,me.NC)("quickInput.back","Back"),pt.container.style.display="",this.updateLayout(),pt.inputBox.setFocus()}setVisibilities(De){const pt=this.getUI();pt.title.style.display=De.title?"":"none",pt.description1.style.display=De.description&&(De.inputBox||De.checkAll)?"":"none",pt.description2.style.display=!De.description||De.inputBox||De.checkAll?"none":"",pt.checkAll.style.display=De.checkAll?"":"none",pt.filterContainer.style.display=De.inputBox?"":"none",pt.visibleCountContainer.style.display=De.visibleCount?"":"none",pt.countContainer.style.display=De.count?"":"none",pt.okContainer.style.display=De.ok?"":"none",pt.customButtonContainer.style.display=De.customButton?"":"none",pt.message.style.display=De.message?"":"none",pt.progressBar.getContainer().style.display=De.progressBar?"":"none",pt.list.display(!!De.list),pt.container.classList[De.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(De){if(De!==this.comboboxAccessibility){const pt=this.getUI();this.comboboxAccessibility=De,this.comboboxAccessibility?(pt.inputBox.setAttribute("role","combobox"),pt.inputBox.setAttribute("aria-haspopup","true"),pt.inputBox.setAttribute("aria-autocomplete","list"),pt.inputBox.setAttribute("aria-activedescendant",pt.list.getActiveDescendant()||"")):(pt.inputBox.removeAttribute("role"),pt.inputBox.removeAttribute("aria-haspopup"),pt.inputBox.removeAttribute("aria-autocomplete"),pt.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(De){if(De!==this.enabled){this.enabled=De;for(const pt of this.getUI().leftActionBar.viewItems)pt.getAction().enabled=De;for(const pt of this.getUI().rightActionBar.viewItems)pt.getAction().enabled=De;this.getUI().checkAll.disabled=!De,this.getUI().ok.enabled=De,this.getUI().list.enabled=De}}hide(De){var pt;const lt=this.controller;if(lt){const Ht=!(null!==(pt=this.ui)&&void 0!==pt&&pt.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!Ht){let Xt=this.previousFocusElement;for(;Xt&&!Xt.offsetParent;)Xt=(0,J.f6)(Xt.parentElement);Xt?.offsetParent?(Xt.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}lt.didHide(De)}}layout(De,pt){this.dimension=De,this.titleBarOffset=pt,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const De=this.ui.container.style,pt=Math.min(.62*this.dimension.width,nt.MAX_WIDTH);De.width=pt+"px",De.marginLeft="-"+pt/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(De){this.styles=De,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:De,quickInputBackground:pt,quickInputForeground:lt,contrastBorder:Ht,widgetShadow:Xt}=this.styles.widget;this.ui.titleBar.style.backgroundColor=De?De.toString():"",this.ui.container.style.backgroundColor=pt?pt.toString():"",this.ui.container.style.color=lt?lt.toString():"",this.ui.container.style.border=Ht?`1px solid ${Ht}`:"",this.ui.container.style.boxShadow=Xt?`0 0 8px 2px ${Xt}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const ut=[];this.styles.list.pickerGroupBorder&&ut.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&ut.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ut.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ut.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ut.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ut.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ut.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ut.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ut.push("}"));const an=ut.join("\n");an!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=an)}}}return nt.MAX_WIDTH=600,nt})()},51536:(yt,T,e)=>{"use strict";e.d(T,{Jq:()=>t,X5:()=>s,jG:()=>l});const s={ctrlCmd:!1,alt:!1};var t=(()=>((t=t||{})[t.Blur=1]="Blur",t[t.Gesture=2]="Gesture",t[t.Other=3]="Other",t))(),l=(()=>((l=l||{})[l.NONE=0]="NONE",l[l.FIRST=1]="FIRST",l[l.SECOND=2]="SECOND",l[l.LAST=3]="LAST",l))();new class C{constructor(b){this.options=b}}},27586:(yt,T,e)=>{"use strict";e.d(T,{H:()=>y});var s=e(78450),t=e(13688),l=e(79388),C=Object.defineProperty,f=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,S=(g,v,m,w)=>{if(v&&"object"==typeof v||"function"==typeof v)for(let E of I(v))!b.call(g,E)&&E!==m&&C(g,E,{get:()=>v[E],enumerable:!(w=f(v,E))||w.enumerable});return g},_={};S(_,l,"default");var r={},a={},u=class _u{static getOrCreate(v){return a[v]||(a[v]=new _u(v)),a[v]}constructor(v){(0,t.Z)(this,"_languageId",void 0),(0,t.Z)(this,"_loadingTriggered",void 0),(0,t.Z)(this,"_lazyLoadPromise",void 0),(0,t.Z)(this,"_lazyLoadPromiseResolve",void 0),(0,t.Z)(this,"_lazyLoadPromiseReject",void 0),this._languageId=v,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((m,w)=>{this._lazyLoadPromiseResolve=m,this._lazyLoadPromiseReject=w})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,r[this._languageId].loader().then(v=>this._lazyLoadPromiseResolve(v),v=>this._lazyLoadPromiseReject(v))),this._lazyLoadPromise}};function y(g){const v=g.id;r[v]=g,_.languages.register(g);const m=u.getOrCreate(v);var w;_.languages.registerTokensProviderFactory(v,{create:(w=(0,s.Z)(function*(){return(yield m.load()).language}),function(){return w.apply(this,arguments)})}),_.languages.onLanguage(v,(0,s.Z)(function*(){const w=yield m.load();_.languages.setLanguageConfiguration(v,w.conf)}))}},70007:(yt,T,e)=>{"use strict";e.r(T),(0,e(27586).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([e.e(592),e.e(337)]).then(e.bind(e,71337))})},26650:(yt,T,e)=>{"use strict";e.r(T),(0,e(27586).H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(592).then(e.bind(e,5003))})},20635:(yt,T,e)=>{"use strict";e.d(T,{N:()=>t});var s=e(81500);function t(l,C){l instanceof s.Z?(l.setFontFamily(C.getMassagedFontFamily()),l.setFontWeight(C.fontWeight),l.setFontSize(C.fontSize),l.setFontFeatureSettings(C.fontFeatureSettings),l.setLineHeight(C.lineHeight),l.setLetterSpacing(C.letterSpacing)):(l.style.fontFamily=C.getMassagedFontFamily(),l.style.fontWeight=C.fontWeight,l.style.fontSize=C.fontSize+"px",l.style.fontFeatureSettings=C.fontFeatureSettings,l.style.lineHeight=C.lineHeight+"px",l.style.letterSpacing=C.letterSpacing+"px")}},5686:(yt,T,e)=>{"use strict";e.d(T,{I:()=>l});var s=e(21576),t=e(31864);class l extends s.JT{constructor(f,I){super(),this._onDidChange=this._register(new t.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=f,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,I)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(f=>{f&&f[0]&&f[0].contentRect?this.observe({width:f[0].contentRect.width,height:f[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(f){this.measureReferenceDomElement(!0,f)}measureReferenceDomElement(f,I){let b=0,S=0;I?(b=I.width,S=I.height):this._referenceDomElement&&(b=this._referenceDomElement.clientWidth,S=this._referenceDomElement.clientHeight),b=Math.max(5,b),S=Math.max(5,S),(this._width!==b||this._height!==S)&&(this._width=b,this._height=S,f&&this._onDidChange.fire())}}},22728:(yt,T,e)=>{"use strict";e.d(T,{g:()=>a});var s=e(52253),t=e(31864),l=e(21576),C=e(20635);class f{constructor(n,d){this.chr=n,this.type=d,this.width=0}fulfill(n){this.width=n}}class I{constructor(n,d){this._bareFontInfo=n,this._requests=d,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const d=document.createElement("div");(0,C.N)(d,this._bareFontInfo),n.appendChild(d);const y=document.createElement("div");(0,C.N)(y,this._bareFontInfo),y.style.fontWeight="bold",n.appendChild(y);const g=document.createElement("div");(0,C.N)(g,this._bareFontInfo),g.style.fontStyle="italic",n.appendChild(g);const v=[];for(const m of this._requests){let w;0===m.type&&(w=d),2===m.type&&(w=y),1===m.type&&(w=g),w.appendChild(document.createElement("br"));const E=document.createElement("span");I._render(E,m),w.appendChild(E),v.push(E)}this._container=n,this._testElements=v}static _render(n,d){if(" "===d.chr){let y="\xa0";for(let g=0;g<8;g++)y+=y;n.innerText=y}else{let y=d.chr;for(let g=0;g<8;g++)y+=y;n.textContent=y}}_readFromDomElements(){for(let n=0,d=this._requests.length;n<d;n++)this._requests[n].fulfill(this._testElements[n].offsetWidth/256)}}var S=e(11739),D=e(78626);class r{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const d=n.getId();return!!this._values[d]}get(n){const d=n.getId();return this._values[d]}put(n,d){const y=n.getId();this._keys[y]=n,this._values[y]=d}remove(n){const d=n.getId();delete this._keys[d],delete this._values[d]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}const a=new class _ extends l.JT{constructor(){super(),this._onDidChange=this._register(new t.Q5),this.onDidChange=this._onDidChange.event,this._cache=new r,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new r,this._onDidChange.fire()}_writeToCache(n,d){this._cache.put(n,d),!d.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let d=!1;for(const y of n)y.isTrusted||(d=!0,this._cache.remove(y));d&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let d=this._actualReadFontInfo(n);(d.typicalHalfwidthCharacterWidth<=2||d.typicalFullwidthCharacterWidth<=2||d.spaceWidth<=2||d.maxDigitWidth<=2)&&(d=new D.pR({pixelRatio:s.PixelRatio.value,fontFamily:d.fontFamily,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFeatureSettings:d.fontFeatureSettings,lineHeight:d.lineHeight,letterSpacing:d.letterSpacing,isMonospace:d.isMonospace,typicalHalfwidthCharacterWidth:Math.max(d.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(d.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:d.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(d.spaceWidth,5),middotWidth:Math.max(d.middotWidth,5),wsmiddotWidth:Math.max(d.wsmiddotWidth,5),maxDigitWidth:Math.max(d.maxDigitWidth,5)},!1)),this._writeToCache(n,d)}return this._cache.get(n)}_createRequest(n,d,y,g){const v=new f(n,d);return y.push(v),g?.push(v),v}_actualReadFontInfo(n){const d=[],y=[],g=this._createRequest("n",0,d,y),v=this._createRequest("\uff4d",0,d,null),m=this._createRequest(" ",0,d,y),w=this._createRequest("0",0,d,y),E=this._createRequest("1",0,d,y),L=this._createRequest("2",0,d,y),x=this._createRequest("3",0,d,y),A=this._createRequest("4",0,d,y),k=this._createRequest("5",0,d,y),W=this._createRequest("6",0,d,y),H=this._createRequest("7",0,d,y),z=this._createRequest("8",0,d,y),N=this._createRequest("9",0,d,y),O=this._createRequest("\u2192",0,d,y),K=this._createRequest("\uffeb",0,d,null),$=this._createRequest("\xb7",0,d,y),j=this._createRequest(String.fromCharCode(11825),0,d,null),q="|/-_ilm%";for(let Se=0,Ie=8;Se<Ie;Se++)this._createRequest(q.charAt(Se),0,d,y),this._createRequest(q.charAt(Se),1,d,y),this._createRequest(q.charAt(Se),2,d,y);!function b(u,n){new I(u,n).read()}(n,d);const R=Math.max(w.width,E.width,L.width,x.width,A.width,k.width,W.width,H.width,z.width,N.width);let Z=n.fontFeatureSettings===S.n0.OFF;const J=y[0].width;for(let Se=1,Ie=y.length;Z&&Se<Ie;Se++){const xe=J-y[Se].width;if(xe<-.001||xe>.001){Z=!1;break}}let Ce=!0;return Z&&K.width!==J&&(Ce=!1),K.width>O.width&&(Ce=!1),new D.pR({pixelRatio:s.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:Z,typicalHalfwidthCharacterWidth:g.width,typicalFullwidthCharacterWidth:v.width,canUseHalfwidthRightwardsArrow:Ce,spaceWidth:m.width,middotWidth:$.width,wsmiddotWidth:j.width,maxDigitWidth:R},!0)}}},74070:(yt,T,e)=>{"use strict";e.d(T,{n:()=>l});var s=e(31864);const l=new class t{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new s.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(f){this._tabFocus!==f&&(this._tabFocus=f,this._onDidChangeTabFocus.fire(this._tabFocus))}}},87465:(yt,T,e)=>{"use strict";e.d(T,{Fz:()=>d,Nl:()=>u,RA:()=>a,Tj:()=>g,pd:()=>r});var s=e(52253),t=e(94418),l=e(47888),C=e(41883),f=e(31864),I=e(21576),b=e(98225),S=e(77697),D=e(17508),_=e(58745),r=(()=>((r=r||{}).Tap="-monaco-textarea-synthetic-tap",r))();const a={forceCopyWithSyntaxHighlighting:!1};class u{constructor(){this._lastState=null}set(m,w){this._lastState={lastCopiedValue:m,data:w}}get(m){return this._lastState&&this._lastState.lastCopiedValue===m?this._lastState.data:(this._lastState=null,null)}}u.INSTANCE=new u;class n{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(m){const w={text:m=m||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=m.length,w}}class d extends I.JT{constructor(m,w,E,L){super(),this._host=m,this._textArea=w,this._OS=E,this._browser=L,this._onFocus=this._register(new f.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new f.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new f.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new f.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new f.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new f.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new f.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new f.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new f.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new f.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new f.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new C.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new C.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=D.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let x=null;this._register(this._textArea.onKeyDown(A=>{const k=new l.y(A);(109===k.keyCode||this._currentComposition&&1===k.keyCode)&&k.stopPropagation(),k.equals(9)&&k.preventDefault(),x=k,this._onKeyDown.fire(k)})),this._register(this._textArea.onKeyUp(A=>{const k=new l.y(A);this._onKeyUp.fire(k)})),this._register(this._textArea.onCompositionStart(A=>{D.al&&console.log("[compositionstart]",A);const k=new n;if(!this._currentComposition)return this._currentComposition=k,2===this._OS&&x&&x.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===A.data&&("ArrowRight"===x.code||"ArrowLeft"===x.code)?(D.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",A),k.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:A.data})):void this._onCompositionStart.fire({data:A.data});this._currentComposition=k})),this._register(this._textArea.onCompositionUpdate(A=>{D.al&&console.log("[compositionupdate]",A);const k=this._currentComposition;if(!k)return;if(this._browser.isAndroid){const H=D.un.readFromTextArea(this._textArea),z=D.un.deduceAndroidCompositionInput(this._textAreaState,H);return this._textAreaState=H,this._onType.fire(z),void this._onCompositionUpdate.fire(A)}const W=k.handleCompositionUpdate(A.data);this._textAreaState=D.un.readFromTextArea(this._textArea),this._onType.fire(W),this._onCompositionUpdate.fire(A)})),this._register(this._textArea.onCompositionEnd(A=>{D.al&&console.log("[compositionend]",A);const k=this._currentComposition;if(!k)return;if(this._currentComposition=null,this._browser.isAndroid){const H=D.un.readFromTextArea(this._textArea),z=D.un.deduceAndroidCompositionInput(this._textAreaState,H);return this._textAreaState=H,this._onType.fire(z),void this._onCompositionEnd.fire()}const W=k.handleCompositionUpdate(A.data);this._textAreaState=D.un.readFromTextArea(this._textArea),this._onType.fire(W),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(A=>{if(D.al&&console.log("[input]",A),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const k=D.un.readFromTextArea(this._textArea),W=D.un.deduceInput(this._textAreaState,k,2===this._OS);0===W.replacePrevCharCnt&&1===W.text.length&&S.ZG(W.text.charCodeAt(0))||(this._textAreaState=k,(""!==W.text||0!==W.replacePrevCharCnt||0!==W.replaceNextCharCnt||0!==W.positionDelta)&&this._onType.fire(W))})),this._register(this._textArea.onCut(A=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(A),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(A=>{this._ensureClipboardGetsEditorSelection(A)})),this._register(this._textArea.onPaste(A=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),A.preventDefault(),!A.clipboardData)return;let[k,W]=y.getTextData(A.clipboardData);k&&(W=W||u.INSTANCE.get(k),this._onPaste.fire({text:k,metadata:W}))})),this._register(this._textArea.onFocus(()=>{const A=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!A&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let m=0;return t.nm(document,"selectionchange",w=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const E=Date.now(),L=E-m;if(m=E,L<5)return;const x=E-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),x<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const A=this._textArea.getValue();if(this._textAreaState.value!==A)return;const k=this._textArea.getSelectionStart(),W=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===k&&this._textAreaState.selectionEnd===W)return;const H=this._textAreaState.deduceEditorPosition(k),z=this._host.deduceModelPosition(H[0],H[1],H[2]),N=this._textAreaState.deduceEditorPosition(W),O=this._host.deduceModelPosition(N[0],N[1],N[2]),K=new _.Y(z.lineNumber,z.column,O.lineNumber,O.column);this._onSelectionChangeRequest.fire(K)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(m){this._hasFocus!==m&&(this._hasFocus=m,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(m,w){this._hasFocus||(w=w.collapseSelection()),w.writeToTextArea(m,this._textArea,this._hasFocus),this._textAreaState=w}writeScreenReaderContent(m){this._currentComposition||this._setAndWriteTextAreaState(m,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(m){const w=this._host.getDataToCopy(),E={version:1,isFromEmptySelection:w.isFromEmptySelection,multicursorText:w.multicursorText,mode:w.mode};u.INSTANCE.set(this._browser.isFirefox?w.text.replace(/\r\n/g,"\n"):w.text,E),m.preventDefault(),m.clipboardData&&y.setTextData(m.clipboardData,w.text,w.html,E)}}class y{static getTextData(m){const w=m.getData(b.v.text);let E=null;const L=m.getData("vscode-editor-data");if("string"==typeof L)try{E=JSON.parse(L),1!==E.version&&(E=null)}catch{}return 0===w.length&&null===E&&m.files.length>0?[Array.prototype.slice.call(m.files,0).map(A=>A.name).join("\n"),null]:[w,E]}static setTextData(m,w,E,L){m.setData(b.v.text,w),"string"==typeof E&&m.setData("text/html",E),m.setData("vscode-editor-data",JSON.stringify(L))}}class g extends I.JT{constructor(m){super(),this._actual=m,this.onKeyDown=this._register(t.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(t.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(t.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(t.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(t.IC(this._actual,"compositionend")).event,this.onInput=this._register(t.IC(this._actual,"input")).event,this.onCut=this._register(t.IC(this._actual,"cut")).event,this.onCopy=this._register(t.IC(this._actual,"copy")).event,this.onPaste=this._register(t.IC(this._actual,"paste")).event,this.onFocus=this._register(t.IC(this._actual,"focus")).event,this.onBlur=this._register(t.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new f.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(t.nm(this._actual,r.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const m=t.Ay(this._actual);return m?m.activeElement===this._actual:!!t.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(m){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(m,w){const E=this._actual;E.value!==w&&(this.setIgnoreSelectionChangeTime("setValue"),E.value=w)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(m,w,E){const L=this._actual;let x=null;const A=t.Ay(L);x=A?A.activeElement:document.activeElement;const k=x===L;if(k&&L.selectionStart===w&&L.selectionEnd===E)s.isFirefox&&window.parent!==window&&L.focus();else{if(k)return this.setIgnoreSelectionChangeTime("setSelectionRange"),L.setSelectionRange(w,E),void(s.isFirefox&&window.parent!==window&&L.focus());try{const z=t.vL(L);this.setIgnoreSelectionChangeTime("setSelectionRange"),L.focus(),L.setSelectionRange(w,E),t._0(L,z)}catch{}}}}},17508:(yt,T,e)=>{"use strict";e.d(T,{al:()=>C,ee:()=>I,un:()=>f});var s=e(77697),t=e(13902),l=e(88154);const C=!1;class f{constructor(S,D,_,r,a){this.value=S,this.selectionStart=D,this.selectionEnd=_,this.selectionStartPosition=r,this.selectionEndPosition=a}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(S){return new f(S.getValue(),S.getSelectionStart(),S.getSelectionEnd(),null,null)}collapseSelection(){return new f(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(S,D,_){C&&console.log(`writeToTextArea ${S}: ${this.toString()}`),D.setValue(S,this.value),_&&D.setSelectionRange(S,this.selectionStart,this.selectionEnd)}deduceEditorPosition(S){if(S<=this.selectionStart){const r=this.value.substring(S,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,r,-1)}if(S>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,S);return this._finishDeduceEditorPosition(this.selectionEndPosition,r,1)}const D=this.value.substring(this.selectionStart,S);if(-1===D.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,D,1);const _=this.value.substring(S,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,-1)}_finishDeduceEditorPosition(S,D,_){let r=0,a=-1;for(;-1!==(a=D.indexOf("\n",a+1));)r++;return[S,_*D.length,r]}static deduceInput(S,D,_){if(!S)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};C&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${S.toString()}`),console.log(`CURRENT STATE: ${D.toString()}`));const r=Math.min(s.Mh(S.value,D.value),S.selectionStart,D.selectionStart),a=Math.min(s.P1(S.value,D.value),S.value.length-S.selectionEnd,D.value.length-D.selectionEnd),u=S.value.substring(r,S.value.length-a),n=D.value.substring(r,D.value.length-a),d=S.selectionStart-r,y=S.selectionEnd-r,g=D.selectionStart-r,v=D.selectionEnd-r;if(C&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${u}>, selectionStart: ${d}, selectionEnd: ${y}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${g}, selectionEnd: ${v}`)),g===v){const w=S.selectionStart-r;return C&&console.log(`REMOVE PREVIOUS: ${w} chars`),{text:n,replacePrevCharCnt:w,replaceNextCharCnt:0,positionDelta:0}}return{text:n,replacePrevCharCnt:y-d,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(S,D){if(!S)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(C&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${S.toString()}`),console.log(`CURRENT STATE: ${D.toString()}`)),S.value===D.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:D.selectionEnd-S.selectionEnd};const _=Math.min(s.Mh(S.value,D.value),S.selectionEnd),r=Math.min(s.P1(S.value,D.value),S.value.length-S.selectionEnd),a=S.value.substring(_,S.value.length-r),u=D.value.substring(_,D.value.length-r),d=S.selectionEnd-_,y=D.selectionStart-_,g=D.selectionEnd-_;return C&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${S.selectionStart-_}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${u}>, selectionStart: ${y}, selectionEnd: ${g}`)),{text:u,replacePrevCharCnt:d,replaceNextCharCnt:a.length-d,positionDelta:g-u.length}}}f.EMPTY=new f("",0,0,null,null);class I{static _getPageOfLine(S,D){return Math.floor((S-1)/D)}static _getRangeForPage(S,D){const _=S*D;return new l.e(_+1,1,_+D+1,1)}static fromEditorSelection(S,D,_,r,a){const u=I._getPageOfLine(_.startLineNumber,r),n=I._getRangeForPage(u,r),d=I._getPageOfLine(_.endLineNumber,r),y=I._getRangeForPage(d,r),g=n.intersectRanges(new l.e(1,1,_.startLineNumber,_.startColumn));let v=D.getValueInRange(g,1);const m=D.getLineCount(),w=D.getLineMaxColumn(m),E=y.intersectRanges(new l.e(_.endLineNumber,_.endColumn,m,w));let x,L=D.getValueInRange(E,1);if(u===d||u+1===d)x=D.getValueInRange(_,1);else{const A=n.intersectRanges(_),k=y.intersectRanges(_);x=D.getValueInRange(A,1)+String.fromCharCode(8230)+D.getValueInRange(k,1)}return a&&(v.length>500&&(v=v.substring(v.length-500,v.length)),L.length>500&&(L=L.substring(0,500)),x.length>1e3&&(x=x.substring(0,500)+String.fromCharCode(8230)+x.substring(x.length-500,x.length))),new f(v+x+L,v.length,v.length+x.length,new t.L(_.startLineNumber,_.startColumn),new t.L(_.endLineNumber,_.endColumn))}}},75090:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CoreEditingCommands:()=>W,CoreEditorCommand:()=>v,CoreNavigationCommands:()=>L,EditorScroll_:()=>m,RevealLine_:()=>w});var s=e(1200),t=e(52253),l=e(22070),C=e(48460),f=e(95102),I=e(60896),b=e(58841),S=e(13902),D=e(88154);class _{static columnSelect(O,K,$,j,q,R){const Z=Math.abs(q-$)+1,J=$>q,Ce=j>R,Se=j<R,Ie=[];for(let xe=0;xe<Z;xe++){const Me=$+(J?-xe:xe),Oe=O.columnFromVisibleColumn(K,Me,j),se=O.columnFromVisibleColumn(K,Me,R),ce=O.visibleColumnFromColumn(K,new S.L(Me,Oe)),Ee=O.visibleColumnFromColumn(K,new S.L(Me,se));Se&&(ce>R||Ee<j)||Ce&&(Ee>j||ce<R)||Ie.push(new b.rS(new D.e(Me,Oe,Me,Oe),0,new S.L(Me,se),0))}if(0===Ie.length)for(let xe=0;xe<Z;xe++){const Me=$+(J?-xe:xe),Oe=K.getLineMaxColumn(Me);Ie.push(new b.rS(new D.e(Me,Oe,Me,Oe),0,new S.L(Me,Oe),0))}return{viewStates:Ie,reversed:J,fromLineNumber:$,fromVisualColumn:j,toLineNumber:q,toVisualColumn:R}}static columnSelectLeft(O,K,$){let j=$.toViewVisualColumn;return j>0&&j--,_.columnSelect(O,K,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,j)}static columnSelectRight(O,K,$){let j=0;const q=Math.min($.fromViewLineNumber,$.toViewLineNumber),R=Math.max($.fromViewLineNumber,$.toViewLineNumber);for(let J=q;J<=R;J++){const Ce=K.getLineMaxColumn(J),Se=O.visibleColumnFromColumn(K,new S.L(J,Ce));j=Math.max(j,Se)}let Z=$.toViewVisualColumn;return Z<j&&Z++,this.columnSelect(O,K,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,Z)}static columnSelectUp(O,K,$,j){const R=Math.max(1,$.toViewLineNumber-(j?O.pageSize:1));return this.columnSelect(O,K,$.fromViewLineNumber,$.fromViewVisualColumn,R,$.toViewVisualColumn)}static columnSelectDown(O,K,$,j){const q=j?O.pageSize:1,R=Math.min(K.getLineCount(),$.toViewLineNumber+q);return this.columnSelect(O,K,$.fromViewLineNumber,$.fromViewVisualColumn,R,$.toViewVisualColumn)}}var r=e(23292),a=e(50592),u=e(16649),n=e(72325),d=e(38336),y=e(47545);const g=0;class v extends f._l{runEditorCommand(O,K,$){const j=K._getViewModel();j&&this.runCoreEditorCommand(j,$||{})}}var m,N,w,L;(N=m||(m={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function($){if(!l.Kn($))return!1;const j=$;return!(!l.HD(j.to)||!l.o8(j.by)&&!l.HD(j.by)||!l.o8(j.value)&&!l.hj(j.value)||!l.o8(j.revealCursor)&&!l.jn(j.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Down:"down"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"},N.parse=function K($){let j,q;switch($.to){case N.RawDirection.Up:j=1;break;case N.RawDirection.Down:j=2;break;default:return null}switch($.by){case N.RawUnit.Line:q=1;break;case N.RawUnit.WrappedLine:q=2;break;case N.RawUnit.Page:q=3;break;case N.RawUnit.HalfPage:q=4;break;case N.RawUnit.Editor:q=5;break;default:q=2}return{direction:j,unit:q,value:Math.floor($.value||1),revealCursor:!!$.revealCursor,select:!!$.select}},function(N){N.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(K){if(!l.Kn(K))return!1;const $=K;return!(!l.hj($.lineNumber)&&!l.HD($.lineNumber)||!l.o8($.at)&&!l.HD($.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(w||(w={}));class E{constructor(O){O.addImplementation(1e4,"code-editor",(K,$)=>{const j=K.get(I.$).getFocusedCodeEditor();return!(!j||!j.hasTextFocus())&&this._runEditorCommand(K,j,$)}),O.addImplementation(1e3,"generic-dom-input-textarea",(K,$)=>{const j=document.activeElement;return!!(j&&["input","textarea"].indexOf(j.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),O.addImplementation(0,"generic-dom",(K,$)=>{const j=K.get(I.$).getActiveCodeEditor();return!!j&&(j.focus(),this._runEditorCommand(K,j,$))})}_runEditorCommand(O,K,$){return this.runEditorCommand(O,K,$)||!0}}!function(N){class O extends v{constructor(me){super(me),this._minimalReveal=me.minimalReveal,this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,[a.P.moveTo(me,me.getPrimaryCursorState(),this._inSelectionMode,Pe.position,Pe.viewPosition)])&&me.revealPrimaryCursor(Pe.source,!0,this._minimalReveal)}}N.MoveTo=(0,f.fK)(new O({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,f.fK)(new O({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class K extends v{runCoreEditorCommand(me,Pe){me.model.pushStackElement();const he=this._getColumnSelectResult(me,me.getPrimaryCursorState(),me.getCursorColumnSelectData(),Pe);me.setCursorStates(Pe.source,3,he.viewStates.map(Fe=>b.Vi.fromViewState(Fe))),me.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:he.fromLineNumber,fromViewVisualColumn:he.fromVisualColumn,toViewLineNumber:he.toLineNumber,toViewVisualColumn:he.toVisualColumn}),he.reversed?me.revealTopMostCursor(Pe.source):me.revealBottomMostCursor(Pe.source)}}N.ColumnSelect=(0,f.fK)(new class extends K{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Ee,me,Pe,he){const Fe=Ee.model.validatePosition(he.position),Ze=Ee.coordinatesConverter.validateViewPosition(new S.L(he.viewPosition.lineNumber,he.viewPosition.column),Fe);return _.columnSelect(Ee.cursorConfig,Ee,he.doColumnSelect?Pe.fromViewLineNumber:Ze.lineNumber,he.doColumnSelect?Pe.fromViewVisualColumn:he.mouseColumn-1,Ze.lineNumber,he.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,f.fK)(new class extends K{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Ee,me,Pe,he){return _.columnSelectLeft(Ee.cursorConfig,Ee,Pe)}}),N.CursorColumnSelectRight=(0,f.fK)(new class extends K{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Ee,me,Pe,he){return _.columnSelectRight(Ee.cursorConfig,Ee,Pe)}});class $ extends K{constructor(me){super(me),this._isPaged=me.isPaged}_getColumnSelectResult(me,Pe,he,Fe){return _.columnSelectUp(me.cursorConfig,me,he,this._isPaged)}}N.CursorColumnSelectUp=(0,f.fK)(new $({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3600,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,f.fK)(new $({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3595,linux:{primary:0}}}));class j extends K{constructor(me){super(me),this._isPaged=me.isPaged}_getColumnSelectResult(me,Pe,he,Fe){return _.columnSelectDown(me.cursorConfig,me,he,this._isPaged)}}N.CursorColumnSelectDown=(0,f.fK)(new j({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3602,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,f.fK)(new j({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3596,linux:{primary:0}}}));class q extends v{constructor(){super({id:"cursorMove",precondition:void 0,description:a.N.description})}runCoreEditorCommand(me,Pe){const he=a.N.parse(Pe);he&&this._runCursorMove(me,Pe.source,he)}_runCursorMove(me,Pe,he){me.model.pushStackElement(),me.setCursorStates(Pe,3,q._move(me,me.getCursorStates(),he)),me.revealPrimaryCursor(Pe,!0)}static _move(me,Pe,he){const Fe=he.select,Ze=he.value;switch(he.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return a.P.simpleMove(me,Pe,he.direction,Fe,Ze,he.unit);case 11:case 13:case 12:case 14:return a.P.viewportMove(me,Pe,he.direction,Fe,Ze);default:return null}}}N.CursorMoveImpl=q,N.CursorMove=(0,f.fK)(new q);class R extends v{constructor(me){super(me),this._staticArgs=me.args}runCoreEditorCommand(me,Pe){let he=this._staticArgs;-1===this._staticArgs.value&&(he={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Pe.pageSize||me.cursorConfig.pageSize}),me.model.pushStackElement(),me.setCursorStates(Pe.source,3,a.P.simpleMove(me,me.getCursorStates(),he.direction,he.select,he.value,he.unit)),me.revealPrimaryCursor(Pe.source,!0)}}N.CursorLeft=(0,f.fK)(new R({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),N.CursorLeftSelect=(0,f.fK)(new R({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1039}})),N.CursorRight=(0,f.fK)(new R({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),N.CursorRightSelect=(0,f.fK)(new R({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1041}})),N.CursorUp=(0,f.fK)(new R({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),N.CursorUpSelect=(0,f.fK)(new R({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),N.CursorPageUp=(0,f.fK)(new R({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,f.fK)(new R({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1035}})),N.CursorDown=(0,f.fK)(new R({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),N.CursorDownSelect=(0,f.fK)(new R({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),N.CursorPageDown=(0,f.fK)(new R({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,f.fK)(new R({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1036}})),N.CreateCursor=(0,f.fK)(new class extends v{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Ee,me){let Pe;Pe=me.wholeLine?a.P.line(Ee,Ee.getPrimaryCursorState(),!1,me.position,me.viewPosition):a.P.moveTo(Ee,Ee.getPrimaryCursorState(),!1,me.position,me.viewPosition);const he=Ee.getCursorStates();if(he.length>1){const Fe=Pe.modelState?Pe.modelState.position:null,Ze=Pe.viewState?Pe.viewState.position:null;for(let ze=0,fe=he.length;ze<fe;ze++){const Ke=he[ze];if((!Fe||Ke.modelState.selection.containsPosition(Fe))&&(!Ze||Ke.viewState.selection.containsPosition(Ze)))return he.splice(ze,1),Ee.model.pushStackElement(),void Ee.setCursorStates(me.source,3,he)}}he.push(Pe),Ee.model.pushStackElement(),Ee.setCursorStates(me.source,3,he)}}),N.LastCursorMoveToSelect=(0,f.fK)(new class extends v{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Ee,me){const Pe=Ee.getLastAddedCursorIndex(),he=Ee.getCursorStates(),Fe=he.slice(0);Fe[Pe]=a.P.moveTo(Ee,he[Pe],!0,me.position,me.viewPosition),Ee.model.pushStackElement(),Ee.setCursorStates(me.source,3,Fe)}});class Z extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,a.P.moveToBeginningOfLine(me,me.getCursorStates(),this._inSelectionMode)),me.revealPrimaryCursor(Pe.source,!0)}}N.CursorHome=(0,f.fK)(new Z({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),N.CursorHomeSelect=(0,f.fK)(new Z({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class J extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,this._exec(me.getCursorStates())),me.revealPrimaryCursor(Pe.source,!0)}_exec(me){const Pe=[];for(let he=0,Fe=me.length;he<Fe;he++){const Ze=me[he];Pe[he]=b.Vi.fromModelState(Ze.modelState.move(this._inSelectionMode,Ze.modelState.position.lineNumber,1,0))}return Pe}}N.CursorLineStart=(0,f.fK)(new J({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:287}}})),N.CursorLineStartSelect=(0,f.fK)(new J({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1311}}}));class Ce extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,a.P.moveToEndOfLine(me,me.getCursorStates(),this._inSelectionMode,Pe.sticky||!1)),me.revealPrimaryCursor(Pe.source,!0)}}N.CursorEnd=(0,f.fK)(new Ce({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:g,kbExpr:n.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:s.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,f.fK)(new Ce({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:g,kbExpr:n.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:s.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class Se extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,this._exec(me,me.getCursorStates())),me.revealPrimaryCursor(Pe.source,!0)}_exec(me,Pe){const he=[];for(let Fe=0,Ze=Pe.length;Fe<Ze;Fe++){const ze=Pe[Fe],fe=ze.modelState.position.lineNumber,Ke=me.model.getLineMaxColumn(fe);he[Fe]=b.Vi.fromModelState(ze.modelState.move(this._inSelectionMode,fe,Ke,0))}return he}}N.CursorLineEnd=(0,f.fK)(new Se({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:291}}})),N.CursorLineEndSelect=(0,f.fK)(new Se({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Ie extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,a.P.moveToBeginningOfBuffer(me,me.getCursorStates(),this._inSelectionMode)),me.revealPrimaryCursor(Pe.source,!0)}}N.CursorTop=(0,f.fK)(new Ie({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:2062,mac:{primary:2064}}})),N.CursorTopSelect=(0,f.fK)(new Ie({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class xe extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,a.P.moveToEndOfBuffer(me,me.getCursorStates(),this._inSelectionMode)),me.revealPrimaryCursor(Pe.source,!0)}}N.CursorBottom=(0,f.fK)(new xe({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:2061,mac:{primary:2066}}})),N.CursorBottomSelect=(0,f.fK)(new xe({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Me extends v{constructor(){super({id:"editorScroll",precondition:void 0,description:m.description})}runCoreEditorCommand(me,Pe){const he=m.parse(Pe);he&&this._runEditorScroll(me,Pe.source,he)}_runEditorScroll(me,Pe,he){const Fe=this._computeDesiredScrollTop(me,he);if(he.revealCursor){const Ze=me.getCompletelyVisibleViewRangeAtScrollTop(Fe);me.setCursorStates(Pe,3,[a.P.findPositionInViewportIfOutside(me,me.getPrimaryCursorState(),Ze,he.select)])}me.viewLayout.setScrollPosition({scrollTop:Fe},0)}_computeDesiredScrollTop(me,Pe){if(1===Pe.unit){const Ze=me.getCompletelyVisibleViewRange(),ze=me.coordinatesConverter.convertViewRangeToModelRange(Ze);let fe;fe=1===Pe.direction?Math.max(1,ze.startLineNumber-Pe.value):Math.min(me.model.getLineCount(),ze.startLineNumber+Pe.value);const Ke=me.coordinatesConverter.convertModelPositionToViewPosition(new S.L(fe,1));return me.viewLayout.getVerticalOffsetForLineNumber(Ke.lineNumber)}if(5===Pe.unit){let Ze=0;return 2===Pe.direction&&(Ze=me.model.getLineCount()-me.cursorConfig.pageSize),me.viewLayout.getVerticalOffsetForLineNumber(Ze)}let he;he=3===Pe.unit?me.cursorConfig.pageSize*Pe.value:4===Pe.unit?Math.round(me.cursorConfig.pageSize/2)*Pe.value:Pe.value;const Fe=(1===Pe.direction?-1:1)*he;return me.viewLayout.getCurrentScrollTop()+Fe*me.cursorConfig.lineHeight}}N.EditorScrollImpl=Me,N.EditorScroll=(0,f.fK)(new Me),N.ScrollLineUp=(0,f.fK)(new class extends v{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Ee,me){N.EditorScroll._runEditorScroll(Ee,me.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageUp=(0,f.fK)(new class extends v{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Ee,me){N.EditorScroll._runEditorScroll(Ee,me.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),N.ScrollEditorTop=(0,f.fK)(new class extends v{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(Ee,me){N.EditorScroll._runEditorScroll(Ee,me.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),N.ScrollLineDown=(0,f.fK)(new class extends v{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Ee,me){N.EditorScroll._runEditorScroll(Ee,me.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageDown=(0,f.fK)(new class extends v{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Ee,me){N.EditorScroll._runEditorScroll(Ee,me.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),N.ScrollEditorBottom=(0,f.fK)(new class extends v{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(Ee,me){N.EditorScroll._runEditorScroll(Ee,me.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class Oe extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,[a.P.word(me,me.getPrimaryCursorState(),this._inSelectionMode,Pe.position)]),me.revealPrimaryCursor(Pe.source,!0)}}N.WordSelect=(0,f.fK)(new Oe({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,f.fK)(new Oe({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,f.fK)(new class extends v{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Ee,me){const Pe=Ee.getLastAddedCursorIndex(),he=Ee.getCursorStates(),Fe=he.slice(0),Ze=he[Pe];Fe[Pe]=a.P.word(Ee,Ze,Ze.modelState.hasSelection(),me.position),Ee.model.pushStackElement(),Ee.setCursorStates(me.source,3,Fe)}});class se extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){me.model.pushStackElement(),me.setCursorStates(Pe.source,3,[a.P.line(me,me.getPrimaryCursorState(),this._inSelectionMode,Pe.position,Pe.viewPosition)]),me.revealPrimaryCursor(Pe.source,!1)}}N.LineSelect=(0,f.fK)(new se({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,f.fK)(new se({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ce extends v{constructor(me){super(me),this._inSelectionMode=me.inSelectionMode}runCoreEditorCommand(me,Pe){const he=me.getLastAddedCursorIndex(),Fe=me.getCursorStates(),Ze=Fe.slice(0);Ze[he]=a.P.line(me,Fe[he],this._inSelectionMode,Pe.position,Pe.viewPosition),me.model.pushStackElement(),me.setCursorStates(Pe.source,3,Ze)}}N.LastCursorLineSelect=(0,f.fK)(new ce({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,f.fK)(new ce({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,f.fK)(new class extends v{constructor(){super({id:"cancelSelection",precondition:n.u.hasNonEmptySelection,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ee,me){Ee.model.pushStackElement(),Ee.setCursorStates(me.source,3,[a.P.cancelSelection(Ee,Ee.getPrimaryCursorState())]),Ee.revealPrimaryCursor(me.source,!0)}}),N.RemoveSecondaryCursors=(0,f.fK)(new class extends v{constructor(){super({id:"removeSecondaryCursors",precondition:n.u.hasMultipleSelections,kbOpts:{weight:g+1,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ee,me){Ee.model.pushStackElement(),Ee.setCursorStates(me.source,3,[Ee.getPrimaryCursorState()]),Ee.revealPrimaryCursor(me.source,!0),(0,C.i7)(s.NC("removedCursor","Removed secondary cursors"))}}),N.RevealLine=(0,f.fK)(new class extends v{constructor(){super({id:"revealLine",precondition:void 0,description:w.description})}runCoreEditorCommand(Ee,me){const Pe=me,he=Pe.lineNumber||0;let Fe="number"==typeof he?he+1:parseInt(he)+1;Fe<1&&(Fe=1);const Ze=Ee.model.getLineCount();Fe>Ze&&(Fe=Ze);const ze=new D.e(Fe,1,Fe,Ee.model.getLineMaxColumn(Fe));let fe=0;if(Pe.at)switch(Pe.at){case w.RawAtArgument.Top:fe=3;break;case w.RawAtArgument.Center:fe=1;break;case w.RawAtArgument.Bottom:fe=4}const Ke=Ee.coordinatesConverter.convertModelRangeToViewRange(ze);Ee.revealRange(me.source,!1,Ke,fe,0)}}),N.SelectAll=new class extends E{constructor(){super(f.Sq)}runDOMCommand(){t.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Ee,me,Pe){const he=me._getViewModel();he&&this.runCoreEditorCommand(he,Pe)}runCoreEditorCommand(Ee,me){Ee.model.pushStackElement(),Ee.setCursorStates("keyboard",3,[a.P.selectAll(Ee,Ee.getPrimaryCursorState())])}},N.SetSelection=(0,f.fK)(new class extends v{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Ee,me){Ee.model.pushStackElement(),Ee.setCursorStates(me.source,3,[b.Vi.fromModelSelection(me.selection)])}})}(L||(L={}));const x=d.Ao.and(n.u.textInputFocus,n.u.columnSelection);function A(N,O){y.W.registerKeybindingRule({id:N,primary:O,when:x,weight:g+1})}function k(N){return N.register(),N}var W;A(L.CursorColumnSelectLeft.id,1039),A(L.CursorColumnSelectRight.id,1041),A(L.CursorColumnSelectUp.id,1040),A(L.CursorColumnSelectPageUp.id,1035),A(L.CursorColumnSelectDown.id,1042),A(L.CursorColumnSelectPageDown.id,1036),function(N){class O extends f._l{runEditorCommand($,j,q){const R=j._getViewModel();R&&this.runCoreEditingCommand(j,R,q||{})}}N.CoreEditingCommand=O,N.LineBreakInsert=(0,f.fK)(new class extends O{constructor(){super({id:"lineBreakInsert",precondition:n.u.writable,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(K,$,j){K.pushUndoStop(),K.executeCommands(this.id,u.u6.lineBreakInsert($.cursorConfig,$.model,$.getCursorStates().map(q=>q.modelState.selection)))}}),N.Outdent=(0,f.fK)(new class extends O{constructor(){super({id:"outdent",precondition:n.u.writable,kbOpts:{weight:g,kbExpr:d.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(K,$,j){K.pushUndoStop(),K.executeCommands(this.id,u.u6.outdent($.cursorConfig,$.model,$.getCursorStates().map(q=>q.modelState.selection))),K.pushUndoStop()}}),N.Tab=(0,f.fK)(new class extends O{constructor(){super({id:"tab",precondition:n.u.writable,kbOpts:{weight:g,kbExpr:d.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(K,$,j){K.pushUndoStop(),K.executeCommands(this.id,u.u6.tab($.cursorConfig,$.model,$.getCursorStates().map(q=>q.modelState.selection))),K.pushUndoStop()}}),N.DeleteLeft=(0,f.fK)(new class extends O{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(K,$,j){const[q,R]=r.A.deleteLeft($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(Z=>Z.modelState.selection),$.getCursorAutoClosedCharacters());q&&K.pushUndoStop(),K.executeCommands(this.id,R),$.setPrevEditOperationType(2)}}),N.DeleteRight=(0,f.fK)(new class extends O{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:g,kbExpr:n.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(K,$,j){const[q,R]=r.A.deleteRight($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(Z=>Z.modelState.selection));q&&K.pushUndoStop(),K.executeCommands(this.id,R),$.setPrevEditOperationType(3)}}),N.Undo=new class extends E{constructor(){super(f.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(K,$,j){if($.hasModel()&&!0!==$.getOption(83))return $.getModel().undo()}},N.Redo=new class extends E{constructor(){super(f.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(K,$,j){if($.hasModel()&&!0!==$.getOption(83))return $.getModel().redo()}}}(W||(W={}));class H extends f.mY{constructor(O,K,$){super({id:O,precondition:void 0,description:$}),this._handlerId=K}runCommand(O,K){const $=O.get(I.$).getFocusedCodeEditor();$&&$.trigger("keyboard",this._handlerId,K)}}function z(N,O){k(new H("default:"+N,N)),k(new H(N,N,O))}z("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),z("replacePreviousChar"),z("compositionType"),z("compositionStart"),z("compositionEnd"),z("paste"),z("cut")},77763:(yt,T,e)=>{"use strict";e.d(T,{Z0:()=>m,dR:()=>v,Bo:()=>d});var s=e(87559),t=e(14940),l=e(158),C=e(98225),f=e(56740),I=e(48235),b=e(78668),S=e(25468);const D={EDITORS:"CodeEditors",FILES:"CodeFiles"};const u={DragAndDropContribution:"workbench.contributions.dragAndDrop"};S.B.add(u.DragAndDropContribution,new class a{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}});var n=function(w,E,L,x){return new(L||(L=Promise))(function(k,W){function H(O){try{N(x.next(O))}catch(K){W(K)}}function z(O){try{N(x.throw(O))}catch(K){W(K)}}function N(O){O.done?k(O.value):function A(k){return k instanceof L?k:new L(function(W){W(k)})}(O.value).then(H,z)}N((x=x.apply(w,E||[])).next())})};function d(w){const E=new l.Hl;for(const L of w.items){const x=L.type;if("string"===L.kind){const A=new Promise(k=>L.getAsString(k));E.append(x,(0,l.ZO)(A))}else if("file"===L.kind){const A=L.getAsFile();A&&E.append(x,y(A))}}return E}function y(w){const E=w.path?f.o.parse(w.path):void 0;return(0,l.Ix)(w.name,E,()=>n(this,void 0,void 0,function*(){return new Uint8Array(yield w.arrayBuffer())}))}const g=Object.freeze([D.EDITORS,D.FILES,s.g.RESOURCES]);function v(w,E,L=!1){var x;if(E.dataTransfer&&(L||!w.has(C.v.uriList))){const A=function _(w){var E;const L=[];if(w.dataTransfer&&w.dataTransfer.types.length>0){const x=w.dataTransfer.getData(D.EDITORS);if(x)try{L.push(...(0,I.Q)(x))}catch{}else try{const W=w.dataTransfer.getData(s.g.RESOURCES);L.push(...function r(w){const E=[];if(w){const L=JSON.parse(w);for(const x of L)if(x.indexOf(":")>0){const{selection:A,uri:k}=(0,b.xI)(f.o.parse(x));E.push({resource:k,options:{selection:A}})}}return E}(W))}catch{}if(null!==(E=w.dataTransfer)&&void 0!==E&&E.files)for(let W=0;W<w.dataTransfer.files.length;W++){const H=w.dataTransfer.files[W];if(H&&H.path)try{L.push({resource:f.o.file(H.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const A=w.dataTransfer.getData(D.FILES);if(A)try{const W=JSON.parse(A);for(const H of W)L.push({resource:f.o.file(H),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const k=S.B.as(u.DragAndDropContribution).getAll();for(const W of k){const H=w.dataTransfer.getData(W.dataFormatKey);if(H)try{L.push(...W.getEditorInputs(H))}catch{}}}return L}(E).filter(k=>k.resource).map(k=>k.resource.toString());for(const k of null===(x=E.dataTransfer)||void 0===x?void 0:x.items){const W=k.getAsFile();W&&A.push(W.path?f.o.file(W.path).toString():W.name)}A.length&&w.replace(C.v.uriList,(0,l.ZO)(m.create(A)))}for(const A of g)w.delete(A)}const m=Object.freeze({create:w=>(0,t.EB)(w.map(E=>E.toString())).join("\r\n"),parse:w=>w.split("\r\n").filter(E=>!E.startsWith("#"))})},38128:(yt,T,e)=>{"use strict";e.d(T,{CL:()=>t,Pi:()=>C,QI:()=>l});var s=e(99083);function t(f){return!(!f||"function"!=typeof f.getEditorType)&&f.getEditorType()===s.g.ICodeEditor}function l(f){return!(!f||"function"!=typeof f.getEditorType)&&f.getEditorType()===s.g.IDiffEditor}function C(f){return t(f)?f:l(f)?f.getModifiedEditor():null}},25206:(yt,T,e)=>{"use strict";e.d(T,{AL:()=>y,N5:()=>n,Pp:()=>a,YN:()=>b,gy:()=>u,kG:()=>r,rU:()=>S,t7:()=>g,tC:()=>d});var s=e(94418),t=e(48763),l=e(46073),C=e(41883),f=e(21576),I=e(6192);class b{constructor(E,L){this.x=E,this.y=L,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new S(this.x-s.DI.scrollX,this.y-s.DI.scrollY)}}class S{constructor(E,L){this.clientX=E,this.clientY=L,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new b(this.clientX+s.DI.scrollX,this.clientY+s.DI.scrollY)}}class D{constructor(E,L,x,A){this.x=E,this.y=L,this.width=x,this.height=A,this._editorPagePositionBrand=void 0}}class _{constructor(E,L){this.x=E,this.y=L,this._positionRelativeToEditorBrand=void 0}}function r(w){const E=s.i(w);return new D(E.left,E.top,E.width,E.height)}function a(w,E,L){return new _((L.x-E.x)/(E.width/w.offsetWidth),(L.y-E.y)/(E.height/w.offsetHeight))}class u extends l.n{constructor(E,L,x){super(E),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=L,this.pos=new b(this.posx,this.posy),this.editorPos=r(x),this.relativePos=a(x,this.editorPos,this.pos)}}class n{constructor(E){this._editorViewDomNode=E}_create(E){return new u(E,!1,this._editorViewDomNode)}onContextMenu(E,L){return s.nm(E,"contextmenu",x=>{L(this._create(x))})}onMouseUp(E,L){return s.nm(E,"mouseup",x=>{L(this._create(x))})}onMouseDown(E,L){return s.nm(E,s.tw.MOUSE_DOWN,x=>{L(this._create(x))})}onPointerDown(E,L){return s.nm(E,s.tw.POINTER_DOWN,x=>{L(this._create(x),x.pointerId)})}onMouseLeave(E,L){return s.nm(E,s.tw.MOUSE_LEAVE,x=>{L(this._create(x))})}onMouseMove(E,L){return s.nm(E,"mousemove",x=>L(this._create(x)))}}class d{constructor(E){this._editorViewDomNode=E}_create(E){return new u(E,!1,this._editorViewDomNode)}onPointerUp(E,L){return s.nm(E,"pointerup",x=>{L(this._create(x))})}onPointerDown(E,L){return s.nm(E,s.tw.POINTER_DOWN,x=>{L(this._create(x),x.pointerId)})}onPointerLeave(E,L){return s.nm(E,s.tw.POINTER_LEAVE,x=>{L(this._create(x))})}onPointerMove(E,L){return s.nm(E,"pointermove",x=>L(this._create(x)))}}class y extends f.JT{constructor(E){super(),this._editorViewDomNode=E,this._globalPointerMoveMonitor=this._register(new t.C),this._keydownListener=null}startMonitoring(E,L,x,A,k){this._keydownListener=s.mu(document,"keydown",W=>{W.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,W.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(E,L,x,W=>{A(new u(W,!0,this._editorViewDomNode))},W=>{this._keydownListener.dispose(),k(W)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}let g=(()=>{class w{constructor(L){this._editor=L,this._instanceId=++w._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new C.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(L){const x=this.getOrCreateRule(L);return x.increaseRefCount(),{className:x.className,dispose:()=>{x.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(L){const x=this.computeUniqueKey(L);let A=this._rules.get(x);if(!A){const k=this._counter++;A=new v(x,`dyn-rule-${this._instanceId}-${k}`,s.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,L),this._rules.set(x,A)}return A}computeUniqueKey(L){return JSON.stringify(L)}garbageCollect(){for(const L of this._rules.values())L.hasReferences()||(this._rules.delete(L.key),L.dispose())}}return w._idPool=0,w})();class v{constructor(E,L,x,A){this.key=E,this.className=L,this.properties=A,this._referenceCount=0,this._styleElement=s.dS(x),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(E,L){let x=`.${E} {`;for(const A in L){const k=L[A];let W;W="object"==typeof k?`var(${(0,I.QO2)(k.id)})`:k;const H=A.replace(/(^[A-Z])/,([E])=>E.toLowerCase()).replace(/([A-Z])/g,([E])=>`-${E.toLowerCase()}`);x+=`\n\t${H}: ${W};`}return x+="\n}",x}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},95102:(yt,T,e)=>{"use strict";e.d(T,{AJ:()=>g,QG:()=>W,Qr:()=>A,R6:()=>w,Sq:()=>q,Uc:()=>z,_K:()=>H,_l:()=>m,fK:()=>x,jY:()=>E,kz:()=>j,mY:()=>y,n_:()=>$,rn:()=>k,sb:()=>L});var z,R,s=e(1200),t=e(56740),l=e(60896),C=e(13902),f=e(44378),I=e(97953),b=e(30116),S=e(34468),D=e(38336),_=e(30888),r=e(47545),a=e(25468),u=e(90062),n=e(22070),d=e(57908);class y{constructor(Z){this.id=Z.id,this.precondition=Z.precondition,this._kbOpts=Z.kbOpts,this._menuOpts=Z.menuOpts,this._description=Z.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const Z=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const J of Z){let Ce=J.kbExpr;this.precondition&&(Ce=Ce?D.Ao.and(Ce,this.precondition):this.precondition),r.W.registerKeybindingRule({id:this.id,weight:J.weight,args:J.args,when:Ce,primary:J.primary,secondary:J.secondary,win:J.win,linux:J.linux,mac:J.mac})}}S.P0.registerCommand({id:this.id,handler:(Z,J)=>this.runCommand(Z,J),description:this._description})}_registerMenuItem(Z){b.BH.appendMenuItem(Z.menuId,{group:Z.group,command:{id:this.id,title:Z.title,icon:Z.icon,precondition:this.precondition},when:Z.when,order:Z.order})}}class g extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(Z,J,Ce){return this._implementations.push({priority:Z,name:J,implementation:Ce}),this._implementations.sort((Se,Ie)=>Ie.priority-Se.priority),{dispose:()=>{for(let Se=0;Se<this._implementations.length;Se++)if(this._implementations[Se].implementation===Ce)return void this._implementations.splice(Se,1)}}}runCommand(Z,J){const Ce=Z.get(d.VZ);Ce.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const Se of this._implementations){const Ie=Se.implementation(Z,J);if(Ie)return Ce.trace(`Command '${this.id}' was handled by '${Se.name}'.`),"boolean"==typeof Ie?void 0:Ie}Ce.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class v extends y{constructor(Z,J){super(J),this.command=Z}runCommand(Z,J){return this.command.runCommand(Z,J)}}class m extends y{static bindToContribution(Z){return class extends m{constructor(Ce){super(Ce),this._callback=Ce.handler}runEditorCommand(Ce,Se,Ie){const xe=Z(Se);xe&&this._callback(xe,Ie)}}}static runEditorCommand(Z,J,Ce,Se){const Ie=Z.get(l.$),xe=Ie.getFocusedCodeEditor()||Ie.getActiveCodeEditor();if(xe)return xe.invokeWithinContext(Me=>{if(Me.get(D.i6).contextMatchesRules((0,n.f6)(Ce)))return Se(Me,xe,J)})}runCommand(Z,J){return m.runEditorCommand(Z,J,this.precondition,(Ce,Se,Ie)=>this.runEditorCommand(Ce,Se,Ie))}}class w extends m{constructor(Z){super(w.convertOptions(Z)),this.label=Z.label,this.alias=Z.alias}static convertOptions(Z){let J;function Ce(Se){return Se.menuId||(Se.menuId=b.eH.EditorContext),Se.title||(Se.title=Z.label),Se.when=D.Ao.and(Z.precondition,Se.when),Se}return J=Array.isArray(Z.menuOpts)?Z.menuOpts:Z.menuOpts?[Z.menuOpts]:[],Array.isArray(Z.contextMenuOpts)?J.push(...Z.contextMenuOpts.map(Ce)):Z.contextMenuOpts&&J.push(Ce(Z.contextMenuOpts)),Z.menuOpts=J,Z}runEditorCommand(Z,J,Ce){return this.reportTelemetry(Z,J),this.run(Z,J,Ce||{})}reportTelemetry(Z,J){Z.get(u.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class E extends w{constructor(){super(...arguments),this._implementations=[]}addImplementation(Z,J){return this._implementations.push([Z,J]),this._implementations.sort((Ce,Se)=>Se[0]-Ce[0]),{dispose:()=>{for(let Ce=0;Ce<this._implementations.length;Ce++)if(this._implementations[Ce][1]===J)return void this._implementations.splice(Ce,1)}}}run(Z,J,Ce){for(const Se of this._implementations){const Ie=Se[1](Z,J,Ce);if(Ie)return"boolean"==typeof Ie?void 0:Ie}}}function L(R,Z){S.P0.registerCommand(R,function(J,...Ce){const Se=J.get(_.TG),[Ie,xe]=Ce;(0,n.p_)(t.o.isUri(Ie)),(0,n.p_)(C.L.isIPosition(xe));const Me=J.get(f.q).getModel(Ie);if(Me){const Oe=C.L.lift(xe);return Se.invokeFunction(Z,Me,Oe,...Ce.slice(2))}return J.get(I.S).createModelReference(Ie).then(Oe=>new Promise((se,ce)=>{try{se(Se.invokeFunction(Z,Oe.object.textEditorModel,C.L.lift(xe),Ce.slice(2)))}catch(Ee){ce(Ee)}}).finally(()=>{Oe.dispose()}))})}function x(R){return O.INSTANCE.registerEditorCommand(R),R}function A(R){const Z=new R;return O.INSTANCE.registerEditorAction(Z),Z}function k(R){return O.INSTANCE.registerEditorAction(R),R}function W(R){O.INSTANCE.registerEditorAction(R)}function H(R,Z){O.INSTANCE.registerEditorContribution(R,Z)}(R=z||(z={})).getEditorCommand=function Z(xe){return O.INSTANCE.getEditorCommand(xe)},R.getEditorActions=function J(){return O.INSTANCE.getEditorActions()},R.getEditorContributions=function Ce(){return O.INSTANCE.getEditorContributions()},R.getSomeEditorContributions=function Se(xe){return O.INSTANCE.getEditorContributions().filter(Me=>xe.indexOf(Me.id)>=0)},R.getDiffEditorContributions=function Ie(){return O.INSTANCE.getDiffEditorContributions()};class O{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(Z,J){this.editorContributions.push({id:Z,ctor:J})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(Z){Z.register(),this.editorActions.push(Z)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(Z){Z.register(),this.editorCommands[Z.id]=Z}getEditorCommand(Z){return this.editorCommands[Z]||null}}function K(R){return R.register(),R}O.INSTANCE=new O,a.B.add("editor.contributions",O.INSTANCE);const $=K(new g({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:b.eH.MenubarEditMenu,group:"1_do",title:s.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:b.eH.CommandPalette,group:"",title:s.NC("undo","Undo"),order:1}]}));K(new v($,{id:"default:undo",precondition:void 0}));const j=K(new g({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:b.eH.MenubarEditMenu,group:"1_do",title:s.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:b.eH.CommandPalette,group:"",title:s.NC("redo","Redo"),order:1}]}));K(new v(j,{id:"default:redo",precondition:void 0}));const q=K(new g({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:b.eH.MenubarSelectionMenu,group:"1_basic",title:s.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:b.eH.CommandPalette,group:"",title:s.NC("selectAll","Select All"),order:1}]}))},59961:(yt,T,e)=>{"use strict";e.d(T,{Gl:()=>I,fo:()=>f,pH:()=>b,vu:()=>C});var s=e(30888),t=e(56740),l=e(22070);const C=(0,s.yh)("IWorkspaceEditService");class f{constructor(D){this.metadata=D}static convert(D){return D.edits.map(_=>{if(I.is(_))return I.lift(_);if(b.is(_))return b.lift(_);throw new Error("Unsupported edit")})}}class I extends f{constructor(D,_,r=void 0,a){super(a),this.resource=D,this.textEdit=_,this.versionId=r}static is(D){return D instanceof I||(0,l.Kn)(D)&&t.o.isUri(D.resource)&&(0,l.Kn)(D.textEdit)}static lift(D){return D instanceof I?D:new I(D.resource,D.textEdit,D.versionId,D.metadata)}}class b extends f{constructor(D,_,r={},a){super(a),this.oldResource=D,this.newResource=_,this.options=r}static is(D){return D instanceof b||(0,l.Kn)(D)&&(!!D.newResource||!!D.oldResource)}static lift(D){return D instanceof b?D:new b(D.oldResource,D.newResource,D.options,D.metadata)}}},60896:(yt,T,e)=>{"use strict";e.d(T,{$:()=>t});const t=(0,e(30888).yh)("codeEditorService")},58712:(yt,T,e)=>{"use strict";e.d(T,{Q8:()=>rt,eu:()=>Lt});var s=e(41883),t=e(21576),l=e(3219),C=e(31864),f=e(84834),I=e(22070),b=e(77697);let D=!1;function _(Le){f.$L&&(D||(D=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(Le.message))}class r{constructor(ie,te,oe,we){this.vsWorker=ie,this.req=te,this.method=oe,this.args=we,this.type=0}}class a{constructor(ie,te,oe,we){this.vsWorker=ie,this.seq=te,this.res=oe,this.err=we,this.type=1}}class u{constructor(ie,te,oe,we){this.vsWorker=ie,this.req=te,this.eventName=oe,this.arg=we,this.type=2}}class n{constructor(ie,te,oe){this.vsWorker=ie,this.req=te,this.event=oe,this.type=3}}class d{constructor(ie,te){this.vsWorker=ie,this.req=te,this.type=4}}class y{constructor(ie){this._workerId=-1,this._handler=ie,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(ie){this._workerId=ie}sendMessage(ie,te){const oe=String(++this._lastSentReq);return new Promise((we,nt)=>{this._pendingReplies[oe]={resolve:we,reject:nt},this._send(new r(this._workerId,oe,ie,te))})}listen(ie,te){let oe=null;const we=new C.Q5({onFirstListenerAdd:()=>{oe=String(++this._lastSentReq),this._pendingEmitters.set(oe,we),this._send(new u(this._workerId,oe,ie,te))},onLastListenerRemove:()=>{this._pendingEmitters.delete(oe),this._send(new d(this._workerId,oe)),oe=null}});return we.event}handleMessage(ie){!ie||!ie.vsWorker||-1!==this._workerId&&ie.vsWorker!==this._workerId||this._handleMessage(ie)}_handleMessage(ie){switch(ie.type){case 1:return this._handleReplyMessage(ie);case 0:return this._handleRequestMessage(ie);case 2:return this._handleSubscribeEventMessage(ie);case 3:return this._handleEventMessage(ie);case 4:return this._handleUnsubscribeEventMessage(ie)}}_handleReplyMessage(ie){if(!this._pendingReplies[ie.seq])return void console.warn("Got reply to unknown seq");const te=this._pendingReplies[ie.seq];if(delete this._pendingReplies[ie.seq],ie.err){let oe=ie.err;return ie.err.$isError&&(oe=new Error,oe.name=ie.err.name,oe.message=ie.err.message,oe.stack=ie.err.stack),void te.reject(oe)}te.resolve(ie.res)}_handleRequestMessage(ie){const te=ie.req;this._handler.handleMessage(ie.method,ie.args).then(we=>{this._send(new a(this._workerId,te,we,void 0))},we=>{we.detail instanceof Error&&(we.detail=(0,l.ri)(we.detail)),this._send(new a(this._workerId,te,void 0,(0,l.ri)(we)))})}_handleSubscribeEventMessage(ie){const te=ie.req,oe=this._handler.handleEvent(ie.eventName,ie.arg)(we=>{this._send(new n(this._workerId,te,we))});this._pendingEvents.set(te,oe)}_handleEventMessage(ie){this._pendingEmitters.has(ie.req)?this._pendingEmitters.get(ie.req).fire(ie.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(ie){this._pendingEvents.has(ie.req)?(this._pendingEvents.get(ie.req).dispose(),this._pendingEvents.delete(ie.req)):console.warn("Got unsubscribe for unknown req")}_send(ie){const te=[];if(0===ie.type)for(let oe=0;oe<ie.args.length;oe++)ie.args[oe]instanceof ArrayBuffer&&te.push(ie.args[oe]);else 1===ie.type&&ie.res instanceof ArrayBuffer&&te.push(ie.res);this._handler.sendMessage(ie,te)}}class g extends t.JT{constructor(ie,te,oe){super();let we=null;this._worker=this._register(ie.create("vs/base/common/worker/simpleWorker",lt=>{this._protocol.handleMessage(lt)},lt=>{we?.(lt)})),this._protocol=new y({sendMessage:(lt,Ht)=>{this._worker.postMessage(lt,Ht)},handleMessage:(lt,Ht)=>{if("function"!=typeof oe[lt])return Promise.reject(new Error("Missing method "+lt+" on main thread host."));try{return Promise.resolve(oe[lt].apply(oe,Ht))}catch(Xt){return Promise.reject(Xt)}},handleEvent:(lt,Ht)=>{if(m(lt)){const Xt=oe[lt].call(oe,Ht);if("function"!=typeof Xt)throw new Error(`Missing dynamic event ${lt} on main thread host.`);return Xt}if(v(lt)){const Xt=oe[lt];if("function"!=typeof Xt)throw new Error(`Missing event ${lt} on main thread host.`);return Xt}throw new Error(`Malformed event name ${lt}`)}}),this._protocol.setWorkerId(this._worker.getId());let nt=null;typeof f.li.require<"u"&&"function"==typeof f.li.require.getConfig?nt=f.li.require.getConfig():typeof f.li.requirejs<"u"&&(nt=f.li.requirejs.s.contexts._.config);const He=I.$E(oe);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(nt)),te,He]);const De=(lt,Ht)=>this._request(lt,Ht),pt=(lt,Ht)=>this._protocol.listen(lt,Ht);this._lazyProxy=new Promise((lt,Ht)=>{we=Ht,this._onModuleLoaded.then(Xt=>{lt(function w(Le,ie,te){const oe=He=>function(){const De=Array.prototype.slice.call(arguments,0);return ie(He,De)},we=He=>function(De){return te(He,De)},nt={};for(const He of Le)nt[He]=m(He)?we(He):v(He)?te(He,void 0):oe(He);return nt}(Xt,De,pt))},Xt=>{Ht(Xt),this._onError("Worker failed to load "+te,Xt)})})}getProxyObject(){return this._lazyProxy}_request(ie,te){return new Promise((oe,we)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(ie,te).then(oe,we)},we)})}_onError(ie,te){console.error(ie),console.info(te)}}function v(Le){return"o"===Le[0]&&"n"===Le[1]&&b.df(Le.charCodeAt(2))}function m(Le){return/^onDynamic/.test(Le)&&b.df(Le.charCodeAt(9))}var x;const A=null===(x=window.trustedTypes)||void 0===x?void 0:x.createPolicy("defaultWorkerFactory",{createScriptURL:Le=>Le});class H{constructor(ie,te,oe,we,nt){this.id=te;const He=function k(Le){if(f.li.MonacoEnvironment){if("function"==typeof f.li.MonacoEnvironment.getWorker)return f.li.MonacoEnvironment.getWorker("workerMain.js",Le);if("function"==typeof f.li.MonacoEnvironment.getWorkerUrl){const ie=f.li.MonacoEnvironment.getWorkerUrl("workerMain.js",Le);return new Worker(A?A.createScriptURL(ie):ie,{name:Le})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(oe);this.worker=function W(Le){return"function"==typeof Le.then}(He)?He:Promise.resolve(He),this.postMessage(ie,[]),this.worker.then(De=>{De.onmessage=function(pt){we(pt.data)},De.onmessageerror=nt,"function"==typeof De.addEventListener&&De.addEventListener("error",nt)})}getId(){return this.id}postMessage(ie,te){var oe;null===(oe=this.worker)||void 0===oe||oe.then(we=>we.postMessage(ie,te))}dispose(){var ie;null===(ie=this.worker)||void 0===ie||ie.then(te=>te.terminate()),this.worker=null}}let z=(()=>{class Le{constructor(te){this._label=te,this._webWorkerFailedBeforeError=!1}create(te,oe,we){const nt=++Le.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new H(te,nt,this._label||"anonymous"+nt,oe,He=>{_(He),this._webWorkerFailedBeforeError=He,we(He)})}}return Le.LAST_WORKER_ID=0,Le})();var N=e(88154),O=e(15333),K=e(60044),$=e(56740),j=e(13902);function R(Le,ie,te,oe){return new K.Hs(Le,ie,te).ComputeDiff(oe)}class Z{constructor(ie){const te=[],oe=[];for(let we=0,nt=ie.length;we<nt;we++)te[we]=Me(ie[we],1),oe[we]=Oe(ie[we],1);this.lines=ie,this._startColumns=te,this._endColumns=oe}getElements(){const ie=[];for(let te=0,oe=this.lines.length;te<oe;te++)ie[te]=this.lines[te].substring(this._startColumns[te]-1,this._endColumns[te]-1);return ie}getStrictElement(ie){return this.lines[ie]}getStartLineNumber(ie){return ie+1}getEndLineNumber(ie){return ie+1}createCharSequence(ie,te,oe){const we=[],nt=[],He=[];let De=0;for(let pt=te;pt<=oe;pt++){const lt=this.lines[pt],Xt=ie?this._endColumns[pt]:lt.length+1;for(let ut=ie?this._startColumns[pt]:1;ut<Xt;ut++)we[De]=lt.charCodeAt(ut-1),nt[De]=pt+1,He[De]=ut,De++;!ie&&pt<oe&&(we[De]=10,nt[De]=pt+1,He[De]=lt.length+1,De++)}return new J(we,nt,He)}}class J{constructor(ie,te,oe){this._charCodes=ie,this._lineNumbers=te,this._columns=oe}toString(){return"["+this._charCodes.map((ie,te)=>(10===ie?"\\n":String.fromCharCode(ie))+`-(${this._lineNumbers[te]},${this._columns[te]})`).join(", ")+"]"}_assertIndex(ie,te){if(ie<0||ie>=te.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(ie){return ie>0&&ie===this._lineNumbers.length?this.getEndLineNumber(ie-1):(this._assertIndex(ie,this._lineNumbers),this._lineNumbers[ie])}getEndLineNumber(ie){return-1===ie?this.getStartLineNumber(ie+1):(this._assertIndex(ie,this._lineNumbers),10===this._charCodes[ie]?this._lineNumbers[ie]+1:this._lineNumbers[ie])}getStartColumn(ie){return ie>0&&ie===this._columns.length?this.getEndColumn(ie-1):(this._assertIndex(ie,this._columns),this._columns[ie])}getEndColumn(ie){return-1===ie?this.getStartColumn(ie+1):(this._assertIndex(ie,this._columns),10===this._charCodes[ie]?1:this._columns[ie]+1)}}class Ce{constructor(ie,te,oe,we,nt,He,De,pt){this.originalStartLineNumber=ie,this.originalStartColumn=te,this.originalEndLineNumber=oe,this.originalEndColumn=we,this.modifiedStartLineNumber=nt,this.modifiedStartColumn=He,this.modifiedEndLineNumber=De,this.modifiedEndColumn=pt}static createFromDiffChange(ie,te,oe){const we=te.getStartLineNumber(ie.originalStart),nt=te.getStartColumn(ie.originalStart),He=te.getEndLineNumber(ie.originalStart+ie.originalLength-1),De=te.getEndColumn(ie.originalStart+ie.originalLength-1),pt=oe.getStartLineNumber(ie.modifiedStart),lt=oe.getStartColumn(ie.modifiedStart),Ht=oe.getEndLineNumber(ie.modifiedStart+ie.modifiedLength-1),Xt=oe.getEndColumn(ie.modifiedStart+ie.modifiedLength-1);return new Ce(we,nt,He,De,pt,lt,Ht,Xt)}}class Ie{constructor(ie,te,oe,we,nt){this.originalStartLineNumber=ie,this.originalEndLineNumber=te,this.modifiedStartLineNumber=oe,this.modifiedEndLineNumber=we,this.charChanges=nt}static createFromDiffResult(ie,te,oe,we,nt,He,De){let pt,lt,Ht,Xt,ut;if(0===te.originalLength?(pt=oe.getStartLineNumber(te.originalStart)-1,lt=0):(pt=oe.getStartLineNumber(te.originalStart),lt=oe.getEndLineNumber(te.originalStart+te.originalLength-1)),0===te.modifiedLength?(Ht=we.getStartLineNumber(te.modifiedStart)-1,Xt=0):(Ht=we.getStartLineNumber(te.modifiedStart),Xt=we.getEndLineNumber(te.modifiedStart+te.modifiedLength-1)),He&&te.originalLength>0&&te.originalLength<20&&te.modifiedLength>0&&te.modifiedLength<20&&nt()){const an=oe.createCharSequence(ie,te.originalStart,te.originalStart+te.originalLength-1),Kn=we.createCharSequence(ie,te.modifiedStart,te.modifiedStart+te.modifiedLength-1);if(an.getElements().length>0&&Kn.getElements().length>0){let Gn=R(an,Kn,nt,!0).changes;De&&(Gn=function Se(Le){if(Le.length<=1)return Le;const ie=[Le[0]];let te=ie[0];for(let oe=1,we=Le.length;oe<we;oe++){const nt=Le[oe];Math.min(nt.originalStart-(te.originalStart+te.originalLength),nt.modifiedStart-(te.modifiedStart+te.modifiedLength))<3?(te.originalLength=nt.originalStart+nt.originalLength-te.originalStart,te.modifiedLength=nt.modifiedStart+nt.modifiedLength-te.modifiedStart):(ie.push(nt),te=nt)}return ie}(Gn)),ut=[];for(let li=0,fi=Gn.length;li<fi;li++)ut.push(Ce.createFromDiffChange(Gn[li],an,Kn))}}return new Ie(pt,lt,Ht,Xt,ut)}}class xe{constructor(ie,te,oe){this.shouldComputeCharChanges=oe.shouldComputeCharChanges,this.shouldPostProcessCharChanges=oe.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=oe.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=oe.shouldMakePrettyDiff,this.originalLines=ie,this.modifiedLines=te,this.original=new Z(ie),this.modified=new Z(te),this.continueLineDiff=se(oe.maxComputationTime),this.continueCharDiff=se(0===oe.maxComputationTime?0:Math.min(oe.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const ie=R(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),te=ie.changes,oe=ie.quitEarly;if(this.shouldIgnoreTrimWhitespace){const De=[];for(let pt=0,lt=te.length;pt<lt;pt++)De.push(Ie.createFromDiffResult(this.shouldIgnoreTrimWhitespace,te[pt],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:oe,changes:De}}const we=[];let nt=0,He=0;for(let De=-1,pt=te.length;De<pt;De++){const lt=De+1<pt?te[De+1]:null,Ht=lt?lt.originalStart:this.originalLines.length,Xt=lt?lt.modifiedStart:this.modifiedLines.length;for(;nt<Ht&&He<Xt;){const ut=this.originalLines[nt],an=this.modifiedLines[He];if(ut!==an){{let Kn=Me(ut,1),Gn=Me(an,1);for(;Kn>1&&Gn>1&&ut.charCodeAt(Kn-2)===an.charCodeAt(Gn-2);)Kn--,Gn--;(Kn>1||Gn>1)&&this._pushTrimWhitespaceCharChange(we,nt+1,1,Kn,He+1,1,Gn)}{let Kn=Oe(ut,1),Gn=Oe(an,1);const li=ut.length+1,fi=an.length+1;for(;Kn<li&&Gn<fi&&ut.charCodeAt(Kn-1)===ut.charCodeAt(Gn-1);)Kn++,Gn++;(Kn<li||Gn<fi)&&this._pushTrimWhitespaceCharChange(we,nt+1,Kn,li,He+1,Gn,fi)}}nt++,He++}lt&&(we.push(Ie.createFromDiffResult(this.shouldIgnoreTrimWhitespace,lt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),nt+=lt.originalLength,He+=lt.modifiedLength)}return{quitEarly:oe,changes:we}}_pushTrimWhitespaceCharChange(ie,te,oe,we,nt,He,De){if(this._mergeTrimWhitespaceCharChange(ie,te,oe,we,nt,He,De))return;let pt;this.shouldComputeCharChanges&&(pt=[new Ce(te,oe,te,we,nt,He,nt,De)]),ie.push(new Ie(te,te,nt,nt,pt))}_mergeTrimWhitespaceCharChange(ie,te,oe,we,nt,He,De){const pt=ie.length;if(0===pt)return!1;const lt=ie[pt-1];return 0!==lt.originalEndLineNumber&&0!==lt.modifiedEndLineNumber&&lt.originalEndLineNumber+1===te&&lt.modifiedEndLineNumber+1===nt&&(lt.originalEndLineNumber=te,lt.modifiedEndLineNumber=nt,this.shouldComputeCharChanges&&lt.charChanges&&lt.charChanges.push(new Ce(te,oe,te,we,nt,He,nt,De)),!0)}}function Me(Le,ie){const te=b.LC(Le);return-1===te?ie:te+1}function Oe(Le,ie){const te=b.ow(Le);return-1===te?ie:te+2}function se(Le){if(0===Le)return()=>!0;const ie=Date.now();return()=>Date.now()-ie<Le}var ce=e(26476),Ee=e(38022),me=e(89646);class Pe{constructor(ie,te,oe){const we=new Uint8Array(ie*te);for(let nt=0,He=ie*te;nt<He;nt++)we[nt]=oe;this._data=we,this.rows=ie,this.cols=te}get(ie,te){return this._data[ie*this.cols+te]}set(ie,te,oe){this._data[ie*this.cols+te]=oe}}class he{constructor(ie){let te=0,oe=0;for(let nt=0,He=ie.length;nt<He;nt++){const[De,pt,lt]=ie[nt];pt>te&&(te=pt),De>oe&&(oe=De),lt>oe&&(oe=lt)}te++,oe++;const we=new Pe(oe,te,0);for(let nt=0,He=ie.length;nt<He;nt++){const[De,pt,lt]=ie[nt];we.set(De,pt,lt)}this._states=we,this._maxCharCode=te}nextState(ie,te){return te<0||te>=this._maxCharCode?0:this._states.get(ie,te)}}let Fe=null,ze=null;class Ke{static _createLink(ie,te,oe,we,nt){let He=nt-1;do{const De=te.charCodeAt(He);if(2!==ie.get(De))break;He--}while(He>we);if(we>0){const De=te.charCodeAt(we-1),pt=te.charCodeAt(He);(40===De&&41===pt||91===De&&93===pt||123===De&&125===pt)&&He--}return{range:{startLineNumber:oe,startColumn:we+1,endLineNumber:oe,endColumn:He+2},url:te.substring(we,He+1)}}static computeLinks(ie,te=function Ze(){return null===Fe&&(Fe=new he([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Fe}()){const oe=function fe(){if(null===ze){ze=new me.N(0);const Le=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let te=0;te<Le.length;te++)ze.set(Le.charCodeAt(te),1);const ie=".,;:";for(let te=0;te<ie.length;te++)ze.set(ie.charCodeAt(te),2)}return ze}(),we=[];for(let nt=1,He=ie.getLineCount();nt<=He;nt++){const De=ie.getLineContent(nt),pt=De.length;let lt=0,Ht=0,Xt=0,ut=1,an=!1,Kn=!1,Gn=!1,li=!1;for(;lt<pt;){let fi=!1;const ri=De.charCodeAt(lt);if(13===ut){let _i;switch(ri){case 40:an=!0,_i=0;break;case 41:_i=an?0:1;break;case 91:Gn=!0,Kn=!0,_i=0;break;case 93:Gn=!1,_i=Kn?0:1;break;case 123:li=!0,_i=0;break;case 125:_i=li?0:1;break;case 39:_i=39===Xt?1:0;break;case 34:_i=34===Xt?1:0;break;case 96:_i=96===Xt?1:0;break;case 42:_i=42===Xt?1:0;break;case 124:_i=124===Xt?1:0;break;case 32:_i=Gn?0:1;break;default:_i=oe.get(ri)}1===_i&&(we.push(Ke._createLink(oe,De,nt,Ht,lt)),fi=!0)}else if(12===ut){let _i;91===ri?(Kn=!0,_i=0):_i=oe.get(ri),1===_i?fi=!0:ut=13}else ut=te.nextState(ut,ri),0===ut&&(fi=!0);fi&&(ut=1,an=!1,Kn=!1,li=!1,Ht=lt+1,Xt=ri),lt++}13===ut&&we.push(Ke._createLink(oe,De,nt,Ht,pt))}return we}}class vt{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(ie,te,oe,we,nt){if(ie&&te){const He=this.doNavigateValueSet(te,nt);if(He)return{range:ie,value:He}}if(oe&&we){const He=this.doNavigateValueSet(we,nt);if(He)return{range:oe,value:He}}return null}doNavigateValueSet(ie,te){const oe=this.numberReplace(ie,te);return null!==oe?oe:this.textReplace(ie,te)}numberReplace(ie,te){const oe=Math.pow(10,ie.length-(ie.lastIndexOf(".")+1));let we=Number(ie);const nt=parseFloat(ie);return isNaN(we)||isNaN(nt)||we!==nt?null:0!==we||te?(we=Math.floor(we*oe),we+=te?oe:-oe,String(we/oe)):null}textReplace(ie,te){return this.valueSetsReplace(this._defaultValueSet,ie,te)}valueSetsReplace(ie,te,oe){let we=null;for(let nt=0,He=ie.length;null===we&&nt<He;nt++)we=this.valueSetReplace(ie[nt],te,oe);return we}valueSetReplace(ie,te,oe){let we=ie.indexOf(te);return we>=0?(we+=oe?1:-1,we<0?we=ie.length-1:we%=ie.length,ie[we]):null}}vt.INSTANCE=new vt;var Et=e(44662),Xe=e(44753),re=e(70172),pe=function(Le,ie,te,oe){return new(te||(te=Promise))(function(nt,He){function De(Ht){try{lt(oe.next(Ht))}catch(Xt){He(Xt)}}function pt(Ht){try{lt(oe.throw(Ht))}catch(Xt){He(Xt)}}function lt(Ht){Ht.done?nt(Ht.value):function we(nt){return nt instanceof te?nt:new te(function(He){He(nt)})}(Ht.value).then(De,pt)}lt((oe=oe.apply(Le,ie||[])).next())})};class ge extends ce.v{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(ie){return this._lines[ie-1]}getWordAtPosition(ie,te){const oe=(0,Ee.t2)(ie.column,(0,Ee.eq)(te),this._lines[ie.lineNumber-1],0);return oe?new N.e(ie.lineNumber,oe.startColumn,ie.lineNumber,oe.endColumn):null}words(ie){const te=this._lines,oe=this._wordenize.bind(this);let we=0,nt="",He=0,De=[];return{*[Symbol.iterator](){for(;;)if(He<De.length){const pt=nt.substring(De[He].start,De[He].end);He+=1,yield pt}else{if(!(we<te.length))break;nt=te[we],De=oe(nt,ie),He=0,we+=1}}}}getLineWords(ie,te){const oe=this._lines[ie-1],we=this._wordenize(oe,te),nt=[];for(const He of we)nt.push({word:oe.substring(He.start,He.end),startColumn:He.start+1,endColumn:He.end+1});return nt}_wordenize(ie,te){const oe=[];let we;for(te.lastIndex=0;(we=te.exec(ie))&&0!==we[0].length;)oe.push({start:we.index,end:we.index+we[0].length});return oe}getValueInRange(ie){if((ie=this._validateRange(ie)).startLineNumber===ie.endLineNumber)return this._lines[ie.startLineNumber-1].substring(ie.startColumn-1,ie.endColumn-1);const te=this._eol,oe=ie.startLineNumber-1,we=ie.endLineNumber-1,nt=[];nt.push(this._lines[oe].substring(ie.startColumn-1));for(let He=oe+1;He<we;He++)nt.push(this._lines[He]);return nt.push(this._lines[we].substring(0,ie.endColumn-1)),nt.join(te)}offsetAt(ie){return ie=this._validatePosition(ie),this._ensureLineStarts(),this._lineStarts.getPrefixSum(ie.lineNumber-2)+(ie.column-1)}positionAt(ie){ie=Math.floor(ie),ie=Math.max(0,ie),this._ensureLineStarts();const te=this._lineStarts.getIndexOf(ie);return{lineNumber:1+te.index,column:1+Math.min(te.remainder,this._lines[te.index].length)}}_validateRange(ie){const te=this._validatePosition({lineNumber:ie.startLineNumber,column:ie.startColumn}),oe=this._validatePosition({lineNumber:ie.endLineNumber,column:ie.endColumn});return te.lineNumber!==ie.startLineNumber||te.column!==ie.startColumn||oe.lineNumber!==ie.endLineNumber||oe.column!==ie.endColumn?{startLineNumber:te.lineNumber,startColumn:te.column,endLineNumber:oe.lineNumber,endColumn:oe.column}:ie}_validatePosition(ie){if(!j.L.isIPosition(ie))throw new Error("bad position");let{lineNumber:te,column:oe}=ie,we=!1;if(te<1)te=1,oe=1,we=!0;else if(te>this._lines.length)te=this._lines.length,oe=this._lines[te-1].length+1,we=!0;else{const nt=this._lines[te-1].length+1;oe<1?(oe=1,we=!0):oe>nt&&(oe=nt,we=!0)}return we?{lineNumber:te,column:oe}:ie}}let de=(()=>{class Le{constructor(te,oe){this._host=te,this._models=Object.create(null),this._foreignModuleFactory=oe,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(te){return this._models[te]}_getModels(){const te=[];return Object.keys(this._models).forEach(oe=>te.push(this._models[oe])),te}acceptNewModel(te){this._models[te.url]=new ge($.o.parse(te.url),te.lines,te.EOL,te.versionId)}acceptModelChanged(te,oe){this._models[te]&&this._models[te].onEvents(oe)}acceptRemovedModel(te){this._models[te]&&delete this._models[te]}computeUnicodeHighlights(te,oe,we){return pe(this,void 0,void 0,function*(){const nt=this._getModel(te);return nt?re.a.computeUnicodeHighlights(nt,oe,we):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(te,oe,we,nt){return pe(this,void 0,void 0,function*(){const He=this._getModel(te),De=this._getModel(oe);return He&&De?Le.computeDiff(He,De,we,nt):null})}static computeDiff(te,oe,we,nt){const He=te.getLinesContent(),De=oe.getLinesContent(),lt=new xe(He,De,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:we,shouldMakePrettyDiff:!0,maxComputationTime:nt}).computeDiff(),Ht=!(lt.changes.length>0)&&this._modelsAreIdentical(te,oe);return{quitEarly:lt.quitEarly,identical:Ht,changes:lt.changes}}static _modelsAreIdentical(te,oe){const we=te.getLineCount();if(we!==oe.getLineCount())return!1;for(let He=1;He<=we;He++)if(te.getLineContent(He)!==oe.getLineContent(He))return!1;return!0}computeMoreMinimalEdits(te,oe){return pe(this,void 0,void 0,function*(){const we=this._getModel(te);if(!we)return oe;const nt=[];let He;oe=oe.slice(0).sort((De,pt)=>De.range&&pt.range?N.e.compareRangesUsingStarts(De.range,pt.range):(De.range?0:1)-(pt.range?0:1));for(let{range:De,text:pt,eol:lt}of oe){if("number"==typeof lt&&(He=lt),N.e.isEmpty(De)&&!pt)continue;const Ht=we.getValueInRange(De);if(pt=pt.replace(/\r\n|\n|\r/g,we.eol),Ht===pt)continue;if(Math.max(pt.length,Ht.length)>Le._diffLimit){nt.push({range:De,text:pt});continue}const Xt=(0,K.a$)(Ht,pt,!1),ut=we.offsetAt(N.e.lift(De).getStartPosition());for(const an of Xt){const Kn=we.positionAt(ut+an.originalStart),Gn=we.positionAt(ut+an.originalStart+an.originalLength),li={text:pt.substr(an.modifiedStart,an.modifiedLength),range:{startLineNumber:Kn.lineNumber,startColumn:Kn.column,endLineNumber:Gn.lineNumber,endColumn:Gn.column}};we.getValueInRange(li.range)!==li.text&&nt.push(li)}}return"number"==typeof He&&nt.push({eol:He,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),nt})}computeLinks(te){return pe(this,void 0,void 0,function*(){const oe=this._getModel(te);return oe?function Je(Le){return Le&&"function"==typeof Le.getLineCount&&"function"==typeof Le.getLineContent?Ke.computeLinks(Le):[]}(oe):null})}textualSuggest(te,oe,we,nt){return pe(this,void 0,void 0,function*(){const He=new Xe.G(!0),De=new RegExp(we,nt),pt=new Set;e:for(const lt of te){const Ht=this._getModel(lt);if(Ht)for(const Xt of Ht.words(De))if(Xt!==oe&&isNaN(Number(Xt))&&(pt.add(Xt),pt.size>Le._suggestionsLimit))break e}return{words:Array.from(pt),duration:He.elapsed()}})}computeWordRanges(te,oe,we,nt){return pe(this,void 0,void 0,function*(){const He=this._getModel(te);if(!He)return Object.create(null);const De=new RegExp(we,nt),pt=Object.create(null);for(let lt=oe.startLineNumber;lt<oe.endLineNumber;lt++){const Ht=He.getLineWords(lt,De);for(const Xt of Ht){if(!isNaN(Number(Xt.word)))continue;let ut=pt[Xt.word];ut||(ut=[],pt[Xt.word]=ut),ut.push({startLineNumber:lt,startColumn:Xt.startColumn,endLineNumber:lt,endColumn:Xt.endColumn})}}return pt})}navigateValueSet(te,oe,we,nt,He){return pe(this,void 0,void 0,function*(){const De=this._getModel(te);if(!De)return null;const pt=new RegExp(nt,He);oe.startColumn===oe.endColumn&&(oe={startLineNumber:oe.startLineNumber,startColumn:oe.startColumn,endLineNumber:oe.endLineNumber,endColumn:oe.endColumn+1});const lt=De.getValueInRange(oe),Ht=De.getWordAtPosition({lineNumber:oe.startLineNumber,column:oe.startColumn},pt);if(!Ht)return null;const Xt=De.getValueInRange(Ht);return vt.INSTANCE.navigateValueSet(oe,lt,Ht,Xt,we)})}loadForeignModule(te,oe,we){const De={host:I.IU(we,(pt,lt)=>this._host.fhr(pt,lt)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(De,oe),Promise.resolve(I.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(te,oe){if(!this._foreignModule||"function"!=typeof this._foreignModule[te])return Promise.reject(new Error("Missing requestHandler or method: "+te));try{return Promise.resolve(this._foreignModule[te].apply(this._foreignModule,oe))}catch(we){return Promise.reject(we)}}}return Le._diffLimit=1e5,Le._suggestionsLimit=1e4,Le})();"function"==typeof importScripts&&(f.li.monaco=(0,Et.O)());var ye=e(44378),Ae=e(42930),ft=e(14940),dt=e(57908),it=e(13154),st=function(Le,ie){return function(te,oe){ie(te,oe,Le)}},St=function(Le,ie,te,oe){return new(te||(te=Promise))(function(nt,He){function De(Ht){try{lt(oe.next(Ht))}catch(Xt){He(Xt)}}function pt(Ht){try{lt(oe.throw(Ht))}catch(Xt){He(Xt)}}function lt(Ht){Ht.done?nt(Ht.value):function we(nt){return nt instanceof te?nt:new te(function(He){He(nt)})}(Ht.value).then(De,pt)}lt((oe=oe.apply(Le,ie||[])).next())})};function Bt(Le,ie){const te=Le.getModel(ie);return!(!te||te.isTooLargeForSyncing())}let Lt=class extends t.JT{constructor(ie,te,oe,we,nt){super(),this._modelService=ie,this._workerManager=this._register(new Tt(this._modelService,we)),this._logService=oe,this._register(nt.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(He,De)=>Bt(this._modelService,He.uri)?this._workerManager.withWorker().then(pt=>pt.computeLinks(He.uri)).then(pt=>pt&&{links:pt}):Promise.resolve({links:[]})})),this._register(nt.completionProvider.register("*",new Ye(this._workerManager,te,this._modelService,we)))}dispose(){super.dispose()}canComputeUnicodeHighlights(ie){return Bt(this._modelService,ie)}computedUnicodeHighlights(ie,te,oe){return this._workerManager.withWorker().then(we=>we.computedUnicodeHighlights(ie,te,oe))}computeDiff(ie,te,oe,we){return this._workerManager.withWorker().then(nt=>nt.computeDiff(ie,te,oe,we))}computeMoreMinimalEdits(ie,te){if((0,ft.Of)(te)){if(!Bt(this._modelService,ie))return Promise.resolve(te);const oe=Xe.G.create(!0),we=this._workerManager.withWorker().then(nt=>nt.computeMoreMinimalEdits(ie,te));return we.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",ie.toString(!0),oe.elapsed())),Promise.race([we,(0,s.Vs)(1e3).then(()=>te)])}return Promise.resolve(void 0)}canNavigateValueSet(ie){return Bt(this._modelService,ie)}navigateValueSet(ie,te,oe){return this._workerManager.withWorker().then(we=>we.navigateValueSet(ie,te,oe))}canComputeWordRanges(ie){return Bt(this._modelService,ie)}computeWordRanges(ie,te){return this._workerManager.withWorker().then(oe=>oe.computeWordRanges(ie,te))}};Lt=function(Le,ie,te,oe){var He,we=arguments.length,nt=we<3?ie:null===oe?oe=Object.getOwnPropertyDescriptor(ie,te):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(Le,ie,te,oe);else for(var De=Le.length-1;De>=0;De--)(He=Le[De])&&(nt=(we<3?He(nt):we>3?He(ie,te,nt):He(ie,te))||nt);return we>3&&nt&&Object.defineProperty(ie,te,nt),nt}([st(0,ye.q),st(1,Ae.V),st(2,dt.VZ),st(3,O.c_),st(4,it.p)],Lt);class Ye{constructor(ie,te,oe,we){this.languageConfigurationService=we,this._debugDisplayName="wordbasedCompletions",this._workerManager=ie,this._configurationService=te,this._modelService=oe}provideCompletionItems(ie,te){return St(this,void 0,void 0,function*(){const oe=this._configurationService.getValue(ie.uri,te,"editor");if(!oe.wordBasedSuggestions)return;const we=[];if("currentDocument"===oe.wordBasedSuggestionsMode)Bt(this._modelService,ie.uri)&&we.push(ie.uri);else for(const Xt of this._modelService.getModels())Bt(this._modelService,Xt.uri)&&(Xt===ie?we.unshift(Xt.uri):("allDocuments"===oe.wordBasedSuggestionsMode||Xt.getLanguageId()===ie.getLanguageId())&&we.push(Xt.uri));if(0===we.length)return;const nt=this.languageConfigurationService.getLanguageConfiguration(ie.getLanguageId()).getWordDefinition(),He=ie.getWordAtPosition(te),De=He?new N.e(te.lineNumber,He.startColumn,te.lineNumber,He.endColumn):N.e.fromPositions(te),pt=De.setEndPosition(te.lineNumber,te.column),Ht=yield(yield this._workerManager.withWorker()).textualSuggest(we,He?.word,nt);return Ht?{duration:Ht.duration,suggestions:Ht.words.map(Xt=>({kind:18,label:Xt,insertText:Xt,range:{insert:pt,replace:De}}))}:void 0})}}class Tt extends t.JT{constructor(ie,te){super(),this.languageConfigurationService=te,this._modelService=ie,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new s.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(we=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new rt(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class qt extends t.JT{constructor(ie,te,oe){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=ie,this._modelService=te,!oe){const we=new s.zh;we.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(we)}}dispose(){for(const ie in this._syncedModels)(0,t.B9)(this._syncedModels[ie]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(ie,te){for(const oe of ie){const we=oe.toString();this._syncedModels[we]||this._beginModelSync(oe,te),this._syncedModels[we]&&(this._syncedModelsLastUsedTime[we]=(new Date).getTime())}}_checkStopModelSync(){const ie=(new Date).getTime(),te=[];for(const oe in this._syncedModelsLastUsedTime)ie-this._syncedModelsLastUsedTime[oe]>6e4&&te.push(oe);for(const oe of te)this._stopModelSync(oe)}_beginModelSync(ie,te){const oe=this._modelService.getModel(ie);if(!oe||!te&&oe.isTooLargeForSyncing())return;const we=ie.toString();this._proxy.acceptNewModel({url:oe.uri.toString(),lines:oe.getLinesContent(),EOL:oe.getEOL(),versionId:oe.getVersionId()});const nt=new t.SL;nt.add(oe.onDidChangeContent(He=>{this._proxy.acceptModelChanged(we.toString(),He)})),nt.add(oe.onWillDispose(()=>{this._stopModelSync(we)})),nt.add((0,t.OF)(()=>{this._proxy.acceptRemovedModel(we)})),this._syncedModels[we]=nt}_stopModelSync(ie){const te=this._syncedModels[ie];delete this._syncedModels[ie],delete this._syncedModelsLastUsedTime[ie],(0,t.B9)(te)}}class Ot{constructor(ie){this._instance=ie,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Ft{constructor(ie){this._workerClient=ie}fhr(ie,te){return this._workerClient.fhr(ie,te)}}class rt extends t.JT{constructor(ie,te,oe,we){super(),this.languageConfigurationService=we,this._disposed=!1,this._modelService=ie,this._keepIdleModels=te,this._workerFactory=new z(oe),this._worker=null,this._modelManager=null}fhr(ie,te){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new g(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Ft(this)))}catch(ie){_(ie),this._worker=new Ot(new de(new Ft(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,ie=>(_(ie),this._worker=new Ot(new de(new Ft(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(ie){return this._modelManager||(this._modelManager=this._register(new qt(ie,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(ie,te=!1){return St(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,l.F0)()):this._getProxy().then(oe=>(this._getOrCreateModelManager(oe).ensureSyncedResources(ie,te),oe))})}computedUnicodeHighlights(ie,te,oe){return this._withSyncedResources([ie]).then(we=>we.computeUnicodeHighlights(ie.toString(),te,oe))}computeDiff(ie,te,oe,we){return this._withSyncedResources([ie,te],!0).then(nt=>nt.computeDiff(ie.toString(),te.toString(),oe,we))}computeMoreMinimalEdits(ie,te){return this._withSyncedResources([ie]).then(oe=>oe.computeMoreMinimalEdits(ie.toString(),te))}computeLinks(ie){return this._withSyncedResources([ie]).then(te=>te.computeLinks(ie.toString()))}textualSuggest(ie,te,oe){return St(this,void 0,void 0,function*(){const we=yield this._withSyncedResources(ie),nt=oe.source,He=(0,b.mr)(oe);return we.textualSuggest(ie.map(De=>De.toString()),te,nt,He)})}computeWordRanges(ie,te){return this._withSyncedResources([ie]).then(oe=>{const we=this._modelService.getModel(ie);if(!we)return Promise.resolve(null);const nt=this.languageConfigurationService.getLanguageConfiguration(we.getLanguageId()).getWordDefinition(),He=nt.source,De=(0,b.mr)(nt);return oe.computeWordRanges(ie.toString(),te,He,De)})}navigateValueSet(ie,te,oe){return this._withSyncedResources([ie]).then(we=>{const nt=this._modelService.getModel(ie);if(!nt)return null;const He=this.languageConfigurationService.getLanguageConfiguration(nt.getLanguageId()).getWordDefinition(),De=He.source,pt=(0,b.mr)(He);return we.navigateValueSet(ie.toString(),te,oe,De,pt)})}dispose(){super.dispose(),this._disposed=!0}}},85171:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>s});class s{constructor(l,C,f){this._visiblePosition=l,this._visiblePositionScrollDelta=C,this._cursorPosition=f}static capture(l){let C=null,f=0;if(0!==l.getScrollTop()){const I=l.getVisibleRanges();if(I.length>0){C=I[0].getStartPosition();const b=l.getTopForPosition(C.lineNumber,C.column);f=l.getScrollTop()-b}}return new s(C,f,l.getPosition())}restore(l){if(this._visiblePosition){const C=l.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);l.setScrollTop(C+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(l){const C=l.getPosition();if(!this._cursorPosition||!C)return;const f=l.getTopForLineNumber(C.lineNumber)-l.getTopForLineNumber(this._cursorPosition.lineNumber);l.setScrollTop(l.getScrollTop()+f)}}},31091:(yt,T,e)=>{"use strict";e.d(T,{Gm:()=>Xa});var s=e(76470),t=e(95102);let f=class{constructor(i,c){}dispose(){}};var i;f.ID="editor.contrib.markerDecorations",f=function(Vt,i,c,M){var Te,U=arguments.length,X=U<3?i:null===M?M=Object.getOwnPropertyDescriptor(i,c):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(Vt,i,c,M);else for(var Ue=Vt.length-1;Ue>=0;Ue--)(Te=Vt[Ue])&&(X=(U<3?Te(X):U>3?Te(i,c,X):Te(i,c))||X);return U>3&&X&&Object.defineProperty(i,c,X),X}([(1,i=s.i,function(c,M){i(c,M,1)})],f),(0,t._K)(f.ID,f);var I=e(92123),b=e.n(I),S=e(65057),D=e.n(S),_=e(28764),r=e.n(_),a=e(6557),u=e.n(a),n=e(11146),d=e.n(n),y=e(95085),g=e.n(y),v=e(88850),m={};m.styleTagTransform=g(),m.setAttributes=u(),m.insert=r().bind(null,"head"),m.domAPI=D(),m.insertStyleElement=d(),b()(v.Z,m);var L=e(1200),x=e(94418),A=e(3219),k=e(31864),W=e(21576),H=e(34059),z=e(52253),N=e(14940),O=e(82941),K=e(84834),$=e(5686),j=e(22728);let q=(()=>{class Vt{constructor(c,M){this.key=c,this.migrate=M}apply(c){const M=Vt._read(c,this.key);this.migrate(M,Te=>Vt._read(c,Te),(Te,Ue)=>Vt._write(c,Te,Ue))}static _read(c,M){if(typeof c>"u")return;const U=M.indexOf(".");if(U>=0){const X=M.substring(0,U);return this._read(c[X],M.substring(U+1))}return c[M]}static _write(c,M,U){const X=M.indexOf(".");if(X>=0){const Te=M.substring(0,X);return c[Te]=c[Te]||{},void this._write(c[Te],M.substring(X+1),U)}c[M]=U}}return Vt.items=[],Vt})();function R(Vt,i){q.items.push(new q(Vt,i))}function Z(Vt,i){R(Vt,(c,M,U)=>{if(typeof c<"u")for(const[X,Te]of i)if(c===X)return void U(Vt,Te)})}Z("wordWrap",[[!0,"on"],[!1,"off"]]),Z("lineNumbers",[[!0,"on"],[!1,"off"]]),Z("cursorBlinking",[["visible","solid"]]),Z("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),Z("renderLineHighlight",[[!0,"line"],[!1,"none"]]),Z("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),Z("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),Z("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),Z("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),Z("autoIndent",[[!1,"advanced"],[!0,"full"]]),Z("matchBrackets",[[!0,"always"],[!1,"never"]]),R("autoClosingBrackets",(Vt,i,c)=>{!1===Vt&&(c("autoClosingBrackets","never"),typeof i("autoClosingQuotes")>"u"&&c("autoClosingQuotes","never"),typeof i("autoSurround")>"u"&&c("autoSurround","never"))}),R("renderIndentGuides",(Vt,i,c)=>{typeof Vt<"u"&&(c("renderIndentGuides",void 0),typeof i("guides.indentation")>"u"&&c("guides.indentation",!!Vt))}),R("highlightActiveIndentGuide",(Vt,i,c)=>{typeof Vt<"u"&&(c("highlightActiveIndentGuide",void 0),typeof i("guides.highlightActiveIndentation")>"u"&&c("guides.highlightActiveIndentation",!!Vt))});const Ce={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};R("suggest.filteredTypes",(Vt,i,c)=>{if(Vt&&"object"==typeof Vt){for(const M of Object.entries(Ce))!1===Vt[M[0]]&&typeof i(`suggest.${M[1]}`)>"u"&&c(`suggest.${M[1]}`,!1);c("suggest.filteredTypes",void 0)}}),R("quickSuggestions",(Vt,i,c)=>{if("boolean"==typeof Vt){const M=Vt?"on":"off";c("quickSuggestions",{comments:M,strings:M,other:M})}});var Se=e(74070),Ie=e(11739),xe=e(85965),Me=e(78626),Oe=e(1652);let Ee=class extends W.JT{constructor(i,c,M,U){super(),this._accessibilityService=U,this._onDidChange=this._register(new k.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new Ie.LJ,this.isSimpleWidget=i,this._containerObserver=this._register(new $.I(M,c.dimension)),this._rawOptions=ze(c),this._validatedOptions=Ze.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(xe.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(Se.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(j.g.onDidChange(()=>this._recomputeOptions())),this._register(z.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const i=this._computeOptions(),c=Ze.checkEquals(this.options,i);null!==c&&(this.options=i,this._onDidChangeFast.fire(c),this._onDidChange.fire(c))}_computeOptions(){const i=this._readEnvConfiguration(),c=Me.E4.createFromValidatedSettings(this._validatedOptions,i.pixelRatio,this.isSimpleWidget),M=this._readFontInfo(c),U={memory:this._computeOptionsMemory,outerWidth:i.outerWidth,outerHeight:i.outerHeight-this._reservedHeight,fontInfo:M,extraEditorClassName:i.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:i.emptySelectionClipboard,pixelRatio:i.pixelRatio,tabFocusMode:Se.n.getTabFocusMode(),accessibilitySupport:i.accessibilitySupport};return Ze.computeOptions(this._validatedOptions,U)}_readEnvConfiguration(){return{extraEditorClassName:Pe(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:z.isWebKit||z.isFirefox,pixelRatio:z.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(i){return j.g.readFontInfo(i)}getRawOptions(){return this._rawOptions}updateOptions(i){const c=ze(i);Ze.applyUpdate(this._rawOptions,c)&&(this._validatedOptions=Ze.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(i){this._containerObserver.observe(i)}setIsDominatedByLongLines(i){this._isDominatedByLongLines!==i&&(this._isDominatedByLongLines=i,this._recomputeOptions())}setModelLineCount(i){const c=function me(Vt){let i=0;for(;Vt;)Vt=Math.floor(Vt/10),i++;return i||1}(i);this._lineNumbersDigitCount!==c&&(this._lineNumbersDigitCount=c,this._recomputeOptions())}setViewLineCount(i){this._viewLineCount!==i&&(this._viewLineCount=i,this._recomputeOptions())}setReservedHeight(i){this._reservedHeight!==i&&(this._reservedHeight=i,this._recomputeOptions())}};function Pe(){let Vt="";return!z.isSafari&&!z.isWebkitWebView&&(Vt+="no-user-select "),z.isSafari&&(Vt+="no-minimap-shadow ",Vt+="enable-user-select "),K.dz&&(Vt+="mac "),Vt}Ee=function(Vt,i,c,M){var Te,U=arguments.length,X=U<3?i:null===M?M=Object.getOwnPropertyDescriptor(i,c):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(Vt,i,c,M);else for(var Ue=Vt.length-1;Ue>=0;Ue--)(Te=Vt[Ue])&&(X=(U<3?Te(X):U>3?Te(i,c,X):Te(i,c))||X);return U>3&&X&&Object.defineProperty(i,c,X),X}([function(Vt,i){return function(c,M){i(c,M,3)}}(0,Oe.F)],Ee);class he{constructor(){this._values=[]}_read(i){return this._values[i]}get(i){return this._values[i]}_write(i,c){this._values[i]=c}}class Fe{constructor(){this._values=[]}_read(i){if(i>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[i]}get(i){return this._read(i)}_write(i,c){this._values[i]=c}}class Ze{static validateOptions(i){const c=new he;for(const M of Ie.Bc)c._write(M.id,M.validate("_never_"===M.name?void 0:i[M.name]));return c}static computeOptions(i,c){const M=new Fe;for(const U of Ie.Bc)M._write(U.id,U.compute(c,M,i._read(U.id)));return M}static _deepEquals(i,c){if("object"!=typeof i||"object"!=typeof c||!i||!c)return i===c;if(Array.isArray(i)||Array.isArray(c))return!(!Array.isArray(i)||!Array.isArray(c))&&N.fS(i,c);if(Object.keys(i).length!==Object.keys(c).length)return!1;for(const M in i)if(!Ze._deepEquals(i[M],c[M]))return!1;return!0}static checkEquals(i,c){const M=[];let U=!1;for(const X of Ie.Bc){const Te=!Ze._deepEquals(i._read(X.id),c._read(X.id));M[X.id]=Te,Te&&(U=!0)}return U?new Ie.Bb(M):null}static applyUpdate(i,c){let M=!1;for(const U of Ie.Bc)if(c.hasOwnProperty(U.name)){const X=U.applyUpdate(i[U.name],c[U.name]);i[U.name]=X.newValue,M=M||X.didChange}return M}}function ze(Vt){const i=O.I8(Vt);return function J(Vt){q.items.forEach(i=>i.apply(Vt))}(i),i}var fe=e(60896),Ke=e(58745),Je=e(81500),vt=e(52364),Et=e(46073),Xe=e(41883),re=e(25206);class pe extends W.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(i){return!1}onCompositionEnd(i){return!1}onConfigurationChanged(i){return!1}onCursorStateChanged(i){return!1}onDecorationsChanged(i){return!1}onFlushed(i){return!1}onFocusChanged(i){return!1}onLanguageConfigurationChanged(i){return!1}onLineMappingChanged(i){return!1}onLinesChanged(i){return!1}onLinesDeleted(i){return!1}onLinesInserted(i){return!1}onRevealRangeRequest(i){return!1}onScrollChanged(i){return!1}onThemeChanged(i){return!1}onTokensChanged(i){return!1}onTokensColorsChanged(i){return!1}onZonesChanged(i){return!1}handleEvents(i){let c=!1;for(let M=0,U=i.length;M<U;M++){const X=i[M];switch(X.type){case 0:this.onCompositionStart(X)&&(c=!0);break;case 1:this.onCompositionEnd(X)&&(c=!0);break;case 2:this.onConfigurationChanged(X)&&(c=!0);break;case 3:this.onCursorStateChanged(X)&&(c=!0);break;case 4:this.onDecorationsChanged(X)&&(c=!0);break;case 5:this.onFlushed(X)&&(c=!0);break;case 6:this.onFocusChanged(X)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged(X)&&(c=!0);break;case 8:this.onLineMappingChanged(X)&&(c=!0);break;case 9:this.onLinesChanged(X)&&(c=!0);break;case 10:this.onLinesDeleted(X)&&(c=!0);break;case 11:this.onLinesInserted(X)&&(c=!0);break;case 12:this.onRevealRangeRequest(X)&&(c=!0);break;case 13:this.onScrollChanged(X)&&(c=!0);break;case 15:this.onTokensChanged(X)&&(c=!0);break;case 14:this.onThemeChanged(X)&&(c=!0);break;case 16:this.onTokensColorsChanged(X)&&(c=!0);break;case 17:this.onZonesChanged(X)&&(c=!0);break;default:console.info("View received unknown event: "),console.info(X)}}c&&(this._shouldRender=!0)}}class ge extends pe{constructor(i){super(),this._context=i,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class de{static write(i,c){i.setAttribute("data-mprt",String(c))}static read(i){const c=i.getAttribute("data-mprt");return null===c?0:parseInt(c,10)}static collect(i,c){const M=[];let U=0;for(;i&&i!==document.body&&i!==c;)i.nodeType===i.ELEMENT_NODE&&(M[U++]=this.read(i)),i=i.parentElement;const X=new Uint8Array(U);for(let Te=0;Te<U;Te++)X[Te]=M[U-Te-1];return X}}class Q{constructor(i,c){this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=c,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const M=this._viewLayout.getCurrentViewport();this.scrollTop=M.top,this.scrollLeft=M.left,this.viewportWidth=M.width,this.viewportHeight=M.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class ye extends Q{constructor(i,c,M){super(i,c),this._renderingContextBrand=void 0,this._viewLines=M}linesVisibleRangesForRange(i,c){return this._viewLines.linesVisibleRangesForRange(i,c)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}class Ae{constructor(i,c,M){this.outsideRenderedLine=i,this.lineNumber=c,this.ranges=M}}class ft{constructor(i,c){this._horizontalRangeBrand=void 0,this.left=Math.round(i),this.width=Math.round(c)}static from(i){const c=new Array(i.length);for(let M=0,U=i.length;M<U;M++){const X=i[M];c[M]=new ft(X.left,X.width)}return c}toString(){return`[${this.left},${this.width}]`}}class dt{constructor(i,c){this._floatHorizontalRangeBrand=void 0,this.left=i,this.width=c}toString(){return`[${this.left},${this.width}]`}static compare(i,c){return i.left-c.left}}class it{constructor(i,c){this.outsideRenderedLine=i,this.originalLeft=c,this.left=Math.round(this.originalLeft)}}class et{constructor(i,c){this.outsideRenderedLine=i,this.ranges=c}}class st{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(i,c){i.selectNodeContents(c)}static _readClientRects(i,c,M,U,X){const Te=this._createRange();try{return Te.setStart(i,c),Te.setEnd(M,U),Te.getClientRects()}catch{return null}finally{this._detachRange(Te,X)}}static _mergeAdjacentRanges(i){if(1===i.length)return i;i.sort(dt.compare);const c=[];let M=0,U=i[0];for(let X=1,Te=i.length;X<Te;X++){const Ue=i[X];U.left+U.width+.9>=Ue.left?U.width=Math.max(U.width,Ue.left+Ue.width-U.left):(c[M++]=U,U=Ue)}return c[M++]=U,c}static _createHorizontalRangesFromClientRects(i,c,M){if(!i||0===i.length)return null;const U=[];for(let X=0,Te=i.length;X<Te;X++){const Ue=i[X];U[X]=new dt(Math.max(0,(Ue.left-c)/M),Ue.width/M)}return this._mergeAdjacentRanges(U)}static readHorizontalRanges(i,c,M,U,X,Te,Ue,gt){const kt=i.children.length-1;if(0>kt)return null;if((c=Math.min(kt,Math.max(0,c)))===(U=Math.min(kt,Math.max(0,U)))&&M===X&&0===M&&!i.children[c].firstChild){const On=i.children[c].getClientRects();return this._createHorizontalRangesFromClientRects(On,Te,Ue)}c!==U&&U>0&&0===X&&(U--,X=1073741824);let Qt=i.children[c].firstChild,hn=i.children[U].firstChild;if((!Qt||!hn)&&(!Qt&&0===M&&c>0&&(Qt=i.children[c-1].firstChild,M=1073741824),!hn&&0===X&&U>0&&(hn=i.children[U-1].firstChild,X=1073741824)),!Qt||!hn)return null;M=Math.min(Qt.textContent.length,Math.max(0,M)),X=Math.min(hn.textContent.length,Math.max(0,X));const fn=this._readClientRects(Qt,M,hn,X,gt);return this._createHorizontalRangesFromClientRects(fn,Te,Ue)}}var St=e(90090),mt=e(93389),bt=e(65206);const Bt=!!K.tY||!(K.IJ||z.isFirefox||z.isSafari);let Lt=!0;class Ye{constructor(i,c){this._domNode=i,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=c}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const i=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=i.left,this._clientRectScale=i.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class Tt{constructor(i,c){this.themeType=c;const M=i.options,U=M.get(46);this.renderWhitespace=M.get(90),this.renderControlCharacters=M.get(85),this.spaceWidth=U.spaceWidth,this.middotWidth=U.middotWidth,this.wsmiddotWidth=U.wsmiddotWidth,this.useMonospaceOptimizations=U.isMonospace&&!M.get(29),this.canUseHalfwidthRightwardsArrow=U.canUseHalfwidthRightwardsArrow,this.lineHeight=M.get(61),this.stopRenderingLineAfter=M.get(107),this.fontLigatures=M.get(47)}equals(i){return this.themeType===i.themeType&&this.renderWhitespace===i.renderWhitespace&&this.renderControlCharacters===i.renderControlCharacters&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.useMonospaceOptimizations===i.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.lineHeight===i.lineHeight&&this.stopRenderingLineAfter===i.stopRenderingLineAfter&&this.fontLigatures===i.fontLigatures}}let qt=(()=>{class Vt{constructor(c){this._options=c,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(c){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,Je.X)(c)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(c){this._isMaybeInvalid=!0,this._options=c}onSelectionChanged(){return!(!(0,bt.c3)(this._options.themeType)&&"selection"!==this._options.renderWhitespace||(this._isMaybeInvalid=!0,0))}renderLine(c,M,U,X){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const Te=U.getViewLineRenderingData(c),Ue=this._options,gt=St.Kp.filter(Te.inlineDecorations,c,Te.minColumn,Te.maxColumn);let xt=null;if((0,bt.c3)(Ue.themeType)||"selection"===this._options.renderWhitespace){const fn=U.selections;for(const On of fn){if(On.endLineNumber<c||On.startLineNumber>c)continue;const Un=On.startLineNumber===c?On.startColumn:Te.minColumn,jn=On.endLineNumber===c?On.endColumn:Te.maxColumn;Un<jn&&((0,bt.c3)(Ue.themeType)||"selection"!==this._options.renderWhitespace?gt.push(new St.Kp(Un,jn,"inline-selected-text",0)):(xt||(xt=[]),xt.push(new mt.zG(Un-1,jn-1))))}}const kt=new mt.IJ(Ue.useMonospaceOptimizations,Ue.canUseHalfwidthRightwardsArrow,Te.content,Te.continuesWithWrappedLine,Te.isBasicASCII,Te.containsRTL,Te.minColumn-1,Te.tokens,gt,Te.tabSize,Te.startVisibleColumn,Ue.spaceWidth,Ue.middotWidth,Ue.wsmiddotWidth,Ue.stopRenderingLineAfter,Ue.renderWhitespace,Ue.renderControlCharacters,Ue.fontLigatures!==Ie.n0.OFF,xt);if(this._renderedViewLine&&this._renderedViewLine.input.equals(kt))return!1;X.appendASCIIString('<div style="top:'),X.appendASCIIString(String(M)),X.appendASCIIString("px;height:"),X.appendASCIIString(String(this._options.lineHeight)),X.appendASCIIString('px;" class="'),X.appendASCIIString(Vt.CLASS_NAME),X.appendASCIIString('">');const Qt=(0,mt.d1)(kt,X);X.appendASCIIString("</div>");let hn=null;return Lt&&Bt&&Te.isBasicASCII&&Ue.useMonospaceOptimizations&&0===Qt.containsForeignElements&&Te.content.length<300&&kt.lineTokens.getCount()<100&&(hn=new Ot(this._renderedViewLine?this._renderedViewLine.domNode:null,kt,Qt.characterMapping)),hn||(hn=Le(this._renderedViewLine?this._renderedViewLine.domNode:null,kt,Qt.characterMapping,Qt.containsRTL,Qt.containsForeignElements)),this._renderedViewLine=hn,!0}layoutLine(c,M){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(M),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof Ot}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Ot?this._renderedViewLine.monospaceAssumptionsAreValid():Lt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Ot&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(c,M,U,X){if(!this._renderedViewLine)return null;M=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,M)),U=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,U));const Te=this._renderedViewLine.input.stopRenderingLineAfter;let Ue=!1;-1!==Te&&M>Te+1&&U>Te+1&&(Ue=!0),-1!==Te&&M>Te+1&&(M=Te+1),-1!==Te&&U>Te+1&&(U=Te+1);const gt=this._renderedViewLine.getVisibleRangesForRange(c,M,U,X);return gt&&gt.length>0?new et(Ue,gt):null}getColumnOfNodeOffset(c,M,U){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(c,M,U):1}}return Vt.CLASS_NAME="view-line",Vt})();class Ot{constructor(i,c,M){this.domNode=i,this.input=c,this._characterMapping=M,this._charWidth=c.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Lt;const i=this.getWidth();return Math.abs(i-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Lt=!1),Lt}toSlowRenderedLine(){return Le(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(i,c,M,U){const X=this._getCharPosition(c),Te=this._getCharPosition(M);return[new dt(X,Te-X)]}_getCharPosition(i){const c=this._characterMapping.getHorizontalOffset(i);return this._charWidth*c}getColumnOfNodeOffset(i,c,M){const U=c.textContent.length;let X=-1;for(;c;)c=c.previousSibling,X++;return this._characterMapping.getColumn(new mt.Nd(X,M),U)}}class Ft{constructor(i,c,M,U,X){if(this.domNode=i,this.input=c,this._characterMapping=M,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=X,this._cachedWidth=-1,this._pixelOffsetCache=null,!U||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Te=0,Ue=this._characterMapping.length;Te<=Ue;Te++)this._pixelOffsetCache[Te]=-1}}_getReadingTarget(i){return i.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(i,c,M,U){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const X=this._readPixelOffset(this.domNode,i,c,U);if(-1===X)return null;const Te=this._readPixelOffset(this.domNode,i,M,U);return-1===Te?null:[new dt(X,Te-X)]}return this._readVisibleRangesForRange(this.domNode,i,c,M,U)}_readVisibleRangesForRange(i,c,M,U,X){if(M===U){const Te=this._readPixelOffset(i,c,M,X);return-1===Te?null:[new dt(Te,0)]}return this._readRawVisibleRangesForRange(i,M,U,X)}_readPixelOffset(i,c,M,U){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const X=this._getReadingTarget(i);return X.firstChild?X.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const X=this._pixelOffsetCache[M];if(-1!==X)return X;const Te=this._actualReadPixelOffset(i,c,M,U);return this._pixelOffsetCache[M]=Te,Te}return this._actualReadPixelOffset(i,c,M,U)}_actualReadPixelOffset(i,c,M,U){if(0===this._characterMapping.length){const gt=st.readHorizontalRanges(this._getReadingTarget(i),0,0,0,0,U.clientRectDeltaLeft,U.clientRectScale,U.endNode);return gt&&0!==gt.length?gt[0].left:-1}if(M===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const X=this._characterMapping.getDomPosition(M),Te=st.readHorizontalRanges(this._getReadingTarget(i),X.partIndex,X.charIndex,X.partIndex,X.charIndex,U.clientRectDeltaLeft,U.clientRectScale,U.endNode);if(!Te||0===Te.length)return-1;const Ue=Te[0].left;if(this.input.isBasicASCII){const gt=this._characterMapping.getHorizontalOffset(M),xt=Math.round(this.input.spaceWidth*gt);if(Math.abs(xt-Ue)<=1)return xt}return Ue}_readRawVisibleRangesForRange(i,c,M,U){if(1===c&&M===this._characterMapping.length)return[new dt(0,this.getWidth())];const X=this._characterMapping.getDomPosition(c),Te=this._characterMapping.getDomPosition(M);return st.readHorizontalRanges(this._getReadingTarget(i),X.partIndex,X.charIndex,Te.partIndex,Te.charIndex,U.clientRectDeltaLeft,U.clientRectScale,U.endNode)}getColumnOfNodeOffset(i,c,M){const U=c.textContent.length;let X=-1;for(;c;)c=c.previousSibling,X++;return this._characterMapping.getColumn(new mt.Nd(X,M),U)}}class rt extends Ft{_readVisibleRangesForRange(i,c,M,U,X){const Te=super._readVisibleRangesForRange(i,c,M,U,X);if(!Te||0===Te.length||M===U||1===M&&U===this._characterMapping.length)return Te;if(!this.input.containsRTL){const Ue=this._readPixelOffset(i,c,U,X);if(-1!==Ue){const gt=Te[Te.length-1];gt.left<Ue&&(gt.width=Ue-gt.left)}}return Te}}const Le=z.isWebKit?function ie(Vt,i,c,M,U){return new rt(Vt,i,c,M,U)}:function te(Vt,i,c,M,U){return new Ft(Vt,i,c,M,U)};var lt,oe=e(13902),we=e(88154),nt=e(30648),He=e(16881);class De{constructor(i=null){this.hitTarget=i,this.type=0}}class pt{constructor(i,c,M){this.position=i,this.spanNode=c,this.injectedText=M,this.type=1}}!function(Vt){Vt.createFromDOMInfo=function i(c,M,U){const X=c.getPositionFromDOMInfo(M,U);return X?new pt(X,M,null):new De(M)}}(lt||(lt={}));class Ht{constructor(i,c){this.lastViewCursorsRenderData=i,this.lastTextareaPosition=c}}class Xt{static _deduceRage(i,c=null){return!c&&i?new we.e(i.lineNumber,i.column,i.lineNumber,i.column):c??null}static createUnknown(i,c,M){return{type:0,element:i,mouseColumn:c,position:M,range:this._deduceRage(M)}}static createTextarea(i,c){return{type:1,element:i,mouseColumn:c,position:null,range:null}}static createMargin(i,c,M,U,X,Te){return{type:i,element:c,mouseColumn:M,position:U,range:X,detail:Te}}static createViewZone(i,c,M,U,X){return{type:i,element:c,mouseColumn:M,position:U,range:this._deduceRage(U),detail:X}}static createContentText(i,c,M,U,X){return{type:6,element:i,mouseColumn:c,position:M,range:this._deduceRage(M,U),detail:X}}static createContentEmpty(i,c,M,U){return{type:7,element:i,mouseColumn:c,position:M,range:this._deduceRage(M),detail:U}}static createContentWidget(i,c,M){return{type:9,element:i,mouseColumn:c,position:null,range:null,detail:M}}static createScrollbar(i,c,M){return{type:11,element:i,mouseColumn:c,position:M,range:this._deduceRage(M)}}static createOverlayWidget(i,c,M){return{type:12,element:i,mouseColumn:c,position:null,range:null,detail:M}}static createOutsideEditor(i,c){return{type:13,element:null,mouseColumn:i,position:c,range:this._deduceRage(c)}}static _typeToString(i){return 1===i?"TEXTAREA":2===i?"GUTTER_GLYPH_MARGIN":3===i?"GUTTER_LINE_NUMBERS":4===i?"GUTTER_LINE_DECORATIONS":5===i?"GUTTER_VIEW_ZONE":6===i?"CONTENT_TEXT":7===i?"CONTENT_EMPTY":8===i?"CONTENT_VIEW_ZONE":9===i?"CONTENT_WIDGET":10===i?"OVERVIEW_RULER":11===i?"SCROLLBAR":12===i?"OVERLAY_WIDGET":"UNKNOWN"}static toString(i){return this._typeToString(i.type)+": "+i.position+" - "+i.range+" - "+JSON.stringify(i.detail)}}class ut{static isTextArea(i){return 2===i.length&&3===i[0]&&6===i[1]}static isChildOfViewLines(i){return i.length>=4&&3===i[0]&&7===i[3]}static isStrictChildOfViewLines(i){return i.length>4&&3===i[0]&&7===i[3]}static isChildOfScrollableElement(i){return i.length>=2&&3===i[0]&&5===i[1]}static isChildOfMinimap(i){return i.length>=2&&3===i[0]&&8===i[1]}static isChildOfContentWidgets(i){return i.length>=4&&3===i[0]&&1===i[3]}static isChildOfOverflowingContentWidgets(i){return i.length>=1&&2===i[0]}static isChildOfOverlayWidgets(i){return i.length>=2&&3===i[0]&&4===i[1]}}class an{constructor(i,c,M){this.viewModel=i.viewModel;const U=i.configuration.options;this.layoutInfo=U.get(133),this.viewDomNode=c.viewDomNode,this.lineHeight=U.get(61),this.stickyTabStops=U.get(106),this.typicalHalfwidthCharacterWidth=U.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=M,this._context=i,this._viewHelper=c}getZoneAtCoord(i){return an.getZoneAtCoord(this._context,i)}static getZoneAtCoord(i,c){const M=i.viewLayout.getWhitespaceAtVerticalOffset(c);if(M){const U=M.verticalOffset+M.height/2,X=i.viewModel.getLineCount();let Ue,Te=null,gt=null;return M.afterLineNumber!==X&&(gt=new oe.L(M.afterLineNumber+1,1)),M.afterLineNumber>0&&(Te=new oe.L(M.afterLineNumber,i.viewModel.getLineMaxColumn(M.afterLineNumber))),Ue=null===gt?Te:null===Te?gt:c<U?Te:gt,{viewZoneId:M.id,afterLineNumber:M.afterLineNumber,positionBefore:Te,positionAfter:gt,position:Ue}}return null}getFullLineRangeAtCoord(i){if(this._context.viewLayout.isAfterLines(i)){const U=this._context.viewModel.getLineCount(),X=this._context.viewModel.getLineMaxColumn(U);return{range:new we.e(U,X,U,X),isAfterLines:!0}}const c=this._context.viewLayout.getLineNumberAtVerticalOffset(i),M=this._context.viewModel.getLineMaxColumn(c);return{range:new we.e(c,1,c,M),isAfterLines:!1}}getLineNumberAtVerticalOffset(i){return this._context.viewLayout.getLineNumberAtVerticalOffset(i)}isAfterLines(i){return this._context.viewLayout.isAfterLines(i)}isInTopPadding(i){return this._context.viewLayout.isInTopPadding(i)}isInBottomPadding(i){return this._context.viewLayout.isInBottomPadding(i)}getVerticalOffsetForLineNumber(i){return this._context.viewLayout.getVerticalOffsetForLineNumber(i)}findAttribute(i,c){return an._findAttribute(i,c,this._viewHelper.viewDomNode)}static _findAttribute(i,c,M){for(;i&&i!==document.body;){if(i.hasAttribute&&i.hasAttribute(c))return i.getAttribute(c);if(i===M)return null;i=i.parentNode}return null}getLineWidth(i){return this._viewHelper.getLineWidth(i)}visibleRangeForPosition(i,c){return this._viewHelper.visibleRangeForPosition(i,c)}getPositionFromDOMInfo(i,c){return this._viewHelper.getPositionFromDOMInfo(i,c)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Kn{constructor(i,c,M,U){this.editorPos=c,this.pos=M,this.relativePos=U,this.mouseVerticalOffset=Math.max(0,i.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=i.getCurrentScrollLeft()+this.relativePos.x-i.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<i.layoutInfo.contentLeft&&this.relativePos.x>=i.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ri._getMouseColumn(this.mouseContentHorizontalOffset,i.typicalHalfwidthCharacterWidth))}}class Gn extends Kn{constructor(i,c,M,U,X){super(i,c,M,U),this._ctx=i,X?(this.target=X,this.targetPath=de.collect(X,i.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(i=null){return i&&i.column<this._ctx.viewModel.getLineMaxColumn(i.lineNumber)?nt.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(i.lineNumber),i.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(i=null){return Xt.createUnknown(this.target,this._getMouseColumn(i),i)}fulfillTextarea(){return Xt.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(i,c,M,U){return Xt.createMargin(i,this.target,this._getMouseColumn(c),c,M,U)}fulfillViewZone(i,c,M){return Xt.createViewZone(i,this.target,this._getMouseColumn(c),c,M)}fulfillContentText(i,c,M){return Xt.createContentText(this.target,this._getMouseColumn(i),i,c,M)}fulfillContentEmpty(i,c){return Xt.createContentEmpty(this.target,this._getMouseColumn(i),i,c)}fulfillContentWidget(i){return Xt.createContentWidget(this.target,this._getMouseColumn(),i)}fulfillScrollbar(i){return Xt.createScrollbar(this.target,this._getMouseColumn(i),i)}fulfillOverlayWidget(i){return Xt.createOverlayWidget(this.target,this._getMouseColumn(),i)}withTarget(i){return new Gn(this._ctx,this.editorPos,this.pos,this.relativePos,i)}}const li={isAfterLines:!0};function fi(Vt){return{isAfterLines:!1,horizontalDistanceToText:Vt}}class ri{constructor(i,c){this._context=i,this._viewHelper=c}mouseTargetIsWidget(i){const M=de.collect(i.target,this._viewHelper.viewDomNode);return!!(ut.isChildOfContentWidgets(M)||ut.isChildOfOverflowingContentWidgets(M)||ut.isChildOfOverlayWidgets(M))}createMouseTarget(i,c,M,U,X){const Te=new an(this._context,this._viewHelper,i),Ue=new Gn(Te,c,M,U,X);try{return ri._createMouseTarget(Te,Ue,!1)}catch{return Ue.fulfillUnknown()}}static _createMouseTarget(i,c,M){if(null===c.target){if(M)return c.fulfillUnknown();const Te=ri._doHitTest(i,c);return 1===Te.type?ri.createMouseTargetFromHitTestPosition(i,c,Te.spanNode,Te.position,Te.injectedText):this._createMouseTarget(i,c.withTarget(Te.hitTarget),!0)}const U=c;let X=null;return X=X||ri._hitTestContentWidget(i,U),X=X||ri._hitTestOverlayWidget(i,U),X=X||ri._hitTestMinimap(i,U),X=X||ri._hitTestScrollbarSlider(i,U),X=X||ri._hitTestViewZone(i,U),X=X||ri._hitTestMargin(i,U),X=X||ri._hitTestViewCursor(i,U),X=X||ri._hitTestTextArea(i,U),X=X||ri._hitTestViewLines(i,U,M),X=X||ri._hitTestScrollbar(i,U),X||c.fulfillUnknown()}static _hitTestContentWidget(i,c){if(ut.isChildOfContentWidgets(c.targetPath)||ut.isChildOfOverflowingContentWidgets(c.targetPath)){const M=i.findAttribute(c.target,"widgetId");return M?c.fulfillContentWidget(M):c.fulfillUnknown()}return null}static _hitTestOverlayWidget(i,c){if(ut.isChildOfOverlayWidgets(c.targetPath)){const M=i.findAttribute(c.target,"widgetId");return M?c.fulfillOverlayWidget(M):c.fulfillUnknown()}return null}static _hitTestViewCursor(i,c){if(c.target){const M=i.lastRenderData.lastViewCursorsRenderData;for(const U of M)if(c.target===U.domNode)return c.fulfillContentText(U.position,null,{mightBeForeignElement:!1,injectedText:null})}if(c.isInContentArea){const M=i.lastRenderData.lastViewCursorsRenderData,U=c.mouseContentHorizontalOffset,X=c.mouseVerticalOffset;for(const Te of M){if(U<Te.contentLeft||U>Te.contentLeft+Te.width)continue;const Ue=i.getVerticalOffsetForLineNumber(Te.position.lineNumber);if(Ue<=X&&X<=Ue+Te.height)return c.fulfillContentText(Te.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(i,c){const M=i.getZoneAtCoord(c.mouseVerticalOffset);return M?c.fulfillViewZone(c.isInContentArea?8:5,M.position,M):null}static _hitTestTextArea(i,c){return ut.isTextArea(c.targetPath)?i.lastRenderData.lastTextareaPosition?c.fulfillContentText(i.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):c.fulfillTextarea():null}static _hitTestMargin(i,c){if(c.isInMarginArea){const M=i.getFullLineRangeAtCoord(c.mouseVerticalOffset),U=M.range.getStartPosition();let X=Math.abs(c.relativePos.x);const Te={isAfterLines:M.isAfterLines,glyphMarginLeft:i.layoutInfo.glyphMarginLeft,glyphMarginWidth:i.layoutInfo.glyphMarginWidth,lineNumbersWidth:i.layoutInfo.lineNumbersWidth,offsetX:X};return X-=i.layoutInfo.glyphMarginLeft,X<=i.layoutInfo.glyphMarginWidth?c.fulfillMargin(2,U,M.range,Te):(X-=i.layoutInfo.glyphMarginWidth,X<=i.layoutInfo.lineNumbersWidth?c.fulfillMargin(3,U,M.range,Te):(X-=i.layoutInfo.lineNumbersWidth,c.fulfillMargin(4,U,M.range,Te)))}return null}static _hitTestViewLines(i,c,M){if(!ut.isChildOfViewLines(c.targetPath))return null;if(i.isInTopPadding(c.mouseVerticalOffset))return c.fulfillContentEmpty(new oe.L(1,1),li);if(i.isAfterLines(c.mouseVerticalOffset)||i.isInBottomPadding(c.mouseVerticalOffset)){const X=i.viewModel.getLineCount(),Te=i.viewModel.getLineMaxColumn(X);return c.fulfillContentEmpty(new oe.L(X,Te),li)}if(M){if(ut.isStrictChildOfViewLines(c.targetPath)){const X=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset);if(0===i.viewModel.getLineLength(X)){const Ue=i.getLineWidth(X),gt=fi(c.mouseContentHorizontalOffset-Ue);return c.fulfillContentEmpty(new oe.L(X,1),gt)}const Te=i.getLineWidth(X);if(c.mouseContentHorizontalOffset>=Te){const Ue=fi(c.mouseContentHorizontalOffset-Te),gt=new oe.L(X,i.viewModel.getLineMaxColumn(X));return c.fulfillContentEmpty(gt,Ue)}}return c.fulfillUnknown()}const U=ri._doHitTest(i,c);return 1===U.type?ri.createMouseTargetFromHitTestPosition(i,c,U.spanNode,U.position,U.injectedText):this._createMouseTarget(i,c.withTarget(U.hitTarget),!0)}static _hitTestMinimap(i,c){if(ut.isChildOfMinimap(c.targetPath)){const M=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),U=i.viewModel.getLineMaxColumn(M);return c.fulfillScrollbar(new oe.L(M,U))}return null}static _hitTestScrollbarSlider(i,c){if(ut.isChildOfScrollableElement(c.targetPath)&&c.target&&1===c.target.nodeType){const M=c.target.className;if(M&&/\b(slider|scrollbar)\b/.test(M)){const U=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),X=i.viewModel.getLineMaxColumn(U);return c.fulfillScrollbar(new oe.L(U,X))}}return null}static _hitTestScrollbar(i,c){if(ut.isChildOfScrollableElement(c.targetPath)){const M=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),U=i.viewModel.getLineMaxColumn(M);return c.fulfillScrollbar(new oe.L(M,U))}return null}getMouseColumn(i){const c=this._context.configuration.options,M=c.get(133),U=this._context.viewLayout.getCurrentScrollLeft()+i.x-M.contentLeft;return ri._getMouseColumn(U,c.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(i,c){return i<0?1:Math.round(i/c)+1}static createMouseTargetFromHitTestPosition(i,c,M,U,X){const Te=U.lineNumber,Ue=U.column,gt=i.getLineWidth(Te);if(c.mouseContentHorizontalOffset>gt){const jn=fi(c.mouseContentHorizontalOffset-gt);return c.fulfillContentEmpty(U,jn)}const xt=i.visibleRangeForPosition(Te,Ue);if(!xt)return c.fulfillUnknown(U);if(c.mouseContentHorizontalOffset===xt.left)return c.fulfillContentText(U,null,{mightBeForeignElement:!!X,injectedText:X});const Qt=[];if(Qt.push({offset:xt.left,column:Ue}),Ue>1){const jn=i.visibleRangeForPosition(Te,Ue-1);jn&&Qt.push({offset:jn.left,column:Ue-1})}if(Ue<i.viewModel.getLineMaxColumn(Te)){const jn=i.visibleRangeForPosition(Te,Ue+1);jn&&Qt.push({offset:jn.left,column:Ue+1})}Qt.sort((jn,ai)=>jn.offset-ai.offset);const fn=c.pos.toClientCoordinates(),On=M.getBoundingClientRect(),Un=On.left<=fn.clientX&&fn.clientX<=On.right;for(let jn=1;jn<Qt.length;jn++){const ai=Qt[jn-1],mi=Qt[jn];if(ai.offset<=c.mouseContentHorizontalOffset&&c.mouseContentHorizontalOffset<=mi.offset){const Si=new we.e(Te,ai.column,Te,mi.column),Ki=Math.abs(ai.offset-c.mouseContentHorizontalOffset),eo=Math.abs(mi.offset-c.mouseContentHorizontalOffset),Gi=new oe.L(Te,Ki<eo?ai.column:mi.column);return c.fulfillContentText(Gi,Si,{mightBeForeignElement:!Un||!!X,injectedText:X})}}return c.fulfillContentText(U,null,{mightBeForeignElement:!Un||!!X,injectedText:X})}static _doHitTestWithCaretRangeFromPoint(i,c){const M=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),X=i.getVerticalOffsetForLineNumber(M)+Math.floor(i.lineHeight/2);let Te=c.pos.y+(X-c.mouseVerticalOffset);Te<=c.editorPos.y&&(Te=c.editorPos.y+1),Te>=c.editorPos.y+c.editorPos.height&&(Te=c.editorPos.y+c.editorPos.height-1);const Ue=new re.YN(c.pos.x,Te),gt=this._actualDoHitTestWithCaretRangeFromPoint(i,Ue.toClientCoordinates());return 1===gt.type?gt:this._actualDoHitTestWithCaretRangeFromPoint(i,c.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(i,c){const M=x.Ay(i.viewDomNode);let U;if(U=M?typeof M.caretRangeFromPoint>"u"?function _i(Vt,i,c){const M=document.createRange();let U=Vt.elementFromPoint(i,c);if(null!==U){for(;U&&U.firstChild&&U.firstChild.nodeType!==U.firstChild.TEXT_NODE&&U.lastChild&&U.lastChild.firstChild;)U=U.lastChild;const X=U.getBoundingClientRect(),Te=window.getComputedStyle(U,null).getPropertyValue("font"),Ue=U.innerText;let kt,gt=X.left,xt=0;if(i>X.left+X.width)xt=Ue.length;else{const Qt=Xi.getInstance();for(let hn=0;hn<Ue.length+1;hn++){if(kt=Qt.getCharWidth(Ue.charAt(hn),Te)/2,gt+=kt,i<gt){xt=hn;break}gt+=kt}}M.setStart(U.firstChild,xt),M.setEnd(U.firstChild,xt)}return M}(M,c.clientX,c.clientY):M.caretRangeFromPoint(c.clientX,c.clientY):document.caretRangeFromPoint(c.clientX,c.clientY),!U||!U.startContainer)return new De;const X=U.startContainer;if(X.nodeType===X.TEXT_NODE){const Te=X.parentNode,Ue=Te?Te.parentNode:null,gt=Ue?Ue.parentNode:null;return(gt&&gt.nodeType===gt.ELEMENT_NODE?gt.className:null)===qt.CLASS_NAME?lt.createFromDOMInfo(i,Te,U.startOffset):new De(X.parentNode)}if(X.nodeType===X.ELEMENT_NODE){const Te=X.parentNode,Ue=Te?Te.parentNode:null;return(Ue&&Ue.nodeType===Ue.ELEMENT_NODE?Ue.className:null)===qt.CLASS_NAME?lt.createFromDOMInfo(i,X,X.textContent.length):new De(X)}return new De}static _doHitTestWithCaretPositionFromPoint(i,c){const M=document.caretPositionFromPoint(c.clientX,c.clientY);if(M.offsetNode.nodeType===M.offsetNode.TEXT_NODE){const U=M.offsetNode.parentNode,X=U?U.parentNode:null,Te=X?X.parentNode:null;return(Te&&Te.nodeType===Te.ELEMENT_NODE?Te.className:null)===qt.CLASS_NAME?lt.createFromDOMInfo(i,M.offsetNode.parentNode,M.offset):new De(M.offsetNode.parentNode)}if(M.offsetNode.nodeType===M.offsetNode.ELEMENT_NODE){const U=M.offsetNode.parentNode,Te=U?U.parentNode:null,Ue=Te&&Te.nodeType===Te.ELEMENT_NODE?Te.className:null;if((U&&U.nodeType===U.ELEMENT_NODE?U.className:null)===qt.CLASS_NAME){const gt=M.offsetNode.childNodes[Math.min(M.offset,M.offsetNode.childNodes.length-1)];if(gt)return lt.createFromDOMInfo(i,gt,0)}else if(Ue===qt.CLASS_NAME)return lt.createFromDOMInfo(i,M.offsetNode,0)}return new De(M.offsetNode)}static _snapToSoftTabBoundary(i,c){const M=c.getLineContent(i.lineNumber),{tabSize:U}=c.model.getOptions(),X=He.l.atomicPosition(M,i.column-1,U,2);return-1!==X?new oe.L(i.lineNumber,X+1):i}static _doHitTest(i,c){let M=new De;if("function"==typeof document.caretRangeFromPoint?M=this._doHitTestWithCaretRangeFromPoint(i,c):document.caretPositionFromPoint&&(M=this._doHitTestWithCaretPositionFromPoint(i,c.pos.toClientCoordinates())),1===M.type){const U=i.viewModel.getInjectedTextAt(M.position),X=i.viewModel.normalizePosition(M.position,2);(U||!X.equals(M.position))&&(M=new pt(X,M.spanNode,U))}return 1===M.type&&i.stickyTabStops&&(M=new pt(this._snapToSoftTabBoundary(M.position,i.viewModel),M.spanNode,M.injectedText)),M}}let Xi=(()=>{class Vt{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Vt._INSTANCE||(Vt._INSTANCE=new Vt),Vt._INSTANCE}getCharWidth(c,M){const U=c+M;if(this._cache[U])return this._cache[U];const X=this._canvas.getContext("2d");X.font=M;const Ue=X.measureText(c).width;return this._cache[U]=Ue,Ue}}return Vt._INSTANCE=null,Vt})();class Zi extends pe{constructor(i,c,M){super(),this._mouseLeaveMonitor=null,this._context=i,this.viewController=c,this.viewHelper=M,this.mouseTargetFactory=new ri(this._context,M),this._mouseDownOperation=this._register(new vo(this._context,this.viewController,this.viewHelper,(Ue,gt)=>this._createMouseTarget(Ue,gt),Ue=>this._getMouseColumn(Ue))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const U=new re.N5(this.viewHelper.viewDomNode);this._register(U.onContextMenu(this.viewHelper.viewDomNode,Ue=>this._onContextMenu(Ue,!0))),this._register(U.onMouseMove(this.viewHelper.viewDomNode,Ue=>{this._onMouseMove(Ue),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=x.nm(document,"mousemove",gt=>{this.viewHelper.viewDomNode.contains(gt.target)||this._onMouseLeave(new re.gy(gt,!1,this.viewHelper.viewDomNode))}))})),this._register(U.onMouseUp(this.viewHelper.viewDomNode,Ue=>this._onMouseUp(Ue))),this._register(U.onMouseLeave(this.viewHelper.viewDomNode,Ue=>this._onMouseLeave(Ue)));let X=0;this._register(U.onPointerDown(this.viewHelper.viewDomNode,(Ue,gt)=>{X=gt})),this._register(x.nm(this.viewHelper.viewDomNode,x.tw.POINTER_UP,Ue=>{this._mouseDownOperation.onPointerUp()})),this._register(U.onMouseDown(this.viewHelper.viewDomNode,Ue=>this._onMouseDown(Ue,X))),this._register(x.nm(this.viewHelper.viewDomNode,x.tw.MOUSE_WHEEL,Ue=>{if(this.viewController.emitMouseWheel(Ue),!this._context.configuration.options.get(70))return;const gt=new Et.q(Ue);if(K.dz?(Ue.metaKey||Ue.ctrlKey)&&!Ue.shiftKey&&!Ue.altKey:Ue.ctrlKey&&!Ue.metaKey&&!Ue.shiftKey&&!Ue.altKey){const kt=xe.C.getZoomLevel();xe.C.setZoomLevel(kt+(gt.deltaY>0?1:-1)),gt.preventDefault(),gt.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(i){if(i.hasChanged(133)){const c=this._context.configuration.options.get(133).height;this._height!==c&&(this._height=c,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(i){return this._mouseDownOperation.onCursorStateChanged(i),!1}onFocusChanged(i){return!1}onScrollChanged(i){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(i,c){const U=new re.rU(i,c).toPageCoordinates(),X=(0,re.kG)(this.viewHelper.viewDomNode);if(U.y<X.y||U.y>X.y+X.height||U.x<X.x||U.x>X.x+X.width)return null;const Te=(0,re.Pp)(this.viewHelper.viewDomNode,X,U);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),X,U,Te,null)}_createMouseTarget(i,c){let M=i.target;if(!this.viewHelper.viewDomNode.contains(M)){const U=x.Ay(this.viewHelper.viewDomNode);U&&(M=U.elementsFromPoint(i.posx,i.posy).find(X=>this.viewHelper.viewDomNode.contains(X)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i.editorPos,i.pos,i.relativePos,c?M:null)}_getMouseColumn(i){return this.mouseTargetFactory.getMouseColumn(i.relativePos)}_onContextMenu(i,c){this.viewController.emitContextMenu({event:i,target:this._createMouseTarget(i,c)})}_onMouseMove(i){this.mouseTargetFactory.mouseTargetIsWidget(i)||i.preventDefault(),!(this._mouseDownOperation.isActive()||i.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:i,target:this._createMouseTarget(i,!0)})}_onMouseLeave(i){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:i,target:null})}_onMouseUp(i){this.viewController.emitMouseUp({event:i,target:this._createMouseTarget(i,!0)})}_onMouseDown(i,c){const M=this._createMouseTarget(i,!0),U=6===M.type||7===M.type,X=2===M.type||3===M.type||4===M.type,Te=3===M.type,Ue=this._context.configuration.options.get(100),gt=8===M.type||5===M.type,xt=9===M.type;let kt=i.leftButton||i.middleButton;K.dz&&i.leftButton&&i.ctrlKey&&(kt=!1);const Qt=()=>{i.preventDefault(),this.viewHelper.focusTextArea()};kt&&(U||Te&&Ue)?(Qt(),this._mouseDownOperation.start(M.type,i,c)):X?i.preventDefault():gt?kt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(M.detail.viewZoneId)&&(Qt(),this._mouseDownOperation.start(M.type,i,c),i.preventDefault()):xt&&this.viewHelper.shouldSuppressMouseDownOnWidget(M.detail)&&(Qt(),i.preventDefault()),this.viewController.emitMouseDown({event:i,target:M})}}class vo extends W.JT{constructor(i,c,M,U,X){super(),this._context=i,this._viewController=c,this._viewHelper=M,this._createMouseTarget=U,this._getMouseColumn=X,this._mouseMoveMonitor=this._register(new re.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Xe._F),this._mouseState=new oo,this._currentSelection=new Ke.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(i){this._lastMouseEvent=i,this._mouseState.setModifiers(i);const c=this._findMousePosition(i,!1);c&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:i,target:c}):this._dispatchMouse(c,!0))}start(i,c,M){this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(3===i),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);const U=this._findMousePosition(c,!0);if(!U||!U.position)return;this._mouseState.trySetCount(c.detail,U.position),c.detail=this._mouseState.count;const X=this._context.configuration.options;if(!X.get(83)&&X.get(31)&&!X.get(18)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===U.type&&U.position&&this._currentSelection.containsPosition(U.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,M,c.buttons,Te=>this._onMouseDownThenMove(Te),Te=>{const Ue=this._findMousePosition(this._lastMouseEvent,!1);Te&&Te instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Ue?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(U,c.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,M,c.buttons,Te=>this._onMouseDownThenMove(Te),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const i=this._findMousePosition(this._lastMouseEvent,!1);i&&(this._mouseState.isDragAndDrop||this._dispatchMouse(i,!0))},10)}onCursorStateChanged(i){this._currentSelection=i.selections[0]}_getPositionOutsideEditor(i){const c=i.editorPos,M=this._context.viewModel,U=this._context.viewLayout,X=this._getMouseColumn(i);if(i.posy<c.y){const Ue=Math.max(U.getCurrentScrollTop()-(c.y-i.posy),0),gt=an.getZoneAtCoord(this._context,Ue);if(gt){const kt=this._helpPositionJumpOverViewZone(gt);if(kt)return Xt.createOutsideEditor(X,kt)}const xt=U.getLineNumberAtVerticalOffset(Ue);return Xt.createOutsideEditor(X,new oe.L(xt,1))}if(i.posy>c.y+c.height){const Ue=U.getCurrentScrollTop()+i.relativePos.y,gt=an.getZoneAtCoord(this._context,Ue);if(gt){const kt=this._helpPositionJumpOverViewZone(gt);if(kt)return Xt.createOutsideEditor(X,kt)}const xt=U.getLineNumberAtVerticalOffset(Ue);return Xt.createOutsideEditor(X,new oe.L(xt,M.getLineMaxColumn(xt)))}const Te=U.getLineNumberAtVerticalOffset(U.getCurrentScrollTop()+i.relativePos.y);return i.posx<c.x?Xt.createOutsideEditor(X,new oe.L(Te,1)):i.posx>c.x+c.width?Xt.createOutsideEditor(X,new oe.L(Te,M.getLineMaxColumn(Te))):null}_findMousePosition(i,c){const M=this._getPositionOutsideEditor(i);if(M)return M;const U=this._createMouseTarget(i,c);if(!U.position)return null;if(8===U.type||5===U.type){const Te=this._helpPositionJumpOverViewZone(U.detail);if(Te)return Xt.createViewZone(U.type,U.element,U.mouseColumn,Te,U.detail)}return U}_helpPositionJumpOverViewZone(i){const c=new oe.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),M=i.positionBefore,U=i.positionAfter;return M&&U?M.isBefore(c)?M:U:null}_dispatchMouse(i,c){i.position&&this._viewController.dispatchMouse({position:i.position,mouseColumn:i.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===i.type&&null!==i.detail.injectedText})}}let oo=(()=>{class Vt{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(c){this._altKey=c.altKey,this._ctrlKey=c.ctrlKey,this._metaKey=c.metaKey,this._shiftKey=c.shiftKey}setStartButtons(c){this._leftButton=c.leftButton,this._middleButton=c.middleButton}setStartedOnLineNumbers(c){this._startedOnLineNumbers=c}trySetCount(c,M){const U=(new Date).getTime();U-this._lastSetMouseDownCountTime>Vt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(c=1),this._lastSetMouseDownCountTime=U,c>this._lastMouseDownCount+1&&(c=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(M)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=M,this._lastMouseDownCount=Math.min(c,this._lastMouseDownPositionEqualCount)}}return Vt.CLEAR_MOUSE_DOWN_COUNT_TIME=400,Vt})();var yo=e(20570),Lo=e(87465);class oi extends Zi{constructor(i,c,M){super(i,c,M),this._register(vt.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,vt.t.Tap,X=>this.onTap(X))),this._register(x.nm(this.viewHelper.linesContentDomNode,vt.t.Change,X=>this.onChange(X))),this._register(x.nm(this.viewHelper.linesContentDomNode,vt.t.Contextmenu,X=>this._onContextMenu(new re.gy(X,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(x.nm(this.viewHelper.linesContentDomNode,"pointerdown",X=>{const Te=X.pointerType;this._lastPointerType="mouse"!==Te?"touch"===Te?"touch":"pen":"mouse"}));const U=new re.tC(this.viewHelper.viewDomNode);this._register(U.onPointerMove(this.viewHelper.viewDomNode,X=>this._onMouseMove(X))),this._register(U.onPointerUp(this.viewHelper.viewDomNode,X=>this._onMouseUp(X))),this._register(U.onPointerLeave(this.viewHelper.viewDomNode,X=>this._onMouseLeave(X))),this._register(U.onPointerDown(this.viewHelper.viewDomNode,(X,Te)=>this._onMouseDown(X,Te)))}onTap(i){if(!i.initialTarget||!this.viewHelper.linesContentDomNode.contains(i.initialTarget))return;i.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new re.gy(i,!1,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:i.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===c.type&&null!==c.detail.injectedText})}onChange(i){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}_onMouseDown(i,c){"touch"!==i.browserEvent.pointerType&&super._onMouseDown(i,c)}}class en extends Zi{constructor(i,c,M){super(i,c,M),this._register(vt.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,vt.t.Tap,U=>this.onTap(U))),this._register(x.nm(this.viewHelper.linesContentDomNode,vt.t.Change,U=>this.onChange(U))),this._register(x.nm(this.viewHelper.linesContentDomNode,vt.t.Contextmenu,U=>this._onContextMenu(new re.gy(U,!1,this.viewHelper.viewDomNode),!1)))}onTap(i){i.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new re.gy(i,!1,this.viewHelper.viewDomNode),!1);if(c.position){const M=document.createEvent("CustomEvent");M.initEvent(Lo.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(M),this.viewController.moveTo(c.position)}}onChange(i){this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}}class wt extends W.JT{constructor(i,c,M){super(),this.handler=K.gn&&yo.D.pointerEvents?this._register(new oi(i,c,M)):window.TouchEvent?this._register(new en(i,c,M)):this._register(new Zi(i,c,M))}getTargetAtClientPoint(i,c){return this.handler.getTargetAtClientPoint(i,c)}}var Dt=e(37083),$t={};$t.styleTagTransform=g(),$t.setAttributes=u(),$t.insert=r().bind(null,"head"),$t.domAPI=D(),$t.insertStyleElement=d(),b()(Dt.Z,$t);var Cn=e(77697),Pn=e(20635),Hn=e(17508),zn=e(37282),bi={};bi.styleTagTransform=g(),bi.setAttributes=u(),bi.insert=r().bind(null,"head"),bi.domAPI=D(),bi.insertStyleElement=d(),b()(zn.Z,bi);class Oi extends pe{}var Qi=e(99327),Wi=e(14089);let xo=(()=>{class Vt extends Oi{constructor(c){super(),this._context=c,this._readConfig(),this._lastCursorModelPosition=new oe.L(1,1),this._lastCursorViewPosition=new oe.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const c=this._context.configuration.options;this._lineHeight=c.get(61);const M=c.get(62);this._renderLineNumbers=M.renderType,this._renderCustomLineNumbers=M.renderFn,this._renderFinalNewline=c.get(86);const U=c.get(133);this._lineNumbersLeft=U.lineNumbersLeft,this._lineNumbersWidth=U.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){return this._readConfig(),!0}onCursorStateChanged(c){const M=c.selections[0].getPosition();this._lastCursorViewPosition=M,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(M);let U=!1;return this._activeLineNumber!==M.lineNumber&&(this._activeLineNumber=M.lineNumber,U=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(U=!0),U}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_getLineRenderLineNumber(c){const M=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe.L(c,1));if(1!==M.column)return"";const U=M.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(U):3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===U||U%10==0?String(U):"":String(U)}prepareRender(c){if(0===this._renderLineNumbers)return void(this._renderResult=null);const M=K.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",U=c.visibleRange.startLineNumber,X=c.visibleRange.endLineNumber,Te='<div class="'+Vt.CLASS_NAME+M+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let Ue=null;if(2===this._renderLineNumbers){Ue=new Array(X-U+1),this._lastCursorViewPosition.lineNumber>=U&&this._lastCursorViewPosition.lineNumber<=X&&(Ue[this._lastCursorViewPosition.lineNumber-U]=this._lastCursorModelPosition.lineNumber);{let kt=0;for(let Qt=this._lastCursorViewPosition.lineNumber+1;Qt<=X;Qt++){const fn=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe.L(Qt,1)).column;fn||kt++,Qt>=U&&(Ue[Qt-U]=fn?0:kt)}}{let kt=0;for(let Qt=this._lastCursorViewPosition.lineNumber-1;Qt>=U;Qt--){const fn=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe.L(Qt,1)).column;fn||kt++,Qt<=X&&(Ue[Qt-U]=fn?0:kt)}}}const gt=this._context.viewModel.getLineCount(),xt=[];for(let kt=U;kt<=X;kt++){const Qt=kt-U;if(!this._renderFinalNewline&&kt===gt&&0===this._context.viewModel.getLineLength(kt)){xt[Qt]="";continue}let hn;if(Ue){const fn=Ue[Qt];hn=this._lastCursorViewPosition.lineNumber===kt?`<span class="relative-current-line-number">${fn}</span>`:fn?String(fn):""}else hn=this._getLineRenderLineNumber(kt);xt[Qt]=hn?kt===this._activeLineNumber?'<div class="active-line-number '+Vt.CLASS_NAME+M+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+hn+"</div>":Te+hn+"</div>":""}this._renderResult=xt}render(c,M){if(!this._renderResult)return"";const U=M-c;return U<0||U>=this._renderResult.length?"":this._renderResult[U]}}return Vt.CLASS_NAME="line-numbers",Vt})();(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(Qi.hw);c&&i.addRule(`.monaco-editor .line-numbers { color: ${c}; }`);const M=Vt.getColor(Qi.DD);M&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${M}; }`)});let ro=(()=>{class Vt extends ge{constructor(c){super(c);const M=this._context.configuration.options,U=M.get(133);this._canUseLayerHinting=!M.get(28),this._contentLeft=U.contentLeft,this._glyphMarginLeft=U.glyphMarginLeft,this._glyphMarginWidth=U.glyphMarginWidth,this._domNode=(0,Je.X)(document.createElement("div")),this._domNode.setClassName(Vt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,Je.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Vt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(c){const M=this._context.configuration.options,U=M.get(133);return this._canUseLayerHinting=!M.get(28),this._contentLeft=U.contentLeft,this._glyphMarginLeft=U.glyphMarginLeft,this._glyphMarginWidth=U.glyphMarginWidth,!0}onScrollChanged(c){return super.onScrollChanged(c)||c.scrollTopChanged}prepareRender(c){}render(c){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(c.scrollTop-c.bigNumbersDelta));const U=Math.min(c.scrollHeight,1e6);this._domNode.setHeight(U),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(U)}}return Vt.CLASS_NAME="glyph-margin",Vt.OUTER_CLASS_NAME="margin",Vt})();var Co=e(10759),Mo=e(58291),Oo=e(64050),ko=e(84968);class so{constructor(i,c,M,U,X){this._context=i,this.modelLineNumber=c,this.distanceToModelLineStart=M,this.widthOfHiddenLineTextBefore=U,this.distanceToModelLineEnd=X,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(i){const c=new oe.L(this.modelLineNumber,this.distanceToModelLineStart+1),M=new oe.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(M),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=i.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=i.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(i){return this._previousPresentation||(this._previousPresentation=i||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Do=z.isFirefox;class Ho extends ge{constructor(i,c,M){super(i),this._primaryCursorPosition=new oe.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=c,this._visibleRangeProvider=M,this._scrollLeft=0,this._scrollTop=0;const U=this._context.configuration.options,X=U.get(133);this._setAccessibilityOptions(U),this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._contentHeight=X.height,this._fontInfo=U.get(46),this._lineHeight=U.get(61),this._emptySelectionClipboard=U.get(33),this._copyWithSyntaxHighlighting=U.get(21),this._visibleTextArea=null,this._selections=[new Ke.Y(1,1,1,1)],this._modelSelections=[new Ke.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,Je.X)(document.createElement("textarea")),de.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Mo.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(U)),this.textArea.setAttribute("tabindex",String(U.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),U.get(30)&&U.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,Je.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Te={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:xt=>this._context.viewModel.getLineMaxColumn(xt),getValueInRange:(xt,kt)=>this._context.viewModel.getValueInRange(xt,kt)},Ue={getDataToCopy:()=>{const xt=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,K.ED),kt=this._context.viewModel.model.getEOL(),Qt=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),hn=Array.isArray(xt)?xt:null,fn=Array.isArray(xt)?xt.join(kt):xt;let On,Un=null;if(Lo.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&fn.length<65536){const jn=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);jn&&(On=jn.html,Un=jn.mode)}return{isFromEmptySelection:Qt,multicursorText:hn,text:fn,html:On,mode:Un}},getScreenReaderContent:xt=>{if(1===this._accessibilitySupport){const kt=this._selections[0];if(K.dz&&kt.isEmpty()){const Qt=kt.getStartPosition();let hn=this._getWordBeforePosition(Qt);if(0===hn.length&&(hn=this._getCharacterBeforePosition(Qt)),hn.length>0)return new Hn.un(hn,hn.length,hn.length,Qt,Qt)}if(z.isSafari&&!kt.isEmpty()){const Qt="vscode-placeholder";return new Hn.un(Qt,0,Qt.length,null,null)}return Hn.un.EMPTY}if(z.isAndroid){const kt=this._selections[0];if(kt.isEmpty()){const Qt=kt.getStartPosition(),[hn,fn]=this._getAndroidWordAtPosition(Qt);if(hn.length>0)return new Hn.un(hn,fn,fn,Qt,Qt)}return Hn.un.EMPTY}return Hn.ee.fromEditorSelection(xt,Te,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(xt,kt,Qt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(xt,kt,Qt)},gt=this._register(new Lo.Tj(this.textArea.domNode));this._textAreaInput=this._register(new Lo.Fz(Ue,gt,K.OS,z)),this._register(this._textAreaInput.onKeyDown(xt=>{this._viewController.emitKeyDown(xt)})),this._register(this._textAreaInput.onKeyUp(xt=>{this._viewController.emitKeyUp(xt)})),this._register(this._textAreaInput.onPaste(xt=>{let kt=!1,Qt=null,hn=null;xt.metadata&&(kt=this._emptySelectionClipboard&&!!xt.metadata.isFromEmptySelection,Qt=typeof xt.metadata.multicursorText<"u"?xt.metadata.multicursorText:null,hn=xt.metadata.mode),this._viewController.paste(xt.text,kt,Qt,hn)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(xt=>{xt.replacePrevCharCnt||xt.replaceNextCharCnt||xt.positionDelta?(Hn.al&&console.log(` => compositionType: <<${xt.text}>>, ${xt.replacePrevCharCnt}, ${xt.replaceNextCharCnt}, ${xt.positionDelta}`),this._viewController.compositionType(xt.text,xt.replacePrevCharCnt,xt.replaceNextCharCnt,xt.positionDelta)):(Hn.al&&console.log(` => type: <<${xt.text}>>`),this._viewController.type(xt.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(xt=>{this._viewController.setSelection(xt)})),this._register(this._textAreaInput.onCompositionStart(xt=>{const kt=this.textArea.domNode,Qt=this._modelSelections[0],{distanceToModelLineStart:hn,widthOfHiddenTextBefore:fn}=(()=>{const Un=kt.value.substring(0,Math.min(kt.selectionStart,kt.selectionEnd)),jn=Un.lastIndexOf("\n"),ai=Un.substring(jn+1),mi=ai.lastIndexOf("\t"),Si=ai.length-mi-1,Ki=Qt.getStartPosition(),eo=Math.min(Ki.column-1,Si),Gi=Ki.column-1-eo,Vi=function ni(Vt,i){if(0===Vt.length)return 0;const c=document.createElement("div");c.style.position="absolute",c.style.top="-50000px",c.style.width="50000px";const M=document.createElement("span");(0,Pn.N)(M,i),M.style.whiteSpace="pre",M.append(Vt),c.appendChild(M),document.body.appendChild(c);const U=M.offsetWidth;return document.body.removeChild(c),U}(ai.substring(0,ai.length-eo),this._fontInfo);return{distanceToModelLineStart:Gi,widthOfHiddenTextBefore:Vi}})(),{distanceToModelLineEnd:On}=(()=>{const Un=kt.value.substring(Math.max(kt.selectionStart,kt.selectionEnd)),jn=Un.indexOf("\n"),ai=-1===jn?Un:Un.substring(0,jn),mi=ai.indexOf("\t"),Si=-1===mi?ai.length:ai.length-mi-1,Ki=Qt.getEndPosition(),eo=Math.min(this._context.viewModel.model.getLineMaxColumn(Ki.lineNumber)-Ki.column,Si);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Ki.lineNumber)-Ki.column-eo}})();this._context.viewModel.revealRange("keyboard",!0,we.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new so(this._context,Qt.startLineNumber,hn,fn,On),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Mo.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(xt=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Mo.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(i){const M=this._context.viewModel.getLineContent(i.lineNumber),U=(0,Co.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let X=!0,Te=i.column,Ue=!0,gt=i.column,xt=0;for(;xt<50&&(X||Ue);){if(X&&Te<=1&&(X=!1),X){const kt=M.charCodeAt(Te-2);0!==U.get(kt)?X=!1:Te--}if(Ue&&gt>M.length&&(Ue=!1),Ue){const kt=M.charCodeAt(gt-1);0!==U.get(kt)?Ue=!1:gt++}xt++}return[M.substring(Te-1,gt-1),i.column-Te]}_getWordBeforePosition(i){const c=this._context.viewModel.getLineContent(i.lineNumber),M=(0,Co.u)(this._context.configuration.options.get(119));let U=i.column,X=0;for(;U>1;){const Te=c.charCodeAt(U-2);if(0!==M.get(Te)||X>50)return c.substring(U-1,i.column-1);X++,U--}return c.substring(0,i.column-1)}_getCharacterBeforePosition(i){if(i.column>1){const M=this._context.viewModel.getLineContent(i.lineNumber).charAt(i.column-2);if(!Cn.ZG(M.charCodeAt(0)))return M}return""}_getAriaLabel(i){return 1===i.get(2)?L.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",K.IJ?"Shift+Alt+F1":"Alt+F1"):i.get(4)}_setAccessibilityOptions(i){this._accessibilitySupport=i.get(2);const c=i.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&c===Ie.BH.accessibilityPageSize.defaultValue?500:c}onConfigurationChanged(i){const c=this._context.configuration.options,M=c.get(133);return this._setAccessibilityOptions(c),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._contentHeight=M.height,this._fontInfo=c.get(46),this._lineHeight=c.get(61),this._emptySelectionClipboard=c.get(33),this._copyWithSyntaxHighlighting=c.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),this.textArea.setAttribute("tabindex",String(c.get(114))),(i.hasChanged(30)||i.hasChanged(83))&&(c.get(30)&&c.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),i.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),this._modelSelections=i.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return this._scrollLeft=i.scrollLeft,this._scrollTop=i.scrollTop,!0}onZonesChanged(i){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(i){i.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",i.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),i.role&&this.textArea.setAttribute("role",i.role)}prepareRender(i){var c;this._primaryCursorPosition=new oe.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=i.visibleRangeForPosition(this._primaryCursorPosition),null===(c=this._visibleTextArea)||void 0===c||c.prepareRender(i)}render(i){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const M=this._visibleTextArea.visibleTextareaStart,U=this._visibleTextArea.visibleTextareaEnd,X=this._visibleTextArea.startPosition,Te=this._visibleTextArea.endPosition;if(X&&Te&&M&&U&&U.left>=this._scrollLeft&&M.left<=this._scrollLeft+this._contentWidth){const Ue=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,gt=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let xt=this._visibleTextArea.widthOfHiddenLineTextBefore,kt=this._contentLeft+M.left-this._scrollLeft,Qt=U.left-M.left+1;if(kt<this._contentLeft){const ai=this._contentLeft-kt;kt+=ai,xt+=ai,Qt-=ai}Qt>this._contentWidth&&(Qt=this._contentWidth);const hn=this._context.viewModel.getViewLineData(X.lineNumber),fn=hn.tokens.findTokenIndexAtOffset(X.column-1),On=hn.tokens.findTokenIndexAtOffset(Te.column-1),jn=this._visibleTextArea.definePresentation(fn===On?hn.tokens.getPresentation(fn):null);this.textArea.domNode.scrollTop=gt*this._lineHeight,this.textArea.domNode.scrollLeft=xt,this._doRender({lastRenderPosition:null,top:Ue,left:kt,width:Qt,height:this._lineHeight,useCover:!1,color:(Oo.RW.getColorMap()||[])[jn.foreground],italic:jn.italic,bold:jn.bold,underline:jn.underline,strikethrough:jn.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const i=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(i<this._contentLeft||i>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(c<0||c>this._contentHeight)this._renderAtTopLeft();else if(K.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:i,width:Do?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const M=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=M*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:i,width:Do?0:1,height:Do?0:1,useCover:!1})}_newlinecount(i){let c=0,M=-1;for(;M=i.indexOf("\n",M+1),-1!==M;)c++;return c}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:Do?0:1,height:Do?0:1,useCover:!0})}_doRender(i){this._lastRenderPosition=i.lastRenderPosition;const c=this.textArea,M=this.textAreaCover;(0,Pn.N)(c,this._fontInfo),c.setTop(i.top),c.setLeft(i.left),c.setWidth(i.width),c.setHeight(i.height),c.setColor(i.color?ko.Il.Format.CSS.formatHex(i.color):""),c.setFontStyle(i.italic?"italic":""),i.bold&&c.setFontWeight("bold"),c.setTextDecoration(`${i.underline?" underline":""}${i.strikethrough?" line-through":""}`),M.setTop(i.useCover?i.top:0),M.setLeft(i.useCover?i.left:0),M.setWidth(i.useCover?i.width:0),M.setHeight(i.useCover?i.height:0);const U=this._context.configuration.options;U.get(52)?M.setClassName("monaco-editor-background textAreaCover "+ro.OUTER_CLASS_NAME):0!==U.get(62).renderType?M.setClassName("monaco-editor-background textAreaCover "+xo.CLASS_NAME):M.setClassName("monaco-editor-background textAreaCover")}}var Zt=e(75090);class sn{constructor(i,c,M,U){this.configuration=i,this.viewModel=c,this.userInputEvents=M,this.commandDelegate=U}paste(i,c,M,U){this.commandDelegate.paste(i,c,M,U)}type(i){this.commandDelegate.type(i)}compositionType(i,c,M,U){this.commandDelegate.compositionType(i,c,M,U)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(i){Zt.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:i})}_validateViewColumn(i){const c=this.viewModel.getLineMinColumn(i.lineNumber);return i.column<c?new oe.L(i.lineNumber,c):i}_hasMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.altKey;case"ctrlKey":return i.ctrlKey;case"metaKey":return i.metaKey;default:return!1}}_hasNonMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.ctrlKey||i.metaKey;case"ctrlKey":return i.altKey||i.metaKey;case"metaKey":return i.ctrlKey||i.altKey;default:return!1}}dispatchMouse(i){const c=this.configuration.options,M=K.IJ&&c.get(98),U=c.get(18);i.middleButton&&!M?this._columnSelect(i.position,i.mouseColumn,i.inSelectionMode):i.startedOnLineNumbers?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelect(i.position):this._createCursor(i.position,!0):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):i.mouseDownCount>=4?this._selectAll():3===i.mouseDownCount?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelectDrag(i.position):this._lastCursorLineSelect(i.position):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):2===i.mouseDownCount?i.onInjectedText||(this._hasMulticursorModifier(i)?this._lastCursorWordSelect(i.position):i.inSelectionMode?this._wordSelectDrag(i.position):this._wordSelect(i.position)):this._hasMulticursorModifier(i)?this._hasNonMulticursorModifier(i)||(i.shiftKey?this._columnSelect(i.position,i.mouseColumn,!0):i.inSelectionMode?this._lastCursorMoveToSelect(i.position):this._createCursor(i.position,!1)):i.inSelectionMode?i.altKey||U?this._columnSelect(i.position,i.mouseColumn,!0):this._moveToSelect(i.position):this.moveTo(i.position)}_usualArgs(i){return i=this._validateViewColumn(i),{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i}}moveTo(i){Zt.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_moveToSelect(i){Zt.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_columnSelect(i,c,M){i=this._validateViewColumn(i),Zt.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,mouseColumn:c,doColumnSelect:M})}_createCursor(i,c){i=this._validateViewColumn(i),Zt.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,wholeLine:c})}_lastCursorMoveToSelect(i){Zt.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelect(i){Zt.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelectDrag(i){Zt.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorWordSelect(i){Zt.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelect(i){Zt.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelectDrag(i){Zt.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelect(i){Zt.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelectDrag(i){Zt.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_selectAll(){Zt.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(i){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i)}emitKeyDown(i){this.userInputEvents.emitKeyDown(i)}emitKeyUp(i){this.userInputEvents.emitKeyUp(i)}emitContextMenu(i){this.userInputEvents.emitContextMenu(i)}emitMouseMove(i){this.userInputEvents.emitMouseMove(i)}emitMouseLeave(i){this.userInputEvents.emitMouseLeave(i)}emitMouseUp(i){this.userInputEvents.emitMouseUp(i)}emitMouseDown(i){this.userInputEvents.emitMouseDown(i)}emitMouseDrag(i){this.userInputEvents.emitMouseDrag(i)}emitMouseDrop(i){this.userInputEvents.emitMouseDrop(i)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(i){this.userInputEvents.emitMouseWheel(i)}}class dn{constructor(i){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=i}emitKeyDown(i){var c;null===(c=this.onKeyDown)||void 0===c||c.call(this,i)}emitKeyUp(i){var c;null===(c=this.onKeyUp)||void 0===c||c.call(this,i)}emitContextMenu(i){var c;null===(c=this.onContextMenu)||void 0===c||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseMove(i){var c;null===(c=this.onMouseMove)||void 0===c||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseLeave(i){var c;null===(c=this.onMouseLeave)||void 0===c||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDown(i){var c;null===(c=this.onMouseDown)||void 0===c||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseUp(i){var c;null===(c=this.onMouseUp)||void 0===c||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrag(i){var c;null===(c=this.onMouseDrag)||void 0===c||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrop(i){var c;null===(c=this.onMouseDrop)||void 0===c||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDropCanceled(){var i;null===(i=this.onMouseDropCanceled)||void 0===i||i.call(this)}emitMouseWheel(i){var c;null===(c=this.onMouseWheel)||void 0===c||c.call(this,i)}_convertViewToModelMouseEvent(i){return i.target?{event:i.event,target:this._convertViewToModelMouseTarget(i.target)}:i}_convertViewToModelMouseTarget(i){return dn.convertViewToModelMouseTarget(i,this._coordinatesConverter)}static convertViewToModelMouseTarget(i,c){const M=Object.assign({},i);return M.position&&(M.position=c.convertViewPositionToModelPosition(M.position)),M.range&&(M.range=c.convertViewRangeToModelRange(M.range)),M}}var An,Bn=e(23859);class un{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,c){this._lines=c,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const c=i-this._rendLineNumberStart;if(c<0||c>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[c]}onLinesDeleted(i,c){if(0===this.getCount())return null;const M=this.getStartLineNumber(),U=this.getEndLineNumber();if(c<M)return this._rendLineNumberStart-=c-i+1,null;if(i>U)return null;let X=0,Te=0;for(let gt=M;gt<=U;gt++)i<=gt&&gt<=c&&(0===Te?(X=gt-this._rendLineNumberStart,Te=1):Te++);if(i<M){let gt=0;gt=c<M?c-i+1:M-i,this._rendLineNumberStart-=gt}return this._lines.splice(X,Te)}onLinesChanged(i,c){const M=i+c-1;if(0===this.getCount())return!1;const U=this.getStartLineNumber(),X=this.getEndLineNumber();let Te=!1;for(let Ue=i;Ue<=M;Ue++)Ue>=U&&Ue<=X&&(this._lines[Ue-this._rendLineNumberStart].onContentChanged(),Te=!0);return Te}onLinesInserted(i,c){if(0===this.getCount())return null;const M=c-i+1,U=this.getStartLineNumber(),X=this.getEndLineNumber();if(i<=U)return this._rendLineNumberStart+=M,null;if(i>X)return null;if(M+i>X)return this._lines.splice(i-this._rendLineNumberStart,X-i+1);const Te=[];for(let Qt=0;Qt<M;Qt++)Te[Qt]=this._createLine();const Ue=i-this._rendLineNumberStart,gt=this._lines.slice(0,Ue),xt=this._lines.slice(Ue,this._lines.length-M),kt=this._lines.slice(this._lines.length-M,this._lines.length);return this._lines=gt.concat(Te).concat(xt),kt}onTokensChanged(i){if(0===this.getCount())return!1;const c=this.getStartLineNumber(),M=this.getEndLineNumber();let U=!1;for(let X=0,Te=i.length;X<Te;X++){const Ue=i[X];if(Ue.toLineNumber<c||Ue.fromLineNumber>M)continue;const gt=Math.max(c,Ue.fromLineNumber),xt=Math.min(M,Ue.toLineNumber);for(let kt=gt;kt<=xt;kt++)this._lines[kt-this._rendLineNumberStart].onTokensChanged(),U=!0}return U}}class ht{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new un(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,Je.X)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(133)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){const c=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(c)for(let M=0,U=c.length;M<U;M++){const X=c[M].getDomNode();X&&this.domNode.domNode.removeChild(X)}return!0}onLinesInserted(i){const c=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(c)for(let M=0,U=c.length;M<U;M++){const X=c[M].getDomNode();X&&this.domNode.domNode.removeChild(X)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const c=this._linesCollection._get(),X=new Kt(this.domNode.domNode,this._host,i).render({rendLineNumberStart:c.rendLineNumberStart,lines:c.lines,linesLength:c.lines.length},i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(X.rendLineNumberStart,X.lines)}}class Kt{constructor(i,c,M){this.domNode=i,this.host=c,this.viewportData=M}render(i,c,M,U){const X={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(X.rendLineNumberStart+X.linesLength-1<c||M<X.rendLineNumberStart){X.rendLineNumberStart=c,X.linesLength=M-c+1,X.lines=[];for(let Te=c;Te<=M;Te++)X.lines[Te-c]=this.host.createVisibleLine();return this._finishRendering(X,!0,U),X}if(this._renderUntouchedLines(X,Math.max(c-X.rendLineNumberStart,0),Math.min(M-X.rendLineNumberStart,X.linesLength-1),U,c),X.rendLineNumberStart>c){const Te=c,Ue=Math.min(M,X.rendLineNumberStart-1);Te<=Ue&&(this._insertLinesBefore(X,Te,Ue,U,c),X.linesLength+=Ue-Te+1)}else if(X.rendLineNumberStart<c){const Te=Math.min(X.linesLength,c-X.rendLineNumberStart);Te>0&&(this._removeLinesBefore(X,Te),X.linesLength-=Te)}if(X.rendLineNumberStart=c,X.rendLineNumberStart+X.linesLength-1<M){const Te=X.rendLineNumberStart+X.linesLength,Ue=M;Te<=Ue&&(this._insertLinesAfter(X,Te,Ue,U,c),X.linesLength+=Ue-Te+1)}else if(X.rendLineNumberStart+X.linesLength-1>M){const Te=Math.max(0,M-X.rendLineNumberStart+1),gt=X.linesLength-1-Te+1;gt>0&&(this._removeLinesAfter(X,gt),X.linesLength-=gt)}return this._finishRendering(X,!1,U),X}_renderUntouchedLines(i,c,M,U,X){const Te=i.rendLineNumberStart,Ue=i.lines;for(let gt=c;gt<=M;gt++){const xt=Te+gt;Ue[gt].layoutLine(xt,U[xt-X])}}_insertLinesBefore(i,c,M,U,X){const Te=[];let Ue=0;for(let gt=c;gt<=M;gt++)Te[Ue++]=this.host.createVisibleLine();i.lines=Te.concat(i.lines)}_removeLinesBefore(i,c){for(let M=0;M<c;M++){const U=i.lines[M].getDomNode();U&&this.domNode.removeChild(U)}i.lines.splice(0,c)}_insertLinesAfter(i,c,M,U,X){const Te=[];let Ue=0;for(let gt=c;gt<=M;gt++)Te[Ue++]=this.host.createVisibleLine();i.lines=i.lines.concat(Te)}_removeLinesAfter(i,c){const M=i.linesLength-c;for(let U=0;U<c;U++){const X=i.lines[M+U].getDomNode();X&&this.domNode.removeChild(X)}i.lines.splice(M,c)}_finishRenderingNewLines(i,c,M,U){Kt._ttPolicy&&(M=Kt._ttPolicy.createHTML(M));const X=this.domNode.lastChild;c||!X?this.domNode.innerHTML=M:X.insertAdjacentHTML("afterend",M);let Te=this.domNode.lastChild;for(let Ue=i.linesLength-1;Ue>=0;Ue--)U[Ue]&&(i.lines[Ue].setDomNode(Te),Te=Te.previousSibling)}_finishRenderingInvalidLines(i,c,M){const U=document.createElement("div");Kt._ttPolicy&&(c=Kt._ttPolicy.createHTML(c)),U.innerHTML=c;for(let X=0;X<i.linesLength;X++){const Te=i.lines[X];if(M[X]){const Ue=U.firstChild,gt=Te.getDomNode();gt.parentNode.replaceChild(Ue,gt),Te.setDomNode(Ue)}}}_finishRendering(i,c,M){const U=Kt._sb,X=i.linesLength,Te=i.lines,Ue=i.rendLineNumberStart,gt=[];{U.reset();let xt=!1;for(let kt=0;kt<X;kt++){const Qt=Te[kt];gt[kt]=!1,!Qt.getDomNode()&&Qt.renderLine(kt+Ue,M[kt],this.viewportData,U)&&(gt[kt]=!0,xt=!0)}xt&&this._finishRenderingNewLines(i,c,U.build(),gt)}{U.reset();let xt=!1;const kt=[];for(let Qt=0;Qt<X;Qt++){const hn=Te[Qt];kt[Qt]=!1,!gt[Qt]&&hn.renderLine(Qt+Ue,M[Qt],this.viewportData,U)&&(kt[Qt]=!0,xt=!0)}xt&&this._finishRenderingInvalidLines(i,U.build(),kt)}}}Kt._ttPolicy=null===(An=window.trustedTypes)||void 0===An?void 0:An.createPolicy("editorViewLayer",{createHTML:Vt=>Vt}),Kt._sb=(0,Bn.l$)(1e5);class nn extends ge{constructor(i){super(i),this._visibleLines=new ht(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,c=this._dynamicOverlays.length;i<c;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,c=this._dynamicOverlays.length;i<c;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Dn(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const c=this._visibleLines.getStartLineNumber(),M=this._visibleLines.getEndLineNumber();for(let U=c;U<=M;U++)this._visibleLines.getVisibleLine(U).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const c=this._dynamicOverlays.filter(M=>M.shouldRender());for(let M=0,U=c.length;M<U;M++){const X=c[M];X.prepareRender(i),X.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}class Dn{constructor(i,c){this._configuration=i,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=c,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,Je.X)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(61)}renderLine(i,c,M,U){let X="";for(let Te=0,Ue=this._dynamicOverlays.length;Te<Ue;Te++)X+=this._dynamicOverlays[Te].render(M.startLineNumber,i);return this._renderedContent!==X&&(this._renderedContent=X,U.appendASCIIString('<div style="position:absolute;top:'),U.appendASCIIString(String(c)),U.appendASCIIString("px;width:100%;height:"),U.appendASCIIString(String(this._lineHeight)),U.appendASCIIString('px;">'),U.appendASCIIString(X),U.appendASCIIString("</div>"),!0)}layoutLine(i,c){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(this._lineHeight))}}class In extends nn{constructor(i){super(i);const M=this._context.configuration.options.get(133);this._contentWidth=M.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const M=this._context.configuration.options.get(133);return this._contentWidth=M.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}class bn extends nn{constructor(i){super(i);const c=this._context.configuration.options,M=c.get(133);this._contentLeft=M.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Pn.N)(this.domNode,c.get(46))}onConfigurationChanged(i){const c=this._context.configuration.options;(0,Pn.N)(this.domNode,c.get(46));const M=c.get(133);return this._contentLeft=M.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const c=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}class Ct{constructor(i,c){this._coordinateBrand=void 0,this.top=i,this.left=c}}class Wt extends ge{constructor(i,c){super(i),this._viewDomNode=c,this._widgets={},this.domNode=(0,Je.X)(document.createElement("div")),de.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,Je.X)(document.createElement("div")),de.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const c=Object.keys(this._widgets);for(const M of c)this._widgets[M].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){const c=Object.keys(this._widgets);for(const M of c)this._widgets[M].onLineMappingChanged(i);return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}addWidget(i){const c=new jt(this._context,this._viewDomNode,i);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(i,c,M,U){this._widgets[i.getId()].setPosition(c,M,U),this.setShouldRender()}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const M=this._widgets[c];delete this._widgets[c];const U=M.domNode.domNode;U.parentNode.removeChild(U),U.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return!!this._widgets.hasOwnProperty(i)&&this._widgets[i].suppressMouseDown}onBeforeRender(i){const c=Object.keys(this._widgets);for(const M of c)this._widgets[M].onBeforeRender(i)}prepareRender(i){const c=Object.keys(this._widgets);for(const M of c)this._widgets[M].prepareRender(i)}render(i){const c=Object.keys(this._widgets);for(const M of c)this._widgets[M].render(i)}}class jt{constructor(i,c,M){this._context=i,this._viewDomNode=c,this._actual=M,this.domNode=(0,Je.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const U=this._context.configuration.options,X=U.get(133);this._fixedOverflowWidgets=U.get(38),this._contentWidth=X.contentWidth,this._contentLeft=X.contentLeft,this._lineHeight=U.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const c=this._context.configuration.options;if(this._lineHeight=c.get(61),i.hasChanged(133)){const M=c.get(133);this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(i){this._setPosition(this._range,this._affinity)}_setPosition(i,c){var M;if(this._range=i,this._viewRange=null,this._affinity=c,this._range){const U=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(U.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(U.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(U,null!==(M=this._affinity)&&void 0!==M?M:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(i,c,M){this._setPosition(i,M),this._preference=c,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,c,M,U,X){const Te=i.top,gt=c.top+this._lineHeight;let On=i.left,Un=c.left;return On+M>X.scrollLeft+X.viewportWidth&&(On=X.scrollLeft+X.viewportWidth-M),Un+M>X.scrollLeft+X.viewportWidth&&(Un=X.scrollLeft+X.viewportWidth-M),On<X.scrollLeft&&(On=X.scrollLeft),Un<X.scrollLeft&&(Un=X.scrollLeft),{fitsAbove:Te>=U,aboveTop:Te-U,aboveLeft:On,fitsBelow:X.viewportHeight-gt>=U,belowTop:gt,belowLeft:Un}}_layoutHorizontalSegmentInPage(i,c,M,U){const X=Math.max(0,c.left-U),Te=Math.min(c.left+c.width+U,i.width);let Ue=c.left+M-x.DI.scrollX;if(Ue+U>Te){const gt=Ue-(Te-U);Ue-=gt,M-=gt}if(Ue<X){const gt=Ue-X;Ue-=gt,M-=gt}return[M,Ue]}_layoutBoxInPage(i,c,M,U,X){const Te=i.top-U,Ue=c.top+this._lineHeight,gt=x.i(this._viewDomNode.domNode),xt=gt.top+Te-x.DI.scrollY,kt=gt.top+Ue-x.DI.scrollY,Qt=x.D6(document.body),[hn,fn]=this._layoutHorizontalSegmentInPage(Qt,gt,i.left-X.scrollLeft+this._contentLeft,M),[On,Un]=this._layoutHorizontalSegmentInPage(Qt,gt,c.left-X.scrollLeft+this._contentLeft,M),mi=xt>=22,Si=kt+U<=Qt.height-22;return this._fixedOverflowWidgets?{fitsAbove:mi,aboveTop:Math.max(xt,22),aboveLeft:fn,fitsBelow:Si,belowTop:kt,belowLeft:Un}:{fitsAbove:mi,aboveTop:Te,aboveLeft:hn,fitsBelow:Si,belowTop:Ue,belowLeft:On}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new Ct(i.top,i.left+this._contentLeft)}_getTopAndBottomLeft(i){if(!this._viewRange)return[null,null];const c=i.linesVisibleRangesForRange(this._viewRange,!1);if(!c||0===c.length)return[null,null];let M=c[0],U=c[0];for(const Qt of c)Qt.lineNumber<M.lineNumber&&(M=Qt),Qt.lineNumber>U.lineNumber&&(U=Qt);let X=1073741824;for(const Qt of M.ranges)Qt.left<X&&(X=Qt.left);let Te=1073741824;for(const Qt of U.ranges)Qt.left<Te&&(Te=Qt.left);const Ue=i.getVerticalOffsetForLineNumber(M.lineNumber)-i.scrollTop,gt=new Ct(Ue,X),xt=i.getVerticalOffsetForLineNumber(U.lineNumber)-i.scrollTop;return[gt,new Ct(xt,Te)]}_prepareRenderWidget(i){if(!this._preference||0===this._preference.length)return null;const[c,M]=this._getTopAndBottomLeft(i);if(!c||!M)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let X=null;if("function"==typeof this._actual.beforeRender&&(X=Yt(this._actual.beforeRender,this._actual)),X)this._cachedDomNodeOffsetWidth=X.width,this._cachedDomNodeOffsetHeight=X.height;else{const Ue=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Ue.width),this._cachedDomNodeOffsetHeight=Math.round(Ue.height)}}let U;U=this.allowEditorOverflow?this._layoutBoxInPage(c,M,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):this._layoutBoxInViewport(c,M,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let X=1;X<=2;X++)for(const Te of this._preference)if(1===Te){if(!U)return null;if(2===X||U.fitsAbove)return{coordinate:new Ct(U.aboveTop,U.aboveLeft),position:1}}else{if(2!==Te)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(c),position:0}:{coordinate:c,position:0};if(!U)return null;if(2===X||U.fitsBelow)return{coordinate:new Ct(U.belowTop,U.belowLeft),position:2}}return null}onBeforeRender(i){!this._viewRange||!this._preference||this._viewRange.endLineNumber<i.startLineNumber||this._viewRange.startLineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Yt(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Yt(this._actual.afterRender,this._actual,this._renderData.position)}}function Yt(Vt,i,...c){try{return Vt.call(i,...c)}catch{return null}}var gn=e(46248),Be={};Be.styleTagTransform=g(),Be.setAttributes=u(),Be.insert=r().bind(null,"head"),Be.domAPI=D(),Be.insertStyleElement=d(),b()(gn.Z,Be);class $n extends Oi{constructor(i){super(),this._context=i;const c=this._context.configuration.options,M=c.get(133);this._lineHeight=c.get(61),this._renderLineHighlight=c.get(87),this._renderLineHighlightOnlyWhenFocus=c.get(88),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ke.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const c=this._selections.map(U=>U.positionLineNumber);c.sort((U,X)=>U-X),N.fS(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,i=!0);const M=this._selections.every(U=>U.isEmpty());return this._selectionIsEmpty!==M&&(this._selectionIsEmpty=M,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const c=this._context.configuration.options,M=c.get(133);return this._lineHeight=c.get(61),this._renderLineHighlight=c.get(87),this._renderLineHighlightOnlyWhenFocus=c.get(88),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=i.isFocused,!0)}prepareRender(i){if(!this._shouldRenderThis())return void(this._renderData=null);const c=this._renderOne(i),M=i.visibleRange.startLineNumber,U=i.visibleRange.endLineNumber,X=this._cursorLineNumbers.length;let Te=0;const Ue=[];for(let gt=M;gt<=U;gt++){const xt=gt-M;for(;Te<X&&this._cursorLineNumbers[Te]<gt;)Te++;Ue[xt]=Te<X&&this._cursorLineNumbers[Te]===gt?c:""}this._renderData=Ue}render(i,c){if(!this._renderData)return"";const M=c-i;return M>=this._renderData.length?"":this._renderData[M]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Pi extends $n{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Ii extends $n{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(Qi.Kh);if(c&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${c}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${c}; border: none; }`)),!c||c.isTransparent()||Vt.defines(Qi.Mm)){const M=Vt.getColor(Qi.Mm);M&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${M}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${M}; }`),(0,bt.c3)(Vt.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var ii=e(86043),Ut={};Ut.styleTagTransform=g(),Ut.setAttributes=u(),Ut.insert=r().bind(null,"head"),Ut.domAPI=D(),Ut.insertStyleElement=d(),b()(ii.Z,Ut);class _e extends Oi{constructor(i){super(),this._context=i;const c=this._context.configuration.options;this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}prepareRender(i){const c=i.getDecorationsInViewport();let M=[],U=0;for(let gt=0,xt=c.length;gt<xt;gt++){const kt=c[gt];kt.options.className&&(M[U++]=kt)}M=M.sort((gt,xt)=>{if(gt.options.zIndex<xt.options.zIndex)return-1;if(gt.options.zIndex>xt.options.zIndex)return 1;const kt=gt.options.className,Qt=xt.options.className;return kt<Qt?-1:kt>Qt?1:we.e.compareRangesUsingStarts(gt.range,xt.range)});const X=i.visibleRange.startLineNumber,Te=i.visibleRange.endLineNumber,Ue=[];for(let gt=X;gt<=Te;gt++)Ue[gt-X]="";this._renderWholeLineDecorations(i,M,Ue),this._renderNormalDecorations(i,M,Ue),this._renderResult=Ue}_renderWholeLineDecorations(i,c,M){const U=String(this._lineHeight),X=i.visibleRange.startLineNumber,Te=i.visibleRange.endLineNumber;for(let Ue=0,gt=c.length;Ue<gt;Ue++){const xt=c[Ue];if(!xt.options.isWholeLine)continue;const kt='<div class="cdr '+xt.options.className+'" style="left:0;width:100%;height:'+U+'px;"></div>',Qt=Math.max(xt.range.startLineNumber,X),hn=Math.min(xt.range.endLineNumber,Te);for(let fn=Qt;fn<=hn;fn++)M[fn-X]+=kt}}_renderNormalDecorations(i,c,M){const U=String(this._lineHeight),X=i.visibleRange.startLineNumber;let Te=null,Ue=!1,gt=null;for(let xt=0,kt=c.length;xt<kt;xt++){const Qt=c[xt];if(Qt.options.isWholeLine)continue;const hn=Qt.options.className,fn=!!Qt.options.showIfCollapsed;let On=Qt.range;fn&&1===On.endColumn&&On.endLineNumber!==On.startLineNumber&&(On=new we.e(On.startLineNumber,On.startColumn,On.endLineNumber-1,this._context.viewModel.getLineMaxColumn(On.endLineNumber-1))),Te===hn&&Ue===fn&&we.e.areIntersectingOrTouching(gt,On)?gt=we.e.plusRange(gt,On):(null!==Te&&this._renderNormalDecoration(i,gt,Te,Ue,U,X,M),Te=hn,Ue=fn,gt=On)}null!==Te&&this._renderNormalDecoration(i,gt,Te,Ue,U,X,M)}_renderNormalDecoration(i,c,M,U,X,Te,Ue){const gt=i.linesVisibleRangesForRange(c,"findMatch"===M);if(gt)for(let xt=0,kt=gt.length;xt<kt;xt++){const Qt=gt[xt];if(Qt.outsideRenderedLine)continue;const hn=Qt.lineNumber-Te;if(U&&1===Qt.ranges.length){const fn=Qt.ranges[0];if(fn.width<this._typicalHalfwidthCharacterWidth){const On=Math.round(fn.left+fn.width/2),Un=Math.max(0,Math.round(On-this._typicalHalfwidthCharacterWidth/2));Qt.ranges[0]=new ft(Un,this._typicalHalfwidthCharacterWidth)}}for(let fn=0,On=Qt.ranges.length;fn<On;fn++){const Un=Qt.ranges[fn],jn='<div class="cdr '+M+'" style="left:'+String(Un.left)+"px;width:"+String(Un.width)+"px;height:"+X+'px;"></div>';Ue[hn]+=jn}}}render(i,c){if(!this._renderResult)return"";const M=c-i;return M<0||M>=this._renderResult.length?"":this._renderResult[M]}}var Qe=e(2654),qe=e(6192);class ct extends ge{constructor(i,c,M,U){super(i);const X=this._context.configuration.options,Te=X.get(94),Ue=X.get(69),gt=X.get(36),xt=X.get(97),kt={listenOnDomNode:M.domNode,className:"editor-scrollable "+(0,Wi.m6)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:Te.vertical,horizontal:Te.horizontal,verticalHasArrows:Te.verticalHasArrows,horizontalHasArrows:Te.horizontalHasArrows,verticalScrollbarSize:Te.verticalScrollbarSize,verticalSliderSize:Te.verticalSliderSize,horizontalScrollbarSize:Te.horizontalScrollbarSize,horizontalSliderSize:Te.horizontalSliderSize,handleMouseWheel:Te.handleMouseWheel,alwaysConsumeMouseWheel:Te.alwaysConsumeMouseWheel,arrowSize:Te.arrowSize,mouseWheelScrollSensitivity:Ue,fastScrollSensitivity:gt,scrollPredominantAxis:xt,scrollByPage:Te.scrollByPage};this.scrollbar=this._register(new Qe.$Z(c.domNode,kt,this._context.viewLayout.getScrollable())),de.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,Je.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Qt=(hn,fn,On)=>{const Un={};if(fn){const jn=hn.scrollTop;jn&&(Un.scrollTop=this._context.viewLayout.getCurrentScrollTop()+jn,hn.scrollTop=0)}if(On){const jn=hn.scrollLeft;jn&&(Un.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+jn,hn.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(Un,1)};this._register(x.nm(M.domNode,"scroll",hn=>Qt(M.domNode,!0,!0))),this._register(x.nm(c.domNode,"scroll",hn=>Qt(c.domNode,!0,!1))),this._register(x.nm(U.domNode,"scroll",hn=>Qt(U.domNode,!0,!1))),this._register(x.nm(this.scrollbarDomNode.domNode,"scroll",hn=>Qt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,c=i.get(133);this.scrollbarDomNode.setLeft(c.contentLeft),"right"===i.get(67).side?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimap.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(i){this.scrollbar.delegateVerticalScrollbarPointerDown(i)}onConfigurationChanged(i){if(i.hasChanged(94)||i.hasChanged(69)||i.hasChanged(36)){const c=this._context.configuration.options,M=c.get(94),U=c.get(69),X=c.get(36),Te=c.get(97);this.scrollbar.updateOptions({vertical:M.vertical,horizontal:M.horizontal,verticalScrollbarSize:M.verticalScrollbarSize,horizontalScrollbarSize:M.horizontalScrollbarSize,scrollByPage:M.scrollByPage,handleMouseWheel:M.handleMouseWheel,mouseWheelScrollSensitivity:U,fastScrollSensitivity:X,scrollPredominantAxis:Te})}return i.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,Wi.m6)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(qe._wn);c&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${c} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${c} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${c} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const M=Vt.getColor(qe.etL);M&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${M};\n\t\t\t}\n\t\t`);const U=Vt.getColor(qe.ABB);U&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${U};\n\t\t\t}\n\t\t`);const X=Vt.getColor(qe.ynu);X&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${X};\n\t\t\t}\n\t\t`)});var rn=e(8504),Gt={};Gt.styleTagTransform=g(),Gt.setAttributes=u(),Gt.insert=r().bind(null,"head"),Gt.domAPI=D(),Gt.insertStyleElement=d(),b()(rn.Z,Gt);class xn{constructor(i,c,M){this._decorationToRenderBrand=void 0,this.startLineNumber=+i,this.endLineNumber=+c,this.className=String(M)}}class Wn extends Oi{_render(i,c,M){const U=[];for(let Ue=i;Ue<=c;Ue++)U[Ue-i]=[];if(0===M.length)return U;M.sort((Ue,gt)=>Ue.className===gt.className?Ue.startLineNumber===gt.startLineNumber?Ue.endLineNumber-gt.endLineNumber:Ue.startLineNumber-gt.startLineNumber:Ue.className<gt.className?-1:1);let X=null,Te=0;for(let Ue=0,gt=M.length;Ue<gt;Ue++){const xt=M[Ue],kt=xt.className;let Qt=Math.max(xt.startLineNumber,i)-i;const hn=Math.min(xt.endLineNumber,c)-i;X===kt?(Qt=Math.max(Te+1,Qt),Te=Math.max(Te,hn)):(X=kt,Te=hn);for(let fn=Qt;fn<=Te;fn++)U[fn].push(X)}return U}}class Xn extends Wn{constructor(i){super(),this._context=i;const c=this._context.configuration.options,M=c.get(133);this._lineHeight=c.get(61),this._glyphMargin=c.get(52),this._glyphMarginLeft=M.glyphMarginLeft,this._glyphMarginWidth=M.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options,M=c.get(133);return this._lineHeight=c.get(61),this._glyphMargin=c.get(52),this._glyphMarginLeft=M.glyphMarginLeft,this._glyphMarginWidth=M.glyphMarginWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),M=[];let U=0;for(let X=0,Te=c.length;X<Te;X++){const Ue=c[X],gt=Ue.options.glyphMarginClassName;gt&&(M[U++]=new xn(Ue.range.startLineNumber,Ue.range.endLineNumber,gt))}return M}prepareRender(i){if(!this._glyphMargin)return void(this._renderResult=null);const c=i.visibleRange.startLineNumber,M=i.visibleRange.endLineNumber,U=this._render(c,M,this._getDecorations(i)),X=this._lineHeight.toString(),gt='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+X+'px;"></div>',xt=[];for(let kt=c;kt<=M;kt++){const Qt=kt-c,hn=U[Qt];xt[Qt]=0===hn.length?"":'<div class="cgmr codicon '+hn.join(" ")+gt}this._renderResult=xt}render(i,c){if(!this._renderResult)return"";const M=c-i;return M<0||M>=this._renderResult.length?"":this._renderResult[M]}}var si=e(98468),ci={};ci.styleTagTransform=g(),ci.setAttributes=u(),ci.insert=r().bind(null,"head"),ci.domAPI=D(),ci.insertStyleElement=d(),b()(si.Z,ci);var Ji=e(22070),uo=e(38377),ho=e(22597);class Ui extends Oi{constructor(i){super(),this._context=i,this._primaryPosition=null;const c=this._context.configuration.options,M=c.get(134),U=c.get(46);this._lineHeight=c.get(61),this._spaceWidth=U.spaceWidth,this._maxIndentLeft=-1===M.wrappingColumn?-1:M.wrappingColumn*U.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options,M=c.get(134),U=c.get(46);return this._lineHeight=c.get(61),this._spaceWidth=U.spaceWidth,this._maxIndentLeft=-1===M.wrappingColumn?-1:M.wrappingColumn*U.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),!0}onCursorStateChanged(i){var c;const U=i.selections[0].getPosition();return!(null!==(c=this._primaryPosition)&&void 0!==c&&c.equals(U)||(this._primaryPosition=U,0))}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var c,M,U,X;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const Te=i.visibleRange.startLineNumber,Ue=i.visibleRange.endLineNumber,gt=i.scrollWidth,xt=this._lineHeight,Qt=this.getGuidesByLine(Te,Ue,this._primaryPosition),hn=[];for(let fn=Te;fn<=Ue;fn++){const On=fn-Te,Un=Qt[On];let jn="";const ai=null!==(M=null===(c=i.visibleRangeForPosition(new oe.L(fn,1)))||void 0===c?void 0:c.left)&&void 0!==M?M:0;for(const mi of Un){const Si=-1===mi.column?ai+(mi.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new oe.L(fn,mi.column)).left;if(Si>gt||this._maxIndentLeft>0&&Si>this._maxIndentLeft)break;const Ki=mi.horizontalLine?mi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",eo=mi.horizontalLine?(null!==(X=null===(U=i.visibleRangeForPosition(new oe.L(fn,mi.horizontalLine.endColumn)))||void 0===U?void 0:U.left)&&void 0!==X?X:Si+this._spaceWidth)-Si:this._spaceWidth;jn+=`<div class="core-guide ${mi.className} ${Ki}" style="left:${Si}px;height:${xt}px;width:${eo}px"></div>`}hn[On]=jn}this._renderResult=hn}getGuidesByLine(i,c,M){const U=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(i,c,M,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?ho.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?ho.s6.EnabledForActive:ho.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,X=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,c):null;let Te=0,Ue=0,gt=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&M){const Qt=this._context.viewModel.getActiveIndentGuide(M.lineNumber,i,c);Te=Qt.startLineNumber,Ue=Qt.endLineNumber,gt=Qt.indent}const{indentSize:xt}=this._context.viewModel.model.getOptions(),kt=[];for(let Qt=i;Qt<=c;Qt++){const hn=new Array;kt.push(hn);const fn=U?U[Qt-i]:[],On=new N.H9(fn),Un=X?X[Qt-i]:[];for(let jn=1;jn<=Un;jn++){const ai=(jn-1)*xt+1,mi=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===fn.length)&&Te<=Qt&&Qt<=Ue&&jn===gt;hn.push(...On.takeWhile(Ki=>Ki.visibleColumn<ai)||[]);const Si=On.peek();(!Si||Si.visibleColumn!==ai||Si.horizontalLine)&&hn.push(new ho.UO(ai,-1,mi?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}hn.push(...On.takeWhile(jn=>!0)||[])}return kt}render(i,c){if(!this._renderResult)return"";const M=c-i;return M<0||M>=this._renderResult.length?"":this._renderResult[M]}}function Mn(Vt){if(!Vt||!Vt.isTransparent())return Vt}(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(Qi.tR);c&&i.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${c} inset; }`);const M=Vt.getColor(Qi.Ym)||c;M&&i.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${M} inset; }`);const U=[{bracketColor:Qi.zJ,guideColor:Qi.oV,guideColorActive:Qi.Qb},{bracketColor:Qi.Vs,guideColor:Qi.m$,guideColorActive:Qi.m3},{bracketColor:Qi.CE,guideColor:Qi.DS,guideColorActive:Qi.To},{bracketColor:Qi.UP,guideColor:Qi.lS,guideColorActive:Qi.L7},{bracketColor:Qi.r0,guideColor:Qi.Jn,guideColorActive:Qi.HV},{bracketColor:Qi.m1,guideColor:Qi.YF,guideColorActive:Qi.f9}],X=new uo.W,Te=U.map(Ue=>{var gt,xt;const kt=Vt.getColor(Ue.bracketColor),Qt=Vt.getColor(Ue.guideColor),hn=Vt.getColor(Ue.guideColorActive),fn=Mn(null!==(gt=Mn(Qt))&&void 0!==gt?gt:kt?.transparent(.3)),On=Mn(null!==(xt=Mn(hn))&&void 0!==xt?xt:kt);if(fn&&On)return{guideColor:fn,guideColorActive:On}}).filter(Ji.$K);if(Te.length>0){for(let Ue=0;Ue<30;Ue++){const gt=Te[Ue%Te.length];i.addRule(`.monaco-editor .${X.getInlineClassNameOfLevel(Ue).replace(/ /g,".")} { --guide-color: ${gt.guideColor}; --guide-color-active: ${gt.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${X.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${X.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${X.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});var ue=e(66023),Ge={};Ge.styleTagTransform=g(),Ge.setAttributes=u(),Ge.insert=r().bind(null,"head"),Ge.domAPI=D(),Ge.insertStyleElement=d(),b()(ue.Z,Ge);class ne{constructor(){this._currentVisibleRange=new we.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(i){this._currentVisibleRange=i}}class Ne{constructor(i,c,M,U,X,Te,Ue){this.minimalReveal=i,this.lineNumber=c,this.startColumn=M,this.endColumn=U,this.startScrollTop=X,this.stopScrollTop=Te,this.scrollType=Ue,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class at{constructor(i,c,M,U,X){this.minimalReveal=i,this.selections=c,this.startScrollTop=M,this.stopScrollTop=U,this.scrollType=X,this.type="selections";let Te=c[0].startLineNumber,Ue=c[0].endLineNumber;for(let gt=1,xt=c.length;gt<xt;gt++){const kt=c[gt];Te=Math.min(Te,kt.startLineNumber),Ue=Math.max(Ue,kt.endLineNumber)}this.minLineNumber=Te,this.maxLineNumber=Ue}}let It=(()=>{class Vt extends ge{constructor(c,M){super(c),this._linesContent=M,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new ht(this),this.domNode=this._visibleLines.domNode;const U=this._context.configuration,X=this._context.configuration.options,Te=X.get(46),Ue=X.get(134),gt=X.get(133);this._lineHeight=X.get(61),this._typicalHalfwidthCharacterWidth=Te.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Ue.isViewportWrapping,this._revealHorizontalRightPadding=X.get(91),this._horizontalScrollbarHeight=gt.horizontalScrollbarHeight,this._cursorSurroundingLines=X.get(25),this._cursorSurroundingLinesStyle=X.get(26),this._canUseLayerHinting=!X.get(28),this._viewLineOptions=new Tt(U,this._context.theme.type),de.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Mo.S}`),(0,Pn.N)(this.domNode,Te),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Xe.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Xe.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new ne,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new qt(this._viewLineOptions)}onConfigurationChanged(c){this._visibleLines.onConfigurationChanged(c),c.hasChanged(134)&&(this._maxLineWidth=0);const M=this._context.configuration.options,U=M.get(46),X=M.get(134),Te=M.get(133);return this._lineHeight=M.get(61),this._typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this._isViewportWrapping=X.isViewportWrapping,this._revealHorizontalRightPadding=M.get(91),this._horizontalScrollbarHeight=Te.horizontalScrollbarHeight,this._cursorSurroundingLines=M.get(25),this._cursorSurroundingLinesStyle=M.get(26),this._canUseLayerHinting=!M.get(28),(0,Pn.N)(this.domNode,U),this._onOptionsMaybeChanged(),c.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const M=new Tt(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(M)){this._viewLineOptions=M;const U=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Te=U;Te<=X;Te++)this._visibleLines.getVisibleLine(Te).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(c){const M=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();let X=!1;for(let Te=M;Te<=U;Te++)X=this._visibleLines.getVisibleLine(Te).onSelectionChanged()||X;return X}onDecorationsChanged(c){{const M=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let X=M;X<=U;X++)this._visibleLines.getVisibleLine(X).onDecorationsChanged()}return!0}onFlushed(c){const M=this._visibleLines.onFlushed(c);return this._maxLineWidth=0,M}onLinesChanged(c){return this._visibleLines.onLinesChanged(c)}onLinesDeleted(c){return this._visibleLines.onLinesDeleted(c)}onLinesInserted(c){return this._visibleLines.onLinesInserted(c)}onRevealRangeRequest(c){const M=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),c.source,c.minimalReveal,c.range,c.selections,c.verticalType);if(-1===M)return!1;let U=this._context.viewLayout.validateScrollPosition({scrollTop:M});c.revealHorizontal?c.range&&c.range.startLineNumber!==c.range.endLineNumber?U={scrollTop:U.scrollTop,scrollLeft:0}:c.range?this._horizontalRevealRequest=new Ne(c.minimalReveal,c.range.startLineNumber,c.range.startColumn,c.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),U.scrollTop,c.scrollType):c.selections&&c.selections.length>0&&(this._horizontalRevealRequest=new at(c.minimalReveal,c.selections,this._context.viewLayout.getCurrentScrollTop(),U.scrollTop,c.scrollType)):this._horizontalRevealRequest=null;const Te=Math.abs(this._context.viewLayout.getCurrentScrollTop()-U.scrollTop)<=this._lineHeight?1:c.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(U,Te),!0}onScrollChanged(c){if(this._horizontalRevealRequest&&c.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&c.scrollTopChanged){const M=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),U=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(c.scrollTop<M||c.scrollTop>U)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(c.scrollWidth),this._visibleLines.onScrollChanged(c)||!0}onTokensChanged(c){return this._visibleLines.onTokensChanged(c)}onZonesChanged(c){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(c)}onThemeChanged(c){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(c,M){const U=this._getViewLineDomNode(c);if(null===U)return null;const X=this._getLineNumberFor(U);if(-1===X||X<1||X>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(X))return new oe.L(X,1);const Te=this._visibleLines.getStartLineNumber(),Ue=this._visibleLines.getEndLineNumber();if(X<Te||X>Ue)return null;let gt=this._visibleLines.getVisibleLine(X).getColumnOfNodeOffset(X,c,M);const xt=this._context.viewModel.getLineMinColumn(X);return gt<xt&&(gt=xt),new oe.L(X,gt)}_getViewLineDomNode(c){for(;c&&1===c.nodeType;){if(c.className===qt.CLASS_NAME)return c;c=c.parentElement}return null}_getLineNumberFor(c){const M=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let X=M;X<=U;X++)if(c===this._visibleLines.getVisibleLine(X).getDomNode())return X;return-1}getLineWidth(c){const M=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();return c<M||c>U?-1:this._visibleLines.getVisibleLine(c).getWidth()}linesVisibleRangesForRange(c,M){if(this.shouldRender())return null;const U=c.endLineNumber,X=we.e.intersectRanges(c,this._lastRenderedData.getCurrentVisibleRange());if(!X)return null;const Te=[];let Ue=0;const gt=new Ye(this.domNode.domNode,this._textRangeRestingSpot);let xt=0;M&&(xt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe.L(X.startLineNumber,1)).lineNumber);const kt=this._visibleLines.getStartLineNumber(),Qt=this._visibleLines.getEndLineNumber();for(let hn=X.startLineNumber;hn<=X.endLineNumber;hn++){if(hn<kt||hn>Qt)continue;const fn=hn===X.startLineNumber?X.startColumn:1,On=hn===X.endLineNumber?X.endColumn:this._context.viewModel.getLineMaxColumn(hn),Un=this._visibleLines.getVisibleLine(hn).getVisibleRangesForRange(hn,fn,On,gt);if(Un){if(M&&hn<U){const jn=xt;xt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe.L(hn+1,1)).lineNumber,jn!==xt&&(Un.ranges[Un.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Te[Ue++]=new Ae(Un.outsideRenderedLine,hn,ft.from(Un.ranges))}}return 0===Ue?null:Te}_visibleRangesForLineRange(c,M,U){return this.shouldRender()||c<this._visibleLines.getStartLineNumber()||c>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(c,M,U,new Ye(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(c){const M=this._visibleRangesForLineRange(c.lineNumber,c.column,c.column);return M?new it(M.outsideRenderedLine,M.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(c){const M=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();let X=1,Te=!0;for(let Ue=M;Ue<=U;Ue++){const gt=this._visibleLines.getVisibleLine(Ue);!c||gt.getWidthIsFast()?X=Math.max(X,gt.getWidth()):Te=!1}return Te&&1===M&&U===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(X),Te}_checkMonospaceFontAssumptions(){let c=-1,M=-1;const U=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Te=U;Te<=X;Te++){const Ue=this._visibleLines.getVisibleLine(Te);if(Ue.needsMonospaceFontCheck()){const gt=Ue.getWidth();gt>M&&(M=gt,c=Te)}}if(-1!==c&&!this._visibleLines.getVisibleLine(c).monospaceAssumptionsAreValid())for(let Te=U;Te<=X;Te++)this._visibleLines.getVisibleLine(Te).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(c){if(this._visibleLines.renderLines(c),this._lastRenderedData.setCurrentVisibleRange(c.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const U=this._horizontalRevealRequest;if(c.startLineNumber<=U.minLineNumber&&U.maxLineNumber<=c.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const X=this._computeScrollLeftToReveal(U);X&&(this._isViewportWrapping||this._ensureMaxLineWidth(X.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:X.scrollLeft},U.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),K.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const U=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Te=U;Te<=X;Te++)if(this._visibleLines.getVisibleLine(Te).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const M=this._context.viewLayout.getCurrentScrollTop()-c.bigNumbersDelta;this._linesContent.setTop(-M),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(c){const M=Math.ceil(c);this._maxLineWidth<M&&(this._maxLineWidth=M,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(c,M,U,X,Te,Ue){const gt=c.top,xt=c.height,kt=gt+xt;let Qt,hn,fn,Un;if(Te&&Te.length>0){let jn=Te[0].startLineNumber,ai=Te[0].endLineNumber;for(let mi=1,Si=Te.length;mi<Si;mi++){const Ki=Te[mi];jn=Math.min(jn,Ki.startLineNumber),ai=Math.max(ai,Ki.endLineNumber)}Qt=!1,hn=this._context.viewLayout.getVerticalOffsetForLineNumber(jn),fn=this._context.viewLayout.getVerticalOffsetForLineNumber(ai)+this._lineHeight}else{if(!X)return-1;Qt=!0,hn=this._context.viewLayout.getVerticalOffsetForLineNumber(X.startLineNumber),fn=this._context.viewLayout.getVerticalOffsetForLineNumber(X.endLineNumber)+this._lineHeight}if("mouse"!==M&&!U||"default"!==this._cursorSurroundingLinesStyle){const jn=Math.min(xt/this._lineHeight/2,this._cursorSurroundingLines);hn-=jn*this._lineHeight,fn+=Math.max(0,jn-1)*this._lineHeight}else U||(hn-=this._lineHeight);if((0===Ue||4===Ue)&&(fn+=U?this._horizontalScrollbarHeight:this._lineHeight),fn-hn>xt){if(!Qt)return-1;Un=hn}else if(5===Ue||6===Ue)if(6===Ue&&gt<=hn&&fn<=kt)Un=gt;else{const jn=Math.max(5*this._lineHeight,.2*xt);Un=Math.max(fn-xt,hn-jn)}else Un=1===Ue||2===Ue?2===Ue&&gt<=hn&&fn<=kt?gt:Math.max(0,(hn+fn)/2-xt/2):this._computeMinimumScrolling(gt,kt,hn,fn,3===Ue,4===Ue);return Un}_computeScrollLeftToReveal(c){const M=this._context.viewLayout.getCurrentViewport(),U=M.left,X=U+M.width;let Te=1073741824,Ue=0;if("range"===c.type){const xt=this._visibleRangesForLineRange(c.lineNumber,c.startColumn,c.endColumn);if(!xt)return null;for(const kt of xt.ranges)Te=Math.min(Te,Math.round(kt.left)),Ue=Math.max(Ue,Math.round(kt.left+kt.width))}else for(const xt of c.selections){if(xt.startLineNumber!==xt.endLineNumber)return null;const kt=this._visibleRangesForLineRange(xt.startLineNumber,xt.startColumn,xt.endColumn);if(!kt)return null;for(const Qt of kt.ranges)Te=Math.min(Te,Math.round(Qt.left)),Ue=Math.max(Ue,Math.round(Qt.left+Qt.width))}return c.minimalReveal||(Te=Math.max(0,Te-Vt.HORIZONTAL_EXTRA_PX),Ue+=this._revealHorizontalRightPadding),"selections"===c.type&&Ue-Te>M.width?null:{scrollLeft:this._computeMinimumScrolling(U,X,Te,Ue),maxHorizontalOffset:Ue}}_computeMinimumScrolling(c,M,U,X,Te,Ue){Te=!!Te,Ue=!!Ue;const gt=(M|=0)-(c|=0);return(X|=0)-(U|=0)<gt?Te?U:Ue?Math.max(0,X-gt):U<c?U:X>M?Math.max(0,X-gt):c:U}}return Vt.HORIZONTAL_EXTRA_PX=30,Vt})();var ln=e(56961),pn={};pn.styleTagTransform=g(),pn.setAttributes=u(),pn.insert=r().bind(null,"head"),pn.domAPI=D(),pn.insertStyleElement=d(),b()(ln.Z,pn);class gi extends Wn{constructor(i){super(),this._context=i;const M=this._context.configuration.options.get(133);this._decorationsLeft=M.decorationsLeft,this._decorationsWidth=M.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const M=this._context.configuration.options.get(133);return this._decorationsLeft=M.decorationsLeft,this._decorationsWidth=M.decorationsWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),M=[];let U=0;for(let X=0,Te=c.length;X<Te;X++){const Ue=c[X],gt=Ue.options.linesDecorationsClassName;gt&&(M[U++]=new xn(Ue.range.startLineNumber,Ue.range.endLineNumber,gt));const xt=Ue.options.firstLineDecorationClassName;xt&&(M[U++]=new xn(Ue.range.startLineNumber,Ue.range.startLineNumber,xt))}return M}prepareRender(i){const c=i.visibleRange.startLineNumber,M=i.visibleRange.endLineNumber,U=this._render(c,M,this._getDecorations(i)),Ue='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',gt=[];for(let xt=c;xt<=M;xt++){const kt=xt-c,Qt=U[kt];let hn="";for(let fn=0,On=Qt.length;fn<On;fn++)hn+='<div class="cldr '+Qt[fn]+Ue;gt[kt]=hn}this._renderResult=gt}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}var Di=e(14211),Ai={};Ai.styleTagTransform=g(),Ai.setAttributes=u(),Ai.insert=r().bind(null,"head"),Ai.domAPI=D(),Ai.insertStyleElement=d(),b()(Di.Z,Ai);class Hi extends Wn{constructor(i){super(),this._context=i,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),M=[];let U=0;for(let X=0,Te=c.length;X<Te;X++){const Ue=c[X],gt=Ue.options.marginClassName;gt&&(M[U++]=new xn(Ue.range.startLineNumber,Ue.range.endLineNumber,gt))}return M}prepareRender(i){const c=i.visibleRange.startLineNumber,M=i.visibleRange.endLineNumber,U=this._render(c,M,this._getDecorations(i)),X=[];for(let Te=c;Te<=M;Te++){const Ue=Te-c,gt=U[Ue];let xt="";for(let kt=0,Qt=gt.length;kt<Qt;kt++)xt+='<div class="cmdr '+gt[kt]+'" style=""></div>';X[Ue]=xt}this._renderResult=X}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}var Fo=e(21906),fo={};fo.styleTagTransform=g(),fo.setAttributes=u(),fo.insert=r().bind(null,"head"),fo.domAPI=D(),fo.insertStyleElement=d(),b()(Fo.Z,fo);var ns=e(48763);class Go{constructor(i,c,M,U){this._rgba8Brand=void 0,this.r=Go._clamp(i),this.g=Go._clamp(c),this.b=Go._clamp(M),this.a=Go._clamp(U)}equals(i){return this.r===i.r&&this.g===i.g&&this.b===i.b&&this.a===i.a}static _clamp(i){return i<0?0:i>255?255:0|i}}Go.Empty=new Go(0,0,0,0);let nr=(()=>{class Vt extends W.JT{constructor(){super(),this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Oo.RW.onDidChange(c=>{c.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,W.dk)(new Vt)),this._INSTANCE}_updateColorMap(){const c=Oo.RW.getColorMap();if(!c)return this._colors=[Go.Empty],void(this._backgroundIsLight=!0);this._colors=[Go.Empty];for(let U=1;U<c.length;U++){const X=c[U].rgba;this._colors[U]=new Go(X.r,X.g,X.b,Math.round(255*X.a))}const M=c[2].getRelativeLuminance();this._backgroundIsLight=M>=.5,this._onDidChange.fire(void 0)}getColor(c){return(c<1||c>=this._colors.length)&&(c=2),this._colors[c]}backgroundIsLight(){return this._backgroundIsLight}}return Vt._INSTANCE=null,Vt})();var fs=e(8511);const Zs=(()=>{const Vt=[];for(let i=32;i<=126;i++)Vt.push(i);return Vt.push(65533),Vt})();var Bs=e(4193);class Ms{constructor(i,c){this.scale=c,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ms.soften(i,.8),this.charDataLight=Ms.soften(i,50/60)}static soften(i,c){const M=new Uint8ClampedArray(i.length);for(let U=0,X=i.length;U<X;U++)M[U]=(0,Bs.K)(i[U]*c);return M}renderChar(i,c,M,U,X,Te,Ue,gt,xt,kt,Qt){const hn=1*this.scale,fn=2*this.scale,On=Qt?1:fn;if(c+hn>i.width||M+On>i.height)return void console.warn("bad render request outside image data");const Un=kt?this.charDataLight:this.charDataNormal,jn=((Vt,i)=>(Vt-=32)<0||Vt>96?i<=2?(Vt+96)%96:95:Vt)(U,xt),ai=4*i.width,mi=Ue.r,Si=Ue.g,Ki=Ue.b,eo=X.r-mi,Gi=X.g-Si,to=X.b-Ki,Vi=Math.max(Te,gt),go=i.data;let Bo=jn*hn*fn,So=M*ai+4*c;for(let cs=0;cs<On;cs++){let us=So;for(let Gs=0;Gs<hn;Gs++){const Yo=Un[Bo++]/255*(Te/255);go[us++]=mi+eo*Yo,go[us++]=Si+Gi*Yo,go[us++]=Ki+to*Yo,go[us++]=Vi}So+=ai}}blockRenderChar(i,c,M,U,X,Te,Ue,gt){const xt=1*this.scale,Qt=gt?1:2*this.scale;if(c+xt>i.width||M+Qt>i.height)return void console.warn("bad render request outside image data");const hn=4*i.width,fn=X/255*.5,On=Te.r,Un=Te.g,jn=Te.b,Ki=On+(U.r-On)*fn,eo=Un+(U.g-Un)*fn,Gi=jn+(U.b-jn)*fn,to=Math.max(X,Ue),Vi=i.data;let go=M*hn+4*c;for(let Bo=0;Bo<Qt;Bo++){let So=go;for(let cs=0;cs<xt;cs++)Vi[So++]=Ki,Vi[So++]=eo,Vi[So++]=Gi,Vi[So++]=to;go+=hn}}}var Ns=e(67005);const qs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},jr=Vt=>{const i=new Uint8ClampedArray(Vt.length/2);for(let c=0;c<Vt.length;c+=2)i[c>>1]=qs[Vt[c]]<<4|15&qs[Vt[c+1]];return i},Kr={1:(0,Ns.I)(()=>jr("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Ns.I)(()=>jr("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Sr{static create(i,c){if(this.lastCreated&&i===this.lastCreated.scale&&c===this.lastFontFamily)return this.lastCreated;let M;return M=Kr[i]?new Ms(Kr[i](),i):Sr.createFromSampleData(Sr.createSampleData(c).data,i),this.lastFontFamily=c,this.lastCreated=M,M}static createSampleData(i){const c=document.createElement("canvas"),M=c.getContext("2d");c.style.height="16px",c.height=16,c.width=960,c.style.width="960px",M.fillStyle="#ffffff",M.font=`bold 16px ${i}`,M.textBaseline="middle";let U=0;for(const X of Zs)M.fillText(String.fromCharCode(X),U,8),U+=10;return M.getImageData(0,0,960,16)}static createFromSampleData(i,c){if(61440!==i.length)throw new Error("Unexpected source in MinimapCharRenderer");const U=Sr._downsample(i,c);return new Ms(U,c)}static _downsampleChar(i,c,M,U,X){const Te=1*X,Ue=2*X;let gt=U,xt=0;for(let kt=0;kt<Ue;kt++){const Qt=kt/Ue*16,hn=(kt+1)/Ue*16;for(let fn=0;fn<Te;fn++){const On=fn/Te*10,Un=(fn+1)/Te*10;let jn=0,ai=0;for(let Si=Qt;Si<hn;Si++){const Ki=c+3840*Math.floor(Si),eo=1-(Si-Math.floor(Si));for(let Gi=On;Gi<Un;Gi++){const to=1-(Gi-Math.floor(Gi)),Vi=Ki+4*Math.floor(Gi),go=to*eo;ai+=go,jn+=i[Vi]*i[Vi+3]/255*go}}const mi=jn/ai;xt=Math.max(xt,mi),M[gt++]=(0,Bs.K)(mi)}}return xt}static _downsample(i,c){const M=2*c*1*c,U=96*M,X=new Uint8ClampedArray(U);let Te=0,Ue=0,gt=0;for(let xt=0;xt<96;xt++)gt=Math.max(gt,this._downsampleChar(i,Ue,X,Te,c)),Te+=M,Ue+=40;if(gt>0){const xt=255/gt;for(let kt=0;kt<U;kt++)X[kt]*=xt}return X}}var Ws=e(59129);class rr{constructor(i,c,M){const U=i.options,X=U.get(131),Te=U.get(133),Ue=Te.minimap,gt=U.get(46),xt=U.get(67);this.renderMinimap=Ue.renderMinimap,this.size=xt.size,this.minimapHeightIsEditorHeight=Ue.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=U.get(96),this.showSlider=xt.showSlider,this.autohide=xt.autohide,this.pixelRatio=X,this.typicalHalfwidthCharacterWidth=gt.typicalHalfwidthCharacterWidth,this.lineHeight=U.get(61),this.minimapLeft=Ue.minimapLeft,this.minimapWidth=Ue.minimapWidth,this.minimapHeight=Te.height,this.canvasInnerWidth=Ue.minimapCanvasInnerWidth,this.canvasInnerHeight=Ue.minimapCanvasInnerHeight,this.canvasOuterWidth=Ue.minimapCanvasOuterWidth,this.canvasOuterHeight=Ue.minimapCanvasOuterHeight,this.isSampling=Ue.minimapIsSampling,this.editorHeight=Te.height,this.fontScale=Ue.minimapScale,this.minimapLineHeight=Ue.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Ns.I)(()=>Sr.create(this.fontScale,gt.fontFamily)),this.defaultBackgroundColor=M.getColor(2),this.backgroundColor=rr._getMinimapBackground(c,this.defaultBackgroundColor),this.foregroundAlpha=rr._getMinimapForegroundOpacity(c)}static _getMinimapBackground(i,c){const M=i.getColor(qe.kVY);return M?new Go(M.rgba.r,M.rgba.g,M.rgba.b,Math.round(255*M.rgba.a)):c}static _getMinimapForegroundOpacity(i){const c=i.getColor(qe.Itd);return c?Go._clamp(Math.round(255*c.rgba.a)):255}equals(i){return this.renderMinimap===i.renderMinimap&&this.size===i.size&&this.minimapHeightIsEditorHeight===i.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===i.scrollBeyondLastLine&&this.showSlider===i.showSlider&&this.autohide===i.autohide&&this.pixelRatio===i.pixelRatio&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.lineHeight===i.lineHeight&&this.minimapLeft===i.minimapLeft&&this.minimapWidth===i.minimapWidth&&this.minimapHeight===i.minimapHeight&&this.canvasInnerWidth===i.canvasInnerWidth&&this.canvasInnerHeight===i.canvasInnerHeight&&this.canvasOuterWidth===i.canvasOuterWidth&&this.canvasOuterHeight===i.canvasOuterHeight&&this.isSampling===i.isSampling&&this.editorHeight===i.editorHeight&&this.fontScale===i.fontScale&&this.minimapLineHeight===i.minimapLineHeight&&this.minimapCharWidth===i.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(i.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(i.backgroundColor)&&this.foregroundAlpha===i.foregroundAlpha}}class er{constructor(i,c,M,U,X,Te,Ue,gt){this.scrollTop=i,this.scrollHeight=c,this.sliderNeeded=M,this._computedSliderRatio=U,this.sliderTop=X,this.sliderHeight=Te,this.startLineNumber=Ue,this.endLineNumber=gt}getDesiredScrollTopFromDelta(i){return Math.round(this.scrollTop+i/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(i){return Math.round((i-this.sliderHeight/2)/this._computedSliderRatio)}static create(i,c,M,U,X,Te,Ue,gt,xt,kt,Qt){const hn=i.pixelRatio,fn=i.minimapLineHeight,On=Math.floor(i.canvasInnerHeight/fn),Un=i.lineHeight;if(i.minimapHeightIsEditorHeight){const Gi=Math.max(1,Math.floor(X*X/(gt*i.lineHeight+(i.scrollBeyondLastLine?X-i.lineHeight:0)))),to=Math.max(0,i.minimapHeight-Gi),Vi=to/(kt-X),go=xt*Vi,Bo=to>0,So=Math.floor(i.canvasInnerHeight/i.minimapLineHeight);return new er(xt,kt,Bo,Vi,go,Gi,1,Math.min(Ue,So))}let jn,ai;jn=Te&&M!==Ue?Math.floor((M-c+1)*fn/hn):Math.floor(X/Un*fn/hn),ai=i.scrollBeyondLastLine?(Ue-1)*fn/hn:Math.max(0,Ue*fn/hn-jn),ai=Math.min(i.minimapHeight-jn,ai);const mi=ai/(kt-X),Si=xt*mi;let Ki=0;if(i.scrollBeyondLastLine&&(Ki=X/Un-1),On>=Ue+Ki)return new er(xt,kt,ai>0,mi,Si,jn,1,Ue);{let eo=Math.max(1,Math.floor(c-Si*hn/fn));Qt&&Qt.scrollHeight===kt&&(Qt.scrollTop>xt&&(eo=Math.min(eo,Qt.startLineNumber)),Qt.scrollTop<xt&&(eo=Math.max(eo,Qt.startLineNumber)));const Gi=Math.min(Ue,eo+On-1);return new er(xt,kt,!0,mi,(c-eo+(xt-U)/Un)*fn/hn,jn,eo,Gi)}}}class Qs{constructor(i){this.dy=i}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Qs.INVALID=new Qs(-1);class is{constructor(i,c,M){this.renderedLayout=i,this._imageData=c,this._renderedLines=new un(()=>Qs.INVALID),this._renderedLines._set(i.startLineNumber,M)}linesEquals(i){if(!this.scrollEquals(i))return!1;const M=this._renderedLines._get().lines;for(let U=0,X=M.length;U<X;U++)if(-1===M[U].dy)return!1;return!0}scrollEquals(i){return this.renderedLayout.startLineNumber===i.startLineNumber&&this.renderedLayout.endLineNumber===i.endLineNumber}_get(){const i=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:i.rendLineNumberStart,lines:i.lines}}onLinesChanged(i,c){return this._renderedLines.onLinesChanged(i,c)}onLinesDeleted(i,c){this._renderedLines.onLinesDeleted(i,c)}onLinesInserted(i,c){this._renderedLines.onLinesInserted(i,c)}onTokensChanged(i){return this._renderedLines.onTokensChanged(i)}}class Tr{constructor(i,c,M,U){this._backgroundFillData=Tr._createBackgroundFillData(c,M,U),this._buffers=[i.createImageData(c,M),i.createImageData(c,M)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const i=this._buffers[this._lastUsedBuffer];return i.data.set(this._backgroundFillData),i}static _createBackgroundFillData(i,c,M){const U=M.r,X=M.g,Te=M.b,Ue=M.a,gt=new Uint8ClampedArray(i*c*4);let xt=0;for(let kt=0;kt<c;kt++)for(let Qt=0;Qt<i;Qt++)gt[xt]=U,gt[xt+1]=X,gt[xt+2]=Te,gt[xt+3]=Ue,xt+=4;return gt}}class _r{constructor(i,c){this.samplingRatio=i,this.minimapLines=c}static compute(i,c,M){if(0===i.renderMinimap||!i.isSampling)return[null,[]];const U=i.pixelRatio,X=i.lineHeight,Te=i.scrollBeyondLastLine,{minimapLineCount:Ue}=Ie.gk.computeContainedMinimapLineCount({viewLineCount:c,scrollBeyondLastLine:Te,height:i.editorHeight,lineHeight:X,pixelRatio:U}),gt=c/Ue,xt=gt/2;if(!M||0===M.minimapLines.length){const Si=[];if(Si[0]=1,Ue>1){for(let Ki=0,eo=Ue-1;Ki<eo;Ki++)Si[Ki]=Math.round(Ki*gt+xt);Si[Ue-1]=c}return[new _r(gt,Si),[]]}const kt=M.minimapLines,Qt=kt.length,hn=[];let fn=0,On=0,Un=1,ai=[],mi=null;for(let Si=0;Si<Ue;Si++){const Ki=Math.max(Un,Math.round(Si*gt)),eo=Math.max(Ki,Math.round((Si+1)*gt));for(;fn<Qt&&kt[fn]<Ki;){if(ai.length<10){const to=fn+1+On;mi&&"deleted"===mi.type&&mi._oldIndex===fn-1?mi.deleteToLineNumber++:(mi={type:"deleted",_oldIndex:fn,deleteFromLineNumber:to,deleteToLineNumber:to},ai.push(mi)),On--}fn++}let Gi;if(fn<Qt&&kt[fn]<=eo)Gi=kt[fn],fn++;else if(Gi=0===Si?1:Si+1===Ue?c:Math.round(Si*gt+xt),ai.length<10){const to=fn+1+On;mi&&"inserted"===mi.type&&mi._i===Si-1?mi.insertToLineNumber++:(mi={type:"inserted",_i:Si,insertFromLineNumber:to,insertToLineNumber:to},ai.push(mi)),On++}hn[Si]=Gi,Un=Gi}if(ai.length<10)for(;fn<Qt;){const Si=fn+1+On;mi&&"deleted"===mi.type&&mi._oldIndex===fn-1?mi.deleteToLineNumber++:(mi={type:"deleted",_oldIndex:fn,deleteFromLineNumber:Si,deleteToLineNumber:Si},ai.push(mi)),On--,fn++}else ai=[{type:"flush"}];return[new _r(gt,hn),ai]}modelLineToMinimapLine(i){return Math.min(this.minimapLines.length,Math.max(1,Math.round(i/this.samplingRatio)))}modelLineRangeToMinimapLineRange(i,c){let M=this.modelLineToMinimapLine(i)-1;for(;M>0&&this.minimapLines[M-1]>=i;)M--;let U=this.modelLineToMinimapLine(c)-1;for(;U+1<this.minimapLines.length&&this.minimapLines[U+1]<=c;)U++;if(M===U){const X=this.minimapLines[M];if(X<i||X>c)return null}return[M+1,U+1]}decorationLineRangeToMinimapLineRange(i,c){let M=this.modelLineToMinimapLine(i),U=this.modelLineToMinimapLine(c);return i!==c&&U===M&&(U===this.minimapLines.length?M>1&&M--:U++),[M,U]}onLinesDeleted(i){const c=i.toLineNumber-i.fromLineNumber+1;let M=this.minimapLines.length,U=0;for(let X=this.minimapLines.length-1;X>=0&&!(this.minimapLines[X]<i.fromLineNumber);X--)this.minimapLines[X]<=i.toLineNumber?(this.minimapLines[X]=Math.max(1,i.fromLineNumber-1),M=Math.min(M,X),U=Math.max(U,X)):this.minimapLines[X]-=c;return[M,U]}onLinesInserted(i){const c=i.toLineNumber-i.fromLineNumber+1;for(let M=this.minimapLines.length-1;M>=0&&!(this.minimapLines[M]<i.fromLineNumber);M--)this.minimapLines[M]+=c}}class ma extends ge{constructor(i){super(i),this.tokensColorTracker=nr.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new rr(this._context.configuration,this._context.theme,this.tokensColorTracker);const[c]=_r.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=c,this._shouldCheckSampling=!1,this._actual=new tr(i.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const i=new rr(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(i)&&(this.options=i,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(i){return this._onOptionsMaybeChanged()}onCursorStateChanged(i){return this._selections=i.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(i){return!!i.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(i){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(i){if(this._samplingState){const c=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.fromLineNumber+i.count-1);return!!c&&this._actual.onLinesChanged(c[0],c[1]-c[0]+1)}return this._actual.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){if(this._samplingState){const[c,M]=this._samplingState.onLinesDeleted(i);return c<=M&&this._actual.onLinesChanged(c+1,M-c+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(i.fromLineNumber,i.toLineNumber)}onLinesInserted(i){return this._samplingState?(this._samplingState.onLinesInserted(i),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(i.fromLineNumber,i.toLineNumber)}onScrollChanged(i){return this._actual.onScrollChanged()}onThemeChanged(i){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(i){if(this._samplingState){const c=[];for(const M of i.ranges){const U=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.toLineNumber);U&&c.push({fromLineNumber:U[0],toLineNumber:U[1]})}return!!c.length&&this._actual.onTokensChanged(c)}return this._actual.onTokensChanged(i.ranges)}onTokensColorsChanged(i){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(i){return this._actual.onZonesChanged()}prepareRender(i){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(i){let c=i.visibleRange.startLineNumber,M=i.visibleRange.endLineNumber;this._samplingState&&(c=this._samplingState.modelLineToMinimapLine(c),M=this._samplingState.modelLineToMinimapLine(M));const U={viewportContainsWhitespaceGaps:i.viewportData.whitespaceViewportData.length>0,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight,viewportStartLineNumber:c,viewportEndLineNumber:M,viewportStartLineNumberVerticalOffset:i.getVerticalOffsetForLineNumber(c),scrollTop:i.scrollTop,scrollLeft:i.scrollLeft,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight};this._actual.render(U)}_recreateLineSampling(){this._minimapSelections=null;const i=!!this._samplingState,[c,M]=_r.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=c,i&&this._samplingState)for(const U of M)switch(U.type){case"deleted":this._actual.onLinesDeleted(U.deleteFromLineNumber,U.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(U.insertFromLineNumber,U.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(i){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[i-1]:i)}getLineMaxColumn(i){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[i-1]:i)}getMinimapLinesRenderingData(i,c,M){if(this._samplingState){const U=[];for(let X=0,Te=c-i+1;X<Te;X++)U[X]=M[X]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[i+X-1]):null;return U}return this._context.viewModel.getMinimapLinesRenderingData(i,c,M).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const i of this._selections){const[c,M]=this._samplingState.decorationLineRangeToMinimapLineRange(i.startLineNumber,i.endLineNumber);this._minimapSelections.push(new Ke.Y(c,i.startColumn,M,i.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(i,c){let M;if(this._samplingState){const Te=this._samplingState.minimapLines[c-1];M=new we.e(this._samplingState.minimapLines[i-1],1,Te,this._context.viewModel.getLineMaxColumn(Te))}else M=new we.e(i,1,c,this._context.viewModel.getLineMaxColumn(c));const U=this._context.viewModel.getDecorationsInViewport(M);if(this._samplingState){const X=[];for(const Te of U){if(!Te.options.minimap)continue;const Ue=Te.range,gt=this._samplingState.modelLineToMinimapLine(Ue.startLineNumber),xt=this._samplingState.modelLineToMinimapLine(Ue.endLineNumber);X.push(new fs.$l(new we.e(gt,Ue.startColumn,xt,Ue.endColumn),Te.options))}return X}return U}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(i){this._samplingState&&(i=this._samplingState.minimapLines[i-1]),this._context.viewModel.revealRange("mouse",!1,new we.e(i,1,i,1),1,0)}setScrollTop(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i},1)}}class tr extends W.JT{constructor(i,c){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=i,this._model=c,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(qe.ov3),this._domNode=(0,Je.X)(document.createElement("div")),de.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,Je.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,Je.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,Je.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,Je.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,Je.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=x.mu(this._domNode.domNode,x.tw.POINTER_DOWN,M=>{if(M.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===M.button&&this._lastRenderData){const xt=x.i(this._slider.domNode);this._startSliderDragging(M,xt.top+xt.height/2,this._lastRenderData.renderedLayout)}return}let gt=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*M.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;gt=Math.min(gt,this._model.getLineCount()),this._model.revealLineNumber(gt)}),this._sliderPointerMoveMonitor=new ns.C,this._sliderPointerDownListener=x.mu(this._slider.domNode,x.tw.POINTER_DOWN,M=>{M.preventDefault(),M.stopPropagation(),0===M.button&&this._lastRenderData&&this._startSliderDragging(M,M.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=vt.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=x.nm(this._domNode.domNode,vt.t.Start,M=>{M.preventDefault(),M.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(M))},{passive:!1}),this._sliderTouchMoveListener=x.nm(this._domNode.domNode,vt.t.Change,M=>{M.preventDefault(),M.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(M)},{passive:!1}),this._sliderTouchEndListener=x.mu(this._domNode.domNode,vt.t.End,M=>{M.preventDefault(),M.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(i,c,M){if(!(i.target&&i.target instanceof Element))return;const U=i.pageX;this._slider.toggleClassName("active",!0);const X=(Te,Ue)=>{const gt=Math.abs(Ue-U);this._model.setScrollTop(K.ED&&gt>140?M.scrollTop:M.getDesiredScrollTopFromDelta(Te-c))};i.pageY!==c&&X(i.pageY,U),this._sliderPointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,Te=>X(Te.pageY,Te.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(i){const c=this._domNode.domNode.getBoundingClientRect().top,M=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(i.pageY-c);this._model.setScrollTop(M)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const i=["minimap"];return i.push("always"===this._model.options.showSlider?"slider-always":"slider-mouseover"),this._model.options.autohide&&i.push("autohide"),i.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Tr(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(i,c){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(i,c)}onLinesDeleted(i,c){var M;return null===(M=this._lastRenderData)||void 0===M||M.onLinesDeleted(i,c),!0}onLinesInserted(i,c){var M;return null===(M=this._lastRenderData)||void 0===M||M.onLinesInserted(i,c),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(qe.ov3),this._renderDecorations=!0,!0}onTokensChanged(i){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(i)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(i){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(i.scrollLeft+i.viewportWidth>=i.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const M=er.create(this._model.options,i.viewportStartLineNumber,i.viewportEndLineNumber,i.viewportStartLineNumberVerticalOffset,i.viewportHeight,i.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),i.scrollTop,i.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(M.sliderNeeded?"block":"none"),this._slider.setTop(M.sliderTop),this._slider.setHeight(M.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(M.sliderHeight),this.renderDecorations(M),this._lastRenderData=this.renderLines(M)}renderDecorations(i){if(this._renderDecorations){this._renderDecorations=!1;const c=this._model.getSelections();c.sort(we.e.compareRangesUsingStarts);const M=this._model.getMinimapDecorationsInViewport(i.startLineNumber,i.endLineNumber);M.sort((hn,fn)=>(hn.options.zIndex||0)-(fn.options.zIndex||0));const{canvasInnerWidth:U,canvasInnerHeight:X}=this._model.options,Te=this._model.options.minimapLineHeight,Ue=this._model.options.minimapCharWidth,gt=this._model.getOptions().tabSize,xt=this._decorationsCanvas.domNode.getContext("2d");xt.clearRect(0,0,U,X);const kt=new vs(i.startLineNumber,i.endLineNumber,!1);this._renderSelectionLineHighlights(xt,c,kt,i,Te),this._renderDecorationsLineHighlights(xt,M,kt,i,Te);const Qt=new vs(i.startLineNumber,i.endLineNumber,null);this._renderSelectionsHighlights(xt,c,Qt,i,Te,gt,Ue,U),this._renderDecorationsHighlights(xt,M,Qt,i,Te,gt,Ue,U)}}_renderSelectionLineHighlights(i,c,M,U,X){if(!this._selectionColor||this._selectionColor.isTransparent())return;i.fillStyle=this._selectionColor.transparent(.5).toString();let Te=0,Ue=0;for(const gt of c){const xt=Math.max(U.startLineNumber,gt.startLineNumber),kt=Math.min(U.endLineNumber,gt.endLineNumber);if(xt>kt)continue;for(let fn=xt;fn<=kt;fn++)M.set(fn,!0);const Qt=(xt-U.startLineNumber)*X,hn=(kt-U.startLineNumber)*X+X;Ue>=Qt||(Ue>Te&&i.fillRect(Ie.y0,Te,i.canvas.width,Ue-Te),Te=Qt),Ue=hn}Ue>Te&&i.fillRect(Ie.y0,Te,i.canvas.width,Ue-Te)}_renderDecorationsLineHighlights(i,c,M,U,X){const Te=new Map;for(let Ue=c.length-1;Ue>=0;Ue--){const gt=c[Ue],xt=gt.options.minimap;if(!xt||xt.position!==Ws.F5.Inline)continue;const kt=Math.max(U.startLineNumber,gt.range.startLineNumber),Qt=Math.min(U.endLineNumber,gt.range.endLineNumber);if(kt>Qt)continue;const hn=xt.getColor(this._theme.value);if(!hn||hn.isTransparent())continue;let fn=Te.get(hn.toString());fn||(fn=hn.transparent(.5).toString(),Te.set(hn.toString(),fn)),i.fillStyle=fn;for(let On=kt;On<=Qt;On++)M.has(On)||(M.set(On,!0),i.fillRect(Ie.y0,(kt-U.startLineNumber)*X,i.canvas.width,X))}}_renderSelectionsHighlights(i,c,M,U,X,Te,Ue,gt){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const xt of c){const kt=Math.max(U.startLineNumber,xt.startLineNumber),Qt=Math.min(U.endLineNumber,xt.endLineNumber);if(!(kt>Qt))for(let hn=kt;hn<=Qt;hn++)this.renderDecorationOnLine(i,M,xt,this._selectionColor,U,hn,X,X,Te,Ue,gt)}}_renderDecorationsHighlights(i,c,M,U,X,Te,Ue,gt){for(const xt of c){const kt=xt.options.minimap;if(!kt)continue;const Qt=Math.max(U.startLineNumber,xt.range.startLineNumber),hn=Math.min(U.endLineNumber,xt.range.endLineNumber);if(Qt>hn)continue;const fn=kt.getColor(this._theme.value);if(fn&&!fn.isTransparent())for(let On=Qt;On<=hn;On++)switch(kt.position){case Ws.F5.Inline:this.renderDecorationOnLine(i,M,xt.range,fn,U,On,X,X,Te,Ue,gt);continue;case Ws.F5.Gutter:this.renderDecoration(i,fn,2,(On-U.startLineNumber)*X,2,X);continue}}}renderDecorationOnLine(i,c,M,U,X,Te,Ue,gt,xt,kt,Qt){const hn=(Te-X.startLineNumber)*gt;if(hn+Ue<0||hn>this._model.options.canvasInnerHeight)return;const{startLineNumber:fn,endLineNumber:On}=M,Un=fn===Te?M.startColumn:1,jn=On===Te?M.endColumn:this._model.getLineMaxColumn(Te),ai=this.getXOffsetForPosition(c,Te,Un,xt,kt,Qt),mi=this.getXOffsetForPosition(c,Te,jn,xt,kt,Qt);this.renderDecoration(i,U,ai,hn,mi-ai,Ue)}getXOffsetForPosition(i,c,M,U,X,Te){if(1===M)return Ie.y0;if((M-1)*X>=Te)return Te;let gt=i.get(c);if(!gt){const xt=this._model.getLineContent(c);gt=[Ie.y0];let kt=Ie.y0;for(let Qt=1;Qt<xt.length+1;Qt++){const hn=xt.charCodeAt(Qt-1),On=kt+(9===hn?U*X:Cn.K7(hn)?2*X:X);if(On>=Te){gt[Qt]=Te;break}gt[Qt]=On,kt=On}i.set(c,gt)}return M-1<gt.length?gt[M-1]:Te}renderDecoration(i,c,M,U,X,Te){i.fillStyle=c&&c.toString()||"",i.fillRect(M,U,X,Te)}renderLines(i){const c=i.startLineNumber,M=i.endLineNumber,U=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(i)){const Yo=this._lastRenderData._get();return new is(i,Yo.imageData,Yo.lines)}const X=this._getBuffer();if(!X)return null;const[Te,Ue,gt]=tr._renderUntouchedLines(X,c,M,U,this._lastRenderData),xt=this._model.getMinimapLinesRenderingData(c,M,gt),kt=this._model.getOptions().tabSize,Qt=this._model.options.defaultBackgroundColor,hn=this._model.options.backgroundColor,fn=this._model.options.foregroundAlpha,On=this._model.tokensColorTracker,Un=On.backgroundIsLight(),jn=this._model.options.renderMinimap,ai=this._model.options.charRenderer(),mi=this._model.options.fontScale,Si=this._model.options.minimapCharWidth,eo=(1===jn?2:3)*mi,Gi=U>eo?Math.floor((U-eo)/2):0,to=hn.a/255,Vi=new Go(Math.round((hn.r-Qt.r)*to+Qt.r),Math.round((hn.g-Qt.g)*to+Qt.g),Math.round((hn.b-Qt.b)*to+Qt.b),255);let go=0;const Bo=[];for(let Yo=0,xs=M-c+1;Yo<xs;Yo++)gt[Yo]&&tr._renderLine(X,Vi,hn.a,Un,jn,Si,On,fn,ai,go,Gi,kt,xt[Yo],mi,U),Bo[Yo]=new Qs(go),go+=U;const So=-1===Te?0:Te,us=(-1===Ue?X.height:Ue)-So;return this._canvas.domNode.getContext("2d").putImageData(X,0,0,0,So,X.width,us),new is(i,X,Bo)}static _renderUntouchedLines(i,c,M,U,X){const Te=[];if(!X){for(let Vi=0,go=M-c+1;Vi<go;Vi++)Te[Vi]=!0;return[-1,-1,Te]}const Ue=X._get(),gt=Ue.imageData.data,xt=Ue.rendLineNumberStart,kt=Ue.lines,Qt=kt.length,hn=i.width,fn=i.data,On=(M-c+1)*U*hn*4;let Un=-1,jn=-1,ai=-1,mi=-1,Si=-1,Ki=-1,eo=0;for(let Vi=c;Vi<=M;Vi++){const go=Vi-c,Bo=Vi-xt,So=Bo>=0&&Bo<Qt?kt[Bo].dy:-1;if(-1===So){Te[go]=!0,eo+=U;continue}const cs=So*hn*4,us=(So+U)*hn*4,Gs=eo*hn*4,Yo=(eo+U)*hn*4;mi===cs&&Ki===Gs?(mi=us,Ki=Yo):(-1!==ai&&(fn.set(gt.subarray(ai,mi),Si),-1===Un&&0===ai&&ai===Si&&(Un=mi),-1===jn&&mi===On&&ai===Si&&(jn=ai)),ai=cs,mi=us,Si=Gs,Ki=Yo),Te[go]=!1,eo+=U}return-1!==ai&&(fn.set(gt.subarray(ai,mi),Si),-1===Un&&0===ai&&ai===Si&&(Un=mi),-1===jn&&mi===On&&ai===Si&&(jn=ai)),[-1===Un?-1:Un/(4*hn),-1===jn?-1:jn/(4*hn),Te]}static _renderLine(i,c,M,U,X,Te,Ue,gt,xt,kt,Qt,hn,fn,On,Un){const jn=fn.content,ai=fn.tokens,mi=i.width-Te,Si=1===Un;let Ki=Ie.y0,eo=0,Gi=0;for(let to=0,Vi=ai.getCount();to<Vi;to++){const go=ai.getEndOffset(to),Bo=ai.getForeground(to),So=Ue.getColor(Bo);for(;eo<go;eo++){if(Ki>mi)return;const cs=jn.charCodeAt(eo);if(9===cs){const us=hn-(eo+Gi)%hn;Gi+=us-1,Ki+=us*Te}else if(32===cs)Ki+=Te;else{const us=Cn.K7(cs)?2:1;for(let Gs=0;Gs<us;Gs++)if(2===X?xt.blockRenderChar(i,Ki,kt+Qt,So,gt,c,M,Si):xt.renderChar(i,Ki,kt+Qt,cs,So,gt,c,M,On,U,Si),Ki+=Te,Ki>mi)return}}}}}class vs{constructor(i,c,M){this._startLineNumber=i,this._endLineNumber=c,this._defaultValue=M,this._values=[];for(let U=0,X=this._endLineNumber-this._startLineNumber+1;U<X;U++)this._values[U]=M}has(i){return this.get(i)!==this._defaultValue}set(i,c){i<this._startLineNumber||i>this._endLineNumber||(this._values[i-this._startLineNumber]=c)}get(i){return i<this._startLineNumber||i>this._endLineNumber?this._defaultValue:this._values[i-this._startLineNumber]}}(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(qe.CA6);c&&i.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${c}; }`);const M=Vt.getColor(qe.Xy4);M&&i.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${M}; }`);const U=Vt.getColor(qe.brw);U&&i.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${U}; }`);const X=Vt.getColor(qe._wn);X&&i.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${X} -6px 0 6px -6px inset; }`)});var Ys=e(81377),Xs={};Xs.styleTagTransform=g(),Xs.setAttributes=u(),Xs.insert=r().bind(null,"head"),Xs.domAPI=D(),Xs.insertStyleElement=d(),b()(Ys.Z,Xs);class ar extends ge{constructor(i){super(i);const M=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=M.verticalScrollbarWidth,this._minimapWidth=M.minimap.minimapWidth,this._horizontalScrollbarHeight=M.horizontalScrollbarHeight,this._editorHeight=M.height,this._editorWidth=M.width,this._domNode=(0,Je.X)(document.createElement("div")),de.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(i){const M=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=M.verticalScrollbarWidth,this._minimapWidth=M.minimap.minimapWidth,this._horizontalScrollbarHeight=M.horizontalScrollbarHeight,this._editorHeight=M.height,this._editorWidth=M.width,!0}addWidget(i){const c=(0,Je.X)(i.getDomNode());this._widgets[i.getId()]={widget:i,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",i.getId()),this._domNode.appendChild(c),this.setShouldRender()}setWidgetPosition(i,c){const M=this._widgets[i.getId()];return M.preference!==c&&(M.preference=c,this.setShouldRender(),!0)}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const U=this._widgets[c].domNode.domNode;delete this._widgets[c],U.parentNode.removeChild(U),this.setShouldRender()}}_renderWidget(i){const c=i.domNode;null!==i.preference?0===i.preference?(c.setTop(0),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===i.preference?(c.setTop(this._editorHeight-c.domNode.clientHeight-2*this._horizontalScrollbarHeight),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===i.preference&&(c.setTop(0),c.domNode.style.right="50%"):c.setTop("")}prepareRender(i){}render(i){this._domNode.setWidth(this._editorWidth);const c=Object.keys(this._widgets);for(let M=0,U=c.length;M<U;M++)this._renderWidget(this._widgets[c[M]])}}class Us{constructor(i,c){const M=i.options;this.lineHeight=M.get(61),this.pixelRatio=M.get(131),this.overviewRulerLanes=M.get(76),this.renderBorder=M.get(75);const U=c.getColor(Qi.zw);this.borderColor=U?U.toString():null,this.hideCursor=M.get(54);const X=c.getColor(Qi.n0);this.cursorColor=X?X.transparent(.7).toString():null,this.themeType=c.type;const Te=M.get(67),Ue=Te.enabled,gt=Te.side,xt=c.getColor(Qi.e_),kt=Oo.RW.getDefaultBackground();let Qt=null;void 0!==xt?Qt=xt:Ue&&(Qt=kt),this.backgroundColor=null===Qt||"left"===gt?null:ko.Il.Format.CSS.formatHex(Qt);const fn=M.get(133).overviewRuler;this.top=fn.top,this.right=fn.right,this.domWidth=fn.width,this.domHeight=fn.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[On,Un]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=On,this.w=Un}_initLanes(i,c,M){const U=c-i;if(M>=3){const X=Math.floor(U/3),Te=Math.floor(U/3),Ue=U-X-Te,xt=i+X;return[[0,i,xt,i,i+X+Ue,i,xt,i],[0,X,Ue,X+Ue,Te,X+Ue+Te,Ue+Te,X+Ue+Te]]}if(2===M){const X=Math.floor(U/2),Te=U-X;return[[0,i,i,i,i+X,i,i,i],[0,X,X,X,Te,X+Te,X+Te,X+Te]]}return[[0,i,i,i,i,i,i,i],[0,U,U,U,U,U,U,U]]}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class Yi extends ge{constructor(i){super(i),this._domNode=(0,Je.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Oo.RW.onDidChange(c=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const c=new Us(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(c)||(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),0))}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let c=0,M=i.selections.length;c<M;c++)this._cursorPositions[c]=i.selections[c].getPosition();return this._cursorPositions.sort(oe.L.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const i=this._settings.canvasWidth,c=this._settings.canvasHeight,M=this._settings.lineHeight,U=this._context.viewLayout,Te=c/this._context.viewLayout.getScrollHeight(),Ue=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),gt=6*this._settings.pixelRatio|0,xt=gt/2|0,kt=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?kt.clearRect(0,0,i,c):(kt.fillStyle=this._settings.backgroundColor,kt.fillRect(0,0,i,c));const Qt=this._settings.x,hn=this._settings.w;Ue.sort(fs.SQ.cmp);for(const fn of Ue){const Un=fn.data;kt.fillStyle=fn.color;let jn=0,ai=0,mi=0;for(let Si=0,Ki=Un.length/3;Si<Ki;Si++){const eo=Un[3*Si],to=Un[3*Si+2];let Vi=U.getVerticalOffsetForLineNumber(Un[3*Si+1])*Te|0,go=(U.getVerticalOffsetForLineNumber(to)+M)*Te|0;if(go-Vi<gt){let So=(Vi+go)/2|0;So<xt?So=xt:So+xt>c&&(So=c-xt),Vi=So-xt,go=So+xt}Vi>mi+1||eo!==jn?(0!==Si&&kt.fillRect(Qt[jn],ai,hn[jn],mi-ai),jn=eo,ai=Vi,mi=go):go>mi&&(mi=go)}kt.fillRect(Qt[jn],ai,hn[jn],mi-ai)}if(!this._settings.hideCursor&&this._settings.cursorColor){const fn=2*this._settings.pixelRatio|0,On=fn/2|0,Un=this._settings.x[7],jn=this._settings.w[7];kt.fillStyle=this._settings.cursorColor;let ai=-100,mi=-100;for(let Si=0,Ki=this._cursorPositions.length;Si<Ki;Si++){let Gi=U.getVerticalOffsetForLineNumber(this._cursorPositions[Si].lineNumber)*Te|0;Gi<On?Gi=On:Gi+On>c&&(Gi=c-On);const to=Gi-On,Vi=to+fn;to>mi+1?(0!==Si&&kt.fillRect(Un,ai,jn,mi-ai),ai=to,mi=Vi):Vi>mi&&(mi=Vi)}kt.fillRect(Un,ai,jn,mi-ai)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(kt.beginPath(),kt.lineWidth=1,kt.strokeStyle=this._settings.borderColor,kt.moveTo(0,0),kt.lineTo(0,c),kt.stroke(),kt.moveTo(0,0),kt.lineTo(i,0),kt.stroke())}}var fr=e(3595);class xr extends pe{constructor(i,c){super(),this._context=i;const M=this._context.configuration.options;this._domNode=(0,Je.X)(document.createElement("canvas")),this._domNode.setClassName(c),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new fr.Tj(U=>this._context.viewLayout.getVerticalOffsetForLineNumber(U)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(M.get(61)),this._zoneManager.setPixelRatio(M.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return i.hasChanged(61)&&(this._zoneManager.setLineHeight(c.get(61)),this._render()),i.hasChanged(131)&&(this._zoneManager.setPixelRatio(c.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(i){return this._render(),!0}onScrollChanged(i){return i.scrollHeightChanged&&(this._zoneManager.setOuterHeight(i.scrollHeight),this._render()),!0}onZonesChanged(i){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(i){this._domNode.setTop(i.top),this._domNode.setRight(i.right);let c=!1;c=this._zoneManager.setDOMWidth(i.width)||c,c=this._zoneManager.setDOMHeight(i.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(i){this._zoneManager.setZones(i),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const i=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),M=this._zoneManager.resolveColorZones(),U=this._zoneManager.getId2Color(),X=this._domNode.domNode.getContext("2d");return X.clearRect(0,0,i,c),M.length>0&&this._renderOneLane(X,M,U,i),!0}_renderOneLane(i,c,M,U){let X=0,Te=0,Ue=0;for(const gt of c){const xt=gt.colorId,kt=gt.from,Qt=gt.to;xt!==X?(i.fillRect(0,Te,U,Ue-Te),X=xt,i.fillStyle=M[X],Te=kt,Ue=Qt):Ue>=kt?Ue=Math.max(Ue,Qt):(i.fillRect(0,Te,U,Ue-Te),Te=kt,Ue=Qt)}i.fillRect(0,Te,U,Ue-Te)}}var Fs=e(52753),Ss={};Ss.styleTagTransform=g(),Ss.setAttributes=u(),Ss.insert=r().bind(null,"head"),Ss.domAPI=D(),Ss.insertStyleElement=d(),b()(Fs.Z,Ss);class $r extends ge{constructor(i){super(i),this.domNode=(0,Je.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const c=this._context.configuration.options;this._rulers=c.get(93),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._rulers=c.get(93),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(i){return i.scrollHeightChanged}prepareRender(i){}_ensureRulersCount(){const i=this._renderedRulers.length,c=this._rulers.length;if(i===c)return;if(i<c){const{tabSize:U}=this._context.viewModel.model.getOptions(),X=U;let Te=c-i;for(;Te>0;){const Ue=(0,Je.X)(document.createElement("div"));Ue.setClassName("view-ruler"),Ue.setWidth(X),this.domNode.appendChild(Ue),this._renderedRulers.push(Ue),Te--}return}let M=i-c;for(;M>0;){const U=this._renderedRulers.pop();this.domNode.removeChild(U),M--}}render(i){this._ensureRulersCount();for(let c=0,M=this._rulers.length;c<M;c++){const U=this._renderedRulers[c],X=this._rulers[c];U.setBoxShadow(X.color?`1px 0 0 0 ${X.color} inset`:""),U.setHeight(Math.min(i.scrollHeight,1e6)),U.setLeft(X.column*this._typicalHalfwidthCharacterWidth)}}}(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(Qi.zk);c&&i.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${c} inset; }`)});var mo=e(72460),Vo={};Vo.styleTagTransform=g(),Vo.setAttributes=u(),Vo.insert=r().bind(null,"head"),Vo.domAPI=D(),Vo.insertStyleElement=d(),b()(mo.Z,Vo);class Es extends ge{constructor(i){super(i),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const M=this._context.configuration.options.get(94);this._useShadows=M.useShadows,this._domNode=(0,Je.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const i=this._useShadows&&this._scrollTop>0;return this._shouldShow!==i&&(this._shouldShow=i,!0)}getDomNode(){return this._domNode}_updateWidth(){const c=this._context.configuration.options.get(133);this._width=0===c.minimap.renderMinimap||c.minimap.minimapWidth>0&&0===c.minimap.minimapLeft?c.width:c.width-c.verticalScrollbarWidth}onConfigurationChanged(i){const M=this._context.configuration.options.get(94);return this._useShadows=M.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(i){return this._scrollTop=i.scrollTop,this._updateShouldShow()}prepareRender(i){}render(i){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(qe._wn);c&&i.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${c} 0 6px 6px -6px inset; }`)});var gs=e(30853),Cs={};Cs.styleTagTransform=g(),Cs.setAttributes=u(),Cs.insert=r().bind(null,"head"),Cs.domAPI=D(),Cs.insertStyleElement=d(),b()(gs.Z,Cs);class Ia{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class cr{constructor(i,c){this.lineNumber=i,this.ranges=c}}function Nn(Vt){return new Ia(Vt)}function le(Vt){return new cr(Vt.lineNumber,Vt.ranges.map(Nn))}let ve=(()=>{class Vt extends Oi{constructor(c){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=c;const M=this._context.configuration.options;this._lineHeight=M.get(61),this._roundedSelection=M.get(92),this._typicalHalfwidthCharacterWidth=M.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){const M=this._context.configuration.options;return this._lineHeight=M.get(61),this._roundedSelection=M.get(92),this._typicalHalfwidthCharacterWidth=M.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(c){return this._selections=c.selections.slice(0),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_visibleRangesHaveGaps(c){for(let M=0,U=c.length;M<U;M++)if(c[M].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(c,M,U){const X=this._typicalHalfwidthCharacterWidth/4;let Te=null,Ue=null;if(U&&U.length>0&&M.length>0){const gt=M[0].lineNumber;if(gt===c.startLineNumber)for(let kt=0;!Te&&kt<U.length;kt++)U[kt].lineNumber===gt&&(Te=U[kt].ranges[0]);const xt=M[M.length-1].lineNumber;if(xt===c.endLineNumber)for(let kt=U.length-1;!Ue&&kt>=0;kt--)U[kt].lineNumber===xt&&(Ue=U[kt].ranges[0]);Te&&!Te.startStyle&&(Te=null),Ue&&!Ue.startStyle&&(Ue=null)}for(let gt=0,xt=M.length;gt<xt;gt++){const kt=M[gt].ranges[0],Qt=kt.left,hn=kt.left+kt.width,fn={top:0,bottom:0},On={top:0,bottom:0};if(gt>0){const Un=M[gt-1].ranges[0].left,jn=M[gt-1].ranges[0].left+M[gt-1].ranges[0].width;$e(Qt-Un)<X?fn.top=2:Qt>Un&&(fn.top=1),$e(hn-jn)<X?On.top=2:Un<hn&&hn<jn&&(On.top=1)}else Te&&(fn.top=Te.startStyle.top,On.top=Te.endStyle.top);if(gt+1<xt){const Un=M[gt+1].ranges[0].left,jn=M[gt+1].ranges[0].left+M[gt+1].ranges[0].width;$e(Qt-Un)<X?fn.bottom=2:Un<Qt&&Qt<jn&&(fn.bottom=1),$e(hn-jn)<X?On.bottom=2:hn<jn&&(On.bottom=1)}else Ue&&(fn.bottom=Ue.startStyle.bottom,On.bottom=Ue.endStyle.bottom);kt.startStyle=fn,kt.endStyle=On}}_getVisibleRangesWithStyle(c,M,U){const Te=(M.linesVisibleRangesForRange(c,!0)||[]).map(le);return!this._visibleRangesHaveGaps(Te)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(M.visibleRange,Te,U),Te}_createSelectionPiece(c,M,U,X,Te){return'<div class="cslr '+U+'" style="top:'+c.toString()+"px;left:"+X.toString()+"px;width:"+Te.toString()+"px;height:"+M+'px;"></div>'}_actualRenderOneSelection(c,M,U,X){if(0===X.length)return;const Te=!!X[0].ranges[0].startStyle,Ue=this._lineHeight.toString(),gt=(this._lineHeight-1).toString(),xt=X[0].lineNumber,kt=X[X.length-1].lineNumber;for(let Qt=0,hn=X.length;Qt<hn;Qt++){const fn=X[Qt],On=fn.lineNumber,Un=On-M,jn=!U||On!==kt&&On!==xt?Ue:gt,ai=U&&On===xt?1:0;let mi="",Si="";for(let Ki=0,eo=fn.ranges.length;Ki<eo;Ki++){const Gi=fn.ranges[Ki];if(Te){const Vi=Gi.startStyle,go=Gi.endStyle;if(1===Vi.top||1===Vi.bottom){mi+=this._createSelectionPiece(ai,jn,Vt.SELECTION_CLASS_NAME,Gi.left-Vt.ROUNDED_PIECE_WIDTH,Vt.ROUNDED_PIECE_WIDTH);let Bo=Vt.EDITOR_BACKGROUND_CLASS_NAME;1===Vi.top&&(Bo+=" "+Vt.SELECTION_TOP_RIGHT),1===Vi.bottom&&(Bo+=" "+Vt.SELECTION_BOTTOM_RIGHT),mi+=this._createSelectionPiece(ai,jn,Bo,Gi.left-Vt.ROUNDED_PIECE_WIDTH,Vt.ROUNDED_PIECE_WIDTH)}if(1===go.top||1===go.bottom){mi+=this._createSelectionPiece(ai,jn,Vt.SELECTION_CLASS_NAME,Gi.left+Gi.width,Vt.ROUNDED_PIECE_WIDTH);let Bo=Vt.EDITOR_BACKGROUND_CLASS_NAME;1===go.top&&(Bo+=" "+Vt.SELECTION_TOP_LEFT),1===go.bottom&&(Bo+=" "+Vt.SELECTION_BOTTOM_LEFT),mi+=this._createSelectionPiece(ai,jn,Bo,Gi.left+Gi.width,Vt.ROUNDED_PIECE_WIDTH)}}let to=Vt.SELECTION_CLASS_NAME;if(Te){const Vi=Gi.startStyle,go=Gi.endStyle;0===Vi.top&&(to+=" "+Vt.SELECTION_TOP_LEFT),0===Vi.bottom&&(to+=" "+Vt.SELECTION_BOTTOM_LEFT),0===go.top&&(to+=" "+Vt.SELECTION_TOP_RIGHT),0===go.bottom&&(to+=" "+Vt.SELECTION_BOTTOM_RIGHT)}Si+=this._createSelectionPiece(ai,jn,to,Gi.left,Gi.width)}c[Un][0]+=mi,c[Un][1]+=Si}}prepareRender(c){const M=[],U=c.visibleRange.startLineNumber,X=c.visibleRange.endLineNumber;for(let Ue=U;Ue<=X;Ue++)M[Ue-U]=["",""];const Te=[];for(let Ue=0,gt=this._selections.length;Ue<gt;Ue++){const xt=this._selections[Ue];if(xt.isEmpty()){Te[Ue]=null;continue}const kt=this._getVisibleRangesWithStyle(xt,c,this._previousFrameVisibleRangesWithStyle[Ue]);Te[Ue]=kt,this._actualRenderOneSelection(M,U,this._selections.length>1,kt)}this._previousFrameVisibleRangesWithStyle=Te,this._renderResult=M.map(([Ue,gt])=>Ue+gt)}render(c,M){if(!this._renderResult)return"";const U=M-c;return U<0||U>=this._renderResult.length?"":this._renderResult[U]}}return Vt.SELECTION_CLASS_NAME="selected-text",Vt.SELECTION_TOP_LEFT="top-left-radius",Vt.SELECTION_BOTTOM_LEFT="bottom-left-radius",Vt.SELECTION_TOP_RIGHT="top-right-radius",Vt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Vt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Vt.ROUNDED_PIECE_WIDTH=10,Vt})();function $e(Vt){return Vt<0?-Vt:Vt}(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(qe.hEj);c&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${c}; }`);const M=Vt.getColor(qe.ES4);M&&i.addRule(`.monaco-editor .selected-text { background-color: ${M}; }`);const U=Vt.getColor(qe.yb5);U&&!U.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${U}; }`)});var At=e(89563),Nt={};Nt.styleTagTransform=g(),Nt.setAttributes=u(),Nt.insert=r().bind(null,"head"),Nt.domAPI=D(),Nt.insertStyleElement=d(),b()(At.Z,Nt);class Jn{constructor(i,c,M,U,X,Te){this.top=i,this.left=c,this.width=M,this.height=U,this.textContent=X,this.textContentClassName=Te}}class vi{constructor(i){this._context=i;const c=this._context.configuration.options,M=c.get(46);this._cursorStyle=c.get(24),this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=M.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,Je.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Mo.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Pn.N)(this._domNode,M),this._domNode.setDisplay("none"),this._position=new oe.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const c=this._context.configuration.options,M=c.get(46);return this._cursorStyle=c.get(24),this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=M.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),(0,Pn.N)(this._domNode,M),!0}onCursorPositionChanged(i){return this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:c}=this._position,M=this._context.viewModel.getLineContent(i),[U,X]=Cn.J_(M,c-1);return[new oe.L(i,U+1),M.substring(U,X)]}_prepareRender(i){let c="";const[M,U]=this._getGraphemeAwarePosition();if(this._cursorStyle===Ie.d2.Line||this._cursorStyle===Ie.d2.LineThin){const hn=i.visibleRangeForPosition(M);if(!hn||hn.outsideRenderedLine)return null;let fn;this._cursorStyle===Ie.d2.Line?(fn=x.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),fn>2&&(c=U)):fn=x.Uh(1);let On=hn.left;fn>=2&&On>=1&&(On-=1);const Un=i.getVerticalOffsetForLineNumber(M.lineNumber)-i.bigNumbersDelta;return new Jn(Un,On,fn,this._lineHeight,c,"")}const X=i.linesVisibleRangesForRange(new we.e(M.lineNumber,M.column,M.lineNumber,M.column+U.length),!1);if(!X||0===X.length)return null;const Te=X[0];if(Te.outsideRenderedLine||0===Te.ranges.length)return null;const Ue=Te.ranges[0],gt="\t"===U||Ue.width<1?this._typicalHalfwidthCharacterWidth:Ue.width;let xt="";if(this._cursorStyle===Ie.d2.Block){const hn=this._context.viewModel.getViewLineData(M.lineNumber);c=U;const fn=hn.tokens.findTokenIndexAtOffset(M.column-1);xt=hn.tokens.getClassName(fn)}let kt=i.getVerticalOffsetForLineNumber(M.lineNumber)-i.bigNumbersDelta,Qt=this._lineHeight;return(this._cursorStyle===Ie.d2.Underline||this._cursorStyle===Ie.d2.UnderlineThin)&&(kt+=this._lineHeight-2,Qt=2),new Jn(kt,Ue.left,gt,Qt,c,xt)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Mo.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let Mi=(()=>{class Vt extends ge{constructor(c){super(c);const M=this._context.configuration.options;this._readOnly=M.get(83),this._cursorBlinking=M.get(22),this._cursorStyle=M.get(24),this._cursorSmoothCaretAnimation=M.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new vi(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,Je.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Xe._F,this._cursorFlatBlinkInterval=new Xe.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(c){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(c){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(c){const M=this._context.configuration.options;this._readOnly=M.get(83),this._cursorBlinking=M.get(22),this._cursorStyle=M.get(24),this._cursorSmoothCaretAnimation=M.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(c);for(let U=0,X=this._secondaryCursors.length;U<X;U++)this._secondaryCursors[U].onConfigurationChanged(c);return!0}_onCursorPositionChanged(c,M){if(this._primaryCursor.onCursorPositionChanged(c),this._updateBlinking(),this._secondaryCursors.length<M.length){const U=M.length-this._secondaryCursors.length;for(let X=0;X<U;X++){const Te=new vi(this._context);this._domNode.domNode.insertBefore(Te.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Te)}}else if(this._secondaryCursors.length>M.length){const U=this._secondaryCursors.length-M.length;for(let X=0;X<U;X++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let U=0;U<M.length;U++)this._secondaryCursors[U].onCursorPositionChanged(M[U])}onCursorStateChanged(c){const M=[];for(let X=0,Te=c.selections.length;X<Te;X++)M[X]=c.selections[X].getPosition();this._onCursorPositionChanged(M[0],M.slice(1));const U=c.selections[0].isEmpty();return this._selectionIsEmpty!==U&&(this._selectionIsEmpty=U,this._updateDomClassName()),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onFocusChanged(c){return this._editorHasFocus=c.isFocused,this._updateBlinking(),!1}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return!0}onTokensChanged(c){const M=U=>{for(let X=0,Te=c.ranges.length;X<Te;X++)if(c.ranges[X].fromLineNumber<=U.lineNumber&&U.lineNumber<=c.ranges[X].toLineNumber)return!0;return!1};if(M(this._primaryCursor.getPosition()))return!0;for(const U of this._secondaryCursors)if(M(U.getPosition()))return!0;return!1}onZonesChanged(c){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const c=this._getCursorBlinking(),M=0===c,U=5===c;M?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!M&&!U&&(1===c?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Vt.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Vt.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let c="cursors-layer";switch(this._selectionIsEmpty||(c+=" has-selection"),this._cursorStyle){case Ie.d2.Line:c+=" cursor-line-style";break;case Ie.d2.Block:c+=" cursor-block-style";break;case Ie.d2.Underline:c+=" cursor-underline-style";break;case Ie.d2.LineThin:c+=" cursor-line-thin-style";break;case Ie.d2.BlockOutline:c+=" cursor-block-outline-style";break;case Ie.d2.UnderlineThin:c+=" cursor-underline-thin-style";break;default:c+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:c+=" cursor-blink";break;case 2:c+=" cursor-smooth";break;case 3:c+=" cursor-phase";break;case 4:c+=" cursor-expand";break;default:c+=" cursor-solid"}else c+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(c+=" cursor-smooth-caret-animation"),c}_show(){this._primaryCursor.show();for(let c=0,M=this._secondaryCursors.length;c<M;c++)this._secondaryCursors[c].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let c=0,M=this._secondaryCursors.length;c<M;c++)this._secondaryCursors[c].hide();this._isVisible=!1}prepareRender(c){this._primaryCursor.prepareRender(c);for(let M=0,U=this._secondaryCursors.length;M<U;M++)this._secondaryCursors[M].prepareRender(c)}render(c){const M=[];let U=0;const X=this._primaryCursor.render(c);X&&(M[U++]=X);for(let Te=0,Ue=this._secondaryCursors.length;Te<Ue;Te++){const gt=this._secondaryCursors[Te].render(c);gt&&(M[U++]=gt)}this._renderData=M}getLastRenderData(){return this._renderData}}return Vt.BLINK_INTERVAL=500,Vt})();(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(Qi.n0);if(c){let M=Vt.getColor(Qi.fY);M||(M=c.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${c}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${c}; border-color: ${c}; color: ${M}; }`),(0,bt.c3)(Vt.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${M}; border-right: 1px solid ${M}; }`)}});const Ro=()=>{throw new Error("Invalid change accessor")};class Xo extends ge{constructor(i){super(i);const c=this._context.configuration.options,M=c.get(133);this._lineHeight=c.get(61),this._contentWidth=M.contentWidth,this._contentLeft=M.contentLeft,this.domNode=(0,Je.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,Je.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const i=this._context.viewLayout.getWhitespaces(),c=new Map;for(const U of i)c.set(U.id,U);let M=!1;return this._context.viewModel.changeWhitespace(U=>{const X=Object.keys(this._zones);for(let Te=0,Ue=X.length;Te<Ue;Te++){const gt=X[Te],xt=this._zones[gt],kt=this._computeWhitespaceProps(xt.delegate);xt.isInHiddenArea=kt.isInHiddenArea;const Qt=c.get(gt);Qt&&(Qt.afterLineNumber!==kt.afterViewLineNumber||Qt.height!==kt.heightInPx)&&(U.changeOneWhitespace(gt,kt.afterViewLineNumber,kt.heightInPx),this._safeCallOnComputedHeight(xt.delegate,kt.heightInPx),M=!0)}}),M}onConfigurationChanged(i){const c=this._context.configuration.options,M=c.get(133);return this._lineHeight=c.get(61),this._contentWidth=M.contentWidth,this._contentLeft=M.contentLeft,i.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(i){return this._recomputeWhitespacesProps()}onLinesDeleted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}onLinesInserted(i){return!0}_getZoneOrdinal(i){return typeof i.afterColumn<"u"?i.afterColumn:1e4}_computeWhitespaceProps(i){if(0===i.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(i),minWidthInPx:this._minWidthInPixels(i)};let c,M;if(typeof i.afterColumn<"u")c=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:i.afterColumn});else{const Te=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:1}).lineNumber;c=new oe.L(Te,this._context.viewModel.model.getLineMaxColumn(Te))}M=c.column===this._context.viewModel.model.getLineMaxColumn(c.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber,column:c.column+1});const U=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c,i.afterColumnAffinity),X=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(M);return{isInHiddenArea:!X,afterViewLineNumber:U.lineNumber,heightInPx:X?this._heightInPixels(i):0,minWidthInPx:this._minWidthInPixels(i)}}changeViewZones(i){let c=!1;return this._context.viewModel.changeWhitespace(M=>{const U={addZone:X=>(c=!0,this._addZone(M,X)),removeZone:X=>{X&&(c=this._removeZone(M,X)||c)},layoutZone:X=>{X&&(c=this._layoutZone(M,X)||c)}};(function zo(Vt,i){try{return Vt(i)}catch(c){(0,A.dL)(c)}})(i,U),U.addZone=Ro,U.removeZone=Ro,U.layoutZone=Ro}),c}_addZone(i,c){const M=this._computeWhitespaceProps(c),X={whitespaceId:i.insertWhitespace(M.afterViewLineNumber,this._getZoneOrdinal(c),M.heightInPx,M.minWidthInPx),delegate:c,isInHiddenArea:M.isInHiddenArea,isVisible:!1,domNode:(0,Je.X)(c.domNode),marginDomNode:c.marginDomNode?(0,Je.X)(c.marginDomNode):null};return this._safeCallOnComputedHeight(X.delegate,M.heightInPx),X.domNode.setPosition("absolute"),X.domNode.domNode.style.width="100%",X.domNode.setDisplay("none"),X.domNode.setAttribute("monaco-view-zone",X.whitespaceId),this.domNode.appendChild(X.domNode),X.marginDomNode&&(X.marginDomNode.setPosition("absolute"),X.marginDomNode.domNode.style.width="100%",X.marginDomNode.setDisplay("none"),X.marginDomNode.setAttribute("monaco-view-zone",X.whitespaceId),this.marginDomNode.appendChild(X.marginDomNode)),this._zones[X.whitespaceId]=X,this.setShouldRender(),X.whitespaceId}_removeZone(i,c){if(this._zones.hasOwnProperty(c)){const M=this._zones[c];return delete this._zones[c],i.removeWhitespace(M.whitespaceId),M.domNode.removeAttribute("monaco-visible-view-zone"),M.domNode.removeAttribute("monaco-view-zone"),M.domNode.domNode.parentNode.removeChild(M.domNode.domNode),M.marginDomNode&&(M.marginDomNode.removeAttribute("monaco-visible-view-zone"),M.marginDomNode.removeAttribute("monaco-view-zone"),M.marginDomNode.domNode.parentNode.removeChild(M.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(i,c){if(this._zones.hasOwnProperty(c)){const M=this._zones[c],U=this._computeWhitespaceProps(M.delegate);return M.isInHiddenArea=U.isInHiddenArea,i.changeOneWhitespace(M.whitespaceId,U.afterViewLineNumber,U.heightInPx),this._safeCallOnComputedHeight(M.delegate,U.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(i){return!!this._zones.hasOwnProperty(i)&&!!this._zones[i].delegate.suppressMouseDown}_heightInPixels(i){return"number"==typeof i.heightInPx?i.heightInPx:"number"==typeof i.heightInLines?this._lineHeight*i.heightInLines:this._lineHeight}_minWidthInPixels(i){return"number"==typeof i.minWidthInPx?i.minWidthInPx:0}_safeCallOnComputedHeight(i,c){if("function"==typeof i.onComputedHeight)try{i.onComputedHeight(c)}catch(M){(0,A.dL)(M)}}_safeCallOnDomNodeTop(i,c){if("function"==typeof i.onDomNodeTop)try{i.onDomNodeTop(c)}catch(M){(0,A.dL)(M)}}prepareRender(i){}render(i){const c=i.viewportData.whitespaceViewportData,M={};let U=!1;for(const Te of c)this._zones[Te.id].isInHiddenArea||(M[Te.id]=Te,U=!0);const X=Object.keys(this._zones);for(let Te=0,Ue=X.length;Te<Ue;Te++){const gt=X[Te],xt=this._zones[gt];let kt=0,Qt=0,hn="none";M.hasOwnProperty(gt)?(kt=M[gt].verticalOffset-i.bigNumbersDelta,Qt=M[gt].height,hn="block",xt.isVisible||(xt.domNode.setAttribute("monaco-visible-view-zone","true"),xt.isVisible=!0),this._safeCallOnDomNodeTop(xt.delegate,i.getScrolledTopFromAbsoluteTop(M[gt].verticalOffset))):(xt.isVisible&&(xt.domNode.removeAttribute("monaco-visible-view-zone"),xt.isVisible=!1),this._safeCallOnDomNodeTop(xt.delegate,i.getScrolledTopFromAbsoluteTop(-1e6))),xt.domNode.setTop(kt),xt.domNode.setHeight(Qt),xt.domNode.setDisplay(hn),xt.marginDomNode&&(xt.marginDomNode.setTop(kt),xt.marginDomNode.setHeight(Qt),xt.marginDomNode.setDisplay(hn))}U&&(this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class js{constructor(i){this._theme=i}get type(){return this._theme.type}get value(){return this._theme}update(i){this._theme=i}getColor(i){return this._theme.getColor(i)}}class wr{constructor(i,c,M){this.configuration=i,this.theme=new js(c),this.viewModel=M,this.viewLayout=M.viewLayout}addEventHandler(i){this.viewModel.addViewEventHandler(i)}removeEventHandler(i){this.viewModel.removeViewEventHandler(i)}}class Dr{constructor(i,c,M,U){this.selections=i,this.startLineNumber=0|c.startLineNumber,this.endLineNumber=0|c.endLineNumber,this.relativeVerticalOffset=c.relativeVerticalOffset,this.bigNumbersDelta=0|c.bigNumbersDelta,this.whitespaceViewportData=M,this._model=U,this.visibleRange=new we.e(c.startLineNumber,this._model.getLineMinColumn(c.startLineNumber),c.endLineNumber,this._model.getLineMaxColumn(c.endLineNumber))}getViewLineRenderingData(i){return this._model.getViewportViewLineRenderingData(this.visibleRange,i)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var ea=e(54213),ca={};ca.styleTagTransform=g(),ca.setAttributes=u(),ca.insert=r().bind(null,"head"),ca.domAPI=D(),ca.insertStyleElement=d(),b()(ea.Z,ca);class al extends ge{constructor(i){super(i),this.blocks=[],this.contentWidth=-1,this.domNode=(0,Je.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let i=!1;const M=this._context.configuration.options.get(133),U=M.contentWidth-M.verticalScrollbarWidth;return this.contentWidth!==U&&(this.contentWidth=U,i=!0),i}dispose(){super.dispose()}onConfigurationChanged(i){return this.update()}onScrollChanged(i){return i.scrollTopChanged||i.scrollLeftChanged}onDecorationsChanged(i){return!0}onZonesChanged(i){return!0}prepareRender(i){}render(i){let c=0;const M=i.getDecorationsInViewport();for(const U of M){if(!U.options.blockClassName)continue;let X=this.blocks[c];X||(X=this.blocks[c]=(0,Je.X)(document.createElement("div")),this.domNode.appendChild(X));const Te=i.getVerticalOffsetForLineNumber(U.range.startLineNumber),Ue=i.getVerticalOffsetForLineNumber(U.range.endLineNumber+1);X.setClassName("blockDecorations-block "+U.options.blockClassName),X.setLeft(i.scrollLeft),X.setWidth(this.contentWidth),X.setTop(Te),X.setHeight(Ue-Te),c++}for(let U=c;U<this.blocks.length;U++)this.blocks[U].domNode.remove();this.blocks.length=c}}class or extends pe{constructor(i,c,M,U,X,Te){super(),this._selections=[new Ke.Y(1,1,1,1)],this._renderAnimationFrame=null;const Ue=new sn(c,U,X,i);this._context=new wr(c,M,U),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Ho(this._context,Ue,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,Je.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,Je.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,Je.X)(document.createElement("div")),de.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new ct(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new It(this._context,this._linesContent),this._viewZones=new Xo(this._context),this._viewParts.push(this._viewZones);const gt=new Yi(this._context);this._viewParts.push(gt);const xt=new Es(this._context);this._viewParts.push(xt);const kt=new In(this._context);this._viewParts.push(kt),kt.addDynamicOverlay(new Pi(this._context)),kt.addDynamicOverlay(new ve(this._context)),kt.addDynamicOverlay(new Ui(this._context)),kt.addDynamicOverlay(new _e(this._context));const Qt=new bn(this._context);this._viewParts.push(Qt),Qt.addDynamicOverlay(new Ii(this._context)),Qt.addDynamicOverlay(new Xn(this._context)),Qt.addDynamicOverlay(new Hi(this._context)),Qt.addDynamicOverlay(new gi(this._context)),Qt.addDynamicOverlay(new xo(this._context));const hn=new ro(this._context);hn.getDomNode().appendChild(this._viewZones.marginDomNode),hn.getDomNode().appendChild(Qt.getDomNode()),this._viewParts.push(hn),this._contentWidgets=new Wt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Mi(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new ar(this._context),this._viewParts.push(this._overlayWidgets);const fn=new $r(this._context);this._viewParts.push(fn);const On=new al(this._context);this._viewParts.push(On);const Un=new ma(this._context);if(this._viewParts.push(Un),gt){const jn=this._scrollbar.getOverviewRulerLayoutInfo();jn.parent.insertBefore(gt.getDomNode(),jn.insertBefore)}this._linesContent.appendChild(kt.getDomNode()),this._linesContent.appendChild(fn.domNode),this._linesContent.appendChild(On.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(hn.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(xt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Un.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),Te?Te.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new wt(this._context,Ue,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:i=>{this._textAreaHandler.textArea.domNode.dispatchEvent(i)},getLastRenderData:()=>{const i=this._viewCursors.getLastRenderData()||[],c=this._textAreaHandler.getLastRenderData();return new Ht(i,c)},shouldSuppressMouseDownOnViewZone:i=>this._viewZones.shouldSuppressMouseDownOnViewZone(i),shouldSuppressMouseDownOnWidget:i=>this._contentWidgets.shouldSuppressMouseDownOnWidget(i),getPositionFromDOMInfo:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(i,c)),visibleRangeForPosition:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new oe.L(i,c))),getLineWidth:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(i))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(i))}}_applyLayout(){const c=this._context.configuration.options.get(133);this.domNode.setWidth(c.width),this.domNode.setHeight(c.height),this._overflowGuardContainer.setWidth(c.width),this._overflowGuardContainer.setHeight(c.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const i=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,Wi.m6)(this._context.theme.type)+i}handleEvents(i){super.handleEvents(i),this._scheduleRender()}onConfigurationChanged(i){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(i){return this._selections=i.selections,!1}onFocusChanged(i){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(i){return this._context.theme.update(i.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const i of this._viewParts)i.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=x.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function Mr(Vt){try{return Vt()}catch(i){(0,A.dL)(i)}}(()=>this._actualRender())}_getViewPartsToRender(){const i=[];let c=0;for(const M of this._viewParts)M.shouldRender()&&(i[c++]=M);return i}_actualRender(){if(!x.Uw(this.domNode.domNode))return;let i=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===i.length)return;const c=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);const M=new Dr(this._selections,c,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(M),this._viewLines.shouldRender()&&(this._viewLines.renderText(M),this._viewLines.onDidRender(),i=this._getViewPartsToRender());const U=new ye(this._context.viewLayout,M,this._viewLines);for(const X of i)X.prepareRender(U);for(const X of i)X.render(U),X.onDidRender()}delegateVerticalScrollbarPointerDown(i){this._scrollbar.delegateVerticalScrollbarPointerDown(i)}restoreState(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:i.scrollLeft},1)}getOffsetForColumn(i,c){const M=this._context.viewModel.model.validatePosition({lineNumber:i,column:c}),U=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(M);this._flushAccumulatedAndRenderNow();const X=this._viewLines.visibleRangeForPosition(new oe.L(U.lineNumber,U.column));return X?X.left:-1}getTargetAtClientPoint(i,c){const M=this._pointerHandler.getTargetAtClientPoint(i,c);return M?dn.convertViewToModelMouseTarget(M,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(i){return new xr(this._context,i)}change(i){this._viewZones.changeViewZones(i),this._scheduleRender()}render(i,c){if(c){this._viewLines.forceShouldRender();for(const M of this._viewParts)M.forceShouldRender()}i?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(i){this._textAreaHandler.setAriaOptions(i)}addContentWidget(i){this._contentWidgets.addWidget(i.widget),this.layoutContentWidget(i),this._scheduleRender()}layoutContentWidget(i){var c,M;let U=i.position&&i.position.range||null;if(null===U){const Te=i.position?i.position.position:null;null!==Te&&(U=new we.e(Te.lineNumber,Te.column,Te.lineNumber,Te.column))}this._contentWidgets.setWidgetPosition(i.widget,U,i.position?i.position.preference:null,null!==(M=null===(c=i.position)||void 0===c?void 0:c.positionAffinity)&&void 0!==M?M:null),this._scheduleRender()}removeContentWidget(i){this._contentWidgets.removeWidget(i.widget),this._scheduleRender()}addOverlayWidget(i){this._overlayWidgets.addWidget(i.widget),this.layoutOverlayWidget(i),this._scheduleRender()}layoutOverlayWidget(i){this._overlayWidgets.setWidgetPosition(i.widget,i.position?i.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(i){this._overlayWidgets.removeWidget(i.widget),this._scheduleRender()}}var Zo=e(58841);class ja{constructor(i){this._selTrackedRange=null,this._trackSelection=!0,this._setState(i,new Zo.rS(new we.e(1,1,1,1),0,new oe.L(1,1),0),new Zo.rS(new we.e(1,1,1,1),0,new oe.L(1,1),0))}dispose(i){this._removeTrackedRange(i)}startTrackingSelection(i){this._trackSelection=!0,this._updateTrackedRange(i)}stopTrackingSelection(i){this._trackSelection=!1,this._removeTrackedRange(i)}_updateTrackedRange(i){this._trackSelection&&(this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(i){this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Zo.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(i){const c=i.model._getTrackedRange(this._selTrackedRange);return Ke.Y.fromRange(c,this.modelState.selection.getDirection())}ensureValidState(i){this._setState(i,this.modelState,this.viewState)}setState(i,c,M){this._setState(i,c,M)}static _validatePositionWithCache(i,c,M,U){return c.equals(M)?U:i.normalizePosition(c,2)}static _validateViewState(i,c){const M=c.position,U=c.selectionStart.getStartPosition(),X=c.selectionStart.getEndPosition(),Te=i.normalizePosition(M,2),Ue=this._validatePositionWithCache(i,U,M,Te),gt=this._validatePositionWithCache(i,X,U,Ue);return M.equals(Te)&&U.equals(Ue)&&X.equals(gt)?c:new Zo.rS(we.e.fromPositions(Ue,gt),c.selectionStartLeftoverVisibleColumns+U.column-Ue.column,Te,c.leftoverVisibleColumns+M.column-Te.column)}_setState(i,c,M){if(M&&(M=ja._validateViewState(i.viewModel,M)),c){const U=i.model.validateRange(c.selectionStart),X=c.selectionStart.equalsRange(U)?c.selectionStartLeftoverVisibleColumns:0,Te=i.model.validatePosition(c.position),Ue=c.position.equals(Te)?c.leftoverVisibleColumns:0;c=new Zo.rS(U,X,Te,Ue)}else{if(!M)return;const U=i.model.validateRange(i.coordinatesConverter.convertViewRangeToModelRange(M.selectionStart)),X=i.model.validatePosition(i.coordinatesConverter.convertViewPositionToModelPosition(M.position));c=new Zo.rS(U,M.selectionStartLeftoverVisibleColumns,X,M.leftoverVisibleColumns)}if(M){const U=i.coordinatesConverter.validateViewRange(M.selectionStart,c.selectionStart),X=i.coordinatesConverter.validateViewPosition(M.position,c.position);M=new Zo.rS(U,c.selectionStartLeftoverVisibleColumns,X,c.leftoverVisibleColumns)}else{const U=i.coordinatesConverter.convertModelPositionToViewPosition(new oe.L(c.selectionStart.startLineNumber,c.selectionStart.startColumn)),X=i.coordinatesConverter.convertModelPositionToViewPosition(new oe.L(c.selectionStart.endLineNumber,c.selectionStart.endColumn)),Te=new we.e(U.lineNumber,U.column,X.lineNumber,X.column),Ue=i.coordinatesConverter.convertModelPositionToViewPosition(c.position);M=new Zo.rS(Te,c.selectionStartLeftoverVisibleColumns,Ue,c.leftoverVisibleColumns)}this.modelState=c,this.viewState=M,this._updateTrackedRange(i)}}class Pr{constructor(i){this.context=i,this.cursors=[new ja(i)],this.lastAddedCursorIndex=0}dispose(){for(const i of this.cursors)i.dispose(this.context)}startTrackingSelections(){for(const i of this.cursors)i.startTrackingSelection(this.context)}stopTrackingSelections(){for(const i of this.cursors)i.stopTrackingSelection(this.context)}updateContext(i){this.context=i}ensureValidState(){for(const i of this.cursors)i.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(i=>i.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(i=>i.asCursorState())}getViewPositions(){return this.cursors.map(i=>i.viewState.position)}getTopMostViewPosition(){return(0,N.VJ)(this.cursors,(0,N.tT)(i=>i.viewState.position,oe.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,N.jV)(this.cursors,(0,N.tT)(i=>i.viewState.position,oe.L.compare)).viewState.position}getSelections(){return this.cursors.map(i=>i.modelState.selection)}getViewSelections(){return this.cursors.map(i=>i.viewState.selection)}setSelections(i){this.setStates(Zo.Vi.fromModelSelections(i))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(i){null!==i&&(this.cursors[0].setState(this.context,i[0].modelState,i[0].viewState),this._setSecondaryStates(i.slice(1)))}_setSecondaryStates(i){const c=this.cursors.length-1,M=i.length;if(c<M){const U=M-c;for(let X=0;X<U;X++)this._addSecondaryCursor()}else if(c>M){const U=c-M;for(let X=0;X<U;X++)this._removeSecondaryCursor(this.cursors.length-2)}for(let U=0;U<M;U++)this.cursors[U+1].setState(this.context,i[U].modelState,i[U].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new ja(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(i){this.lastAddedCursorIndex>=i+1&&this.lastAddedCursorIndex--,this.cursors[i+1].dispose(this.context),this.cursors.splice(i+1,1)}normalize(){if(1===this.cursors.length)return;const i=this.cursors.slice(0),c=[];for(let M=0,U=i.length;M<U;M++)c.push({index:M,selection:i[M].modelState.selection});c.sort((0,N.tT)(M=>M.selection,we.e.compareRangesUsingStarts));for(let M=0;M<c.length-1;M++){const U=c[M],X=c[M+1],Te=U.selection,Ue=X.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let gt;if(gt=Ue.isEmpty()||Te.isEmpty()?Ue.getStartPosition().isBeforeOrEqual(Te.getEndPosition()):Ue.getStartPosition().isBefore(Te.getEndPosition()),gt){const xt=U.index<X.index?M:M+1,kt=U.index<X.index?M+1:M,Qt=c[kt].index,hn=c[xt].index,fn=c[kt].selection,On=c[xt].selection;if(!fn.equalsSelection(On)){const Un=fn.plusRange(On),ai=On.selectionStartLineNumber===On.startLineNumber&&On.selectionStartColumn===On.startColumn;let mi,Si;Qt===this.lastAddedCursorIndex?(mi=fn.selectionStartLineNumber===fn.startLineNumber&&fn.selectionStartColumn===fn.startColumn,this.lastAddedCursorIndex=hn):mi=ai,Si=mi?new Ke.Y(Un.startLineNumber,Un.startColumn,Un.endLineNumber,Un.endColumn):new Ke.Y(Un.endLineNumber,Un.endColumn,Un.startLineNumber,Un.startColumn),c[xt].selection=Si;const Ki=Zo.Vi.fromModelSelection(Si);i[hn].setState(this.context,Ki.modelState,Ki.viewState)}for(const Un of c)Un.index>Qt&&Un.index--;i.splice(Qt,1),c.splice(kt,1),this._removeSecondaryCursor(Qt-1),M--}}}}class Ar{constructor(i,c,M,U){this._cursorContextBrand=void 0,this.model=i,this.viewModel=c,this.coordinatesConverter=M,this.cursorConfig=U}}var Nr=e(23292),vr=e(16649),zi=e(81754);class ll{constructor(){this.type=0}}class ms{constructor(){this.type=1}}class Ka{constructor(i){this.type=2,this._source=i}hasChanged(i){return this._source.hasChanged(i)}}class pa{constructor(i,c){this.type=3,this.selections=i,this.modelSelections=c}}class es{constructor(i){this.type=4,i?(this.affectsMinimap=i.affectsMinimap,this.affectsOverviewRuler=i.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class ta{constructor(){this.type=5}}class zt{constructor(i){this.type=6,this.isFocused=i}}class ke{constructor(){this.type=7}}class tt{constructor(){this.type=8}}class Pt{constructor(i,c){this.fromLineNumber=i,this.count=c,this.type=9}}class Jt{constructor(i,c){this.type=10,this.fromLineNumber=i,this.toLineNumber=c}}class _n{constructor(i,c){this.type=11,this.fromLineNumber=i,this.toLineNumber=c}}class yn{constructor(i,c,M,U,X,Te,Ue){this.source=i,this.minimalReveal=c,this.range=M,this.selections=U,this.verticalType=X,this.revealHorizontal=Te,this.scrollType=Ue,this.type=12}}class Rn{constructor(i){this.type=13,this.scrollWidth=i.scrollWidth,this.scrollLeft=i.scrollLeft,this.scrollHeight=i.scrollHeight,this.scrollTop=i.scrollTop,this.scrollWidthChanged=i.scrollWidthChanged,this.scrollLeftChanged=i.scrollLeftChanged,this.scrollHeightChanged=i.scrollHeightChanged,this.scrollTopChanged=i.scrollTopChanged}}class qn{constructor(i){this.theme=i,this.type=14}}class Zn{constructor(i){this.type=15,this.ranges=i}}class ei{constructor(){this.type=16}}class ti{constructor(){this.type=17}}class Ti extends W.JT{constructor(){super(),this._onEvent=this._register(new k.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(i){this._addOutgoingEvent(i),this._emitOutgoingEvents()}_addOutgoingEvent(i){for(let c=0,M=this._outgoingEvents.length;c<M;c++){const U=this._outgoingEvents[c].kind===i.kind?this._outgoingEvents[c].attemptToMerge(i):null;if(U)return void(this._outgoingEvents[c]=U)}this._outgoingEvents.push(i)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const i=this._outgoingEvents.shift();i.isNoOp()||this._onEvent.fire(i)}}addViewEventHandler(i){for(let c=0,M=this._eventHandlers.length;c<M;c++)this._eventHandlers[c]===i&&console.warn("Detected duplicate listener in ViewEventDispatcher",i);this._eventHandlers.push(i)}removeViewEventHandler(i){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===i){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new xi),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const i=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const M of i)this._addOutgoingEvent(M);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(i){try{this.beginEmitViewEvents().emitViewEvent(i)}finally{this.endEmitViewEvents()}}_emitMany(i){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(i):i,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const i=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const M of c)M.handleEvents(i)}}}class xi{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(i){this.viewEvents.push(i)}emitOutgoingEvent(i){this.outgoingEvents.push(i)}}class ki{constructor(i,c,M,U){this.kind=0,this._oldContentWidth=i,this._oldContentHeight=c,this.contentWidth=M,this.contentHeight=U,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(i){return i.kind!==this.kind?null:new ki(this._oldContentWidth,this._oldContentHeight,i.contentWidth,i.contentHeight)}}class qi{constructor(i,c){this.kind=1,this.oldHasFocus=i,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(i){return i.kind!==this.kind?null:new qi(this.oldHasFocus,i.hasFocus)}}class po{constructor(i,c,M,U,X,Te,Ue,gt){this.kind=2,this._oldScrollWidth=i,this._oldScrollLeft=c,this._oldScrollHeight=M,this._oldScrollTop=U,this.scrollWidth=X,this.scrollLeft=Te,this.scrollHeight=Ue,this.scrollTop=gt,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(i){return i.kind!==this.kind?null:new po(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,i.scrollWidth,i.scrollLeft,i.scrollHeight,i.scrollTop)}}class No{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Io{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class To{constructor(i,c,M,U,X,Te,Ue){this.kind=6,this.oldSelections=i,this.selections=c,this.oldModelVersionId=M,this.modelVersionId=U,this.source=X,this.reason=Te,this.reachedMaxCursorCount=Ue}static _selectionsAreEqual(i,c){if(!i&&!c)return!0;if(!i||!c)return!1;const M=i.length;if(M!==c.length)return!1;for(let X=0;X<M;X++)if(!i[X].equalsSelection(c[X]))return!1;return!0}isNoOp(){return To._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(i){return i.kind!==this.kind?null:new To(this.oldSelections,i.selections,this.oldModelVersionId,i.modelVersionId,i.source,i.reason,this.reachedMaxCursorCount||i.reachedMaxCursorCount)}}class co{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Jo{constructor(i){this.event=i,this.kind=7}isNoOp(){return!1}attemptToMerge(i){return null}}class Uo{constructor(i){this.event=i,this.kind=8}isNoOp(){return!1}attemptToMerge(i){return null}}class wo{constructor(i){this.event=i,this.kind=9}isNoOp(){return!1}attemptToMerge(i){return null}}class no{constructor(i){this.event=i,this.kind=10}isNoOp(){return!1}attemptToMerge(i){return null}}class Eo{constructor(i){this.event=i,this.kind=11}isNoOp(){return!1}attemptToMerge(i){return null}}class Qo{constructor(i){this.event=i,this.kind=12}isNoOp(){return!1}attemptToMerge(i){return null}}let qo=(()=>{class Vt extends W.JT{constructor(c,M,U,X){super(),this._model=c,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=M,this._coordinatesConverter=U,this.context=new Ar(this._model,this._viewModel,this._coordinatesConverter,X),this._cursors=new Pr(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,W.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(c){this.context=new Ar(this._model,this._viewModel,this._coordinatesConverter,c),this._cursors.updateContext(this.context)}onLineMappingChanged(c){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(c,"viewModel",0,this.getCursorStates())}setHasFocus(c){this._hasFocus=c}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const c=this._cursors.getSelections();for(let M=0;M<this._autoClosedActions.length;M++){const U=this._autoClosedActions[M];U.isValid(c)||(U.dispose(),this._autoClosedActions.splice(M,1),M--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(c,M,U,X){let Te=!1;null!==X&&X.length>Vt.MAX_CURSOR_COUNT&&(X=X.slice(0,Vt.MAX_CURSOR_COUNT),Te=!0);const Ue=ls.from(this._model,this);return this._cursors.setStates(X),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,M,U,Ue,Te)}setCursorColumnSelectData(c){this._columnSelectData=c}revealPrimary(c,M,U,X,Te,Ue){const gt=this._cursors.getViewPositions();let xt=null,kt=null;gt.length>1?kt=this._cursors.getViewSelections():xt=we.e.fromPositions(gt[0],gt[0]),c.emitViewEvent(new yn(M,U,xt,kt,X,Te,Ue))}saveState(){const c=[],M=this._cursors.getSelections();for(let U=0,X=M.length;U<X;U++){const Te=M[U];c.push({inSelectionMode:!Te.isEmpty(),selectionStart:{lineNumber:Te.selectionStartLineNumber,column:Te.selectionStartColumn},position:{lineNumber:Te.positionLineNumber,column:Te.positionColumn}})}return c}restoreState(c,M){const U=[];for(let X=0,Te=M.length;X<Te;X++){const Ue=M[X];let gt=1,xt=1;Ue.position&&Ue.position.lineNumber&&(gt=Ue.position.lineNumber),Ue.position&&Ue.position.column&&(xt=Ue.position.column);let kt=gt,Qt=xt;Ue.selectionStart&&Ue.selectionStart.lineNumber&&(kt=Ue.selectionStart.lineNumber),Ue.selectionStart&&Ue.selectionStart.column&&(Qt=Ue.selectionStart.column),U.push({selectionStartLineNumber:kt,selectionStartColumn:Qt,positionLineNumber:gt,positionColumn:xt})}this.setStates(c,"restoreState",0,Zo.Vi.fromModelSelections(U)),this.revealPrimary(c,"restoreState",!1,0,!0,1)}onModelContentChanged(c,M){if(M instanceof zi.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(c,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const U=M.rawContentChangedEvent;if(this._knownModelVersionId=U.versionId,this._isHandling)return;const X=U.containsEvent(1);if(this._prevEditOperationType=0,X)this._cursors.dispose(),this._cursors=new Pr(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,"model",1,null,!1);else if(this._hasFocus&&U.resultingSelection&&U.resultingSelection.length>0){const Te=Zo.Vi.fromModelSelections(U.resultingSelection);this.setStates(c,"modelChange",U.isUndoing?5:U.isRedoing?6:2,Te)&&this.revealPrimary(c,"modelChange",!1,0,!0,0)}else{const Te=this._cursors.readSelectionFromMarkers();this.setStates(c,"modelChange",2,Zo.Vi.fromModelSelections(Te))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const c=this._cursors.getPrimaryCursor(),M=c.viewState.selectionStart.getStartPosition(),U=c.viewState.position;return{isReal:!1,fromViewLineNumber:M.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,M),toViewLineNumber:U.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,U)}}getSelections(){return this._cursors.getSelections()}setSelections(c,M,U,X){this.setStates(c,M,X,Zo.Vi.fromModelSelections(U))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(c){this._prevEditOperationType=c}_pushAutoClosedAction(c,M){const U=[],X=[];for(let gt=0,xt=c.length;gt<xt;gt++)U.push({range:c[gt],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),X.push({range:M[gt],options:{description:"auto-closed-enclosing",stickiness:1}});const Te=this._model.deltaDecorations([],U),Ue=this._model.deltaDecorations([],X);this._autoClosedActions.push(new Po(this._model,Te,Ue))}_executeEditOperation(c){if(!c)return;c.shouldPushStackElementBefore&&this._model.pushStackElement();const M=hs.executeCommands(this._model,this._cursors.getSelections(),c.commands);if(M){this._interpretCommandResult(M);const U=[],X=[];for(let Te=0;Te<c.commands.length;Te++){const Ue=c.commands[Te];Ue instanceof vr.g_&&Ue.enclosingRange&&Ue.closeCharacterRange&&(U.push(Ue.closeCharacterRange),X.push(Ue.enclosingRange))}U.length>0&&this._pushAutoClosedAction(U,X),this._prevEditOperationType=c.type}c.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(c){(!c||0===c.length)&&(c=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(c),this._cursors.normalize()}_emitStateChangedIfNecessary(c,M,U,X,Te){const Ue=ls.from(this._model,this);if(Ue.equals(X))return!1;const gt=this._cursors.getSelections(),xt=this._cursors.getViewSelections();if(c.emitViewEvent(new pa(xt,gt)),!X||X.cursorState.length!==Ue.cursorState.length||Ue.cursorState.some((kt,Qt)=>!kt.modelState.equals(X.cursorState[Qt].modelState))){const kt=X?X.cursorState.map(hn=>hn.modelState.selection):null;c.emitOutgoingEvent(new To(kt,gt,X?X.modelVersionId:0,Ue.modelVersionId,M||"keyboard",U,Te))}return!0}_findAutoClosingPairs(c){if(!c.length)return null;const M=[];for(let U=0,X=c.length;U<X;U++){const Te=c[U];if(!Te.text||Te.text.indexOf("\n")>=0)return null;const Ue=Te.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Ue)return null;const xt=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ue[1]);if(!xt||1!==xt.length)return null;const Qt=Te.text.length-Ue[2].length-1,hn=Te.text.lastIndexOf(xt[0].open,Qt-1);if(-1===hn)return null;M.push([hn,Qt])}return M}executeEdits(c,M,U,X){let Te=null;"snippet"===M&&(Te=this._findAutoClosingPairs(U)),Te&&(U[0]._isTracked=!0);const Ue=[],gt=[],xt=this._model.pushEditOperations(this.getSelections(),U,kt=>{if(Te)for(let hn=0,fn=Te.length;hn<fn;hn++){const[On,Un]=Te[hn],jn=kt[hn],ai=jn.range.startLineNumber,mi=jn.range.startColumn-1+On,Si=jn.range.startColumn-1+Un;Ue.push(new we.e(ai,Si+1,ai,Si+2)),gt.push(new we.e(ai,mi+1,ai,Si+2))}const Qt=X(kt);return Qt&&(this._isHandling=!0),Qt});xt&&(this._isHandling=!1,this.setSelections(c,M,xt,0)),Ue.length>0&&this._pushAutoClosedAction(Ue,gt)}_executeEdit(c,M,U,X=0){if(this.context.cursorConfig.readOnly)return;const Te=ls.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),c()}catch(Ue){(0,A.dL)(Ue)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(M,U,X,Te,!1)&&this.revealPrimary(M,U,!1,0,!0,0)}getAutoClosedCharacters(){return Po.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(c){this._compositionState=new ss(this._model,this.getSelections())}endComposition(c,M){const U=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{"keyboard"===M&&this._executeEditOperation(vr.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,U,this.getSelections(),this.getAutoClosedCharacters()))},c,M)}type(c,M,U){this._executeEdit(()=>{if("keyboard"===U){const X=M.length;let Te=0;for(;Te<X;){const Ue=Cn.vH(M,Te),gt=M.substr(Te,Ue);this._executeEditOperation(vr.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),gt)),Te+=Ue}}else this._executeEditOperation(vr.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),M))},c,U)}compositionType(c,M,U,X,Te,Ue){if(0!==M.length||0!==U||0!==X)this._executeEdit(()=>{this._executeEditOperation(vr.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),M,U,X,Te))},c,Ue);else if(0!==Te){const gt=this.getSelections().map(xt=>{const kt=xt.getPosition();return new Ke.Y(kt.lineNumber,kt.column+Te,kt.lineNumber,kt.column+Te)});this.setSelections(c,Ue,gt,0)}}paste(c,M,U,X,Te){this._executeEdit(()=>{this._executeEditOperation(vr.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),M,U,X||[]))},c,Te,4)}cut(c,M){this._executeEdit(()=>{this._executeEditOperation(Nr.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},c,M)}executeCommand(c,M,U){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Zo.Tp(0,[M],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,U)}executeCommands(c,M,U){this._executeEdit(()=>{this._executeEditOperation(new Zo.Tp(0,M,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,U)}}return Vt.MAX_CURSOR_COUNT=1e4,Vt})();class ls{constructor(i,c){this.modelVersionId=i,this.cursorState=c}static from(i,c){return new ls(i.getVersionId(),c.getCursorStates())}equals(i){if(!i||this.modelVersionId!==i.modelVersionId||this.cursorState.length!==i.cursorState.length)return!1;for(let c=0,M=this.cursorState.length;c<M;c++)if(!this.cursorState[c].equals(i.cursorState[c]))return!1;return!0}}class Po{constructor(i,c,M){this._model=i,this._autoClosedCharactersDecorations=c,this._autoClosedEnclosingDecorations=M}static getAllAutoClosedCharacters(i){let c=[];for(const M of i)c=c.concat(M.getAutoClosedCharactersRanges());return c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const i=[];for(let c=0;c<this._autoClosedCharactersDecorations.length;c++){const M=this._model.getDecorationRange(this._autoClosedCharactersDecorations[c]);M&&i.push(M)}return i}isValid(i){const c=[];for(let M=0;M<this._autoClosedEnclosingDecorations.length;M++){const U=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[M]);if(U&&(c.push(U),U.startLineNumber!==U.endLineNumber))return!1}c.sort(we.e.compareRangesUsingStarts),i.sort(we.e.compareRangesUsingStarts);for(let M=0;M<i.length;M++)if(M>=c.length||!c[M].strictContainsRange(i[M]))return!1;return!0}}class hs{static executeCommands(i,c,M){const U={model:i,selectionsBefore:c,trackedRanges:[],trackedRangesDirection:[]},X=this._innerExecuteCommands(U,M);for(let Te=0,Ue=U.trackedRanges.length;Te<Ue;Te++)U.model._setTrackedRange(U.trackedRanges[Te],null,0);return X}static _innerExecuteCommands(i,c){if(this._arrayIsEmpty(c))return null;const M=this._getEditOperations(i,c);if(0===M.operations.length)return null;const U=M.operations,X=this._getLoserCursorMap(U);if(X.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Te=[];for(let xt=0,kt=U.length;xt<kt;xt++)X.hasOwnProperty(U[xt].identifier.major.toString())||Te.push(U[xt]);M.hadTrackedEditOperation&&Te.length>0&&(Te[0]._isTracked=!0);let Ue=i.model.pushEditOperations(i.selectionsBefore,Te,xt=>{const kt=[];for(let fn=0;fn<i.selectionsBefore.length;fn++)kt[fn]=[];for(const fn of xt)fn.identifier&&kt[fn.identifier.major].push(fn);const Qt=(fn,On)=>fn.identifier.minor-On.identifier.minor,hn=[];for(let fn=0;fn<i.selectionsBefore.length;fn++)kt[fn].length>0?(kt[fn].sort(Qt),hn[fn]=c[fn].computeCursorState(i.model,{getInverseEditOperations:()=>kt[fn],getTrackedSelection:On=>{const Un=parseInt(On,10),jn=i.model._getTrackedRange(i.trackedRanges[Un]);return 0===i.trackedRangesDirection[Un]?new Ke.Y(jn.startLineNumber,jn.startColumn,jn.endLineNumber,jn.endColumn):new Ke.Y(jn.endLineNumber,jn.endColumn,jn.startLineNumber,jn.startColumn)}})):hn[fn]=i.selectionsBefore[fn];return hn});Ue||(Ue=i.selectionsBefore);const gt=[];for(const xt in X)X.hasOwnProperty(xt)&&gt.push(parseInt(xt,10));gt.sort((xt,kt)=>kt-xt);for(const xt of gt)Ue.splice(xt,1);return Ue}static _arrayIsEmpty(i){for(let c=0,M=i.length;c<M;c++)if(i[c])return!1;return!0}static _getEditOperations(i,c){let M=[],U=!1;for(let X=0,Te=c.length;X<Te;X++){const Ue=c[X];if(Ue){const gt=this._getEditOperationsFromCommand(i,X,Ue);M=M.concat(gt.operations),U=U||gt.hadTrackedEditOperation}}return{operations:M,hadTrackedEditOperation:U}}static _getEditOperationsFromCommand(i,c,M){const U=[];let X=0;const Te=(Qt,hn,fn=!1)=>{we.e.isEmpty(Qt)&&""===hn||U.push({identifier:{major:c,minor:X++},range:Qt,text:hn,forceMoveMarkers:fn,isAutoWhitespaceEdit:M.insertsAutoWhitespace})};let Ue=!1;const kt={addEditOperation:Te,addTrackedEditOperation:(Qt,hn,fn)=>{Ue=!0,Te(Qt,hn,fn)},trackSelection:(Qt,hn)=>{const fn=Ke.Y.liftSelection(Qt);let On;if(fn.isEmpty())if("boolean"==typeof hn)On=hn?2:3;else{const ai=i.model.getLineMaxColumn(fn.startLineNumber);On=fn.startColumn===ai?2:3}else On=1;const Un=i.trackedRanges.length,jn=i.model._setTrackedRange(null,fn,On);return i.trackedRanges[Un]=jn,i.trackedRangesDirection[Un]=fn.getDirection(),Un.toString()}};try{M.getEditOperations(i.model,kt)}catch(Qt){return(0,A.dL)(Qt),{operations:[],hadTrackedEditOperation:!1}}return{operations:U,hadTrackedEditOperation:Ue}}static _getLoserCursorMap(i){(i=i.slice(0)).sort((M,U)=>-we.e.compareRangesUsingEnds(M.range,U.range));const c={};for(let M=1;M<i.length;M++){const U=i[M-1],X=i[M];if(we.e.getStartPosition(U.range).isBefore(we.e.getEndPosition(X.range))){let Te;Te=U.identifier.major>X.identifier.major?U.identifier.major:X.identifier.major,c[Te.toString()]=!0;for(let Ue=0;Ue<i.length;Ue++)i[Ue].identifier.major===Te&&(i.splice(Ue,1),Ue<M&&M--,Ue--);M>0&&M--}}return c}}class Ks{constructor(i,c,M){this.text=i,this.startSelection=c,this.endSelection=M}}class ss{constructor(i,c){this._original=ss._capture(i,c)}static _capture(i,c){const M=[];for(const U of c){if(U.startLineNumber!==U.endLineNumber)return null;M.push(new Ks(i.getLineContent(U.startLineNumber),U.startColumn-1,U.endColumn-1))}return M}deduceOutcome(i,c){if(!this._original)return null;const M=ss._capture(i,c);if(!M||this._original.length!==M.length)return null;const U=[];for(let X=0,Te=this._original.length;X<Te;X++)U.push(ss._deduceOutcome(this._original[X],M[X]));return U}static _deduceOutcome(i,c){const M=Math.min(i.startSelection,c.startSelection,Cn.Mh(i.text,c.text)),U=Math.min(i.text.length-i.endSelection,c.text.length-c.endSelection,Cn.P1(i.text,c.text)),X=i.text.substring(M,i.text.length-U),Te=c.text.substring(M,c.text.length-U);return new vr.Nu(X,i.startSelection-M,i.endSelection-M,Te,c.startSelection-M,c.endSelection-M)}}var zs=e(56289),lr=e(99083),jo=e(72325),ur=e(53727),$s=e(61669),Gr=e(22183),Ta=e(79257);class ua{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(i){this._hasPending=!0,this._inserts.push(i)}change(i){this._hasPending=!0,this._changes.push(i)}remove(i){this._hasPending=!0,this._removes.push(i)}mustCommit(){return this._hasPending}commit(i){if(!this._hasPending)return;const c=this._inserts,M=this._changes,U=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],i._commitPendingChanges(c,M,U)}}class za{constructor(i,c,M,U,X){this.id=i,this.afterLineNumber=c,this.ordinal=M,this.height=U,this.minWidth=X,this.prefixSum=0}}let ha=(()=>{class Vt{constructor(c,M,U,X){this._instanceId=Cn.PJ(++Vt.INSTANCE_COUNT),this._pendingChanges=new ua,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=c,this._lineHeight=M,this._paddingTop=U,this._paddingBottom=X}static findInsertionIndex(c,M,U){let X=0,Te=c.length;for(;X<Te;){const Ue=X+Te>>>1;M===c[Ue].afterLineNumber?U<c[Ue].ordinal?Te=Ue:X=Ue+1:M<c[Ue].afterLineNumber?Te=Ue:X=Ue+1}return X}setLineHeight(c){this._checkPendingChanges(),this._lineHeight=c}setPadding(c,M){this._paddingTop=c,this._paddingBottom=M}onFlushed(c){this._checkPendingChanges(),this._lineCount=c}changeWhitespace(c){let M=!1;try{c({insertWhitespace:(X,Te,Ue,gt)=>{M=!0,X|=0,Te|=0,Ue|=0,gt|=0;const xt=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new za(xt,X,Te,Ue,gt)),xt},changeOneWhitespace:(X,Te,Ue)=>{M=!0,this._pendingChanges.change({id:X,newAfterLineNumber:Te|=0,newHeight:Ue|=0})},removeWhitespace:X=>{M=!0,this._pendingChanges.remove({id:X})}})}finally{this._pendingChanges.commit(this)}return M}_commitPendingChanges(c,M,U){if((c.length>0||U.length>0)&&(this._minWidth=-1),c.length+M.length+U.length<=1){for(const xt of c)this._insertWhitespace(xt);for(const xt of M)this._changeOneWhitespace(xt.id,xt.newAfterLineNumber,xt.newHeight);for(const xt of U){const kt=this._findWhitespaceIndex(xt.id);-1!==kt&&this._removeWhitespace(kt)}return}const X=new Set;for(const xt of U)X.add(xt.id);const Te=new Map;for(const xt of M)Te.set(xt.id,xt);const Ue=xt=>{const kt=[];for(const Qt of xt)if(!X.has(Qt.id)){if(Te.has(Qt.id)){const hn=Te.get(Qt.id);Qt.afterLineNumber=hn.newAfterLineNumber,Qt.height=hn.newHeight}kt.push(Qt)}return kt},gt=Ue(this._arr).concat(Ue(c));gt.sort((xt,kt)=>xt.afterLineNumber===kt.afterLineNumber?xt.ordinal-kt.ordinal:xt.afterLineNumber-kt.afterLineNumber),this._arr=gt,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(c){const M=Vt.findInsertionIndex(this._arr,c.afterLineNumber,c.ordinal);this._arr.splice(M,0,c),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,M-1)}_findWhitespaceIndex(c){const M=this._arr;for(let U=0,X=M.length;U<X;U++)if(M[U].id===c)return U;return-1}_changeOneWhitespace(c,M,U){const X=this._findWhitespaceIndex(c);if(-1!==X&&(this._arr[X].height!==U&&(this._arr[X].height=U,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,X-1)),this._arr[X].afterLineNumber!==M)){const Te=this._arr[X];this._removeWhitespace(X),Te.afterLineNumber=M,this._insertWhitespace(Te)}}_removeWhitespace(c){this._arr.splice(c,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,c-1)}onLinesDeleted(c,M){this._checkPendingChanges(),this._lineCount-=(M|=0)-(c|=0)+1;for(let U=0,X=this._arr.length;U<X;U++){const Te=this._arr[U].afterLineNumber;c<=Te&&Te<=M?this._arr[U].afterLineNumber=c-1:Te>M&&(this._arr[U].afterLineNumber-=M-c+1)}}onLinesInserted(c,M){this._checkPendingChanges(),this._lineCount+=(M|=0)-(c|=0)+1;for(let U=0,X=this._arr.length;U<X;U++)c<=this._arr[U].afterLineNumber&&(this._arr[U].afterLineNumber+=M-c+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(c){this._checkPendingChanges(),c|=0;let M=Math.max(0,this._prefixSumValidIndex+1);0===M&&(this._arr[0].prefixSum=this._arr[0].height,M++);for(let U=M;U<=c;U++)this._arr[U].prefixSum=this._arr[U-1].prefixSum+this._arr[U].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,c),this._arr[c].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(c){this._checkPendingChanges();const M=this._findLastWhitespaceBeforeLineNumber(c|=0);return-1===M?0:this.getWhitespacesAccumulatedHeight(M)}_findLastWhitespaceBeforeLineNumber(c){c|=0;const M=this._arr;let U=0,X=M.length-1;for(;U<=X;){const gt=U+((X-U|0)/2|0)|0;if(M[gt].afterLineNumber<c){if(gt+1>=M.length||M[gt+1].afterLineNumber>=c)return gt;U=gt+1|0}else X=gt-1|0}return-1}_findFirstWhitespaceAfterLineNumber(c){const U=this._findLastWhitespaceBeforeLineNumber(c|=0)+1;return U<this._arr.length?U:-1}getFirstWhitespaceIndexAfterLineNumber(c){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(c|=0)}getVerticalOffsetForLineNumber(c,M=!1){let U;return this._checkPendingChanges(),U=(c|=0)>1?this._lineHeight*(c-1):0,U+this.getWhitespaceAccumulatedHeightBeforeLineNumber(c-(M?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(c,M=!1){return this._checkPendingChanges(),this._lineHeight*(c|=0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(c+(M?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let c=0;for(let M=0,U=this._arr.length;M<U;M++)c=Math.max(c,this._arr[M].minWidth);this._minWidth=c}return this._minWidth}isAfterLines(c){return this._checkPendingChanges(),c>this.getLinesTotalHeight()}isInTopPadding(c){return 0!==this._paddingTop&&(this._checkPendingChanges(),c<this._paddingTop)}isInBottomPadding(c){return 0!==this._paddingBottom&&(this._checkPendingChanges(),c>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(c){if(this._checkPendingChanges(),(c|=0)<0)return 1;const M=0|this._lineCount,U=this._lineHeight;let X=1,Te=M;for(;X<Te;){const Ue=(X+Te)/2|0,gt=0|this.getVerticalOffsetForLineNumber(Ue);if(c>=gt+U)X=Ue+1;else{if(c>=gt)return Ue;Te=Ue}}return X>M?M:X}getLinesViewportData(c,M){this._checkPendingChanges(),M|=0;const U=this._lineHeight,X=0|this.getLineNumberAtOrAfterVerticalOffset(c|=0),Te=0|this.getVerticalOffsetForLineNumber(X);let Ue=0|this._lineCount,gt=0|this.getFirstWhitespaceIndexAfterLineNumber(X);const xt=0|this.getWhitespacesCount();let kt,Qt;-1===gt?(gt=xt,Qt=Ue+1,kt=0):(Qt=0|this.getAfterLineNumberForWhitespaceIndex(gt),kt=0|this.getHeightForWhitespaceIndex(gt));let hn=Te,fn=hn;const On=5e5;let Un=0;Te>=On&&(Un=Math.floor(Te/On)*On,Un=Math.floor(Un/U)*U,fn-=Un);const jn=[],ai=c+(M-c)/2;let mi=-1;for(let Gi=X;Gi<=Ue;Gi++){for(-1===mi&&(hn<=ai&&ai<hn+U||hn>ai)&&(mi=Gi),hn+=U,jn[Gi-X]=fn,fn+=U;Qt===Gi;)fn+=kt,hn+=kt,gt++,gt>=xt?Qt=Ue+1:(Qt=0|this.getAfterLineNumberForWhitespaceIndex(gt),kt=0|this.getHeightForWhitespaceIndex(gt));if(hn>=M){Ue=Gi;break}}-1===mi&&(mi=Ue);const Si=0|this.getVerticalOffsetForLineNumber(Ue);let Ki=X,eo=Ue;return Ki<eo&&Te<c&&Ki++,Ki<eo&&Si+U>M&&eo--,{bigNumbersDelta:Un,startLineNumber:X,endLineNumber:Ue,relativeVerticalOffset:jn,centeredLineNumber:mi,completelyVisibleStartLineNumber:Ki,completelyVisibleEndLineNumber:eo}}getVerticalOffsetForWhitespaceIndex(c){this._checkPendingChanges();const M=this.getAfterLineNumberForWhitespaceIndex(c|=0);let U,X;return U=M>=1?this._lineHeight*M:0,X=c>0?this.getWhitespacesAccumulatedHeight(c-1):0,U+X+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(c){this._checkPendingChanges(),c|=0;let M=0,U=this.getWhitespacesCount()-1;if(U<0)return-1;if(c>=this.getVerticalOffsetForWhitespaceIndex(U)+this.getHeightForWhitespaceIndex(U))return-1;for(;M<U;){const Ue=Math.floor((M+U)/2),gt=this.getVerticalOffsetForWhitespaceIndex(Ue);if(c>=gt+this.getHeightForWhitespaceIndex(Ue))M=Ue+1;else{if(c>=gt)return Ue;U=Ue}}return M}getWhitespaceAtVerticalOffset(c){this._checkPendingChanges();const M=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0);if(M<0||M>=this.getWhitespacesCount())return null;const U=this.getVerticalOffsetForWhitespaceIndex(M);if(U>c)return null;const X=this.getHeightForWhitespaceIndex(M);return{id:this.getIdForWhitespaceIndex(M),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(M),verticalOffset:U,height:X}}getWhitespaceViewportData(c,M){this._checkPendingChanges(),M|=0;const U=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0),X=this.getWhitespacesCount()-1;if(U<0)return[];const Te=[];for(let Ue=U;Ue<=X;Ue++){const gt=this.getVerticalOffsetForWhitespaceIndex(Ue),xt=this.getHeightForWhitespaceIndex(Ue);if(gt>=M)break;Te.push({id:this.getIdForWhitespaceIndex(Ue),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Ue),verticalOffset:gt,height:xt})}return Te}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].id}getAfterLineNumberForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].afterLineNumber}getHeightForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].height}}return Vt.INSTANCE_COUNT=0,Vt})();class Ni{constructor(i,c,M,U){(i|=0)<0&&(i=0),(c|=0)<0&&(c=0),(M|=0)<0&&(M=0),(U|=0)<0&&(U=0),this.width=i,this.contentWidth=c,this.scrollWidth=Math.max(i,c),this.height=M,this.contentHeight=U,this.scrollHeight=Math.max(M,U)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class fa extends W.JT{constructor(i,c){super(),this._onDidContentSizeChange=this._register(new k.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ni(0,0,0,0),this._scrollable=this._register(new Ta.Rm({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:c})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const c=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0),(c.contentWidth!==i.contentWidth||c.contentHeight!==i.contentHeight)&&this._onDidContentSizeChange.fire(new ki(c.contentWidth,c.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}}class na extends W.JT{constructor(i,c,M){super(),this._configuration=i;const U=this._configuration.options,X=U.get(133),Te=U.get(77);this._linesLayout=new ha(c,U.get(61),Te.top,Te.bottom),this._scrollable=this._register(new fa(0,M)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ni(X.contentWidth,0,X.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?125:0)}onConfigurationChanged(i){const c=this._configuration.options;if(i.hasChanged(61)&&this._linesLayout.setLineHeight(c.get(61)),i.hasChanged(77)){const M=c.get(77);this._linesLayout.setPadding(M.top,M.bottom)}if(i.hasChanged(133)){const M=c.get(133),U=M.contentWidth,X=M.height,Te=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ni(U,Te.contentWidth,X,this._getContentHeight(U,X,Te.contentWidth)))}else this._updateHeight();i.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,c){this._linesLayout.onLinesDeleted(i,c)}onLinesInserted(i,c){this._linesLayout.onLinesInserted(i,c)}_getHorizontalScrollbarHeight(i,c){const U=this._configuration.options.get(94);return 2===U.horizontal||i>=c?0:U.horizontalScrollbarSize}_getContentHeight(i,c,M){const U=this._configuration.options;let X=this._linesLayout.getLinesTotalHeight();return U.get(96)?X+=Math.max(0,c-U.get(61)-U.get(77).bottom):X+=this._getHorizontalScrollbarHeight(i,M),X}_updateHeight(){const i=this._scrollable.getScrollDimensions(),c=i.width,M=i.height;this._scrollable.setScrollDimensions(new Ni(c,i.contentWidth,M,this._getContentHeight(c,M,i.contentWidth)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new fs.l_(c.scrollTop,c.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new fs.l_(c.scrollTop,c.scrollLeft,i.width,i.height)}_computeContentWidth(i){const c=this._configuration.options,M=c.get(134),U=c.get(46),X=c.get(133);if(M.isViewportWrapping){const Te=c.get(67);return i>X.contentWidth+U.typicalHalfwidthCharacterWidth&&Te.enabled&&"right"===Te.side?i+X.verticalScrollbarWidth:i}{const Te=c.get(95)*U.typicalHalfwidthCharacterWidth,Ue=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+Te+X.verticalScrollbarWidth,Ue)}}setMaxLineWidth(i){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ni(c.width,this._computeContentWidth(i),c.height,c.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),c=i.scrollTop,M=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c);return{scrollTop:c,scrollTopWithoutViewZones:c-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(M),scrollLeft:i.scrollLeft}}changeWhitespace(i){const c=this._linesLayout.changeWhitespace(i);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(i,c=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,c)}getVerticalOffsetAfterLineNumber(i,c=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,c)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const c=this._scrollable.getScrollDimensions();return i+c.height>c.scrollHeight&&(i=c.scrollHeight-c.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+c.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,c){1===c?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}deltaScrollNow(i,c){const M=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:M.scrollLeft+i,scrollTop:M.scrollTop+c})}}var Ls=e(94740),Cl=e(12922);function xa(Vt,i){return null===Vt?i?$a.INSTANCE:Ga.INSTANCE:new yl(Vt,i)}class yl{constructor(i,c){this._projectionData=i,this._isVisible=c}isVisible(){return this._isVisible}setVisible(i){return this._isVisible=i,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(i,c,M){this._assertVisible();const U=M>0?this._projectionData.breakOffsets[M-1]:0,X=this._projectionData.breakOffsets[M];let Te;if(null!==this._projectionData.injectionOffsets){const Ue=this._projectionData.injectionOffsets.map((xt,kt)=>new zi.gk(0,0,xt+1,this._projectionData.injectionOptions[kt],0));Te=zi.gk.applyInjectedText(i.getLineContent(c),Ue).substring(U,X)}else Te=i.getValueInRange({startLineNumber:c,startColumn:U+1,endLineNumber:c,endColumn:X+1});return M>0&&(Te=bl(this._projectionData.wrappedTextIndentLength)+Te),Te}getViewLineLength(i,c,M){return this._assertVisible(),this._projectionData.getLineLength(M)}getViewLineMinColumn(i,c,M){return this._assertVisible(),this._projectionData.getMinOutputOffset(M)+1}getViewLineMaxColumn(i,c,M){return this._assertVisible(),this._projectionData.getMaxOutputOffset(M)+1}getViewLineData(i,c,M){const U=new Array;return this.getViewLinesData(i,c,M,1,0,[!0],U),U[0]}getViewLinesData(i,c,M,U,X,Te,Ue){this._assertVisible();const gt=this._projectionData,xt=gt.injectionOffsets,kt=gt.injectionOptions;let hn,Qt=null;if(xt){Qt=[];let fn=0,On=0;for(let Un=0;Un<gt.getOutputLineCount();Un++){const jn=new Array;Qt[Un]=jn;const ai=Un>0?gt.breakOffsets[Un-1]:0,mi=gt.breakOffsets[Un];for(;On<xt.length;){const Si=kt[On].content.length,Ki=xt[On]+fn,eo=Ki+Si;if(Ki>mi)break;if(ai<eo){const Gi=kt[On];if(Gi.inlineClassName){const to=Un>0?gt.wrappedTextIndentLength:0,Vi=to+Math.max(Ki-ai,0),go=to+Math.min(eo-ai,mi);Vi!==go&&jn.push(new fs.Wx(Vi,go,Gi.inlineClassName,Gi.inlineClassNameAffectsLetterSpacing))}}if(!(eo<=mi))break;fn+=Si,On++}}}hn=xt?i.tokenization.getLineTokens(c).withInserted(xt.map((fn,On)=>({offset:fn,text:kt[On].content,tokenMetadata:Cl.A.defaultTokenMetadata}))):i.tokenization.getLineTokens(c);for(let fn=M;fn<M+U;fn++){const On=X+fn-M;Ue[On]=Te[On]?this._getViewLineData(hn,Qt?Qt[fn]:null,fn):null}}_getViewLineData(i,c,M){this._assertVisible();const U=this._projectionData,gt=i.sliceAndInflate(M>0?U.breakOffsets[M-1]:0,U.breakOffsets[M],M>0?U.wrappedTextIndentLength:0);let xt=gt.getLineContent();M>0&&(xt=bl(U.wrappedTextIndentLength)+xt);const kt=this._projectionData.getMinOutputOffset(M)+1,Qt=xt.length+1,hn=M+1<this.getViewLineCount();return new fs.IP(xt,hn,kt,Qt,0===M?0:U.breakOffsetsVisibleColumn[M-1],gt,c)}getModelColumnOfViewPosition(i,c){return this._assertVisible(),this._projectionData.translateToInputOffset(i,c-1)+1}getViewPositionOfModelPosition(i,c,M=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(c-1,M).toPosition(i)}getViewLineNumberOfModelPosition(i,c){return this._assertVisible(),i+this._projectionData.translateToOutputPosition(c-1).outputLineIndex}normalizePosition(i,c,M){const U=c.lineNumber-i;return this._projectionData.normalizeOutputPosition(i,c.column-1,M).toPosition(U)}getInjectedTextAt(i,c){return this._projectionData.getInjectedText(i,c-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class $a{constructor(){}isVisible(){return!0}setVisible(i){return i?this:Ga.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(i,c,M){return i.getLineContent(c)}getViewLineLength(i,c,M){return i.getLineLength(c)}getViewLineMinColumn(i,c,M){return i.getLineMinColumn(c)}getViewLineMaxColumn(i,c,M){return i.getLineMaxColumn(c)}getViewLineData(i,c,M){const U=i.tokenization.getLineTokens(c),X=U.getLineContent();return new fs.IP(X,!1,1,X.length+1,0,U.inflate(),null)}getViewLinesData(i,c,M,U,X,Te,Ue){Ue[X]=Te[X]?this.getViewLineData(i,c,0):null}getModelColumnOfViewPosition(i,c){return c}getViewPositionOfModelPosition(i,c){return new oe.L(i,c)}getViewLineNumberOfModelPosition(i,c){return i}normalizePosition(i,c,M){return c}getInjectedTextAt(i,c){return null}}$a.INSTANCE=new $a;class Ga{constructor(){}isVisible(){return!1}setVisible(i){return i?$a.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(i,c,M){throw new Error("Not supported")}getViewLineLength(i,c,M){throw new Error("Not supported")}getViewLineMinColumn(i,c,M){throw new Error("Not supported")}getViewLineMaxColumn(i,c,M){throw new Error("Not supported")}getViewLineData(i,c,M){throw new Error("Not supported")}getViewLinesData(i,c,M,U,X,Te,Ue){throw new Error("Not supported")}getModelColumnOfViewPosition(i,c){throw new Error("Not supported")}getViewPositionOfModelPosition(i,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(i,c){throw new Error("Not supported")}normalizePosition(i,c,M){throw new Error("Not supported")}getInjectedTextAt(i,c){throw new Error("Not supported")}}Ga.INSTANCE=new Ga;const Zr=[""];function bl(Vt){if(Vt>=Zr.length)for(let i=1;i<=Vt;i++)Zr[i]=fd(i);return Zr[Vt]}function fd(Vt){return new Array(Vt+1).join(" ")}var Fi=e(3204);class Za{constructor(i,c,M,U,X,Te,Ue,gt,xt){this._editorId=i,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=M,this._monospaceLineBreaksComputerFactory=U,this.fontInfo=X,this.tabSize=Te,this.wrappingStrategy=Ue,this.wrappingColumn=gt,this.wrappingIndent=xt,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Ko(this)}_constructLines(i,c){this.modelLineProjections=[],i&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const M=this.model.getLinesContent(),U=this.model.getInjectedTextDecorations(this._editorId),X=M.length,Te=this.createLineBreaksComputer(),Ue=new N.H9(zi.gk.fromDecorations(U));for(let Un=0;Un<X;Un++){const jn=Ue.takeWhile(ai=>ai.lineNumber===Un+1);Te.addRequest(M[Un],jn,c?c[Un]:null)}const gt=Te.finalize(),xt=[],kt=this.hiddenAreasDecorationIds.map(Un=>this.model.getDecorationRange(Un)).sort(we.e.compareRangesUsingStarts);let Qt=1,hn=0,fn=-1,On=fn+1<kt.length?hn+1:X+2;for(let Un=0;Un<X;Un++){const jn=Un+1;jn===On&&(fn++,Qt=kt[fn].startLineNumber,hn=kt[fn].endLineNumber,On=fn+1<kt.length?hn+1:X+2);const mi=xa(gt[Un],!(jn>=Qt&&jn<=hn));xt[Un]=mi.getViewLineCount(),this.modelLineProjections[Un]=mi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Fi.Ck(xt)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(i=>this.model.getDecorationRange(i))}setHiddenAreas(i){const M=function Lr(Vt){if(0===Vt.length)return[];const i=Vt.slice();i.sort(we.e.compareRangesUsingStarts);const c=[];let M=i[0].startLineNumber,U=i[0].endLineNumber;for(let X=1,Te=i.length;X<Te;X++){const Ue=i[X];Ue.startLineNumber>U+1?(c.push(new we.e(M,1,U,1)),M=Ue.startLineNumber,U=Ue.endLineNumber):Ue.endLineNumber>U&&(U=Ue.endLineNumber)}return c.push(new we.e(M,1,U,1)),c}(i.map(hn=>this.model.validateRange(hn))),U=this.hiddenAreasDecorationIds.map(hn=>this.model.getDecorationRange(hn)).sort(we.e.compareRangesUsingStarts);if(M.length===U.length){let hn=!1;for(let fn=0;fn<M.length;fn++)if(!M[fn].equalsRange(U[fn])){hn=!0;break}if(!hn)return!1}const X=M.map(hn=>({range:hn,options:ur.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,X);const Te=M;let Ue=1,gt=0,xt=-1,kt=xt+1<Te.length?gt+1:this.modelLineProjections.length+2,Qt=!1;for(let hn=0;hn<this.modelLineProjections.length;hn++){const fn=hn+1;fn===kt&&(xt++,Ue=Te[xt].startLineNumber,gt=Te[xt].endLineNumber,kt=xt+1<Te.length?gt+1:this.modelLineProjections.length+2);let On=!1;if(fn>=Ue&&fn<=gt?this.modelLineProjections[hn].isVisible()&&(this.modelLineProjections[hn]=this.modelLineProjections[hn].setVisible(!1),On=!0):(Qt=!0,this.modelLineProjections[hn].isVisible()||(this.modelLineProjections[hn]=this.modelLineProjections[hn].setVisible(!0),On=!0)),On){const Un=this.modelLineProjections[hn].getViewLineCount();this.projectedModelLineLineCounts.setValue(hn,Un)}}return Qt||this.setHiddenAreas([]),!0}modelPositionIsVisible(i,c){return!(i<1||i>this.modelLineProjections.length)&&this.modelLineProjections[i-1].isVisible()}getModelLineViewLineCount(i){return i<1||i>this.modelLineProjections.length?1:this.modelLineProjections[i-1].getViewLineCount()}setTabSize(i){return this.tabSize!==i&&(this.tabSize=i,this._constructLines(!1,null),!0)}setWrappingSettings(i,c,M,U){const X=this.fontInfo.equals(i),Te=this.wrappingStrategy===c,Ue=this.wrappingColumn===M,gt=this.wrappingIndent===U;if(X&&Te&&Ue&&gt)return!1;const xt=X&&Te&&!Ue&&gt;this.fontInfo=i,this.wrappingStrategy=c,this.wrappingColumn=M,this.wrappingIndent=U;let kt=null;if(xt){kt=[];for(let Qt=0,hn=this.modelLineProjections.length;Qt<hn;Qt++)kt[Qt]=this.modelLineProjections[Qt].getProjectionData()}return this._constructLines(!1,kt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(i,c,M){if(!i||i<=this._validModelVersionId)return null;const U=1===c?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,X=this.projectedModelLineLineCounts.getPrefixSum(M);return this.modelLineProjections.splice(c-1,M-c+1),this.projectedModelLineLineCounts.removeValues(c-1,M-c+1),new Jt(U,X)}onModelLinesInserted(i,c,M,U){if(!i||i<=this._validModelVersionId)return null;const X=c>2&&!this.modelLineProjections[c-2].isVisible(),Te=1===c?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1;let Ue=0;const gt=[],xt=[];for(let kt=0,Qt=U.length;kt<Qt;kt++){const hn=xa(U[kt],!X);gt.push(hn);const fn=hn.getViewLineCount();Ue+=fn,xt[kt]=fn}return this.modelLineProjections=this.modelLineProjections.slice(0,c-1).concat(gt).concat(this.modelLineProjections.slice(c-1)),this.projectedModelLineLineCounts.insertValues(c-1,xt),new _n(Te,Te+Ue-1)}onModelLineChanged(i,c,M){if(null!==i&&i<=this._validModelVersionId)return[!1,null,null,null];const U=c-1,X=this.modelLineProjections[U].getViewLineCount(),Ue=xa(M,this.modelLineProjections[U].isVisible());this.modelLineProjections[U]=Ue;const gt=this.modelLineProjections[U].getViewLineCount();let xt=!1,kt=0,Qt=-1,hn=0,fn=-1,On=0,Un=-1;return X>gt?(kt=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,Qt=kt+gt-1,On=Qt+1,Un=On+(X-gt)-1,xt=!0):X<gt?(kt=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,Qt=kt+X-1,hn=Qt+1,fn=hn+(gt-X)-1,xt=!0):(kt=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,Qt=kt+gt-1),this.projectedModelLineLineCounts.setValue(U,gt),[xt,kt<=Qt?new Pt(kt,Qt-kt+1):null,hn<=fn?new _n(hn,fn):null,On<=Un?new Jt(On,Un):null]}acceptVersionId(i){this._validModelVersionId=i,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(i){if(i<1)return 1;const c=this.getViewLineCount();return i>c?c:0|i}getActiveIndentGuide(i,c,M){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c),M=this._toValidViewLineNumber(M);const U=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),X=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),Te=this.convertViewPositionToModelPosition(M,this.getViewLineMinColumn(M)),Ue=this.model.guides.getActiveIndentGuide(U.lineNumber,X.lineNumber,Te.lineNumber),gt=this.convertModelPositionToViewPosition(Ue.startLineNumber,1),xt=this.convertModelPositionToViewPosition(Ue.endLineNumber,this.model.getLineMaxColumn(Ue.endLineNumber));return{startLineNumber:gt.lineNumber,endLineNumber:xt.lineNumber,indent:Ue.indent}}getViewLineInfo(i){i=this._toValidViewLineNumber(i);const c=this.projectedModelLineLineCounts.getIndexOf(i-1);return new gr(c.index+1,c.remainder)}getMinColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],M=c.getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),U=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,M);return new oe.L(i.modelLineNumber,U)}getModelEndPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],M=c.getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),U=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,M);return new oe.L(i.modelLineNumber,U)}getViewLineInfosGroupedByModelRanges(i,c){const M=this.getViewLineInfo(i),U=this.getViewLineInfo(c),X=new Array;let Te=this.getModelStartPositionOfViewLine(M),Ue=new Array;for(let gt=M.modelLineNumber;gt<=U.modelLineNumber;gt++){const xt=this.modelLineProjections[gt-1];if(xt.isVisible()){const kt=gt===M.modelLineNumber?M.modelLineWrappedLineIdx:0,Qt=gt===U.modelLineNumber?U.modelLineWrappedLineIdx+1:xt.getViewLineCount();for(let hn=kt;hn<Qt;hn++)Ue.push(new gr(gt,hn))}if(!xt.isVisible()&&Te){const kt=new oe.L(gt-1,this.model.getLineMaxColumn(gt-1)+1),Qt=we.e.fromPositions(Te,kt);X.push(new _a(Qt,Ue)),Ue=[],Te=null}else xt.isVisible()&&!Te&&(Te=new oe.L(gt,1))}if(Te){const gt=we.e.fromPositions(Te,this.getModelEndPositionOfViewLine(U));X.push(new _a(gt,Ue))}return X}getViewLinesBracketGuides(i,c,M,U){const X=M?this.convertViewPositionToModelPosition(M.lineNumber,M.column):null,Te=[];for(const Ue of this.getViewLineInfosGroupedByModelRanges(i,c)){const gt=Ue.modelRange.startLineNumber,xt=this.model.guides.getLinesBracketGuides(gt,Ue.modelRange.endLineNumber,X,U);for(const kt of Ue.viewLines){const hn=xt[kt.modelLineNumber-gt].map(fn=>{if(-1!==fn.forWrappedLinesAfterColumn&&this.modelLineProjections[kt.modelLineNumber-1].getViewPositionOfModelPosition(0,fn.forWrappedLinesAfterColumn).lineNumber>=kt.modelLineWrappedLineIdx||-1!==fn.forWrappedLinesBeforeOrAtColumn&&this.modelLineProjections[kt.modelLineNumber-1].getViewPositionOfModelPosition(0,fn.forWrappedLinesBeforeOrAtColumn).lineNumber<kt.modelLineWrappedLineIdx)return;if(!fn.horizontalLine)return fn;let On=-1;if(-1!==fn.column){const ai=this.modelLineProjections[kt.modelLineNumber-1].getViewPositionOfModelPosition(0,fn.column);if(ai.lineNumber===kt.modelLineWrappedLineIdx)On=ai.column;else if(ai.lineNumber<kt.modelLineWrappedLineIdx)On=this.getMinColumnOfViewLine(kt);else if(ai.lineNumber>kt.modelLineWrappedLineIdx)return}const Un=this.convertModelPositionToViewPosition(kt.modelLineNumber,fn.horizontalLine.endColumn),jn=this.modelLineProjections[kt.modelLineNumber-1].getViewPositionOfModelPosition(0,fn.horizontalLine.endColumn);return jn.lineNumber===kt.modelLineWrappedLineIdx?new ho.UO(fn.visibleColumn,On,fn.className,new ho.vW(fn.horizontalLine.top,Un.column),-1,-1):jn.lineNumber<kt.modelLineWrappedLineIdx||-1!==fn.visibleColumn?void 0:new ho.UO(fn.visibleColumn,On,fn.className,new ho.vW(fn.horizontalLine.top,this.getMaxColumnOfViewLine(kt)),-1,-1)});Te.push(hn.filter(fn=>!!fn))}}return Te}getViewLinesIndentGuides(i,c){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const M=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),U=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let X=[];const Te=[],Ue=[],gt=M.lineNumber-1,xt=U.lineNumber-1;let kt=null;for(let On=gt;On<=xt;On++){const Un=this.modelLineProjections[On];if(Un.isVisible()){const jn=Un.getViewLineNumberOfModelPosition(0,On===gt?M.column:1),ai=Un.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(On+1)),mi=ai-jn+1;let Si=0;mi>1&&1===Un.getViewLineMinColumn(this.model,On+1,ai)&&(Si=0===jn?1:2),Te.push(mi),Ue.push(Si),null===kt&&(kt=new oe.L(On+1,0))}else null!==kt&&(X=X.concat(this.model.guides.getLinesIndentGuides(kt.lineNumber,On)),kt=null)}null!==kt&&(X=X.concat(this.model.guides.getLinesIndentGuides(kt.lineNumber,U.lineNumber)),kt=null);const Qt=c-i+1,hn=new Array(Qt);let fn=0;for(let On=0,Un=X.length;On<Un;On++){let jn=X[On];const ai=Math.min(Qt-fn,Te[On]),mi=Ue[On];let Si;Si=2===mi?0:1===mi?1:ai;for(let Ki=0;Ki<ai;Ki++)Ki===Si&&(jn=0),hn[fn++]=jn}return hn}getViewLineContent(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineContent(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineLength(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineLength(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMinColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMaxColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineData(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineData(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLinesData(i,c,M){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const U=this.projectedModelLineLineCounts.getIndexOf(i-1);let X=i;const Te=U.index,Ue=U.remainder,gt=[];for(let xt=Te,kt=this.model.getLineCount();xt<kt;xt++){const Qt=this.modelLineProjections[xt];if(!Qt.isVisible())continue;const hn=xt===Te?Ue:0;let fn=Qt.getViewLineCount()-hn,On=!1;if(X+fn>c&&(On=!0,fn=c-X+1),Qt.getViewLinesData(this.model,xt+1,hn,fn,X-i,M,gt),X+=fn,On)break}return gt}validateViewPosition(i,c,M){i=this._toValidViewLineNumber(i);const U=this.projectedModelLineLineCounts.getIndexOf(i-1),X=U.index,Te=U.remainder,Ue=this.modelLineProjections[X],gt=Ue.getViewLineMinColumn(this.model,X+1,Te),xt=Ue.getViewLineMaxColumn(this.model,X+1,Te);c<gt&&(c=gt),c>xt&&(c=xt);const kt=Ue.getModelColumnOfViewPosition(Te,c);return this.model.validatePosition(new oe.L(X+1,kt)).equals(M)?new oe.L(i,c):this.convertModelPositionToViewPosition(M.lineNumber,M.column)}validateViewRange(i,c){const M=this.validateViewPosition(i.startLineNumber,i.startColumn,c.getStartPosition()),U=this.validateViewPosition(i.endLineNumber,i.endColumn,c.getEndPosition());return new we.e(M.lineNumber,M.column,U.lineNumber,U.column)}convertViewPositionToModelPosition(i,c){const M=this.getViewLineInfo(i),U=this.modelLineProjections[M.modelLineNumber-1].getModelColumnOfViewPosition(M.modelLineWrappedLineIdx,c);return this.model.validatePosition(new oe.L(M.modelLineNumber,U))}convertViewRangeToModelRange(i){const c=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),M=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);return new we.e(c.lineNumber,c.column,M.lineNumber,M.column)}convertModelPositionToViewPosition(i,c,M=2){const U=this.model.validatePosition(new oe.L(i,c)),X=U.lineNumber,Te=U.column;let Ue=X-1,gt=!1;for(;Ue>0&&!this.modelLineProjections[Ue].isVisible();)Ue--,gt=!0;if(0===Ue&&!this.modelLineProjections[Ue].isVisible())return new oe.L(1,1);const xt=1+this.projectedModelLineLineCounts.getPrefixSum(Ue);let kt;return kt=gt?this.modelLineProjections[Ue].getViewPositionOfModelPosition(xt,this.model.getLineMaxColumn(Ue+1),M):this.modelLineProjections[X-1].getViewPositionOfModelPosition(xt,Te,M),kt}convertModelRangeToViewRange(i,c=0){if(i.isEmpty()){const M=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,c);return we.e.fromPositions(M)}{const M=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,1),U=this.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn,0);return new we.e(M.lineNumber,M.column,U.lineNumber,U.column)}}getViewLineNumberOfModelPosition(i,c){let M=i-1;if(this.modelLineProjections[M].isVisible()){const X=1+this.projectedModelLineLineCounts.getPrefixSum(M);return this.modelLineProjections[M].getViewLineNumberOfModelPosition(X,c)}for(;M>0&&!this.modelLineProjections[M].isVisible();)M--;if(0===M&&!this.modelLineProjections[M].isVisible())return 1;const U=1+this.projectedModelLineLineCounts.getPrefixSum(M);return this.modelLineProjections[M].getViewLineNumberOfModelPosition(U,this.model.getLineMaxColumn(M+1))}getDecorationsInRange(i,c,M){const U=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),X=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);if(X.lineNumber-U.lineNumber<=i.endLineNumber-i.startLineNumber)return this.model.getDecorationsInRange(new we.e(U.lineNumber,1,X.lineNumber,X.column),c,M);let Te=[];const Ue=U.lineNumber-1,gt=X.lineNumber-1;let xt=null;for(let fn=Ue;fn<=gt;fn++)if(this.modelLineProjections[fn].isVisible())null===xt&&(xt=new oe.L(fn+1,fn===Ue?U.column:1));else if(null!==xt){const Un=this.model.getLineMaxColumn(fn);Te=Te.concat(this.model.getDecorationsInRange(new we.e(xt.lineNumber,xt.column,fn,Un),c,M)),xt=null}null!==xt&&(Te=Te.concat(this.model.getDecorationsInRange(new we.e(xt.lineNumber,xt.column,X.lineNumber,X.column),c,M)),xt=null),Te.sort((fn,On)=>{const Un=we.e.compareRangesUsingStarts(fn.range,On.range);return 0===Un?fn.id<On.id?-1:fn.id>On.id?1:0:Un});const kt=[];let Qt=0,hn=null;for(const fn of Te){const On=fn.id;hn!==On&&(hn=On,kt[Qt++]=fn)}return kt}getInjectedTextAt(i){const c=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].getInjectedTextAt(c.modelLineWrappedLineIdx,i.column)}normalizePosition(i,c){const M=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[M.modelLineNumber-1].normalizePosition(M.modelLineWrappedLineIdx,i,c)}getLineIndentColumn(i){const c=this.getViewLineInfo(i);return 0===c.modelLineWrappedLineIdx?this.model.getLineIndentColumn(c.modelLineNumber):0}}class gr{constructor(i,c){this.modelLineNumber=i,this.modelLineWrappedLineIdx=c}}class _a{constructor(i,c){this.modelRange=i,this.viewLines=c}}class Ko{constructor(i){this._lines=i}convertViewPositionToModelPosition(i){return this._lines.convertViewPositionToModelPosition(i.lineNumber,i.column)}convertViewRangeToModelRange(i){return this._lines.convertViewRangeToModelRange(i)}validateViewPosition(i,c){return this._lines.validateViewPosition(i.lineNumber,i.column,c)}validateViewRange(i,c){return this._lines.validateViewRange(i,c)}convertModelPositionToViewPosition(i,c){return this._lines.convertModelPositionToViewPosition(i.lineNumber,i.column,c)}convertModelRangeToViewRange(i,c){return this._lines.convertModelRangeToViewRange(i,c)}modelPositionIsVisible(i){return this._lines.modelPositionIsVisible(i.lineNumber,i.column)}getModelLineViewLineCount(i){return this._lines.getModelLineViewLineCount(i)}getViewLineNumberOfModelPosition(i,c){return this._lines.getViewLineNumberOfModelPosition(i,c)}}class ys{constructor(i){this.model=i}dispose(){}createCoordinatesConverter(){return new Ma(this)}getHiddenAreas(){return[]}setHiddenAreas(i){return!1}setTabSize(i){return!1}setWrappingSettings(i,c,M,U){return!1}createLineBreaksComputer(){const i=[];return{addRequest:(c,M,U)=>{i.push(null)},finalize:()=>i}}onModelFlushed(){}onModelLinesDeleted(i,c,M){return new Jt(c,M)}onModelLinesInserted(i,c,M,U){return new _n(c,M)}onModelLineChanged(i,c,M){return[!1,new Pt(c,1),null,null]}acceptVersionId(i){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(i,c,M){return{startLineNumber:i,endLineNumber:i,indent:0}}getViewLinesBracketGuides(i,c,M){return new Array(c-i+1).fill([])}getViewLinesIndentGuides(i,c){const M=c-i+1,U=new Array(M);for(let X=0;X<M;X++)U[X]=0;return U}getViewLineContent(i){return this.model.getLineContent(i)}getViewLineLength(i){return this.model.getLineLength(i)}getViewLineMinColumn(i){return this.model.getLineMinColumn(i)}getViewLineMaxColumn(i){return this.model.getLineMaxColumn(i)}getViewLineData(i){const c=this.model.tokenization.getLineTokens(i),M=c.getLineContent();return new fs.IP(M,!1,1,M.length+1,0,c.inflate(),null)}getViewLinesData(i,c,M){const U=this.model.getLineCount();i=Math.min(Math.max(1,i),U),c=Math.min(Math.max(1,c),U);const X=[];for(let Te=i;Te<=c;Te++){const Ue=Te-i;X[Ue]=M[Ue]?this.getViewLineData(Te):null}return X}getDecorationsInRange(i,c,M){return this.model.getDecorationsInRange(i,c,M)}normalizePosition(i,c){return this.model.normalizePosition(i,c)}getLineIndentColumn(i){return this.model.getLineIndentColumn(i)}getInjectedTextAt(i){return null}}class Ma{constructor(i){this._lines=i}_validPosition(i){return this._lines.model.validatePosition(i)}_validRange(i){return this._lines.model.validateRange(i)}convertViewPositionToModelPosition(i){return this._validPosition(i)}convertViewRangeToModelRange(i){return this._validRange(i)}validateViewPosition(i,c){return this._validPosition(c)}validateViewRange(i,c){return this._validRange(c)}convertModelPositionToViewPosition(i){return this._validPosition(i)}convertModelRangeToViewRange(i){return this._validRange(i)}modelPositionIsVisible(i){const c=this._lines.model.getLineCount();return!(i.lineNumber<1||i.lineNumber>c)}getModelLineViewLineCount(i){return 1}getViewLineNumberOfModelPosition(i,c){return i}}class Sl extends W.JT{constructor(i,c,M,U,X,Te,Ue,gt){if(super(),this.languageConfigurationService=Ue,this._themeService=gt,this._editorId=i,this._configuration=c,this.model=M,this._eventDispatcher=new Ti,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Zo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Xe.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Xe.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Qa.create(this.model),this.model.isTooLargeForTokenization())this._lines=new ys(this.model);else{const xt=this._configuration.options,kt=xt.get(46),Qt=xt.get(127),hn=xt.get(134),fn=xt.get(126);this._lines=new Za(this._editorId,this.model,U,X,kt,this.model.getOptions().tabSize,Qt,hn.wrappingColumn,fn)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new qo(M,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new na(this._configuration,this.getLineCount(),Te)),this._register(this.viewLayout.onDidScroll(xt=>{xt.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),xt.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new Rn(xt)),this._eventDispatcher.emitOutgoingEvent(new po(xt.oldScrollWidth,xt.oldScrollLeft,xt.oldScrollHeight,xt.oldScrollTop,xt.scrollWidth,xt.scrollLeft,xt.scrollHeight,xt.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(xt=>{this._eventDispatcher.emitOutgoingEvent(xt)})),this._decorations=new Ls.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(xt=>{try{const kt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(kt,xt)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(nr.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new ei)})),this._register(this._themeService.onDidColorThemeChange(xt=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new qn(xt))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(i){this._eventDispatcher.addViewEventHandler(i)}removeViewEventHandler(i){this._eventDispatcher.removeViewEventHandler(i)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const i=this.viewLayout.getLinesViewportData(),c=new we.e(i.startLineNumber,this.getLineMinColumn(i.startLineNumber),i.endLineNumber,this.getLineMaxColumn(i.endLineNumber)),M=this._toModelVisibleRanges(c);for(const U of M)this.model.tokenization.tokenizeViewport(U.startLineNumber,U.endLineNumber)}setHasFocus(i){this._hasFocus=i,this._cursor.setHasFocus(i),this._eventDispatcher.emitSingleViewEvent(new zt(i)),this._eventDispatcher.emitOutgoingEvent(new qi(!i,i))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new ll)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ms)}_onConfigurationChanged(i,c){let M=null;if(this._viewportStart.isValid){const kt=new oe.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));M=this.coordinatesConverter.convertViewPositionToModelPosition(kt)}let U=!1;const X=this._configuration.options,Te=X.get(46),Ue=X.get(127),gt=X.get(134),xt=X.get(126);if(this._lines.setWrappingSettings(Te,Ue,gt.wrappingColumn,xt)&&(i.emitViewEvent(new ta),i.emitViewEvent(new tt),i.emitViewEvent(new es(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(U=!0),this._updateConfigurationViewLineCount.schedule()),c.hasChanged(83)&&(this._decorations.reset(),i.emitViewEvent(new es(null))),i.emitViewEvent(new Ka(c)),this.viewLayout.onConfigurationChanged(c),U&&M){const kt=this.coordinatesConverter.convertModelPositionToViewPosition(M),Qt=this.viewLayout.getVerticalOffsetForLineNumber(kt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Qt+this._viewportStart.startLineDelta},1)}Zo.LM.shouldRecreate(c)&&(this.cursorConfig=new Zo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(i=>{try{const M=this._eventDispatcher.beginEmitViewEvents();let U=!1,X=!1;const Te=i instanceof zi.fV?i.rawContentChangedEvent.changes:i.changes,Ue=i instanceof zi.fV?i.rawContentChangedEvent.versionId:null,gt=this._lines.createLineBreaksComputer();for(const Qt of Te)switch(Qt.changeType){case 4:for(let hn=0;hn<Qt.detail.length;hn++){const fn=Qt.detail[hn];let On=Qt.injectedTexts[hn];On&&(On=On.filter(Un=>!Un.ownerId||Un.ownerId===this._editorId)),gt.addRequest(fn,On,null)}break;case 2:{let hn=null;Qt.injectedText&&(hn=Qt.injectedText.filter(fn=>!fn.ownerId||fn.ownerId===this._editorId)),gt.addRequest(Qt.detail,hn,null);break}}const xt=gt.finalize(),kt=new N.H9(xt);for(const Qt of Te)switch(Qt.changeType){case 1:this._lines.onModelFlushed(),M.emitViewEvent(new ta),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),U=!0;break;case 3:{const hn=this._lines.onModelLinesDeleted(Ue,Qt.fromLineNumber,Qt.toLineNumber);null!==hn&&(M.emitViewEvent(hn),this.viewLayout.onLinesDeleted(hn.fromLineNumber,hn.toLineNumber)),U=!0;break}case 4:{const hn=kt.takeCount(Qt.detail.length),fn=this._lines.onModelLinesInserted(Ue,Qt.fromLineNumber,Qt.toLineNumber,hn);null!==fn&&(M.emitViewEvent(fn),this.viewLayout.onLinesInserted(fn.fromLineNumber,fn.toLineNumber)),U=!0;break}case 2:{const hn=kt.dequeue(),[fn,On,Un,jn]=this._lines.onModelLineChanged(Ue,Qt.lineNumber,hn);X=fn,On&&M.emitViewEvent(On),Un&&(M.emitViewEvent(Un),this.viewLayout.onLinesInserted(Un.fromLineNumber,Un.toLineNumber)),jn&&(M.emitViewEvent(jn),this.viewLayout.onLinesDeleted(jn.fromLineNumber,jn.toLineNumber));break}}null!==Ue&&this._lines.acceptVersionId(Ue),this.viewLayout.onHeightMaybeChanged(),!U&&X&&(M.emitViewEvent(new tt),M.emitViewEvent(new es(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const c=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&c){const M=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(M){const U=this.coordinatesConverter.convertModelPositionToViewPosition(M.getStartPosition()),X=this.viewLayout.getVerticalOffsetForLineNumber(U.lineNumber);this.viewLayout.setScrollPosition({scrollTop:X+this._viewportStart.startLineDelta},1)}}try{const M=this._eventDispatcher.beginEmitViewEvents();i instanceof zi.fV&&M.emitOutgoingEvent(new no(i.contentChangedEvent)),this._cursor.onModelContentChanged(M,i)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(i=>{const c=[];for(let M=0,U=i.ranges.length;M<U;M++){const X=i.ranges[M],Te=this.coordinatesConverter.convertModelPositionToViewPosition(new oe.L(X.fromLineNumber,1)).lineNumber,Ue=this.coordinatesConverter.convertModelPositionToViewPosition(new oe.L(X.toLineNumber,this.model.getLineMaxColumn(X.toLineNumber))).lineNumber;c[M]={fromLineNumber:Te,toLineNumber:Ue}}this._eventDispatcher.emitSingleViewEvent(new Zn(c)),i.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new Qo(i))})),this._register(this.model.onDidChangeLanguageConfiguration(i=>{this._eventDispatcher.emitSingleViewEvent(new ke),this.cursorConfig=new Zo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new wo(i))})),this._register(this.model.onDidChangeLanguage(i=>{this.cursorConfig=new Zo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Uo(i))})),this._register(this.model.onDidChangeOptions(i=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const c=this._eventDispatcher.beginEmitViewEvents();c.emitViewEvent(new ta),c.emitViewEvent(new tt),c.emitViewEvent(new es(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Zo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Eo(i))})),this._register(this.model.onDidChangeDecorations(i=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new es(i)),this._eventDispatcher.emitOutgoingEvent(new Jo(i))}))}setHiddenAreas(i){let c=!1;try{const M=this._eventDispatcher.beginEmitViewEvents();c=this._lines.setHiddenAreas(i),c&&(M.emitViewEvent(new ta),M.emitViewEvent(new tt),M.emitViewEvent(new es(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),c&&this._eventDispatcher.emitOutgoingEvent(new Io)}getVisibleRangesPlusViewportAboveBelow(){const i=this._configuration.options.get(133),c=this._configuration.options.get(61),M=Math.max(20,Math.round(i.height/c)),U=this.viewLayout.getLinesViewportData(),X=Math.max(1,U.completelyVisibleStartLineNumber-M),Te=Math.min(this.getLineCount(),U.completelyVisibleEndLineNumber+M);return this._toModelVisibleRanges(new we.e(X,this.getLineMinColumn(X),Te,this.getLineMaxColumn(Te)))}getVisibleRanges(){const i=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(i)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(i){const c=this.coordinatesConverter.convertViewRangeToModelRange(i),M=this._lines.getHiddenAreas();if(0===M.length)return[c];const U=[];let X=0,Te=c.startLineNumber,Ue=c.startColumn;const gt=c.endLineNumber,xt=c.endColumn;for(let kt=0,Qt=M.length;kt<Qt;kt++){const hn=M[kt].startLineNumber,fn=M[kt].endLineNumber;fn<Te||hn>gt||(Te<hn&&(U[X++]=new we.e(Te,Ue,hn-1,this.model.getLineMaxColumn(hn-1))),Te=fn+1,Ue=1)}return(Te<gt||Te===gt&&Ue<xt)&&(U[X++]=new we.e(Te,Ue,gt,xt)),U}getCompletelyVisibleViewRange(){const i=this.viewLayout.getLinesViewportData(),c=i.completelyVisibleStartLineNumber,M=i.completelyVisibleEndLineNumber;return new we.e(c,this.getLineMinColumn(c),M,this.getLineMaxColumn(M))}getCompletelyVisibleViewRangeAtScrollTop(i){const c=this.viewLayout.getLinesViewportDataAtScrollTop(i),M=c.completelyVisibleStartLineNumber,U=c.completelyVisibleEndLineNumber;return new we.e(M,this.getLineMinColumn(M),U,this.getLineMaxColumn(U))}saveState(){const i=this.viewLayout.saveState(),c=i.scrollTop,M=this.viewLayout.getLineNumberAtVerticalOffset(c),U=this.coordinatesConverter.convertViewPositionToModelPosition(new oe.L(M,this.getLineMinColumn(M))),X=this.viewLayout.getVerticalOffsetForLineNumber(M)-c;return{scrollLeft:i.scrollLeft,firstPosition:U,firstPositionDeltaTop:X}}reduceRestoreState(i){if(typeof i.firstPosition>"u")return this._reduceRestoreStateCompatibility(i);const c=this.model.validatePosition(i.firstPosition),M=this.coordinatesConverter.convertModelPositionToViewPosition(c),U=this.viewLayout.getVerticalOffsetForLineNumber(M.lineNumber)-i.firstPositionDeltaTop;return{scrollLeft:i.scrollLeft,scrollTop:U}}_reduceRestoreStateCompatibility(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(i,c,M){this._viewportStart.update(this,i)}getActiveIndentGuide(i,c,M){return this._lines.getActiveIndentGuide(i,c,M)}getLinesIndentGuides(i,c){return this._lines.getViewLinesIndentGuides(i,c)}getBracketGuidesInRangeByLine(i,c,M,U){return this._lines.getViewLinesBracketGuides(i,c,M,U)}getLineContent(i){return this._lines.getViewLineContent(i)}getLineLength(i){return this._lines.getViewLineLength(i)}getLineMinColumn(i){return this._lines.getViewLineMinColumn(i)}getLineMaxColumn(i){return this._lines.getViewLineMaxColumn(i)}getLineFirstNonWhitespaceColumn(i){const c=Cn.LC(this.getLineContent(i));return-1===c?0:c+1}getLineLastNonWhitespaceColumn(i){const c=Cn.ow(this.getLineContent(i));return-1===c?0:c+2}getDecorationsInViewport(i){return this._decorations.getDecorationsViewportData(i).decorations}getInjectedTextAt(i){return this._lines.getInjectedTextAt(i)}getViewportViewLineRenderingData(i,c){const U=this._decorations.getDecorationsViewportData(i).inlineDecorations[c-i.startLineNumber];return this._getViewLineRenderingData(c,U)}getViewLineRenderingData(i){const c=this._decorations.getInlineDecorationsOnLine(i);return this._getViewLineRenderingData(i,c)}_getViewLineRenderingData(i,c){const M=this.model.mightContainRTL(),U=this.model.mightContainNonBasicASCII(),X=this.getTabSize(),Te=this._lines.getViewLineData(i);return Te.inlineDecorations&&(c=[...c,...Te.inlineDecorations.map(Ue=>Ue.toInlineDecoration(i))]),new fs.wA(Te.minColumn,Te.maxColumn,Te.content,Te.continuesWithWrappedLine,M,U,Te.tokens,c,X,Te.startVisibleColumn)}getViewLineData(i){return this._lines.getViewLineData(i)}getMinimapLinesRenderingData(i,c,M){const U=this._lines.getViewLinesData(i,c,M);return new fs.ud(this.getTabSize(),U)}getAllOverviewRulerDecorations(i){const c=this.model.getOverviewRulerDecorations(this._editorId,(0,Ie.$J)(this._configuration.options)),M=new ga;for(const U of c){const X=U.options,Te=X.overviewRuler;if(!Te)continue;const Ue=Te.position;if(0===Ue)continue;const gt=Te.getColor(i.value),xt=this.coordinatesConverter.getViewLineNumberOfModelPosition(U.range.startLineNumber,U.range.startColumn),kt=this.coordinatesConverter.getViewLineNumberOfModelPosition(U.range.endLineNumber,U.range.endColumn);M.accept(gt,X.zIndex,xt,kt,Ue)}return M.asArray}_invalidateDecorationsColorCache(){const i=this.model.getOverviewRulerDecorations();for(const c of i){const M=c.options.overviewRuler;M&&M.invalidateCachedColor();const U=c.options.minimap;U&&U.invalidateCachedColor()}}getValueInRange(i,c){const M=this.coordinatesConverter.convertViewRangeToModelRange(i);return this.model.getValueInRange(M,c)}deduceModelPositionRelativeToViewPosition(i,c,M){const U=this.coordinatesConverter.convertViewPositionToModelPosition(i);2===this.model.getEOL().length&&(c<0?c-=M:c+=M);const Te=this.model.getOffsetAt(U)+c;return this.model.getPositionAt(Te)}getPlainTextToCopy(i,c,M){const U=M?"\r\n":this.model.getEOL();(i=i.slice(0)).sort(we.e.compareRangesUsingStarts);let X=!1,Te=!1;for(const gt of i)gt.isEmpty()?X=!0:Te=!0;if(!Te){if(!c)return"";const gt=i.map(kt=>kt.startLineNumber);let xt="";for(let kt=0;kt<gt.length;kt++)kt>0&&gt[kt-1]===gt[kt]||(xt+=this.model.getLineContent(gt[kt])+U);return xt}if(X&&c){const gt=[];let xt=0;for(const kt of i){const Qt=kt.startLineNumber;kt.isEmpty()?Qt!==xt&&gt.push(this.model.getLineContent(Qt)):gt.push(this.model.getValueInRange(kt,M?2:0)),xt=Qt}return 1===gt.length?gt[0]:gt}const Ue=[];for(const gt of i)gt.isEmpty()||Ue.push(this.model.getValueInRange(gt,M?2:0));return 1===Ue.length?Ue[0]:Ue}getRichTextToCopy(i,c){const M=this.model.getLanguageId();if(M===$s.bd||1!==i.length)return null;let U=i[0];if(U.isEmpty()){if(!c)return null;const kt=U.startLineNumber;U=new we.e(kt,this.model.getLineMinColumn(kt),kt,this.model.getLineMaxColumn(kt))}const X=this._configuration.options.get(46),Te=this._getColorMap();let xt;return/[:;\\\/<>]/.test(X.fontFamily)||X.fontFamily===Ie.hL.fontFamily?xt=Ie.hL.fontFamily:(xt=X.fontFamily,xt=xt.replace(/"/g,"'"),/[,']/.test(xt)||/[+ ]/.test(xt)&&(xt=`'${xt}'`),xt=`${xt}, ${Ie.hL.fontFamily}`),{mode:M,html:`<div style="color: ${Te[1]};background-color: ${Te[2]};font-family: ${xt};font-weight: ${X.fontWeight};font-size: ${X.fontSize}px;line-height: ${X.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(U,Te)+"</div>"}}_getHTMLToCopy(i,c){const M=i.startLineNumber,U=i.startColumn,X=i.endLineNumber,Te=i.endColumn,Ue=this.getTabSize();let gt="";for(let xt=M;xt<=X;xt++){const kt=this.model.tokenization.getLineTokens(xt),Qt=kt.getLineContent(),hn=xt===M?U-1:0,fn=xt===X?Te-1:Qt.length;gt+=""===Qt?"<br>":(0,Gr.Fq)(Qt,kt.inflate(),c,hn,fn,Ue,K.ED)}return gt}_getColorMap(){const i=Oo.RW.getColorMap(),c=["#000000"];if(i)for(let M=1,U=i.length;M<U;M++)c[M]=ko.Il.Format.CSS.formatHex(i[M]);return c}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(i,c,M){return this._withViewEventsCollector(U=>this._cursor.setStates(U,i,c,M))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(i){this._cursor.setCursorColumnSelectData(i)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(i){this._cursor.setPrevEditOperationType(i)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(i,c,M=0){this._withViewEventsCollector(U=>this._cursor.setSelections(U,i,c,M))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(i){this._withViewEventsCollector(c=>this._cursor.restoreState(c,i))}_executeCursorEdit(i){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new co):this._withViewEventsCollector(i)}executeEdits(i,c,M){this._executeCursorEdit(U=>this._cursor.executeEdits(U,i,c,M))}startComposition(){this._executeCursorEdit(i=>this._cursor.startComposition(i))}endComposition(i){this._executeCursorEdit(c=>this._cursor.endComposition(c,i))}type(i,c){this._executeCursorEdit(M=>this._cursor.type(M,i,c))}compositionType(i,c,M,U,X){this._executeCursorEdit(Te=>this._cursor.compositionType(Te,i,c,M,U,X))}paste(i,c,M,U){this._executeCursorEdit(X=>this._cursor.paste(X,i,c,M,U))}cut(i){this._executeCursorEdit(c=>this._cursor.cut(c,i))}executeCommand(i,c){this._executeCursorEdit(M=>this._cursor.executeCommand(M,i,c))}executeCommands(i,c){this._executeCursorEdit(M=>this._cursor.executeCommands(M,i,c))}revealPrimaryCursor(i,c,M=!1){this._withViewEventsCollector(U=>this._cursor.revealPrimary(U,i,M,0,c,0))}revealTopMostCursor(i){const c=this._cursor.getTopMostViewPosition(),M=new we.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(U=>U.emitViewEvent(new yn(i,!1,M,null,0,!0,0)))}revealBottomMostCursor(i){const c=this._cursor.getBottomMostViewPosition(),M=new we.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(U=>U.emitViewEvent(new yn(i,!1,M,null,0,!0,0)))}revealRange(i,c,M,U,X){this._withViewEventsCollector(Te=>Te.emitViewEvent(new yn(i,!1,M,null,U,c,X)))}changeWhitespace(i){this.viewLayout.changeWhitespace(i)&&(this._eventDispatcher.emitSingleViewEvent(new ti),this._eventDispatcher.emitOutgoingEvent(new No))}_withViewEventsCollector(i){try{return i(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(i,c){return this._lines.normalizePosition(i,c)}getLineIndentColumn(i){return this._lines.getLineIndentColumn(i)}}class Qa{constructor(i,c,M,U,X){this._model=i,this._viewLineNumber=c,this._isValid=M,this._modelTrackedRange=U,this._startLineDelta=X}static create(i){const c=i._setTrackedRange(null,new we.e(1,1,1,1),1);return new Qa(i,1,!1,c,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(i,c){const M=i.coordinatesConverter.convertViewPositionToModelPosition(new oe.L(c,i.getLineMinColumn(c))),U=i.model._setTrackedRange(this._modelTrackedRange,new we.e(M.lineNumber,M.column,M.lineNumber,M.column),1),X=i.viewLayout.getVerticalOffsetForLineNumber(c),Te=i.viewLayout.getCurrentScrollTop();this._viewLineNumber=c,this._isValid=!0,this._modelTrackedRange=U,this._startLineDelta=Te-X}invalidate(){this._isValid=!1}}class ga{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(i,c,M,U,X){const Te=this._asMap[i];if(Te){const Ue=Te.data,xt=Ue[Ue.length-1];if(Ue[Ue.length-3]===X&&xt+1>=M)return void(U>xt&&(Ue[Ue.length-1]=U));Ue.push(X,M,U)}else{const Ue=new fs.SQ(i,c,[X,M,U]);this._asMap[i]=Ue,this.asArray.push(Ue)}}}var wl=e(34468),Cr=e(38336),Dl=e(30888),El=e(39135),Wl=e(83916),Hl=e(89646);class va{constructor(i,c,M,U,X){this.injectionOffsets=i,this.injectionOptions=c,this.breakOffsets=M,this.breakOffsetsVisibleColumn=U,this.wrappedTextIndentLength=X}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){let U=this.breakOffsets[i]-(i>0?this.breakOffsets[i-1]:0);return i>0&&(U+=this.wrappedTextIndentLength),U}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,c){i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength));let U=0===i?c:this.breakOffsets[i-1]+c;if(null!==this.injectionOffsets)for(let X=0;X<this.injectionOffsets.length&&U>this.injectionOffsets[X];X++)U<this.injectionOffsets[X]+this.injectionOptions[X].content.length?U=this.injectionOffsets[X]:U-=this.injectionOptions[X].content.length;return U}translateToOutputPosition(i,c=2){let M=i;if(null!==this.injectionOffsets)for(let U=0;U<this.injectionOffsets.length&&!(i<this.injectionOffsets[U]||1!==c&&i===this.injectionOffsets[U]);U++)M+=this.injectionOptions[U].content.length;return this.offsetInInputWithInjectionsToOutputPosition(M,c)}offsetInInputWithInjectionsToOutputPosition(i,c=2){let M=0,U=this.breakOffsets.length-1,X=0,Te=0;for(;M<=U;){X=M+(U-M)/2|0;const gt=this.breakOffsets[X];if(Te=X>0?this.breakOffsets[X-1]:0,0===c)if(i<=Te)U=X-1;else{if(!(i>gt))break;M=X+1}else if(i<Te)U=X-1;else{if(!(i>=gt))break;M=X+1}}let Ue=i-Te;return X>0&&(Ue+=this.wrappedTextIndentLength),new ts(X,Ue)}normalizeOutputPosition(i,c,M){if(null!==this.injectionOffsets){const U=this.outputPositionToOffsetInInputWithInjections(i,c),X=this.normalizeOffsetInInputWithInjectionsAroundInjections(U,M);if(X!==U)return this.offsetInInputWithInjectionsToOutputPosition(X,M)}if(0===M){if(i>0&&c===this.getMinOutputOffset(i))return new ts(i-1,this.getMaxOutputOffset(i-1))}else if(1===M&&i<this.getOutputLineCount()-1&&c===this.getMaxOutputOffset(i))return new ts(i+1,this.getMinOutputOffset(i+1));return new ts(i,c)}outputPositionToOffsetInInputWithInjections(i,c){return i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+c}normalizeOffsetInInputWithInjectionsAroundInjections(i,c){const M=this.getInjectedTextAtOffset(i);if(!M)return i;if(2===c){if(i===M.offsetInInputWithInjections+M.length&&gd(this.injectionOptions[M.injectedTextIndex].cursorStops))return M.offsetInInputWithInjections+M.length;{let U=M.offsetInInputWithInjections;if(Ll(this.injectionOptions[M.injectedTextIndex].cursorStops))return U;let X=M.injectedTextIndex-1;for(;X>=0&&this.injectionOffsets[X]===this.injectionOffsets[M.injectedTextIndex]&&!gd(this.injectionOptions[X].cursorStops)&&(U-=this.injectionOptions[X].content.length,!Ll(this.injectionOptions[X].cursorStops));)X--;return U}}if(1===c||4===c){let U=M.offsetInInputWithInjections+M.length,X=M.injectedTextIndex;for(;X+1<this.injectionOffsets.length&&this.injectionOffsets[X+1]===this.injectionOffsets[X];)U+=this.injectionOptions[X+1].content.length,X++;return U}if(0===c||3===c){let U=M.offsetInInputWithInjections,X=M.injectedTextIndex;for(;X-1>=0&&this.injectionOffsets[X-1]===this.injectionOffsets[X];)U-=this.injectionOptions[X-1].content.length,X--;return U}(0,Ji.vE)(c)}getInjectedText(i,c){const M=this.outputPositionToOffsetInInputWithInjections(i,c),U=this.getInjectedTextAtOffset(M);return U?{options:this.injectionOptions[U.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const c=this.injectionOffsets,M=this.injectionOptions;if(null!==c){let U=0;for(let X=0;X<c.length;X++){const Te=M[X].content.length,Ue=c[X]+U,gt=c[X]+U+Te;if(Ue>i)break;if(i<=gt)return{injectedTextIndex:X,offsetInInputWithInjections:Ue,length:Te};U+=Te}}}}function gd(Vt){return null==Vt||Vt===Ws.RM.Right||Vt===Ws.RM.Both}function Ll(Vt){return null==Vt||Vt===Ws.RM.Left||Vt===Ws.RM.Both}class ts{constructor(i,c){this.outputLineIndex=i,this.outputOffset=c}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new oe.L(i+this.outputLineIndex,this.outputOffset+1)}}class ji{constructor(i,c){this.classifier=new dl(i,c)}static create(i){return new ji(i.get(122),i.get(121))}createLineBreaksComputer(i,c,M,U){const X=[],Te=[],Ue=[];return{addRequest:(gt,xt,kt)=>{X.push(gt),Te.push(xt),Ue.push(kt)},finalize:()=>{const gt=i.typicalFullwidthCharacterWidth/i.typicalHalfwidthCharacterWidth,xt=[];for(let kt=0,Qt=X.length;kt<Qt;kt++){const hn=Te[kt],fn=Ue[kt];xt[kt]=!fn||fn.injectionOptions||hn?mr(this.classifier,X[kt],hn,c,M,gt,U):rs(this.classifier,fn,X[kt],c,M,gt,U)}return Qr.length=0,Pa.length=0,xt}}}}class dl extends Hl.N{constructor(i,c){super(0);for(let M=0;M<i.length;M++)this.set(i.charCodeAt(M),1);for(let M=0;M<c.length;M++)this.set(c.charCodeAt(M),2)}get(i){return i>=0&&i<256?this._asciiMap[i]:i>=12352&&i<=12543||i>=13312&&i<=19903||i>=19968&&i<=40959?3:this._map.get(i)||this._defaultValue}}let Qr=[],Pa=[];function rs(Vt,i,c,M,U,X,Te){if(-1===U)return null;const Ue=c.length;if(Ue<=1)return null;const gt=i.breakOffsets,xt=i.breakOffsetsVisibleColumn,kt=ia(c,M,U,X,Te),Qt=U-kt,hn=Qr,fn=Pa;let On=0,Un=0,jn=0,ai=U;const mi=gt.length;let Si=0;if(Si>=0){let Ki=Math.abs(xt[Si]-ai);for(;Si+1<mi;){const eo=Math.abs(xt[Si+1]-ai);if(eo>=Ki)break;Ki=eo,Si++}}for(;Si<mi;){let Ki=Si<0?0:gt[Si],eo=Si<0?0:xt[Si];Un>Ki&&(Ki=Un,eo=jn);let Gi=0,to=0,Vi=0,go=0;if(eo<=ai){let So=eo,cs=0===Ki?0:c.charCodeAt(Ki-1),us=0===Ki?0:Vt.get(cs),Gs=!0;for(let Yo=Ki;Yo<Ue;Yo++){const xs=Yo,Rs=c.charCodeAt(Yo);let Os,yr;if(Cn.ZG(Rs)?(Yo++,Os=0,yr=2):(Os=Vt.get(Rs),yr=Qn(Rs,So,M,X)),xs>Un&&Hr(0,us,Rs,Os)&&(Gi=xs,to=So),So+=yr,So>ai){xs>Un?(Vi=xs,go=So-yr):(Vi=Yo+1,go=So),So-to>Qt&&(Gi=0),Gs=!1;break}cs=Rs,us=Os}if(Gs){On>0&&(hn[On]=gt[gt.length-1],fn[On]=xt[gt.length-1],On++);break}}if(0===Gi){let So=eo,cs=c.charCodeAt(Ki),us=Vt.get(cs),Gs=!1;for(let Yo=Ki-1;Yo>=Un;Yo--){const xs=Yo+1,Rs=c.charCodeAt(Yo);if(9===Rs){Gs=!0;break}let Os,yr;if(Cn.YK(Rs)?(Yo--,Os=0,yr=2):(Os=Vt.get(Rs),yr=Cn.K7(Rs)?X:1),So<=ai){if(0===Vi&&(Vi=xs,go=So),So<=ai-Qt)break;if(Hr(0,Os,cs,us)){Gi=xs,to=So;break}}So-=yr,cs=Rs,us=Os}if(0!==Gi){const Yo=Qt-(go-to);if(Yo<=M){const xs=c.charCodeAt(Vi);let Rs;Rs=Cn.ZG(xs)?2:Qn(xs,go,M,X),Yo-Rs<0&&(Gi=0)}}if(Gs){Si--;continue}}if(0===Gi&&(Gi=Vi,to=go),Gi<=Un){const So=c.charCodeAt(Un);Cn.ZG(So)?(Gi=Un+2,to=jn+2):(Gi=Un+1,to=jn+Qn(So,jn,M,X))}for(Un=Gi,hn[On]=Gi,jn=to,fn[On]=to,On++,ai=to+Qt;Si<0||Si<mi&&xt[Si]<to;)Si++;let Bo=Math.abs(xt[Si]-ai);for(;Si+1<mi;){const So=Math.abs(xt[Si+1]-ai);if(So>=Bo)break;Bo=So,Si++}}return 0===On?null:(hn.length=On,fn.length=On,Qr=i.breakOffsets,Pa=i.breakOffsetsVisibleColumn,i.breakOffsets=hn,i.breakOffsetsVisibleColumn=fn,i.wrappedTextIndentLength=kt,i)}function mr(Vt,i,c,M,U,X,Te){const Ue=zi.gk.applyInjectedText(i,c);let gt,xt;if(c&&c.length>0?(gt=c.map(to=>to.options),xt=c.map(to=>to.column-1)):(gt=null,xt=null),-1===U)return gt?new va(xt,gt,[Ue.length],[],0):null;const kt=Ue.length;if(kt<=1)return gt?new va(xt,gt,[Ue.length],[],0):null;const Qt=ia(Ue,M,U,X,Te),hn=U-Qt,fn=[],On=[];let Un=0,jn=0,ai=0,mi=U,Si=Ue.charCodeAt(0),Ki=Vt.get(Si),eo=Qn(Si,0,M,X),Gi=1;Cn.ZG(Si)&&(eo+=1,Si=Ue.charCodeAt(1),Ki=Vt.get(Si),Gi++);for(let to=Gi;to<kt;to++){const Vi=to,go=Ue.charCodeAt(to);let Bo,So;Cn.ZG(go)?(to++,Bo=0,So=2):(Bo=Vt.get(go),So=Qn(go,eo,M,X)),Hr(0,Ki,go,Bo)&&(jn=Vi,ai=eo),eo+=So,eo>mi&&((0===jn||eo-ai>hn)&&(jn=Vi,ai=eo-So),fn[Un]=jn,On[Un]=ai,Un++,mi=ai+hn,jn=0),Si=go,Ki=Bo}return 0!==Un||c&&0!==c.length?(fn[Un]=kt,On[Un]=eo,new va(xt,gt,fn,On,Qt)):null}function Qn(Vt,i,c,M){return 9===Vt?c-i%c:Cn.K7(Vt)||Vt<32?M:1}function Aa(Vt,i){return i-Vt%i}function Hr(Vt,i,c,M){return 32!==c&&(2===i&&2!==M||1!==i&&1===M||3===i&&2!==M||3===M&&1!==i)}function ia(Vt,i,c,M,U){let X=0;if(0!==U){const Te=Cn.LC(Vt);if(-1!==Te){for(let gt=0;gt<Te;gt++)X+=9===Vt.charCodeAt(gt)?Aa(X,i):1;const Ue=3===U?2:2===U?1:0;for(let gt=0;gt<Ue;gt++)X+=Aa(X,i);X+M>c&&(X=0)}}return X}var Ya;const Na=null===(Ya=window.trustedTypes)||void 0===Ya?void 0:Ya.createPolicy("domLineBreaksComputer",{createHTML:Vt=>Vt});class cl{static create(){return new cl}constructor(){}createLineBreaksComputer(i,c,M,U){const X=[],Te=[];return{addRequest:(Ue,gt,xt)=>{X.push(Ue),Te.push(gt)},finalize:()=>function ul(Vt,i,c,M,U,X){var Te;function Ue(Vi){const go=X[Vi];if(go){const Bo=zi.gk.applyInjectedText(Vt[Vi],go),So=go.map(us=>us.options),cs=go.map(us=>us.column-1);return new va(cs,So,[Bo.length],[],0)}return null}if(-1===M){const Vi=[];for(let go=0,Bo=Vt.length;go<Bo;go++)Vi[go]=Ue(go);return Vi}const gt=Math.round(M*i.typicalHalfwidthCharacterWidth),kt=Math.round(c*(3===U?2:2===U?1:0)),Qt=Math.ceil(i.spaceWidth*kt),hn=document.createElement("div");(0,Pn.N)(hn,i);const fn=(0,Bn.l$)(1e4),On=[],Un=[],jn=[],ai=[],mi=[];for(let Vi=0;Vi<Vt.length;Vi++){const go=zi.gk.applyInjectedText(Vt[Vi],X[Vi]);let Bo=0,So=0,cs=gt;if(0!==U)if(Bo=Cn.LC(go),-1===Bo)Bo=0;else{for(let xs=0;xs<Bo;xs++)So+=9===go.charCodeAt(xs)?c-So%c:1;const Yo=Math.ceil(i.spaceWidth*So);Yo+i.typicalFullwidthCharacterWidth>gt?(Bo=0,So=0):cs=gt-Yo}const us=go.substr(Bo),Gs=Il(us,So,c,cs,fn,Qt);On[Vi]=Bo,Un[Vi]=So,jn[Vi]=us,ai[Vi]=Gs[0],mi[Vi]=Gs[1]}const Si=fn.build(),Ki=null!==(Te=Na?.createHTML(Si))&&void 0!==Te?Te:Si;hn.innerHTML=Ki,hn.style.position="absolute",hn.style.top="10000",hn.style.wordWrap="break-word",document.body.appendChild(hn);const eo=document.createRange(),Gi=Array.prototype.slice.call(hn.children,0),to=[];for(let Vi=0;Vi<Vt.length;Vi++){const Bo=md(eo,Gi[Vi],jn[Vi],ai[Vi]);if(null===Bo){to[Vi]=Ue(Vi);continue}const So=On[Vi],cs=Un[Vi]+kt,us=mi[Vi],Gs=[];for(let Os=0,yr=Bo.length;Os<yr;Os++)Gs[Os]=us[Bo[Os]];if(0!==So)for(let Os=0,yr=Bo.length;Os<yr;Os++)Bo[Os]+=So;let Yo,xs;const Rs=X[Vi];Rs?(Yo=Rs.map(Os=>Os.options),xs=Rs.map(Os=>Os.column-1)):(Yo=null,xs=null),to[Vi]=new va(xs,Yo,Bo,Gs,cs)}return document.body.removeChild(hn),to}(X,i,c,M,U,Te)}}}function Il(Vt,i,c,M,U,X){if(0!==X){const hn=String(X);U.appendASCIIString('<div style="text-indent: -'),U.appendASCIIString(hn),U.appendASCIIString("px; padding-left: "),U.appendASCIIString(hn),U.appendASCIIString("px; box-sizing: border-box; width:")}else U.appendASCIIString('<div style="width:');U.appendASCIIString(String(M)),U.appendASCIIString('px;">');const Te=Vt.length;let Ue=i,gt=0;const xt=[],kt=[];let Qt=0<Te?Vt.charCodeAt(0):0;U.appendASCIIString("<span>");for(let hn=0;hn<Te;hn++){0!==hn&&hn%16384==0&&U.appendASCIIString("</span><span>"),xt[hn]=gt,kt[hn]=Ue;const fn=Qt;Qt=hn+1<Te?Vt.charCodeAt(hn+1):0;let On=1,Un=1;switch(fn){case 9:On=c-Ue%c,Un=On;for(let jn=1;jn<=On;jn++)jn<On?U.write1(160):U.appendASCII(32);break;case 32:32===Qt?U.write1(160):U.appendASCII(32);break;case 60:U.appendASCIIString("&lt;");break;case 62:U.appendASCIIString("&gt;");break;case 38:U.appendASCIIString("&amp;");break;case 0:U.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:U.write1(65533);break;default:Cn.K7(fn)&&Un++,U.write1(fn<32?9216+fn:fn)}gt+=On,Ue+=Un}return U.appendASCIIString("</span>"),xt[Vt.length]=gt,kt[Vt.length]=Ue,U.appendASCIIString("</div>"),[xt,kt]}function md(Vt,i,c,M){if(c.length<=1)return null;const U=Array.prototype.slice.call(i.children,0),X=[];try{hl(Vt,U,M,0,null,c.length-1,null,X)}catch(Te){return console.log(Te),null}return 0===X.length?null:(X.push(c.length),X)}function hl(Vt,i,c,M,U,X,Te,Ue){if(M===X||(U=U||Ra(Vt,i,c[M],c[M+1]),Te=Te||Ra(Vt,i,c[X],c[X+1]),Math.abs(U[0].top-Te[0].top)<=.1))return;if(M+1===X)return void Ue.push(X);const gt=M+(X-M)/2|0,xt=Ra(Vt,i,c[gt],c[gt+1]);hl(Vt,i,c,M,U,gt,xt,Ue),hl(Vt,i,c,gt,xt,X,Te,Ue)}function Ra(Vt,i,c,M){return Vt.setStart(i[c/16384|0].firstChild,c%16384),Vt.setEnd(i[M/16384|0].firstChild,M%16384),Vt.getClientRects()}var Ca=e(96453),Hs=e(15333),dr=e(13154),Vr=function(Vt,i){return function(c,M){i(c,M,Vt)}};let Tl=0;class _d{constructor(i,c,M,U,X){this.model=i,this.viewModel=c,this.view=M,this.hasRealView=U,this.listenersToRemove=X}dispose(){(0,W.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Xa=class ld extends W.JT{constructor(i,c,M,U,X,Te,Ue,gt,xt,kt,Qt,hn){super(),this.languageConfigurationService=Qt,this._deliveryQueue=new k.F3,this._onDidDispose=this._register(new k.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Ul({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Ul({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new k.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const fn=Object.assign({},c);let On;this._domElement=i,this._overflowWidgetsDomNode=fn.overflowWidgetsDomNode,delete fn.overflowWidgetsDomNode,this._id=++Tl,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=M.telemetryData,this._configuration=this._register(this._createConfiguration(M.isSimpleWidget||!1,fn,kt)),this._register(this._configuration.onDidChange(jn=>{this._onDidChangeConfiguration.fire(jn);const ai=this._configuration.options;if(jn.hasChanged(133)){const mi=ai.get(133);this._onDidLayoutChange.fire(mi)}})),this._contextKeyService=this._register(Ue.createScoped(this._domElement)),this._notificationService=xt,this._codeEditorService=X,this._commandService=Te,this._themeService=gt,this._register(new Ud(this,this._contextKeyService)),this._register(new jd(this,this._contextKeyService,hn)),this._instantiationService=U.createChild(new El.y([Cr.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new jl(i),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},On=Array.isArray(M.contributions)?M.contributions:t.Uc.getEditorContributions();for(const jn of On)if(this._contributions[jn.id])(0,A.dL)(new Error(`Cannot have two contributions with the same id ${jn.id}`));else try{const ai=this._instantiationService.createInstance(jn.ctor,this);this._contributions[jn.id]=ai}catch(ai){(0,A.dL)(ai)}t.Uc.getEditorActions().forEach(jn=>{if(this._actions[jn.id])return void(0,A.dL)(new Error(`Cannot have two actions with the same id ${jn.id}`));const ai=new zs.p(jn.id,jn.label,jn.alias,(0,Ji.f6)(jn.precondition),()=>this._instantiationService.invokeFunction(mi=>Promise.resolve(jn.runEditorCommand(mi,this,null))),this._contextKeyService);this._actions[ai.id]=ai});const Un=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new x.eg(this._domElement,{onDragEnter:()=>{},onDragOver:jn=>{if(!Un())return;const ai=this.getTargetAtClientPoint(jn.clientX,jn.clientY);ai?.position&&this.showDropIndicatorAt(ai.position)},onDrop:jn=>function(Vt,i,c,M){return new(c||(c=Promise))(function(X,Te){function Ue(kt){try{xt(M.next(kt))}catch(Qt){Te(Qt)}}function gt(kt){try{xt(M.throw(kt))}catch(Qt){Te(Qt)}}function xt(kt){kt.done?X(kt.value):function U(X){return X instanceof c?X:new c(function(Te){Te(X)})}(kt.value).then(Ue,gt)}xt((M=M.apply(Vt,i||[])).next())})}(this,void 0,void 0,function*(){if(!Un()||(this.removeDropIndicator(),!jn.dataTransfer))return;const ai=this.getTargetAtClientPoint(jn.clientX,jn.clientY);ai?.position&&this._onDropIntoEditor.fire({position:ai.position,event:jn})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(i,c,M){return new Ee(i,c,this._domElement,M)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return lr.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const i=Object.keys(this._contributions);for(let c=0,M=i.length;c<M;c++)this._contributions[i[c]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(i){return this._instantiationService.invokeFunction(i)}updateOptions(i){this._configuration.updateOptions(i||{})}getOptions(){return this._configuration.options}getOption(i){return this._configuration.options.get(i)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(i){return this._modelData?Ca.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),i):null}getValue(i=null){if(!this._modelData)return"";let M=0;return i&&i.lineEnding&&"\n"===i.lineEnding?M=1:i&&i.lineEnding&&"\r\n"===i.lineEnding&&(M=2),this._modelData.model.getValue(M,!(!i||!i.preserveBOM))}setValue(i){this._modelData&&this._modelData.model.setValue(i)}getModel(){return this._modelData?this._modelData.model:null}setModel(i=null){const c=i;if(null===this._modelData&&null===c||this._modelData&&this._modelData.model===c)return;const M=this.hasTextFocus(),U=this._detachModel();this._attachModel(c),M&&this.hasModel()&&this.focus();const X={oldModelUrl:U?U.uri:null,newModelUrl:c?c.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(X),this._postDetachModelCleanup(U)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const i in this._decorationTypeSubtypes){const c=this._decorationTypeSubtypes[i];for(const M in c)this._removeDecorationType(i+"-"+M)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(i,c,M,U){const X=i.model.validatePosition({lineNumber:c,column:M}),Te=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return i.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Te.lineNumber,U)}getTopForLineNumber(i,c=!1){return this._modelData?ld._getVerticalOffsetForPosition(this._modelData,i,1,c):-1}getTopForPosition(i,c){return this._modelData?ld._getVerticalOffsetForPosition(this._modelData,i,c,!1):-1}static _getVerticalOffsetForPosition(i,c,M,U=!1){const X=i.model.validatePosition({lineNumber:c,column:M}),Te=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return i.viewModel.viewLayout.getVerticalOffsetForLineNumber(Te.lineNumber,U)}getBottomForLineNumber(i,c=!1){return this._modelData?ld._getVerticalOffsetAfterPosition(this._modelData,i,1,c):-1}setHiddenAreas(i){var c;null===(c=this._modelData)||void 0===c||c.viewModel.setHiddenAreas(i.map(M=>we.e.lift(M)))}getVisibleColumnFromPosition(i){if(!this._modelData)return i.column;const c=this._modelData.model.validatePosition(i),M=this._modelData.model.getOptions().tabSize;return nt.i.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,M)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(i,c="api"){if(this._modelData){if(!oe.L.isIPosition(i))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,[{selectionStartLineNumber:i.lineNumber,selectionStartColumn:i.column,positionLineNumber:i.lineNumber,positionColumn:i.column}])}}_sendRevealRange(i,c,M,U){if(!this._modelData)return;if(!we.e.isIRange(i))throw new Error("Invalid arguments");const X=this._modelData.model.validateRange(i),Te=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(X);this._modelData.viewModel.revealRange("api",M,Te,c,U)}revealLine(i,c=0){this._revealLine(i,0,c)}revealLineInCenter(i,c=0){this._revealLine(i,1,c)}revealLineInCenterIfOutsideViewport(i,c=0){this._revealLine(i,2,c)}revealLineNearTop(i,c=0){this._revealLine(i,5,c)}_revealLine(i,c,M){if("number"!=typeof i)throw new Error("Invalid arguments");this._sendRevealRange(new we.e(i,1,i,1),c,!1,M)}revealPosition(i,c=0){this._revealPosition(i,0,!0,c)}revealPositionInCenter(i,c=0){this._revealPosition(i,1,!0,c)}revealPositionInCenterIfOutsideViewport(i,c=0){this._revealPosition(i,2,!0,c)}revealPositionNearTop(i,c=0){this._revealPosition(i,5,!0,c)}_revealPosition(i,c,M,U){if(!oe.L.isIPosition(i))throw new Error("Invalid arguments");this._sendRevealRange(new we.e(i.lineNumber,i.column,i.lineNumber,i.column),c,M,U)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(i,c="api"){const M=Ke.Y.isISelection(i),U=we.e.isIRange(i);if(!M&&!U)throw new Error("Invalid arguments");M?this._setSelectionImpl(i,c):U&&this._setSelectionImpl({selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn},c)}_setSelectionImpl(i,c){if(!this._modelData)return;const M=new Ke.Y(i.selectionStartLineNumber,i.selectionStartColumn,i.positionLineNumber,i.positionColumn);this._modelData.viewModel.setSelections(c,[M])}revealLines(i,c,M=0){this._revealLines(i,c,0,M)}revealLinesInCenter(i,c,M=0){this._revealLines(i,c,1,M)}revealLinesInCenterIfOutsideViewport(i,c,M=0){this._revealLines(i,c,2,M)}revealLinesNearTop(i,c,M=0){this._revealLines(i,c,5,M)}_revealLines(i,c,M,U){if("number"!=typeof i||"number"!=typeof c)throw new Error("Invalid arguments");this._sendRevealRange(new we.e(i,1,c,1),M,!1,U)}revealRange(i,c=0,M=!1,U=!0){this._revealRange(i,M?1:0,U,c)}revealRangeInCenter(i,c=0){this._revealRange(i,1,!0,c)}revealRangeInCenterIfOutsideViewport(i,c=0){this._revealRange(i,2,!0,c)}revealRangeNearTop(i,c=0){this._revealRange(i,5,!0,c)}revealRangeNearTopIfOutsideViewport(i,c=0){this._revealRange(i,6,!0,c)}revealRangeAtTop(i,c=0){this._revealRange(i,3,!0,c)}_revealRange(i,c,M,U){if(!we.e.isIRange(i))throw new Error("Invalid arguments");this._sendRevealRange(we.e.lift(i),c,M,U)}setSelections(i,c="api",M=0){if(this._modelData){if(!i||0===i.length)throw new Error("Invalid arguments");for(let U=0,X=i.length;U<X;U++)if(!Ke.Y.isISelection(i[U]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,i,M)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(i,c=1){if(this._modelData){if("number"!=typeof i)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:i},c)}}setScrollTop(i,c=1){if(this._modelData){if("number"!=typeof i)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:i},c)}}setScrollPosition(i,c=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(i,c)}saveViewState(){if(!this._modelData)return null;const i={},c=Object.keys(this._contributions);for(const X of c){const Te=this._contributions[X];"function"==typeof Te.saveViewState&&(i[X]=Te.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:i}}restoreViewState(i){if(!this._modelData||!this._modelData.hasRealView)return;const c=i;if(c&&c.cursorState&&c.viewState){const M=c.cursorState;Array.isArray(M)?M.length>0&&this._modelData.viewModel.restoreCursorState(M):this._modelData.viewModel.restoreCursorState([M]);const U=c.contributionsState||{},X=Object.keys(this._contributions);for(let Ue=0,gt=X.length;Ue<gt;Ue++){const xt=X[Ue],kt=this._contributions[xt];"function"==typeof kt.restoreViewState&&kt.restoreViewState(U[xt])}const Te=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(Te)}}getContribution(i){return this._contributions[i]||null}getActions(){const i=[],c=Object.keys(this._actions);for(let M=0,U=c.length;M<U;M++)i.push(this._actions[c[M]]);return i}getSupportedActions(){let i=this.getActions();return i=i.filter(c=>c.isSupported()),i}getAction(i){return this._actions[i]||null}trigger(i,c,M){switch(M=M||{},c){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(i);case"type":return void this._type(i,M.text||"");case"replacePreviousChar":return void this._compositionType(i,M.text||"",M.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(i,M.text||"",M.replacePrevCharCnt||0,M.replaceNextCharCnt||0,M.positionDelta||0);case"paste":return void this._paste(i,M.text||"",M.pasteOnNewLine||!1,M.multicursorText||null,M.mode||null);case"cut":return void this._cut(i)}const U=this.getAction(c);U?Promise.resolve(U.run()).then(void 0,A.dL):this._modelData&&(this._triggerEditorCommand(i,c,M)||this._triggerCommand(c,M))}_triggerCommand(i,c){this._commandService.executeCommand(i,c)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(i){this._modelData&&(this._modelData.viewModel.endComposition(i),this._onDidCompositionEnd.fire())}_type(i,c){!this._modelData||0===c.length||("keyboard"===i&&this._onWillType.fire(c),this._modelData.viewModel.type(c,i),"keyboard"===i&&this._onDidType.fire(c))}_compositionType(i,c,M,U,X){this._modelData&&this._modelData.viewModel.compositionType(c,M,U,X,i)}_paste(i,c,M,U,X){if(!this._modelData||0===c.length)return;const Te=this._modelData.viewModel,Ue=Te.getSelection().getStartPosition();Te.paste(c,M,U,i);const gt=Te.getSelection().getStartPosition();"keyboard"===i&&this._onDidPaste.fire({range:new we.e(Ue.lineNumber,Ue.column,gt.lineNumber,gt.column),languageId:X})}_cut(i){this._modelData&&this._modelData.viewModel.cut(i)}_triggerEditorCommand(i,c,M){const U=t.Uc.getEditorCommand(c);return!!U&&((M=M||{}).source=i,this._instantiationService.invokeFunction(X=>{Promise.resolve(U.runEditorCommand(X,this,M)).then(void 0,A.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.popStackElement(),0))}executeEdits(i,c,M){if(!this._modelData||this._configuration.options.get(83))return!1;let U;return U=M?Array.isArray(M)?()=>M:M:()=>null,this._modelData.viewModel.executeEdits(i,c,U),!0}executeCommand(i,c){this._modelData&&this._modelData.viewModel.executeCommand(c,i)}executeCommands(i,c){this._modelData&&this._modelData.viewModel.executeCommands(c,i)}createDecorationsCollection(i){return new ya(this,i)}changeDecorations(i){return this._modelData?this._modelData.model.changeDecorations(i,this._id):null}getLineDecorations(i){return this._modelData?this._modelData.model.getLineDecorations(i,this._id,(0,Ie.$J)(this._configuration.options)):null}getDecorationsInRange(i){return this._modelData?this._modelData.model.getDecorationsInRange(i,this._id,(0,Ie.$J)(this._configuration.options)):null}deltaDecorations(i,c){return this._modelData?0===i.length&&0===c.length?i:this._modelData.model.deltaDecorations(i,c,this._id):[]}removeDecorations(i){!this._modelData||0===i.length||this._modelData.model.changeDecorations(c=>{c.deltaDecorations(i,[])})}removeDecorationsByType(i){const c=this._decorationTypeKeysToIds[i];c&&this.deltaDecorations(c,[]),this._decorationTypeKeysToIds.hasOwnProperty(i)&&delete this._decorationTypeKeysToIds[i],this._decorationTypeSubtypes.hasOwnProperty(i)&&delete this._decorationTypeSubtypes[i]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(i):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(i)}layout(i){this._configuration.observeContainer(i),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(i){const c={widget:i,position:i.getPosition()};this._contentWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)}layoutContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const M=this._contentWidgets[c];M.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(M)}}removeContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const M=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(M)}}addOverlayWidget(i){const c={widget:i,position:i.getPosition()};this._overlayWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)}layoutOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const M=this._overlayWidgets[c];M.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(M)}}removeOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const M=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(M)}}changeViewZones(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(i)}getTargetAtClientPoint(i,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(i,c):null}getScrolledVisiblePosition(i){if(!this._modelData||!this._modelData.hasRealView)return null;const c=this._modelData.model.validatePosition(i),M=this._configuration.options,U=M.get(133);return{top:ld._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+U.glyphMarginWidth+U.lineNumbersWidth+U.decorationsWidth-this.getScrollLeft(),height:M.get(61)}}getOffsetForColumn(i,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(i,c):-1}render(i=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,i)}setAriaOptions(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(i)}applyFontInfo(i){(0,Pn.N)(i,this._configuration.options.get(46))}setBanner(i,c){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=i,this._configuration.setReservedHeight(i?c:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(i){if(!i)return void(this._modelData=null);const c=[];this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._configuration.setIsDominatedByLongLines(i.isDominatedByLongLines()),this._configuration.setModelLineCount(i.getLineCount()),i.onBeforeAttached();const M=new Sl(this._id,this._configuration,i,cl.create(),ji.create(this._configuration.options),Te=>x.jL(Te),this.languageConfigurationService,this._themeService);c.push(i.onWillDispose(()=>this.setModel(null))),c.push(M.onEvent(Te=>{switch(Te.kind){case 0:this._onDidContentSizeChange.fire(Te);break;case 1:this._editorTextFocus.setValue(Te.hasFocus);break;case 2:this._onDidScrollChange.fire(Te);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{Te.reachedMaxCursorCount&&this._notificationService.warn(L.NC("cursors.maximum","The number of cursors has been limited to {0}.",qo.MAX_CURSOR_COUNT));const Ue=[];for(let kt=0,Qt=Te.selections.length;kt<Qt;kt++)Ue[kt]=Te.selections[kt].getPosition();const gt={position:Ue[0],secondaryPositions:Ue.slice(1),reason:Te.reason,source:Te.source};this._onDidChangeCursorPosition.fire(gt);const xt={selection:Te.selections[0],secondarySelections:Te.selections.slice(1),modelVersionId:Te.modelVersionId,oldSelections:Te.oldSelections,oldModelVersionId:Te.oldModelVersionId,source:Te.source,reason:Te.reason};this._onDidChangeCursorSelection.fire(xt);break}case 7:this._onDidChangeModelDecorations.fire(Te.event);break;case 8:this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._onDidChangeModelLanguage.fire(Te.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Te.event);break;case 10:this._onDidChangeModelContent.fire(Te.event);break;case 11:this._onDidChangeModelOptions.fire(Te.event);break;case 12:this._onDidChangeModelTokens.fire(Te.event)}}));const[U,X]=this._createView(M);if(X){this._domElement.appendChild(U.domNode.domNode);let Te=Object.keys(this._contentWidgets);for(let Ue=0,gt=Te.length;Ue<gt;Ue++)U.addContentWidget(this._contentWidgets[Te[Ue]]);Te=Object.keys(this._overlayWidgets);for(let Ue=0,gt=Te.length;Ue<gt;Ue++)U.addOverlayWidget(this._overlayWidgets[Te[Ue]]);U.render(!1,!0),U.domNode.domNode.setAttribute("data-uri",i.uri.toString())}this._modelData=new _d(i,M,U,X,c)}_createView(i){let c;c=this.isSimpleWidget?{paste:(X,Te,Ue,gt)=>{this._paste("keyboard",X,Te,Ue,gt)},type:X=>{this._type("keyboard",X)},compositionType:(X,Te,Ue,gt)=>{this._compositionType("keyboard",X,Te,Ue,gt)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(X,Te,Ue,gt)=>{this._commandService.executeCommand("paste",{text:X,pasteOnNewLine:Te,multicursorText:Ue,mode:gt})},type:X=>{this._commandService.executeCommand("type",{text:X})},compositionType:(X,Te,Ue,gt)=>{Ue||gt?this._commandService.executeCommand("compositionType",{text:X,replacePrevCharCnt:Te,replaceNextCharCnt:Ue,positionDelta:gt}):this._commandService.executeCommand("replacePreviousChar",{text:X,replaceCharCnt:Te})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const M=new dn(i.coordinatesConverter);return M.onKeyDown=X=>this._onKeyDown.fire(X),M.onKeyUp=X=>this._onKeyUp.fire(X),M.onContextMenu=X=>this._onContextMenu.fire(X),M.onMouseMove=X=>this._onMouseMove.fire(X),M.onMouseLeave=X=>this._onMouseLeave.fire(X),M.onMouseDown=X=>this._onMouseDown.fire(X),M.onMouseUp=X=>this._onMouseUp.fire(X),M.onMouseDrag=X=>this._onMouseDrag.fire(X),M.onMouseDrop=X=>this._onMouseDrop.fire(X),M.onMouseDropCanceled=X=>this._onMouseDropCanceled.fire(X),M.onMouseWheel=X=>this._onMouseWheel.fire(X),[new or(c,this._configuration,this._themeService.getColorTheme(),i,M,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(i){i?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const i=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.contains(c)&&this._domElement.removeChild(c),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),i}_removeDecorationType(i){this._codeEditorService.removeDecorationType(i)}hasModel(){return null!==this._modelData}showDropIndicatorAt(i){const c=[{range:new we.e(i.lineNumber,i.column,i.lineNumber,i.column),options:ld.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(c),this.revealPosition(i,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Xa.dropIntoEditorDecorationOptions=ur.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Xa=function(Vt,i,c,M){var Te,U=arguments.length,X=U<3?i:null===M?M=Object.getOwnPropertyDescriptor(i,c):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(Vt,i,c,M);else for(var Ue=Vt.length-1;Ue>=0;Ue--)(Te=Vt[Ue])&&(X=(U<3?Te(X):U>3?Te(i,c,X):Te(i,c))||X);return U>3&&X&&Object.defineProperty(i,c,X),X}([Vr(3,Dl.TG),Vr(4,fe.$),Vr(5,wl.Hy),Vr(6,Cr.i6),Vr(7,Wi.XE),Vr(8,Wl.lT),Vr(9,Oe.F),Vr(10,Hs.c_),Vr(11,dr.p)],Xa);class Ul extends W.JT{constructor(i){super(),this._emitterOptions=i,this._onDidChangeToTrue=this._register(new k.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new k.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(i){const c=i?2:1;this._value!==c&&(this._value=c,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Ud extends W.JT{constructor(i,c){super(),this._editor=i,c.createKey("editorId",i.getId()),this._editorSimpleInput=jo.u.editorSimpleInput.bindTo(c),this._editorFocus=jo.u.focus.bindTo(c),this._textInputFocus=jo.u.textInputFocus.bindTo(c),this._editorTextFocus=jo.u.editorTextFocus.bindTo(c),this._editorTabMovesFocus=jo.u.tabMovesFocus.bindTo(c),this._editorReadonly=jo.u.readOnly.bindTo(c),this._inDiffEditor=jo.u.inDiffEditor.bindTo(c),this._editorColumnSelection=jo.u.columnSelection.bindTo(c),this._hasMultipleSelections=jo.u.hasMultipleSelections.bindTo(c),this._hasNonEmptySelection=jo.u.hasNonEmptySelection.bindTo(c),this._canUndo=jo.u.canUndo.bindTo(c),this._canRedo=jo.u.canRedo.bindTo(c),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const i=this._editor.getOptions();this._editorTabMovesFocus.set(i.get(132)),this._editorReadonly.set(i.get(83)),this._inDiffEditor.set(i.get(56)),this._editorColumnSelection.set(i.get(18))}_updateFromSelection(){const i=this._editor.getSelections();i?(this._hasMultipleSelections.set(i.length>1),this._hasNonEmptySelection.set(i.some(c=>!c.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const i=this._editor.getModel();this._canUndo.set(!(!i||!i.canUndo())),this._canRedo.set(!(!i||!i.canRedo()))}}class jd extends W.JT{constructor(i,c,M){super(),this._editor=i,this._contextKeyService=c,this._languageFeaturesService=M,this._langId=jo.u.languageId.bindTo(c),this._hasCompletionItemProvider=jo.u.hasCompletionItemProvider.bindTo(c),this._hasCodeActionsProvider=jo.u.hasCodeActionsProvider.bindTo(c),this._hasCodeLensProvider=jo.u.hasCodeLensProvider.bindTo(c),this._hasDefinitionProvider=jo.u.hasDefinitionProvider.bindTo(c),this._hasDeclarationProvider=jo.u.hasDeclarationProvider.bindTo(c),this._hasImplementationProvider=jo.u.hasImplementationProvider.bindTo(c),this._hasTypeDefinitionProvider=jo.u.hasTypeDefinitionProvider.bindTo(c),this._hasHoverProvider=jo.u.hasHoverProvider.bindTo(c),this._hasDocumentHighlightProvider=jo.u.hasDocumentHighlightProvider.bindTo(c),this._hasDocumentSymbolProvider=jo.u.hasDocumentSymbolProvider.bindTo(c),this._hasReferenceProvider=jo.u.hasReferenceProvider.bindTo(c),this._hasRenameProvider=jo.u.hasRenameProvider.bindTo(c),this._hasSignatureHelpProvider=jo.u.hasSignatureHelpProvider.bindTo(c),this._hasInlayHintsProvider=jo.u.hasInlayHintsProvider.bindTo(c),this._hasDocumentFormattingProvider=jo.u.hasDocumentFormattingProvider.bindTo(c),this._hasDocumentSelectionFormattingProvider=jo.u.hasDocumentSelectionFormattingProvider.bindTo(c),this._hasMultipleDocumentFormattingProvider=jo.u.hasMultipleDocumentFormattingProvider.bindTo(c),this._hasMultipleDocumentSelectionFormattingProvider=jo.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),this._isInWalkThrough=jo.u.isInWalkThroughSnippet.bindTo(c);const U=()=>this._update();this._register(i.onDidChangeModel(U)),this._register(i.onDidChangeModelLanguage(U)),this._register(M.completionProvider.onDidChange(U)),this._register(M.codeActionProvider.onDidChange(U)),this._register(M.codeLensProvider.onDidChange(U)),this._register(M.definitionProvider.onDidChange(U)),this._register(M.declarationProvider.onDidChange(U)),this._register(M.implementationProvider.onDidChange(U)),this._register(M.typeDefinitionProvider.onDidChange(U)),this._register(M.hoverProvider.onDidChange(U)),this._register(M.documentHighlightProvider.onDidChange(U)),this._register(M.documentSymbolProvider.onDidChange(U)),this._register(M.referenceProvider.onDidChange(U)),this._register(M.renameProvider.onDidChange(U)),this._register(M.documentFormattingEditProvider.onDidChange(U)),this._register(M.documentRangeFormattingEditProvider.onDidChange(U)),this._register(M.signatureHelpProvider.onDidChange(U)),this._register(M.inlayHintsProvider.onDidChange(U)),U()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const i=this._editor.getModel();i?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(i.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(i)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(i)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(i)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(i)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(i)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(i)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(i)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(i)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(i)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(i)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(i)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(i)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(i)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(i)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(i)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(i).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._isInWalkThrough.set(i.uri.scheme===H.lg.walkThroughSnippet)}):this.reset()}}class jl extends W.JT{constructor(i){super(),this._onChange=this._register(new k.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(x.go(i)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class ya{constructor(i,c){this._editor=i,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(c)&&c.length>0&&this.set(c)}get length(){return this._decorationIds.length}onDidChange(i,c,M){return this._editor.onDidChangeModelDecorations(U=>{this._isChangingDecorations||i.call(c,U)},M)}getRange(i){return!this._editor.hasModel()||i>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[i])}getRanges(){if(!this._editor.hasModel())return[];const i=this._editor.getModel(),c=[];for(const M of this._decorationIds){const U=i.getDecorationRange(M);U&&c.push(U)}return c}has(i){return this._decorationIds.includes(i.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(i){try{this._isChangingDecorations=!0,this._editor.changeDecorations(c=>{this._decorationIds=c.deltaDecorations(this._decorationIds,i)})}finally{this._isChangingDecorations=!1}}}const Kl=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),vd=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ba(Vt){return Kl+encodeURIComponent(Vt.toString())+vd}const fl=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Yr=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Wi.Ic)((Vt,i)=>{const c=Vt.getColor(qe.b6y);c&&i.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${c}; }`);const M=Vt.getColor(qe.lXJ);M&&i.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ba(M)}") repeat-x bottom left; }`);const U=Vt.getColor(qe.L_H);U&&i.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${U}; }`);const X=Vt.getColor(qe.pW3);X&&i.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${X}; }`);const Te=Vt.getColor(qe.uoC);Te&&i.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ba(Te)}") repeat-x bottom left; }`);const Ue=Vt.getColor(qe.gpD);Ue&&i.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ue}; }`);const gt=Vt.getColor(qe.T83);gt&&i.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${gt}; }`);const xt=Vt.getColor(qe.c63);xt&&i.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ba(xt)}") repeat-x bottom left; }`);const kt=Vt.getColor(qe.few);kt&&i.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${kt}; }`);const Qt=Vt.getColor(qe.fEB);Qt&&i.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Qt}; }`);const hn=Vt.getColor(qe.Dut);hn&&i.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function Sa(Vt){return fl+encodeURIComponent(Vt.toString())+Yr}(hn)}") no-repeat bottom left; }`);const fn=Vt.getColor(Qi.zu);fn&&i.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${fn.rgba.a}; }`);const On=Vt.getColor(Qi.kp);On&&i.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${On}; }`);const Un=Vt.getColor(qe.NOs)||"inherit";i.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Un}}`)})},70248:(yt,T,e)=>{"use strict";e.d(T,{H:()=>n});var s=e(82941),t=e(60896),l=e(31091),C=e(34468),f=e(38336),I=e(30888),b=e(83916),S=e(14089),D=e(1652),_=e(15333),r=e(13154),u=function(d,y){return function(g,v){y(g,v,d)}};let n=class extends l.Gm{constructor(y,g,v,m,w,E,L,x,A,k,W,H){super(y,Object.assign(Object.assign({},v.getRawOptions()),{overflowWidgetsDomNode:v.getOverflowWidgetsDomNode()}),{},m,w,E,L,x,A,k,W,H),this._parentEditor=v,this._overwriteOptions=g,super.updateOptions(this._overwriteOptions),this._register(v.onDidChangeConfiguration(z=>this._onParentConfigurationChanged(z)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(y){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(y){s.jB(this._overwriteOptions,y,!0),super.updateOptions(this._overwriteOptions)}};n=function(d,y,g,v){var E,m=arguments.length,w=m<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,g):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(d,y,g,v);else for(var L=d.length-1;L>=0;L--)(E=d[L])&&(w=(m<3?E(w):m>3?E(y,g,w):E(y,g))||w);return m>3&&w&&Object.defineProperty(y,g,w),w}([u(3,I.TG),u(4,t.$),u(5,C.Hy),u(6,f.i6),u(7,S.XE),u(8,b.lT),u(9,D.F),u(10,_.c_),u(11,r.p)],n)},57535:(yt,T,e)=>{"use strict";e.d(T,{OY:()=>l,Sj:()=>C,T4:()=>t,Uo:()=>f,hP:()=>I});var s=e(58745);class t{constructor(S,D,_=!1){this._range=S,this._text=D,this.insertsAutoWhitespace=_}getEditOperations(S,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(S,D){const r=D.getInverseEditOperations()[0].range;return s.Y.fromPositions(r.getEndPosition())}}class l{constructor(S,D){this._range=S,this._text=D}getEditOperations(S,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(S,D){const r=D.getInverseEditOperations()[0].range;return s.Y.fromRange(r,0)}}class C{constructor(S,D,_=!1){this._range=S,this._text=D,this.insertsAutoWhitespace=_}getEditOperations(S,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(S,D){const r=D.getInverseEditOperations()[0].range;return s.Y.fromPositions(r.getStartPosition())}}class f{constructor(S,D,_,r,a=!1){this._range=S,this._text=D,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=_,this.insertsAutoWhitespace=a}getEditOperations(S,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(S,D){const r=D.getInverseEditOperations()[0].range;return s.Y.fromPositions(r.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class I{constructor(S,D,_,r=!1){this._range=S,this._text=D,this._initialSelection=_,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(S,D){D.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=D.trackSelection(this._initialSelection)}computeCursorState(S,D){return D.getTrackedSelection(this._selectionId)}}},70760:(yt,T,e)=>{"use strict";e.d(T,{U:()=>r});var s=e(77697),t=e(30648),l=e(88154),C=e(58745),f=e(83633),I=e(15333);const D=Object.create(null);function _(a,u){if(u<=0)return"";D[a]||(D[a]=["",a]);const n=D[a];for(let d=n.length;d<=u;d++)n[d]=n[d-1]+a;return n[u]}let r=class $c{constructor(u,n,d){this._languageConfigurationService=d,this._opts=n,this._selection=u,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(u,n,d,y,g){const v=t.i.visibleColumnFromColumn(u,n,d);if(g){const m=_(" ",y);return _(m,t.i.prevIndentTabStop(v,y)/y)}return _("\t",t.i.prevRenderTabStop(v,d)/d)}static shiftIndent(u,n,d,y,g){const v=t.i.visibleColumnFromColumn(u,n,d);if(g){const m=_(" ",y);return _(m,t.i.nextIndentTabStop(v,y)/y)}return _("\t",t.i.nextRenderTabStop(v,d)/d)}_addEditOperation(u,n,d){this._useLastEditRangeForCursorEndPosition?u.addTrackedEditOperation(n,d):u.addEditOperation(n,d)}getEditOperations(u,n){const d=this._selection.startLineNumber;let y=this._selection.endLineNumber;1===this._selection.endColumn&&d!==y&&(y-=1);const{tabSize:g,indentSize:v,insertSpaces:m}=this._opts,w=d===y;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(u.getLineContent(d))&&(this._useLastEditRangeForCursorEndPosition=!0);let E=0,L=0;for(let x=d;x<=y;x++,E=L){L=0;const A=u.getLineContent(x);let W,k=s.LC(A);if((!this._opts.isUnshift||0!==A.length&&0!==k)&&(w||this._opts.isUnshift||0!==A.length)){if(-1===k&&(k=A.length),x>1&&t.i.visibleColumnFromColumn(A,k+1,g)%v!=0&&u.tokenization.isCheapToTokenize(x-1)){const z=(0,f.A)(this._opts.autoIndent,u,new l.e(x-1,u.getLineMaxColumn(x-1),x-1,u.getLineMaxColumn(x-1)),this._languageConfigurationService);if(z){if(L=E,z.appendText)for(let N=0,O=z.appendText.length;N<O&&L<v&&32===z.appendText.charCodeAt(N);N++)L++;z.removeText&&(L=Math.max(0,L-z.removeText));for(let N=0;N<L&&0!==k&&32===A.charCodeAt(k-1);N++)k--}}this._opts.isUnshift&&0===k||(W=this._opts.isUnshift?$c.unshiftIndent(A,k+1,g,v,m):$c.shiftIndent(A,k+1,g,v,m),this._addEditOperation(n,new l.e(x,1,x,k+1),W),x===d&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=k+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===u.getLineLength(d)&&(this._useLastEditRangeForCursorEndPosition=!0);const E=m?_(" ",v):"\t";for(let L=d;L<=y;L++){const x=u.getLineContent(L);let A=s.LC(x);if((!this._opts.isUnshift||0!==x.length&&0!==A)&&(w||this._opts.isUnshift||0!==x.length)&&(-1===A&&(A=x.length),!this._opts.isUnshift||0!==A))if(this._opts.isUnshift){A=Math.min(A,v);for(let k=0;k<A;k++)if(9===x.charCodeAt(k)){A=k+1;break}this._addEditOperation(n,new l.e(L,1,L,A+1),"")}else this._addEditOperation(n,new l.e(L,1,L,1),E),L===d&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(u,n){if(this._useLastEditRangeForCursorEndPosition){const y=n.getInverseEditOperations()[0];return new C.Y(y.range.endLineNumber,y.range.endColumn,y.range.endLineNumber,y.range.endColumn)}const d=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const y=this._selection.startColumn;return d.startColumn<=y?d:0===d.getDirection()?new C.Y(d.startLineNumber,y,d.endLineNumber,d.endColumn):new C.Y(d.endLineNumber,d.endColumn,d.startLineNumber,y)}return d}};var u;r=function(a,u,n,d){var v,y=arguments.length,g=y<3?u:null===d?d=Object.getOwnPropertyDescriptor(u,n):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,u,n,d);else for(var m=a.length-1;m>=0;m--)(v=a[m])&&(g=(y<3?v(g):y>3?v(u,n,g):v(u,n))||g);return y>3&&g&&Object.defineProperty(u,n,g),g}([(2,u=I.c_,function(n,d){u(n,d,2)})],r)},3044:(yt,T,e)=>{"use strict";e.d(T,{Pe:()=>a,ei:()=>r,wk:()=>I});var s=e(11739),t=e(92164),l=e(1200),C=e(60828),f=e(25468);const I=Object.freeze({id:"editor",order:5,type:"object",title:l.NC("editorConfigurationTitle","Editor"),scope:5}),b=Object.assign(Object.assign({},I),{properties:{"editor.tabSize":{type:"number",default:t.D.tabSize,minimum:1,markdownDescription:l.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:t.D.insertSpaces,markdownDescription:l.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:t.D.detectIndentation,markdownDescription:l.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:t.D.trimAutoWhitespace,description:l.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:t.D.largeFileOptimizations,description:l.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:l.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[l.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),l.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),l.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:l.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[l.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),l.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),l.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:l.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:l.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:l.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:l.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:l.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:l.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:l.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:l.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:l.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:l.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:l.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:l.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:l.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:l.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:l.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:l.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[l.NC("wordWrap.off","Lines will never wrap."),l.NC("wordWrap.on","Lines will wrap at the viewport width."),l.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function S(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of s.Bc){const d=n.schema;if(typeof d<"u")if(S(d))b.properties[`editor.${n.name}`]=d;else for(const y in d)Object.hasOwnProperty.call(d,y)&&(b.properties[y]=d[y])}let D=null;function _(){return null===D&&(D=Object.create(null),Object.keys(b.properties).forEach(n=>{D[n]=!0})),D}function r(n){return _()[`editor.${n}`]||!1}function a(n){return _()[`diffEditor.${n}`]||!1}f.B.as(C.IP.Configuration).registerConfiguration(b)},11739:(yt,T,e)=>{"use strict";e.d(T,{$J:()=>Ze,Av:()=>Je,BH:()=>Bt,Bb:()=>S,Bc:()=>mt,LJ:()=>D,NY:()=>E,O7:()=>d,Zc:()=>g,d2:()=>z,gk:()=>Se,hL:()=>St,n0:()=>j,qt:()=>vt,rk:()=>r,y0:()=>b});var s=e(1200),t=e(84834),l=e(38022),C=e(14940),f=e(82941),I=e(92164);const b=8;class S{constructor(Ye){this._values=Ye}hasChanged(Ye){return this._values[Ye]}}class D{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class _{constructor(Ye,Tt,qt,Ot){this.id=Ye,this.name=Tt,this.defaultValue=qt,this.schema=Ot}applyUpdate(Ye,Tt){return a(Ye,Tt)}compute(Ye,Tt,qt){return qt}}class r{constructor(Ye,Tt){this.newValue=Ye,this.didChange=Tt}}function a(Lt,Ye){if("object"!=typeof Lt||"object"!=typeof Ye||!Lt||!Ye)return new r(Ye,Lt!==Ye);if(Array.isArray(Lt)||Array.isArray(Ye)){const qt=Array.isArray(Lt)&&Array.isArray(Ye)&&C.fS(Lt,Ye);return new r(Ye,!qt)}let Tt=!1;for(const qt in Ye)if(Ye.hasOwnProperty(qt)){const Ot=a(Lt[qt],Ye[qt]);Ot.didChange&&(Lt[qt]=Ot.newValue,Tt=!0)}return new r(Lt,Tt)}class u{constructor(Ye){this.schema=void 0,this.id=Ye,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ye,Tt){return a(Ye,Tt)}validate(Ye){return this.defaultValue}}class n{constructor(Ye,Tt,qt,Ot){this.id=Ye,this.name=Tt,this.defaultValue=qt,this.schema=Ot}applyUpdate(Ye,Tt){return a(Ye,Tt)}validate(Ye){return typeof Ye>"u"?this.defaultValue:Ye}compute(Ye,Tt,qt){return qt}}function d(Lt,Ye){return typeof Lt>"u"?Ye:"false"!==Lt&&!!Lt}class y extends n{constructor(Ye,Tt,qt,Ot=void 0){typeof Ot<"u"&&(Ot.type="boolean",Ot.default=qt),super(Ye,Tt,qt,Ot)}validate(Ye){return d(Ye,this.defaultValue)}}function g(Lt,Ye,Tt,qt){if(typeof Lt>"u")return Ye;let Ot=parseInt(Lt,10);return isNaN(Ot)?Ye:(Ot=Math.max(Tt,Ot),Ot=Math.min(qt,Ot),0|Ot)}class v extends n{constructor(Ye,Tt,qt,Ot,Ft,rt=void 0){typeof rt<"u"&&(rt.type="integer",rt.default=qt,rt.minimum=Ot,rt.maximum=Ft),super(Ye,Tt,qt,rt),this.minimum=Ot,this.maximum=Ft}static clampedInt(Ye,Tt,qt,Ot){return g(Ye,Tt,qt,Ot)}validate(Ye){return v.clampedInt(Ye,this.defaultValue,this.minimum,this.maximum)}}class m extends n{constructor(Ye,Tt,qt,Ot,Ft){typeof Ft<"u"&&(Ft.type="number",Ft.default=qt),super(Ye,Tt,qt,Ft),this.validationFn=Ot}static clamp(Ye,Tt,qt){return Ye<Tt?Tt:Ye>qt?qt:Ye}static float(Ye,Tt){if("number"==typeof Ye)return Ye;if(typeof Ye>"u")return Tt;const qt=parseFloat(Ye);return isNaN(qt)?Tt:qt}validate(Ye){return this.validationFn(m.float(Ye,this.defaultValue))}}class w extends n{static string(Ye,Tt){return"string"!=typeof Ye?Tt:Ye}constructor(Ye,Tt,qt,Ot=void 0){typeof Ot<"u"&&(Ot.type="string",Ot.default=qt),super(Ye,Tt,qt,Ot)}validate(Ye){return w.string(Ye,this.defaultValue)}}function E(Lt,Ye,Tt){return"string"!=typeof Lt||-1===Tt.indexOf(Lt)?Ye:Lt}class L extends n{constructor(Ye,Tt,qt,Ot,Ft=void 0){typeof Ft<"u"&&(Ft.type="string",Ft.enum=Ot,Ft.default=qt),super(Ye,Tt,qt,Ft),this._allowedValues=Ot}validate(Ye){return E(Ye,this.defaultValue,this._allowedValues)}}class x extends _{constructor(Ye,Tt,qt,Ot,Ft,rt,Le=void 0){typeof Le<"u"&&(Le.type="string",Le.enum=Ft,Le.default=Ot),super(Ye,Tt,qt,Le),this._allowedValues=Ft,this._convert=rt}validate(Ye){return"string"!=typeof Ye||-1===this._allowedValues.indexOf(Ye)?this.defaultValue:this._convert(Ye)}}var z=(()=>((z=z||{})[z.Line=1]="Line",z[z.Block=2]="Block",z[z.Underline=3]="Underline",z[z.LineThin=4]="LineThin",z[z.BlockOutline=5]="BlockOutline",z[z.UnderlineThin=6]="UnderlineThin",z))();let j=(()=>{class Lt extends _{constructor(){super(47,"fontLigatures",Lt.OFF,{anyOf:[{type:"boolean",description:s.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:s.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:s.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Tt){return typeof Tt>"u"?this.defaultValue:"string"==typeof Tt?"false"===Tt?Lt.OFF:"true"===Tt?Lt.ON:Tt:Tt?Lt.ON:Lt.OFF}}return Lt.OFF='"liga" off, "calt" off',Lt.ON='"liga" on, "calt" on',Lt})(),Z=(()=>{class Lt extends _{constructor(){super(49,"fontWeight",St.fontWeight,{anyOf:[{type:"number",minimum:Lt.MINIMUM_VALUE,maximum:Lt.MAXIMUM_VALUE,errorMessage:s.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Lt.SUGGESTION_VALUES}],default:St.fontWeight,description:s.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Tt){return"normal"===Tt||"bold"===Tt?Tt:String(v.clampedInt(Tt,St.fontWeight,Lt.MINIMUM_VALUE,Lt.MAXIMUM_VALUE))}}return Lt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Lt.MINIMUM_VALUE=1,Lt.MAXIMUM_VALUE=1e3,Lt})();class Se extends u{constructor(){super(133)}compute(Ye,Tt,qt){return Se.computeLayout(Tt,{memory:Ye.memory,outerWidth:Ye.outerWidth,outerHeight:Ye.outerHeight,isDominatedByLongLines:Ye.isDominatedByLongLines,lineHeight:Ye.fontInfo.lineHeight,viewLineCount:Ye.viewLineCount,lineNumbersDigitCount:Ye.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ye.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ye.fontInfo.maxDigitWidth,pixelRatio:Ye.pixelRatio})}static computeContainedMinimapLineCount(Ye){const Tt=Ye.height/Ye.lineHeight,qt=Ye.scrollBeyondLastLine?Tt-1:0,Ot=(Ye.viewLineCount+qt)/(Ye.pixelRatio*Ye.height);return{typicalViewportLineCount:Tt,extraLinesBeyondLastLine:qt,desiredRatio:Ot,minimapLineCount:Math.floor(Ye.viewLineCount/Ot)}}static _computeMinimapLayout(Ye,Tt){const qt=Ye.outerWidth,Ot=Ye.outerHeight,Ft=Ye.pixelRatio;if(!Ye.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ft*Ot),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ot};const rt=Tt.stableMinimapLayoutInput,Le=rt&&Ye.outerHeight===rt.outerHeight&&Ye.lineHeight===rt.lineHeight&&Ye.typicalHalfwidthCharacterWidth===rt.typicalHalfwidthCharacterWidth&&Ye.pixelRatio===rt.pixelRatio&&Ye.scrollBeyondLastLine===rt.scrollBeyondLastLine&&Ye.minimap.enabled===rt.minimap.enabled&&Ye.minimap.side===rt.minimap.side&&Ye.minimap.size===rt.minimap.size&&Ye.minimap.showSlider===rt.minimap.showSlider&&Ye.minimap.renderCharacters===rt.minimap.renderCharacters&&Ye.minimap.maxColumn===rt.minimap.maxColumn&&Ye.minimap.scale===rt.minimap.scale&&Ye.verticalScrollbarWidth===rt.verticalScrollbarWidth&&Ye.isViewportWrapping===rt.isViewportWrapping,ie=Ye.lineHeight,te=Ye.typicalHalfwidthCharacterWidth,oe=Ye.scrollBeyondLastLine,we=Ye.minimap.renderCharacters;let nt=Ft>=2?Math.round(2*Ye.minimap.scale):Ye.minimap.scale;const He=Ye.minimap.maxColumn,De=Ye.minimap.size,pt=Ye.minimap.side,lt=Ye.verticalScrollbarWidth,Ht=Ye.viewLineCount,Xt=Ye.remainingWidth,ut=Ye.isViewportWrapping,an=we?2:3;let Kn=Math.floor(Ft*Ot);const Gn=Kn/Ft;let li=!1,fi=!1,ri=an*nt,_i=nt/Ft,Xi=1;if("fill"===De||"fit"===De){const{typicalViewportLineCount:en,extraLinesBeyondLastLine:wt,desiredRatio:Dt,minimapLineCount:$t}=Se.computeContainedMinimapLineCount({viewLineCount:Ht,scrollBeyondLastLine:oe,height:Ot,lineHeight:ie,pixelRatio:Ft});if(Ht/$t>1)li=!0,fi=!0,nt=1,ri=1,_i=nt/Ft;else{let cn=!1,Cn=nt+1;if("fit"===De){const Pn=Math.ceil((Ht+wt)*ri);ut&&Le&&Xt<=Tt.stableFitRemainingWidth?(cn=!0,Cn=Tt.stableFitMaxMinimapScale):cn=Pn>Kn}if("fill"===De||cn){li=!0;const Pn=nt;ri=Math.min(ie*Ft,Math.max(1,Math.floor(1/Dt))),ut&&Le&&Xt<=Tt.stableFitRemainingWidth&&(Cn=Tt.stableFitMaxMinimapScale),nt=Math.min(Cn,Math.max(1,Math.floor(ri/an))),nt>Pn&&(Xi=Math.min(2,nt/Pn)),_i=nt/Ft/Xi,Kn=Math.ceil(Math.max(en,Ht+wt)*ri),ut?(Tt.stableMinimapLayoutInput=Ye,Tt.stableFitRemainingWidth=Xt,Tt.stableFitMaxMinimapScale=nt):(Tt.stableMinimapLayoutInput=null,Tt.stableFitRemainingWidth=0)}}}const Zi=Math.floor(He*_i),vo=Math.min(Zi,Math.max(0,Math.floor((Xt-lt-2)*_i/(te+_i)))+b);let oo=Math.floor(Ft*vo);const yo=oo/Ft;return oo=Math.floor(oo*Xi),{renderMinimap:we?1:2,minimapLeft:"left"===pt?0:qt-vo-lt,minimapWidth:vo,minimapHeightIsEditorHeight:li,minimapIsSampling:fi,minimapScale:nt,minimapLineHeight:ri,minimapCanvasInnerWidth:oo,minimapCanvasInnerHeight:Kn,minimapCanvasOuterWidth:yo,minimapCanvasOuterHeight:Gn}}static computeLayout(Ye,Tt){const qt=0|Tt.outerWidth,Ot=0|Tt.outerHeight,Ft=0|Tt.lineHeight,rt=0|Tt.lineNumbersDigitCount,Le=Tt.typicalHalfwidthCharacterWidth,ie=Tt.maxDigitWidth,te=Tt.pixelRatio,oe=Tt.viewLineCount,we=Ye.get(125),nt="inherit"===we?Ye.get(124):we,He="inherit"===nt?Ye.get(120):nt,De=Ye.get(123),pt=Ye.get(2),lt=Tt.isDominatedByLongLines,Ht=Ye.get(52),Xt=0!==Ye.get(62).renderType,ut=Ye.get(63),an=Ye.get(96),Kn=Ye.get(67),Gn=Ye.get(94),li=Gn.verticalScrollbarSize,fi=Gn.verticalHasArrows,ri=Gn.arrowSize,_i=Gn.horizontalScrollbarSize,Xi=Ye.get(60),Zi=Ye.get(39),vo="never"!==Ye.get(101);let oo;if("string"==typeof Xi&&/^\d+(\.\d+)?ch$/.test(Xi)){const Ei=parseFloat(Xi.substr(0,Xi.length-2));oo=v.clampedInt(Ei*Le,0,0,1e3)}else oo=v.clampedInt(Xi,0,0,1e3);Zi&&vo&&(oo+=16);let yo=0;if(Xt){const Ei=Math.max(rt,ut);yo=Math.round(Ei*ie)}let Lo=0;Ht&&(Lo=Ft);let oi=0,en=oi+Lo,wt=en+yo,Dt=wt+oo;const $t=qt-Lo-yo-oo;let tn=!1,cn=!1,Cn=-1;2!==pt&&("inherit"===nt&&lt?(tn=!0,cn=!0):"on"===He||"bounded"===He?cn=!0:"wordWrapColumn"===He&&(Cn=De));const Pn=Se._computeMinimapLayout({outerWidth:qt,outerHeight:Ot,lineHeight:Ft,typicalHalfwidthCharacterWidth:Le,pixelRatio:te,scrollBeyondLastLine:an,minimap:Kn,verticalScrollbarWidth:li,viewLineCount:oe,remainingWidth:$t,isViewportWrapping:cn},Tt.memory||new D);0!==Pn.renderMinimap&&0===Pn.minimapLeft&&(oi+=Pn.minimapWidth,en+=Pn.minimapWidth,wt+=Pn.minimapWidth,Dt+=Pn.minimapWidth);const Hn=$t-Pn.minimapWidth,zn=Math.max(1,Math.floor((Hn-li-2)/Le)),bi=fi?ri:0;return cn&&(Cn=Math.max(1,zn),"bounded"===He&&(Cn=Math.min(Cn,De))),{width:qt,height:Ot,glyphMarginLeft:oi,glyphMarginWidth:Lo,lineNumbersLeft:en,lineNumbersWidth:yo,decorationsLeft:wt,decorationsWidth:oo,contentLeft:Dt,contentWidth:Hn,minimap:Pn,viewportColumn:zn,isWordWrapMinified:tn,isViewportWrapping:cn,wrappingColumn:Cn,verticalScrollbarWidth:li,horizontalScrollbarHeight:_i,overviewRuler:{top:bi,width:li,height:Ot-2*bi,right:0}}}}function Ze(Lt){const Ye=Lt.get(89);return"editable"===Ye?Lt.get(83):"on"!==Ye}function fe(Lt,Ye){if("string"!=typeof Lt)return Ye;switch(Lt){case"hidden":return 2;case"visible":return 3;default:return 1}}const Je="inUntrustedWorkspace",vt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function ge(Lt,Ye,Tt){const qt=Tt.indexOf(Lt);return-1===qt?Ye:Tt[qt]}const St={fontFamily:t.dz?"Menlo, Monaco, 'Courier New', monospace":t.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:t.dz?12:14,lineHeight:0,letterSpacing:0},mt=[];function bt(Lt){return mt[Lt.id]=Lt,Lt}const Bt={acceptSuggestionOnCommitCharacter:bt(new y(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:s.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:bt(new L(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",s.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:s.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:bt(new class k extends _{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[s.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),s.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),s.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:s.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Ye){switch(Ye){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ye,Tt,qt){return 0===qt?Ye.accessibilitySupport:qt}}),accessibilityPageSize:bt(new v(3,"accessibilityPageSize",10,1,1073741824,{description:s.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:bt(new w(4,"ariaLabel",s.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:bt(new L(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",s.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),s.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:s.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:bt(new L(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",s.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:s.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:bt(new L(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",s.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:s.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:bt(new L(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",s.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),s.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:s.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:bt(new x(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function A(Lt){switch(Lt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[s.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),s.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),s.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),s.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),s.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:s.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:bt(new y(10,"automaticLayout",!1)),autoSurround:bt(new L(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[s.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),s.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),s.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:s.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:bt(new class re extends _{constructor(){const Ye={enabled:I.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:I.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",Ye,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ye.enabled,markdownDescription:s.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Ye.independentColorPoolPerBracketType,description:s.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{enabled:d(Tt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:d(Tt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:bt(new class pe extends _{constructor(){const Ye={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Ye,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[s.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),s.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),s.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ye.bracketPairs,description:s.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[s.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),s.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),s.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ye.bracketPairsHorizontal,description:s.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ye.highlightActiveBracketPair,description:s.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ye.indentation,description:s.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[s.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),s.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),s.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Ye.highlightActiveIndentation,description:s.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{bracketPairs:ge(Tt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ge(Tt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:d(Tt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:d(Tt.indentation,this.defaultValue.indentation),highlightActiveIndentation:ge(Tt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:bt(new y(106,"stickyTabStops",!1,{description:s.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:bt(new y(14,"codeLens",!0,{description:s.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:bt(new w(15,"codeLensFontFamily","",{description:s.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:bt(new v(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:s.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:bt(new y(17,"colorDecorators",!0,{description:s.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:bt(new y(18,"columnSelection",!1,{description:s.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:bt(new class W extends _{constructor(){const Ye={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Ye,{"editor.comments.insertSpace":{type:"boolean",default:Ye.insertSpace,description:s.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ye.ignoreEmptyLines,description:s.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{insertSpace:d(Tt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:d(Tt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:bt(new y(20,"contextmenu",!0)),copyWithSyntaxHighlighting:bt(new y(21,"copyWithSyntaxHighlighting",!0,{description:s.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:bt(new x(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function H(Lt){switch(Lt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:s.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:bt(new y(23,"cursorSmoothCaretAnimation",!1,{description:s.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:bt(new x(24,"cursorStyle",z.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function N(Lt){switch(Lt){case"line":return z.Line;case"block":return z.Block;case"underline":return z.Underline;case"line-thin":return z.LineThin;case"block-outline":return z.BlockOutline;case"underline-thin":return z.UnderlineThin}},{description:s.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:bt(new v(25,"cursorSurroundingLines",0,0,1073741824,{description:s.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:bt(new L(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[s.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),s.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:s.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:bt(new v(27,"cursorWidth",0,0,1073741824,{markdownDescription:s.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:bt(new y(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:bt(new y(29,"disableMonospaceOptimizations",!1)),domReadOnly:bt(new y(30,"domReadOnly",!1)),dragAndDrop:bt(new y(31,"dragAndDrop",!0,{description:s.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:bt(new class K extends y{constructor(){super(33,"emptySelectionClipboard",!0,{description:s.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ye,Tt,qt){return qt&&Ye.emptySelectionClipboard}}),dropIntoEditor:bt(new class dt extends _{constructor(){const Ye={enabled:!0};super(32,"dropIntoEditor",Ye,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Ye.enabled,markdownDescription:s.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(Ye){return Ye&&"object"==typeof Ye?{enabled:d(Ye.enabled,this.defaultValue.enabled)}:this.defaultValue}}),experimental:bt(new class xe extends _{constructor(){const Ye={stickyScroll:{enabled:!1}};super(34,"experimental",Ye,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:Ye.stickyScroll.enabled,description:s.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(Ye){var Tt;return Ye&&"object"==typeof Ye?{stickyScroll:{enabled:d(null===(Tt=Ye.stickyScroll)||void 0===Tt?void 0:Tt.enabled,this.defaultValue.stickyScroll.enabled)}}:this.defaultValue}}),extraEditorClassName:bt(new w(35,"extraEditorClassName","")),fastScrollSensitivity:bt(new m(36,"fastScrollSensitivity",5,Lt=>Lt<=0?5:Lt,{markdownDescription:s.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:bt(new class $ extends _{constructor(){const Ye={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",Ye,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ye.cursorMoveOnType,description:s.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ye.seedSearchStringFromSelection,enumDescriptions:[s.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),s.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),s.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:s.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ye.autoFindInSelection,enumDescriptions:[s.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),s.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),s.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:s.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ye.globalFindClipboard,description:s.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:t.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ye.addExtraSpaceOnTop,description:s.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ye.loop,description:s.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{cursorMoveOnType:d(Tt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof Ye.seedSearchStringFromSelection?Ye.seedSearchStringFromSelection?"always":"never":E(Tt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof Ye.autoFindInSelection?Ye.autoFindInSelection?"always":"never":E(Tt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:d(Tt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:d(Tt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:d(Tt.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:bt(new y(38,"fixedOverflowWidgets",!1)),folding:bt(new y(39,"folding",!0,{description:s.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:bt(new L(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[s.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),s.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:s.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:bt(new y(41,"foldingHighlight",!0,{description:s.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:bt(new y(42,"foldingImportsByDefault",!1,{description:s.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:bt(new v(43,"foldingMaximumRegions",5e3,10,65e3,{description:s.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:bt(new y(44,"unfoldOnClickAfterEndOfLine",!1,{description:s.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:bt(new w(45,"fontFamily",St.fontFamily,{description:s.NC("fontFamily","Controls the font family.")})),fontInfo:bt(new class q extends u{constructor(){super(46)}compute(Ye,Tt,qt){return Ye.fontInfo}}),fontLigatures2:bt(new j),fontSize:bt(new class R extends n{constructor(){super(48,"fontSize",St.fontSize,{type:"number",minimum:6,maximum:100,default:St.fontSize,description:s.NC("fontSize","Controls the font size in pixels.")})}validate(Ye){const Tt=m.float(Ye,this.defaultValue);return 0===Tt?St.fontSize:m.clamp(Tt,6,100)}compute(Ye,Tt,qt){return Ye.fontInfo.fontSize}}),fontWeight:bt(new Z),formatOnPaste:bt(new y(50,"formatOnPaste",!1,{description:s.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:bt(new y(51,"formatOnType",!1,{description:s.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:bt(new y(52,"glyphMargin",!0,{description:s.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:bt(new class J extends _{constructor(){const Ye={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Tt={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ye.multiple,enumDescriptions:[s.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),s.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),s.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},qt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",Ye,{"editor.gotoLocation.multiple":{deprecationMessage:s.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:s.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Tt),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:s.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Tt),"editor.gotoLocation.multipleDeclarations":Object.assign({description:s.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Tt),"editor.gotoLocation.multipleImplementations":Object.assign({description:s.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Tt),"editor.gotoLocation.multipleReferences":Object.assign({description:s.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Tt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ye.alternativeDefinitionCommand,enum:qt,description:s.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ye.alternativeTypeDefinitionCommand,enum:qt,description:s.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ye.alternativeDeclarationCommand,enum:qt,description:s.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ye.alternativeImplementationCommand,enum:qt,description:s.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ye.alternativeReferenceCommand,enum:qt,description:s.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ye){var Tt,qt,Ot,Ft,rt;if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Le=Ye;return{multiple:E(Le.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(Tt=Le.multipleDefinitions)&&void 0!==Tt?Tt:E(Le.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(qt=Le.multipleTypeDefinitions)&&void 0!==qt?qt:E(Le.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(Ot=Le.multipleDeclarations)&&void 0!==Ot?Ot:E(Le.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(Ft=Le.multipleImplementations)&&void 0!==Ft?Ft:E(Le.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(rt=Le.multipleReferences)&&void 0!==rt?rt:E(Le.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(Le.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(Le.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(Le.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(Le.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(Le.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:bt(new y(54,"hideCursorInOverviewRuler",!1,{description:s.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:bt(new class Ce extends _{constructor(){const Ye={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",Ye,{"editor.hover.enabled":{type:"boolean",default:Ye.enabled,description:s.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ye.delay,minimum:0,maximum:1e4,description:s.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ye.sticky,description:s.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ye.above,description:s.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{enabled:d(Tt.enabled,this.defaultValue.enabled),delay:v.clampedInt(Tt.delay,this.defaultValue.delay,0,1e4),sticky:d(Tt.sticky,this.defaultValue.sticky),above:d(Tt.above,this.defaultValue.above)}}}),inDiffEditor:bt(new y(56,"inDiffEditor",!1)),letterSpacing:bt(new m(58,"letterSpacing",St.letterSpacing,Lt=>m.clamp(Lt,-5,20),{description:s.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:bt(new class Ie extends _{constructor(){const Ye={enabled:!0};super(59,"lightbulb",Ye,{"editor.lightbulb.enabled":{type:"boolean",default:Ye.enabled,description:s.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Ye){return Ye&&"object"==typeof Ye?{enabled:d(Ye.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:bt(new n(60,"lineDecorationsWidth",10)),lineHeight:bt(new class Oe extends m{constructor(){super(61,"lineHeight",St.lineHeight,Ye=>m.clamp(Ye,0,150),{markdownDescription:s.NC("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(Ye,Tt,qt){return Ye.fontInfo.lineHeight}}),lineNumbers:bt(new class Fe extends _{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[s.NC("lineNumbers.off","Line numbers are not rendered."),s.NC("lineNumbers.on","Line numbers are rendered as absolute number."),s.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),s.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:s.NC("lineNumbers","Controls the display of line numbers.")})}validate(Ye){let Tt=this.defaultValue.renderType,qt=this.defaultValue.renderFn;return typeof Ye<"u"&&("function"==typeof Ye?(Tt=4,qt=Ye):Tt="interval"===Ye?3:"relative"===Ye?2:"on"===Ye?1:0),{renderType:Tt,renderFn:qt}}}),lineNumbersMinChars:bt(new v(63,"lineNumbersMinChars",5,1,300)),linkedEditing:bt(new y(64,"linkedEditing",!1,{description:s.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:bt(new y(65,"links",!0,{description:s.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:bt(new L(66,"matchBrackets","always",["always","near","never"],{description:s.NC("matchBrackets","Highlight matching brackets.")})),minimap:bt(new class se extends _{constructor(){const Ye={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",Ye,{"editor.minimap.enabled":{type:"boolean",default:Ye.enabled,description:s.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Ye.autohide,description:s.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[s.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),s.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),s.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ye.size,description:s.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ye.side,description:s.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ye.showSlider,description:s.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ye.scale,minimum:1,maximum:3,enum:[1,2,3],description:s.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ye.renderCharacters,description:s.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ye.maxColumn,description:s.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{enabled:d(Tt.enabled,this.defaultValue.enabled),autohide:d(Tt.autohide,this.defaultValue.autohide),size:E(Tt.size,this.defaultValue.size,["proportional","fill","fit"]),side:E(Tt.side,this.defaultValue.side,["right","left"]),showSlider:E(Tt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:d(Tt.renderCharacters,this.defaultValue.renderCharacters),scale:v.clampedInt(Tt.scale,1,1,3),maxColumn:v.clampedInt(Tt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:bt(new L(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:bt(new m(69,"mouseWheelScrollSensitivity",1,Lt=>0===Lt?1:Lt,{markdownDescription:s.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:bt(new y(70,"mouseWheelZoom",!1,{markdownDescription:s.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:bt(new y(71,"multiCursorMergeOverlapping",!0,{description:s.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:bt(new x(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function ce(Lt){return"ctrlCmd"===Lt?t.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[s.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),s.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:s.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:bt(new L(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[s.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),s.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:s.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:bt(new y(74,"occurrencesHighlight",!0,{description:s.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:bt(new y(75,"overviewRulerBorder",!0,{description:s.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:bt(new v(76,"overviewRulerLanes",3,0,3)),padding:bt(new class Ee extends _{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:s.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:s.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{top:v.clampedInt(Tt.top,0,0,1e3),bottom:v.clampedInt(Tt.bottom,0,0,1e3)}}}),parameterHints:bt(new class me extends _{constructor(){const Ye={enabled:!0,cycle:!1};super(78,"parameterHints",Ye,{"editor.parameterHints.enabled":{type:"boolean",default:Ye.enabled,description:s.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ye.cycle,description:s.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{enabled:d(Tt.enabled,this.defaultValue.enabled),cycle:d(Tt.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:bt(new L(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[s.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),s.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:s.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:bt(new y(80,"definitionLinkOpensInPeek",!1,{description:s.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:bt(new class he extends _{constructor(){const Ye={other:"on",comments:"off",strings:"off"},Tt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[s.NC("on","Quick suggestions show inside the suggest widget"),s.NC("inline","Quick suggestions show as ghost text"),s.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",Ye,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Tt,default:Ye.strings,description:s.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Tt,default:Ye.comments,description:s.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Tt,default:Ye.other,description:s.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Ye,markdownDescription:s.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Ye}validate(Ye){if("boolean"==typeof Ye){const te=Ye?"on":"off";return{comments:te,strings:te,other:te}}if(!Ye||"object"!=typeof Ye)return this.defaultValue;const{other:Tt,comments:qt,strings:Ot}=Ye,Ft=["on","inline","off"];let rt,Le,ie;return rt="boolean"==typeof Tt?Tt?"on":"off":E(Tt,this.defaultValue.other,Ft),Le="boolean"==typeof qt?qt?"on":"off":E(qt,this.defaultValue.comments,Ft),ie="boolean"==typeof Ot?Ot?"on":"off":E(Ot,this.defaultValue.strings,Ft),{other:rt,comments:Le,strings:ie}}}),quickSuggestionsDelay:bt(new v(82,"quickSuggestionsDelay",10,0,1073741824,{description:s.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:bt(new y(83,"readOnly",!1)),renameOnType:bt(new y(84,"renameOnType",!1,{description:s.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:s.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:bt(new y(85,"renderControlCharacters",!0,{description:s.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:bt(new y(86,"renderFinalNewline",!0,{description:s.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:bt(new L(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",s.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:s.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:bt(new y(88,"renderLineHighlightOnlyWhenFocus",!1,{description:s.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:bt(new L(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:bt(new L(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",s.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),s.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),s.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:s.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:bt(new v(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:bt(new y(92,"roundedSelection",!0,{description:s.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:bt(new class ze extends _{constructor(){const Ye=[],Tt={type:"number",description:s.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",Ye,{type:"array",items:{anyOf:[Tt,{type:["object"],properties:{column:Tt,color:{type:"string",description:s.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ye,description:s.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ye){if(Array.isArray(Ye)){const Tt=[];for(const qt of Ye)if("number"==typeof qt)Tt.push({column:v.clampedInt(qt,0,0,1e4),color:null});else if(qt&&"object"==typeof qt){const Ot=qt;Tt.push({column:v.clampedInt(Ot.column,0,0,1e4),color:Ot.color})}return Tt.sort((qt,Ot)=>qt.column-Ot.column),Tt}return this.defaultValue}}),scrollbar:bt(new class Ke extends _{constructor(){const Ye={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",Ye,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[s.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),s.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),s.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:s.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[s.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),s.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),s.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:s.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ye.verticalScrollbarSize,description:s.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ye.horizontalScrollbarSize,description:s.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ye.scrollByPage,description:s.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye,qt=v.clampedInt(Tt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ot=v.clampedInt(Tt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:v.clampedInt(Tt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:fe(Tt.vertical,this.defaultValue.vertical),horizontal:fe(Tt.horizontal,this.defaultValue.horizontal),useShadows:d(Tt.useShadows,this.defaultValue.useShadows),verticalHasArrows:d(Tt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:d(Tt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:d(Tt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:d(Tt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:qt,horizontalSliderSize:v.clampedInt(Tt.horizontalSliderSize,qt,0,1e3),verticalScrollbarSize:Ot,verticalSliderSize:v.clampedInt(Tt.verticalSliderSize,Ot,0,1e3),scrollByPage:d(Tt.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:bt(new v(95,"scrollBeyondLastColumn",4,0,1073741824,{description:s.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:bt(new y(96,"scrollBeyondLastLine",!0,{description:s.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:bt(new y(97,"scrollPredominantAxis",!0,{description:s.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:bt(new y(98,"selectionClipboard",!0,{description:s.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:t.IJ})),selectionHighlight:bt(new y(99,"selectionHighlight",!0,{description:s.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:bt(new y(100,"selectOnLineNumbers",!0)),showFoldingControls:bt(new L(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[s.NC("showFoldingControls.always","Always show the folding controls."),s.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),s.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:s.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:bt(new y(102,"showUnused",!0,{description:s.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:bt(new y(128,"showDeprecated",!0,{description:s.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:bt(new class Me extends _{constructor(){const Ye={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",Ye,{"editor.inlayHints.enabled":{type:"string",default:Ye.enabled,description:s.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[s.NC("editor.inlayHints.on","Inlay hints are enabled"),s.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),s.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),s.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Ye.fontSize,markdownDescription:s.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Ye.fontFamily,markdownDescription:s.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Ye.padding,description:s.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return"boolean"==typeof Tt.enabled&&(Tt.enabled=Tt.enabled?"on":"off"),{enabled:E(Tt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:v.clampedInt(Tt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:w.string(Tt.fontFamily,this.defaultValue.fontFamily),padding:d(Tt.padding,this.defaultValue.padding)}}}),snippetSuggestions:bt(new L(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[s.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),s.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),s.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),s.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:s.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:bt(new class Q extends _{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:s.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ye){return Ye&&"object"==typeof Ye?{selectLeadingAndTrailingWhitespace:d(Ye.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:bt(new y(105,"smoothScrolling",!1,{description:s.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:bt(new v(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:bt(new class de extends _{constructor(){const Ye={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",Ye,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[s.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),s.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ye.insertMode,description:s.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ye.filterGraceful,description:s.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ye.localityBonus,description:s.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ye.shareSuggestSelections,markdownDescription:s.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ye.snippetsPreventQuickSuggestions,description:s.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ye.showIcons,description:s.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ye.showStatusBar,description:s.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ye.preview,description:s.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ye.showInlineDetails,description:s.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:s.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:s.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:s.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{insertMode:E(Tt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:d(Tt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:d(Tt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:d(Tt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:d(Tt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:d(Tt.showIcons,this.defaultValue.showIcons),showStatusBar:d(Tt.showStatusBar,this.defaultValue.showStatusBar),preview:d(Tt.preview,this.defaultValue.preview),previewMode:E(Tt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:d(Tt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:d(Tt.showMethods,this.defaultValue.showMethods),showFunctions:d(Tt.showFunctions,this.defaultValue.showFunctions),showConstructors:d(Tt.showConstructors,this.defaultValue.showConstructors),showDeprecated:d(Tt.showDeprecated,this.defaultValue.showDeprecated),showFields:d(Tt.showFields,this.defaultValue.showFields),showVariables:d(Tt.showVariables,this.defaultValue.showVariables),showClasses:d(Tt.showClasses,this.defaultValue.showClasses),showStructs:d(Tt.showStructs,this.defaultValue.showStructs),showInterfaces:d(Tt.showInterfaces,this.defaultValue.showInterfaces),showModules:d(Tt.showModules,this.defaultValue.showModules),showProperties:d(Tt.showProperties,this.defaultValue.showProperties),showEvents:d(Tt.showEvents,this.defaultValue.showEvents),showOperators:d(Tt.showOperators,this.defaultValue.showOperators),showUnits:d(Tt.showUnits,this.defaultValue.showUnits),showValues:d(Tt.showValues,this.defaultValue.showValues),showConstants:d(Tt.showConstants,this.defaultValue.showConstants),showEnums:d(Tt.showEnums,this.defaultValue.showEnums),showEnumMembers:d(Tt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:d(Tt.showKeywords,this.defaultValue.showKeywords),showWords:d(Tt.showWords,this.defaultValue.showWords),showColors:d(Tt.showColors,this.defaultValue.showColors),showFiles:d(Tt.showFiles,this.defaultValue.showFiles),showReferences:d(Tt.showReferences,this.defaultValue.showReferences),showFolders:d(Tt.showFolders,this.defaultValue.showFolders),showTypeParameters:d(Tt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:d(Tt.showSnippets,this.defaultValue.showSnippets),showUsers:d(Tt.showUsers,this.defaultValue.showUsers),showIssues:d(Tt.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:bt(new class Xe extends _{constructor(){const Ye={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",Ye,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ye.enabled,description:s.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{enabled:d(Tt.enabled,this.defaultValue.enabled),mode:E(Tt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:bt(new v(109,"suggestFontSize",0,0,1e3,{markdownDescription:s.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:bt(new v(110,"suggestLineHeight",0,0,1e3,{markdownDescription:s.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:bt(new y(111,"suggestOnTriggerCharacters",!0,{description:s.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:bt(new L(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[s.NC("suggestSelection.first","Always select the first suggestion."),s.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),s.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:s.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:bt(new L(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[s.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),s.NC("tabCompletion.off","Disable tab completions."),s.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:s.NC("tabCompletion","Enables tab completions.")})),tabIndex:bt(new v(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:bt(new class Et extends _{constructor(){const Ye={nonBasicASCII:Je,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Je,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",Ye,{[vt.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Je],default:Ye.nonBasicASCII,description:s.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[vt.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ye.invisibleCharacters,description:s.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[vt.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ye.ambiguousCharacters,description:s.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[vt.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Je],default:Ye.includeComments,description:s.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[vt.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Je],default:Ye.includeStrings,description:s.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[vt.allowedCharacters]:{restricted:!0,type:"object",default:Ye.allowedCharacters,description:s.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[vt.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ye.allowedLocales,description:s.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ye,Tt){let qt=!1;Tt.allowedCharacters&&Ye&&(f.fS(Ye.allowedCharacters,Tt.allowedCharacters)||(Ye=Object.assign(Object.assign({},Ye),{allowedCharacters:Tt.allowedCharacters}),qt=!0)),Tt.allowedLocales&&Ye&&(f.fS(Ye.allowedLocales,Tt.allowedLocales)||(Ye=Object.assign(Object.assign({},Ye),{allowedLocales:Tt.allowedLocales}),qt=!0));const Ot=super.applyUpdate(Ye,Tt);return qt?new r(Ot.newValue,!0):Ot}validate(Ye){if(!Ye||"object"!=typeof Ye)return this.defaultValue;const Tt=Ye;return{nonBasicASCII:ge(Tt.nonBasicASCII,Je,[!0,!1,Je]),invisibleCharacters:d(Tt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:d(Tt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ge(Tt.includeComments,Je,[!0,!1,Je]),includeStrings:ge(Tt.includeStrings,Je,[!0,!1,Je]),allowedCharacters:this.validateBooleanMap(Ye.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ye.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ye,Tt){if("object"!=typeof Ye||!Ye)return Tt;const qt={};for(const[Ot,Ft]of Object.entries(Ye))!0===Ft&&(qt[Ot]=!0);return qt}}),unusualLineTerminators:bt(new L(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[s.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),s.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),s.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:s.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:bt(new y(117,"useShadowDOM",!0)),useTabStops:bt(new y(118,"useTabStops",!0,{description:s.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:bt(new w(119,"wordSeparators",l.vu,{description:s.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:bt(new L(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[s.NC("wordWrap.off","Lines will never wrap."),s.NC("wordWrap.on","Lines will wrap at the viewport width."),s.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),s.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:s.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:bt(new w(121,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:bt(new w(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:bt(new v(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:s.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:bt(new L(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:bt(new L(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:bt(new x(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function Ae(Lt){switch(Lt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[s.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),s.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),s.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),s.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:s.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:bt(new L(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[s.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),s.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:s.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:bt(new class O extends u{constructor(){super(130)}compute(Ye,Tt,qt){const Ot=["monaco-editor"];return Tt.get(35)&&Ot.push(Tt.get(35)),Ye.extraEditorClassName&&Ot.push(Ye.extraEditorClassName),"default"===Tt.get(68)?Ot.push("mouse-default"):"copy"===Tt.get(68)&&Ot.push("mouse-copy"),Tt.get(102)&&Ot.push("showUnused"),Tt.get(128)&&Ot.push("showDeprecated"),Ot.join(" ")}}),pixelRatio:bt(new class Pe extends u{constructor(){super(131)}compute(Ye,Tt,qt){return Ye.pixelRatio}}),tabFocusMode:bt(new class ye extends u{constructor(){super(132)}compute(Ye,Tt,qt){return!!Tt.get(83)||Ye.tabFocusMode}}),layoutInfo:bt(new Se),wrappingInfo:bt(new class ft extends u{constructor(){super(134)}compute(Ye,Tt,qt){const Ot=Tt.get(133);return{isDominatedByLongLines:Ye.isDominatedByLongLines,isWordWrapMinified:Ot.isWordWrapMinified,isViewportWrapping:Ot.isViewportWrapping,wrappingColumn:Ot.wrappingColumn}}})}},85965:(yt,T,e)=>{"use strict";e.d(T,{C:()=>t});var s=e(31864);const t=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new s.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(l){l=Math.min(Math.max(-5,l),20),this._zoomLevel!==l&&(this._zoomLevel=l,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},78626:(yt,T,e)=>{"use strict";e.d(T,{E4:()=>I,pR:()=>S});var s=e(84834),t=e(11739),l=e(85965);const C=s.dz?1.5:1.35;class I{constructor(_){this._bareFontInfoBrand=void 0,this.pixelRatio=_.pixelRatio,this.fontFamily=String(_.fontFamily),this.fontWeight=String(_.fontWeight),this.fontSize=_.fontSize,this.fontFeatureSettings=_.fontFeatureSettings,this.lineHeight=0|_.lineHeight,this.letterSpacing=_.letterSpacing}static createFromValidatedSettings(_,r,a){const u=_.get(45),n=_.get(49),d=_.get(48),y=_.get(47),g=_.get(61),v=_.get(58);return I._create(u,n,d,y,g,v,r,a)}static _create(_,r,a,u,n,d,y,g){0===n?n=C*a:n<8&&(n*=a),(n=Math.round(n))<8&&(n=8);const v=1+(g?0:.1*l.C.getZoomLevel());return new I({pixelRatio:y,fontFamily:_,fontWeight:r,fontSize:a*=v,fontFeatureSettings:u,lineHeight:n*=v,letterSpacing:d})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const _=t.hL.fontFamily,r=I._wrapInQuotes(this.fontFamily);return _&&this.fontFamily!==_?`${r}, ${_}`:r}static _wrapInQuotes(_){return/[,"']/.test(_)?_:/[+ ]/.test(_)?`"${_}"`:_}}class S extends I{constructor(_,r){super(_),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=r,this.isMonospace=_.isMonospace,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=_.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.maxDigitWidth=_.maxDigitWidth}equals(_){return this.fontFamily===_.fontFamily&&this.fontWeight===_.fontWeight&&this.fontSize===_.fontSize&&this.fontFeatureSettings===_.fontFeatureSettings&&this.lineHeight===_.lineHeight&&this.letterSpacing===_.letterSpacing&&this.typicalHalfwidthCharacterWidth===_.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===_.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.maxDigitWidth===_.maxDigitWidth}}},89646:(yt,T,e)=>{"use strict";e.d(T,{N:()=>t,q:()=>l});var s=e(4193);class t{constructor(f){const I=(0,s.K)(f);this._defaultValue=I,this._asciiMap=t._createAsciiMap(I),this._map=new Map}static _createAsciiMap(f){const I=new Uint8Array(256);for(let b=0;b<256;b++)I[b]=f;return I}set(f,I){const b=(0,s.K)(I);f>=0&&f<256?this._asciiMap[f]=b:this._map.set(f,b)}get(f){return f>=0&&f<256?this._asciiMap[f]:this._map.get(f)||this._defaultValue}}class l{constructor(){this._actual=new t(0)}add(f){this._actual.set(f,1)}has(f){return 1===this._actual.get(f)}}},30648:(yt,T,e)=>{"use strict";e.d(T,{i:()=>t});var s=e(77697);class t{static _nextVisibleColumn(C,f,I){return 9===C?t.nextRenderTabStop(f,I):s.K7(C)||s.C8(C)?f+2:f+1}static visibleColumnFromColumn(C,f,I){const b=Math.min(f-1,C.length),S=C.substring(0,b),D=new s.W1(S);let _=0;for(;!D.eol();){const r=s.ZH(S,b,D.offset);D.nextGraphemeLength(),_=this._nextVisibleColumn(r,_,I)}return _}static columnFromVisibleColumn(C,f,I){if(f<=0)return 1;const b=C.length,S=new s.W1(C);let D=0,_=1;for(;!S.eol();){const r=s.ZH(C,b,S.offset);S.nextGraphemeLength();const a=this._nextVisibleColumn(r,D,I),u=S.offset+1;if(a>=f)return a-f<f-D?u:_;D=a,_=u}return b+1}static nextRenderTabStop(C,f){return C+f-C%f}static nextIndentTabStop(C,f){return C+f-C%f}static prevRenderTabStop(C,f){return Math.max(0,C-1-(C-1)%f)}static prevIndentTabStop(C,f){return Math.max(0,C-1-(C-1)%f)}}},37304:(yt,T,e)=>{"use strict";e.d(T,{h:()=>t});var s=e(88154);class t{static insert(C,f){return{range:new s.e(C.lineNumber,C.column,C.lineNumber,C.column),text:f,forceMoveMarkers:!0}}static delete(C){return{range:C,text:null}}static replace(C,f){return{range:C,text:f}}static replaceMove(C,f){return{range:C,text:f,forceMoveMarkers:!0}}}},99327:(yt,T,e)=>{"use strict";e.d(T,{CE:()=>Se,DD:()=>m,DS:()=>Ee,Dl:()=>x,HV:()=>Ke,IO:()=>K,Jn:()=>Pe,Kh:()=>I,L7:()=>fe,Mm:()=>b,N5:()=>O,Qb:()=>Fe,Re:()=>R,TC:()=>L,To:()=>ze,UP:()=>Ie,Vs:()=>Ce,YF:()=>he,Ym:()=>y,eS:()=>Z,e_:()=>k,f9:()=>Je,fY:()=>u,hw:()=>g,kp:()=>H,lK:()=>q,lS:()=>me,m$:()=>ce,m1:()=>Me,m3:()=>Ze,m9:()=>j,n0:()=>a,oV:()=>se,r0:()=>xe,tR:()=>d,ts:()=>Oe,x3:()=>N,zJ:()=>J,zk:()=>w,zu:()=>z,zw:()=>A});var s=e(1200),t=e(84968),l=e(6192),C=e(14089),f=e(65206);const I=(0,l.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},s.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),b=(0,l.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:l.lRK},s.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),S=(0,l.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},s.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),D=(0,l.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:l.xL1,hcLight:l.xL1},s.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),_=(0,l.P6G)("editor.symbolHighlightBackground",{dark:l.MUv,light:l.MUv,hcDark:null,hcLight:null},s.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),r=(0,l.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:l.xL1,hcLight:l.xL1},s.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),a=(0,l.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:t.Il.black,hcDark:t.Il.white,hcLight:"#0F4A85"},s.NC("caret","Color of the editor cursor.")),u=(0,l.P6G)("editorCursor.background",null,s.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),n=(0,l.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},s.NC("editorWhitespaces","Color of whitespace characters in the editor.")),d=(0,l.P6G)("editorIndentGuide.background",{dark:n,light:n,hcDark:n,hcLight:n},s.NC("editorIndentGuides","Color of the editor indentation guides.")),y=(0,l.P6G)("editorIndentGuide.activeBackground",{dark:n,light:n,hcDark:n,hcLight:n},s.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),g=(0,l.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:t.Il.white,hcLight:"#292929"},s.NC("editorLineNumbers","Color of editor line numbers.")),v=(0,l.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:l.xL1,hcLight:l.xL1},s.NC("editorActiveLineNumber","Color of editor active line number"),!1,s.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),m=(0,l.P6G)("editorLineNumber.activeForeground",{dark:v,light:v,hcDark:v,hcLight:v},s.NC("editorActiveLineNumber","Color of editor active line number")),w=(0,l.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:t.Il.lightgrey,hcDark:t.Il.white,hcLight:"#292929"},s.NC("editorRuler","Color of the editor rulers.")),L=((0,l.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},s.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,l.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},s.NC("editorBracketMatchBackground","Background color behind matching brackets"))),x=(0,l.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:l.lRK,hcLight:l.lRK},s.NC("editorBracketMatchBorder","Color for matching brackets boxes")),A=(0,l.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},s.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),k=(0,l.P6G)("editorOverviewRuler.background",null,s.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),W=(0,l.P6G)("editorGutter.background",{dark:l.cvW,light:l.cvW,hcDark:l.cvW,hcLight:l.cvW},s.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),H=(0,l.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:t.Il.fromHex("#fff").transparent(.8),hcLight:l.lRK},s.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),z=(0,l.P6G)("editorUnnecessaryCode.opacity",{dark:t.Il.fromHex("#000a"),light:t.Il.fromHex("#0007"),hcDark:null,hcLight:null},s.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),N=(0,l.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:t.Il.fromHex("#fff").transparent(.8),hcLight:t.Il.fromHex("#292929").transparent(.8)},s.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),O=(0,l.P6G)("editorGhostText.foreground",{dark:t.Il.fromHex("#ffffff56"),light:t.Il.fromHex("#0007"),hcDark:null,hcLight:null},s.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),K=(0,l.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},s.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),$=new t.Il(new t.VS(0,122,204,.6)),j=(0,l.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:$,light:$,hcDark:$,hcLight:$},s.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),q=(0,l.P6G)("editorOverviewRuler.errorForeground",{dark:new t.Il(new t.VS(255,18,18,.7)),light:new t.Il(new t.VS(255,18,18,.7)),hcDark:new t.Il(new t.VS(255,50,50,1)),hcLight:"#B5200D"},s.NC("overviewRuleError","Overview ruler marker color for errors.")),R=(0,l.P6G)("editorOverviewRuler.warningForeground",{dark:l.uoC,light:l.uoC,hcDark:l.pW3,hcLight:l.pW3},s.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),Z=(0,l.P6G)("editorOverviewRuler.infoForeground",{dark:l.c63,light:l.c63,hcDark:l.T83,hcLight:l.T83},s.NC("overviewRuleInfo","Overview ruler marker color for infos.")),J=(0,l.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},s.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Ce=(0,l.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},s.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Se=(0,l.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},s.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Ie=(0,l.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),xe=(0,l.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Me=(0,l.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Oe=(0,l.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new t.Il(new t.VS(255,18,18,.8)),light:new t.Il(new t.VS(255,18,18,.8)),hcDark:new t.Il(new t.VS(255,50,50,1)),hcLight:""},s.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),se=(0,l.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),ce=(0,l.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Ee=(0,l.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),me=(0,l.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Pe=(0,l.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),he=(0,l.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Fe=(0,l.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ze=(0,l.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ze=(0,l.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),fe=(0,l.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Ke=(0,l.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Je=(0,l.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},s.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,l.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},s.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,l.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},s.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,C.Ic)((Xe,re)=>{const pe=Xe.getColor(l.cvW);pe&&re.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${pe}; }`);const ge=Xe.getColor(I),de=ge&&!ge.isTransparent()?ge:pe;de&&re.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${de}; }`);const Q=Xe.getColor(l.NOs);Q&&re.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Q}; }`);const ye=Xe.getColor(W);ye&&re.addRule(`.monaco-editor .margin { background-color: ${ye}; }`);const Ae=Xe.getColor(S);Ae&&re.addRule(`.monaco-editor .rangeHighlight { background-color: ${Ae}; }`);const ft=Xe.getColor(D);ft&&re.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,f.c3)(Xe.type)?"dotted":"solid"} ${ft}; }`);const dt=Xe.getColor(_);dt&&re.addRule(`.monaco-editor .symbolHighlight { background-color: ${dt}; }`);const it=Xe.getColor(r);it&&re.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,f.c3)(Xe.type)?"dotted":"solid"} ${it}; }`);const et=Xe.getColor(n);et&&(re.addRule(`.monaco-editor .mtkw { color: ${et} !important; }`),re.addRule(`.monaco-editor .mtkz { color: ${et} !important; }`))})},48661:(yt,T,e)=>{"use strict";function s(t){let l=0,C=0,f=0,I=0;for(let b=0,S=t.length;b<S;b++){const D=t.charCodeAt(b);13===D?(0===l&&(C=b),l++,b+1<S&&10===t.charCodeAt(b+1)?(I|=2,b++):I|=3,f=b+1):10===D&&(I|=1,0===l&&(C=b),l++,f=b+1)}return 0===l&&(C=t.length),[l,C,t.length-f,I]}e.d(T,{Q:()=>s})},2646:(yt,T,e)=>{"use strict";e.d(T,{x:()=>C});var s=e(77697),t=e(30648);function C(f,I,b){let S=s.LC(f);return-1===S&&(S=f.length),function l(f,I,b){let S=0;for(let _=0;_<f.length;_++)"\t"===f.charAt(_)?S=t.i.nextIndentTabStop(S,I):S++;let D="";if(!b){const _=Math.floor(S/I);S%=I;for(let r=0;r<_;r++)D+="\t"}for(let _=0;_<S;_++)D+=" ";return D}(f.substring(0,S),I,b)+f.substring(S)}},13902:(yt,T,e)=>{"use strict";e.d(T,{L:()=>s});class s{constructor(l,C){this.lineNumber=l,this.column=C}with(l=this.lineNumber,C=this.column){return l===this.lineNumber&&C===this.column?this:new s(l,C)}delta(l=0,C=0){return this.with(this.lineNumber+l,this.column+C)}equals(l){return s.equals(this,l)}static equals(l,C){return!l&&!C||!!l&&!!C&&l.lineNumber===C.lineNumber&&l.column===C.column}isBefore(l){return s.isBefore(this,l)}static isBefore(l,C){return l.lineNumber<C.lineNumber||!(C.lineNumber<l.lineNumber)&&l.column<C.column}isBeforeOrEqual(l){return s.isBeforeOrEqual(this,l)}static isBeforeOrEqual(l,C){return l.lineNumber<C.lineNumber||!(C.lineNumber<l.lineNumber)&&l.column<=C.column}static compare(l,C){const f=0|l.lineNumber,I=0|C.lineNumber;return f===I?(0|l.column)-(0|C.column):f-I}clone(){return new s(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(l){return new s(l.lineNumber,l.column)}static isIPosition(l){return l&&"number"==typeof l.lineNumber&&"number"==typeof l.column}}},88154:(yt,T,e)=>{"use strict";e.d(T,{e:()=>t});var s=e(13902);class t{constructor(C,f,I,b){C>I||C===I&&f>b?(this.startLineNumber=I,this.startColumn=b,this.endLineNumber=C,this.endColumn=f):(this.startLineNumber=C,this.startColumn=f,this.endLineNumber=I,this.endColumn=b)}isEmpty(){return t.isEmpty(this)}static isEmpty(C){return C.startLineNumber===C.endLineNumber&&C.startColumn===C.endColumn}containsPosition(C){return t.containsPosition(this,C)}static containsPosition(C,f){return!(f.lineNumber<C.startLineNumber||f.lineNumber>C.endLineNumber||f.lineNumber===C.startLineNumber&&f.column<C.startColumn||f.lineNumber===C.endLineNumber&&f.column>C.endColumn)}static strictContainsPosition(C,f){return!(f.lineNumber<C.startLineNumber||f.lineNumber>C.endLineNumber||f.lineNumber===C.startLineNumber&&f.column<=C.startColumn||f.lineNumber===C.endLineNumber&&f.column>=C.endColumn)}containsRange(C){return t.containsRange(this,C)}static containsRange(C,f){return!(f.startLineNumber<C.startLineNumber||f.endLineNumber<C.startLineNumber||f.startLineNumber>C.endLineNumber||f.endLineNumber>C.endLineNumber||f.startLineNumber===C.startLineNumber&&f.startColumn<C.startColumn||f.endLineNumber===C.endLineNumber&&f.endColumn>C.endColumn)}strictContainsRange(C){return t.strictContainsRange(this,C)}static strictContainsRange(C,f){return!(f.startLineNumber<C.startLineNumber||f.endLineNumber<C.startLineNumber||f.startLineNumber>C.endLineNumber||f.endLineNumber>C.endLineNumber||f.startLineNumber===C.startLineNumber&&f.startColumn<=C.startColumn||f.endLineNumber===C.endLineNumber&&f.endColumn>=C.endColumn)}plusRange(C){return t.plusRange(this,C)}static plusRange(C,f){let I,b,S,D;return f.startLineNumber<C.startLineNumber?(I=f.startLineNumber,b=f.startColumn):f.startLineNumber===C.startLineNumber?(I=f.startLineNumber,b=Math.min(f.startColumn,C.startColumn)):(I=C.startLineNumber,b=C.startColumn),f.endLineNumber>C.endLineNumber?(S=f.endLineNumber,D=f.endColumn):f.endLineNumber===C.endLineNumber?(S=f.endLineNumber,D=Math.max(f.endColumn,C.endColumn)):(S=C.endLineNumber,D=C.endColumn),new t(I,b,S,D)}intersectRanges(C){return t.intersectRanges(this,C)}static intersectRanges(C,f){let I=C.startLineNumber,b=C.startColumn,S=C.endLineNumber,D=C.endColumn;const _=f.startLineNumber,r=f.startColumn,a=f.endLineNumber,u=f.endColumn;return I<_?(I=_,b=r):I===_&&(b=Math.max(b,r)),S>a?(S=a,D=u):S===a&&(D=Math.min(D,u)),I>S||I===S&&b>D?null:new t(I,b,S,D)}equalsRange(C){return t.equalsRange(this,C)}static equalsRange(C,f){return!!C&&!!f&&C.startLineNumber===f.startLineNumber&&C.startColumn===f.startColumn&&C.endLineNumber===f.endLineNumber&&C.endColumn===f.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(C){return new s.L(C.endLineNumber,C.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(C){return new s.L(C.startLineNumber,C.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(C,f){return new t(this.startLineNumber,this.startColumn,C,f)}setStartPosition(C,f){return new t(C,f,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(C){return new t(C.startLineNumber,C.startColumn,C.startLineNumber,C.startColumn)}static fromPositions(C,f=C){return new t(C.lineNumber,C.column,f.lineNumber,f.column)}static lift(C){return C?new t(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn):null}static isIRange(C){return C&&"number"==typeof C.startLineNumber&&"number"==typeof C.startColumn&&"number"==typeof C.endLineNumber&&"number"==typeof C.endColumn}static areIntersectingOrTouching(C,f){return!(C.endLineNumber<f.startLineNumber||C.endLineNumber===f.startLineNumber&&C.endColumn<f.startColumn||f.endLineNumber<C.startLineNumber||f.endLineNumber===C.startLineNumber&&f.endColumn<C.startColumn)}static areIntersecting(C,f){return!(C.endLineNumber<f.startLineNumber||C.endLineNumber===f.startLineNumber&&C.endColumn<=f.startColumn||f.endLineNumber<C.startLineNumber||f.endLineNumber===C.startLineNumber&&f.endColumn<=C.startColumn)}static compareRangesUsingStarts(C,f){if(C&&f){const S=0|C.startLineNumber,D=0|f.startLineNumber;if(S===D){const _=0|C.startColumn,r=0|f.startColumn;if(_===r){const a=0|C.endLineNumber,u=0|f.endLineNumber;return a===u?(0|C.endColumn)-(0|f.endColumn):a-u}return _-r}return S-D}return(C?1:0)-(f?1:0)}static compareRangesUsingEnds(C,f){return C.endLineNumber===f.endLineNumber?C.endColumn===f.endColumn?C.startLineNumber===f.startLineNumber?C.startColumn-f.startColumn:C.startLineNumber-f.startLineNumber:C.endColumn-f.endColumn:C.endLineNumber-f.endLineNumber}static spansMultipleLines(C){return C.endLineNumber>C.startLineNumber}toJSON(){return this}}},58745:(yt,T,e)=>{"use strict";e.d(T,{Y:()=>l});var s=e(13902),t=e(88154);class l extends t.e{constructor(f,I,b,S){super(f,I,b,S),this.selectionStartLineNumber=f,this.selectionStartColumn=I,this.positionLineNumber=b,this.positionColumn=S}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(f){return l.selectionsEqual(this,f)}static selectionsEqual(f,I){return f.selectionStartLineNumber===I.selectionStartLineNumber&&f.selectionStartColumn===I.selectionStartColumn&&f.positionLineNumber===I.positionLineNumber&&f.positionColumn===I.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(f,I){return 0===this.getDirection()?new l(this.startLineNumber,this.startColumn,f,I):new l(f,I,this.startLineNumber,this.startColumn)}getPosition(){return new s.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new s.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(f,I){return 0===this.getDirection()?new l(f,I,this.endLineNumber,this.endColumn):new l(this.endLineNumber,this.endColumn,f,I)}static fromPositions(f,I=f){return new l(f.lineNumber,f.column,I.lineNumber,I.column)}static fromRange(f,I){return 0===I?new l(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn):new l(f.endLineNumber,f.endColumn,f.startLineNumber,f.startColumn)}static liftSelection(f){return new l(f.selectionStartLineNumber,f.selectionStartColumn,f.positionLineNumber,f.positionColumn)}static selectionsArrEqual(f,I){if(f&&!I||!f&&I)return!1;if(!f&&!I)return!0;if(f.length!==I.length)return!1;for(let b=0,S=f.length;b<S;b++)if(!this.selectionsEqual(f[b],I[b]))return!1;return!0}static isISelection(f){return f&&"number"==typeof f.selectionStartLineNumber&&"number"==typeof f.selectionStartColumn&&"number"==typeof f.positionLineNumber&&"number"==typeof f.positionColumn}static createWithDirection(f,I,b,S,D){return 0===D?new l(f,I,b,S):new l(b,S,f,I)}}},23859:(yt,T,e)=>{"use strict";e.d(T,{kH:()=>a,l$:()=>r,lZ:()=>_,oe:()=>D});var s=e(77697),t=e(84834),l=e(28554);let C,I,S;function f(){return C||(C=new TextDecoder("UTF-16LE")),C}function D(){return S||(S=t.r()?f():function b(){return I||(I=new TextDecoder("UTF-16BE")),I}()),S}const _=typeof TextDecoder<"u";let r,a;function n(g,v,m){const w=[];let E=0;for(let L=0;L<m;L++){const x=l.mP(g,v);v+=2,w[E++]=String.fromCharCode(x)}return w.join("")}_?(r=g=>new d(g),a=function u(g,v,m){const w=new Uint16Array(g.buffer,v,m);return m>0&&(65279===w[0]||65534===w[0])?n(g,v,m):f().decode(w)}):(r=g=>new y,a=n);class d{constructor(v){this._capacity=0|v,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const v=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return D().decode(v)}_flushBuffer(){const v=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[v]:this._completedStrings[this._completedStrings.length]=v}write1(v){const m=this._capacity-this._bufferLength;m<=1&&(0===m||s.ZG(v))&&this._flushBuffer(),this._buffer[this._bufferLength++]=v}appendASCII(v){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=v}appendASCIIString(v){const m=v.length;if(this._bufferLength+m>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=v);for(let w=0;w<m;w++)this._buffer[this._bufferLength++]=v.charCodeAt(w)}}class y{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(v){this._pieces[this._piecesLen++]=String.fromCharCode(v)}appendASCII(v){this._pieces[this._piecesLen++]=String.fromCharCode(v)}appendASCIIString(v){this._pieces[this._piecesLen++]=v}}},47023:(yt,T,e)=>{"use strict";e.d(T,{b:()=>f,q:()=>C});var s=e(28554),t=e(23859);function l(b){return b.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class C{constructor(S,D,_,r){this.oldPosition=S,this.oldText=D,this.newPosition=_,this.newText=r}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${l(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${l(this.oldText)}")`:`(replace@${this.oldPosition} "${l(this.oldText)}" with "${l(this.newText)}")`}static _writeStringSize(S){return 4+2*S.length}static _writeString(S,D,_){const r=D.length;s.T4(S,r,_),_+=4;for(let a=0;a<r;a++)s.oq(S,D.charCodeAt(a),_),_+=2;return _}static _readString(S,D){const _=s.Ag(S,D);return(0,t.kH)(S,D+=4,_)}writeSize(){return 8+C._writeStringSize(this.oldText)+C._writeStringSize(this.newText)}write(S,D){return s.T4(S,this.oldPosition,D),s.T4(S,this.newPosition,D+=4),D=C._writeString(S,this.oldText,D+=4),C._writeString(S,this.newText,D)}static read(S,D,_){const r=s.Ag(S,D),a=s.Ag(S,D+=4),u=C._readString(S,D+=4);D+=C._writeStringSize(u);const n=C._readString(S,D);return D+=C._writeStringSize(n),_.push(new C(r,u,a,n)),D}}function f(b,S){return null===b||0===b.length?S:new I(b,S).compress()}class I{constructor(S,D){this._prevEdits=S,this._currEdits=D,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let S=0,D=0,_=this._getPrev(S),r=this._getCurr(D);for(;S<this._prevLen||D<this._currLen;){if(null===_){this._acceptCurr(r),r=this._getCurr(++D);continue}if(null===r){this._acceptPrev(_),_=this._getPrev(++S);continue}if(r.oldEnd<=_.newPosition){this._acceptCurr(r),r=this._getCurr(++D);continue}if(_.newEnd<=r.oldPosition){this._acceptPrev(_),_=this._getPrev(++S);continue}if(r.oldPosition<_.newPosition){const[y,g]=I._splitCurr(r,_.newPosition-r.oldPosition);this._acceptCurr(y),r=g;continue}if(_.newPosition<r.oldPosition){const[y,g]=I._splitPrev(_,r.oldPosition-_.newPosition);this._acceptPrev(y),_=g;continue}let n,d;if(r.oldEnd===_.newEnd)n=_,d=r,_=this._getPrev(++S),r=this._getCurr(++D);else if(r.oldEnd<_.newEnd){const[y,g]=I._splitPrev(_,r.oldLength);n=y,d=r,_=g,r=this._getCurr(++D)}else{const[y,g]=I._splitCurr(r,_.newLength);n=_,d=y,_=this._getPrev(++S),r=g}this._result[this._resultLen++]=new C(n.oldPosition,n.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const a=I._merge(this._result);return I._removeNoOps(a)}_acceptCurr(S){this._result[this._resultLen++]=I._rebaseCurr(this._prevDeltaOffset,S),this._currDeltaOffset+=S.newLength-S.oldLength}_getCurr(S){return S<this._currLen?this._currEdits[S]:null}_acceptPrev(S){this._result[this._resultLen++]=I._rebasePrev(this._currDeltaOffset,S),this._prevDeltaOffset+=S.newLength-S.oldLength}_getPrev(S){return S<this._prevLen?this._prevEdits[S]:null}static _rebaseCurr(S,D){return new C(D.oldPosition-S,D.oldText,D.newPosition,D.newText)}static _rebasePrev(S,D){return new C(D.oldPosition,D.oldText,D.newPosition+S,D.newText)}static _splitPrev(S,D){const _=S.newText.substr(0,D),r=S.newText.substr(D);return[new C(S.oldPosition,S.oldText,S.newPosition,_),new C(S.oldEnd,"",S.newPosition+D,r)]}static _splitCurr(S,D){const _=S.oldText.substr(0,D),r=S.oldText.substr(D);return[new C(S.oldPosition,_,S.newPosition,S.newText),new C(S.oldPosition+D,r,S.newEnd,"")]}static _merge(S){if(0===S.length)return S;const D=[];let _=0,r=S[0];for(let a=1;a<S.length;a++){const u=S[a];r.oldEnd===u.oldPosition?r=new C(r.oldPosition,r.oldText+u.oldText,r.newPosition,r.newText+u.newText):(D[_++]=r,r=u)}return D[_++]=r,D}static _removeNoOps(S){if(0===S.length)return S;const D=[];let _=0;for(let r=0;r<S.length;r++){const a=S[r];a.oldText!==a.newText&&(D[_++]=a)}return D}}},92164:(yt,T,e)=>{"use strict";e.d(T,{D:()=>s});const s={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},10759:(yt,T,e)=>{"use strict";e.d(T,{u:()=>C});var s=e(89646);class t extends s.N{constructor(I){super(0);for(let b=0,S=I.length;b<S;b++)this.set(I.charCodeAt(b),2);this.set(32,1),this.set(9,1)}}const C=function l(f){const I={};return b=>(I.hasOwnProperty(b)||(I[b]=f(b)),I[b])}(f=>new t(f))},38022:(yt,T,e)=>{"use strict";e.d(T,{Af:()=>f,eq:()=>I,t2:()=>S,vu:()=>l});var s=e(61777),t=e(54847);const l="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",f=function C(_=""){let r="(-?\\d*\\.\\d\\w*)|([^";for(const a of l)_.indexOf(a)>=0||(r+="\\"+a);return r+="\\s]+)",new RegExp(r,"g")}();function I(_){let r=f;if(_&&_ instanceof RegExp)if(_.global)r=_;else{let a="g";_.ignoreCase&&(a+="i"),_.multiline&&(a+="m"),_.unicode&&(a+="u"),r=new RegExp(_.source,a)}return r.lastIndex=0,r}const b=new t.S;function S(_,r,a,u,n){if(n||(n=s.$.first(b)),a.length>n.maxLen){let m=_-n.maxLen/2;return m<0?m=0:u+=m,S(_,r,a=a.substring(m,_+n.maxLen/2),u,n)}const d=Date.now(),y=_-1-u;let g=-1,v=null;for(let m=1;!(Date.now()-d>=n.timeBudget);m++){const w=y-n.windowSize*m;r.lastIndex=Math.max(0,w);const E=D(r,a,y,g);if(!E&&v||(v=E,w<=0))break;g=w}if(v){const m={word:v[0],startColumn:u+1+v.index,endColumn:u+1+v.index+v[0].length};return r.lastIndex=0,m}return null}function D(_,r,a,u){let n;for(;n=_.exec(r);){const d=n.index||0;if(d<=a&&_.lastIndex>=a)return n;if(u>0&&d>u)return null}return null}b.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},16881:(yt,T,e)=>{"use strict";e.d(T,{l:()=>t});var s=e(30648);class t{static whitespaceVisibleColumn(C,f,I){const b=C.length;let S=0,D=-1,_=-1;for(let r=0;r<b;r++){if(r===f)return[D,_,S];switch(S%I==0&&(D=r,_=S),C.charCodeAt(r)){case 32:S+=1;break;case 9:S=s.i.nextRenderTabStop(S,I);break;default:return[-1,-1,-1]}}return f===b?[D,_,S]:[-1,-1,-1]}static atomicPosition(C,f,I,b){const S=C.length,[D,_,r]=t.whitespaceVisibleColumn(C,f,I);if(-1===r)return-1;let a;switch(b){case 0:a=!0;break;case 1:a=!1;break;case 2:if(r%I==0)return f;a=r%I<=I/2}if(a){if(-1===D)return-1;let d=_;for(let y=D;y<S;++y){if(d===_+I)return D;switch(C.charCodeAt(y)){case 32:d+=1;break;case 9:d=s.i.nextRenderTabStop(d,I);break;default:return-1}}return d===_+I?D:-1}const u=s.i.nextRenderTabStop(r,I);let n=r;for(let d=f;d<S;d++){if(n===u)return d;switch(C.charCodeAt(d)){case 32:n+=1;break;case 9:n=s.i.nextRenderTabStop(n,I);break;default:return-1}}return n===u?S:-1}}},23292:(yt,T,e)=>{"use strict";e.d(T,{A:()=>S});var s=e(77697),t=e(57535),l=e(58841),C=e(30648),f=e(73773),I=e(88154),b=e(13902);class S{static deleteRight(_,r,a,u){const n=[];let d=3!==_;for(let y=0,g=u.length;y<g;y++){const v=u[y];let m=v;if(m.isEmpty()){const w=v.getPosition(),E=f.o.right(r,a,w);m=new I.e(E.lineNumber,E.column,w.lineNumber,w.column)}m.isEmpty()?n[y]=null:(m.startLineNumber!==m.endLineNumber&&(d=!0),n[y]=new t.T4(m,""))}return[d,n]}static isAutoClosingPairDelete(_,r,a,u,n,d,y){if("never"===r&&"never"===a||"never"===_)return!1;for(let g=0,v=d.length;g<v;g++){const m=d[g],w=m.getPosition();if(!m.isEmpty())return!1;const E=n.getLineContent(w.lineNumber);if(w.column<2||w.column>=E.length+1)return!1;const L=E.charAt(w.column-2),x=u.get(L);if(!x)return!1;if((0,l.LN)(L)){if("never"===a)return!1}else if("never"===r)return!1;const A=E.charAt(w.column-1);let k=!1;for(const W of x)W.open===L&&W.close===A&&(k=!0);if(!k)return!1;if("auto"===_){let W=!1;for(let H=0,z=y.length;H<z;H++){const N=y[H];if(w.lineNumber===N.startLineNumber&&w.column===N.startColumn){W=!0;break}}if(!W)return!1}}return!0}static _runAutoClosingPairDelete(_,r,a){const u=[];for(let n=0,d=a.length;n<d;n++){const y=a[n].getPosition(),g=new I.e(y.lineNumber,y.column-1,y.lineNumber,y.column+1);u[n]=new t.T4(g,"")}return[!0,u]}static deleteLeft(_,r,a,u,n){if(this.isAutoClosingPairDelete(r.autoClosingDelete,r.autoClosingBrackets,r.autoClosingQuotes,r.autoClosingPairs.autoClosingPairsOpenByEnd,a,u,n))return this._runAutoClosingPairDelete(r,a,u);const d=[];let y=2!==_;for(let g=0,v=u.length;g<v;g++){const m=S.getDeleteRange(u[g],a,r);m.isEmpty()?d[g]=null:(m.startLineNumber!==m.endLineNumber&&(y=!0),d[g]=new t.T4(m,""))}return[y,d]}static getDeleteRange(_,r,a){if(!_.isEmpty())return _;const u=_.getPosition();if(a.useTabStops&&u.column>1){const n=r.getLineContent(u.lineNumber),d=s.LC(n);if(u.column<=(-1===d?n.length+1:d+1)){const g=a.visibleColumnFromColumn(r,u),v=C.i.prevIndentTabStop(g,a.indentSize),m=a.columnFromVisibleColumn(r,u.lineNumber,v);return new I.e(u.lineNumber,m,u.lineNumber,u.column)}}return I.e.fromPositions(S.getPositionAfterDeleteLeft(u,r),u)}static getPositionAfterDeleteLeft(_,r){if(_.column>1){const a=s.oH(_.column-1,r.getLineContent(_.lineNumber));return _.with(void 0,a+1)}if(_.lineNumber>1){const a=_.lineNumber-1;return new b.L(a,r.getLineMaxColumn(a))}return _}static cut(_,r,a){const u=[];let n=null;a.sort((d,y)=>b.L.compare(d.getStartPosition(),y.getEndPosition()));for(let d=0,y=a.length;d<y;d++){const g=a[d];if(g.isEmpty())if(_.emptySelectionClipboard){const v=g.getPosition();let m,w,E,L;v.lineNumber<r.getLineCount()?(m=v.lineNumber,w=1,E=v.lineNumber+1,L=1):v.lineNumber>1&&n?.endLineNumber!==v.lineNumber?(m=v.lineNumber-1,w=r.getLineMaxColumn(v.lineNumber-1),E=v.lineNumber,L=r.getLineMaxColumn(v.lineNumber)):(m=v.lineNumber,w=1,E=v.lineNumber,L=r.getLineMaxColumn(v.lineNumber));const x=new I.e(m,w,E,L);n=x,u[d]=x.isEmpty()?null:new t.T4(x,"")}else u[d]=null;else u[d]=new t.T4(g,"")}return new l.Tp(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},50592:(yt,T,e)=>{"use strict";e.d(T,{N:()=>S,P:()=>b});var S,D,s=e(22070),t=e(58841),l=e(73773),C=e(96453),f=e(13902),I=e(88154);class b{static addCursorDown(_,r,a){const u=[];let n=0;for(let d=0,y=r.length;d<y;d++){const g=r[d];u[n++]=new t.Vi(g.modelState,g.viewState),u[n++]=a?t.Vi.fromModelState(l.o.translateDown(_.cursorConfig,_.model,g.modelState)):t.Vi.fromViewState(l.o.translateDown(_.cursorConfig,_,g.viewState))}return u}static addCursorUp(_,r,a){const u=[];let n=0;for(let d=0,y=r.length;d<y;d++){const g=r[d];u[n++]=new t.Vi(g.modelState,g.viewState),u[n++]=a?t.Vi.fromModelState(l.o.translateUp(_.cursorConfig,_.model,g.modelState)):t.Vi.fromViewState(l.o.translateUp(_.cursorConfig,_,g.viewState))}return u}static moveToBeginningOfLine(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++)u[n]=this._moveToLineStart(_,r[n],a);return u}static _moveToLineStart(_,r,a){const u=r.viewState.position.column,d=u===r.modelState.position.column,g=_.getLineFirstNonWhitespaceColumn(r.viewState.position.lineNumber);return d||u===g?this._moveToLineStartByModel(_,r,a):this._moveToLineStartByView(_,r,a)}static _moveToLineStartByView(_,r,a){return t.Vi.fromViewState(l.o.moveToBeginningOfLine(_.cursorConfig,_,r.viewState,a))}static _moveToLineStartByModel(_,r,a){return t.Vi.fromModelState(l.o.moveToBeginningOfLine(_.cursorConfig,_.model,r.modelState,a))}static moveToEndOfLine(_,r,a,u){const n=[];for(let d=0,y=r.length;d<y;d++)n[d]=this._moveToLineEnd(_,r[d],a,u);return n}static _moveToLineEnd(_,r,a,u){const n=r.viewState.position,d=_.getLineMaxColumn(n.lineNumber),y=n.column===d,g=r.modelState.position,v=_.model.getLineMaxColumn(g.lineNumber);return y||d-n.column==v-g.column?this._moveToLineEndByModel(_,r,a,u):this._moveToLineEndByView(_,r,a,u)}static _moveToLineEndByView(_,r,a,u){return t.Vi.fromViewState(l.o.moveToEndOfLine(_.cursorConfig,_,r.viewState,a,u))}static _moveToLineEndByModel(_,r,a,u){return t.Vi.fromModelState(l.o.moveToEndOfLine(_.cursorConfig,_.model,r.modelState,a,u))}static expandLineSelection(_,r){const a=[];for(let u=0,n=r.length;u<n;u++){const d=r[u],y=d.modelState.selection.startLineNumber,g=_.model.getLineCount();let m,v=d.modelState.selection.endLineNumber;v===g?m=_.model.getLineMaxColumn(g):(v++,m=1),a[u]=t.Vi.fromModelState(new t.rS(new I.e(y,1,y,1),0,new f.L(v,m),0))}return a}static moveToBeginningOfBuffer(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++)u[n]=t.Vi.fromModelState(l.o.moveToBeginningOfBuffer(_.cursorConfig,_.model,r[n].modelState,a));return u}static moveToEndOfBuffer(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++)u[n]=t.Vi.fromModelState(l.o.moveToEndOfBuffer(_.cursorConfig,_.model,r[n].modelState,a));return u}static selectAll(_,r){const a=_.model.getLineCount(),u=_.model.getLineMaxColumn(a);return t.Vi.fromModelState(new t.rS(new I.e(1,1,1,1),0,new f.L(a,u),0))}static line(_,r,a,u,n){const d=_.model.validatePosition(u),y=n?_.coordinatesConverter.validateViewPosition(new f.L(n.lineNumber,n.column),d):_.coordinatesConverter.convertModelPositionToViewPosition(d);if(!a||!r.modelState.hasSelection()){const v=_.model.getLineCount();let m=d.lineNumber+1,w=1;return m>v&&(m=v,w=_.model.getLineMaxColumn(m)),t.Vi.fromModelState(new t.rS(new I.e(d.lineNumber,1,m,w),0,new f.L(m,w),0))}const g=r.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<g)return t.Vi.fromViewState(r.viewState.move(r.modelState.hasSelection(),y.lineNumber,1,0));if(d.lineNumber>g){const v=_.getLineCount();let m=y.lineNumber+1,w=1;return m>v&&(m=v,w=_.getLineMaxColumn(m)),t.Vi.fromViewState(r.viewState.move(r.modelState.hasSelection(),m,w,0))}{const v=r.modelState.selectionStart.getEndPosition();return t.Vi.fromModelState(r.modelState.move(r.modelState.hasSelection(),v.lineNumber,v.column,0))}}static word(_,r,a,u){const n=_.model.validatePosition(u);return t.Vi.fromModelState(C.w.word(_.cursorConfig,_.model,r.modelState,a,n))}static cancelSelection(_,r){if(!r.modelState.hasSelection())return new t.Vi(r.modelState,r.viewState);const a=r.viewState.position.lineNumber,u=r.viewState.position.column;return t.Vi.fromViewState(new t.rS(new I.e(a,u,a,u),0,new f.L(a,u),0))}static moveTo(_,r,a,u,n){const d=_.model.validatePosition(u),y=n?_.coordinatesConverter.validateViewPosition(new f.L(n.lineNumber,n.column),d):_.coordinatesConverter.convertModelPositionToViewPosition(d);return t.Vi.fromViewState(r.viewState.move(a,y.lineNumber,y.column,0))}static simpleMove(_,r,a,u,n,d){switch(a){case 0:return 4===d?this._moveHalfLineLeft(_,r,u):this._moveLeft(_,r,u,n);case 1:return 4===d?this._moveHalfLineRight(_,r,u):this._moveRight(_,r,u,n);case 2:return 2===d?this._moveUpByViewLines(_,r,u,n):this._moveUpByModelLines(_,r,u,n);case 3:return 2===d?this._moveDownByViewLines(_,r,u,n):this._moveDownByModelLines(_,r,u,n);case 4:return r.map(2===d?y=>t.Vi.fromViewState(l.o.moveToPrevBlankLine(_.cursorConfig,_,y.viewState,u)):y=>t.Vi.fromModelState(l.o.moveToPrevBlankLine(_.cursorConfig,_.model,y.modelState,u)));case 5:return r.map(2===d?y=>t.Vi.fromViewState(l.o.moveToNextBlankLine(_.cursorConfig,_,y.viewState,u)):y=>t.Vi.fromModelState(l.o.moveToNextBlankLine(_.cursorConfig,_.model,y.modelState,u)));case 6:return this._moveToViewMinColumn(_,r,u);case 7:return this._moveToViewFirstNonWhitespaceColumn(_,r,u);case 8:return this._moveToViewCenterColumn(_,r,u);case 9:return this._moveToViewMaxColumn(_,r,u);case 10:return this._moveToViewLastNonWhitespaceColumn(_,r,u);default:return null}}static viewportMove(_,r,a,u,n){const d=_.getCompletelyVisibleViewRange(),y=_.coordinatesConverter.convertViewRangeToModelRange(d);switch(a){case 11:{const g=this._firstLineNumberInRange(_.model,y,n),v=_.model.getLineFirstNonWhitespaceColumn(g);return[this._moveToModelPosition(_,r[0],u,g,v)]}case 13:{const g=this._lastLineNumberInRange(_.model,y,n),v=_.model.getLineFirstNonWhitespaceColumn(g);return[this._moveToModelPosition(_,r[0],u,g,v)]}case 12:{const g=Math.round((y.startLineNumber+y.endLineNumber)/2),v=_.model.getLineFirstNonWhitespaceColumn(g);return[this._moveToModelPosition(_,r[0],u,g,v)]}case 14:{const g=[];for(let v=0,m=r.length;v<m;v++)g[v]=this.findPositionInViewportIfOutside(_,r[v],d,u);return g}default:return null}}static findPositionInViewportIfOutside(_,r,a,u){const n=r.viewState.position.lineNumber;if(a.startLineNumber<=n&&n<=a.endLineNumber-1)return new t.Vi(r.modelState,r.viewState);{let d;d=n>a.endLineNumber-1?a.endLineNumber-1:n<a.startLineNumber?a.startLineNumber:n;const y=l.o.vertical(_.cursorConfig,_,n,r.viewState.position.column,r.viewState.leftoverVisibleColumns,d,!1);return t.Vi.fromViewState(r.viewState.move(u,y.lineNumber,y.column,y.leftoverVisibleColumns))}}static _firstLineNumberInRange(_,r,a){let u=r.startLineNumber;return r.startColumn!==_.getLineMinColumn(u)&&u++,Math.min(r.endLineNumber,u+a-1)}static _lastLineNumberInRange(_,r,a){let u=r.startLineNumber;return r.startColumn!==_.getLineMinColumn(u)&&u++,Math.max(u,r.endLineNumber-a+1)}static _moveLeft(_,r,a,u){return r.map(n=>t.Vi.fromViewState(l.o.moveLeft(_.cursorConfig,_,n.viewState,a,u)))}static _moveHalfLineLeft(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++){const y=r[n],v=Math.round(_.getLineContent(y.viewState.position.lineNumber).length/2);u[n]=t.Vi.fromViewState(l.o.moveLeft(_.cursorConfig,_,y.viewState,a,v))}return u}static _moveRight(_,r,a,u){return r.map(n=>t.Vi.fromViewState(l.o.moveRight(_.cursorConfig,_,n.viewState,a,u)))}static _moveHalfLineRight(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++){const y=r[n],v=Math.round(_.getLineContent(y.viewState.position.lineNumber).length/2);u[n]=t.Vi.fromViewState(l.o.moveRight(_.cursorConfig,_,y.viewState,a,v))}return u}static _moveDownByViewLines(_,r,a,u){const n=[];for(let d=0,y=r.length;d<y;d++)n[d]=t.Vi.fromViewState(l.o.moveDown(_.cursorConfig,_,r[d].viewState,a,u));return n}static _moveDownByModelLines(_,r,a,u){const n=[];for(let d=0,y=r.length;d<y;d++)n[d]=t.Vi.fromModelState(l.o.moveDown(_.cursorConfig,_.model,r[d].modelState,a,u));return n}static _moveUpByViewLines(_,r,a,u){const n=[];for(let d=0,y=r.length;d<y;d++)n[d]=t.Vi.fromViewState(l.o.moveUp(_.cursorConfig,_,r[d].viewState,a,u));return n}static _moveUpByModelLines(_,r,a,u){const n=[];for(let d=0,y=r.length;d<y;d++)n[d]=t.Vi.fromModelState(l.o.moveUp(_.cursorConfig,_.model,r[d].modelState,a,u));return n}static _moveToViewPosition(_,r,a,u,n){return t.Vi.fromViewState(r.viewState.move(a,u,n,0))}static _moveToModelPosition(_,r,a,u,n){return t.Vi.fromModelState(r.modelState.move(a,u,n,0))}static _moveToViewMinColumn(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++){const y=r[n],g=y.viewState.position.lineNumber,v=_.getLineMinColumn(g);u[n]=this._moveToViewPosition(_,y,a,g,v)}return u}static _moveToViewFirstNonWhitespaceColumn(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++){const y=r[n],g=y.viewState.position.lineNumber,v=_.getLineFirstNonWhitespaceColumn(g);u[n]=this._moveToViewPosition(_,y,a,g,v)}return u}static _moveToViewCenterColumn(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++){const y=r[n],g=y.viewState.position.lineNumber,v=Math.round((_.getLineMaxColumn(g)+_.getLineMinColumn(g))/2);u[n]=this._moveToViewPosition(_,y,a,g,v)}return u}static _moveToViewMaxColumn(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++){const y=r[n],g=y.viewState.position.lineNumber,v=_.getLineMaxColumn(g);u[n]=this._moveToViewPosition(_,y,a,g,v)}return u}static _moveToViewLastNonWhitespaceColumn(_,r,a){const u=[];for(let n=0,d=r.length;n<d;n++){const y=r[n],g=y.viewState.position.lineNumber,v=_.getLineLastNonWhitespaceColumn(g);u[n]=this._moveToViewPosition(_,y,a,g,v)}return u}}(D=S||(S={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(a){if(!s.Kn(a))return!1;const u=a;return!(!s.HD(u.to)||!s.o8(u.select)&&!s.jn(u.select)||!s.o8(u.by)&&!s.HD(u.by)||!s.o8(u.value)&&!s.hj(u.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},D.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},D.parse=function r(a){if(!a.to)return null;let u;switch(a.to){case D.RawDirection.Left:u=0;break;case D.RawDirection.Right:u=1;break;case D.RawDirection.Up:u=2;break;case D.RawDirection.Down:u=3;break;case D.RawDirection.PrevBlankLine:u=4;break;case D.RawDirection.NextBlankLine:u=5;break;case D.RawDirection.WrappedLineStart:u=6;break;case D.RawDirection.WrappedLineFirstNonWhitespaceCharacter:u=7;break;case D.RawDirection.WrappedLineColumnCenter:u=8;break;case D.RawDirection.WrappedLineEnd:u=9;break;case D.RawDirection.WrappedLineLastNonWhitespaceCharacter:u=10;break;case D.RawDirection.ViewPortTop:u=11;break;case D.RawDirection.ViewPortBottom:u=13;break;case D.RawDirection.ViewPortCenter:u=12;break;case D.RawDirection.ViewPortIfOutside:u=14;break;default:return null}let n=0;switch(a.by){case D.RawUnit.Line:n=1;break;case D.RawUnit.WrappedLine:n=2;break;case D.RawUnit.Character:n=3;break;case D.RawUnit.HalfLine:n=4}return{direction:u,unit:n,select:!!a.select,value:a.value||1}}},73773:(yt,T,e)=>{"use strict";e.d(T,{o:()=>S});var s=e(58841),t=e(30648),l=e(13902),C=e(88154),f=e(77697),I=e(16881);class b{constructor(_,r,a){this._cursorPositionBrand=void 0,this.lineNumber=_,this.column=r,this.leftoverVisibleColumns=a}}class S{static leftPosition(_,r){if(r.column>_.getLineMinColumn(r.lineNumber))return r.delta(void 0,-f.HO(_.getLineContent(r.lineNumber),r.column-1));if(r.lineNumber>1){const a=r.lineNumber-1;return new l.L(a,_.getLineMaxColumn(a))}return r}static leftPositionAtomicSoftTabs(_,r,a){if(r.column<=_.getLineIndentColumn(r.lineNumber)){const u=_.getLineMinColumn(r.lineNumber),n=_.getLineContent(r.lineNumber),d=I.l.atomicPosition(n,r.column-1,a,0);if(-1!==d&&d+1>=u)return new l.L(r.lineNumber,d+1)}return this.leftPosition(_,r)}static left(_,r,a){const u=_.stickyTabStops?S.leftPositionAtomicSoftTabs(r,a,_.tabSize):S.leftPosition(r,a);return new b(u.lineNumber,u.column,0)}static moveLeft(_,r,a,u,n){let d,y;if(a.hasSelection()&&!u)d=a.selection.startLineNumber,y=a.selection.startColumn;else{const g=a.position.delta(void 0,-(n-1)),v=r.normalizePosition(S.clipPositionColumn(g,r),0),m=S.left(_,r,v);d=m.lineNumber,y=m.column}return a.move(u,d,y,0)}static clipPositionColumn(_,r){return new l.L(_.lineNumber,S.clipRange(_.column,r.getLineMinColumn(_.lineNumber),r.getLineMaxColumn(_.lineNumber)))}static clipRange(_,r,a){return _<r?r:_>a?a:_}static rightPosition(_,r,a){return a<_.getLineMaxColumn(r)?a+=f.vH(_.getLineContent(r),a-1):r<_.getLineCount()&&(a=_.getLineMinColumn(r+=1)),new l.L(r,a)}static rightPositionAtomicSoftTabs(_,r,a,u,n){if(a<_.getLineIndentColumn(r)){const d=_.getLineContent(r),y=I.l.atomicPosition(d,a-1,u,1);if(-1!==y)return new l.L(r,y+1)}return this.rightPosition(_,r,a)}static right(_,r,a){const u=_.stickyTabStops?S.rightPositionAtomicSoftTabs(r,a.lineNumber,a.column,_.tabSize,_.indentSize):S.rightPosition(r,a.lineNumber,a.column);return new b(u.lineNumber,u.column,0)}static moveRight(_,r,a,u,n){let d,y;if(a.hasSelection()&&!u)d=a.selection.endLineNumber,y=a.selection.endColumn;else{const g=a.position.delta(void 0,n-1),v=r.normalizePosition(S.clipPositionColumn(g,r),1),m=S.right(_,r,v);d=m.lineNumber,y=m.column}return a.move(u,d,y,0)}static vertical(_,r,a,u,n,d,y,g){const v=t.i.visibleColumnFromColumn(r.getLineContent(a),u,_.tabSize)+n,m=r.getLineCount(),w=1===a&&1===u,E=a===m&&u===r.getLineMaxColumn(a),L=d<a?w:E;if((a=d)<1?(a=1,u=y?r.getLineMinColumn(a):Math.min(r.getLineMaxColumn(a),u)):a>m?(a=m,u=y?r.getLineMaxColumn(a):Math.min(r.getLineMaxColumn(a),u)):u=_.columnFromVisibleColumn(r,a,v),n=L?0:v-t.i.visibleColumnFromColumn(r.getLineContent(a),u,_.tabSize),void 0!==g){const x=new l.L(a,u),A=r.normalizePosition(x,g);n+=u-A.column,a=A.lineNumber,u=A.column}return new b(a,u,n)}static down(_,r,a,u,n,d,y){return this.vertical(_,r,a,u,n,a+d,y,4)}static moveDown(_,r,a,u,n){let d,y;a.hasSelection()&&!u?(d=a.selection.endLineNumber,y=a.selection.endColumn):(d=a.position.lineNumber,y=a.position.column);const g=S.down(_,r,d,y,a.leftoverVisibleColumns,n,!0);return a.move(u,g.lineNumber,g.column,g.leftoverVisibleColumns)}static translateDown(_,r,a){const u=a.selection,n=S.down(_,r,u.selectionStartLineNumber,u.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=S.down(_,r,u.positionLineNumber,u.positionColumn,a.leftoverVisibleColumns,1,!1);return new s.rS(new C.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new l.L(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(_,r,a,u,n,d,y){return this.vertical(_,r,a,u,n,a-d,y,3)}static moveUp(_,r,a,u,n){let d,y;a.hasSelection()&&!u?(d=a.selection.startLineNumber,y=a.selection.startColumn):(d=a.position.lineNumber,y=a.position.column);const g=S.up(_,r,d,y,a.leftoverVisibleColumns,n,!0);return a.move(u,g.lineNumber,g.column,g.leftoverVisibleColumns)}static translateUp(_,r,a){const u=a.selection,n=S.up(_,r,u.selectionStartLineNumber,u.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=S.up(_,r,u.positionLineNumber,u.positionColumn,a.leftoverVisibleColumns,1,!1);return new s.rS(new C.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new l.L(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(_,r){return 0===_.getLineFirstNonWhitespaceColumn(r)}static moveToPrevBlankLine(_,r,a,u){let n=a.position.lineNumber;for(;n>1&&this._isBlankLine(r,n);)n--;for(;n>1&&!this._isBlankLine(r,n);)n--;return a.move(u,n,r.getLineMinColumn(n),0)}static moveToNextBlankLine(_,r,a,u){const n=r.getLineCount();let d=a.position.lineNumber;for(;d<n&&this._isBlankLine(r,d);)d++;for(;d<n&&!this._isBlankLine(r,d);)d++;return a.move(u,d,r.getLineMinColumn(d),0)}static moveToBeginningOfLine(_,r,a,u){const n=a.position.lineNumber,d=r.getLineMinColumn(n),y=r.getLineFirstNonWhitespaceColumn(n)||d;let g;return g=a.position.column===y?d:y,a.move(u,n,g,0)}static moveToEndOfLine(_,r,a,u,n){const d=a.position.lineNumber,y=r.getLineMaxColumn(d);return a.move(u,d,y,n?1073741824-y:0)}static moveToBeginningOfBuffer(_,r,a,u){return a.move(u,1,1,0)}static moveToEndOfBuffer(_,r,a,u){const n=r.getLineCount(),d=r.getLineMaxColumn(n);return a.move(u,n,d,0)}}},16649:(yt,T,e)=>{"use strict";e.d(T,{Nu:()=>m,u6:()=>g,g_:()=>v});var s=e(3219),t=e(77697),l=e(57535),C=e(70760),f=e(88154),I=e(58745);class b{constructor(k,W,H){this._range=k,this._charBeforeSelection=W,this._charAfterSelection=H}getEditOperations(k,W){W.addTrackedEditOperation(new f.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),W.addTrackedEditOperation(new f.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(k,W){const H=W.getInverseEditOperations(),z=H[0].range,N=H[1].range;return new I.Y(z.endLineNumber,z.endColumn,N.endLineNumber,N.endColumn-this._charAfterSelection.length)}}class S{constructor(k,W,H){this._position=k,this._text=W,this._charAfter=H}getEditOperations(k,W){W.addTrackedEditOperation(new f.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(k,W){const z=W.getInverseEditOperations()[0].range;return new I.Y(z.endLineNumber,z.startColumn,z.endLineNumber,z.endColumn-this._charAfter.length)}}var D=e(58841),_=e(10759),r=e(13902),a=e(6326),u=e(15333),n=e(4720),d=e(62877),y=e(83633);class g{static indent(k,W,H){if(null===W||null===H)return[];const z=[];for(let N=0,O=H.length;N<O;N++)z[N]=new C.U(H[N],{isUnshift:!1,tabSize:k.tabSize,indentSize:k.indentSize,insertSpaces:k.insertSpaces,useTabStops:k.useTabStops,autoIndent:k.autoIndent},k.languageConfigurationService);return z}static outdent(k,W,H){const z=[];for(let N=0,O=H.length;N<O;N++)z[N]=new C.U(H[N],{isUnshift:!0,tabSize:k.tabSize,indentSize:k.indentSize,insertSpaces:k.insertSpaces,useTabStops:k.useTabStops,autoIndent:k.autoIndent},k.languageConfigurationService);return z}static shiftIndent(k,W,H){return C.U.shiftIndent(W,W.length+(H=H||1),k.tabSize,k.indentSize,k.insertSpaces)}static unshiftIndent(k,W,H){return C.U.unshiftIndent(W,W.length+(H=H||1),k.tabSize,k.indentSize,k.insertSpaces)}static _distributedPaste(k,W,H,z){const N=[];for(let O=0,K=H.length;O<K;O++)N[O]=new l.T4(H[O],z[O]);return new D.Tp(0,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(k,W,H,z,N){const O=[];for(let K=0,$=H.length;K<$;K++){const j=H[K],q=j.getPosition();if(N&&!j.isEmpty()&&(N=!1),N&&z.indexOf("\n")!==z.length-1&&(N=!1),N){const R=new f.e(q.lineNumber,1,q.lineNumber,1);O[K]=new l.hP(R,z,j,!0)}else O[K]=new l.T4(j,z)}return new D.Tp(0,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(k,W,H,z,N){if(z||1===W.length)return null;if(N&&N.length===W.length)return N;if("spread"===k.multiCursorPaste){10===H.charCodeAt(H.length-1)&&(H=H.substr(0,H.length-1)),13===H.charCodeAt(H.length-1)&&(H=H.substr(0,H.length-1));const O=t.uq(H);if(O.length===W.length)return O}return null}static paste(k,W,H,z,N,O){const K=this._distributePasteToCursors(k,H,z,N,O);return K?(H=H.sort(f.e.compareRangesUsingStarts),this._distributedPaste(k,W,H,K)):this._simplePaste(k,W,H,z,N)}static _goodIndentForLine(k,W,H){let z=null,N="";const O=(0,d.r7)(k.autoIndent,W,H,!1,k.languageConfigurationService);if(O)z=O.action,N=O.indentation;else if(H>1){let K;for(K=H-1;K>=1;K--){const q=W.getLineContent(K);if(t.ow(q)>=0)break}if(K<1)return null;const $=W.getLineMaxColumn(K),j=(0,y.A)(k.autoIndent,W,new f.e(K,$,K,$),k.languageConfigurationService);j&&(N=j.indentation+j.appendText)}return z&&(z===a.wU.Indent&&(N=g.shiftIndent(k,N)),z===a.wU.Outdent&&(N=g.unshiftIndent(k,N)),N=k.normalizeIndentation(N)),N||null}static _replaceJumpToNextIndent(k,W,H,z){let N="";const O=H.getStartPosition();if(k.insertSpaces){const K=k.visibleColumnFromColumn(W,O),$=k.indentSize,j=$-K%$;for(let q=0;q<j;q++)N+=" "}else N="\t";return new l.T4(H,N,z)}static tab(k,W,H){const z=[];for(let N=0,O=H.length;N<O;N++){const K=H[N];if(K.isEmpty()){const $=W.getLineContent(K.startLineNumber);if(/^\s*$/.test($)&&W.tokenization.isCheapToTokenize(K.startLineNumber)){let j=this._goodIndentForLine(k,W,K.startLineNumber);j=j||"\t";const q=k.normalizeIndentation(j);if(!$.startsWith(q)){z[N]=new l.T4(new f.e(K.startLineNumber,1,K.startLineNumber,$.length+1),q,!0);continue}}z[N]=this._replaceJumpToNextIndent(k,W,K,!0)}else{if(K.startLineNumber===K.endLineNumber){const $=W.getLineMaxColumn(K.startLineNumber);if(1!==K.startColumn||K.endColumn!==$){z[N]=this._replaceJumpToNextIndent(k,W,K,!1);continue}}z[N]=new C.U(K,{isUnshift:!1,tabSize:k.tabSize,indentSize:k.indentSize,insertSpaces:k.insertSpaces,useTabStops:k.useTabStops,autoIndent:k.autoIndent},k.languageConfigurationService)}}return z}static compositionType(k,W,H,z,N,O,K,$){const j=z.map(q=>this._compositionType(H,q,N,O,K,$));return new D.Tp(4,j,{shouldPushStackElementBefore:E(k,4),shouldPushStackElementAfter:!1})}static _compositionType(k,W,H,z,N,O){if(!W.isEmpty())return null;const K=W.getPosition(),$=Math.max(1,K.column-z),j=Math.min(k.getLineMaxColumn(K.lineNumber),K.column+N),q=new f.e(K.lineNumber,$,K.lineNumber,j);return k.getValueInRange(q)===H&&0===O?null:new l.Uo(q,H,0,O)}static _typeCommand(k,W,H){return H?new l.Sj(k,W,!0):new l.T4(k,W,!0)}static _enter(k,W,H,z){if(0===k.autoIndent)return g._typeCommand(z,"\n",H);if(!W.tokenization.isCheapToTokenize(z.getStartPosition().lineNumber)||1===k.autoIndent){const $=W.getLineContent(z.startLineNumber),j=t.V8($).substring(0,z.startColumn-1);return g._typeCommand(z,"\n"+k.normalizeIndentation(j),H)}const N=(0,y.A)(k.autoIndent,W,z,k.languageConfigurationService);if(N){if(N.indentAction===a.wU.None)return g._typeCommand(z,"\n"+k.normalizeIndentation(N.indentation+N.appendText),H);if(N.indentAction===a.wU.Indent)return g._typeCommand(z,"\n"+k.normalizeIndentation(N.indentation+N.appendText),H);if(N.indentAction===a.wU.IndentOutdent){const $=k.normalizeIndentation(N.indentation),j=k.normalizeIndentation(N.indentation+N.appendText),q="\n"+j+"\n"+$;return H?new l.Sj(z,q,!0):new l.Uo(z,q,-1,j.length-$.length,!0)}if(N.indentAction===a.wU.Outdent){const $=g.unshiftIndent(k,N.indentation);return g._typeCommand(z,"\n"+k.normalizeIndentation($+N.appendText),H)}}const O=W.getLineContent(z.startLineNumber),K=t.V8(O).substring(0,z.startColumn-1);if(k.autoIndent>=4){const $=(0,d.UF)(k.autoIndent,W,z,{unshiftIndent:j=>g.unshiftIndent(k,j),shiftIndent:j=>g.shiftIndent(k,j),normalizeIndentation:j=>k.normalizeIndentation(j)},k.languageConfigurationService);if($){let j=k.visibleColumnFromColumn(W,z.getEndPosition());const q=z.endColumn,R=W.getLineContent(z.endLineNumber),Z=t.LC(R);if(z=z.setEndPosition(z.endLineNumber,Z>=0?Math.max(z.endColumn,Z+1):W.getLineMaxColumn(z.endLineNumber)),H)return new l.Sj(z,"\n"+k.normalizeIndentation($.afterEnter),!0);{let J=0;return q<=Z+1&&(k.insertSpaces||(j=Math.ceil(j/k.indentSize)),J=Math.min(j+1-k.normalizeIndentation($.afterEnter).length-1,0)),new l.Uo(z,"\n"+k.normalizeIndentation($.afterEnter),0,J,!0)}}}return g._typeCommand(z,"\n"+k.normalizeIndentation(K),H)}static _isAutoIndentType(k,W,H){if(k.autoIndent<4)return!1;for(let z=0,N=H.length;z<N;z++)if(!W.tokenization.isCheapToTokenize(H[z].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(k,W,H,z){const N=(0,u.u0)(W,H.startLineNumber,H.startColumn),O=(0,d.$9)(k.autoIndent,W,H,z,{shiftIndent:K=>g.shiftIndent(k,K),unshiftIndent:K=>g.unshiftIndent(k,K)},k.languageConfigurationService);if(null===O)return null;if(O!==k.normalizeIndentation(N)){const K=W.getLineFirstNonWhitespaceColumn(H.startLineNumber);return g._typeCommand(new f.e(H.startLineNumber,1,H.endLineNumber,H.endColumn),0===K?k.normalizeIndentation(O)+z:k.normalizeIndentation(O)+W.getLineContent(H.startLineNumber).substring(K-1,H.startColumn-1)+z,!1)}return null}static _isAutoClosingOvertype(k,W,H,z,N){if("never"===k.autoClosingOvertype||!k.autoClosingPairs.autoClosingPairsCloseSingleChar.has(N))return!1;for(let O=0,K=H.length;O<K;O++){const $=H[O];if(!$.isEmpty())return!1;const j=$.getPosition(),q=W.getLineContent(j.lineNumber);if(q.charAt(j.column-1)!==N)return!1;const Z=(0,D.LN)(N);if(92===(j.column>2?q.charCodeAt(j.column-2):0)&&Z)return!1;if("auto"===k.autoClosingOvertype){let Ce=!1;for(let Se=0,Ie=z.length;Se<Ie;Se++){const xe=z[Se];if(j.lineNumber===xe.startLineNumber&&j.column===xe.startColumn){Ce=!0;break}}if(!Ce)return!1}}return!0}static _runAutoClosingOvertype(k,W,H,z,N){const O=[];for(let K=0,$=z.length;K<$;K++){const q=z[K].getPosition(),R=new f.e(q.lineNumber,q.column,q.lineNumber,q.column+1);O[K]=new l.T4(R,N)}return new D.Tp(4,O,{shouldPushStackElementBefore:E(k,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(k,W){const H=W.charAt(0),z=k.autoClosingPairs.autoClosingPairsOpenByStart.get(H)||[],N=k.autoClosingPairs.autoClosingPairsCloseByStart.get(H)||[],O=z.some($=>W.startsWith($.open)),K=N.some($=>W.startsWith($.close));return!O&&K}static _findAutoClosingPairOpen(k,W,H,z){const N=k.autoClosingPairs.autoClosingPairsOpenByEnd.get(z);if(!N)return null;let O=null;for(const K of N)if(null===O||K.open.length>O.open.length){let $=!0;for(const j of H)if(W.getValueInRange(new f.e(j.lineNumber,j.column-K.open.length+1,j.lineNumber,j.column))+z!==K.open){$=!1;break}$&&(O=K)}return O}static _findContainedAutoClosingPair(k,W){if(W.open.length<=1)return null;const H=W.close.charAt(W.close.length-1),z=k.autoClosingPairs.autoClosingPairsCloseByEnd.get(H)||[];let N=null;for(const O of z)O.open!==W.open&&W.open.includes(O.open)&&W.close.endsWith(O.close)&&(!N||O.open.length>N.open.length)&&(N=O);return N}static _getAutoClosingPairClose(k,W,H,z,N){const O=(0,D.LN)(z),K=O?k.autoClosingQuotes:k.autoClosingBrackets,$=O?k.shouldAutoCloseBefore.quote:k.shouldAutoCloseBefore.bracket;if("never"===K)return null;for(const Ce of H)if(!Ce.isEmpty())return null;const j=H.map(Ce=>{const Se=Ce.getPosition();return N?{lineNumber:Se.lineNumber,beforeColumn:Se.column-z.length,afterColumn:Se.column}:{lineNumber:Se.lineNumber,beforeColumn:Se.column,afterColumn:Se.column}}),q=this._findAutoClosingPairOpen(k,W,j.map(Ce=>new r.L(Ce.lineNumber,Ce.beforeColumn)),z);if(!q)return null;const R=this._findContainedAutoClosingPair(k,q),Z=R?R.close:"";let J=!0;for(const Ce of j){const{lineNumber:Se,beforeColumn:Ie,afterColumn:xe}=Ce,Me=W.getLineContent(Se),Oe=Me.substring(0,Ie-1),se=Me.substring(xe-1);if(se.startsWith(Z)||(J=!1),se.length>0){const Pe=se.charAt(0);if(!g._isBeforeClosingBrace(k,se)&&!$(Pe))return null}if(1===q.open.length&&("'"===z||'"'===z)&&"always"!==K){const Pe=(0,_.u)(k.wordSeparators);if(Oe.length>0){const he=Oe.charCodeAt(Oe.length-1);if(0===Pe.get(he))return null}}if(!W.tokenization.isCheapToTokenize(Se))return null;W.tokenization.forceTokenization(Se);const ce=W.tokenization.getLineTokens(Se),Ee=(0,n.wH)(ce,Ie-1);if(!q.shouldAutoClose(Ee,Ie-Ee.firstCharOffset))return null;const me=q.findNeutralCharacter();if(me){const Pe=W.tokenization.getTokenTypeIfInsertingCharacter(Se,Ie,me);if(!q.isOK(Pe))return null}}return J?q.close.substring(0,q.close.length-Z.length):q.close}static _runAutoClosingOpenCharType(k,W,H,z,N,O,K){const $=[];for(let j=0,q=z.length;j<q;j++)$[j]=new v(z[j],N,!O,K);return new D.Tp(4,$,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(k,W){return(0,D.LN)(W)?"quotes"===k.autoSurround||"languageDefined"===k.autoSurround:"brackets"===k.autoSurround||"languageDefined"===k.autoSurround}static _isSurroundSelectionType(k,W,H,z){if(!g._shouldSurroundChar(k,z)||!k.surroundingPairs.hasOwnProperty(z))return!1;const N=(0,D.LN)(z);for(const O of H){if(O.isEmpty())return!1;let K=!0;for(let $=O.startLineNumber;$<=O.endLineNumber;$++){const j=W.getLineContent($),Z=j.substring($===O.startLineNumber?O.startColumn-1:0,$===O.endLineNumber?O.endColumn-1:j.length);if(/[^ \t]/.test(Z)){K=!1;break}}if(K)return!1;if(N&&O.startLineNumber===O.endLineNumber&&O.startColumn+1===O.endColumn){const $=W.getValueInRange(O);if((0,D.LN)($))return!1}}return!0}static _runSurroundSelectionType(k,W,H,z,N){const O=[];for(let K=0,$=z.length;K<$;K++)O[K]=new b(z[K],N,W.surroundingPairs[N]);return new D.Tp(0,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(k,W,H){return!(1!==H.length||!W.tokenization.isCheapToTokenize(H[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(k,W,H,z,N){if(!W.electricChars.hasOwnProperty(N)||!z.isEmpty())return null;const O=z.getPosition();H.tokenization.forceTokenization(O.lineNumber);const K=H.tokenization.getLineTokens(O.lineNumber);let $;try{$=W.onElectricCharacter(N,K,O.column)}catch(j){return(0,s.dL)(j),null}if(!$)return null;if($.matchOpenBracket){const j=(K.getLineContent()+N).lastIndexOf($.matchOpenBracket)+1,q=H.bracketPairs.findMatchingBracketUp($.matchOpenBracket,{lineNumber:O.lineNumber,column:j},500);if(q){if(q.startLineNumber===O.lineNumber)return null;const R=H.getLineContent(q.startLineNumber),Z=t.V8(R),J=W.normalizeIndentation(Z),Ce=H.getLineContent(O.lineNumber),Se=H.getLineFirstNonWhitespaceColumn(O.lineNumber)||O.column,xe=J+Ce.substring(Se-1,O.column-1)+N,Me=new f.e(O.lineNumber,1,O.lineNumber,O.column),Oe=new l.T4(Me,xe);return new D.Tp(w(xe,k),[Oe],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(k,W,H,z,N,O){if(!z)return null;let K=null;for(const R of z)if(null===K)K=R.insertedText;else if(K!==R.insertedText)return null;if(!K||1!==K.length)return null;const $=K;let j=!1;for(const R of z)if(0!==R.deletedText.length){j=!0;break}if(j){if(!g._shouldSurroundChar(W,$)||!W.surroundingPairs.hasOwnProperty($))return null;const R=(0,D.LN)($);for(const Ce of z)if(0!==Ce.deletedSelectionStart||Ce.deletedSelectionEnd!==Ce.deletedText.length||/^[ \t]+$/.test(Ce.deletedText)||R&&(0,D.LN)(Ce.deletedText))return null;const Z=[];for(const Ce of N){if(!Ce.isEmpty())return null;Z.push(Ce.getPosition())}if(Z.length!==z.length)return null;const J=[];for(let Ce=0,Se=Z.length;Ce<Se;Ce++)J.push(new S(Z[Ce],z[Ce].deletedText,$));return new D.Tp(4,J,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(W,H,N,O,$)){const R=N.map(Z=>new l.T4(new f.e(Z.positionLineNumber,Z.positionColumn,Z.positionLineNumber,Z.positionColumn+1),"",!1));return new D.Tp(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const q=this._getAutoClosingPairClose(W,H,N,$,!0);return null!==q?this._runAutoClosingOpenCharType(k,W,H,N,$,!0,q):null}static typeWithInterceptors(k,W,H,z,N,O,K){if(!k&&"\n"===K){const q=[];for(let R=0,Z=N.length;R<Z;R++)q[R]=g._enter(H,z,!1,N[R]);return new D.Tp(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!k&&this._isAutoIndentType(H,z,N)){const q=[];let R=!1;for(let Z=0,J=N.length;Z<J;Z++)if(q[Z]=this._runAutoIndentType(H,z,N[Z],K),!q[Z]){R=!0;break}if(!R)return new D.Tp(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(H,z,N,O,K))return this._runAutoClosingOvertype(W,H,z,N,K);if(!k){const q=this._getAutoClosingPairClose(H,z,N,K,!1);if(q)return this._runAutoClosingOpenCharType(W,H,z,N,K,!1,q)}if(!k&&this._isSurroundSelectionType(H,z,N,K))return this._runSurroundSelectionType(W,H,z,N,K);if(!k&&this._isTypeInterceptorElectricChar(H,z,N)){const q=this._typeInterceptorElectricChar(W,H,z,N[0],K);if(q)return q}const $=[];for(let q=0,R=N.length;q<R;q++)$[q]=new l.T4(N[q],K);const j=w(K,W);return new D.Tp(j,$,{shouldPushStackElementBefore:E(W,j),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(k,W,H,z,N){const O=[];for(let $=0,j=z.length;$<j;$++)O[$]=new l.T4(z[$],N);const K=w(N,k);return new D.Tp(K,O,{shouldPushStackElementBefore:E(k,K),shouldPushStackElementAfter:!1})}static lineInsertBefore(k,W,H){if(null===W||null===H)return[];const z=[];for(let N=0,O=H.length;N<O;N++){let K=H[N].positionLineNumber;if(1===K)z[N]=new l.Sj(new f.e(1,1,1,1),"\n");else{K--;const $=W.getLineMaxColumn(K);z[N]=this._enter(k,W,!1,new f.e(K,$,K,$))}}return z}static lineInsertAfter(k,W,H){if(null===W||null===H)return[];const z=[];for(let N=0,O=H.length;N<O;N++){const K=H[N].positionLineNumber,$=W.getLineMaxColumn(K);z[N]=this._enter(k,W,!1,new f.e(K,$,K,$))}return z}static lineBreakInsert(k,W,H){const z=[];for(let N=0,O=H.length;N<O;N++)z[N]=this._enter(k,W,!0,H[N]);return z}}class v extends l.Uo{constructor(k,W,H,z){super(k,(H?W:"")+z,0,-z.length),this._openCharacter=W,this._closeCharacter=z,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(k,W){const z=W.getInverseEditOperations()[0].range;return this.closeCharacterRange=new f.e(z.startLineNumber,z.endColumn-this._closeCharacter.length,z.endLineNumber,z.endColumn),this.enclosingRange=new f.e(z.startLineNumber,z.endColumn-this._openCharacter.length-this._closeCharacter.length,z.endLineNumber,z.endColumn),super.computeCursorState(k,W)}}class m{constructor(k,W,H,z,N,O){this.deletedText=k,this.deletedSelectionStart=W,this.deletedSelectionEnd=H,this.insertedText=z,this.insertedSelectionStart=N,this.insertedSelectionEnd=O}}function w(A,k){return" "===A?5===k||6===k?6:5:4}function E(A,k){return!(!x(A)||x(k))||5!==A&&L(A)!==L(k)}function L(A){return 6===A||5===A?"space":A}function x(A){return 4===A||5===A||6===A}},96453:(yt,T,e)=>{"use strict";e.d(T,{L:()=>S,w:()=>b});var s=e(77697),t=e(58841),l=e(23292),C=e(10759),f=e(13902),I=e(88154);class b{static _createWord(r,a,u,n,d){return{start:n,end:d,wordType:a,nextCharClass:u}}static _findPreviousWordOnLine(r,a,u){const n=a.getLineContent(u.lineNumber);return this._doFindPreviousWordOnLine(n,r,u)}static _doFindPreviousWordOnLine(r,a,u){let n=0;for(let d=u.column-2;d>=0;d--){const y=r.charCodeAt(d),g=a.get(y);if(0===g){if(2===n)return this._createWord(r,n,g,d+1,this._findEndOfWord(r,a,n,d+1));n=1}else if(2===g){if(1===n)return this._createWord(r,n,g,d+1,this._findEndOfWord(r,a,n,d+1));n=2}else if(1===g&&0!==n)return this._createWord(r,n,g,d+1,this._findEndOfWord(r,a,n,d+1))}return 0!==n?this._createWord(r,n,1,0,this._findEndOfWord(r,a,n,0)):null}static _findEndOfWord(r,a,u,n){const d=r.length;for(let y=n;y<d;y++){const g=r.charCodeAt(y),v=a.get(g);if(1===v||1===u&&2===v||2===u&&0===v)return y}return d}static _findNextWordOnLine(r,a,u){const n=a.getLineContent(u.lineNumber);return this._doFindNextWordOnLine(n,r,u)}static _doFindNextWordOnLine(r,a,u){let n=0;const d=r.length;for(let y=u.column-1;y<d;y++){const g=r.charCodeAt(y),v=a.get(g);if(0===v){if(2===n)return this._createWord(r,n,v,this._findStartOfWord(r,a,n,y-1),y);n=1}else if(2===v){if(1===n)return this._createWord(r,n,v,this._findStartOfWord(r,a,n,y-1),y);n=2}else if(1===v&&0!==n)return this._createWord(r,n,v,this._findStartOfWord(r,a,n,y-1),y)}return 0!==n?this._createWord(r,n,1,this._findStartOfWord(r,a,n,d-1),d):null}static _findStartOfWord(r,a,u,n){for(let d=n;d>=0;d--){const y=r.charCodeAt(d),g=a.get(y);if(1===g||1===u&&2===g||2===u&&0===g)return d+1}return 0}static moveWordLeft(r,a,u,n){let d=u.lineNumber,y=u.column;1===y&&d>1&&(d-=1,y=a.getLineMaxColumn(d));let g=b._findPreviousWordOnLine(r,a,new f.L(d,y));if(0===n)return new f.L(d,g?g.start+1:1);if(1===n)return g&&2===g.wordType&&g.end-g.start==1&&0===g.nextCharClass&&(g=b._findPreviousWordOnLine(r,a,new f.L(d,g.start+1))),new f.L(d,g?g.start+1:1);if(3===n){for(;g&&2===g.wordType;)g=b._findPreviousWordOnLine(r,a,new f.L(d,g.start+1));return new f.L(d,g?g.start+1:1)}return g&&y<=g.end+1&&(g=b._findPreviousWordOnLine(r,a,new f.L(d,g.start+1))),new f.L(d,g?g.end+1:1)}static _moveWordPartLeft(r,a){const u=a.lineNumber,n=r.getLineMaxColumn(u);if(1===a.column)return u>1?new f.L(u-1,r.getLineMaxColumn(u-1)):a;const d=r.getLineContent(u);for(let y=a.column-1;y>1;y--){const g=d.charCodeAt(y-2),v=d.charCodeAt(y-1);if(95===g&&95!==v)return new f.L(u,y);if((s.mK(g)||s.T5(g))&&s.df(v))return new f.L(u,y);if(s.df(g)&&s.df(v)&&y+1<n){const m=d.charCodeAt(y);if(s.mK(m)||s.T5(m))return new f.L(u,y)}}return new f.L(u,1)}static moveWordRight(r,a,u,n){let d=u.lineNumber,y=u.column,g=!1;y===a.getLineMaxColumn(d)&&d<a.getLineCount()&&(g=!0,d+=1,y=1);let v=b._findNextWordOnLine(r,a,new f.L(d,y));if(2===n)v&&2===v.wordType&&v.end-v.start==1&&0===v.nextCharClass&&(v=b._findNextWordOnLine(r,a,new f.L(d,v.end+1))),y=v?v.end+1:a.getLineMaxColumn(d);else if(3===n){for(g&&(y=0);v&&(2===v.wordType||v.start+1<=y);)v=b._findNextWordOnLine(r,a,new f.L(d,v.end+1));y=v?v.start+1:a.getLineMaxColumn(d)}else v&&!g&&y>=v.start+1&&(v=b._findNextWordOnLine(r,a,new f.L(d,v.end+1))),y=v?v.start+1:a.getLineMaxColumn(d);return new f.L(d,y)}static _moveWordPartRight(r,a){const u=a.lineNumber,n=r.getLineMaxColumn(u);if(a.column===n)return u<r.getLineCount()?new f.L(u+1,1):a;const d=r.getLineContent(u);for(let y=a.column+1;y<n;y++){const g=d.charCodeAt(y-2),v=d.charCodeAt(y-1);if(95!==g&&95===v)return new f.L(u,y);if((s.mK(g)||s.T5(g))&&s.df(v))return new f.L(u,y);if(s.df(g)&&s.df(v)&&y+1<n){const m=d.charCodeAt(y);if(s.mK(m)||s.T5(m))return new f.L(u,y)}}return new f.L(u,n)}static _deleteWordLeftWhitespace(r,a){const u=r.getLineContent(a.lineNumber),n=a.column-2,d=s.ow(u,n);return d+1<n?new I.e(a.lineNumber,d+2,a.lineNumber,a.column):null}static deleteWordLeft(r,a){const u=r.wordSeparators,n=r.model,d=r.selection,y=r.whitespaceHeuristics;if(!d.isEmpty())return d;if(l.A.isAutoClosingPairDelete(r.autoClosingDelete,r.autoClosingBrackets,r.autoClosingQuotes,r.autoClosingPairs.autoClosingPairsOpenByEnd,r.model,[r.selection],r.autoClosedCharacters)){const E=r.selection.getPosition();return new I.e(E.lineNumber,E.column-1,E.lineNumber,E.column+1)}const g=new f.L(d.positionLineNumber,d.positionColumn);let v=g.lineNumber,m=g.column;if(1===v&&1===m)return null;if(y){const E=this._deleteWordLeftWhitespace(n,g);if(E)return E}let w=b._findPreviousWordOnLine(u,n,g);return 0===a?w?m=w.start+1:m>1?m=1:(v--,m=n.getLineMaxColumn(v)):(w&&m<=w.end+1&&(w=b._findPreviousWordOnLine(u,n,new f.L(v,w.start+1))),w?m=w.end+1:m>1?m=1:(v--,m=n.getLineMaxColumn(v))),new I.e(v,m,g.lineNumber,g.column)}static deleteInsideWord(r,a,u){if(!u.isEmpty())return u;const n=new f.L(u.positionLineNumber,u.positionColumn);return this._deleteInsideWordWhitespace(a,n)||this._deleteInsideWordDetermineDeleteRange(r,a,n)}static _charAtIsWhitespace(r,a){const u=r.charCodeAt(a);return 32===u||9===u}static _deleteInsideWordWhitespace(r,a){const u=r.getLineContent(a.lineNumber),n=u.length;if(0===n)return null;let d=Math.max(a.column-2,0);if(!this._charAtIsWhitespace(u,d))return null;let y=Math.min(a.column-1,n-1);if(!this._charAtIsWhitespace(u,y))return null;for(;d>0&&this._charAtIsWhitespace(u,d-1);)d--;for(;y+1<n&&this._charAtIsWhitespace(u,y+1);)y++;return new I.e(a.lineNumber,d+1,a.lineNumber,y+2)}static _deleteInsideWordDetermineDeleteRange(r,a,u){const n=a.getLineContent(u.lineNumber),d=n.length;if(0===d)return u.lineNumber>1?new I.e(u.lineNumber-1,a.getLineMaxColumn(u.lineNumber-1),u.lineNumber,1):u.lineNumber<a.getLineCount()?new I.e(u.lineNumber,1,u.lineNumber+1,1):new I.e(u.lineNumber,1,u.lineNumber,1);const y=E=>E.start+1<=u.column&&u.column<=E.end+1,g=(E,L)=>(E=Math.min(E,u.column),L=Math.max(L,u.column),new I.e(u.lineNumber,E,u.lineNumber,L)),v=E=>{let L=E.start+1,x=E.end+1,A=!1;for(;x-1<d&&this._charAtIsWhitespace(n,x-1);)A=!0,x++;if(!A)for(;L>1&&this._charAtIsWhitespace(n,L-2);)L--;return g(L,x)},m=b._findPreviousWordOnLine(r,a,u);if(m&&y(m))return v(m);const w=b._findNextWordOnLine(r,a,u);return w&&y(w)?v(w):m&&w?g(m.end+1,w.start+1):m?g(m.start+1,m.end+1):w?g(w.start+1,w.end+1):g(1,d+1)}static _deleteWordPartLeft(r,a){if(!a.isEmpty())return a;const u=a.getPosition(),n=b._moveWordPartLeft(r,u);return new I.e(u.lineNumber,u.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(r,a){const u=r.length;for(let n=a;n<u;n++){const d=r.charAt(n);if(" "!==d&&"\t"!==d)return n}return u}static _deleteWordRightWhitespace(r,a){const u=r.getLineContent(a.lineNumber),n=a.column-1,d=this._findFirstNonWhitespaceChar(u,n);return n+1<d?new I.e(a.lineNumber,a.column,a.lineNumber,d+1):null}static deleteWordRight(r,a){const u=r.wordSeparators,n=r.model,d=r.selection,y=r.whitespaceHeuristics;if(!d.isEmpty())return d;const g=new f.L(d.positionLineNumber,d.positionColumn);let v=g.lineNumber,m=g.column;const w=n.getLineCount(),E=n.getLineMaxColumn(v);if(v===w&&m===E)return null;if(y){const x=this._deleteWordRightWhitespace(n,g);if(x)return x}let L=b._findNextWordOnLine(u,n,g);return 2===a?L?m=L.end+1:m<E||v===w?m=E:(v++,L=b._findNextWordOnLine(u,n,new f.L(v,1)),m=L?L.start+1:n.getLineMaxColumn(v)):(L&&m>=L.start+1&&(L=b._findNextWordOnLine(u,n,new f.L(v,L.end+1))),L?m=L.start+1:m<E||v===w?m=E:(v++,L=b._findNextWordOnLine(u,n,new f.L(v,1)),m=L?L.start+1:n.getLineMaxColumn(v))),new I.e(v,m,g.lineNumber,g.column)}static _deleteWordPartRight(r,a){if(!a.isEmpty())return a;const u=a.getPosition(),n=b._moveWordPartRight(r,u);return new I.e(u.lineNumber,u.column,n.lineNumber,n.column)}static _createWordAtPosition(r,a,u){const n=new I.e(a,u.start+1,a,u.end+1);return{word:r.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(r,a,u){const n=(0,C.u)(a),d=b._findPreviousWordOnLine(n,r,u);if(d&&1===d.wordType&&d.start<=u.column-1&&u.column-1<=d.end)return b._createWordAtPosition(r,u.lineNumber,d);const y=b._findNextWordOnLine(n,r,u);return y&&1===y.wordType&&y.start<=u.column-1&&u.column-1<=y.end?b._createWordAtPosition(r,u.lineNumber,y):null}static word(r,a,u,n,d){const y=(0,C.u)(r.wordSeparators),g=b._findPreviousWordOnLine(y,a,d),v=b._findNextWordOnLine(y,a,d);if(!n){let x,A;return g&&1===g.wordType&&g.start<=d.column-1&&d.column-1<=g.end?(x=g.start+1,A=g.end+1):v&&1===v.wordType&&v.start<=d.column-1&&d.column-1<=v.end?(x=v.start+1,A=v.end+1):(x=g?g.end+1:1,A=v?v.start+1:a.getLineMaxColumn(d.lineNumber)),new t.rS(new I.e(d.lineNumber,x,d.lineNumber,A),0,new f.L(d.lineNumber,A),0)}let m,w;g&&1===g.wordType&&g.start<d.column-1&&d.column-1<g.end?(m=g.start+1,w=g.end+1):v&&1===v.wordType&&v.start<d.column-1&&d.column-1<v.end?(m=v.start+1,w=v.end+1):(m=d.column,w=d.column);const E=d.lineNumber;let L;if(u.selectionStart.containsPosition(d))L=u.selectionStart.endColumn;else if(d.isBeforeOrEqual(u.selectionStart.getStartPosition())){L=m;const x=new f.L(E,L);u.selectionStart.containsPosition(x)&&(L=u.selectionStart.endColumn)}else{L=w;const x=new f.L(E,L);u.selectionStart.containsPosition(x)&&(L=u.selectionStart.startColumn)}return u.move(!0,E,L,0)}}class S extends b{static deleteWordPartLeft(r){const a=D([b.deleteWordLeft(r,0),b.deleteWordLeft(r,2),b._deleteWordPartLeft(r.model,r.selection)]);return a.sort(I.e.compareRangesUsingEnds),a[2]}static deleteWordPartRight(r){const a=D([b.deleteWordRight(r,0),b.deleteWordRight(r,2),b._deleteWordPartRight(r.model,r.selection)]);return a.sort(I.e.compareRangesUsingStarts),a[0]}static moveWordPartLeft(r,a,u){const n=D([b.moveWordLeft(r,a,u,0),b.moveWordLeft(r,a,u,2),b._moveWordPartLeft(a,u)]);return n.sort(f.L.compare),n[2]}static moveWordPartRight(r,a,u){const n=D([b.moveWordRight(r,a,u,0),b.moveWordRight(r,a,u,2),b._moveWordPartRight(a,u)]);return n.sort(f.L.compare),n[0]}}function D(_){return _.filter(r=>!!r)}},58841:(yt,T,e)=>{"use strict";e.d(T,{LM:()=>_,LN:()=>y,Tp:()=>d,Vi:()=>r,rS:()=>n});var s=e(13902),t=e(88154),l=e(58745),C=e(4720),f=e(30648),I=e(2646);const b=()=>!0,S=()=>!1,D=g=>" "===g||"\t"===g;class _{constructor(v,m,w,E){this.languageConfigurationService=E,this._cursorMoveConfigurationBrand=void 0,this._languageId=v;const L=w.options,x=L.get(133);this.readOnly=L.get(83),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=L.get(106),this.lineHeight=L.get(61),this.pageSize=Math.max(1,Math.floor(x.height/this.lineHeight)-2),this.useTabStops=L.get(118),this.wordSeparators=L.get(119),this.emptySelectionClipboard=L.get(33),this.copyWithSyntaxHighlighting=L.get(21),this.multiCursorMergeOverlapping=L.get(71),this.multiCursorPaste=L.get(73),this.autoClosingBrackets=L.get(5),this.autoClosingQuotes=L.get(8),this.autoClosingDelete=L.get(6),this.autoClosingOvertype=L.get(7),this.autoSurround=L.get(11),this.autoIndent=L.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(v,this.autoClosingQuotes),bracket:this._getShouldAutoClose(v,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(v).getAutoClosingPairs();const A=this.languageConfigurationService.getLanguageConfiguration(v).getSurroundingPairs();if(A)for(const k of A)this.surroundingPairs[k.open]=k.close}static shouldRecreate(v){return v.hasChanged(133)||v.hasChanged(119)||v.hasChanged(33)||v.hasChanged(71)||v.hasChanged(73)||v.hasChanged(5)||v.hasChanged(8)||v.hasChanged(6)||v.hasChanged(7)||v.hasChanged(11)||v.hasChanged(118)||v.hasChanged(61)||v.hasChanged(83)}get electricChars(){var v;if(!this._electricChars){this._electricChars={};const m=null===(v=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===v?void 0:v.getElectricCharacters();if(m)for(const w of m)this._electricChars[w]=!0}return this._electricChars}onElectricCharacter(v,m,w){const E=(0,C.wH)(m,w-1),L=this.languageConfigurationService.getLanguageConfiguration(E.languageId).electricCharacter;return L?L.onElectricCharacter(v,E,w-E.firstCharOffset):null}normalizeIndentation(v){return(0,I.x)(v,this.indentSize,this.insertSpaces)}_getShouldAutoClose(v,m){switch(m){case"beforeWhitespace":return D;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(v);case"always":return b;case"never":return S}}_getLanguageDefinedShouldAutoClose(v){const m=this.languageConfigurationService.getLanguageConfiguration(v).getAutoCloseBeforeSet();return w=>-1!==m.indexOf(w)}visibleColumnFromColumn(v,m){return f.i.visibleColumnFromColumn(v.getLineContent(m.lineNumber),m.column,this.tabSize)}columnFromVisibleColumn(v,m,w){const E=f.i.columnFromVisibleColumn(v.getLineContent(m),w,this.tabSize),L=v.getLineMinColumn(m);if(E<L)return L;const x=v.getLineMaxColumn(m);return E>x?x:E}}class r{constructor(v,m){this._cursorStateBrand=void 0,this.modelState=v,this.viewState=m}static fromModelState(v){return new a(v)}static fromViewState(v){return new u(v)}static fromModelSelection(v){const m=l.Y.liftSelection(v),w=new n(t.e.fromPositions(m.getSelectionStart()),0,m.getPosition(),0);return r.fromModelState(w)}static fromModelSelections(v){const m=[];for(let w=0,E=v.length;w<E;w++)m[w]=this.fromModelSelection(v[w]);return m}equals(v){return this.viewState.equals(v.viewState)&&this.modelState.equals(v.modelState)}}class a{constructor(v){this.modelState=v,this.viewState=null}}class u{constructor(v){this.modelState=null,this.viewState=v}}class n{constructor(v,m,w,E){this._singleCursorStateBrand=void 0,this.selectionStart=v,this.selectionStartLeftoverVisibleColumns=m,this.position=w,this.leftoverVisibleColumns=E,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(v){return this.selectionStartLeftoverVisibleColumns===v.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===v.leftoverVisibleColumns&&this.position.equals(v.position)&&this.selectionStart.equalsRange(v.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(v,m,w,E){return v?new n(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new s.L(m,w),E):new n(new t.e(m,w,m,w),E,new s.L(m,w),E)}static _computeSelection(v,m){return v.isEmpty()||!m.isBeforeOrEqual(v.getStartPosition())?l.Y.fromPositions(v.getStartPosition(),m):l.Y.fromPositions(v.getEndPosition(),m)}}class d{constructor(v,m,w){this._editOperationResultBrand=void 0,this.type=v,this.commands=m,this.shouldPushStackElementBefore=w.shouldPushStackElementBefore,this.shouldPushStackElementAfter=w.shouldPushStackElementAfter}}function y(g){return"'"===g||'"'===g||"`"===g}},56289:(yt,T,e)=>{"use strict";e.d(T,{p:()=>s});class s{constructor(l,C,f,I,b,S){this.id=l,this.label=C,this.alias=f,this._precondition=I,this._run=b,this._contextKeyService=S}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},99083:(yt,T,e)=>{"use strict";e.d(T,{g:()=>s});const s={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},72325:(yt,T,e)=>{"use strict";e.d(T,{u:()=>l});var l,C,s=e(1200),t=e(38336);(C=l||(l={})).editorSimpleInput=new t.uy("editorSimpleInput",!1,!0),C.editorTextFocus=new t.uy("editorTextFocus",!1,s.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),C.focus=new t.uy("editorFocus",!1,s.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),C.textInputFocus=new t.uy("textInputFocus",!1,s.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),C.readOnly=new t.uy("editorReadonly",!1,s.NC("editorReadonly","Whether the editor is read only")),C.inDiffEditor=new t.uy("inDiffEditor",!1,s.NC("inDiffEditor","Whether the context is a diff editor")),C.columnSelection=new t.uy("editorColumnSelection",!1,s.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),C.writable=C.readOnly.toNegated(),C.hasNonEmptySelection=new t.uy("editorHasSelection",!1,s.NC("editorHasSelection","Whether the editor has text selected")),C.hasOnlyEmptySelection=C.hasNonEmptySelection.toNegated(),C.hasMultipleSelections=new t.uy("editorHasMultipleSelections",!1,s.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),C.hasSingleSelection=C.hasMultipleSelections.toNegated(),C.tabMovesFocus=new t.uy("editorTabMovesFocus",!1,s.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),C.tabDoesNotMoveFocus=C.tabMovesFocus.toNegated(),C.isInWalkThroughSnippet=new t.uy("isInEmbeddedEditor",!1,!0),C.canUndo=new t.uy("canUndo",!1,!0),C.canRedo=new t.uy("canRedo",!1,!0),C.hoverVisible=new t.uy("editorHoverVisible",!1,s.NC("editorHoverVisible","Whether the editor hover is visible")),C.inCompositeEditor=new t.uy("inCompositeEditor",void 0,s.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),C.notInCompositeEditor=C.inCompositeEditor.toNegated(),C.languageId=new t.uy("editorLangId","",s.NC("editorLangId","The language identifier of the editor")),C.hasCompletionItemProvider=new t.uy("editorHasCompletionItemProvider",!1,s.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),C.hasCodeActionsProvider=new t.uy("editorHasCodeActionsProvider",!1,s.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),C.hasCodeLensProvider=new t.uy("editorHasCodeLensProvider",!1,s.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),C.hasDefinitionProvider=new t.uy("editorHasDefinitionProvider",!1,s.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),C.hasDeclarationProvider=new t.uy("editorHasDeclarationProvider",!1,s.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),C.hasImplementationProvider=new t.uy("editorHasImplementationProvider",!1,s.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),C.hasTypeDefinitionProvider=new t.uy("editorHasTypeDefinitionProvider",!1,s.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),C.hasHoverProvider=new t.uy("editorHasHoverProvider",!1,s.NC("editorHasHoverProvider","Whether the editor has a hover provider")),C.hasDocumentHighlightProvider=new t.uy("editorHasDocumentHighlightProvider",!1,s.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),C.hasDocumentSymbolProvider=new t.uy("editorHasDocumentSymbolProvider",!1,s.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),C.hasReferenceProvider=new t.uy("editorHasReferenceProvider",!1,s.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),C.hasRenameProvider=new t.uy("editorHasRenameProvider",!1,s.NC("editorHasRenameProvider","Whether the editor has a rename provider")),C.hasSignatureHelpProvider=new t.uy("editorHasSignatureHelpProvider",!1,s.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),C.hasInlayHintsProvider=new t.uy("editorHasInlayHintsProvider",!1,s.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),C.hasDocumentFormattingProvider=new t.uy("editorHasDocumentFormattingProvider",!1,s.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),C.hasDocumentSelectionFormattingProvider=new t.uy("editorHasDocumentSelectionFormattingProvider",!1,s.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),C.hasMultipleDocumentFormattingProvider=new t.uy("editorHasMultipleDocumentFormattingProvider",!1,s.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),C.hasMultipleDocumentSelectionFormattingProvider=new t.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,s.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},90035:(yt,T,e)=>{"use strict";e.d(T,{N:()=>s});class s{static getLanguageId(l){return(255&l)>>>0}static getTokenType(l){return(768&l)>>>8}static containsBalancedBrackets(l){return 0!=(1024&l)}static getFontStyle(l){return(30720&l)>>>11}static getForeground(l){return(16744448&l)>>>15}static getBackground(l){return(4278190080&l)>>>24}static getClassNameFromMetadata(l){let f="mtk"+this.getForeground(l);const I=this.getFontStyle(l);return 1&I&&(f+=" mtki"),2&I&&(f+=" mtkb"),4&I&&(f+=" mtku"),8&I&&(f+=" mtks"),f}static getInlineStyleFromMetadata(l,C){const f=this.getForeground(l),I=this.getFontStyle(l);let b=`color: ${C[f]};`;1&I&&(b+="font-style: italic;"),2&I&&(b+="font-weight: bold;");let S="";return 4&I&&(S+=" underline"),8&I&&(S+=" line-through"),S&&(b+=`text-decoration:${S};`),b}static getPresentationFromMetadata(l){const C=this.getForeground(l),f=this.getFontStyle(l);return{foreground:C,italic:!!(1&f),bold:!!(2&f),underline:!!(4&f),strikethrough:!!(8&f)}}}},29390:(yt,T,e)=>{"use strict";e.d(T,{c:()=>b});var s=e(31864),t=e(21576),l=e(59129),C=e(10919);function f(S){return"string"!=typeof S&&(Array.isArray(S)?S.every(f):!!S.exclusive)}class I{constructor(D,_,r,a){this.uri=D,this.languageId=_,this.notebookUri=r,this.notebookType=a}equals(D){var _,r;return this.notebookType===D.notebookType&&this.languageId===D.languageId&&this.uri.toString()===D.uri.toString()&&(null===(_=this.notebookUri)||void 0===_?void 0:_.toString())===(null===(r=D.notebookUri)||void 0===r?void 0:r.toString())}}class b{constructor(D){this._notebookInfoResolver=D,this._clock=0,this._entries=[],this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event}register(D,_){let r={selector:D,provider:_,_score:-1,_time:this._clock++};return this._entries.push(r),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,t.OF)(()=>{if(r){const a=this._entries.indexOf(r);a>=0&&(this._entries.splice(a,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),r=void 0)}})}has(D){return this.all(D).length>0}all(D){if(!D)return[];this._updateScores(D);const _=[];for(const r of this._entries)r._score>0&&_.push(r.provider);return _}ordered(D){const _=[];return this._orderedForEach(D,r=>_.push(r.provider)),_}orderedGroups(D){const _=[];let r,a;return this._orderedForEach(D,u=>{r&&a===u._score?r.push(u.provider):(a=u._score,r=[u.provider],_.push(r))}),_}_orderedForEach(D,_){this._updateScores(D);for(const r of this._entries)r._score>0&&_(r)}_updateScores(D){var _,r;const a=null===(_=this._notebookInfoResolver)||void 0===_?void 0:_.call(this,D.uri),u=a?new I(D.uri,D.getLanguageId(),a.uri,a.type):new I(D.uri,D.getLanguageId(),void 0,void 0);if(null===(r=this._lastCandidate)||void 0===r||!r.equals(u)){this._lastCandidate=u;for(const n of this._entries)if(n._score=(0,C.G)(n.selector,u.uri,u.languageId,(0,l.pt)(D),u.notebookUri,u.notebookType),f(n.selector)&&n._score>0){for(const d of this._entries)d._score=0;n._score=1e3;break}this._entries.sort(b._compareByScoreAndTime)}}static _compareByScoreAndTime(D,_){return D._score<_._score?1:D._score>_._score?-1:D._time<_._time?1:D._time>_._time?-1:0}}},10919:(yt,T,e)=>{"use strict";e.d(T,{G:()=>l});var s=e(42951),t=e(83872);function l(C,f,I,b,S,D){if(Array.isArray(C)){let _=0;for(const r of C){const a=l(r,f,I,b,S,D);if(10===a)return a;a>_&&(_=a)}return _}if("string"==typeof C)return b?"*"===C?5:C===I?10:0:0;if(C){const{language:_,pattern:r,scheme:a,hasAccessToAllModels:u,notebookType:n}=C;if(!b&&!u)return 0;n&&S&&(f=S);let d=0;if(a)if(a===f.scheme)d=10;else{if("*"!==a)return 0;d=5}if(_)if(_===I)d=10;else{if("*"!==_)return 0;d=Math.max(d,5)}if(n)if(n===D)d=10;else{if("*"!==n||void 0===D)return 0;d=Math.max(d,5)}if(r){let y;if(y="string"==typeof r?r:Object.assign(Object.assign({},r),{base:(0,t.Fv)(r.base)}),y!==f.fsPath&&!(0,s.EQ)(y,f.fsPath))return 0;d=10}return d}return 0}},64050:(yt,T,e)=>{"use strict";e.d(T,{mY:()=>m,gX:()=>a,MY:()=>d,DI:()=>r,AD:()=>v,gl:()=>w,bw:()=>u,WW:()=>n,uZ:()=>g,WU:()=>D,RW:()=>E,hG:()=>_,vx:()=>y});var a,s=e(51153),t=e(56740),l=e(88154),C=e(31864),f=e(21576),I=function(L,x,A,k){return new(A||(A=Promise))(function(H,z){function N($){try{K(k.next($))}catch(j){z(j)}}function O($){try{K(k.throw($))}catch(j){z(j)}}function K($){$.done?H($.value):function W(H){return H instanceof A?H:new A(function(z){z(H)})}($.value).then(N,O)}K((k=k.apply(L,x||[])).next())})};class S extends f.JT{constructor(x,A,k){super(),this._registry=x,this._languageId=A,this._factory=k,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return I(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return I(this,void 0,void 0,function*(){const x=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,x&&!this._isDisposed&&this._register(this._registry.register(this._languageId,x))})}}class D{constructor(x,A,k){this._tokenBrand=void 0,this.offset=x,this.type=A,this.language=k}toString(){return"("+this.offset+", "+this.type+")"}}class _{constructor(x,A){this._tokenizationResultBrand=void 0,this.tokens=x,this.endState=A}}class r{constructor(x,A){this._encodedTokenizationResultBrand=void 0,this.tokens=x,this.endState=A}}!function(L){const x=new Map;x.set(0,s.lA.symbolMethod),x.set(1,s.lA.symbolFunction),x.set(2,s.lA.symbolConstructor),x.set(3,s.lA.symbolField),x.set(4,s.lA.symbolVariable),x.set(5,s.lA.symbolClass),x.set(6,s.lA.symbolStruct),x.set(7,s.lA.symbolInterface),x.set(8,s.lA.symbolModule),x.set(9,s.lA.symbolProperty),x.set(10,s.lA.symbolEvent),x.set(11,s.lA.symbolOperator),x.set(12,s.lA.symbolUnit),x.set(13,s.lA.symbolValue),x.set(15,s.lA.symbolEnum),x.set(14,s.lA.symbolConstant),x.set(15,s.lA.symbolEnum),x.set(16,s.lA.symbolEnumMember),x.set(17,s.lA.symbolKeyword),x.set(27,s.lA.symbolSnippet),x.set(18,s.lA.symbolText),x.set(19,s.lA.symbolColor),x.set(20,s.lA.symbolFile),x.set(21,s.lA.symbolReference),x.set(22,s.lA.symbolCustomColor),x.set(23,s.lA.symbolFolder),x.set(24,s.lA.symbolTypeParameter),x.set(25,s.lA.account),x.set(26,s.lA.issues),L.toIcon=function A(H){let z=x.get(H);return z||(console.info("No codicon found for CompletionItemKind "+H),z=s.lA.symbolProperty),z};const k=new Map;k.set("method",0),k.set("function",1),k.set("constructor",2),k.set("field",3),k.set("variable",4),k.set("class",5),k.set("struct",6),k.set("interface",7),k.set("module",8),k.set("property",9),k.set("event",10),k.set("operator",11),k.set("unit",12),k.set("value",13),k.set("constant",14),k.set("enum",15),k.set("enum-member",16),k.set("enumMember",16),k.set("keyword",17),k.set("snippet",27),k.set("text",18),k.set("color",19),k.set("file",20),k.set("reference",21),k.set("customcolor",22),k.set("folder",23),k.set("type-parameter",24),k.set("typeParameter",24),k.set("account",25),k.set("issue",26),L.fromString=function W(H,z){let N=k.get(H);return typeof N>"u"&&!z&&(N=9),N}}(a||(a={}));var g,m,u=(()=>((u=u||{})[u.Automatic=0]="Automatic",u[u.Explicit=1]="Explicit",u))(),n=(()=>((n=n||{})[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange",n))(),d=(()=>((d=d||{})[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write",d))();function y(L){return L&&t.o.isUri(L.uri)&&l.e.isIRange(L.range)&&(l.e.isIRange(L.originSelectionRange)||l.e.isIRange(L.targetSelectionRange))}!function(L){const x=new Map;x.set(0,s.lA.symbolFile),x.set(1,s.lA.symbolModule),x.set(2,s.lA.symbolNamespace),x.set(3,s.lA.symbolPackage),x.set(4,s.lA.symbolClass),x.set(5,s.lA.symbolMethod),x.set(6,s.lA.symbolProperty),x.set(7,s.lA.symbolField),x.set(8,s.lA.symbolConstructor),x.set(9,s.lA.symbolEnum),x.set(10,s.lA.symbolInterface),x.set(11,s.lA.symbolFunction),x.set(12,s.lA.symbolVariable),x.set(13,s.lA.symbolConstant),x.set(14,s.lA.symbolString),x.set(15,s.lA.symbolNumber),x.set(16,s.lA.symbolBoolean),x.set(17,s.lA.symbolArray),x.set(18,s.lA.symbolObject),x.set(19,s.lA.symbolKey),x.set(20,s.lA.symbolNull),x.set(21,s.lA.symbolEnumMember),x.set(22,s.lA.symbolStruct),x.set(23,s.lA.symbolEvent),x.set(24,s.lA.symbolOperator),x.set(25,s.lA.symbolTypeParameter),L.toIcon=function A(k){let W=x.get(k);return W||(console.info("No codicon found for SymbolKind "+k),W=s.lA.symbolProperty),W}}(g||(g={}));class v{constructor(x){this.value=x}}v.Comment=new v("comment"),v.Imports=new v("imports"),v.Region=new v("region"),(m||(m={})).is=function x(A){return!(!A||"object"!=typeof A)&&"string"==typeof A.id&&"string"==typeof A.title};var w=(()=>((w=w||{})[w.Type=1]="Type",w[w.Parameter=2]="Parameter",w))();const E=new class b{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new C.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(x){this._onDidChange.fire({changedLanguages:x,changedColorMap:!1})}register(x,A){return this._map.set(x,A),this.fire([x]),(0,f.OF)(()=>{this._map.get(x)===A&&(this._map.delete(x),this.fire([x]))})}registerFactory(x,A){var k;null===(k=this._factories.get(x))||void 0===k||k.dispose();const W=new S(this,x,A);return this._factories.set(x,W),(0,f.OF)(()=>{const H=this._factories.get(x);!H||H!==W||(this._factories.delete(x),H.dispose())})}getOrCreate(x){return I(this,void 0,void 0,function*(){const A=this.get(x);if(A)return A;const k=this._factories.get(x);return!k||k.isResolved?null:(yield k.resolve(),this.get(x))})}get(x){return this._map.get(x)||null}isResolved(x){if(this.get(x))return!0;const k=this._factories.get(x);return!(k&&!k.isResolved)}setColorMap(x){this._colorMap=x,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},62877:(yt,T,e)=>{"use strict";e.d(T,{$9:()=>D,UF:()=>S,n8:()=>b,r7:()=>I,tI:()=>_});var s=e(77697),t=e(6326),l=e(4720),C=e(15333);function I(r,a,u,n=!0,d){if(r<4)return null;const y=d.getLanguageConfiguration(a.tokenization.getLanguageId()).indentRulesSupport;if(!y)return null;if(u<=1)return{indentation:"",action:null};const g=function f(r,a,u){const n=r.tokenization.getLanguageIdAtPosition(a,0);if(a>1){let d,y=-1;for(d=a-1;d>=1;d--){if(r.tokenization.getLanguageIdAtPosition(d,0)!==n)return y;const g=r.getLineContent(d);if(!u.shouldIgnore(g)&&!/^\s+$/.test(g)&&""!==g)return d;y=d}}return-1}(a,u,y);if(g<0)return null;if(g<1)return{indentation:"",action:null};const v=a.getLineContent(g);if(y.shouldIncrease(v)||y.shouldIndentNextLine(v))return{indentation:s.V8(v),action:t.wU.Indent,line:g};if(y.shouldDecrease(v))return{indentation:s.V8(v),action:null,line:g};{if(1===g)return{indentation:s.V8(a.getLineContent(g)),action:null,line:g};const m=g-1,w=y.getIndentMetadata(a.getLineContent(m));if(!(3&w)&&4&w){let E=0;for(let L=m-1;L>0;L--)if(!y.shouldIndentNextLine(a.getLineContent(L))){E=L;break}return{indentation:s.V8(a.getLineContent(E+1)),action:null,line:E+1}}if(n)return{indentation:s.V8(a.getLineContent(g)),action:null,line:g};for(let E=g;E>0;E--){const L=a.getLineContent(E);if(y.shouldIncrease(L))return{indentation:s.V8(L),action:t.wU.Indent,line:E};if(y.shouldIndentNextLine(L)){let x=0;for(let A=E-1;A>0;A--)if(!y.shouldIndentNextLine(a.getLineContent(E))){x=A;break}return{indentation:s.V8(a.getLineContent(x+1)),action:null,line:x+1}}if(y.shouldDecrease(L))return{indentation:s.V8(L),action:null,line:E}}return{indentation:s.V8(a.getLineContent(1)),action:null,line:1}}}function b(r,a,u,n,d,y){if(r<4)return null;const g=y.getLanguageConfiguration(u);if(!g)return null;const v=y.getLanguageConfiguration(u).indentRulesSupport;if(!v)return null;const m=I(r,a,n,void 0,y),w=a.getLineContent(n);if(m){const E=m.line;if(void 0!==E){const L=g.onEnter(r,"",a.getLineContent(E),"");if(L){let x=s.V8(a.getLineContent(E));return L.removeText&&(x=x.substring(0,x.length-L.removeText)),L.indentAction===t.wU.Indent||L.indentAction===t.wU.IndentOutdent?x=d.shiftIndent(x):L.indentAction===t.wU.Outdent&&(x=d.unshiftIndent(x)),v.shouldDecrease(w)&&(x=d.unshiftIndent(x)),L.appendText&&(x+=L.appendText),s.V8(x)}}return v.shouldDecrease(w)?m.action===t.wU.Indent?m.indentation:d.unshiftIndent(m.indentation):m.action===t.wU.Indent?d.shiftIndent(m.indentation):m.indentation}return null}function S(r,a,u,n,d){if(r<4)return null;a.tokenization.forceTokenization(u.startLineNumber);const y=a.tokenization.getLineTokens(u.startLineNumber),g=(0,l.wH)(y,u.startColumn-1),v=g.getLineContent();let w,E,m=!1;g.firstCharOffset>0&&y.getLanguageId(0)!==g.languageId?(m=!0,w=v.substr(0,u.startColumn-1-g.firstCharOffset)):w=y.getLineContent().substring(0,u.startColumn-1),E=u.isEmpty()?v.substr(u.startColumn-1-g.firstCharOffset):(0,C.n2)(a,u.endLineNumber,u.endColumn).getLineContent().substr(u.endColumn-1-g.firstCharOffset);const L=d.getLanguageConfiguration(g.languageId).indentRulesSupport;if(!L)return null;const x=w,A=s.V8(w),k={tokenization:{getLineTokens:N=>a.tokenization.getLineTokens(N),getLanguageId:()=>a.getLanguageId(),getLanguageIdAtPosition:(N,O)=>a.getLanguageIdAtPosition(N,O)},getLineContent:N=>N===u.startLineNumber?x:a.getLineContent(N)},W=s.V8(y.getLineContent()),H=I(r,k,u.startLineNumber+1,void 0,d);if(!H){const N=m?W:A;return{beforeEnter:N,afterEnter:N}}let z=m?W:H.indentation;return H.action===t.wU.Indent&&(z=n.shiftIndent(z)),L.shouldDecrease(E)&&(z=n.unshiftIndent(z)),{beforeEnter:m?W:A,afterEnter:z}}function D(r,a,u,n,d,y){if(r<4)return null;const g=(0,C.n2)(a,u.startLineNumber,u.startColumn);if(g.firstCharOffset)return null;const v=y.getLanguageConfiguration(g.languageId).indentRulesSupport;if(!v)return null;const m=g.getLineContent(),w=m.substr(0,u.startColumn-1-g.firstCharOffset);let E;if(E=u.isEmpty()?m.substr(u.startColumn-1-g.firstCharOffset):(0,C.n2)(a,u.endLineNumber,u.endColumn).getLineContent().substr(u.endColumn-1-g.firstCharOffset),!v.shouldDecrease(w+E)&&v.shouldDecrease(w+n+E)){const L=I(r,a,u.startLineNumber,!1,y);if(!L)return null;let x=L.indentation;return L.action!==t.wU.Indent&&(x=d.unshiftIndent(x)),x}return null}function _(r,a,u){const n=u.getLanguageConfiguration(r.getLanguageId()).indentRulesSupport;return!n||a<1||a>r.getLineCount()?null:n.getIndentMetadata(r.getLineContent(a))}},83633:(yt,T,e)=>{"use strict";e.d(T,{A:()=>l});var s=e(6326),t=e(15333);function l(C,f,I,b){const S=(0,t.n2)(f,I.startLineNumber,I.startColumn),D=b.getLanguageConfiguration(S.languageId);if(!D)return null;const _=S.getLineContent(),r=_.substr(0,I.startColumn-1-S.firstCharOffset);let a;a=I.isEmpty()?_.substr(I.startColumn-1-S.firstCharOffset):(0,t.n2)(f,I.endLineNumber,I.endColumn).getLineContent().substr(I.endColumn-1-S.firstCharOffset);let u="";if(I.startLineNumber>1&&0===S.firstCharOffset){const m=(0,t.n2)(f,I.startLineNumber-1);m.languageId===S.languageId&&(u=m.getLineContent())}const n=D.onEnter(C,u,r,a);if(!n)return null;const d=n.indentAction;let y=n.appendText;const g=n.removeText||0;y?d===s.wU.Indent&&(y="\t"+y):y=d===s.wU.Indent||d===s.wU.IndentOutdent?"\t":"";let v=(0,t.u0)(f,I.startLineNumber,I.startColumn);return g&&(v=v.substring(0,v.length-g)),{indentAction:d,appendText:y,removeText:g,indentation:v}}},12375:(yt,T,e)=>{"use strict";e.d(T,{O:()=>t});const t=(0,e(30888).yh)("languageService")},6326:(yt,T,e)=>{"use strict";e.d(T,{V6:()=>t,c$:()=>l,wU:()=>s});var s=(()=>((s=s||{})[s.None=0]="None",s[s.Indent=1]="Indent",s[s.IndentOutdent=2]="IndentOutdent",s[s.Outdent=3]="Outdent",s))();class t{constructor(I){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=I.open,this.close=I.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(I.notIn))for(let b=0,S=I.notIn.length;b<S;b++)switch(I.notIn[b]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(I){switch(I){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(I,b){if(0===I.getTokenCount())return!0;const S=I.findTokenIndexAtOffset(b-2),D=I.getStandardTokenType(S);return this.isOK(D)}_findNeutralCharacterInRange(I,b){for(let S=I;S<=b;S++){const D=String.fromCharCode(S);if(!this.open.includes(D)&&!this.close.includes(D))return D}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class l{constructor(I){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const b of I)C(this.autoClosingPairsOpenByStart,b.open.charAt(0),b),C(this.autoClosingPairsOpenByEnd,b.open.charAt(b.open.length-1),b),C(this.autoClosingPairsCloseByStart,b.close.charAt(0),b),C(this.autoClosingPairsCloseByEnd,b.close.charAt(b.close.length-1),b),1===b.close.length&&1===b.open.length&&C(this.autoClosingPairsCloseSingleChar,b.close,b)}}function C(f,I,b){f.has(I)?f.get(I).push(b):f.set(I,[b])}},15333:(yt,T,e)=>{"use strict";e.d(T,{c_:()=>N,u0:()=>R,n2:()=>Z});var s=e(31864),t=e(21576),l=e(77697),C=e(38022),f=e(6326),I=e(4720);let b=(()=>{class Oe{constructor(ce){if(this._autoClosingPairs=ce.autoClosingPairs?ce.autoClosingPairs.map(Ee=>new f.V6(Ee)):ce.brackets?ce.brackets.map(Ee=>new f.V6({open:Ee[0],close:Ee[1]})):[],ce.__electricCharacterSupport&&ce.__electricCharacterSupport.docComment){const Ee=ce.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new f.V6({open:Ee.open,close:Ee.close||""}))}this._autoCloseBefore="string"==typeof ce.autoCloseBefore?ce.autoCloseBefore:Oe.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=ce.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}return Oe.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",Oe})();var S=e(14940),D=e(12939);class _{constructor(se){this._richEditBrackets=se}getElectricCharacters(){const se=[];if(this._richEditBrackets)for(const ce of this._richEditBrackets.brackets)for(const Ee of ce.close){const me=Ee.charAt(Ee.length-1);se.push(me)}return(0,S.EB)(se)}onElectricCharacter(se,ce,Ee){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const me=ce.findTokenIndexAtOffset(Ee-1);if((0,I.Bu)(ce.getStandardTokenType(me)))return null;const Pe=this._richEditBrackets.reversedRegex,he=ce.getLineContent().substring(0,Ee-1)+se,Fe=D.Vr.findPrevBracketInRange(Pe,1,he,0,he.length);if(!Fe)return null;const Ze=he.substring(Fe.startColumn-1,Fe.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Ze])return null;const fe=ce.getActualLineContentBefore(Fe.startColumn-1);return/^\s*$/.test(fe)?{matchOpenBracket:Ze}:null}}function r(Oe){return Oe.global&&(Oe.lastIndex=0),!0}class a{constructor(se){this._indentationRules=se}shouldIncrease(se){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&r(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(se))}shouldDecrease(se){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&r(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(se))}shouldIndentNextLine(se){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&r(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(se))}shouldIgnore(se){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&r(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(se))}getIndentMetadata(se){let ce=0;return this.shouldIncrease(se)&&(ce+=1),this.shouldDecrease(se)&&(ce+=2),this.shouldIndentNextLine(se)&&(ce+=4),this.shouldIgnore(se)&&(ce+=8),ce}}var u=e(3219);class n{constructor(se){(se=se||{}).brackets=se.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],se.brackets.forEach(ce=>{const Ee=n._createOpenBracketRegExp(ce[0]),me=n._createCloseBracketRegExp(ce[1]);Ee&&me&&this._brackets.push({open:ce[0],openRegExp:Ee,close:ce[1],closeRegExp:me})}),this._regExpRules=se.onEnterRules||[]}onEnter(se,ce,Ee,me){if(se>=3)for(let Pe=0,he=this._regExpRules.length;Pe<he;Pe++){const Fe=this._regExpRules[Pe];if([{reg:Fe.beforeText,text:Ee},{reg:Fe.afterText,text:me},{reg:Fe.previousLineText,text:ce}].every(ze=>!ze.reg||(ze.reg.lastIndex=0,ze.reg.test(ze.text))))return Fe.action}if(se>=2&&Ee.length>0&&me.length>0)for(let Pe=0,he=this._brackets.length;Pe<he;Pe++){const Fe=this._brackets[Pe];if(Fe.openRegExp.test(Ee)&&Fe.closeRegExp.test(me))return{indentAction:f.wU.IndentOutdent}}if(se>=2&&Ee.length>0)for(let Pe=0,he=this._brackets.length;Pe<he;Pe++)if(this._brackets[Pe].openRegExp.test(Ee))return{indentAction:f.wU.Indent};return null}static _createOpenBracketRegExp(se){let ce=l.ec(se);return/\B/.test(ce.charAt(0))||(ce="\\b"+ce),ce+="\\s*$",n._safeRegExp(ce)}static _createCloseBracketRegExp(se){let ce=l.ec(se);return/\B/.test(ce.charAt(ce.length-1))||(ce+="\\b"),ce="^\\s*"+ce,n._safeRegExp(ce)}static _safeRegExp(se){try{return new RegExp(se)}catch(ce){return(0,u.dL)(ce),null}}}var d=e(30888),y=e(56767),g=e(12375),v=e(53708),m=e(61669),w=e(36880);class E{constructor(se,ce){let Ee;this.languageId=se,Ee=ce.colorizedBracketPairs?L(ce.colorizedBracketPairs.map(he=>[he[0],he[1]])):ce.brackets?L(ce.brackets.map(he=>[he[0],he[1]]).filter(he=>!("<"===he[0]&&">"===he[1]))):[];const me=new w.b(he=>{const Fe=new Set;return{info:new A(this,he,Fe),closing:Fe}}),Pe=new w.b(he=>{const Fe=new Set;return{info:new k(this,he,Fe),opening:Fe}});for(const[he,Fe]of Ee){const Ze=me.get(he),ze=Pe.get(Fe);Ze.closing.add(ze.info),ze.opening.add(Ze.info)}this._openingBrackets=new Map([...me.cachedValues].map(([he,Fe])=>[he,Fe.info])),this._closingBrackets=new Map([...Pe.cachedValues].map(([he,Fe])=>[he,Fe.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(se){return this._openingBrackets.get(se)}getClosingBracketInfo(se){return this._closingBrackets.get(se)}getBracketInfo(se){return this.getOpeningBracketInfo(se)||this.getClosingBracketInfo(se)}}function L(Oe){return Oe.filter(([se,ce])=>""!==se&&""!==ce)}class x{constructor(se,ce){this.config=se,this.bracketText=ce}get languageId(){return this.config.languageId}}class A extends x{constructor(se,ce,Ee){super(se,ce),this.openedBrackets=Ee,this.isOpeningBracket=!0}}class k extends x{constructor(se,ce,Ee){super(se,ce),this.closedBrackets=Ee,this.isOpeningBracket=!1}closes(se){if(se.languageId===this.languageId&&se.config!==this.config)throw new u.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(se)}getClosedBrackets(){return[...this.closedBrackets]}}var H=function(Oe,se){return function(ce,Ee){se(ce,Ee,Oe)}};class z{constructor(se){this.languageId=se}affects(se){return!this.languageId||this.languageId===se}}const N=(0,d.yh)("languageConfigurationService");let O=class extends t.JT{constructor(se,ce){super(),this.configurationService=se,this.languageService=ce,this._registry=this._register(new xe),this.onDidChangeEmitter=this._register(new s.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Ee=new Set(Object.values($));this._register(this.configurationService.onDidChangeConfiguration(me=>{const Pe=me.change.keys.some(Fe=>Ee.has(Fe)),he=me.change.overrides.filter(([Fe,Ze])=>Ze.some(ze=>Ee.has(ze))).map(([Fe])=>Fe);if(Pe)this.configurations.clear(),this.onDidChangeEmitter.fire(new z(void 0));else for(const Fe of he)this.languageService.isRegisteredLanguageId(Fe)&&(this.configurations.delete(Fe),this.onDidChangeEmitter.fire(new z(Fe)))})),this._register(this._registry.onDidChange(me=>{this.configurations.delete(me.languageId),this.onDidChangeEmitter.fire(new z(me.languageId))}))}register(se,ce,Ee){return this._registry.register(se,ce,Ee)}getLanguageConfiguration(se){let ce=this.configurations.get(se);return ce||(ce=function K(Oe,se,ce,Ee){let me=se.getLanguageConfiguration(Oe);if(!me){if(!Ee.isRegisteredLanguageId(Oe))throw new Error(`Language id "${Oe}" is not configured nor known`);me=new Me(Oe,{})}const Pe=function j(Oe,se){const ce=se.getValue($.brackets,{overrideIdentifier:Oe}),Ee=se.getValue($.colorizedBracketPairs,{overrideIdentifier:Oe});return{brackets:q(ce),colorizedBracketPairs:q(Ee)}}(me.languageId,ce),he=Ce([me.underlyingConfig,Pe]);return new Me(me.languageId,he)}(se,this._registry,this.configurationService,this.languageService),this.configurations.set(se,ce)),ce}};O=function(Oe,se,ce,Ee){var he,me=arguments.length,Pe=me<3?se:null===Ee?Ee=Object.getOwnPropertyDescriptor(se,ce):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(Oe,se,ce,Ee);else for(var Fe=Oe.length-1;Fe>=0;Fe--)(he=Oe[Fe])&&(Pe=(me<3?he(Pe):me>3?he(se,ce,Pe):he(se,ce))||Pe);return me>3&&Pe&&Object.defineProperty(se,ce,Pe),Pe}([H(0,y.Ui),H(1,g.O)],O);const $={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function q(Oe){if(Array.isArray(Oe))return Oe.map(se=>{if(Array.isArray(se)&&2===se.length)return[se[0],se[1]]}).filter(se=>!!se)}function R(Oe,se,ce){const Ee=Oe.getLineContent(se);let me=l.V8(Ee);return me.length>ce-1&&(me=me.substring(0,ce-1)),me}function Z(Oe,se,ce){Oe.tokenization.forceTokenization(se);const Ee=Oe.tokenization.getLineTokens(se),me=typeof ce>"u"?Oe.getLineMaxColumn(se)-1:ce-1;return(0,I.wH)(Ee,me)}class J{constructor(se){this.languageId=se,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(se,ce){const Ee=new Se(se,ce,++this._order);return this._entries.push(Ee),this._resolved=null,(0,t.OF)(()=>{for(let me=0;me<this._entries.length;me++)if(this._entries[me]===Ee){this._entries.splice(me,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const se=this._resolve();se&&(this._resolved=new Me(this.languageId,se))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(Se.cmp),Ce(this._entries.map(se=>se.configuration)))}}function Ce(Oe){let se={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ce of Oe)se={comments:ce.comments||se.comments,brackets:ce.brackets||se.brackets,wordPattern:ce.wordPattern||se.wordPattern,indentationRules:ce.indentationRules||se.indentationRules,onEnterRules:ce.onEnterRules||se.onEnterRules,autoClosingPairs:ce.autoClosingPairs||se.autoClosingPairs,surroundingPairs:ce.surroundingPairs||se.surroundingPairs,autoCloseBefore:ce.autoCloseBefore||se.autoCloseBefore,folding:ce.folding||se.folding,colorizedBracketPairs:ce.colorizedBracketPairs||se.colorizedBracketPairs,__electricCharacterSupport:ce.__electricCharacterSupport||se.__electricCharacterSupport};return se}class Se{constructor(se,ce,Ee){this.configuration=se,this.priority=ce,this.order=Ee}static cmp(se,ce){return se.priority===ce.priority?se.order-ce.order:se.priority-ce.priority}}class Ie{constructor(se){this.languageId=se}}class xe extends t.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(m.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(se,ce,Ee=0){let me=this._entries.get(se);me||(me=new J(se),this._entries.set(se,me));const Pe=me.register(ce,Ee);return this._onDidChange.fire(new Ie(se)),(0,t.OF)(()=>{Pe.dispose(),this._onDidChange.fire(new Ie(se))})}getLanguageConfiguration(se){const ce=this._entries.get(se);return ce?.getResolvedConfiguration()||null}}class Me{constructor(se,ce){this.languageId=se,this.underlyingConfig=ce,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n(this.underlyingConfig):null,this.comments=Me._handleComments(this.underlyingConfig),this.characterPair=new b(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||C.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new a(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new E(se,this.underlyingConfig)}getWordDefinition(){return(0,C.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new D.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new _(this.brackets)),this._electricCharacter}onEnter(se,ce,Ee,me){return this._onEnterSupport?this._onEnterSupport.onEnter(se,ce,Ee,me):null}getAutoClosingPairs(){return new f.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(se){const ce=se.comments;if(!ce)return null;const Ee={};if(ce.lineComment&&(Ee.lineCommentToken=ce.lineComment),ce.blockComment){const[me,Pe]=ce.blockComment;Ee.blockCommentStartToken=me,Ee.blockCommentEndToken=Pe}return Ee}}(0,v.z)(N,O)},61669:(yt,T,e)=>{"use strict";e.d(T,{bd:()=>D,dQ:()=>S});var s=e(1200),t=e(31864),l=e(25468),C=e(98225),f=e(60828);const S=new class b{constructor(){this._onDidChangeLanguages=new t.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(a){return this._languages.push(a),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let u=0,n=this._languages.length;u<n;u++)if(this._languages[u]===a)return void this._languages.splice(u,1)}}}getLanguages(){return this._languages}};l.B.add("editor.modesRegistry",S);const D="plaintext";S.registerLanguage({id:D,extensions:[".txt"],aliases:[s.NC("plainText.alias","Plain Text"),"text"],mimetypes:[C.v.text]}),l.B.as(f.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},37551:(yt,T,e)=>{"use strict";e.d(T,{Dy:()=>C,Ri:()=>l,TJ:()=>t});var s=e(64050);const t=new class{clone(){return this}equals(f){return this===f}};function l(f,I){return new s.hG([new s.WU(0,"",f)],I)}function C(f,I){const b=new Uint32Array(2);return b[0]=0,b[1]=(32768|f<<0|2<<24)>>>0,new s.DI(b,null===I?t:I)}},4720:(yt,T,e)=>{"use strict";function s(C,f){const I=C.getCount(),b=C.findTokenIndexAtOffset(f),S=C.getLanguageId(b);let D=b;for(;D+1<I&&C.getLanguageId(D+1)===S;)D++;let _=b;for(;_>0&&C.getLanguageId(_-1)===S;)_--;return new t(C,S,_,D+1,C.getStartOffset(_),C.getEndOffset(D))}e.d(T,{Bu:()=>l,wH:()=>s});class t{constructor(f,I,b,S,D,_){this._scopedLineTokensBrand=void 0,this._actual=f,this.languageId=I,this._firstTokenIndex=b,this._lastTokenIndex=S,this.firstCharOffset=D,this._lastCharOffset=_}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(f){return this._actual.getLineContent().substring(0,this.firstCharOffset+f)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(f){return this._actual.findTokenIndexAtOffset(f+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(f){return this._actual.getStandardTokenType(f+this._firstTokenIndex)}}function l(C){return 0!=(3&C)}},12939:(yt,T,e)=>{"use strict";e.d(T,{EA:()=>I,Vr:()=>g});var s=e(77697),t=e(23859),l=e(88154);class C{constructor(m,w,E,L,x,A){this._richEditBracketBrand=void 0,this.languageId=m,this.index=w,this.open=E,this.close=L,this.forwardRegex=x,this.reversedRegex=A,this._openSet=C._toSet(this.open),this._closeSet=C._toSet(this.close)}isOpen(m){return this._openSet.has(m)}isClose(m){return this._closeSet.has(m)}static _toSet(m){const w=new Set;for(const E of m)w.add(E);return w}}class I{constructor(m,w){this._richEditBracketsBrand=void 0;const E=function f(v){const m=v.length;v=v.map(A=>[A[0].toLowerCase(),A[1].toLowerCase()]);const w=[];for(let A=0;A<m;A++)w[A]=A;const E=(A,k)=>{const[W,H]=A,[z,N]=k;return W===z||W===N||H===z||H===N},L=(A,k)=>{const W=Math.min(A,k),H=Math.max(A,k);for(let z=0;z<m;z++)w[z]===H&&(w[z]=W)};for(let A=0;A<m;A++){const k=v[A];for(let W=A+1;W<m;W++)E(k,v[W])&&L(w[A],w[W])}const x=[];for(let A=0;A<m;A++){const k=[],W=[];for(let H=0;H<m;H++)if(w[H]===A){const[z,N]=v[H];k.push(z),W.push(N)}k.length>0&&x.push({open:k,close:W})}return x}(w);this.brackets=E.map((L,x)=>new C(m,x,L.open,L.close,function _(v,m,w,E){let L=[];L=L.concat(v),L=L.concat(m);for(let x=0,A=L.length;x<A;x++)b(L[x],w,E,L);return L=D(L),L.sort(S),L.reverse(),d(L)}(L.open,L.close,E,x),function r(v,m,w,E){let L=[];L=L.concat(v),L=L.concat(m);for(let x=0,A=L.length;x<A;x++)b(L[x],w,E,L);return L=D(L),L.sort(S),L.reverse(),d(L.map(y))}(L.open,L.close,E,x))),this.forwardRegex=function a(v){let m=[];for(const w of v){for(const E of w.open)m.push(E);for(const E of w.close)m.push(E)}return m=D(m),d(m)}(this.brackets),this.reversedRegex=function u(v){let m=[];for(const w of v){for(const E of w.open)m.push(E);for(const E of w.close)m.push(E)}return m=D(m),d(m.map(y))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const L of this.brackets){for(const x of L.open)this.textIsBracket[x]=L,this.textIsOpenBracket[x]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,x.length);for(const x of L.close)this.textIsBracket[x]=L,this.textIsOpenBracket[x]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,x.length)}}}function b(v,m,w,E){for(let L=0,x=m.length;L<x;L++){if(L===w)continue;const A=m[L];for(const k of A.open)k.indexOf(v)>=0&&E.push(k);for(const k of A.close)k.indexOf(v)>=0&&E.push(k)}}function S(v,m){return v.length-m.length}function D(v){if(v.length<=1)return v;const m=[],w=new Set;for(const E of v)w.has(E)||(m.push(E),w.add(E));return m}function n(v){const m=/^[\w ]+$/.test(v);return v=s.ec(v),m?`\\b${v}\\b`:v}function d(v){const m=`(${v.map(n).join(")|(")})`;return s.GF(m,!0)}const y=function(){let m=null,w=null;return function(L){return m!==L&&(m=L,w=function v(E){if(t.lZ){const L=new Uint16Array(E.length);let x=0;for(let A=E.length-1;A>=0;A--)L[x++]=E.charCodeAt(A);return t.oe().decode(L)}{const L=[];let x=0;for(let A=E.length-1;A>=0;A--)L[x++]=E.charAt(A);return L.join("")}}(m)),w}}();class g{static _findPrevBracketInText(m,w,E,L){const x=E.match(m);if(!x)return null;const W=L+(E.length-(x.index||0));return new l.e(w,W-x[0].length+1,w,W+1)}static findPrevBracketInRange(m,w,E,L,x){const k=y(E).substring(E.length-x,E.length-L);return this._findPrevBracketInText(m,w,k,L)}static findNextBracketInText(m,w,E,L){const x=E.match(m);if(!x)return null;const k=x[0].length;if(0===k)return null;const W=L+(x.index||0);return new l.e(w,W+1,w,W+1+k)}static findNextBracketInRange(m,w,E,L,x){const A=E.substring(L,x);return this.findNextBracketInText(m,w,A,L)}}},22183:(yt,T,e)=>{"use strict";e.d(T,{C2:()=>b,Fq:()=>S});var s=e(77697),t=e(12922),l=e(64050),C=e(37551),f=function(_,r,a,u){return new(a||(a=Promise))(function(d,y){function g(w){try{m(u.next(w))}catch(E){y(E)}}function v(w){try{m(u.throw(w))}catch(E){y(E)}}function m(w){w.done?d(w.value):function n(d){return d instanceof a?d:new a(function(y){y(d)})}(w.value).then(g,v)}m((u=u.apply(_,r||[])).next())})};const I={getInitialState:()=>C.TJ,tokenizeEncoded:(_,r,a)=>(0,C.Dy)(0,a)};function b(_,r,a){return f(this,void 0,void 0,function*(){if(!a)return D(r,_.languageIdCodec,I);const u=yield l.RW.getOrCreate(a);return D(r,_.languageIdCodec,u||I)})}function S(_,r,a,u,n,d,y){let g="<div>",v=u,m=0,w=!0;for(let E=0,L=r.getCount();E<L;E++){const x=r.getEndOffset(E);if(x<=u)continue;let A="";for(;v<x&&v<n;v++){const k=_.charCodeAt(v);switch(k){case 9:{let W=d-(v+m)%d;for(m+=W-1;W>0;)y&&w?(A+="&#160;",w=!1):(A+=" ",w=!0),W--;break}case 60:A+="&lt;",w=!1;break;case 62:A+="&gt;",w=!1;break;case 38:A+="&amp;",w=!1;break;case 0:A+="&#00;",w=!1;break;case 65279:case 8232:case 8233:case 133:A+="\ufffd",w=!1;break;case 13:A+="&#8203",w=!1;break;case 32:y&&w?(A+="&#160;",w=!1):(A+=" ",w=!0);break;default:A+=String.fromCharCode(k),w=!1}}if(g+=`<span style="${r.getInlineStyle(E,a)}">${A}</span>`,x>n||v>=n)break}return g+="</div>",g}function D(_,r,a){let u='<div class="monaco-tokenized-source">';const n=s.uq(_);let d=a.getInitialState();for(let y=0,g=n.length;y<g;y++){const v=n[y];y>0&&(u+="<br/>");const m=a.tokenizeEncoded(v,!0,d);t.A.convertToEndOffset(m.tokens,v.length);const E=new t.A(m.tokens,v,r).inflate();let L=0;for(let x=0,A=E.getCount();x<A;x++){const k=E.getClassName(x),W=E.getEndOffset(x);u+=`<span class="${k}">${s.YU(v.substring(L,W))}</span>`,L=W}d=m.endState}return u+="</div>",u}},59129:(yt,T,e)=>{"use strict";e.d(T,{F5:()=>l,Hf:()=>b,Qi:()=>S,RM:()=>C,Tx:()=>D,dJ:()=>f,je:()=>_,pt:()=>r,sh:()=>t,tk:()=>I});var s=e(82941),t=(()=>((t=t||{})[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full",t))(),l=(()=>((l=l||{})[l.Inline=1]="Inline",l[l.Gutter=2]="Gutter",l))(),C=(()=>((C=C||{})[C.Both=0]="Both",C[C.Right=1]="Right",C[C.Left=2]="Left",C[C.None=3]="None",C))();class f{constructor(u){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|u.tabSize),this.indentSize=0|u.tabSize,this.insertSpaces=!!u.insertSpaces,this.defaultEOL=0|u.defaultEOL,this.trimAutoWhitespace=!!u.trimAutoWhitespace,this.bracketPairColorizationOptions=u.bracketPairColorizationOptions}equals(u){return this.tabSize===u.tabSize&&this.indentSize===u.indentSize&&this.insertSpaces===u.insertSpaces&&this.defaultEOL===u.defaultEOL&&this.trimAutoWhitespace===u.trimAutoWhitespace&&(0,s.fS)(this.bracketPairColorizationOptions,u.bracketPairColorizationOptions)}createChangeEvent(u){return{tabSize:this.tabSize!==u.tabSize,indentSize:this.indentSize!==u.indentSize,insertSpaces:this.insertSpaces!==u.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==u.trimAutoWhitespace}}}class I{constructor(u,n){this._findMatchBrand=void 0,this.range=u,this.matches=n}}function b(a){return a&&"function"==typeof a.read}class S{constructor(u,n,d,y,g,v){this.identifier=u,this.range=n,this.text=d,this.forceMoveMarkers=y,this.isAutoWhitespaceEdit=g,this._isTracked=v}}class D{constructor(u,n,d){this.regex=u,this.wordSeparators=n,this.simpleSearch=d}}class _{constructor(u,n,d){this.reverseEdits=u,this.changes=n,this.trimAutoWhitespaceLineNumbers=d}}function r(a){return!a.isTooLargeForSyncing()&&!a.isForSimpleWidget}},93325:(yt,T,e)=>{"use strict";e.d(T,{BH:()=>u,Dm:()=>d,Kd:()=>f,Y0:()=>I,n2:()=>n});var s=e(30648),t=e(31154),l=e(76605);class C{constructor(g){this._length=g}get length(){return this._length}}class f extends C{constructor(g,v,m,w,E){super(g),this.openingBracket=v,this.child=m,this.closingBracket=w,this.missingOpeningBracketIds=E}static create(g,v,m){let w=g.length;return v&&(w=(0,t.Ii)(w,v.length)),m&&(w=(0,t.Ii)(w,m.length)),new f(w,g,v,m,v?v.missingOpeningBracketIds:l.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(g){switch(g){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const g=new Array;return g.push(this.openingBracket),this.child&&g.push(this.child),this.closingBracket&&g.push(this.closingBracket),g}canBeReused(g){return!(null===this.closingBracket||g.intersects(this.missingOpeningBracketIds))}deepClone(){return new f(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(g,v){return this.child?this.child.computeMinIndentation((0,t.Ii)(g,this.openingBracket.length),v):Number.MAX_SAFE_INTEGER}}class I extends C{constructor(g,v,m){super(g),this.listHeight=v,this._missingOpeningBracketIds=m,this.cachedMinIndentation=-1}static create23(g,v,m,w=!1){let E=g.length,L=g.missingOpeningBracketIds;if(g.listHeight!==v.listHeight)throw new Error("Invalid list heights");if(E=(0,t.Ii)(E,v.length),L=L.merge(v.missingOpeningBracketIds),m){if(g.listHeight!==m.listHeight)throw new Error("Invalid list heights");E=(0,t.Ii)(E,m.length),L=L.merge(m.missingOpeningBracketIds)}return w?new S(E,g.listHeight+1,g,v,m,L):new b(E,g.listHeight+1,g,v,m,L)}static getEmpty(){return new _(t.xl,0,[],l.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const g=this.childrenLength;if(0===g)return;const v=this.getChild(g-1),m=4===v.kind?v.toMutable():v;return v!==m&&this.setChild(g-1,m),m}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const v=this.getChild(0),m=4===v.kind?v.toMutable():v;return v!==m&&this.setChild(0,m),m}canBeReused(g){if(g.intersects(this.missingOpeningBracketIds))return!1;let m,v=this;for(;4===v.kind&&(m=v.childrenLength)>0;)v=v.getChild(m-1);return v.canBeReused(g)}handleChildrenChanged(){this.throwIfImmutable();const g=this.childrenLength;let v=this.getChild(0).length,m=this.getChild(0).missingOpeningBracketIds;for(let w=1;w<g;w++){const E=this.getChild(w);v=(0,t.Ii)(v,E.length),m=m.merge(E.missingOpeningBracketIds)}this._length=v,this._missingOpeningBracketIds=m,this.cachedMinIndentation=-1}computeMinIndentation(g,v){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let m=Number.MAX_SAFE_INTEGER,w=g;for(let E=0;E<this.childrenLength;E++){const L=this.getChild(E);L&&(m=Math.min(m,L.computeMinIndentation(w,v)),w=(0,t.Ii)(w,L.length))}return this.cachedMinIndentation=m,m}}class b extends I{constructor(g,v,m,w,E,L){super(g,v,L),this._item1=m,this._item2=w,this._item3=E}get childrenLength(){return null!==this._item3?3:2}getChild(g){switch(g){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(g,v){switch(g){case 0:return void(this._item1=v);case 1:return void(this._item2=v);case 2:return void(this._item3=v)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new b(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(g){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=g,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const g=this._item3;return this._item3=null,this.handleChildrenChanged(),g}prependChildOfSameHeight(g){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=g,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const g=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),g}toMutable(){return this}}class S extends b{toMutable(){return new b(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class D extends I{constructor(g,v,m,w){super(g,v,w),this._children=m}get childrenLength(){return this._children.length}getChild(g){return this._children[g]}setChild(g,v){this._children[g]=v}get children(){return this._children}deepClone(){const g=new Array(this._children.length);for(let v=0;v<this._children.length;v++)g[v]=this._children[v].deepClone();return new D(this.length,this.listHeight,g,this.missingOpeningBracketIds)}appendChildOfSameHeight(g){this.throwIfImmutable(),this._children.push(g),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const g=this._children.pop();return this.handleChildrenChanged(),g}prependChildOfSameHeight(g){this.throwIfImmutable(),this._children.unshift(g),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const g=this._children.shift();return this.handleChildrenChanged(),g}toMutable(){return this}}class _ extends D{toMutable(){return new D(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const r=[];class a extends C{get listHeight(){return 0}get childrenLength(){return 0}getChild(g){return null}get children(){return r}deepClone(){return this}}class u extends a{get kind(){return 0}get missingOpeningBracketIds(){return l.tS.getEmpty()}canBeReused(g){return!0}computeMinIndentation(g,v){const m=(0,t.Hw)(g),w=(0===m.columnCount?m.lineCount:m.lineCount+1)+1,E=(0,t.W9)((0,t.Ii)(g,this.length))+1;let L=Number.MAX_SAFE_INTEGER;for(let x=w;x<=E;x++){const A=v.getLineFirstNonWhitespaceColumn(x),k=v.getLineContent(x);if(0===A)continue;const W=s.i.visibleColumnFromColumn(k,A,v.getOptions().tabSize);L=Math.min(L,W)}return L}}class n extends a{constructor(g,v,m){super(g),this.bracketInfo=v,this.bracketIds=m}static create(g,v,m){return new n(g,v,m)}get kind(){return 1}get missingOpeningBracketIds(){return l.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(g){return!1}computeMinIndentation(g,v){return Number.MAX_SAFE_INTEGER}}class d extends a{constructor(g,v){super(v),this.missingOpeningBracketIds=g}get kind(){return 3}canBeReused(g){return!g.intersects(this.missingOpeningBracketIds)}computeMinIndentation(g,v){return Number.MAX_SAFE_INTEGER}}},86004:(yt,T,e)=>{"use strict";e.d(T,{Q:()=>t,Y:()=>l});var s=e(31154);class t{constructor(I,b,S){this.startOffset=I,this.endOffset=b,this.newLength=S}}class l{constructor(I,b){this.documentLength=b,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=I.map(S=>C.from(S))}getOffsetBeforeChange(I){return this.adjustNextEdit(I),this.translateCurToOld(I)}getDistanceToNextChange(I){this.adjustNextEdit(I);const b=this.edits[this.nextEditIdx],S=b?this.translateOldToCur(b.offsetObj):this.documentLength;return(0,s.BE)(I,S)}translateOldToCur(I){return(0,s.Hg)(I.lineCount+this.deltaOldToNewLineCount,I.lineCount===this.deltaLineIdxInOld?I.columnCount+this.deltaOldToNewColumnCount:I.columnCount)}translateCurToOld(I){const b=(0,s.Hw)(I);return(0,s.Hg)(b.lineCount-this.deltaOldToNewLineCount,b.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?b.columnCount-this.deltaOldToNewColumnCount:b.columnCount)}adjustNextEdit(I){for(;this.nextEditIdx<this.edits.length;){const b=this.edits[this.nextEditIdx],S=this.translateOldToCur(b.endOffsetAfterObj);if(!(0,s.By)(S,I))break;{this.nextEditIdx++;const D=(0,s.Hw)(S),_=(0,s.Hw)(this.translateOldToCur(b.endOffsetBeforeObj));this.deltaOldToNewLineCount+=D.lineCount-_.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===b.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(D.columnCount-_.columnCount),this.deltaLineIdxInOld=b.endOffsetBeforeObj.lineCount}}}}class C{constructor(I,b,S){this.endOffsetBeforeObj=(0,s.Hw)(b),this.endOffsetAfterObj=(0,s.Hw)((0,s.Ii)(I,S)),this.offsetObj=(0,s.Hw)(I)}static from(I){return new C(I.startOffset,I.endOffset,I.newLength)}}},88434:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>S});var s=e(77697),t=e(93325),l=e(31154),C=e(76605),f=e(49316);class I{constructor(_){this.map=_,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(_,r){function a(n){return r.getKey(`${n.languageId}:::${n.bracketText}`)}const u=new Map;for(const n of _.bracketsNew.openingBrackets){const d=(0,l.Hg)(0,n.bracketText.length),y=a(n),g=C.tS.getEmpty().add(y,C.Qw);u.set(n.bracketText,new f.WU(d,1,y,g,t.n2.create(d,n,g)))}for(const n of _.bracketsNew.closingBrackets){const d=(0,l.Hg)(0,n.bracketText.length);let y=C.tS.getEmpty();const g=n.getClosedBrackets();for(const v of g)y=y.add(a(v),C.Qw);u.set(n.bracketText,new f.WU(d,2,a(g[0]),y,t.n2.create(d,n,y)))}return new I(u)}getRegExpStr(){if(this.isEmpty)return null;{const _=[...this.map.keys()];return _.sort(),_.reverse(),_.map(r=>function b(D){let _=(0,s.ec)(D);return/^[\w ]+/.test(D)&&(_=`\\b${_}`),/[\w ]+$/.test(D)&&(_=`${_}\\b`),_}(r)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const _=this.getRegExpStr();this._regExpGlobal=_?new RegExp(_,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(_){return this.map.get(_.toLowerCase())}findClosingTokenText(_){for(const[r,a]of this.map)if(2===a.kind&&a.bracketIds.intersects(_))return r}get isEmpty(){return 0===this.map.size}}class S{constructor(_,r){this.denseKeyProvider=_,this.getLanguageConfiguration=r,this.languageIdToBracketTokens=new Map}didLanguageChange(_){return this.languageIdToBracketTokens.has(_)}getSingleLanguageBracketTokens(_){let r=this.languageIdToBracketTokens.get(_);return r||(r=I.createFromLanguage(this.getLanguageConfiguration(_),this.denseKeyProvider),this.languageIdToBracketTokens.set(_,r)),r}}},31154:(yt,T,e)=>{"use strict";e.d(T,{BE:()=>u,By:()=>d,F_:()=>r,Hg:()=>S,Hw:()=>D,Ii:()=>a,PZ:()=>g,Qw:()=>v,VR:()=>n,W9:()=>_,Zq:()=>y,av:()=>C,oR:()=>m,xd:()=>I,xl:()=>f});var s=e(77697),t=e(88154);class l{constructor(E,L){this.lineCount=E,this.columnCount=L}toString(){return`${this.lineCount},${this.columnCount}`}}function C(w,E,L,x){return w!==L?S(L-w,x):S(0,x-E)}l.zero=new l(0,0);const f=0;function I(w){return 0===w}const b=Math.pow(2,26);function S(w,E){return w*b+E}function D(w){const E=w,L=Math.floor(E/b);return new l(L,E-L*b)}function _(w){return Math.floor(w/b)}function r(w){return w}function a(w,E){return E<b?w+E:w-w%b+E}function u(w,E){const L=w,x=E;if(x-L<=0)return f;const k=Math.floor(L/b),W=Math.floor(x/b),H=x-W*b;return k===W?S(0,H-(L-k*b)):S(W-k,H)}function n(w,E){return w<E}function d(w,E){return w<=E}function y(w,E){return w>=E}function g(w){return S(w.lineNumber-1,w.column-1)}function v(w,E){const L=w,x=Math.floor(L/b),A=L-x*b,k=E,W=Math.floor(k/b);return new t.e(x+1,A+1,W+1,k-W*b+1)}function m(w){const E=(0,s.uq)(w);return S(E.length-1,E[E.length-1].length)}},824:(yt,T,e)=>{"use strict";e.d(T,{w:()=>n});var s=e(93325),t=e(86004),l=e(76605),C=e(31154);function I(y,g=!1){if(0===y.length)return null;if(1===y.length)return y[0];let v=y.length;for(;v>3;){const m=v>>1;for(let w=0;w<m;w++){const E=w<<1;y[w]=s.Y0.create23(y[E],y[E+1],E+3===v?y[E+2]:null,g)}v=m}return s.Y0.create23(y[0],y[1],v>=3?y[2]:null,g)}function b(y,g){return Math.abs(y.listHeight-g.listHeight)}function S(y,g){return y.listHeight===g.listHeight?s.Y0.create23(y,g,null,!1):y.listHeight>g.listHeight?function D(y,g){let v=y=y.toMutable();const m=new Array;let w;for(;;){if(g.listHeight===v.listHeight){w=g;break}if(4!==v.kind)throw new Error("unexpected");m.push(v),v=v.makeLastElementMutable()}for(let E=m.length-1;E>=0;E--){const L=m[E];w?L.childrenLength>=3?w=s.Y0.create23(L.unappendChild(),w,null,!1):(L.appendChildOfSameHeight(w),w=void 0):L.handleChildrenChanged()}return w?s.Y0.create23(y,w,null,!1):y}(y,g):function _(y,g){let v=y=y.toMutable();const m=new Array;for(;g.listHeight!==v.listHeight;){if(4!==v.kind)throw new Error("unexpected");m.push(v),v=v.makeFirstElementMutable()}let w=g;for(let E=m.length-1;E>=0;E--){const L=m[E];w?L.childrenLength>=3?w=s.Y0.create23(w,L.unprependChild(),null,!1):(L.prependChildOfSameHeight(w),w=void 0):L.handleChildrenChanged()}return w?s.Y0.create23(w,y,null,!1):y}(g,y)}class r{constructor(g){this.lastOffset=C.xl,this.nextNodes=[g],this.offsets=[C.xl],this.idxs=[]}readLongestNodeAt(g,v){if((0,C.VR)(g,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=g;;){const m=u(this.nextNodes);if(!m)return;const w=u(this.offsets);if((0,C.VR)(g,w))return;if((0,C.VR)(w,g))if((0,C.Ii)(w,m.length)<=g)this.nextNodeAfterCurrent();else{const E=a(m);-1!==E?(this.nextNodes.push(m.getChild(E)),this.offsets.push(w),this.idxs.push(E)):this.nextNodeAfterCurrent()}else{if(v(m))return this.nextNodeAfterCurrent(),m;{const E=a(m);if(-1===E)return void this.nextNodeAfterCurrent();this.nextNodes.push(m.getChild(E)),this.offsets.push(w),this.idxs.push(E)}}}}nextNodeAfterCurrent(){for(;;){const g=u(this.offsets),v=u(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const m=u(this.nextNodes),w=a(m,this.idxs[this.idxs.length-1]);if(-1!==w){this.nextNodes.push(m.getChild(w)),this.offsets.push((0,C.Ii)(g,v.length)),this.idxs[this.idxs.length-1]=w;break}this.idxs.pop()}}}function a(y,g=-1){for(;;){if(++g>=y.childrenLength)return-1;if(y.getChild(g))return g}}function u(y){return y.length>0?y[y.length-1]:void 0}function n(y,g,v,m){return new d(y,g,v,m).parseDocument()}class d{constructor(g,v,m,w){if(this.tokenizer=g,this.createImmutableLists=w,this._itemsConstructed=0,this._itemsFromCache=0,m&&w)throw new Error("Not supported");this.oldNodeReader=m?new r(m):void 0,this.positionMapper=new t.Y(v,g.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let g=this.parseList(l.tS.getEmpty());return g||(g=s.Y0.getEmpty()),g}parseList(g){const v=new Array;for(;;){const w=this.tokenizer.peek();if(!w||2===w.kind&&w.bracketIds.intersects(g))break;const E=this.parseChild(g);4===E.kind&&0===E.childrenLength||v.push(E)}return this.oldNodeReader?function f(y){if(0===y.length)return null;if(1===y.length)return y[0];let g=0;function v(){if(g>=y.length)return null;const L=g,x=y[L].listHeight;for(g++;g<y.length&&y[g].listHeight===x;)g++;return g-L>=2?I(0===L&&g===y.length?y:y.slice(L,g),!1):y[L]}let m=v(),w=v();if(!w)return m;for(let L=v();L;L=v())b(m,w)<=b(w,L)?(m=S(m,w),w=L):w=S(w,L);return S(m,w)}(v):I(v,this.createImmutableLists)}parseChild(g){if(this.oldNodeReader){const m=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,C.xd)(m)){const w=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),E=>!!(0,C.VR)(E.length,m)&&E.canBeReused(g));if(w)return this._itemsFromCache++,this.tokenizer.skip(w.length),w}}this._itemsConstructed++;const v=this.tokenizer.read();switch(v.kind){case 2:return new s.Dm(v.bracketIds,v.length);case 0:return v.astNode;case 1:{const m=g.merge(v.bracketIds),w=this.parseList(m),E=this.tokenizer.peek();return E&&2===E.kind&&(E.bracketId===v.bracketId||E.bracketIds.intersects(v.bracketIds))?(this.tokenizer.read(),s.Kd.create(v.astNode,w,E.astNode)):s.Kd.create(v.astNode,w,null)}default:throw new Error("unexpected")}}}},76605:(yt,T,e)=>{"use strict";e.d(T,{FE:()=>C,Qw:()=>l,tS:()=>t});const s=new Array;class t{constructor(I,b){this.items=I,this.additionalItems=b}static create(I,b){if(I<=128&&0===b.length){let S=t.cache[I];return S||(S=new t(I,b),t.cache[I]=S),S}return new t(I,b)}static getEmpty(){return this.empty}add(I,b){const S=b.getKey(I);let D=S>>5;if(0===D){const r=1<<S|this.items;return r===this.items?this:t.create(r,this.additionalItems)}D--;const _=this.additionalItems.slice(0);for(;_.length<D;)_.push(0);return _[D]|=1<<(31&S),t.create(this.items,_)}merge(I){const b=this.items|I.items;if(this.additionalItems===s&&I.additionalItems===s)return b===this.items?this:b===I.items?I:t.create(b,s);const S=new Array;for(let D=0;D<Math.max(this.additionalItems.length,I.additionalItems.length);D++)S.push((this.additionalItems[D]||0)|(I.additionalItems[D]||0));return t.create(b,S)}intersects(I){if(this.items&I.items)return!0;for(let b=0;b<Math.min(this.additionalItems.length,I.additionalItems.length);b++)if(this.additionalItems[b]&I.additionalItems[b])return!0;return!1}}t.cache=new Array(129),t.empty=t.create(0,s);const l={getKey:f=>f};class C{constructor(){this.items=new Map}getKey(I){let b=this.items.get(I);return void 0===b&&(b=this.items.size,this.items.set(I,b)),b}}},49316:(yt,T,e)=>{"use strict";e.d(T,{WU:()=>I,g:()=>D,xH:()=>b});var s=e(3219),t=e(90035),l=e(93325),C=e(31154),f=e(76605);class I{constructor(r,a,u,n,d){this.length=r,this.kind=a,this.bracketId=u,this.bracketIds=n,this.astNode=d}}class b{constructor(r,a){this.textModel=r,this.bracketTokens=a,this.reader=new S(this.textModel,this.bracketTokens),this._offset=C.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=r.getLineCount(),this.textBufferLastLineLength=r.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,C.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(r){this.didPeek=!1,this._offset=(0,C.Ii)(this._offset,r);const a=(0,C.Hw)(this._offset);this.reader.setPosition(a.lineCount,a.columnCount)}read(){let r;return this.peeked?(this.didPeek=!1,r=this.peeked):r=this.reader.read(),r&&(this._offset=(0,C.Ii)(this._offset,r.length)),r}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class S{constructor(r,a){this.textModel=r,this.bracketTokens=a,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=r.getLineCount(),this.textBufferLastLineLength=r.getLineLength(this.textBufferLineCount)}setPosition(r,a){r===this.lineIdx?(this.lineCharOffset=a,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=r,this.lineCharOffset=a,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,C.F_)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const r=this.lineIdx,a=this.lineCharOffset;let u=0;for(;;){const d=this.lineTokens,y=d.getCount();let g=null;if(this.lineTokenOffset<y){const v=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<y&&v===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const m=0===t.N.getTokenType(v),w=t.N.containsBalancedBrackets(v),E=d.getEndOffset(this.lineTokenOffset);if(w&&m&&this.lineCharOffset<E){const L=d.getLanguageId(this.lineTokenOffset),x=this.line.substring(this.lineCharOffset,E),A=this.bracketTokens.getSingleLanguageBracketTokens(L),k=A.regExpGlobal;if(k){k.lastIndex=0;const W=k.exec(x);W&&(g=A.getToken(W[0]),g&&(this.lineCharOffset+=W.index))}}if(u+=E-this.lineCharOffset,g){if(r!==this.lineIdx||a!==this.lineCharOffset){this.peekedToken=g;break}return this.lineCharOffset+=(0,C.F_)(g.length),g}this.lineTokenOffset++,this.lineCharOffset=E}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,u+=33,u>1e3))break;if(u>1500)break}const n=(0,C.av)(r,a,this.lineIdx,this.lineCharOffset);return new I(n,0,-1,f.tS.getEmpty(),new l.BH(n))}}class D{constructor(r,a){this.text=r,this._offset=C.xl,this.idx=0;const u=a.getRegExpStr(),n=u?new RegExp(u+"|\n","gi"):null,d=[];let y,g=0,v=0,m=0,w=0;const E=new Array;for(let A=0;A<60;A++)E.push(new I((0,C.Hg)(0,A),0,-1,f.tS.getEmpty(),new l.BH((0,C.Hg)(0,A))));const L=new Array;for(let A=0;A<60;A++)L.push(new I((0,C.Hg)(1,A),0,-1,f.tS.getEmpty(),new l.BH((0,C.Hg)(1,A))));if(n)for(n.lastIndex=0;null!==(y=n.exec(r));){const A=y.index,k=y[0];if("\n"===k)g++,v=A+1;else{if(m!==A){let W;if(w===g){const H=A-m;if(H<E.length)W=E[H];else{const z=(0,C.Hg)(0,H);W=new I(z,0,-1,f.tS.getEmpty(),new l.BH(z))}}else{const H=g-w,z=A-v;if(1===H&&z<L.length)W=L[z];else{const N=(0,C.Hg)(H,z);W=new I(N,0,-1,f.tS.getEmpty(),new l.BH(N))}}d.push(W)}d.push(a.getToken(k)),m=A+k.length,w=g}}const x=r.length;if(m!==x){const A=w===g?(0,C.Hg)(0,x-m):(0,C.Hg)(g-w,x-v);d.push(new I(A,0,-1,f.tS.getEmpty(),new l.BH(A)))}this.length=(0,C.Hg)(g,x-v),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(r){throw new s.B8}}},34062:(yt,T,e)=>{"use strict";e.d(T,{NL:()=>n,e9:()=>u});var s=e(1200),t=e(3219),l=e(58745),C=e(56740),f=e(47023),I=e(28554),b=e(9590);function S(d){return d.toString()}class D{constructor(y,g,v,m,w,E,L){this.beforeVersionId=y,this.afterVersionId=g,this.beforeEOL=v,this.afterEOL=m,this.beforeCursorState=w,this.afterCursorState=E,this.changes=L}static create(y,g){const v=y.getAlternativeVersionId(),m=a(y);return new D(v,v,m,m,g,g,[])}append(y,g,v,m,w){g.length>0&&(this.changes=(0,f.b)(this.changes,g)),this.afterEOL=v,this.afterVersionId=m,this.afterCursorState=w}static _writeSelectionsSize(y){return 4+16*(y?y.length:0)}static _writeSelections(y,g,v){if(I.T4(y,g?g.length:0,v),v+=4,g)for(const m of g)I.T4(y,m.selectionStartLineNumber,v),I.T4(y,m.selectionStartColumn,v+=4),I.T4(y,m.positionLineNumber,v+=4),I.T4(y,m.positionColumn,v+=4),v+=4;return v}static _readSelections(y,g,v){const m=I.Ag(y,g);g+=4;for(let w=0;w<m;w++){const E=I.Ag(y,g),L=I.Ag(y,g+=4),x=I.Ag(y,g+=4),A=I.Ag(y,g+=4);g+=4,v.push(new l.Y(E,L,x,A))}return g}serialize(){let y=10+D._writeSelectionsSize(this.beforeCursorState)+D._writeSelectionsSize(this.afterCursorState)+4;for(const m of this.changes)y+=m.writeSize();const g=new Uint8Array(y);let v=0;I.T4(g,this.beforeVersionId,v),v+=4,I.T4(g,this.afterVersionId,v),v+=4,I.Cg(g,this.beforeEOL,v),v+=1,I.Cg(g,this.afterEOL,v),v+=1,v=D._writeSelections(g,this.beforeCursorState,v),v=D._writeSelections(g,this.afterCursorState,v),I.T4(g,this.changes.length,v),v+=4;for(const m of this.changes)v=m.write(g,v);return g.buffer}static deserialize(y){const g=new Uint8Array(y);let v=0;const m=I.Ag(g,v);v+=4;const w=I.Ag(g,v);v+=4;const E=I.Q$(g,v);v+=1;const L=I.Q$(g,v);v+=1;const x=[];v=D._readSelections(g,v,x);const A=[];v=D._readSelections(g,v,A);const k=I.Ag(g,v);v+=4;const W=[];for(let H=0;H<k;H++)v=f.q.read(g,v,W);return new D(m,w,E,L,x,A,W)}}class _{constructor(y,g,v,m){this.label=y,this.code=g,this.model=v,this._data=D.create(v,m)}get type(){return 0}get resource(){return C.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof D?this._data:D.deserialize(this._data)).changes.map(g=>g.toString()).join(", ")}matchesResource(y){return(C.o.isUri(this.model)?this.model:this.model.uri).toString()===y.toString()}setModel(y){this.model=y}canAppend(y){return this.model===y&&this._data instanceof D}append(y,g,v,m,w){this._data instanceof D&&this._data.append(y,g,v,m,w)}close(){this._data instanceof D&&(this._data=this._data.serialize())}open(){this._data instanceof D||(this._data=D.deserialize(this._data))}undo(){if(C.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const y=D.deserialize(this._data);this.model._applyUndo(y.changes,y.beforeEOL,y.beforeVersionId,y.beforeCursorState)}redo(){if(C.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const y=D.deserialize(this._data);this.model._applyRedo(y.changes,y.afterEOL,y.afterVersionId,y.afterCursorState)}heapSize(){return this._data instanceof D&&(this._data=this._data.serialize()),this._data.byteLength+168}}class r{constructor(y,g,v){this.label=y,this.code=g,this.type=1,this._isOpen=!0,this._editStackElementsArr=v.slice(0),this._editStackElementsMap=new Map;for(const m of this._editStackElementsArr){const w=S(m.resource);this._editStackElementsMap.set(w,m)}this._delegate=null}get resources(){return this._editStackElementsArr.map(y=>y.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(y){const g=S(y);return this._editStackElementsMap.has(g)}setModel(y){const g=S(C.o.isUri(y)?y:y.uri);this._editStackElementsMap.has(g)&&this._editStackElementsMap.get(g).setModel(y)}canAppend(y){if(!this._isOpen)return!1;const g=S(y.uri);return!!this._editStackElementsMap.has(g)&&this._editStackElementsMap.get(g).canAppend(y)}append(y,g,v,m,w){const E=S(y.uri);this._editStackElementsMap.get(E).append(y,g,v,m,w)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const y of this._editStackElementsArr)y.undo()}redo(){for(const y of this._editStackElementsArr)y.redo()}heapSize(y){const g=S(y);return this._editStackElementsMap.has(g)?this._editStackElementsMap.get(g).heapSize():0}split(){return this._editStackElementsArr}toString(){const y=[];for(const g of this._editStackElementsArr)y.push(`${(0,b.EZ)(g.resource)}: ${g}`);return`{${y.join(", ")}}`}}function a(d){return"\n"===d.getEOL()?0:1}function u(d){return!!d&&(d instanceof _||d instanceof r)}class n{constructor(y,g){this._model=y,this._undoRedoService=g}pushStackElement(){const y=this._undoRedoService.getLastElement(this._model.uri);u(y)&&y.close()}popStackElement(){const y=this._undoRedoService.getLastElement(this._model.uri);u(y)&&y.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(y){const g=this._undoRedoService.getLastElement(this._model.uri);if(u(g)&&g.canAppend(this._model))return g;const v=new _(s.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,y);return this._undoRedoService.pushElement(v),v}pushEOL(y){const g=this._getOrCreateEditStackElement(null);this._model.setEOL(y),g.append(this._model,[],a(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(y,g,v){const m=this._getOrCreateEditStackElement(y),w=this._model.applyEdits(g,!0),E=n._computeCursorState(v,w),L=w.map((x,A)=>({index:A,textChange:x.textChange}));return L.sort((x,A)=>x.textChange.oldPosition===A.textChange.oldPosition?x.index-A.index:x.textChange.oldPosition-A.textChange.oldPosition),m.append(this._model,L.map(x=>x.textChange),a(this._model),this._model.getAlternativeVersionId(),E),E}static _computeCursorState(y,g){try{return y?y(g):null}catch(v){return(0,t.dL)(v),null}}}},38377:(yt,T,e)=>{"use strict";e.d(T,{W:()=>D,l:()=>S});var s=e(14940),t=e(77697),l=e(30648),C=e(88154),f=e(5870),I=e(53146),b=e(22597);class S extends f.U{constructor(r,a){super(),this.textModel=r,this.languageConfigurationService=a}getLanguageConfiguration(r){return this.languageConfigurationService.getLanguageConfiguration(r)}_computeIndentLevel(r){return(0,I.q)(this.textModel.getLineContent(r+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(r,a,u){this.assertNotDisposed();const n=this.textModel.getLineCount();if(r<1||r>n)throw new Error("Illegal value for lineNumber");const d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,y=!(!d||!d.offSide);let g=-2,v=-1,m=-2,w=-1;const E=j=>{if(-1!==g&&(-2===g||g>j-1)){g=-1,v=-1;for(let q=j-2;q>=0;q--){const R=this._computeIndentLevel(q);if(R>=0){g=q,v=R;break}}}if(-2===m){m=-1,w=-1;for(let q=j;q<n;q++){const R=this._computeIndentLevel(q);if(R>=0){m=q,w=R;break}}}};let L=-2,x=-1,A=-2,k=-1;const W=j=>{if(-2===L){L=-1,x=-1;for(let q=j-2;q>=0;q--){const R=this._computeIndentLevel(q);if(R>=0){L=q,x=R;break}}}if(-1!==A&&(-2===A||A<j-1)){A=-1,k=-1;for(let q=j;q<n;q++){const R=this._computeIndentLevel(q);if(R>=0){A=q,k=R;break}}}};let H=0,z=!0,N=0,O=!0,K=0,$=0;for(let j=0;z||O;j++){const q=r-j,R=r+j;j>1&&(q<1||q<a)&&(z=!1),j>1&&(R>n||R>u)&&(O=!1),j>5e4&&(z=!1,O=!1);let Z=-1;if(z&&q>=1){const Ce=this._computeIndentLevel(q-1);Ce>=0?(m=q-1,w=Ce,Z=Math.ceil(Ce/this.textModel.getOptions().indentSize)):(E(q),Z=this._getIndentLevelForWhitespaceLine(y,v,w))}let J=-1;if(O&&R<=n){const Ce=this._computeIndentLevel(R-1);Ce>=0?(L=R-1,x=Ce,J=Math.ceil(Ce/this.textModel.getOptions().indentSize)):(W(R),J=this._getIndentLevelForWhitespaceLine(y,x,k))}if(0!==j){if(1===j){if(R<=n&&J>=0&&$+1===J){z=!1,H=R,N=R,K=J;continue}if(q>=1&&Z>=0&&Z-1===$){O=!1,H=q,N=q,K=Z;continue}if(H=r,N=r,K=$,0===K)return{startLineNumber:H,endLineNumber:N,indent:K}}z&&(Z>=K?H=q:z=!1),O&&(J>=K?N=R:O=!1)}else $=Z}return{startLineNumber:H,endLineNumber:N,indent:K}}getLinesBracketGuides(r,a,u,n){var d;const y=[];for(let L=r;L<=a;L++)y.push([]);const v=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new C.e(r,1,a,this.textModel.getLineMaxColumn(a)));let m;if(u&&v.length>0){const L=(r<=u.lineNumber&&u.lineNumber<=a?v:this.textModel.bracketPairs.getBracketPairsInRange(C.e.fromPositions(u))).filter(x=>C.e.strictContainsPosition(x.range,u));m=null===(d=(0,s.dF)(L,x=>!0))||void 0===d?void 0:d.range}const w=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,E=new D;for(const L of v){if(!L.closingBracketRange)continue;const x=m&&L.range.equalsRange(m);if(!x&&!n.includeInactive)continue;const A=E.getInlineClassName(L.nestingLevel,L.nestingLevelOfEqualBracketType,w)+(n.highlightActive&&x?" "+E.activeClassName:""),k=L.openingBracketRange.getStartPosition(),W=L.closingBracketRange.getStartPosition(),H=n.horizontalGuides===b.s6.Enabled||n.horizontalGuides===b.s6.EnabledForActive&&x;if(L.range.startLineNumber===L.range.endLineNumber){H&&y[L.range.startLineNumber-r].push(new b.UO(-1,L.openingBracketRange.getEndPosition().column,A,new b.vW(!1,W.column),-1,-1));continue}const z=this.getVisibleColumnFromPosition(W),N=this.getVisibleColumnFromPosition(L.openingBracketRange.getStartPosition()),O=Math.min(N,z,L.minVisibleColumnIndentation+1);let K=!1;t.LC(this.textModel.getLineContent(L.closingBracketRange.startLineNumber))<L.closingBracketRange.startColumn-1&&(K=!0);const q=Math.max(k.lineNumber,r),R=Math.min(W.lineNumber,a),Z=K?1:0;for(let J=q;J<R+Z;J++)y[J-r].push(new b.UO(O,-1,A,null,J===k.lineNumber?k.column:-1,J===W.lineNumber?W.column:-1));H&&(k.lineNumber>=r&&N>O&&y[k.lineNumber-r].push(new b.UO(O,-1,A,new b.vW(!1,k.column),-1,-1)),W.lineNumber<=a&&z>O&&y[W.lineNumber-r].push(new b.UO(O,-1,A,new b.vW(!K,W.column),-1,-1)))}for(const L of y)L.sort((x,A)=>x.visibleColumn-A.visibleColumn);return y}getVisibleColumnFromPosition(r){return l.i.visibleColumnFromColumn(this.textModel.getLineContent(r.lineNumber),r.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(r,a){this.assertNotDisposed();const u=this.textModel.getLineCount();if(r<1||r>u)throw new Error("Illegal value for startLineNumber");if(a<1||a>u)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,y=!(!d||!d.offSide),g=new Array(a-r+1);let v=-2,m=-1,w=-2,E=-1;for(let L=r;L<=a;L++){const x=L-r,A=this._computeIndentLevel(L-1);if(A>=0)v=L-1,m=A,g[x]=Math.ceil(A/n.indentSize);else{if(-2===v){v=-1,m=-1;for(let k=L-2;k>=0;k--){const W=this._computeIndentLevel(k);if(W>=0){v=k,m=W;break}}}if(-1!==w&&(-2===w||w<L-1)){w=-1,E=-1;for(let k=L;k<u;k++){const W=this._computeIndentLevel(k);if(W>=0){w=k,E=W;break}}}g[x]=this._getIndentLevelForWhitespaceLine(y,m,E)}}return g}_getIndentLevelForWhitespaceLine(r,a,u){const n=this.textModel.getOptions();return-1===a||-1===u?0:a<u?1+Math.floor(a/n.indentSize):a===u||r?Math.ceil(u/n.indentSize):1+Math.floor(u/n.indentSize)}}class D{constructor(){this.activeClassName="indent-active"}getInlineClassName(r,a,u){return this.getInlineClassNameOfLevel(u?a:r)}getInlineClassNameOfLevel(r){return"bracket-indent-guide lvl-"+r%30}}},26476:(yt,T,e)=>{"use strict";e.d(T,{v:()=>C});var s=e(77697),t=e(13902),l=e(3204);class C{constructor(I,b,S,D){this._uri=I,this._lines=b,this._eol=S,this._versionId=D,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(I){I.eol&&I.eol!==this._eol&&(this._eol=I.eol,this._lineStarts=null);const b=I.changes;for(const S of b)this._acceptDeleteRange(S.range),this._acceptInsertText(new t.L(S.range.startLineNumber,S.range.startColumn),S.text);this._versionId=I.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const I=this._eol.length,b=this._lines.length,S=new Uint32Array(b);for(let D=0;D<b;D++)S[D]=this._lines[D].length+I;this._lineStarts=new l.oQ(S)}}_setLineText(I,b){this._lines[I]=b,this._lineStarts&&this._lineStarts.setValue(I,this._lines[I].length+this._eol.length)}_acceptDeleteRange(I){if(I.startLineNumber!==I.endLineNumber)this._setLineText(I.startLineNumber-1,this._lines[I.startLineNumber-1].substring(0,I.startColumn-1)+this._lines[I.endLineNumber-1].substring(I.endColumn-1)),this._lines.splice(I.startLineNumber,I.endLineNumber-I.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(I.startLineNumber,I.endLineNumber-I.startLineNumber);else{if(I.startColumn===I.endColumn)return;this._setLineText(I.startLineNumber-1,this._lines[I.startLineNumber-1].substring(0,I.startColumn-1)+this._lines[I.startLineNumber-1].substring(I.endColumn-1))}}_acceptInsertText(I,b){if(0===b.length)return;const S=(0,s.uq)(b);if(1===S.length)return void this._setLineText(I.lineNumber-1,this._lines[I.lineNumber-1].substring(0,I.column-1)+S[0]+this._lines[I.lineNumber-1].substring(I.column-1));S[S.length-1]+=this._lines[I.lineNumber-1].substring(I.column-1),this._setLineText(I.lineNumber-1,this._lines[I.lineNumber-1].substring(0,I.column-1)+S[0]);const D=new Uint32Array(S.length-1);for(let _=1;_<S.length;_++)this._lines.splice(I.lineNumber+_-1,0,S[_]),D[_-1]=S[_].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(I.lineNumber,D)}}},3204:(yt,T,e)=>{"use strict";e.d(T,{Ck:()=>C,oQ:()=>l});var s=e(14940),t=e(4193);class l{constructor(b){this.values=b,this.prefixSum=new Uint32Array(b.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(b,S){b=(0,t.A)(b);const D=this.values,_=this.prefixSum,r=S.length;return 0!==r&&(this.values=new Uint32Array(D.length+r),this.values.set(D.subarray(0,b),0),this.values.set(D.subarray(b),b+r),this.values.set(S,b),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(b,S){return b=(0,t.A)(b),S=(0,t.A)(S),this.values[b]!==S&&(this.values[b]=S,b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),!0)}removeValues(b,S){b=(0,t.A)(b),S=(0,t.A)(S);const D=this.values,_=this.prefixSum;if(b>=D.length)return!1;const r=D.length-b;return S>=r&&(S=r),0!==S&&(this.values=new Uint32Array(D.length-S),this.values.set(D.subarray(0,b),0),this.values.set(D.subarray(b+S),b),this.prefixSum=new Uint32Array(this.values.length),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(b){return b<0?0:(b=(0,t.A)(b),this._getPrefixSum(b))}_getPrefixSum(b){if(b<=this.prefixSumValidIndex[0])return this.prefixSum[b];let S=this.prefixSumValidIndex[0]+1;0===S&&(this.prefixSum[0]=this.values[0],S++),b>=this.values.length&&(b=this.values.length-1);for(let D=S;D<=b;D++)this.prefixSum[D]=this.prefixSum[D-1]+this.values[D];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],b),this.prefixSum[b]}getIndexOf(b){b=Math.floor(b),this.getTotalSum();let S=0,D=this.values.length-1,_=0,r=0,a=0;for(;S<=D;)if(_=S+(D-S)/2|0,r=this.prefixSum[_],a=r-this.values[_],b<a)D=_-1;else{if(!(b>=r))break;S=_+1}return new f(_,b-a)}}class C{constructor(b){this._values=b,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(b){return this._ensureValid(),0===b?0:this._prefixSum[b-1]}getIndexOf(b){this._ensureValid();const S=this._indexBySum[b];return new f(S,b-(S>0?this._prefixSum[S-1]:0))}removeValues(b,S){this._values.splice(b,S),this._invalidate(b)}insertValues(b,S){this._values=(0,s.Zv)(this._values,b,S),this._invalidate(b)}_invalidate(b){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,b-1)}_ensureValid(){if(!this._isValid){for(let b=this._validEndIndex+1,S=this._values.length;b<S;b++){const D=this._values[b],_=b>0?this._prefixSum[b-1]:0;this._prefixSum[b]=_+D;for(let r=0;r<D;r++)this._indexBySum[_+r]=b}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(b,S){this._values[b]!==S&&(this._values[b]=S,this._invalidate(b))}}class f{constructor(b,S){this.index=b,this.remainder=S,this._prefixSumIndexOfResultBrand=void 0,this.index=b,this.remainder=S}}},53727:(yt,T,e)=>{"use strict";e.d(T,{HS:()=>_t,qx:()=>vn,yO:()=>Dn});var s=e(14940),t=e(84968),l=e(3219),C=e(31864),f=e(21576),I=e(77697),b=e(56740),S=e(48661),D=e(2646),_=e(13902),r=e(88154),a=e(58745),u=e(92164),n=e(12375),d=e(15333),y=e(59129);class g{constructor(F,ee,_e,Qe){this.range=F,this.nestingLevel=ee,this.nestingLevelOfEqualBracketType=_e,this.isInvalid=Qe}}class v{constructor(F,ee,_e,Qe,qe,ct){this.range=F,this.openingBracketRange=ee,this.closingBracketRange=_e,this.nestingLevel=Qe,this.nestingLevelOfEqualBracketType=qe,this.bracketPairNode=ct}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class m extends v{constructor(F,ee,_e,Qe,qe,ct,rn){super(F,ee,_e,Qe,qe,ct),this.minVisibleColumnIndentation=rn}}var w=e(86004),E=e(88434),L=e(31154),x=e(824),A=e(76605),k=e(49316);class W extends f.JT{constructor(F,ee){if(super(),this.textModel=F,this.getLanguageConfiguration=ee,this.didChangeEmitter=new C.Q5,this.denseKeyProvider=new A.FE,this.brackets=new E.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===F.tokenization.backgroundTokenizationState){const _e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Qe=new k.g(this.textModel.getValue(),_e);this.initialAstWithoutTokens=(0,x.w)(Qe,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===F.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===F.tokenization.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(F){return this.brackets.didLanguageChange(F)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const F=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,F||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:F}){const ee=F.map(_e=>new w.Q((0,L.Hg)(_e.fromLineNumber-1,0),(0,L.Hg)(_e.toLineNumber,0),(0,L.Hg)(_e.toLineNumber-_e.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(ee,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(F){const ee=F.changes.map(_e=>{const Qe=r.e.lift(_e.range);return new w.Q((0,L.PZ)(Qe.getStartPosition()),(0,L.PZ)(Qe.getEndPosition()),(0,L.oR)(_e.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(ee,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(ee,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(F,ee,_e){const qe=ee,ct=new k.xH(this.textModel,this.brackets);return(0,x.w)(ct,F,qe,_e)}getBracketsInRange(F){const ee=(0,L.Hg)(F.startLineNumber-1,F.startColumn-1),_e=(0,L.Hg)(F.endLineNumber-1,F.endColumn-1),Qe=new Array,qe=this.initialAstWithoutTokens||this.astWithTokens;return N(qe,L.xl,qe.length,ee,_e,Qe,0,new Map),Qe}getBracketPairsInRange(F,ee){const _e=new Array,Qe=(0,L.PZ)(F.getStartPosition()),qe=(0,L.PZ)(F.getEndPosition()),ct=this.initialAstWithoutTokens||this.astWithTokens,rn=new O(_e,ee,this.textModel);return K(ct,L.xl,ct.length,Qe,qe,rn,0,new Map),_e}getFirstBracketAfter(F){const ee=this.initialAstWithoutTokens||this.astWithTokens;return z(ee,L.xl,ee.length,(0,L.PZ)(F))}getFirstBracketBefore(F){const ee=this.initialAstWithoutTokens||this.astWithTokens;return H(ee,L.xl,ee.length,(0,L.PZ)(F))}}function H(Ut,F,ee,_e){if(4===Ut.kind||2===Ut.kind){const Qe=[];for(const qe of Ut.children)ee=(0,L.Ii)(F,qe.length),Qe.push({nodeOffsetStart:F,nodeOffsetEnd:ee}),F=ee;for(let qe=Qe.length-1;qe>=0;qe--){const{nodeOffsetStart:ct,nodeOffsetEnd:rn}=Qe[qe];if((0,L.VR)(ct,_e)){const Gt=H(Ut.children[qe],ct,rn,_e);if(Gt)return Gt}}return null}if(3===Ut.kind)return null;if(1===Ut.kind){const Qe=(0,L.Qw)(F,ee);return{bracketInfo:Ut.bracketInfo,range:Qe}}return null}function z(Ut,F,ee,_e){if(4===Ut.kind||2===Ut.kind){for(const Qe of Ut.children){if(ee=(0,L.Ii)(F,Qe.length),(0,L.VR)(_e,ee)){const qe=z(Qe,F,ee,_e);if(qe)return qe}F=ee}return null}if(3===Ut.kind)return null;if(1===Ut.kind){const Qe=(0,L.Qw)(F,ee);return{bracketInfo:Ut.bracketInfo,range:Qe}}return null}function N(Ut,F,ee,_e,Qe,qe,ct,rn){if(!(ct>200))if(4===Ut.kind)for(const Gt of Ut.children)ee=(0,L.Ii)(F,Gt.length),(0,L.By)(F,Qe)&&(0,L.Zq)(ee,_e)&&N(Gt,F,ee,_e,Qe,qe,ct,rn),F=ee;else if(2===Ut.kind){let Gt=0;if(rn){let wn=rn.get(Ut.openingBracket.text);void 0===wn&&(wn=0),Gt=wn,wn++,rn.set(Ut.openingBracket.text,wn)}if(ee=(0,L.Ii)(F,Ut.openingBracket.length),(0,L.By)(F,Qe)&&(0,L.Zq)(ee,_e)){const En=(0,L.Qw)(F,ee);qe.push(new g(En,ct,Gt,!Ut.closingBracket))}if(F=ee,Ut.child){const wn=Ut.child;ee=(0,L.Ii)(F,wn.length),(0,L.By)(F,Qe)&&(0,L.Zq)(ee,_e)&&N(wn,F,ee,_e,Qe,qe,ct+1,rn),F=ee}if(Ut.closingBracket){if(ee=(0,L.Ii)(F,Ut.closingBracket.length),(0,L.By)(F,Qe)&&(0,L.Zq)(ee,_e)){const En=(0,L.Qw)(F,ee);qe.push(new g(En,ct,Gt,!1))}F=ee}rn?.set(Ut.openingBracket.text,Gt)}else if(3===Ut.kind){const Gt=(0,L.Qw)(F,ee);qe.push(new g(Gt,ct-1,0,!0))}else if(1===Ut.kind){const Gt=(0,L.Qw)(F,ee);qe.push(new g(Gt,ct-1,0,!1))}}class O{constructor(F,ee,_e){this.result=F,this.includeMinIndentation=ee,this.textModel=_e}}function K(Ut,F,ee,_e,Qe,qe,ct,rn){var Gt;if(!(ct>200))if(2===Ut.kind){let wn=0;if(rn){let Wn=rn.get(Ut.openingBracket.text);void 0===Wn&&(Wn=0),wn=Wn,Wn++,rn.set(Ut.openingBracket.text,Wn)}const En=(0,L.Ii)(F,Ut.openingBracket.length);let xn=-1;if(qe.includeMinIndentation&&(xn=Ut.computeMinIndentation(F,qe.textModel)),qe.result.push(new m((0,L.Qw)(F,ee),(0,L.Qw)(F,En),Ut.closingBracket?(0,L.Qw)((0,L.Ii)(En,(null===(Gt=Ut.child)||void 0===Gt?void 0:Gt.length)||L.xl),ee):void 0,ct,wn,Ut,xn)),F=En,Ut.child){const Wn=Ut.child;ee=(0,L.Ii)(F,Wn.length),(0,L.By)(F,Qe)&&(0,L.Zq)(ee,_e)&&K(Wn,F,ee,_e,Qe,qe,ct+1,rn)}rn?.set(Ut.openingBracket.text,wn)}else{let wn=F;for(const En of Ut.children){const xn=wn;wn=(0,L.Ii)(wn,En.length),(0,L.By)(xn,Qe)&&(0,L.By)(_e,wn)&&K(En,xn,wn,_e,Qe,qe,ct,rn)}}}var $=e(4720),j=e(12939);class q extends f.JT{constructor(F,ee){super(),this.textModel=F,this.languageConfigurationService=ee,this.bracketPairsTree=this._register(new f.XK),this.onDidChangeEmitter=new C.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(_e=>{var Qe;(!_e.languageId||null!==(Qe=this.bracketPairsTree.value)&&void 0!==Qe&&Qe.object.didLanguageChange(_e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(F){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(F){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(F){var ee;null===(ee=this.bracketPairsTree.value)||void 0===ee||ee.object.handleContentChanged(F)}handleDidChangeBackgroundTokenizationState(){var F;null===(F=this.bracketPairsTree.value)||void 0===F||F.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(F){var ee;null===(ee=this.bracketPairsTree.value)||void 0===ee||ee.object.handleDidChangeTokens(F)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const F=new f.SL;this.bracketPairsTree.value=function R(Ut,F){return{object:Ut,dispose:()=>F?.dispose()}}(F.add(new W(this.textModel,ee=>this.languageConfigurationService.getLanguageConfiguration(ee))),F),F.add(this.bracketPairsTree.value.object.onDidChange(ee=>this.onDidChangeEmitter.fire(ee))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(F){var ee;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(ee=this.bracketPairsTree.value)||void 0===ee?void 0:ee.object.getBracketPairsInRange(F,!1))||[]}getBracketPairsInRangeWithMinIndentation(F){var ee;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(ee=this.bracketPairsTree.value)||void 0===ee?void 0:ee.object.getBracketPairsInRange(F,!0))||[]}getBracketsInRange(F){var ee;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(ee=this.bracketPairsTree.value)||void 0===ee?void 0:ee.object.getBracketsInRange(F))||[]}findMatchingBracketUp(F,ee,_e){const Qe=this.textModel.validatePosition(ee),qe=this.textModel.getLanguageIdAtPosition(Qe.lineNumber,Qe.column);if(this.canBuildAST){const ct=this.languageConfigurationService.getLanguageConfiguration(qe).bracketsNew.getClosingBracketInfo(F);if(!ct)return null;const rn=(0,s.dF)(this.getBracketPairsInRange(r.e.fromPositions(ee,ee))||[],Gt=>ct.closes(Gt.openingBracketInfo));return rn?rn.openingBracketRange:null}{const ct=F.toLowerCase(),rn=this.languageConfigurationService.getLanguageConfiguration(qe).brackets;if(!rn)return null;const Gt=rn.textIsBracket[ct];return Gt?Ce(this._findMatchingBracketUp(Gt,Qe,Z(_e))):null}}matchBracket(F,ee){if(this.canBuildAST){const _e=(0,s.jV)(this.getBracketPairsInRange(r.e.fromPositions(F,F)).filter(Qe=>void 0!==Qe.closingBracketRange&&(Qe.openingBracketRange.containsPosition(F)||Qe.closingBracketRange.containsPosition(F))),(0,s.tT)(Qe=>Qe.openingBracketRange.containsPosition(F)?Qe.openingBracketRange:Qe.closingBracketRange,r.e.compareRangesUsingStarts));return _e?[_e.openingBracketRange,_e.closingBracketRange]:null}{const _e=Z(ee);return this._matchBracket(this.textModel.validatePosition(F),_e)}}_establishBracketSearchOffsets(F,ee,_e,Qe){const qe=ee.getCount(),ct=ee.getLanguageId(Qe);let rn=Math.max(0,F.column-1-_e.maxBracketLength);for(let wn=Qe-1;wn>=0;wn--){const En=ee.getEndOffset(wn);if(En<=rn)break;if((0,$.Bu)(ee.getStandardTokenType(wn))||ee.getLanguageId(wn)!==ct){rn=En;break}}let Gt=Math.min(ee.getLineContent().length,F.column-1+_e.maxBracketLength);for(let wn=Qe+1;wn<qe;wn++){const En=ee.getStartOffset(wn);if(En>=Gt)break;if((0,$.Bu)(ee.getStandardTokenType(wn))||ee.getLanguageId(wn)!==ct){Gt=En;break}}return{searchStartOffset:rn,searchEndOffset:Gt}}_matchBracket(F,ee){const _e=F.lineNumber,Qe=this.textModel.tokenization.getLineTokens(_e),qe=this.textModel.getLineContent(_e),ct=Qe.findTokenIndexAtOffset(F.column-1);if(ct<0)return null;const rn=this.languageConfigurationService.getLanguageConfiguration(Qe.getLanguageId(ct)).brackets;if(rn&&!(0,$.Bu)(Qe.getStandardTokenType(ct))){let{searchStartOffset:Gt,searchEndOffset:wn}=this._establishBracketSearchOffsets(F,Qe,rn,ct),En=null;for(;;){const xn=j.Vr.findNextBracketInRange(rn.forwardRegex,_e,qe,Gt,wn);if(!xn)break;if(xn.startColumn<=F.column&&F.column<=xn.endColumn){const Wn=qe.substring(xn.startColumn-1,xn.endColumn-1).toLowerCase(),Xn=this._matchFoundBracket(xn,rn.textIsBracket[Wn],rn.textIsOpenBracket[Wn],ee);if(Xn){if(Xn instanceof J)return null;En=Xn}}Gt=xn.endColumn-1}if(En)return En}if(ct>0&&Qe.getStartOffset(ct)===F.column-1){const Gt=ct-1,wn=this.languageConfigurationService.getLanguageConfiguration(Qe.getLanguageId(Gt)).brackets;if(wn&&!(0,$.Bu)(Qe.getStandardTokenType(Gt))){const{searchStartOffset:En,searchEndOffset:xn}=this._establishBracketSearchOffsets(F,Qe,wn,Gt),Wn=j.Vr.findPrevBracketInRange(wn.reversedRegex,_e,qe,En,xn);if(Wn&&Wn.startColumn<=F.column&&F.column<=Wn.endColumn){const Xn=qe.substring(Wn.startColumn-1,Wn.endColumn-1).toLowerCase(),si=this._matchFoundBracket(Wn,wn.textIsBracket[Xn],wn.textIsOpenBracket[Xn],ee);if(si)return si instanceof J?null:si}}}return null}_matchFoundBracket(F,ee,_e,Qe){if(!ee)return null;const qe=_e?this._findMatchingBracketDown(ee,F.getEndPosition(),Qe):this._findMatchingBracketUp(ee,F.getStartPosition(),Qe);return qe?qe instanceof J?qe:[F,qe]:null}_findMatchingBracketUp(F,ee,_e){const Qe=F.languageId,qe=F.reversedRegex;let ct=-1,rn=0;const Gt=(wn,En,xn,Wn)=>{for(;;){if(_e&&++rn%100==0&&!_e())return J.INSTANCE;const Xn=j.Vr.findPrevBracketInRange(qe,wn,En,xn,Wn);if(!Xn)break;const si=En.substring(Xn.startColumn-1,Xn.endColumn-1).toLowerCase();if(F.isOpen(si)?ct++:F.isClose(si)&&ct--,0===ct)return Xn;Wn=Xn.startColumn-1}return null};for(let wn=ee.lineNumber;wn>=1;wn--){const En=this.textModel.tokenization.getLineTokens(wn),xn=En.getCount(),Wn=this.textModel.getLineContent(wn);let Xn=xn-1,si=Wn.length,ci=Wn.length;wn===ee.lineNumber&&(Xn=En.findTokenIndexAtOffset(ee.column-1),si=ee.column-1,ci=ee.column-1);let Ci=!0;for(;Xn>=0;Xn--){const Li=En.getLanguageId(Xn)===Qe&&!(0,$.Bu)(En.getStandardTokenType(Xn));if(Li)Ci?si=En.getStartOffset(Xn):(si=En.getStartOffset(Xn),ci=En.getEndOffset(Xn));else if(Ci&&si!==ci){const Ji=Gt(wn,Wn,si,ci);if(Ji)return Ji}Ci=Li}if(Ci&&si!==ci){const Li=Gt(wn,Wn,si,ci);if(Li)return Li}}return null}_findMatchingBracketDown(F,ee,_e){const Qe=F.languageId,qe=F.forwardRegex;let ct=1,rn=0;const Gt=(En,xn,Wn,Xn)=>{for(;;){if(_e&&++rn%100==0&&!_e())return J.INSTANCE;const si=j.Vr.findNextBracketInRange(qe,En,xn,Wn,Xn);if(!si)break;const ci=xn.substring(si.startColumn-1,si.endColumn-1).toLowerCase();if(F.isOpen(ci)?ct++:F.isClose(ci)&&ct--,0===ct)return si;Wn=si.endColumn-1}return null},wn=this.textModel.getLineCount();for(let En=ee.lineNumber;En<=wn;En++){const xn=this.textModel.tokenization.getLineTokens(En),Wn=xn.getCount(),Xn=this.textModel.getLineContent(En);let si=0,ci=0,Ci=0;En===ee.lineNumber&&(si=xn.findTokenIndexAtOffset(ee.column-1),ci=ee.column-1,Ci=ee.column-1);let Li=!0;for(;si<Wn;si++){const Ji=xn.getLanguageId(si)===Qe&&!(0,$.Bu)(xn.getStandardTokenType(si));if(Ji)Li||(ci=xn.getStartOffset(si)),Ci=xn.getEndOffset(si);else if(Li&&ci!==Ci){const uo=Gt(En,Xn,ci,Ci);if(uo)return uo}Li=Ji}if(Li&&ci!==Ci){const Ji=Gt(En,Xn,ci,Ci);if(Ji)return Ji}}return null}findPrevBracket(F){var ee;const _e=this.textModel.validatePosition(F);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(ee=this.bracketPairsTree.value)||void 0===ee?void 0:ee.object.getFirstBracketBefore(_e))||null;let Qe=null,qe=null,ct=null;for(let rn=_e.lineNumber;rn>=1;rn--){const Gt=this.textModel.tokenization.getLineTokens(rn),wn=Gt.getCount(),En=this.textModel.getLineContent(rn);let xn=wn-1,Wn=En.length,Xn=En.length;if(rn===_e.lineNumber){xn=Gt.findTokenIndexAtOffset(_e.column-1),Wn=_e.column-1,Xn=_e.column-1;const ci=Gt.getLanguageId(xn);Qe!==ci&&(Qe=ci,qe=this.languageConfigurationService.getLanguageConfiguration(Qe).brackets,ct=this.languageConfigurationService.getLanguageConfiguration(Qe).bracketsNew)}let si=!0;for(;xn>=0;xn--){const ci=Gt.getLanguageId(xn);if(Qe!==ci){if(qe&&ct&&si&&Wn!==Xn){const Li=j.Vr.findPrevBracketInRange(qe.reversedRegex,rn,En,Wn,Xn);if(Li)return this._toFoundBracket(ct,Li);si=!1}Qe=ci,qe=this.languageConfigurationService.getLanguageConfiguration(Qe).brackets,ct=this.languageConfigurationService.getLanguageConfiguration(Qe).bracketsNew}const Ci=!!qe&&!(0,$.Bu)(Gt.getStandardTokenType(xn));if(Ci)si?Wn=Gt.getStartOffset(xn):(Wn=Gt.getStartOffset(xn),Xn=Gt.getEndOffset(xn));else if(ct&&qe&&si&&Wn!==Xn){const Li=j.Vr.findPrevBracketInRange(qe.reversedRegex,rn,En,Wn,Xn);if(Li)return this._toFoundBracket(ct,Li)}si=Ci}if(ct&&qe&&si&&Wn!==Xn){const ci=j.Vr.findPrevBracketInRange(qe.reversedRegex,rn,En,Wn,Xn);if(ci)return this._toFoundBracket(ct,ci)}}return null}findNextBracket(F){var ee;const _e=this.textModel.validatePosition(F);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(ee=this.bracketPairsTree.value)||void 0===ee?void 0:ee.object.getFirstBracketAfter(_e))||null;const Qe=this.textModel.getLineCount();let qe=null,ct=null,rn=null;for(let Gt=_e.lineNumber;Gt<=Qe;Gt++){const wn=this.textModel.tokenization.getLineTokens(Gt),En=wn.getCount(),xn=this.textModel.getLineContent(Gt);let Wn=0,Xn=0,si=0;if(Gt===_e.lineNumber){Wn=wn.findTokenIndexAtOffset(_e.column-1),Xn=_e.column-1,si=_e.column-1;const Ci=wn.getLanguageId(Wn);qe!==Ci&&(qe=Ci,ct=this.languageConfigurationService.getLanguageConfiguration(qe).brackets,rn=this.languageConfigurationService.getLanguageConfiguration(qe).bracketsNew)}let ci=!0;for(;Wn<En;Wn++){const Ci=wn.getLanguageId(Wn);if(qe!==Ci){if(rn&&ct&&ci&&Xn!==si){const Ji=j.Vr.findNextBracketInRange(ct.forwardRegex,Gt,xn,Xn,si);if(Ji)return this._toFoundBracket(rn,Ji);ci=!1}qe=Ci,ct=this.languageConfigurationService.getLanguageConfiguration(qe).brackets,rn=this.languageConfigurationService.getLanguageConfiguration(qe).bracketsNew}const Li=!!ct&&!(0,$.Bu)(wn.getStandardTokenType(Wn));if(Li)ci||(Xn=wn.getStartOffset(Wn)),si=wn.getEndOffset(Wn);else if(rn&&ct&&ci&&Xn!==si){const Ji=j.Vr.findNextBracketInRange(ct.forwardRegex,Gt,xn,Xn,si);if(Ji)return this._toFoundBracket(rn,Ji)}ci=Li}if(rn&&ct&&ci&&Xn!==si){const Ci=j.Vr.findNextBracketInRange(ct.forwardRegex,Gt,xn,Xn,si);if(Ci)return this._toFoundBracket(rn,Ci)}}return null}findEnclosingBrackets(F,ee){const _e=this.textModel.validatePosition(F);if(this.canBuildAST){const Xn=r.e.fromPositions(_e),si=(0,s.dF)(this.getBracketPairsInRange(r.e.fromPositions(_e,_e)),ci=>void 0!==ci.closingBracketRange&&ci.range.strictContainsRange(Xn));return si?[si.openingBracketRange,si.closingBracketRange]:null}const Qe=Z(ee),qe=this.textModel.getLineCount(),ct=new Map;let rn=[];const Gt=(Xn,si)=>{if(!ct.has(Xn)){const ci=[];for(let Ci=0,Li=si?si.brackets.length:0;Ci<Li;Ci++)ci[Ci]=0;ct.set(Xn,ci)}rn=ct.get(Xn)};let wn=0;const En=(Xn,si,ci,Ci,Li)=>{for(;;){if(Qe&&++wn%100==0&&!Qe())return J.INSTANCE;const Ji=j.Vr.findNextBracketInRange(Xn.forwardRegex,si,ci,Ci,Li);if(!Ji)break;const uo=ci.substring(Ji.startColumn-1,Ji.endColumn-1).toLowerCase(),ho=Xn.textIsBracket[uo];if(ho&&(ho.isOpen(uo)?rn[ho.index]++:ho.isClose(uo)&&rn[ho.index]--,-1===rn[ho.index]))return this._matchFoundBracket(Ji,ho,!1,Qe);Ci=Ji.endColumn-1}return null};let xn=null,Wn=null;for(let Xn=_e.lineNumber;Xn<=qe;Xn++){const si=this.textModel.tokenization.getLineTokens(Xn),ci=si.getCount(),Ci=this.textModel.getLineContent(Xn);let Li=0,Ji=0,uo=0;if(Xn===_e.lineNumber){Li=si.findTokenIndexAtOffset(_e.column-1),Ji=_e.column-1,uo=_e.column-1;const Ui=si.getLanguageId(Li);xn!==Ui&&(xn=Ui,Wn=this.languageConfigurationService.getLanguageConfiguration(xn).brackets,Gt(xn,Wn))}let ho=!0;for(;Li<ci;Li++){const Ui=si.getLanguageId(Li);if(xn!==Ui){if(Wn&&ho&&Ji!==uo){const ue=En(Wn,Xn,Ci,Ji,uo);if(ue)return Ce(ue);ho=!1}xn=Ui,Wn=this.languageConfigurationService.getLanguageConfiguration(xn).brackets,Gt(xn,Wn)}const Mn=!!Wn&&!(0,$.Bu)(si.getStandardTokenType(Li));if(Mn)ho||(Ji=si.getStartOffset(Li)),uo=si.getEndOffset(Li);else if(Wn&&ho&&Ji!==uo){const ue=En(Wn,Xn,Ci,Ji,uo);if(ue)return Ce(ue)}ho=Mn}if(Wn&&ho&&Ji!==uo){const Ui=En(Wn,Xn,Ci,Ji,uo);if(Ui)return Ce(Ui)}}return null}_toFoundBracket(F,ee){if(!ee)return null;let _e=this.textModel.getValueInRange(ee);_e=_e.toLowerCase();const Qe=F.getBracketInfo(_e);return Qe?{range:ee,bracketInfo:Qe}:null}}function Z(Ut){if(typeof Ut>"u")return()=>!0;{const F=Date.now();return()=>Date.now()-F<=Ut}}class J{constructor(){this._searchCanceledBrand=void 0}}function Ce(Ut){return Ut instanceof J?null:Ut}J.INSTANCE=new J;var Se=e(99327),Ie=e(14089);class xe extends f.JT{constructor(F){super(),this.textModel=F,this.colorProvider=new Me,this.onDidChangeEmitter=new C.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=F.getOptions().bracketPairColorizationOptions,this._register(F.bracketPairs.onDidChange(ee=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(F){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(F,ee,_e){if(void 0===ee)return[];if(!this.colorizationOptions.enabled)return[];const Qe=new Array,qe=this.textModel.bracketPairs.getBracketsInRange(F);for(const ct of qe)Qe.push({id:`bracket${ct.range.toString()}-${ct.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(ct,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:ct.range});return Qe}getAllDecorations(F,ee){return void 0===F?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new r.e(1,1,this.textModel.getLineCount(),1),F,ee):[]}}class Me{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(F,ee){return F.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(ee?F.nestingLevelOfEqualBracketType:F.nestingLevel)}getInlineClassNameOfLevel(F){return"bracket-highlighting-"+F%30}}(0,Ie.Ic)((Ut,F)=>{const ee=[Se.zJ,Se.Vs,Se.CE,Se.UP,Se.r0,Se.m1],_e=new Me;F.addRule(`.monaco-editor .${_e.unexpectedClosingBracketClassName} { color: ${Ut.getColor(Se.ts)}; }`);const Qe=ee.map(qe=>Ut.getColor(qe)).filter(qe=>!!qe).filter(qe=>!qe.isTransparent());for(let qe=0;qe<30;qe++){const ct=Qe[qe%Qe.length];F.addRule(`.monaco-editor .${_e.getInlineClassNameOfLevel(qe)} { color: ${ct}; }`)}});var Oe=e(34062),se=e(38377);class ce{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Ee(Ut,F,ee,_e,Qe){let qe;for(Qe.spacesDiff=0,Qe.looksLikeAlignment=!1,qe=0;qe<F&&qe<_e&&Ut.charCodeAt(qe)===ee.charCodeAt(qe);qe++);let ct=0,rn=0;for(let Wn=qe;Wn<F;Wn++)32===Ut.charCodeAt(Wn)?ct++:rn++;let Gt=0,wn=0;for(let Wn=qe;Wn<_e;Wn++)32===ee.charCodeAt(Wn)?Gt++:wn++;if(ct>0&&rn>0||Gt>0&&wn>0)return;const En=Math.abs(rn-wn),xn=Math.abs(ct-Gt);if(0===En)return Qe.spacesDiff=xn,void(xn>0&&0<=Gt-1&&Gt-1<Ut.length&&Gt<ee.length&&32!==ee.charCodeAt(Gt)&&32===Ut.charCodeAt(Gt-1)&&44===Ut.charCodeAt(Ut.length-1)&&(Qe.looksLikeAlignment=!0));xn%En!=0||(Qe.spacesDiff=xn/En)}function me(Ut,F,ee){const _e=Math.min(Ut.getLineCount(),1e4);let Qe=0,qe=0,ct="",rn=0;const Gt=[2,4,6,8,3,5,7],En=[0,0,0,0,0,0,0,0,0],xn=new ce;for(let si=1;si<=_e;si++){const ci=Ut.getLineLength(si),Ci=Ut.getLineContent(si),Li=ci<=65536;let Ji=!1,uo=0,ho=0,Ui=0;for(let ue=0,Ge=ci;ue<Ge;ue++){const Re=Li?Ci.charCodeAt(ue):Ut.getLineCharCode(si,ue);if(9===Re)Ui++;else{if(32!==Re){Ji=!0,uo=ue;break}ho++}}if(!Ji||(Ui>0?Qe++:ho>1&&qe++,Ee(ct,rn,Ci,uo,xn),xn.looksLikeAlignment&&(!ee||F!==xn.spacesDiff)))continue;const Mn=xn.spacesDiff;Mn<=8&&En[Mn]++,ct=Ci,rn=uo}let Wn=ee;Qe!==qe&&(Wn=Qe<qe);let Xn=F;if(Wn){let si=Wn?0:.1*_e;Gt.forEach(ci=>{const Ci=En[ci];Ci>si&&(si=Ci,Xn=ci)}),4===Xn&&En[4]>0&&En[2]>0&&En[2]>=En[4]/2&&(Xn=2)}return{insertSpaces:Wn,tabSize:Xn}}function Pe(Ut){return(1&Ut.metadata)>>>0}function he(Ut,F){Ut.metadata=254&Ut.metadata|F<<0}function Fe(Ut){return(2&Ut.metadata)>>>1==1}function Ze(Ut,F){Ut.metadata=253&Ut.metadata|(F?1:0)<<1}function ze(Ut){return(4&Ut.metadata)>>>2==1}function fe(Ut,F){Ut.metadata=251&Ut.metadata|(F?1:0)<<2}function Je(Ut,F){Ut.metadata=231&Ut.metadata|F<<3}function Et(Ut,F){Ut.metadata=223&Ut.metadata|(F?1:0)<<5}class Xe{constructor(F,ee,_e){this.metadata=0,this.parent=this,this.left=this,this.right=this,he(this,1),this.start=ee,this.end=_e,this.delta=0,this.maxEnd=_e,this.id=F,this.ownerId=0,this.options=null,fe(this,!1),Je(this,1),Et(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=ee,this.cachedAbsoluteEnd=_e,this.range=null,Ze(this,!1)}reset(F,ee,_e,Qe){this.start=ee,this.end=_e,this.maxEnd=_e,this.cachedVersionId=F,this.cachedAbsoluteStart=ee,this.cachedAbsoluteEnd=_e,this.range=Qe}setOptions(F){this.options=F;const ee=this.options.className;fe(this,"squiggly-error"===ee||"squiggly-warning"===ee||"squiggly-info"===ee),Je(this,this.options.stickiness),Et(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(F,ee,_e){this.cachedVersionId!==_e&&(this.range=null),this.cachedVersionId=_e,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=ee}detach(){this.parent=null,this.left=null,this.right=null}}const re=new Xe(null,0,0);re.parent=re,re.left=re,re.right=re,he(re,0);class pe{constructor(){this.root=re,this.requestNormalizeDelta=!1}intervalSearch(F,ee,_e,Qe,qe){return this.root===re?[]:function et(Ut,F,ee,_e,Qe,qe){let ct=Ut.root,rn=0,Gt=0,wn=0,En=0;const xn=[];let Wn=0;for(;ct!==re;)if(Fe(ct))Ze(ct.left,!1),Ze(ct.right,!1),ct===ct.parent.right&&(rn-=ct.parent.delta),ct=ct.parent;else{if(!Fe(ct.left)){if(Gt=rn+ct.maxEnd,Gt<F){Ze(ct,!0);continue}if(ct.left!==re){ct=ct.left;continue}}if(wn=rn+ct.start,wn>ee)Ze(ct,!0);else{if(En=rn+ct.end,En>=F){ct.setCachedOffsets(wn,En,qe);let Xn=!0;_e&&ct.ownerId&&ct.ownerId!==_e&&(Xn=!1),Qe&&ze(ct)&&(Xn=!1),Xn&&(xn[Wn++]=ct)}Ze(ct,!0),ct.right===re||Fe(ct.right)||(rn+=ct.delta,ct=ct.right)}}return Ze(Ut.root,!1),xn}(this,F,ee,_e,Qe,qe)}search(F,ee,_e){return this.root===re?[]:function it(Ut,F,ee,_e){let Qe=Ut.root,qe=0,ct=0,rn=0;const Gt=[];let wn=0;for(;Qe!==re;){if(Fe(Qe)){Ze(Qe.left,!1),Ze(Qe.right,!1),Qe===Qe.parent.right&&(qe-=Qe.parent.delta),Qe=Qe.parent;continue}if(Qe.left!==re&&!Fe(Qe.left)){Qe=Qe.left;continue}ct=qe+Qe.start,rn=qe+Qe.end,Qe.setCachedOffsets(ct,rn,_e);let En=!0;F&&Qe.ownerId&&Qe.ownerId!==F&&(En=!1),ee&&ze(Qe)&&(En=!1),En&&(Gt[wn++]=Qe),Ze(Qe,!0),Qe.right===re||Fe(Qe.right)||(qe+=Qe.delta,Qe=Qe.right)}return Ze(Ut.root,!1),Gt}(this,F,ee,_e)}collectNodesFromOwner(F){return function ft(Ut,F){let ee=Ut.root;const _e=[];let Qe=0;for(;ee!==re;)Fe(ee)?(Ze(ee.left,!1),Ze(ee.right,!1),ee=ee.parent):ee.left===re||Fe(ee.left)?(ee.ownerId===F&&(_e[Qe++]=ee),Ze(ee,!0),ee.right===re||Fe(ee.right)||(ee=ee.right)):ee=ee.left;return Ze(Ut.root,!1),_e}(this,F)}collectNodesPostOrder(){return function dt(Ut){let F=Ut.root;const ee=[];let _e=0;for(;F!==re;)Fe(F)?(Ze(F.left,!1),Ze(F.right,!1),F=F.parent):F.left===re||Fe(F.left)?F.right===re||Fe(F.right)?(ee[_e++]=F,Ze(F,!0)):F=F.right:F=F.left;return Ze(Ut.root,!1),ee}(this)}insert(F){st(this,F),this._normalizeDeltaIfNecessary()}delete(F){mt(this,F),this._normalizeDeltaIfNecessary()}resolveNode(F,ee){const _e=F;let Qe=0;for(;F!==this.root;)F===F.parent.right&&(Qe+=F.parent.delta),F=F.parent;_e.setCachedOffsets(_e.start+Qe,_e.end+Qe,ee)}acceptReplace(F,ee,_e,Qe){const qe=function ye(Ut,F,ee){let _e=Ut.root,Qe=0,qe=0,ct=0,rn=0;const Gt=[];let wn=0;for(;_e!==re;)if(Fe(_e))Ze(_e.left,!1),Ze(_e.right,!1),_e===_e.parent.right&&(Qe-=_e.parent.delta),_e=_e.parent;else{if(!Fe(_e.left)){if(qe=Qe+_e.maxEnd,qe<F){Ze(_e,!0);continue}if(_e.left!==re){_e=_e.left;continue}}ct=Qe+_e.start,ct>ee?Ze(_e,!0):(rn=Qe+_e.end,rn>=F&&(_e.setCachedOffsets(ct,rn,0),Gt[wn++]=_e),Ze(_e,!0),_e.right===re||Fe(_e.right)||(Qe+=_e.delta,_e=_e.right))}return Ze(Ut.root,!1),Gt}(this,F,F+ee);for(let ct=0,rn=qe.length;ct<rn;ct++)mt(this,qe[ct]);this._normalizeDeltaIfNecessary(),function Ae(Ut,F,ee,_e){let Qe=Ut.root,qe=0,ct=0,rn=0;const Gt=_e-(ee-F);for(;Qe!==re;)if(Fe(Qe))Ze(Qe.left,!1),Ze(Qe.right,!1),Qe===Qe.parent.right&&(qe-=Qe.parent.delta),qt(Qe),Qe=Qe.parent;else{if(!Fe(Qe.left)){if(ct=qe+Qe.maxEnd,ct<F){Ze(Qe,!0);continue}if(Qe.left!==re){Qe=Qe.left;continue}}rn=qe+Qe.start,rn>ee?(Qe.start+=Gt,Qe.end+=Gt,Qe.delta+=Gt,(Qe.delta<-1073741824||Qe.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),Ze(Qe,!0)):(Ze(Qe,!0),Qe.right===re||Fe(Qe.right)||(qe+=Qe.delta,Qe=Qe.right))}Ze(Ut.root,!1)}(this,F,F+ee,_e),this._normalizeDeltaIfNecessary();for(let ct=0,rn=qe.length;ct<rn;ct++){const Gt=qe[ct];Gt.start=Gt.cachedAbsoluteStart,Gt.end=Gt.cachedAbsoluteEnd,Q(Gt,F,F+ee,_e,Qe),Gt.maxEnd=Gt.end,st(this,Gt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function ge(Ut){let F=Ut.root,ee=0;for(;F!==re;)F.left===re||Fe(F.left)?F.right===re||Fe(F.right)?(F.start=ee+F.start,F.end=ee+F.end,F.delta=0,qt(F),Ze(F,!0),Ze(F.left,!1),Ze(F.right,!1),F===F.parent.right&&(ee-=F.parent.delta),F=F.parent):(ee+=F.delta,F=F.right):F=F.left;Ze(Ut.root,!1)}(this))}}function de(Ut,F,ee,_e){return Ut<ee||!(Ut>ee||1===_e)&&(2===_e||F)}function Q(Ut,F,ee,_e,Qe){const qe=function Ke(Ut){return(24&Ut.metadata)>>>3}(Ut),ct=0===qe||2===qe,rn=1===qe||2===qe,Gt=ee-F,wn=_e,En=Math.min(Gt,wn),xn=Ut.start;let Wn=!1;const Xn=Ut.end;let si=!1;F<=xn&&Xn<=ee&&function vt(Ut){return(32&Ut.metadata)>>>5==1}(Ut)&&(Ut.start=F,Wn=!0,Ut.end=F,si=!0);{const Ci=Qe?1:Gt>0?2:0;!Wn&&de(xn,ct,F,Ci)&&(Wn=!0),!si&&de(Xn,rn,F,Ci)&&(si=!0)}if(En>0&&!Qe){const Ci=Gt>wn?2:0;!Wn&&de(xn,ct,F+En,Ci)&&(Wn=!0),!si&&de(Xn,rn,F+En,Ci)&&(si=!0)}{const Ci=Qe?1:0;!Wn&&de(xn,ct,ee,Ci)&&(Ut.start=F+wn,Wn=!0),!si&&de(Xn,rn,ee,Ci)&&(Ut.end=F+wn,si=!0)}const ci=wn-Gt;Wn||(Ut.start=Math.max(0,xn+ci)),si||(Ut.end=Math.max(0,Xn+ci)),Ut.start>Ut.end&&(Ut.end=Ut.start)}function st(Ut,F){if(Ut.root===re)return F.parent=re,F.left=re,F.right=re,he(F,0),Ut.root=F,Ut.root;(function St(Ut,F){let ee=0,_e=Ut.root;const Qe=F.start,qe=F.end;for(;;)if(Ft(Qe,qe,_e.start+ee,_e.end+ee)<0){if(_e.left===re){F.start-=ee,F.end-=ee,F.maxEnd-=ee,_e.left=F;break}_e=_e.left}else{if(_e.right===re){F.start-=ee+_e.delta,F.end-=ee+_e.delta,F.maxEnd-=ee+_e.delta,_e.right=F;break}ee+=_e.delta,_e=_e.right}F.parent=_e,F.left=re,F.right=re,he(F,1)})(Ut,F),Ot(F.parent);let ee=F;for(;ee!==Ut.root&&1===Pe(ee.parent);)if(ee.parent===ee.parent.parent.left){const _e=ee.parent.parent.right;1===Pe(_e)?(he(ee.parent,0),he(_e,0),he(ee.parent.parent,1),ee=ee.parent.parent):(ee===ee.parent.right&&(ee=ee.parent,Lt(Ut,ee)),he(ee.parent,0),he(ee.parent.parent,1),Ye(Ut,ee.parent.parent))}else{const _e=ee.parent.parent.left;1===Pe(_e)?(he(ee.parent,0),he(_e,0),he(ee.parent.parent,1),ee=ee.parent.parent):(ee===ee.parent.left&&(ee=ee.parent,Ye(Ut,ee)),he(ee.parent,0),he(ee.parent.parent,1),Lt(Ut,ee.parent.parent))}return he(Ut.root,0),F}function mt(Ut,F){let ee,_e;if(F.left===re?(ee=F.right,_e=F,ee.delta+=F.delta,(ee.delta<-1073741824||ee.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),ee.start+=F.delta,ee.end+=F.delta):F.right===re?(ee=F.left,_e=F):(_e=function bt(Ut){for(;Ut.left!==re;)Ut=Ut.left;return Ut}(F.right),ee=_e.right,ee.start+=_e.delta,ee.end+=_e.delta,ee.delta+=_e.delta,(ee.delta<-1073741824||ee.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),_e.start+=F.delta,_e.end+=F.delta,_e.delta=F.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(Ut.requestNormalizeDelta=!0)),_e===Ut.root)return Ut.root=ee,he(ee,0),F.detach(),Bt(),qt(ee),void(Ut.root.parent=re);const Qe=1===Pe(_e);if(_e===_e.parent.left?_e.parent.left=ee:_e.parent.right=ee,_e===F?ee.parent=_e.parent:(ee.parent=_e.parent===F?_e:_e.parent,_e.left=F.left,_e.right=F.right,_e.parent=F.parent,he(_e,Pe(F)),F===Ut.root?Ut.root=_e:F===F.parent.left?F.parent.left=_e:F.parent.right=_e,_e.left!==re&&(_e.left.parent=_e),_e.right!==re&&(_e.right.parent=_e)),F.detach(),Qe)return Ot(ee.parent),_e!==F&&(Ot(_e),Ot(_e.parent)),void Bt();let qe;for(Ot(ee),Ot(ee.parent),_e!==F&&(Ot(_e),Ot(_e.parent));ee!==Ut.root&&0===Pe(ee);)ee===ee.parent.left?(qe=ee.parent.right,1===Pe(qe)&&(he(qe,0),he(ee.parent,1),Lt(Ut,ee.parent),qe=ee.parent.right),0===Pe(qe.left)&&0===Pe(qe.right)?(he(qe,1),ee=ee.parent):(0===Pe(qe.right)&&(he(qe.left,0),he(qe,1),Ye(Ut,qe),qe=ee.parent.right),he(qe,Pe(ee.parent)),he(ee.parent,0),he(qe.right,0),Lt(Ut,ee.parent),ee=Ut.root)):(qe=ee.parent.left,1===Pe(qe)&&(he(qe,0),he(ee.parent,1),Ye(Ut,ee.parent),qe=ee.parent.left),0===Pe(qe.left)&&0===Pe(qe.right)?(he(qe,1),ee=ee.parent):(0===Pe(qe.left)&&(he(qe.right,0),he(qe,1),Lt(Ut,qe),qe=ee.parent.left),he(qe,Pe(ee.parent)),he(ee.parent,0),he(qe.left,0),Ye(Ut,ee.parent),ee=Ut.root));he(ee,0),Bt()}function Bt(){re.parent=re,re.delta=0,re.start=0,re.end=0}function Lt(Ut,F){const ee=F.right;ee.delta+=F.delta,(ee.delta<-1073741824||ee.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),ee.start+=F.delta,ee.end+=F.delta,F.right=ee.left,ee.left!==re&&(ee.left.parent=F),ee.parent=F.parent,F.parent===re?Ut.root=ee:F===F.parent.left?F.parent.left=ee:F.parent.right=ee,ee.left=F,F.parent=ee,qt(F),qt(ee)}function Ye(Ut,F){const ee=F.left;F.delta-=ee.delta,(F.delta<-1073741824||F.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),F.start-=ee.delta,F.end-=ee.delta,F.left=ee.right,ee.right!==re&&(ee.right.parent=F),ee.parent=F.parent,F.parent===re?Ut.root=ee:F===F.parent.right?F.parent.right=ee:F.parent.left=ee,ee.right=F,F.parent=ee,qt(F),qt(ee)}function Tt(Ut){let F=Ut.end;if(Ut.left!==re){const ee=Ut.left.maxEnd;ee>F&&(F=ee)}if(Ut.right!==re){const ee=Ut.right.maxEnd+Ut.delta;ee>F&&(F=ee)}return F}function qt(Ut){Ut.maxEnd=Tt(Ut)}function Ot(Ut){for(;Ut!==re;){const F=Tt(Ut);if(Ut.maxEnd===F)return;Ut.maxEnd=F,Ut=Ut.parent}}function Ft(Ut,F,ee,_e){return Ut===ee?F-_e:Ut-ee}class rt{constructor(F,ee){this.piece=F,this.color=ee,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Le)return ie(this.right);let F=this;for(;F.parent!==Le&&F.parent.left!==F;)F=F.parent;return F.parent===Le?Le:F.parent}prev(){if(this.left!==Le)return te(this.left);let F=this;for(;F.parent!==Le&&F.parent.right!==F;)F=F.parent;return F.parent===Le?Le:F.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Le=new rt(null,0);function ie(Ut){for(;Ut.left!==Le;)Ut=Ut.left;return Ut}function te(Ut){for(;Ut.right!==Le;)Ut=Ut.right;return Ut}function oe(Ut){return Ut===Le?0:Ut.size_left+Ut.piece.length+oe(Ut.right)}function we(Ut){return Ut===Le?0:Ut.lf_left+Ut.piece.lineFeedCnt+we(Ut.right)}function nt(){Le.parent=Le}function He(Ut,F){const ee=F.right;ee.size_left+=F.size_left+(F.piece?F.piece.length:0),ee.lf_left+=F.lf_left+(F.piece?F.piece.lineFeedCnt:0),F.right=ee.left,ee.left!==Le&&(ee.left.parent=F),ee.parent=F.parent,F.parent===Le?Ut.root=ee:F.parent.left===F?F.parent.left=ee:F.parent.right=ee,ee.left=F,F.parent=ee}function De(Ut,F){const ee=F.left;F.left=ee.right,ee.right!==Le&&(ee.right.parent=F),ee.parent=F.parent,F.size_left-=ee.size_left+(ee.piece?ee.piece.length:0),F.lf_left-=ee.lf_left+(ee.piece?ee.piece.lineFeedCnt:0),F.parent===Le?Ut.root=ee:F===F.parent.right?F.parent.right=ee:F.parent.left=ee,ee.right=F,F.parent=ee}function pt(Ut,F){let ee,_e;if(F.left===Le?(_e=F,ee=_e.right):F.right===Le?(_e=F,ee=_e.left):(_e=ie(F.right),ee=_e.right),_e===Ut.root)return Ut.root=ee,ee.color=0,F.detach(),nt(),void(Ut.root.parent=Le);const Qe=1===_e.color;if(_e===_e.parent.left?_e.parent.left=ee:_e.parent.right=ee,_e===F?(ee.parent=_e.parent,Xt(Ut,ee)):(ee.parent=_e.parent===F?_e:_e.parent,Xt(Ut,ee),_e.left=F.left,_e.right=F.right,_e.parent=F.parent,_e.color=F.color,F===Ut.root?Ut.root=_e:F===F.parent.left?F.parent.left=_e:F.parent.right=_e,_e.left!==Le&&(_e.left.parent=_e),_e.right!==Le&&(_e.right.parent=_e),_e.size_left=F.size_left,_e.lf_left=F.lf_left,Xt(Ut,_e)),F.detach(),ee.parent.left===ee){const ct=oe(ee),rn=we(ee);if(ct!==ee.parent.size_left||rn!==ee.parent.lf_left){const Gt=ct-ee.parent.size_left,wn=rn-ee.parent.lf_left;ee.parent.size_left=ct,ee.parent.lf_left=rn,Ht(Ut,ee.parent,Gt,wn)}}if(Xt(Ut,ee.parent),Qe)return void nt();let qe;for(;ee!==Ut.root&&0===ee.color;)ee===ee.parent.left?(qe=ee.parent.right,1===qe.color&&(qe.color=0,ee.parent.color=1,He(Ut,ee.parent),qe=ee.parent.right),0===qe.left.color&&0===qe.right.color?(qe.color=1,ee=ee.parent):(0===qe.right.color&&(qe.left.color=0,qe.color=1,De(Ut,qe),qe=ee.parent.right),qe.color=ee.parent.color,ee.parent.color=0,qe.right.color=0,He(Ut,ee.parent),ee=Ut.root)):(qe=ee.parent.left,1===qe.color&&(qe.color=0,ee.parent.color=1,De(Ut,ee.parent),qe=ee.parent.left),0===qe.left.color&&0===qe.right.color?(qe.color=1,ee=ee.parent):(0===qe.left.color&&(qe.right.color=0,qe.color=1,He(Ut,qe),qe=ee.parent.left),qe.color=ee.parent.color,ee.parent.color=0,qe.left.color=0,De(Ut,ee.parent),ee=Ut.root));ee.color=0,nt()}function lt(Ut,F){for(Xt(Ut,F);F!==Ut.root&&1===F.parent.color;)if(F.parent===F.parent.parent.left){const ee=F.parent.parent.right;1===ee.color?(F.parent.color=0,ee.color=0,F.parent.parent.color=1,F=F.parent.parent):(F===F.parent.right&&He(Ut,F=F.parent),F.parent.color=0,F.parent.parent.color=1,De(Ut,F.parent.parent))}else{const ee=F.parent.parent.left;1===ee.color?(F.parent.color=0,ee.color=0,F.parent.parent.color=1,F=F.parent.parent):(F===F.parent.left&&De(Ut,F=F.parent),F.parent.color=0,F.parent.parent.color=1,He(Ut,F.parent.parent))}Ut.root.color=0}function Ht(Ut,F,ee,_e){for(;F!==Ut.root&&F!==Le;)F.parent.left===F&&(F.parent.size_left+=ee,F.parent.lf_left+=_e),F=F.parent}function Xt(Ut,F){let ee=0,_e=0;if(F!==Ut.root){for(;F!==Ut.root&&F===F.parent.right;)F=F.parent;if(F!==Ut.root)for(ee=oe((F=F.parent).left)-F.size_left,_e=we(F.left)-F.lf_left,F.size_left+=ee,F.lf_left+=_e;F!==Ut.root&&(0!==ee||0!==_e);)F.parent.left===F&&(F.parent.size_left+=ee,F.parent.lf_left+=_e),F=F.parent}}Le.parent=Le,Le.left=Le,Le.right=Le,Le.color=0;var ut=e(7080);const an=65535;function Kn(Ut){let F;return F=Ut[Ut.length-1]<65536?new Uint16Array(Ut.length):new Uint32Array(Ut.length),F.set(Ut,0),F}class Gn{constructor(F,ee,_e,Qe,qe){this.lineStarts=F,this.cr=ee,this.lf=_e,this.crlf=Qe,this.isBasicASCII=qe}}function li(Ut,F=!0){const ee=[0];let _e=1;for(let Qe=0,qe=Ut.length;Qe<qe;Qe++){const ct=Ut.charCodeAt(Qe);13===ct?Qe+1<qe&&10===Ut.charCodeAt(Qe+1)?(ee[_e++]=Qe+2,Qe++):ee[_e++]=Qe+1:10===ct&&(ee[_e++]=Qe+1)}return F?Kn(ee):ee}class ri{constructor(F,ee,_e,Qe,qe){this.bufferIndex=F,this.start=ee,this.end=_e,this.lineFeedCnt=Qe,this.length=qe}}class _i{constructor(F,ee){this.buffer=F,this.lineStarts=ee}}class Xi{constructor(F,ee){this._pieces=[],this._tree=F,this._BOM=ee,this._index=0,F.root!==Le&&F.iterate(F.root,_e=>(_e!==Le&&this._pieces.push(_e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Zi{constructor(F){this._limit=F,this._cache=[]}get(F){for(let ee=this._cache.length-1;ee>=0;ee--){const _e=this._cache[ee];if(_e.nodeStartOffset<=F&&_e.nodeStartOffset+_e.node.piece.length>=F)return _e}return null}get2(F){for(let ee=this._cache.length-1;ee>=0;ee--){const _e=this._cache[ee];if(_e.nodeStartLineNumber&&_e.nodeStartLineNumber<F&&_e.nodeStartLineNumber+_e.node.piece.lineFeedCnt>=F)return _e}return null}set(F){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(F)}validate(F){let ee=!1;const _e=this._cache;for(let Qe=0;Qe<_e.length;Qe++){const qe=_e[Qe];(null===qe.node.parent||qe.nodeStartOffset>=F)&&(_e[Qe]=null,ee=!0)}if(ee){const Qe=[];for(const qe of _e)null!==qe&&Qe.push(qe);this._cache=Qe}}}class vo{constructor(F,ee,_e){this.create(F,ee,_e)}create(F,ee,_e){this._buffers=[new _i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Le,this._lineCnt=1,this._length=0,this._EOL=ee,this._EOLLength=ee.length,this._EOLNormalized=_e;let Qe=null;for(let qe=0,ct=F.length;qe<ct;qe++)if(F[qe].buffer.length>0){F[qe].lineStarts||(F[qe].lineStarts=li(F[qe].buffer));const rn=new ri(qe+1,{line:0,column:0},{line:F[qe].lineStarts.length-1,column:F[qe].buffer.length-F[qe].lineStarts[F[qe].lineStarts.length-1]},F[qe].lineStarts.length-1,F[qe].buffer.length);this._buffers.push(F[qe]),Qe=this.rbInsertRight(Qe,rn)}this._searchCache=new Zi(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(F){const _e=65535-Math.floor(21845),Qe=2*_e;let qe="",ct=0;const rn=[];if(this.iterate(this.root,Gt=>{const wn=this.getNodeContent(Gt),En=wn.length;if(ct<=_e||ct+En<Qe)return qe+=wn,ct+=En,!0;const xn=qe.replace(/\r\n|\r|\n/g,F);return rn.push(new _i(xn,li(xn))),qe=wn,ct=En,!0}),ct>0){const Gt=qe.replace(/\r\n|\r|\n/g,F);rn.push(new _i(Gt,li(Gt)))}this.create(rn,F,!0)}getEOL(){return this._EOL}setEOL(F){this._EOL=F,this._EOLLength=this._EOL.length,this.normalizeEOL(F)}createSnapshot(F){return new Xi(this,F)}getOffsetAt(F,ee){let _e=0,Qe=this.root;for(;Qe!==Le;)if(Qe.left!==Le&&Qe.lf_left+1>=F)Qe=Qe.left;else{if(Qe.lf_left+Qe.piece.lineFeedCnt+1>=F)return _e+=Qe.size_left,_e+(this.getAccumulatedValue(Qe,F-Qe.lf_left-2)+ee-1);F-=Qe.lf_left+Qe.piece.lineFeedCnt,_e+=Qe.size_left+Qe.piece.length,Qe=Qe.right}return _e}getPositionAt(F){F=Math.floor(F),F=Math.max(0,F);let ee=this.root,_e=0;const Qe=F;for(;ee!==Le;)if(0!==ee.size_left&&ee.size_left>=F)ee=ee.left;else{if(ee.size_left+ee.piece.length>=F){const qe=this.getIndexOf(ee,F-ee.size_left);if(_e+=ee.lf_left+qe.index,0===qe.index){const ct=this.getOffsetAt(_e+1,1);return new _.L(_e+1,Qe-ct+1)}return new _.L(_e+1,qe.remainder+1)}if(F-=ee.size_left+ee.piece.length,_e+=ee.lf_left+ee.piece.lineFeedCnt,ee.right===Le){const qe=this.getOffsetAt(_e+1,1);return new _.L(_e+1,Qe-F-qe+1)}ee=ee.right}return new _.L(1,1)}getValueInRange(F,ee){if(F.startLineNumber===F.endLineNumber&&F.startColumn===F.endColumn)return"";const _e=this.nodeAt2(F.startLineNumber,F.startColumn),Qe=this.nodeAt2(F.endLineNumber,F.endColumn),qe=this.getValueInRange2(_e,Qe);return ee?ee===this._EOL&&this._EOLNormalized&&ee===this.getEOL()&&this._EOLNormalized?qe:qe.replace(/\r\n|\r|\n/g,ee):qe}getValueInRange2(F,ee){if(F.node===ee.node){const rn=F.node,Gt=this._buffers[rn.piece.bufferIndex].buffer,wn=this.offsetInBuffer(rn.piece.bufferIndex,rn.piece.start);return Gt.substring(wn+F.remainder,wn+ee.remainder)}let _e=F.node;const Qe=this._buffers[_e.piece.bufferIndex].buffer,qe=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);let ct=Qe.substring(qe+F.remainder,qe+_e.piece.length);for(_e=_e.next();_e!==Le;){const rn=this._buffers[_e.piece.bufferIndex].buffer,Gt=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);if(_e===ee.node){ct+=rn.substring(Gt,Gt+ee.remainder);break}ct+=rn.substr(Gt,_e.piece.length),_e=_e.next()}return ct}getLinesContent(){const F=[];let ee=0,_e="",Qe=!1;return this.iterate(this.root,qe=>{if(qe===Le)return!0;const ct=qe.piece;let rn=ct.length;if(0===rn)return!0;const Gt=this._buffers[ct.bufferIndex].buffer,wn=this._buffers[ct.bufferIndex].lineStarts,En=ct.start.line,xn=ct.end.line;let Wn=wn[En]+ct.start.column;if(Qe&&(10===Gt.charCodeAt(Wn)&&(Wn++,rn--),F[ee++]=_e,_e="",Qe=!1,0===rn))return!0;if(En===xn)return this._EOLNormalized||13!==Gt.charCodeAt(Wn+rn-1)?_e+=Gt.substr(Wn,rn):(Qe=!0,_e+=Gt.substr(Wn,rn-1)),!0;_e+=this._EOLNormalized?Gt.substring(Wn,Math.max(Wn,wn[En+1]-this._EOLLength)):Gt.substring(Wn,wn[En+1]).replace(/(\r\n|\r|\n)$/,""),F[ee++]=_e;for(let Xn=En+1;Xn<xn;Xn++)_e=this._EOLNormalized?Gt.substring(wn[Xn],wn[Xn+1]-this._EOLLength):Gt.substring(wn[Xn],wn[Xn+1]).replace(/(\r\n|\r|\n)$/,""),F[ee++]=_e;return this._EOLNormalized||13!==Gt.charCodeAt(wn[xn]+ct.end.column-1)?_e=Gt.substr(wn[xn],ct.end.column):(Qe=!0,0===ct.end.column?ee--:_e=Gt.substr(wn[xn],ct.end.column-1)),!0}),Qe&&(F[ee++]=_e,_e=""),F[ee++]=_e,F}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(F){return this._lastVisitedLine.lineNumber===F||(this._lastVisitedLine.lineNumber=F,this._lastVisitedLine.value=F===this._lineCnt?this.getLineRawContent(F):this._EOLNormalized?this.getLineRawContent(F,this._EOLLength):this.getLineRawContent(F).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(F){if(F.remainder===F.node.piece.length){const ee=F.node.next();if(!ee)return 0;const _e=this._buffers[ee.piece.bufferIndex],Qe=this.offsetInBuffer(ee.piece.bufferIndex,ee.piece.start);return _e.buffer.charCodeAt(Qe)}{const ee=this._buffers[F.node.piece.bufferIndex],Qe=this.offsetInBuffer(F.node.piece.bufferIndex,F.node.piece.start)+F.remainder;return ee.buffer.charCodeAt(Qe)}}getLineCharCode(F,ee){const _e=this.nodeAt2(F,ee+1);return this._getCharCode(_e)}getLineLength(F){if(F===this.getLineCount()){const ee=this.getOffsetAt(F,1);return this.getLength()-ee}return this.getOffsetAt(F+1,1)-this.getOffsetAt(F,1)-this._EOLLength}findMatchesInNode(F,ee,_e,Qe,qe,ct,rn,Gt,wn,En,xn){const Wn=this._buffers[F.piece.bufferIndex],Xn=this.offsetInBuffer(F.piece.bufferIndex,F.piece.start),si=this.offsetInBuffer(F.piece.bufferIndex,qe),ci=this.offsetInBuffer(F.piece.bufferIndex,ct);let Ci;const Li={line:0,column:0};let Ji,uo;ee._wordSeparators?(Ji=Wn.buffer.substring(si,ci),uo=ho=>ho+si,ee.reset(0)):(Ji=Wn.buffer,uo=ho=>ho,ee.reset(si));do{if(Ci=ee.next(Ji),Ci){if(uo(Ci.index)>=ci)return En;this.positionInBuffer(F,uo(Ci.index)-Xn,Li);const ho=this.getLineFeedCnt(F.piece.bufferIndex,qe,Li),Ui=Li.line===qe.line?Li.column-qe.column+Qe:Li.column+1;if(xn[En++]=(0,ut.iE)(new r.e(_e+ho,Ui,_e+ho,Ui+Ci[0].length),Ci,Gt),uo(Ci.index)+Ci[0].length>=ci||En>=wn)return En}}while(Ci);return En}findMatchesLineByLine(F,ee,_e,Qe){const qe=[];let ct=0;const rn=new ut.sz(ee.wordSeparators,ee.regex);let Gt=this.nodeAt2(F.startLineNumber,F.startColumn);if(null===Gt)return[];const wn=this.nodeAt2(F.endLineNumber,F.endColumn);if(null===wn)return[];let En=this.positionInBuffer(Gt.node,Gt.remainder);const xn=this.positionInBuffer(wn.node,wn.remainder);if(Gt.node===wn.node)return this.findMatchesInNode(Gt.node,rn,F.startLineNumber,F.startColumn,En,xn,ee,_e,Qe,ct,qe),qe;let Wn=F.startLineNumber,Xn=Gt.node;for(;Xn!==wn.node;){const ci=this.getLineFeedCnt(Xn.piece.bufferIndex,En,Xn.piece.end);if(ci>=1){const Li=this._buffers[Xn.piece.bufferIndex].lineStarts,Ji=this.offsetInBuffer(Xn.piece.bufferIndex,Xn.piece.start);if(ct=this.findMatchesInNode(Xn,rn,Wn,Wn===F.startLineNumber?F.startColumn:1,En,this.positionInBuffer(Xn,Li[En.line+ci]-Ji),ee,_e,Qe,ct,qe),ct>=Qe)return qe;Wn+=ci}const Ci=Wn===F.startLineNumber?F.startColumn-1:0;if(Wn===F.endLineNumber){const Li=this.getLineContent(Wn).substring(Ci,F.endColumn-1);return ct=this._findMatchesInLine(ee,rn,Li,F.endLineNumber,Ci,ct,qe,_e,Qe),qe}if(ct=this._findMatchesInLine(ee,rn,this.getLineContent(Wn).substr(Ci),Wn,Ci,ct,qe,_e,Qe),ct>=Qe)return qe;Wn++,Gt=this.nodeAt2(Wn,1),Xn=Gt.node,En=this.positionInBuffer(Gt.node,Gt.remainder)}if(Wn===F.endLineNumber){const ci=Wn===F.startLineNumber?F.startColumn-1:0,Ci=this.getLineContent(Wn).substring(ci,F.endColumn-1);return ct=this._findMatchesInLine(ee,rn,Ci,F.endLineNumber,ci,ct,qe,_e,Qe),qe}return ct=this.findMatchesInNode(wn.node,rn,Wn,Wn===F.startLineNumber?F.startColumn:1,En,xn,ee,_e,Qe,ct,qe),qe}_findMatchesInLine(F,ee,_e,Qe,qe,ct,rn,Gt,wn){const En=F.wordSeparators;if(!Gt&&F.simpleSearch){const Wn=F.simpleSearch,Xn=Wn.length,si=_e.length;let ci=-Xn;for(;-1!==(ci=_e.indexOf(Wn,ci+Xn));)if((!En||(0,ut.cM)(En,_e,si,ci,Xn))&&(rn[ct++]=new y.tk(new r.e(Qe,ci+1+qe,Qe,ci+1+Xn+qe),null),ct>=wn))return ct;return ct}let xn;ee.reset(0);do{if(xn=ee.next(_e),xn&&(rn[ct++]=(0,ut.iE)(new r.e(Qe,xn.index+1+qe,Qe,xn.index+1+xn[0].length+qe),xn,Gt),ct>=wn))return ct}while(xn);return ct}insert(F,ee,_e=!1){if(this._EOLNormalized=this._EOLNormalized&&_e,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Le){const{node:Qe,remainder:qe,nodeStartOffset:ct}=this.nodeAt(F),rn=Qe.piece,Gt=rn.bufferIndex,wn=this.positionInBuffer(Qe,qe);if(0===Qe.piece.bufferIndex&&rn.end.line===this._lastChangeBufferPos.line&&rn.end.column===this._lastChangeBufferPos.column&&ct+rn.length===F&&ee.length<an)return this.appendToNode(Qe,ee),void this.computeBufferMetadata();if(ct===F)this.insertContentToNodeLeft(ee,Qe),this._searchCache.validate(F);else if(ct+Qe.piece.length>F){const En=[];let xn=new ri(rn.bufferIndex,wn,rn.end,this.getLineFeedCnt(rn.bufferIndex,wn,rn.end),this.offsetInBuffer(Gt,rn.end)-this.offsetInBuffer(Gt,wn));if(this.shouldCheckCRLF()&&this.endWithCR(ee)&&10===this.nodeCharCodeAt(Qe,qe)){const ci={line:xn.start.line+1,column:0};xn=new ri(xn.bufferIndex,ci,xn.end,this.getLineFeedCnt(xn.bufferIndex,ci,xn.end),xn.length-1),ee+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(ee))if(13===this.nodeCharCodeAt(Qe,qe-1)){const ci=this.positionInBuffer(Qe,qe-1);this.deleteNodeTail(Qe,ci),ee="\r"+ee,0===Qe.piece.length&&En.push(Qe)}else this.deleteNodeTail(Qe,wn);else this.deleteNodeTail(Qe,wn);const Wn=this.createNewPieces(ee);xn.length>0&&this.rbInsertRight(Qe,xn);let Xn=Qe;for(let si=0;si<Wn.length;si++)Xn=this.rbInsertRight(Xn,Wn[si]);this.deleteNodes(En)}else this.insertContentToNodeRight(ee,Qe)}else{const Qe=this.createNewPieces(ee);let qe=this.rbInsertLeft(null,Qe[0]);for(let ct=1;ct<Qe.length;ct++)qe=this.rbInsertRight(qe,Qe[ct])}this.computeBufferMetadata()}delete(F,ee){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",ee<=0||this.root===Le)return;const _e=this.nodeAt(F),Qe=this.nodeAt(F+ee),qe=_e.node,ct=Qe.node;if(qe===ct){const Wn=this.positionInBuffer(qe,_e.remainder),Xn=this.positionInBuffer(qe,Qe.remainder);if(_e.nodeStartOffset===F){if(ee===qe.piece.length){const si=qe.next();return pt(this,qe),this.validateCRLFWithPrevNode(si),void this.computeBufferMetadata()}return this.deleteNodeHead(qe,Xn),this._searchCache.validate(F),this.validateCRLFWithPrevNode(qe),void this.computeBufferMetadata()}return _e.nodeStartOffset+qe.piece.length===F+ee?(this.deleteNodeTail(qe,Wn),this.validateCRLFWithNextNode(qe),void this.computeBufferMetadata()):(this.shrinkNode(qe,Wn,Xn),void this.computeBufferMetadata())}const rn=[],Gt=this.positionInBuffer(qe,_e.remainder);this.deleteNodeTail(qe,Gt),this._searchCache.validate(F),0===qe.piece.length&&rn.push(qe);const wn=this.positionInBuffer(ct,Qe.remainder);this.deleteNodeHead(ct,wn),0===ct.piece.length&&rn.push(ct);for(let Wn=qe.next();Wn!==Le&&Wn!==ct;Wn=Wn.next())rn.push(Wn);const xn=0===qe.piece.length?qe.prev():qe;this.deleteNodes(rn),this.validateCRLFWithNextNode(xn),this.computeBufferMetadata()}insertContentToNodeLeft(F,ee){const _e=[];if(this.shouldCheckCRLF()&&this.endWithCR(F)&&this.startWithLF(ee)){const ct=ee.piece,rn={line:ct.start.line+1,column:0},Gt=new ri(ct.bufferIndex,rn,ct.end,this.getLineFeedCnt(ct.bufferIndex,rn,ct.end),ct.length-1);ee.piece=Gt,F+="\n",Ht(this,ee,-1,-1),0===ee.piece.length&&_e.push(ee)}const Qe=this.createNewPieces(F);let qe=this.rbInsertLeft(ee,Qe[Qe.length-1]);for(let ct=Qe.length-2;ct>=0;ct--)qe=this.rbInsertLeft(qe,Qe[ct]);this.validateCRLFWithPrevNode(qe),this.deleteNodes(_e)}insertContentToNodeRight(F,ee){this.adjustCarriageReturnFromNext(F,ee)&&(F+="\n");const _e=this.createNewPieces(F),Qe=this.rbInsertRight(ee,_e[0]);let qe=Qe;for(let ct=1;ct<_e.length;ct++)qe=this.rbInsertRight(qe,_e[ct]);this.validateCRLFWithPrevNode(Qe)}positionInBuffer(F,ee,_e){const Qe=F.piece,ct=this._buffers[F.piece.bufferIndex].lineStarts,Gt=ct[Qe.start.line]+Qe.start.column+ee;let wn=Qe.start.line,En=Qe.end.line,xn=0,Wn=0,Xn=0;for(;wn<=En&&(xn=wn+(En-wn)/2|0,Xn=ct[xn],xn!==En);)if(Wn=ct[xn+1],Gt<Xn)En=xn-1;else{if(!(Gt>=Wn))break;wn=xn+1}return _e?(_e.line=xn,_e.column=Gt-Xn,null):{line:xn,column:Gt-Xn}}getLineFeedCnt(F,ee,_e){if(0===_e.column)return _e.line-ee.line;const Qe=this._buffers[F].lineStarts;if(_e.line===Qe.length-1)return _e.line-ee.line;const ct=Qe[_e.line]+_e.column;return Qe[_e.line+1]>ct+1?_e.line-ee.line:13===this._buffers[F].buffer.charCodeAt(ct-1)?_e.line-ee.line+1:_e.line-ee.line}offsetInBuffer(F,ee){return this._buffers[F].lineStarts[ee.line]+ee.column}deleteNodes(F){for(let ee=0;ee<F.length;ee++)pt(this,F[ee])}createNewPieces(F){if(F.length>an){const En=[];for(;F.length>an;){const Wn=F.charCodeAt(an-1);let Xn;13===Wn||Wn>=55296&&Wn<=56319?(Xn=F.substring(0,an-1),F=F.substring(an-1)):(Xn=F.substring(0,an),F=F.substring(an));const si=li(Xn);En.push(new ri(this._buffers.length,{line:0,column:0},{line:si.length-1,column:Xn.length-si[si.length-1]},si.length-1,Xn.length)),this._buffers.push(new _i(Xn,si))}const xn=li(F);return En.push(new ri(this._buffers.length,{line:0,column:0},{line:xn.length-1,column:F.length-xn[xn.length-1]},xn.length-1,F.length)),this._buffers.push(new _i(F,xn)),En}let ee=this._buffers[0].buffer.length;const _e=li(F,!1);let Qe=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===ee&&0!==ee&&this.startWithLF(F)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Qe=this._lastChangeBufferPos;for(let En=0;En<_e.length;En++)_e[En]+=ee+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(_e.slice(1)),this._buffers[0].buffer+="_"+F,ee+=1}else{if(0!==ee)for(let En=0;En<_e.length;En++)_e[En]+=ee;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(_e.slice(1)),this._buffers[0].buffer+=F}const qe=this._buffers[0].buffer.length,ct=this._buffers[0].lineStarts.length-1,Gt={line:ct,column:qe-this._buffers[0].lineStarts[ct]},wn=new ri(0,Qe,Gt,this.getLineFeedCnt(0,Qe,Gt),qe-ee);return this._lastChangeBufferPos=Gt,[wn]}getLineRawContent(F,ee=0){let _e=this.root,Qe="";const qe=this._searchCache.get2(F);if(qe){_e=qe.node;const ct=this.getAccumulatedValue(_e,F-qe.nodeStartLineNumber-1),rn=this._buffers[_e.piece.bufferIndex].buffer,Gt=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);if(qe.nodeStartLineNumber+_e.piece.lineFeedCnt!==F){const wn=this.getAccumulatedValue(_e,F-qe.nodeStartLineNumber);return rn.substring(Gt+ct,Gt+wn-ee)}Qe=rn.substring(Gt+ct,Gt+_e.piece.length)}else{let ct=0;const rn=F;for(;_e!==Le;)if(_e.left!==Le&&_e.lf_left>=F-1)_e=_e.left;else{if(_e.lf_left+_e.piece.lineFeedCnt>F-1){const Gt=this.getAccumulatedValue(_e,F-_e.lf_left-2),wn=this.getAccumulatedValue(_e,F-_e.lf_left-1),En=this._buffers[_e.piece.bufferIndex].buffer,xn=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);return ct+=_e.size_left,this._searchCache.set({node:_e,nodeStartOffset:ct,nodeStartLineNumber:rn-(F-1-_e.lf_left)}),En.substring(xn+Gt,xn+wn-ee)}if(_e.lf_left+_e.piece.lineFeedCnt===F-1){const Gt=this.getAccumulatedValue(_e,F-_e.lf_left-2),wn=this._buffers[_e.piece.bufferIndex].buffer,En=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);Qe=wn.substring(En+Gt,En+_e.piece.length);break}F-=_e.lf_left+_e.piece.lineFeedCnt,ct+=_e.size_left+_e.piece.length,_e=_e.right}}for(_e=_e.next();_e!==Le;){const ct=this._buffers[_e.piece.bufferIndex].buffer;if(_e.piece.lineFeedCnt>0){const rn=this.getAccumulatedValue(_e,0),Gt=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);return Qe+=ct.substring(Gt,Gt+rn-ee),Qe}{const rn=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start);Qe+=ct.substr(rn,_e.piece.length)}_e=_e.next()}return Qe}computeBufferMetadata(){let F=this.root,ee=1,_e=0;for(;F!==Le;)ee+=F.lf_left+F.piece.lineFeedCnt,_e+=F.size_left+F.piece.length,F=F.right;this._lineCnt=ee,this._length=_e,this._searchCache.validate(this._length)}getIndexOf(F,ee){const _e=F.piece,Qe=this.positionInBuffer(F,ee),qe=Qe.line-_e.start.line;if(this.offsetInBuffer(_e.bufferIndex,_e.end)-this.offsetInBuffer(_e.bufferIndex,_e.start)===ee){const ct=this.getLineFeedCnt(F.piece.bufferIndex,_e.start,Qe);if(ct!==qe)return{index:ct,remainder:0}}return{index:qe,remainder:Qe.column}}getAccumulatedValue(F,ee){if(ee<0)return 0;const _e=F.piece,Qe=this._buffers[_e.bufferIndex].lineStarts,qe=_e.start.line+ee+1;return qe>_e.end.line?Qe[_e.end.line]+_e.end.column-Qe[_e.start.line]-_e.start.column:Qe[qe]-Qe[_e.start.line]-_e.start.column}deleteNodeTail(F,ee){const _e=F.piece,Qe=_e.lineFeedCnt,qe=this.offsetInBuffer(_e.bufferIndex,_e.end),ct=ee,rn=this.offsetInBuffer(_e.bufferIndex,ct),Gt=this.getLineFeedCnt(_e.bufferIndex,_e.start,ct),wn=Gt-Qe,En=rn-qe;F.piece=new ri(_e.bufferIndex,_e.start,ct,Gt,_e.length+En),Ht(this,F,En,wn)}deleteNodeHead(F,ee){const _e=F.piece,Qe=_e.lineFeedCnt,qe=this.offsetInBuffer(_e.bufferIndex,_e.start),ct=ee,rn=this.getLineFeedCnt(_e.bufferIndex,ct,_e.end),wn=rn-Qe,En=qe-this.offsetInBuffer(_e.bufferIndex,ct);F.piece=new ri(_e.bufferIndex,ct,_e.end,rn,_e.length+En),Ht(this,F,En,wn)}shrinkNode(F,ee,_e){const Qe=F.piece,qe=Qe.start,ct=Qe.end,rn=Qe.length,Gt=Qe.lineFeedCnt,wn=ee,En=this.getLineFeedCnt(Qe.bufferIndex,Qe.start,wn),xn=this.offsetInBuffer(Qe.bufferIndex,ee)-this.offsetInBuffer(Qe.bufferIndex,qe);F.piece=new ri(Qe.bufferIndex,Qe.start,wn,En,xn),Ht(this,F,xn-rn,En-Gt);const Wn=new ri(Qe.bufferIndex,_e,ct,this.getLineFeedCnt(Qe.bufferIndex,_e,ct),this.offsetInBuffer(Qe.bufferIndex,ct)-this.offsetInBuffer(Qe.bufferIndex,_e)),Xn=this.rbInsertRight(F,Wn);this.validateCRLFWithPrevNode(Xn)}appendToNode(F,ee){this.adjustCarriageReturnFromNext(ee,F)&&(ee+="\n");const _e=this.shouldCheckCRLF()&&this.startWithLF(ee)&&this.endWithCR(F),Qe=this._buffers[0].buffer.length;this._buffers[0].buffer+=ee;const qe=li(ee,!1);for(let Xn=0;Xn<qe.length;Xn++)qe[Xn]+=Qe;if(_e){const Xn=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Qe-Xn}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(qe.slice(1));const ct=this._buffers[0].lineStarts.length-1,Gt={line:ct,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[ct]},wn=F.piece.length+ee.length,En=F.piece.lineFeedCnt,xn=this.getLineFeedCnt(0,F.piece.start,Gt),Wn=xn-En;F.piece=new ri(F.piece.bufferIndex,F.piece.start,Gt,xn,wn),this._lastChangeBufferPos=Gt,Ht(this,F,ee.length,Wn)}nodeAt(F){let ee=this.root;const _e=this._searchCache.get(F);if(_e)return{node:_e.node,nodeStartOffset:_e.nodeStartOffset,remainder:F-_e.nodeStartOffset};let Qe=0;for(;ee!==Le;)if(ee.size_left>F)ee=ee.left;else{if(ee.size_left+ee.piece.length>=F){Qe+=ee.size_left;const qe={node:ee,remainder:F-ee.size_left,nodeStartOffset:Qe};return this._searchCache.set(qe),qe}F-=ee.size_left+ee.piece.length,Qe+=ee.size_left+ee.piece.length,ee=ee.right}return null}nodeAt2(F,ee){let _e=this.root,Qe=0;for(;_e!==Le;)if(_e.left!==Le&&_e.lf_left>=F-1)_e=_e.left;else{if(_e.lf_left+_e.piece.lineFeedCnt>F-1){const qe=this.getAccumulatedValue(_e,F-_e.lf_left-2),ct=this.getAccumulatedValue(_e,F-_e.lf_left-1);return Qe+=_e.size_left,{node:_e,remainder:Math.min(qe+ee-1,ct),nodeStartOffset:Qe}}if(_e.lf_left+_e.piece.lineFeedCnt===F-1){const qe=this.getAccumulatedValue(_e,F-_e.lf_left-2);if(qe+ee-1<=_e.piece.length)return{node:_e,remainder:qe+ee-1,nodeStartOffset:Qe};ee-=_e.piece.length-qe;break}F-=_e.lf_left+_e.piece.lineFeedCnt,Qe+=_e.size_left+_e.piece.length,_e=_e.right}for(_e=_e.next();_e!==Le;){if(_e.piece.lineFeedCnt>0){const qe=this.getAccumulatedValue(_e,0),ct=this.offsetOfNode(_e);return{node:_e,remainder:Math.min(ee-1,qe),nodeStartOffset:ct}}if(_e.piece.length>=ee-1)return{node:_e,remainder:ee-1,nodeStartOffset:this.offsetOfNode(_e)};ee-=_e.piece.length,_e=_e.next()}return null}nodeCharCodeAt(F,ee){if(F.piece.lineFeedCnt<1)return-1;const _e=this._buffers[F.piece.bufferIndex],Qe=this.offsetInBuffer(F.piece.bufferIndex,F.piece.start)+ee;return _e.buffer.charCodeAt(Qe)}offsetOfNode(F){if(!F)return 0;let ee=F.size_left;for(;F!==this.root;)F.parent.right===F&&(ee+=F.parent.size_left+F.parent.piece.length),F=F.parent;return ee}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(F){if("string"==typeof F)return 10===F.charCodeAt(0);if(F===Le||0===F.piece.lineFeedCnt)return!1;const ee=F.piece,_e=this._buffers[ee.bufferIndex].lineStarts,Qe=ee.start.line,qe=_e[Qe]+ee.start.column;return!(Qe===_e.length-1||_e[Qe+1]>qe+1)&&10===this._buffers[ee.bufferIndex].buffer.charCodeAt(qe)}endWithCR(F){return"string"==typeof F?13===F.charCodeAt(F.length-1):F!==Le&&0!==F.piece.lineFeedCnt&&13===this.nodeCharCodeAt(F,F.piece.length-1)}validateCRLFWithPrevNode(F){if(this.shouldCheckCRLF()&&this.startWithLF(F)){const ee=F.prev();this.endWithCR(ee)&&this.fixCRLF(ee,F)}}validateCRLFWithNextNode(F){if(this.shouldCheckCRLF()&&this.endWithCR(F)){const ee=F.next();this.startWithLF(ee)&&this.fixCRLF(F,ee)}}fixCRLF(F,ee){const _e=[],Qe=this._buffers[F.piece.bufferIndex].lineStarts;let qe;qe=0===F.piece.end.column?{line:F.piece.end.line-1,column:Qe[F.piece.end.line]-Qe[F.piece.end.line-1]-1}:{line:F.piece.end.line,column:F.piece.end.column-1},F.piece=new ri(F.piece.bufferIndex,F.piece.start,qe,F.piece.lineFeedCnt-1,F.piece.length-1),Ht(this,F,-1,-1),0===F.piece.length&&_e.push(F);const Gt={line:ee.piece.start.line+1,column:0},wn=ee.piece.length-1,En=this.getLineFeedCnt(ee.piece.bufferIndex,Gt,ee.piece.end);ee.piece=new ri(ee.piece.bufferIndex,Gt,ee.piece.end,En,wn),Ht(this,ee,-1,-1),0===ee.piece.length&&_e.push(ee);const xn=this.createNewPieces("\r\n");this.rbInsertRight(F,xn[0]);for(let Wn=0;Wn<_e.length;Wn++)pt(this,_e[Wn])}adjustCarriageReturnFromNext(F,ee){if(this.shouldCheckCRLF()&&this.endWithCR(F)){const _e=ee.next();if(this.startWithLF(_e)){if(F+="\n",1===_e.piece.length)pt(this,_e);else{const Qe=_e.piece,qe={line:Qe.start.line+1,column:0},ct=Qe.length-1,rn=this.getLineFeedCnt(Qe.bufferIndex,qe,Qe.end);_e.piece=new ri(Qe.bufferIndex,qe,Qe.end,rn,ct),Ht(this,_e,-1,-1)}return!0}}return!1}iterate(F,ee){return F===Le?ee(Le):this.iterate(F.left,ee)&&ee(F)&&this.iterate(F.right,ee)}getNodeContent(F){if(F===Le)return"";const ee=this._buffers[F.piece.bufferIndex],_e=F.piece,Qe=this.offsetInBuffer(_e.bufferIndex,_e.start),qe=this.offsetInBuffer(_e.bufferIndex,_e.end);return ee.buffer.substring(Qe,qe)}getPieceContent(F){const ee=this._buffers[F.bufferIndex],_e=this.offsetInBuffer(F.bufferIndex,F.start),Qe=this.offsetInBuffer(F.bufferIndex,F.end);return ee.buffer.substring(_e,Qe)}rbInsertRight(F,ee){const _e=new rt(ee,1);if(_e.left=Le,_e.right=Le,_e.parent=Le,_e.size_left=0,_e.lf_left=0,this.root===Le)this.root=_e,_e.color=0;else if(F.right===Le)F.right=_e,_e.parent=F;else{const qe=ie(F.right);qe.left=_e,_e.parent=qe}return lt(this,_e),_e}rbInsertLeft(F,ee){const _e=new rt(ee,1);if(_e.left=Le,_e.right=Le,_e.parent=Le,_e.size_left=0,_e.lf_left=0,this.root===Le)this.root=_e,_e.color=0;else if(F.left===Le)F.left=_e,_e.parent=F;else{const Qe=te(F.left);Qe.right=_e,_e.parent=Qe}return lt(this,_e),_e}}var oo=e(47023);class yo extends f.JT{constructor(F,ee,_e,Qe,qe,ct,rn){super(),this._onDidChangeContent=this._register(new C.Q5),this._BOM=ee,this._mightContainNonBasicASCII=!ct,this._mightContainRTL=Qe,this._mightContainUnusualLineTerminators=qe,this._pieceTree=new vo(F,_e,rn)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(F){return this._pieceTree.createSnapshot(F?this._BOM:"")}getOffsetAt(F,ee){return this._pieceTree.getOffsetAt(F,ee)}getPositionAt(F){return this._pieceTree.getPositionAt(F)}getRangeAt(F,ee){const _e=F+ee,Qe=this.getPositionAt(F),qe=this.getPositionAt(_e);return new r.e(Qe.lineNumber,Qe.column,qe.lineNumber,qe.column)}getValueInRange(F,ee=0){if(F.isEmpty())return"";const _e=this._getEndOfLine(ee);return this._pieceTree.getValueInRange(F,_e)}getValueLengthInRange(F,ee=0){if(F.isEmpty())return 0;if(F.startLineNumber===F.endLineNumber)return F.endColumn-F.startColumn;const _e=this.getOffsetAt(F.startLineNumber,F.startColumn);return this.getOffsetAt(F.endLineNumber,F.endColumn)-_e}getCharacterCountInRange(F,ee=0){if(this._mightContainNonBasicASCII){let _e=0;const Qe=F.startLineNumber,qe=F.endLineNumber;for(let ct=Qe;ct<=qe;ct++){const rn=this.getLineContent(ct),wn=ct===qe?F.endColumn-1:rn.length;for(let En=ct===Qe?F.startColumn-1:0;En<wn;En++)I.ZG(rn.charCodeAt(En))?(_e+=1,En+=1):_e+=1}return _e+=this._getEndOfLine(ee).length*(qe-Qe),_e}return this.getValueLengthInRange(F,ee)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(F){return this._pieceTree.getLineContent(F)}getLineCharCode(F,ee){return this._pieceTree.getLineCharCode(F,ee)}getLineLength(F){return this._pieceTree.getLineLength(F)}getLineFirstNonWhitespaceColumn(F){const ee=I.LC(this.getLineContent(F));return-1===ee?0:ee+1}getLineLastNonWhitespaceColumn(F){const ee=I.ow(this.getLineContent(F));return-1===ee?0:ee+2}_getEndOfLine(F){switch(F){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(F){this._pieceTree.setEOL(F)}applyEdits(F,ee,_e){let Qe=this._mightContainRTL,qe=this._mightContainUnusualLineTerminators,ct=this._mightContainNonBasicASCII,rn=!0,Gt=[];for(let ci=0;ci<F.length;ci++){const Ci=F[ci];rn&&Ci._isTracked&&(rn=!1);const Li=Ci.range;if(Ci.text){let Mn=!0;ct||(Mn=!I.$i(Ci.text),ct=Mn),!Qe&&Mn&&(Qe=I.Ut(Ci.text)),!qe&&Mn&&(qe=I.ab(Ci.text))}let Ji="",uo=0,ho=0,Ui=0;if(Ci.text){let Mn;[uo,ho,Ui,Mn]=(0,S.Q)(Ci.text);const ue=this.getEOL();Ji=0===Mn||Mn===("\r\n"===ue?2:1)?Ci.text:Ci.text.replace(/\r\n|\r|\n/g,ue)}Gt[ci]={sortIndex:ci,identifier:Ci.identifier||null,range:Li,rangeOffset:this.getOffsetAt(Li.startLineNumber,Li.startColumn),rangeLength:this.getValueLengthInRange(Li),text:Ji,eolCount:uo,firstLineLength:ho,lastLineLength:Ui,forceMoveMarkers:!!Ci.forceMoveMarkers,isAutoWhitespaceEdit:Ci.isAutoWhitespaceEdit||!1}}Gt.sort(yo._sortOpsAscending);let wn=!1;for(let ci=0,Ci=Gt.length-1;ci<Ci;ci++){const Li=Gt[ci].range.getEndPosition(),Ji=Gt[ci+1].range.getStartPosition();if(Ji.isBeforeOrEqual(Li)){if(Ji.isBefore(Li))throw new Error("Overlapping ranges are not allowed!");wn=!0}}rn&&(Gt=this._reduceOperations(Gt));const En=_e||ee?yo._getInverseEditRanges(Gt):[],xn=[];if(ee)for(let ci=0;ci<Gt.length;ci++){const Ci=Gt[ci],Li=En[ci];if(Ci.isAutoWhitespaceEdit&&Ci.range.isEmpty())for(let Ji=Li.startLineNumber;Ji<=Li.endLineNumber;Ji++){let uo="";Ji===Li.startLineNumber&&(uo=this.getLineContent(Ci.range.startLineNumber),-1!==I.LC(uo))||xn.push({lineNumber:Ji,oldContent:uo})}}let Wn=null;if(_e){let ci=0;Wn=[];for(let Ci=0;Ci<Gt.length;Ci++){const Li=Gt[Ci],Ji=En[Ci],uo=this.getValueInRange(Li.range),ho=Li.rangeOffset+ci;ci+=Li.text.length-uo.length,Wn[Ci]={sortIndex:Li.sortIndex,identifier:Li.identifier,range:Ji,text:uo,textChange:new oo.q(Li.rangeOffset,uo,ho,Li.text)}}wn||Wn.sort((Ci,Li)=>Ci.sortIndex-Li.sortIndex)}this._mightContainRTL=Qe,this._mightContainUnusualLineTerminators=qe,this._mightContainNonBasicASCII=ct;const Xn=this._doApplyEdits(Gt);let si=null;if(ee&&xn.length>0){xn.sort((ci,Ci)=>Ci.lineNumber-ci.lineNumber),si=[];for(let ci=0,Ci=xn.length;ci<Ci;ci++){const Li=xn[ci].lineNumber;if(ci>0&&xn[ci-1].lineNumber===Li)continue;const Ji=xn[ci].oldContent,uo=this.getLineContent(Li);0===uo.length||uo===Ji||-1!==I.LC(uo)||si.push(Li)}}return this._onDidChangeContent.fire(),new y.je(Wn,Xn,si)}_reduceOperations(F){return F.length<1e3?F:[this._toSingleEditOperation(F)]}_toSingleEditOperation(F){let ee=!1;const _e=F[0].range,Qe=F[F.length-1].range,qe=new r.e(_e.startLineNumber,_e.startColumn,Qe.endLineNumber,Qe.endColumn);let ct=_e.startLineNumber,rn=_e.startColumn;const Gt=[];for(let Xn=0,si=F.length;Xn<si;Xn++){const ci=F[Xn],Ci=ci.range;ee=ee||ci.forceMoveMarkers,Gt.push(this.getValueInRange(new r.e(ct,rn,Ci.startLineNumber,Ci.startColumn))),ci.text.length>0&&Gt.push(ci.text),ct=Ci.endLineNumber,rn=Ci.endColumn}const wn=Gt.join(""),[En,xn,Wn]=(0,S.Q)(wn);return{sortIndex:0,identifier:F[0].identifier,range:qe,rangeOffset:this.getOffsetAt(qe.startLineNumber,qe.startColumn),rangeLength:this.getValueLengthInRange(qe,0),text:wn,eolCount:En,firstLineLength:xn,lastLineLength:Wn,forceMoveMarkers:ee,isAutoWhitespaceEdit:!1}}_doApplyEdits(F){F.sort(yo._sortOpsDescending);const ee=[];for(let _e=0;_e<F.length;_e++){const Qe=F[_e],qe=Qe.range.startLineNumber,ct=Qe.range.startColumn,rn=Qe.range.endLineNumber,Gt=Qe.range.endColumn;if(qe===rn&&ct===Gt&&0===Qe.text.length)continue;Qe.text?(this._pieceTree.delete(Qe.rangeOffset,Qe.rangeLength),this._pieceTree.insert(Qe.rangeOffset,Qe.text,!0)):this._pieceTree.delete(Qe.rangeOffset,Qe.rangeLength);const wn=new r.e(qe,ct,rn,Gt);ee.push({range:wn,rangeLength:Qe.rangeLength,text:Qe.text,rangeOffset:Qe.rangeOffset,forceMoveMarkers:Qe.forceMoveMarkers})}return ee}findMatchesLineByLine(F,ee,_e,Qe){return this._pieceTree.findMatchesLineByLine(F,ee,_e,Qe)}static _getInverseEditRanges(F){const ee=[];let _e=0,Qe=0,qe=null;for(let ct=0,rn=F.length;ct<rn;ct++){const Gt=F[ct];let wn,En,xn;if(qe?qe.range.endLineNumber===Gt.range.startLineNumber?(wn=_e,En=Qe+(Gt.range.startColumn-qe.range.endColumn)):(wn=_e+(Gt.range.startLineNumber-qe.range.endLineNumber),En=Gt.range.startColumn):(wn=Gt.range.startLineNumber,En=Gt.range.startColumn),Gt.text.length>0){const Wn=Gt.eolCount+1;xn=1===Wn?new r.e(wn,En,wn,En+Gt.firstLineLength):new r.e(wn,En,wn+Wn-1,Gt.lastLineLength+1)}else xn=new r.e(wn,En,wn,En);_e=xn.endLineNumber,Qe=xn.endColumn,ee.push(xn),qe=Gt}return ee}static _sortOpsAscending(F,ee){const _e=r.e.compareRangesUsingEnds(F.range,ee.range);return 0===_e?F.sortIndex-ee.sortIndex:_e}static _sortOpsDescending(F,ee){const _e=r.e.compareRangesUsingEnds(F.range,ee.range);return 0===_e?ee.sortIndex-F.sortIndex:-_e}}class Lo{constructor(F,ee,_e,Qe,qe,ct,rn,Gt,wn){this._chunks=F,this._bom=ee,this._cr=_e,this._lf=Qe,this._crlf=qe,this._containsRTL=ct,this._containsUnusualLineTerminators=rn,this._isBasicASCII=Gt,this._normalizeEOL=wn}_getEOL(F){const ee=this._cr+this._lf+this._crlf;return 0===ee?1===F?"\n":"\r\n":this._cr+this._crlf>ee/2?"\r\n":"\n"}create(F){const ee=this._getEOL(F),_e=this._chunks;if(this._normalizeEOL&&("\r\n"===ee&&(this._cr>0||this._lf>0)||"\n"===ee&&(this._cr>0||this._crlf>0)))for(let qe=0,ct=_e.length;qe<ct;qe++){const rn=_e[qe].buffer.replace(/\r\n|\r|\n/g,ee),Gt=li(rn);_e[qe]=new _i(rn,Gt)}const Qe=new yo(_e,this._bom,ee,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Qe,disposable:Qe}}}class oi{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(F){if(0===F.length)return;0===this.chunks.length&&I.uS(F)&&(this.BOM=I.c1,F=F.substr(1));const ee=F.charCodeAt(F.length-1);13===ee||ee>=55296&&ee<=56319?(this._acceptChunk1(F.substr(0,F.length-1),!1),this._hasPreviousChar=!0,this._previousChar=ee):(this._acceptChunk1(F,!1),this._hasPreviousChar=!1,this._previousChar=ee)}_acceptChunk1(F,ee){!ee&&0===F.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+F:F)}_acceptChunk2(F){const ee=function fi(Ut,F){Ut.length=0,Ut[0]=0;let ee=1,_e=0,Qe=0,qe=0,ct=!0;for(let Gt=0,wn=F.length;Gt<wn;Gt++){const En=F.charCodeAt(Gt);13===En?Gt+1<wn&&10===F.charCodeAt(Gt+1)?(qe++,Ut[ee++]=Gt+2,Gt++):(_e++,Ut[ee++]=Gt+1):10===En?(Qe++,Ut[ee++]=Gt+1):ct&&9!==En&&(En<32||En>126)&&(ct=!1)}const rn=new Gn(Kn(Ut),_e,Qe,qe,ct);return Ut.length=0,rn}(this._tmpLineStarts,F);this.chunks.push(new _i(F,ee.lineStarts)),this.cr+=ee.cr,this.lf+=ee.lf,this.crlf+=ee.crlf,this.isBasicASCII&&(this.isBasicASCII=ee.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=I.Ut(F)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=I.ab(F))}finish(F=!0){return this._finish(),new Lo(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,F)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const F=this.chunks[this.chunks.length-1];F.buffer+=String.fromCharCode(this._previousChar);const ee=li(F.buffer);F.lineStarts=ee,13===this._previousChar&&this.cr++}}}var en=e(38022),wt=e(5870),Dt=e(12922),$t=e(64050),tn=e(37551),cn=e(44753);class Cn{constructor(F,ee){this._startLineNumber=F,this._tokens=ee}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(F){return this._tokens[F-this._startLineNumber]}appendLineTokens(F){this._tokens.push(F)}}class Pn{constructor(){this._tokens=[]}add(F,ee){if(this._tokens.length>0){const _e=this._tokens[this._tokens.length-1];if(_e.endLineNumber+1===F)return void _e.appendLineTokens(ee)}this._tokens.push(new Cn(F,[ee]))}finalize(){return this._tokens}}var Hn=e(41883),zn=e(84834);class bi{constructor(F){this._default=F,this._store=[]}get(F){return F<this._store.length?this._store[F]:this._default}set(F,ee){for(;F>=this._store.length;)this._store[this._store.length]=this._default;this._store[F]=ee}delete(F,ee){0===ee||F>=this._store.length||this._store.splice(F,ee)}insert(F,ee){if(0===ee||F>=this._store.length)return;const _e=[];for(let Qe=0;Qe<ee;Qe++)_e[Qe]=this._default;this._store=s.Zv(this._store,F,_e)}}class Ei{constructor(F,ee){this.tokenizationSupport=F,this.initialState=ee,this._lineBeginState=new bi(null),this._lineNeedsTokenization=new bi(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(F){this._lineNeedsTokenization.set(F,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,F)}getBeginState(F){return this._lineBeginState.get(F)}setEndState(F,ee,_e){if(this._lineNeedsTokenization.set(ee,!1),this._firstLineNeedsTokenization=ee+1,ee===F-1)return;const Qe=this._lineBeginState.get(ee+1);if(null===Qe||!_e.equals(Qe))return this._lineBeginState.set(ee+1,_e),void this.markMustBeTokenized(ee+1);let qe=ee+1;for(;qe<F&&!this._lineNeedsTokenization.get(qe);)qe++;this._firstLineNeedsTokenization=qe}applyEdits(F,ee){this.markMustBeTokenized(F.startLineNumber-1),this._lineBeginState.delete(F.startLineNumber,F.endLineNumber-F.startLineNumber),this._lineNeedsTokenization.delete(F.startLineNumber,F.endLineNumber-F.startLineNumber),this._lineBeginState.insert(F.startLineNumber,ee),this._lineNeedsTokenization.insert(F.startLineNumber,ee)}}class ao extends f.JT{constructor(F,ee,_e){super(),this._textModel=F,this._tokenizationPart=ee,this._languageIdCodec=_e,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register($t.RW.onDidChange(Qe=>{const qe=this._textModel.getLanguageId();-1!==Qe.changedLanguages.indexOf(qe)&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(F){if(F.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let ee=0,_e=F.changes.length;ee<_e;ee++){const Qe=F.changes[ee],[qe]=(0,S.Q)(Qe.text);this._tokenizationStateStore.applyEdits(Qe.range,qe)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(F){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[F,ee]=function Oi(Ut,F){if(Ut.isTooLargeForTokenization())return[null,null];const ee=$t.RW.get(F.getLanguageId());if(!ee)return[null,null];let _e;try{_e=ee.getInitialState()}catch(Qe){return(0,l.dL)(Qe),[null,null]}return[ee,_e]}(this._textModel,this._tokenizationPart);this._tokenizationStateStore=F&&ee?new Ei(F,ee):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Hn.To)(F=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(F)}))}_backgroundTokenizeWithDeadline(F){const ee=Date.now()+F.timeRemaining(),_e=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<ee?(0,zn.fn)(_e):this._beginBackgroundTokenization())};_e()}_backgroundTokenizeForAtLeast1ms(){const F=this._textModel.getLineCount(),ee=new Pn,_e=cn.G.create(!1);do{if(_e.elapsed()>1||this._tokenizeOneInvalidLine(ee)>=F)break}while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(ee.finalize(),this._isTokenizationComplete())}tokenizeViewport(F,ee){const _e=new Pn;this._tokenizeViewport(_e,F,ee),this._tokenizationPart.setTokens(_e.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(F){const ee=new Pn;this._updateTokensUntilLine(ee,F),this._tokenizationPart.setTokens(ee.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(F,ee){if(!this._tokenizationStateStore)return 0;this.forceTokenization(F.lineNumber);const _e=this._tokenizationStateStore.getBeginState(F.lineNumber-1);if(!_e)return 0;const Qe=this._textModel.getLanguageId(),qe=this._textModel.getLineContent(F.lineNumber),ct=qe.substring(0,F.column-1)+ee+qe.substring(F.column-1),rn=Qi(this._languageIdCodec,Qe,this._tokenizationStateStore.tokenizationSupport,ct,!0,_e),Gt=new Dt.A(rn.tokens,ct,this._languageIdCodec);if(0===Gt.getCount())return 0;const wn=Gt.findTokenIndexAtOffset(F.column-1);return Gt.getStandardTokenType(wn)}tokenizeLineWithEdit(F,ee,_e){const Qe=F.lineNumber,qe=F.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(Qe);const ct=this._tokenizationStateStore.getBeginState(Qe-1);if(!ct)return null;const rn=this._textModel.getLineContent(Qe),Gt=rn.substring(0,qe-1)+_e+rn.substring(qe-1+ee),wn=this._textModel.getLanguageIdAtPosition(Qe,0),En=Qi(this._languageIdCodec,wn,this._tokenizationStateStore.tokenizationSupport,Gt,!0,ct);return new Dt.A(En.tokens,Gt,this._languageIdCodec)}isCheapToTokenize(F){if(!this._tokenizationStateStore)return!0;const ee=this._tokenizationStateStore.invalidLineStartIndex+1;return!(F>ee)&&(F<ee||this._textModel.getLineLength(F)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_isTokenizationComplete(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount()}_tokenizeOneInvalidLine(F){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const ee=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(F,ee),ee}_updateTokensUntilLine(F,ee){if(!this._tokenizationStateStore)return;const _e=this._textModel.getLanguageId(),Qe=this._textModel.getLineCount(),qe=ee-1;for(let ct=this._tokenizationStateStore.invalidLineStartIndex;ct<=qe;ct++){const rn=this._textModel.getLineContent(ct+1),Gt=this._tokenizationStateStore.getBeginState(ct),wn=Qi(this._languageIdCodec,_e,this._tokenizationStateStore.tokenizationSupport,rn,!0,Gt);F.add(ct+1,wn.tokens),this._tokenizationStateStore.setEndState(Qe,ct,wn.endState),ct=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(F,ee,_e){if(!this._tokenizationStateStore||_e<=this._tokenizationStateStore.invalidLineStartIndex)return;if(ee<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(F,_e);let Qe=this._textModel.getLineFirstNonWhitespaceColumn(ee);const qe=[];let ct=null;for(let wn=ee-1;Qe>1&&wn>=1;wn--){const En=this._textModel.getLineFirstNonWhitespaceColumn(wn);if(0!==En&&En<Qe&&(qe.push(this._textModel.getLineContent(wn)),Qe=En,ct=this._tokenizationStateStore.getBeginState(wn-1),ct))break}ct||(ct=this._tokenizationStateStore.initialState);const rn=this._textModel.getLanguageId();let Gt=ct;for(let wn=qe.length-1;wn>=0;wn--)Gt=Qi(this._languageIdCodec,rn,this._tokenizationStateStore.tokenizationSupport,qe[wn],!1,Gt).endState;for(let wn=ee;wn<=_e;wn++){const En=this._textModel.getLineContent(wn),xn=Qi(this._languageIdCodec,rn,this._tokenizationStateStore.tokenizationSupport,En,!0,Gt);F.add(wn,xn.tokens),this._tokenizationStateStore.markMustBeTokenized(wn-1),Gt=xn.endState}}}function Qi(Ut,F,ee,_e,Qe,qe){let ct=null;if(ee)try{ct=ee.tokenizeEncoded(_e,Qe,qe.clone())}catch(rn){(0,l.dL)(rn)}return ct||(ct=(0,tn.Dy)(Ut.encodeLanguageId(F),qe)),Dt.A.convertToEndOffset(ct.tokens,_e.length),ct}const Wi=new Uint32Array(0).buffer;class xo{static deleteBeginning(F,ee){return null===F||F===Wi?F:xo.delete(F,0,ee)}static deleteEnding(F,ee){if(null===F||F===Wi)return F;const _e=ro(F);return xo.delete(F,ee,_e[_e.length-2])}static delete(F,ee,_e){if(null===F||F===Wi||ee===_e)return F;const Qe=ro(F),qe=Qe.length>>>1;if(0===ee&&Qe[Qe.length-2]===_e)return Wi;const ct=Dt.A.findIndexInTokensArray(Qe,ee),rn=ct>0?Qe[ct-1<<1]:0;if(_e<Qe[ct<<1]){const Xn=_e-ee;for(let si=ct;si<qe;si++)Qe[si<<1]-=Xn;return F}let wn,En;rn!==ee?(Qe[ct<<1]=ee,wn=ct+1<<1,En=ee):(wn=ct<<1,En=rn);const xn=_e-ee;for(let Xn=ct+1;Xn<qe;Xn++){const si=Qe[Xn<<1]-xn;si>En&&(Qe[wn++]=si,Qe[wn++]=Qe[1+(Xn<<1)],En=si)}if(wn===Qe.length)return F;const Wn=new Uint32Array(wn);return Wn.set(Qe.subarray(0,wn),0),Wn.buffer}static append(F,ee){if(ee===Wi)return F;if(F===Wi)return ee;if(null===F)return F;if(null===ee)return null;const _e=ro(F),Qe=ro(ee),qe=Qe.length>>>1,ct=new Uint32Array(_e.length+Qe.length);ct.set(_e,0);let rn=_e.length;const Gt=_e[_e.length-2];for(let wn=0;wn<qe;wn++)ct[rn++]=Qe[wn<<1]+Gt,ct[rn++]=Qe[1+(wn<<1)];return ct.buffer}static insert(F,ee,_e){if(null===F||F===Wi)return F;const Qe=ro(F),qe=Qe.length>>>1;let ct=Dt.A.findIndexInTokensArray(Qe,ee);ct>0&&Qe[ct-1<<1]===ee&&ct--;for(let rn=ct;rn<qe;rn++)Qe[rn<<1]+=_e;return F}}function ro(Ut){return Ut instanceof Uint32Array?Ut:new Uint32Array(Ut)}var Co=e(90035);class Mo{constructor(F){this._lineTokens=[],this._len=0,this._languageIdCodec=F}flush(){this._lineTokens=[],this._len=0}getTokens(F,ee,_e){let Qe=null;if(ee<this._len&&(Qe=this._lineTokens[ee]),null!==Qe&&Qe!==Wi)return new Dt.A(ro(Qe),_e,this._languageIdCodec);const qe=new Uint32Array(2);return qe[0]=_e.length,qe[1]=Oo(this._languageIdCodec.encodeLanguageId(F)),new Dt.A(qe,_e,this._languageIdCodec)}static _massageTokens(F,ee,_e){const Qe=_e?ro(_e):null;if(0===ee){let qe=!1;if(Qe&&Qe.length>1&&(qe=Co.N.getLanguageId(Qe[1])!==F),!qe)return Wi}if(!Qe||0===Qe.length){const qe=new Uint32Array(2);return qe[0]=ee,qe[1]=Oo(F),qe.buffer}return Qe[Qe.length-2]=ee,0===Qe.byteOffset&&Qe.byteLength===Qe.buffer.byteLength?Qe.buffer:Qe}_ensureLine(F){for(;F>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(F,ee){0!==ee&&(F+ee>this._len&&(ee=this._len-F),this._lineTokens.splice(F,ee),this._len-=ee)}_insertLines(F,ee){if(0===ee)return;const _e=[];for(let Qe=0;Qe<ee;Qe++)_e[Qe]=null;this._lineTokens=s.Zv(this._lineTokens,F,_e),this._len+=ee}setTokens(F,ee,_e,Qe,qe){const ct=Mo._massageTokens(this._languageIdCodec.encodeLanguageId(F),_e,Qe);this._ensureLine(ee);const rn=this._lineTokens[ee];return this._lineTokens[ee]=ct,!!qe&&!Mo._equals(rn,ct)}static _equals(F,ee){if(!F||!ee)return!F&&!ee;const _e=ro(F),Qe=ro(ee);if(_e.length!==Qe.length)return!1;for(let qe=0,ct=_e.length;qe<ct;qe++)if(_e[qe]!==Qe[qe])return!1;return!0}acceptEdit(F,ee,_e){this._acceptDeleteRange(F),this._acceptInsertText(new _.L(F.startLineNumber,F.startColumn),ee,_e)}_acceptDeleteRange(F){const ee=F.startLineNumber-1;if(ee>=this._len)return;if(F.startLineNumber===F.endLineNumber){if(F.startColumn===F.endColumn)return;return void(this._lineTokens[ee]=xo.delete(this._lineTokens[ee],F.startColumn-1,F.endColumn-1))}this._lineTokens[ee]=xo.deleteEnding(this._lineTokens[ee],F.startColumn-1);const _e=F.endLineNumber-1;let Qe=null;_e<this._len&&(Qe=xo.deleteBeginning(this._lineTokens[_e],F.endColumn-1)),this._lineTokens[ee]=xo.append(this._lineTokens[ee],Qe),this._deleteLines(F.startLineNumber,F.endLineNumber-F.startLineNumber)}_acceptInsertText(F,ee,_e){if(0===ee&&0===_e)return;const Qe=F.lineNumber-1;if(!(Qe>=this._len)){if(0===ee)return void(this._lineTokens[Qe]=xo.insert(this._lineTokens[Qe],F.column-1,_e));this._lineTokens[Qe]=xo.deleteEnding(this._lineTokens[Qe],F.column-1),this._lineTokens[Qe]=xo.insert(this._lineTokens[Qe],F.column-1,_e),this._insertLines(F.lineNumber,ee)}}}function Oo(Ut){return(32768|Ut<<0|2<<24|1024)>>>0}class ko{constructor(F){this._pieces=[],this._isComplete=!1,this._languageIdCodec=F}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(F,ee){this._pieces=F||[],this._isComplete=ee}setPartial(F,ee){let _e=F;if(ee.length>0){const qe=ee[0].getRange(),ct=ee[ee.length-1].getRange();if(!qe||!ct)return F;_e=F.plusRange(qe).plusRange(ct)}let Qe=null;for(let qe=0,ct=this._pieces.length;qe<ct;qe++){const rn=this._pieces[qe];if(rn.endLineNumber<_e.startLineNumber)continue;if(rn.startLineNumber>_e.endLineNumber){Qe=Qe||{index:qe};break}if(rn.removeTokens(_e),rn.isEmpty()){this._pieces.splice(qe,1),qe--,ct--;continue}if(rn.endLineNumber<_e.startLineNumber)continue;if(rn.startLineNumber>_e.endLineNumber){Qe=Qe||{index:qe};continue}const[Gt,wn]=rn.split(_e);Gt.isEmpty()?Qe=Qe||{index:qe}:wn.isEmpty()||(this._pieces.splice(qe,1,Gt,wn),qe++,ct++,Qe=Qe||{index:qe})}return Qe=Qe||{index:this._pieces.length},ee.length>0&&(this._pieces=s.Zv(this._pieces,Qe.index,ee)),_e}isComplete(){return this._isComplete}addSparseTokens(F,ee){if(0===ee.getLineContent().length)return ee;const _e=this._pieces;if(0===_e.length)return ee;const qe=_e[ko._findFirstPieceWithLine(_e,F)].getLineTokens(F);if(!qe)return ee;const ct=ee.getCount(),rn=qe.getCount();let Gt=0;const wn=[];let En=0,xn=0;const Wn=(Xn,si)=>{Xn!==xn&&(xn=Xn,wn[En++]=Xn,wn[En++]=si)};for(let Xn=0;Xn<rn;Xn++){const si=qe.getStartCharacter(Xn),ci=qe.getEndCharacter(Xn),Ci=qe.getMetadata(Xn),Li=((1&Ci?2048:0)|(2&Ci?4096:0)|(4&Ci?8192:0)|(8&Ci?16384:0)|(16&Ci?16744448:0)|(32&Ci?4278190080:0))>>>0,Ji=~Li>>>0;for(;Gt<ct&&ee.getEndOffset(Gt)<=si;)Wn(ee.getEndOffset(Gt),ee.getMetadata(Gt)),Gt++;for(Gt<ct&&ee.getStartOffset(Gt)<si&&Wn(si,ee.getMetadata(Gt));Gt<ct&&ee.getEndOffset(Gt)<ci;)Wn(ee.getEndOffset(Gt),ee.getMetadata(Gt)&Ji|Ci&Li),Gt++;if(Gt<ct)Wn(ci,ee.getMetadata(Gt)&Ji|Ci&Li),ee.getEndOffset(Gt)===ci&&Gt++;else{const uo=Math.min(Math.max(0,Gt-1),ct-1);Wn(ci,ee.getMetadata(uo)&Ji|Ci&Li)}}for(;Gt<ct;)Wn(ee.getEndOffset(Gt),ee.getMetadata(Gt)),Gt++;return new Dt.A(new Uint32Array(wn),ee.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(F,ee){let _e=0,Qe=F.length-1;for(;_e<Qe;){let qe=_e+Math.floor((Qe-_e)/2);if(F[qe].endLineNumber<ee)_e=qe+1;else{if(!(F[qe].startLineNumber>ee)){for(;qe>_e&&F[qe-1].startLineNumber<=ee&&ee<=F[qe-1].endLineNumber;)qe--;return qe}Qe=qe-1}}return _e}acceptEdit(F,ee,_e,Qe,qe){for(const ct of this._pieces)ct.acceptEdit(F,ee,_e,Qe,qe)}}class so extends wt.U{constructor(F,ee,_e,Qe,qe){super(),this._languageService=F,this._languageConfigurationService=ee,this._textModel=_e,this.bracketPairsTextModelPart=Qe,this._languageId=qe,this._onDidChangeLanguage=this._register(new C.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new C.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new C.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new C.Q5),this._tokens=new Mo(this._languageService.languageIdCodec),this._semanticTokens=new ko(this._languageService.languageIdCodec),this._tokenization=new ao(_e,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(ct=>{ct.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(F,ee,_e,Qe,qe){this._tokens.acceptEdit(F,_e,Qe),this._semanticTokens.acceptEdit(F,_e,Qe,qe,ee.length>0?ee.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(F){this._tokenization.handleDidChangeContent(F)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(F){if(2===this._backgroundTokenizationState)return;const ee=F?2:1;this._backgroundTokenizationState!==ee&&(this._backgroundTokenizationState=ee,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(F,ee=!1){if(0!==F.length){const _e=[];for(let Qe=0,qe=F.length;Qe<qe;Qe++){const ct=F[Qe];let rn=0,Gt=0,wn=!1;for(let En=ct.startLineNumber;En<=ct.endLineNumber;En++)wn?(this._tokens.setTokens(this._languageId,En-1,this._textModel.getLineLength(En),ct.getLineTokens(En),!1),Gt=En):this._tokens.setTokens(this._languageId,En-1,this._textModel.getLineLength(En),ct.getLineTokens(En),!0)&&(wn=!0,rn=En,Gt=En);wn&&_e.push({fromLineNumber:rn,toLineNumber:Gt})}_e.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:_e})}this.handleTokenizationProgress(ee)}setSemanticTokens(F,ee){this._semanticTokens.set(F,ee),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==F,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(F,ee){if(this.hasCompleteSemanticTokens())return;const _e=this._textModel.validateRange(this._semanticTokens.setPartial(F,ee));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:_e.startLineNumber,toLineNumber:_e.endLineNumber}]})}tokenizeViewport(F,ee){F=Math.max(1,F),ee=Math.min(this._textModel.getLineCount(),ee),this._tokenization.tokenizeViewport(F,ee)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(F){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(F),this._onDidChangeTokens.fire(F))}resetTokenization(){this._tokenization.reset()}forceTokenization(F){if(F<1||F>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(F)}isCheapToTokenize(F){return this._tokenization.isCheapToTokenize(F)}tokenizeIfCheap(F){this.isCheapToTokenize(F)&&this.forceTokenization(F)}getLineTokens(F){if(F<1||F>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(F)}_getLineTokens(F){const ee=this._textModel.getLineContent(F),_e=this._tokens.getTokens(this._languageId,F-1,ee);return this._semanticTokens.addSparseTokens(F,_e)}getTokenTypeIfInsertingCharacter(F,ee,_e){const Qe=this._textModel.validatePosition(new _.L(F,ee));return this._tokenization.getTokenTypeIfInsertingCharacter(Qe,_e)}tokenizeLineWithEdit(F,ee,_e){const Qe=this._textModel.validatePosition(F);return this._tokenization.tokenizeLineWithEdit(Qe,ee,_e)}getLanguageConfiguration(F){return this._languageConfigurationService.getLanguageConfiguration(F)}getWordAtPosition(F){this.assertNotDisposed();const ee=this._textModel.validatePosition(F),_e=this._textModel.getLineContent(ee.lineNumber),Qe=this._getLineTokens(ee.lineNumber),qe=Qe.findTokenIndexAtOffset(ee.column-1),[ct,rn]=so._findLanguageBoundaries(Qe,qe),Gt=(0,en.t2)(ee.column,this.getLanguageConfiguration(Qe.getLanguageId(qe)).getWordDefinition(),_e.substring(ct,rn),ct);if(Gt&&Gt.startColumn<=F.column&&F.column<=Gt.endColumn)return Gt;if(qe>0&&ct===ee.column-1){const[wn,En]=so._findLanguageBoundaries(Qe,qe-1),xn=(0,en.t2)(ee.column,this.getLanguageConfiguration(Qe.getLanguageId(qe-1)).getWordDefinition(),_e.substring(wn,En),wn);if(xn&&xn.startColumn<=F.column&&F.column<=xn.endColumn)return xn}return null}static _findLanguageBoundaries(F,ee){const _e=F.getLanguageId(ee);let Qe=0;for(let ct=ee;ct>=0&&F.getLanguageId(ct)===_e;ct--)Qe=F.getStartOffset(ct);let qe=F.getLineContent().length;for(let ct=ee,rn=F.getCount();ct<rn&&F.getLanguageId(ct)===_e;ct++)qe=F.getEndOffset(ct);return[Qe,qe]}getWordUntilPosition(F){const ee=this.getWordAtPosition(F);return ee?{word:ee.word.substr(0,F.column-ee.startColumn),startColumn:ee.startColumn,endColumn:F.column}:{word:"",startColumn:F.column,endColumn:F.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(F,ee){const _e=this._textModel.validatePosition(new _.L(F,ee)),Qe=this.getLineTokens(_e.lineNumber);return Qe.getLanguageId(Qe.findTokenIndexAtOffset(_e.column-1))}setLanguageId(F){if(this._languageId===F)return;const ee={oldLanguage:this._languageId,newLanguage:F};this._languageId=F,this.bracketPairsTextModelPart.handleDidChangeLanguage(ee),this._tokenization.handleDidChangeLanguage(ee),this._onDidChangeLanguage.fire(ee),this._onDidChangeLanguageConfiguration.fire({})}}var Do=e(81754),Ho=e(87532),Zt=function(Ut,F){return function(ee,_e){F(ee,_e,Ut)}};function Bn(Ut,F){let ee;return ee="string"==typeof Ut?function sn(Ut){const F=new oi;return F.acceptChunk(Ut),F.finish()}(Ut):y.Hf(Ut)?function dn(Ut){const F=new oi;let ee;for(;"string"==typeof(ee=Ut.read());)F.acceptChunk(ee);return F.finish()}(Ut):Ut,ee.create(F)}let An=0;class Kt{constructor(F){this._source=F,this._eos=!1}read(){if(this._eos)return null;const F=[];let ee=0,_e=0;for(;;){const Qe=this._source.read();if(null===Qe)return this._eos=!0,0===ee?null:F.join("");if(Qe.length>0&&(F[ee++]=Qe,_e+=Qe.length),_e>=65536)return F.join("")}}}const nn=()=>{throw new Error("Invalid change accessor")};let Dn=class Bd extends f.JT{constructor(F,ee,_e,Qe=null,qe,ct,rn){super(),this._undoRedoService=qe,this._languageService=ct,this._languageConfigurationService=rn,this._onWillDispose=this._register(new C.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Ii(Wn=>this.handleBeforeFireDecorationsChangedEvent(Wn))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new C.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new C.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new C.Q5),this._eventEmitter=this._register(new ii),this._deltaDecorationCallCnt=0,An++,this.id="$model"+An,this.isForSimpleWidget=_e.isForSimpleWidget,this._associatedResource=typeof Qe>"u"||null===Qe?b.o.parse("inmemory://model/"+An):Qe,this._attachedEditorCount=0;const{textBuffer:Gt,disposable:wn}=Bn(F,_e.defaultEOL);this._buffer=Gt,this._bufferDisposable=wn,this._options=Bd.resolveOptions(this._buffer,_e),this._bracketPairs=this._register(new q(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new se.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new xe(this)),this._tokenizationTextModelPart=new so(this._languageService,this._languageConfigurationService,this,this._bracketPairs,ee);const En=this._buffer.getLineCount(),xn=this._buffer.getValueLengthInRange(new r.e(1,1,En,this._buffer.getLineLength(En)+1),0);this._isTooLargeForTokenization=!!_e.largeFileOptimizations&&(xn>Bd.LARGE_FILE_SIZE_THRESHOLD||En>Bd.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=xn>Bd.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=I.PJ(An),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Wt,this._commandManager=new Oe.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(F,ee){if(ee.detectIndentation){const _e=me(F,ee.tabSize,ee.insertSpaces);return new y.dJ({tabSize:_e.tabSize,indentSize:_e.tabSize,insertSpaces:_e.insertSpaces,trimAutoWhitespace:ee.trimAutoWhitespace,defaultEOL:ee.defaultEOL,bracketPairColorizationOptions:ee.bracketPairColorizationOptions})}return new y.dJ({tabSize:ee.tabSize,indentSize:ee.indentSize,insertSpaces:ee.insertSpaces,trimAutoWhitespace:ee.trimAutoWhitespace,defaultEOL:ee.defaultEOL,bracketPairColorizationOptions:ee.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(F){return this._eventEmitter.slowEvent(ee=>F(ee.contentChangedEvent))}onDidChangeContentOrInjectedText(F){return(0,f.F8)(this._eventEmitter.fastEvent(ee=>F(ee)),this._onDidChangeInjectedText.event(ee=>F(ee)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const F=new yo([],"","\n",!1,!1,!0,!0);F.dispose(),this._buffer=F,this._bufferDisposable=f.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(F,ee){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(ee),this._bracketPairs.handleDidChangeContent(ee),this._eventEmitter.fire(new Do.fV(F,ee)))}setValue(F){if(this._assertNotDisposed(),null===F)return;const{textBuffer:ee,disposable:_e}=Bn(F,this._options.defaultEOL);this._setValueFromTextBuffer(ee,_e)}_createContentChanged2(F,ee,_e,Qe,qe,ct,rn){return{changes:[{range:F,rangeOffset:ee,rangeLength:_e,text:Qe}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:qe,isRedoing:ct,isFlush:rn}}_setValueFromTextBuffer(F,ee){this._assertNotDisposed();const _e=this.getFullModelRange(),Qe=this.getValueLengthInRange(_e),qe=this.getLineCount(),ct=this.getLineMaxColumn(qe);this._buffer=F,this._bufferDisposable.dispose(),this._bufferDisposable=ee,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Wt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Do.dQ([new Do.Jx],this._versionId,!1,!1),this._createContentChanged2(new r.e(1,1,qe,ct),0,Qe,this.getValue(),!1,!1,!0))}setEOL(F){this._assertNotDisposed();const ee=1===F?"\r\n":"\n";if(this._buffer.getEOL()===ee)return;const _e=this.getFullModelRange(),Qe=this.getValueLengthInRange(_e),qe=this.getLineCount(),ct=this.getLineMaxColumn(qe);this._onBeforeEOLChange(),this._buffer.setEOL(ee),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Do.dQ([new Do.CZ],this._versionId,!1,!1),this._createContentChanged2(new r.e(1,1,qe,ct),0,Qe,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const F=this.getVersionId(),ee=this._decorationsTree.collectNodesPostOrder();for(let _e=0,Qe=ee.length;_e<Qe;_e++){const qe=ee[_e],ct=qe.range,rn=qe.cachedAbsoluteStart-qe.start,Gt=this._buffer.getOffsetAt(ct.startLineNumber,ct.startColumn),wn=this._buffer.getOffsetAt(ct.endLineNumber,ct.endColumn);qe.cachedAbsoluteStart=Gt,qe.cachedAbsoluteEnd=wn,qe.cachedVersionId=F,qe.start=Gt-rn,qe.end=wn-rn,qt(qe)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let F=0,ee=0;const _e=this._buffer.getLineCount();for(let Qe=1;Qe<=_e;Qe++){const qe=this._buffer.getLineLength(Qe);qe>=1e4?ee+=qe:F+=qe}return ee>F}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(F){this._assertNotDisposed();const rn=new y.dJ({tabSize:typeof F.tabSize<"u"?F.tabSize:this._options.tabSize,indentSize:typeof F.indentSize<"u"?F.indentSize:this._options.indentSize,insertSpaces:typeof F.insertSpaces<"u"?F.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:typeof F.trimAutoWhitespace<"u"?F.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:typeof F.bracketColorizationOptions<"u"?F.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(rn))return;const Gt=this._options.createChangeEvent(rn);this._options=rn,this._bracketPairs.handleDidChangeOptions(Gt),this._decorationProvider.handleDidChangeOptions(Gt),this._onDidChangeOptions.fire(Gt)}detectIndentation(F,ee){this._assertNotDisposed();const _e=me(this._buffer,ee,F);this.updateOptions({insertSpaces:_e.insertSpaces,tabSize:_e.tabSize,indentSize:_e.tabSize})}normalizeIndentation(F){return this._assertNotDisposed(),(0,D.x)(F,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(F=null){const ee=this.findMatches(I.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(F,ee.map(_e=>({range:_e.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(F){this._assertNotDisposed();const ee=this._validatePosition(F.lineNumber,F.column,0);return this._buffer.getOffsetAt(ee.lineNumber,ee.column)}getPositionAt(F){this._assertNotDisposed();const ee=Math.min(this._buffer.getLength(),Math.max(0,F));return this._buffer.getPositionAt(ee)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(F){this._versionId=F}_overwriteAlternativeVersionId(F){this._alternativeVersionId=F}_overwriteInitialUndoRedoSnapshot(F){this._initialUndoRedoSnapshot=F}getValue(F,ee=!1){this._assertNotDisposed();const _e=this.getFullModelRange(),Qe=this.getValueInRange(_e,F);return ee?this._buffer.getBOM()+Qe:Qe}createSnapshot(F=!1){return new Kt(this._buffer.createSnapshot(F))}getValueLength(F,ee=!1){this._assertNotDisposed();const _e=this.getFullModelRange(),Qe=this.getValueLengthInRange(_e,F);return ee?this._buffer.getBOM().length+Qe:Qe}getValueInRange(F,ee=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(F),ee)}getValueLengthInRange(F,ee=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(F),ee)}getCharacterCountInRange(F,ee=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(F),ee)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(F){if(this._assertNotDisposed(),F<1||F>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(F)}getLineLength(F){if(this._assertNotDisposed(),F<1||F>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(F)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(F){return this._assertNotDisposed(),1}getLineMaxColumn(F){if(this._assertNotDisposed(),F<1||F>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(F)+1}getLineFirstNonWhitespaceColumn(F){if(this._assertNotDisposed(),F<1||F>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(F)}getLineLastNonWhitespaceColumn(F){if(this._assertNotDisposed(),F<1||F>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(F)}_validateRangeRelaxedNoAllocations(F){const ee=this._buffer.getLineCount(),_e=F.startLineNumber,Qe=F.startColumn;let qe=Math.floor("number"!=typeof _e||isNaN(_e)?1:_e),ct=Math.floor("number"!=typeof Qe||isNaN(Qe)?1:Qe);if(qe<1)qe=1,ct=1;else if(qe>ee)qe=ee,ct=this.getLineMaxColumn(qe);else if(ct<=1)ct=1;else{const xn=this.getLineMaxColumn(qe);ct>=xn&&(ct=xn)}const rn=F.endLineNumber,Gt=F.endColumn;let wn=Math.floor("number"!=typeof rn||isNaN(rn)?1:rn),En=Math.floor("number"!=typeof Gt||isNaN(Gt)?1:Gt);if(wn<1)wn=1,En=1;else if(wn>ee)wn=ee,En=this.getLineMaxColumn(wn);else if(En<=1)En=1;else{const xn=this.getLineMaxColumn(wn);En>=xn&&(En=xn)}return _e===qe&&Qe===ct&&rn===wn&&Gt===En&&F instanceof r.e&&!(F instanceof a.Y)?F:new r.e(qe,ct,wn,En)}_isValidPosition(F,ee,_e){if("number"!=typeof F||"number"!=typeof ee||isNaN(F)||isNaN(ee)||F<1||ee<1||(0|F)!==F||(0|ee)!==ee)return!1;if(F>this._buffer.getLineCount())return!1;if(1===ee)return!0;if(ee>this.getLineMaxColumn(F))return!1;if(1===_e){const ct=this._buffer.getLineCharCode(F,ee-2);if(I.ZG(ct))return!1}return!0}_validatePosition(F,ee,_e){const Qe=Math.floor("number"!=typeof F||isNaN(F)?1:F),qe=Math.floor("number"!=typeof ee||isNaN(ee)?1:ee),ct=this._buffer.getLineCount();if(Qe<1)return new _.L(1,1);if(Qe>ct)return new _.L(ct,this.getLineMaxColumn(ct));if(qe<=1)return new _.L(Qe,1);const rn=this.getLineMaxColumn(Qe);if(qe>=rn)return new _.L(Qe,rn);if(1===_e){const Gt=this._buffer.getLineCharCode(Qe,qe-2);if(I.ZG(Gt))return new _.L(Qe,qe-1)}return new _.L(Qe,qe)}validatePosition(F){return this._assertNotDisposed(),F instanceof _.L&&this._isValidPosition(F.lineNumber,F.column,1)?F:this._validatePosition(F.lineNumber,F.column,1)}_isValidRange(F,ee){const _e=F.startLineNumber,Qe=F.startColumn,qe=F.endLineNumber,ct=F.endColumn;if(!this._isValidPosition(_e,Qe,0)||!this._isValidPosition(qe,ct,0))return!1;if(1===ee){const rn=Qe>1?this._buffer.getLineCharCode(_e,Qe-2):0,Gt=ct>1&&ct<=this._buffer.getLineLength(qe)?this._buffer.getLineCharCode(qe,ct-2):0,wn=I.ZG(rn),En=I.ZG(Gt);return!wn&&!En}return!0}validateRange(F){if(this._assertNotDisposed(),F instanceof r.e&&!(F instanceof a.Y)&&this._isValidRange(F,1))return F;const _e=this._validatePosition(F.startLineNumber,F.startColumn,0),Qe=this._validatePosition(F.endLineNumber,F.endColumn,0),qe=_e.lineNumber,ct=_e.column,rn=Qe.lineNumber,Gt=Qe.column;{const wn=ct>1?this._buffer.getLineCharCode(qe,ct-2):0,En=Gt>1&&Gt<=this._buffer.getLineLength(rn)?this._buffer.getLineCharCode(rn,Gt-2):0,xn=I.ZG(wn),Wn=I.ZG(En);return xn||Wn?qe===rn&&ct===Gt?new r.e(qe,ct-1,rn,Gt-1):xn&&Wn?new r.e(qe,ct-1,rn,Gt+1):xn?new r.e(qe,ct-1,rn,Gt):new r.e(qe,ct,rn,Gt+1):new r.e(qe,ct,rn,Gt)}}modifyPosition(F,ee){this._assertNotDisposed();const _e=this.getOffsetAt(F)+ee;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,_e)))}getFullModelRange(){this._assertNotDisposed();const F=this.getLineCount();return new r.e(1,1,F,this.getLineMaxColumn(F))}findMatchesLineByLine(F,ee,_e,Qe){return this._buffer.findMatchesLineByLine(F,ee,_e,Qe)}findMatches(F,ee,_e,Qe,qe,ct,rn=999){this._assertNotDisposed();let Gt=null;null!==ee&&(Array.isArray(ee)||(ee=[ee]),ee.every(xn=>r.e.isIRange(xn))&&(Gt=ee.map(xn=>this.validateRange(xn)))),null===Gt&&(Gt=[this.getFullModelRange()]),Gt=Gt.sort((xn,Wn)=>xn.startLineNumber-Wn.startLineNumber||xn.startColumn-Wn.startColumn);const wn=[];let En;if(wn.push(Gt.reduce((xn,Wn)=>r.e.areIntersecting(xn,Wn)?xn.plusRange(Wn):(wn.push(xn),Wn))),!_e&&F.indexOf("\n")<0){const Wn=new ut.bc(F,_e,Qe,qe).parseSearchRequest();if(!Wn)return[];En=Xn=>this.findMatchesLineByLine(Xn,Wn,ct,rn)}else En=xn=>ut.pM.findMatches(this,new ut.bc(F,_e,Qe,qe),xn,ct,rn);return wn.map(En).reduce((xn,Wn)=>xn.concat(Wn),[])}findNextMatch(F,ee,_e,Qe,qe,ct){this._assertNotDisposed();const rn=this.validatePosition(ee);if(!_e&&F.indexOf("\n")<0){const wn=new ut.bc(F,_e,Qe,qe).parseSearchRequest();if(!wn)return null;const En=this.getLineCount();let xn=new r.e(rn.lineNumber,rn.column,En,this.getLineMaxColumn(En)),Wn=this.findMatchesLineByLine(xn,wn,ct,1);return ut.pM.findNextMatch(this,new ut.bc(F,_e,Qe,qe),rn,ct),Wn.length>0||(xn=new r.e(1,1,rn.lineNumber,this.getLineMaxColumn(rn.lineNumber)),Wn=this.findMatchesLineByLine(xn,wn,ct,1),Wn.length>0)?Wn[0]:null}return ut.pM.findNextMatch(this,new ut.bc(F,_e,Qe,qe),rn,ct)}findPreviousMatch(F,ee,_e,Qe,qe,ct){this._assertNotDisposed();const rn=this.validatePosition(ee);return ut.pM.findPreviousMatch(this,new ut.bc(F,_e,Qe,qe),rn,ct)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(F){if(("\n"===this.getEOL()?0:1)!==F)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(F)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(F){return F instanceof y.Qi?F:new y.Qi(F.identifier||null,this.validateRange(F.range),F.text,F.forceMoveMarkers||!1,F.isAutoWhitespaceEdit||!1,F._isTracked||!1)}_validateEditOperations(F){const ee=[];for(let _e=0,Qe=F.length;_e<Qe;_e++)ee[_e]=this._validateEditOperation(F[_e]);return ee}pushEditOperations(F,ee,_e){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(F,this._validateEditOperations(ee),_e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(F,ee,_e){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Qe=ee.map(ct=>({range:this.validateRange(ct.range),text:ct.text}));let qe=!0;if(F)for(let ct=0,rn=F.length;ct<rn;ct++){const Gt=F[ct];let wn=!1;for(let En=0,xn=Qe.length;En<xn;En++){const Wn=Qe[En].range;if(!(Wn.startLineNumber>Gt.endLineNumber||Gt.startLineNumber>Wn.endLineNumber)){wn=!0;break}}if(!wn){qe=!1;break}}if(qe)for(let ct=0,rn=this._trimAutoWhitespaceLines.length;ct<rn;ct++){const Gt=this._trimAutoWhitespaceLines[ct],wn=this.getLineMaxColumn(Gt);let En=!0;for(let xn=0,Wn=Qe.length;xn<Wn;xn++){const Xn=Qe[xn].range,si=Qe[xn].text;if(!(Gt<Xn.startLineNumber||Gt>Xn.endLineNumber||Gt===Xn.startLineNumber&&Xn.startColumn===wn&&Xn.isEmpty()&&si&&si.length>0&&"\n"===si.charAt(0)||Gt===Xn.startLineNumber&&1===Xn.startColumn&&Xn.isEmpty()&&si&&si.length>0&&"\n"===si.charAt(si.length-1))){En=!1;break}}if(En){const xn=new r.e(Gt,1,Gt,wn);ee.push(new y.Qi(null,xn,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(F,ee,_e)}_applyUndo(F,ee,_e,Qe){const qe=F.map(ct=>{const rn=this.getPositionAt(ct.newPosition),Gt=this.getPositionAt(ct.newEnd);return{range:new r.e(rn.lineNumber,rn.column,Gt.lineNumber,Gt.column),text:ct.oldText}});this._applyUndoRedoEdits(qe,ee,!0,!1,_e,Qe)}_applyRedo(F,ee,_e,Qe){const qe=F.map(ct=>{const rn=this.getPositionAt(ct.oldPosition),Gt=this.getPositionAt(ct.oldEnd);return{range:new r.e(rn.lineNumber,rn.column,Gt.lineNumber,Gt.column),text:ct.newText}});this._applyUndoRedoEdits(qe,ee,!1,!0,_e,Qe)}_applyUndoRedoEdits(F,ee,_e,Qe,qe,ct){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=_e,this._isRedoing=Qe,this.applyEdits(F,!1),this.setEOL(ee),this._overwriteAlternativeVersionId(qe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ct),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(F,ee=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const _e=this._validateEditOperations(F);return this._doApplyEdits(_e,ee)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(F,ee){const _e=this._buffer.getLineCount(),Qe=this._buffer.applyEdits(F,this._options.trimAutoWhitespace,ee),qe=this._buffer.getLineCount(),ct=Qe.changes;if(this._trimAutoWhitespaceLines=Qe.trimAutoWhitespaceLineNumbers,0!==ct.length){for(let wn=0,En=ct.length;wn<En;wn++){const xn=ct[wn],[Wn,Xn,si]=(0,S.Q)(xn.text);this._tokenizationTextModelPart.acceptEdit(xn.range,xn.text,Wn,Xn,si),this._decorationsTree.acceptReplace(xn.rangeOffset,xn.rangeLength,xn.text.length,xn.forceMoveMarkers)}const rn=[];this._increaseVersionId();let Gt=_e;for(let wn=0,En=ct.length;wn<En;wn++){const xn=ct[wn],[Wn]=(0,S.Q)(xn.text);this._onDidChangeDecorations.fire();const Xn=xn.range.startLineNumber,si=xn.range.endLineNumber,ci=si-Xn,Ci=Wn,Li=Math.min(ci,Ci),Ji=Ci-ci,uo=qe-Gt-Ji+Xn,Ui=uo+Ci,Mn=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new _.L(uo,1)),this.getOffsetAt(new _.L(Ui,this.getLineMaxColumn(Ui))),0),ue=Do.gk.fromDecorations(Mn),Ge=new s.H9(ue);for(let Re=Li;Re>=0;Re--){const V=Xn+Re,ne=uo+Re;Ge.takeFromEndWhile(at=>at.lineNumber>ne);const Ne=Ge.takeFromEndWhile(at=>at.lineNumber===ne);rn.push(new Do.rU(V,this.getLineContent(ne),Ne))}if(Li<ci&&rn.push(new Do.lN(Xn+Li+1,si)),Li<Ci){const Re=new s.H9(ue),V=Xn+Li,ne=Ci-Li,Ne=qe-Gt-ne+V+1,at=[],It=[];for(let ln=0;ln<ne;ln++){const pn=Ne+ln;It[ln]=this.getLineContent(pn),Re.takeWhile(Sn=>Sn.lineNumber<pn),at[ln]=Re.takeWhile(Sn=>Sn.lineNumber===pn)}rn.push(new Do.Tx(V+1,Xn+Ci,It,at))}Gt+=Ji}this._emitContentChangedEvent(new Do.dQ(rn,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ct,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===Qe.reverseEdits?void 0:Qe.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(F){if(null===F||0===F.size)return;const _e=Array.from(F).map(Qe=>new Do.rU(Qe,this.getLineContent(Qe),this._getInjectedTextInLine(Qe)));this._onDidChangeInjectedText.fire(new Do.D8(_e))}changeDecorations(F,ee=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ee,F)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(F,ee){const _e={addDecoration:(qe,ct)=>this._deltaDecorationsImpl(F,[],[{range:qe,options:ct}])[0],changeDecoration:(qe,ct)=>{this._changeDecorationImpl(qe,ct)},changeDecorationOptions:(qe,ct)=>{this._changeDecorationOptionsImpl(qe,Pi(ct))},removeDecoration:qe=>{this._deltaDecorationsImpl(F,[qe],[])},deltaDecorations:(qe,ct)=>0===qe.length&&0===ct.length?[]:this._deltaDecorationsImpl(F,qe,ct)};let Qe=null;try{Qe=ee(_e)}catch(qe){(0,l.dL)(qe)}return _e.addDecoration=nn,_e.changeDecoration=nn,_e.changeDecorationOptions=nn,_e.removeDecoration=nn,_e.deltaDecorations=nn,Qe}deltaDecorations(F,ee,_e=0){if(this._assertNotDisposed(),F||(F=[]),0===F.length&&0===ee.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,l.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(_e,F,ee)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(F){return this.getDecorationRange(F)}_setTrackedRange(F,ee,_e){const Qe=F?this._decorations[F]:null;if(!Qe)return ee?this._deltaDecorationsImpl(0,[],[{range:ee,options:$n[_e]}])[0]:null;if(!ee)return this._decorationsTree.delete(Qe),delete this._decorations[Qe.id],null;const qe=this._validateRangeRelaxedNoAllocations(ee),ct=this._buffer.getOffsetAt(qe.startLineNumber,qe.startColumn),rn=this._buffer.getOffsetAt(qe.endLineNumber,qe.endColumn);return this._decorationsTree.delete(Qe),Qe.reset(this.getVersionId(),ct,rn,qe),Qe.setOptions($n[_e]),this._decorationsTree.insert(Qe),Qe.id}removeAllDecorationsWithOwnerId(F){if(this._isDisposed)return;const ee=this._decorationsTree.collectNodesFromOwner(F);for(let _e=0,Qe=ee.length;_e<Qe;_e++){const qe=ee[_e];this._decorationsTree.delete(qe),delete this._decorations[qe.id]}}getDecorationOptions(F){const ee=this._decorations[F];return ee?ee.options:null}getDecorationRange(F){const ee=this._decorations[F];return ee?this._decorationsTree.getNodeRange(this,ee):null}getLineDecorations(F,ee=0,_e=!1){return F<1||F>this.getLineCount()?[]:this.getLinesDecorations(F,F,ee,_e)}getLinesDecorations(F,ee,_e=0,Qe=!1){const qe=this.getLineCount(),ct=Math.min(qe,Math.max(1,F)),rn=Math.min(qe,Math.max(1,ee)),Gt=this.getLineMaxColumn(rn),wn=new r.e(ct,1,rn,Gt),En=this._getDecorationsInRange(wn,_e,Qe);return(0,s.vA)(En,this._decorationProvider.getDecorationsInRange(wn,_e,Qe)),En}getDecorationsInRange(F,ee=0,_e=!1){const Qe=this.validateRange(F),qe=this._getDecorationsInRange(Qe,ee,_e);return(0,s.vA)(qe,this._decorationProvider.getDecorationsInRange(Qe,ee,_e)),qe}getOverviewRulerDecorations(F=0,ee=!1){return this._decorationsTree.getAll(this,F,ee,!0)}getInjectedTextDecorations(F=0){return this._decorationsTree.getAllInjectedText(this,F)}_getInjectedTextInLine(F){const ee=this._buffer.getOffsetAt(F,1),_e=ee+this._buffer.getLineLength(F),Qe=this._decorationsTree.getInjectedTextInInterval(this,ee,_e,0);return Do.gk.fromDecorations(Qe).filter(qe=>qe.lineNumber===F)}getAllDecorations(F=0,ee=!1){let _e=this._decorationsTree.getAll(this,F,ee,!1);return _e=_e.concat(this._decorationProvider.getAllDecorations(F,ee)),_e}_getDecorationsInRange(F,ee,_e){const Qe=this._buffer.getOffsetAt(F.startLineNumber,F.startColumn),qe=this._buffer.getOffsetAt(F.endLineNumber,F.endColumn);return this._decorationsTree.getAllInInterval(this,Qe,qe,ee,_e)}getRangeAt(F,ee){return this._buffer.getRangeAt(F,ee-F)}_changeDecorationImpl(F,ee){const _e=this._decorations[F];if(!_e)return;if(_e.options.after){const rn=this.getDecorationRange(F);this._onDidChangeDecorations.recordLineAffectedByInjectedText(rn.endLineNumber)}if(_e.options.before){const rn=this.getDecorationRange(F);this._onDidChangeDecorations.recordLineAffectedByInjectedText(rn.startLineNumber)}const Qe=this._validateRangeRelaxedNoAllocations(ee),qe=this._buffer.getOffsetAt(Qe.startLineNumber,Qe.startColumn),ct=this._buffer.getOffsetAt(Qe.endLineNumber,Qe.endColumn);this._decorationsTree.delete(_e),_e.reset(this.getVersionId(),qe,ct,Qe),this._decorationsTree.insert(_e),this._onDidChangeDecorations.checkAffectedAndFire(_e.options),_e.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Qe.endLineNumber),_e.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Qe.startLineNumber)}_changeDecorationOptionsImpl(F,ee){const _e=this._decorations[F];if(!_e)return;const Qe=!(!_e.options.overviewRuler||!_e.options.overviewRuler.color),qe=!(!ee.overviewRuler||!ee.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(_e.options),this._onDidChangeDecorations.checkAffectedAndFire(ee),_e.options.after||ee.after){const ct=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ct.endLineNumber)}if(_e.options.before||ee.before){const ct=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ct.startLineNumber)}Qe!==qe?(this._decorationsTree.delete(_e),_e.setOptions(ee),this._decorationsTree.insert(_e)):_e.setOptions(ee)}_deltaDecorationsImpl(F,ee,_e){const Qe=this.getVersionId(),qe=ee.length;let ct=0;const rn=_e.length;let Gt=0;const wn=new Array(rn);for(;ct<qe||Gt<rn;){let En=null;if(ct<qe){do{En=this._decorations[ee[ct++]]}while(!En&&ct<qe);if(En){if(En.options.after){const xn=this._decorationsTree.getNodeRange(this,En);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xn.endLineNumber)}if(En.options.before){const xn=this._decorationsTree.getNodeRange(this,En);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xn.startLineNumber)}this._decorationsTree.delete(En),this._onDidChangeDecorations.checkAffectedAndFire(En.options)}}if(Gt<rn){if(!En){const Ci=++this._lastDecorationId,Li=`${this._instanceId};${Ci}`;En=new Xe(Li,0,0),this._decorations[Li]=En}const xn=_e[Gt],Wn=this._validateRangeRelaxedNoAllocations(xn.range),Xn=Pi(xn.options),si=this._buffer.getOffsetAt(Wn.startLineNumber,Wn.startColumn),ci=this._buffer.getOffsetAt(Wn.endLineNumber,Wn.endColumn);En.ownerId=F,En.reset(Qe,si,ci,Wn),En.setOptions(Xn),En.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Wn.endLineNumber),En.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Wn.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Xn),this._decorationsTree.insert(En),wn[Gt]=En.id,Gt++}else En&&delete this._decorations[En.id]}return wn}getLanguageId(){return this.tokenization.getLanguageId()}setMode(F){this.tokenization.setLanguageId(F)}getLanguageIdAtPosition(F,ee){return this.tokenization.getLanguageIdAtPosition(F,ee)}getWordAtPosition(F){return this._tokenizationTextModelPart.getWordAtPosition(F)}getWordUntilPosition(F){return this._tokenizationTextModelPart.getWordUntilPosition(F)}normalizePosition(F,ee){return F}getLineIndentColumn(F){return function In(Ut){let F=0;for(const ee of Ut){if(" "!==ee&&"\t"!==ee)break;F++}return F}(this.getLineContent(F))+1}};function bn(Ut){return!(!Ut.options.overviewRuler||!Ut.options.overviewRuler.color)}function Ct(Ut){return!!Ut.options.after||!!Ut.options.before}Dn.MODEL_SYNC_LIMIT=52428800,Dn.LARGE_FILE_SIZE_THRESHOLD=20971520,Dn.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Dn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:u.D.tabSize,indentSize:u.D.indentSize,insertSpaces:u.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:u.D.trimAutoWhitespace,largeFileOptimizations:u.D.largeFileOptimizations,bracketPairColorizationOptions:u.D.bracketPairColorizationOptions},Dn=function(Ut,F,ee,_e){var ct,Qe=arguments.length,qe=Qe<3?F:null===_e?_e=Object.getOwnPropertyDescriptor(F,ee):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(Ut,F,ee,_e);else for(var rn=Ut.length-1;rn>=0;rn--)(ct=Ut[rn])&&(qe=(Qe<3?ct(qe):Qe>3?ct(F,ee,qe):ct(F,ee))||qe);return Qe>3&&qe&&Object.defineProperty(F,ee,qe),qe}([Zt(4,Ho.tJ),Zt(5,n.O),Zt(6,d.c_)],Dn);class Wt{constructor(){this._decorationsTree0=new pe,this._decorationsTree1=new pe,this._injectedTextDecorationsTree=new pe}ensureAllNodesHaveRanges(F){this.getAll(F,0,!1,!1)}_ensureNodesHaveRanges(F,ee){for(const _e of ee)null===_e.range&&(_e.range=F.getRangeAt(_e.cachedAbsoluteStart,_e.cachedAbsoluteEnd));return ee}getAllInInterval(F,ee,_e,Qe,qe){const ct=F.getVersionId(),rn=this._intervalSearch(ee,_e,Qe,qe,ct);return this._ensureNodesHaveRanges(F,rn)}_intervalSearch(F,ee,_e,Qe,qe){const ct=this._decorationsTree0.intervalSearch(F,ee,_e,Qe,qe),rn=this._decorationsTree1.intervalSearch(F,ee,_e,Qe,qe),Gt=this._injectedTextDecorationsTree.intervalSearch(F,ee,_e,Qe,qe);return ct.concat(rn).concat(Gt)}getInjectedTextInInterval(F,ee,_e,Qe){const qe=F.getVersionId(),ct=this._injectedTextDecorationsTree.intervalSearch(ee,_e,Qe,!1,qe);return this._ensureNodesHaveRanges(F,ct).filter(rn=>rn.options.showIfCollapsed||!rn.range.isEmpty())}getAllInjectedText(F,ee){const _e=F.getVersionId(),Qe=this._injectedTextDecorationsTree.search(ee,!1,_e);return this._ensureNodesHaveRanges(F,Qe).filter(qe=>qe.options.showIfCollapsed||!qe.range.isEmpty())}getAll(F,ee,_e,Qe){const qe=F.getVersionId(),ct=this._search(ee,_e,Qe,qe);return this._ensureNodesHaveRanges(F,ct)}_search(F,ee,_e,Qe){if(_e)return this._decorationsTree1.search(F,ee,Qe);{const qe=this._decorationsTree0.search(F,ee,Qe),ct=this._decorationsTree1.search(F,ee,Qe),rn=this._injectedTextDecorationsTree.search(F,ee,Qe);return qe.concat(ct).concat(rn)}}collectNodesFromOwner(F){const ee=this._decorationsTree0.collectNodesFromOwner(F),_e=this._decorationsTree1.collectNodesFromOwner(F),Qe=this._injectedTextDecorationsTree.collectNodesFromOwner(F);return ee.concat(_e).concat(Qe)}collectNodesPostOrder(){const F=this._decorationsTree0.collectNodesPostOrder(),ee=this._decorationsTree1.collectNodesPostOrder(),_e=this._injectedTextDecorationsTree.collectNodesPostOrder();return F.concat(ee).concat(_e)}insert(F){Ct(F)?this._injectedTextDecorationsTree.insert(F):bn(F)?this._decorationsTree1.insert(F):this._decorationsTree0.insert(F)}delete(F){Ct(F)?this._injectedTextDecorationsTree.delete(F):bn(F)?this._decorationsTree1.delete(F):this._decorationsTree0.delete(F)}getNodeRange(F,ee){const _e=F.getVersionId();return ee.cachedVersionId!==_e&&this._resolveNode(ee,_e),null===ee.range&&(ee.range=F.getRangeAt(ee.cachedAbsoluteStart,ee.cachedAbsoluteEnd)),ee.range}_resolveNode(F,ee){Ct(F)?this._injectedTextDecorationsTree.resolveNode(F,ee):bn(F)?this._decorationsTree1.resolveNode(F,ee):this._decorationsTree0.resolveNode(F,ee)}acceptReplace(F,ee,_e,Qe){this._decorationsTree0.acceptReplace(F,ee,_e,Qe),this._decorationsTree1.acceptReplace(F,ee,_e,Qe),this._injectedTextDecorationsTree.acceptReplace(F,ee,_e,Qe)}}function jt(Ut){return Ut.replace(/[^a-z0-9\-_]/gi," ")}class Yt{constructor(F){this.color=F.color||"",this.darkColor=F.darkColor||""}}class gn extends Yt{constructor(F){super(F),this._resolvedColor=null,this.position="number"==typeof F.position?F.position:y.sh.Center}getColor(F){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==F.type&&this.darkColor?this.darkColor:this.color,F)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(F,ee){if("string"==typeof F)return F;const _e=F?ee.getColor(F.id):null;return _e?_e.toString():""}}class Be extends Yt{constructor(F){super(F),this.position=F.position}getColor(F){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==F.type&&this.darkColor?this.darkColor:this.color,F)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(F,ee){return"string"==typeof F?t.Il.fromHex(F):ee.getColor(F.id)}}class _t{constructor(F){this.content=F.content||"",this.inlineClassName=F.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=F.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=F.attachedData||null,this.cursorStops=F.cursorStops||null}static from(F){return F instanceof _t?F:new _t(F)}}class vn{constructor(F){var ee,_e;this.description=F.description,this.blockClassName=F.blockClassName?jt(F.blockClassName):null,this.stickiness=F.stickiness||0,this.zIndex=F.zIndex||0,this.className=F.className?jt(F.className):null,this.hoverMessage=F.hoverMessage||null,this.glyphMarginHoverMessage=F.glyphMarginHoverMessage||null,this.isWholeLine=F.isWholeLine||!1,this.showIfCollapsed=F.showIfCollapsed||!1,this.collapseOnReplaceEdit=F.collapseOnReplaceEdit||!1,this.overviewRuler=F.overviewRuler?new gn(F.overviewRuler):null,this.minimap=F.minimap?new Be(F.minimap):null,this.glyphMarginClassName=F.glyphMarginClassName?jt(F.glyphMarginClassName):null,this.linesDecorationsClassName=F.linesDecorationsClassName?jt(F.linesDecorationsClassName):null,this.firstLineDecorationClassName=F.firstLineDecorationClassName?jt(F.firstLineDecorationClassName):null,this.marginClassName=F.marginClassName?jt(F.marginClassName):null,this.inlineClassName=F.inlineClassName?jt(F.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=F.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=F.beforeContentClassName?jt(F.beforeContentClassName):null,this.afterContentClassName=F.afterContentClassName?jt(F.afterContentClassName):null,this.after=F.after?_t.from(F.after):null,this.before=F.before?_t.from(F.before):null,this.hideInCommentTokens=null!==(ee=F.hideInCommentTokens)&&void 0!==ee&&ee,this.hideInStringTokens=null!==(_e=F.hideInStringTokens)&&void 0!==_e&&_e}static register(F){return new vn(F)}static createDynamic(F){return new vn(F)}}vn.EMPTY=vn.register({description:"empty"});const $n=[vn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),vn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),vn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),vn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Pi(Ut){return Ut instanceof vn?Ut:vn.createDynamic(Ut)}class Ii extends f.JT{constructor(F){super(),this.handleBeforeFire=F,this._actual=this._register(new C.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var F;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const ee={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(ee)}null===(F=this._affectedInjectedTextLines)||void 0===F||F.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(F){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(F)}checkAffectedAndFire(F){this._affectsMinimap||(this._affectsMinimap=!(!F.minimap||!F.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!F.overviewRuler||!F.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class ii extends f.JT{constructor(){super(),this._fastEmitter=this._register(new C.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new C.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(F=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=F;const ee=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(ee),this._slowEmitter.fire(ee)}}fire(F){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(F):F:(this._fastEmitter.fire(F),this._slowEmitter.fire(F))}}},5870:(yt,T,e)=>{"use strict";e.d(T,{U:()=>t});var s=e(21576);class t extends s.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},7080:(yt,T,e)=>{"use strict";e.d(T,{bc:()=>b,cM:()=>n,iE:()=>D,pM:()=>r,sz:()=>d});var s=e(77697),t=e(10759),l=e(13902),C=e(88154),f=e(59129);class b{constructor(g,v,m,w){this.searchString=g,this.isRegex=v,this.matchCase=m,this.wordSeparators=w}parseSearchRequest(){if(""===this.searchString)return null;let g;g=this.isRegex?function S(y){if(!y||0===y.length)return!1;for(let g=0,v=y.length;g<v;g++){const m=y.charCodeAt(g);if(10===m)return!0;if(92===m){if(g++,g>=v)break;const w=y.charCodeAt(g);if(110===w||114===w||87===w)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let v=null;try{v=s.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:g,global:!0,unicode:!0})}catch{return null}if(!v)return null;let m=!this.isRegex&&!g;return m&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(m=this.matchCase),new f.Tx(v,this.wordSeparators?(0,t.u)(this.wordSeparators):null,m?this.searchString:null)}}function D(y,g,v){if(!v)return new f.tk(y,null);const m=[];for(let w=0,E=g.length;w<E;w++)m[w]=g[w];return new f.tk(y,m)}class _{constructor(g){const v=[];let m=0;for(let w=0,E=g.length;w<E;w++)10===g.charCodeAt(w)&&(v[m++]=w);this._lineFeedsOffsets=v}findLineFeedCountBeforeOffset(g){const v=this._lineFeedsOffsets;let m=0,w=v.length-1;if(-1===w||g<=v[0])return 0;for(;m<w;){const E=m+((w-m)/2>>0);v[E]>=g?w=E-1:v[E+1]>=g?(m=E,w=E):m=E+1}return m+1}}class r{static findMatches(g,v,m,w,E){const L=v.parseSearchRequest();return L?L.regex.multiline?this._doFindMatchesMultiline(g,m,new d(L.wordSeparators,L.regex),w,E):this._doFindMatchesLineByLine(g,m,L,w,E):[]}static _getMultilineMatchRange(g,v,m,w,E,L){let x,k,A=0;if(w?(A=w.findLineFeedCountBeforeOffset(E),x=v+E+A):x=v+E,w){const N=w.findLineFeedCountBeforeOffset(E+L.length)-A;k=x+L.length+N}else k=x+L.length;const W=g.getPositionAt(x),H=g.getPositionAt(k);return new C.e(W.lineNumber,W.column,H.lineNumber,H.column)}static _doFindMatchesMultiline(g,v,m,w,E){const L=g.getOffsetAt(v.getStartPosition()),x=g.getValueInRange(v,1),A="\r\n"===g.getEOL()?new _(x):null,k=[];let H,W=0;for(m.reset(0);H=m.next(x);)if(k[W++]=D(this._getMultilineMatchRange(g,L,x,A,H.index,H[0]),H,w),W>=E)return k;return k}static _doFindMatchesLineByLine(g,v,m,w,E){const L=[];let x=0;if(v.startLineNumber===v.endLineNumber){const k=g.getLineContent(v.startLineNumber).substring(v.startColumn-1,v.endColumn-1);return x=this._findMatchesInLine(m,k,v.startLineNumber,v.startColumn-1,x,L,w,E),L}const A=g.getLineContent(v.startLineNumber).substring(v.startColumn-1);x=this._findMatchesInLine(m,A,v.startLineNumber,v.startColumn-1,x,L,w,E);for(let k=v.startLineNumber+1;k<v.endLineNumber&&x<E;k++)x=this._findMatchesInLine(m,g.getLineContent(k),k,0,x,L,w,E);if(x<E){const k=g.getLineContent(v.endLineNumber).substring(0,v.endColumn-1);x=this._findMatchesInLine(m,k,v.endLineNumber,0,x,L,w,E)}return L}static _findMatchesInLine(g,v,m,w,E,L,x,A){const k=g.wordSeparators;if(!x&&g.simpleSearch){const z=g.simpleSearch,N=z.length,O=v.length;let K=-N;for(;-1!==(K=v.indexOf(z,K+N));)if((!k||n(k,v,O,K,N))&&(L[E++]=new f.tk(new C.e(m,K+1+w,m,K+1+N+w),null),E>=A))return E;return E}const W=new d(g.wordSeparators,g.regex);let H;W.reset(0);do{if(H=W.next(v),H&&(L[E++]=D(new C.e(m,H.index+1+w,m,H.index+1+H[0].length+w),H,x),E>=A))return E}while(H);return E}static findNextMatch(g,v,m,w){const E=v.parseSearchRequest();if(!E)return null;const L=new d(E.wordSeparators,E.regex);return E.regex.multiline?this._doFindNextMatchMultiline(g,m,L,w):this._doFindNextMatchLineByLine(g,m,L,w)}static _doFindNextMatchMultiline(g,v,m,w){const E=new l.L(v.lineNumber,1),L=g.getOffsetAt(E),x=g.getLineCount(),A=g.getValueInRange(new C.e(E.lineNumber,E.column,x,g.getLineMaxColumn(x)),1),k="\r\n"===g.getEOL()?new _(A):null;m.reset(v.column-1);const W=m.next(A);return W?D(this._getMultilineMatchRange(g,L,A,k,W.index,W[0]),W,w):1!==v.lineNumber||1!==v.column?this._doFindNextMatchMultiline(g,new l.L(1,1),m,w):null}static _doFindNextMatchLineByLine(g,v,m,w){const E=g.getLineCount(),L=v.lineNumber,x=g.getLineContent(L),A=this._findFirstMatchInLine(m,x,L,v.column,w);if(A)return A;for(let k=1;k<=E;k++){const W=(L+k-1)%E,H=g.getLineContent(W+1),z=this._findFirstMatchInLine(m,H,W+1,1,w);if(z)return z}return null}static _findFirstMatchInLine(g,v,m,w,E){g.reset(w-1);const L=g.next(v);return L?D(new C.e(m,L.index+1,m,L.index+1+L[0].length),L,E):null}static findPreviousMatch(g,v,m,w){const E=v.parseSearchRequest();if(!E)return null;const L=new d(E.wordSeparators,E.regex);return E.regex.multiline?this._doFindPreviousMatchMultiline(g,m,L,w):this._doFindPreviousMatchLineByLine(g,m,L,w)}static _doFindPreviousMatchMultiline(g,v,m,w){const E=this._doFindMatchesMultiline(g,new C.e(1,1,v.lineNumber,v.column),m,w,9990);if(E.length>0)return E[E.length-1];const L=g.getLineCount();return v.lineNumber!==L||v.column!==g.getLineMaxColumn(L)?this._doFindPreviousMatchMultiline(g,new l.L(L,g.getLineMaxColumn(L)),m,w):null}static _doFindPreviousMatchLineByLine(g,v,m,w){const E=g.getLineCount(),L=v.lineNumber,x=g.getLineContent(L).substring(0,v.column-1),A=this._findLastMatchInLine(m,x,L,w);if(A)return A;for(let k=1;k<=E;k++){const W=(E+L-k-1)%E,H=g.getLineContent(W+1),z=this._findLastMatchInLine(m,H,W+1,w);if(z)return z}return null}static _findLastMatchInLine(g,v,m,w){let L,E=null;for(g.reset(0);L=g.next(v);)E=D(new C.e(m,L.index+1,m,L.index+1+L[0].length),L,w);return E}}function n(y,g,v,m,w){return function a(y,g,v,m,w){if(0===m)return!0;const E=g.charCodeAt(m-1);if(0!==y.get(E)||13===E||10===E)return!0;if(w>0){const L=g.charCodeAt(m);if(0!==y.get(L))return!0}return!1}(y,g,0,m,w)&&function u(y,g,v,m,w){if(m+w===v)return!0;const E=g.charCodeAt(m+w);if(0!==y.get(E)||13===E||10===E)return!0;if(w>0){const L=g.charCodeAt(m+w-1);if(0!==y.get(L))return!0}return!1}(y,g,v,m,w)}class d{constructor(g,v){this._wordSeparators=g,this._searchRegex=v,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(g){this._searchRegex.lastIndex=g,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(g){const v=g.length;let m;do{if(this._prevMatchStartIndex+this._prevMatchLength===v||(m=this._searchRegex.exec(g),!m))return null;const w=m.index,E=m[0].length;if(w===this._prevMatchStartIndex&&E===this._prevMatchLength){if(0===E){s.ZH(g,v,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=w,this._prevMatchLength=E,!this._wordSeparators||n(this._wordSeparators,g,v,w,E))return m}while(m);return null}}},53146:(yt,T,e)=>{"use strict";function s(t,l){let C=0,f=0;const I=t.length;for(;f<I;){const b=t.charCodeAt(f);if(32===b)C++;else{if(9!==b)break;C=C-C%l+l}f++}return f===I?-1:C}e.d(T,{q:()=>s})},44662:(yt,T,e)=>{"use strict";e.d(T,{O:()=>r});var s=e(71943),t=e(31864),l=e(32133),C=e(56740),f=e(13902),I=e(88154),b=e(58745),S=e(64050),D=e(16245);let _=(()=>{class a{static chord(n,d){return(0,l.gx)(n,d)}}return a.CtrlCmd=2048,a.Shift=1024,a.Alt=512,a.WinCtrl=256,a})();function r(){return{editor:void 0,languages:void 0,CancellationTokenSource:s.A,Emitter:t.Q5,KeyCode:D.VD,KeyMod:_,Position:f.L,Range:I.e,Selection:b.Y,SelectionDirection:D.a$,MarkerSeverity:D.ZL,MarkerTag:D.eB,Uri:C.o,Token:S.WU}}},80607:(yt,T,e)=>{"use strict";e.d(T,{p:()=>l});const l=(0,e(30888).yh)("editorWorkerService")},98985:(yt,T,e)=>{"use strict";e.d(T,{Jc:()=>n,KO:()=>m,ML:()=>y,OG:()=>E,Vj:()=>a,Vl:()=>r});var s=e(71943),t=e(3219),l=e(56740),C=e(44378),f=e(34468),I=e(22070),b=e(10664),S=e(88154),D=e(13154),_=function(L,x,A,k){return new(A||(A=Promise))(function(H,z){function N($){try{K(k.next($))}catch(j){z(j)}}function O($){try{K(k.throw($))}catch(j){z(j)}}function K($){$.done?H($.value):function W(H){return H instanceof A?H:new A(function(z){z(H)})}($.value).then(N,O)}K((k=k.apply(L,x||[])).next())})};function r(L){return L&&!!L.data}function a(L){return L&&Array.isArray(L.edits)}class u{constructor(x,A,k){this.provider=x,this.tokens=A,this.error=k}}function n(L,x){return L.has(x)}function y(L,x,A,k,W){return _(this,void 0,void 0,function*(){const H=function d(L,x){const A=L.orderedGroups(x);return A.length>0?A[0]:[]}(L,x),z=yield Promise.all(H.map(N=>_(this,void 0,void 0,function*(){let O,K=null;try{O=yield N.provideDocumentSemanticTokens(x,N===A?k:null,W)}catch($){K=$,O=null}return(!O||!r(O)&&!a(O))&&(O=null),new u(N,O,K)})));for(const N of z){if(N.error)throw N.error;if(N.tokens)return N}return z.length>0?z[0]:null})}class v{constructor(x,A){this.provider=x,this.tokens=A}}function m(L,x){return L.has(x)}function w(L,x){const A=L.orderedGroups(x);return A.length>0?A[0]:[]}function E(L,x,A,k){return _(this,void 0,void 0,function*(){const W=w(L,x),H=yield Promise.all(W.map(z=>_(this,void 0,void 0,function*(){let N;try{N=yield z.provideDocumentRangeSemanticTokens(x,A,k)}catch(O){(0,t.Cp)(O),N=null}return(!N||!r(N))&&(N=null),new v(z,N)})));for(const z of H)if(z.tokens)return z;return H.length>0?H[0]:null})}f.P0.registerCommand("_provideDocumentSemanticTokensLegend",(L,...x)=>_(void 0,void 0,void 0,function*(){const[A]=x;(0,I.p_)(A instanceof l.o);const k=L.get(C.q).getModel(A);if(!k)return;const{documentSemanticTokensProvider:W}=L.get(D.p),H=function g(L,x){const A=L.orderedGroups(x);return A.length>0?A[0]:null}(W,k);return H?H[0].getLegend():L.get(f.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",A)})),f.P0.registerCommand("_provideDocumentSemanticTokens",(L,...x)=>_(void 0,void 0,void 0,function*(){const[A]=x;(0,I.p_)(A instanceof l.o);const k=L.get(C.q).getModel(A);if(!k)return;const{documentSemanticTokensProvider:W}=L.get(D.p);if(!n(W,k))return L.get(f.Hy).executeCommand("_provideDocumentRangeSemanticTokens",A,k.getFullModelRange());const H=yield y(W,k,null,null,s.T.None);if(!H)return;const{provider:z,tokens:N}=H;if(!N||!r(N))return;const O=(0,b.C)({id:0,type:"full",data:N.data});return N.resultId&&z.releaseDocumentSemanticTokens(N.resultId),O})),f.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(L,...x)=>_(void 0,void 0,void 0,function*(){const[A,k]=x;(0,I.p_)(A instanceof l.o);const W=L.get(C.q).getModel(A);if(!W)return;const{documentRangeSemanticTokensProvider:H}=L.get(D.p),z=w(H,W);if(0===z.length)return;if(1===z.length)return z[0].getLegend();if(!k||!S.e.isIRange(k))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),z[0].getLegend();const N=yield E(H,W,S.e.lift(k),s.T.None);return N?N.provider.getLegend():void 0})),f.P0.registerCommand("_provideDocumentRangeSemanticTokens",(L,...x)=>_(void 0,void 0,void 0,function*(){const[A,k]=x;(0,I.p_)(A instanceof l.o),(0,I.p_)(S.e.isIRange(k));const W=L.get(C.q).getModel(A);if(!W)return;const{documentRangeSemanticTokensProvider:H}=L.get(D.p),z=yield E(H,W,S.e.lift(k),s.T.None);return z&&z.tokens?(0,b.C)({id:0,type:"full",data:z.tokens.data}):void 0}))},54693:(yt,T,e)=>{"use strict";e.d(T,{A:()=>_});var s=e(50540),t=e(63312),l=e(23944),C=e(53708),f=e(30888),I=e(57908),b=e(78668);const _=(0,f.yh)("ILanguageFeatureDebounceService");var r;!function(n){const d=new WeakMap;let y=0;n.of=function g(v){let m=d.get(v);return void 0===m&&(m=++y,d.set(v,m)),m}}(r||(r={}));class a{constructor(d,y,g,v,m,w){this._logService=d,this._name=y,this._registry=g,this._default=v,this._min=m,this._max=w,this._cache=new t.z6(50,.7)}_key(d){return d.id+this._registry.all(d).reduce((y,g)=>(0,s.SP)(r.of(g),y),0)}get(d){const y=this._key(d),g=this._cache.get(y);return g?(0,l.uZ)(g.value,this._min,this._max):this.default()}update(d,y){const g=this._key(d);let v=this._cache.get(g);v||(v=new l.N(6),this._cache.set(g,v));const m=(0,l.uZ)(v.update(y),this._min,this._max);return(0,b.xn)(d.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${d.uri.toString()} is ${m}ms`),m}_overall(){const d=new l.nM;for(const[,y]of this._cache)d.update(y.value);return d.value}default(){const d=0|this._overall()||this._default;return(0,l.uZ)(d,this._min,this._max)}}let u=class{constructor(d){this._logService=d,this._data=new Map}for(d,y,g){var v,m,w;const E=null!==(v=g?.min)&&void 0!==v?v:50,L=null!==(m=g?.max)&&void 0!==m?m:Math.pow(E,2),x=null!==(w=g?.key)&&void 0!==w?w:void 0,A=`${r.of(d)},${E}${x?","+x:""}`;let k=this._data.get(A);return k||(k=new a(this._logService,y,d,0|this._overallAverage()||1.5*E,E,L),this._data.set(A,k)),k}_overallAverage(){const d=new l.nM;for(const y of this._data.values())d.update(y.default());return d.value}};var d;u=function(n,d,y,g){var w,v=arguments.length,m=v<3?d:null===g?g=Object.getOwnPropertyDescriptor(d,y):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(n,d,y,g);else for(var E=n.length-1;E>=0;E--)(w=n[E])&&(m=(v<3?w(m):v>3?w(d,y,m):w(d,y))||m);return v>3&&m&&Object.defineProperty(d,y,m),m}([(0,d=I.VZ,function(y,g){d(y,g,0)})],u),(0,C.z)(_,u,!0)},13154:(yt,T,e)=>{"use strict";e.d(T,{p:()=>t});const t=(0,e(30888).yh)("ILanguageFeaturesService")},65107:(yt,T,e)=>{"use strict";e.d(T,{T:()=>b});var s=e(31864),t=e(21576),l=e(25739),C=e(14940),f=e(64050),I=e(61669);let b=(()=>{class D extends t.JT{constructor(r=!1){super(),this._onDidEncounterLanguage=this._register(new s.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new s.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,D.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new l.t(!0,r)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){D.instanceCount--,super.dispose()}isRegisteredLanguageId(r){return this._registry.isRegisteredLanguageId(r)}getLanguageIdByLanguageName(r){return this._registry.getLanguageIdByLanguageName(r)}getLanguageIdByMimeType(r){return this._registry.getLanguageIdByMimeType(r)}guessLanguageIdByFilepathOrFirstLine(r,a){const u=this._registry.guessLanguageIdByFilepathOrFirstLine(r,a);return(0,C.Xh)(u,null)}createById(r){return new S(this.onDidChange,()=>this._createAndGetLanguageIdentifier(r))}createByFilepathOrFirstLine(r,a){return new S(this.onDidChange,()=>{const u=this.guessLanguageIdByFilepathOrFirstLine(r,a);return this._createAndGetLanguageIdentifier(u)})}_createAndGetLanguageIdentifier(r){return(!r||!this.isRegisteredLanguageId(r))&&(r=I.bd),this._encounteredLanguages.has(r)||(this._encounteredLanguages.add(r),f.RW.getOrCreate(r),this._onDidEncounterLanguage.fire(r)),r}}return D.instanceCount=0,D})();class S{constructor(_,r){this._onDidChangeLanguages=_,this._selector=r,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new s.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var _;const r=this._selector();r!==this.languageId&&(this.languageId=r,null===(_=this._emitter)||void 0===_||_.fire(this.languageId))}}},96713:(yt,T,e)=>{"use strict";e.d(T,{Jw:()=>r,ST:()=>d,UU:()=>n});var s=e(42951),t=e(98225),l=e(34059),C=e(83872),f=e(9590),I=e(77697),b=e(61669);let S=[],D=[],_=[];function r(m,w=!1){!function a(m,w,E){const L=function u(m,w){return{id:m.id,mime:m.mime,filename:m.filename,extension:m.extension,filepattern:m.filepattern,firstline:m.firstline,userConfigured:w,filenameLowercase:m.filename?m.filename.toLowerCase():void 0,extensionLowercase:m.extension?m.extension.toLowerCase():void 0,filepatternLowercase:m.filepattern?(0,s.Qc)(m.filepattern.toLowerCase()):void 0,filepatternOnPath:!!m.filepattern&&m.filepattern.indexOf(C.KR.sep)>=0}}(m,w);S.push(L),L.userConfigured?_.push(L):D.push(L),E&&!L.userConfigured&&S.forEach(x=>{x.mime===L.mime||x.userConfigured||(L.extension&&x.extension===L.extension&&console.warn(`Overwriting extension <<${L.extension}>> to now point to mime <<${L.mime}>>`),L.filename&&x.filename===L.filename&&console.warn(`Overwriting filename <<${L.filename}>> to now point to mime <<${L.mime}>>`),L.filepattern&&x.filepattern===L.filepattern&&console.warn(`Overwriting filepattern <<${L.filepattern}>> to now point to mime <<${L.mime}>>`),L.firstline&&x.firstline===L.firstline&&console.warn(`Overwriting firstline <<${L.firstline}>> to now point to mime <<${L.mime}>>`))})}(m,!1,w)}function n(){S=S.filter(m=>m.userConfigured),D=[]}function d(m,w){return function y(m,w){let E;if(m)switch(m.scheme){case l.lg.file:E=m.fsPath;break;case l.lg.data:E=f.Vb.parseMetaData(m).get(f.Vb.META_DATA_LABEL);break;case l.lg.vscodeNotebookCell:E=void 0;break;default:E=m.path}if(!E)return[{id:"unknown",mime:t.v.unknown}];E=E.toLowerCase();const L=(0,C.EZ)(E),x=g(E,L,_);if(x)return[x,{id:b.bd,mime:t.v.text}];const A=g(E,L,D);if(A)return[A,{id:b.bd,mime:t.v.text}];if(w){const k=function v(m){if((0,I.uS)(m)&&(m=m.substr(1)),m.length>0)for(let w=S.length-1;w>=0;w--){const E=S[w];if(!E.firstline)continue;const L=m.match(E.firstline);if(L&&L.length>0)return E}}(w);if(k)return[k,{id:b.bd,mime:t.v.text}]}return[{id:"unknown",mime:t.v.unknown}]}(m,w).map(E=>E.id)}function g(m,w,E){var L;let x,A,k;for(let W=E.length-1;W>=0;W--){const H=E[W];if(w===H.filenameLowercase){x=H;break}H.filepattern&&(!A||H.filepattern.length>A.filepattern.length)&&null!==(L=H.filepatternLowercase)&&void 0!==L&&L.call(H,H.filepatternOnPath?m:w)&&(A=H),H.extension&&(!k||H.extension.length>k.extension.length)&&w.endsWith(H.extensionLowercase)&&(k=H)}return x||A||k||void 0}},25739:(yt,T,e)=>{"use strict";e.d(T,{t:()=>a});var s=e(3219),t=e(31864),l=e(21576),C=e(77697),f=e(96713),I=e(61669),b=e(60828),S=e(25468);const D=Object.prototype.hasOwnProperty,_="vs.editor.nullLanguage";class r{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(_,0),this._register(I.bd,1),this._nextLanguageId=2}_register(n,d){this._languageIdToLanguage[d]=n,this._languageToLanguageId.set(n,d)}register(n){if(this._languageToLanguageId.has(n))return;const d=this._nextLanguageId++;this._register(n,d)}encodeLanguageId(n){return this._languageToLanguageId.get(n)||0}decodeLanguageId(n){return this._languageIdToLanguage[n]||_}}let a=(()=>{class u extends l.JT{constructor(d=!0,y=!1){super(),this._onDidChange=this._register(new t.Q5),this.onDidChange=this._onDidChange.event,u.instanceCount++,this._warnOnOverwrite=y,this.languageIdCodec=new r,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(I.dQ.onDidChangeLanguages(g=>{this._initializeFromRegistry()})))}dispose(){u.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,f.UU)();const d=[].concat(I.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(d)}_registerLanguages(d){for(const y of d)this._registerLanguage(y);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(y=>{const g=this._languages[y];g.name&&(this._nameMap[g.name]=g.identifier),g.aliases.forEach(v=>{this._lowercaseNameMap[v.toLowerCase()]=g.identifier}),g.mimetypes.forEach(v=>{this._mimeTypesMap[v]=g.identifier})}),S.B.as(b.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(d){const y=d.id;let g;D.call(this._languages,y)?g=this._languages[y]:(this.languageIdCodec.register(y),g={identifier:y,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[y]=g),this._mergeLanguage(g,d)}_mergeLanguage(d,y){const g=y.id;let v=null;if(Array.isArray(y.mimetypes)&&y.mimetypes.length>0&&(d.mimetypes.push(...y.mimetypes),v=y.mimetypes[0]),v||(v=`text/x-${g}`,d.mimetypes.push(v)),Array.isArray(y.extensions)){d.extensions=y.configuration?y.extensions.concat(d.extensions):d.extensions.concat(y.extensions);for(const E of y.extensions)(0,f.Jw)({id:g,mime:v,extension:E},this._warnOnOverwrite)}if(Array.isArray(y.filenames))for(const E of y.filenames)(0,f.Jw)({id:g,mime:v,filename:E},this._warnOnOverwrite),d.filenames.push(E);if(Array.isArray(y.filenamePatterns))for(const E of y.filenamePatterns)(0,f.Jw)({id:g,mime:v,filepattern:E},this._warnOnOverwrite);if("string"==typeof y.firstLine&&y.firstLine.length>0){let E=y.firstLine;"^"!==E.charAt(0)&&(E="^"+E);try{const L=new RegExp(E);(0,C.IO)(L)||(0,f.Jw)({id:g,mime:v,firstline:L},this._warnOnOverwrite)}catch(L){(0,s.dL)(L)}}d.aliases.push(g);let m=null;if(typeof y.aliases<"u"&&Array.isArray(y.aliases)&&(m=0===y.aliases.length?[null]:y.aliases),null!==m)for(const E of m)!E||0===E.length||d.aliases.push(E);const w=null!==m&&m.length>0;w&&null===m[0]||(w||!d.name)&&(d.name=(w?m[0]:null)||g),y.configuration&&d.configurationFiles.push(y.configuration),y.icon&&d.icons.push(y.icon)}isRegisteredLanguageId(d){return!!d&&D.call(this._languages,d)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(d){const y=d.toLowerCase();return D.call(this._lowercaseNameMap,y)?this._lowercaseNameMap[y]:null}getLanguageIdByMimeType(d){return d&&D.call(this._mimeTypesMap,d)?this._mimeTypesMap[d]:null}guessLanguageIdByFilepathOrFirstLine(d,y){return d||y?(0,f.ST)(d,y):[]}}return u.instanceCount=0,u})()},76470:(yt,T,e)=>{"use strict";e.d(T,{i:()=>t});const t=(0,e(30888).yh)("markerDecorationsService")},44378:(yt,T,e)=>{"use strict";e.d(T,{q:()=>t});const t=(0,e(30888).yh)("modelService")},99700:(yt,T,e)=>{"use strict";e.d(T,{b$:()=>q,e3:()=>R,tw:()=>Z});var s=e(31864),t=e(21576),l=e(84834),C=e(3219),f=e(53727),I=e(92164),b=e(61669),S=e(12375),D=e(44378),_=e(42930),r=e(56767),a=e(41883),u=e(71943),n=e(14089),d=e(57908),y=e(87532),g=e(50540),v=e(34062),m=e(34059),w=e(83021),E=e(98985),L=e(82941),x=e(15333),A=e(54693),k=e(44753),W=e(13154),H=function(xe,Me,Oe,se){var me,ce=arguments.length,Ee=ce<3?Me:null===se?se=Object.getOwnPropertyDescriptor(Me,Oe):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(xe,Me,Oe,se);else for(var Pe=xe.length-1;Pe>=0;Pe--)(me=xe[Pe])&&(Ee=(ce<3?me(Ee):ce>3?me(Me,Oe,Ee):me(Me,Oe))||Ee);return ce>3&&Ee&&Object.defineProperty(Me,Oe,Ee),Ee},z=function(xe,Me){return function(Oe,se){Me(Oe,se,xe)}};function N(xe){return xe.toString()}function O(xe){const Me=new g.yP,Oe=xe.createSnapshot();let se;for(;se=Oe.read();)Me.update(se);return Me.digest()}class K{constructor(Me,Oe,se){this._modelEventListeners=new t.SL,this.model=Me,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(Me.onWillDispose(()=>Oe(Me))),this._modelEventListeners.add(Me.onDidChangeLanguage(ce=>se(Me,ce)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(Me){this._disposeLanguageSelection(),this._languageSelection=Me,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(Me.languageId)),this.model.setMode(Me.languageId)}}const $=l.IJ||l.dz?1:2;class j{constructor(Me,Oe,se,ce,Ee,me,Pe,he){this.uri=Me,this.initialUndoRedoSnapshot=Oe,this.time=se,this.sharesUndoRedoStack=ce,this.heapSize=Ee,this.sha1=me,this.versionId=Pe,this.alternativeVersionId=he}}let q=class Wd extends t.JT{constructor(Me,Oe,se,ce,Ee,me,Pe,he,Fe){super(),this._configurationService=Me,this._resourcePropertiesService=Oe,this._themeService=se,this._logService=ce,this._undoRedoService=Ee,this._languageService=me,this._languageConfigurationService=Pe,this._languageFeatureDebounceService=he,this._onModelAdded=this._register(new s.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new s.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new s.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new Ce(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new J(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,Fe))}static _readModelOptions(Me,Oe){var se;let ce=I.D.tabSize;if(Me.editor&&typeof Me.editor.tabSize<"u"){const Ke=parseInt(Me.editor.tabSize,10);isNaN(Ke)||(ce=Ke),ce<1&&(ce=1)}let Ee=ce;if(Me.editor&&typeof Me.editor.indentSize<"u"&&"tabSize"!==Me.editor.indentSize){const Ke=parseInt(Me.editor.indentSize,10);isNaN(Ke)||(Ee=Ke),Ee<1&&(Ee=1)}let me=I.D.insertSpaces;Me.editor&&typeof Me.editor.insertSpaces<"u"&&(me="false"!==Me.editor.insertSpaces&&!!Me.editor.insertSpaces);let Pe=$;const he=Me.eol;"\r\n"===he?Pe=2:"\n"===he&&(Pe=1);let Fe=I.D.trimAutoWhitespace;Me.editor&&typeof Me.editor.trimAutoWhitespace<"u"&&(Fe="false"!==Me.editor.trimAutoWhitespace&&!!Me.editor.trimAutoWhitespace);let Ze=I.D.detectIndentation;Me.editor&&typeof Me.editor.detectIndentation<"u"&&(Ze="false"!==Me.editor.detectIndentation&&!!Me.editor.detectIndentation);let ze=I.D.largeFileOptimizations;Me.editor&&typeof Me.editor.largeFileOptimizations<"u"&&(ze="false"!==Me.editor.largeFileOptimizations&&!!Me.editor.largeFileOptimizations);let fe=I.D.bracketPairColorizationOptions;return!(null===(se=Me.editor)||void 0===se)&&se.bracketPairColorization&&"object"==typeof Me.editor.bracketPairColorization&&(fe={enabled:!!Me.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!Me.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Oe,tabSize:ce,indentSize:Ee,insertSpaces:me,detectIndentation:Ze,defaultEOL:Pe,trimAutoWhitespace:Fe,largeFileOptimizations:ze,bracketPairColorizationOptions:fe}}_getEOL(Me,Oe){if(Me)return this._resourcePropertiesService.getEOL(Me,Oe);const se=this._configurationService.getValue("files.eol",{overrideIdentifier:Oe});return se&&"string"==typeof se&&"auto"!==se?se:3===l.OS||2===l.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const Me=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof Me||Me}getCreationOptions(Me,Oe,se){let ce=this._modelCreationOptionsByLanguageAndResource[Me+Oe];if(!ce){const Ee=this._configurationService.getValue("editor",{overrideIdentifier:Me,resource:Oe}),me=this._getEOL(Oe,Me);ce=Wd._readModelOptions({editor:Ee,eol:me},se),this._modelCreationOptionsByLanguageAndResource[Me+Oe]=ce}return ce}_updateModelOptions(){const Me=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Oe=Object.keys(this._models);for(let se=0,ce=Oe.length;se<ce;se++){const me=this._models[Oe[se]],Pe=me.model.getLanguageId(),he=me.model.uri,Fe=Me[Pe+he],Ze=this.getCreationOptions(Pe,he,me.model.isForSimpleWidget);Wd._setModelOptionsForModel(me.model,Ze,Fe)}}static _setModelOptionsForModel(Me,Oe,se){se&&se.defaultEOL!==Oe.defaultEOL&&1===Me.getLineCount()&&Me.setEOL(1===Oe.defaultEOL?0:1),(!se||se.detectIndentation!==Oe.detectIndentation||se.insertSpaces!==Oe.insertSpaces||se.tabSize!==Oe.tabSize||se.indentSize!==Oe.indentSize||se.trimAutoWhitespace!==Oe.trimAutoWhitespace||!(0,L.fS)(se.bracketPairColorizationOptions,Oe.bracketPairColorizationOptions))&&(Oe.detectIndentation?(Me.detectIndentation(Oe.insertSpaces,Oe.tabSize),Me.updateOptions({trimAutoWhitespace:Oe.trimAutoWhitespace,bracketColorizationOptions:Oe.bracketPairColorizationOptions})):Me.updateOptions({insertSpaces:Oe.insertSpaces,tabSize:Oe.tabSize,indentSize:Oe.indentSize,trimAutoWhitespace:Oe.trimAutoWhitespace,bracketColorizationOptions:Oe.bracketPairColorizationOptions}))}_insertDisposedModel(Me){this._disposedModels.set(N(Me.uri),Me),this._disposedModelsHeapSize+=Me.heapSize}_removeDisposedModel(Me){const Oe=this._disposedModels.get(N(Me));return Oe&&(this._disposedModelsHeapSize-=Oe.heapSize),this._disposedModels.delete(N(Me)),Oe}_ensureDisposedModelsHeapSize(Me){if(this._disposedModelsHeapSize>Me){const Oe=[];for(this._disposedModels.forEach(se=>{se.sharesUndoRedoStack||Oe.push(se)}),Oe.sort((se,ce)=>se.time-ce.time);Oe.length>0&&this._disposedModelsHeapSize>Me;){const se=Oe.shift();this._removeDisposedModel(se.uri),null!==se.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(se.initialUndoRedoSnapshot)}}}_createModelData(Me,Oe,se,ce){const Ee=this.getCreationOptions(Oe,se,ce),me=new f.yO(Me,Oe,Ee,se,this._undoRedoService,this._languageService,this._languageConfigurationService);if(se&&this._disposedModels.has(N(se))){const Fe=this._removeDisposedModel(se),Ze=this._undoRedoService.getElements(se),ze=O(me)===Fe.sha1;if(ze||Fe.sharesUndoRedoStack){for(const fe of Ze.past)(0,v.e9)(fe)&&fe.matchesResource(se)&&fe.setModel(me);for(const fe of Ze.future)(0,v.e9)(fe)&&fe.matchesResource(se)&&fe.setModel(me);this._undoRedoService.setElementsValidFlag(se,!0,fe=>(0,v.e9)(fe)&&fe.matchesResource(se)),ze&&(me._overwriteVersionId(Fe.versionId),me._overwriteAlternativeVersionId(Fe.alternativeVersionId),me._overwriteInitialUndoRedoSnapshot(Fe.initialUndoRedoSnapshot))}else null!==Fe.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Fe.initialUndoRedoSnapshot)}const Pe=N(me.uri);if(this._models[Pe])throw new Error("ModelService: Cannot add model because it already exists!");const he=new K(me,Fe=>this._onWillDispose(Fe),(Fe,Ze)=>this._onDidChangeLanguage(Fe,Ze));return this._models[Pe]=he,he}createModel(Me,Oe,se,ce=!1){let Ee;return Oe?(Ee=this._createModelData(Me,Oe.languageId,se,ce),this.setMode(Ee.model,Oe)):Ee=this._createModelData(Me,b.bd,se,ce),this._onModelAdded.fire(Ee.model),Ee.model}setMode(Me,Oe){if(!Oe)return;const se=this._models[N(Me.uri)];se&&se.setLanguage(Oe)}getModels(){const Me=[],Oe=Object.keys(this._models);for(let se=0,ce=Oe.length;se<ce;se++)Me.push(this._models[Oe[se]].model);return Me}getModel(Me){const Oe=N(Me),se=this._models[Oe];return se?se.model:null}getSemanticTokensProviderStyling(Me){return this._semanticStyling.get(Me)}_schemaShouldMaintainUndoRedoElements(Me){return Me.scheme===m.lg.file||Me.scheme===m.lg.vscodeRemote||Me.scheme===m.lg.vscodeUserData||Me.scheme===m.lg.vscodeNotebookCell||"fake-fs"===Me.scheme}_onWillDispose(Me){const Oe=N(Me.uri),se=this._models[Oe],ce=this._undoRedoService.getUriComparisonKey(Me.uri)!==Me.uri.toString();let Ee=!1,me=0;if(ce||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(Me.uri)){const he=this._undoRedoService.getElements(Me.uri);if(he.past.length>0||he.future.length>0){for(const Fe of he.past)(0,v.e9)(Fe)&&Fe.matchesResource(Me.uri)&&(Ee=!0,me+=Fe.heapSize(Me.uri),Fe.setModel(Me.uri));for(const Fe of he.future)(0,v.e9)(Fe)&&Fe.matchesResource(Me.uri)&&(Ee=!0,me+=Fe.heapSize(Me.uri),Fe.setModel(Me.uri))}}const Pe=Wd.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ee)if(!ce&&me>Pe){const he=se.model.getInitialUndoRedoSnapshot();null!==he&&this._undoRedoService.restoreSnapshot(he)}else this._ensureDisposedModelsHeapSize(Pe-me),this._undoRedoService.setElementsValidFlag(Me.uri,!1,he=>(0,v.e9)(he)&&he.matchesResource(Me.uri)),this._insertDisposedModel(new j(Me.uri,se.model.getInitialUndoRedoSnapshot(),Date.now(),ce,me,O(Me),Me.getVersionId(),Me.getAlternativeVersionId()));else if(!ce){const he=se.model.getInitialUndoRedoSnapshot();null!==he&&this._undoRedoService.restoreSnapshot(he)}delete this._models[Oe],se.dispose(),delete this._modelCreationOptionsByLanguageAndResource[Me.getLanguageId()+Me.uri],this._onModelRemoved.fire(Me)}_onDidChangeLanguage(Me,Oe){const se=Oe.oldLanguage,ce=Me.getLanguageId(),Ee=this.getCreationOptions(se,Me.uri,Me.isForSimpleWidget),me=this.getCreationOptions(ce,Me.uri,Me.isForSimpleWidget);Wd._setModelOptionsForModel(Me,me,Ee),this._onModelModeChanged.fire({model:Me,oldLanguageId:se})}};q.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,q=H([z(0,r.Ui),z(1,_.y),z(2,n.XE),z(3,d.VZ),z(4,y.tJ),z(5,S.O),z(6,x.c_),z(7,A.A),z(8,W.p)],q);const R="editor.semanticHighlighting";function Z(xe,Me,Oe){var se;const ce=null===(se=Oe.getValue(R,{overrideIdentifier:xe.getLanguageId(),resource:xe.uri}))||void 0===se?void 0:se.enabled;return"boolean"==typeof ce?ce:Me.getColorTheme().semanticHighlighting}let J=class extends t.JT{constructor(Me,Oe,se,ce,Ee,me){super(),this._watchers=Object.create(null),this._semanticStyling=Me;const Pe=Ze=>{this._watchers[Ze.uri.toString()]=new Ie(Ze,this._semanticStyling,se,Ee,me)},he=(Ze,ze)=>{ze.dispose(),delete this._watchers[Ze.uri.toString()]},Fe=()=>{for(const Ze of Oe.getModels()){const ze=this._watchers[Ze.uri.toString()];Z(Ze,se,ce)?ze||Pe(Ze):ze&&he(Ze,ze)}};this._register(Oe.onModelAdded(Ze=>{Z(Ze,se,ce)&&Pe(Ze)})),this._register(Oe.onModelRemoved(Ze=>{const ze=this._watchers[Ze.uri.toString()];ze&&he(Ze,ze)})),this._register(ce.onDidChangeConfiguration(Ze=>{Ze.affectsConfiguration(R)&&Fe()})),this._register(se.onDidColorThemeChange(Fe))}dispose(){for(const Me of Object.values(this._watchers))Me.dispose();super.dispose()}};J=H([z(1,D.q),z(2,n.XE),z(3,r.Ui),z(4,A.A),z(5,W.p)],J);class Ce extends t.JT{constructor(Me,Oe,se){super(),this._themeService=Me,this._languageService=Oe,this._logService=se,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(Me){return this._caches.has(Me)||this._caches.set(Me,new w.$(Me.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(Me)}}class Se{constructor(Me,Oe,se){this.provider=Me,this.resultId=Oe,this.data=se}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let Ie=class Fl extends t.JT{constructor(Me,Oe,se,ce,Ee){super(),this._isDisposed=!1,this._model=Me,this._semanticStyling=Oe,this._provider=Ee.documentSemanticTokensProvider,this._debounceInformation=ce.for(this._provider,"DocumentSemanticTokens",{min:Fl.REQUEST_MIN_DELAY,max:Fl.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new a.pY(()=>this._fetchDocumentSemanticTokensNow(),Fl.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const me=()=>{(0,t.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Pe of this._provider.all(Me))"function"==typeof Pe.onDidChange&&this._documentProvidersChangeListeners.push(Pe.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};me(),this._register(this._provider.onDidChange(()=>{me(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(se.onDidColorThemeChange(Pe=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,E.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));const Me=new u.A,ce=(0,E.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,Me.token);this._currentDocumentRequestCancellationTokenSource=Me;const Ee=[],me=this._model.onDidChangeContent(he=>{Ee.push(he)}),Pe=new k.G(!1);ce.then(he=>{if(this._debounceInformation.update(this._model,Pe.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,me.dispose(),he){const{provider:Fe,tokens:Ze}=he,ze=this._semanticStyling.get(Fe);this._setDocumentSemanticTokens(Fe,Ze||null,ze,Ee)}else this._setDocumentSemanticTokens(null,null,null,Ee)},he=>{he&&(C.n2(he)||"string"==typeof he.message&&-1!==he.message.indexOf("busy"))||C.dL(he),this._currentDocumentRequestCancellationTokenSource=null,me.dispose(),Ee.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(Me,Oe,se,ce,Ee){Ee=Math.min(Ee,se.length-ce,Me.length-Oe);for(let me=0;me<Ee;me++)se[ce+me]=Me[Oe+me]}_setDocumentSemanticTokens(Me,Oe,se,ce){const Ee=this._currentDocumentResponse,me=()=>{ce.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)Me&&Oe&&Me.releaseDocumentSemanticTokens(Oe.resultId);else if(Me&&se){if(!Oe)return this._model.tokenization.setSemanticTokens(null,!0),void me();if((0,E.Vj)(Oe)){if(!Ee)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===Oe.edits.length)Oe={resultId:Oe.resultId,data:Ee.data};else{let Pe=0;for(const fe of Oe.edits)Pe+=(fe.data?fe.data.length:0)-fe.deleteCount;const he=Ee.data,Fe=new Uint32Array(he.length+Pe);let Ze=he.length,ze=Fe.length;for(let fe=Oe.edits.length-1;fe>=0;fe--){const Ke=Oe.edits[fe];if(Ke.start>he.length)return se.warnInvalidEditStart(Ee.resultId,Oe.resultId,fe,Ke.start,he.length),void this._model.tokenization.setSemanticTokens(null,!0);const Je=Ze-(Ke.start+Ke.deleteCount);Je>0&&(Fl._copy(he,Ze-Je,Fe,ze-Je,Je),ze-=Je),Ke.data&&(Fl._copy(Ke.data,0,Fe,ze-Ke.data.length,Ke.data.length),ze-=Ke.data.length),Ze=Ke.start}Ze>0&&Fl._copy(he,0,Fe,0,Ze),Oe={resultId:Oe.resultId,data:Fe}}}if((0,E.Vl)(Oe)){this._currentDocumentResponse=new Se(Me,Oe.resultId,Oe.data);const Pe=(0,w.h)(Oe,se,this._model.getLanguageId());if(ce.length>0)for(const he of ce)for(const Fe of Pe)for(const Ze of he.changes)Fe.applyEdit(Ze.range,Ze.text);this._model.tokenization.setSemanticTokens(Pe,!0)}else this._model.tokenization.setSemanticTokens(null,!0);me()}else this._model.tokenization.setSemanticTokens(null,!1)}};Ie.REQUEST_MIN_DELAY=300,Ie.REQUEST_MAX_DELAY=2e3,Ie=H([z(2,n.XE),z(3,A.A),z(4,W.p)],Ie)},97953:(yt,T,e)=>{"use strict";e.d(T,{S:()=>t});const t=(0,e(30888).yh)("textModelService")},10664:(yt,T,e)=>{"use strict";e.d(T,{C:()=>f});var s=e(28554),t=e(84834);function f(b){const S=new Uint32Array(function I(b){let S=0;if(S+=2,"full"===b.type)S+=1+b.data.length;else{S+=1,S+=3*b.deltas.length;for(const D of b.deltas)D.data&&(S+=D.data.length)}return S}(b));let D=0;if(S[D++]=b.id,"full"===b.type)S[D++]=1,S[D++]=b.data.length,S.set(b.data,D),D+=b.data.length;else{S[D++]=2,S[D++]=b.deltas.length;for(const _ of b.deltas)S[D++]=_.start,S[D++]=_.deleteCount,_.data?(S[D++]=_.data.length,S.set(_.data,D),D+=_.data.length):S[D++]=0}return function C(b){const S=new Uint8Array(b.buffer,b.byteOffset,4*b.length);return t.r()||function l(b){for(let S=0,D=b.length;S<D;S+=4){const _=b[S+0],r=b[S+1],a=b[S+2];b[S+0]=b[S+3],b[S+1]=a,b[S+2]=r,b[S+3]=_}}(S),s.KN.wrap(S)}(S)}},83021:(yt,T,e)=>{"use strict";e.d(T,{$:()=>u,h:()=>n});var s=e(90035),t=e(14089),l=e(57908),C=e(13902),f=e(88154),I=e(48661);class b{constructor(v,m){this._startLineNumber=v,this._tokens=m,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(v,m){return new b(v,new S(m))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(v){return this._startLineNumber<=v&&v<=this._endLineNumber?this._tokens.getLineTokens(v-this._startLineNumber):null}getRange(){const v=this._tokens.getRange();return v&&new f.e(this._startLineNumber+v.startLineNumber,v.startColumn,this._startLineNumber+v.endLineNumber,v.endColumn)}removeTokens(v){this._startLineNumber+=this._tokens.removeTokens(v.startLineNumber-this._startLineNumber,v.startColumn-1,v.endLineNumber-this._startLineNumber,v.endColumn-1),this._updateEndLineNumber()}split(v){const m=v.startLineNumber-this._startLineNumber,w=v.endLineNumber-this._startLineNumber,[E,L,x]=this._tokens.split(m,v.startColumn-1,w,v.endColumn-1);return[new b(this._startLineNumber,E),new b(this._startLineNumber+x,L)]}applyEdit(v,m){const[w,E,L]=(0,I.Q)(m);this.acceptEdit(v,w,E,L,m.length>0?m.charCodeAt(0):0)}acceptEdit(v,m,w,E,L){this._acceptDeleteRange(v),this._acceptInsertText(new C.L(v.startLineNumber,v.startColumn),m,w,E,L),this._updateEndLineNumber()}_acceptDeleteRange(v){if(v.startLineNumber===v.endLineNumber&&v.startColumn===v.endColumn)return;const m=v.startLineNumber-this._startLineNumber,w=v.endLineNumber-this._startLineNumber;if(w<0)return void(this._startLineNumber-=w-m);const E=this._tokens.getMaxDeltaLine();if(!(m>=E+1)){if(m<0&&w>=E+1)return this._startLineNumber=0,void this._tokens.clear();m<0?(this._startLineNumber-=-m,this._tokens.acceptDeleteRange(v.startColumn-1,0,0,w,v.endColumn-1)):this._tokens.acceptDeleteRange(0,m,v.startColumn-1,w,v.endColumn-1)}}_acceptInsertText(v,m,w,E,L){if(0===m&&0===w)return;const x=v.lineNumber-this._startLineNumber;x<0?this._startLineNumber+=m:x>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(x,v.column-1,m,w,E,L)}}class S{constructor(v){this._tokens=v,this._tokenCount=v.length/4}toString(v){const m=[];for(let w=0;w<this._tokenCount;w++)m.push(`(${this._getDeltaLine(w)+v},${this._getStartCharacter(w)}-${this._getEndCharacter(w)})`);return`[${m.join(",")}]`}getMaxDeltaLine(){const v=this._getTokenCount();return 0===v?-1:this._getDeltaLine(v-1)}getRange(){const v=this._getTokenCount();if(0===v)return null;const m=this._getStartCharacter(0),w=this._getDeltaLine(v-1),E=this._getEndCharacter(v-1);return new f.e(0,m+1,w,E+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(v){return this._tokens[4*v]}_getStartCharacter(v){return this._tokens[4*v+1]}_getEndCharacter(v){return this._tokens[4*v+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(v){let m=0,w=this._getTokenCount()-1;for(;m<w;){const E=m+Math.floor((w-m)/2),L=this._getDeltaLine(E);if(L<v)m=E+1;else{if(!(L>v)){let x=E;for(;x>m&&this._getDeltaLine(x-1)===v;)x--;let A=E;for(;A<w&&this._getDeltaLine(A+1)===v;)A++;return new D(this._tokens.subarray(4*x,4*A+4))}w=E-1}}return this._getDeltaLine(m)===v?new D(this._tokens.subarray(4*m,4*m+4)):null}clear(){this._tokenCount=0}removeTokens(v,m,w,E){const L=this._tokens,x=this._tokenCount;let A=0,k=!1,W=0;for(let H=0;H<x;H++){const z=4*H,N=L[z],O=L[z+1],K=L[z+2],$=L[z+3];if((N>v||N===v&&K>=m)&&(N<w||N===w&&O<=E))k=!0;else{if(0===A&&(W=N),k){const j=4*A;L[j]=N-W,L[j+1]=O,L[j+2]=K,L[j+3]=$}A++}}return this._tokenCount=A,W}split(v,m,w,E){const L=this._tokens,x=this._tokenCount,A=[],k=[];let W=A,H=0,z=0;for(let N=0;N<x;N++){const O=4*N,K=L[O],$=L[O+1],j=L[O+2],q=L[O+3];if(K>v||K===v&&j>=m){if(K<w||K===w&&$<=E)continue;W!==k&&(W=k,H=0,z=K)}W[H++]=K-z,W[H++]=$,W[H++]=j,W[H++]=q}return[new S(new Uint32Array(A)),new S(new Uint32Array(k)),z]}acceptDeleteRange(v,m,w,E,L){const x=this._tokens,A=this._tokenCount,k=E-m;let W=0,H=!1;for(let z=0;z<A;z++){const N=4*z;let O=x[N],K=x[N+1],$=x[N+2];const j=x[N+3];if(O<m||O===m&&$<=w){W++;continue}if(O===m&&K<w)O===E&&$>L?$-=L-w:$=w;else if(O===m&&K===w){if(!(O===E&&$>L)){H=!0;continue}$-=L-w}else if(O<E||O===E&&K<L){if(!(O===E&&$>L)){H=!0;continue}O===m?(K=w,$=K+($-L)):(K=0,$=K+($-L))}else if(O>E){if(0===k&&!H){W=A;break}O-=k}else{if(!(O===E&&K>=L))throw new Error("Not possible!");v&&0===O&&(K+=v,$+=v),O-=k,K-=L-w,$-=L-w}const q=4*W;x[q]=O,x[q+1]=K,x[q+2]=$,x[q+3]=j,W++}this._tokenCount=W}acceptInsertText(v,m,w,E,L,x){const A=0===w&&1===E&&(x>=48&&x<=57||x>=65&&x<=90||x>=97&&x<=122),k=this._tokens,W=this._tokenCount;for(let H=0;H<W;H++){const z=4*H;let N=k[z],O=k[z+1],K=k[z+2];if(!(N<v||N===v&&K<m)){if(N===v&&K===m){if(!A)continue;K+=1}else if(N===v&&O<m&&m<K)0===w?K+=E:K=m;else{if(N===v&&O===m&&A)continue;if(N===v)if(N+=w,0===w)O+=E,K+=E;else{const $=K-O;O=L+(O-m),K=O+$}else N+=w}k[z]=N,k[z+1]=O,k[z+2]=K}}}}class D{constructor(v){this._tokens=v}getCount(){return this._tokens.length/4}getStartCharacter(v){return this._tokens[4*v+1]}getEndCharacter(v){return this._tokens[4*v+2]}getMetadata(v){return this._tokens[4*v+3]}}var _=e(12375),a=function(g,v){return function(m,w){v(m,w,g)}};let u=class{constructor(v,m,w,E){this._legend=v,this._themeService=m,this._languageService=w,this._logService=E,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new y}getMetadata(v,m,w){const E=this._languageService.languageIdCodec.encodeLanguageId(w),L=this._hashTable.get(v,m,E);let x;if(L)x=L.metadata,this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${v} / ${m}: foreground ${s.N.getForeground(x)}, fontStyle ${s.N.getFontStyle(x).toString(2)}`);else{let A=this._legend.tokenTypes[v];const k=[];if(A){let W=m;for(let z=0;W>0&&z<this._legend.tokenModifiers.length;z++)1&W&&k.push(this._legend.tokenModifiers[z]),W>>=1;W>0&&this._logService.getLevel()===l.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${m.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),k.push("not-in-legend"));const H=this._themeService.getColorTheme().getTokenStyleMetadata(A,k,w);typeof H>"u"?x=2147483647:(x=0,typeof H.italic<"u"&&(x|=1|(H.italic?1:0)<<11),typeof H.bold<"u"&&(x|=2|(H.bold?2:0)<<11),typeof H.underline<"u"&&(x|=4|(H.underline?4:0)<<11),typeof H.strikethrough<"u"&&(x|=8|(H.strikethrough?8:0)<<11),H.foreground&&(x|=16|H.foreground<<15),0===x&&(x=2147483647))}else this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${v} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),x=2147483647,A="not-in-legend";this._hashTable.add(v,m,E,x),this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${v} (${A}) / ${m} (${k.join(" ")}): foreground ${s.N.getForeground(x)}, fontStyle ${s.N.getFontStyle(x).toString(2)}`)}return x}warnOverlappingSemanticTokens(v,m){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${v}, column ${m}`))}warnInvalidLengthSemanticTokens(v,m){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${v}, column ${m}`))}warnInvalidEditStart(v,m,w,E,L){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${v}, resultId: ${m}) at edit #${w}: The provided start offset ${E} is outside the previous data (length ${L}).`))}};function n(g,v,m){const w=g.data,E=g.data.length/5|0,L=Math.max(Math.ceil(E/1024),400),x=[];let A=0,k=1,W=0;for(;A<E;){const H=A;let z=Math.min(H+L,E);if(z<E){let R=z;for(;R-1>H&&0===w[5*R];)R--;if(R-1===H){let Z=z;for(;Z+1<E&&0===w[5*Z];)Z++;z=Z}else z=R}let N=new Uint32Array(4*(z-H)),O=0,K=0,$=0,j=0;for(;A<z;){const R=5*A,Z=w[R],J=w[R+1],Ce=k+Z|0,Se=0===Z?W+J|0:J,xe=Se+w[R+2]|0,Me=w[R+3],Oe=w[R+4];if(xe<=Se)v.warnInvalidLengthSemanticTokens(Ce,Se+1);else if($===Ce&&j>Se)v.warnOverlappingSemanticTokens(Ce,Se+1);else{const se=v.getMetadata(Me,Oe,m);2147483647!==se&&(0===K&&(K=Ce),N[O]=Ce-K,N[O+1]=Se,N[O+2]=xe,N[O+3]=se,O+=4,$=Ce,j=xe)}k=Ce,W=Se,A++}O!==N.length&&(N=N.subarray(0,O));const q=b.create(K,N);x.push(q)}return x}u=function(g,v,m,w){var x,E=arguments.length,L=E<3?v:null===w?w=Object.getOwnPropertyDescriptor(v,m):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(g,v,m,w);else for(var A=g.length-1;A>=0;A--)(x=g[A])&&(L=(E<3?x(L):E>3?x(v,m,L):x(v,m))||L);return E>3&&L&&Object.defineProperty(v,m,L),L}([a(1,t.XE),a(2,_.O),a(3,l.VZ)],u);class d{constructor(v,m,w,E){this.tokenTypeIndex=v,this.tokenModifierSet=m,this.languageId=w,this.metadata=E,this.next=null}}let y=(()=>{class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(m,w){for(let E=0;E<w;E++)m[E]=null}_hash2(m,w){return(m<<5)-m+w|0}_hashFunc(m,w,E){return this._hash2(this._hash2(m,w),E)%this._currentLength}get(m,w,E){const L=this._hashFunc(m,w,E);let x=this._elements[L];for(;x;){if(x.tokenTypeIndex===m&&x.tokenModifierSet===w&&x.languageId===E)return x;x=x.next}return null}add(m,w,E,L){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const x=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const A of x){let k=A;for(;k;){const W=k.next;k.next=null,this._add(k),k=W}}}this._add(new d(m,w,E,L))}_add(m){const w=this._hashFunc(m.tokenTypeIndex,m.tokenModifierSet,m.languageId);m.next=this._elements[w],this._elements[w]=m}}return g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],g})()},42930:(yt,T,e)=>{"use strict";e.d(T,{V:()=>t,y:()=>l});var s=e(30888);const t=(0,s.yh)("textResourceConfigurationService"),l=(0,s.yh)("textResourcePropertiesService")},70172:(yt,T,e)=>{"use strict";e.d(T,{a:()=>I});var s=e(88154),t=e(7080),l=e(77697),C=e(22070),f=e(38022);class I{static computeUnicodeHighlights(r,a,u){const n=u?u.startLineNumber:1,d=u?u.endLineNumber:r.getLineCount(),y=new S(a),g=y.getCandidateCodePoints();let v;v="allNonBasicAscii"===g?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function b(_,r){return`[${l.ec(_.map(u=>String.fromCodePoint(u)).join(""))}]`}(Array.from(g))}`,"g");const m=new t.sz(null,v),w=[];let L,E=!1,x=0,A=0,k=0;e:for(let W=n,H=d;W<=H;W++){const z=r.getLineContent(W),N=z.length;m.reset(0);do{if(L=m.next(z),L){let O=L.index,K=L.index+L[0].length;if(O>0){const R=z.charCodeAt(O-1);l.ZG(R)&&O--}if(K+1<N){const R=z.charCodeAt(K-1);l.ZG(R)&&K++}const $=z.substring(O,K),j=(0,f.t2)(O+1,f.Af,z,0),q=y.shouldHighlightNonBasicASCII($,j?j.word:null);if(0!==q){if(3===q?x++:2===q?A++:1===q?k++:(0,C.vE)(q),w.length>=1e3){E=!0;break e}w.push(new s.e(W,O+1,W,K+1))}}}while(L)}return{ranges:w,hasMore:E,ambiguousCharacterCount:x,invisibleCharacterCount:A,nonBasicAsciiCharacterCount:k}}static computeUnicodeHighlightReason(r,a){const u=new S(a);switch(u.shouldHighlightNonBasicASCII(r,null)){case 0:return null;case 2:return{kind:1};case 3:{const d=r.codePointAt(0),y=u.ambiguousCharacters.getPrimaryConfusable(d),g=l.ZK.getLocales().filter(v=>!l.ZK.getInstance(new Set([...a.allowedLocales,v])).isAmbiguous(d));return{kind:0,confusableWith:String.fromCodePoint(y),notAmbiguousInLocales:g}}case 1:return{kind:2}}}}class S{constructor(r){this.options=r,this.allowedCodePoints=new Set(r.allowedCodePoints),this.ambiguousCharacters=l.ZK.getInstance(new Set(r.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const r=new Set;if(this.options.invisibleCharacters)for(const a of l.vU.codePoints)D(String.fromCodePoint(a))||r.add(a);if(this.options.ambiguousCharacters)for(const a of this.ambiguousCharacters.getConfusableCodePoints())r.add(a);for(const a of this.allowedCodePoints)r.delete(a);return r}shouldHighlightNonBasicASCII(r,a){const u=r.codePointAt(0);if(this.allowedCodePoints.has(u))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,d=!1;if(a)for(const y of a){const g=y.codePointAt(0),v=l.$i(y);n=n||v,!v&&!this.ambiguousCharacters.isAmbiguous(g)&&!l.vU.isInvisibleCharacter(g)&&(d=!0)}return!n&&d?0:this.options.invisibleCharacters&&!D(r)&&l.vU.isInvisibleCharacter(u)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(u)?3:0}}function D(_){return" "===_||"\n"===_||"\t"===_}},16245:(yt,T,e)=>{"use strict";e.d(T,{E$:()=>A,F5:()=>L,Ij:()=>I,In:()=>R,Lu:()=>H,MG:()=>x,MY:()=>_,OI:()=>J,RM:()=>y,VD:()=>m,Vi:()=>S,WW:()=>$,ZL:()=>w,_x:()=>D,a$:()=>K,a7:()=>l,ao:()=>s,bw:()=>v,cR:()=>j,cm:()=>C,d2:()=>Z,eB:()=>E,g4:()=>N,g_:()=>O,gl:()=>g,gm:()=>u,jl:()=>n,np:()=>t,py:()=>W,r3:()=>b,r4:()=>q,rf:()=>r,sh:()=>k,up:()=>Ce,vQ:()=>z,wT:()=>a,wU:()=>d,we:()=>f});var s=(()=>((s=s||{})[s.Unknown=0]="Unknown",s[s.Disabled=1]="Disabled",s[s.Enabled=2]="Enabled",s))(),t=(()=>((t=t||{})[t.Invoke=1]="Invoke",t[t.Auto=2]="Auto",t))(),l=(()=>((l=l||{})[l.KeepWhitespace=1]="KeepWhitespace",l[l.InsertAsSnippet=4]="InsertAsSnippet",l))(),C=(()=>((C=C||{})[C.Method=0]="Method",C[C.Function=1]="Function",C[C.Constructor=2]="Constructor",C[C.Field=3]="Field",C[C.Variable=4]="Variable",C[C.Class=5]="Class",C[C.Struct=6]="Struct",C[C.Interface=7]="Interface",C[C.Module=8]="Module",C[C.Property=9]="Property",C[C.Event=10]="Event",C[C.Operator=11]="Operator",C[C.Unit=12]="Unit",C[C.Value=13]="Value",C[C.Constant=14]="Constant",C[C.Enum=15]="Enum",C[C.EnumMember=16]="EnumMember",C[C.Keyword=17]="Keyword",C[C.Text=18]="Text",C[C.Color=19]="Color",C[C.File=20]="File",C[C.Reference=21]="Reference",C[C.Customcolor=22]="Customcolor",C[C.Folder=23]="Folder",C[C.TypeParameter=24]="TypeParameter",C[C.User=25]="User",C[C.Issue=26]="Issue",C[C.Snippet=27]="Snippet",C))(),f=(()=>((f=f||{})[f.Deprecated=1]="Deprecated",f))(),I=(()=>((I=I||{})[I.Invoke=0]="Invoke",I[I.TriggerCharacter=1]="TriggerCharacter",I[I.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",I))(),b=(()=>((b=b||{})[b.EXACT=0]="EXACT",b[b.ABOVE=1]="ABOVE",b[b.BELOW=2]="BELOW",b))(),S=(()=>((S=S||{})[S.NotSet=0]="NotSet",S[S.ContentFlush=1]="ContentFlush",S[S.RecoverFromMarkers=2]="RecoverFromMarkers",S[S.Explicit=3]="Explicit",S[S.Paste=4]="Paste",S[S.Undo=5]="Undo",S[S.Redo=6]="Redo",S))(),D=(()=>((D=D||{})[D.LF=1]="LF",D[D.CRLF=2]="CRLF",D))(),_=(()=>((_=_||{})[_.Text=0]="Text",_[_.Read=1]="Read",_[_.Write=2]="Write",_))(),r=(()=>((r=r||{})[r.None=0]="None",r[r.Keep=1]="Keep",r[r.Brackets=2]="Brackets",r[r.Advanced=3]="Advanced",r[r.Full=4]="Full",r))(),a=(()=>((a=a||{})[a.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",a[a.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",a[a.accessibilitySupport=2]="accessibilitySupport",a[a.accessibilityPageSize=3]="accessibilityPageSize",a[a.ariaLabel=4]="ariaLabel",a[a.autoClosingBrackets=5]="autoClosingBrackets",a[a.autoClosingDelete=6]="autoClosingDelete",a[a.autoClosingOvertype=7]="autoClosingOvertype",a[a.autoClosingQuotes=8]="autoClosingQuotes",a[a.autoIndent=9]="autoIndent",a[a.automaticLayout=10]="automaticLayout",a[a.autoSurround=11]="autoSurround",a[a.bracketPairColorization=12]="bracketPairColorization",a[a.guides=13]="guides",a[a.codeLens=14]="codeLens",a[a.codeLensFontFamily=15]="codeLensFontFamily",a[a.codeLensFontSize=16]="codeLensFontSize",a[a.colorDecorators=17]="colorDecorators",a[a.columnSelection=18]="columnSelection",a[a.comments=19]="comments",a[a.contextmenu=20]="contextmenu",a[a.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",a[a.cursorBlinking=22]="cursorBlinking",a[a.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",a[a.cursorStyle=24]="cursorStyle",a[a.cursorSurroundingLines=25]="cursorSurroundingLines",a[a.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",a[a.cursorWidth=27]="cursorWidth",a[a.disableLayerHinting=28]="disableLayerHinting",a[a.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",a[a.domReadOnly=30]="domReadOnly",a[a.dragAndDrop=31]="dragAndDrop",a[a.dropIntoEditor=32]="dropIntoEditor",a[a.emptySelectionClipboard=33]="emptySelectionClipboard",a[a.experimental=34]="experimental",a[a.extraEditorClassName=35]="extraEditorClassName",a[a.fastScrollSensitivity=36]="fastScrollSensitivity",a[a.find=37]="find",a[a.fixedOverflowWidgets=38]="fixedOverflowWidgets",a[a.folding=39]="folding",a[a.foldingStrategy=40]="foldingStrategy",a[a.foldingHighlight=41]="foldingHighlight",a[a.foldingImportsByDefault=42]="foldingImportsByDefault",a[a.foldingMaximumRegions=43]="foldingMaximumRegions",a[a.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",a[a.fontFamily=45]="fontFamily",a[a.fontInfo=46]="fontInfo",a[a.fontLigatures=47]="fontLigatures",a[a.fontSize=48]="fontSize",a[a.fontWeight=49]="fontWeight",a[a.formatOnPaste=50]="formatOnPaste",a[a.formatOnType=51]="formatOnType",a[a.glyphMargin=52]="glyphMargin",a[a.gotoLocation=53]="gotoLocation",a[a.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",a[a.hover=55]="hover",a[a.inDiffEditor=56]="inDiffEditor",a[a.inlineSuggest=57]="inlineSuggest",a[a.letterSpacing=58]="letterSpacing",a[a.lightbulb=59]="lightbulb",a[a.lineDecorationsWidth=60]="lineDecorationsWidth",a[a.lineHeight=61]="lineHeight",a[a.lineNumbers=62]="lineNumbers",a[a.lineNumbersMinChars=63]="lineNumbersMinChars",a[a.linkedEditing=64]="linkedEditing",a[a.links=65]="links",a[a.matchBrackets=66]="matchBrackets",a[a.minimap=67]="minimap",a[a.mouseStyle=68]="mouseStyle",a[a.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",a[a.mouseWheelZoom=70]="mouseWheelZoom",a[a.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",a[a.multiCursorModifier=72]="multiCursorModifier",a[a.multiCursorPaste=73]="multiCursorPaste",a[a.occurrencesHighlight=74]="occurrencesHighlight",a[a.overviewRulerBorder=75]="overviewRulerBorder",a[a.overviewRulerLanes=76]="overviewRulerLanes",a[a.padding=77]="padding",a[a.parameterHints=78]="parameterHints",a[a.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",a[a.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",a[a.quickSuggestions=81]="quickSuggestions",a[a.quickSuggestionsDelay=82]="quickSuggestionsDelay",a[a.readOnly=83]="readOnly",a[a.renameOnType=84]="renameOnType",a[a.renderControlCharacters=85]="renderControlCharacters",a[a.renderFinalNewline=86]="renderFinalNewline",a[a.renderLineHighlight=87]="renderLineHighlight",a[a.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",a[a.renderValidationDecorations=89]="renderValidationDecorations",a[a.renderWhitespace=90]="renderWhitespace",a[a.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",a[a.roundedSelection=92]="roundedSelection",a[a.rulers=93]="rulers",a[a.scrollbar=94]="scrollbar",a[a.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",a[a.scrollBeyondLastLine=96]="scrollBeyondLastLine",a[a.scrollPredominantAxis=97]="scrollPredominantAxis",a[a.selectionClipboard=98]="selectionClipboard",a[a.selectionHighlight=99]="selectionHighlight",a[a.selectOnLineNumbers=100]="selectOnLineNumbers",a[a.showFoldingControls=101]="showFoldingControls",a[a.showUnused=102]="showUnused",a[a.snippetSuggestions=103]="snippetSuggestions",a[a.smartSelect=104]="smartSelect",a[a.smoothScrolling=105]="smoothScrolling",a[a.stickyTabStops=106]="stickyTabStops",a[a.stopRenderingLineAfter=107]="stopRenderingLineAfter",a[a.suggest=108]="suggest",a[a.suggestFontSize=109]="suggestFontSize",a[a.suggestLineHeight=110]="suggestLineHeight",a[a.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",a[a.suggestSelection=112]="suggestSelection",a[a.tabCompletion=113]="tabCompletion",a[a.tabIndex=114]="tabIndex",a[a.unicodeHighlighting=115]="unicodeHighlighting",a[a.unusualLineTerminators=116]="unusualLineTerminators",a[a.useShadowDOM=117]="useShadowDOM",a[a.useTabStops=118]="useTabStops",a[a.wordSeparators=119]="wordSeparators",a[a.wordWrap=120]="wordWrap",a[a.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",a[a.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",a[a.wordWrapColumn=123]="wordWrapColumn",a[a.wordWrapOverride1=124]="wordWrapOverride1",a[a.wordWrapOverride2=125]="wordWrapOverride2",a[a.wrappingIndent=126]="wrappingIndent",a[a.wrappingStrategy=127]="wrappingStrategy",a[a.showDeprecated=128]="showDeprecated",a[a.inlayHints=129]="inlayHints",a[a.editorClassName=130]="editorClassName",a[a.pixelRatio=131]="pixelRatio",a[a.tabFocusMode=132]="tabFocusMode",a[a.layoutInfo=133]="layoutInfo",a[a.wrappingInfo=134]="wrappingInfo",a))(),u=(()=>((u=u||{})[u.TextDefined=0]="TextDefined",u[u.LF=1]="LF",u[u.CRLF=2]="CRLF",u))(),n=(()=>((n=n||{})[n.LF=0]="LF",n[n.CRLF=1]="CRLF",n))(),d=(()=>((d=d||{})[d.None=0]="None",d[d.Indent=1]="Indent",d[d.IndentOutdent=2]="IndentOutdent",d[d.Outdent=3]="Outdent",d))(),y=(()=>((y=y||{})[y.Both=0]="Both",y[y.Right=1]="Right",y[y.Left=2]="Left",y[y.None=3]="None",y))(),g=(()=>((g=g||{})[g.Type=1]="Type",g[g.Parameter=2]="Parameter",g))(),v=(()=>((v=v||{})[v.Automatic=0]="Automatic",v[v.Explicit=1]="Explicit",v))(),m=(()=>((m=m||{})[m.DependsOnKbLayout=-1]="DependsOnKbLayout",m[m.Unknown=0]="Unknown",m[m.Backspace=1]="Backspace",m[m.Tab=2]="Tab",m[m.Enter=3]="Enter",m[m.Shift=4]="Shift",m[m.Ctrl=5]="Ctrl",m[m.Alt=6]="Alt",m[m.PauseBreak=7]="PauseBreak",m[m.CapsLock=8]="CapsLock",m[m.Escape=9]="Escape",m[m.Space=10]="Space",m[m.PageUp=11]="PageUp",m[m.PageDown=12]="PageDown",m[m.End=13]="End",m[m.Home=14]="Home",m[m.LeftArrow=15]="LeftArrow",m[m.UpArrow=16]="UpArrow",m[m.RightArrow=17]="RightArrow",m[m.DownArrow=18]="DownArrow",m[m.Insert=19]="Insert",m[m.Delete=20]="Delete",m[m.Digit0=21]="Digit0",m[m.Digit1=22]="Digit1",m[m.Digit2=23]="Digit2",m[m.Digit3=24]="Digit3",m[m.Digit4=25]="Digit4",m[m.Digit5=26]="Digit5",m[m.Digit6=27]="Digit6",m[m.Digit7=28]="Digit7",m[m.Digit8=29]="Digit8",m[m.Digit9=30]="Digit9",m[m.KeyA=31]="KeyA",m[m.KeyB=32]="KeyB",m[m.KeyC=33]="KeyC",m[m.KeyD=34]="KeyD",m[m.KeyE=35]="KeyE",m[m.KeyF=36]="KeyF",m[m.KeyG=37]="KeyG",m[m.KeyH=38]="KeyH",m[m.KeyI=39]="KeyI",m[m.KeyJ=40]="KeyJ",m[m.KeyK=41]="KeyK",m[m.KeyL=42]="KeyL",m[m.KeyM=43]="KeyM",m[m.KeyN=44]="KeyN",m[m.KeyO=45]="KeyO",m[m.KeyP=46]="KeyP",m[m.KeyQ=47]="KeyQ",m[m.KeyR=48]="KeyR",m[m.KeyS=49]="KeyS",m[m.KeyT=50]="KeyT",m[m.KeyU=51]="KeyU",m[m.KeyV=52]="KeyV",m[m.KeyW=53]="KeyW",m[m.KeyX=54]="KeyX",m[m.KeyY=55]="KeyY",m[m.KeyZ=56]="KeyZ",m[m.Meta=57]="Meta",m[m.ContextMenu=58]="ContextMenu",m[m.F1=59]="F1",m[m.F2=60]="F2",m[m.F3=61]="F3",m[m.F4=62]="F4",m[m.F5=63]="F5",m[m.F6=64]="F6",m[m.F7=65]="F7",m[m.F8=66]="F8",m[m.F9=67]="F9",m[m.F10=68]="F10",m[m.F11=69]="F11",m[m.F12=70]="F12",m[m.F13=71]="F13",m[m.F14=72]="F14",m[m.F15=73]="F15",m[m.F16=74]="F16",m[m.F17=75]="F17",m[m.F18=76]="F18",m[m.F19=77]="F19",m[m.NumLock=78]="NumLock",m[m.ScrollLock=79]="ScrollLock",m[m.Semicolon=80]="Semicolon",m[m.Equal=81]="Equal",m[m.Comma=82]="Comma",m[m.Minus=83]="Minus",m[m.Period=84]="Period",m[m.Slash=85]="Slash",m[m.Backquote=86]="Backquote",m[m.BracketLeft=87]="BracketLeft",m[m.Backslash=88]="Backslash",m[m.BracketRight=89]="BracketRight",m[m.Quote=90]="Quote",m[m.OEM_8=91]="OEM_8",m[m.IntlBackslash=92]="IntlBackslash",m[m.Numpad0=93]="Numpad0",m[m.Numpad1=94]="Numpad1",m[m.Numpad2=95]="Numpad2",m[m.Numpad3=96]="Numpad3",m[m.Numpad4=97]="Numpad4",m[m.Numpad5=98]="Numpad5",m[m.Numpad6=99]="Numpad6",m[m.Numpad7=100]="Numpad7",m[m.Numpad8=101]="Numpad8",m[m.Numpad9=102]="Numpad9",m[m.NumpadMultiply=103]="NumpadMultiply",m[m.NumpadAdd=104]="NumpadAdd",m[m.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",m[m.NumpadSubtract=106]="NumpadSubtract",m[m.NumpadDecimal=107]="NumpadDecimal",m[m.NumpadDivide=108]="NumpadDivide",m[m.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",m[m.ABNT_C1=110]="ABNT_C1",m[m.ABNT_C2=111]="ABNT_C2",m[m.AudioVolumeMute=112]="AudioVolumeMute",m[m.AudioVolumeUp=113]="AudioVolumeUp",m[m.AudioVolumeDown=114]="AudioVolumeDown",m[m.BrowserSearch=115]="BrowserSearch",m[m.BrowserHome=116]="BrowserHome",m[m.BrowserBack=117]="BrowserBack",m[m.BrowserForward=118]="BrowserForward",m[m.MediaTrackNext=119]="MediaTrackNext",m[m.MediaTrackPrevious=120]="MediaTrackPrevious",m[m.MediaStop=121]="MediaStop",m[m.MediaPlayPause=122]="MediaPlayPause",m[m.LaunchMediaPlayer=123]="LaunchMediaPlayer",m[m.LaunchMail=124]="LaunchMail",m[m.LaunchApp2=125]="LaunchApp2",m[m.Clear=126]="Clear",m[m.MAX_VALUE=127]="MAX_VALUE",m))(),w=(()=>((w=w||{})[w.Hint=1]="Hint",w[w.Info=2]="Info",w[w.Warning=4]="Warning",w[w.Error=8]="Error",w))(),E=(()=>((E=E||{})[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated",E))(),L=(()=>((L=L||{})[L.Inline=1]="Inline",L[L.Gutter=2]="Gutter",L))(),x=(()=>((x=x||{})[x.UNKNOWN=0]="UNKNOWN",x[x.TEXTAREA=1]="TEXTAREA",x[x.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",x[x.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",x[x.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",x[x.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",x[x.CONTENT_TEXT=6]="CONTENT_TEXT",x[x.CONTENT_EMPTY=7]="CONTENT_EMPTY",x[x.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",x[x.CONTENT_WIDGET=9]="CONTENT_WIDGET",x[x.OVERVIEW_RULER=10]="OVERVIEW_RULER",x[x.SCROLLBAR=11]="SCROLLBAR",x[x.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",x[x.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",x))(),A=(()=>((A=A||{})[A.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",A[A.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",A[A.TOP_CENTER=2]="TOP_CENTER",A))(),k=(()=>((k=k||{})[k.Left=1]="Left",k[k.Center=2]="Center",k[k.Right=4]="Right",k[k.Full=7]="Full",k))(),W=(()=>((W=W||{})[W.Left=0]="Left",W[W.Right=1]="Right",W[W.None=2]="None",W[W.LeftOfInjectedText=3]="LeftOfInjectedText",W[W.RightOfInjectedText=4]="RightOfInjectedText",W))(),H=(()=>((H=H||{})[H.Off=0]="Off",H[H.On=1]="On",H[H.Relative=2]="Relative",H[H.Interval=3]="Interval",H[H.Custom=4]="Custom",H))(),z=(()=>((z=z||{})[z.None=0]="None",z[z.Text=1]="Text",z[z.Blocks=2]="Blocks",z))(),N=(()=>((N=N||{})[N.Smooth=0]="Smooth",N[N.Immediate=1]="Immediate",N))(),O=(()=>((O=O||{})[O.Auto=1]="Auto",O[O.Hidden=2]="Hidden",O[O.Visible=3]="Visible",O))(),K=(()=>((K=K||{})[K.LTR=0]="LTR",K[K.RTL=1]="RTL",K))(),$=(()=>(($=$||{})[$.Invoke=1]="Invoke",$[$.TriggerCharacter=2]="TriggerCharacter",$[$.ContentChange=3]="ContentChange",$))(),j=(()=>((j=j||{})[j.File=0]="File",j[j.Module=1]="Module",j[j.Namespace=2]="Namespace",j[j.Package=3]="Package",j[j.Class=4]="Class",j[j.Method=5]="Method",j[j.Property=6]="Property",j[j.Field=7]="Field",j[j.Constructor=8]="Constructor",j[j.Enum=9]="Enum",j[j.Interface=10]="Interface",j[j.Function=11]="Function",j[j.Variable=12]="Variable",j[j.Constant=13]="Constant",j[j.String=14]="String",j[j.Number=15]="Number",j[j.Boolean=16]="Boolean",j[j.Array=17]="Array",j[j.Object=18]="Object",j[j.Key=19]="Key",j[j.Null=20]="Null",j[j.EnumMember=21]="EnumMember",j[j.Struct=22]="Struct",j[j.Event=23]="Event",j[j.Operator=24]="Operator",j[j.TypeParameter=25]="TypeParameter",j))(),q=(()=>((q=q||{})[q.Deprecated=1]="Deprecated",q))(),R=(()=>((R=R||{})[R.Hidden=0]="Hidden",R[R.Blink=1]="Blink",R[R.Smooth=2]="Smooth",R[R.Phase=3]="Phase",R[R.Expand=4]="Expand",R[R.Solid=5]="Solid",R))(),Z=(()=>((Z=Z||{})[Z.Line=1]="Line",Z[Z.Block=2]="Block",Z[Z.Underline=3]="Underline",Z[Z.LineThin=4]="LineThin",Z[Z.BlockOutline=5]="BlockOutline",Z[Z.UnderlineThin=6]="UnderlineThin",Z))(),J=(()=>((J=J||{})[J.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",J[J.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",J[J.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",J[J.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",J))(),Ce=(()=>((Ce=Ce||{})[Ce.None=0]="None",Ce[Ce.Same=1]="Same",Ce[Ce.Indent=2]="Indent",Ce[Ce.DeepIndent=3]="DeepIndent",Ce))()},71901:(yt,T,e)=>{"use strict";e.d(T,{B8:()=>S,Oe:()=>t,UX:()=>I,aq:()=>b,iN:()=>_,ld:()=>f,qq:()=>C,ug:()=>l,xi:()=>D});var t,r,l,C,f,I,b,S,D,_,s=e(1200);(r=t||(t={})).noSelection=s.NC("noSelection","No selection"),r.singleSelectionRange=s.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),r.singleSelection=s.NC("singleSelection","Line {0}, Column {1}"),r.multiSelectionRange=s.NC("multiSelectionRange","{0} selections ({1} characters selected)"),r.multiSelection=s.NC("multiSelection","{0} selections"),r.emergencyConfOn=s.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),r.openingDocs=s.NC("openingDocs","Now opening the Editor Accessibility documentation page."),r.readonlyDiffEditor=s.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),r.editableDiffEditor=s.NC("editableDiffEditor"," in a pane of a diff editor."),r.readonlyEditor=s.NC("readonlyEditor"," in a read-only code editor"),r.editableEditor=s.NC("editableEditor"," in a code editor"),r.changeConfigToOnMac=s.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),r.changeConfigToOnWinLinux=s.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),r.auto_on=s.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),r.auto_off=s.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),r.tabFocusModeOnMsg=s.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),r.tabFocusModeOnMsgNoKb=s.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),r.tabFocusModeOffMsg=s.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),r.tabFocusModeOffMsgNoKb=s.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),r.openDocMac=s.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),r.openDocWinLinux=s.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),r.outroMsg=s.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),r.showAccessibilityHelpAction=s.NC("showAccessibilityHelpAction","Show Accessibility Help"),function(r){r.inspectTokensAction=s.NC("inspectTokens","Developer: Inspect Tokens")}(l||(l={})),function(r){r.gotoLineActionLabel=s.NC("gotoLineActionLabel","Go to Line/Column...")}(C||(C={})),function(r){r.helpQuickAccessActionLabel=s.NC("helpQuickAccess","Show all Quick Access Providers")}(f||(f={})),function(r){r.quickCommandActionLabel=s.NC("quickCommandActionLabel","Command Palette"),r.quickCommandHelp=s.NC("quickCommandActionHelp","Show And Run Commands")}(I||(I={})),function(r){r.quickOutlineActionLabel=s.NC("quickOutlineActionLabel","Go to Symbol..."),r.quickOutlineByCategoryActionLabel=s.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(b||(b={})),function(r){r.editorViewAccessibleLabel=s.NC("editorViewAccessibleLabel","Editor content"),r.accessibilityHelpMessage=s.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(S||(S={})),function(r){r.toggleHighContrast=s.NC("toggleHighContrast","Toggle High Contrast Theme")}(D||(D={})),function(r){r.bulkEditServiceSummary=s.NC("bulkEditServiceSummary","Made {0} edits in {1} files")}(_||(_={}))},81754:(yt,T,e)=>{"use strict";e.d(T,{CZ:()=>I,D8:()=>S,Jx:()=>s,Tx:()=>f,dQ:()=>b,fV:()=>D,gk:()=>t,lN:()=>C,rU:()=>l});class s{constructor(){this.changeType=1}}class t{constructor(r,a,u,n,d){this.ownerId=r,this.lineNumber=a,this.column=u,this.options=n,this.order=d}static applyInjectedText(r,a){if(!a||0===a.length)return r;let u="",n=0;for(const d of a)u+=r.substring(n,d.column-1),n=d.column-1,u+=d.options.content;return u+=r.substring(n),u}static fromDecorations(r){const a=[];for(const u of r)u.options.before&&u.options.before.content.length>0&&a.push(new t(u.ownerId,u.range.startLineNumber,u.range.startColumn,u.options.before,0)),u.options.after&&u.options.after.content.length>0&&a.push(new t(u.ownerId,u.range.endLineNumber,u.range.endColumn,u.options.after,1));return a.sort((u,n)=>u.lineNumber===n.lineNumber?u.column===n.column?u.order-n.order:u.column-n.column:u.lineNumber-n.lineNumber),a}}class l{constructor(r,a,u){this.changeType=2,this.lineNumber=r,this.detail=a,this.injectedText=u}}class C{constructor(r,a){this.changeType=3,this.fromLineNumber=r,this.toLineNumber=a}}class f{constructor(r,a,u,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=r,this.toLineNumber=a,this.detail=u}}class I{constructor(){this.changeType=5}}class b{constructor(r,a,u,n){this.changes=r,this.versionId=a,this.isUndoing=u,this.isRedoing=n,this.resultingSelection=null}containsEvent(r){for(let a=0,u=this.changes.length;a<u;a++)if(this.changes[a].changeType===r)return!0;return!1}static merge(r,a){const u=[].concat(r.changes).concat(a.changes);return new b(u,a.versionId,r.isUndoing||a.isUndoing,r.isRedoing||a.isRedoing)}}class S{constructor(r){this.changes=r}}class D{constructor(r,a){this.rawContentChangedEvent=r,this.contentChangedEvent=a}merge(r){const a=b.merge(this.rawContentChangedEvent,r.rawContentChangedEvent),u=D._mergeChangeEvents(this.contentChangedEvent,r.contentChangedEvent);return new D(a,u)}static _mergeChangeEvents(r,a){return{changes:[].concat(r.changes).concat(a.changes),eol:a.eol,versionId:a.versionId,isUndoing:r.isUndoing||a.isUndoing,isRedoing:r.isRedoing||a.isRedoing,isFlush:r.isFlush||a.isFlush}}}},22597:(yt,T,e)=>{"use strict";e.d(T,{UO:()=>t,s6:()=>s,vW:()=>l});var s=(()=>((s=s||{})[s.Disabled=0]="Disabled",s[s.EnabledForActive=1]="EnabledForActive",s[s.Enabled=2]="Enabled",s))();class t{constructor(f,I,b,S,D,_){if(this.visibleColumn=f,this.column=I,this.className=b,this.horizontalLine=S,this.forWrappedLinesAfterColumn=D,this.forWrappedLinesBeforeOrAtColumn=_,-1!==f==(-1!==I))throw new Error}}class l{constructor(f,I){this.top=f,this.endColumn=I}}},12922:(yt,T,e)=>{"use strict";e.d(T,{A:()=>t});var s=e(90035);let t=(()=>{class C{constructor(I,b,S){this._lineTokensBrand=void 0,this._tokens=I,this._tokensCount=this._tokens.length>>>1,this._text=b,this._languageIdCodec=S}static createEmpty(I,b){const S=C.defaultTokenMetadata,D=new Uint32Array(2);return D[0]=I.length,D[1]=S,new C(D,I,b)}equals(I){return I instanceof C&&this.slicedEquals(I,0,this._tokensCount)}slicedEquals(I,b,S){if(this._text!==I._text||this._tokensCount!==I._tokensCount)return!1;const D=b<<1,_=D+(S<<1);for(let r=D;r<_;r++)if(this._tokens[r]!==I._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(I){return I>0?this._tokens[I-1<<1]:0}getMetadata(I){return this._tokens[1+(I<<1)]}getLanguageId(I){const S=s.N.getLanguageId(this._tokens[1+(I<<1)]);return this._languageIdCodec.decodeLanguageId(S)}getStandardTokenType(I){return s.N.getTokenType(this._tokens[1+(I<<1)])}getForeground(I){return s.N.getForeground(this._tokens[1+(I<<1)])}getClassName(I){return s.N.getClassNameFromMetadata(this._tokens[1+(I<<1)])}getInlineStyle(I,b){return s.N.getInlineStyleFromMetadata(this._tokens[1+(I<<1)],b)}getPresentation(I){return s.N.getPresentationFromMetadata(this._tokens[1+(I<<1)])}getEndOffset(I){return this._tokens[I<<1]}findTokenIndexAtOffset(I){return C.findIndexInTokensArray(this._tokens,I)}inflate(){return this}sliceAndInflate(I,b,S){return new l(this,I,b,S)}static convertToEndOffset(I,b){const D=(I.length>>>1)-1;for(let _=0;_<D;_++)I[_<<1]=I[_+1<<1];I[D<<1]=b}static findIndexInTokensArray(I,b){if(I.length<=2)return 0;let S=0,D=(I.length>>>1)-1;for(;S<D;){const _=S+Math.floor((D-S)/2),r=I[_<<1];if(r===b)return _+1;r<b?S=_+1:r>b&&(D=_)}return S}withInserted(I){if(0===I.length)return this;let b=0,S=0,D="";const _=new Array;let r=0;for(;;){const a=b<this._tokensCount?this._tokens[b<<1]:-1,u=S<I.length?I[S]:null;if(-1!==a&&(null===u||a<=u.offset))D+=this._text.substring(r,a),_.push(D.length,this._tokens[1+(b<<1)]),b++,r=a;else{if(!u)break;u.offset>r&&(D+=this._text.substring(r,u.offset),_.push(D.length,this._tokens[1+(b<<1)]),r=u.offset),D+=u.text,_.push(D.length,u.tokenMetadata),S++}}return new C(new Uint32Array(_),D,this._languageIdCodec)}}return C.defaultTokenMetadata=33587200,C})();class l{constructor(f,I,b,S){this._source=f,this._startOffset=I,this._endOffset=b,this._deltaOffset=S,this._firstTokenIndex=f.findTokenIndexAtOffset(I),this._tokensCount=0;for(let D=this._firstTokenIndex,_=f.getCount();D<_&&!(f.getStartOffset(D)>=b);D++)this._tokensCount++}getMetadata(f){return this._source.getMetadata(this._firstTokenIndex+f)}getLanguageId(f){return this._source.getLanguageId(this._firstTokenIndex+f)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(f){return f instanceof l&&this._startOffset===f._startOffset&&this._endOffset===f._endOffset&&this._deltaOffset===f._deltaOffset&&this._source.slicedEquals(f._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(f){return this._source.getForeground(this._firstTokenIndex+f)}getEndOffset(f){const I=this._source.getEndOffset(this._firstTokenIndex+f);return Math.min(this._endOffset,I)-this._startOffset+this._deltaOffset}getClassName(f){return this._source.getClassName(this._firstTokenIndex+f)}getInlineStyle(f,I){return this._source.getInlineStyle(this._firstTokenIndex+f,I)}getPresentation(f){return this._source.getPresentation(this._firstTokenIndex+f)}findTokenIndexAtOffset(f){return this._source.findTokenIndexAtOffset(f+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},90090:(yt,T,e)=>{"use strict";e.d(T,{Kp:()=>t,k:()=>f});var s=e(77697);class t{constructor(b,S,D,_){this.startColumn=b,this.endColumn=S,this.className=D,this.type=_,this._lineDecorationBrand=void 0}static _equals(b,S){return b.startColumn===S.startColumn&&b.endColumn===S.endColumn&&b.className===S.className&&b.type===S.type}static equalsArr(b,S){const D=b.length;if(D!==S.length)return!1;for(let r=0;r<D;r++)if(!t._equals(b[r],S[r]))return!1;return!0}static extractWrapped(b,S,D){if(0===b.length)return b;const _=S+1,r=D+1,a=D-S,u=[];let n=0;for(const d of b)d.endColumn<=_||d.startColumn>=r||(u[n++]=new t(Math.max(1,d.startColumn-_+1),Math.min(a+1,d.endColumn-_+1),d.className,d.type));return u}static filter(b,S,D,_){if(0===b.length)return[];const r=[];let a=0;for(let u=0,n=b.length;u<n;u++){const d=b[u],y=d.range;y.endLineNumber<S||y.startLineNumber>S||y.isEmpty()&&(0===d.type||3===d.type)||(r[a++]=new t(y.startLineNumber===S?y.startColumn:D,y.endLineNumber===S?y.endColumn:_,d.inlineClassName,d.type))}return r}static _typeCompare(b,S){const D=[2,0,1,3];return D[b]-D[S]}static compare(b,S){if(b.startColumn!==S.startColumn)return b.startColumn-S.startColumn;if(b.endColumn!==S.endColumn)return b.endColumn-S.endColumn;const D=t._typeCompare(b.type,S.type);return 0!==D?D:b.className!==S.className?b.className<S.className?-1:1:0}}class l{constructor(b,S,D,_){this.startOffset=b,this.endOffset=S,this.className=D,this.metadata=_}}class C{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(b){let S=0;for(let D=0,_=b.length;D<_;D++)S|=b[D];return S}consumeLowerThan(b,S,D){for(;this.count>0&&this.stopOffsets[0]<b;){let _=0;for(;_+1<this.count&&this.stopOffsets[_]===this.stopOffsets[_+1];)_++;D.push(new l(S,this.stopOffsets[_],this.classNames.join(" "),C._metadata(this.metadata))),S=this.stopOffsets[_]+1,this.stopOffsets.splice(0,_+1),this.classNames.splice(0,_+1),this.metadata.splice(0,_+1),this.count-=_+1}return this.count>0&&S<b&&(D.push(new l(S,b-1,this.classNames.join(" "),C._metadata(this.metadata))),S=b),S}insert(b,S,D){if(0===this.count||this.stopOffsets[this.count-1]<=b)this.stopOffsets.push(b),this.classNames.push(S),this.metadata.push(D);else for(let _=0;_<this.count;_++)if(this.stopOffsets[_]>=b){this.stopOffsets.splice(_,0,b),this.classNames.splice(_,0,S),this.metadata.splice(_,0,D);break}this.count++}}class f{static normalize(b,S){if(0===S.length)return[];const D=[],_=new C;let r=0;for(let a=0,u=S.length;a<u;a++){const n=S[a];let d=n.startColumn,y=n.endColumn;const g=n.className,v=1===n.type?2:2===n.type?4:0;if(d>1){const E=b.charCodeAt(d-2);s.ZG(E)&&d--}if(y>1){const E=b.charCodeAt(y-2);s.ZG(E)&&y--}const m=d-1,w=y-2;r=_.consumeLowerThan(m,r,D),0===_.count&&(r=m),_.insert(w,g,v)}return _.consumeLowerThan(1073741824,r,D),D}}},93389:(yt,T,e)=>{"use strict";e.d(T,{Nd:()=>b,zG:()=>f,IJ:()=>I,d1:()=>_,tF:()=>a});var s=e(77697),t=e(23859),l=e(90090);class C{constructor(A,k,W,H){this.endIndex=A,this.type=k,this.metadata=W,this.containsRTL=H,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class f{constructor(A,k){this.startOffset=A,this.endOffset=k}equals(A){return this.startOffset===A.startOffset&&this.endOffset===A.endOffset}}class I{constructor(A,k,W,H,z,N,O,K,$,j,q,R,Z,J,Ce,Se,Ie,xe,Me){this.useMonospaceOptimizations=A,this.canUseHalfwidthRightwardsArrow=k,this.lineContent=W,this.continuesWithWrappedLine=H,this.isBasicASCII=z,this.containsRTL=N,this.fauxIndentLength=O,this.lineTokens=K,this.lineDecorations=$.sort(l.Kp.compare),this.tabSize=j,this.startVisibleColumn=q,this.spaceWidth=R,this.stopRenderingLineAfter=Ce,this.renderWhitespace="all"===Se?4:"boundary"===Se?1:"selection"===Se?2:"trailing"===Se?3:0,this.renderControlCharacters=Ie,this.fontLigatures=xe,this.selectionsOnLine=Me&&Me.sort((ce,Ee)=>ce.startOffset<Ee.startOffset?-1:1),Math.abs(J-R)<Math.abs(Z-R)?(this.renderSpaceWidth=J,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=Z,this.renderSpaceCharCode=183)}sameSelection(A){if(null===this.selectionsOnLine)return null===A;if(null===A||A.length!==this.selectionsOnLine.length)return!1;for(let k=0;k<this.selectionsOnLine.length;k++)if(!this.selectionsOnLine[k].equals(A[k]))return!1;return!0}equals(A){return this.useMonospaceOptimizations===A.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===A.canUseHalfwidthRightwardsArrow&&this.lineContent===A.lineContent&&this.continuesWithWrappedLine===A.continuesWithWrappedLine&&this.isBasicASCII===A.isBasicASCII&&this.containsRTL===A.containsRTL&&this.fauxIndentLength===A.fauxIndentLength&&this.tabSize===A.tabSize&&this.startVisibleColumn===A.startVisibleColumn&&this.spaceWidth===A.spaceWidth&&this.renderSpaceWidth===A.renderSpaceWidth&&this.renderSpaceCharCode===A.renderSpaceCharCode&&this.stopRenderingLineAfter===A.stopRenderingLineAfter&&this.renderWhitespace===A.renderWhitespace&&this.renderControlCharacters===A.renderControlCharacters&&this.fontLigatures===A.fontLigatures&&l.Kp.equalsArr(this.lineDecorations,A.lineDecorations)&&this.lineTokens.equals(A.lineTokens)&&this.sameSelection(A.selectionsOnLine)}}class b{constructor(A,k){this.partIndex=A,this.charIndex=k}}class S{constructor(A,k){this.length=A,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(A){return(4294901760&A)>>>16}static getCharIndex(A){return(65535&A)>>>0}setColumnInfo(A,k,W,H){this._data[A-1]=(k<<16|W<<0)>>>0,this._horizontalOffset[A-1]=H}getHorizontalOffset(A){return 0===this._horizontalOffset.length?0:this._horizontalOffset[A-1]}charOffsetToPartData(A){return 0===this.length?0:A<0?this._data[0]:A>=this.length?this._data[this.length-1]:this._data[A]}getDomPosition(A){const k=this.charOffsetToPartData(A-1),W=S.getPartIndex(k),H=S.getCharIndex(k);return new b(W,H)}getColumn(A,k){return this.partDataToCharOffset(A.partIndex,k,A.charIndex)+1}partDataToCharOffset(A,k,W){if(0===this.length)return 0;const H=(A<<16|W<<0)>>>0;let z=0,N=this.length-1;for(;z+1<N;){const Ce=z+N>>>1,Se=this._data[Ce];if(Se===H)return Ce;Se>H?N=Ce:z=Ce}if(z===N)return z;const O=this._data[z],K=this._data[N];if(O===H)return z;if(K===H)return N;const $=S.getPartIndex(O),j=S.getCharIndex(O);let R;return R=$!==S.getPartIndex(K)?k:S.getCharIndex(K),W-j<=R-W?z:N}}class D{constructor(A,k,W){this._renderLineOutputBrand=void 0,this.characterMapping=A,this.containsRTL=k,this.containsForeignElements=W}}function _(x,A){if(0===x.lineContent.length){if(x.lineDecorations.length>0){A.appendASCIIString("<span>");let k=0,W=0,H=0;for(const N of x.lineDecorations)(1===N.type||2===N.type)&&(A.appendASCIIString('<span class="'),A.appendASCIIString(N.className),A.appendASCIIString('"></span>'),1===N.type&&(H|=1,k++),2===N.type&&(H|=2,W++));A.appendASCIIString("</span>");const z=new S(1,k+W);return z.setColumnInfo(1,k,0,0),new D(z,!1,H)}return A.appendASCIIString("<span><span></span></span>"),new D(new S(0,0),!1,0)}return function E(x,A){const k=x.fontIsMonospace,W=x.canUseHalfwidthRightwardsArrow,H=x.containsForeignElements,z=x.lineContent,N=x.len,O=x.isOverflowing,K=x.parts,$=x.fauxIndentLength,j=x.tabSize,q=x.startVisibleColumn,R=x.containsRTL,Z=x.spaceWidth,J=x.renderSpaceCharCode,Ce=x.renderWhitespace,Se=x.renderControlCharacters,Ie=new S(N+1,K.length);let xe=!1,Me=0,Oe=q,se=0,ce=0,Ee=0;A.appendASCIIString(R?'<span dir="ltr">':"<span>");for(let me=0,Pe=K.length;me<Pe;me++){const he=K[me],Fe=he.endIndex,Ze=he.type,ze=he.containsRTL,fe=0!==Ce&&he.isWhitespace(),Ke=fe&&!k&&("mtkw"===Ze||!H),Je=Me===Fe&&he.isPseudoAfter();if(se=0,A.appendASCIIString("<span "),ze&&A.appendASCIIString('style="unicode-bidi:isolate" '),A.appendASCIIString('class="'),A.appendASCIIString(Ke?"mtkz":Ze),A.appendASCII(34),fe){let vt=0;{let Et=Me,Xe=Oe;for(;Et<Fe;Et++){const pe=0|(9===z.charCodeAt(Et)?j-Xe%j:1);vt+=pe,Et>=$&&(Xe+=pe)}}for(Ke&&(A.appendASCIIString(' style="width:'),A.appendASCIIString(String(Z*vt)),A.appendASCIIString('px"')),A.appendASCII(62);Me<Fe;Me++){let Xe,re;if(Ie.setColumnInfo(Me+1,me-Ee,se,ce),Ee=0,9===z.charCodeAt(Me)){Xe=j-Oe%j|0,re=Xe,A.write1(!W||re>1?8594:65515);for(let pe=2;pe<=re;pe++)A.write1(160)}else Xe=2,re=1,A.write1(J),A.write1(8204);se+=Xe,ce+=re,Me>=$&&(Oe+=re)}}else for(A.appendASCII(62);Me<Fe;Me++){Ie.setColumnInfo(Me+1,me-Ee,se,ce),Ee=0;const vt=z.charCodeAt(Me);let Et=1,Xe=1;switch(vt){case 9:Et=j-Oe%j,Xe=Et;for(let re=1;re<=Et;re++)A.write1(160);break;case 32:A.write1(160);break;case 60:A.appendASCIIString("&lt;");break;case 62:A.appendASCIIString("&gt;");break;case 38:A.appendASCIIString("&amp;");break;case 0:Se?A.write1(9216):A.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:A.write1(65533);break;default:s.K7(vt)&&Xe++,Se&&vt<32?A.write1(9216+vt):Se&&127===vt?A.write1(9249):Se&&g(vt)?(A.appendASCIIString("[U+"),A.appendASCIIString(L(vt)),A.appendASCIIString("]"),Et=8,Xe=Et):A.write1(vt)}se+=Et,ce+=Xe,Me>=$&&(Oe+=Xe)}Je?Ee++:Ee=0,Me>=N&&!xe&&he.isPseudoAfter()&&(xe=!0,Ie.setColumnInfo(Me+1,me,se,ce)),A.appendASCIIString("</span>")}return xe||Ie.setColumnInfo(N+1,K.length-1,se,ce),O&&A.appendASCIIString("<span>&hellip;</span>"),A.appendASCIIString("</span>"),new D(Ie,R,H)}(function n(x){const A=x.lineContent;let k,W;-1!==x.stopRenderingLineAfter&&x.stopRenderingLineAfter<A.length?(k=!0,W=x.stopRenderingLineAfter):(k=!1,W=A.length);let H=function d(x,A,k,W,H){const z=[];let N=0;W>0&&(z[N++]=new C(W,"",0,!1));let O=W;for(let K=0,$=k.getCount();K<$;K++){const j=k.getEndOffset(K);if(j<=W)continue;const q=k.getClassName(K);if(j>=H){const Z=!!A&&s.Ut(x.substring(O,H));z[N++]=new C(H,q,0,Z);break}const R=!!A&&s.Ut(x.substring(O,j));z[N++]=new C(j,q,0,R),O=j}return z}(A,x.containsRTL,x.lineTokens,x.fauxIndentLength,W);x.renderControlCharacters&&!x.isBasicASCII&&(H=function v(x,A){const k=[];let W=new C(0,"",0,!1),H=0;for(const z of A){const N=z.endIndex;for(;H<N;H++)g(x.charCodeAt(H))&&(H>W.endIndex&&(W=new C(H,z.type,z.metadata,z.containsRTL),k.push(W)),W=new C(H+1,"mtkcontrol",z.metadata,!1),k.push(W));H>W.endIndex&&(W=new C(N,z.type,z.metadata,z.containsRTL),k.push(W))}return k}(A,H)),(4===x.renderWhitespace||1===x.renderWhitespace||2===x.renderWhitespace&&x.selectionsOnLine||3===x.renderWhitespace)&&(H=function m(x,A,k,W){const H=x.continuesWithWrappedLine,z=x.fauxIndentLength,N=x.tabSize,O=x.startVisibleColumn,K=x.useMonospaceOptimizations,$=x.selectionsOnLine,j=1===x.renderWhitespace,q=3===x.renderWhitespace,R=x.renderSpaceWidth!==x.spaceWidth,Z=[];let J=0,Ce=0,Se=W[Ce].type,Ie=W[Ce].containsRTL,xe=W[Ce].endIndex;const Me=W.length;let ce,Oe=!1,se=s.LC(A);-1===se?(Oe=!0,se=k,ce=k):ce=s.ow(A);let Ee=!1,me=0,Pe=$&&$[me],he=O%N;for(let Ze=z;Ze<k;Ze++){const ze=A.charCodeAt(Ze);let fe;if(Pe&&Ze>=Pe.endOffset&&(me++,Pe=$&&$[me]),Ze<se||Ze>ce)fe=!0;else if(9===ze)fe=!0;else if(32===ze)if(j)if(Ee)fe=!0;else{const Ke=Ze+1<k?A.charCodeAt(Ze+1):0;fe=32===Ke||9===Ke}else fe=!0;else fe=!1;if(fe&&$&&(fe=!!Pe&&Pe.startOffset<=Ze&&Pe.endOffset>Ze),fe&&q&&(fe=Oe||Ze>ce),fe&&Ie&&Ze>=se&&Ze<=ce&&(fe=!1),Ee){if(!fe||!K&&he>=N){if(R)for(let Je=(J>0?Z[J-1].endIndex:z)+1;Je<=Ze;Je++)Z[J++]=new C(Je,"mtkw",1,!1);else Z[J++]=new C(Ze,"mtkw",1,!1);he%=N}}else(Ze===xe||fe&&Ze>z)&&(Z[J++]=new C(Ze,Se,0,Ie),he%=N);for(9===ze?he=N:s.K7(ze)?he+=2:he++,Ee=fe;Ze===xe&&(Ce++,Ce<Me);)Se=W[Ce].type,Ie=W[Ce].containsRTL,xe=W[Ce].endIndex}let Fe=!1;if(Ee)if(H&&j){const Ze=k>0?A.charCodeAt(k-1):0,ze=k>1?A.charCodeAt(k-2):0;32===Ze&&32!==ze&&9!==ze||(Fe=!0)}else Fe=!0;if(Fe)if(R)for(let ze=(J>0?Z[J-1].endIndex:z)+1;ze<=k;ze++)Z[J++]=new C(ze,"mtkw",1,!1);else Z[J++]=new C(k,"mtkw",1,!1);else Z[J++]=new C(k,Se,0,Ie);return Z}(x,A,W,H));let z=0;if(x.lineDecorations.length>0){for(let N=0,O=x.lineDecorations.length;N<O;N++){const K=x.lineDecorations[N];3===K.type||1===K.type?z|=1:2===K.type&&(z|=2)}H=function w(x,A,k,W){W.sort(l.Kp.compare);const H=l.k.normalize(x,W),z=H.length;let N=0;const O=[];let K=0,$=0;for(let q=0,R=k.length;q<R;q++){const Z=k[q],J=Z.endIndex,Ce=Z.type,Se=Z.metadata,Ie=Z.containsRTL;for(;N<z&&H[N].startOffset<J;){const xe=H[N];if(xe.startOffset>$&&($=xe.startOffset,O[K++]=new C($,Ce,Se,Ie)),!(xe.endOffset+1<=J)){$=J,O[K++]=new C($,Ce+" "+xe.className,Se|xe.metadata,Ie);break}$=xe.endOffset+1,O[K++]=new C($,Ce+" "+xe.className,Se|xe.metadata,Ie),N++}J>$&&($=J,O[K++]=new C($,Ce,Se,Ie))}const j=k[k.length-1].endIndex;if(N<z&&H[N].startOffset===j)for(;N<z&&H[N].startOffset===j;){const q=H[N];O[K++]=new C($,q.className,q.metadata,!1),N++}return O}(A,0,H,x.lineDecorations)}return x.containsRTL||(H=function y(x,A,k){let W=0;const H=[];let z=0;if(k)for(let N=0,O=A.length;N<O;N++){const K=A[N],$=K.endIndex;if(W+50<$){const j=K.type,q=K.metadata,R=K.containsRTL;let Z=-1,J=W;for(let Ce=W;Ce<$;Ce++)32===x.charCodeAt(Ce)&&(Z=Ce),-1!==Z&&Ce-J>=50&&(H[z++]=new C(Z+1,j,q,R),J=Z+1,Z=-1);J!==$&&(H[z++]=new C($,j,q,R))}else H[z++]=K;W=$}else for(let N=0,O=A.length;N<O;N++){const K=A[N],$=K.endIndex,j=$-W;if(j>50){const q=K.type,R=K.metadata,Z=K.containsRTL,J=Math.ceil(j/50);for(let Ce=1;Ce<J;Ce++)H[z++]=new C(W+50*Ce,q,R,Z);H[z++]=new C($,q,R,Z)}else H[z++]=K;W=$}return H}(A,H,!x.isBasicASCII||x.fontLigatures)),new u(x.useMonospaceOptimizations,x.canUseHalfwidthRightwardsArrow,A,W,k,H,z,x.fauxIndentLength,x.tabSize,x.startVisibleColumn,x.containsRTL,x.spaceWidth,x.renderSpaceCharCode,x.renderWhitespace,x.renderControlCharacters)}(x),A)}class r{constructor(A,k,W,H){this.characterMapping=A,this.html=k,this.containsRTL=W,this.containsForeignElements=H}}function a(x){const A=(0,t.l$)(1e4),k=_(x,A);return new r(k.characterMapping,A.build(),k.containsRTL,k.containsForeignElements)}class u{constructor(A,k,W,H,z,N,O,K,$,j,q,R,Z,J,Ce){this.fontIsMonospace=A,this.canUseHalfwidthRightwardsArrow=k,this.lineContent=W,this.len=H,this.isOverflowing=z,this.parts=N,this.containsForeignElements=O,this.fauxIndentLength=K,this.tabSize=$,this.startVisibleColumn=j,this.containsRTL=q,this.spaceWidth=R,this.renderSpaceCharCode=Z,this.renderWhitespace=J,this.renderControlCharacters=Ce}}function g(x){return x<32?9!==x:127===x||x>=8234&&x<=8238||x>=8294&&x<=8297||x>=8206&&x<=8207||1564===x}function L(x){return x.toString(16).toUpperCase().padStart(4,"0")}},8511:(yt,T,e)=>{"use strict";e.d(T,{$l:()=>D,$t:()=>b,IP:()=>f,SQ:()=>_,Wx:()=>S,l_:()=>l,ud:()=>C,wA:()=>I});var s=e(77697),t=e(88154);class l{constructor(a,u,n,d){this._viewportBrand=void 0,this.top=0|a,this.left=0|u,this.width=0|n,this.height=0|d}}class C{constructor(a,u){this.tabSize=a,this.data=u}}class f{constructor(a,u,n,d,y,g,v){this._viewLineDataBrand=void 0,this.content=a,this.continuesWithWrappedLine=u,this.minColumn=n,this.maxColumn=d,this.startVisibleColumn=y,this.tokens=g,this.inlineDecorations=v}}class I{constructor(a,u,n,d,y,g,v,m,w,E){this.minColumn=a,this.maxColumn=u,this.content=n,this.continuesWithWrappedLine=d,this.isBasicASCII=I.isBasicASCII(n,g),this.containsRTL=I.containsRTL(n,this.isBasicASCII,y),this.tokens=v,this.inlineDecorations=m,this.tabSize=w,this.startVisibleColumn=E}static isBasicASCII(a,u){return!u||s.$i(a)}static containsRTL(a,u,n){return!(u||!n)&&s.Ut(a)}}class b{constructor(a,u,n){this.range=a,this.inlineClassName=u,this.type=n}}class S{constructor(a,u,n,d){this.startOffset=a,this.endOffset=u,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(a){return new b(new t.e(a,this.startOffset+1,a,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class D{constructor(a,u){this._viewModelDecorationBrand=void 0,this.range=a,this.options=u}}class _{constructor(a,u,n){this.color=a,this.zIndex=u,this.data=n}static cmp(a,u){return a.zIndex===u.zIndex?a.color<u.color?-1:a.color>u.color?1:0:a.zIndex-u.zIndex}}},3595:(yt,T,e)=>{"use strict";e.d(T,{EY:()=>t,Tj:()=>l});class s{constructor(f,I,b){this._colorZoneBrand=void 0,this.from=0|f,this.to=0|I,this.colorId=0|b}static compare(f,I){return f.colorId===I.colorId?f.from===I.from?f.to-I.to:f.from-I.from:f.colorId-I.colorId}}class t{constructor(f,I,b,S){this._overviewRulerZoneBrand=void 0,this.startLineNumber=f,this.endLineNumber=I,this.heightInLines=b,this.color=S,this._colorZone=null}static compare(f,I){return f.color===I.color?f.startLineNumber===I.startLineNumber?f.heightInLines===I.heightInLines?f.endLineNumber-I.endLineNumber:f.heightInLines-I.heightInLines:f.startLineNumber-I.startLineNumber:f.color<I.color?-1:1}setColorZone(f){this._colorZone=f}getColorZones(){return this._colorZone}}class l{constructor(f){this._getVerticalOffsetForLine=f,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(f){this._zones=f,this._zones.sort(t.compare)}setLineHeight(f){return this._lineHeight!==f&&(this._lineHeight=f,this._colorZonesInvalid=!0,!0)}setPixelRatio(f){this._pixelRatio=f,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(f){return this._domWidth!==f&&(this._domWidth=f,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(f){return this._domHeight!==f&&(this._domHeight=f,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(f){return this._outerHeight!==f&&(this._outerHeight=f,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const f=this._colorZonesInvalid,I=Math.floor(this._lineHeight),b=Math.floor(this.getCanvasHeight()),D=b/Math.floor(this._outerHeight),_=Math.floor(4*this._pixelRatio/2),r=[];for(let a=0,u=this._zones.length;a<u;a++){const n=this._zones[a];if(!f){const A=n.getColorZones();if(A){r.push(A);continue}}const d=this._getVerticalOffsetForLine(n.startLineNumber),y=0===n.heightInLines?this._getVerticalOffsetForLine(n.endLineNumber)+I:d+n.heightInLines*I,g=Math.floor(D*d),v=Math.floor(D*y);let m=Math.floor((g+v)/2),w=v-m;w<_&&(w=_),m-w<0&&(m=w),m+w>b&&(m=b-w);const E=n.color;let L=this._color2Id[E];L||(L=++this._lastAssignedId,this._color2Id[E]=L,this._id2Color[L]=E);const x=new s(m-w,m+w,L);n.setColorZone(x),r.push(x)}return this._colorZonesInvalid=!1,r.sort(s.compare),r}}},94740:(yt,T,e)=>{"use strict";e.d(T,{$t:()=>b,CU:()=>f,Fd:()=>I,zg:()=>S});var s=e(13902),t=e(88154),l=e(8511),C=e(11739);class f{constructor(r,a,u,n,d){this.editorId=r,this.model=a,this.configuration=u,this._linesCollection=n,this._coordinatesConverter=d,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(r){const a=r.id;let u=this._decorationsCache[a];if(!u){const n=r.range,d=r.options;let y;if(d.isWholeLine){const g=this._coordinatesConverter.convertModelPositionToViewPosition(new s.L(n.startLineNumber,1),0),v=this._coordinatesConverter.convertModelPositionToViewPosition(new s.L(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);y=new t.e(g.lineNumber,g.column,v.lineNumber,v.column)}else y=this._coordinatesConverter.convertModelRangeToViewRange(n,1);u=new l.$l(y,d),this._decorationsCache[a]=u}return u}getDecorationsViewportData(r){let a=null!==this._cachedModelDecorationsResolver;return a=a&&r.equalsRange(this._cachedModelDecorationsResolverViewRange),a||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(r),this._cachedModelDecorationsResolverViewRange=r),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(r){const a=new t.e(r,this._linesCollection.getViewLineMinColumn(r),r,this._linesCollection.getViewLineMaxColumn(r));return this._getDecorationsInRange(a).inlineDecorations[0]}_getDecorationsInRange(r){const a=this._linesCollection.getDecorationsInRange(r,this.editorId,(0,C.$J)(this.configuration.options)),u=r.startLineNumber,n=r.endLineNumber,d=[];let y=0;const g=[];for(let v=u;v<=n;v++)g[v-u]=[];for(let v=0,m=a.length;v<m;v++){const w=a[v],E=w.options;if(!I(this.model,w))continue;const L=this._getOrCreateViewModelDecoration(w),x=L.range;if(d[y++]=L,E.inlineClassName){const A=new l.$t(x,E.inlineClassName,E.inlineClassNameAffectsLetterSpacing?3:0),k=Math.max(u,x.startLineNumber),W=Math.min(n,x.endLineNumber);for(let H=k;H<=W;H++)g[H-u].push(A)}if(E.beforeContentClassName&&u<=x.startLineNumber&&x.startLineNumber<=n){const A=new l.$t(new t.e(x.startLineNumber,x.startColumn,x.startLineNumber,x.startColumn),E.beforeContentClassName,1);g[x.startLineNumber-u].push(A)}if(E.afterContentClassName&&u<=x.endLineNumber&&x.endLineNumber<=n){const A=new l.$t(new t.e(x.endLineNumber,x.endColumn,x.endLineNumber,x.endColumn),E.afterContentClassName,2);g[x.endLineNumber-u].push(A)}}return{decorations:d,inlineDecorations:g}}}function I(_,r){return!(r.options.hideInCommentTokens&&b(_,r)||r.options.hideInStringTokens&&S(_,r))}function b(_,r){return D(_,r.range,a=>1===a)}function S(_,r){return D(_,r.range,a=>2===a)}function D(_,r,a){for(let u=r.startLineNumber;u<=r.endLineNumber;u++){const n=_.tokenization.getLineTokens(u),y=u===r.endLineNumber;let g=u===r.startLineNumber?n.findTokenIndexAtOffset(r.startColumn-1):0;for(;g<n.getCount()&&!(y&&n.getStartOffset(g)>r.endColumn-1);){if(!a(n.getStandardTokenType(g)))return!1;g++}}return!0}},2806:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{SelectionAnchorSet:()=>z});var s=e(48460),t=e(32418),l=e(32133),C=e(92123),f=e.n(C),I=e(65057),b=e.n(I),S=e(28764),D=e.n(S),_=e(6557),r=e.n(_),a=e(11146),u=e.n(a),n=e(95085),d=e.n(n),y=e(56437),g={};g.styleTagTransform=d(),g.setAttributes=r(),g.insert=D().bind(null,"head"),g.domAPI=b(),g.insertStyleElement=u(),f()(y.Z,g);var w=e(95102),E=e(58745),L=e(72325),x=e(1200),A=e(38336),H=function(q,R,Z,J){return new(Z||(Z=Promise))(function(Se,Ie){function xe(se){try{Oe(J.next(se))}catch(ce){Ie(ce)}}function Me(se){try{Oe(J.throw(se))}catch(ce){Ie(ce)}}function Oe(se){se.done?Se(se.value):function Ce(Se){return Se instanceof Z?Se:new Z(function(Ie){Ie(Se)})}(se.value).then(xe,Me)}Oe((J=J.apply(q,R||[])).next())})};const z=new A.uy("selectionAnchorSet",!1);let N=class vu{constructor(R,Z){this.editor=R,this.selectionAnchorSetContextKey=z.bindTo(Z),this.modelChangeListener=R.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(R){return R.getContribution(vu.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const R=this.editor.getPosition();this.editor.changeDecorations(Z=>{this.decorationId&&Z.removeDecoration(this.decorationId),this.decorationId=Z.addDecoration(E.Y.fromPositions(R,R),{description:"selection-anchor",stickiness:1,hoverMessage:(new t.W5).appendText((0,x.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,s.Z9)((0,x.NC)("anchorSet","Anchor set at {0}:{1}",R.lineNumber,R.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const R=this.editor.getModel().getDecorationRange(this.decorationId);R&&this.editor.setPosition(R.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const R=this.editor.getModel().getDecorationRange(this.decorationId);if(R){const Z=this.editor.getPosition();this.editor.setSelection(E.Y.fromPositions(R.getStartPosition(),Z)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const R=this.decorationId;this.editor.changeDecorations(Z=>{Z.removeDecoration(R),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var R;N.ID="editor.contrib.selectionAnchorController",N=function(q,R,Z,J){var Ie,Ce=arguments.length,Se=Ce<3?R:null===J?J=Object.getOwnPropertyDescriptor(R,Z):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(q,R,Z,J);else for(var xe=q.length-1;xe>=0;xe--)(Ie=q[xe])&&(Se=(Ce<3?Ie(Se):Ce>3?Ie(R,Z,Se):Ie(R,Z))||Se);return Ce>3&&Se&&Object.defineProperty(R,Z,Se),Se}([(1,R=A.i6,function(Z,J){R(Z,J,1)})],N),(0,w._K)(N.ID,N),(0,w.Qr)(class O extends w.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,x.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:(0,l.gx)(2089,2080),weight:100}})}run(R,Z){var J;return H(this,void 0,void 0,function*(){null===(J=N.get(Z))||void 0===J||J.setSelectionAnchor()})}}),(0,w.Qr)(class K extends w.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,x.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:z})}run(R,Z){var J;return H(this,void 0,void 0,function*(){null===(J=N.get(Z))||void 0===J||J.goToSelectionAnchor()})}}),(0,w.Qr)(class $ extends w.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,x.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:z,kbOpts:{kbExpr:L.u.editorTextFocus,primary:(0,l.gx)(2089,2089),weight:100}})}run(R,Z){var J;return H(this,void 0,void 0,function*(){null===(J=N.get(Z))||void 0===J||J.selectFromAnchorToCursor()})}}),(0,w.Qr)(class j extends w.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,x.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:z,kbOpts:{kbExpr:L.u.editorTextFocus,primary:9,weight:100}})}run(R,Z){var J;return H(this,void 0,void 0,function*(){null===(J=N.get(Z))||void 0===J||J.cancelSelectionAnchor()})}})},29523:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{BracketMatchingController:()=>R});var s=e(41883),t=e(21576),l=e(92123),C=e.n(l),f=e(65057),I=e.n(f),b=e(28764),S=e.n(b),D=e(6557),_=e.n(D),r=e(11146),a=e.n(r),u=e(95085),n=e.n(u),d=e(65306),y={};y.styleTagTransform=n(),y.setAttributes=_(),y.insert=S().bind(null,"head"),y.domAPI=I(),y.insertStyleElement=a(),C()(d.Z,y);var m=e(95102),w=e(13902),E=e(88154),L=e(58745),x=e(72325),A=e(59129),k=e(53727),W=e(99327),H=e(1200),z=e(30116),N=e(6192),O=e(14089);const K=(0,N.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},H.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class q{constructor(J,Ce,Se){this.position=J,this.brackets=Ce,this.options=Se}}class R extends t.JT{constructor(J){super(),this._editor=J,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new s.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(J.onDidChangeCursorPosition(Ce=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeModelContent(Ce=>{this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeModel(Ce=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeModelLanguageConfiguration(Ce=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeConfiguration(Ce=>{Ce.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(J.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(J.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(J){return J.getContribution(R.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const J=this._editor.getModel(),Ce=this._editor.getSelections().map(Se=>{const Ie=Se.getStartPosition(),xe=J.bracketPairs.matchBracket(Ie);let Me=null;if(xe)xe[0].containsPosition(Ie)&&!xe[1].containsPosition(Ie)?Me=xe[1].getStartPosition():xe[1].containsPosition(Ie)&&(Me=xe[0].getStartPosition());else{const Oe=J.bracketPairs.findEnclosingBrackets(Ie);if(Oe)Me=Oe[1].getStartPosition();else{const se=J.bracketPairs.findNextBracket(Ie);se&&se.range&&(Me=se.range.getStartPosition())}}return Me?new L.Y(Me.lineNumber,Me.column,Me.lineNumber,Me.column):new L.Y(Ie.lineNumber,Ie.column,Ie.lineNumber,Ie.column)});this._editor.setSelections(Ce),this._editor.revealRange(Ce[0])}selectToBracket(J){if(!this._editor.hasModel())return;const Ce=this._editor.getModel(),Se=[];this._editor.getSelections().forEach(Ie=>{const xe=Ie.getStartPosition();let Me=Ce.bracketPairs.matchBracket(xe);if(!Me&&(Me=Ce.bracketPairs.findEnclosingBrackets(xe),!Me)){const ce=Ce.bracketPairs.findNextBracket(xe);ce&&ce.range&&(Me=Ce.bracketPairs.matchBracket(ce.range.getStartPosition()))}let Oe=null,se=null;if(Me){Me.sort(E.e.compareRangesUsingStarts);const[ce,Ee]=Me;if(Oe=J?ce.getStartPosition():ce.getEndPosition(),se=J?Ee.getEndPosition():Ee.getStartPosition(),Ee.containsPosition(xe)){const me=Oe;Oe=se,se=me}}Oe&&se&&Se.push(new L.Y(Oe.lineNumber,Oe.column,se.lineNumber,se.column))}),Se.length>0&&(this._editor.setSelections(Se),this._editor.revealRange(Se[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const J=[];let Ce=0;for(const Se of this._lastBracketsData){const Ie=Se.brackets;Ie&&(J[Ce++]={range:Ie[0],options:Se.options},J[Ce++]={range:Ie[1],options:Se.options})}this._decorations.set(J)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const J=this._editor.getSelections();if(J.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const Ce=this._editor.getModel(),Se=Ce.getVersionId();let Ie=[];this._lastVersionId===Se&&(Ie=this._lastBracketsData);const xe=[];let Me=0;for(let me=0,Pe=J.length;me<Pe;me++){const he=J[me];he.isEmpty()&&(xe[Me++]=he.getStartPosition())}xe.length>1&&xe.sort(w.L.compare);const Oe=[];let se=0,ce=0;const Ee=Ie.length;for(let me=0,Pe=xe.length;me<Pe;me++){const he=xe[me];for(;ce<Ee&&Ie[ce].position.isBefore(he);)ce++;if(ce<Ee&&Ie[ce].position.equals(he))Oe[se++]=Ie[ce];else{let Fe=Ce.bracketPairs.matchBracket(he,20),Ze=R._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Fe&&"always"===this._matchBrackets&&(Fe=Ce.bracketPairs.findEnclosingBrackets(he,20),Ze=R._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),Oe[se++]=new q(he,Fe,Ze)}}this._lastBracketsData=Oe,this._lastVersionId=Se}}R.ID="editor.contrib.bracketMatchingController",R._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=k.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,O.EN)(K),position:A.sh.Center}}),R._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=k.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,m._K)(R.ID,R),(0,m.Qr)(class j extends m.R6{constructor(){super({id:"editor.action.selectToBracket",label:H.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(J,Ce,Se){var Ie;let xe=!0;Se&&!1===Se.selectBrackets&&(xe=!1),null===(Ie=R.get(Ce))||void 0===Ie||Ie.selectToBracket(xe)}}),(0,m.Qr)(class $ extends m.R6{constructor(){super({id:"editor.action.jumpToBracket",label:H.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:x.u.editorTextFocus,primary:3160,weight:100}})}run(J,Ce){var Se;null===(Se=R.get(Ce))||void 0===Se||Se.jumpToBracket()}}),(0,O.Ic)((Z,J)=>{const Ce=Z.getColor(W.TC);Ce&&J.addRule(`.monaco-editor .bracket-match { background-color: ${Ce}; }`);const Se=Z.getColor(W.Dl);Se&&J.addRule(`.monaco-editor .bracket-match { border: 1px solid ${Se}; }`)}),z.BH.appendMenuItem(z.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:H.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},44461:(yt,T,e)=>{"use strict";e.r(T);var s=e(95102),t=e(72325),l=e(88154),C=e(58745);class f{constructor(r,a){this._selection=r,this._isMovingLeft=a}getEditOperations(r,a){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const u=this._selection.startLineNumber,n=this._selection.startColumn,d=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||d!==r.getLineMaxColumn(u)))if(this._isMovingLeft){const y=new l.e(u,n-1,u,n),g=r.getValueInRange(y);a.addEditOperation(y,null),a.addEditOperation(new l.e(u,d,u,d),g)}else{const y=new l.e(u,d,u,d+1),g=r.getValueInRange(y);a.addEditOperation(y,null),a.addEditOperation(new l.e(u,n,u,n),g)}}computeCursorState(r,a){return this._isMovingLeft?new C.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new C.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var I=e(1200);class b extends s.R6{constructor(r,a){super(a),this.left=r}run(r,a){if(!a.hasModel())return;const u=[],n=a.getSelections();for(const d of n)u.push(new f(d,this.left));a.pushUndoStop(),a.executeCommands(this.id,u),a.pushUndoStop()}}(0,s.Qr)(class S extends b{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:I.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:t.u.writable})}}),(0,s.Qr)(class D extends b{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:I.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:t.u.writable})}})},82721:(yt,T,e)=>{"use strict";e.r(T);var s=e(95102),t=e(57535),l=e(73773),C=e(88154),f=e(72325),I=e(1200);(0,s.Qr)(class b extends s.R6{constructor(){super({id:"editor.action.transposeLetters",label:I.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:f.u.writable,kbOpts:{kbExpr:f.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(D,_){if(!_.hasModel())return;const r=_.getModel(),a=[],u=_.getSelections();for(const n of u){if(!n.isEmpty())continue;const d=n.startLineNumber,y=n.startColumn,g=r.getLineMaxColumn(d);if(1===d&&(1===y||2===y&&2===g))continue;const v=y===g?n.getPosition():l.o.rightPosition(r,n.getPosition().lineNumber,n.getPosition().column),m=l.o.leftPosition(r,v),w=l.o.leftPosition(r,m),E=r.getValueInRange(C.e.fromPositions(w,m)),L=r.getValueInRange(C.e.fromPositions(m,v)),x=C.e.fromPositions(w,v);a.push(new t.T4(x,L+E))}a.length>0&&(_.pushUndoStop(),_.executeCommands(this.id,a),_.pushUndoStop())}})},55324:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CopyAction:()=>g,CutAction:()=>y,PasteAction:()=>v});var s=e(52253),t=e(84834),l=e(87465),C=e(95102),f=e(60896),I=e(72325),b=e(1200),S=e(30116),D=e(21611);const r="9_cutcopypaste",a=t.tY||document.queryCommandSupported("cut"),u=t.tY||document.queryCommandSupported("copy"),n=!(typeof navigator.clipboard>"u"||s.isFirefox)||document.queryCommandSupported("paste");function d(E){return E.register(),E}const y=a?d(new C.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:t.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:S.eH.MenubarEditMenu,group:"2_ccp",title:b.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:S.eH.EditorContext,group:r,title:b.NC("actions.clipboard.cutLabel","Cut"),when:I.u.writable,order:1},{menuId:S.eH.CommandPalette,group:"",title:b.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:S.eH.SimpleEditorContext,group:r,title:b.NC("actions.clipboard.cutLabel","Cut"),when:I.u.writable,order:1}]})):void 0,g=u?d(new C.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:t.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:S.eH.MenubarEditMenu,group:"2_ccp",title:b.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:S.eH.EditorContext,group:r,title:b.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:S.eH.CommandPalette,group:"",title:b.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:S.eH.SimpleEditorContext,group:r,title:b.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;S.BH.appendMenuItem(S.eH.MenubarEditMenu,{submenu:S.eH.MenubarCopy,title:{value:b.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),S.BH.appendMenuItem(S.eH.EditorContext,{submenu:S.eH.EditorContextCopy,title:{value:b.NC("copy as","Copy As"),original:"Copy As"},group:r,order:3}),S.BH.appendMenuItem(S.eH.EditorContext,{submenu:S.eH.EditorContextShare,title:{value:b.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const v=n?d(new C.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:t.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:S.eH.MenubarEditMenu,group:"2_ccp",title:b.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:S.eH.EditorContext,group:r,title:b.NC("actions.clipboard.pasteLabel","Paste"),when:I.u.writable,order:4},{menuId:S.eH.CommandPalette,group:"",title:b.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:S.eH.SimpleEditorContext,group:r,title:b.NC("actions.clipboard.pasteLabel","Paste"),when:I.u.writable,order:4}]})):void 0;function w(E,L){E&&(E.addImplementation(1e4,"code-editor",(x,A)=>{const k=x.get(f.$).getFocusedCodeEditor();if(k&&k.hasTextFocus()){const W=k.getOption(33),H=k.getSelection();return H&&H.isEmpty()&&!W||document.execCommand(L),!0}return!1}),E.addImplementation(0,"generic-dom",(x,A)=>(document.execCommand(L),!0)))}w(y,"cut"),w(g,"copy"),v&&(v.addImplementation(1e4,"code-editor",(E,L)=>{const x=E.get(f.$),A=E.get(D.p),k=x.getFocusedCodeEditor();return!(!k||!k.hasTextFocus())&&(!(!document.execCommand("paste")&&t.$L)||function(E,L,x,A){return new(x||(x=Promise))(function(W,H){function z(K){try{O(A.next(K))}catch($){H($)}}function N(K){try{O(A.throw(K))}catch($){H($)}}function O(K){K.done?W(K.value):function k(W){return W instanceof x?W:new x(function(H){H(W)})}(K.value).then(z,N)}O((A=A.apply(E,L||[])).next())})}(void 0,void 0,void 0,function*(){const H=yield A.readText();if(""!==H){const z=l.Nl.INSTANCE.get(H);let N=!1,O=null,K=null;z&&(N=k.getOption(33)&&!!z.isFromEmptySelection,O=typeof z.multicursorText<"u"?z.multicursorText:null,K=z.mode),k.trigger("keyboard","paste",{text:H,pasteOnNewLine:N,multicursorText:O,mode:K})}}))}),v.addImplementation(0,"generic-dom",(E,L)=>(document.execCommand("paste"),!0))),u&&(0,C.Qr)(class m extends C.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:b.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:I.u.textInputFocus,primary:0,weight:100}})}run(L,x){!x.hasModel()||!x.getOption(33)&&x.getSelection().isEmpty()||(l.RA.forceCopyWithSyntaxHighlighting=!0,x.focus(),document.execCommand("copy"),l.RA.forceCopyWithSyntaxHighlighting=!1)}})},95379:(yt,T,e)=>{"use strict";e.d(T,{Bb:()=>y,MN:()=>v,RB:()=>d,TM:()=>w,aI:()=>A,bA:()=>E,sh:()=>g,uH:()=>m});var s=e(14940),t=e(71943),l=e(3219),C=e(21576),f=e(56740),I=e(2592),b=e(88154),S=e(58745),D=e(44378),_=e(34468),r=e(26109),a=e(17243),u=e(13154),n=function(H,z,N,O){return new(N||(N=Promise))(function($,j){function q(J){try{Z(O.next(J))}catch(Ce){j(Ce)}}function R(J){try{Z(O.throw(J))}catch(Ce){j(Ce)}}function Z(J){J.done?$(J.value):function K($){return $ instanceof N?$:new N(function(j){j($)})}(J.value).then(q,R)}Z((O=O.apply(H,z||[])).next())})};const d="editor.action.codeAction",y="editor.action.refactor",g="editor.action.refactor.preview",v="editor.action.sourceAction",m="editor.action.organizeImports",w="editor.action.fixAll";class E{constructor(z,N){this.action=z,this.provider=N}resolve(z){var N;return n(this,void 0,void 0,function*(){if(null!==(N=this.provider)&&void 0!==N&&N.resolveCodeAction&&!this.action.edit){let O;try{O=yield this.provider.resolveCodeAction(this.action,z)}catch(K){(0,l.Cp)(K)}O&&(this.action.edit=O.edit)}return this})}}class L extends C.JT{constructor(z,N,O){super(),this.documentation=N,this._register(O),this.allActions=[...z].sort(L.codeActionsComparator),this.validActions=this.allActions.filter(({action:K})=>!K.disabled)}static codeActionsComparator({action:z},{action:N}){return z.isPreferred&&!N.isPreferred?-1:!z.isPreferred&&N.isPreferred?1:(0,s.Of)(z.diagnostics)?(0,s.Of)(N.diagnostics)?z.diagnostics[0].message.localeCompare(N.diagnostics[0].message):-1:(0,s.Of)(N.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:z})=>!!z.kind&&a.yN.QuickFix.contains(new a.yN(z.kind))&&!!z.isPreferred)}}const x={actions:[],documentation:void 0};function A(H,z,N,O,K,$){var j;const q=O.filter||{},R={only:null===(j=q.include)||void 0===j?void 0:j.value,trigger:O.type},Z=new I.YQ(z,$),J=function k(H,z,N){return H.all(z).filter(O=>!O.providedCodeActionKinds||O.providedCodeActionKinds.some(K=>(0,a.EU)(N,new a.yN(K))))}(H,z,q),Ce=new C.SL,Se=J.map(xe=>n(this,void 0,void 0,function*(){try{K.report(xe);const Me=yield xe.provideCodeActions(z,N,R,Z.token);if(Me&&Ce.add(Me),Z.token.isCancellationRequested)return x;const Oe=(Me?.actions||[]).filter(ce=>ce&&(0,a.Yl)(q,ce)),se=function W(H,z,N){if(!H.documentation)return;const O=H.documentation.map(K=>({kind:new a.yN(K.kind),command:K.command}));if(N){let K;for(const $ of O)$.kind.contains(N)&&(K?K.kind.contains($.kind)&&(K=$):K=$);if(K)return K?.command}for(const K of z)if(K.kind)for(const $ of O)if($.kind.contains(new a.yN(K.kind)))return $.command}(xe,Oe,q.include);return{actions:Oe.map(ce=>new E(ce,xe)),documentation:se}}catch(Me){if((0,l.n2)(Me))throw Me;return(0,l.Cp)(Me),x}})),Ie=H.onDidChange(()=>{const xe=H.all(z);(0,s.fS)(xe,J)||Z.cancel()});return Promise.all(Se).then(xe=>{const Me=xe.map(se=>se.actions).flat(),Oe=(0,s.kX)(xe.map(se=>se.documentation));return new L(Me,Oe,Ce)}).finally(()=>{Ie.dispose(),Z.dispose()})}_.P0.registerCommand("_executeCodeActionProvider",function(H,z,N,O,K){return n(this,void 0,void 0,function*(){if(!(z instanceof f.o))throw(0,l.b1)();const{codeActionProvider:$}=H.get(u.p),j=H.get(D.q).getModel(z);if(!j)throw(0,l.b1)();const q=S.Y.isISelection(N)?S.Y.liftSelection(N):b.e.isIRange(N)?j.validateRange(N):void 0;if(!q)throw(0,l.b1)();const R="string"==typeof O?new a.yN(O):void 0,Z=yield A($,j,q,{type:1,triggerAction:a.aQ.Default,filter:{includeSourceActions:!0,include:R}},r.Ex.None,t.T.None),J=[],Ce=Math.min(Z.validActions.length,"number"==typeof K?K:0);for(let Se=0;Se<Ce;Se++)J.push(Z.validActions[Se].resolve(t.T.None));try{return yield Promise.all(J),Z.validActions.map(Se=>Se.action)}finally{setTimeout(()=>Z.dispose(),100)}})})},2590:(yt,T,e)=>{"use strict";e.d(T,{S5:()=>oo,dW:()=>fi,Hv:()=>vo,o$:()=>Zi,E7:()=>li,pY:()=>Xt,Eb:()=>ri,UG:()=>_i,VQ:()=>Xi});var s=e(71943),t=e(22211),l=e(21576),C=e(77697),f=e(95102),I=e(59961),b=e(72325),S=e(13154),D=e(95379),_=e(3219),r=e(78872),a=e(30888),u=e(94418),n=e(42749),d=e(36608),y=e(92123),g=e.n(y),v=e(65057),m=e.n(v),w=e(28764),E=e.n(w),L=e(6557),x=e.n(L),A=e(11146),k=e.n(A),W=e(95085),H=e.n(W),z=e(46101),N={};N.styleTagTransform=H(),N.setAttributes=x(),N.insert=E().bind(null,"head"),N.domAPI=m(),N.insertStyleElement=k(),g()(z.Z,N);var $=e(13902),j=e(17243),q=e(1200),R=e(56767),Z=e(38336),J=e(64170),Ce=e(54980),Se=e(90062),Ie=e(14089),xe=function(oi,en,wt,Dt){var cn,$t=arguments.length,tn=$t<3?en:null===Dt?Dt=Object.getOwnPropertyDescriptor(en,wt):Dt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tn=Reflect.decorate(oi,en,wt,Dt);else for(var Cn=oi.length-1;Cn>=0;Cn--)(cn=oi[Cn])&&(tn=($t<3?cn(tn):$t>3?cn(en,wt,tn):cn(en,wt))||tn);return $t>3&&tn&&Object.defineProperty(en,wt,tn),tn},Me=function(oi,en){return function(wt,Dt){en(wt,Dt,oi)}};const se={Visible:new Z.uy("CodeActionMenuVisible",!1,(0,q.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class ce extends d.aU{constructor(en,wt){super(en.command?en.command.id:en.title,function Ee(oi){return oi.replace(/\r\n|\r|\n/g," ")}(en.title),void 0,!en.disabled,wt),this.action=en}}let he=class{constructor(en,wt){this.acceptKeybindings=en,this.keybindingService=wt}get templateId(){return"codeActionWidget"}renderTemplate(en){const wt=Object.create(null);return wt.disposables=[],wt.root=en,wt.text=document.createElement("span"),en.append(wt.text),wt}renderElement(en,wt,Dt){const $t=Dt,cn=en.isEnabled,Cn=en.isSeparator,Pn=en.isDocumentation;$t.text.textContent=en.title,cn?$t.root.classList.remove("option-disabled"):($t.root.classList.add("option-disabled"),$t.root.style.backgroundColor="transparent !important"),Cn&&($t.root.classList.add("separator"),$t.root.style.height="10px"),Pn||(()=>{var zn,bi;const[Ei,ao]=this.acceptKeybindings;$t.root.title=(0,q.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",null===(zn=this.keybindingService.lookupKeybinding(Ei))||void 0===zn?void 0:zn.getLabel(),null===(bi=this.keybindingService.lookupKeybinding(ao))||void 0===bi?void 0:bi.getLabel())})()}disposeTemplate(en){en.disposables=(0,l.B9)(en.disposables)}};he=xe([Me(1,Ce.d)],he);let Fe=class Gc extends l.JT{constructor(en,wt,Dt,$t,tn,cn,Cn,Pn,Hn,zn){super(),this._editor=en,this._delegate=wt,this._contextMenuService=Dt,this._languageFeaturesService=tn,this._telemetryService=cn,this._configurationService=Pn,this._contextViewService=Hn,this._contextKeyService=zn,this._showingActions=this._register(new l.XK),this.codeActionList=this._register(new l.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new Ze({getKeybindings:()=>$t.getKeybindings()}),this._ctxMenuWidgetVisible=se.Visible.bindTo(this._contextKeyService),this.listRenderer=new he(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],$t)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(en){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:en.uri})}_onListSelection(en){en.elements.length&&en.elements.forEach(wt=>{wt.isEnabled&&(wt.action.run(),this.hideCodeActionWidget())})}_onListHover(en){var wt,Dt,$t,tn;en.element?null!==(Dt=en.element)&&void 0!==Dt&&Dt.isEnabled?(null===($t=this.codeActionList.value)||void 0===$t||$t.setFocus([en.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(en.element),this.currSelectedItem=en.element.index):(this.currSelectedItem=void 0,null===(tn=this.codeActionList.value)||void 0===tn||tn.setFocus([en.element.index])):(this.currSelectedItem=void 0,null===(wt=this.codeActionList.value)||void 0===wt||wt.setFocus([]))}renderCodeActionMenuList(en,wt){var Dt;const $t=new l.SL,tn=document.createElement("div"),cn=document.createElement("div");this.block=en.appendChild(cn),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",$t.add(u.nm(this.block,u.tw.MOUSE_DOWN,Ei=>Ei.stopPropagation())),tn.id="codeActionMenuWidget",tn.classList.add("codeActionMenuWidget"),en.appendChild(tn),this.codeActionList.value=new n.aV("codeActionWidget",tn,{getHeight:Ei=>Ei.isSeparator?10:26,getTemplateId:Ei=>"codeActionWidget"},[this.listRenderer],{keyboardSupport:!1}),$t.add(this.codeActionList.value.onMouseOver(Ei=>this._onListHover(Ei))),$t.add(this.codeActionList.value.onDidChangeFocus(Ei=>{var ao;return null===(ao=this.codeActionList.value)||void 0===ao?void 0:ao.domFocus()})),$t.add(this.codeActionList.value.onDidChangeSelection(Ei=>this._onListSelection(Ei))),$t.add(this._editor.onDidLayoutChange(Ei=>this.hideCodeActionWidget())),wt.forEach((Ei,ao)=>{const Oi="separator"===Ei.class;let Qi=!1;Ei instanceof ce&&(Qi=Ei.action.kind===Gc.documentationID),Oi&&(this.hasSeperator=!0);const Wi={title:Ei.label,detail:Ei.tooltip,action:wt[ao],isEnabled:Ei.enabled,isSeparator:Oi,index:ao,isDocumentation:Qi};Ei.enabled&&this.viewItems.push(Wi),this.options.push(Wi)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const Cn=this.hasSeperator?26*(wt.length-1)+10:26*wt.length;tn.style.height=String(Cn)+"px",this.codeActionList.value.layout(Cn);const Pn=[];this.options.forEach((Ei,ao)=>{var Oi,Qi;if(!this.codeActionList.value)return;const Wi=null===(Qi=document.getElementById(null===(Oi=this.codeActionList.value)||void 0===Oi?void 0:Oi.getElementID(ao)))||void 0===Qi?void 0:Qi.getElementsByTagName("span")[0].offsetWidth;Pn.push(Number(Wi))});const Hn=Math.max(...Pn);tn.style.width=Hn+52+"px",null===(Dt=this.codeActionList.value)||void 0===Dt||Dt.layout(Cn,Hn),this.viewItems.length<1||this.viewItems.every(Ei=>Ei.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const zn=u.go(en),bi=zn.onDidBlur(()=>{this.hideCodeActionWidget()});return $t.add(bi),$t.add(zn),this._ctxMenuWidgetVisible.set(!0),$t}focusPrevious(){var en;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const wt=this.focusedEnabledItem;let Dt;do{this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),Dt=this.viewItems[this.focusedEnabledItem],null===(en=this.codeActionList.value)||void 0===en||en.setFocus([Dt.index]),this.currSelectedItem=Dt.index}while(this.focusedEnabledItem!==wt&&(!Dt.isEnabled||Dt.action.id===d.Z0.ID));return!0}focusNext(){var en;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const wt=this.focusedEnabledItem;let Dt;do{this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,Dt=this.viewItems[this.focusedEnabledItem],null===(en=this.codeActionList.value)||void 0===en||en.setFocus([Dt.index]),this.currSelectedItem=Dt.index}while(this.focusedEnabledItem!==wt&&(!Dt.isEnabled||Dt.action.id===d.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var en;"number"==typeof this.currSelectedItem&&(null===(en=this.codeActionList.value)||void 0===en||en.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(en,wt,Dt){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:en,validCodeActions:Dt.validActions.length,cancelled:wt})}show(en,wt,Dt,$t){return function(oi,en,wt,Dt){return new(wt||(wt=Promise))(function(tn,cn){function Cn(zn){try{Hn(Dt.next(zn))}catch(bi){cn(bi)}}function Pn(zn){try{Hn(Dt.throw(zn))}catch(bi){cn(bi)}}function Hn(zn){zn.done?tn(zn.value):function $t(tn){return tn instanceof wt?tn:new wt(function(cn){cn(tn)})}(zn.value).then(Cn,Pn)}Hn((Dt=Dt.apply(oi,en||[])).next())})}(this,void 0,void 0,function*(){const tn=this._editor.getModel();if(!tn)return;const cn=$t.includeDisabledActions?wt.allActions:wt.validActions;if(!cn.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,_.F0)();this._visible=!0,this._showingActions.value=wt;const Cn=this.getMenuActions(en,cn,wt.documentation),Pn=$.L.isIPosition(Dt)?this._toCoords(Dt):Dt||{x:0,y:0},Hn=this._keybindingResolver.getResolver(),zn=this._editor.getOption(117);this.isCodeActionWidgetEnabled(tn)?this._contextViewService.showContextView({getAnchor:()=>Pn,render:bi=>this.renderCodeActionMenuList(bi,Cn),onHide:bi=>{this.codeActionTelemetry($t.fromLightbulb?j.aQ.Lightbulb:en.triggerAction,bi,wt),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:zn?this._editor.getDomNode():void 0,getAnchor:()=>Pn,getActions:()=>Cn,onHide:bi=>{this.codeActionTelemetry($t.fromLightbulb?j.aQ.Lightbulb:en.triggerAction,bi,wt),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:bi=>bi instanceof ce?Hn(bi.action):void 0})})}getMenuActions(en,wt,Dt){var $t,tn;const cn=zn=>new ce(zn.action,()=>this._delegate.onSelectCodeAction(zn,en)),Cn=wt.map(cn),Pn=[...Dt],Hn=this._editor.getModel();if(Hn&&Cn.length)for(const zn of this._languageFeaturesService.codeActionProvider.all(Hn))zn._getAdditionalMenuItems&&Pn.push(...zn._getAdditionalMenuItems({trigger:en.type,only:null===(tn=null===($t=en.filter)||void 0===$t?void 0:$t.include)||void 0===tn?void 0:tn.value},wt.map(bi=>bi.action)));return Pn.length&&Cn.push(new d.Z0,...Pn.map(zn=>cn(new D.bA({title:zn.title,command:zn,kind:Gc.documentationID},void 0)))),Cn}_toCoords(en){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(en,1),this._editor.render();const wt=this._editor.getScrolledVisiblePosition(en),Dt=u.i(this._editor.getDomNode());return{x:Dt.left+wt.left,y:Dt.top+wt.top+wt.height}}};Fe.documentationID="_documentation",Fe=xe([Me(2,J.i),Me(3,Ce.d),Me(4,S.p),Me(5,Se.b),Me(6,Ie.XE),Me(7,R.Ui),Me(8,J.u),Me(9,Z.i6)],Fe);let Ze=(()=>{class oi{constructor(wt){this._keybindingProvider=wt}getResolver(){const wt=new t.o(()=>this._keybindingProvider.getKeybindings().filter(Dt=>oi.codeActionCommands.indexOf(Dt.command)>=0).filter(Dt=>Dt.resolvedKeybinding).map(Dt=>{let $t=Dt.commandArgs;return Dt.command===D.uH?$t={kind:j.yN.SourceOrganizeImports.value}:Dt.command===D.TM&&($t={kind:j.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:Dt.resolvedKeybinding},j.wZ.fromUser($t,{kind:j.yN.None,apply:"never"}))}));return Dt=>{if(Dt.kind){const $t=this.bestKeybindingForCodeAction(Dt,wt.getValue());return $t?.resolvedKeybinding}}}bestKeybindingForCodeAction(wt,Dt){if(!wt.kind)return;const $t=new j.yN(wt.kind);return Dt.filter(tn=>tn.kind.contains($t)).filter(tn=>!tn.preferred||wt.isPreferred).reduceRight((tn,cn)=>tn?tn.kind.contains(cn.kind)?cn:tn:cn,void 0)}}return oi.codeActionCommands=[D.Bb,D.RB,D.MN,D.uH,D.TM],oi})();var ze=e(52364),fe=e(51153),Ke=e(31864),Je=e(73388),vt={};vt.styleTagTransform=H(),vt.setAttributes=x(),vt.insert=E().bind(null,"head"),vt.domAPI=m(),vt.insertStyleElement=k(),g()(Je.Z,vt);var Q,re=e(53146),pe=e(6192);!function(oi){oi.Hidden={type:0},oi.Showing=class en{constructor(Dt,$t,tn,cn){this.actions=Dt,this.trigger=$t,this.editorPosition=tn,this.widgetPosition=cn,this.type=1}}}(Q||(Q={}));let ye=class Cu extends l.JT{constructor(en,wt,Dt,$t){super(),this._editor=en,this._quickFixActionId=wt,this._preferredFixActionId=Dt,this._keybindingService=$t,this._onClick=this._register(new Ke.Q5),this.onClick=this._onClick.event,this._state=Q.Hidden,this._domNode=document.createElement("div"),this._domNode.className=fe.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(tn=>{const cn=this._editor.getModel();(1!==this.state.type||!cn||this.state.editorPosition.lineNumber>=cn.getLineCount())&&this.hide()})),ze.o.ignoreTarget(this._domNode),this._register(u.GQ(this._domNode,tn=>{if(1!==this.state.type)return;this._editor.focus(),tn.preventDefault();const{top:cn,height:Cn}=u.i(this._domNode),Pn=this._editor.getOption(61);let Hn=Math.floor(Pn/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Hn+=Pn),this._onClick.fire({x:tn.posx,y:cn+Cn+Hn,actions:this.state.actions,trigger:this.state.trigger})})),this._register(u.nm(this._domNode,"mouseenter",tn=>{1==(1&tn.buttons)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(tn=>{tn.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(en,wt,Dt){if(en.validActions.length<=0)return this.hide();const $t=this._editor.getOptions();if(!$t.get(59).enabled)return this.hide();const tn=this._editor.getModel();if(!tn)return this.hide();const{lineNumber:cn,column:Cn}=tn.validatePosition(Dt),Pn=tn.getOptions().tabSize,Hn=$t.get(46),zn=tn.getLineContent(cn),bi=(0,re.q)(zn,Pn),ao=Qi=>Qi>2&&this._editor.getTopForLineNumber(Qi)===this._editor.getTopForLineNumber(Qi-1);let Oi=cn;if(!(Hn.spaceWidth*bi>22))if(cn>1&&!ao(cn-1))Oi-=1;else if(ao(cn+1)){if(Cn*Hn.spaceWidth<22)return this.hide()}else Oi+=1;this.state=new Q.Showing(en,wt,Dt,{position:{lineNumber:Oi,column:1},preference:Cu._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Q.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(en){this._state=en,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...fe.lA.lightBulb.classNamesArray),this._domNode.classList.add(...fe.lA.lightbulbAutofix.classNamesArray);const wt=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(wt)return void(this.title=q.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",wt.getLabel()))}this._domNode.classList.remove(...fe.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...fe.lA.lightBulb.classNamesArray);const en=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=en?q.NC("codeActionWithKb","Show Code Actions ({0})",en.getLabel()):q.NC("codeAction","Show Code Actions")}set title(en){this._domNode.title=en}};var en;ye._posPref=[0],ye=function(oi,en,wt,Dt){var cn,$t=arguments.length,tn=$t<3?en:null===Dt?Dt=Object.getOwnPropertyDescriptor(en,wt):Dt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tn=Reflect.decorate(oi,en,wt,Dt);else for(var Cn=oi.length-1;Cn>=0;Cn--)(cn=oi[Cn])&&(tn=($t<3?cn(tn):$t>3?cn(en,wt,tn):cn(en,wt))||tn);return $t>3&&tn&&Object.defineProperty(en,wt,tn),tn}([(3,en=Ce.d,function(wt,Dt){en(wt,Dt,3)})],ye),(0,Ie.Ic)((oi,en)=>{var wt;const Dt=null===(wt=oi.getColor(pe.cvW))||void 0===wt?void 0:wt.transparent(.7),$t=oi.getColor(pe.Fu1);$t&&en.addRule(`\n\t\t.monaco-editor .contentWidgets ${fe.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${$t};\n\t\t\tbackground-color: ${Dt};\n\t\t}`);const tn=oi.getColor(pe.sKV);tn&&en.addRule(`\n\t\t.monaco-editor .contentWidgets ${fe.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${tn};\n\t\t\tbackground-color: ${Dt};\n\t\t}`)});var st,dt=function(oi,en,wt,Dt){return new(wt||(wt=Promise))(function(tn,cn){function Cn(zn){try{Hn(Dt.next(zn))}catch(bi){cn(bi)}}function Pn(zn){try{Hn(Dt.throw(zn))}catch(bi){cn(bi)}}function Hn(zn){zn.done?tn(zn.value):function $t(tn){return tn instanceof wt?tn:new wt(function(cn){cn(tn)})}(zn.value).then(Cn,Pn)}Hn((Dt=Dt.apply(oi,en||[])).next())})};let St=class extends l.JT{constructor(en,wt,Dt,$t,tn){super(),this._editor=en,this.delegate=$t,this._activeCodeActions=this._register(new l.XK),this.previewOn=!1,st.set(this,!1),this._codeActionWidget=new t.o(()=>this._register(tn.createInstance(Fe,this._editor,{onSelectCodeAction:(cn,Cn)=>dt(this,void 0,void 0,function*(){this.delegate.applyCodeAction(cn,!0,this.previewOn?!!this.previewOn:!!Cn.preview),this.previewOn=!1})}))),this._lightBulbWidget=new t.o(()=>{const cn=this._register(tn.createInstance(ye,this._editor,wt,Dt));return this._register(cn.onClick(Cn=>this.showCodeActionList(Cn.trigger,Cn.actions,Cn,{includeDisabledActions:!1,fromLightbulb:!0}))),cn})}dispose(){(function(oi,en,wt,Dt,$t){if("function"==typeof en||!en.has(oi))throw new TypeError("Cannot write private member to an object whose class did not declare it");en.set(oi,true)})(this,st),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(en){this._codeActionWidget.hasValue()&&(en?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(en){var wt,Dt,$t,tn,cn;return dt(this,void 0,void 0,function*(){if(1!==en.type)return void(null===(wt=this._lightBulbWidget.rawValue)||void 0===wt||wt.hide());let Cn;try{Cn=yield en.actions}catch(Pn){return void(0,_.dL)(Pn)}if(!function(oi,en,wt,Dt){if("function"==typeof en||!en.has(oi))throw new TypeError("Cannot read private member from an object whose class did not declare it");return en.get(oi)}(this,st))if(this._lightBulbWidget.getValue().update(Cn,en.trigger,en.position),1===en.trigger.type){if(null!==(Dt=en.trigger.filter)&&void 0!==Dt&&Dt.include){const Hn=this.tryGetValidActionToApply(en.trigger,Cn);if(Hn){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(Hn,!1,!1)}finally{Cn.dispose()}return}if(en.trigger.context){const zn=this.getInvalidActionThatWouldHaveBeenApplied(en.trigger,Cn);if(zn&&zn.action.disabled)return null===($t=r.O.get(this._editor))||void 0===$t||$t.showMessage(zn.action.disabled,en.trigger.context.position),void Cn.dispose()}}const Pn=!(null===(tn=en.trigger.filter)||void 0===tn||!tn.include);if(en.trigger.context&&(!Cn.allActions.length||!Pn&&!Cn.validActions.length))return null===(cn=r.O.get(this._editor))||void 0===cn||cn.showMessage(en.trigger.context.notAvailableMessage,en.trigger.context.position),this._activeCodeActions.value=Cn,void Cn.dispose();this._activeCodeActions.value=Cn,this._codeActionWidget.getValue().show(en.trigger,Cn,en.position,{includeDisabledActions:Pn,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?Cn.dispose():this._activeCodeActions.value=Cn})}getInvalidActionThatWouldHaveBeenApplied(en,wt){if(wt.allActions.length&&("first"===en.autoApply&&0===wt.validActions.length||"ifSingle"===en.autoApply&&1===wt.allActions.length))return wt.allActions.find(({action:Dt})=>Dt.disabled)}tryGetValidActionToApply(en,wt){if(wt.validActions.length&&("first"===en.autoApply&&wt.validActions.length>0||"ifSingle"===en.autoApply&&1===wt.validActions.length))return wt.validActions[0]}showCodeActionList(en,wt,Dt,$t){return dt(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(en,wt,Dt,$t)})}};st=new WeakMap,St=function(oi,en,wt,Dt){var cn,$t=arguments.length,tn=$t<3?en:null===Dt?Dt=Object.getOwnPropertyDescriptor(en,wt):Dt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tn=Reflect.decorate(oi,en,wt,Dt);else for(var Cn=oi.length-1;Cn>=0;Cn--)(cn=oi[Cn])&&(tn=($t<3?cn(tn):$t>3?cn(en,wt,tn):cn(en,wt))||tn);return $t>3&&tn&&Object.defineProperty(en,wt,tn),tn}([function(oi,en){return function(wt,Dt){en(wt,Dt,4)}}(0,a.TG)],St);var rt,mt=e(34468),bt=e(80618),Bt=e(26109),Lt=e(83916),Ye=e(41883),Tt=e(9590),qt=e(88154),Ot=function(oi,en,wt,Dt){if("a"===wt&&!Dt)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof en?oi!==en||!Dt:!en.has(oi))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===wt?Dt:"a"===wt?Dt.call(oi):Dt?Dt.value:en.get(oi)};const Le=new Z.uy("supportedCodeAction","");class ie extends l.JT{constructor(en,wt,Dt,$t=250){super(),this._editor=en,this._markerService=wt,this._signalChange=Dt,this._delay=$t,this._autoTriggerTimer=this._register(new Ye._F),this._register(this._markerService.onMarkerChanged(tn=>this._onMarkerChanges(tn))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(en){const wt=this._getRangeOfSelectionUnlessWhitespaceEnclosed(en);return this._createEventAndSignalChange(en,wt)}_onMarkerChanges(en){const wt=this._editor.getModel();wt&&en.some(Dt=>(0,Tt.Xy)(Dt,wt.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:j.aQ.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:j.aQ.Default})},this._delay)}_getRangeOfMarker(en){const wt=this._editor.getModel();if(wt)for(const Dt of this._markerService.read({resource:wt.uri})){const $t=wt.validateRange(Dt);if(qt.e.intersectRanges($t,en))return qt.e.lift($t)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(en){if(!this._editor.hasModel())return;const wt=this._editor.getModel(),Dt=this._editor.getSelection();if(Dt.isEmpty()&&2===en.type){const{lineNumber:$t,column:tn}=Dt.getPosition(),cn=wt.getLineContent($t);if(0===cn.length)return;if(1===tn){if(/\s/.test(cn[0]))return}else if(tn===wt.getLineMaxColumn($t)){if(/\s/.test(cn[cn.length-1]))return}else if(/\s/.test(cn[tn-2])&&/\s/.test(cn[tn-1]))return}return Dt}_createEventAndSignalChange(en,wt){const Dt=this._editor.getModel();if(!wt||!Dt)return void this._signalChange(void 0);const $t=this._getRangeOfMarker(wt),tn=$t?$t.getStartPosition():wt.getStartPosition(),cn={trigger:en,selection:wt,position:tn};return this._signalChange(cn),cn}}var te;!function(oi){oi.Empty={type:0},oi.Triggered=class en{constructor(Dt,$t,tn,cn){this.trigger=Dt,this.rangeOrSelection=$t,this.position=tn,this._cancellablePromise=cn,this.type=1,this.actions=cn.catch(Cn=>{if((0,_.n2)(Cn))return oe;throw Cn})}cancel(){this._cancellablePromise.cancel()}}}(te||(te={}));const oe={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class we extends l.JT{constructor(en,wt,Dt,$t,tn){super(),this._editor=en,this._registry=wt,this._markerService=Dt,this._progressService=tn,this._codeActionOracle=this._register(new l.XK),this._state=te.Empty,this._onDidChangeState=this._register(new Ke.Q5),this.onDidChangeState=this._onDidChangeState.event,rt.set(this,!1),this._supportedCodeActions=Le.bindTo($t),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Ot(this,rt,"f")||(function(oi,en,wt,Dt,$t){if("function"==typeof en||!en.has(oi))throw new TypeError("Cannot write private member to an object whose class did not declare it");en.set(oi,true)}(this,rt),super.dispose(),this.setState(te.Empty,!0))}_update(){if(Ot(this,rt,"f"))return;this._codeActionOracle.value=void 0,this.setState(te.Empty);const en=this._editor.getModel();if(en&&this._registry.has(en)&&!this._editor.getOption(83)){const wt=[];for(const Dt of this._registry.all(en))Array.isArray(Dt.providedCodeActionKinds)&&wt.push(...Dt.providedCodeActionKinds);this._supportedCodeActions.set(wt.join(" ")),this._codeActionOracle.value=new ie(this._editor,this._markerService,Dt=>{var $t;if(!Dt)return void this.setState(te.Empty);const tn=(0,Ye.PG)(cn=>(0,D.aI)(this._registry,en,Dt.selection,Dt.trigger,Bt.Ex.None,cn));1===Dt.trigger.type&&(null===($t=this._progressService)||void 0===$t||$t.showWhile(tn,250)),this.setState(new te.Triggered(Dt.trigger,Dt.selection,Dt.position,tn))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:j.aQ.Default})}else this._supportedCodeActions.reset()}trigger(en){var wt;null===(wt=this._codeActionOracle.value)||void 0===wt||wt.trigger(en)}setState(en,wt){en!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=en,!wt&&!Ot(this,rt,"f")&&this._onDidChangeState.fire(en))}}rt=new WeakMap;var He=function(oi,en){return function(wt,Dt){en(wt,Dt,oi)}},De=function(oi,en,wt,Dt){return new(wt||(wt=Promise))(function(tn,cn){function Cn(zn){try{Hn(Dt.next(zn))}catch(bi){cn(bi)}}function Pn(zn){try{Hn(Dt.throw(zn))}catch(bi){cn(bi)}}function Hn(zn){zn.done?tn(zn.value):function $t(tn){return tn instanceof wt?tn:new wt(function(cn){cn(tn)})}(zn.value).then(Cn,Pn)}Hn((Dt=Dt.apply(oi,en||[])).next())})};function pt(oi){return Z.Ao.regex(Le.keys()[0],new RegExp("(\\s|^)"+(0,C.ec)(oi.value)+"\\b"))}function lt(oi,en,wt,Dt){const $t=j.wZ.fromUser(en,{kind:j.yN.Refactor,apply:"never"});return Gn(oi,"string"==typeof en?.kind?$t.preferred?q.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",en.kind):q.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",en.kind):$t.preferred?q.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):q.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:j.yN.Refactor.contains($t.kind)?$t.kind:j.yN.None,onlyIncludePreferredActions:$t.preferred},$t.apply,wt,Dt)}const Ht={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:q.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:q.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[q.NC("args.schema.apply.first","Always apply the first returned code action."),q.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),q.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:q.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Xt=class yu extends l.JT{constructor(en,wt,Dt,$t,tn,cn){super(),this._instantiationService=tn,this._editor=en,this._model=this._register(new we(this._editor,cn.codeActionProvider,wt,Dt,$t)),this._register(this._model.onDidChangeState(Cn=>this.update(Cn))),this._ui=new t.o(()=>this._register(new St(en,li.Id,oo.Id,{applyCodeAction:(Cn,Pn,Hn)=>De(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Cn,Hn)}finally{Pn&&this._trigger({type:2,triggerAction:j.aQ.QuickFix,filter:{}})}})},this._instantiationService)))}static get(en){return en.getContribution(yu.ID)}update(en){this._ui.getValue().update(en)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(en){this._ui.hasValue()&&this._ui.getValue().navigateList(en)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(en,wt,Dt){return this._ui.getValue().showCodeActionList(en,wt,Dt,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(en,wt,Dt,$t,tn){var cn;if(!this._editor.hasModel())return;null===(cn=r.O.get(this._editor))||void 0===cn||cn.closeMessage();const Cn=this._editor.getPosition();this._trigger({type:1,triggerAction:wt,filter:Dt,autoApply:$t,context:{notAvailableMessage:en,position:Cn},preview:tn})}_trigger(en){return this._model.trigger(en)}_applyCodeAction(en,wt){return this._instantiationService.invokeFunction(an,en,ut.FromCodeActions,{preview:wt,editor:this._editor})}};Xt.ID="editor.contrib.quickFixController",Xt=function(oi,en,wt,Dt){var cn,$t=arguments.length,tn=$t<3?en:null===Dt?Dt=Object.getOwnPropertyDescriptor(en,wt):Dt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tn=Reflect.decorate(oi,en,wt,Dt);else for(var Cn=oi.length-1;Cn>=0;Cn--)(cn=oi[Cn])&&(tn=($t<3?cn(tn):$t>3?cn(en,wt,tn):cn(en,wt))||tn);return $t>3&&tn&&Object.defineProperty(en,wt,tn),tn}([He(1,bt.lT),He(2,Z.i6),He(3,Bt.ek),He(4,a.TG),He(5,S.p)],Xt);var ut=(()=>((ut=ut||{}).OnSave="onSave",ut.FromProblemsView="fromProblemsView",ut.FromCodeActions="fromCodeActions",ut))();function an(oi,en,wt,Dt){return De(this,void 0,void 0,function*(){const $t=oi.get(I.vu),tn=oi.get(mt.Hy),cn=oi.get(Se.b),Cn=oi.get(Lt.lT);if(cn.publicLog2("codeAction.applyCodeAction",{codeActionTitle:en.action.title,codeActionKind:en.action.kind,codeActionIsPreferred:!!en.action.isPreferred,reason:wt}),yield en.resolve(s.T.None),en.action.edit&&(yield $t.apply(I.fo.convert(en.action.edit),{editor:Dt?.editor,label:en.action.title,quotableLabel:en.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:Dt?.preview})),en.action.command)try{yield tn.executeCommand(en.action.command.id,...en.action.command.arguments||[])}catch(Pn){const Hn=function Kn(oi){return"string"==typeof oi?oi:oi instanceof Error&&"string"==typeof oi.message?oi.message:void 0}(Pn);Cn.error("string"==typeof Hn?Hn:q.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Gn(oi,en,wt,Dt,$t=!1,tn=j.aQ.Default){if(oi.hasModel()){const cn=Xt.get(oi);cn?.manualTriggerAtCurrentPosition(en,tn,wt,Dt,$t)}}let li=(()=>{class oi extends f.R6{constructor(){super({id:oi.Id,label:q.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Z.Ao.and(b.u.writable,b.u.hasCodeActionsProvider),kbOpts:{kbExpr:b.u.editorTextFocus,primary:2132,weight:100}})}run(wt,Dt){return Gn(Dt,q.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,j.aQ.QuickFix)}}return oi.Id="editor.action.quickFix",oi})();class fi extends f._l{constructor(){super({id:D.RB,precondition:Z.Ao.and(b.u.writable,b.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Ht}]}})}runEditorCommand(en,wt,Dt){const $t=j.wZ.fromUser(Dt,{kind:j.yN.Empty,apply:"ifSingle"});return Gn(wt,"string"==typeof Dt?.kind?$t.preferred?q.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",Dt.kind):q.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",Dt.kind):$t.preferred?q.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):q.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:$t.kind,includeSourceActions:!0,onlyIncludePreferredActions:$t.preferred},$t.apply)}}class ri extends f.R6{constructor(){super({id:D.Bb,label:q.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:Z.Ao.and(b.u.writable,b.u.hasCodeActionsProvider),kbOpts:{kbExpr:b.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Z.Ao.and(b.u.writable,pt(j.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Ht}]}})}run(en,wt,Dt){return lt(wt,Dt,!1,j.aQ.Refactor)}}class _i extends f.R6{constructor(){super({id:D.sh,label:q.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:Z.Ao.and(b.u.writable,b.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:Ht}]}})}run(en,wt,Dt){return lt(wt,Dt,!0,j.aQ.RefactorPreview)}}class Xi extends f.R6{constructor(){super({id:D.MN,label:q.NC("source.label","Source Action..."),alias:"Source Action...",precondition:Z.Ao.and(b.u.writable,b.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Z.Ao.and(b.u.writable,pt(j.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Ht}]}})}run(en,wt,Dt){const $t=j.wZ.fromUser(Dt,{kind:j.yN.Source,apply:"never"});return Gn(wt,"string"==typeof Dt?.kind?$t.preferred?q.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",Dt.kind):q.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",Dt.kind):$t.preferred?q.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):q.NC("editor.action.source.noneMessage","No source actions available"),{include:j.yN.Source.contains($t.kind)?$t.kind:j.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:$t.preferred},$t.apply,void 0,j.aQ.SourceAction)}}class Zi extends f.R6{constructor(){super({id:D.uH,label:q.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Z.Ao.and(b.u.writable,pt(j.yN.SourceOrganizeImports)),kbOpts:{kbExpr:b.u.editorTextFocus,primary:1581,weight:100}})}run(en,wt){return Gn(wt,q.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:j.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,j.aQ.OrganizeImports)}}class vo extends f.R6{constructor(){super({id:D.TM,label:q.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:Z.Ao.and(b.u.writable,pt(j.yN.SourceFixAll))})}run(en,wt){return Gn(wt,q.NC("fixAll.noneMessage","No fix all action available"),{include:j.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,j.aQ.FixAll)}}let oo=(()=>{class oi extends f.R6{constructor(){super({id:oi.Id,label:q.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Z.Ao.and(b.u.writable,pt(j.yN.QuickFix)),kbOpts:{kbExpr:b.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(wt,Dt){return Gn(Dt,q.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:j.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,j.aQ.AutoFix)}}return oi.Id="editor.action.autoFix",oi})();const yo=f._l.bindToContribution(Xt.get);(0,f.fK)(new yo({id:"hideCodeActionMenuWidget",precondition:se.Visible,handler(oi){oi.hideCodeActionMenu()},kbOpts:{weight:190,primary:9,secondary:[1033]}})),(0,f.fK)(new yo({id:"focusPreviousCodeAction",precondition:se.Visible,handler(oi){oi.navigateCodeActionList(!0)},kbOpts:{weight:100190,primary:16,secondary:[2064]}})),(0,f.fK)(new yo({id:"focusNextCodeAction",precondition:se.Visible,handler(oi){oi.navigateCodeActionList(!1)},kbOpts:{weight:100190,primary:18,secondary:[2066]}})),(0,f.fK)(new yo({id:"onEnterSelectCodeAction",precondition:se.Visible,handler(oi){oi.selectedOption()},kbOpts:{weight:100190,primary:3,secondary:[1026]}})),(0,f.fK)(new yo({id:"onEnterSelectCodeActionWithPreview",precondition:se.Visible,handler(oi){oi.selectedOptionWithPreview()},kbOpts:{weight:100190,primary:2051}}))},17691:(yt,T,e)=>{"use strict";e.r(T);var s=e(95102),t=e(2590),l=e(3044),C=e(1200),f=e(60828);e(25468).B.as(f.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},l.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:C.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,s._K)(t.pY.ID,t.pY),(0,s.Qr)(t.E7),(0,s.Qr)(t.Eb),(0,s.Qr)(t.UG),(0,s.Qr)(t.VQ),(0,s.Qr)(t.o$),(0,s.Qr)(t.S5),(0,s.Qr)(t.Hv),(0,s.fK)(new t.dW)},17243:(yt,T,e)=>{"use strict";e.d(T,{EU:()=>l,Yl:()=>C,aQ:()=>t,wZ:()=>I,yN:()=>s});class s{constructor(S){this.value=S}equals(S){return this.value===S.value}contains(S){return this.equals(S)||""===this.value||S.value.startsWith(this.value+s.sep)}intersects(S){return this.contains(S)||S.contains(this)}append(S){return new s(this.value+s.sep+S)}}s.sep=".",s.None=new s("@@none@@"),s.Empty=new s(""),s.QuickFix=new s("quickfix"),s.Refactor=new s("refactor"),s.Source=new s("source"),s.SourceOrganizeImports=s.Source.append("organizeImports"),s.SourceFixAll=s.Source.append("fixAll");var t=(()=>((t=t||{}).Refactor="refactor",t.RefactorPreview="refactor preview",t.Lightbulb="lightbulb",t.Default="other (default)",t.SourceAction="source action",t.QuickFix="quick fix action",t.FixAll="fix all",t.OrganizeImports="organize imports",t.AutoFix="auto fix",t.QuickFixHover="quick fix hover window",t.OnSave="save participants",t.ProblemsView="problems view",t))();function l(b,S){return!(b.include&&!b.include.intersects(S)||b.excludes&&b.excludes.some(D=>f(S,D,b.include))||!b.includeSourceActions&&s.Source.contains(S))}function C(b,S){const D=S.kind?new s(S.kind):void 0;return!(b.include&&(!D||!b.include.contains(D))||b.excludes&&D&&b.excludes.some(_=>f(D,_,b.include))||!b.includeSourceActions&&D&&s.Source.contains(D)||b.onlyIncludePreferredActions&&!S.isPreferred)}function f(b,S,D){return!(!S.contains(b)||D&&S.contains(D))}class I{constructor(S,D,_){this.kind=S,this.apply=D,this.preferred=_}static fromUser(S,D){return S&&"object"==typeof S?new I(I.getKindFromUser(S,D.kind),I.getApplyFromUser(S,D.apply),I.getPreferredUser(S)):new I(D.kind,D.apply,!1)}static getApplyFromUser(S,D){switch("string"==typeof S.apply?S.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return D}}static getKindFromUser(S,D){return"string"==typeof S.kind?new s(S.kind):D}static getPreferredUser(S){return"boolean"==typeof S.preferred&&S.preferred}}},74217:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CodeLensContribution:()=>re});var s=e(94418),t=e(41883),l=e(3219),C=e(50540),f=e(21576),I=e(85171),b=e(95102),S=e(11739),D=e(72325),_=e(71943),r=e(22070),a=e(56740),u=e(44378),n=e(34468),d=e(13154),y=function(pe,ge,de,Q){return new(de||(de=Promise))(function(Ae,ft){function dt(st){try{et(Q.next(st))}catch(St){ft(St)}}function it(st){try{et(Q.throw(st))}catch(St){ft(St)}}function et(st){st.done?Ae(st.value):function ye(Ae){return Ae instanceof de?Ae:new de(function(ft){ft(Ae)})}(st.value).then(dt,it)}et((Q=Q.apply(pe,ge||[])).next())})};class g{constructor(){this.lenses=[],this._disposables=new f.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(ge,de){this._disposables.add(ge);for(const Q of ge.lenses)this.lenses.push({symbol:Q,provider:de})}}function v(pe,ge,de){return y(this,void 0,void 0,function*(){const Q=pe.ordered(ge),ye=new Map,Ae=new g,ft=Q.map((dt,it)=>y(this,void 0,void 0,function*(){ye.set(dt,it);try{const et=yield Promise.resolve(dt.provideCodeLenses(ge,de));et&&Ae.add(et,dt)}catch(et){(0,l.Cp)(et)}}));return yield Promise.all(ft),Ae.lenses=Ae.lenses.sort((dt,it)=>dt.symbol.range.startLineNumber<it.symbol.range.startLineNumber?-1:dt.symbol.range.startLineNumber>it.symbol.range.startLineNumber?1:ye.get(dt.provider)<ye.get(it.provider)?-1:ye.get(dt.provider)>ye.get(it.provider)?1:dt.symbol.range.startColumn<it.symbol.range.startColumn?-1:dt.symbol.range.startColumn>it.symbol.range.startColumn?1:0),Ae})}n.P0.registerCommand("_executeCodeLensProvider",function(pe,...ge){let[de,Q]=ge;(0,r.p_)(a.o.isUri(de)),(0,r.p_)("number"==typeof Q||!Q);const{codeLensProvider:ye}=pe.get(d.p),Ae=pe.get(u.q).getModel(de);if(!Ae)throw(0,l.b1)();const ft=[],dt=new f.SL;return v(ye,Ae,_.T.None).then(it=>{dt.add(it);const et=[];for(const st of it.lenses)null==Q||st.symbol.command?ft.push(st.symbol):Q-- >0&&st.provider.resolveCodeLens&&et.push(Promise.resolve(st.provider.resolveCodeLens(Ae,st.symbol,_.T.None)).then(St=>ft.push(St||st.symbol)));return Promise.all(et)}).then(()=>ft).finally(()=>{setTimeout(()=>dt.dispose(),100)})});var m=e(67005),w=e(63312),E=e(88154),L=e(53708),x=e(30888),A=e(22735);const H=(0,x.yh)("ICodeLensCache");class z{constructor(ge,de){this.lineCount=ge,this.data=de}}let N=class{constructor(ge){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new w.z6(20,.75),(0,t.To)(()=>ge.remove("codelens/cache",1));const Q="codelens/cache2",ye=ge.get(Q,1,"{}");this._deserialize(ye),(0,m.I)(ge.onWillSaveState)(Ae=>{Ae.reason===A.fk.SHUTDOWN&&ge.store(Q,this._serialize(),1,1)})}put(ge,de){const Q=de.lenses.map(ft=>{var dt;return{range:ft.symbol.range,command:ft.symbol.command&&{id:"",title:null===(dt=ft.symbol.command)||void 0===dt?void 0:dt.title}}}),ye=new g;ye.add({lenses:Q,dispose:()=>{}},this._fakeProvider);const Ae=new z(ge.getLineCount(),ye);this._cache.set(ge.uri.toString(),Ae)}get(ge){const de=this._cache.get(ge.uri.toString());return de&&de.lineCount===ge.getLineCount()?de.data:void 0}delete(ge){this._cache.delete(ge.uri.toString())}_serialize(){const ge=Object.create(null);for(const[de,Q]of this._cache){const ye=new Set;for(const Ae of Q.data.lenses)ye.add(Ae.symbol.range.startLineNumber);ge[de]={lineCount:Q.lineCount,lines:[...ye.values()]}}return JSON.stringify(ge)}_deserialize(ge){try{const de=JSON.parse(ge);for(const Q in de){const ye=de[Q],Ae=[];for(const dt of ye.lines)Ae.push({range:new E.e(dt,1,dt,11)});const ft=new g;ft.add({lenses:Ae,dispose(){}},this._fakeProvider),this._cache.set(Q,new z(ye.lineCount,ft))}}catch{}}};var ge;N=function(pe,ge,de,Q){var ft,ye=arguments.length,Ae=ye<3?ge:null===Q?Q=Object.getOwnPropertyDescriptor(ge,de):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(pe,ge,de,Q);else for(var dt=pe.length-1;dt>=0;dt--)(ft=pe[dt])&&(Ae=(ye<3?ft(Ae):ye>3?ft(ge,de,Ae):ft(ge,de))||Ae);return ye>3&&Ae&&Object.defineProperty(ge,de,Ae),Ae}([(0,ge=A.Uy,function(de,Q){ge(de,Q,0)})],N),(0,L.z)(H,N);var O=e(47579),K=e(92123),$=e.n(K),j=e(65057),q=e.n(j),R=e(28764),Z=e.n(R),J=e(6557),Ce=e.n(J),Se=e(11146),Ie=e.n(Se),xe=e(95085),Me=e.n(xe),Oe=e(62269),se={};se.styleTagTransform=Me(),se.setAttributes=Ce(),se.insert=Z().bind(null,"head"),se.domAPI=q(),se.insertStyleElement=Ie(),$()(Oe.Z,se);var me=e(53727);class Pe{constructor(ge,de,Q){this.afterColumn=1073741824,this.afterLineNumber=ge,this.heightInPx=de,this._onHeight=Q,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(ge){void 0===this._lastHeight?this._lastHeight=ge:this._lastHeight!==ge&&(this._lastHeight=ge,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let he=(()=>{class pe{constructor(de,Q,ye){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=de,this._id="codelens.widget-"+pe._idPool++,this.updatePosition(ye),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${Q}`}withCommands(de,Q){this._commands.clear();const ye=[];let Ae=!1;for(let ft=0;ft<de.length;ft++){const dt=de[ft];if(dt&&(Ae=!0,dt.command)){const it=(0,O.T)(dt.command.title.trim());dt.command.id?(ye.push(s.$("a",{id:String(ft),title:dt.command.tooltip,role:"button"},...it)),this._commands.set(String(ft),dt.command)):ye.push(s.$("span",{title:dt.command.tooltip},...it)),ft+1<de.length&&ye.push(s.$("span",void 0,"\xa0|\xa0"))}}Ae?(s.mc(this._domNode,...ye),this._isEmpty&&Q&&this._domNode.classList.add("fadein"),this._isEmpty=!1):s.mc(this._domNode,s.$("span",void 0,"no commands"))}getCommand(de){return de.parentElement===this._domNode?this._commands.get(de.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(de){const Q=this._editor.getModel().getLineFirstNonWhitespaceColumn(de);this._widgetPosition={position:{lineNumber:de,column:Q},preference:[1]}}getPosition(){return this._widgetPosition||null}}return pe._idPool=0,pe})();class Fe{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(ge,de){this._addDecorations.push(ge),this._addDecorationsCallbacks.push(de)}removeDecoration(ge){this._removeDecorations.push(ge)}commit(ge){const de=ge.deltaDecorations(this._removeDecorations,this._addDecorations);for(let Q=0,ye=de.length;Q<ye;Q++)this._addDecorationsCallbacks[Q](de[Q])}}class Ze{constructor(ge,de,Q,ye,Ae,ft,dt){let it;this._isDisposed=!1,this._editor=de,this._className=Q,this._data=ge,this._decorationIds=[];const et=[];this._data.forEach((st,St)=>{st.symbol.command&&et.push(st.symbol),ye.addDecoration({range:st.symbol.range,options:me.qx.EMPTY},mt=>this._decorationIds[St]=mt),it=it?E.e.plusRange(it,st.symbol.range):E.e.lift(st.symbol.range)}),this._viewZone=new Pe(it.startLineNumber-1,ft,dt),this._viewZoneId=Ae.addZone(this._viewZone),et.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(et,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new he(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(ge,de){this._decorationIds.forEach(ge.removeDecoration,ge),this._decorationIds=[],de?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((ge,de)=>{const Q=this._editor.getModel().getDecorationRange(ge);return!(!Q||E.e.isEmpty(this._data[de].symbol.range)!==Q.isEmpty())})}updateCodeLensSymbols(ge,de){this._decorationIds.forEach(de.removeDecoration,de),this._decorationIds=[],this._data=ge,this._data.forEach((Q,ye)=>{de.addDecoration({range:Q.symbol.range,options:me.qx.EMPTY},Ae=>this._decorationIds[ye]=Ae)})}updateHeight(ge,de){this._viewZone.heightInPx=ge,de.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(ge){if(!this._viewZone.isVisible())return null;for(let de=0;de<this._decorationIds.length;de++){const Q=ge.getDecorationRange(this._decorationIds[de]);Q&&(this._data[de].symbol.range=Q)}return this._data}updateCommands(ge){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ge,!0);for(let de=0;de<this._data.length;de++){const Q=ge[de];if(Q){const{symbol:ye}=this._data[de];ye.command=Q.command||ye.command}}}getCommand(ge){var de;return null===(de=this._contentWidget)||void 0===de?void 0:de.getCommand(ge)}getLineNumber(){const ge=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return ge?ge.startLineNumber:-1}update(ge){if(this.isValid()){const de=this._editor.getModel().getDecorationRange(this._decorationIds[0]);de&&(this._viewZone.afterLineNumber=de.startLineNumber-1,ge.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(de.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var ze=e(1200),fe=e(83916),Ke=e(21156),Je=e(54693),Et=function(pe,ge){return function(de,Q){ge(de,Q,pe)}};let re=class{constructor(ge,de,Q,ye,Ae,ft){this._editor=ge,this._languageFeaturesService=de,this._commandService=ye,this._notificationService=Ae,this._codeLensCache=ft,this._disposables=new f.SL,this._localToDispose=new f.SL,this._lenses=[],this._oldCodeLensModels=new f.SL,this._provideCodeLensDebounce=Q.for(de.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=Q.for(de.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new t.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(dt=>{(dt.hasChanged(46)||dt.hasChanged(16)||dt.hasChanged(15))&&this._updateLensStyle(),dt.hasChanged(14)&&this._onModelChange()})),this._disposables.add(de.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,C.vp)(this._editor.getId()).toString(16),this._styleElement=s.dS(s.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var ge;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(ge=this._currentCodeLensModel)||void 0===ge||ge.dispose(),this._styleElement.remove()}_getLayoutInfo(){const ge=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let de=this._editor.getOption(16);return(!de||de<5)&&(de=.9*this._editor.getOption(48)|0),{fontSize:de,codeLensHeight:de*ge|0}}_updateLensStyle(){const{codeLensHeight:ge,fontSize:de}=this._getLayoutInfo(),Q=this._editor.getOption(15),ye=this._editor.getOption(46),Ae=`--codelens-font-family${this._styleClassName}`,ft=`--codelens-font-features${this._styleClassName}`;let dt=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${ge}px; font-size: ${de}px; padding-right: ${Math.round(.5*de)}px; font-feature-settings: var(${ft}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${ge}px; font-size: ${de}px; }\n\t\t`;Q&&(dt+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${Ae}), ${S.hL.fontFamily}}`),this._styleElement.textContent=dt,this._editor.getContainerDomNode().style.setProperty(Ae,Q??"inherit"),this._editor.getContainerDomNode().style.setProperty(ft,ye.fontFeatureSettings),this._editor.changeViewZones(it=>{for(const et of this._lenses)et.updateHeight(ge,it)})}_localDispose(){var ge,de,Q;null===(ge=this._getCodeLensModelPromise)||void 0===ge||ge.cancel(),this._getCodeLensModelPromise=void 0,null===(de=this._resolveCodeLensesPromise)||void 0===de||de.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(Q=this._currentCodeLensModel)||void 0===Q||Q.dispose()}_onModelChange(){this._localDispose();const ge=this._editor.getModel();if(!ge||!this._editor.getOption(14))return;const de=this._codeLensCache.get(ge);if(de&&this._renderCodeLensSymbols(de),!this._languageFeaturesService.codeLensProvider.has(ge))return void(de&&this._localToDispose.add((0,t.Vg)(()=>{const ye=this._codeLensCache.get(ge);de===ye&&(this._codeLensCache.delete(ge),this._onModelChange())},3e4)));for(const ye of this._languageFeaturesService.codeLensProvider.all(ge))if("function"==typeof ye.onDidChange){const Ae=ye.onDidChange(()=>Q.schedule());this._localToDispose.add(Ae)}const Q=new t.pY(()=>{var ye;const Ae=Date.now();null===(ye=this._getCodeLensModelPromise)||void 0===ye||ye.cancel(),this._getCodeLensModelPromise=(0,t.PG)(ft=>v(this._languageFeaturesService.codeLensProvider,ge,ft)),this._getCodeLensModelPromise.then(ft=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=ft,this._codeLensCache.put(ge,ft);const dt=this._provideCodeLensDebounce.update(ge,Date.now()-Ae);Q.delay=dt,this._renderCodeLensSymbols(ft),this._resolveCodeLensesInViewportSoon()},l.dL)},this._provideCodeLensDebounce.get(ge));this._localToDispose.add(Q),this._localToDispose.add((0,f.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(ye=>{this._editor.changeViewZones(Ae=>{const ft=[];let dt=-1;this._lenses.forEach(et=>{et.isValid()&&dt!==et.getLineNumber()?(et.update(Ae),dt=et.getLineNumber()):ft.push(et)});const it=new Fe;ft.forEach(et=>{et.dispose(it,Ae),this._lenses.splice(this._lenses.indexOf(et),1)}),it.commit(ye)})}),Q.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{Q.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(ye=>{ye.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,f.OF)(()=>{if(this._editor.getModel()){const ye=I.Z.capture(this._editor);this._editor.changeDecorations(Ae=>{this._editor.changeViewZones(ft=>{this._disposeAllLenses(Ae,ft)})}),ye.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(ye=>{if(9!==ye.target.type)return;let Ae=ye.target.element;if("SPAN"===Ae?.tagName&&(Ae=Ae.parentElement),"A"===Ae?.tagName)for(const ft of this._lenses){const dt=ft.getCommand(Ae);if(dt){this._commandService.executeCommand(dt.id,...dt.arguments||[]).catch(it=>this._notificationService.error(it));break}}})),Q.schedule()}_disposeAllLenses(ge,de){const Q=new Fe;for(const ye of this._lenses)ye.dispose(Q,de);ge&&Q.commit(ge),this._lenses.length=0}_renderCodeLensSymbols(ge){if(!this._editor.hasModel())return;const de=this._editor.getModel().getLineCount(),Q=[];let ye;for(const dt of ge.lenses){const it=dt.symbol.range.startLineNumber;it<1||it>de||(ye&&ye[ye.length-1].symbol.range.startLineNumber===it?ye.push(dt):(ye=[dt],Q.push(ye)))}const Ae=I.Z.capture(this._editor),ft=this._getLayoutInfo();this._editor.changeDecorations(dt=>{this._editor.changeViewZones(it=>{const et=new Fe;let st=0,St=0;for(;St<Q.length&&st<this._lenses.length;){const mt=Q[St][0].symbol.range.startLineNumber,bt=this._lenses[st].getLineNumber();bt<mt?(this._lenses[st].dispose(et,it),this._lenses.splice(st,1)):bt===mt?(this._lenses[st].updateCodeLensSymbols(Q[St],et),St++,st++):(this._lenses.splice(st,0,new Ze(Q[St],this._editor,this._styleClassName,et,it,ft.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),st++,St++)}for(;st<this._lenses.length;)this._lenses[st].dispose(et,it),this._lenses.splice(st,1);for(;St<Q.length;)this._lenses.push(new Ze(Q[St],this._editor,this._styleClassName,et,it,ft.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),St++;et.commit(dt)})}),Ae.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var ge;null===(ge=this._resolveCodeLensesPromise)||void 0===ge||ge.cancel(),this._resolveCodeLensesPromise=void 0;const de=this._editor.getModel();if(!de)return;const Q=[],ye=[];if(this._lenses.forEach(dt=>{const it=dt.computeIfNecessary(de);it&&(Q.push(it),ye.push(dt))}),0===Q.length)return;const Ae=Date.now(),ft=(0,t.PG)(dt=>{const it=Q.map((et,st)=>{const St=new Array(et.length),mt=et.map((bt,Bt)=>bt.symbol.command||"function"!=typeof bt.provider.resolveCodeLens?(St[Bt]=bt.symbol,Promise.resolve(void 0)):Promise.resolve(bt.provider.resolveCodeLens(de,bt.symbol,dt)).then(Lt=>{St[Bt]=Lt},l.Cp));return Promise.all(mt).then(()=>{!dt.isCancellationRequested&&!ye[st].isDisposed()&&ye[st].updateCommands(St)})});return Promise.all(it)});this._resolveCodeLensesPromise=ft,this._resolveCodeLensesPromise.then(()=>{const dt=this._resolveCodeLensesDebounce.update(de,Date.now()-Ae);this._resolveCodeLensesScheduler.delay=dt,this._currentCodeLensModel&&this._codeLensCache.put(de,this._currentCodeLensModel),this._oldCodeLensModels.clear(),ft===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},dt=>{(0,l.dL)(dt),ft===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};re.ID="css.editor.codeLens",re=function(pe,ge,de,Q){var ft,ye=arguments.length,Ae=ye<3?ge:null===Q?Q=Object.getOwnPropertyDescriptor(ge,de):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(pe,ge,de,Q);else for(var dt=pe.length-1;dt>=0;dt--)(ft=pe[dt])&&(Ae=(ye<3?ft(Ae):ye>3?ft(ge,de,Ae):ft(ge,de))||Ae);return ye>3&&Ae&&Object.defineProperty(ge,de,Ae),Ae}([Et(1,d.p),Et(2,Je.A),Et(3,n.Hy),Et(4,fe.lT),Et(5,H)],re),(0,b._K)(re.ID,re),(0,b.Qr)(class extends b.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:D.u.hasCodeLensProvider,label:(0,ze.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(ge,de){return function(pe,ge,de,Q){return new(de||(de=Promise))(function(Ae,ft){function dt(st){try{et(Q.next(st))}catch(St){ft(St)}}function it(st){try{et(Q.throw(st))}catch(St){ft(St)}}function et(st){st.done?Ae(st.value):function ye(Ae){return Ae instanceof de?Ae:new de(function(ft){ft(Ae)})}(st.value).then(dt,it)}et((Q=Q.apply(pe,ge||[])).next())})}(this,void 0,void 0,function*(){if(!de.hasModel())return;const Q=ge.get(Ke.eJ),ye=ge.get(n.Hy),Ae=ge.get(fe.lT),ft=de.getSelection().positionLineNumber,dt=de.getContribution(re.ID);if(!dt)return;const it=dt.getModel();if(!it)return;const et=[];for(const St of it.lenses)St.symbol.command&&St.symbol.range.startLineNumber===ft&&et.push({label:St.symbol.command.title,command:St.symbol.command});if(0===et.length)return;const st=yield Q.pick(et,{canPickMany:!1});if(st){if(it.isDisposed)return yield ye.executeCommand(this.id);try{yield ye.executeCommand(st.command.id,...st.command.arguments||[])}catch(St){Ae.error(St)}}})}})},43595:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{ColorContribution:()=>ft});var s=e(21576),t=e(95102),l=e(88154),C=e(41883),f=e(84968),I=e(3219),b=e(44753),S=e(77697),D=e(25206),_=e(53727),r=e(54693),a=e(13154),u=e(71943),n=e(56740),d=e(44378),y=e(34468);function v(dt,it,et,st){return Promise.resolve(et.provideColorPresentations(dt,it,st))}y.P0.registerCommand("_executeDocumentColorProvider",function(dt,...it){const[et]=it;if(!(et instanceof n.o))throw(0,I.b1)();const{colorProvider:st}=dt.get(a.p),St=dt.get(d.q).getModel(et);if(!St)throw(0,I.b1)();const mt=[],Bt=st.ordered(St).reverse().map(Lt=>Promise.resolve(Lt.provideDocumentColors(St,u.T.None)).then(Ye=>{if(Array.isArray(Ye))for(const Tt of Ye)mt.push({range:Tt.range,color:[Tt.color.red,Tt.color.green,Tt.color.blue,Tt.color.alpha]})}));return Promise.all(Bt).then(()=>mt)}),y.P0.registerCommand("_executeColorPresentationProvider",function(dt,...it){const[et,st]=it,{uri:St,range:mt}=st;if(!(St instanceof n.o&&Array.isArray(et)&&4===et.length&&l.e.isIRange(mt)))throw(0,I.b1)();const[bt,Bt,Lt,Ye]=et,{colorProvider:Tt}=dt.get(a.p),qt=dt.get(d.q).getModel(St);if(!qt)throw(0,I.b1)();const Ot={range:mt,color:{red:bt,green:Bt,blue:Lt,alpha:Ye}},Ft=[],Le=Tt.ordered(qt).reverse().map(ie=>Promise.resolve(ie.provideColorPresentations(qt,Ot,u.T.None)).then(te=>{Array.isArray(te)&&Ft.push(...te)}));return Promise.all(Le).then(()=>Ft)});var m=e(56767),E=function(dt,it){return function(et,st){it(et,st,dt)}};const x=Object.create({});let k=class bu extends s.JT{constructor(it,et,st,St){super(),this._editor=it,this._configurationService=et,this._languageFeaturesService=st,this._localToDispose=this._register(new s.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new D.t7(this._editor),this._colorDecorationClassRefs=this._register(new s.SL),this._debounceInformation=St.for(st.colorProvider,"Document Colors",{min:bu.RECOMPUTE_TIME}),this._register(it.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(it.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(st.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(it.onDidChangeConfiguration(()=>{const mt=this._isEnabled;this._isEnabled=this.isEnabled(),mt!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const it=this._editor.getModel();if(!it)return!1;const et=it.getLanguageId(),st=this._configurationService.getValue(et);if(st&&"object"==typeof st){const St=st.colorDecorators;if(St&&void 0!==St.enable&&!St.enable)return St.enable}return this._editor.getOption(17)}static get(it){return it.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const it=this._editor.getModel();!it||!this._languageFeaturesService.colorProvider.has(it)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new C._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(it)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,C.PG)(it=>function(dt,it,et,st){return new(et||(et=Promise))(function(mt,bt){function Bt(Tt){try{Ye(st.next(Tt))}catch(qt){bt(qt)}}function Lt(Tt){try{Ye(st.throw(Tt))}catch(qt){bt(qt)}}function Ye(Tt){Tt.done?mt(Tt.value):function St(mt){return mt instanceof et?mt:new et(function(bt){bt(mt)})}(Tt.value).then(Bt,Lt)}Ye((st=st.apply(dt,it||[])).next())})}(this,void 0,void 0,function*(){const et=this._editor.getModel();if(!et)return Promise.resolve([]);const st=new b.G(!1),St=yield function g(dt,it,et){const st=[],mt=dt.ordered(it).reverse().map(bt=>Promise.resolve(bt.provideDocumentColors(it,et)).then(Bt=>{if(Array.isArray(Bt))for(const Lt of Bt)st.push({colorInfo:Lt,provider:bt})}));return Promise.all(mt).then(()=>st)}(this._languageFeaturesService.colorProvider,et,it);return this._debounceInformation.update(et,st.elapsed()),St})),this._computePromise.then(it=>{this.updateDecorations(it),this.updateColorDecorators(it),this._computePromise=null},I.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(it){const et=it.map(st=>({range:{startLineNumber:st.colorInfo.range.startLineNumber,startColumn:st.colorInfo.range.startColumn,endLineNumber:st.colorInfo.range.endLineNumber,endColumn:st.colorInfo.range.endColumn},options:_.qx.EMPTY}));this._editor.changeDecorations(st=>{this._decorationsIds=st.deltaDecorations(this._decorationsIds,et),this._colorDatas=new Map,this._decorationsIds.forEach((St,mt)=>this._colorDatas.set(St,it[mt]))})}updateColorDecorators(it){this._colorDecorationClassRefs.clear();const et=[];for(let st=0;st<it.length&&et.length<500;st++){const{red:St,green:mt,blue:bt,alpha:Bt}=it[st].colorInfo.color,Lt=new f.VS(Math.round(255*St),Math.round(255*mt),Math.round(255*bt),Bt),Tt=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${Lt.r}, ${Lt.g}, ${Lt.b}, ${Lt.a})`}));et.push({range:{startLineNumber:it[st].colorInfo.range.startLineNumber,startColumn:it[st].colorInfo.range.startColumn,endLineNumber:it[st].colorInfo.range.endLineNumber,endColumn:it[st].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:S.B4,inlineClassName:`${Tt.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:x}}})}this._colorDecoratorIds.set(et)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(it){const et=this._editor.getModel();if(!et)return null;const st=et.getDecorationsInRange(l.e.fromPositions(it,it)).filter(St=>this._colorDatas.has(St.id));return 0===st.length?null:this._colorDatas.get(st[0].id)}isColorDecoration(it){return this._colorDecoratorIds.has(it)}};k.ID="editor.contrib.colorDetector",k.RECOMPUTE_TIME=1e3,k=function(dt,it,et,st){var bt,St=arguments.length,mt=St<3?it:null===st?st=Object.getOwnPropertyDescriptor(it,et):st;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(dt,it,et,st);else for(var Bt=dt.length-1;Bt>=0;Bt--)(bt=dt[Bt])&&(mt=(St<3?bt(mt):St>3?bt(it,et,mt):bt(it,et))||mt);return St>3&&mt&&Object.defineProperty(it,et,mt),mt}([E(1,m.Ui),E(2,a.p),E(3,r.A)],k),(0,t._K)(k.ID,k);var W=e(31864);class H{constructor(it,et,st){this.presentationIndex=st,this._onColorFlushed=new W.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new W.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new W.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=it,this._color=it,this._colorPresentations=et}get color(){return this._color}set color(it){this._color.equals(it)||(this._color=it,this._onDidChangeColor.fire(it))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(it){this._colorPresentations=it,this.presentationIndex>it.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(it,et){for(let st=0;st<this.colorPresentations.length;st++)if(et.toLowerCase()===this.colorPresentations[st].label){this.presentationIndex=st,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var z=e(52253),N=e(94418),O=e(48763),K=e(79595),$=e(92123),j=e.n($),q=e(65057),R=e.n(q),Z=e(28764),J=e.n(Z),Ce=e(6557),Se=e.n(Ce),Ie=e(11146),xe=e.n(Ie),Me=e(95085),Oe=e.n(Me),se=e(96264),ce={};ce.styleTagTransform=Oe(),ce.setAttributes=Se(),ce.insert=J().bind(null,"head"),ce.domAPI=R(),ce.insertStyleElement=xe(),j()(se.Z,ce);var Pe=e(1200),he=e(6192),Fe=e(14089);const Ze=N.$;class ze extends s.JT{constructor(it,et,st){super(),this.model=et,this.domNode=Ze(".colorpicker-header"),N.R3(it,this.domNode),this.pickedColorNode=N.R3(this.domNode,Ze(".picked-color"));const St=(0,Pe.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",St);const mt=N.R3(this.domNode,Ze(".original-color"));mt.style.backgroundColor=f.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=st.getColorTheme().getColor(he.yJx)||f.Il.white,this._register((0,Fe.Ic)((bt,Bt)=>{this.backgroundColor=bt.getColor(he.yJx)||f.Il.white})),this._register(N.nm(this.pickedColorNode,N.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(N.nm(mt,N.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(et.onDidChangeColor(this.onDidChangeColor,this)),this._register(et.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=f.Il.Format.CSS.format(et.color)||"",this.pickedColorNode.classList.toggle("light",et.color.rgba.a<.5?this.backgroundColor.isLighter():et.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(it){this.pickedColorNode.style.backgroundColor=f.Il.Format.CSS.format(it)||"",this.pickedColorNode.classList.toggle("light",it.rgba.a<.5?this.backgroundColor.isLighter():it.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Ze(".codicon.codicon-color-mode"))}}class fe extends s.JT{constructor(it,et,st){super(),this.model=et,this.pixelRatio=st,this.domNode=Ze(".colorpicker-body"),N.R3(it,this.domNode),this.saturationBox=new Ke(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new vt(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Et(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:it,v:et}){const st=this.model.color.hsva;this.model.color=new f.Il(new f.tx(st.h,it,et,st.a))}onDidOpacityChange(it){const et=this.model.color.hsva;this.model.color=new f.Il(new f.tx(et.h,et.s,et.v,it))}onDidHueChange(it){const et=this.model.color.hsva,st=360*(1-it);this.model.color=new f.Il(new f.tx(360===st?0:st,et.s,et.v,et.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Ke extends s.JT{constructor(it,et,st){super(),this.model=et,this.pixelRatio=st,this._onDidChange=new W.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new W.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Ze(".saturation-wrap"),N.R3(it,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",N.R3(this.domNode,this.canvas),this.selection=Ze(".saturation-selection"),N.R3(this.domNode,this.selection),this.layout(),this._register(N.nm(this.domNode,N.tw.POINTER_DOWN,St=>this.onPointerDown(St))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(it){if(!(it.target&&it.target instanceof Element))return;this.monitor=this._register(new O.C);const et=N.i(this.domNode);it.target!==this.selection&&this.onDidChangePosition(it.offsetX,it.offsetY),this.monitor.startMonitoring(it.target,it.pointerId,it.buttons,St=>this.onDidChangePosition(St.pageX-et.left,St.pageY-et.top),()=>null);const st=N.nm(document,N.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),st.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(it,et){const st=Math.max(0,Math.min(1,it/this.width)),St=Math.max(0,Math.min(1,1-et/this.height));this.paintSelection(st,St),this._onDidChange.fire({s:st,v:St})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const it=this.model.color.hsva;this.paintSelection(it.s,it.v)}paint(){const et=new f.Il(new f.tx(this.model.color.hsva.h,1,1,1)),st=this.canvas.getContext("2d"),St=st.createLinearGradient(0,0,this.canvas.width,0);St.addColorStop(0,"rgba(255, 255, 255, 1)"),St.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),St.addColorStop(1,"rgba(255, 255, 255, 0)");const mt=st.createLinearGradient(0,0,0,this.canvas.height);mt.addColorStop(0,"rgba(0, 0, 0, 0)"),mt.addColorStop(1,"rgba(0, 0, 0, 1)"),st.rect(0,0,this.canvas.width,this.canvas.height),st.fillStyle=f.Il.Format.CSS.format(et),st.fill(),st.fillStyle=St,st.fill(),st.fillStyle=mt,st.fill()}paintSelection(it,et){this.selection.style.left=it*this.width+"px",this.selection.style.top=this.height-et*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class Je extends s.JT{constructor(it,et){super(),this.model=et,this._onDidChange=new W.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new W.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=N.R3(it,Ze(".strip")),this.overlay=N.R3(this.domNode,Ze(".overlay")),this.slider=N.R3(this.domNode,Ze(".slider")),this.slider.style.top="0px",this._register(N.nm(this.domNode,N.tw.POINTER_DOWN,st=>this.onPointerDown(st))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const it=this.getValue(this.model.color);this.updateSliderPosition(it)}onPointerDown(it){if(!(it.target&&it.target instanceof Element))return;const et=this._register(new O.C),st=N.i(this.domNode);this.domNode.classList.add("grabbing"),it.target!==this.slider&&this.onDidChangeTop(it.offsetY),et.startMonitoring(it.target,it.pointerId,it.buttons,mt=>this.onDidChangeTop(mt.pageY-st.top),()=>null);const St=N.nm(document,N.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),St.dispose(),et.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(it){const et=Math.max(0,Math.min(1,1-it/this.height));this.updateSliderPosition(et),this._onDidChange.fire(et)}updateSliderPosition(it){this.slider.style.top=(1-it)*this.height+"px"}}class vt extends Je{constructor(it,et){super(it,et),this.domNode.classList.add("opacity-strip"),this._register(et.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(it){const{r:et,g:st,b:St}=it.rgba,mt=new f.Il(new f.VS(et,st,St,1)),bt=new f.Il(new f.VS(et,st,St,0));this.overlay.style.background=`linear-gradient(to bottom, ${mt} 0%, ${bt} 100%)`}getValue(it){return it.hsva.a}}class Et extends Je{constructor(it,et){super(it,et),this.domNode.classList.add("hue-strip")}getValue(it){return 1-it.hsva.h/360}}class Xe extends K.${constructor(it,et,st,St){super(),this.model=et,this.pixelRatio=st,this._register(z.PixelRatio.onDidChange(()=>this.layout()));const mt=Ze(".colorpicker-widget");it.appendChild(mt);const bt=new ze(mt,this.model,St);this.body=new fe(mt,this.model,this.pixelRatio),this._register(bt),this._register(this.body)}layout(){this.body.layout()}}var ge=function(dt,it,et,st){return new(et||(et=Promise))(function(mt,bt){function Bt(Tt){try{Ye(st.next(Tt))}catch(qt){bt(qt)}}function Lt(Tt){try{Ye(st.throw(Tt))}catch(qt){bt(qt)}}function Ye(Tt){Tt.done?mt(Tt.value):function St(mt){return mt instanceof et?mt:new et(function(bt){bt(mt)})}(Tt.value).then(Bt,Lt)}Ye((st=st.apply(dt,it||[])).next())})};class de{constructor(it,et,st,St){this.owner=it,this.range=et,this.model=st,this.provider=St,this.forceShowAtRange=!0}isValidForHoverAnchor(it){return 1===it.type&&this.range.startColumn<=it.range.startColumn&&this.range.endColumn>=it.range.endColumn}}let Q=class{constructor(it,et){this._editor=it,this._themeService=et,this.hoverOrdinal=1}computeSync(it,et){return[]}computeAsync(it,et,st){return C.Aq.fromPromise(this._computeAsync(it,et,st))}_computeAsync(it,et,st){return ge(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const St=k.get(this._editor);if(!St)return[];for(const mt of et){if(!St.isColorDecoration(mt))continue;const bt=St.getColorData(mt.range.getStartPosition());if(bt)return[yield this._createColorHover(this._editor.getModel(),bt.colorInfo,bt.provider)]}return[]})}_createColorHover(it,et,st){return ge(this,void 0,void 0,function*(){const St=it.getValueInRange(et.range),{red:mt,green:bt,blue:Bt,alpha:Lt}=et.color,Ye=new f.VS(Math.round(255*mt),Math.round(255*bt),Math.round(255*Bt),Lt),Tt=new f.Il(Ye),qt=yield v(it,et,st,u.T.None),Ot=new H(Tt,[],0);return Ot.colorPresentations=qt||[],Ot.guessColorPresentation(Tt,St),new de(this,l.e.lift(et.range),Ot,st)})}renderHoverParts(it,et){if(0===et.length||!this._editor.hasModel())return s.JT.None;const st=new s.SL,St=et[0],mt=this._editor.getModel(),bt=St.model,Bt=st.add(new Xe(it.fragment,bt,this._editor.getOption(131),this._themeService));it.setColorPicker(Bt);let Lt=new l.e(St.range.startLineNumber,St.range.startColumn,St.range.endLineNumber,St.range.endColumn);const Ye=()=>{let qt,Ot;if(bt.presentation.textEdit){qt=[bt.presentation.textEdit],Ot=new l.e(bt.presentation.textEdit.range.startLineNumber,bt.presentation.textEdit.range.startColumn,bt.presentation.textEdit.range.endLineNumber,bt.presentation.textEdit.range.endColumn);const Ft=this._editor.getModel()._setTrackedRange(null,Ot,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",qt),Ot=this._editor.getModel()._getTrackedRange(Ft)||Ot}else qt=[{range:Lt,text:bt.presentation.label,forceMoveMarkers:!1}],Ot=Lt.setEndPosition(Lt.endLineNumber,Lt.startColumn+bt.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",qt);bt.presentation.additionalTextEdits&&(qt=[...bt.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",qt),it.hide()),this._editor.pushUndoStop(),Lt=Ot},Tt=qt=>v(mt,{range:Lt,color:{red:qt.rgba.r/255,green:qt.rgba.g/255,blue:qt.rgba.b/255,alpha:qt.rgba.a}},St.provider,u.T.None).then(Ot=>{bt.colorPresentations=Ot||[]});return st.add(bt.onColorFlushed(qt=>{Tt(qt).then(Ye)})),st.add(bt.onDidChangeColor(Tt)),st}};var it;Q=function(dt,it,et,st){var bt,St=arguments.length,mt=St<3?it:null===st?st=Object.getOwnPropertyDescriptor(it,et):st;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(dt,it,et,st);else for(var Bt=dt.length-1;Bt>=0;Bt--)(bt=dt[Bt])&&(mt=(St<3?bt(mt):St>3?bt(it,et,mt):bt(it,et))||mt);return St>3&&mt&&Object.defineProperty(it,et,mt),mt}([(1,it=Fe.XE,function(et,st){it(et,st,1)})],Q);var ye=e(83303),Ae=e(46654);let ft=(()=>{class dt extends s.JT{constructor(et){super(),this._editor=et,this._register(et.onMouseDown(st=>this.onMouseDown(st)))}dispose(){super.dispose()}onMouseDown(et){const st=et.target;if(6!==st.type||!st.detail.injectedText||st.detail.injectedText.options.attachedData!==x||!st.range)return;const St=this._editor.getContribution(ye.ModesHoverController.ID);if(St&&!St.isColorPickerVisible()){const mt=new l.e(st.range.startLineNumber,st.range.startColumn+1,st.range.endLineNumber,st.range.endColumn+1);St.showContentHover(mt,1,!1)}}}return dt.ID="editor.contrib.colorContribution",dt})();(0,t._K)(ft.ID,ft),Ae.Ae.register(Q)},36642:(yt,T,e)=>{"use strict";e.r(T);var s=e(32133),t=e(95102),l=e(88154),C=e(72325),f=e(15333),I=e(37304),b=e(13902),S=e(58745);class D{constructor(w,E,L){this.languageConfigurationService=L,this._selection=w,this._insertSpace=E,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,E,L){if(L<0)return!1;const x=E.length;if(L+x>w.length)return!1;for(let k=0;k<x;k++){const W=w.charCodeAt(L+k),H=E.charCodeAt(k);if(!(W===H||W>=65&&W<=90&&W+32===H||H>=65&&H<=90&&H+32===W))return!1}return!0}_createOperationsForBlockComment(w,E,L,x,A,k){const W=w.startLineNumber,H=w.startColumn,z=w.endLineNumber,N=w.endColumn,O=A.getLineContent(W),K=A.getLineContent(z);let q,$=O.lastIndexOf(E,H-1+E.length),j=K.indexOf(L,N-1-L.length);if(-1!==$&&-1!==j)if(W===z)O.substring($+E.length,j).indexOf(L)>=0&&($=-1,j=-1);else{const R=O.substring($+E.length),Z=K.substring(0,j);(R.indexOf(L)>=0||Z.indexOf(L)>=0)&&($=-1,j=-1)}-1!==$&&-1!==j?(x&&$+E.length<O.length&&32===O.charCodeAt($+E.length)&&(E+=" "),x&&j>0&&32===K.charCodeAt(j-1)&&(L=" "+L,j-=1),q=D._createRemoveBlockCommentOperations(new l.e(W,$+E.length+1,z,j+1),E,L)):(q=D._createAddBlockCommentOperations(w,E,L,this._insertSpace),this._usedEndToken=1===q.length?L:null);for(const R of q)k.addTrackedEditOperation(R.range,R.text)}static _createRemoveBlockCommentOperations(w,E,L){const x=[];return l.e.isEmpty(w)?x.push(I.h.delete(new l.e(w.startLineNumber,w.startColumn-E.length,w.endLineNumber,w.endColumn+L.length))):(x.push(I.h.delete(new l.e(w.startLineNumber,w.startColumn-E.length,w.startLineNumber,w.startColumn))),x.push(I.h.delete(new l.e(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+L.length)))),x}static _createAddBlockCommentOperations(w,E,L,x){const A=[];return l.e.isEmpty(w)?A.push(I.h.replace(new l.e(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),E+"  "+L)):(A.push(I.h.insert(new b.L(w.startLineNumber,w.startColumn),E+(x?" ":""))),A.push(I.h.insert(new b.L(w.endLineNumber,w.endColumn),(x?" ":"")+L))),A}getEditOperations(w,E){const L=this._selection.startLineNumber,x=this._selection.startColumn;w.tokenization.tokenizeIfCheap(L);const A=w.getLanguageIdAtPosition(L,x),k=this.languageConfigurationService.getLanguageConfiguration(A).comments;!k||!k.blockCommentStartToken||!k.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,k.blockCommentStartToken,k.blockCommentEndToken,this._insertSpace,w,E)}computeCursorState(w,E){const L=E.getInverseEditOperations();if(2===L.length){const x=L[0],A=L[1];return new S.Y(x.range.endLineNumber,x.range.endColumn,A.range.startLineNumber,A.range.startColumn)}{const x=L[0].range,A=this._usedEndToken?-this._usedEndToken.length-1:0;return new S.Y(x.endLineNumber,x.endColumn+A,x.endLineNumber,x.endColumn+A)}}}var _=e(77697);class r{constructor(w,E,L,x,A,k,W){this.languageConfigurationService=w,this._selection=E,this._tabSize=L,this._type=x,this._insertSpace=A,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=k,this._ignoreFirstLine=W||!1}static _gatherPreflightCommentStrings(w,E,L,x){w.tokenization.tokenizeIfCheap(E);const A=w.getLanguageIdAtPosition(E,1),k=x.getLanguageConfiguration(A).comments,W=k?k.lineCommentToken:null;if(!W)return null;const H=[];for(let z=0,N=L-E+1;z<N;z++)H[z]={ignore:!1,commentStr:W,commentStrOffset:0,commentStrLength:W.length};return H}static _analyzeLines(w,E,L,x,A,k,W,H){let N,z=!0;N=0===w||1!==w;for(let O=0,K=x.length;O<K;O++){const $=x[O],j=A+O;if(j===A&&W){$.ignore=!0;continue}const q=L.getLineContent(j),R=_.LC(q);if(-1!==R){if(z=!1,$.ignore=!1,$.commentStrOffset=R,N&&!D._haystackHasNeedleAtOffset(q,$.commentStr,R)&&(0===w?N=!1:1===w||($.ignore=!0)),N&&E){const Z=R+$.commentStrLength;Z<q.length&&32===q.charCodeAt(Z)&&($.commentStrLength+=1)}}else $.ignore=k,$.commentStrOffset=q.length}if(0===w&&z){N=!1;for(let O=0,K=x.length;O<K;O++)x[O].ignore=!1}return{supported:!0,shouldRemoveComments:N,lines:x}}static _gatherPreflightData(w,E,L,x,A,k,W,H){const z=r._gatherPreflightCommentStrings(L,x,A,H);return null===z?{supported:!1}:r._analyzeLines(w,E,L,z,x,k,W,H)}_executeLineComments(w,E,L,x){let A;L.shouldRemoveComments?A=r._createRemoveLineCommentsOperations(L.lines,x.startLineNumber):(r._normalizeInsertionPoint(w,L.lines,x.startLineNumber,this._tabSize),A=this._createAddLineCommentsOperations(L.lines,x.startLineNumber));const k=new b.L(x.positionLineNumber,x.positionColumn);for(let W=0,H=A.length;W<H;W++)E.addEditOperation(A[W].range,A[W].text),l.e.isEmpty(A[W].range)&&l.e.getStartPosition(A[W].range).equals(k)&&w.getLineContent(k.lineNumber).length+1===k.column&&(this._deltaColumn=(A[W].text||"").length);this._selectionId=E.trackSelection(x)}_attemptRemoveBlockComment(w,E,L,x){let A=E.startLineNumber,k=E.endLineNumber;const W=x.length+Math.max(w.getLineFirstNonWhitespaceColumn(E.startLineNumber),E.startColumn);let H=w.getLineContent(A).lastIndexOf(L,W-1),z=w.getLineContent(k).indexOf(x,E.endColumn-1-L.length);return-1!==H&&-1===z&&(z=w.getLineContent(A).indexOf(x,H+L.length),k=A),-1===H&&-1!==z&&(H=w.getLineContent(k).lastIndexOf(L,z),A=k),E.isEmpty()&&(-1===H||-1===z)&&(H=w.getLineContent(A).indexOf(L),-1!==H&&(z=w.getLineContent(A).indexOf(x,H+L.length))),-1!==H&&32===w.getLineContent(A).charCodeAt(H+L.length)&&(L+=" "),-1!==z&&32===w.getLineContent(k).charCodeAt(z-1)&&(x=" "+x,z-=1),-1!==H&&-1!==z?D._createRemoveBlockCommentOperations(new l.e(A,H+L.length+1,k,z+1),L,x):null}_executeBlockComment(w,E,L){w.tokenization.tokenizeIfCheap(L.startLineNumber);const x=w.getLanguageIdAtPosition(L.startLineNumber,1),A=this.languageConfigurationService.getLanguageConfiguration(x).comments;if(!A||!A.blockCommentStartToken||!A.blockCommentEndToken)return;const k=A.blockCommentStartToken,W=A.blockCommentEndToken;let H=this._attemptRemoveBlockComment(w,L,k,W);if(!H){if(L.isEmpty()){const z=w.getLineContent(L.startLineNumber);let N=_.LC(z);-1===N&&(N=z.length),H=D._createAddBlockCommentOperations(new l.e(L.startLineNumber,N+1,L.startLineNumber,z.length+1),k,W,this._insertSpace)}else H=D._createAddBlockCommentOperations(new l.e(L.startLineNumber,w.getLineFirstNonWhitespaceColumn(L.startLineNumber),L.endLineNumber,w.getLineMaxColumn(L.endLineNumber)),k,W,this._insertSpace);1===H.length&&(this._deltaColumn=k.length+1)}this._selectionId=E.trackSelection(L);for(const z of H)E.addEditOperation(z.range,z.text)}getEditOperations(w,E){let L=this._selection;if(this._moveEndPositionDown=!1,L.startLineNumber===L.endLineNumber&&this._ignoreFirstLine)return E.addEditOperation(new l.e(L.startLineNumber,w.getLineMaxColumn(L.startLineNumber),L.startLineNumber+1,1),L.startLineNumber===w.getLineCount()?"":"\n"),void(this._selectionId=E.trackSelection(L));L.startLineNumber<L.endLineNumber&&1===L.endColumn&&(this._moveEndPositionDown=!0,L=L.setEndPosition(L.endLineNumber-1,w.getLineMaxColumn(L.endLineNumber-1)));const x=r._gatherPreflightData(this._type,this._insertSpace,w,L.startLineNumber,L.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return x.supported?this._executeLineComments(w,E,x,L):this._executeBlockComment(w,E,L)}computeCursorState(w,E){let L=E.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(L=L.setEndPosition(L.endLineNumber+1,1)),new S.Y(L.selectionStartLineNumber,L.selectionStartColumn+this._deltaColumn,L.positionLineNumber,L.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(w,E){const L=[];for(let x=0,A=w.length;x<A;x++){const k=w[x];k.ignore||L.push(I.h.delete(new l.e(E+x,k.commentStrOffset+1,E+x,k.commentStrOffset+k.commentStrLength+1)))}return L}_createAddLineCommentsOperations(w,E){const L=[],x=this._insertSpace?" ":"";for(let A=0,k=w.length;A<k;A++){const W=w[A];W.ignore||L.push(I.h.insert(new b.L(E+A,W.commentStrOffset+1),W.commentStr+x))}return L}static nextVisibleColumn(w,E,L,x){return L?w+(E-w%E):w+x}static _normalizeInsertionPoint(w,E,L,x){let k,W,A=1073741824;for(let H=0,z=E.length;H<z;H++){if(E[H].ignore)continue;const N=w.getLineContent(L+H);let O=0;for(let K=0,$=E[H].commentStrOffset;O<A&&K<$;K++)O=r.nextVisibleColumn(O,x,9===N.charCodeAt(K),1);O<A&&(A=O)}A=Math.floor(A/x)*x;for(let H=0,z=E.length;H<z;H++){if(E[H].ignore)continue;const N=w.getLineContent(L+H);let O=0;for(k=0,W=E[H].commentStrOffset;O<A&&k<W;k++)O=r.nextVisibleColumn(O,x,9===N.charCodeAt(k),1);E[H].commentStrOffset=O>A?k-1:k}}}var a=e(1200),u=e(30116);class n extends t.R6{constructor(w,E){super(E),this._type=w}run(w,E){const L=w.get(f.c_);if(!E.hasModel())return;const A=[],k=E.getModel().getOptions(),W=E.getOption(19),H=E.getSelections().map((N,O)=>({selection:N,index:O,ignoreFirstLine:!1}));H.sort((N,O)=>l.e.compareRangesUsingStarts(N.selection,O.selection));let z=H[0];for(let N=1;N<H.length;N++){const O=H[N];z.selection.endLineNumber===O.selection.startLineNumber&&(z.index<O.index?O.ignoreFirstLine=!0:(z.ignoreFirstLine=!0,z=O))}for(const N of H)A.push(new r(L,N.selection,k.tabSize,this._type,W.insertSpace,W.ignoreEmptyLines,N.ignoreFirstLine));E.pushUndoStop(),E.executeCommands(this.id,A),E.pushUndoStop()}}(0,t.Qr)(class d extends n{constructor(){super(0,{id:"editor.action.commentLine",label:a.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:u.eH.MenubarEditMenu,group:"5_insert",title:a.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,t.Qr)(class y extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:a.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:(0,s.gx)(2089,2081),weight:100}})}}),(0,t.Qr)(class g extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:a.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:(0,s.gx)(2089,2099),weight:100}})}}),(0,t.Qr)(class v extends t.R6{constructor(){super({id:"editor.action.blockComment",label:a.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:u.eH.MenubarEditMenu,group:"5_insert",title:a.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(w,E){const L=w.get(f.c_);if(!E.hasModel())return;const x=E.getOption(19),A=[],k=E.getSelections();for(const W of k)A.push(new D(W,x.insertSpace,L));E.pushUndoStop(),E.executeCommands(this.id,A),E.pushUndoStop()}})},81373:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{ContextMenuController:()=>y});var s=e(94418),t=e(43219),l=e(36608),C=e(21576),f=e(84834),I=e(95102),b=e(72325),S=e(1200),D=e(30116),_=e(38336),r=e(64170),a=e(54980),u=e(56767),d=function(v,m){return function(w,E){m(w,E,v)}};let y=class Su{constructor(m,w,E,L,x,A,k){this._contextMenuService=w,this._contextViewService=E,this._contextKeyService=L,this._keybindingService=x,this._menuService=A,this._configurationService=k,this._toDispose=new C.SL,this._contextMenuIsBeingShownCount=0,this._editor=m,this._toDispose.add(this._editor.onContextMenu(W=>this._onContextMenu(W))),this._toDispose.add(this._editor.onMouseWheel(W=>{if(this._contextMenuIsBeingShownCount>0){const H=this._contextViewService.getContextViewElement(),z=W.srcElement;z.shadowRoot&&s.Ay(H)===z.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(W=>{this._editor.getOption(20)&&58===W.keyCode&&(W.preventDefault(),W.stopPropagation(),this.showContextMenu())}))}static get(m){return m.getContribution(Su.ID)}_onContextMenu(m){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(m.target.position&&!this._editor.getSelection().containsPosition(m.target.position)&&this._editor.setPosition(m.target.position));if(12===m.target.type||6===m.target.type&&m.target.detail.injectedText)return;if(m.event.preventDefault(),m.event.stopPropagation(),11===m.target.type)return this._showScrollbarContextMenu({x:m.event.posx-1,width:2,y:m.event.posy-1,height:2});if(6!==m.target.type&&7!==m.target.type&&1!==m.target.type)return;if(this._editor.focus(),m.target.position){let E=!1;for(const L of this._editor.getSelections())if(L.containsPosition(m.target.position)){E=!0;break}E||this._editor.setPosition(m.target.position)}let w=null;1!==m.target.type&&(w={x:m.event.posx-1,width:2,y:m.event.posy-1,height:2}),this.showContextMenu(w)}showContextMenu(m){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const w=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?D.eH.SimpleEditorContext:D.eH.EditorContext);w.length>0&&this._doShowContextMenu(w,m)}_getMenuActions(m,w){const E=[],L=this._menuService.createMenu(w,this._contextKeyService),x=L.getActions({arg:m.uri});L.dispose();for(const A of x){const[,k]=A;let W=0;for(const H of k)if(H instanceof D.NZ){const z=this._getMenuActions(m,H.item.submenu);z.length>0&&(E.push(new l.wY(H.id,H.label,z)),W++)}else E.push(H),W++;W&&E.push(new l.Z0)}return E.length&&E.pop(),E}_doShowContextMenu(m,w=null){if(!this._editor.hasModel())return;const E=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!w){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const x=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),A=s.i(this._editor.getDomNode());w={x:A.left+x.left,y:A.top+x.top+x.height}}const L=this._editor.getOption(117)&&!f.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:L?this._editor.getDomNode():void 0,getAnchor:()=>w,getActions:()=>m,getActionViewItem:x=>{const A=this._keybindingFor(x);return A?new t.g(x,x,{label:!0,keybinding:A.getLabel(),isMenu:!0}):"function"==typeof x.getActionViewItem?x.getActionViewItem():new t.g(x,x,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:x=>this._keybindingFor(x),onHide:x=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:E})}})}_showScrollbarContextMenu(m){if(!this._editor.hasModel())return;const w=this._editor.getOption(67);let E=0;const L=H=>({id:"menu-action-"+ ++E,label:H.label,tooltip:"",class:void 0,enabled:typeof H.enabled>"u"||H.enabled,checked:H.checked,run:H.run,dispose:()=>null}),A=(H,z,N,O,K)=>{if(!z)return L({label:H,enabled:z,run:()=>{}});const $=q=>()=>{this._configurationService.updateValue(N,q)},j=[];for(const q of K)j.push(L({label:q.label,checked:O===q.value,run:$(q.value)}));return((H,z)=>new l.wY("menu-action-"+ ++E,H,z,void 0))(H,j)},k=[];k.push(L({label:S.NC("context.minimap.minimap","Minimap"),checked:w.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!w.enabled)}})),k.push(new l.Z0),k.push(L({label:S.NC("context.minimap.renderCharacters","Render Characters"),enabled:w.enabled,checked:w.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!w.renderCharacters)}})),k.push(A(S.NC("context.minimap.size","Vertical size"),w.enabled,"editor.minimap.size",w.size,[{label:S.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:S.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:S.NC("context.minimap.size.fit","Fit"),value:"fit"}])),k.push(A(S.NC("context.minimap.slider","Slider"),w.enabled,"editor.minimap.showSlider",w.showSlider,[{label:S.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:S.NC("context.minimap.slider.always","Always"),value:"always"}]));const W=this._editor.getOption(117)&&!f.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:W?this._editor.getDomNode():void 0,getAnchor:()=>m,getActions:()=>k,onHide:H=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(m){return this._keybindingService.lookupKeybinding(m.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};y.ID="editor.contrib.contextmenu",y=function(v,m,w,E){var A,L=arguments.length,x=L<3?m:null===E?E=Object.getOwnPropertyDescriptor(m,w):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(v,m,w,E);else for(var k=v.length-1;k>=0;k--)(A=v[k])&&(x=(L<3?A(x):L>3?A(m,w,x):A(m,w))||x);return L>3&&x&&Object.defineProperty(m,w,x),x}([d(1,r.i),d(2,r.u),d(3,_.i6),d(4,a.d),d(5,D.co),d(6,u.Ui)],y),(0,I._K)(y.ID,y),(0,I.Qr)(class g extends I.R6{constructor(){super({id:"editor.action.showContextMenu",label:S.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:b.u.textInputFocus,primary:1092,weight:100}})}run(m,w){var E;null===(E=y.get(w))||void 0===E||E.showContextMenu()}})},53341:(yt,T,e)=>{"use strict";e.r(T);var s=e(95102),t=e(3044),l=e(87559),C=e(94418),f=e(41883),I=e(158),b=e(21576),S=e(98225),D=e(40703),_=e(77763),r=e(59961),a=e(88154),u=e(13154),n=e(2592),d=e(72354),y=e(90517),g=e(21611),v=e(56767),w=function(H,z){return function(N,O){z(N,O,H)}},E=function(H,z,N,O){return new(N||(N=Promise))(function($,j){function q(J){try{Z(O.next(J))}catch(Ce){j(Ce)}}function R(J){try{Z(O.throw(J))}catch(Ce){j(Ce)}}function Z(J){J.done?$(J.value):function K($){return $ instanceof N?$:new N(function(j){j($)})}(J.value).then(q,R)}Z((O=O.apply(H,z||[])).next())})};const L="application/vnd.code.copyMetadata";let x=class extends b.JT{constructor(z,N,O,K,$){super(),this._bulkEditService=N,this._clipboardService=O,this._configurationService=K,this._languageFeaturesService=$,this._editor=z;const j=z.getContainerDomNode();this._register((0,C.nm)(j,"copy",q=>this.handleCopy(q))),this._register((0,C.nm)(j,"cut",q=>this.handleCopy(q))),this._register((0,C.nm)(j,"paste",q=>this.handlePaste(q),!0))}arePasteActionsEnabled(z){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:z.uri})}handleCopy(z){var N;if(!z.clipboardData||!this._editor.hasTextFocus())return;const O=this._editor.getModel(),K=this._editor.getSelections();if(!O||!K?.length||!this.arePasteActionsEnabled(O))return;const $=[...K],j=K[0],q=j.isEmpty();if(q){if(!this._editor.getOption(33))return;$[0]=new a.e(j.startLineNumber,0,j.startLineNumber,O.getLineLength(j.startLineNumber))}const R=this._languageFeaturesService.documentPasteEditProvider.ordered(O).filter(Se=>!!Se.prepareDocumentPaste);if(!R.length)return void this.setCopyMetadata(z.clipboardData,{wasFromEmptySelection:q});const Z=(0,_.Bo)(z.clipboardData),J=(0,D.R)();this.setCopyMetadata(z.clipboardData,{id:J,wasFromEmptySelection:q});const Ce=(0,f.PG)(Se=>E(this,void 0,void 0,function*(){const Ie=yield Promise.all(R.map(xe=>xe.prepareDocumentPaste(O,$,Z,Se)));for(const xe of Ie)xe?.forEach((Me,Oe)=>{Z.replace(Oe,Me)});return Z}));null===(N=this._currentClipboardItem)||void 0===N||N.dataTransferPromise.cancel(),this._currentClipboardItem={handle:J,dataTransferPromise:Ce}}setCopyMetadata(z,N){z.setData(L,JSON.stringify(N))}handlePaste(z){var N,O,K;return E(this,void 0,void 0,function*(){if(!z.clipboardData||!this._editor.hasTextFocus())return;const $=this._editor.getSelections();if(!$?.length||!this._editor.hasModel())return;const j=this._editor.getModel();if(!this.arePasteActionsEnabled(j))return;let q;const R=null===(N=z.clipboardData)||void 0===N?void 0:N.getData(L);R&&"string"==typeof R&&(q=JSON.parse(R));const Z=this._languageFeaturesService.documentPasteEditProvider.ordered(j);if(!Z.length)return;z.preventDefault(),z.stopImmediatePropagation();const J=j.getVersionId(),Ce=new n.Dl(this._editor,3);try{const Se=(0,_.Bo)(z.clipboardData);if(q?.id&&(null===(O=this._currentClipboardItem)||void 0===O?void 0:O.handle)===q.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((Oe,se)=>{Se.replace(se,Oe)}),!Se.has(S.v.uriList)){const Me=yield this._clipboardService.readResources();Me.length&&Se.append(S.v.uriList,(0,I.ZO)(_.Z0.create(Me)))}Se.delete(L);for(const Me of Z){if(!Me.pasteMimeTypes.some(se=>se.toLowerCase()===l.g.FILES.toLowerCase()?[...Se.values()].some(ce=>ce.asFile()):Se.has(se)))continue;const Oe=yield Me.provideDocumentPasteEdits(j,$,Se,Ce.token);if(J!==j.getVersionId())return;if(Oe)return(0,d.performSnippetEdit)(this._editor,"string"==typeof Oe.insertText?y.Yj.escape(Oe.insertText):Oe.insertText.snippet,$),void(Oe.additionalEdit&&(yield this._bulkEditService.apply(r.fo.convert(Oe.additionalEdit),{editor:this._editor})))}const Ie=null!==(K=Se.get(S.v.text))&&void 0!==K?K:Se.get("text");if(!Ie)return;const xe=yield Ie.asString();if(J!==j.getVersionId())return;this._editor.trigger("keyboard","paste",{text:xe,pasteOnNewLine:q?.wasFromEmptySelection,multicursorText:null})}finally{Ce.dispose()}})}};x.ID="editor.contrib.copyPasteActionController",x=function(H,z,N,O){var j,K=arguments.length,$=K<3?z:null===O?O=Object.getOwnPropertyDescriptor(z,N):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(H,z,N,O);else for(var q=H.length-1;q>=0;q--)(j=H[q])&&($=(K<3?j($):K>3?j(z,N,$):j(z,N))||$);return K>3&&$&&Object.defineProperty(z,N,$),$}([w(1,r.vu),w(2,g.p),w(3,v.Ui),w(4,u.p)],x);var A=e(1200),k=e(60828),W=e(25468);(0,s._K)(x.ID,x),W.B.as(k.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},t.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:A.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},36944:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CursorRedo:()=>D,CursorUndo:()=>S,CursorUndoRedoController:()=>b});var s=e(21576),t=e(95102),l=e(72325),C=e(1200);class f{constructor(r){this.selections=r}equals(r){const a=this.selections.length;if(a!==r.selections.length)return!1;for(let n=0;n<a;n++)if(!this.selections[n].equalsSelection(r.selections[n]))return!1;return!0}}class I{constructor(r,a,u){this.cursorState=r,this.scrollTop=a,this.scrollLeft=u}}let b=(()=>{class _ extends s.JT{constructor(a){super(),this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(u=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(u=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(u=>{if(this._isCursorUndoRedo||!u.oldSelections||u.oldModelVersionId!==u.modelVersionId)return;const n=new f(u.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new I(n,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(a){return a.getContribution(_.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new I(new f(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new I(new f(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}return _.ID="editor.contrib.cursorUndoRedoController",_})();class S extends t.R6{constructor(){super({id:"cursorUndo",label:C.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:l.u.textInputFocus,primary:2099,weight:100}})}run(r,a,u){var n;null===(n=b.get(a))||void 0===n||n.cursorUndo()}}class D extends t.R6{constructor(){super({id:"cursorRedo",label:C.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(r,a,u){var n;null===(n=b.get(a))||void 0===n||n.cursorRedo()}}(0,t._K)(b.ID,b),(0,t.Qr)(S),(0,t.Qr)(D)},26889:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{DragAndDropController:()=>W});var s=e(21576),t=e(84834),l=e(92123),C=e.n(l),f=e(65057),I=e.n(f),b=e(28764),S=e.n(b),D=e(6557),_=e.n(D),r=e(11146),a=e.n(r),u=e(95085),n=e.n(u),d=e(36778),y={};y.styleTagTransform=n(),y.setAttributes=_(),y.insert=S().bind(null,"head"),y.domAPI=I(),y.insertStyleElement=a(),C()(d.Z,y);var m=e(95102),w=e(13902),E=e(88154),L=e(58745),x=e(53727);class A{constructor(z,N,O){this.selection=z,this.targetPosition=N,this.copy=O,this.targetSelection=null}getEditOperations(z,N){const O=z.getValueInRange(this.selection);this.copy||N.addEditOperation(this.selection,null),N.addEditOperation(new E.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),O),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new L.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new L.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new L.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new L.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new L.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(z,N){return this.targetSelection}}function k(H){return t.dz?H.altKey:H.ctrlKey}class W extends s.JT{constructor(z){super(),this._editor=z,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(N=>this._onEditorMouseDown(N))),this._register(this._editor.onMouseUp(N=>this._onEditorMouseUp(N))),this._register(this._editor.onMouseDrag(N=>this._onEditorMouseDrag(N))),this._register(this._editor.onMouseDrop(N=>this._onEditorMouseDrop(N))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(N=>this.onEditorKeyDown(N))),this._register(this._editor.onKeyUp(N=>this.onEditorKeyUp(N))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(z){!this._editor.getOption(31)||this._editor.getOption(18)||(k(z)&&(this._modifierPressed=!0),this._mouseDown&&k(z)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(z){!this._editor.getOption(31)||this._editor.getOption(18)||(k(z)&&(this._modifierPressed=!1),this._mouseDown&&z.keyCode===W.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(z){this._mouseDown=!0}_onEditorMouseUp(z){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(z){const N=z.target;if(null===this._dragSelection){const K=(this._editor.getSelections()||[]).filter($=>N.position&&$.containsPosition(N.position));if(1!==K.length)return;this._dragSelection=K[0]}k(z.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),N.position&&(this._dragSelection.containsPosition(N.position)?this._removeDecoration():this.showAt(N.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(z){if(z.target&&(this._hitContent(z.target)||this._hitMargin(z.target))&&z.target.position){const N=new w.L(z.target.position.lineNumber,z.target.position.column);if(null===this._dragSelection){let O=null;if(z.event.shiftKey){const K=this._editor.getSelection();if(K){const{selectionStartLineNumber:$,selectionStartColumn:j}=K;O=[new L.Y($,j,N.lineNumber,N.column)]}}else O=(this._editor.getSelections()||[]).map(K=>K.containsPosition(N)?new L.Y(N.lineNumber,N.column,N.lineNumber,N.column):K);this._editor.setSelections(O||[],"mouse",3)}else(!this._dragSelection.containsPosition(N)||(k(z.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(N)||this._dragSelection.getStartPosition().equals(N)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(W.ID,new A(this._dragSelection,N,k(z.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(z){this._dndDecorationIds.set([{range:new E.e(z.lineNumber,z.column,z.lineNumber,z.column),options:W._DECORATION_OPTIONS}]),this._editor.revealPosition(z,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(z){return 6===z.type||7===z.type}_hitMargin(z){return 2===z.type||3===z.type||4===z.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}W.ID="editor.contrib.dragAndDrop",W.TRIGGER_KEY_VALUE=t.dz?6:5,W._DECORATION_OPTIONS=x.qx.register({description:"dnd-target",className:"dnd-target"}),(0,m._K)(W.ID,W)},4129:(yt,T,e)=>{"use strict";e.r(T);var s=e(71943),t=e(22070),l=e(56740),C=e(97953),f=e(12649),I=e(34468);I.P0.registerCommand("_executeDocumentSymbolProvider",function(S,...D){return function(S,D,_,r){return new(_||(_=Promise))(function(u,n){function d(v){try{g(r.next(v))}catch(m){n(m)}}function y(v){try{g(r.throw(v))}catch(m){n(m)}}function g(v){v.done?u(v.value):function a(u){return u instanceof _?u:new _(function(n){n(u)})}(v.value).then(d,y)}g((r=r.apply(S,D||[])).next())})}(this,void 0,void 0,function*(){const[_]=D;(0,t.p_)(l.o.isUri(_));const r=S.get(f.Je),u=yield S.get(C.S).createModelReference(_);try{return(yield r.getOrCreate(u.object.textEditorModel,s.T.None)).getTopLevelSymbols()}finally{u.dispose()}})})},12649:(yt,T,e)=>{"use strict";e.d(T,{C3:()=>w,Je:()=>E,sT:()=>v});var s=e(14940),t=e(71943),l=e(3219),C=e(61777),f=e(63312),I=e(13902),b=e(88154),S=e(54693),D=e(30888),_=e(53708),r=e(44378),a=e(21576),u=e(13154),d=function(x,A){return function(k,W){A(k,W,x)}};class g{remove(){var A;null===(A=this.parent)||void 0===A||A.children.delete(this.id)}static findId(A,k){let W;"string"==typeof A?W=`${k.id}/${A}`:(W=`${k.id}/${A.name}`,void 0!==k.children.get(W)&&(W=`${k.id}/${A.name}_${A.range.startLineNumber}_${A.range.startColumn}`));let H=W;for(let z=0;void 0!==k.children.get(H);z++)H=`${W}_${z}`;return H}static empty(A){return 0===A.children.size}}class v extends g{constructor(A,k,W){super(),this.id=A,this.parent=k,this.symbol=W,this.children=new Map}}class m extends g{constructor(A,k,W,H){super(),this.id=A,this.parent=k,this.label=W,this.order=H,this.children=new Map}}class w extends g{constructor(A){super(),this.uri=A,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(A,k,W){const H=new t.A(W),z=new w(k.uri),N=A.ordered(k),O=N.map(($,j)=>{var q;const R=g.findId(`provider_${j}`,z),Z=new m(R,z,null!==(q=$.displayName)&&void 0!==q?q:"Unknown Outline Provider",j);return Promise.resolve($.provideDocumentSymbols(k,H.token)).then(J=>{for(const Ce of J||[])w._makeOutlineElement(Ce,Z);return Z},J=>((0,l.Cp)(J),Z)).then(J=>{g.empty(J)?J.remove():z._groups.set(R,J)})}),K=A.onDidChange(()=>{const $=A.ordered(k);(0,s.fS)($,N)||H.cancel()});return Promise.all(O).then(()=>H.token.isCancellationRequested&&!W.isCancellationRequested?w.create(A,k,W):z._compact()).finally(()=>{K.dispose()})}static _makeOutlineElement(A,k){const W=g.findId(A,k),H=new v(W,k,A);if(A.children)for(const z of A.children)w._makeOutlineElement(z,H);k.children.set(H.id,H)}_compact(){let A=0;for(const[k,W]of this._groups)0===W.children.size?this._groups.delete(k):A+=1;if(1!==A)this.children=this._groups;else{const k=C.$.first(this._groups.values());for(const[,W]of k.children)W.parent=this,this.children.set(W.id,W)}return this}getTopLevelSymbols(){const A=[];for(const k of this.children.values())k instanceof v?A.push(k.symbol):A.push(...C.$.map(k.children.values(),W=>W.symbol));return A.sort((k,W)=>b.e.compareRangesUsingStarts(k.range,W.range))}asListOfDocumentSymbols(){const A=this.getTopLevelSymbols(),k=[];return w._flattenDocumentSymbols(k,A,""),k.sort((W,H)=>I.L.compare(b.e.getStartPosition(W.range),b.e.getStartPosition(H.range))||I.L.compare(b.e.getEndPosition(H.range),b.e.getEndPosition(W.range)))}static _flattenDocumentSymbols(A,k,W){for(const H of k)A.push({kind:H.kind,tags:H.tags,name:H.name,detail:H.detail,containerName:H.containerName||W,range:H.range,selectionRange:H.selectionRange,children:void 0}),H.children&&w._flattenDocumentSymbols(A,H.children,H.name)}}const E=(0,D.yh)("IOutlineModelService");let L=class{constructor(A,k,W){this._languageFeaturesService=A,this._disposables=new a.SL,this._cache=new f.z6(10,.7),this._debounceInformation=k.for(A.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(W.onModelRemoved(H=>{this._cache.delete(H.id)}))}dispose(){this._disposables.dispose()}getOrCreate(A,k){return function(x,A,k,W){return new(k||(k=Promise))(function(z,N){function O(j){try{$(W.next(j))}catch(q){N(q)}}function K(j){try{$(W.throw(j))}catch(q){N(q)}}function $(j){j.done?z(j.value):function H(z){return z instanceof k?z:new k(function(N){N(z)})}(j.value).then(O,K)}$((W=W.apply(x,A||[])).next())})}(this,void 0,void 0,function*(){const W=this._languageFeaturesService.documentSymbolProvider,H=W.ordered(A);let z=this._cache.get(A.id);if(!z||z.versionId!==A.getVersionId()||!(0,s.fS)(z.provider,H)){const O=new t.A;z={versionId:A.getVersionId(),provider:H,promiseCnt:0,source:O,promise:w.create(W,A,O.token),model:void 0},this._cache.set(A.id,z);const K=Date.now();z.promise.then($=>{z.model=$,this._debounceInformation.update(A,Date.now()-K)}).catch($=>{this._cache.delete(A.id)})}if(z.model)return z.model;z.promiseCnt+=1;const N=k.onCancellationRequested(()=>{0==--z.promiseCnt&&(z.source.cancel(),this._cache.delete(A.id))});try{return yield z.promise}finally{N.dispose()}})}};L=function(x,A,k,W){var N,H=arguments.length,z=H<3?A:null===W?W=Object.getOwnPropertyDescriptor(A,k):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(x,A,k,W);else for(var O=x.length-1;O>=0;O--)(N=x[O])&&(z=(H<3?N(z):H>3?N(A,k,z):N(A,k))||z);return H>3&&z&&Object.defineProperty(A,k,z),z}([d(0,u.p),d(1,S.A),d(2,r.q)],L),(0,_.z)(E,L,!0)},66647:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{DropIntoEditorController:()=>L});var s=e(41883),t=e(158),l=e(21576),C=e(98225),f=e(9590),I=e(56740),b=e(77763),S=e(95102),D=e(59961),_=e(88154),r=e(58745),a=e(13154),u=e(2592),n=e(72354),d=e(90517),y=e(1200),g=e(26109),v=e(83310),m=function(A,k,W,H){var O,z=arguments.length,N=z<3?k:null===H?H=Object.getOwnPropertyDescriptor(k,W):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(A,k,W,H);else for(var K=A.length-1;K>=0;K--)(O=A[K])&&(N=(z<3?O(N):z>3?O(k,W,N):O(k,W))||N);return z>3&&N&&Object.defineProperty(k,W,N),N},w=function(A,k){return function(W,H){k(W,H,A)}},E=function(A,k,W,H){return new(W||(W=Promise))(function(N,O){function K(q){try{j(H.next(q))}catch(R){O(R)}}function $(q){try{j(H.throw(q))}catch(R){O(R)}}function j(q){q.done?N(q.value):function z(N){return N instanceof W?N:new W(function(O){O(N)})}(q.value).then(K,$)}j((H=H.apply(A,k||[])).next())})};let L=class extends l.JT{constructor(k,W,H,z,N){super(),this._bulkEditService=W,this._languageFeaturesService=H,this._progressService=z,this._register(k.onDropIntoEditor(O=>this.onDropIntoEditor(k,O.position,O.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new x(N))}onDropIntoEditor(k,W,H){return E(this,void 0,void 0,function*(){if(!H.dataTransfer||!k.hasModel())return;const z=k.getModel(),N=z.getVersionId(),O=yield this.extractDataTransferData(H);if(0===O.size||k.getModel().getVersionId()!==N)return;const K=new u.Dl(k,1);try{const $=this._languageFeaturesService.documentOnDropEditProvider.ordered(z),j=yield this._progressService.withProgress({location:15,delay:750,title:(0,y.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,s.eP)((()=>E(this,void 0,void 0,function*(){for(const q of $){const R=yield q.provideDocumentOnDropEdits(z,W,O,K.token);if(K.token.isCancellationRequested)return;if(R)return R}}))(),K.token),()=>{K.cancel()});if(K.token.isCancellationRequested||k.getModel().getVersionId()!==N)return;if(j){const q=new _.e(W.lineNumber,W.column,W.lineNumber,W.column);return(0,n.performSnippetEdit)(k,"string"==typeof j.insertText?d.Yj.escape(j.insertText):j.insertText.snippet,[r.Y.fromRange(q,0)]),void(j.additionalEdit&&(yield this._bulkEditService.apply(D.fo.convert(j.additionalEdit),{editor:k})))}}finally{K.dispose()}})}extractDataTransferData(k){return E(this,void 0,void 0,function*(){if(!k.dataTransfer)return new t.Hl;const W=(0,b.Bo)(k.dataTransfer);return(0,b.dR)(W,k),W})}};L.ID="editor.contrib.dropIntoEditorController",L=m([w(1,D.vu),w(2,a.p),w(3,g.R9),w(4,v.ec)],L);let x=class{constructor(k){this._workspaceContextService=k}provideDocumentOnDropEdits(k,W,H,z){var N;return E(this,void 0,void 0,function*(){const O=H.get(C.v.uriList);if(O){const $=yield O.asString(),j=this.getUriListInsertText($);if(j)return{insertText:j}}const K=null!==(N=H.get("text"))&&void 0!==N?N:H.get(C.v.text);if(K)return{insertText:yield K.asString()}})}getUriListInsertText(k){const W=[];for(const H of b.Z0.parse(k))try{W.push(I.o.parse(H))}catch{}if(W.length)return W.map(H=>{const z=this._workspaceContextService.getWorkspaceFolder(H);if(z){const N=(0,f.lX)(z.uri,H);if(N)return N}return H.fsPath}).join(" ")}};x=m([w(0,v.ec)],x),(0,S._K)(L.ID,L)},2592:(yt,T,e)=>{"use strict";e.d(T,{yy:()=>n,Dl:()=>d,YQ:()=>y});var s=e(77697),t=e(88154),l=e(71943),C=e(21576),f=e(95102),I=e(38336),b=e(54847),S=e(30888),D=e(53708),_=e(1200);const r=(0,S.yh)("IEditorCancelService"),a=new I.uy("cancellableOperation",!1,(0,_.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,D.z)(r,class{constructor(){this._tokens=new WeakMap}add(g,v){let w,m=this._tokens.get(g);return m||(m=g.invokeWithinContext(E=>({key:a.bindTo(E.get(I.i6)),tokens:new b.S})),this._tokens.set(g,m)),m.key.set(!0),w=m.tokens.push(v),()=>{w&&(w(),m.key.set(!m.tokens.isEmpty()),w=void 0)}}cancel(g){const v=this._tokens.get(g);if(!v)return;const m=v.tokens.pop();m&&(m.cancel(),v.key.set(!v.tokens.isEmpty()))}},!0);class u extends l.A{constructor(v,m){super(m),this.editor=v,this._unregister=v.invokeWithinContext(w=>w.get(r).add(v,this))}dispose(){this._unregister(),super.dispose()}}(0,f.fK)(new class extends f._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:a})}runEditorCommand(g,v){g.get(r).cancel(v)}});class n{constructor(v,m){if(this.flags=m,1&this.flags){const w=v.getModel();this.modelVersionId=w?s.WU("{0}#{1}",w.uri.toString(),w.getVersionId()):null}else this.modelVersionId=null;this.position=4&this.flags?v.getPosition():null,this.selection=2&this.flags?v.getSelection():null,8&this.flags?(this.scrollLeft=v.getScrollLeft(),this.scrollTop=v.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(v){if(!(v instanceof n))return!1;const m=v;return!(this.modelVersionId!==m.modelVersionId||this.scrollLeft!==m.scrollLeft||this.scrollTop!==m.scrollTop||!this.position&&m.position||this.position&&!m.position||this.position&&m.position&&!this.position.equals(m.position)||!this.selection&&m.selection||this.selection&&!m.selection||this.selection&&m.selection&&!this.selection.equalsRange(m.selection))}validate(v){return this._equals(new n(v,this.flags))}}class d extends u{constructor(v,m,w,E){super(v,E),this._listener=new C.SL,4&m&&this._listener.add(v.onDidChangeCursorPosition(L=>{(!w||!t.e.containsPosition(w,L.position))&&this.cancel()})),2&m&&this._listener.add(v.onDidChangeCursorSelection(L=>{(!w||!t.e.containsRange(w,L.selection))&&this.cancel()})),8&m&&this._listener.add(v.onDidScrollChange(L=>this.cancel())),1&m&&(this._listener.add(v.onDidChangeModel(L=>this.cancel())),this._listener.add(v.onDidChangeModelContent(L=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class y extends l.A{constructor(v,m){super(m),this._listener=v.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},92410:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CommonFindController:()=>Ei,FindController:()=>ao,MatchFindAction:()=>ro,NextMatchFindAction:()=>Co,NextSelectionMatchFindAction:()=>ko,PreviousMatchFindAction:()=>Mo,PreviousSelectionMatchFindAction:()=>so,SelectionMatchFindAction:()=>Oo,StartFindAction:()=>Oi,StartFindReplaceAction:()=>Do,StartFindWithArgsAction:()=>Wi,StartFindWithSelectionAction:()=>xo,getSelectionSearchString:()=>bi});var s=e(41883),t=e(21576),l=e(77697),C=e(95102),f=e(72325),I=e(14940),b=e(57535),S=e(13902),D=e(88154),_=e(58745),r=e(7080),a=e(59129),u=e(53727),n=e(6192),d=e(14089);class y{constructor(Zt){this._editor=Zt,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const Zt=this._findScopeDecorationIds.map(sn=>this._editor.getModel().getDecorationRange(sn)).filter(sn=>!!sn);if(Zt.length)return Zt}return null}getStartPosition(){return this._startPosition}setStartPosition(Zt){this._startPosition=Zt,this.setCurrentFindMatch(null)}_getDecorationIndex(Zt){const sn=this._decorations.indexOf(Zt);return sn>=0?sn+1:1}getCurrentMatchesPosition(Zt){const sn=this._editor.getModel().getDecorationsInRange(Zt);for(const dn of sn){const Bn=dn.options;if(Bn===y._FIND_MATCH_DECORATION||Bn===y._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(dn.id)}return 0}setCurrentFindMatch(Zt){let sn=null,dn=0;if(Zt)for(let Bn=0,An=this._decorations.length;Bn<An;Bn++){const un=this._editor.getModel().getDecorationRange(this._decorations[Bn]);if(Zt.equalsRange(un)){sn=this._decorations[Bn],dn=Bn+1;break}}return(null!==this._highlightedDecorationId||null!==sn)&&this._editor.changeDecorations(Bn=>{if(null!==this._highlightedDecorationId&&(Bn.changeDecorationOptions(this._highlightedDecorationId,y._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==sn&&(this._highlightedDecorationId=sn,Bn.changeDecorationOptions(this._highlightedDecorationId,y._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(Bn.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==sn){let An=this._editor.getModel().getDecorationRange(sn);if(An.startLineNumber!==An.endLineNumber&&1===An.endColumn){const un=An.endLineNumber-1,ht=this._editor.getModel().getLineMaxColumn(un);An=new D.e(An.startLineNumber,An.startColumn,un,ht)}this._rangeHighlightDecorationId=Bn.addDecoration(An,y._RANGE_HIGHLIGHT_DECORATION)}}),dn}set(Zt,sn){this._editor.changeDecorations(dn=>{let Bn=y._FIND_MATCH_DECORATION;const An=[];if(Zt.length>1e3){Bn=y._FIND_MATCH_NO_OVERVIEW_DECORATION;const ht=this._editor.getModel().getLineCount(),nn=this._editor.getLayoutInfo().height/ht,Dn=Math.max(2,Math.ceil(3/nn));let In=Zt[0].range.startLineNumber,bn=Zt[0].range.endLineNumber;for(let Ct=1,Wt=Zt.length;Ct<Wt;Ct++){const jt=Zt[Ct].range;bn+Dn>=jt.startLineNumber?jt.endLineNumber>bn&&(bn=jt.endLineNumber):(An.push({range:new D.e(In,1,bn,1),options:y._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),In=jt.startLineNumber,bn=jt.endLineNumber)}An.push({range:new D.e(In,1,bn,1),options:y._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const un=new Array(Zt.length);for(let ht=0,Kt=Zt.length;ht<Kt;ht++)un[ht]={range:Zt[ht].range,options:Bn};this._decorations=dn.deltaDecorations(this._decorations,un),this._overviewRulerApproximateDecorations=dn.deltaDecorations(this._overviewRulerApproximateDecorations,An),this._rangeHighlightDecorationId&&(dn.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(ht=>dn.removeDecoration(ht)),this._findScopeDecorationIds=[]),sn?.length&&(this._findScopeDecorationIds=sn.map(ht=>dn.addDecoration(ht,y._FIND_SCOPE_DECORATION)))})}matchBeforePosition(Zt){if(0===this._decorations.length)return null;for(let sn=this._decorations.length-1;sn>=0;sn--){const dn=this._decorations[sn],Bn=this._editor.getModel().getDecorationRange(dn);if(Bn&&!(Bn.endLineNumber>Zt.lineNumber)){if(Bn.endLineNumber<Zt.lineNumber)return Bn;if(!(Bn.endColumn>Zt.column))return Bn}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(Zt){if(0===this._decorations.length)return null;for(let sn=0,dn=this._decorations.length;sn<dn;sn++){const Bn=this._decorations[sn],An=this._editor.getModel().getDecorationRange(Bn);if(An&&!(An.startLineNumber<Zt.lineNumber)){if(An.startLineNumber>Zt.lineNumber)return An;if(!(An.startColumn<Zt.column))return An}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let Zt=[];return Zt=Zt.concat(this._decorations),Zt=Zt.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&Zt.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&Zt.push(this._rangeHighlightDecorationId),Zt}}y._CURRENT_FIND_MATCH_DECORATION=u.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,d.EN)(n.Fm_),position:a.sh.Center},minimap:{color:(0,d.EN)(n.SUY),position:a.F5.Inline}}),y._FIND_MATCH_DECORATION=u.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,d.EN)(n.Fm_),position:a.sh.Center},minimap:{color:(0,d.EN)(n.SUY),position:a.F5.Inline}}),y._FIND_MATCH_NO_OVERVIEW_DECORATION=u.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),y._FIND_MATCH_ONLY_OVERVIEW_DECORATION=u.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,d.EN)(n.Fm_),position:a.sh.Center}}),y._RANGE_HIGHLIGHT_DECORATION=u.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),y._FIND_SCOPE_DECORATION=u.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class g{constructor(Zt,sn,dn){this._editorSelection=Zt,this._ranges=sn,this._replaceStrings=dn,this._trackedEditorSelectionId=null}getEditOperations(Zt,sn){if(this._ranges.length>0){const dn=[];for(let un=0;un<this._ranges.length;un++)dn.push({range:this._ranges[un],text:this._replaceStrings[un]});dn.sort((un,ht)=>D.e.compareRangesUsingStarts(un.range,ht.range));const Bn=[];let An=dn[0];for(let un=1;un<dn.length;un++)An.range.endLineNumber===dn[un].range.startLineNumber&&An.range.endColumn===dn[un].range.startColumn?(An.range=An.range.plusRange(dn[un].range),An.text=An.text+dn[un].text):(Bn.push(An),An=dn[un]);Bn.push(An);for(const un of Bn)sn.addEditOperation(un.range,un.text)}this._trackedEditorSelectionId=sn.trackSelection(this._editorSelection)}computeCursorState(Zt,sn){return sn.getTrackedSelection(this._trackedEditorSelectionId)}}function v(ni,Zt){if(ni&&""!==ni[0]){const sn=m(ni,Zt,"-"),dn=m(ni,Zt,"_");return sn&&!dn?w(ni,Zt,"-"):!sn&&dn?w(ni,Zt,"_"):ni[0].toUpperCase()===ni[0]?Zt.toUpperCase():ni[0].toLowerCase()===ni[0]?Zt.toLowerCase():l.Kw(ni[0][0])&&Zt.length>0?Zt[0].toUpperCase()+Zt.substr(1):ni[0][0].toUpperCase()!==ni[0][0]&&Zt.length>0?Zt[0].toLowerCase()+Zt.substr(1):Zt}return Zt}function m(ni,Zt,sn){return-1!==ni[0].indexOf(sn)&&-1!==Zt.indexOf(sn)&&ni[0].split(sn).length===Zt.split(sn).length}function w(ni,Zt,sn){const dn=Zt.split(sn),Bn=ni[0].split(sn);let An="";return dn.forEach((un,ht)=>{An+=v([Bn[ht]],un)+sn}),An.slice(0,-1)}class E{constructor(Zt){this.staticValue=Zt,this.kind=0}}class L{constructor(Zt){this.pieces=Zt,this.kind=1}}class x{constructor(Zt){this._state=Zt&&0!==Zt.length?1===Zt.length&&null!==Zt[0].staticValue?new E(Zt[0].staticValue):new L(Zt):new E("")}static fromStaticValue(Zt){return new x([A.staticValue(Zt)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(Zt,sn){if(0===this._state.kind)return sn?v(Zt,this._state.staticValue):this._state.staticValue;let dn="";for(let Bn=0,An=this._state.pieces.length;Bn<An;Bn++){const un=this._state.pieces[Bn];if(null!==un.staticValue){dn+=un.staticValue;continue}let ht=x._substitute(un.matchIndex,Zt);if(null!==un.caseOps&&un.caseOps.length>0){const Kt=[],nn=un.caseOps.length;let Dn=0;for(let In=0,bn=ht.length;In<bn;In++){if(Dn>=nn){Kt.push(ht.slice(In));break}switch(un.caseOps[Dn]){case"U":Kt.push(ht[In].toUpperCase());break;case"u":Kt.push(ht[In].toUpperCase()),Dn++;break;case"L":Kt.push(ht[In].toLowerCase());break;case"l":Kt.push(ht[In].toLowerCase()),Dn++;break;default:Kt.push(ht[In])}}ht=Kt.join("")}dn+=ht}return dn}static _substitute(Zt,sn){if(null===sn)return"";if(0===Zt)return sn[0];let dn="";for(;Zt>0;){if(Zt<sn.length)return(sn[Zt]||"")+dn;dn=String(Zt%10)+dn,Zt=Math.floor(Zt/10)}return"$"+dn}}class A{constructor(Zt,sn,dn){this.staticValue=Zt,this.matchIndex=sn,this.caseOps=dn&&0!==dn.length?dn.slice(0):null}static staticValue(Zt){return new A(Zt,-1,null)}static caseOps(Zt,sn){return new A(null,Zt,sn)}}class k{constructor(Zt){this._source=Zt,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(Zt){this._emitStatic(this._source.substring(this._lastCharIndex,Zt)),this._lastCharIndex=Zt}emitStatic(Zt,sn){this._emitStatic(Zt),this._lastCharIndex=sn}_emitStatic(Zt){0!==Zt.length&&(this._currentStaticPiece+=Zt)}emitMatchIndex(Zt,sn,dn){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=A.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=A.caseOps(Zt,dn),this._lastCharIndex=sn}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=A.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new x(this._result)}}var H=e(38336);const z=new H.uy("findWidgetVisible",!1),O=(z.toNegated(),new H.uy("findInputFocussed",!1)),K=new H.uy("replaceInputFocussed",!1),$={primary:545,mac:{primary:2593}},j={primary:565,mac:{primary:2613}},q={primary:560,mac:{primary:2608}},R={primary:554,mac:{primary:2602}},Z={primary:558,mac:{primary:2606}},Ce=19999;class Ie{constructor(Zt,sn){this._toDispose=new t.SL,this._editor=Zt,this._state=sn,this._isDisposed=!1,this._startSearchingTimer=new s._F,this._decorations=new y(Zt),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new s.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(dn=>{(3===dn.reason||5===dn.reason||6===dn.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(dn=>{this._ignoreModelContentChanged||(dn.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(dn=>this._onStateChanged(dn))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,t.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(Zt){this._isDisposed||this._editor.hasModel()&&(Zt.searchString||Zt.isReplaceRevealed||Zt.isRegex||Zt.wholeWord||Zt.matchCase||Zt.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{Zt.searchScope?this.research(Zt.moveCursor,this._state.searchScope):this.research(Zt.moveCursor)},240)):Zt.searchScope?this.research(Zt.moveCursor,this._state.searchScope):this.research(Zt.moveCursor))}static _getSearchRange(Zt,sn){return sn||Zt.getFullModelRange()}research(Zt,sn){let dn=null;typeof sn<"u"?null!==sn&&(dn=Array.isArray(sn)?sn:[sn]):dn=this._decorations.getFindScopes(),null!==dn&&(dn=dn.map(ht=>{if(ht.startLineNumber!==ht.endLineNumber){let Kt=ht.endLineNumber;return 1===ht.endColumn&&(Kt-=1),new D.e(ht.startLineNumber,1,Kt,this._editor.getModel().getLineMaxColumn(Kt))}return ht}));const Bn=this._findMatches(dn,!1,Ce);this._decorations.set(Bn,dn);const An=this._editor.getSelection();let un=this._decorations.getCurrentMatchesPosition(An);if(0===un&&Bn.length>0){const ht=(0,I.lG)(Bn.map(Kt=>Kt.range),Kt=>D.e.compareRangesUsingStarts(Kt,An)>=0);un=ht>0?ht-1+1:un}this._state.changeMatchInfo(un,this._decorations.getCount(),void 0),Zt&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const Zt=this._decorations.getFindScope();return Zt&&this._editor.revealRangeInCenterIfOutsideViewport(Zt,0),!0}return!1}_setCurrentFindMatch(Zt){const sn=this._decorations.setCurrentFindMatch(Zt);this._state.changeMatchInfo(sn,this._decorations.getCount(),Zt),this._editor.setSelection(Zt),this._editor.revealRangeInCenterIfOutsideViewport(Zt,0)}_prevSearchPosition(Zt){const sn=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:dn,column:Bn}=Zt;const An=this._editor.getModel();return sn||1===Bn?(1===dn?dn=An.getLineCount():dn--,Bn=An.getLineMaxColumn(dn)):Bn--,new S.L(dn,Bn)}_moveToPrevMatch(Zt,sn=!1){if(!this._state.canNavigateBack()){const Dn=this._decorations.matchAfterPosition(Zt);return void(Dn&&this._setCurrentFindMatch(Dn))}if(this._decorations.getCount()<Ce){let Dn=this._decorations.matchBeforePosition(Zt);return Dn&&Dn.isEmpty()&&Dn.getStartPosition().equals(Zt)&&(Zt=this._prevSearchPosition(Zt),Dn=this._decorations.matchBeforePosition(Zt)),void(Dn&&this._setCurrentFindMatch(Dn))}if(this._cannotFind())return;const dn=this._decorations.getFindScope(),Bn=Ie._getSearchRange(this._editor.getModel(),dn);Bn.getEndPosition().isBefore(Zt)&&(Zt=Bn.getEndPosition()),Zt.isBefore(Bn.getStartPosition())&&(Zt=Bn.getEndPosition());const{lineNumber:An,column:un}=Zt,ht=this._editor.getModel();let Kt=new S.L(An,un),nn=ht.findPreviousMatch(this._state.searchString,Kt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(nn&&nn.range.isEmpty()&&nn.range.getStartPosition().equals(Kt)&&(Kt=this._prevSearchPosition(Kt),nn=ht.findPreviousMatch(this._state.searchString,Kt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),nn){if(!sn&&!Bn.containsRange(nn.range))return this._moveToPrevMatch(nn.range.getStartPosition(),!0);this._setCurrentFindMatch(nn.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(Zt){const sn=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:dn,column:Bn}=Zt;const An=this._editor.getModel();return sn||Bn===An.getLineMaxColumn(dn)?(dn===An.getLineCount()?dn=1:dn++,Bn=1):Bn++,new S.L(dn,Bn)}_moveToNextMatch(Zt){if(!this._state.canNavigateForward()){const dn=this._decorations.matchBeforePosition(Zt);return void(dn&&this._setCurrentFindMatch(dn))}if(this._decorations.getCount()<Ce){let dn=this._decorations.matchAfterPosition(Zt);return dn&&dn.isEmpty()&&dn.getStartPosition().equals(Zt)&&(Zt=this._nextSearchPosition(Zt),dn=this._decorations.matchAfterPosition(Zt)),void(dn&&this._setCurrentFindMatch(dn))}const sn=this._getNextMatch(Zt,!1,!0);sn&&this._setCurrentFindMatch(sn.range)}_getNextMatch(Zt,sn,dn,Bn=!1){if(this._cannotFind())return null;const An=this._decorations.getFindScope(),un=Ie._getSearchRange(this._editor.getModel(),An);un.getEndPosition().isBefore(Zt)&&(Zt=un.getStartPosition()),Zt.isBefore(un.getStartPosition())&&(Zt=un.getStartPosition());const{lineNumber:ht,column:Kt}=Zt,nn=this._editor.getModel();let Dn=new S.L(ht,Kt),In=nn.findNextMatch(this._state.searchString,Dn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,sn);return dn&&In&&In.range.isEmpty()&&In.range.getStartPosition().equals(Dn)&&(Dn=this._nextSearchPosition(Dn),In=nn.findNextMatch(this._state.searchString,Dn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,sn)),In?Bn||un.containsRange(In.range)?In:this._getNextMatch(In.range.getEndPosition(),sn,dn,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function W(ni){if(!ni||0===ni.length)return new x(null);const Zt=[],sn=new k(ni);for(let dn=0,Bn=ni.length;dn<Bn;dn++){const An=ni.charCodeAt(dn);if(92!==An){if(36===An){if(dn++,dn>=Bn)break;const un=ni.charCodeAt(dn);if(36===un){sn.emitUnchanged(dn-1),sn.emitStatic("$",dn+1);continue}if(48===un||38===un){sn.emitUnchanged(dn-1),sn.emitMatchIndex(0,dn+1,Zt),Zt.length=0;continue}if(49<=un&&un<=57){let ht=un-48;if(dn+1<Bn){const Kt=ni.charCodeAt(dn+1);if(48<=Kt&&Kt<=57){dn++,ht=10*ht+(Kt-48),sn.emitUnchanged(dn-2),sn.emitMatchIndex(ht,dn+1,Zt),Zt.length=0;continue}}sn.emitUnchanged(dn-1),sn.emitMatchIndex(ht,dn+1,Zt),Zt.length=0;continue}}}else{if(dn++,dn>=Bn)break;const un=ni.charCodeAt(dn);switch(un){case 92:sn.emitUnchanged(dn-1),sn.emitStatic("\\",dn+1);break;case 110:sn.emitUnchanged(dn-1),sn.emitStatic("\n",dn+1);break;case 116:sn.emitUnchanged(dn-1),sn.emitStatic("\t",dn+1);break;case 117:case 85:case 108:case 76:sn.emitUnchanged(dn-1),sn.emitStatic("",dn+1),Zt.push(String.fromCharCode(un))}}}return sn.finalize()}(this._state.replaceString):x.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const Zt=this._getReplacePattern(),sn=this._editor.getSelection(),dn=this._getNextMatch(sn.getStartPosition(),!0,!1);if(dn)if(sn.equalsRange(dn.range)){const Bn=Zt.buildReplaceString(dn.matches,this._state.preserveCase),An=new b.T4(sn,Bn);this._executeEditorCommand("replace",An),this._decorations.setStartPosition(new S.L(sn.startLineNumber,sn.startColumn+Bn.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(dn.range)}_findMatches(Zt,sn,dn){const Bn=(Zt||[null]).map(An=>Ie._getSearchRange(this._editor.getModel(),An));return this._editor.getModel().findMatches(this._state.searchString,Bn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,sn,dn)}replaceAll(){if(!this._hasMatches())return;const Zt=this._decorations.getFindScopes();null===Zt&&this._state.matchesCount>=Ce?this._largeReplaceAll():this._regularReplaceAll(Zt),this.research(!1)}_largeReplaceAll(){const sn=new r.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!sn)return;let dn=sn.regex;if(!dn.multiline){let In="mu";dn.ignoreCase&&(In+="i"),dn.global&&(In+="g"),dn=new RegExp(dn.source,In)}const Bn=this._editor.getModel(),An=Bn.getValue(1),un=Bn.getFullModelRange(),ht=this._getReplacePattern();let Kt;const nn=this._state.preserveCase;Kt=An.replace(dn,ht.hasReplacementPatterns||nn?function(){return ht.buildReplaceString(arguments,nn)}:ht.buildReplaceString(null,nn));const Dn=new b.hP(un,Kt,this._editor.getSelection());this._executeEditorCommand("replaceAll",Dn)}_regularReplaceAll(Zt){const sn=this._getReplacePattern(),dn=this._findMatches(Zt,sn.hasReplacementPatterns||this._state.preserveCase,1073741824),Bn=[];for(let un=0,ht=dn.length;un<ht;un++)Bn[un]=sn.buildReplaceString(dn[un].matches,this._state.preserveCase);const An=new g(this._editor.getSelection(),dn.map(un=>un.range),Bn);this._executeEditorCommand("replaceAll",An)}selectAllMatches(){if(!this._hasMatches())return;const Zt=this._decorations.getFindScopes();let dn=this._findMatches(Zt,!1,1073741824).map(An=>new _.Y(An.range.startLineNumber,An.range.startColumn,An.range.endLineNumber,An.range.endColumn));const Bn=this._editor.getSelection();for(let An=0,un=dn.length;An<un;An++)if(dn[An].equalsRange(Bn)){dn=[Bn].concat(dn.slice(0,An)).concat(dn.slice(An+1));break}this._editor.setSelections(dn)}_executeEditorCommand(Zt,sn){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(Zt,sn),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var xe=e(94418),Me=e(68965),Oe=e(79595);let se=(()=>{class ni extends Oe.${constructor(sn,dn,Bn,An){super(),this._hideSoon=this._register(new s.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=sn,this._state=dn,this._keybindingService=Bn,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const un=An.getColorTheme().getColor(n.PRb),ht=An.getColorTheme().getColor(n.Pvw),Kt=An.getColorTheme().getColor(n.XEs);this.caseSensitive=this._register(new Me.rk({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:un,inputActiveOptionForeground:ht,inputActiveOptionBackground:Kt})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Me.Qx({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:un,inputActiveOptionForeground:ht,inputActiveOptionBackground:Kt})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Me.eH({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:un,inputActiveOptionForeground:ht,inputActiveOptionBackground:Kt})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(nn=>{let Dn=!1;nn.isRegex&&(this.regex.checked=this._state.isRegex,Dn=!0),nn.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,Dn=!0),nn.matchCase&&(this.caseSensitive.checked=this._state.matchCase,Dn=!0),!this._state.isRevealed&&Dn&&this._revealTemporarily()})),this._register(xe.nm(this._domNode,xe.tw.MOUSE_LEAVE,nn=>this._onMouseLeave())),this._register(xe.nm(this._domNode,"mouseover",nn=>this._onMouseOver())),this._applyTheme(An.getColorTheme()),this._register(An.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(sn){const dn=this._keybindingService.lookupKeybinding(sn);return dn?` (${dn.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ni.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(sn){const dn={inputActiveOptionBorder:sn.getColor(n.PRb),inputActiveOptionForeground:sn.getColor(n.Pvw),inputActiveOptionBackground:sn.getColor(n.XEs)};this.caseSensitive.style(dn),this.wholeWords.style(dn),this.regex.style(dn)}}return ni.ID="editor.contrib.findOptionsWidget",ni})();(0,d.Ic)((ni,Zt)=>{const sn=ni.getColor(n.D0T);sn&&Zt.addRule(`.monaco-editor .findOptionsWidget { background-color: ${sn}; }`);const dn=ni.getColor(n.Hfx);dn&&Zt.addRule(`.monaco-editor .findOptionsWidget { color: ${dn}; }`);const Bn=ni.getColor(n.rh);Bn&&Zt.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${Bn}; }`);const An=ni.getColor(n.lRK);An&&Zt.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${An}; }`)});var ce=e(31864);function Ee(ni,Zt){return 1===ni||2!==ni&&Zt}class me extends t.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new ce.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Ee(this._isRegexOverride,this._isRegex)}get wholeWord(){return Ee(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Ee(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Ee(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(Zt,sn,dn){const Bn={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let An=!1;0===sn&&(Zt=0),Zt>sn&&(Zt=sn),this._matchesPosition!==Zt&&(this._matchesPosition=Zt,Bn.matchesPosition=!0,An=!0),this._matchesCount!==sn&&(this._matchesCount=sn,Bn.matchesCount=!0,An=!0),typeof dn<"u"&&(D.e.equalsRange(this._currentMatch,dn)||(this._currentMatch=dn,Bn.currentMatch=!0,An=!0)),An&&this._onFindReplaceStateChange.fire(Bn)}change(Zt,sn,dn=!0){var Bn;const An={moveCursor:sn,updateHistory:dn,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let un=!1;const ht=this.isRegex,Kt=this.wholeWord,nn=this.matchCase,Dn=this.preserveCase;typeof Zt.searchString<"u"&&this._searchString!==Zt.searchString&&(this._searchString=Zt.searchString,An.searchString=!0,un=!0),typeof Zt.replaceString<"u"&&this._replaceString!==Zt.replaceString&&(this._replaceString=Zt.replaceString,An.replaceString=!0,un=!0),typeof Zt.isRevealed<"u"&&this._isRevealed!==Zt.isRevealed&&(this._isRevealed=Zt.isRevealed,An.isRevealed=!0,un=!0),typeof Zt.isReplaceRevealed<"u"&&this._isReplaceRevealed!==Zt.isReplaceRevealed&&(this._isReplaceRevealed=Zt.isReplaceRevealed,An.isReplaceRevealed=!0,un=!0),typeof Zt.isRegex<"u"&&(this._isRegex=Zt.isRegex),typeof Zt.wholeWord<"u"&&(this._wholeWord=Zt.wholeWord),typeof Zt.matchCase<"u"&&(this._matchCase=Zt.matchCase),typeof Zt.preserveCase<"u"&&(this._preserveCase=Zt.preserveCase),typeof Zt.searchScope<"u"&&(!(null===(Bn=Zt.searchScope)||void 0===Bn)&&Bn.every(In=>{var bn;return null===(bn=this._searchScope)||void 0===bn?void 0:bn.some(Ct=>!D.e.equalsRange(Ct,In))})||(this._searchScope=Zt.searchScope,An.searchScope=!0,un=!0)),typeof Zt.loop<"u"&&this._loop!==Zt.loop&&(this._loop=Zt.loop,An.loop=!0,un=!0),typeof Zt.isSearching<"u"&&this._isSearching!==Zt.isSearching&&(this._isSearching=Zt.isSearching,An.isSearching=!0,un=!0),typeof Zt.filters<"u"&&(this._filters?this._filters.update(Zt.filters):this._filters=Zt.filters,An.filters=!0,un=!0),this._isRegexOverride=typeof Zt.isRegexOverride<"u"?Zt.isRegexOverride:0,this._wholeWordOverride=typeof Zt.wholeWordOverride<"u"?Zt.wholeWordOverride:0,this._matchCaseOverride=typeof Zt.matchCaseOverride<"u"?Zt.matchCaseOverride:0,this._preserveCaseOverride=typeof Zt.preserveCaseOverride<"u"?Zt.preserveCaseOverride:0,ht!==this.isRegex&&(un=!0,An.isRegex=!0),Kt!==this.wholeWord&&(un=!0,An.wholeWord=!0),nn!==this.matchCase&&(un=!0,An.matchCase=!0),Dn!==this.preserveCase&&(un=!0,An.preserveCase=!0),un&&this._onFindReplaceStateChange.fire(An)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Ce}}var Pe=e(48460),he=e(26463),Fe=e(30728),Ze=e(51153),ze=e(3219),fe=e(84834),Ke=e(92123),Je=e.n(Ke),vt=e(65057),Et=e.n(vt),Xe=e(28764),re=e.n(Xe),pe=e(6557),ge=e.n(pe),de=e(11146),Q=e.n(de),ye=e(95085),Ae=e.n(ye),ft=e(55522),dt={};dt.styleTagTransform=Ae(),dt.setAttributes=ge(),dt.insert=re().bind(null,"head"),dt.domAPI=Et(),dt.insertStyleElement=Q(),Je()(ft.Z,dt);var st=e(1200),St=e(23142);function mt(ni){var Zt,sn;return"Up"===(null===(Zt=ni.lookupKeybinding("history.showPrevious"))||void 0===Zt?void 0:Zt.getElectronAccelerator())&&"Down"===(null===(sn=ni.lookupKeybinding("history.showNext"))||void 0===sn?void 0:sn.getElectronAccelerator())}var bt=e(68762),Bt=e(65206);const Ye=(0,bt.q5)("find-selection",Ze.lA.selection,st.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Tt=(0,bt.q5)("find-collapsed",Ze.lA.chevronRight,st.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),qt=(0,bt.q5)("find-expanded",Ze.lA.chevronDown,st.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Ot=(0,bt.q5)("find-replace",Ze.lA.replace,st.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Ft=(0,bt.q5)("find-replace-all",Ze.lA.replaceAll,st.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),rt=(0,bt.q5)("find-previous-match",Ze.lA.arrowUp,st.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Le=(0,bt.q5)("find-next-match",Ze.lA.arrowDown,st.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ie=st.NC("label.find","Find"),te=st.NC("placeholder.find","Find"),oe=st.NC("label.previousMatchButton","Previous Match"),we=st.NC("label.nextMatchButton","Next Match"),nt=st.NC("label.toggleSelectionFind","Find in Selection"),He=st.NC("label.closeButton","Close"),De=st.NC("label.replace","Replace"),pt=st.NC("placeholder.replace","Replace"),lt=st.NC("label.replaceButton","Replace"),Ht=st.NC("label.replaceAllButton","Replace All"),Xt=st.NC("label.toggleReplaceButton","Toggle Replace"),ut=st.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Ce),an=st.NC("label.matchesLocation","{0} of {1}"),Kn=st.NC("label.noResults","No results");let ri=69;const Xi="ctrlEnterReplaceAll.windows.donotask",Zi=fe.dz?256:2048;class vo{constructor(Zt){this.afterLineNumber=Zt,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function oo(ni,Zt,sn){const dn=!!Zt.match(/\n/);sn&&dn&&sn.selectionStart>0&&ni.stopPropagation()}function yo(ni,Zt,sn){const dn=!!Zt.match(/\n/);sn&&dn&&sn.selectionEnd<sn.value.length&&ni.stopPropagation()}let Lo=(()=>{class ni extends Oe.${constructor(sn,dn,Bn,An,un,ht,Kt,nn,Dn){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=sn,this._controller=dn,this._state=Bn,this._contextViewProvider=An,this._keybindingService=un,this._contextKeyService=ht,this._storageService=nn,this._notificationService=Dn,this._ctrlEnterReplaceAllWarningPrompted=!!nn.getBoolean(Xi,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new s.vp(500),this._register((0,t.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(In=>this._onStateChanged(In))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(In=>{if(In.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),In.hasChanged(133)&&this._tryUpdateWidgetWidth(),In.hasChanged(2)&&this.updateAccessibilitySupport(),In.hasChanged(37)){const bn=this._codeEditor.getOption(37).addExtraSpaceOnTop;bn&&!this._viewZone&&(this._viewZone=new vo(0),this._showViewZone()),!bn&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(ni,Zt,sn,dn){return new(sn||(sn=Promise))(function(An,un){function ht(Dn){try{nn(dn.next(Dn))}catch(In){un(In)}}function Kt(Dn){try{nn(dn.throw(Dn))}catch(In){un(In)}}function nn(Dn){Dn.done?An(Dn.value):function Bn(An){return An instanceof sn?An:new sn(function(un){un(An)})}(Dn.value).then(ht,Kt)}nn((dn=dn.apply(ni,Zt||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){const In=yield this._controller.getGlobalBufferTerm();In&&In!==this._state.searchString&&(this._state.change({searchString:In},!1),this._findInput.select())}}))),this._findInputFocused=O.bindTo(ht),this._findFocusTracker=this._register(xe.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=K.bindTo(ht),this._replaceFocusTracker=this._register(xe.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new vo(0)),this._applyTheme(Kt.getColorTheme()),this._register(Kt.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(In=>{In.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ni.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(sn){if(sn.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}sn.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),sn.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),sn.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=xe.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(sn.isRevealed||sn.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),sn.isRegex&&this._findInput.setRegex(this._state.isRegex),sn.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),sn.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),sn.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),sn.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(sn.searchString||sn.matchesCount||sn.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(sn.searchString||sn.currentMatch)&&this._layoutViewZone(),sn.updateHistory&&this._delayedUpdateHistory(),sn.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ze.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let sn;if(this._matchesCount.style.minWidth=ri+"px",this._matchesCount.title=this._state.matchesCount>=Ce?ut:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let dn=String(this._state.matchesCount);this._state.matchesCount>=Ce&&(dn+="+");let Bn=String(this._state.matchesPosition);"0"===Bn&&(Bn="?"),sn=l.WU(an,Bn,dn)}else sn=Kn;this._matchesCount.appendChild(document.createTextNode(sn)),(0,Pe.Z9)(this._getAriaLabel(sn,this._state.currentMatch,this._state.searchString)),ri=Math.max(ri,this._matchesCount.clientWidth)}_getAriaLabel(sn,dn,Bn){if(sn===Kn)return""===Bn?st.NC("ariaSearchNoResultEmpty","{0} found",sn):st.NC("ariaSearchNoResult","{0} found for '{1}'",sn,Bn);if(dn){const An=st.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",sn,Bn,dn.startLineNumber+":"+dn.startColumn),un=this._codeEditor.getModel();return un&&dn.startLineNumber<=un.getLineCount()&&dn.startLineNumber>=1?`${un.getLineContent(dn.startLineNumber)}, ${An}`:An}return st.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",sn,Bn)}_updateToggleSelectionFindButton(){const sn=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||sn&&(sn.startLineNumber!==sn.endLineNumber||sn.startColumn!==sn.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const sn=this._state.searchString.length>0,dn=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&sn&&dn&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&sn&&dn&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&sn),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&sn),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const Bn=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&Bn)}_reveal(){if(this._revealTimeouts.forEach(sn=>{clearTimeout(sn)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const sn=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!sn&&sn.startLineNumber!==sn.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let dn=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&sn){const Bn=this._codeEditor.getDomNode();if(Bn){const An=xe.i(Bn),un=this._codeEditor.getScrolledVisiblePosition(sn.getStartPosition()),ht=An.left+(un?un.left:0);if(this._viewZone&&(un?un.top:0)<this._viewZone.heightInPx){sn.endLineNumber>sn.startLineNumber&&(dn=!1);const nn=xe.xQ(this._domNode).left;ht>nn&&(dn=!1);const Dn=this._codeEditor.getScrolledVisiblePosition(sn.getEndPosition());An.left+(Dn?Dn.left:0)>nn&&(dn=!1)}}}this._showViewZone(dn)}}_hide(sn){this._revealTimeouts.forEach(dn=>{clearTimeout(dn)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),sn&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(sn){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const Bn=this._viewZone;void 0!==this._viewZoneId||!Bn||this._codeEditor.changeViewZones(An=>{Bn.heightInPx=this._getHeight(),this._viewZoneId=An.addZone(Bn),this._codeEditor.setScrollTop(sn||this._codeEditor.getScrollTop()+Bn.heightInPx)})}_showViewZone(sn=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new vo(0));const Bn=this._viewZone;this._codeEditor.changeViewZones(An=>{if(void 0!==this._viewZoneId){const un=this._getHeight();if(un===Bn.heightInPx)return;const ht=un-Bn.heightInPx;return Bn.heightInPx=un,An.layoutZone(this._viewZoneId),void(sn&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ht))}{let un=this._getHeight();if(un-=this._codeEditor.getOption(77).top,un<=0)return;Bn.heightInPx=un,this._viewZoneId=An.addZone(Bn),sn&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+un)}})}_removeViewZone(){this._codeEditor.changeViewZones(sn=>{void 0!==this._viewZoneId&&(sn.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(sn){const dn={inputActiveOptionBorder:sn.getColor(n.PRb),inputActiveOptionBackground:sn.getColor(n.XEs),inputActiveOptionForeground:sn.getColor(n.Pvw),inputBackground:sn.getColor(n.sEe),inputForeground:sn.getColor(n.zJb),inputBorder:sn.getColor(n.dt_),inputValidationInfoBackground:sn.getColor(n._lC),inputValidationInfoForeground:sn.getColor(n.YI3),inputValidationInfoBorder:sn.getColor(n.EPQ),inputValidationWarningBackground:sn.getColor(n.RV_),inputValidationWarningForeground:sn.getColor(n.SUG),inputValidationWarningBorder:sn.getColor(n.C3g),inputValidationErrorBackground:sn.getColor(n.paE),inputValidationErrorForeground:sn.getColor(n._t9),inputValidationErrorBorder:sn.getColor(n.OZR)};this._findInput.style(dn),this._replaceInput.style(dn),this._toggleSelectionFind.style(dn)}_tryUpdateWidgetWidth(){if(!this._isVisible||!xe.Uw(this._domNode))return;const sn=this._codeEditor.getLayoutInfo();if(sn.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Bn=sn.width,An=sn.minimap.minimapWidth;let un=!1,ht=!1,Kt=!1;if(this._resized&&xe.w(this._domNode)>419)return this._domNode.style.maxWidth=Bn-28-An-15+"px",void(this._replaceInput.width=xe.w(this._findInput.domNode));if(447+An>=Bn&&(ht=!0),447+An-ri>=Bn&&(Kt=!0),447+An-ri>=Bn+50&&(un=!0),this._domNode.classList.toggle("collapsed-find-widget",un),this._domNode.classList.toggle("narrow-find-widget",Kt),this._domNode.classList.toggle("reduced-find-widget",ht),!Kt&&!un&&(this._domNode.style.maxWidth=Bn-28-An-15+"px"),this._resized){this._findInput.inputBox.layout();const nn=this._findInput.inputBox.element.clientWidth;nn>0&&(this._replaceInput.width=nn)}else this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode))}_getHeight(){let sn=0;return sn+=4,sn+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(sn+=4,sn+=this._replaceInput.inputBox.height+2),sn+=4,sn}_tryUpdateHeight(){const sn=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==sn)&&(this._cachedHeight=sn,this._domNode.style.height=`${sn}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const sn=this._codeEditor.getSelections();sn.map(dn=>(1===dn.endColumn&&dn.endLineNumber>dn.startLineNumber&&(dn=dn.setEndPosition(dn.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(dn.endLineNumber-1))),dn.startLineNumber===dn.endLineNumber||D.e.equalsRange(dn,this._state.currentMatch)?null:dn)).filter(dn=>!!dn),sn.length&&this._state.change({searchScope:sn},!0)}}_onFindInputMouseDown(sn){sn.middleButton&&sn.stopPropagation()}_onFindInputKeyDown(sn){return sn.equals(3|Zi)?(this._keybindingService.dispatchEvent(sn,sn.target)||this._findInput.inputBox.insertAtCursor("\n"),void sn.preventDefault()):sn.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void sn.preventDefault()):sn.equals(2066)?(this._codeEditor.focus(),void sn.preventDefault()):sn.equals(16)?oo(sn,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):sn.equals(18)?yo(sn,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(sn){return sn.equals(3|Zi)?(this._keybindingService.dispatchEvent(sn,sn.target)||(fe.ED&&fe.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(st.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Xi,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void sn.preventDefault()):sn.equals(2)?(this._findInput.focusOnCaseSensitive(),void sn.preventDefault()):sn.equals(1026)?(this._findInput.focus(),void sn.preventDefault()):sn.equals(2066)?(this._codeEditor.focus(),void sn.preventDefault()):sn.equals(16)?oo(sn,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):sn.equals(18)?yo(sn,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(sn){return 0}_keybindingLabelFor(sn){const dn=this._keybindingService.lookupKeybinding(sn);return dn?` (${dn.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new St.Yb(null,this._contextViewProvider,{width:221,label:ie,placeholder:te,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:nn=>{if(0===nn.length||!this._findInput.getRegex())return null;try{return new RegExp(nn,"gu"),null}catch(Dn){return{content:Dn.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>mt(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(nn=>this._onFindInputKeyDown(nn))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(nn=>{nn.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),nn.preventDefault())})),this._register(this._findInput.onRegexKeyDown(nn=>{nn.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),nn.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(nn=>{this._tryUpdateHeight()&&this._showViewZone()})),fe.IJ&&this._register(this._findInput.onMouseDown(nn=>this._onFindInputMouseDown(nn))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new oi({label:oe+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:rt,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,ze.dL)}})),this._nextBtn=this._register(new oi({label:we+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:Le,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,ze.dL)}}));const Bn=document.createElement("div");Bn.className="find-part",Bn.appendChild(this._findInput.domNode);const An=document.createElement("div");An.className="find-actions",Bn.appendChild(An),An.appendChild(this._matchesCount),An.appendChild(this._prevBtn.domNode),An.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new he.Z({icon:Ye,title:nt+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const nn=this._codeEditor.getSelections();nn.map(Dn=>(1===Dn.endColumn&&Dn.endLineNumber>Dn.startLineNumber&&(Dn=Dn.setEndPosition(Dn.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Dn.endLineNumber-1))),Dn.isEmpty()?null:Dn)).filter(Dn=>!!Dn),nn.length&&this._state.change({searchScope:nn},!0)}}else this._state.change({searchScope:null},!0)})),An.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new oi({label:He+this._keybindingLabelFor("closeFindWidget"),icon:bt.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:nn=>{nn.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),nn.preventDefault())}})),An.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new St.Nq(null,void 0,{label:De,placeholder:pt,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>mt(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(nn=>this._onReplaceInputKeyDown(nn))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(nn=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(nn=>{nn.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),nn.preventDefault())})),this._replaceBtn=this._register(new oi({label:lt+this._keybindingLabelFor("editor.action.replaceOne"),icon:Ot,onTrigger:()=>{this._controller.replace()},onKeyDown:nn=>{nn.equals(1026)&&(this._closeBtn.focus(),nn.preventDefault())}})),this._replaceAllBtn=this._register(new oi({label:Ht+this._keybindingLabelFor("editor.action.replaceAll"),icon:Ft,onTrigger:()=>{this._controller.replaceAll()}}));const un=document.createElement("div");un.className="replace-part",un.appendChild(this._replaceInput.domNode);const ht=document.createElement("div");ht.className="replace-actions",un.appendChild(ht),ht.appendChild(this._replaceBtn.domNode),ht.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new oi({label:Xt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Bn),this._domNode.appendChild(un),this._resizeSash=new Fe.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Kt=419;this._register(this._resizeSash.onDidStart(()=>{Kt=xe.w(this._domNode)})),this._register(this._resizeSash.onDidChange(nn=>{this._resized=!0;const Dn=Kt+nn.startX-nn.currentX;Dn<419||Dn>(parseFloat(xe.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${Dn}px`,this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const nn=xe.w(this._domNode);if(nn<419)return;let Dn=419;if(!this._resized||419===nn){const In=this._codeEditor.getLayoutInfo();Dn=In.width-28-In.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Dn}px`,this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const sn=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==sn)}}return ni.ID="editor.contrib.findWidget",ni})();class oi extends Oe.${constructor(Zt){super(),this._opts=Zt;let sn="button";this._opts.className&&(sn=sn+" "+this._opts.className),this._opts.icon&&(sn=sn+" "+d.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=sn,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,dn=>{this._opts.onTrigger(),dn.preventDefault()}),this.onkeydown(this._domNode,dn=>{var Bn,An;if(dn.equals(10)||dn.equals(3))return this._opts.onTrigger(),void dn.preventDefault();null===(An=(Bn=this._opts).onKeyDown)||void 0===An||An.call(Bn,dn)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Zt){this._domNode.classList.toggle("disabled",!Zt),this._domNode.setAttribute("aria-disabled",String(!Zt)),this._domNode.tabIndex=Zt?0:-1}setExpanded(Zt){this._domNode.setAttribute("aria-expanded",String(!!Zt)),Zt?(this._domNode.classList.remove(...d.kS.asClassNameArray(Tt)),this._domNode.classList.add(...d.kS.asClassNameArray(qt))):(this._domNode.classList.remove(...d.kS.asClassNameArray(qt)),this._domNode.classList.add(...d.kS.asClassNameArray(Tt)))}}(0,d.Ic)((ni,Zt)=>{const sn=(Wt,jt)=>{jt&&Zt.addRule(`.monaco-editor ${Wt} { background-color: ${jt}; }`)};sn(".findMatch",ni.getColor(n.MUv)),sn(".currentFindMatch",ni.getColor(n.nyM)),sn(".findScope",ni.getColor(n.jUe)),sn(".find-widget",ni.getColor(n.D0T));const Bn=ni.getColor(n.rh);Bn&&Zt.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Bn}; }`);const An=ni.getColor(n.EiJ);An&&Zt.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Bt.c3)(ni.type)?"dotted":"solid"} ${An}; box-sizing: border-box; }`);const un=ni.getColor(n.pnM);un&&Zt.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${un}; padding: 1px; box-sizing: border-box; }`);const ht=ni.getColor(n.gkn);ht&&Zt.addRule(`.monaco-editor .findScope { border: 1px ${(0,Bt.c3)(ni.type)?"dashed":"solid"} ${ht}; }`);const Kt=ni.getColor(n.lRK);Kt&&Zt.addRule(`.monaco-editor .find-widget { border: 1px solid ${Kt}; }`);const nn=ni.getColor(n.Hfx);nn&&Zt.addRule(`.monaco-editor .find-widget { color: ${nn}; }`);const Dn=ni.getColor(n.Ido);Dn&&Zt.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Dn}; }`);const In=ni.getColor(n.Ng6);if(In)Zt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${In}; }`);else{const Wt=ni.getColor(n.D1_);Wt&&Zt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Wt}; }`)}const bn=ni.getColor(n.lUq);bn&&Zt.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${bn} !important;\n\t\t}\n\t`);const Ct=ni.getColor(n.R80);Ct&&Zt.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Ct}; }`)});var en=e(30116),wt=e(21611),Dt=e(64170),$t=e(54980),tn=e(83916),cn=e(22735),Cn=function(ni,Zt,sn,dn){var un,Bn=arguments.length,An=Bn<3?Zt:null===dn?dn=Object.getOwnPropertyDescriptor(Zt,sn):dn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)An=Reflect.decorate(ni,Zt,sn,dn);else for(var ht=ni.length-1;ht>=0;ht--)(un=ni[ht])&&(An=(Bn<3?un(An):Bn>3?un(Zt,sn,An):un(Zt,sn))||An);return Bn>3&&An&&Object.defineProperty(Zt,sn,An),An},Pn=function(ni,Zt){return function(sn,dn){Zt(sn,dn,ni)}},Hn=function(ni,Zt,sn,dn){return new(sn||(sn=Promise))(function(An,un){function ht(Dn){try{nn(dn.next(Dn))}catch(In){un(In)}}function Kt(Dn){try{nn(dn.throw(Dn))}catch(In){un(In)}}function nn(Dn){Dn.done?An(Dn.value):function Bn(An){return An instanceof sn?An:new sn(function(un){un(An)})}(Dn.value).then(ht,Kt)}nn((dn=dn.apply(ni,Zt||[])).next())})};const zn=524288;function bi(ni,Zt="single",sn=!1){if(!ni.hasModel())return null;const dn=ni.getSelection();if("single"===Zt&&dn.startLineNumber===dn.endLineNumber||"multiple"===Zt)if(dn.isEmpty()){const Bn=ni.getConfiguredWordAtPosition(dn.getStartPosition());if(Bn&&!1===sn)return Bn.word}else if(ni.getModel().getValueLengthInRange(dn)<zn)return ni.getModel().getValueInRange(dn);return null}let Ei=class wu extends t.JT{constructor(Zt,sn,dn,Bn){super(),this._editor=Zt,this._findWidgetVisible=z.bindTo(sn),this._contextKeyService=sn,this._storageService=dn,this._clipboardService=Bn,this._updateHistoryDelayer=new s.vp(500),this._state=this._register(new me),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(An=>this._onStateChanged(An))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const An=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),An&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(Zt){return Zt.getContribution(wu.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(Zt){this.saveQueryState(Zt),Zt.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),Zt.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(Zt){Zt.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),Zt.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),Zt.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),Zt.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!O.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const Zt=this._editor.getSelections();Zt.map(sn=>(1===sn.endColumn&&sn.endLineNumber>sn.startLineNumber&&(sn=sn.setEndPosition(sn.endLineNumber-1,this._editor.getModel().getLineMaxColumn(sn.endLineNumber-1))),sn.isEmpty()?null:sn)).filter(sn=>!!sn),Zt.length&&this._state.change({searchScope:Zt},!0)}}setSearchString(Zt){this._state.isRegex&&(Zt=l.ec(Zt)),this._state.change({searchString:Zt},!1)}highlightFindOptions(Zt=!1){}_start(Zt,sn){return Hn(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const dn=Object.assign(Object.assign({},sn),{isRevealed:!0});if("single"===Zt.seedSearchStringFromSelection){const Bn=bi(this._editor,Zt.seedSearchStringFromSelection,Zt.seedSearchStringFromNonEmptySelection);Bn&&(dn.searchString=this._state.isRegex?l.ec(Bn):Bn)}else if("multiple"===Zt.seedSearchStringFromSelection&&!Zt.updateSearchScope){const Bn=bi(this._editor,Zt.seedSearchStringFromSelection);Bn&&(dn.searchString=Bn)}if(!dn.searchString&&Zt.seedSearchStringFromGlobalClipboard){const Bn=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Bn&&(dn.searchString=Bn)}if(Zt.forceRevealReplace||dn.isReplaceRevealed?dn.isReplaceRevealed=!0:this._findWidgetVisible.get()||(dn.isReplaceRevealed=!1),Zt.updateSearchScope){const Bn=this._editor.getSelections();Bn.some(An=>!An.isEmpty())&&(dn.searchScope=Bn)}dn.loop=Zt.loop,this._state.change(dn,!1),this._model||(this._model=new Ie(this._editor,this._state))})}start(Zt,sn){return this._start(Zt,sn)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return Hn(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(Zt){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(Zt)}};Ei.ID="editor.contrib.findController",Ei=Cn([Pn(1,H.i6),Pn(2,cn.Uy),Pn(3,wt.p)],Ei);let ao=class extends Ei{constructor(Zt,sn,dn,Bn,An,un,ht,Kt){super(Zt,dn,ht,Kt),this._contextViewService=sn,this._keybindingService=Bn,this._themeService=An,this._notificationService=un,this._widget=null,this._findOptionsWidget=null}_start(Zt,sn){const dn=Object.create(null,{_start:{get:()=>super._start}});return Hn(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Bn=this._editor.getSelection();let An=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":An=!0;break;case"never":An=!1;break;case"multiline":An=!!Bn&&Bn.startLineNumber!==Bn.endLineNumber}Zt.updateSearchScope=Zt.updateSearchScope||An,yield dn._start.call(this,Zt,sn),this._widget&&(2===Zt.shouldFocus?this._widget.focusReplaceInput():1===Zt.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(Zt=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!Zt?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Lo(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new se(this._editor,this._state,this._keybindingService,this._themeService))}};ao=Cn([Pn(1,Dt.u),Pn(2,H.i6),Pn(3,$t.d),Pn(4,d.XE),Pn(5,tn.lT),Pn(6,cn.Uy),Pn(7,wt.p)],ao);const Oi=(0,C.rn)(new C.jY({id:"actions.find",label:st.NC("startFindAction","Find"),alias:"Find",precondition:H.Ao.or(f.u.focus,H.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:en.eH.MenubarEditMenu,group:"3_find",title:st.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Oi.addImplementation(0,(ni,Zt,sn)=>{const dn=Ei.get(Zt);return!!dn&&dn.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==Zt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Zt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:Zt.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:Zt.getOption(37).loop})});const Qi={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:st.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:st.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:st.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:st.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class Wi extends C.R6{constructor(){super({id:"editor.actions.findWithArgs",label:st.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Qi})}run(Zt,sn,dn){return Hn(this,void 0,void 0,function*(){const Bn=Ei.get(sn);if(Bn){const An=dn?{searchString:dn.searchString,replaceString:dn.replaceString,isReplaceRevealed:void 0!==dn.replaceString,isRegex:dn.isRegex,wholeWord:dn.matchWholeWord,matchCase:dn.isCaseSensitive,preserveCase:dn.preserveCase}:{};yield Bn.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===Bn.getState().searchString.length&&"never"!==sn.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===sn.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:dn?.findInSelection||!1,loop:sn.getOption(37).loop},An),Bn.setGlobalBufferTerm(Bn.getState().searchString)}})}}class xo extends C.R6{constructor(){super({id:"actions.findWithSelection",label:st.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(Zt,sn){return Hn(this,void 0,void 0,function*(){const dn=Ei.get(sn);dn&&(yield dn.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:sn.getOption(37).loop}),dn.setGlobalBufferTerm(dn.getState().searchString))})}}class ro extends C.R6{run(Zt,sn){return Hn(this,void 0,void 0,function*(){const dn=Ei.get(sn);dn&&!this._run(dn)&&(yield dn.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===dn.getState().searchString.length&&"never"!==sn.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===sn.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:sn.getOption(37).loop}),this._run(dn))})}}class Co extends ro{constructor(){super({id:"editor.action.nextMatchFindAction",label:st.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:f.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:H.Ao.and(f.u.focus,O),primary:3,weight:100}]})}_run(Zt){return!!Zt.moveToNextMatch()&&(Zt.editor.pushUndoStop(),!0)}}class Mo extends ro{constructor(){super({id:"editor.action.previousMatchFindAction",label:st.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:f.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:H.Ao.and(f.u.focus,O),primary:1027,weight:100}]})}_run(Zt){return Zt.moveToPrevMatch()}}class Oo extends C.R6{run(Zt,sn){return Hn(this,void 0,void 0,function*(){const dn=Ei.get(sn);if(!dn)return;const Bn="selection"===sn.getOption(37).seedSearchStringFromSelection;let An=null;"never"!==sn.getOption(37).seedSearchStringFromSelection&&(An=bi(sn,"single",Bn)),An&&dn.setSearchString(An),this._run(dn)||(yield dn.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==sn.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:Bn,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:sn.getOption(37).loop}),this._run(dn))})}}class ko extends Oo{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:st.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:f.u.focus,primary:2109,weight:100}})}_run(Zt){return Zt.moveToNextMatch()}}class so extends Oo{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:st.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:f.u.focus,primary:3133,weight:100}})}_run(Zt){return Zt.moveToPrevMatch()}}const Do=(0,C.rn)(new C.jY({id:"editor.action.startFindReplaceAction",label:st.NC("startReplace","Replace"),alias:"Replace",precondition:H.Ao.or(f.u.focus,H.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:en.eH.MenubarEditMenu,group:"3_find",title:st.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Do.addImplementation(0,(ni,Zt,sn)=>{if(!Zt.hasModel()||Zt.getOption(83))return!1;const dn=Ei.get(Zt);if(!dn)return!1;const Bn=Zt.getSelection(),An=dn.isFindInputFocused(),un=!Bn.isEmpty()&&Bn.startLineNumber===Bn.endLineNumber&&"never"!==Zt.getOption(37).seedSearchStringFromSelection&&!An,ht=An||un?2:1;return dn.start({forceRevealReplace:!0,seedSearchStringFromSelection:un?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Zt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==Zt.getOption(37).seedSearchStringFromSelection,shouldFocus:ht,shouldAnimate:!0,updateSearchScope:!1,loop:Zt.getOption(37).loop})}),(0,C._K)(Ei.ID,ao),(0,C.Qr)(Wi),(0,C.Qr)(xo),(0,C.Qr)(Co),(0,C.Qr)(Mo),(0,C.Qr)(ko),(0,C.Qr)(so);const Ho=C._l.bindToContribution(Ei.get);(0,C.fK)(new Ho({id:"closeFindWidget",precondition:z,handler:ni=>ni.closeFindWidget(),kbOpts:{weight:105,kbExpr:H.Ao.and(f.u.focus,H.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,C.fK)(new Ho({id:"toggleFindCaseSensitive",precondition:void 0,handler:ni=>ni.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:$.primary,mac:$.mac,win:$.win,linux:$.linux}})),(0,C.fK)(new Ho({id:"toggleFindWholeWord",precondition:void 0,handler:ni=>ni.toggleWholeWords(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,C.fK)(new Ho({id:"toggleFindRegex",precondition:void 0,handler:ni=>ni.toggleRegex(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:q.primary,mac:q.mac,win:q.win,linux:q.linux}})),(0,C.fK)(new Ho({id:"toggleFindInSelection",precondition:void 0,handler:ni=>ni.toggleSearchScope(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:R.primary,mac:R.mac,win:R.win,linux:R.linux}})),(0,C.fK)(new Ho({id:"togglePreserveCase",precondition:void 0,handler:ni=>ni.togglePreserveCase(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:Z.primary,mac:Z.mac,win:Z.win,linux:Z.linux}})),(0,C.fK)(new Ho({id:"editor.action.replaceOne",precondition:z,handler:ni=>ni.replace(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:3094}})),(0,C.fK)(new Ho({id:"editor.action.replaceOne",precondition:z,handler:ni=>ni.replace(),kbOpts:{weight:105,kbExpr:H.Ao.and(f.u.focus,K),primary:3}})),(0,C.fK)(new Ho({id:"editor.action.replaceAll",precondition:z,handler:ni=>ni.replaceAll(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:2563}})),(0,C.fK)(new Ho({id:"editor.action.replaceAll",precondition:z,handler:ni=>ni.replaceAll(),kbOpts:{weight:105,kbExpr:H.Ao.and(f.u.focus,K),primary:void 0,mac:{primary:2051}}})),(0,C.fK)(new Ho({id:"editor.action.selectAllMatches",precondition:z,handler:ni=>ni.selectAllMatches(),kbOpts:{weight:105,kbExpr:f.u.focus,primary:515}}))},2756:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{FoldingController:()=>we,editorFoldForeground:()=>oi,foldBackgroundBackground:()=>Lo});var s=e(41883),t=e(3219),l=e(32133),C=e(21576),f=e(77697),I=e(22070),b=e(92123),S=e.n(b),D=e(65057),_=e.n(D),r=e(28764),a=e.n(r),u=e(6557),n=e.n(u),d=e(11146),y=e.n(d),g=e(95085),v=e.n(g),m=e(94155),w={};w.styleTagTransform=v(),w.setAttributes=n(),w.insert=a().bind(null,"head"),w.domAPI=_(),w.insertStyleElement=y(),S()(m.Z,w);var x=e(85171),A=e(95102),k=e(72325),W=e(64050),H=e(15333),z=e(31864);const O=16777215,K=4278190080;class ${constructor(wt){const Dt=Math.ceil(wt/32);this._states=new Uint32Array(Dt)}get(wt){return 0!=(this._states[wt/32|0]&1<<wt%32)}set(wt,Dt){const $t=wt/32|0,tn=wt%32,cn=this._states[$t];this._states[$t]=Dt?cn|1<<tn:cn&~(1<<tn)}}class j{constructor(wt,Dt,$t){if(this.sourceAbbr={0:" ",1:"u",2:"r"},wt.length!==Dt.length||wt.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=wt,this._endIndexes=Dt,this._collapseStates=new $(wt.length),this._userDefinedStates=new $(wt.length),this._recoveredStates=new $(wt.length),this._types=$t,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const wt=[],Dt=($t,tn)=>{const cn=wt[wt.length-1];return this.getStartLineNumber(cn)<=$t&&this.getEndLineNumber(cn)>=tn};for(let $t=0,tn=this._startIndexes.length;$t<tn;$t++){const cn=this._startIndexes[$t],Cn=this._endIndexes[$t];if(cn>O||Cn>O)throw new Error("startLineNumber or endLineNumber must not exceed "+O);for(;wt.length>0&&!Dt(cn,Cn);)wt.pop();const Pn=wt.length>0?wt[wt.length-1]:-1;wt.push($t),this._startIndexes[$t]=cn+((255&Pn)<<24),this._endIndexes[$t]=Cn+((65280&Pn)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(wt){return this._startIndexes[wt]&O}getEndLineNumber(wt){return this._endIndexes[wt]&O}getType(wt){return this._types?this._types[wt]:void 0}hasTypes(){return!!this._types}isCollapsed(wt){return this._collapseStates.get(wt)}setCollapsed(wt,Dt){this._collapseStates.set(wt,Dt)}isUserDefined(wt){return this._userDefinedStates.get(wt)}setUserDefined(wt,Dt){return this._userDefinedStates.set(wt,Dt)}isRecovered(wt){return this._recoveredStates.get(wt)}setRecovered(wt,Dt){return this._recoveredStates.set(wt,Dt)}getSource(wt){return this.isUserDefined(wt)?1:this.isRecovered(wt)?2:0}setSource(wt,Dt){1===Dt?(this.setUserDefined(wt,!0),this.setRecovered(wt,!1)):2===Dt?(this.setUserDefined(wt,!1),this.setRecovered(wt,!0)):(this.setUserDefined(wt,!1),this.setRecovered(wt,!1))}setCollapsedAllOfType(wt,Dt){let $t=!1;if(this._types)for(let tn=0;tn<this._types.length;tn++)this._types[tn]===wt&&(this.setCollapsed(tn,Dt),$t=!0);return $t}toRegion(wt){return new q(this,wt)}getParentIndex(wt){this.ensureParentIndices();const Dt=((this._startIndexes[wt]&K)>>>24)+((this._endIndexes[wt]&K)>>>16);return 65535===Dt?-1:Dt}contains(wt,Dt){return this.getStartLineNumber(wt)<=Dt&&this.getEndLineNumber(wt)>=Dt}findIndex(wt){let Dt=0,$t=this._startIndexes.length;if(0===$t)return-1;for(;Dt<$t;){const tn=Math.floor((Dt+$t)/2);wt<this.getStartLineNumber(tn)?$t=tn:Dt=tn+1}return Dt-1}findRange(wt){let Dt=this.findIndex(wt);if(Dt>=0){if(this.getEndLineNumber(Dt)>=wt)return Dt;for(Dt=this.getParentIndex(Dt);-1!==Dt;){if(this.contains(Dt,wt))return Dt;Dt=this.getParentIndex(Dt)}}return-1}toString(){const wt=[];for(let Dt=0;Dt<this.length;Dt++)wt[Dt]=`[${this.sourceAbbr[this.getSource(Dt)]}${this.isCollapsed(Dt)?"+":"-"}] ${this.getStartLineNumber(Dt)}/${this.getEndLineNumber(Dt)}`;return wt.join(", ")}toFoldRange(wt){return{startLineNumber:this._startIndexes[wt]&O,endLineNumber:this._endIndexes[wt]&O,type:this._types?this._types[wt]:void 0,isCollapsed:this.isCollapsed(wt),source:this.getSource(wt)}}static fromFoldRanges(wt){const Dt=wt.length,$t=new Uint32Array(Dt),tn=new Uint32Array(Dt);let cn=[],Cn=!1;for(let Hn=0;Hn<Dt;Hn++){const zn=wt[Hn];$t[Hn]=zn.startLineNumber,tn[Hn]=zn.endLineNumber,cn.push(zn.type),zn.type&&(Cn=!0)}Cn||(cn=void 0);const Pn=new j($t,tn,cn);for(let Hn=0;Hn<Dt;Hn++)wt[Hn].isCollapsed&&Pn.setCollapsed(Hn,!0),Pn.setSource(Hn,wt[Hn].source);return Pn}static sanitizeAndMerge(wt,Dt,$t){$t=$t??Number.MAX_VALUE;const tn=(Wi,xo)=>Array.isArray(Wi)?ro=>ro<xo?Wi[ro]:void 0:ro=>ro<xo?Wi.toFoldRange(ro):void 0,cn=tn(wt,wt.length),Cn=tn(Dt,Dt.length);let Pn=0,Hn=0,zn=cn(0),bi=Cn(0);const Ei=[];let ao,Oi=0;const Qi=[];for(;zn||bi;){let Wi;if(bi&&(!zn||zn.startLineNumber>=bi.startLineNumber))zn&&zn.startLineNumber===bi.startLineNumber?(1===bi.source?Wi=bi:(Wi=zn,Wi.isCollapsed=bi.isCollapsed&&zn.endLineNumber===bi.endLineNumber,Wi.source=0),zn=cn(++Pn)):(Wi=bi,bi.isCollapsed&&0===bi.source&&(Wi.source=2)),bi=Cn(++Hn);else{let xo=Hn,ro=bi;for(;;){if(!ro||ro.startLineNumber>zn.endLineNumber){Wi=zn;break}if(1===ro.source&&ro.endLineNumber>zn.endLineNumber)break;ro=Cn(++xo)}zn=cn(++Pn)}if(Wi){for(;ao&&ao.endLineNumber<Wi.startLineNumber;)ao=Ei.pop();Wi.endLineNumber>Wi.startLineNumber&&Wi.startLineNumber>Oi&&Wi.endLineNumber<=$t&&(!ao||ao.endLineNumber>=Wi.endLineNumber)&&(Qi.push(Wi),Oi=Wi.startLineNumber,ao&&Ei.push(ao),ao=Wi)}}return Qi}}class q{constructor(wt,Dt){this.ranges=wt,this.index=Dt}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(wt){return wt.startLineNumber<=this.startLineNumber&&wt.endLineNumber>=this.endLineNumber}containsLine(wt){return this.startLineNumber<=wt&&wt<=this.endLineNumber}}var R=e(50540);class Z{constructor(wt,Dt){this._updateEventEmitter=new z.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=wt,this._decorationProvider=Dt,this._regions=new j(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(wt){if(!wt.length)return;wt=wt.sort(($t,tn)=>$t.regionIndex-tn.regionIndex);const Dt={};this._decorationProvider.changeDecorations($t=>{let tn=0,cn=-1,Cn=-1;const Pn=Hn=>{for(;tn<Hn;){const zn=this._regions.getEndLineNumber(tn),bi=this._regions.isCollapsed(tn);if(zn<=cn){const Ei=0!==this.regions.getSource(tn);$t.changeDecorationOptions(this._editorDecorationIds[tn],this._decorationProvider.getDecorationOption(bi,zn<=Cn,Ei))}bi&&zn>Cn&&(Cn=zn),tn++}};for(const Hn of wt){const zn=Hn.regionIndex,bi=this._editorDecorationIds[zn];if(bi&&!Dt[bi]){Dt[bi]=!0,Pn(zn);const Ei=!this._regions.isCollapsed(zn);this._regions.setCollapsed(zn,Ei),cn=Math.max(cn,this._regions.getEndLineNumber(zn))}}Pn(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:wt})}removeManualRanges(wt){const Dt=new Array,$t=tn=>{for(const cn of wt)if(!(cn.startLineNumber>tn.endLineNumber||tn.startLineNumber>cn.endLineNumber))return!0;return!1};for(let tn=0;tn<this._regions.length;tn++){const cn=this._regions.toFoldRange(tn);(0===cn.source||!$t(cn))&&Dt.push(cn)}this.updatePost(j.fromFoldRanges(Dt))}update(wt,Dt=[]){const $t=this._currentFoldedOrManualRanges(Dt),tn=j.sanitizeAndMerge(wt,$t,this._textModel.getLineCount());this.updatePost(j.fromFoldRanges(tn))}updatePost(wt){const Dt=[];let $t=-1;for(let tn=0,cn=wt.length;tn<cn;tn++){const Cn=wt.getStartLineNumber(tn),Pn=wt.getEndLineNumber(tn),Hn=wt.isCollapsed(tn),zn=0!==wt.getSource(tn),bi={startLineNumber:Cn,startColumn:this._textModel.getLineMaxColumn(Cn),endLineNumber:Pn,endColumn:this._textModel.getLineMaxColumn(Pn)+1};Dt.push({range:bi,options:this._decorationProvider.getDecorationOption(Hn,Pn<=$t,zn)}),Hn&&Pn>$t&&($t=Pn)}this._decorationProvider.changeDecorations(tn=>this._editorDecorationIds=tn.deltaDecorations(this._editorDecorationIds,Dt)),this._regions=wt,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(wt=[]){const Dt=(tn,cn)=>{for(const Cn of wt)if(tn<Cn&&Cn<=cn)return!0;return!1},$t=[];for(let tn=0,cn=this._regions.length;tn<cn;tn++){let Cn=this.regions.isCollapsed(tn);const Pn=this.regions.getSource(tn);if(Cn||0!==Pn){const Hn=this._regions.toFoldRange(tn),zn=this._textModel.getDecorationRange(this._editorDecorationIds[tn]);zn&&(Cn&&(Dt(zn.startLineNumber,zn.endLineNumber)||zn.endLineNumber-zn.startLineNumber!=Hn.endLineNumber-Hn.startLineNumber)&&(Cn=!1),$t.push({startLineNumber:zn.startLineNumber,endLineNumber:zn.endLineNumber,type:Hn.type,isCollapsed:Cn,source:Pn}))}}return $t}getMemento(){const wt=this._currentFoldedOrManualRanges(),Dt=[];for(let $t=0,tn=wt.length;$t<tn;$t++){const cn=wt[$t],Cn=this._getLinesChecksum(cn.startLineNumber+1,cn.endLineNumber);Dt.push({startLineNumber:cn.startLineNumber,endLineNumber:cn.endLineNumber,isCollapsed:cn.isCollapsed,source:cn.source,checksum:Cn})}return Dt.length>0?Dt:void 0}applyMemento(wt){var Dt,$t;if(!Array.isArray(wt))return;const tn=[],cn=this._textModel.getLineCount();for(const Pn of wt){if(Pn.startLineNumber>=Pn.endLineNumber||Pn.startLineNumber<1||Pn.endLineNumber>cn)continue;const Hn=this._getLinesChecksum(Pn.startLineNumber+1,Pn.endLineNumber);(!Pn.checksum||Hn===Pn.checksum)&&tn.push({startLineNumber:Pn.startLineNumber,endLineNumber:Pn.endLineNumber,type:void 0,isCollapsed:null===(Dt=Pn.isCollapsed)||void 0===Dt||Dt,source:null!==($t=Pn.source)&&void 0!==$t?$t:0})}const Cn=j.sanitizeAndMerge(this._regions,tn,cn);this.updatePost(j.fromFoldRanges(Cn))}_getLinesChecksum(wt,Dt){return(0,R.vp)(this._textModel.getLineContent(wt)+this._textModel.getLineContent(Dt))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(wt,Dt){const $t=[];if(this._regions){let tn=this._regions.findRange(wt),cn=1;for(;tn>=0;){const Cn=this._regions.toRegion(tn);(!Dt||Dt(Cn,cn))&&$t.push(Cn),cn++,tn=Cn.parentIndex}}return $t}getRegionAtLine(wt){if(this._regions){const Dt=this._regions.findRange(wt);if(Dt>=0)return this._regions.toRegion(Dt)}return null}getRegionsInside(wt,Dt){const $t=[],tn=wt?wt.regionIndex+1:0,cn=wt?wt.endLineNumber:Number.MAX_VALUE;if(Dt&&2===Dt.length){const Cn=[];for(let Pn=tn,Hn=this._regions.length;Pn<Hn;Pn++){const zn=this._regions.toRegion(Pn);if(!(this._regions.getStartLineNumber(Pn)<cn))break;for(;Cn.length>0&&!zn.containedBy(Cn[Cn.length-1]);)Cn.pop();Cn.push(zn),Dt(zn,Cn.length)&&$t.push(zn)}}else for(let Cn=tn,Pn=this._regions.length;Cn<Pn;Cn++){const Hn=this._regions.toRegion(Cn);if(!(this._regions.getStartLineNumber(Cn)<cn))break;(!Dt||Dt(Hn))&&$t.push(Hn)}return $t}}function Ce(en,wt,Dt=Number.MAX_VALUE,$t){const tn=[];if($t&&$t.length>0)for(const cn of $t){const Cn=en.getRegionAtLine(cn);if(Cn&&(Cn.isCollapsed!==wt&&tn.push(Cn),Dt>1)){const Pn=en.getRegionsInside(Cn,(Hn,zn)=>Hn.isCollapsed!==wt&&zn<Dt);tn.push(...Pn)}}else{const cn=en.getRegionsInside(null,(Cn,Pn)=>Cn.isCollapsed!==wt&&Pn<Dt);tn.push(...cn)}en.toggleCollapseState(tn)}function Se(en,wt,Dt,$t){const tn=[];for(const cn of $t){const Cn=en.getAllRegionsAtLine(cn,(Pn,Hn)=>Pn.isCollapsed!==wt&&Hn<=Dt);tn.push(...Cn)}en.toggleCollapseState(tn)}function Me(en,wt,Dt){const $t=[];for(const Cn of Dt){const Pn=en.getAllRegionsAtLine(Cn,void 0);Pn.length>0&&$t.push(Pn[0])}const cn=en.getRegionsInside(null,Cn=>$t.every(Pn=>!Pn.containedBy(Cn)&&!Cn.containedBy(Pn))&&Cn.isCollapsed!==wt);en.toggleCollapseState(cn)}function Oe(en,wt,Dt){const $t=en.textModel,tn=en.regions,cn=[];for(let Cn=tn.length-1;Cn>=0;Cn--)if(Dt!==tn.isCollapsed(Cn)){const Pn=tn.getStartLineNumber(Cn);wt.test($t.getLineContent(Pn))&&cn.push(tn.toRegion(Cn))}en.toggleCollapseState(cn)}function se(en,wt,Dt){const $t=en.regions,tn=[];for(let cn=$t.length-1;cn>=0;cn--)Dt!==$t.isCollapsed(cn)&&wt===$t.getType(cn)&&tn.push($t.toRegion(cn));en.toggleCollapseState(tn)}var Pe=e(14940),he=e(88154),Fe=e(48661);class Ze{constructor(wt){this._updateEventEmitter=new z.Q5,this._hasLineChanges=!1,this._foldingModel=wt,this._foldingModelListener=wt.onDidChange(Dt=>this.updateHiddenRanges()),this._hiddenRanges=[],wt.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(wt){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=wt.changes.some(Dt=>Dt.range.endLineNumber!==Dt.range.startLineNumber||0!==(0,Fe.Q)(Dt.text)[0]))}updateHiddenRanges(){let wt=!1;const Dt=[];let $t=0,tn=0,cn=Number.MAX_VALUE,Cn=-1;const Pn=this._foldingModel.regions;for(;$t<Pn.length;$t++){if(!Pn.isCollapsed($t))continue;const Hn=Pn.getStartLineNumber($t)+1,zn=Pn.getEndLineNumber($t);cn<=Hn&&zn<=Cn||(!wt&&tn<this._hiddenRanges.length&&this._hiddenRanges[tn].startLineNumber===Hn&&this._hiddenRanges[tn].endLineNumber===zn?(Dt.push(this._hiddenRanges[tn]),tn++):(wt=!0,Dt.push(new he.e(Hn,1,zn,1))),cn=Hn,Cn=zn)}(this._hasLineChanges||wt||tn<this._hiddenRanges.length)&&this.applyHiddenRanges(Dt)}applyHiddenRanges(wt){this._hiddenRanges=wt,this._hasLineChanges=!1,this._updateEventEmitter.fire(wt)}hasRanges(){return this._hiddenRanges.length>0}isHidden(wt){return null!==fe(this._hiddenRanges,wt)}adjustSelections(wt){let Dt=!1;const $t=this._foldingModel.textModel;let tn=null;const cn=Cn=>((!tn||!function ze(en,wt){return en>=wt.startLineNumber&&en<=wt.endLineNumber}(Cn,tn))&&(tn=fe(this._hiddenRanges,Cn)),tn?tn.startLineNumber-1:null);for(let Cn=0,Pn=wt.length;Cn<Pn;Cn++){let Hn=wt[Cn];const zn=cn(Hn.startLineNumber);zn&&(Hn=Hn.setStartPosition(zn,$t.getLineMaxColumn(zn)),Dt=!0);const bi=cn(Hn.endLineNumber);bi&&(Hn=Hn.setEndPosition(bi,$t.getLineMaxColumn(bi)),Dt=!0),wt[Cn]=Hn}return Dt}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function fe(en,wt){const Dt=(0,Pe.lG)(en,$t=>wt<$t.startLineNumber)-1;return Dt>=0&&en[Dt].endLineNumber>=wt?en[Dt]:null}var Ke=e(53146);class Et{constructor(wt,Dt,$t){this.editorModel=wt,this.languageConfigurationService=Dt,this.maxFoldingRegions=$t,this.id="indent"}dispose(){}compute(wt,Dt){const $t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function re(en,wt,Dt,$t,tn){const cn=en.getOptions().tabSize,Cn=new Xe($t=$t??5e3,tn);let Pn;Dt&&(Pn=new RegExp(`(${Dt.start.source})|(?:${Dt.end.source})`));const Hn=[],zn=en.getLineCount()+1;Hn.push({indent:-1,endAbove:zn,line:zn});for(let bi=en.getLineCount();bi>0;bi--){const Ei=en.getLineContent(bi),ao=(0,Ke.q)(Ei,cn);let Qi,Oi=Hn[Hn.length-1];if(-1!==ao){if(Pn&&(Qi=Ei.match(Pn))){if(!Qi[1]){Hn.push({indent:-2,endAbove:bi,line:bi});continue}{let Wi=Hn.length-1;for(;Wi>0&&-2!==Hn[Wi].indent;)Wi--;if(Wi>0){Hn.length=Wi+1,Oi=Hn[Wi],Cn.insertFirst(bi,Oi.line,ao),Oi.line=bi,Oi.indent=ao,Oi.endAbove=bi;continue}}}if(Oi.indent>ao){do{Hn.pop(),Oi=Hn[Hn.length-1]}while(Oi.indent>ao);const Wi=Oi.endAbove-1;Wi-bi>=1&&Cn.insertFirst(bi,Wi,ao)}Oi.indent===ao?Oi.endAbove=bi:Hn.push({indent:ao,endAbove:bi,line:bi})}else wt&&(Oi.endAbove=bi)}return Cn.toIndentRanges(en)}(this.editorModel,$t&&!!$t.offSide,$t&&$t.markers,this.maxFoldingRegions,Dt))}}class Xe{constructor(wt,Dt){this._notifyTooManyRegions=Dt,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=wt}insertFirst(wt,Dt,$t){if(wt>O||Dt>O)return;const tn=this._length;this._startIndexes[tn]=wt,this._endIndexes[tn]=Dt,this._length++,$t<1e3&&(this._indentOccurrences[$t]=(this._indentOccurrences[$t]||0)+1)}toIndentRanges(wt){var Dt;if(this._length<=this._foldingRangesLimit){const $t=new Uint32Array(this._length),tn=new Uint32Array(this._length);for(let cn=this._length-1,Cn=0;cn>=0;cn--,Cn++)$t[Cn]=this._startIndexes[cn],tn[Cn]=this._endIndexes[cn];return new j($t,tn)}{null===(Dt=this._notifyTooManyRegions)||void 0===Dt||Dt.call(this,this._foldingRangesLimit);let $t=0,tn=this._indentOccurrences.length;for(let Hn=0;Hn<this._indentOccurrences.length;Hn++){const zn=this._indentOccurrences[Hn];if(zn){if(zn+$t>this._foldingRangesLimit){tn=Hn;break}$t+=zn}}const cn=wt.getOptions().tabSize,Cn=new Uint32Array(this._foldingRangesLimit),Pn=new Uint32Array(this._foldingRangesLimit);for(let Hn=this._length-1,zn=0;Hn>=0;Hn--){const bi=this._startIndexes[Hn],Ei=wt.getLineContent(bi),ao=(0,Ke.q)(Ei,cn);(ao<tn||ao===tn&&$t++<this._foldingRangesLimit)&&(Cn[zn]=bi,Pn[zn]=this._endIndexes[Hn],zn++)}return new j(Cn,Pn)}}}var pe=e(1200),ge=e(38336),de=e(6192),Q=e(14089),ye=e(51153),Ae=e(53727),ft=e(68762);const dt=(0,ft.q5)("folding-expanded",ye.lA.chevronDown,(0,pe.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),it=(0,ft.q5)("folding-collapsed",ye.lA.chevronRight,(0,pe.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),et=(0,ft.q5)("folding-manual-collapsed",it,(0,pe.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),st=(0,ft.q5)("folding-manual-expanded",dt,(0,pe.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class St{constructor(wt){this.editor=wt,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(wt,Dt,$t){return Dt||"never"===this.showFoldingControls?St.HIDDEN_RANGE_DECORATION:wt?$t?this.showFoldingHighlights?St.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:St.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?St.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:St.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?$t?St.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:St.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:$t?St.MANUALLY_EXPANDED_VISUAL_DECORATION:St.EXPANDED_VISUAL_DECORATION}changeDecorations(wt){return this.editor.changeDecorations(wt)}removeDecorations(wt){this.editor.removeDecorations(wt)}}St.COLLAPSED_VISUAL_DECORATION=Ae.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(it)}),St.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ae.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(it)}),St.MANUALLY_COLLAPSED_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(dt)}),St.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(et)}),St.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ae.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(dt)}),St.EXPANDED_VISUAL_DECORATION=Ae.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(dt)}),St.MANUALLY_EXPANDED_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(st)}),St.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(st)}),St.HIDDEN_RANGE_DECORATION=Ae.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const mt={};class Bt{constructor(wt,Dt,$t,tn){this.editorModel=wt,this.providers=Dt,this.limit=tn,this.id="syntax";for(const cn of Dt)"function"==typeof cn.onDidChange&&(this.disposables||(this.disposables=new C.SL),this.disposables.add(cn.onDidChange($t)))}compute(wt,Dt){return function Lt(en,wt,Dt){let $t=null;const tn=en.map((cn,Cn)=>Promise.resolve(cn.provideFoldingRanges(wt,mt,Dt)).then(Pn=>{if(!Dt.isCancellationRequested&&Array.isArray(Pn)){Array.isArray($t)||($t=[]);const Hn=wt.getLineCount();for(const zn of Pn)zn.start>0&&zn.end>zn.start&&zn.end<=Hn&&$t.push({start:zn.start,end:zn.end,rank:Cn,kind:zn.kind})}},t.Cp));return Promise.all(tn).then(cn=>$t)}(this.providers,this.editorModel,wt).then($t=>$t?function Tt(en,wt,Dt){const $t=en.sort((Pn,Hn)=>{let zn=Pn.start-Hn.start;return 0===zn&&(zn=Pn.rank-Hn.rank),zn}),tn=new Ye(wt,Dt);let cn;const Cn=[];for(const Pn of $t)if(cn){if(Pn.start>cn.start)if(Pn.end<=cn.end)Cn.push(cn),cn=Pn,tn.add(Pn.start,Pn.end,Pn.kind&&Pn.kind.value,Cn.length);else{if(Pn.start>cn.end){do{cn=Cn.pop()}while(cn&&Pn.start>cn.end);cn&&Cn.push(cn),cn=Pn}tn.add(Pn.start,Pn.end,Pn.kind&&Pn.kind.value,Cn.length)}}else cn=Pn,tn.add(Pn.start,Pn.end,Pn.kind&&Pn.kind.value,Cn.length);return tn.toIndentRanges()}($t,this.limit,Dt):null)}dispose(){var wt;null===(wt=this.disposables)||void 0===wt||wt.dispose()}}class Ye{constructor(wt,Dt){this._notifyTooManyRegions=Dt,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=wt}add(wt,Dt,$t,tn){if(wt>O||Dt>O)return;const cn=this._length;this._startIndexes[cn]=wt,this._endIndexes[cn]=Dt,this._nestingLevels[cn]=tn,this._types[cn]=$t,this._length++,tn<30&&(this._nestingLevelCounts[tn]=(this._nestingLevelCounts[tn]||0)+1)}toIndentRanges(){var wt;if(this._length<=this._foldingRangesLimit){const Dt=new Uint32Array(this._length),$t=new Uint32Array(this._length);for(let tn=0;tn<this._length;tn++)Dt[tn]=this._startIndexes[tn],$t[tn]=this._endIndexes[tn];return new j(Dt,$t,this._types)}{null===(wt=this._notifyTooManyRegions)||void 0===wt||wt.call(this,this._foldingRangesLimit);let Dt=0,$t=this._nestingLevelCounts.length;for(let Pn=0;Pn<this._nestingLevelCounts.length;Pn++){const Hn=this._nestingLevelCounts[Pn];if(Hn){if(Hn+Dt>this._foldingRangesLimit){$t=Pn;break}Dt+=Hn}}const tn=new Uint32Array(this._foldingRangesLimit),cn=new Uint32Array(this._foldingRangesLimit),Cn=[];for(let Pn=0,Hn=0;Pn<this._length;Pn++){const zn=this._nestingLevels[Pn];(zn<$t||zn===$t&&Dt++<this._foldingRangesLimit)&&(tn[Hn]=this._startIndexes[Pn],cn[Hn]=this._endIndexes[Pn],Cn[Hn]=this._types[Pn],Hn++)}return new j(tn,cn,Cn)}}}var qt=e(83916),Ot=e(91729),Ft=e(54693),rt=e(44753),Le=e(13154),te=function(en,wt){return function(Dt,$t){wt(Dt,$t,en)}};const oe=new ge.uy("foldingEnabled",!1);let we=class Du extends C.JT{constructor(wt,Dt,$t,tn,cn,Cn){super(),this.contextKeyService=Dt,this.languageConfigurationService=$t,this.languageFeaturesService=Cn,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new C.SL),this.editor=wt;const Pn=this.editor.getOptions();this._isEnabled=Pn.get(39),this._useFoldingProviders="indentation"!==Pn.get(40),this._unfoldOnClickAfterEndOfLine=Pn.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Pn.get(42),this._maxFoldingRegions=Pn.get(43),this.updateDebounceInfo=cn.for(Cn.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new St(wt),this.foldingDecorationProvider.showFoldingControls=Pn.get(101),this.foldingDecorationProvider.showFoldingHighlights=Pn.get(41),this.foldingEnabled=oe.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=Hn=>{this._tooManyRegionsNotified||(tn.notify({severity:Ot.Z.Warning,sticky:!0,message:pe.NC("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",Hn)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Hn=>{if(Hn.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Hn.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),Hn.hasChanged(101)||Hn.hasChanged(41)){const zn=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=zn.get(101),this.foldingDecorationProvider.showFoldingHighlights=zn.get(41),this.triggerFoldingModelChanged()}Hn.hasChanged(40)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(40),this.onFoldingStrategyChanged()),Hn.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),Hn.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(wt){return wt.getContribution(Du.ID)}saveViewState(){const wt=this.editor.getModel();if(!wt||!this._isEnabled||wt.isTooLargeForTokenization())return{};if(this.foldingModel){const Dt=this.foldingModel.getMemento(),$t=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Dt,lineCount:wt.getLineCount(),provider:$t,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(wt){const Dt=this.editor.getModel();if(Dt&&this._isEnabled&&!Dt.isTooLargeForTokenization()&&this.hiddenRangeModel&&wt&&wt.lineCount===Dt.getLineCount()&&(this._currentModelHasFoldedImports=!!wt.foldedImports,wt.collapsedRegions&&wt.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(wt.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const wt=this.editor.getModel();!this._isEnabled||!wt||wt.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new Z(wt,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Ze(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(Dt=>this.onHiddenRangesChanges(Dt))),this.updateScheduler=new s.vp(this.updateDebounceInfo.get(wt)),this.cursorChangedScheduler=new s.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(Dt=>this.onDidChangeModelContent(Dt))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(Dt=>this.onEditorMouseDown(Dt))),this.localToDispose.add(this.editor.onMouseUp(Dt=>this.onEditorMouseUp(Dt))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(wt){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Et(wt,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const Dt=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);Dt.length>0&&(this.rangeProvider=new Bt(wt,Dt,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(wt){var Dt;null===(Dt=this.hiddenRangeModel)||void 0===Dt||Dt.notifyChangeModelContent(wt),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const wt=this.foldingModel;if(!wt)return null;const Dt=new rt.G(!0),$t=this.getRangeProvider(wt.textModel),tn=this.foldingRegionPromise=(0,s.PG)(cn=>$t.compute(cn,this._notifyTooManyRegions));return tn.then(cn=>{if(cn&&tn===this.foldingRegionPromise){let Cn;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const bi=cn.setCollapsedAllOfType(W.AD.Imports.value,!0);bi&&(Cn=x.Z.capture(this.editor),this._currentModelHasFoldedImports=bi)}const Pn=this.editor.getSelections(),Hn=Pn?Pn.map(bi=>bi.startLineNumber):[];wt.update(cn,Hn),Cn?.restore(this.editor);const zn=this.updateDebounceInfo.update(wt.textModel,Dt.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=zn)}return wt})}).then(void 0,wt=>((0,t.dL)(wt),null)))}onHiddenRangesChanges(wt){if(this.hiddenRangeModel&&wt.length&&!this._restoringViewState){const Dt=this.editor.getSelections();Dt&&this.hiddenRangeModel.adjustSelections(Dt)&&this.editor.setSelections(Dt)}this.editor.setHiddenAreas(wt)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const wt=this.getFoldingModel();wt&&wt.then(Dt=>{if(Dt){const $t=this.editor.getSelections();if($t&&$t.length>0){const tn=[];for(const cn of $t){const Cn=cn.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(Cn)&&tn.push(...Dt.getAllRegionsAtLine(Cn,Pn=>Pn.isCollapsed&&Cn>Pn.startLineNumber))}tn.length&&(Dt.toggleCollapseState(tn),this.reveal($t[0].getPosition()))}}}).then(void 0,t.dL)}onEditorMouseDown(wt){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!wt.target||!wt.target.range||!wt.event.leftButton&&!wt.event.middleButton)return;const Dt=wt.target.range;let $t=!1;switch(wt.target.type){case 4:if(wt.target.detail.offsetX-wt.target.element.offsetLeft<5)return;$t=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!wt.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const tn=this.editor.getModel();if(tn&&Dt.startColumn===tn.getLineMaxColumn(Dt.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:Dt.startLineNumber,iconClicked:$t}}onEditorMouseUp(wt){const Dt=this.foldingModel;if(!Dt||!this.mouseDownInfo||!wt.target)return;const $t=this.mouseDownInfo.lineNumber,tn=this.mouseDownInfo.iconClicked,cn=wt.target.range;if(!cn||cn.startLineNumber!==$t)return;if(tn){if(4!==wt.target.type)return}else{const Pn=this.editor.getModel();if(!Pn||cn.startColumn!==Pn.getLineMaxColumn($t))return}const Cn=Dt.getRegionAtLine($t);if(Cn&&Cn.startLineNumber===$t){const Pn=Cn.isCollapsed;if(tn||Pn){let zn=[];if(wt.event.altKey){const Ei=Dt.getRegionsInside(null,ao=>!ao.containedBy(Cn)&&!Cn.containedBy(ao));for(const ao of Ei)ao.isCollapsed&&zn.push(ao);0===zn.length&&(zn=Ei)}else{const bi=wt.event.middleButton||wt.event.shiftKey;if(bi)for(const Ei of Dt.getRegionsInside(Cn))Ei.isCollapsed===Pn&&zn.push(Ei);(Pn||!bi||0===zn.length)&&zn.push(Cn)}Dt.toggleCollapseState(zn),this.reveal({lineNumber:$t,column:1})}}}reveal(wt){this.editor.revealPositionInCenterIfOutsideViewport(wt,0)}};we.ID="editor.contrib.folding",we=function(en,wt,Dt,$t){var Cn,tn=arguments.length,cn=tn<3?wt:null===$t?$t=Object.getOwnPropertyDescriptor(wt,Dt):$t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)cn=Reflect.decorate(en,wt,Dt,$t);else for(var Pn=en.length-1;Pn>=0;Pn--)(Cn=en[Pn])&&(cn=(tn<3?Cn(cn):tn>3?Cn(wt,Dt,cn):Cn(wt,Dt))||cn);return tn>3&&cn&&Object.defineProperty(wt,Dt,cn),cn}([te(1,ge.i6),te(2,H.c_),te(3,qt.lT),te(4,Ft.A),te(5,Le.p)],we);class nt extends A.R6{runEditorCommand(wt,Dt,$t){const tn=wt.get(H.c_),cn=we.get(Dt);if(!cn)return;const Cn=cn.getFoldingModel();return Cn?(this.reportTelemetry(wt,Dt),Cn.then(Pn=>{if(Pn){this.invoke(cn,Pn,Dt,$t,tn);const Hn=Dt.getSelection();Hn&&cn.reveal(Hn.getStartPosition())}})):void 0}getSelectedLines(wt){const Dt=wt.getSelections();return Dt?Dt.map($t=>$t.startLineNumber):[]}getLineNumbers(wt,Dt){return wt&&wt.selectionLines?wt.selectionLines.map($t=>$t+1):this.getSelectedLines(Dt)}run(wt,Dt){}}function He(en){if(!I.o8(en)){if(!I.Kn(en))return!1;const wt=en;if(!I.o8(wt.levels)&&!I.hj(wt.levels)||!I.o8(wt.direction)&&!I.HD(wt.direction)||!I.o8(wt.selectionLines)&&(!I.kJ(wt.selectionLines)||!wt.selectionLines.every(I.hj)))return!1}return!0}let _i=(()=>{class en extends nt{getFoldingLevel(){return parseInt(this.id.substr(en.ID_PREFIX.length))}invoke(Dt,$t,tn){!function xe(en,wt,Dt,$t){const cn=en.getRegionsInside(null,(Cn,Pn)=>Pn===wt&&Cn.isCollapsed!==Dt&&!$t.some(Hn=>Cn.containsLine(Hn)));en.toggleCollapseState(cn)}($t,this.getFoldingLevel(),!0,this.getSelectedLines(tn))}}return en.ID_PREFIX="editor.foldLevel",en.ID=wt=>en.ID_PREFIX+wt,en})();(0,A._K)(we.ID,we),(0,A.Qr)(class De extends nt{constructor(){super({id:"editor.unfold",label:pe.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:He,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(wt,Dt,$t,tn){const cn=tn&&tn.levels||1,Cn=this.getLineNumbers(tn,$t);tn&&"up"===tn.direction?Se(Dt,!1,cn,Cn):Ce(Dt,!1,cn,Cn)}}),(0,A.Qr)(class pt extends nt{constructor(){super({id:"editor.unfoldRecursively",label:pe.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2137),weight:100}})}invoke(wt,Dt,$t,tn){Ce(Dt,!1,Number.MAX_VALUE,this.getSelectedLines($t))}}),(0,A.Qr)(class lt extends nt{constructor(){super({id:"editor.fold",label:pe.NC("foldAction.label","Fold"),alias:"Fold",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:He,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(wt,Dt,$t,tn){const cn=this.getLineNumbers(tn,$t),Cn=tn&&tn.levels,Pn=tn&&tn.direction;"number"!=typeof Cn&&"string"!=typeof Pn?function Ie(en,wt,Dt){const $t=[];for(const tn of Dt){const cn=en.getAllRegionsAtLine(tn,Cn=>Cn.isCollapsed!==wt);cn.length>0&&$t.push(cn[0])}en.toggleCollapseState($t)}(Dt,!0,cn):"up"===Pn?Se(Dt,!0,Cn||1,cn):Ce(Dt,!0,Cn||1,cn)}}),(0,A.Qr)(class Xt extends nt{constructor(){super({id:"editor.foldRecursively",label:pe.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2135),weight:100}})}invoke(wt,Dt,$t){const tn=this.getSelectedLines($t);Ce(Dt,!0,Number.MAX_VALUE,tn)}}),(0,A.Qr)(class fi extends nt{constructor(){super({id:"editor.foldAll",label:pe.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2069),weight:100}})}invoke(wt,Dt,$t){Ce(Dt,!0)}}),(0,A.Qr)(class ri extends nt{constructor(){super({id:"editor.unfoldAll",label:pe.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2088),weight:100}})}invoke(wt,Dt,$t){Ce(Dt,!1)}}),(0,A.Qr)(class ut extends nt{constructor(){super({id:"editor.foldAllBlockComments",label:pe.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2133),weight:100}})}invoke(wt,Dt,$t,tn,cn){if(Dt.regions.hasTypes())se(Dt,W.AD.Comment.value,!0);else{const Cn=$t.getModel();if(!Cn)return;const Pn=cn.getLanguageConfiguration(Cn.getLanguageId()).comments;Pn&&Pn.blockCommentStartToken&&Oe(Dt,new RegExp("^\\s*"+(0,f.ec)(Pn.blockCommentStartToken)),!0)}}}),(0,A.Qr)(class an extends nt{constructor(){super({id:"editor.foldAllMarkerRegions",label:pe.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2077),weight:100}})}invoke(wt,Dt,$t,tn,cn){if(Dt.regions.hasTypes())se(Dt,W.AD.Region.value,!0);else{const Cn=$t.getModel();if(!Cn)return;const Pn=cn.getLanguageConfiguration(Cn.getLanguageId()).foldingRules;Pn&&Pn.markers&&Pn.markers.start&&Oe(Dt,new RegExp(Pn.markers.start),!0)}}}),(0,A.Qr)(class Kn extends nt{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:pe.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2078),weight:100}})}invoke(wt,Dt,$t,tn,cn){if(Dt.regions.hasTypes())se(Dt,W.AD.Region.value,!1);else{const Cn=$t.getModel();if(!Cn)return;const Pn=cn.getLanguageConfiguration(Cn.getLanguageId()).foldingRules;Pn&&Pn.markers&&Pn.markers.start&&Oe(Dt,new RegExp(Pn.markers.start),!1)}}}),(0,A.Qr)(class Gn extends nt{constructor(){super({id:"editor.foldAllExcept",label:pe.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2131),weight:100}})}invoke(wt,Dt,$t){Me(Dt,!0,this.getSelectedLines($t))}}),(0,A.Qr)(class li extends nt{constructor(){super({id:"editor.unfoldAllExcept",label:pe.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2129),weight:100}})}invoke(wt,Dt,$t){Me(Dt,!1,this.getSelectedLines($t))}}),(0,A.Qr)(class Ht extends nt{constructor(){super({id:"editor.toggleFold",label:pe.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2090),weight:100}})}invoke(wt,Dt,$t){!function J(en,wt,Dt){const $t=[];for(const tn of Dt){const cn=en.getRegionAtLine(tn);if(cn){const Cn=!cn.isCollapsed;if($t.push(cn),wt>1){const Pn=en.getRegionsInside(cn,(Hn,zn)=>Hn.isCollapsed!==Cn&&zn<wt);$t.push(...Pn)}}}en.toggleCollapseState($t)}(Dt,1,this.getSelectedLines($t))}}),(0,A.Qr)(class Xi extends nt{constructor(){super({id:"editor.gotoParentFold",label:pe.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,weight:100}})}invoke(wt,Dt,$t){const tn=this.getSelectedLines($t);if(tn.length>0){const cn=function ce(en,wt){let Dt=null;const $t=wt.getRegionAtLine(en);if(null!==$t&&(Dt=$t.startLineNumber,en===Dt)){const tn=$t.parentIndex;Dt=-1!==tn?wt.regions.getStartLineNumber(tn):null}return Dt}(tn[0],Dt);null!==cn&&$t.setSelection({startLineNumber:cn,startColumn:1,endLineNumber:cn,endColumn:1})}}}),(0,A.Qr)(class Zi extends nt{constructor(){super({id:"editor.gotoPreviousFold",label:pe.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,weight:100}})}invoke(wt,Dt,$t){const tn=this.getSelectedLines($t);if(tn.length>0){const cn=function Ee(en,wt){let Dt=wt.getRegionAtLine(en);if(null!==Dt&&Dt.startLineNumber===en){if(en!==Dt.startLineNumber)return Dt.startLineNumber;{const $t=Dt.parentIndex;let tn=0;for(-1!==$t&&(tn=wt.regions.getStartLineNumber(Dt.parentIndex));null!==Dt;){if(!(Dt.regionIndex>0))return null;if(Dt=wt.regions.toRegion(Dt.regionIndex-1),Dt.startLineNumber<=tn)return null;if(Dt.parentIndex===$t)return Dt.startLineNumber}}}else if(wt.regions.length>0)for(Dt=wt.regions.toRegion(wt.regions.length-1);null!==Dt;){if(Dt.startLineNumber<en)return Dt.startLineNumber;Dt=Dt.regionIndex>0?wt.regions.toRegion(Dt.regionIndex-1):null}return null}(tn[0],Dt);null!==cn&&$t.setSelection({startLineNumber:cn,startColumn:1,endLineNumber:cn,endColumn:1})}}}),(0,A.Qr)(class vo extends nt{constructor(){super({id:"editor.gotoNextFold",label:pe.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,weight:100}})}invoke(wt,Dt,$t){const tn=this.getSelectedLines($t);if(tn.length>0){const cn=function me(en,wt){let Dt=wt.getRegionAtLine(en);if(null!==Dt&&Dt.startLineNumber===en){const $t=Dt.parentIndex;let tn=0;if(-1!==$t)tn=wt.regions.getEndLineNumber(Dt.parentIndex);else{if(0===wt.regions.length)return null;tn=wt.regions.getEndLineNumber(wt.regions.length-1)}for(;null!==Dt;){if(!(Dt.regionIndex<wt.regions.length))return null;if(Dt=wt.regions.toRegion(Dt.regionIndex+1),Dt.startLineNumber>=tn)return null;if(Dt.parentIndex===$t)return Dt.startLineNumber}}else if(wt.regions.length>0)for(Dt=wt.regions.toRegion(0);null!==Dt;){if(Dt.startLineNumber>en)return Dt.startLineNumber;Dt=Dt.regionIndex<wt.regions.length?wt.regions.toRegion(Dt.regionIndex+1):null}return null}(tn[0],Dt);null!==cn&&$t.setSelection({startLineNumber:cn,startColumn:1,endLineNumber:cn,endColumn:1})}}}),(0,A.Qr)(class oo extends nt{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:pe.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2130),weight:100}})}invoke(wt,Dt,$t){var tn;const cn=[],Cn=$t.getSelections();if(Cn){for(const Pn of Cn){let Hn=Pn.endLineNumber;1===Pn.endColumn&&--Hn,Hn>Pn.startLineNumber&&(cn.push({startLineNumber:Pn.startLineNumber,endLineNumber:Hn,type:void 0,isCollapsed:!0,source:1}),$t.setSelection({startLineNumber:Pn.startLineNumber,startColumn:1,endLineNumber:Pn.startLineNumber,endColumn:1}))}if(cn.length>0){cn.sort((Hn,zn)=>Hn.startLineNumber-zn.startLineNumber);const Pn=j.sanitizeAndMerge(Dt.regions,cn,null===(tn=$t.getModel())||void 0===tn?void 0:tn.getLineCount());Dt.updatePost(j.fromFoldRanges(Pn))}}}}),(0,A.Qr)(class yo extends nt{constructor(){super({id:"editor.removeManualFoldingRanges",label:pe.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2132),weight:100}})}invoke(wt,Dt,$t){const tn=$t.getSelections();if(tn){const cn=[];for(const Cn of tn){const{startLineNumber:Pn,endLineNumber:Hn}=Cn;cn.push(Hn>=Pn?{startLineNumber:Pn,endLineNumber:Hn}:{endLineNumber:Hn,startLineNumber:Pn})}Dt.removeManualRanges(cn),wt.triggerFoldingModelChanged()}}});for(let en=1;en<=7;en++)(0,A.QG)(new _i({id:_i.ID(en),label:pe.NC("foldLevelAction.label","Fold Level {0}",en),alias:`Fold Level ${en}`,precondition:oe,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,l.gx)(2089,2048|21+en),weight:100}}));const Lo=(0,de.P6G)("editor.foldBackground",{light:(0,de.ZnX)(de.hEj,.3),dark:(0,de.ZnX)(de.hEj,.3),hcDark:null,hcLight:null},pe.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),oi=(0,de.P6G)("editorGutter.foldingControlForeground",{dark:de.XZx,light:de.XZx,hcDark:de.XZx,hcLight:de.XZx},pe.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,Q.Ic)((en,wt)=>{const Dt=en.getColor(Lo);Dt&&wt.addRule(`.monaco-editor .folded-background { background-color: ${Dt}; }`);const $t=en.getColor(oi);$t&&wt.addRule(`\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(dt)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(it)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(st)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(et)} {\n\t\t\tcolor: ${$t} !important;\n\t\t}\n\t\t`)})},40777:(yt,T,e)=>{"use strict";e.r(T);var s=e(95102),t=e(85965),l=e(1200);(0,s.Qr)(class C extends s.R6{constructor(){super({id:"editor.action.fontZoomIn",label:l.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(S,D){t.C.setZoomLevel(t.C.getZoomLevel()+1)}}),(0,s.Qr)(class f extends s.R6{constructor(){super({id:"editor.action.fontZoomOut",label:l.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(S,D){t.C.setZoomLevel(t.C.getZoomLevel()-1)}}),(0,s.Qr)(class I extends s.R6{constructor(){super({id:"editor.action.fontZoomReset",label:l.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(S,D){t.C.setZoomLevel(0)}})},10590:(yt,T,e)=>{"use strict";e.d(T,{Qq:()=>z,Qs:()=>$,Zg:()=>x,x$:()=>W,xC:()=>k});var s=e(48460),t=e(14940),l=e(71943),C=e(3219),f=e(61777),I=e(54847),b=e(22070),S=e(56740),D=e(2592),_=e(38128),r=e(13902),a=e(88154),u=e(58745),n=e(80607),d=e(97953),y=e(52844),g=e(1200),v=e(34468),m=e(90963),w=e(30888),E=e(13154),L=function(j,q,R,Z){return new(R||(R=Promise))(function(Ce,Se){function Ie(Oe){try{Me(Z.next(Oe))}catch(se){Se(se)}}function xe(Oe){try{Me(Z.throw(Oe))}catch(se){Se(se)}}function Me(Oe){Oe.done?Ce(Oe.value):function J(Ce){return Ce instanceof R?Ce:new R(function(Se){Se(Ce)})}(Oe.value).then(Ie,xe)}Me((Z=Z.apply(j,q||[])).next())})};function x(j){if(!(j=j.filter(J=>J.range)).length)return;let{range:q}=j[0];for(let J=1;J<j.length;J++)q=a.e.plusRange(q,j[J].range);const{startLineNumber:R,endLineNumber:Z}=q;(0,s.Z9)(R===Z?1===j.length?g.NC("hint11","Made 1 formatting edit on line {0}",R):g.NC("hintn1","Made {0} formatting edits on line {1}",j.length,R):1===j.length?g.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",R,Z):g.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",j.length,R,Z))}function A(j,q,R){const Z=[],J=new Set,Ce=j.ordered(R);for(const Ie of Ce)Z.push(Ie),Ie.extensionId&&J.add(m.k.toKey(Ie.extensionId));const Se=q.ordered(R);for(const Ie of Se){if(Ie.extensionId){if(J.has(m.k.toKey(Ie.extensionId)))continue;J.add(m.k.toKey(Ie.extensionId))}Z.push({displayName:Ie.displayName,extensionId:Ie.extensionId,provideDocumentFormattingEdits:(xe,Me,Oe)=>Ie.provideDocumentRangeFormattingEdits(xe,xe.getFullModelRange(),Me,Oe)})}return Z}class k{static setFormatterSelector(q){return{dispose:k._selectors.unshift(q)}}static select(q,R,Z){return L(this,void 0,void 0,function*(){if(0===q.length)return;const J=f.$.first(k._selectors);return J?yield J(q,R,Z):void 0})}}function W(j,q,R,Z,J,Ce){return L(this,void 0,void 0,function*(){const Se=j.get(w.TG),{documentRangeFormattingEditProvider:Ie}=j.get(E.p),xe=(0,_.CL)(q)?q.getModel():q,Me=Ie.ordered(xe),Oe=yield k.select(Me,xe,Z);Oe&&(J.report(Oe),yield Se.invokeFunction(H,Oe,q,R,Ce))})}function H(j,q,R,Z,J){return L(this,void 0,void 0,function*(){const Ce=j.get(n.p);let Se,Ie;(0,_.CL)(R)?(Se=R.getModel(),Ie=new D.Dl(R,5,void 0,J)):(Se=R,Ie=new D.YQ(R,J));const xe=[];let Me=0;for(const me of(0,t._2)(Z).sort(a.e.compareRangesUsingStarts))Me>0&&a.e.areIntersectingOrTouching(xe[Me-1],me)?xe[Me-1]=a.e.fromPositions(xe[Me-1].getStartPosition(),me.getEndPosition()):Me=xe.push(me);const Oe=me=>L(this,void 0,void 0,function*(){return(yield q.provideDocumentRangeFormattingEdits(Se,me,Se.getFormattingOptions(),Ie.token))||[]}),se=(me,Pe)=>{if(!me.length||!Pe.length)return!1;const he=me.reduce((Fe,Ze)=>a.e.plusRange(Fe,Ze.range),me[0].range);if(!Pe.some(Fe=>a.e.intersectRanges(he,Fe.range)))return!1;for(const Fe of me)for(const Ze of Pe)if(a.e.intersectRanges(Fe.range,Ze.range))return!0;return!1},ce=[],Ee=[];try{for(const me of xe){if(Ie.token.isCancellationRequested)return!0;Ee.push(yield Oe(me))}for(let me=0;me<xe.length;++me)for(let Pe=me+1;Pe<xe.length;++Pe){if(Ie.token.isCancellationRequested)return!0;if(se(Ee[me],Ee[Pe])){const he=a.e.plusRange(xe[me],xe[Pe]),Fe=yield Oe(he);xe.splice(Pe,1),xe.splice(me,1),xe.push(he),Ee.splice(Pe,1),Ee.splice(me,1),Ee.push(Fe),me=0,Pe=0}}for(const me of Ee){if(Ie.token.isCancellationRequested)return!0;const Pe=yield Ce.computeMoreMinimalEdits(Se.uri,me);Pe&&ce.push(...Pe)}}finally{Ie.dispose()}if(0===ce.length)return!1;if((0,_.CL)(R))y.V.execute(R,ce,!0),x(ce),R.revealPositionInCenterIfOutsideViewport(R.getPosition(),1);else{const[{range:me}]=ce,Pe=new u.Y(me.startLineNumber,me.startColumn,me.endLineNumber,me.endColumn);Se.pushEditOperations([Pe],ce.map(he=>({text:he.text,range:a.e.lift(he.range),forceMoveMarkers:!0})),he=>{for(const{range:Fe}of he)if(a.e.areIntersectingOrTouching(Fe,Pe))return[new u.Y(Fe.startLineNumber,Fe.startColumn,Fe.endLineNumber,Fe.endColumn)];return null})}return!0})}function z(j,q,R,Z,J){return L(this,void 0,void 0,function*(){const Ce=j.get(w.TG),Se=j.get(E.p),Ie=(0,_.CL)(q)?q.getModel():q,xe=A(Se.documentFormattingEditProvider,Se.documentRangeFormattingEditProvider,Ie),Me=yield k.select(xe,Ie,R);Me&&(Z.report(Me),yield Ce.invokeFunction(N,Me,q,R,J))})}function N(j,q,R,Z,J){return L(this,void 0,void 0,function*(){const Ce=j.get(n.p);let Se,Ie,xe;(0,_.CL)(R)?(Se=R.getModel(),Ie=new D.Dl(R,5,void 0,J)):(Se=R,Ie=new D.YQ(R,J));try{const Me=yield q.provideDocumentFormattingEdits(Se,Se.getFormattingOptions(),Ie.token);if(xe=yield Ce.computeMoreMinimalEdits(Se.uri,Me),Ie.token.isCancellationRequested)return!0}finally{Ie.dispose()}if(!xe||0===xe.length)return!1;if((0,_.CL)(R))y.V.execute(R,xe,2!==Z),2!==Z&&(x(xe),R.revealPositionInCenterIfOutsideViewport(R.getPosition(),1));else{const[{range:Me}]=xe,Oe=new u.Y(Me.startLineNumber,Me.startColumn,Me.endLineNumber,Me.endColumn);Se.pushEditOperations([Oe],xe.map(se=>({text:se.text,range:a.e.lift(se.range),forceMoveMarkers:!0})),se=>{for(const{range:ce}of se)if(a.e.areIntersectingOrTouching(ce,Oe))return[new u.Y(ce.startLineNumber,ce.startColumn,ce.endLineNumber,ce.endColumn)];return null})}return!0})}function $(j,q,R,Z,J,Ce,Se){const Ie=q.onTypeFormattingEditProvider.ordered(R);return 0===Ie.length||Ie[0].autoFormatTriggerCharacters.indexOf(J)<0?Promise.resolve(void 0):Promise.resolve(Ie[0].provideOnTypeFormattingEdits(R,Z,J,Ce,Se)).catch(C.Cp).then(xe=>j.computeMoreMinimalEdits(R.uri,xe))}k._selectors=new I.S,v.P0.registerCommand("_executeFormatRangeProvider",function(j,...q){return L(this,void 0,void 0,function*(){const[R,Z,J]=q;(0,b.p_)(S.o.isUri(R)),(0,b.p_)(a.e.isIRange(Z));const Ce=j.get(d.S),Se=j.get(n.p),Ie=j.get(E.p),xe=yield Ce.createModelReference(R);try{return function O(j,q,R,Z,J,Ce){return L(this,void 0,void 0,function*(){const Se=q.documentRangeFormattingEditProvider.ordered(R);for(const Ie of Se){const xe=yield Promise.resolve(Ie.provideDocumentRangeFormattingEdits(R,Z,J,Ce)).catch(C.Cp);if((0,t.Of)(xe))return yield j.computeMoreMinimalEdits(R.uri,xe)}})}(Se,Ie,xe.object.textEditorModel,a.e.lift(Z),J,l.T.None)}finally{xe.dispose()}})}),v.P0.registerCommand("_executeFormatDocumentProvider",function(j,...q){return L(this,void 0,void 0,function*(){const[R,Z]=q;(0,b.p_)(S.o.isUri(R));const J=j.get(d.S),Ce=j.get(n.p),Se=j.get(E.p),Ie=yield J.createModelReference(R);try{return function K(j,q,R,Z,J){return L(this,void 0,void 0,function*(){const Ce=A(q.documentFormattingEditProvider,q.documentRangeFormattingEditProvider,R);for(const Se of Ce){const Ie=yield Promise.resolve(Se.provideDocumentFormattingEdits(R,Z,J)).catch(C.Cp);if((0,t.Of)(Ie))return yield j.computeMoreMinimalEdits(R.uri,Ie)}})}(Ce,Se,Ie.object.textEditorModel,Z,l.T.None)}finally{Ie.dispose()}})}),v.P0.registerCommand("_executeFormatOnTypeProvider",function(j,...q){return L(this,void 0,void 0,function*(){const[R,Z,J,Ce]=q;(0,b.p_)(S.o.isUri(R)),(0,b.p_)(r.L.isIPosition(Z)),(0,b.p_)("string"==typeof J);const Se=j.get(d.S),Ie=j.get(n.p),xe=j.get(E.p),Me=yield Se.createModelReference(R);try{return $(Ie,xe,Me.object.textEditorModel,r.L.lift(Z),J,Ce,l.T.None)}finally{Me.dispose()}})})},70527:(yt,T,e)=>{"use strict";e.r(T);var s=e(14940),t=e(71943),l=e(3219),C=e(32133),f=e(21576),I=e(95102),b=e(60896),S=e(89646),D=e(88154),_=e(72325),r=e(80607),a=e(13154),u=e(10590),n=e(52844),d=e(1200),y=e(34468),g=e(38336),v=e(30888),m=e(26109),w=function(H,z,N,O){var j,K=arguments.length,$=K<3?z:null===O?O=Object.getOwnPropertyDescriptor(z,N):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(H,z,N,O);else for(var q=H.length-1;q>=0;q--)(j=H[q])&&($=(K<3?j($):K>3?j(z,N,$):j(z,N))||$);return K>3&&$&&Object.defineProperty(z,N,$),$},E=function(H,z){return function(N,O){z(N,O,H)}},L=function(H,z,N,O){return new(N||(N=Promise))(function($,j){function q(J){try{Z(O.next(J))}catch(Ce){j(Ce)}}function R(J){try{Z(O.throw(J))}catch(Ce){j(Ce)}}function Z(J){J.done?$(J.value):function K($){return $ instanceof N?$:new N(function(j){j($)})}(J.value).then(q,R)}Z((O=O.apply(H,z||[])).next())})};let x=class{constructor(z,N,O){this._editor=z,this._languageFeaturesService=N,this._workerService=O,this._disposables=new f.SL,this._sessionDisposables=new f.SL,this._disposables.add(N.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(z.onDidChangeModel(()=>this._update())),this._disposables.add(z.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(z.onDidChangeConfiguration(K=>{K.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const z=this._editor.getModel(),[N]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(z);if(!N||!N.autoFormatTriggerCharacters)return;const O=new S.q;for(const K of N.autoFormatTriggerCharacters)O.add(K.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(K=>{const $=K.charCodeAt(K.length-1);O.has($)&&this._trigger(String.fromCharCode($))}))}_trigger(z){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const N=this._editor.getModel(),O=this._editor.getPosition(),K=new t.A,$=this._editor.onDidChangeModelContent(j=>{if(j.isFlush)return K.cancel(),void $.dispose();for(let q=0,R=j.changes.length;q<R;q++)if(j.changes[q].range.endLineNumber<=O.lineNumber)return K.cancel(),void $.dispose()});(0,u.Qs)(this._workerService,this._languageFeaturesService,N,O,z,N.getFormattingOptions(),K.token).then(j=>{K.token.isCancellationRequested||(0,s.Of)(j)&&(n.V.execute(this._editor,j,!0),(0,u.Zg)(j))}).finally(()=>{$.dispose()})}};x.ID="editor.contrib.autoFormat",x=w([E(1,a.p),E(2,r.p)],x);let A=class{constructor(z,N,O){this.editor=z,this._languageFeaturesService=N,this._instantiationService=O,this._callOnDispose=new f.SL,this._callOnModel=new f.SL,this._callOnDispose.add(z.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(z.onDidChangeModel(()=>this._update())),this._callOnDispose.add(z.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(N.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:z})=>this._trigger(z)))}_trigger(z){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(u.x$,this.editor,z,2,m.Ex.None,t.T.None).catch(l.dL))}};A.ID="editor.contrib.formatOnPaste",A=w([E(1,a.p),E(2,v.TG)],A),(0,I._K)(x.ID,x),(0,I._K)(A.ID,A),(0,I.Qr)(class k extends I.R6{constructor(){super({id:"editor.action.formatDocument",label:d.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:g.Ao.and(_.u.notInCompositeEditor,_.u.writable,_.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(z,N){return L(this,void 0,void 0,function*(){if(N.hasModel()){const O=z.get(v.TG);yield z.get(m.ek).showWhile(O.invokeFunction(u.Qq,N,1,m.Ex.None,t.T.None),250)}})}}),(0,I.Qr)(class W extends I.R6{constructor(){super({id:"editor.action.formatSelection",label:d.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:g.Ao.and(_.u.writable,_.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,C.gx)(2089,2084),weight:100},contextMenuOpts:{when:_.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(z,N){return L(this,void 0,void 0,function*(){if(!N.hasModel())return;const O=z.get(v.TG),K=N.getModel(),$=N.getSelections().map(q=>q.isEmpty()?new D.e(q.startLineNumber,1,q.startLineNumber,K.getLineMaxColumn(q.startLineNumber)):q);yield z.get(m.ek).showWhile(O.invokeFunction(u.x$,N,$,1,m.Ex.None,t.T.None),250)})}}),y.P0.registerCommand("editor.action.format",H=>L(void 0,void 0,void 0,function*(){const z=H.get(b.$).getFocusedCodeEditor();if(!z||!z.hasModel())return;const N=H.get(y.Hy);z.getSelection().isEmpty()?yield N.executeCommand("editor.action.formatDocument"):yield N.executeCommand("editor.action.formatSelection")}))},52844:(yt,T,e)=>{"use strict";e.d(T,{V:()=>l});var s=e(37304),t=e(88154);class l{static _handleEolEdits(f,I){let b;const S=[];for(const D of I)"number"==typeof D.eol&&(b=D.eol),D.range&&"string"==typeof D.text&&S.push(D);return"number"==typeof b&&f.hasModel()&&f.getModel().pushEOL(b),S}static _isFullModelReplaceEdit(f,I){if(!f.hasModel())return!1;const b=f.getModel(),S=b.validateRange(I.range);return b.getFullModelRange().equalsRange(S)}static execute(f,I,b){b&&f.pushUndoStop();const S=l._handleEolEdits(f,I);1===S.length&&l._isFullModelReplaceEdit(f,S[0])?f.executeEdits("formatEditsCommand",S.map(D=>s.h.replace(t.e.lift(D.range),D.text))):f.executeEdits("formatEditsCommand",S.map(D=>s.h.replaceMove(t.e.lift(D.range),D.text))),b&&f.pushUndoStop()}}},86246:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{MarkerController:()=>mt,NextMarkerAction:()=>Bt});var s=e(51153),t=e(21576),l=e(95102),C=e(60896),f=e(13902),I=e(88154),b=e(72325),S=e(14940),D=e(31864),_=e(54847),r=e(77697),a=e(56740),u=e(53708),n=e(30888),d=e(80618),y=e(56767),g=function(Ft,rt,Le,ie){var we,te=arguments.length,oe=te<3?rt:null===ie?ie=Object.getOwnPropertyDescriptor(rt,Le):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(Ft,rt,Le,ie);else for(var nt=Ft.length-1;nt>=0;nt--)(we=Ft[nt])&&(oe=(te<3?we(oe):te>3?we(rt,Le,oe):we(rt,Le))||oe);return te>3&&oe&&Object.defineProperty(rt,Le,oe),oe},v=function(Ft,rt){return function(Le,ie){rt(Le,ie,Ft)}};class m{constructor(rt,Le,ie){this.marker=rt,this.index=Le,this.total=ie}}let w=class{constructor(rt,Le,ie){this._markerService=Le,this._configService=ie,this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new t.SL,this._markers=[],this._nextIdx=-1,a.o.isUri(rt)?this._resourceFilter=nt=>nt.toString()===rt.toString():rt&&(this._resourceFilter=rt);const te=this._configService.getValue("problems.sortOrder"),oe=(nt,He)=>{let De=(0,r.qu)(nt.resource.toString(),He.resource.toString());return 0===De&&(De="position"===te?I.e.compareRangesUsingStarts(nt,He)||d.ZL.compare(nt.severity,He.severity):d.ZL.compare(nt.severity,He.severity)||I.e.compareRangesUsingStarts(nt,He)),De},we=()=>{this._markers=this._markerService.read({resource:a.o.isUri(rt)?rt:void 0,severities:d.ZL.Error|d.ZL.Warning|d.ZL.Info}),"function"==typeof rt&&(this._markers=this._markers.filter(nt=>this._resourceFilter(nt.resource))),this._markers.sort(oe)};we(),this._dispoables.add(Le.onMarkerChanged(nt=>{(!this._resourceFilter||nt.some(He=>this._resourceFilter(He)))&&(we(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(rt){return!this._resourceFilter&&!rt||!(!this._resourceFilter||!rt)&&this._resourceFilter(rt)}get selected(){const rt=this._markers[this._nextIdx];return rt&&new m(rt,this._nextIdx+1,this._markers.length)}_initIdx(rt,Le,ie){let te=!1,oe=this._markers.findIndex(we=>we.resource.toString()===rt.uri.toString());oe<0&&(oe=(0,S.ry)(this._markers,{resource:rt.uri},(we,nt)=>(0,r.qu)(we.resource.toString(),nt.resource.toString())),oe<0&&(oe=~oe));for(let we=oe;we<this._markers.length;we++){let nt=I.e.lift(this._markers[we]);if(nt.isEmpty()){const He=rt.getWordAtPosition(nt.getStartPosition());He&&(nt=new I.e(nt.startLineNumber,He.startColumn,nt.startLineNumber,He.endColumn))}if(Le&&(nt.containsPosition(Le)||Le.isBeforeOrEqual(nt.getStartPosition()))){this._nextIdx=we,te=!0;break}if(this._markers[we].resource.toString()!==rt.uri.toString())break}te||(this._nextIdx=ie?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(rt,Le,ie){if(0===this._markers.length)return!1;const te=this._nextIdx;return-1===this._nextIdx?this._initIdx(Le,ie,rt):rt?this._nextIdx=(this._nextIdx+1)%this._markers.length:rt||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),te!==this._nextIdx}find(rt,Le){let ie=this._markers.findIndex(te=>te.resource.toString()===rt.toString());if(!(ie<0))for(;ie<this._markers.length;ie++)if(I.e.containsPosition(this._markers[ie],Le))return new m(this._markers[ie],ie+1,this._markers.length)}};w=g([v(1,d.lT),v(2,y.Ui)],w);const E=(0,n.yh)("IMarkerNavigationService");let L=class{constructor(rt,Le){this._markerService=rt,this._configService=Le,this._provider=new _.S}getMarkerList(rt){for(const Le of this._provider){const ie=Le.getMarkerList(rt);if(ie)return ie}return new w(rt,this._markerService,this._configService)}};L=g([v(0,d.lT),v(1,y.Ui)],L),(0,u.z)(E,L,!0);var x=e(1200),A=e(30116),k=e(38336),W=e(68762),H=e(94418),z=e(2654),N=e(84968),O=e(9590),K=e(92123),$=e.n(K),j=e(65057),q=e.n(j),R=e(28764),Z=e.n(R),J=e(6557),Ce=e.n(J),Se=e(11146),Ie=e.n(Se),xe=e(95085),Me=e.n(xe),Oe=e(26193),se={};se.styleTagTransform=Me(),se.setAttributes=Ce(),se.insert=Z().bind(null,"head"),se.domAPI=q(),se.insertStyleElement=Ie(),$()(Oe.Z,se);var Ke,me=e(24049),Pe=e(88396),he=e(79889),Fe=e(78668),Ze=e(91729),ze=e(6192),fe=e(14089);(Ke||(Ke={})).className=function rt(Le){switch(Le){case Ze.Z.Ignore:return"severity-ignore "+s.lA.info.classNames;case Ze.Z.Info:return s.lA.info.classNames;case Ze.Z.Warning:return s.lA.warning.classNames;case Ze.Z.Error:return s.lA.error.classNames;default:return""}},(0,fe.Ic)((Ft,rt)=>{const Le=Ft.getColor(ze.JpG);if(Le){const oe=s.lA.error.cssSelector;rt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${oe},\n\t\t\t.markers-panel .marker-icon${oe},\n\t\t\t.text-search-provider-messages .providerMessage ${oe},\n\t\t\t.extensions-viewlet > .extensions ${oe} {\n\t\t\t\tcolor: ${Le};\n\t\t\t}\n\t\t`)}const ie=Ft.getColor(ze.BOY);if(ie){const oe=s.lA.warning.cssSelector;rt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${oe},\n\t\t\t.markers-panel .marker-icon${oe},\n\t\t\t.extensions-viewlet > .extensions ${oe},\n\t\t\t.extension-editor ${oe},\n\t\t\t.text-search-provider-messages .providerMessage ${oe},\n\t\t\t.preferences-editor ${oe} {\n\t\t\t\tcolor: ${ie};\n\t\t\t}\n\t\t`)}const te=Ft.getColor(ze.OLZ);if(te){const oe=s.lA.info.cssSelector;rt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${oe},\n\t\t\t.markers-panel .marker-icon${oe},\n\t\t\t.extensions-viewlet > .extensions ${oe},\n\t\t\t.text-search-provider-messages .providerMessage ${oe},\n\t\t\t.extension-editor ${oe} {\n\t\t\t\tcolor: ${te};\n\t\t\t}\n\t\t`)}});var vt=function(Ft,rt){return function(Le,ie){rt(Le,ie,Ft)}};class Et{constructor(rt,Le,ie,te,oe){this._openerService=te,this._labelService=oe,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new t.SL,this._editor=Le;const we=document.createElement("div");we.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),we.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),we.appendChild(this._relatedBlock),this._disposables.add(H.mu(this._relatedBlock,"click",nt=>{nt.preventDefault();const He=this._relatedDiagnostics.get(nt.target);He&&ie(He)})),this._scrollable=new z.NB(we,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),rt.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(nt=>{we.style.left=`-${nt.scrollLeft}px`,we.style.top=`-${nt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,t.B9)(this._disposables)}update(rt){const{source:Le,message:ie,relatedInformation:te,code:oe}=rt;let we=(Le?.length||0)+2;oe&&(we+="string"==typeof oe?oe.length:oe.value.length);const nt=(0,r.uq)(ie);this._lines=nt.length,this._longestLineLength=0;for(const Ht of nt)this._longestLineLength=Math.max(Ht.length+we,this._longestLineLength);H.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(rt)),this._editor.applyFontInfo(this._messageBlock);let He=this._messageBlock;for(const Ht of nt)He=document.createElement("div"),He.innerText=Ht,""===Ht&&(He.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(He);if(Le||oe){const Ht=document.createElement("span");if(Ht.classList.add("details"),He.appendChild(Ht),Le){const Xt=document.createElement("span");Xt.innerText=Le,Xt.classList.add("source"),Ht.appendChild(Xt)}if(oe)if("string"==typeof oe){const Xt=document.createElement("span");Xt.innerText=`(${oe})`,Xt.classList.add("code"),Ht.appendChild(Xt)}else this._codeLink=H.$("a.code-link"),this._codeLink.setAttribute("href",`${oe.target.toString()}`),this._codeLink.onclick=ut=>{this._openerService.open(oe.target,{allowCommands:!0}),ut.preventDefault(),ut.stopPropagation()},H.R3(this._codeLink,H.$("span")).innerText=oe.value,Ht.appendChild(this._codeLink)}if(H.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,S.Of)(te)){const Ht=this._relatedBlock.appendChild(document.createElement("div"));Ht.style.paddingTop=`${Math.floor(.66*this._editor.getOption(61))}px`,this._lines+=1;for(const Xt of te){const ut=document.createElement("div"),an=document.createElement("a");an.classList.add("filename"),an.innerText=`${this._labelService.getUriBasenameLabel(Xt.resource)}(${Xt.startLineNumber}, ${Xt.startColumn}): `,an.title=this._labelService.getUriLabel(Xt.resource),this._relatedDiagnostics.set(an,Xt);const Kn=document.createElement("span");Kn.innerText=Xt.message,ut.appendChild(an),ut.appendChild(Kn),this._lines+=1,Ht.appendChild(ut)}}const De=this._editor.getOption(46),pt=Math.ceil(De.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:pt,scrollHeight:De.lineHeight*this._lines})}layout(rt,Le){this._scrollable.getDomNode().style.height=`${rt}px`,this._scrollable.getDomNode().style.width=`${Le}px`,this._scrollable.setScrollDimensions({width:Le,height:rt})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(rt){let Le="";switch(rt.severity){case d.ZL.Error:Le=x.NC("Error","Error");break;case d.ZL.Warning:Le=x.NC("Warning","Warning");break;case d.ZL.Info:Le=x.NC("Info","Info");break;case d.ZL.Hint:Le=x.NC("Hint","Hint")}let ie=x.NC("marker aria","{0} at {1}. ",Le,rt.startLineNumber+":"+rt.startColumn);const te=this._editor.getModel();return te&&rt.startLineNumber<=te.getLineCount()&&rt.startLineNumber>=1&&(ie=`${te.getLineContent(rt.startLineNumber)}, ${ie}`),ie}}let Xe=class Eu extends me.vk{constructor(rt,Le,ie,te,oe,we,nt){super(rt,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},oe),this._themeService=Le,this._openerService=ie,this._menuService=te,this._contextKeyService=we,this._labelService=nt,this._callOnDispose=new t.SL,this._onDidSelectRelatedInformation=new D.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=d.ZL.Warning,this._backgroundColor=N.Il.white,this._applyTheme(Le.getColorTheme()),this._callOnDispose.add(Le.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(rt){this._backgroundColor=rt.getColor(it);let Le=de,ie=Q;this._severity===d.ZL.Warning?(Le=ye,ie=Ae):this._severity===d.ZL.Info&&(Le=ft,ie=dt);const te=rt.getColor(Le),oe=rt.getColor(ie);this.style({arrowColor:te,frameColor:te,headerBackgroundColor:oe,primaryHeadingColor:rt.getColor(me.IH),secondaryHeadingColor:rt.getColor(me.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(rt){super._fillHead(rt),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(te=>this.editor.focus()));const Le=[],ie=this._menuService.createMenu(Eu.TitleMenu,this._contextKeyService);(0,Pe.vr)(ie,void 0,Le),this._actionbarWidget.push(Le,{label:!1,icon:!0,index:0}),ie.dispose()}_fillTitleIcon(rt){this._icon=H.R3(rt,H.$(""))}_fillBody(rt){this._parentContainer=rt,rt.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),rt.appendChild(this._container),this._message=new Et(this._container,this.editor,Le=>this._onDidSelectRelatedInformation.fire(Le),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(rt,Le,ie){this._container.classList.remove("stale"),this._message.update(rt),this._severity=rt.severity,this._applyTheme(this._themeService.getColorTheme());const te=I.e.lift(rt),oe=this.editor.getPosition(),we=oe&&te.containsPosition(oe)?oe:te.getStartPosition();super.show(we,this.computeRequiredHeight());const nt=this.editor.getModel();if(nt){const He=ie>1?x.NC("problems","{0} of {1} problems",Le,ie):x.NC("change","{0} of {1} problem",Le,ie);this.setTitle((0,O.EZ)(nt.uri),He)}this._icon.className=`codicon ${Ke.className(d.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(we,0),this.editor.focus()}updateMarker(rt){this._container.classList.remove("stale"),this._message.update(rt)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(rt,Le){super._doLayoutBody(rt,Le),this._heightInPixel=rt,this._message.layout(rt,Le),this._container.style.height=`${rt}px`}_onWidth(rt){this._message.layout(this._heightInPixel,rt)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Xe.TitleMenu=new A.eH("gotoErrorTitleMenu"),Xe=function(Ft,rt,Le,ie){var we,te=arguments.length,oe=te<3?rt:null===ie?ie=Object.getOwnPropertyDescriptor(rt,Le):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(Ft,rt,Le,ie);else for(var nt=Ft.length-1;nt>=0;nt--)(we=Ft[nt])&&(oe=(te<3?we(oe):te>3?we(rt,Le,oe):we(rt,Le))||oe);return te>3&&oe&&Object.defineProperty(rt,Le,oe),oe}([vt(1,fe.XE),vt(2,Fe.v4),vt(3,A.co),vt(4,n.TG),vt(5,k.i6),vt(6,he.e)],Xe);const re=(0,ze.kwl)(ze.lXJ,ze.b6y),pe=(0,ze.kwl)(ze.uoC,ze.pW3),ge=(0,ze.kwl)(ze.c63,ze.T83),de=(0,ze.P6G)("editorMarkerNavigationError.background",{dark:re,light:re,hcDark:ze.lRK,hcLight:ze.lRK},x.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Q=(0,ze.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,ze.ZnX)(de,.1),light:(0,ze.ZnX)(de,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),ye=(0,ze.P6G)("editorMarkerNavigationWarning.background",{dark:pe,light:pe,hcDark:ze.lRK,hcLight:ze.lRK},x.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Ae=(0,ze.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,ze.ZnX)(ye,.1),light:(0,ze.ZnX)(ye,.1),hcDark:"#0C141F",hcLight:(0,ze.ZnX)(ye,.2)},x.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),ft=(0,ze.P6G)("editorMarkerNavigationInfo.background",{dark:ge,light:ge,hcDark:ze.lRK,hcLight:ze.lRK},x.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),dt=(0,ze.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,ze.ZnX)(ft,.1),light:(0,ze.ZnX)(ft,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),it=(0,ze.P6G)("editorMarkerNavigation.background",{dark:ze.cvW,light:ze.cvW,hcDark:ze.cvW,hcLight:ze.cvW},x.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var st=function(Ft,rt){return function(Le,ie){rt(Le,ie,Ft)}},St=function(Ft,rt,Le,ie){return new(Le||(Le=Promise))(function(oe,we){function nt(pt){try{De(ie.next(pt))}catch(lt){we(lt)}}function He(pt){try{De(ie.throw(pt))}catch(lt){we(lt)}}function De(pt){pt.done?oe(pt.value):function te(oe){return oe instanceof Le?oe:new Le(function(we){we(oe)})}(pt.value).then(nt,He)}De((ie=ie.apply(Ft,rt||[])).next())})};let mt=class oc{constructor(rt,Le,ie,te,oe){this._markerNavigationService=Le,this._contextKeyService=ie,this._editorService=te,this._instantiationService=oe,this._sessionDispoables=new t.SL,this._editor=rt,this._widgetVisible=qt.bindTo(this._contextKeyService)}static get(rt){return rt.getContribution(oc.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(rt){if(this._model&&this._model.matches(rt))return this._model;let Le=!1;return this._model&&(Le=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(rt),Le&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Xe,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(ie=>{var te,oe,we;(null===(te=this._model)||void 0===te||!te.selected||!I.e.containsPosition(null===(oe=this._model)||void 0===oe?void 0:oe.selected.marker,ie.position))&&(null===(we=this._model)||void 0===we||we.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const ie=this._model.find(this._editor.getModel().uri,this._widget.position);ie?this._widget.updateMarker(ie.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(ie=>{this._editorService.openCodeEditor({resource:ie.resource,options:{pinned:!0,revealIfOpened:!0,selection:I.e.lift(ie).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(rt=!0){this._cleanUp(),rt&&this._editor.focus()}showAtMarker(rt){if(this._editor.hasModel()){const Le=this._getOrCreateModel(this._editor.getModel().uri);Le.resetIndex(),Le.move(!0,this._editor.getModel(),new f.L(rt.startLineNumber,rt.startColumn)),Le.selected&&this._widget.showAtMarker(Le.selected.marker,Le.selected.index,Le.selected.total)}}nagivate(rt,Le){var ie,te;return St(this,void 0,void 0,function*(){if(this._editor.hasModel()){const oe=this._getOrCreateModel(Le?void 0:this._editor.getModel().uri);if(oe.move(rt,this._editor.getModel(),this._editor.getPosition()),!oe.selected)return;if(oe.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const we=yield this._editorService.openCodeEditor({resource:oe.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:oe.selected.marker}},this._editor);we&&(null===(ie=oc.get(we))||void 0===ie||ie.close(),null===(te=oc.get(we))||void 0===te||te.nagivate(rt,Le))}else this._widget.showAtMarker(oe.selected.marker,oe.selected.index,oe.selected.total)}})}};mt.ID="editor.contrib.markerController",mt=function(Ft,rt,Le,ie){var we,te=arguments.length,oe=te<3?rt:null===ie?ie=Object.getOwnPropertyDescriptor(rt,Le):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(Ft,rt,Le,ie);else for(var nt=Ft.length-1;nt>=0;nt--)(we=Ft[nt])&&(oe=(te<3?we(oe):te>3?we(rt,Le,oe):we(rt,Le))||oe);return te>3&&oe&&Object.defineProperty(rt,Le,oe),oe}([st(1,E),st(2,k.i6),st(3,C.$),st(4,n.TG)],mt);class bt extends l.R6{constructor(rt,Le,ie){super(ie),this._next=rt,this._multiFile=Le}run(rt,Le){var ie;return St(this,void 0,void 0,function*(){Le.hasModel()&&(null===(ie=mt.get(Le))||void 0===ie||ie.nagivate(this._next,this._multiFile))})}}class Bt extends bt{constructor(){super(!0,!1,{id:Bt.ID,label:Bt.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.u.focus,primary:578,weight:100},menuOpts:{menuId:Xe.TitleMenu,title:Bt.LABEL,icon:(0,W.q5)("marker-navigation-next",s.lA.arrowDown,x.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Bt.ID="editor.action.marker.next",Bt.LABEL=x.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Lt extends bt{constructor(){super(!1,!1,{id:Lt.ID,label:Lt.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.u.focus,primary:1602,weight:100},menuOpts:{menuId:Xe.TitleMenu,title:Lt.LABEL,icon:(0,W.q5)("marker-navigation-previous",s.lA.arrowUp,x.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Lt.ID="editor.action.marker.prev",Lt.LABEL=x.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,l._K)(mt.ID,mt),(0,l.Qr)(Bt),(0,l.Qr)(Lt),(0,l.Qr)(class Ye extends bt{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:x.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.u.focus,primary:66,weight:100},menuOpts:{menuId:A.eH.MenubarGoMenu,title:x.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,l.Qr)(class Tt extends bt{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:x.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.u.focus,primary:1090,weight:100},menuOpts:{menuId:A.eH.MenubarGoMenu,title:x.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const qt=new k.uy("markersNavigationVisible",!1),Ot=l._l.bindToContribution(mt.get);(0,l.fK)(new Ot({id:"closeMarkersNavigation",precondition:qt,handler:Ft=>Ft.close(),kbOpts:{weight:150,kbExpr:b.u.focus,primary:9,secondary:[1033]}}))},21615:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{DefinitionAction:()=>Je,SymbolNavigationAction:()=>Ke,SymbolNavigationAnchor:()=>fe});var s=e(52253),t=e(48460),l=e(41883),C=e(32133),f=e(84834),I=e(22070),b=e(56740),S=e(2592),D=e(38128),_=e(95102),r=e(60896),a=e(70248),u=e(13902),n=e(88154),d=e(72325),y=e(64050),g=e(19110),v=e(31262),m=e(31864),w=e(21576),E=e(9590),L=e(1200),x=e(38336),A=e(53708),k=e(30888),W=e(54980),H=e(47545),z=e(83916),N=function(de,Q,ye,Ae){var it,ft=arguments.length,dt=ft<3?Q:null===Ae?Ae=Object.getOwnPropertyDescriptor(Q,ye):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)dt=Reflect.decorate(de,Q,ye,Ae);else for(var et=de.length-1;et>=0;et--)(it=de[et])&&(dt=(ft<3?it(dt):ft>3?it(Q,ye,dt):it(Q,ye))||dt);return ft>3&&dt&&Object.defineProperty(Q,ye,dt),dt},O=function(de,Q){return function(ye,Ae){Q(ye,Ae,de)}};const K=new x.uy("hasSymbols",!1,(0,L.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),$=(0,k.yh)("ISymbolNavigationService");let j=class{constructor(Q,ye,Ae,ft){this._editorService=ye,this._notificationService=Ae,this._keybindingService=ft,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=K.bindTo(Q)}reset(){var Q,ye;this._ctxHasSymbols.reset(),null===(Q=this._currentState)||void 0===Q||Q.dispose(),null===(ye=this._currentMessage)||void 0===ye||ye.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Q){const ye=Q.parent.parent;if(ye.references.length<=1)return void this.reset();this._currentModel=ye,this._currentIdx=ye.references.indexOf(Q),this._ctxHasSymbols.set(!0),this._showMessage();const Ae=new q(this._editorService),ft=Ae.onDidChange(dt=>{if(this._ignoreEditorChange)return;const it=this._editorService.getActiveCodeEditor();if(!it)return;const et=it.getModel(),st=it.getPosition();if(!et||!st)return;let St=!1,mt=!1;for(const bt of ye.references)if((0,E.Xy)(bt.uri,et.uri))St=!0,mt=mt||n.e.containsPosition(bt.range,st);else if(St)break;(!St||!mt)&&this.reset()});this._currentState=(0,w.F8)(Ae,ft)}revealNext(Q){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const ye=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:ye.uri,options:{selection:n.e.collapseToStart(ye.range),selectionRevealType:3}},Q).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Q;null===(Q=this._currentMessage)||void 0===Q||Q.dispose();const ye=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),Ae=ye?(0,L.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,ye.getLabel()):(0,L.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(Ae)}};j=N([O(0,x.i6),O(1,r.$),O(2,z.lT),O(3,W.d)],j),(0,A.z)($,j,!0),(0,_.fK)(new class extends _._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:K,kbOpts:{weight:100,primary:70}})}runEditorCommand(de,Q){return de.get($).revealNext(Q)}}),H.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:K,primary:9,handler(de){de.get($).reset()}});let q=class{constructor(Q){this._listener=new Map,this._disposables=new w.SL,this._onDidChange=new m.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Q.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Q.onCodeEditorAdd(this._onDidAddEditor,this)),Q.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,w.B9)(this._listener.values())}_onDidAddEditor(Q){this._listener.set(Q,(0,w.F8)(Q.onDidChangeCursorPosition(ye=>this._onDidChange.fire({editor:Q})),Q.onDidChangeModelContent(ye=>this._onDidChange.fire({editor:Q}))))}_onDidRemoveEditor(Q){var ye;null===(ye=this._listener.get(Q))||void 0===ye||ye.dispose(),this._listener.delete(Q)}};q=N([O(0,r.$)],q);var Oe,se,ce,Ee,me,Pe,he,Fe,R=e(78872),Z=e(24049),J=e(30116),Ce=e(34468),Se=e(26109),Ie=e(68129),xe=e(13154),Me=function(de,Q,ye,Ae){return new(ye||(ye=Promise))(function(dt,it){function et(mt){try{St(Ae.next(mt))}catch(bt){it(bt)}}function st(mt){try{St(Ae.throw(mt))}catch(bt){it(bt)}}function St(mt){mt.done?dt(mt.value):function ft(dt){return dt instanceof ye?dt:new ye(function(it){it(dt)})}(mt.value).then(et,st)}St((Ae=Ae.apply(de,Q||[])).next())})};J.BH.appendMenuItem(J.eH.EditorContext,{submenu:J.eH.EditorContextPeek,title:L.NC("peek.submenu","Peek"),group:"navigation",order:100});const Ze=new Set;function ze(de){const Q=new de;return(0,_.QG)(Q),Ze.add(Q.id),Q}class fe{constructor(Q,ye){this.model=Q,this.position=ye}static is(Q){return!(!Q||"object"!=typeof Q||!(Q instanceof fe||u.L.isIPosition(Q.position)&&Q.model))}}class Ke extends _.R6{constructor(Q,ye){super(ye),this.configuration=Q}run(Q,ye,Ae){if(!ye.hasModel())return Promise.resolve(void 0);const ft=Q.get(z.lT),dt=Q.get(r.$),it=Q.get(Se.ek),et=Q.get($),st=Q.get(xe.p),St=ye.getModel(),mt=ye.getPosition(),bt=fe.is(Ae)?Ae:new fe(St,mt),Bt=new S.Dl(ye,5),Lt=(0,l.eP)(this._getLocationModel(st,bt.model,bt.position,Bt.token),Bt.token).then(Ye=>Me(this,void 0,void 0,function*(){var Tt;if(!Ye||Bt.token.isCancellationRequested)return;let qt;if((0,t.Z9)(Ye.ariaMessage),Ye.referenceAt(St.uri,mt)){const Ft=this._getAlternativeCommand(ye);!Ke._activeAlternativeCommands.has(Ft)&&Ze.has(Ft)&&(qt=ye.getAction(Ft))}const Ot=Ye.references.length;if(0===Ot){if(!this.configuration.muteMessage){const Ft=St.getWordAtPosition(mt);null===(Tt=R.O.get(ye))||void 0===Tt||Tt.showMessage(this._getNoResultFoundMessage(Ft),mt)}}else{if(1!==Ot||!qt)return this._onResult(dt,et,ye,Ye);Ke._activeAlternativeCommands.add(this.id),qt.run().finally(()=>{Ke._activeAlternativeCommands.delete(this.id)})}}),Ye=>{ft.error(Ye)}).finally(()=>{Bt.dispose()});return it.showWhile(Lt,250),Lt}_onResult(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){const dt=this._getGoToPreference(Ae);if(Ae instanceof a.H||!(this.configuration.openInPeek||"peek"===dt&&ft.references.length>1)){const it=ft.firstReference(),et=ft.references.length>1&&"gotoAndPeek"===dt,st=yield this._openReference(Ae,Q,it,this.configuration.openToSide,!et);et&&st?this._openInPeek(st,ft):ft.dispose(),"goto"===dt&&ye.put(it)}else this._openInPeek(Ae,ft)})}_openReference(Q,ye,Ae,ft,dt){return Me(this,void 0,void 0,function*(){let it;if((0,y.vx)(Ae)&&(it=Ae.targetSelectionRange),it||(it=Ae.range),!it)return;const et=yield ye.openCodeEditor({resource:Ae.uri,options:{selection:n.e.collapseToStart(it),selectionRevealType:3,selectionSource:"code.jump"}},Q,ft);if(et){if(dt){const st=et.getModel(),St=et.createDecorationsCollection([{range:it,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{et.getModel()===st&&St.clear()},350)}return et}})}_openInPeek(Q,ye){const Ae=g.J.get(Q);Ae&&Q.hasModel()?Ae.toggleWidget(Q.getSelection(),(0,l.PG)(ft=>Promise.resolve(ye)),this.configuration.openInPeek):ye.dispose()}}Ke._activeAlternativeCommands=new Set;class Je extends Ke{_getLocationModel(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){return new v.oQ(yield(0,Ie.nD)(Q.definitionProvider,ye,Ae,ft),L.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?L.NC("noResultWord","No definition found for '{0}'",Q.word):L.NC("generic.noResults","No definition found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeDefinitionCommand}_getGoToPreference(Q){return Q.getOption(53).multipleDefinitions}}const vt=f.$L&&!(0,s.isStandalone)()?2118:70;ze(((Oe=class Zc extends Je{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zc.id,label:L.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:x.Ao.and(d.u.hasDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:vt,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),Ce.P0.registerCommandAlias("editor.action.goToDeclaration",Zc.id)}}).id="editor.action.revealDefinition",Oe)),ze(((se=class Qc extends Je{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Qc.id,label:L.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:x.Ao.and(d.u.hasDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:(0,C.gx)(2089,vt),weight:100}}),Ce.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",Qc.id)}}).id="editor.action.revealDefinitionAside",se)),ze(((ce=class Yc extends Je{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yc.id,label:L.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:x.Ao.and(d.u.hasDefinitionProvider,Z.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:J.eH.EditorContextPeek,group:"peek",order:2}}),Ce.P0.registerCommandAlias("editor.action.previewDeclaration",Yc.id)}}).id="editor.action.peekDefinition",ce));class Et extends Ke{_getLocationModel(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){return new v.oQ(yield(0,Ie.zq)(Q.declarationProvider,ye,Ae,ft),L.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?L.NC("decl.noResultWord","No declaration found for '{0}'",Q.word):L.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeDeclarationCommand}_getGoToPreference(Q){return Q.getOption(53).multipleDeclarations}}ze(((Ee=class Lu extends Et{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Lu.id,label:L.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:x.Ao.and(d.u.hasDeclarationProvider,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(Q){return Q&&Q.word?L.NC("decl.noResultWord","No declaration found for '{0}'",Q.word):L.NC("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",Ee)),ze(class extends Et{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:L.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:x.Ao.and(d.u.hasDeclarationProvider,Z.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:J.eH.EditorContextPeek,group:"peek",order:3}})}});class Xe extends Ke{_getLocationModel(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){return new v.oQ(yield(0,Ie.L3)(Q.typeDefinitionProvider,ye,Ae,ft),L.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?L.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Q.word):L.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(Q){return Q.getOption(53).multipleTypeDefinitions}}ze(((me=class Iu extends Xe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Iu.ID,label:L.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:x.Ao.and(d.u.hasTypeDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",me)),ze(((Pe=class Tu extends Xe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Tu.ID,label:L.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:x.Ao.and(d.u.hasTypeDefinitionProvider,Z.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:J.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",Pe));class re extends Ke{_getLocationModel(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){return new v.oQ(yield(0,Ie.f4)(Q.implementationProvider,ye,Ae,ft),L.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?L.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Q.word):L.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeImplementationCommand}_getGoToPreference(Q){return Q.getOption(53).multipleImplementations}}ze(((he=class xu extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:xu.ID,label:L.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:x.Ao.and(d.u.hasImplementationProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",he)),ze(((Fe=class Mu extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Mu.ID,label:L.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:x.Ao.and(d.u.hasImplementationProvider,Z.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:J.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Fe));class pe extends Ke{_getNoResultFoundMessage(Q){return Q?L.NC("references.no","No references found for '{0}'",Q.word):L.NC("references.noGeneric","No references found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeReferenceCommand}_getGoToPreference(Q){return Q.getOption(53).multipleReferences}}ze(class extends pe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:L.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:x.Ao.and(d.u.hasReferenceProvider,Z.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){return new v.oQ(yield(0,Ie.aA)(Q.referenceProvider,ye,Ae,!0,ft),L.NC("ref.title","References"))})}}),ze(class extends pe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:L.NC("references.action.label","Peek References"),alias:"Peek References",precondition:x.Ao.and(d.u.hasReferenceProvider,Z.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:J.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){return new v.oQ(yield(0,Ie.aA)(Q.referenceProvider,ye,Ae,!1,ft),L.NC("ref.title","References"))})}});class ge extends Ke{constructor(Q,ye,Ae){super(Q,{id:"editor.action.goToLocation",label:L.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:x.Ao.and(Z.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated())}),this._references=ye,this._gotoMultipleBehaviour=Ae}_getLocationModel(Q,ye,Ae,ft){return Me(this,void 0,void 0,function*(){return new v.oQ(this._references,L.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Q){return Q&&L.NC("generic.noResult","No results for '{0}'",Q.word)||""}_getGoToPreference(Q){var ye;return null!==(ye=this._gotoMultipleBehaviour)&&void 0!==ye?ye:Q.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}Ce.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.o},{name:"position",description:"The position at which to start",constraint:u.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(de,Q,ye,Ae,ft,dt,it)=>Me(void 0,void 0,void 0,function*(){(0,I.p_)(b.o.isUri(Q)),(0,I.p_)(u.L.isIPosition(ye)),(0,I.p_)(Array.isArray(Ae)),(0,I.p_)(typeof ft>"u"||"string"==typeof ft),(0,I.p_)(typeof it>"u"||"boolean"==typeof it);const et=de.get(r.$),st=yield et.openCodeEditor({resource:Q},et.getFocusedCodeEditor());if((0,D.CL)(st))return st.setPosition(ye),st.revealPositionInCenterIfOutsideViewport(ye,0),st.invokeWithinContext(St=>{const mt=new class extends ge{_getNoResultFoundMessage(bt){return dt||super._getNoResultFoundMessage(bt)}}({muteMessage:!dt,openInPeek:!!it,openToSide:!1},Ae,ft);St.get(k.TG).invokeFunction(mt.run.bind(mt),st)})})}),Ce.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.o},{name:"position",description:"The position at which to start",constraint:u.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(de,Q,ye,Ae,ft)=>Me(void 0,void 0,void 0,function*(){de.get(Ce.Hy).executeCommand("editor.action.goToLocations",Q,ye,Ae,ft,void 0,!0)})}),Ce.P0.registerCommand({id:"editor.action.findReferences",handler:(de,Q,ye)=>{(0,I.p_)(b.o.isUri(Q)),(0,I.p_)(u.L.isIPosition(ye));const Ae=de.get(xe.p),ft=de.get(r.$);return ft.openCodeEditor({resource:Q},ft.getFocusedCodeEditor()).then(dt=>{if(!(0,D.CL)(dt)||!dt.hasModel())return;const it=g.J.get(dt);if(!it)return;const et=(0,l.PG)(St=>(0,Ie.aA)(Ae.referenceProvider,dt.getModel(),u.L.lift(ye),!1,St).then(mt=>new v.oQ(mt,L.NC("ref.title","References")))),st=new n.e(ye.lineNumber,ye.column,ye.lineNumber,ye.column);return Promise.resolve(it.toggleWidget(st,et,!1))})}}),Ce.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),J.BH.appendMenuItems([{id:J.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:L.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:J.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:L.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:J.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:L.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:J.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:L.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:J.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:L.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},68129:(yt,T,e)=>{"use strict";e.d(T,{L3:()=>r,aA:()=>a,f4:()=>_,nD:()=>S,zq:()=>D});var s=e(71943),t=e(3219),l=e(95102),C=e(31262),f=e(13154),I=function(n,d,y,g){return new(y||(y=Promise))(function(m,w){function E(A){try{x(g.next(A))}catch(k){w(k)}}function L(A){try{x(g.throw(A))}catch(k){w(k)}}function x(A){A.done?m(A.value):function v(m){return m instanceof y?m:new y(function(w){w(m)})}(A.value).then(E,L)}x((g=g.apply(n,d||[])).next())})};function b(n,d,y,g){const m=y.ordered(n).map(w=>Promise.resolve(g(w,n,d)).then(void 0,E=>{(0,t.Cp)(E)}));return Promise.all(m).then(w=>{const E=[];for(const L of w)Array.isArray(L)?E.push(...L):L&&E.push(L);return E})}function S(n,d,y,g){return b(d,y,n,(v,m,w)=>v.provideDefinition(m,w,g))}function D(n,d,y,g){return b(d,y,n,(v,m,w)=>v.provideDeclaration(m,w,g))}function _(n,d,y,g){return b(d,y,n,(v,m,w)=>v.provideImplementation(m,w,g))}function r(n,d,y,g){return b(d,y,n,(v,m,w)=>v.provideTypeDefinition(m,w,g))}function a(n,d,y,g,v){return b(d,y,n,(m,w,E)=>I(this,void 0,void 0,function*(){const L=yield m.provideReferences(w,E,{includeDeclaration:!0},v);if(!g||!L||2!==L.length)return L;const x=yield m.provideReferences(w,E,{includeDeclaration:!1},v);return x&&1===x.length?x:L}))}function u(n){return I(this,void 0,void 0,function*(){const d=yield n(),y=new C.oQ(d,""),g=y.references.map(v=>v.link);return y.dispose(),g})}(0,l.sb)("_executeDefinitionProvider",(n,d,y)=>{const v=S(n.get(f.p).definitionProvider,d,y,s.T.None);return u(()=>v)}),(0,l.sb)("_executeTypeDefinitionProvider",(n,d,y)=>{const v=r(n.get(f.p).typeDefinitionProvider,d,y,s.T.None);return u(()=>v)}),(0,l.sb)("_executeDeclarationProvider",(n,d,y)=>{const v=D(n.get(f.p).declarationProvider,d,y,s.T.None);return u(()=>v)}),(0,l.sb)("_executeReferenceProvider",(n,d,y)=>{const v=a(n.get(f.p).referenceProvider,d,y,!1,s.T.None);return u(()=>v)}),(0,l.sb)("_executeImplementationProvider",(n,d,y)=>{const v=_(n.get(f.p).implementationProvider,d,y,s.T.None);return u(()=>v)})},16365:(yt,T,e)=>{"use strict";e.d(T,{yN:()=>D});var s=e(31864),t=e(21576),l=e(84834);function C(_,r){return!!_[r]}class f{constructor(r,a){this.target=r.target,this.hasTriggerModifier=C(r.event,a.triggerModifier),this.hasSideBySideModifier=C(r.event,a.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=r.event.detail<=1}}class I{constructor(r,a){this.keyCodeIsTriggerKey=r.keyCode===a.triggerKey,this.keyCodeIsSideBySideKey=r.keyCode===a.triggerSideBySideKey,this.hasTriggerModifier=C(r,a.triggerModifier)}}class b{constructor(r,a,u,n){this.triggerKey=r,this.triggerModifier=a,this.triggerSideBySideKey=u,this.triggerSideBySideModifier=n}equals(r){return this.triggerKey===r.triggerKey&&this.triggerModifier===r.triggerModifier&&this.triggerSideBySideKey===r.triggerSideBySideKey&&this.triggerSideBySideModifier===r.triggerSideBySideModifier}}function S(_){return"altKey"===_?l.dz?new b(57,"metaKey",6,"altKey"):new b(5,"ctrlKey",6,"altKey"):l.dz?new b(6,"altKey",57,"metaKey"):new b(6,"altKey",5,"ctrlKey")}class D extends t.JT{constructor(r){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new s.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new s.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new s.Q5),this.onCancel=this._onCancel.event,this._editor=r,this._opts=S(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(a=>{if(a.hasChanged(72)){const u=S(this._editor.getOption(72));if(this._opts.equals(u))return;this._opts=u,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(a=>this._onEditorMouseMove(new f(a,this._opts)))),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(new f(a,this._opts)))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(new f(a,this._opts)))),this._register(this._editor.onKeyDown(a=>this._onEditorKeyDown(new I(a,this._opts)))),this._register(this._editor.onKeyUp(a=>this._onEditorKeyUp(new I(a,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(a=>this._onDidChangeCursorSelection(a))),this._register(this._editor.onDidChangeModel(a=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(r){r.selection&&r.selection.startColumn!==r.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(r){this._lastMouseMoveEvent=r,this._onMouseMoveOrRelevantKeyDown.fire([r,null])}_onEditorMouseDown(r){this._hasTriggerKeyOnMouseDown=r.hasTriggerModifier,this._lineNumberOnMouseDown=r.target.position?r.target.position.lineNumber:0}_onEditorMouseUp(r){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(r.target.position?r.target.position.lineNumber:0)&&this._onExecute.fire(r)}_onEditorKeyDown(r){this._lastMouseMoveEvent&&(r.keyCodeIsTriggerKey||r.keyCodeIsSideBySideKey&&r.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,r]):r.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(r){r.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},81065:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{GotoDefinitionAtPositionEditorContribution:()=>Ce});var s=e(41883),t=e(3219),l=e(32418),C=e(21576),f=e(22070),I=e(92123),b=e.n(I),S=e(65057),D=e.n(S),_=e(28764),r=e.n(_),a=e(6557),u=e.n(a),n=e(11146),d=e.n(n),y=e(95085),g=e.n(y),v=e(65427),m={};m.styleTagTransform=g(),m.setAttributes=u(),m.insert=r().bind(null,"head"),m.domAPI=D(),m.insertStyleElement=d(),b()(v.Z,m);var L=e(2592),x=e(95102),A=e(88154),k=e(12375),W=e(97953),H=e(16365),z=e(24049),N=e(1200),O=e(38336),K=e(6192),$=e(14089),j=e(21615),q=e(68129),R=e(13154),J=function(Se,Ie){return function(xe,Me){Ie(xe,Me,Se)}};let Ce=class sc{constructor(Ie,xe,Me,Oe){this.textModelResolverService=xe,this.languageService=Me,this.languageFeaturesService=Oe,this.toUnhook=new C.SL,this.toUnhookForKeyboard=new C.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=Ie,this.linkDecorations=this.editor.createDecorationsCollection();const se=new H.yN(Ie);this.toUnhook.add(se),this.toUnhook.add(se.onMouseMoveOrRelevantKeyDown(([ce,Ee])=>{this.startFindDefinitionFromMouse(ce,(0,f.f6)(Ee))})),this.toUnhook.add(se.onExecute(ce=>{this.isEnabled(ce)&&this.gotoDefinition(ce.target.position,ce.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},Ee=>{this.removeLinkDecorations(),(0,t.dL)(Ee)})})),this.toUnhook.add(se.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(Ie){return Ie.getContribution(sc.ID)}startFindDefinitionFromCursor(Ie){return this.startFindDefinition(Ie).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(xe=>{xe&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(Ie,xe){if(!(9===Ie.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(Ie,xe)?void this.startFindDefinition(Ie.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(Ie){var xe;this.toUnhookForKeyboard.clear();const Me=Ie?null===(xe=this.editor.getModel())||void 0===xe?void 0:xe.getWordAtPosition(Ie):null;if(!Me)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===Me.startColumn&&this.currentWordAtPosition.endColumn===Me.endColumn&&this.currentWordAtPosition.word===Me.word)return Promise.resolve(0);this.currentWordAtPosition=Me;const Oe=new L.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,s.PG)(se=>this.findDefinition(Ie,se)),this.previousPromise.then(se=>{if(se&&se.length&&Oe.validate(this.editor))if(se.length>1)this.addDecoration(new A.e(Ie.lineNumber,Me.startColumn,Ie.lineNumber,Me.endColumn),(new l.W5).appendText(N.NC("multipleResults","Click to show {0} definitions.",se.length)));else{const ce=se[0];if(!ce.uri)return;this.textModelResolverService.createModelReference(ce.uri).then(Ee=>{if(!Ee.object||!Ee.object.textEditorModel)return void Ee.dispose();const{object:{textEditorModel:me}}=Ee,{startLineNumber:Pe}=ce.range;if(Pe<1||Pe>me.getLineCount())return void Ee.dispose();const he=this.getPreviewValue(me,Pe,ce);let Fe;Fe=ce.originSelectionRange?A.e.lift(ce.originSelectionRange):new A.e(Ie.lineNumber,Me.startColumn,Ie.lineNumber,Me.endColumn);const Ze=this.languageService.guessLanguageIdByFilepathOrFirstLine(me.uri);this.addDecoration(Fe,(new l.W5).appendCodeblock(Ze||"",he)),Ee.dispose()})}else this.removeLinkDecorations()}).then(void 0,t.dL)}getPreviewValue(Ie,xe,Me){let Oe=Me.range;return Oe.endLineNumber-Oe.startLineNumber>=sc.MAX_SOURCE_PREVIEW_LINES&&(Oe=this.getPreviewRangeBasedOnIndentation(Ie,xe)),this.stripIndentationFromPreviewRange(Ie,xe,Oe)}stripIndentationFromPreviewRange(Ie,xe,Me){let se=Ie.getLineFirstNonWhitespaceColumn(xe);for(let Ee=xe+1;Ee<Me.endLineNumber;Ee++){const me=Ie.getLineFirstNonWhitespaceColumn(Ee);se=Math.min(se,me)}return Ie.getValueInRange(Me).replace(new RegExp(`^\\s{${se-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(Ie,xe){const Me=Ie.getLineFirstNonWhitespaceColumn(xe),Oe=Math.min(Ie.getLineCount(),xe+sc.MAX_SOURCE_PREVIEW_LINES);let se=xe+1;for(;se<Oe&&Me!==Ie.getLineFirstNonWhitespaceColumn(se);se++);return new A.e(xe,1,se+1,1)}addDecoration(Ie,xe){this.linkDecorations.set([{range:Ie,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:xe}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(Ie,xe){return this.editor.hasModel()&&Ie.isNoneOrSingleMouseDown&&6===Ie.target.type&&(Ie.hasTriggerModifier||!!xe&&xe.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(Ie,xe){const Me=this.editor.getModel();return Me?(0,q.nD)(this.languageFeaturesService.definitionProvider,Me,Ie,xe):Promise.resolve(null)}gotoDefinition(Ie,xe){return this.editor.setPosition(Ie),this.editor.invokeWithinContext(Me=>{const Oe=!xe&&this.editor.getOption(80)&&!this.isInPeekEditor(Me);return new j.DefinitionAction({openToSide:xe,openInPeek:Oe,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(Me,this.editor)})}isInPeekEditor(Ie){const xe=Ie.get(O.i6);return z.Jy.inPeekEditor.getValue(xe)}dispose(){this.toUnhook.dispose()}};Ce.ID="editor.contrib.gotodefinitionatposition",Ce.MAX_SOURCE_PREVIEW_LINES=8,Ce=function(Se,Ie,xe,Me){var ce,Oe=arguments.length,se=Oe<3?Ie:null===Me?Me=Object.getOwnPropertyDescriptor(Ie,xe):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(Se,Ie,xe,Me);else for(var Ee=Se.length-1;Ee>=0;Ee--)(ce=Se[Ee])&&(se=(Oe<3?ce(se):Oe>3?ce(Ie,xe,se):ce(Ie,xe))||se);return Oe>3&&se&&Object.defineProperty(Ie,xe,se),se}([J(1,W.S),J(2,k.O),J(3,R.p)],Ce),(0,x._K)(Ce.ID,Ce),(0,$.Ic)((Se,Ie)=>{const xe=Se.getColor(K._Yy);xe&&Ie.addRule(`.monaco-editor .goto-definition-link { color: ${xe} !important; }`)})},19110:(yt,T,e)=>{"use strict";e.d(T,{J:()=>qt});var s=e(41883),t=e(3219),l=e(32133),C=e(21576),f=e(60896),I=e(13902),b=e(88154),S=e(24049),D=e(1200),_=e(34468),r=e(56767),a=e(38336),u=e(30888),n=e(47545),d=e(75239),y=e(83916),g=e(22735),v=e(31262),m=e(94418),w=e(11587),E=e(84968),L=e(31864),x=e(34059),A=e(9590),k=e(92123),W=e.n(k),H=e(65057),z=e.n(H),N=e(28764),O=e.n(N),K=e(6557),$=e.n(K),j=e(11146),q=e.n(j),R=e(95085),Z=e.n(R),J=e(25111),Ce={};Ce.styleTagTransform=Z(),Ce.setAttributes=$(),Ce.insert=O().bind(null,"head"),Ce.domAPI=z(),Ce.insertStyleElement=q(),W()(J.Z,Ce);var xe=e(70248),Me=e(53727),Oe=e(15333),se=e(61669),ce=e(12375),Ee=e(97953),me=e(29348),Pe=e(38831),he=e(51970),Fe=e(19623),Ze=e(54980),ze=e(79889),fe=e(73516),Ke=e(14089),Je=function(Ft,rt,Le,ie){var we,te=arguments.length,oe=te<3?rt:null===ie?ie=Object.getOwnPropertyDescriptor(rt,Le):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(Ft,rt,Le,ie);else for(var nt=Ft.length-1;nt>=0;nt--)(we=Ft[nt])&&(oe=(te<3?we(oe):te>3?we(rt,Le,oe):we(rt,Le))||oe);return te>3&&oe&&Object.defineProperty(rt,Le,oe),oe},vt=function(Ft,rt){return function(Le,ie){rt(Le,ie,Ft)}};let Et=class{constructor(rt){this._resolverService=rt}hasChildren(rt){return rt instanceof v.oQ||rt instanceof v.F2}getChildren(rt){if(rt instanceof v.oQ)return rt.groups;if(rt instanceof v.F2)return rt.resolve(this._resolverService).then(Le=>Le.children);throw new Error("bad tree")}};Et=Je([vt(0,Ee.S)],Et);class Xe{getHeight(){return 23}getTemplateId(rt){return rt instanceof v.F2?de.id:ye.id}}let re=class{constructor(rt){this._keybindingService=rt}getKeyboardNavigationLabel(rt){var Le;if(rt instanceof v.WX){const ie=null===(Le=rt.parent.getPreview(rt))||void 0===Le?void 0:Le.preview(rt.range);if(ie)return ie.value}return(0,A.EZ)(rt.uri)}};re=Je([vt(0,Ze.d)],re);class pe{getId(rt){return rt instanceof v.WX?rt.id:rt.uri}}let ge=class extends C.JT{constructor(rt,Le,ie){super(),this._labelService=Le;const te=document.createElement("div");te.classList.add("reference-file"),this.file=this._register(new he.g(te,{supportHighlights:!0})),this.badge=new me.Z(m.R3(te,m.$(".count"))),this._register((0,fe.WZ)(this.badge,ie)),rt.appendChild(te)}set(rt,Le){const ie=(0,A.XX)(rt.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(rt.uri),this._labelService.getUriLabel(ie,{relative:!0}),{title:this._labelService.getUriLabel(rt.uri),matches:Le});const te=rt.children.length;this.badge.setCount(te),this.badge.setTitleFormat(te>1?(0,D.NC)("referencesCount","{0} references",te):(0,D.NC)("referenceCount","{0} reference",te))}};ge=Je([vt(1,ze.e),vt(2,Ke.XE)],ge);let de=class Pu{constructor(rt){this._instantiationService=rt,this.templateId=Pu.id}renderTemplate(rt){return this._instantiationService.createInstance(ge,rt)}renderElement(rt,Le,ie){ie.set(rt.element,(0,Fe.mB)(rt.filterData))}disposeTemplate(rt){rt.dispose()}};de.id="FileReferencesRenderer",de=Je([vt(0,u.TG)],de);class Q{constructor(rt){this.label=new Pe.q(rt)}set(rt,Le){var ie;const te=null===(ie=rt.parent.getPreview(rt))||void 0===ie?void 0:ie.preview(rt.range);if(te&&te.value){const{value:oe,highlight:we}=te;Le&&!Fe.CL.isDefault(Le)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(oe,(0,Fe.mB)(Le))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(oe,[we]))}else this.label.set(`${(0,A.EZ)(rt.uri)}:${rt.range.startLineNumber+1}:${rt.range.startColumn+1}`)}}let ye=(()=>{class Ft{constructor(){this.templateId=Ft.id}renderTemplate(Le){return new Q(Le)}renderElement(Le,ie,te){te.set(Le.element,Le.filterData)}disposeTemplate(){}}return Ft.id="OneReferenceRenderer",Ft})();class Ae{getWidgetAriaLabel(){return(0,D.NC)("treeAriaLabel","References")}getAriaLabel(rt){return rt.ariaMessage}}var ft=e(87532),it=function(Ft,rt){return function(Le,ie){rt(Le,ie,Ft)}},et=function(Ft,rt,Le,ie){return new(Le||(Le=Promise))(function(oe,we){function nt(pt){try{De(ie.next(pt))}catch(lt){we(lt)}}function He(pt){try{De(ie.throw(pt))}catch(lt){we(lt)}}function De(pt){pt.done?oe(pt.value):function te(oe){return oe instanceof Le?oe:new Le(function(we){we(oe)})}(pt.value).then(nt,He)}De((ie=ie.apply(Ft,rt||[])).next())})};class st{constructor(rt,Le){this._editor=rt,this._model=Le,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new C.SL,this._callOnModelChange=new C.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const rt=this._editor.getModel();if(rt)for(const Le of this._model.references)if(Le.uri.toString()===rt.uri.toString())return void this._addDecorations(Le.parent)}_addDecorations(rt){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const Le=[],ie=[];for(let te=0,oe=rt.children.length;te<oe;te++){const we=rt.children[te];this._decorationIgnoreSet.has(we.id)||we.uri.toString()===this._editor.getModel().uri.toString()&&(Le.push({range:we.range,options:st.DecorationOptions}),ie.push(te))}this._editor.changeDecorations(te=>{const oe=te.deltaDecorations([],Le);for(let we=0;we<oe.length;we++)this._decorations.set(oe[we],rt.children[ie[we]])})}_onDecorationChanged(){const rt=[],Le=this._editor.getModel();if(Le){for(const[ie,te]of this._decorations){const oe=Le.getDecorationRange(ie);if(!oe)continue;let we=!1;b.e.equalsRange(oe,te.range)||((b.e.spansMultipleLines(oe)||te.range.endColumn-te.range.startColumn!=oe.endColumn-oe.startColumn)&&(we=!0),we?(this._decorationIgnoreSet.add(te.id),rt.push(ie)):te.range=oe)}for(let ie=0,te=rt.length;ie<te;ie++)this._decorations.delete(rt[ie]);this._editor.removeDecorations(rt)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}st.DecorationOptions=Me.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class St{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(rt){let Le,ie;try{const te=JSON.parse(rt);Le=te.ratio,ie=te.heightInLines}catch{}return{ratio:Le||.7,heightInLines:ie||18}}}class mt extends d.ls{}let bt=class extends S.vk{constructor(rt,Le,ie,te,oe,we,nt,He,De,pt,lt,Ht){super(rt,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},we),this._defaultTreeKeyboardSupport=Le,this.layoutData=ie,this._textModelResolverService=oe,this._instantiationService=we,this._peekViewService=nt,this._uriLabel=He,this._undoRedoService=De,this._keybindingService=pt,this._languageService=lt,this._languageConfigurationService=Ht,this._disposeOnNewModel=new C.SL,this._callOnDispose=new C.SL,this._onDidSelectReference=new L.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new m.Ro(0,0),this._applyTheme(te.getColorTheme()),this._callOnDispose.add(te.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(rt,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,C.B9)(this._preview),(0,C.B9)(this._previewNotAvailableMessage),(0,C.B9)(this._tree),(0,C.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(rt){const Le=rt.getColor(S.SC)||E.Il.transparent;this.style({arrowColor:Le,frameColor:Le,headerBackgroundColor:rt.getColor(S.KY)||E.Il.transparent,primaryHeadingColor:rt.getColor(S.IH),secondaryHeadingColor:rt.getColor(S.R7)})}show(rt){super.show(rt,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(rt){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:rt.ctrlKey||rt.metaKey||rt.altKey?"side":"open",source:"title"})}_fillBody(rt){this.setCssClass("reference-zone-widget"),this._messageContainer=m.R3(rt,m.$("div.messages")),m.Cp(this._messageContainer),this._splitView=new w.z(rt,{orientation:1}),this._previewContainer=m.R3(rt,m.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(xe.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),m.Cp(this._previewContainer),this._previewNotAvailableMessage=new Me.yO(D.NC("missingPreviewMessage","no preview available"),se.bd,Me.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=m.R3(rt,m.$("div.ref-tree.inline"));const ie={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Ae,keyboardNavigationLabelProvider:this._instantiationService.createInstance(re),identityProvider:new pe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:S.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(m.mu(this._treeContainer,"keydown",oe=>{oe.equals(9)&&(this._keybindingService.dispatchEvent(oe,oe.target),oe.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(mt,"ReferencesWidget",this._treeContainer,new Xe,[this._instantiationService.createInstance(de),this._instantiationService.createInstance(ye)],this._instantiationService.createInstance(Et),ie),this._splitView.addView({onDidChange:L.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:oe=>{this._preview.layout({height:this._dim.height,width:oe})}},w.M.Distribute),this._splitView.addView({onDidChange:L.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:oe=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${oe}px`,this._tree.layout(this._dim.height,oe)}},w.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const te=(oe,we)=>{oe instanceof v.WX&&("show"===we&&this._revealReference(oe,!1),this._onDidSelectReference.fire({element:oe,kind:we,source:"tree"}))};this._tree.onDidOpen(oe=>{te(oe.element,oe.sideBySide?"side":oe.editorOptions.pinned?"goto":"show")}),m.Cp(this._treeContainer)}_onWidth(rt){this._dim&&this._doLayoutBody(this._dim.height,rt)}_doLayoutBody(rt,Le){super._doLayoutBody(rt,Le),this._dim=new m.Ro(Le,rt),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(Le),this._splitView.resizeView(0,Le*this.layoutData.ratio)}setSelection(rt){return this._revealReference(rt,!0).then(()=>{this._model&&(this._tree.setSelection([rt]),this._tree.setFocus([rt]))})}setModel(rt){return this._disposeOnNewModel.clear(),this._model=rt,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=D.NC("noResults","No results"),m.$Z(this._messageContainer),Promise.resolve(void 0)):(m.Cp(this._messageContainer),this._decorationsManager=new st(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(rt=>this._tree.rerender(rt))),this._disposeOnNewModel.add(this._preview.onMouseDown(rt=>{const{event:Le,target:ie}=rt;if(2!==Le.detail)return;const te=this._getFocusedReference();te&&this._onDidSelectReference.fire({element:{uri:te.uri,range:ie.range},kind:Le.ctrlKey||Le.metaKey||Le.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),m.$Z(this._treeContainer),m.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[rt]=this._tree.getFocus();return rt instanceof v.WX?rt:rt instanceof v.F2&&rt.children.length>0?rt.children[0]:void 0}revealReference(rt){return et(this,void 0,void 0,function*(){yield this._revealReference(rt,!1),this._onDidSelectReference.fire({element:rt,kind:"goto",source:"tree"})})}_revealReference(rt,Le){return et(this,void 0,void 0,function*(){if(this._revealedReference===rt)return;this._revealedReference=rt,rt.uri.scheme!==x.lg.inMemory?this.setTitle((0,A.Hx)(rt.uri),this._uriLabel.getUriLabel((0,A.XX)(rt.uri))):this.setTitle(D.NC("peekView.alternateTitle","References"));const ie=this._textModelResolverService.createModelReference(rt.uri);this._tree.getInput()===rt.parent||(Le&&this._tree.reveal(rt.parent),yield this._tree.expand(rt.parent)),this._tree.reveal(rt);const te=yield ie;if(!this._model)return void te.dispose();(0,C.B9)(this._previewModelReference);const oe=te.object;if(oe){const we=this._preview.getModel()===oe.textEditorModel?0:1,nt=b.e.lift(rt.range).collapseToStart();this._previewModelReference=te,this._preview.setModel(oe.textEditorModel),this._preview.setSelection(nt),this._preview.revealRangeInCenter(nt,we)}else this._preview.setModel(this._previewNotAvailableMessage),te.dispose()})}};bt=function(Ft,rt,Le,ie){var we,te=arguments.length,oe=te<3?rt:null===ie?ie=Object.getOwnPropertyDescriptor(rt,Le):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(Ft,rt,Le,ie);else for(var nt=Ft.length-1;nt>=0;nt--)(we=Ft[nt])&&(oe=(te<3?we(oe):te>3?we(rt,Le,oe):we(rt,Le))||oe);return te>3&&oe&&Object.defineProperty(rt,Le,oe),oe}([it(3,Ke.XE),it(4,Ee.S),it(5,u.TG),it(6,S.Fw),it(7,ze.e),it(8,ft.tJ),it(9,Ze.d),it(10,ce.O),it(11,Oe.c_)],bt);var Lt=function(Ft,rt){return function(Le,ie){rt(Le,ie,Ft)}},Ye=function(Ft,rt,Le,ie){return new(Le||(Le=Promise))(function(oe,we){function nt(pt){try{De(ie.next(pt))}catch(lt){we(lt)}}function He(pt){try{De(ie.throw(pt))}catch(lt){we(lt)}}function De(pt){pt.done?oe(pt.value):function te(oe){return oe instanceof Le?oe:new Le(function(we){we(oe)})}(pt.value).then(nt,He)}De((ie=ie.apply(Ft,rt||[])).next())})};const Tt=new a.uy("referenceSearchVisible",!1,D.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let qt=class Xc{constructor(rt,Le,ie,te,oe,we,nt,He){this._defaultTreeKeyboardSupport=rt,this._editor=Le,this._editorService=te,this._notificationService=oe,this._instantiationService=we,this._storageService=nt,this._configurationService=He,this._disposables=new C.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Tt.bindTo(ie)}static get(rt){return rt.getContribution(Xc.ID)}dispose(){var rt,Le;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(rt=this._widget)||void 0===rt||rt.dispose(),null===(Le=this._model)||void 0===Le||Le.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(rt,Le,ie){let te;if(this._widget&&(te=this._widget.position),this.closeWidget(),te&&rt.containsPosition(te))return;this._peekMode=ie,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const oe="peekViewLayout",we=St.fromJSON(this._storageService.get(oe,0,"{}"));this._widget=this._instantiationService.createInstance(bt,this._editor,this._defaultTreeKeyboardSupport,we),this._widget.setTitle(D.NC("labelLoading","Loading...")),this._widget.show(rt),this._disposables.add(this._widget.onDidClose(()=>{Le.cancel(),this._widget&&(this._storageService.store(oe,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(He=>{const{element:De,kind:pt}=He;if(De)switch(pt){case"open":("editor"!==He.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(De,!1,!1);break;case"side":this.openReference(De,!0,!1);break;case"goto":ie?this._gotoReference(De):this.openReference(De,!1,!0)}}));const nt=++this._requestIdPool;Le.then(He=>{var De;if(nt===this._requestIdPool&&this._widget)return null===(De=this._model)||void 0===De||De.dispose(),this._model=He,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":D.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const pt=this._editor.getModel().uri,lt=new I.L(rt.startLineNumber,rt.startColumn),Ht=this._model.nearestReference(pt,lt);if(Ht)return this._widget.setSelection(Ht).then(()=>{this._widget&&"editor"===this._editor.getOption(79)&&this._widget.focusOnPreviewEditor()})}});He.dispose()},He=>{this._notificationService.error(He)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(rt){return Ye(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const Le=this._widget.position;if(!Le)return;const ie=this._model.nearestReference(this._editor.getModel().uri,Le);if(!ie)return;const te=this._model.nextOrPreviousReference(ie,rt),oe=this._editor.hasTextFocus(),we=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(te),yield this._gotoReference(te),oe?this._editor.focus():this._widget&&we&&this._widget.focusOnPreviewEditor()})}revealReference(rt){return Ye(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(rt))})}closeWidget(rt=!0){var Le,ie;null===(Le=this._widget)||void 0===Le||Le.dispose(),null===(ie=this._model)||void 0===ie||ie.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,rt&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(rt){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const Le=b.e.lift(rt.range).collapseToStart();return this._editorService.openCodeEditor({resource:rt.uri,options:{selection:Le,selectionSource:"code.jump"}},this._editor).then(ie=>{var te;if(this._ignoreModelChangeEvent=!1,ie&&this._widget)if(this._editor===ie)this._widget.show(Le),this._widget.focusOnReferenceTree();else{const oe=Xc.get(ie),we=this._model.clone();this.closeWidget(),ie.focus(),oe?.toggleWidget(Le,(0,s.PG)(nt=>Promise.resolve(we)),null!==(te=this._peekMode)&&void 0!==te&&te)}else this.closeWidget()},ie=>{this._ignoreModelChangeEvent=!1,(0,t.dL)(ie)})}openReference(rt,Le,ie){Le||this.closeWidget();const{uri:te,range:oe}=rt;this._editorService.openCodeEditor({resource:te,options:{selection:oe,selectionSource:"code.jump",pinned:ie}},this._editor,Le)}};function Ot(Ft,rt){const Le=(0,S.rc)(Ft);if(!Le)return;const ie=qt.get(Le);ie&&rt(ie)}qt.ID="editor.contrib.referencesController",qt=function(Ft,rt,Le,ie){var we,te=arguments.length,oe=te<3?rt:null===ie?ie=Object.getOwnPropertyDescriptor(rt,Le):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(Ft,rt,Le,ie);else for(var nt=Ft.length-1;nt>=0;nt--)(we=Ft[nt])&&(oe=(te<3?we(oe):te>3?we(rt,Le,oe):we(rt,Le))||oe);return te>3&&oe&&Object.defineProperty(rt,Le,oe),oe}([Lt(2,a.i6),Lt(3,f.$),Lt(4,y.lT),Lt(5,u.TG),Lt(6,g.Uy),Lt(7,r.Ui)],qt),n.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,l.gx)(2089,60),when:a.Ao.or(Tt,S.Jy.inPeekEditor),handler(Ft){Ot(Ft,rt=>{rt.changeFocusBetweenPreviewAndReferences()})}}),n.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:a.Ao.or(Tt,S.Jy.inPeekEditor),handler(Ft){Ot(Ft,rt=>{rt.goToNextOrPreviousReference(!0)})}}),n.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:a.Ao.or(Tt,S.Jy.inPeekEditor),handler(Ft){Ot(Ft,rt=>{rt.goToNextOrPreviousReference(!1)})}}),_.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),_.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),_.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),_.P0.registerCommand("closeReferenceSearch",Ft=>Ot(Ft,rt=>rt.closeWidget())),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:a.Ao.and(S.Jy.inPeekEditor,a.Ao.not("config.editor.stablePeek"))}),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:a.Ao.and(Tt,a.Ao.not("config.editor.stablePeek"))}),n.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:a.Ao.and(Tt,d.CQ,d.PS.negate(),d.uJ.negate()),handler(Ft){var rt;const ie=null===(rt=Ft.get(d.Lw).lastFocusedList)||void 0===rt?void 0:rt.getFocus();Array.isArray(ie)&&ie[0]instanceof v.WX&&Ot(Ft,te=>te.revealReference(ie[0]))}}),n.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:a.Ao.and(Tt,d.CQ,d.PS.negate(),d.uJ.negate()),handler(Ft){var rt;const ie=null===(rt=Ft.get(d.Lw).lastFocusedList)||void 0===rt?void 0:rt.getFocus();Array.isArray(ie)&&ie[0]instanceof v.WX&&Ot(Ft,te=>te.openReference(ie[0],!0,!0))}}),_.P0.registerCommand("openReference",Ft=>{var rt;const ie=null===(rt=Ft.get(d.Lw).lastFocusedList)||void 0===rt?void 0:rt.getFocus();Array.isArray(ie)&&ie[0]instanceof v.WX&&Ot(Ft,te=>te.openReference(ie[0],!1,!0))})},31262:(yt,T,e)=>{"use strict";e.d(T,{F2:()=>u,WX:()=>r,oQ:()=>n});var s=e(3219),t=e(31864),l=e(42700),C=e(21576),f=e(63312),I=e(9590),b=e(77697),S=e(88154),D=e(1200);class r{constructor(y,g,v,m){this.isProviderFirst=y,this.parent=g,this.link=v,this._rangeCallback=m,this.id=l.a.nextId()}get uri(){return this.link.uri}get range(){var y,g;return null!==(g=null!==(y=this._range)&&void 0!==y?y:this.link.targetSelectionRange)&&void 0!==g?g:this.link.range}set range(y){this._range=y,this._rangeCallback(this)}get ariaMessage(){var y;const g=null===(y=this.parent.getPreview(this))||void 0===y?void 0:y.preview(this.range);return g?(0,D.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,I.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,g.value):(0,D.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,I.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class a{constructor(y){this._modelReference=y}dispose(){this._modelReference.dispose()}preview(y,g=8){const v=this._modelReference.object.textEditorModel;if(!v)return;const{startLineNumber:m,startColumn:w,endLineNumber:E,endColumn:L}=y,x=v.getWordUntilPosition({lineNumber:m,column:w-g}),A=new S.e(m,x.startColumn,m,w),k=new S.e(E,L,E,1073741824),W=v.getValueInRange(A).replace(/^\s+/,""),H=v.getValueInRange(y);return{value:W+H+v.getValueInRange(k).replace(/\s+$/,""),highlight:{start:W.length,end:W.length+H.length}}}}class u{constructor(y,g){this.parent=y,this.uri=g,this.children=[],this._previews=new f.Y9}dispose(){(0,C.B9)(this._previews.values()),this._previews.clear()}getPreview(y){return this._previews.get(y.uri)}get ariaMessage(){const y=this.children.length;return 1===y?(0,D.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,I.EZ)(this.uri),this.uri.fsPath):(0,D.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",y,(0,I.EZ)(this.uri),this.uri.fsPath)}resolve(y){return function(d,y,g,v){return new(g||(g=Promise))(function(w,E){function L(k){try{A(v.next(k))}catch(W){E(W)}}function x(k){try{A(v.throw(k))}catch(W){E(W)}}function A(k){k.done?w(k.value):function m(w){return w instanceof g?w:new g(function(E){E(w)})}(k.value).then(L,x)}A((v=v.apply(d,y||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(const g of this.children)if(!this._previews.has(g.uri))try{const v=yield y.createModelReference(g.uri);this._previews.set(g.uri,new a(v))}catch(v){(0,s.dL)(v)}return this})}}class n{constructor(y,g){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new t.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=y,this._title=g;const[v]=y;let m;y.sort(n._compareReferences);for(const w of y)if((!m||!I.SF.isEqual(m.uri,w.uri,!0))&&(m=new u(this,w.uri),this.groups.push(m)),0===m.children.length||0!==n._compareReferences(w,m.children[m.children.length-1])){const E=new r(v===w,m,w,L=>this._onDidChangeReferenceRange.fire(L));this.references.push(E),m.children.push(E)}}dispose(){(0,C.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,D.NC)("aria.result.0","No results found"):1===this.references.length?(0,D.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,D.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,D.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(y,g){const{parent:v}=y;let m=v.children.indexOf(y);const w=v.children.length,E=v.parent.groups.length;return 1===E||g&&m+1<w||!g&&m>0?(m=g?(m+1)%w:(m+w-1)%w,v.children[m]):(m=v.parent.groups.indexOf(v),g?(m=(m+1)%E,v.parent.groups[m].children[0]):(m=(m+E-1)%E,v.parent.groups[m].children[v.parent.groups[m].children.length-1]))}nearestReference(y,g){const v=this.references.map((m,w)=>({idx:w,prefixLen:b.Mh(m.uri.toString(),y.toString()),offsetDist:100*Math.abs(m.range.startLineNumber-g.lineNumber)+Math.abs(m.range.startColumn-g.column)})).sort((m,w)=>m.prefixLen>w.prefixLen?-1:m.prefixLen<w.prefixLen?1:m.offsetDist<w.offsetDist?-1:m.offsetDist>w.offsetDist?1:0)[0];if(v)return this.references[v.idx]}referenceAt(y,g){for(const v of this.references)if(v.uri.toString()===y.toString()&&S.e.containsPosition(v.range,g))return v}firstReference(){for(const y of this.references)if(y.isProviderFirst)return y;return this.references[0]}static _compareReferences(y,g){return I.SF.compare(y.uri,g.uri)||S.e.compareRangesUsingStarts(y.range,g.range)}}},83777:(yt,T,e)=>{"use strict";e.d(T,{R8:()=>D});var s=e(41883),t=e(71943),l=e(3219),C=e(95102),f=e(13154),I=function(a,u,n,d){return new(n||(n=Promise))(function(g,v){function m(L){try{E(d.next(L))}catch(x){v(x)}}function w(L){try{E(d.throw(L))}catch(x){v(x)}}function E(L){L.done?g(L.value):function y(g){return g instanceof n?g:new n(function(v){v(g)})}(L.value).then(m,w)}E((d=d.apply(a,u||[])).next())})};class b{constructor(u,n,d){this.provider=u,this.hover=n,this.ordinal=d}}function D(a,u,n,d){const g=a.ordered(u).map((v,m)=>function S(a,u,n,d,y){return I(this,void 0,void 0,function*(){try{const g=yield Promise.resolve(a.provideHover(n,d,y));if(g&&function r(a){return typeof a.range<"u"&&typeof a.contents<"u"&&a.contents&&a.contents.length>0}(g))return new b(a,g,u)}catch(g){(0,l.Cp)(g)}})}(v,m,u,n,d));return s.Aq.fromPromises(g).coalesce()}(0,C.sb)("_executeHoverProvider",(a,u,n)=>function _(a,u,n,d){return D(a,u,n,d).map(y=>y.hover).toPromise()}(a.get(f.p).hoverProvider,u,n,t.T.None))},83303:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{ModesHoverController:()=>rt});var s=e(32133),t=e(21576),l=e(95102),C=e(88154),f=e(72325),I=e(12375),b=e(81065),S=e(94418),D=e(47888),_=e(2654),r=e(92123),a=e.n(r),u=e(65057),n=e.n(u),d=e(28764),y=e.n(d),g=e(6557),v=e.n(g),m=e(11146),w=e.n(m),E=e(95085),L=e.n(E),x=e(6105),A={};A.styleTagTransform=L(),A.setAttributes=v(),A.insert=y().bind(null,"head"),A.domAPI=n(),A.insertStyleElement=w(),a()(x.Z,A);const H=S.$;class z extends t.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new _.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class N extends t.JT{constructor(oe,we,nt){super(),this.actionContainer=S.R3(oe,H("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=S.R3(this.actionContainer,H("a.action")),this.action.setAttribute("role","button"),we.iconClass&&S.R3(this.action,H(`span.icon.${we.iconClass}`)),S.R3(this.action,H("span")).textContent=nt?`${we.label} (${nt})`:we.label,this._register(S.nm(this.actionContainer,S.tw.CLICK,De=>{De.stopPropagation(),De.preventDefault(),we.run(this.actionContainer)})),this._register(S.nm(this.actionContainer,S.tw.KEY_UP,De=>{new D.y(De).equals(3)&&(De.stopPropagation(),De.preventDefault(),we.run(this.actionContainer))})),this.setEnabled(!0)}static render(oe,we,nt){return new N(oe,we,nt)}setEnabled(oe){oe?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var O=e(14940),K=e(13902),$=e(53727),j=e(64050),q=e(41883),R=e(3219),Z=e(31864);class Se{constructor(oe,we,nt){this.value=oe,this.isComplete=we,this.hasLoadingMessage=nt}}class Ie extends t.JT{constructor(oe,we){super(),this._editor=oe,this._computer=we,this._onResult=this._register(new Z.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new q.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new q.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new q.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(oe,we=!0){this._state=oe,we&&this._fireResult()}_triggerAsyncComputation(){var te,oe,we,nt;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,q.zS)(oe=>this._computer.computeAsync(oe)),te=this,oe=void 0,nt=function*(){var oe,we;try{try{for(var He,nt=function(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,oe=te[Symbol.asyncIterator];return oe?oe.call(te):(te="function"==typeof __values?__values(te):te[Symbol.iterator](),we={},nt("next"),nt("throw"),nt("return"),we[Symbol.asyncIterator]=function(){return this},we);function nt(De){we[De]=te[De]&&function(pt){return new Promise(function(lt,Ht){!function He(De,pt,lt,Ht){Promise.resolve(Ht).then(function(Xt){De({value:Xt,done:lt})},pt)}(lt,Ht,(pt=te[De](pt)).done,pt.value)})}}}(this._asyncIterable);!(He=yield nt.next()).done;){const De=He.value;De&&(this._result.push(De),this._fireResult())}}catch(De){oe={error:De}}finally{try{He&&!He.done&&(we=nt.return)&&(yield we.call(nt))}finally{if(oe)throw oe.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(De){(0,R.dL)(De)}},new((we=void 0)||(we=Promise))(function(De,pt){function lt(ut){try{Xt(nt.next(ut))}catch(an){pt(an)}}function Ht(ut){try{Xt(nt.throw(ut))}catch(an){pt(an)}}function Xt(ut){ut.done?De(ut.value):function He(De){return De instanceof we?De:new we(function(pt){pt(De)})}(ut.value).then(lt,Ht)}Xt((nt=nt.apply(te,oe||[])).next())})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const oe=0===this._state,we=4===this._state;this._onResult.fire(new Se(this._result.slice(0),oe,we))}start(oe){if(0===oe)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var xe=e(46654),Me=e(38336),Oe=e(30888),se=e(54980),ce=e(10446),Ee=function(te,oe,we,nt){var pt,He=arguments.length,De=He<3?oe:null===nt?nt=Object.getOwnPropertyDescriptor(oe,we):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(te,oe,we,nt);else for(var lt=te.length-1;lt>=0;lt--)(pt=te[lt])&&(De=(He<3?pt(De):He>3?pt(oe,we,De):pt(oe,we))||De);return He>3&&De&&Object.defineProperty(oe,we,De),De},me=function(te,oe){return function(we,nt){oe(we,nt,te)}};const Pe=S.$;let he=class Jc extends t.JT{constructor(oe,we,nt){super(),this._editor=oe,this._instantiationService=we,this._keybindingService=nt,this._widget=this._register(this._instantiationService.createInstance(Ze,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const He of xe.Ae.getAll())this._participants.push(this._instantiationService.createInstance(He,this._editor));this._participants.sort((He,De)=>He.hoverOrdinal-De.hoverOrdinal),this._computer=new fe(this._editor,this._participants),this._hoverOperation=this._register(new Ie(this._editor,this._computer)),this._register(this._hoverOperation.onResult(He=>{this._withResult(He.value,He.isComplete,He.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(S.mu(this._widget.getDomNode(),"keydown",He=>{He.equals(9)&&this.hide()})),this._register(j.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(oe){const we=[];for(const He of this._participants)if(He.suggestHoverAnchor){const De=He.suggestHoverAnchor(oe);De&&we.push(De)}const nt=oe.target;if(6===nt.type&&we.push(new xe.Qj(0,nt.range)),7===nt.type){const He=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!nt.detail.isAfterLines&&"number"==typeof nt.detail.horizontalDistanceToText&&nt.detail.horizontalDistanceToText<He&&we.push(new xe.Qj(0,nt.range))}return 0!==we.length&&(we.sort((He,De)=>De.priority-He.priority),this._startShowingAt(we[0],0,!1),!0)}startShowingAtRange(oe,we,nt){this._startShowingAt(new xe.Qj(0,oe),we,nt)}_startShowingAt(oe,we,nt){if(!this._computer.anchor||!this._computer.anchor.equals(oe)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&oe.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const He=this._messages.filter(De=>De.isValidForHoverAnchor(oe));if(0===He.length)this.hide();else{if(He.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(oe,He)}}else this.hide();this._computer.anchor=oe,this._computer.shouldFocus=nt,this._hoverOperation.start(we)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(oe){return this._widget.getDomNode().contains(oe)}_addLoadingMessage(oe){if(this._computer.anchor)for(const we of this._participants)if(we.createLoadingMessage){const nt=we.createLoadingMessage(this._computer.anchor);if(nt)return oe.slice(0).concat([nt])}return oe}_withResult(oe,we,nt){this._messages=nt?this._addLoadingMessage(oe):oe,this._messagesAreComplete=we,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):we&&this.hide()}_renderMessages(oe,we){const{showAtPosition:nt,showAtRange:He,highlightRange:De}=Jc.computeHoverRanges(oe.range,we),pt=new t.SL,lt=pt.add(new ze(this._keybindingService)),Ht=document.createDocumentFragment();let Xt=null;const ut={fragment:Ht,statusBar:lt,setColorPicker:an=>Xt=an,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const an of this._participants){const Kn=we.filter(Gn=>Gn.owner===an);Kn.length>0&&pt.add(an.renderHoverParts(ut,Kn))}if(lt.hasContent&&Ht.appendChild(lt.hoverElement),Ht.hasChildNodes()){if(De){const an=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,an.set([{range:De,options:Jc._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}pt.add((0,t.OF)(()=>{try{this._isChangingDecorations=!0,an.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(Ht,new Fe(Xt,nt,He,this._editor.getOption(55).above,this._computer.shouldFocus,pt))}else pt.dispose()}static computeHoverRanges(oe,we){const nt=oe.startLineNumber;let He=oe.startColumn,De=oe.endColumn,pt=we[0].range,lt=null;for(const Ht of we)pt=C.e.plusRange(pt,Ht.range),Ht.range.startLineNumber===nt&&Ht.range.endLineNumber===nt&&(He=Math.min(He,Ht.range.startColumn),De=Math.max(De,Ht.range.endColumn)),Ht.forceShowAtRange&&(lt=Ht.range);return{showAtPosition:lt?lt.getStartPosition():new K.L(oe.startLineNumber,He),showAtRange:lt||new C.e(nt,He,nt,De),highlightRange:pt}}};he._DECORATION_OPTIONS=$.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),he=Ee([me(1,Oe.TG),me(2,se.d)],he);class Fe{constructor(oe,we,nt,He,De,pt){this.colorPicker=oe,this.showAtPosition=we,this.showAtRange=nt,this.preferAbove=He,this.stoleFocus=De,this.disposables=pt}}let Ze=class Au extends t.JT{constructor(oe,we){super(),this._editor=oe,this._contextKeyService=we,this.allowEditorOverflow=!0,this._hoverVisibleKey=f.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new z),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(nt=>{nt.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var oe,we;return null!==(we=null===(oe=this._visibleData)||void 0===oe?void 0:oe.showAtPosition)&&void 0!==we?we:null}get isColorPickerVisible(){var oe;return!(null===(oe=this._visibleData)||void 0===oe||!oe.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Au.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let oe=this._visibleData.preferAbove;return!oe&&this._contextKeyService.getContextKeyValue(ce._y.Visible.key)&&(oe=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:oe?[1,2]:[2,1]}}_setVisibleData(oe){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=oe,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const oe=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:we,lineHeight:nt}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${we}px`,this._hover.contentsDomNode.style.lineHeight=""+nt/we,this._hover.contentsDomNode.style.maxHeight=`${oe}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(we=>this._editor.applyFontInfo(we))}showAt(oe,we){this._setVisibleData(we),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(oe),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),we.stoleFocus&&this._hover.containerDomNode.focus(),we.colorPicker&&we.colorPicker.layout()}hide(){if(this._visibleData){const oe=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),oe&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const oe=this._hover.scrollbar.getScrollDimensions();if(oe.scrollWidth>oe.width){const nt=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==nt&&(this._hover.contentsDomNode.style.paddingBottom=nt,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Ze.ID="editor.contrib.contentHoverWidget",Ze=Ee([me(1,Me.i6)],Ze);let ze=class extends t.JT{constructor(oe){super(),this._keybindingService=oe,this._hasContent=!1,this.hoverElement=Pe("div.hover-row.status-bar"),this.actionsElement=S.R3(this.hoverElement,Pe("div.actions"))}get hasContent(){return this._hasContent}addAction(oe){const we=this._keybindingService.lookupKeybinding(oe.commandId),nt=we?we.getLabel():null;return this._hasContent=!0,this._register(N.render(this.actionsElement,oe,nt))}append(oe){const we=S.R3(this.actionsElement,oe);return this._hasContent=!0,we}};ze=Ee([me(0,se.d)],ze);class fe{constructor(oe,we){this._editor=oe,this._participants=we,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(oe){this._anchor=oe}get shouldFocus(){return this._shouldFocus}set shouldFocus(oe){this._shouldFocus=oe}static _getLineDecorations(oe,we){if(1!==we.type)return[];const nt=oe.getModel(),He=we.range.startLineNumber;if(He>nt.getLineCount())return[];const De=nt.getLineMaxColumn(He);return oe.getLineDecorations(He).filter(pt=>{if(pt.options.isWholeLine)return!0;const lt=pt.range.startLineNumber===He?pt.range.startColumn:1,Ht=pt.range.endLineNumber===He?pt.range.endColumn:De;if(pt.options.showIfCollapsed){if(lt>we.range.startColumn+1||we.range.endColumn-1>Ht)return!1}else if(lt>we.range.startColumn||we.range.endColumn>Ht)return!1;return!0})}computeAsync(oe){const we=this._anchor;if(!this._editor.hasModel()||!we)return q.Aq.EMPTY;const nt=fe._getLineDecorations(this._editor,we);return q.Aq.merge(this._participants.map(He=>He.computeAsync?He.computeAsync(we,nt,oe):q.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const oe=fe._getLineDecorations(this._editor,this._anchor);let we=[];for(const nt of this._participants)we=we.concat(nt.computeSync(this._anchor,oe));return(0,O.kX)(we)}}var Ke=e(32418),Je=e(87060),vt=e(78668);const Et=S.$;let Xe=(()=>{class te extends t.JT{constructor(we,nt,He=vt.SW){super(),this._renderDisposeables=this._register(new t.SL),this._editor=we,this._isVisible=!1,this._messages=[],this._hover=this._register(new z),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Je.$({editor:this._editor},nt,He)),this._computer=new re(this._editor),this._hoverOperation=this._register(new Ie(this._editor,this._computer)),this._register(this._hoverOperation.onResult(De=>{this._withResult(De.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(De=>{De.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return te.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(nt=>this._editor.applyFontInfo(nt))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(we){this._computer.lineNumber!==we&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=we,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(we){this._messages=we,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(we,nt){this._renderDisposeables.clear();const He=document.createDocumentFragment();for(const De of nt){const pt=Et("div.hover-row.markdown-hover"),lt=S.R3(pt,Et("div.hover-contents")),Ht=this._renderDisposeables.add(this._markdownRenderer.render(De.value));lt.appendChild(Ht.element),He.appendChild(pt)}this._updateContents(He),this._showAt(we)}_updateContents(we){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(we),this._updateFont()}_showAt(we){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const nt=this._editor.getLayoutInfo(),He=this._editor.getTopForLineNumber(we),De=this._editor.getScrollTop(),pt=this._editor.getOption(61),Ht=He-De-(this._hover.containerDomNode.clientHeight-pt)/2;this._hover.containerDomNode.style.left=`${nt.glyphMarginLeft+nt.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Ht),0)}px`}}return te.ID="editor.contrib.modesGlyphHoverWidget",te})();class re{constructor(oe){this._editor=oe,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(oe){this._lineNumber=oe}computeSync(){const oe=He=>({value:He}),we=this._editor.getLineDecorations(this._lineNumber),nt=[];if(!we)return nt;for(const He of we){if(!He.options.glyphMarginClassName)continue;const De=He.options.glyphMarginHoverMessage;!De||(0,Ke.CP)(De)||nt.push(...(0,O._2)(De).map(oe))}return nt}}var pe=e(1200),ge=e(6192),de=e(14089),Q=e(51027),ye=e(9590),Ae=e(76470),ft=e(95379),dt=e(2590),it=e(17243),et=e(86246),st=e(80618),St=e(26109),mt=e(13154),Bt=function(te,oe){return function(we,nt){oe(we,nt,te)}};const Lt=S.$;class Ye{constructor(oe,we,nt){this.owner=oe,this.range=we,this.marker=nt}isValidForHoverAnchor(oe){return 1===oe.type&&this.range.startColumn<=oe.range.startColumn&&this.range.endColumn>=oe.range.endColumn}}const Tt={type:1,filter:{include:it.yN.QuickFix},triggerAction:it.aQ.QuickFixHover};let qt=class{constructor(oe,we,nt,He){this._editor=oe,this._markerDecorationsService=we,this._openerService=nt,this._languageFeaturesService=He,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(oe,we){if(!this._editor.hasModel()||1!==oe.type)return[];const nt=this._editor.getModel(),He=oe.range.startLineNumber,De=nt.getLineMaxColumn(He),pt=[];for(const lt of we){const Ht=lt.range.startLineNumber===He?lt.range.startColumn:1,Xt=lt.range.endLineNumber===He?lt.range.endColumn:De,ut=this._markerDecorationsService.getMarker(nt.uri,lt);if(!ut)continue;const an=new C.e(oe.range.startLineNumber,Ht,oe.range.startLineNumber,Xt);pt.push(new Ye(this,an,ut))}return pt}renderHoverParts(oe,we){if(!we.length)return t.JT.None;const nt=new t.SL;we.forEach(De=>oe.fragment.appendChild(this.renderMarkerHover(De,nt)));const He=1===we.length?we[0]:we.sort((De,pt)=>st.ZL.compare(De.marker.severity,pt.marker.severity))[0];return this.renderMarkerStatusbar(oe,He,nt),nt}renderMarkerHover(oe,we){const nt=Lt("div.hover-row"),He=S.R3(nt,Lt("div.marker.hover-contents")),{source:De,message:pt,code:lt,relatedInformation:Ht}=oe.marker;this._editor.applyFontInfo(He);const Xt=S.R3(He,Lt("span"));if(Xt.style.whiteSpace="pre-wrap",Xt.innerText=pt,De||lt)if(lt&&"string"!=typeof lt){const ut=Lt("span");De&&(S.R3(ut,Lt("span")).innerText=De);const an=S.R3(ut,Lt("a.code-link"));an.setAttribute("href",lt.target.toString()),we.add(S.nm(an,"click",li=>{this._openerService.open(lt.target,{allowCommands:!0}),li.preventDefault(),li.stopPropagation()})),S.R3(an,Lt("span")).innerText=lt.value;const Gn=S.R3(He,ut);Gn.style.opacity="0.6",Gn.style.paddingLeft="6px"}else{const ut=S.R3(He,Lt("span"));ut.style.opacity="0.6",ut.style.paddingLeft="6px",ut.innerText=De&&lt?`${De}(${lt})`:De||`(${lt})`}if((0,O.Of)(Ht))for(const{message:ut,resource:an,startLineNumber:Kn,startColumn:Gn}of Ht){const li=S.R3(He,Lt("div"));li.style.marginTop="8px";const fi=S.R3(li,Lt("a"));fi.innerText=`${(0,ye.EZ)(an)}(${Kn}, ${Gn}): `,fi.style.cursor="pointer",we.add(S.nm(fi,"click",_i=>{_i.stopPropagation(),_i.preventDefault(),this._openerService&&this._openerService.open(an,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Kn,startColumn:Gn}}}).catch(R.dL)}));const ri=S.R3(li,Lt("span"));ri.innerText=ut,this._editor.applyFontInfo(ri)}return nt}renderMarkerStatusbar(oe,we,nt){if((we.marker.severity===st.ZL.Error||we.marker.severity===st.ZL.Warning||we.marker.severity===st.ZL.Info)&&oe.statusBar.addAction({label:pe.NC("view problem","View Problem"),commandId:et.NextMarkerAction.ID,run:()=>{var He;oe.hide(),null===(He=et.MarkerController.get(this._editor))||void 0===He||He.showAtMarker(we.marker),this._editor.focus()}}),!this._editor.getOption(83)){const He=oe.statusBar.append(Lt("div"));this.recentMarkerCodeActionsInfo&&(st.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===st.H0.makeKey(we.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(He.textContent=pe.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const De=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?t.JT.None:nt.add((0,q.Vg)(()=>He.textContent=pe.NC("checkingForQuickFixes","Checking for quick fixes..."),200));He.textContent||(He.textContent=String.fromCharCode(160));const pt=this.getCodeActions(we.marker);nt.add((0,t.OF)(()=>pt.cancel())),pt.then(lt=>{if(De.dispose(),this.recentMarkerCodeActionsInfo={marker:we.marker,hasCodeActions:lt.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return lt.dispose(),void(He.textContent=pe.NC("noQuickFixes","No quick fixes available"));He.style.display="none";let Ht=!1;nt.add((0,t.OF)(()=>{Ht||lt.dispose()})),oe.statusBar.addAction({label:pe.NC("quick fixes","Quick Fix..."),commandId:dt.E7.Id,run:Xt=>{Ht=!0;const ut=dt.pY.get(this._editor),an=S.i(Xt);oe.hide(),ut?.showCodeActions(Tt,lt,{x:an.left+6,y:an.top+an.height+6,width:an.width,height:an.height})}})},R.dL)}}getCodeActions(oe){return(0,q.PG)(we=>(0,ft.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new C.e(oe.startLineNumber,oe.startColumn,oe.endLineNumber,oe.endColumn),Tt,St.Ex.None,we))}};qt=function(te,oe,we,nt){var pt,He=arguments.length,De=He<3?oe:null===nt?nt=Object.getOwnPropertyDescriptor(oe,we):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(te,oe,we,nt);else for(var lt=te.length-1;lt>=0;lt--)(pt=te[lt])&&(De=(He<3?pt(De):He>3?pt(oe,we,De):pt(oe,we))||De);return He>3&&De&&Object.defineProperty(oe,we,De),De}([Bt(1,Ae.i),Bt(2,vt.v4),Bt(3,mt.p)],qt),(0,de.Ic)((te,oe)=>{const we=te.getColor(ge.url);we&&oe.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${we}; }`);const nt=te.getColor(ge.sgC);nt&&oe.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${nt}; }`)});var Ft=function(te,oe){return function(we,nt){oe(we,nt,te)}};let rt=class Nu{constructor(oe,we,nt,He,De){this._editor=oe,this._instantiationService=we,this._openerService=nt,this._languageService=He,this._toUnhook=new t.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(pt=>{pt.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(oe){return oe.getContribution(Nu.ID)}_hookEvents(){const we=this._editor.getOption(55);this._isHoverEnabled=we.enabled,this._isHoverSticky=we.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(nt=>this._onEditorMouseDown(nt))),this._toUnhook.add(this._editor.onMouseUp(nt=>this._onEditorMouseUp(nt))),this._toUnhook.add(this._editor.onMouseMove(nt=>this._onEditorMouseMove(nt))),this._toUnhook.add(this._editor.onKeyDown(nt=>this._onKeyDown(nt)))):(this._toUnhook.add(this._editor.onMouseMove(nt=>this._onEditorMouseMove(nt))),this._toUnhook.add(this._editor.onKeyDown(nt=>this._onKeyDown(nt)))),this._toUnhook.add(this._editor.onMouseLeave(nt=>this._onEditorMouseLeave(nt))),this._toUnhook.add(this._editor.onDidChangeModel(()=>this._hideWidgets())),this._toUnhook.add(this._editor.onDidScrollChange(nt=>this._onEditorScrollChanged(nt)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(oe){(oe.scrollTopChanged||oe.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(oe){this._isMouseDown=!0;const we=oe.target;9!==we.type||we.detail!==Ze.ID?12===we.type&&we.detail===Xe.ID||(12!==we.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(oe){this._isMouseDown=!1}_onEditorMouseLeave(oe){var we;null!==(we=this._contentWidget)&&void 0!==we&&we.containsNode(oe.event.browserEvent.relatedTarget)||this._hideWidgets()}_onEditorMouseMove(oe){var we,nt,He,De,pt;const lt=oe.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===lt.type&&lt.detail===Ze.ID||this._isHoverSticky&&(null===(nt=null===(we=oe.event.browserEvent.view)||void 0===we?void 0:we.getSelection())||void 0===nt||!nt.isCollapsed)||!this._isHoverSticky&&9===lt.type&&lt.detail===Ze.ID&&null!==(He=this._contentWidget)&&void 0!==He&&He.isColorPickerVisible()||this._isHoverSticky&&12===lt.type&&lt.detail===Xe.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(oe))return 2===lt.type&&lt.position?(null===(pt=this._contentWidget)||void 0===pt||pt.hide(),this._glyphWidget||(this._glyphWidget=new Xe(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(lt.position.lineNumber)):void this._hideWidgets();null===(De=this._glyphWidget)||void 0===De||De.hide()}else this._hideWidgets()}_onKeyDown(oe){5!==oe.keyCode&&6!==oe.keyCode&&57!==oe.keyCode&&4!==oe.keyCode&&this._hideWidgets()}_hideWidgets(){var oe,we,nt;this._isMouseDown&&this._hoverClicked&&null!==(oe=this._contentWidget)&&void 0!==oe&&oe.isColorPickerVisible()||(this._hoverClicked=!1,null===(we=this._glyphWidget)||void 0===we||we.hide(),null===(nt=this._contentWidget)||void 0===nt||nt.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(he,this._editor)),this._contentWidget}isColorPickerVisible(){var oe;return(null===(oe=this._contentWidget)||void 0===oe?void 0:oe.isColorPickerVisible())||!1}showContentHover(oe,we,nt){this._getOrCreateContentWidget().startShowingAtRange(oe,we,nt)}dispose(){var oe,we;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(oe=this._glyphWidget)||void 0===oe||oe.dispose(),null===(we=this._contentWidget)||void 0===we||we.dispose()}};rt.ID="editor.contrib.hover",rt=function(te,oe,we,nt){var pt,He=arguments.length,De=He<3?oe:null===nt?nt=Object.getOwnPropertyDescriptor(oe,we):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(te,oe,we,nt);else for(var lt=te.length-1;lt>=0;lt--)(pt=te[lt])&&(De=(He<3?pt(De):He>3?pt(oe,we,De):pt(oe,we))||De);return He>3&&De&&Object.defineProperty(oe,we,De),De}([Ft(1,Oe.TG),Ft(2,vt.v4),Ft(3,I.O),Ft(4,Me.i6)],rt),(0,l._K)(rt.ID,rt),(0,l.Qr)(class Le extends l.R6{constructor(){super({id:"editor.action.showHover",label:pe.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,s.gx)(2089,2087),weight:100}})}run(oe,we){if(!we.hasModel())return;const nt=rt.get(we);if(!nt)return;const He=we.getPosition(),De=new C.e(He.lineNumber,He.column,He.lineNumber,He.column),pt=2===we.getOption(2);nt.showContentHover(De,1,pt)}}),(0,l.Qr)(class ie extends l.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:pe.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(oe,we){const nt=rt.get(we);if(!nt)return;const He=we.getPosition();if(!He)return;const De=new C.e(He.lineNumber,He.column,He.lineNumber,He.column),pt=b.GotoDefinitionAtPositionEditorContribution.get(we);pt&&pt.startFindDefinitionFromCursor(He).then(()=>{nt.showContentHover(De,1,!0)})}}),xe.Ae.register(Q.D5),xe.Ae.register(qt),(0,de.Ic)((te,oe)=>{const we=te.getColor(ge.ptc);we&&oe.addRule(`.monaco-editor .hoverHighlight { background-color: ${we}; }`);const nt=te.getColor(ge.yJx);nt&&oe.addRule(`.monaco-editor .monaco-hover { background-color: ${nt}; }`);const He=te.getColor(ge.CNo);He&&(oe.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${He}; }`),oe.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${He.transparent(.5)}; }`),oe.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${He.transparent(.5)}; }`),oe.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${He.transparent(.5)}; }`));const De=te.getColor(ge.url);De&&oe.addRule(`.monaco-editor .monaco-hover a { color: ${De}; }`);const pt=te.getColor(ge.sgC);pt&&oe.addRule(`.monaco-editor .monaco-hover a:hover { color: ${pt}; }`);const lt=te.getColor(ge.Sbf);lt&&oe.addRule(`.monaco-editor .monaco-hover { color: ${lt}; }`);const Ht=te.getColor(ge.LoV);Ht&&oe.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Ht}; }`);const Xt=te.getColor(ge.SwI);Xt&&oe.addRule(`.monaco-editor .monaco-hover code { background-color: ${Xt}; }`)})},46654:(yt,T,e)=>{"use strict";e.d(T,{Ae:()=>l,Qj:()=>s,YM:()=>t});class s{constructor(f,I){this.priority=f,this.range=I,this.type=1}equals(f){return 1===f.type&&this.range.equalsRange(f.range)}canAdoptVisibleHover(f,I){return 1===f.type&&I.lineNumber===this.range.startLineNumber}}class t{constructor(f,I,b){this.priority=f,this.owner=I,this.range=b,this.type=2}equals(f){return 2===f.type&&this.owner===f.owner}canAdoptVisibleHover(f,I){return 2===f.type&&this.owner===f.owner}}const l=new class{constructor(){this._participants=[]}register(f){this._participants.push(f)}getAll(){return this._participants}}},51027:(yt,T,e)=>{"use strict";e.d(T,{D5:()=>m,c:()=>w,hU:()=>v});var s=e(94418),t=e(14940),l=e(41883),C=e(32418),f=e(21576),I=e(87060),b=e(13902),S=e(88154),D=e(12375),_=e(83777),r=e(1200),a=e(56767),u=e(78668),n=e(13154),y=function(E,L){return function(x,A){L(x,A,E)}};const g=s.$;class v{constructor(L,x,A,k){this.owner=L,this.range=x,this.contents=A,this.ordinal=k}isValidForHoverAnchor(L){return 1===L.type&&this.range.startColumn<=L.range.startColumn&&this.range.endColumn>=L.range.endColumn}}let m=class{constructor(L,x,A,k,W){this._editor=L,this._languageService=x,this._openerService=A,this._configurationService=k,this._languageFeaturesService=W,this.hoverOrdinal=2}createLoadingMessage(L){return new v(this,L.range,[(new C.W5).appendText(r.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(L,x){if(!this._editor.hasModel()||1!==L.type)return[];const A=this._editor.getModel(),k=L.range.startLineNumber,W=A.getLineMaxColumn(k),H=[];let z=1e3;const N=A.getLineLength(k),O=A.getLanguageIdAtPosition(L.range.startLineNumber,L.range.startColumn),K=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:O});"number"==typeof K&&N>=K&&H.push(new v(this,L.range,[{value:r.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],z++));for(const $ of x){const j=$.range.startLineNumber===k?$.range.startColumn:1,q=$.range.endLineNumber===k?$.range.endColumn:W,R=$.options.hoverMessage;if(!R||(0,C.CP)(R))continue;const Z=new S.e(L.range.startLineNumber,j,L.range.startLineNumber,q);H.push(new v(this,Z,(0,t._2)(R),z++))}return H}computeAsync(L,x,A){if(!this._editor.hasModel()||1!==L.type)return l.Aq.EMPTY;const k=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(k))return l.Aq.EMPTY;const W=new b.L(L.range.startLineNumber,L.range.startColumn);return(0,_.R8)(this._languageFeaturesService.hoverProvider,k,W,A).filter(H=>!(0,C.CP)(H.hover.contents)).map(H=>{const z=H.hover.range?S.e.lift(H.hover.range):L.range;return new v(this,z,H.hover.contents,H.ordinal)})}renderHoverParts(L,x){return w(L,x,this._editor,this._languageService,this._openerService)}};function w(E,L,x,A,k){L.sort((H,z)=>H.ordinal-z.ordinal);const W=new f.SL;for(const H of L)for(const z of H.contents){if((0,C.CP)(z))continue;const N=g("div.hover-row.markdown-hover"),O=s.R3(N,g("div.hover-contents")),K=W.add(new I.$({editor:x},A,k));W.add(K.onDidRenderAsync(()=>{O.className="hover-contents code-hover-contents",E.onContentsChanged()}));const $=W.add(K.render(z));O.appendChild($.element),E.fragment.appendChild(N)}return W}m=function(E,L,x,A){var H,k=arguments.length,W=k<3?L:null===A?A=Object.getOwnPropertyDescriptor(L,x):A;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(E,L,x,A);else for(var z=E.length-1;z>=0;z--)(H=E[z])&&(W=(k<3?H(W):k>3?H(L,x,W):H(L,x))||W);return k>3&&W&&Object.defineProperty(L,x,W),W}([y(1,D.O),y(2,u.v4),y(3,a.Ui),y(4,n.p)],m)},34918:(yt,T,e)=>{"use strict";e.r(T);var s=e(41883),t=e(3219),l=e(2592),C=e(95102),f=e(88154),I=e(58745),b=e(72325),S=e(53727),D=e(80607),_=e(99327),r=e(1200),a=e(14089);class u{constructor(w,E,L){this._editRange=w,this._originalSelection=E,this._text=L}getEditOperations(w,E){E.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(w,E){const x=E.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new I.Y(x.endLineNumber,Math.min(this._originalSelection.positionColumn,x.endColumn),x.endLineNumber,Math.min(this._originalSelection.positionColumn,x.endColumn)):new I.Y(x.endLineNumber,x.endColumn-this._text.length,x.endLineNumber,x.endColumn)}}let y=class qc{constructor(w,E){this.editor=w,this.editorWorkerService=E,this.decorations=this.editor.createDecorationsCollection()}static get(w){return w.getContribution(qc.ID)}dispose(){}run(w,E){this.currentRequest&&this.currentRequest.cancel();const L=this.editor.getSelection(),x=this.editor.getModel();if(!x||!L)return;let A=L;if(A.startLineNumber!==A.endLineNumber)return;const k=new l.yy(this.editor,5),W=x.uri;return this.editorWorkerService.canNavigateValueSet(W)?(this.currentRequest=(0,s.PG)(H=>this.editorWorkerService.navigateValueSet(W,A,E)),this.currentRequest.then(H=>{if(!(H&&H.range&&H.value&&k.validate(this.editor)))return;const z=f.e.lift(H.range);let N=H.range;const O=H.value.length-(A.endColumn-A.startColumn);N={startLineNumber:N.startLineNumber,startColumn:N.startColumn,endLineNumber:N.endLineNumber,endColumn:N.startColumn+H.value.length},O>1&&(A=new I.Y(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn+O-1));const K=new u(z,A,H.value);this.editor.pushUndoStop(),this.editor.executeCommand(w,K),this.editor.pushUndoStop(),this.decorations.set([{range:N,options:qc.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,s.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(t.dL)}).catch(t.dL)):Promise.resolve(void 0)}};var w;y.ID="editor.contrib.inPlaceReplaceController",y.DECORATION=S.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),y=function(m,w,E,L){var k,x=arguments.length,A=x<3?w:null===L?L=Object.getOwnPropertyDescriptor(w,E):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(m,w,E,L);else for(var W=m.length-1;W>=0;W--)(k=m[W])&&(A=(x<3?k(A):x>3?k(w,E,A):k(w,E))||A);return x>3&&A&&Object.defineProperty(w,E,A),A}([(1,w=D.p,function(E,L){w(E,L,1)})],y),(0,C._K)(y.ID,y),(0,C.Qr)(class g extends C.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:r.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:b.u.writable,kbOpts:{kbExpr:b.u.editorTextFocus,primary:3154,weight:100}})}run(w,E){const L=y.get(E);return L?L.run(this.id,!0):Promise.resolve(void 0)}}),(0,C.Qr)(class v extends C.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:r.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:b.u.writable,kbOpts:{kbExpr:b.u.editorTextFocus,primary:3156,weight:100}})}run(w,E){const L=y.get(E);return L?L.run(this.id,!1):Promise.resolve(void 0)}}),(0,a.Ic)((m,w)=>{const E=m.getColor(_.Dl);E&&w.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${E}; }`)})},11735:(yt,T,e)=>{"use strict";function s(l,C){let f=0;for(let I=0;I<l.length;I++)"\t"===l.charAt(I)?f+=C:f++;return f}function t(l,C,f){l=l<0?0:l;let I="";if(!f){const b=Math.floor(l/C);l%=C;for(let S=0;S<b;S++)I+="\t"}for(let b=0;b<l;b++)I+=" ";return I}e.d(T,{J:()=>t,Y:()=>s})},79681:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{AutoIndentOnPaste:()=>z,AutoIndentOnPasteCommand:()=>H,ChangeIndentationSizeAction:()=>E,DetectIndentation:()=>A,IndentUsingSpaces:()=>x,IndentUsingTabs:()=>L,IndentationToSpacesAction:()=>m,IndentationToSpacesCommand:()=>O,IndentationToTabsAction:()=>w,IndentationToTabsCommand:()=>K,ReindentLinesAction:()=>k,ReindentSelectedLinesAction:()=>W,getReindentEditOperations:()=>v});var s=e(21576),t=e(77697),l=e(95102),C=e(70760),f=e(37304),I=e(88154),b=e(58745),S=e(72325),D=e(15333),_=e(44378),r=e(11735),a=e(1200),u=e(21156),n=e(2646),d=e(62877);function v($,j,q,R,Z){if(1===$.getLineCount()&&1===$.getLineMaxColumn(1))return[];const J=j.getLanguageConfiguration($.getLanguageId()).indentationRules;if(!J)return[];for(R=Math.min(R,$.getLineCount());q<=R&&J.unIndentedLinePattern;){const Pe=$.getLineContent(q);if(!J.unIndentedLinePattern.test(Pe))break;q++}if(q>R-1)return[];const{tabSize:Ce,indentSize:Se,insertSpaces:Ie}=$.getOptions(),xe=(Pe,he)=>C.U.shiftIndent(Pe,Pe.length+(he=he||1),Ce,Se,Ie),Me=(Pe,he)=>C.U.unshiftIndent(Pe,Pe.length+(he=he||1),Ce,Se,Ie),Oe=[];let se;const ce=$.getLineContent(q);let Ee=ce;if(null!=Z){se=Z;const Pe=t.V8(ce);Ee=se+ce.substring(Pe.length),J.decreaseIndentPattern&&J.decreaseIndentPattern.test(Ee)&&(se=Me(se),Ee=se+ce.substring(Pe.length)),ce!==Ee&&Oe.push(f.h.replaceMove(new b.Y(q,1,q,Pe.length+1),(0,n.x)(se,Se,Ie)))}else se=t.V8(ce);let me=se;J.increaseIndentPattern&&J.increaseIndentPattern.test(Ee)?(me=xe(me),se=xe(se)):J.indentNextLinePattern&&J.indentNextLinePattern.test(Ee)&&(me=xe(me));for(let Pe=++q;Pe<=R;Pe++){const he=$.getLineContent(Pe),Fe=t.V8(he),Ze=me+he.substring(Fe.length);J.decreaseIndentPattern&&J.decreaseIndentPattern.test(Ze)&&(me=Me(me),se=Me(se)),Fe!==me&&Oe.push(f.h.replaceMove(new b.Y(Pe,1,Pe,Fe.length+1),(0,n.x)(me,Se,Ie))),(!J.unIndentedLinePattern||!J.unIndentedLinePattern.test(he))&&(J.increaseIndentPattern&&J.increaseIndentPattern.test(Ze)?(se=xe(se),me=se):me=J.indentNextLinePattern&&J.indentNextLinePattern.test(Ze)?xe(me):se)}return Oe}let m=(()=>{class $ extends l.R6{constructor(){super({id:$.ID,label:a.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:S.u.writable})}run(q,R){const Z=R.getModel();if(!Z)return;const J=Z.getOptions(),Ce=R.getSelection();if(!Ce)return;const Se=new O(Ce,J.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[Se]),R.pushUndoStop(),Z.updateOptions({insertSpaces:!0})}}return $.ID="editor.action.indentationToSpaces",$})(),w=(()=>{class $ extends l.R6{constructor(){super({id:$.ID,label:a.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:S.u.writable})}run(q,R){const Z=R.getModel();if(!Z)return;const J=Z.getOptions(),Ce=R.getSelection();if(!Ce)return;const Se=new K(Ce,J.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[Se]),R.pushUndoStop(),Z.updateOptions({insertSpaces:!1})}}return $.ID="editor.action.indentationToTabs",$})();class E extends l.R6{constructor(j,q){super(q),this.insertSpaces=j}run(j,q){const R=j.get(u.eJ),Z=j.get(_.q),J=q.getModel();if(!J)return;const Ce=Z.getCreationOptions(J.getLanguageId(),J.uri,J.isForSimpleWidget),Se=[1,2,3,4,5,6,7,8].map(xe=>({id:xe.toString(),label:xe.toString(),description:xe===Ce.tabSize?a.NC("configuredTabSize","Configured Tab Size"):void 0})),Ie=Math.min(J.getOptions().tabSize-1,7);setTimeout(()=>{R.pick(Se,{placeHolder:a.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:Se[Ie]}).then(xe=>{xe&&J&&!J.isDisposed()&&J.updateOptions({tabSize:parseInt(xe.label,10),insertSpaces:this.insertSpaces})})},50)}}let L=(()=>{class $ extends E{constructor(){super(!1,{id:$.ID,label:a.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return $.ID="editor.action.indentUsingTabs",$})(),x=(()=>{class $ extends E{constructor(){super(!0,{id:$.ID,label:a.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return $.ID="editor.action.indentUsingSpaces",$})(),A=(()=>{class $ extends l.R6{constructor(){super({id:$.ID,label:a.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(q,R){const Z=q.get(_.q),J=R.getModel();if(!J)return;const Ce=Z.getCreationOptions(J.getLanguageId(),J.uri,J.isForSimpleWidget);J.detectIndentation(Ce.insertSpaces,Ce.tabSize)}}return $.ID="editor.action.detectIndentation",$})();class k extends l.R6{constructor(){super({id:"editor.action.reindentlines",label:a.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:S.u.writable})}run(j,q){const R=j.get(D.c_),Z=q.getModel();if(!Z)return;const J=v(Z,R,1,Z.getLineCount());J.length>0&&(q.pushUndoStop(),q.executeEdits(this.id,J),q.pushUndoStop())}}class W extends l.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:a.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:S.u.writable})}run(j,q){const R=j.get(D.c_),Z=q.getModel();if(!Z)return;const J=q.getSelections();if(null===J)return;const Ce=[];for(const Se of J){let Ie=Se.startLineNumber,xe=Se.endLineNumber;if(Ie!==xe&&1===Se.endColumn&&xe--,1===Ie){if(Ie===xe)continue}else Ie--;const Me=v(Z,R,Ie,xe);Ce.push(...Me)}Ce.length>0&&(q.pushUndoStop(),q.executeEdits(this.id,Ce),q.pushUndoStop())}}class H{constructor(j,q){this._initialSelection=q,this._edits=[],this._selectionId=null;for(const R of j)R.range&&"string"==typeof R.text&&this._edits.push(R)}getEditOperations(j,q){for(const Z of this._edits)q.addEditOperation(I.e.lift(Z.range),Z.text);let R=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(R=!0,this._selectionId=q.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(R=!0,this._selectionId=q.trackSelection(this._initialSelection,!1))),R||(this._selectionId=q.trackSelection(this._initialSelection))}computeCursorState(j,q){return q.getTrackedSelection(this._selectionId)}}let z=class{constructor(j,q){this.editor=j,this._languageConfigurationService=q,this.callOnDispose=new s.SL,this.callOnModel=new s.SL,this.callOnDispose.add(j.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(j.onDidChangeModel(()=>this.update())),this.callOnDispose.add(j.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:j})=>{this.trigger(j)}))}trigger(j){const q=this.editor.getSelections();if(null===q||q.length>1)return;const R=this.editor.getModel();if(!R||!R.tokenization.isCheapToTokenize(j.getStartPosition().lineNumber))return;const Z=this.editor.getOption(9),{tabSize:J,indentSize:Ce,insertSpaces:Se}=R.getOptions(),Ie=[],xe={shiftIndent:ce=>C.U.shiftIndent(ce,ce.length+1,J,Ce,Se),unshiftIndent:ce=>C.U.unshiftIndent(ce,ce.length+1,J,Ce,Se)};let Me=j.startLineNumber;for(;Me<=j.endLineNumber&&this.shouldIgnoreLine(R,Me);)Me++;if(Me>j.endLineNumber)return;let Oe=R.getLineContent(Me);if(!/\S/.test(Oe.substring(0,j.startColumn-1))){const ce=(0,d.n8)(Z,R,R.getLanguageId(),Me,xe,this._languageConfigurationService);if(null!==ce){const Ee=t.V8(Oe),me=r.Y(ce,J);if(me!==r.Y(Ee,J)){const he=r.J(me,J,Se);Ie.push({range:new I.e(Me,1,Me,Ee.length+1),text:he}),Oe=he+Oe.substr(Ee.length)}else{const he=(0,d.tI)(R,Me,this._languageConfigurationService);if(0===he||8===he)return}}}const se=Me;for(;Me<j.endLineNumber&&!/\S/.test(R.getLineContent(Me+1));)Me++;if(Me!==j.endLineNumber){const Ee=(0,d.n8)(Z,{tokenization:{getLineTokens:me=>R.tokenization.getLineTokens(me),getLanguageId:()=>R.getLanguageId(),getLanguageIdAtPosition:(me,Pe)=>R.getLanguageIdAtPosition(me,Pe)},getLineContent:me=>me===se?Oe:R.getLineContent(me)},R.getLanguageId(),Me+1,xe,this._languageConfigurationService);if(null!==Ee){const me=r.Y(Ee,J),Pe=r.Y(t.V8(R.getLineContent(Me+1)),J);if(me!==Pe){const he=me-Pe;for(let Fe=Me+1;Fe<=j.endLineNumber;Fe++){const Ze=R.getLineContent(Fe),ze=t.V8(Ze),Ke=r.Y(ze,J)+he,Je=r.J(Ke,J,Se);Je!==ze&&Ie.push({range:new I.e(Fe,1,Fe,ze.length+1),text:Je})}}}}if(Ie.length>0){this.editor.pushUndoStop();const ce=new H(Ie,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",ce),this.editor.pushUndoStop()}}shouldIgnoreLine(j,q){j.tokenization.forceTokenization(q);const R=j.getLineFirstNonWhitespaceColumn(q);if(0===R)return!0;const Z=j.tokenization.getLineTokens(q);if(Z.getCount()>0){const J=Z.findTokenIndexAtOffset(R);if(J>=0&&1===Z.getStandardTokenType(J))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};var j;function N($,j,q,R){if(1===$.getLineCount()&&1===$.getLineMaxColumn(1))return;let Z="";for(let Ce=0;Ce<q;Ce++)Z+=" ";const J=new RegExp(Z,"gi");for(let Ce=1,Se=$.getLineCount();Ce<=Se;Ce++){let Ie=$.getLineFirstNonWhitespaceColumn(Ce);if(0===Ie&&(Ie=$.getLineMaxColumn(Ce)),1===Ie)continue;const xe=new I.e(Ce,1,Ce,Ie),Me=$.getValueInRange(xe),Oe=R?Me.replace(/\t/gi,Z):Me.replace(J,"\t");j.addEditOperation(xe,Oe)}}z.ID="editor.contrib.autoIndentOnPaste",z=function($,j,q,R){var Ce,Z=arguments.length,J=Z<3?j:null===R?R=Object.getOwnPropertyDescriptor(j,q):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate($,j,q,R);else for(var Se=$.length-1;Se>=0;Se--)(Ce=$[Se])&&(J=(Z<3?Ce(J):Z>3?Ce(j,q,J):Ce(j,q))||J);return Z>3&&J&&Object.defineProperty(j,q,J),J}([(1,j=D.c_,function(q,R){j(q,R,1)})],z);class O{constructor(j,q){this.selection=j,this.tabSize=q,this.selectionId=null}getEditOperations(j,q){this.selectionId=q.trackSelection(this.selection),N(j,q,this.tabSize,!0)}computeCursorState(j,q){return q.getTrackedSelection(this.selectionId)}}class K{constructor(j,q){this.selection=j,this.tabSize=q,this.selectionId=null}getEditOperations(j,q){this.selectionId=q.trackSelection(this.selection),N(j,q,this.tabSize,!1)}computeCursorState(j,q){return q.getTrackedSelection(this.selectionId)}}(0,l._K)(z.ID,z),(0,l.Qr)(m),(0,l.Qr)(w),(0,l.Qr)(L),(0,l.Qr)(x),(0,l.Qr)(A),(0,l.Qr)(k),(0,l.Qr)(W)},46865:(yt,T,e)=>{"use strict";e.r(T);var s=e(95102),t=e(46654),l=e(94418),C=e(14940),f=e(41883),I=e(71943),b=e(3219),S=e(21576),D=e(63312),_=e(22070),r=e(56740),a=e(25206),u=e(11739),n=e(37304),d=e(88154),y=e(64050),g=e(59129),v=e(53727),m=e(54693),w=e(13154),E=e(97953),L=e(16365),x=e(13902),A=e(34059),k=function(it,et,st,St){return new(st||(st=Promise))(function(bt,Bt){function Lt(qt){try{Tt(St.next(qt))}catch(Ot){Bt(Ot)}}function Ye(qt){try{Tt(St.throw(qt))}catch(Ot){Bt(Ot)}}function Tt(qt){qt.done?bt(qt.value):function mt(bt){return bt instanceof st?bt:new st(function(Bt){Bt(bt)})}(qt.value).then(Lt,Ye)}Tt((St=St.apply(it,et||[])).next())})};class W{constructor(et,st){this.range=et,this.direction=st}}class H{constructor(et,st,St){this.hint=et,this.anchor=st,this.provider=St,this._isResolved=!1}with(et){const st=new H(this.hint,et.anchor,this.provider);return st._isResolved=this._isResolved,st._currentResolve=this._currentResolve,st}resolve(et){return k(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,et.isCancellationRequested?void 0:this.resolve(et);this._isResolved||(this._currentResolve=this._doResolve(et).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(et){var st,St;return k(this,void 0,void 0,function*(){try{const mt=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,et));this.hint.tooltip=null!==(st=mt?.tooltip)&&void 0!==st?st:this.hint.tooltip,this.hint.label=null!==(St=mt?.label)&&void 0!==St?St:this.hint.label,this._isResolved=!0}catch(mt){(0,b.Cp)(mt),this._isResolved=!1}})}}class z{constructor(et,st,St){this._disposables=new S.SL,this.ranges=et,this.provider=new Set;const mt=[];for(const[bt,Bt]of st){this._disposables.add(bt),this.provider.add(Bt);for(const Lt of bt.hints){const Ye=St.validatePosition(Lt.position);let Tt="before";const qt=z._getRangeAtPosition(St,Ye);let Ot;qt.getStartPosition().isBefore(Ye)?(Ot=d.e.fromPositions(qt.getStartPosition(),Ye),Tt="after"):(Ot=d.e.fromPositions(Ye,qt.getEndPosition()),Tt="before"),mt.push(new H(Lt,new W(Ot,Tt),Bt))}}this.items=mt.sort((bt,Bt)=>x.L.compare(bt.hint.position,Bt.hint.position))}static create(et,st,St,mt){return k(this,void 0,void 0,function*(){const bt=[],Bt=et.ordered(st).reverse().map(Lt=>St.map(Ye=>k(this,void 0,void 0,function*(){try{const Tt=yield Lt.provideInlayHints(st,Ye,mt);Tt?.hints.length&&bt.push([Tt,Lt])}catch(Tt){(0,b.Cp)(Tt)}})));if(yield Promise.all(Bt.flat()),mt.isCancellationRequested||st.isDisposed())throw new b.FU;return new z(St,bt,st)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(et,st){const St=st.lineNumber,mt=et.getWordAtPosition(st);if(mt)return new d.e(St,mt.startColumn,St,mt.endColumn);et.tokenization.tokenizeIfCheap(St);const bt=et.tokenization.getLineTokens(St),Bt=st.column-1,Lt=bt.findTokenIndexAtOffset(Bt);let Ye=bt.getStartOffset(Lt),Tt=bt.getEndOffset(Lt);return Tt-Ye==1&&(Ye===Bt&&Lt>1?(Ye=bt.getStartOffset(Lt-1),Tt=bt.getEndOffset(Lt-1)):Tt===Bt&&Lt<bt.getCount()-1&&(Ye=bt.getStartOffset(Lt+1),Tt=bt.getEndOffset(Lt+1))),new d.e(St,Ye+1,St,Tt+1)}}var O=e(36608),K=e(21615),$=e(24049),j=e(30116),q=e(34468),R=e(38336),Z=e(64170),J=e(30888),Ce=e(83916),Se=function(it,et,st,St){return new(st||(st=Promise))(function(bt,Bt){function Lt(qt){try{Tt(St.next(qt))}catch(Ot){Bt(Ot)}}function Ye(qt){try{Tt(St.throw(qt))}catch(Ot){Bt(Ot)}}function Tt(qt){qt.done?bt(qt.value):function mt(bt){return bt instanceof st?bt:new st(function(Bt){Bt(bt)})}(qt.value).then(Lt,Ye)}Tt((St=St.apply(it,et||[])).next())})};function Ie(it,et,st,St){var mt;return Se(this,void 0,void 0,function*(){const bt=it.get(E.S),Bt=it.get(Z.i),Lt=it.get(q.Hy),Ye=it.get(J.TG),Tt=it.get(Ce.lT);if(yield St.item.resolve(I.T.None),!St.part.location)return;const qt=St.part.location,Ot=[],Ft=new Set(j.BH.getMenuItems(j.eH.EditorContext).map(Le=>(0,j.vr)(Le)?Le.command.id:""));for(const Le of s.Uc.getEditorActions())Le instanceof K.SymbolNavigationAction&&Ft.has(Le.id)&&Ot.push(new O.aU(Le.id,Le.label,void 0,!0,()=>Se(this,void 0,void 0,function*(){const ie=yield bt.createModelReference(qt.uri);try{yield Ye.invokeFunction(Le.run.bind(Le),et,new K.SymbolNavigationAnchor(ie.object.textEditorModel,d.e.getStartPosition(qt.range)))}finally{ie.dispose()}})));if(St.part.command){const{command:Le}=St.part;Ot.push(new O.Z0),Ot.push(new O.aU(Le.id,Le.title,void 0,!0,()=>Se(this,void 0,void 0,function*(){var ie;try{yield Lt.executeCommand(Le.id,...null!==(ie=Le.arguments)&&void 0!==ie?ie:[])}catch(te){Tt.notify({severity:Ce.zb.Error,source:St.item.provider.displayName,message:te})}})))}const rt=et.getOption(117);Bt.showContextMenu({domForShadowRoot:rt&&null!==(mt=et.getDomNode())&&void 0!==mt?mt:void 0,getAnchor:()=>{const Le=l.i(st);return{x:Le.left,y:Le.top+Le.height+8}},getActions:()=>Ot,onHide:()=>{et.focus()},autoSelectFirstItem:!0})})}function xe(it,et,st,St){return Se(this,void 0,void 0,function*(){const bt=yield it.get(E.S).createModelReference(St.uri);yield st.invokeWithinContext(Bt=>Se(this,void 0,void 0,function*(){const Lt=et.hasSideBySideModifier,Ye=Bt.get(R.i6),Tt=$.Jy.inPeekEditor.getValue(Ye),qt=!Lt&&st.getOption(80)&&!Tt;return new K.DefinitionAction({openToSide:Lt,openInPeek:qt,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(Bt,st,{model:bt.object.textEditorModel,position:d.e.getStartPosition(St.range)})})),bt.dispose()})}var Me=e(53708),Oe=e(6192),se=e(14089),Ee=function(it,et){return function(st,St){et(st,St,it)}},me=function(it,et,st,St){return new(st||(st=Promise))(function(bt,Bt){function Lt(qt){try{Tt(St.next(qt))}catch(Ot){Bt(Ot)}}function Ye(qt){try{Tt(St.throw(qt))}catch(Ot){Bt(Ot)}}function Tt(qt){qt.done?bt(qt.value):function mt(bt){return bt instanceof st?bt:new st(function(Bt){Bt(bt)})}(qt.value).then(Lt,Ye)}Tt((St=St.apply(it,et||[])).next())})};class Pe{constructor(){this._entries=new D.z6(50)}get(et){const st=Pe._key(et);return this._entries.get(st)}set(et,st){const St=Pe._key(et);this._entries.set(St,st)}static _key(et){return`${et.uri.toString()}/${et.getVersionId()}`}}const he=(0,J.yh)("IInlayHintsCache");(0,Me.z)(he,Pe,!0);class Fe{constructor(et,st){this.item=et,this.index=st}get part(){const et=this.item.hint.label;return"string"==typeof et?{label:et}:et[this.index]}}class Ze{constructor(et,st){this.part=et,this.hasTriggerModifier=st}}let ze=class eu{constructor(et,st,St,mt,bt,Bt,Lt){this._editor=et,this._languageFeaturesService=st,this._inlayHintsCache=mt,this._commandService=bt,this._notificationService=Bt,this._instaService=Lt,this._disposables=new S.SL,this._sessionDisposables=new S.SL,this._decorationsMetadata=new Map,this._ruleFactory=new a.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=St.for(st.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(st.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(et.onDidChangeModel(()=>this._update())),this._disposables.add(et.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(et.onDidChangeConfiguration(Ye=>{Ye.hasChanged(129)&&this._update()})),this._update()}static get(et){var st;return null!==(st=et.getContribution(eu.ID))&&void 0!==st?st:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const et=this._editor.getOption(129);if("off"===et.enabled)return;const st=this._editor.getModel();if(!st||!this._languageFeaturesService.inlayHintsProvider.has(st))return;const St=this._inlayHintsCache.get(st);let mt;St&&this._updateHintsDecorators([st.getFullModelRange()],St),this._sessionDisposables.add((0,S.OF)(()=>{st.isDisposed()||this._cacheHintsForFastRestore(st)}));const bt=new Set,Bt=new f.pY(()=>me(this,void 0,void 0,function*(){const Lt=Date.now();mt?.dispose(!0),mt=new I.A;const Ye=st.onWillDispose(()=>mt?.cancel());try{const Tt=mt.token,qt=yield z.create(this._languageFeaturesService.inlayHintsProvider,st,this._getHintsRanges(),Tt);if(Bt.delay=this._debounceInfo.update(st,Date.now()-Lt),Tt.isCancellationRequested)return void qt.dispose();for(const Ot of qt.provider)"function"==typeof Ot.onDidChangeInlayHints&&!bt.has(Ot)&&(bt.add(Ot),this._sessionDisposables.add(Ot.onDidChangeInlayHints(()=>{Bt.isScheduled()||Bt.schedule()})));this._sessionDisposables.add(qt),this._updateHintsDecorators(qt.ranges,qt.items),this._cacheHintsForFastRestore(st)}catch(Tt){(0,b.dL)(Tt)}finally{mt.dispose(),Ye.dispose()}}),this._debounceInfo.get(st));if(this._sessionDisposables.add(Bt),this._sessionDisposables.add((0,S.OF)(()=>mt?.dispose(!0))),Bt.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(Lt=>{(Lt.scrollTopChanged||!Bt.isScheduled())&&Bt.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(Lt=>{const Ye=Math.max(Bt.delay,1250);Bt.schedule(Ye)})),"on"===et.enabled)this._activeRenderMode=0;else{let Lt,Ye;"onUnlessPressed"===et.enabled?(Lt=0,Ye=1):(Lt=1,Ye=0),this._activeRenderMode=Lt,this._sessionDisposables.add(l._q.getInstance().event(Tt=>{if(!this._editor.hasModel())return;const qt=Tt.altKey&&Tt.ctrlKey?Ye:Lt;if(qt!==this._activeRenderMode){this._activeRenderMode=qt;const Ot=this._editor.getModel(),Ft=this._copyInlayHintsWithCurrentAnchor(Ot);this._updateHintsDecorators([Ot.getFullModelRange()],Ft),Bt.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>Bt.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const et=new S.SL,st=et.add(new L.yN(this._editor)),St=new S.SL;return et.add(St),et.add(st.onMouseMoveOrRelevantKeyDown(mt=>{const[bt]=mt,Bt=this._getInlayHintLabelPart(bt),Lt=this._editor.getModel();if(!Bt||!Lt)return void St.clear();const Ye=new I.A;St.add((0,S.OF)(()=>Ye.dispose(!0))),Bt.item.resolve(Ye.token),this._activeInlayHintPart=Bt.part.command||Bt.part.location?new Ze(Bt,bt.hasTriggerModifier):void 0;const Tt=Bt.item.hint.position.lineNumber,qt=new d.e(Tt,1,Tt,Lt.getLineMaxColumn(Tt)),Ot=this._getInlineHintsForRange(qt);this._updateHintsDecorators([qt],Ot),St.add((0,S.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([qt],Ot)}))})),et.add(st.onCancel(()=>St.clear())),et.add(st.onExecute(mt=>me(this,void 0,void 0,function*(){const bt=this._getInlayHintLabelPart(mt);if(bt){const Bt=bt.part;Bt.location?this._instaService.invokeFunction(xe,mt,this._editor,Bt.location):y.mY.is(Bt.command)&&(yield this._invokeCommand(Bt.command,bt.item))}}))),et}_getInlineHintsForRange(et){const st=new Set;for(const St of this._decorationsMetadata.values())et.containsRange(St.item.anchor.range)&&st.add(St.item);return Array.from(st)}_installDblClickGesture(et){return this._editor.onMouseUp(st=>me(this,void 0,void 0,function*(){if(2!==st.event.detail)return;const St=this._getInlayHintLabelPart(st);if(St&&(st.event.preventDefault(),yield St.item.resolve(I.T.None),(0,C.Of)(St.item.hint.textEdits))){const mt=St.item.hint.textEdits.map(bt=>n.h.replace(d.e.lift(bt.range),bt.text));this._editor.executeEdits("inlayHint.default",mt),et()}}))}_installContextMenu(){return this._editor.onContextMenu(et=>me(this,void 0,void 0,function*(){if(!(et.event.target instanceof HTMLElement))return;const st=this._getInlayHintLabelPart(et);st&&(yield this._instaService.invokeFunction(Ie,this._editor,et.event.target,st))}))}_getInlayHintLabelPart(et){var st;if(6!==et.target.type)return;const St=null===(st=et.target.detail.injectedText)||void 0===st?void 0:st.options;return St instanceof v.HS&&St?.attachedData instanceof Fe?St.attachedData:void 0}_invokeCommand(et,st){var St;return me(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(et.id,...null!==(St=et.arguments)&&void 0!==St?St:[])}catch(mt){this._notificationService.notify({severity:Ce.zb.Error,source:st.provider.displayName,message:mt})}})}_cacheHintsForFastRestore(et){const st=this._copyInlayHintsWithCurrentAnchor(et);this._inlayHintsCache.set(et,st)}_copyInlayHintsWithCurrentAnchor(et){const st=new Map;for(const[St,mt]of this._decorationsMetadata){if(st.has(mt.item))continue;const bt=et.getDecorationRange(St);if(bt){const Bt=new W(bt,mt.item.anchor.direction),Lt=mt.item.with({anchor:Bt});st.set(mt.item,Lt)}}return Array.from(st.values())}_getHintsRanges(){const st=this._editor.getModel(),St=this._editor.getVisibleRangesPlusViewportAboveBelow(),mt=[];for(const bt of St.sort(d.e.compareRangesUsingStarts)){const Bt=st.validateRange(new d.e(bt.startLineNumber-30,bt.startColumn,bt.endLineNumber+30,bt.endColumn));0!==mt.length&&d.e.areIntersectingOrTouching(mt[mt.length-1],Bt)?mt[mt.length-1]=d.e.plusRange(mt[mt.length-1],Bt):mt.push(Bt)}return mt}_updateHintsDecorators(et,st){var St,mt;const bt=[],Bt=(Le,ie,te,oe,we)=>{const nt={content:te,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ie.className,cursorStops:oe,attachedData:we};bt.push({item:Le,classNameRef:ie,decoration:{range:Le.anchor.range,options:{description:"InlayHint",showIfCollapsed:Le.anchor.range.isEmpty(),collapseOnReplaceEdit:!Le.anchor.range.isEmpty(),stickiness:0,[Le.anchor.direction]:0===this._activeRenderMode?nt:void 0}}})},Lt=(Le,ie)=>{const te=this._ruleFactory.createClassNameRef({width:(Ye/3|0)+"px",display:"inline-block"});Bt(Le,te,"\u200a",ie?g.RM.Right:g.RM.None)},{fontSize:Ye,fontFamily:Tt,padding:qt,isUniform:Ot}=this._getLayoutInfo(),Ft="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Ft,Tt);for(const Le of st){Le.hint.paddingLeft&&Lt(Le,!1);const ie="string"==typeof Le.hint.label?[{label:Le.hint.label}]:Le.hint.label;for(let te=0;te<ie.length;te++){const oe=ie[te],we=0===te,nt=te===ie.length-1,He={fontSize:`${Ye}px`,fontFamily:`var(${Ft}), ${u.hL.fontFamily}`,verticalAlign:Ot?"baseline":"middle"};(0,C.Of)(Le.hint.textEdits)&&(He.cursor="default"),this._fillInColors(He,Le.hint),(oe.command||oe.location)&&(null===(St=this._activeInlayHintPart)||void 0===St?void 0:St.part.item)===Le&&this._activeInlayHintPart.part.index===te&&(He.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(He.color=(0,se.EN)(Oe._Yy),He.cursor="pointer")),qt&&(we&&nt?(He.padding=`1px ${0|Math.max(1,Ye/4)}px`,He.borderRadius=(Ye/4|0)+"px"):we?(He.padding=`1px 0 1px ${0|Math.max(1,Ye/4)}px`,He.borderRadius=`${Ye/4|0}px 0 0 ${Ye/4|0}px`):nt?(He.padding=`1px ${0|Math.max(1,Ye/4)}px 1px 0`,He.borderRadius=`0 ${Ye/4|0}px ${Ye/4|0}px 0`):He.padding="1px 0 1px 0"),Bt(Le,this._ruleFactory.createClassNameRef(He),oe.label.replace(/[ \t]/g,"\xa0"),nt&&!Le.hint.paddingRight?g.RM.Right:g.RM.None,new Fe(Le,te))}if(Le.hint.paddingRight&&Lt(Le,!0),bt.length>eu._MAX_DECORATORS)break}const rt=[];for(const Le of et)for(const{id:ie}of null!==(mt=this._editor.getDecorationsInRange(Le))&&void 0!==mt?mt:[]){const te=this._decorationsMetadata.get(ie);te&&(rt.push(ie),te.classNameRef.dispose(),this._decorationsMetadata.delete(ie))}this._editor.changeDecorations(Le=>{const ie=Le.deltaDecorations(rt,bt.map(te=>te.decoration));for(let te=0;te<ie.length;te++)this._decorationsMetadata.set(ie[te],bt[te])})}_fillInColors(et,st){st.kind===y.gl.Parameter?(et.backgroundColor=(0,se.EN)(Oe.phM),et.color=(0,se.EN)(Oe.HCL)):st.kind===y.gl.Type?(et.backgroundColor=(0,se.EN)(Oe.bKB),et.color=(0,se.EN)(Oe.hX8)):(et.backgroundColor=(0,se.EN)(Oe.PpC),et.color=(0,se.EN)(Oe.VVv))}_getLayoutInfo(){const et=this._editor.getOption(129),st=et.padding,St=this._editor.getOption(48),mt=this._editor.getOption(45);let bt=et.fontSize;(!bt||bt<5||bt>St)&&(bt=St);const Bt=et.fontFamily||mt;return{fontSize:bt,fontFamily:Bt,padding:st,isUniform:!st&&Bt===mt&&bt===St}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const et of this._decorationsMetadata.values())et.classNameRef.dispose();this._decorationsMetadata.clear()}};ze.ID="editor.contrib.InlayHints",ze._MAX_DECORATORS=1500,ze=function(it,et,st,St){var Bt,mt=arguments.length,bt=mt<3?et:null===St?St=Object.getOwnPropertyDescriptor(et,st):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bt=Reflect.decorate(it,et,st,St);else for(var Lt=it.length-1;Lt>=0;Lt--)(Bt=it[Lt])&&(bt=(mt<3?Bt(bt):mt>3?Bt(et,st,bt):Bt(et,st))||bt);return mt>3&&bt&&Object.defineProperty(et,st,bt),bt}([Ee(1,w.p),Ee(2,m.A),Ee(3,he),Ee(4,q.Hy),Ee(5,Ce.lT),Ee(6,J.TG)],ze),q.P0.registerCommand("_executeInlayHintProvider",(it,...et)=>me(void 0,void 0,void 0,function*(){const[st,St]=et;(0,_.p_)(r.o.isUri(st)),(0,_.p_)(d.e.isIRange(St));const{inlayHintsProvider:mt}=it.get(w.p),bt=yield it.get(E.S).createModelReference(st);try{const Bt=yield z.create(mt,bt.object.textEditorModel,[d.e.lift(St)],I.T.None),Lt=Bt.items.map(Ye=>Ye.hint);return setTimeout(()=>Bt.dispose(),0),Lt}finally{bt.dispose()}}));var Ke=e(32418),Je=e(12375),vt=e(83777),Et=e(51027),Xe=e(56767),re=e(78668),pe=e(1200),ge=e(84834),Q=function(it,et){return function(st,St){et(st,St,it)}},ye=function(it,et,st,St){return new(st||(st=Promise))(function(bt,Bt){function Lt(qt){try{Tt(St.next(qt))}catch(Ot){Bt(Ot)}}function Ye(qt){try{Tt(St.throw(qt))}catch(Ot){Bt(Ot)}}function Tt(qt){qt.done?bt(qt.value):function mt(bt){return bt instanceof st?bt:new st(function(Bt){Bt(bt)})}(qt.value).then(Lt,Ye)}Tt((St=St.apply(it,et||[])).next())})};class ft extends t.YM{constructor(et,st){super(10,st,et.item.anchor.range),this.part=et}}let dt=class extends Et.D5{constructor(et,st,St,mt,bt,Bt){super(et,st,St,mt,Bt),this._resolverService=bt,this.hoverOrdinal=6}suggestHoverAnchor(et){var st;if(!ze.get(this._editor)||6!==et.target.type)return null;const mt=null===(st=et.target.detail.injectedText)||void 0===st?void 0:st.options;return mt instanceof v.HS&&mt.attachedData instanceof Fe?new ft(mt.attachedData,this):null}computeSync(){return[]}computeAsync(et,st,St){return et instanceof ft?new f.Aq(mt=>ye(this,void 0,void 0,function*(){var bt,Bt;const{part:Lt}=et;if(yield Lt.item.resolve(St),St.isCancellationRequested)return;let Ye,Tt;if("string"==typeof Lt.item.hint.tooltip?Ye=(new Ke.W5).appendText(Lt.item.hint.tooltip):Lt.item.hint.tooltip&&(Ye=Lt.item.hint.tooltip),Ye&&mt.emitOne(new Et.hU(this,et.range,[Ye],0)),(0,C.Of)(Lt.item.hint.textEdits)&&mt.emitOne(new Et.hU(this,et.range,[(new Ke.W5).appendText((0,pe.NC)("hint.dbl","Double click to insert"))],10001)),"string"==typeof Lt.part.tooltip?Tt=(new Ke.W5).appendText(Lt.part.tooltip):Lt.part.tooltip&&(Tt=Lt.part.tooltip),Tt&&mt.emitOne(new Et.hU(this,et.range,[Tt],1)),Lt.part.location||Lt.part.command){let rt;const ie="altKey"===this._editor.getOption(72)?ge.dz?(0,pe.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,pe.NC)("links.navigate.kb.meta","ctrl + click"):ge.dz?(0,pe.NC)("links.navigate.kb.alt.mac","option + click"):(0,pe.NC)("links.navigate.kb.alt","alt + click");Lt.part.location&&Lt.part.command?rt=(new Ke.W5).appendText((0,pe.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",ie)):Lt.part.location?rt=(new Ke.W5).appendText((0,pe.NC)("hint.def","Go to Definition ({0})",ie)):Lt.part.command&&(rt=new Ke.W5(`[${(0,pe.NC)("hint.cmd","Execute Command")}](${function N(it){return r.o.from({scheme:A.lg.command,path:it.id,query:it.arguments&&encodeURIComponent(JSON.stringify(it.arguments))}).toString()}(Lt.part.command)} "${Lt.part.command.title}") (${ie})`,{isTrusted:!0})),rt&&mt.emitOne(new Et.hU(this,et.range,[rt],1e4))}const qt=yield this._resolveInlayHintLabelPartHover(Lt,St);try{for(var Ft,Ot=function(it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,et=it[Symbol.asyncIterator];return et?et.call(it):(it="function"==typeof __values?__values(it):it[Symbol.iterator](),st={},St("next"),St("throw"),St("return"),st[Symbol.asyncIterator]=function(){return this},st);function St(bt){st[bt]=it[bt]&&function(Bt){return new Promise(function(Lt,Ye){!function mt(bt,Bt,Lt,Ye){Promise.resolve(Ye).then(function(Tt){bt({value:Tt,done:Lt})},Bt)}(Lt,Ye,(Bt=it[bt](Bt)).done,Bt.value)})}}}(qt);!(Ft=yield Ot.next()).done;)mt.emitOne(Ft.value)}catch(rt){bt={error:rt}}finally{try{Ft&&!Ft.done&&(Bt=Ot.return)&&(yield Bt.call(Ot))}finally{if(bt)throw bt.error}}})):f.Aq.EMPTY}_resolveInlayHintLabelPartHover(et,st){return ye(this,void 0,void 0,function*(){if(!et.part.location)return f.Aq.EMPTY;const{uri:St,range:mt}=et.part.location,bt=yield this._resolverService.createModelReference(St);try{const Bt=bt.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(Bt)?(0,vt.R8)(this._languageFeaturesService.hoverProvider,Bt,new x.L(mt.startLineNumber,mt.startColumn),st).filter(Lt=>!(0,Ke.CP)(Lt.hover.contents)).map(Lt=>new Et.hU(this,et.item.anchor.range,Lt.hover.contents,2+Lt.ordinal)):f.Aq.EMPTY}finally{bt.dispose()}})}};dt=function(it,et,st,St){var Bt,mt=arguments.length,bt=mt<3?et:null===St?St=Object.getOwnPropertyDescriptor(et,st):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bt=Reflect.decorate(it,et,st,St);else for(var Lt=it.length-1;Lt>=0;Lt--)(Bt=it[Lt])&&(bt=(mt<3?Bt(bt):mt>3?Bt(et,st,bt):Bt(et,st))||bt);return mt>3&&bt&&Object.defineProperty(et,st,bt),bt}([Q(1,Je.O),Q(2,re.v4),Q(3,Xe.Ui),Q(4,E.S),Q(5,w.p)],dt),(0,s._K)(ze.ID,ze),t.Ae.register(dt)},25727:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{commitInlineSuggestionAction:()=>An});var s=e(95102),t=e(72325),l=e(46654);const C="editor.action.inlineSuggest.commit";var f=e(31864),I=e(21576),b=e(77697),S=e(30648),D=e(13902),_=e(64050),r=e(41883),a=e(71943),u=e(3219),n=e(75090),d=e(37304),y=e(88154);class m{constructor(ht){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let Kt=0;Kt<ht.length;Kt++)"\n"===ht.charAt(Kt)&&this.lineStartOffsetByLineIdx.push(Kt+1)}getOffset(ht){return this.lineStartOffsetByLineIdx[ht.lineNumber-1]+ht.column-1}}const w=[];class L{constructor(ht,Kt,nn=0){this.lineNumber=ht,this.parts=Kt,this.additionalReservedLineCount=nn}renderForScreenReader(ht){return 0===this.parts.length?"":function v(un,ht){const Kt=new m(un),nn=ht.map(Dn=>{const In=y.e.lift(Dn.range);return{startOffset:Kt.getOffset(In.getStartPosition()),endOffset:Kt.getOffset(In.getEndPosition()),text:Dn.text}});nn.sort((Dn,In)=>In.startOffset-Dn.startOffset);for(const Dn of nn)un=un.substring(0,Dn.startOffset)+Dn.text+un.substring(Dn.endOffset);return un}(ht.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(In=>({range:{startLineNumber:1,endLineNumber:1,startColumn:In.column,endColumn:In.column},text:In.lines.join("\n")}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(ht=>0===ht.lines.length)}}class x{constructor(ht,Kt,nn){this.column=ht,this.lines=Kt,this.preview=nn}}class A{constructor(ht,Kt,nn,Dn,In=0){this.lineNumber=ht,this.columnStart=Kt,this.length=nn,this.newLines=Dn,this.additionalReservedLineCount=In,this.parts=[new x(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(ht){return this.newLines.join("\n")}}class k extends I.JT{constructor(ht){super(),this.editor=ht,this._expanded=void 0,this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(ht.onDidChangeConfiguration(Kt=>{Kt.hasChanged(108)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(ht){this._expanded=!0,this.onDidChangeEmitter.fire()}}var W=e(34468),H=e(60044);function z(un,ht){if(!ht)return ht;const Kt=un.getValueInRange(ht.range),nn=b.Mh(Kt,ht.insertText),Dn=un.getOffsetAt(ht.range.getStartPosition())+nn,In=un.getPositionAt(Dn),bn=Kt.substr(nn),Ct=b.P1(bn,ht.insertText),Wt=un.getPositionAt(Math.max(Dn,un.getOffsetAt(ht.range.getEndPosition())-Ct));return{range:y.e.fromPositions(In,Wt),insertText:ht.insertText.substr(nn,ht.insertText.length-nn-Ct),snippetInfo:ht.snippetInfo,filterText:ht.filterText,additionalTextEdits:ht.additionalTextEdits}}function O(un,ht,Kt,nn,Dn=0){if(un.range.startLineNumber!==un.range.endLineNumber)return;const In=ht.getLineContent(un.range.startLineNumber),bn=b.V8(In).length;if(un.range.startColumn-1<=bn){const _t=b.V8(un.insertText).length,vn=In.substring(un.range.startColumn-1,bn),$n=y.e.fromPositions(un.range.getStartPosition().delta(0,vn.length),un.range.getEndPosition()),Pi=un.insertText.startsWith(vn)?un.insertText.substring(vn.length):un.insertText.substring(_t);un={range:$n,insertText:Pi,command:un.command,snippetInfo:void 0,filterText:un.filterText,additionalTextEdits:un.additionalTextEdits}}const Wt=ht.getValueInRange(un.range),jt=function $(un,ht){if(K?.originalValue===un&&K?.newValue===ht)return K?.changes;{let Kt=q(un,ht,!0);if(Kt){const nn=j(Kt);if(nn>0){const Dn=q(un,ht,!1);Dn&&j(Dn)<nn&&(Kt=Dn)}}return K={originalValue:un,newValue:ht,changes:Kt},Kt}}(Wt,un.insertText);if(!jt)return;const Yt=un.range.startLineNumber,gn=new Array;if("prefix"===Kt){const _t=jt.filter(vn=>0===vn.originalLength);if(_t.length>1||1===_t.length&&_t[0].originalStart!==Wt.length)return}const Be=un.insertText.length-Dn;for(const _t of jt){const vn=un.range.startColumn+_t.originalStart+_t.originalLength;if("subwordSmart"===Kt&&nn&&nn.lineNumber===un.range.startLineNumber&&vn<nn.column||_t.originalLength>0)return;if(0===_t.modifiedLength)continue;const $n=_t.modifiedStart+_t.modifiedLength,Pi=Math.max(_t.modifiedStart,Math.min($n,Be)),Ii=un.insertText.substring(_t.modifiedStart,Pi),ii=un.insertText.substring(Pi,Math.max(_t.modifiedStart,$n));if(Ii.length>0){const Ut=b.uq(Ii);gn.push(new x(vn,Ut,!1))}if(ii.length>0){const Ut=b.uq(ii);gn.push(new x(vn,Ut,!0))}}return new L(Yt,gn,0)}let K;function j(un){let ht=0;for(const Kt of un)ht+=Math.max(Kt.originalLength-Kt.modifiedLength,0);return ht}function q(un,ht,Kt){if(un.length>5e3||ht.length>5e3)return;function nn(jt){let Yt=0;for(let gn=0,Be=jt.length;gn<Be;gn++){const _t=jt.charCodeAt(gn);_t>Yt&&(Yt=_t)}return Yt}const Dn=Math.max(nn(un),nn(ht));function In(jt){if(jt<0)throw new Error("unexpected");return Dn+jt+1}function bn(jt){let Yt=0,gn=0;const Be=new Int32Array(jt.length);for(let _t=0,vn=jt.length;_t<vn;_t++)Kt&&"("===jt[_t]?(Be[_t]=In(2*(100*gn+Yt)),Yt++):Kt&&")"===jt[_t]?(Yt=Math.max(Yt-1,0),Be[_t]=In(2*(100*gn+Yt)+1),0===Yt&&gn++):Be[_t]=jt.charCodeAt(_t);return Be}const Ct=bn(un),Wt=bn(ht);return new H.Hs({getElements:()=>Ct},{getElements:()=>Wt}).ComputeDiff(!1).changes}var R=e(15333),Z=e(88434),J=e(31154),Ce=e(824),Se=e(76605),Ie=e(49316);class Me{constructor(ht){this.lines=ht,this.tokenization={getLineTokens:Kt=>this.lines[Kt-1]}}getLineCount(){return this.lines.length}getLineLength(ht){return this.lines[ht-1].getLineContent().length}}var Oe=e(13154),se=e(54693),ce=e(90517),Ee=e(72354),me=e(22070),Pe=e(19623),he=e(56767),Ze=function(un,ht){return function(Kt,nn){ht(Kt,nn,un)}},ze=function(un,ht,Kt,nn){return new(Kt||(Kt=Promise))(function(In,bn){function Ct(Yt){try{jt(nn.next(Yt))}catch(gn){bn(gn)}}function Wt(Yt){try{jt(nn.throw(Yt))}catch(gn){bn(gn)}}function jt(Yt){Yt.done?In(Yt.value):function Dn(In){return In instanceof Kt?In:new Kt(function(bn){bn(In)})}(Yt.value).then(Ct,Wt)}jt((nn=nn.apply(un,ht||[])).next())})};let fe=class extends I.JT{constructor(ht,Kt,nn,Dn,In,bn,Ct){super(),this.editor=ht,this.cache=Kt,this.commandService=nn,this.languageConfigurationService=Dn,this.languageFeaturesService=In,this.debounceService=bn,this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new I.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(nn.onDidExecuteCommand(Wt=>{new Set([n.CoreEditingCommands.Tab.id,n.CoreEditingCommands.DeleteLeft.id,n.CoreEditingCommands.DeleteRight.id,C,"acceptSelectedSuggestion"]).has(Wt.commandId)&&ht.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Wt=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Wt=>{(3===Wt.reason||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,I.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{Ct.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var ht;return null===(ht=this.session)||void 0===ht?void 0:ht.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(ht){var Kt;null===(Kt=this.session)||void 0===Kt||Kt.setExpanded(ht)}setActive(ht){var Kt;this.active=ht,ht&&(null===(Kt=this.session)||void 0===Kt||Kt.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(57).enabled&&(this.session&&this.session.isValid||this.trigger(_.bw.Automatic))}trigger(ht){this.completionSession.value?ht===_.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new Ke(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,ht,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var ht;null===(ht=this.session)||void 0===ht||ht.commitCurrentCompletion()}showNext(){var ht;null===(ht=this.session)||void 0===ht||ht.showNextInlineCompletion()}showPrevious(){var ht;null===(ht=this.session)||void 0===ht||ht.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var ht;return ze(this,void 0,void 0,function*(){const Kt=yield null===(ht=this.session)||void 0===ht?void 0:ht.hasMultipleInlineCompletions();return void 0!==Kt&&Kt})}};fe=function(un,ht,Kt,nn){var bn,Dn=arguments.length,In=Dn<3?ht:null===nn?nn=Object.getOwnPropertyDescriptor(ht,Kt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)In=Reflect.decorate(un,ht,Kt,nn);else for(var Ct=un.length-1;Ct>=0;Ct--)(bn=un[Ct])&&(In=(Dn<3?bn(In):Dn>3?bn(ht,Kt,In):bn(ht,Kt))||In);return Dn>3&&In&&Object.defineProperty(ht,Kt,In),In}([Ze(2,W.Hy),Ze(3,R.c_),Ze(4,Oe.p),Ze(5,se.A),Ze(6,he.Ui)],fe);class Ke extends k{constructor(ht,Kt,nn,Dn,In,bn,Ct,Wt,jt){let Yt;super(ht),this.triggerPosition=Kt,this.shouldUpdate=nn,this.commandService=Dn,this.cache=In,this.initialTriggerKind=bn,this.languageConfigurationService=Ct,this.registry=Wt,this.debounce=jt,this.minReservedLineCount=0,this.updateOperation=this._register(new I.XK),this.updateSoon=this._register(new r.pY(()=>{const gn=this.initialTriggerKind;return this.initialTriggerKind=_.bw.Automatic,this.update(gn)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{var gn;const Be=this.currentCompletion;if(Be&&Be.sourceInlineCompletion!==Yt){Yt=Be.sourceInlineCompletion;const _t=Be.sourceProvider;null===(gn=_t.handleItemDidShow)||void 0===gn||gn.call(_t,Be.sourceInlineCompletions,Yt)}})),this._register((0,I.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(gn=>{var Be;3!==gn.reason&&(null===(Be=this.cache.value)||void 0===Be||Be.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(gn=>{var Be;null===(Be=this.cache.value)||void 0===Be||Be.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value)return void(this.filteredCompletions=[]);const ht=this.editor.getModel(),Kt=ht.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(nn=>{const Dn=ht.getValueInRange(nn.synchronizedRange).toLowerCase(),In=nn.inlineCompletion.filterText.toLowerCase(),bn=ht.getLineIndentColumn(nn.synchronizedRange.startLineNumber),Ct=Math.max(0,Kt.column-nn.synchronizedRange.startColumn);let Wt=In.substring(0,Ct),jt=In.substring(Ct),Yt=Dn.substring(0,Ct),gn=Dn.substring(Ct);return nn.synchronizedRange.startColumn<=bn&&(Yt=Yt.trimStart(),0===Yt.length&&(gn=gn.trimStart()),Wt=Wt.trimStart(),0===Wt.length&&(jt=jt.trimStart())),Wt.startsWith(Yt)&&(0,Pe.Sy)(gn,jt)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const ht=this.filteredCompletions.findIndex(Kt=>Kt.semanticId===this.currentlySelectedCompletionId);return-1===ht?(this.currentlySelectedCompletionId=void 0,0):ht}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return ze(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ht=this.filteredCompletions||[];if(ht.length>0){const Kt=(this.fixAndGetIndexOfCurrentSelection()+1)%ht.length;this.currentlySelectedCompletionId=ht[Kt].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return ze(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ht=this.filteredCompletions||[];if(ht.length>0){const Kt=(this.fixAndGetIndexOfCurrentSelection()+ht.length-1)%ht.length;this.currentlySelectedCompletionId=ht[Kt].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var ht;return ze(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===_.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(_.bw.Explicit):(null===(ht=this.cache.value)||void 0===ht?void 0:ht.triggerKind)!==_.bw.Explicit&&(yield this.update(_.bw.Explicit))})}hasMultipleInlineCompletions(){var ht;return ze(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(ht=this.cache.value)||void 0===ht?void 0:ht.completions.length)||0)>1})}get ghostText(){const ht=this.currentCompletion;if(!ht)return;const Kt=this.editor.getPosition();if(ht.range.getEndPosition().isBefore(Kt))return;const nn=this.editor.getOptions().get(57).mode,Dn=O(ht,this.editor.getModel(),nn,Kt);return Dn?Dn.isEmpty()?void 0:Dn:new A(ht.range.startLineNumber,ht.range.startColumn,ht.range.endColumn-ht.range.startColumn,ht.insertText.split("\n"),0)}get currentCompletion(){const ht=this.currentCachedCompletion;if(ht)return ht.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(ht){return ze(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const Kt=this.editor.getPosition(),nn=new Date,Dn=(0,r.PG)(bn=>ze(this,void 0,void 0,function*(){let Ct;try{Ct=yield Xe(this.registry,Kt,this.editor.getModel(),{triggerKind:ht,selectedSuggestionInfo:void 0},bn,this.languageConfigurationService);const Wt=new Date;this.debounce.update(this.editor.getModel(),Wt.getTime()-nn.getTime())}catch(Wt){return void(0,u.dL)(Wt)}bn.isCancellationRequested||(this.cache.setValue(this.editor,Ct,ht),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),In=new Je(Dn,ht);this.updateOperation.value=In,yield Dn,this.updateOperation.value===In&&this.updateOperation.clear()})}takeOwnership(ht){this._register(ht)}commitCurrentCompletion(){if(!this.ghostText)return;const Kt=this.currentCompletion;Kt&&this.commit(Kt)}commit(ht){var Kt;const nn=this.cache.clearAndLeak();ht.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[d.h.replaceMove(ht.range,""),...ht.additionalTextEdits]),this.editor.setPosition(ht.snippetInfo.range.getStartPosition()),null===(Kt=Ee.SnippetController2.get(this.editor))||void 0===Kt||Kt.insert(ht.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[d.h.replaceMove(ht.range,ht.insertText),...ht.additionalTextEdits]),ht.command?this.commandService.executeCommand(ht.command.id,...ht.command.arguments||[]).finally(()=>{nn?.dispose()}).then(void 0,u.Cp):nn?.dispose(),this.onDidChangeEmitter.fire()}get commands(){var ht;return[...new Set((null===(ht=this.cache.value)||void 0===ht?void 0:ht.completions.map(nn=>nn.inlineCompletion.sourceInlineCompletions))||[])].flatMap(nn=>nn.commands||[])}}class Je{constructor(ht,Kt){this.promise=ht,this.triggerKind=Kt}dispose(){this.promise.cancel()}}class vt extends I.JT{constructor(ht,Kt,nn,Dn){super(),this.editor=Kt,this.onChange=nn,this.triggerKind=Dn,this.isDisposing=!1;const In=Kt.changeDecorations(bn=>bn.deltaDecorations([],ht.items.map(Ct=>({range:Ct.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,I.OF)(()=>{this.isDisposing=!0,Kt.removeDecorations(In)})),this.completions=ht.items.map((bn,Ct)=>new Et(bn,In[Ct])),this._register(Kt.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(ht)}updateRanges(){if(this.isDisposing)return;let ht=!1;const Kt=this.editor.getModel();for(const nn of this.completions){const Dn=Kt.getDecorationRange(nn.decorationId);Dn?nn.synchronizedRange.equalsRange(Dn)||(ht=!0,nn.synchronizedRange=Dn):(0,u.dL)(new Error("Decoration has no range"))}ht&&this.onChange()}}class Et{constructor(ht,Kt){this.inlineCompletion=ht,this.decorationId=Kt,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=ht.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function Xe(un,ht,Kt,nn,Dn=a.T.None,In){return ze(this,void 0,void 0,function*(){const bn=function re(un,ht){const Kt=ht.getWordAtPosition(un),nn=ht.getLineMaxColumn(un.lineNumber);return Kt?new y.e(un.lineNumber,Kt.startColumn,un.lineNumber,nn):y.e.fromPositions(un,un.with(void 0,nn))}(ht,Kt),Ct=un.all(Kt),Wt=yield Promise.all(Ct.map(Yt=>ze(this,void 0,void 0,function*(){const gn=yield Promise.resolve(Yt.provideInlineCompletions(Kt,ht,nn,Dn)).catch(u.Cp);return{completions:gn,provider:Yt,dispose:()=>{gn&&Yt.freeInlineCompletions(gn)}}}))),jt=new Map;for(const Yt of Wt){const gn=Yt.completions;if(gn)for(const Be of gn.items){let vn,$n,_t=Be.range?y.e.lift(Be.range):bn;if(_t.startLineNumber!==_t.endLineNumber)continue;if("string"==typeof Be.insertText){if(vn=Be.insertText,In&&Be.completeBracketPairs){vn=pe(vn,_t.getStartPosition(),Kt,In);const Ii=vn.length-Be.insertText.length;0!==Ii&&(_t=new y.e(_t.startLineNumber,_t.startColumn,_t.endLineNumber,_t.endColumn+Ii))}$n=void 0}else"snippet"in Be.insertText?(vn=(new ce.Yj).parse(Be.insertText.snippet).toString(),$n={snippet:Be.insertText.snippet,range:_t}):(0,me.vE)(Be.insertText);const Pi={insertText:vn,snippetInfo:$n,range:_t,command:Be.command,sourceProvider:Yt.provider,sourceInlineCompletions:gn,sourceInlineCompletion:Be,filterText:Be.filterText||vn,additionalTextEdits:Be.additionalTextEdits||w};jt.set(JSON.stringify({insertText:vn,range:Be.range}),Pi)}}return{items:[...jt.values()],dispose:()=>{for(const Yt of Wt)Yt.dispose()}}})}function pe(un,ht,Kt,nn){const In=Kt.getLineContent(ht.lineNumber).substring(0,ht.column-1)+un,bn=Kt.tokenization.tokenizeLineWithEdit(ht,In.length-(ht.column-1),un),Ct=bn?.sliceAndInflate(ht.column-1,In.length,0);return Ct?function xe(un,ht){const Kt=new Se.FE,nn=new Z.Z(Kt,jt=>ht.getLanguageConfiguration(jt)),Dn=new Ie.xH(new Me([un]),nn),In=(0,Ce.w)(Dn,[],void 0,!0);let bn="";const Ct=un.getLineContent();return function Wt(jt,Yt){if(2===jt.kind)if(Wt(jt.openingBracket,Yt),Yt=(0,J.Ii)(Yt,jt.openingBracket.length),jt.child&&(Wt(jt.child,Yt),Yt=(0,J.Ii)(Yt,jt.child.length)),jt.closingBracket)Wt(jt.closingBracket,Yt),Yt=(0,J.Ii)(Yt,jt.closingBracket.length);else{const Be=nn.getSingleLanguageBracketTokens(jt.openingBracket.languageId).findClosingTokenText(jt.openingBracket.bracketIds);bn+=Be}else if(3!==jt.kind)if(0===jt.kind||1===jt.kind)bn+=Ct.substring((0,J.F_)(Yt),(0,J.F_)((0,J.Ii)(Yt,jt.length)));else if(4===jt.kind)for(const gn of jt.children)Wt(gn,Yt),Yt=(0,J.Ii)(Yt,gn.length)}(In,J.xl),bn}(Ct,nn):un}var ge=e(14940),de=e(55769),Q=e(94363);class ye extends I.JT{constructor(ht,Kt){super(),this.editor=ht,this.suggestControllerPreselector=Kt,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new r.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(ht.onKeyDown(Dn=>{Dn.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(ht.onKeyUp(Dn=>{Dn.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const nn=Q.SuggestController.get(this.editor);if(nn){this._register(nn.registerSelector({priority:100,select:(bn,Ct,Wt)=>{const jt=this.editor.getModel(),Yt=z(jt,this.suggestControllerPreselector());if(!Yt)return-1;const gn=D.L.lift(Ct),Be=Wt.map((vn,$n)=>{const Pi=dt(nn,gn,vn,this.isShiftKeyPressed),Ii=z(jt,Pi?.normalizedInlineCompletion);if(!Ii)return;const ii=function Ae(un,ht){return ht.startLineNumber===un.startLineNumber&&ht.startColumn===un.startColumn&&(ht.endLineNumber<un.endLineNumber||ht.endLineNumber===un.endLineNumber&&ht.endColumn<=un.endColumn)}(Yt.range,Ii.range)&&Yt.insertText.startsWith(Ii.insertText);return{index:$n,valid:ii,prefixLength:Ii.insertText.length,suggestItem:vn}}).filter(vn=>vn&&vn.valid),_t=(0,ge.Dc)(Be,(0,ge.tT)(vn=>vn.prefixLength,ge.fv));return _t?_t.index:-1}}));let Dn=!1;const In=()=>{Dn||(Dn=!0,this._register(nn.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(nn.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(nn.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(f.ju.once(nn.model.onDidTrigger)(bn=>{In()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(ht){const Kt=this.getSuggestItemInfo();let nn=!1;(function ft(un,ht){return un===ht||!(!un||!ht)&&un.completionItemKind===ht.completionItemKind&&un.isSnippetText===ht.isSnippetText&&function N(un,ht){return un===ht||!(!un||!ht)&&un.range.equalsRange(ht.range)&&un.insertText===ht.insertText&&un.command===ht.command}(un.normalizedInlineCompletion,ht.normalizedInlineCompletion)})(this._currentSuggestItemInfo,Kt)||(this._currentSuggestItemInfo=Kt,nn=!0),this._isActive!==ht&&(this._isActive=ht,nn=!0),nn&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const ht=Q.SuggestController.get(this.editor);if(!ht||!this.isSuggestWidgetVisible)return;const Kt=ht.widget.value.getFocusedItem();return Kt?dt(ht,this.editor.getPosition(),Kt.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const ht=Q.SuggestController.get(this.editor);ht&&ht.stopForceRenderingAbove()}forceRenderingAbove(){const ht=Q.SuggestController.get(this.editor);ht&&ht.forceRenderingAbove()}}function dt(un,ht,Kt,nn){if(Array.isArray(Kt.completion.additionalTextEdits)&&Kt.completion.additionalTextEdits.length>0)return{completionItemKind:Kt.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:y.e.fromPositions(ht,ht),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:Dn}=Kt.completion,In=!1;if(4&Kt.completion.insertTextRules){const Ct=(new ce.Yj).parse(Dn),Wt=un.editor.getModel();if(Ct.children.length>100)return;de.l.adjustWhitespace(Wt,ht,Ct,!0,!0),Dn=Ct.toString(),In=!0}const bn=un.getOverwriteInfo(Kt,nn);return{isSnippetText:In,completionItemKind:Kt.completion.kind,normalizedInlineCompletion:{insertText:Dn,filterText:Dn,range:y.e.fromPositions(ht.delta(0,-bn.overwriteBefore),ht.delta(0,Math.max(bn.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var st=function(un,ht,Kt,nn){return new(Kt||(Kt=Promise))(function(In,bn){function Ct(Yt){try{jt(nn.next(Yt))}catch(gn){bn(gn)}}function Wt(Yt){try{jt(nn.throw(Yt))}catch(gn){bn(gn)}}function jt(Yt){Yt.done?In(Yt.value):function Dn(In){return In instanceof Kt?In:new Kt(function(bn){bn(In)})}(Yt.value).then(Ct,Wt)}jt((nn=nn.apply(un,ht||[])).next())})};let St=class extends k{constructor(ht,Kt,nn){super(ht),this.cache=Kt,this.languageFeaturesService=nn,this.suggestionInlineCompletionSource=this._register(new ye(this.editor,()=>{var Dn,In;return null===(In=null===(Dn=this.cache.value)||void 0===Dn?void 0:Dn.completions[0])||void 0===In?void 0:In.toLiveInlineCompletion()})),this.updateOperation=this._register(new I.XK),this.updateCacheSoon=this._register(new r.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const In=this.ghostText;In&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function mt(un){return un.reduce((ht,Kt)=>ht+Kt,0)}(In.parts.map(bn=>bn.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(Dn=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,I.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return st(this,void 0,void 0,function*(){const ht=this.suggestionInlineCompletionSource.state;if(!ht||!ht.selectedItem)return;const Kt={text:ht.selectedItem.normalizedInlineCompletion.insertText,range:ht.selectedItem.normalizedInlineCompletion.range,isSnippetText:ht.selectedItem.isSnippetText,completionKind:ht.selectedItem.completionItemKind},nn=this.editor.getPosition();if(ht.selectedItem.isSnippetText||27===ht.selectedItem.completionItemKind||20===ht.selectedItem.completionItemKind||23===ht.selectedItem.completionItemKind)return void this.cache.clear();const Dn=(0,r.PG)(bn=>st(this,void 0,void 0,function*(){let Ct;try{Ct=yield Xe(this.languageFeaturesService.inlineCompletionsProvider,nn,this.editor.getModel(),{triggerKind:_.bw.Automatic,selectedSuggestionInfo:Kt},bn)}catch(Wt){return void(0,u.dL)(Wt)}bn.isCancellationRequested?Ct.dispose():(this.cache.setValue(this.editor,Ct,_.bw.Automatic),this.onDidChangeEmitter.fire())})),In=new Je(Dn,_.bw.Automatic);this.updateOperation.value=In,yield Dn,this.updateOperation.value===In&&this.updateOperation.clear()})}get ghostText(){var ht,Kt,nn;const Dn=this.isSuggestionPreviewEnabled(),In=this.editor.getModel(),bn=z(In,null===(Kt=null===(ht=this.cache.value)||void 0===ht?void 0:ht.completions[0])||void 0===Kt?void 0:Kt.toLiveInlineCompletion()),Ct=this.suggestionInlineCompletionSource.state,Wt=z(In,null===(nn=Ct?.selectedItem)||void 0===nn?void 0:nn.normalizedInlineCompletion),jt=bn&&Wt&&bn.insertText.startsWith(Wt.insertText)&&bn.range.equalsRange(Wt.range);if(!Dn&&!jt)return;const Yt=jt?bn:Wt||bn;return this.toGhostText(Yt,jt?Yt.insertText.length-Wt.insertText.length:0)}toGhostText(ht,Kt){const nn=this.editor.getOptions().get(108).previewMode;return ht?O(ht,this.editor.getModel(),nn,this.editor.getPosition(),Kt)||new L(ht.range.endLineNumber,[],this.minReservedLineCount):void 0}};var ht;St=function(un,ht,Kt,nn){var bn,Dn=arguments.length,In=Dn<3?ht:null===nn?nn=Object.getOwnPropertyDescriptor(ht,Kt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)In=Reflect.decorate(un,ht,Kt,nn);else for(var Ct=un.length-1;Ct>=0;Ct--)(bn=un[Ct])&&(In=(Dn<3?bn(In):Dn>3?bn(ht,Kt,In):bn(ht,Kt))||In);return Dn>3&&In&&Object.defineProperty(ht,Kt,In),In}([(2,ht=Oe.p,function(Kt,nn){ht(Kt,nn,2)})],St);var bt=e(30888);class Tt extends I.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new I.XK)}get targetModel(){var ht;return null===(ht=this.currentModelRef.value)||void 0===ht?void 0:ht.object}setTargetModel(ht){var Kt;(null===(Kt=this.currentModelRef.value)||void 0===Kt?void 0:Kt.object)!==ht&&(this.currentModelRef.clear(),this.currentModelRef.value=ht?function g(un,ht){return{object:un,dispose:()=>ht?.dispose()}}(ht,ht.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var ht,Kt;return this.hasCachedGhostText||(this.cachedGhostText=null===(Kt=null===(ht=this.currentModelRef.value)||void 0===ht?void 0:ht.object)||void 0===Kt?void 0:Kt.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(ht){var Kt;null===(Kt=this.targetModel)||void 0===Kt||Kt.setExpanded(ht)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let qt=class extends Tt{constructor(ht,Kt){super(),this.editor=ht,this.instantiationService=Kt,this.sharedCache=this._register(new Ot),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(St,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(fe,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(ht){var Kt;const nn=null===(Kt=this.activeInlineCompletionsModel)||void 0===Kt?void 0:Kt.ghostText;return!!nn&&nn.parts.some(Dn=>ht.containsPosition(new D.L(nn.lineNumber,Dn.column)))}triggerInlineCompletion(){var ht;null===(ht=this.activeInlineCompletionsModel)||void 0===ht||ht.trigger(_.bw.Explicit)}commitInlineCompletion(){var ht;null===(ht=this.activeInlineCompletionsModel)||void 0===ht||ht.commitCurrentSuggestion()}hideInlineCompletion(){var ht;null===(ht=this.activeInlineCompletionsModel)||void 0===ht||ht.hide()}showNextInlineCompletion(){var ht;null===(ht=this.activeInlineCompletionsModel)||void 0===ht||ht.showNext()}showPreviousInlineCompletion(){var ht;null===(ht=this.activeInlineCompletionsModel)||void 0===ht||ht.showPrevious()}hasMultipleInlineCompletions(){var ht;return function(un,ht,Kt,nn){return new(Kt||(Kt=Promise))(function(In,bn){function Ct(Yt){try{jt(nn.next(Yt))}catch(gn){bn(gn)}}function Wt(Yt){try{jt(nn.throw(Yt))}catch(gn){bn(gn)}}function jt(Yt){Yt.done?In(Yt.value):function Dn(In){return In instanceof Kt?In:new Kt(function(bn){bn(In)})}(Yt.value).then(Ct,Wt)}jt((nn=nn.apply(un,ht||[])).next())})}(this,void 0,void 0,function*(){const Kt=yield null===(ht=this.activeInlineCompletionsModel)||void 0===ht?void 0:ht.hasMultipleInlineCompletions();return void 0!==Kt&&Kt})}};qt=function(un,ht,Kt,nn){var bn,Dn=arguments.length,In=Dn<3?ht:null===nn?nn=Object.getOwnPropertyDescriptor(ht,Kt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)In=Reflect.decorate(un,ht,Kt,nn);else for(var Ct=un.length-1;Ct>=0;Ct--)(bn=un[Ct])&&(In=(Dn<3?bn(In):Dn>3?bn(ht,Kt,In):bn(ht,Kt))||In);return Dn>3&&In&&Object.defineProperty(ht,Kt,In),In}([function(un,ht){return function(Kt,nn){ht(Kt,nn,1)}}(0,bt.TG)],qt);class Ot extends I.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new I.XK)}get value(){return this.cache.value}setValue(ht,Kt,nn){this.cache.value=new vt(Kt,ht,()=>this.onDidChangeEmitter.fire(),nn)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Ft=e(94418),rt=e(92123),Le=e.n(rt),ie=e(65057),te=e.n(ie),oe=e(28764),we=e.n(oe),nt=e(6557),He=e.n(nt),De=e(11146),pt=e.n(De),lt=e(95085),Ht=e.n(lt),Xt=e(48449),ut={};ut.styleTagTransform=Ht(),ut.setAttributes=He(),ut.insert=we().bind(null,"head"),ut.domAPI=te(),ut.insertStyleElement=pt(),Le()(Xt.Z,ut);var en,Gn=e(20635),li=e(11739),fi=e(12922),ri=e(23859),_i=e(59129),Xi=e(12375),Zi=e(99327),vo=e(90090),oo=e(93389),yo=e(14089),oi=function(un,ht){return function(Kt,nn){ht(Kt,nn,un)}};const wt=null===(en=window.trustedTypes)||void 0===en?void 0:en.createPolicy("editorGhostText",{createHTML:un=>un});let Dt=class extends I.JT{constructor(ht,Kt,nn,Dn){super(),this.editor=ht,this.model=Kt,this.instantiationService=nn,this.languageService=Dn,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(tn,this.editor)),this.additionalLinesWidget=this._register(new cn(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new $t(this.editor)),this._register(this.editor.onDidChangeConfiguration(In=>{(In.hasChanged(29)||In.hasChanged(107)||In.hasChanged(90)||In.hasChanged(85)||In.hasChanged(47)||In.hasChanged(46)||In.hasChanged(61))&&this.update()})),this._register((0,I.OF)(()=>{var In;this.disposed=!0,this.update(),null===(In=this.viewMoreContentWidget)||void 0===In||In.dispose(),this.viewMoreContentWidget=void 0})),this._register(Kt.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(ht){return this.additionalLinesWidget.viewZoneId===ht}update(){var ht;const Kt=this.model.ghostText;if(!this.editor.hasModel()||!Kt||this.disposed)return this.partsWidget.clear(),this.additionalLinesWidget.clear(),void this.replacementDecoration.clear();const nn=new Array,Dn=new Array;function In(jt,Yt){if(Dn.length>0){const gn=Dn[Dn.length-1];Yt&&gn.decorations.push(new vo.Kp(gn.content.length+1,gn.content.length+1+jt[0].length,Yt,0)),gn.content+=jt[0],jt=jt.slice(1)}for(const gn of jt)Dn.push({content:gn,decorations:Yt?[new vo.Kp(1,gn.length+1,Yt,0)]:[]})}this.replacementDecoration.setDecorations(Kt instanceof A?[{range:new y.e(Kt.lineNumber,Kt.columnStart,Kt.lineNumber,Kt.columnStart+Kt.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]:[]);const bn=this.editor.getModel().getLineContent(Kt.lineNumber);let Ct,Wt=0;for(const jt of Kt.parts){let Yt=jt.lines;void 0===Ct?(nn.push({column:jt.column,text:Yt[0],preview:jt.preview}),Yt=Yt.slice(1)):In([bn.substring(Wt,jt.column-1)],void 0),Yt.length>0&&(In(Yt,"ghost-text"),void 0===Ct&&jt.column<=bn.length&&(Ct=jt.column)),Wt=jt.column-1}void 0!==Ct&&In([bn.substring(Wt)],void 0),this.partsWidget.setParts(Kt.lineNumber,nn,void 0!==Ct?{column:Ct,length:bn.length+1-Ct}:void 0),this.additionalLinesWidget.updateLines(Kt.lineNumber,Dn,Kt.additionalReservedLineCount),null===(ht=this.viewMoreContentWidget)||void 0===ht||ht.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(ht,Kt,nn){const Dn=this.editor.getOption(46),In=document.createElement("div");In.className="suggest-preview-additional-widget",(0,Gn.N)(In,Dn);const bn=document.createElement("span");bn.className="content-spacer",bn.append(Kt),In.append(bn);const Ct=document.createElement("span");Ct.className="content-newline suggest-preview-text",Ct.append("\u23ce  "),In.append(Ct);const Wt=new I.SL,jt=document.createElement("div");return jt.className="button suggest-preview-text",jt.append(`+${nn} lines\u2026`),Wt.add(Ft.mu(jt,"mousedown",Yt=>{var gn;null===(gn=this.model)||void 0===gn||gn.setExpanded(!0),Yt.preventDefault(),this.editor.focus()})),In.append(jt),new Pn(this.editor,ht,In,Wt)}};Dt=function(un,ht,Kt,nn){var bn,Dn=arguments.length,In=Dn<3?ht:null===nn?nn=Object.getOwnPropertyDescriptor(ht,Kt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)In=Reflect.decorate(un,ht,Kt,nn);else for(var Ct=un.length-1;Ct>=0;Ct--)(bn=un[Ct])&&(In=(Dn<3?bn(In):Dn>3?bn(ht,Kt,In):bn(ht,Kt))||In);return Dn>3&&In&&Object.defineProperty(ht,Kt,In),In}([oi(2,bt.TG),oi(3,Xi.O)],Dt);class $t{constructor(ht){this.editor=ht,this.decorationIds=[]}setDecorations(ht){this.editor.changeDecorations(Kt=>{this.decorationIds=Kt.deltaDecorations(this.decorationIds,ht)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class tn{constructor(ht){this.editor=ht,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(ht=>{this.decorationIds=ht.deltaDecorations(this.decorationIds,[])})}setParts(ht,Kt,nn){if(!this.editor.getModel())return;const In=new Array;nn&&In.push({range:y.e.fromPositions(new D.L(ht,nn.column),new D.L(ht,nn.column+nn.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(bn=>{this.decorationIds=bn.deltaDecorations(this.decorationIds,Kt.map(Ct=>({range:y.e.fromPositions(new D.L(ht,Ct.column)),options:{description:"ghost-text",after:{content:Ct.text,inlineClassName:Ct.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:_i.RM.Left},showIfCollapsed:!0}})).concat(In))})}}class cn{constructor(ht,Kt){this.editor=ht,this.languageIdCodec=Kt,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(ht=>{this._viewZoneId&&(ht.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(ht,Kt,nn){const Dn=this.editor.getModel();if(!Dn)return;const{tabSize:In}=Dn.getOptions();this.editor.changeViewZones(bn=>{this._viewZoneId&&(bn.removeZone(this._viewZoneId),this._viewZoneId=void 0);const Ct=Math.max(Kt.length,nn);if(Ct>0){const Wt=document.createElement("div");(function Cn(un,ht,Kt,nn,Dn){const In=nn.get(29),bn=nn.get(107),Wt=nn.get(85),jt=nn.get(47),Yt=nn.get(46),gn=nn.get(61),Be=(0,ri.l$)(1e4);Be.appendASCIIString('<div class="suggest-preview-text">');for(let $n=0,Pi=Kt.length;$n<Pi;$n++){const Ii=Kt[$n],ii=Ii.content;Be.appendASCIIString('<div class="view-line'),Be.appendASCIIString('" style="top:'),Be.appendASCIIString(String($n*gn)),Be.appendASCIIString('px;width:1000000px;">');const Ut=b.$i(ii),F=b.Ut(ii),ee=fi.A.createEmpty(ii,Dn);(0,oo.d1)(new oo.IJ(Yt.isMonospace&&!In,Yt.canUseHalfwidthRightwardsArrow,ii,!1,Ut,F,0,ee,Ii.decorations,ht,0,Yt.spaceWidth,Yt.middotWidth,Yt.wsmiddotWidth,bn,"none",Wt,jt!==li.n0.OFF,null),Be),Be.appendASCIIString("</div>")}Be.appendASCIIString("</div>"),(0,Gn.N)(un,Yt);const _t=Be.build(),vn=wt?wt.createHTML(_t):_t;un.innerHTML=vn})(Wt,In,Kt,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=bn.addZone({afterLineNumber:ht,heightInLines:Ct,domNode:Wt,afterColumnAffinity:1})}})}}class Pn extends I.JT{constructor(ht,Kt,nn,Dn){super(),this.editor=ht,this.position=Kt,this.domNode=nn,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(Dn),this._register((0,I.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,yo.Ic)((un,ht)=>{const Kt=un.getColor(Zi.N5);Kt&&(ht.addRule(`.monaco-editor .ghost-text-decoration { color: ${Kt.toString()} !important; }`),ht.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${Kt.toString()} !important; }`),ht.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${Kt.toString()} !important; }`));const nn=un.getColor(Zi.IO);nn&&(ht.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${nn.toString()}; }`),ht.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${nn.toString()}; }`),ht.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${nn.toString()}; }`));const Dn=un.getColor(Zi.x3);Dn&&(ht.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${Dn}; }`),ht.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${Dn}; }`),ht.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${Dn}; }`))});var Hn=e(1200),zn=e(38336),bi=function(un,ht,Kt,nn){var bn,Dn=arguments.length,In=Dn<3?ht:null===nn?nn=Object.getOwnPropertyDescriptor(ht,Kt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)In=Reflect.decorate(un,ht,Kt,nn);else for(var Ct=un.length-1;Ct>=0;Ct--)(bn=un[Ct])&&(In=(Dn<3?bn(In):Dn>3?bn(ht,Kt,In):bn(ht,Kt))||In);return Dn>3&&In&&Object.defineProperty(ht,Kt,In),In},Ei=function(un,ht){return function(Kt,nn){ht(Kt,nn,un)}},ao=function(un,ht,Kt,nn){return new(Kt||(Kt=Promise))(function(In,bn){function Ct(Yt){try{jt(nn.next(Yt))}catch(gn){bn(gn)}}function Wt(Yt){try{jt(nn.throw(Yt))}catch(gn){bn(gn)}}function jt(Yt){Yt.done?In(Yt.value):function Dn(In){return In instanceof Kt?In:new Kt(function(bn){bn(In)})}(Yt.value).then(Ct,Wt)}jt((nn=nn.apply(un,ht||[])).next())})};let Oi=class Ru extends I.JT{constructor(ht,Kt){super(),this.editor=ht,this.instantiationService=Kt,this.triggeredExplicitly=!1,this.activeController=this._register(new I.XK),this.activeModelDidChangeEmitter=this._register(new f.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(nn=>{nn.hasChanged(108)&&this.updateModelController(),nn.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(ht){return ht.getContribution(Ru.ID)}get activeModel(){var ht;return null===(ht=this.activeController.value)||void 0===ht?void 0:ht.model}updateModelController(){const ht=this.editor.getOption(108),Kt=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(ht.preview||Kt.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Wi,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(ht){var Kt;return(null===(Kt=this.activeModel)||void 0===Kt?void 0:Kt.shouldShowHoverAt(ht))||!1}shouldShowHoverAtViewZone(ht){var Kt,nn;return(null===(nn=null===(Kt=this.activeController.value)||void 0===Kt?void 0:Kt.widget)||void 0===nn?void 0:nn.shouldShowHoverAtViewZone(ht))||!1}trigger(){var ht;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(ht=this.activeModel)||void 0===ht||ht.triggerInlineCompletion()}commit(){var ht;null===(ht=this.activeModel)||void 0===ht||ht.commitInlineCompletion()}hide(){var ht;null===(ht=this.activeModel)||void 0===ht||ht.hideInlineCompletion()}showNextInlineCompletion(){var ht;null===(ht=this.activeModel)||void 0===ht||ht.showNextInlineCompletion()}showPreviousInlineCompletion(){var ht;null===(ht=this.activeModel)||void 0===ht||ht.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var ht;return ao(this,void 0,void 0,function*(){const Kt=yield null===(ht=this.activeModel)||void 0===ht?void 0:ht.hasMultipleInlineCompletions();return void 0!==Kt&&Kt})}};Oi.inlineSuggestionVisible=new zn.uy("inlineSuggestionVisible",!1,Hn.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Oi.inlineSuggestionHasIndentation=new zn.uy("inlineSuggestionHasIndentation",!1,Hn.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Oi.inlineSuggestionHasIndentationLessThanTabSize=new zn.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Hn.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Oi.ID="editor.contrib.ghostTextController",Oi=bi([Ei(1,bt.TG)],Oi);class Qi{constructor(ht){this.contextKeyService=ht,this.inlineCompletionVisible=Oi.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Oi.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Oi.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Wi=class extends I.JT{constructor(ht,Kt,nn){super(),this.editor=ht,this.instantiationService=Kt,this.contextKeyService=nn,this.contextKeys=new Qi(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(qt,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Dt,this.editor,this.model)),this._register((0,I.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var ht;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(ht=this.model.activeInlineCompletionsModel)||void 0===ht?void 0:ht.ghostText));let Kt=!1,nn=!0;const Dn=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&Dn&&Dn.parts.length>0){const{column:In,lines:bn}=Dn.parts[0],Ct=bn[0];if(In<=this.editor.getModel().getLineIndentColumn(Dn.lineNumber)){let Yt=(0,b.LC)(Ct);-1===Yt&&(Yt=Ct.length-1),Kt=Yt>0;const gn=this.editor.getModel().getOptions().tabSize;nn=S.i.visibleColumnFromColumn(Ct,Yt+1,gn)<gn}}this.contextKeys.inlineCompletionSuggestsIndentation.set(Kt),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(nn)}};Wi=bi([Ei(1,bt.TG),Ei(2,zn.i6)],Wi);let xo=(()=>{class un extends s.R6{constructor(){super({id:un.ID,label:Hn.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:zn.Ao.and(t.u.writable,Oi.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(Kt,nn){return ao(this,void 0,void 0,function*(){const Dn=Oi.get(nn);Dn&&(Dn.showNextInlineCompletion(),nn.focus())})}}return un.ID="editor.action.inlineSuggest.showNext",un})(),ro=(()=>{class un extends s.R6{constructor(){super({id:un.ID,label:Hn.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:zn.Ao.and(t.u.writable,Oi.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(Kt,nn){return ao(this,void 0,void 0,function*(){const Dn=Oi.get(nn);Dn&&(Dn.showPreviousInlineCompletion(),nn.focus())})}}return un.ID="editor.action.inlineSuggest.showPrevious",un})();var Mo=e(32418),Oo=e(87060),ko=e(1652),so=e(30116),Do=e(78668),ni=function(un,ht){return function(Kt,nn){ht(Kt,nn,un)}};class Zt{constructor(ht,Kt,nn){this.owner=ht,this.range=Kt,this.controller=nn}isValidForHoverAnchor(ht){return 1===ht.type&&this.range.startColumn<=ht.range.startColumn&&this.range.endColumn>=ht.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var ht,Kt,nn;return(null===(nn=null===(Kt=null===(ht=this.controller.activeModel)||void 0===ht?void 0:ht.activeInlineCompletionsModel)||void 0===Kt?void 0:Kt.completionSession.value)||void 0===nn?void 0:nn.commands)||[]}}let sn=class{constructor(ht,Kt,nn,Dn,In,bn,Ct){this._editor=ht,this._commandService=Kt,this._menuService=nn,this._contextKeyService=Dn,this._languageService=In,this._openerService=bn,this.accessibilityService=Ct,this.hoverOrdinal=3}suggestHoverAnchor(ht){const Kt=Oi.get(this._editor);if(!Kt)return null;const nn=ht.target;if(8===nn.type){const Dn=nn.detail;if(Kt.shouldShowHoverAtViewZone(Dn.viewZoneId))return new l.YM(1e3,this,y.e.fromPositions(Dn.positionBefore||Dn.position,Dn.positionBefore||Dn.position))}return 7===nn.type&&Kt.shouldShowHoverAt(nn.range)||6===nn.type&&nn.detail.mightBeForeignElement&&Kt.shouldShowHoverAt(nn.range)?new l.YM(1e3,this,nn.range):null}computeSync(ht,Kt){const nn=Oi.get(this._editor);return nn&&nn.shouldShowHoverAt(ht.range)?[new Zt(this,ht.range,nn)]:[]}renderHoverParts(ht,Kt){const nn=new I.SL,Dn=Kt[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(ht,Dn,nn);const In=nn.add(this._menuService.createMenu(so.eH.InlineCompletionsActions,this._contextKeyService)),bn=ht.statusBar.addAction({label:Hn.NC("showNextInlineSuggestion","Next"),commandId:xo.ID,run:()=>this._commandService.executeCommand(xo.ID)}),Ct=ht.statusBar.addAction({label:Hn.NC("showPreviousInlineSuggestion","Previous"),commandId:ro.ID,run:()=>this._commandService.executeCommand(ro.ID)});ht.statusBar.addAction({label:Hn.NC("acceptInlineSuggestion","Accept"),commandId:C,run:()=>this._commandService.executeCommand(C)});const Wt=[bn,Ct];for(const jt of Wt)jt.setEnabled(!1);Dn.hasMultipleSuggestions().then(jt=>{for(const Yt of Wt)Yt.setEnabled(jt)});for(const jt of Dn.commands)ht.statusBar.addAction({label:jt.title,commandId:jt.id,run:()=>this._commandService.executeCommand(jt.id,...jt.arguments||[])});for(const[jt,Yt]of In.getActions())for(const gn of Yt)gn instanceof so.U8&&ht.statusBar.addAction({label:gn.label,commandId:gn.item.id,run:()=>this._commandService.executeCommand(gn.item.id)});return nn}renderScreenReaderText(ht,Kt,nn){var Dn,In;const bn=Ft.$,Ct=bn("div.hover-row.markdown-hover"),Wt=Ft.R3(Ct,bn("div.hover-contents")),jt=nn.add(new Oo.$({editor:this._editor},this._languageService,this._openerService)),gn=null===(In=null===(Dn=Kt.controller.activeModel)||void 0===Dn?void 0:Dn.inlineCompletionsModel)||void 0===In?void 0:In.ghostText;if(gn){const Be=this._editor.getModel().getLineContent(gn.lineNumber);(Be=>{nn.add(jt.onDidRenderAsync(()=>{Wt.className="hover-contents code-hover-contents",ht.onContentsChanged()}));const _t=Hn.NC("inlineSuggestionFollows","Suggestion:"),vn=nn.add(jt.render((new Mo.W5).appendText(_t).appendCodeblock("text",Be)));Wt.replaceChildren(vn.element)})(gn.renderForScreenReader(Be))}ht.fragment.appendChild(Ct)}};sn=function(un,ht,Kt,nn){var bn,Dn=arguments.length,In=Dn<3?ht:null===nn?nn=Object.getOwnPropertyDescriptor(ht,Kt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)In=Reflect.decorate(un,ht,Kt,nn);else for(var Ct=un.length-1;Ct>=0;Ct--)(bn=un[Ct])&&(In=(Dn<3?bn(In):Dn>3?bn(ht,Kt,In):bn(ht,Kt))||In);return Dn>3&&In&&Object.defineProperty(ht,Kt,In),In}([ni(1,W.Hy),ni(2,so.co),ni(3,zn.i6),ni(4,Xi.O),ni(5,Do.v4),ni(6,ko.F)],sn);var dn=e(47545);(0,s._K)(Oi.ID,Oi),(0,s.Qr)(class Co extends s.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Hn.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:t.u.writable})}run(ht,Kt){return ao(this,void 0,void 0,function*(){const nn=Oi.get(Kt);nn&&nn.trigger()})}}),(0,s.Qr)(xo),(0,s.Qr)(ro),l.Ae.register(sn);const Bn=s._l.bindToContribution(Oi.get),An=new Bn({id:C,precondition:Oi.inlineSuggestionVisible,handler(un){un.commit(),un.editor.focus()}});(0,s.fK)(An),dn.W.registerKeybindingRule({primary:2,weight:200,id:An.id,when:zn.Ao.and(An.precondition,t.u.tabMovesFocus.toNegated(),Oi.inlineSuggestionHasIndentationLessThanTabSize)}),(0,s.fK)(new Bn({id:"editor.action.inlineSuggest.hide",precondition:Oi.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(un){un.hide()}}))},10820:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{ExpandLineSelectionAction:()=>f});var s=e(95102),t=e(50592),l=e(72325),C=e(1200);class f extends s.R6{constructor(){super({id:"expandLineSelection",label:C.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:l.u.textInputFocus,primary:2090}})}run(b,S,D){if(D=D||{},!S.hasModel())return;const _=S._getViewModel();_.model.pushStackElement(),_.setCursorStates(D.source,3,t.P.expandLineSelection(_,_.getCursorStates())),_.revealPrimaryCursor(D.source,!0)}}(0,s.Qr)(f)},68253:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{AbstractCaseAction:()=>Ze,AbstractDeleteAllToBoundaryAction:()=>Ee,AbstractSortLinesAction:()=>Z,DeleteAllLeftAction:()=>me,DeleteAllRightAction:()=>Pe,DeleteDuplicateLinesAction:()=>Se,DeleteLinesAction:()=>xe,DuplicateSelectionAction:()=>$,IndentLinesAction:()=>Me,InsertLineAfterAction:()=>ce,InsertLineBeforeAction:()=>se,JoinLinesAction:()=>he,KebabCaseAction:()=>Et,LowerCaseAction:()=>fe,SnakeCaseAction:()=>vt,SortLinesAscendingAction:()=>J,SortLinesDescendingAction:()=>Ce,TitleCaseAction:()=>Je,TransposeAction:()=>Fe,TrimTrailingWhitespaceAction:()=>Ie,UpperCaseAction:()=>ze});var s=e(32133),t=e(75090),l=e(95102),C=e(57535),f=e(77697),I=e(37304),b=e(88154);class S{constructor(re,pe){this._selection=re,this._cursors=pe,this._selectionId=null}getEditOperations(re,pe){const ge=function D(Xe,re){re.sort((ye,Ae)=>ye.lineNumber===Ae.lineNumber?ye.column-Ae.column:ye.lineNumber-Ae.lineNumber);for(let ye=re.length-2;ye>=0;ye--)re[ye].lineNumber===re[ye+1].lineNumber&&re.splice(ye,1);const pe=[];let ge=0,de=0;const Q=re.length;for(let ye=1,Ae=Xe.getLineCount();ye<=Ae;ye++){const ft=Xe.getLineContent(ye),dt=ft.length+1;let it=0;if(de<Q&&re[de].lineNumber===ye&&(it=re[de].column,de++,it===dt)||0===ft.length)continue;const et=f.ow(ft);let st=0;if(-1===et)st=1;else{if(et===ft.length-1)continue;st=et+2}st=Math.max(it,st),pe[ge++]=I.h.delete(new b.e(ye,st,ye,dt))}return pe}(re,this._cursors);for(let de=0,Q=ge.length;de<Q;de++){const ye=ge[de];pe.addEditOperation(ye.range,ye.text)}this._selectionId=pe.trackSelection(this._selection)}computeCursorState(re,pe){return pe.getTrackedSelection(this._selectionId)}}var _=e(16649),r=e(13902),a=e(58745),u=e(72325);class n{constructor(re,pe,ge){this._selection=re,this._isCopyingDown=pe,this._noop=ge||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(re,pe){let ge=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,ge.startLineNumber<ge.endLineNumber&&1===ge.endColumn&&(this._endLineNumberDelta=1,ge=ge.setEndPosition(ge.endLineNumber-1,re.getLineMaxColumn(ge.endLineNumber-1)));const de=[];for(let ye=ge.startLineNumber;ye<=ge.endLineNumber;ye++)de.push(re.getLineContent(ye));const Q=de.join("\n");""===Q&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?pe.addEditOperation(new b.e(ge.endLineNumber,re.getLineMaxColumn(ge.endLineNumber),ge.endLineNumber+1,1),ge.endLineNumber===re.getLineCount()?"":"\n"):this._isCopyingDown?pe.addEditOperation(new b.e(ge.startLineNumber,1,ge.startLineNumber,1),Q+"\n"):pe.addEditOperation(new b.e(ge.endLineNumber,re.getLineMaxColumn(ge.endLineNumber),ge.endLineNumber,re.getLineMaxColumn(ge.endLineNumber)),"\n"+Q),this._selectionId=pe.trackSelection(ge),this._selectionDirection=this._selection.getDirection()}computeCursorState(re,pe){let ge=pe.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let de=ge.startLineNumber,Q=ge.startColumn,ye=ge.endLineNumber,Ae=ge.endColumn;0!==this._startLineNumberDelta&&(de+=this._startLineNumberDelta,Q=1),0!==this._endLineNumberDelta&&(ye+=this._endLineNumberDelta,Ae=1),ge=a.Y.createWithDirection(de,Q,ye,Ae,this._selectionDirection)}return ge}}var d=e(70760),y=e(6326),g=e(15333),v=e(11735),m=e(62877),w=e(83633);let x=class{constructor(re,pe,ge,de){this._languageConfigurationService=de,this._selection=re,this._isMovingDown=pe,this._autoIndent=ge,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(re,pe){const ge=re.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===ge)return void(this._selectionId=pe.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=pe.trackSelection(this._selection));this._moveEndPositionDown=!1;let de=this._selection;de.startLineNumber<de.endLineNumber&&1===de.endColumn&&(this._moveEndPositionDown=!0,de=de.setEndPosition(de.endLineNumber-1,re.getLineMaxColumn(de.endLineNumber-1)));const{tabSize:Q,indentSize:ye,insertSpaces:Ae}=re.getOptions(),ft=this.buildIndentConverter(Q,ye,Ae),dt={tokenization:{getLineTokens:it=>re.tokenization.getLineTokens(it),getLanguageId:()=>re.getLanguageId(),getLanguageIdAtPosition:(it,et)=>re.getLanguageIdAtPosition(it,et)},getLineContent:null};if(de.startLineNumber===de.endLineNumber&&1===re.getLineMaxColumn(de.startLineNumber)){const it=de.startLineNumber,et=this._isMovingDown?it+1:it-1;1===re.getLineMaxColumn(et)?pe.addEditOperation(new b.e(1,1,1,1),null):(pe.addEditOperation(new b.e(it,1,it,1),re.getLineContent(et)),pe.addEditOperation(new b.e(et,1,et,re.getLineMaxColumn(et)),null)),de=new a.Y(et,1,et,1)}else{let it,et;if(this._isMovingDown){it=de.endLineNumber+1,et=re.getLineContent(it),pe.addEditOperation(new b.e(it-1,re.getLineMaxColumn(it-1),it,re.getLineMaxColumn(it)),null);let st=et;if(this.shouldAutoIndent(re,de)){const St=this.matchEnterRule(re,ft,Q,it,de.startLineNumber-1);if(null!==St){const bt=f.V8(re.getLineContent(it)),Bt=St+v.Y(bt,Q);st=v.J(Bt,Q,Ae)+this.trimLeft(et)}else{dt.getLineContent=Bt=>re.getLineContent(Bt===de.startLineNumber?it:Bt);const bt=(0,m.n8)(this._autoIndent,dt,re.getLanguageIdAtPosition(it,1),de.startLineNumber,ft,this._languageConfigurationService);if(null!==bt){const Bt=f.V8(re.getLineContent(it)),Lt=v.Y(bt,Q);Lt!==v.Y(Bt,Q)&&(st=v.J(Lt,Q,Ae)+this.trimLeft(et))}}pe.addEditOperation(new b.e(de.startLineNumber,1,de.startLineNumber,1),st+"\n");const mt=this.matchEnterRuleMovingDown(re,ft,Q,de.startLineNumber,it,st);if(null!==mt)0!==mt&&this.getIndentEditsOfMovingBlock(re,pe,de,Q,Ae,mt);else{dt.getLineContent=Bt=>Bt===de.startLineNumber?st:re.getLineContent(Bt>=de.startLineNumber+1&&Bt<=de.endLineNumber+1?Bt-1:Bt);const bt=(0,m.n8)(this._autoIndent,dt,re.getLanguageIdAtPosition(it,1),de.startLineNumber+1,ft,this._languageConfigurationService);if(null!==bt){const Bt=f.V8(re.getLineContent(de.startLineNumber)),Lt=v.Y(bt,Q),Ye=v.Y(Bt,Q);Lt!==Ye&&this.getIndentEditsOfMovingBlock(re,pe,de,Q,Ae,Lt-Ye)}}}else pe.addEditOperation(new b.e(de.startLineNumber,1,de.startLineNumber,1),st+"\n")}else if(it=de.startLineNumber-1,et=re.getLineContent(it),pe.addEditOperation(new b.e(it,1,it+1,1),null),pe.addEditOperation(new b.e(de.endLineNumber,re.getLineMaxColumn(de.endLineNumber),de.endLineNumber,re.getLineMaxColumn(de.endLineNumber)),"\n"+et),this.shouldAutoIndent(re,de)){dt.getLineContent=St=>re.getLineContent(St===it?de.startLineNumber:St);const st=this.matchEnterRule(re,ft,Q,de.startLineNumber,de.startLineNumber-2);if(null!==st)0!==st&&this.getIndentEditsOfMovingBlock(re,pe,de,Q,Ae,st);else{const St=(0,m.n8)(this._autoIndent,dt,re.getLanguageIdAtPosition(de.startLineNumber,1),it,ft,this._languageConfigurationService);if(null!==St){const mt=f.V8(re.getLineContent(de.startLineNumber)),bt=v.Y(St,Q),Bt=v.Y(mt,Q);bt!==Bt&&this.getIndentEditsOfMovingBlock(re,pe,de,Q,Ae,bt-Bt)}}}}this._selectionId=pe.trackSelection(de)}buildIndentConverter(re,pe,ge){return{shiftIndent:de=>d.U.shiftIndent(de,de.length+1,re,pe,ge),unshiftIndent:de=>d.U.unshiftIndent(de,de.length+1,re,pe,ge)}}parseEnterResult(re,pe,ge,de,Q){if(Q){let ye=Q.indentation;Q.indentAction===y.wU.None||Q.indentAction===y.wU.Indent?ye=Q.indentation+Q.appendText:Q.indentAction===y.wU.IndentOutdent?ye=Q.indentation:Q.indentAction===y.wU.Outdent&&(ye=pe.unshiftIndent(Q.indentation)+Q.appendText);const Ae=re.getLineContent(de);if(this.trimLeft(Ae).indexOf(this.trimLeft(ye))>=0){const ft=f.V8(re.getLineContent(de));let dt=f.V8(ye);const it=(0,m.tI)(re,de,this._languageConfigurationService);return null!==it&&2&it&&(dt=pe.unshiftIndent(dt)),v.Y(dt,ge)-v.Y(ft,ge)}}return null}matchEnterRuleMovingDown(re,pe,ge,de,Q,ye){if(f.ow(ye)>=0){const Ae=re.getLineMaxColumn(Q),ft=(0,w.A)(this._autoIndent,re,new b.e(Q,Ae,Q,Ae),this._languageConfigurationService);return this.parseEnterResult(re,pe,ge,de,ft)}{let Ae=de-1;for(;Ae>=1;){const it=re.getLineContent(Ae);if(f.ow(it)>=0)break;Ae--}if(Ae<1||de>re.getLineCount())return null;const ft=re.getLineMaxColumn(Ae),dt=(0,w.A)(this._autoIndent,re,new b.e(Ae,ft,Ae,ft),this._languageConfigurationService);return this.parseEnterResult(re,pe,ge,de,dt)}}matchEnterRule(re,pe,ge,de,Q,ye){let Ae=Q;for(;Ae>=1;){let it;if(it=Ae===Q&&void 0!==ye?ye:re.getLineContent(Ae),f.ow(it)>=0)break;Ae--}if(Ae<1||de>re.getLineCount())return null;const ft=re.getLineMaxColumn(Ae),dt=(0,w.A)(this._autoIndent,re,new b.e(Ae,ft,Ae,ft),this._languageConfigurationService);return this.parseEnterResult(re,pe,ge,de,dt)}trimLeft(re){return re.replace(/^\s+/,"")}shouldAutoIndent(re,pe){if(this._autoIndent<4||!re.tokenization.isCheapToTokenize(pe.startLineNumber))return!1;const ge=re.getLanguageIdAtPosition(pe.startLineNumber,1);return!(ge!==re.getLanguageIdAtPosition(pe.endLineNumber,1)||null===this._languageConfigurationService.getLanguageConfiguration(ge).indentRulesSupport)}getIndentEditsOfMovingBlock(re,pe,ge,de,Q,ye){for(let Ae=ge.startLineNumber;Ae<=ge.endLineNumber;Ae++){const ft=re.getLineContent(Ae),dt=f.V8(ft),et=v.Y(dt,de)+ye,st=v.J(et,de,Q);st!==dt&&(pe.addEditOperation(new b.e(Ae,1,Ae,dt.length+1),st),Ae===ge.endLineNumber&&ge.endColumn<=dt.length+1&&""===st&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(re,pe){let ge=pe.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(ge=ge.setEndPosition(ge.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&ge.startLineNumber<ge.endLineNumber&&(ge=ge.setEndPosition(ge.endLineNumber,2)),ge}};var re;x=function(Xe,re,pe,ge){var ye,de=arguments.length,Q=de<3?re:null===ge?ge=Object.getOwnPropertyDescriptor(re,pe):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(Xe,re,pe,ge);else for(var Ae=Xe.length-1;Ae>=0;Ae--)(ye=Xe[Ae])&&(Q=(de<3?ye(Q):de>3?ye(re,pe,Q):ye(re,pe))||Q);return de>3&&Q&&Object.defineProperty(re,pe,Q),Q}([(3,re=g.c_,function(pe,ge){re(pe,ge,3)})],x);let A=(()=>{class Xe{constructor(pe,ge){this.selection=pe,this.descending=ge,this.selectionId=null}static getCollator(){return Xe._COLLATOR||(Xe._COLLATOR=new Intl.Collator),Xe._COLLATOR}getEditOperations(pe,ge){const de=function W(Xe,re,pe){const ge=k(Xe,re,pe);return ge?I.h.replace(new b.e(ge.startLineNumber,1,ge.endLineNumber,Xe.getLineMaxColumn(ge.endLineNumber)),ge.after.join("\n")):null}(pe,this.selection,this.descending);de&&ge.addEditOperation(de.range,de.text),this.selectionId=ge.trackSelection(this.selection)}computeCursorState(pe,ge){return ge.getTrackedSelection(this.selectionId)}static canRun(pe,ge,de){if(null===pe)return!1;const Q=k(pe,ge,de);if(!Q)return!1;for(let ye=0,Ae=Q.before.length;ye<Ae;ye++)if(Q.before[ye]!==Q.after[ye])return!0;return!1}}return Xe._COLLATOR=null,Xe})();function k(Xe,re,pe){const ge=re.startLineNumber;let de=re.endLineNumber;if(1===re.endColumn&&de--,ge>=de)return null;const Q=[];for(let Ae=ge;Ae<=de;Ae++)Q.push(Xe.getLineContent(Ae));let ye=Q.slice(0);return ye.sort(A.getCollator().compare),!0===pe&&(ye=ye.reverse()),{startLineNumber:ge,endLineNumber:de,before:Q,after:ye}}var H=e(1200),z=e(30116);class N extends l.R6{constructor(re,pe){super(pe),this.down=re}run(re,pe){if(!pe.hasModel())return;const ge=pe.getSelections().map((ye,Ae)=>({selection:ye,index:Ae,ignore:!1}));ge.sort((ye,Ae)=>b.e.compareRangesUsingStarts(ye.selection,Ae.selection));let de=ge[0];for(let ye=1;ye<ge.length;ye++){const Ae=ge[ye];de.selection.endLineNumber===Ae.selection.startLineNumber&&(de.index<Ae.index?Ae.ignore=!0:(de.ignore=!0,de=Ae))}const Q=[];for(const ye of ge)Q.push(new n(ye.selection,this.down,ye.ignore));pe.pushUndoStop(),pe.executeCommands(this.id,Q),pe.pushUndoStop()}}class $ extends l.R6{constructor(){super({id:"editor.action.duplicateSelection",label:H.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:u.u.writable,menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(re,pe,ge){if(!pe.hasModel())return;const de=[],Q=pe.getSelections(),ye=pe.getModel();for(const Ae of Q)if(Ae.isEmpty())de.push(new n(Ae,!0));else{const ft=new a.Y(Ae.endLineNumber,Ae.endColumn,Ae.endLineNumber,Ae.endColumn);de.push(new C.OY(ft,ye.getValueInRange(Ae)))}pe.pushUndoStop(),pe.executeCommands(this.id,de),pe.pushUndoStop()}}class j extends l.R6{constructor(re,pe){super(pe),this.down=re}run(re,pe){const ge=re.get(g.c_),de=[],Q=pe.getSelections()||[],ye=pe.getOption(9);for(const Ae of Q)de.push(new x(Ae,this.down,ye,ge));pe.pushUndoStop(),pe.executeCommands(this.id,de),pe.pushUndoStop()}}class Z extends l.R6{constructor(re,pe){super(pe),this.descending=re}run(re,pe){const ge=pe.getSelections()||[];for(const Q of ge)if(!A.canRun(pe.getModel(),Q,this.descending))return;const de=[];for(let Q=0,ye=ge.length;Q<ye;Q++)de[Q]=new A(ge[Q],this.descending);pe.pushUndoStop(),pe.executeCommands(this.id,de),pe.pushUndoStop()}}class J extends Z{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:H.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:u.u.writable})}}class Ce extends Z{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:H.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:u.u.writable})}}class Se extends l.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:H.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:u.u.writable})}run(re,pe){if(!pe.hasModel())return;const ge=pe.getModel();if(1===ge.getLineCount()&&1===ge.getLineMaxColumn(1))return;const de=[],Q=[];let ye=0;for(const Ae of pe.getSelections()){const ft=new Set,dt=[];for(let St=Ae.startLineNumber;St<=Ae.endLineNumber;St++){const mt=ge.getLineContent(St);ft.has(mt)||(dt.push(mt),ft.add(mt))}const it=new a.Y(Ae.startLineNumber,1,Ae.endLineNumber,ge.getLineMaxColumn(Ae.endLineNumber)),et=Ae.startLineNumber-ye,st=new a.Y(et,1,et+dt.length-1,dt[dt.length-1].length);de.push(I.h.replace(it,dt.join("\n"))),Q.push(st),ye+=Ae.endLineNumber-Ae.startLineNumber+1-dt.length}pe.pushUndoStop(),pe.executeEdits(this.id,de,Q),pe.pushUndoStop()}}let Ie=(()=>{class Xe extends l.R6{constructor(){super({id:Xe.ID,label:H.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:(0,s.gx)(2089,2102),weight:100}})}run(pe,ge,de){let Q=[];"auto-save"===de.reason&&(Q=(ge.getSelections()||[]).map(ft=>new r.L(ft.positionLineNumber,ft.positionColumn)));const ye=ge.getSelection();if(null===ye)return;const Ae=new S(ye,Q);ge.pushUndoStop(),ge.executeCommands(this.id,[Ae]),ge.pushUndoStop()}}return Xe.ID="editor.action.trimTrailingWhitespace",Xe})();class xe extends l.R6{constructor(){super({id:"editor.action.deleteLines",label:H.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:3113,weight:100}})}run(re,pe){if(!pe.hasModel())return;const ge=this._getLinesToRemove(pe),de=pe.getModel();if(1===de.getLineCount()&&1===de.getLineMaxColumn(1))return;let Q=0;const ye=[],Ae=[];for(let ft=0,dt=ge.length;ft<dt;ft++){const it=ge[ft];let et=it.startLineNumber,st=it.endLineNumber,St=1,mt=de.getLineMaxColumn(st);st<de.getLineCount()?(st+=1,mt=1):et>1&&(et-=1,St=de.getLineMaxColumn(et)),ye.push(I.h.replace(new a.Y(et,St,st,mt),"")),Ae.push(new a.Y(et-Q,it.positionColumn,et-Q,it.positionColumn)),Q+=it.endLineNumber-it.startLineNumber+1}pe.pushUndoStop(),pe.executeEdits(this.id,ye,Ae),pe.pushUndoStop()}_getLinesToRemove(re){const pe=re.getSelections().map(Q=>{let ye=Q.endLineNumber;return Q.startLineNumber<Q.endLineNumber&&1===Q.endColumn&&(ye-=1),{startLineNumber:Q.startLineNumber,selectionStartColumn:Q.selectionStartColumn,endLineNumber:ye,positionColumn:Q.positionColumn}});pe.sort((Q,ye)=>Q.startLineNumber===ye.startLineNumber?Q.endLineNumber-ye.endLineNumber:Q.startLineNumber-ye.startLineNumber);const ge=[];let de=pe[0];for(let Q=1;Q<pe.length;Q++)de.endLineNumber+1>=pe[Q].startLineNumber?de.endLineNumber=pe[Q].endLineNumber:(ge.push(de),de=pe[Q]);return ge.push(de),ge}}class Me extends l.R6{constructor(){super({id:"editor.action.indentLines",label:H.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2137,weight:100}})}run(re,pe){const ge=pe._getViewModel();ge&&(pe.pushUndoStop(),pe.executeCommands(this.id,_.u6.indent(ge.cursorConfig,pe.getModel(),pe.getSelections())),pe.pushUndoStop())}}class se extends l.R6{constructor(){super({id:"editor.action.insertLineBefore",label:H.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:3075,weight:100}})}run(re,pe){const ge=pe._getViewModel();ge&&(pe.pushUndoStop(),pe.executeCommands(this.id,_.u6.lineInsertBefore(ge.cursorConfig,pe.getModel(),pe.getSelections())))}}class ce extends l.R6{constructor(){super({id:"editor.action.insertLineAfter",label:H.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2051,weight:100}})}run(re,pe){const ge=pe._getViewModel();ge&&(pe.pushUndoStop(),pe.executeCommands(this.id,_.u6.lineInsertAfter(ge.cursorConfig,pe.getModel(),pe.getSelections())))}}class Ee extends l.R6{run(re,pe){if(!pe.hasModel())return;const ge=pe.getSelection(),de=this._getRangesToDelete(pe),Q=[];for(let ft=0,dt=de.length-1;ft<dt;ft++){const it=de[ft],et=de[ft+1];null===b.e.intersectRanges(it,et)?Q.push(it):de[ft+1]=b.e.plusRange(it,et)}Q.push(de[de.length-1]);const ye=this._getEndCursorState(ge,Q),Ae=Q.map(ft=>I.h.replace(ft,""));pe.pushUndoStop(),pe.executeEdits(this.id,Ae,ye),pe.pushUndoStop()}}class me extends Ee{constructor(){super({id:"deleteAllLeft",label:H.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(re,pe){let ge=null;const de=[];let Q=0;return pe.forEach(ye=>{let Ae;if(1===ye.endColumn&&Q>0){const ft=ye.startLineNumber-Q;Ae=new a.Y(ft,ye.startColumn,ft,ye.startColumn)}else Ae=new a.Y(ye.startLineNumber,ye.startColumn,ye.startLineNumber,ye.startColumn);Q+=ye.endLineNumber-ye.startLineNumber,ye.intersectRanges(re)?ge=Ae:de.push(Ae)}),ge&&de.unshift(ge),de}_getRangesToDelete(re){const pe=re.getSelections();if(null===pe)return[];let ge=pe;const de=re.getModel();return null===de?[]:(ge.sort(b.e.compareRangesUsingStarts),ge=ge.map(Q=>{if(Q.isEmpty()){if(1===Q.startColumn){const ye=Math.max(1,Q.startLineNumber-1),Ae=1===Q.startLineNumber?1:de.getLineContent(ye).length+1;return new b.e(ye,Ae,Q.startLineNumber,1)}return new b.e(Q.startLineNumber,1,Q.startLineNumber,Q.startColumn)}return new b.e(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn)}),ge)}}class Pe extends Ee{constructor(){super({id:"deleteAllRight",label:H.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(re,pe){let ge=null;const de=[];for(let Q=0,ye=pe.length,Ae=0;Q<ye;Q++){const ft=pe[Q],dt=new a.Y(ft.startLineNumber-Ae,ft.startColumn,ft.startLineNumber-Ae,ft.startColumn);ft.intersectRanges(re)?ge=dt:de.push(dt)}return ge&&de.unshift(ge),de}_getRangesToDelete(re){const pe=re.getModel();if(null===pe)return[];const ge=re.getSelections();if(null===ge)return[];const de=ge.map(Q=>{if(Q.isEmpty()){const ye=pe.getLineMaxColumn(Q.startLineNumber);return Q.startColumn===ye?new b.e(Q.startLineNumber,Q.startColumn,Q.startLineNumber+1,1):new b.e(Q.startLineNumber,Q.startColumn,Q.startLineNumber,ye)}return Q});return de.sort(b.e.compareRangesUsingStarts),de}}class he extends l.R6{constructor(){super({id:"editor.action.joinLines",label:H.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(re,pe){const ge=pe.getSelections();if(null===ge)return;let de=pe.getSelection();if(null===de)return;ge.sort(b.e.compareRangesUsingStarts);const Q=[],ye=ge.reduce((st,St)=>st.isEmpty()?st.endLineNumber===St.startLineNumber?(de.equalsSelection(st)&&(de=St),St):St.startLineNumber>st.endLineNumber+1?(Q.push(st),St):new a.Y(st.startLineNumber,st.startColumn,St.endLineNumber,St.endColumn):St.startLineNumber>st.endLineNumber?(Q.push(st),St):new a.Y(st.startLineNumber,st.startColumn,St.endLineNumber,St.endColumn));Q.push(ye);const Ae=pe.getModel();if(null===Ae)return;const ft=[],dt=[];let it=de,et=0;for(let st=0,St=Q.length;st<St;st++){const mt=Q[st],bt=mt.startLineNumber,Bt=1;let Ye,Tt,Lt=0;const qt=Ae.getLineContent(mt.endLineNumber).length-mt.endColumn;if(mt.isEmpty()||mt.startLineNumber===mt.endLineNumber){const rt=mt.getStartPosition();rt.lineNumber<Ae.getLineCount()?(Ye=bt+1,Tt=Ae.getLineMaxColumn(Ye)):(Ye=rt.lineNumber,Tt=Ae.getLineMaxColumn(rt.lineNumber))}else Ye=mt.endLineNumber,Tt=Ae.getLineMaxColumn(Ye);let Ot=Ae.getLineContent(bt);for(let rt=bt+1;rt<=Ye;rt++){const Le=Ae.getLineContent(rt),ie=Ae.getLineFirstNonWhitespaceColumn(rt);if(ie>=1){let te=!0;""===Ot&&(te=!1),te&&(" "===Ot.charAt(Ot.length-1)||"\t"===Ot.charAt(Ot.length-1))&&(te=!1,Ot=Ot.replace(/[\s\uFEFF\xA0]+$/g," "));const oe=Le.substr(ie-1);Ot+=(te?" ":"")+oe,Lt=te?oe.length+1:oe.length}else Lt=0}const Ft=new b.e(bt,Bt,Ye,Tt);if(!Ft.isEmpty()){let rt;mt.isEmpty()?(ft.push(I.h.replace(Ft,Ot)),rt=new a.Y(Ft.startLineNumber-et,Ot.length-Lt+1,bt-et,Ot.length-Lt+1)):mt.startLineNumber===mt.endLineNumber?(ft.push(I.h.replace(Ft,Ot)),rt=new a.Y(mt.startLineNumber-et,mt.startColumn,mt.endLineNumber-et,mt.endColumn)):(ft.push(I.h.replace(Ft,Ot)),rt=new a.Y(mt.startLineNumber-et,mt.startColumn,mt.startLineNumber-et,Ot.length-qt)),null!==b.e.intersectRanges(Ft,de)?it=rt:dt.push(rt)}et+=Ft.endLineNumber-Ft.startLineNumber}dt.unshift(it),pe.pushUndoStop(),pe.executeEdits(this.id,ft,dt),pe.pushUndoStop()}}class Fe extends l.R6{constructor(){super({id:"editor.action.transpose",label:H.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:u.u.writable})}run(re,pe){const ge=pe.getSelections();if(null===ge)return;const de=pe.getModel();if(null===de)return;const Q=[];for(let ye=0,Ae=ge.length;ye<Ae;ye++){const ft=ge[ye];if(!ft.isEmpty())continue;const dt=ft.getStartPosition(),it=de.getLineMaxColumn(dt.lineNumber);if(dt.column>=it){if(dt.lineNumber===de.getLineCount())continue;const et=new b.e(dt.lineNumber,Math.max(1,dt.column-1),dt.lineNumber+1,1),st=de.getValueInRange(et).split("").reverse().join("");Q.push(new C.T4(new a.Y(dt.lineNumber,Math.max(1,dt.column-1),dt.lineNumber+1,1),st))}else{const et=new b.e(dt.lineNumber,Math.max(1,dt.column-1),dt.lineNumber,dt.column+1),st=de.getValueInRange(et).split("").reverse().join("");Q.push(new C.hP(et,st,new a.Y(dt.lineNumber,dt.column+1,dt.lineNumber,dt.column+1)))}}pe.pushUndoStop(),pe.executeCommands(this.id,Q),pe.pushUndoStop()}}class Ze extends l.R6{run(re,pe){const ge=pe.getSelections();if(null===ge)return;const de=pe.getModel();if(null===de)return;const Q=pe.getOption(119),ye=[];for(const Ae of ge)if(Ae.isEmpty()){const ft=Ae.getStartPosition(),dt=pe.getConfiguredWordAtPosition(ft);if(!dt)continue;const it=new b.e(ft.lineNumber,dt.startColumn,ft.lineNumber,dt.endColumn),et=de.getValueInRange(it);ye.push(I.h.replace(it,this._modifyText(et,Q)))}else{const ft=de.getValueInRange(Ae);ye.push(I.h.replace(Ae,this._modifyText(ft,Q)))}pe.pushUndoStop(),pe.executeEdits(this.id,ye),pe.pushUndoStop()}}class ze extends Ze{constructor(){super({id:"editor.action.transformToUppercase",label:H.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:u.u.writable})}_modifyText(re,pe){return re.toLocaleUpperCase()}}class fe extends Ze{constructor(){super({id:"editor.action.transformToLowercase",label:H.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:u.u.writable})}_modifyText(re,pe){return re.toLocaleLowerCase()}}class Ke{constructor(re,pe){this._pattern=re,this._flags=pe,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class Je extends Ze{constructor(){super({id:"editor.action.transformToTitlecase",label:H.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:u.u.writable})}_modifyText(re,pe){const ge=Je.titleBoundary.get();return ge?re.toLocaleLowerCase().replace(ge,de=>de.toLocaleUpperCase()):re}}Je.titleBoundary=new Ke("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class vt extends Ze{constructor(){super({id:"editor.action.transformToSnakecase",label:H.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:u.u.writable})}_modifyText(re,pe){const ge=vt.caseBoundary.get(),de=vt.singleLetters.get();return ge&&de?re.replace(ge,"$1_$2").replace(de,"$1_$2$3").toLocaleLowerCase():re}}vt.caseBoundary=new Ke("(\\p{Ll})(\\p{Lu})","gmu"),vt.singleLetters=new Ke("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Et extends Ze{constructor(){super({id:"editor.action.transformToKebabcase",label:H.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:u.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(pe=>pe.isSupported())}_modifyText(re,pe){const ge=Et.caseBoundary.get(),de=Et.singleLetters.get(),Q=Et.underscoreBoundary.get();return ge&&de&&Q?re.replace(Q,"$1-$3").replace(ge,"$1-$2").replace(de,"$1-$2").toLocaleLowerCase():re}}Et.caseBoundary=new Ke("(\\p{Ll})(\\p{Lu})","gmu"),Et.singleLetters=new Ke("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Et.underscoreBoundary=new Ke("(\\S)(_)(\\S)","gm"),(0,l.Qr)(class O extends N{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:H.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,l.Qr)(class K extends N{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:H.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,l.Qr)($),(0,l.Qr)(class q extends j{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:H.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,l.Qr)(class R extends j{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:H.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:H.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,l.Qr)(J),(0,l.Qr)(Ce),(0,l.Qr)(Se),(0,l.Qr)(Ie),(0,l.Qr)(xe),(0,l.Qr)(Me),(0,l.Qr)(class Oe extends l.R6{constructor(){super({id:"editor.action.outdentLines",label:H.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:u.u.writable,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2135,weight:100}})}run(re,pe){t.CoreEditingCommands.Outdent.runEditorCommand(re,pe,null)}}),(0,l.Qr)(se),(0,l.Qr)(ce),(0,l.Qr)(me),(0,l.Qr)(Pe),(0,l.Qr)(he),(0,l.Qr)(Fe),(0,l.Qr)(ze),(0,l.Qr)(fe),vt.caseBoundary.isSupported()&&vt.singleLetters.isSupported()&&(0,l.Qr)(vt),Je.titleBoundary.isSupported()&&(0,l.Qr)(Je),Et.isSupported()&&(0,l.Qr)(Et)},7486:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:()=>H,LinkedEditingAction:()=>O,LinkedEditingContribution:()=>N,editorLinkedEditingBackground:()=>j});var s=e(14940),t=e(41883),l=e(71943),C=e(84968),f=e(3219),I=e(31864),b=e(21576),S=e(77697),D=e(56740),_=e(95102),r=e(60896),a=e(13902),u=e(88154),n=e(72325),d=e(53727),y=e(15333),g=e(1200),v=e(38336),m=e(6192),w=e(14089),E=e(13154),L=e(54693),x=e(44753),k=function(q,R){return function(Z,J){R(Z,J,q)}},W=function(q,R,Z,J){return new(Z||(Z=Promise))(function(Se,Ie){function xe(se){try{Oe(J.next(se))}catch(ce){Ie(ce)}}function Me(se){try{Oe(J.throw(se))}catch(ce){Ie(ce)}}function Oe(se){se.done?Se(se.value):function Ce(Se){return Se instanceof Z?Se:new Z(function(Ie){Ie(Se)})}(se.value).then(xe,Me)}Oe((J=J.apply(q,R||[])).next())})};const H=new v.uy("LinkedEditingInputVisible",!1),z="linked-editing-decoration";let N=class tu extends b.JT{constructor(R,Z,J,Ce,Se){super(),this.languageConfigurationService=Ce,this._syncRangesToken=0,this._localToDispose=this._register(new b.SL),this._editor=R,this._providers=J.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=H.bindTo(Z),this._debounceInformation=Se.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new b.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(Ie=>{(Ie.hasChanged(64)||Ie.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(R){return R.getContribution(tu.ID)}reinitialize(R){const Z=this._editor.getModel(),J=null!==Z&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(Z);if(J===this._enabled&&!R||(this._enabled=J,this.clearRanges(),this._localToDispose.clear(),!J||null===Z))return;this._localToDispose.add(I.ju.runAndSubscribe(Z.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(Z.getLanguageId()).getWordDefinition()}));const Ce=new t.vp(this._debounceInformation.get(Z)),Se=()=>{var Me;this._rangeUpdateTriggerPromise=Ce.trigger(()=>this.updateRanges(),null!==(Me=this._debounceDuration)&&void 0!==Me?Me:this._debounceInformation.get(Z))},Ie=new t.vp(0),xe=Me=>{this._rangeSyncTriggerPromise=Ie.trigger(()=>this._syncRanges(Me))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{Se()})),this._localToDispose.add(this._editor.onDidChangeModelContent(Me=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const Oe=this._currentDecorations.getRange(0);if(Oe&&Me.changes.every(se=>Oe.intersectRanges(se.range)))return void xe(this._syncRangesToken)}Se()})),this._localToDispose.add({dispose:()=>{Ce.dispose(),Ie.dispose()}}),this.updateRanges()}_syncRanges(R){if(!this._editor.hasModel()||R!==this._syncRangesToken||0===this._currentDecorations.length)return;const Z=this._editor.getModel(),J=this._currentDecorations.getRange(0);if(!J||J.startLineNumber!==J.endLineNumber)return this.clearRanges();const Ce=Z.getValueInRange(J);if(this._currentWordPattern){const Ie=Ce.match(this._currentWordPattern);if((Ie?Ie[0].length:0)!==Ce.length)return this.clearRanges()}const Se=[];for(let Ie=1,xe=this._currentDecorations.length;Ie<xe;Ie++){const Me=this._currentDecorations.getRange(Ie);if(Me)if(Me.startLineNumber!==Me.endLineNumber)Se.push({range:Me,text:Ce});else{let Oe=Z.getValueInRange(Me),se=Ce,ce=Me.startColumn,Ee=Me.endColumn;const me=S.Mh(Oe,se);ce+=me,Oe=Oe.substr(me),se=se.substr(me);const Pe=S.P1(Oe,se);Ee-=Pe,Oe=Oe.substr(0,Oe.length-Pe),se=se.substr(0,se.length-Pe),(ce!==Ee||0!==se.length)&&Se.push({range:new u.e(Me.startLineNumber,ce,Me.endLineNumber,Ee),text:se})}}if(0!==Se.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const Ie=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",Se),this._editor._getViewModel().setPrevEditOperationType(Ie)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(R=!1){return W(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const Z=this._editor.getPosition();if(!this._enabled&&!R||this._editor.getSelections().length>1)return void this.clearRanges();const J=this._editor.getModel(),Ce=J.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===Ce){if(Z.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const Ie=this._currentDecorations.getRange(0);if(Ie&&Ie.containsPosition(Z))return}}this._currentRequestPosition=Z,this._currentRequestModelVersion=Ce;const Se=(0,t.PG)(Ie=>W(this,void 0,void 0,function*(){try{const xe=new x.G(!1),Me=yield $(this._providers,J,Z,Ie);if(this._debounceInformation.update(J,xe.elapsed()),Se!==this._currentRequest||(this._currentRequest=null,Ce!==J.getVersionId()))return;let Oe=[];Me?.ranges&&(Oe=Me.ranges),this._currentWordPattern=Me?.wordPattern||this._languageWordPattern;let se=!1;for(let Ee=0,me=Oe.length;Ee<me;Ee++)if(u.e.containsPosition(Oe[Ee],Z)){if(se=!0,0!==Ee){const Pe=Oe[Ee];Oe.splice(Ee,1),Oe.unshift(Pe)}break}if(!se)return void this.clearRanges();const ce=Oe.map(Ee=>({range:Ee,options:tu.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(ce),this._syncRangesToken++}catch(xe){(0,f.n2)(xe)||(0,f.dL)(xe),(this._currentRequest===Se||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=Se,Se})}};N.ID="editor.contrib.linkedEditing",N.DECORATION=d.qx.register({description:"linked-editing",stickiness:0,className:z}),N=function(q,R,Z,J){var Ie,Ce=arguments.length,Se=Ce<3?R:null===J?J=Object.getOwnPropertyDescriptor(R,Z):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(q,R,Z,J);else for(var xe=q.length-1;xe>=0;xe--)(Ie=q[xe])&&(Se=(Ce<3?Ie(Se):Ce>3?Ie(R,Z,Se):Ie(R,Z))||Se);return Ce>3&&Se&&Object.defineProperty(R,Z,Se),Se}([k(1,v.i6),k(2,E.p),k(3,y.c_),k(4,L.A)],N);class O extends _.R6{constructor(){super({id:"editor.action.linkedEditing",label:g.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:v.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:3132,weight:100}})}runCommand(R,Z){const J=R.get(r.$),[Ce,Se]=Array.isArray(Z)&&Z||[void 0,void 0];return D.o.isUri(Ce)&&a.L.isIPosition(Se)?J.openCodeEditor({resource:Ce},J.getActiveCodeEditor()).then(Ie=>{Ie&&(Ie.setPosition(Se),Ie.invokeWithinContext(xe=>(this.reportTelemetry(xe,Ie),this.run(xe,Ie))))},f.dL):super.runCommand(R,Z)}run(R,Z){const J=N.get(Z);return J?Promise.resolve(J.updateRanges(!0)):Promise.resolve()}}const K=_._l.bindToContribution(N.get);function $(q,R,Z,J){const Ce=q.ordered(R);return(0,t.Ps)(Ce.map(Se=>()=>W(this,void 0,void 0,function*(){try{return yield Se.provideLinkedEditingRanges(R,Z,J)}catch(Ie){return void(0,f.Cp)(Ie)}})),Se=>!!Se&&s.Of(Se?.ranges))}(0,_.fK)(new K({id:"cancelLinkedEditingInput",precondition:H,handler:q=>q.clearRanges(),kbOpts:{kbExpr:n.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const j=(0,m.P6G)("editor.linkedEditingBackground",{dark:C.Il.fromHex("#f00").transparent(.3),light:C.Il.fromHex("#f00").transparent(.3),hcDark:C.Il.fromHex("#f00").transparent(.3),hcLight:C.Il.white},g.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,w.Ic)((q,R)=>{const Z=q.getColor(j);Z&&R.addRule(`.monaco-editor .${z} { background: ${Z}; border-left-color: ${Z}; }`)}),(0,_.sb)("_executeLinkedEditingProvider",(q,R,Z)=>{const{linkedEditingRangeProvider:J}=q.get(E.p);return $(J,R,Z,l.T.None)}),(0,_._K)(N.ID,N),(0,_.Qr)(O)},86415:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{LinkDetector:()=>he});var s=e(41883),t=e(71943),l=e(3219),C=e(32418),f=e(21576),I=e(34059),b=e(84834),S=e(9590),D=e(44753),_=e(56740),r=e(92123),a=e.n(r),u=e(65057),n=e.n(u),d=e(28764),y=e.n(d),g=e(6557),v=e.n(g),m=e(11146),w=e.n(m),E=e(95085),L=e.n(E),x=e(54578),A={};A.styleTagTransform=L(),A.setAttributes=v(),A.insert=y().bind(null,"head"),A.domAPI=n(),A.insertStyleElement=w(),a()(x.Z,A);var H=e(95102),z=e(53727),N=e(54693),O=e(13154),K=e(16365),$=e(14940),j=e(22070),q=e(88154),R=e(44378),Z=e(34468),J=function(Ke,Je,vt,Et){return new(vt||(vt=Promise))(function(re,pe){function ge(ye){try{Q(Et.next(ye))}catch(Ae){pe(Ae)}}function de(ye){try{Q(Et.throw(ye))}catch(Ae){pe(Ae)}}function Q(ye){ye.done?re(ye.value):function Xe(re){return re instanceof vt?re:new vt(function(pe){pe(re)})}(ye.value).then(ge,de)}Q((Et=Et.apply(Ke,Je||[])).next())})};class Ce{constructor(Je,vt){this._link=Je,this._provider=vt}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(Je){return J(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,Je)).then(vt=>(this._link=vt||this._link,this._link.url?this.resolve(Je):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class Se{constructor(Je){this._disposables=new f.SL;let vt=[];for(const[Et,Xe]of Je){const re=Et.links.map(pe=>new Ce(pe,Xe));vt=Se._union(vt,re),(0,f.Wf)(Et)&&this._disposables.add(Et)}this.links=vt}dispose(){this._disposables.dispose(),this.links.length=0}static _union(Je,vt){const Et=[];let Xe,re,pe,ge;for(Xe=0,pe=0,re=Je.length,ge=vt.length;Xe<re&&pe<ge;){const de=Je[Xe],Q=vt[pe];q.e.areIntersectingOrTouching(de.range,Q.range)?Xe++:q.e.compareRangesUsingStarts(de.range,Q.range)<0?(Et.push(de),Xe++):(Et.push(Q),pe++)}for(;Xe<re;Xe++)Et.push(Je[Xe]);for(;pe<ge;pe++)Et.push(vt[pe]);return Et}}function Ie(Ke,Je,vt){const Et=[],Xe=Ke.ordered(Je).reverse().map((re,pe)=>Promise.resolve(re.provideLinks(Je,vt)).then(ge=>{ge&&(Et[pe]=[ge,re])},l.Cp));return Promise.all(Xe).then(()=>{const re=new Se((0,$.kX)(Et));return vt.isCancellationRequested?(re.dispose(),new Se([])):re})}Z.P0.registerCommand("_executeLinkProvider",(Ke,...Je)=>J(void 0,void 0,void 0,function*(){let[vt,Et]=Je;(0,j.p_)(vt instanceof _.o),"number"!=typeof Et&&(Et=0);const{linkProvider:Xe}=Ke.get(O.p),re=Ke.get(R.q).getModel(vt);if(!re)return[];const pe=yield Ie(Xe,re,t.T.None);if(!pe)return[];for(let de=0;de<Math.min(Et,pe.links.length);de++)yield pe.links[de].resolve(t.T.None);const ge=pe.links.slice(0);return pe.dispose(),ge}));var xe=e(1200),Me=e(83916),Oe=e(78668),se=e(6192),ce=e(14089),me=function(Ke,Je){return function(vt,Et){Je(vt,Et,Ke)}};let he=class Ou extends f.JT{constructor(Je,vt,Et,Xe,re){super(),this.editor=Je,this.openerService=vt,this.notificationService=Et,this.languageFeaturesService=Xe,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=re.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new s.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const pe=this._register(new K.yN(Je));this._register(pe.onMouseMoveOrRelevantKeyDown(([ge,de])=>{this._onEditorMouseMove(ge,de)})),this._register(pe.onExecute(ge=>{this.onEditorMouseUp(ge)})),this._register(pe.onCancel(ge=>{this.cleanUpActiveLinkDecoration()})),this._register(Je.onDidChangeConfiguration(ge=>{ge.hasChanged(65)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(Je.onDidChangeModelContent(ge=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(Je.onDidChangeModel(ge=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(Je.onDidChangeModelLanguage(ge=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(ge=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(Je){return Je.getContribution(Ou.ID)}computeLinksNow(){return Ke=this,Je=void 0,Et=function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const Je=this.editor.getModel();if(this.providers.has(Je)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,s.PG)(vt=>Ie(this.providers,Je,vt));try{const vt=new D.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(Je,vt.elapsed()),Je.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(vt){(0,l.dL)(vt)}finally{this.computePromise=null}}},new((vt=void 0)||(vt=Promise))(function(re,pe){function ge(ye){try{Q(Et.next(ye))}catch(Ae){pe(Ae)}}function de(ye){try{Q(Et.throw(ye))}catch(Ae){pe(Ae)}}function Q(ye){ye.done?re(ye.value):function Xe(re){return re instanceof vt?re:new vt(function(pe){pe(re)})}(ye.value).then(ge,de)}Q((Et=Et.apply(Ke,Je||[])).next())});var Ke,Je,vt,Et}updateDecorations(Je){const vt="altKey"===this.editor.getOption(72),Et=[],Xe=Object.keys(this.currentOccurrences);for(const pe of Xe)Et.push(this.currentOccurrences[pe].decorationId);const re=[];if(Je)for(const pe of Je)re.push(Ze.decoration(pe,vt));this.editor.changeDecorations(pe=>{const ge=pe.deltaDecorations(Et,re);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let de=0,Q=ge.length;de<Q;de++){const ye=new Ze(Je[de],ge[de]);this.currentOccurrences[ye.decorationId]=ye}})}_onEditorMouseMove(Je,vt){const Et="altKey"===this.editor.getOption(72);if(this.isEnabled(Je,vt)){this.cleanUpActiveLinkDecoration();const Xe=this.getLinkOccurrence(Je.target.position);Xe&&this.editor.changeDecorations(re=>{Xe.activate(re,Et),this.activeLinkDecorationId=Xe.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const Je="altKey"===this.editor.getOption(72);if(this.activeLinkDecorationId){const vt=this.currentOccurrences[this.activeLinkDecorationId];vt&&this.editor.changeDecorations(Et=>{vt.deactivate(Et,Je)}),this.activeLinkDecorationId=null}}onEditorMouseUp(Je){if(!this.isEnabled(Je))return;const vt=this.getLinkOccurrence(Je.target.position);vt&&this.openLinkOccurrence(vt,Je.hasSideBySideModifier,!0)}openLinkOccurrence(Je,vt,Et=!1){if(!this.openerService)return;const{link:Xe}=Je;Xe.resolve(t.T.None).then(re=>{if("string"==typeof re&&this.editor.hasModel()){const pe=this.editor.getModel().uri;if(pe.scheme===I.lg.file&&re.startsWith(`${I.lg.file}:`)){const ge=_.o.parse(re);if(ge.scheme===I.lg.file){const de=S.z_(ge);let Q=null;de.startsWith("/./")?Q=`.${de.substr(1)}`:de.startsWith("//./")&&(Q=`.${de.substr(2)}`),Q&&(re=S.Vo(pe,Q))}}}return this.openerService.open(re,{openToSide:vt,fromUserGesture:Et,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},re=>{const pe=re instanceof Error?re.message:re;"invalid"===pe?this.notificationService.warn(xe.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",Xe.url.toString())):"missing"===pe?this.notificationService.warn(xe.NC("missing.url","Failed to open this link because its target is missing.")):(0,l.dL)(re)})}getLinkOccurrence(Je){if(!this.editor.hasModel()||!Je)return null;const vt=this.editor.getModel().getDecorationsInRange({startLineNumber:Je.lineNumber,startColumn:Je.column,endLineNumber:Je.lineNumber,endColumn:Je.column},0,!0);for(const Et of vt){const Xe=this.currentOccurrences[Et.id];if(Xe)return Xe}return null}isEnabled(Je,vt){return!(6!==Je.target.type||!(Je.hasTriggerModifier||vt&&vt.keyCodeIsTriggerKey))}stop(){var Je;this.computeLinks.cancel(),this.activeLinksList&&(null===(Je=this.activeLinksList)||void 0===Je||Je.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};he.ID="editor.linkDetector",he=function(Ke,Je,vt,Et){var pe,Xe=arguments.length,re=Xe<3?Je:null===Et?Et=Object.getOwnPropertyDescriptor(Je,vt):Et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(Ke,Je,vt,Et);else for(var ge=Ke.length-1;ge>=0;ge--)(pe=Ke[ge])&&(re=(Xe<3?pe(re):Xe>3?pe(Je,vt,re):pe(Je,vt))||re);return Xe>3&&re&&Object.defineProperty(Je,vt,re),re}([me(1,Oe.v4),me(2,Me.lT),me(3,O.p),me(4,N.A)],he);const Fe={general:z.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:z.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Ze{constructor(Je,vt){this.link=Je,this.decorationId=vt}static decoration(Je,vt){return{range:Je.range,options:Ze._getOptions(Je,vt,!1)}}static _getOptions(Je,vt,Et){const Xe=Object.assign({},Et?Fe.active:Fe.general);return Xe.hoverMessage=function ze(Ke,Je){const vt=Ke.url&&/^command:/i.test(Ke.url.toString()),Et=Ke.tooltip?Ke.tooltip:vt?xe.NC("links.navigate.executeCmd","Execute command"):xe.NC("links.navigate.follow","Follow link"),Xe=Je?b.dz?xe.NC("links.navigate.kb.meta.mac","cmd + click"):xe.NC("links.navigate.kb.meta","ctrl + click"):b.dz?xe.NC("links.navigate.kb.alt.mac","option + click"):xe.NC("links.navigate.kb.alt","alt + click");if(Ke.url){let re="";if(/^command:/i.test(Ke.url.toString())){const ge=Ke.url.toString().match(/^command:([^?#]+)/);ge&&(re=xe.NC("tooltip.explanation","Execute command {0}",ge[1]))}return new C.W5("",!0).appendLink(Ke.url.toString(!0).replace(/ /g,"%20"),Et,re).appendMarkdown(` (${Xe})`)}return(new C.W5).appendText(`${Et} (${Xe})`)}(Je,vt),Xe}activate(Je,vt){Je.changeDecorationOptions(this.decorationId,Ze._getOptions(this.link,vt,!0))}deactivate(Je,vt){Je.changeDecorationOptions(this.decorationId,Ze._getOptions(this.link,vt,!1))}}(0,H._K)(he.ID,he),(0,H.Qr)(class fe extends H.R6{constructor(){super({id:"editor.action.openLink",label:xe.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(Je,vt){const Et=he.get(vt);if(!Et||!vt.hasModel())return;const Xe=vt.getSelections();for(const re of Xe){const pe=Et.getLinkOccurrence(re.getEndPosition());pe&&Et.openLinkOccurrence(pe,!1)}}}),(0,ce.Ic)((Ke,Je)=>{const vt=Ke.getColor(se._Yy);vt&&Je.addRule(`.monaco-editor .detected-link-active { color: ${vt} !important; }`)})},87060:(yt,T,e)=>{"use strict";e.d(T,{$:()=>j});var s=e(94418),t=e(26995),l=e(16936),C=e(92356),f=e(46073),I=e(47579),b=e(3219),S=e(31864),D=e(32418),_=e(1853),r=e(42700),a=e(21576),u=e(42766),n=e(48235),d=e(34059),y=e(82941),g=e(9590),v=e(77697),m=e(56740);function w(q,R={},Z={}){var J;const Ce=new a.SL;let Se=!1;const Ie=(0,C.az)(R),xe=function(he){let Fe;try{Fe=(0,n.Q)(decodeURIComponent(he))}catch{}return Fe?(Fe=(0,y.rs)(Fe,Ze=>{if(q.uris&&q.uris[Ze])return m.o.revive(q.uris[Ze])}),encodeURIComponent(JSON.stringify(Fe))):he},Me=function(he,Fe){let ze=m.o.revive(q.uris&&q.uris[he]);return Fe?he.startsWith(d.lg.data+":")?he:(ze||(ze=m.o.parse(he)),d.Gi.asBrowserUri(ze).toString(!0)):ze&&m.o.parse(he).toString()!==ze.toString()?(ze.query&&(ze=ze.with({query:xe(ze.query)})),ze.toString()):he},Oe=new u.T.Renderer;Oe.image=(he,Fe,Ze)=>{let ze=[],fe=[];return he&&(({href:he,dimensions:ze}=(0,D.v1)(he)),fe.push(`src="${(0,D.d9)(he)}"`)),Ze&&fe.push(`alt="${(0,D.d9)(Ze)}"`),Fe&&fe.push(`title="${(0,D.d9)(Fe)}"`),ze.length&&(fe=fe.concat(ze)),"<img "+fe.join(" ")+">"},Oe.link=(he,Fe,Ze)=>"string"!=typeof he?"":(he===Ze&&(Ze=(0,D.oR)(Ze)),Fe="string"==typeof Fe?(0,D.d9)((0,D.oR)(Fe)):"",`<a href="${he=(he=(0,D.oR)(he)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${Fe||he}">${Ze}</a>`),Oe.paragraph=he=>`<p>${he}</p>`;const se=[];if(R.codeBlockRenderer&&(Oe.code=(he,Fe)=>{const Ze=r.a.nextId(),ze=R.codeBlockRenderer(Fe??"",he);return se.push(ze.then(fe=>[Ze,fe])),`<div class="code" data-code="${Ze}">${(0,v.YU)(he)}</div>`}),R.actionHandler){const he=R.actionHandler.disposables.add(new l.Y(Ie,"click")),Fe=R.actionHandler.disposables.add(new l.Y(Ie,"auxclick"));R.actionHandler.disposables.add(S.ju.any(he.event,Fe.event)(Ze=>{const ze=new f.n(Ze);if(!ze.leftButton&&!ze.middleButton)return;let fe=ze.target;if("A"===fe.tagName||(fe=fe.parentElement,fe&&"A"===fe.tagName))try{let Ke=fe.dataset.href;Ke&&(q.baseUri&&(Ke=E(m.o.from(q.baseUri),Ke)),R.actionHandler.callback(Ke,ze))}catch(Ke){(0,b.dL)(Ke)}finally{ze.preventDefault()}}))}q.supportHtml||(Z.sanitizer=he=>(q.isTrusted?he.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?he:"",Z.sanitize=!0,Z.silent=!0),Z.renderer=Oe;let ce=null!==(J=q.value)&&void 0!==J?J:"";ce.length>1e5&&(ce=`${ce.substr(0,1e5)}\u2026`),q.supportThemeIcons&&(ce=(0,_.f$)(ce));let Ee=u.T.parse(ce,Z);q.supportThemeIcons&&(Ee=(0,I.T)(Ee).map(Fe=>"string"==typeof Fe?Fe:Fe.outerHTML).join(""));const Pe=(new DOMParser).parseFromString(L(q,Ee),"text/html");if(Pe.body.querySelectorAll("img").forEach(he=>{const Fe=he.getAttribute("src");if(Fe){let Ze=Fe;try{q.baseUri&&(Ze=E(m.o.from(q.baseUri),Ze))}catch{}he.src=Me(Ze,!0)}}),Pe.body.querySelectorAll("a").forEach(he=>{const Fe=he.getAttribute("href");if(he.setAttribute("href",""),!Fe||/^data:|javascript:/i.test(Fe)||/^command:/i.test(Fe)&&!q.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Fe))he.replaceWith(...he.childNodes);else{let Ze=Me(Fe,!1);q.baseUri&&(Ze=E(m.o.from(q.baseUri),Fe)),he.dataset.href=Ze}}),Ie.innerHTML=L(q,Pe.body.innerHTML),se.length>0&&Promise.all(se).then(he=>{var Fe,Ze;if(Se)return;const ze=new Map(he),fe=Ie.querySelectorAll("div[data-code]");for(const Ke of fe){const Je=ze.get(null!==(Fe=Ke.dataset.code)&&void 0!==Fe?Fe:"");Je&&s.mc(Ke,Je)}null===(Ze=R.asyncRenderCallback)||void 0===Ze||Ze.call(R)}),R.asyncRenderCallback)for(const he of Ie.getElementsByTagName("img")){const Fe=Ce.add(s.nm(he,"load",()=>{Fe.dispose(),R.asyncRenderCallback()}))}return{element:Ie,dispose:()=>{Se=!0,Ce.dispose()}}}function E(q,R){return/^\w[\w\d+.-]*:/.test(R)?R:q.path.endsWith("/")?(0,g.i3)(q,R).toString():(0,g.i3)((0,g.XX)(q),R).toString()}function L(q,R){const{config:Z,allowedSchemes:J}=function x(q){const R=[d.lg.http,d.lg.https,d.lg.mailto,d.lg.data,d.lg.file,d.lg.vscodeFileResource,d.lg.vscodeRemote,d.lg.vscodeRemoteResource];return q.isTrusted&&R.push(d.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:R}}(q);t.v5("uponSanitizeAttribute",(Se,Ie)=>{if("style"!==Ie.attrName&&"class"!==Ie.attrName);else{if("SPAN"===Se.tagName){if("style"===Ie.attrName)return void(Ie.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(Ie.attrValue));if("class"===Ie.attrName)return void(Ie.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Ie.attrValue))}Ie.keepAttr=!1}});const Ce=s._F(J);try{return t.Nw(R,Object.assign(Object.assign({},Z),{RETURN_TRUSTED_TYPE:!0}))}finally{t.ok("uponSanitizeAttribute"),Ce.dispose()}}var $,A=e(78668),k=e(12375),W=e(22183),H=e(20635),z=e(61669),O=function(q,R){return function(Z,J){R(Z,J,q)}};let j=class ku{constructor(R,Z,J){this._options=R,this._languageService=Z,this._openerService=J,this._onDidRenderAsync=new S.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(R,Z,J){if(!R)return{element:document.createElement("span"),dispose:()=>{}};const Ce=new a.SL;return{element:Ce.add(w(R,Object.assign(Object.assign({},this._getRenderOptions(R,Ce)),Z),J)).element,dispose:()=>Ce.dispose()}}_getRenderOptions(R,Z){return{codeBlockRenderer:(J,Ce)=>function(q,R,Z,J){return new(Z||(Z=Promise))(function(Se,Ie){function xe(se){try{Oe(J.next(se))}catch(ce){Ie(ce)}}function Me(se){try{Oe(J.throw(se))}catch(ce){Ie(ce)}}function Oe(se){se.done?Se(se.value):function Ce(Se){return Se instanceof Z?Se:new Z(function(Ie){Ie(Se)})}(se.value).then(xe,Me)}Oe((J=J.apply(q,R||[])).next())})}(this,void 0,void 0,function*(){var Se,Ie,xe;let Me;J?Me=this._languageService.getLanguageIdByLanguageName(J):this._options.editor&&(Me=null===(Se=this._options.editor.getModel())||void 0===Se?void 0:Se.getLanguageId()),Me||(Me=z.bd);const Oe=yield(0,W.C2)(this._languageService,Ce,Me),se=document.createElement("span");if(se.innerHTML=null!==(xe=null===(Ie=ku._ttpTokenizer)||void 0===Ie?void 0:Ie.createHTML(Oe))&&void 0!==xe?xe:Oe,this._options.editor){const ce=this._options.editor.getOption(46);(0,H.N)(se,ce)}else this._options.codeBlockFontFamily&&(se.style.fontFamily=this._options.codeBlockFontFamily);return void 0!==this._options.codeBlockFontSize&&(se.style.fontSize=this._options.codeBlockFontSize),se}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:J=>this._openerService.open(J,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:R.isTrusted}).catch(b.dL),disposables:Z}}}};j._ttpTokenizer=null===($=window.trustedTypes)||void 0===$?void 0:$.createPolicy("tokenizeToString",{createHTML:q=>q}),j=function(q,R,Z,J){var Ie,Ce=arguments.length,Se=Ce<3?R:null===J?J=Object.getOwnPropertyDescriptor(R,Z):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(q,R,Z,J);else for(var xe=q.length-1;xe>=0;xe--)(Ie=q[xe])&&(Se=(Ce<3?Ie(Se):Ce>3?Ie(R,Z,Se):Ie(R,Z))||Se);return Ce>3&&Se&&Object.defineProperty(R,Z,Se),Se}([O(1,k.O),O(2,A.v4)],j)},78872:(yt,T,e)=>{"use strict";e.d(T,{O:()=>W});var s=e(48460),t=e(41883),l=e(21576),C=e(92123),f=e.n(C),I=e(65057),b=e.n(I),S=e(28764),D=e.n(S),_=e(6557),r=e.n(_),a=e(11146),u=e.n(a),n=e(95085),d=e.n(n),y=e(20337),g={};g.styleTagTransform=d(),g.setAttributes=r(),g.insert=D().bind(null,"head"),g.domAPI=b(),g.insertStyleElement=u(),f()(y.Z,g);var w=e(95102),E=e(88154),L=e(1200),x=e(38336);let W=class nu{constructor(O,K){this._messageWidget=new l.XK,this._messageListeners=new l.SL,this._editor=O,this._visible=nu.MESSAGE_VISIBLE.bindTo(K)}static get(O){return O.getContribution(nu.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(O,K){let $;(0,s.Z9)(O),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new z(this._editor,K,O),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new t._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(j=>{j.target.position&&($?$.containsPosition(j.target.position)||this.closeMessage():$=new E.e(K.lineNumber-3,1,j.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(z.fadeOut(this._messageWidget.value))}};var O;W.ID="editor.contrib.messageController",W.MESSAGE_VISIBLE=new x.uy("messageVisible",!1,L.NC("messageVisible","Whether the editor is currently showing an inline message")),W=function(N,O,K,$){var R,j=arguments.length,q=j<3?O:null===$?$=Object.getOwnPropertyDescriptor(O,K):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(N,O,K,$);else for(var Z=N.length-1;Z>=0;Z--)(R=N[Z])&&(q=(j<3?R(q):j>3?R(O,K,q):R(O,K))||q);return j>3&&q&&Object.defineProperty(O,K,q),q}([(1,O=x.i6,function(K,$){O(K,$,1)})],W);const H=w._l.bindToContribution(W.get);(0,w.fK)(new H({id:"leaveEditorMessage",precondition:W.MESSAGE_VISIBLE,handler:N=>N.closeMessage(),kbOpts:{weight:130,primary:9}}));class z{constructor(O,{lineNumber:K,column:$},j){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=O,this._editor.revealLinesInCenterIfOutsideViewport(K,K,0),this._position={lineNumber:K,column:$},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const q=document.createElement("div");q.classList.add("anchor","top"),this._domNode.appendChild(q);const R=document.createElement("div");R.classList.add("message"),R.textContent=j,this._domNode.appendChild(R);const Z=document.createElement("div");Z.classList.add("anchor","below"),this._domNode.appendChild(Z),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(O){const K=()=>{O.dispose(),clearTimeout($),O.getDomNode().removeEventListener("animationend",K)},$=setTimeout(K,110);return O.getDomNode().addEventListener("animationend",K),O.getDomNode().classList.add("fadeOut"),{dispose:K}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(O){this._domNode.classList.toggle("below",2===O)}}(0,w._K)(W.ID,W)},44699:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{AddSelectionToNextFindMatchAction:()=>K,AddSelectionToPreviousFindMatchAction:()=>$,CompatChangeAll:()=>Z,FocusNextCursor:()=>xe,FocusPreviousCursor:()=>Me,InsertCursorAbove:()=>L,InsertCursorBelow:()=>x,MoveSelectionToNextFindMatchAction:()=>j,MoveSelectionToPreviousFindMatchAction:()=>q,MultiCursorSelectionController:()=>N,MultiCursorSelectionControllerAction:()=>O,MultiCursorSession:()=>z,MultiCursorSessionResult:()=>H,SelectHighlightsAction:()=>R,SelectionHighlighter:()=>Ce});var s=e(48460),t=e(41883),l=e(32133),C=e(21576),f=e(95102),I=e(50592),b=e(88154),S=e(58745),D=e(72325),_=e(59129),r=e(53727),a=e(92410),u=e(1200),n=e(30116),d=e(38336),y=e(6192),g=e(14089),v=e(13154);function E(Oe,se){const ce=se.filter(Ee=>!Oe.find(me=>me.equals(Ee)));if(ce.length>=1){const Ee=ce.map(Pe=>`line ${Pe.viewState.position.lineNumber} column ${Pe.viewState.position.column}`).join(", "),me=1===ce.length?u.NC("cursorAdded","Cursor added: {0}",Ee):u.NC("cursorsAdded","Cursors added: {0}",Ee);(0,s.i7)(me)}}class L extends f.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:u.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:u.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(se,ce,Ee){if(!ce.hasModel())return;let me=!0;Ee&&!1===Ee.logicalLine&&(me=!1);const Pe=ce._getViewModel();if(Pe.cursorConfig.readOnly)return;Pe.model.pushStackElement();const he=Pe.getCursorStates();Pe.setCursorStates(Ee.source,3,I.P.addCursorUp(Pe,he,me)),Pe.revealTopMostCursor(Ee.source),E(he,Pe.getCursorStates())}}class x extends f.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:u.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:u.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(se,ce,Ee){if(!ce.hasModel())return;let me=!0;Ee&&!1===Ee.logicalLine&&(me=!1);const Pe=ce._getViewModel();if(Pe.cursorConfig.readOnly)return;Pe.model.pushStackElement();const he=Pe.getCursorStates();Pe.setCursorStates(Ee.source,3,I.P.addCursorDown(Pe,he,me)),Pe.revealBottomMostCursor(Ee.source),E(he,Pe.getCursorStates())}}class H{constructor(se,ce,Ee){this.selections=se,this.revealRange=ce,this.revealScrollType=Ee}}class z{constructor(se,ce,Ee,me,Pe,he,Fe){this._editor=se,this.findController=ce,this.isDisconnectedFromFindController=Ee,this.searchText=me,this.wholeWord=Pe,this.matchCase=he,this.currentMatch=Fe}static create(se,ce){if(!se.hasModel())return null;const Ee=ce.getState();if(!se.hasTextFocus()&&Ee.isRevealed&&Ee.searchString.length>0)return new z(se,ce,!1,Ee.searchString,Ee.wholeWord,Ee.matchCase,null);let Pe,he,me=!1;const Fe=se.getSelections();1===Fe.length&&Fe[0].isEmpty()?(me=!0,Pe=!0,he=!0):(Pe=Ee.wholeWord,he=Ee.matchCase);const Ze=se.getSelection();let ze,fe=null;if(Ze.isEmpty()){const Ke=se.getConfiguredWordAtPosition(Ze.getStartPosition());if(!Ke)return null;ze=Ke.word,fe=new S.Y(Ze.startLineNumber,Ke.startColumn,Ze.startLineNumber,Ke.endColumn)}else ze=se.getModel().getValueInRange(Ze).replace(/\r\n/g,"\n");return new z(se,ce,me,ze,Pe,he,fe)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const se=this._getNextMatch();if(!se)return null;const ce=this._editor.getSelections();return new H(ce.concat(se),se,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const se=this._getNextMatch();if(!se)return null;const ce=this._editor.getSelections();return new H(ce.slice(0,ce.length-1).concat(se),se,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const me=this.currentMatch;return this.currentMatch=null,me}this.findController.highlightFindOptions();const se=this._editor.getSelections(),ce=se[se.length-1],Ee=this._editor.getModel().findNextMatch(this.searchText,ce.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Ee?new S.Y(Ee.range.startLineNumber,Ee.range.startColumn,Ee.range.endLineNumber,Ee.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const se=this._getPreviousMatch();if(!se)return null;const ce=this._editor.getSelections();return new H(ce.concat(se),se,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const se=this._getPreviousMatch();if(!se)return null;const ce=this._editor.getSelections();return new H(ce.slice(0,ce.length-1).concat(se),se,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const me=this.currentMatch;return this.currentMatch=null,me}this.findController.highlightFindOptions();const se=this._editor.getSelections(),ce=se[se.length-1],Ee=this._editor.getModel().findPreviousMatch(this.searchText,ce.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Ee?new S.Y(Ee.range.startLineNumber,Ee.range.startColumn,Ee.range.endLineNumber,Ee.range.endColumn):null}selectAll(se){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();return this._editor.getModel().findMatches(this.searchText,se||!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}let N=(()=>{class Oe extends C.JT{constructor(ce){super(),this._sessionDispose=this._register(new C.SL),this._editor=ce,this._ignoreSelectionChange=!1,this._session=null}static get(ce){return ce.getContribution(Oe.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(ce){if(!this._session){const Ee=z.create(this._editor,ce);if(!Ee)return;this._session=Ee;const me={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(me.wholeWordOverride=1,me.matchCaseOverride=1,me.isRegexOverride=2),ce.getState().change(me,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Pe=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(ce.getState().onFindReplaceStateChange(Pe=>{(Pe.matchCase||Pe.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const ce={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(ce,!1)}this._session=null}_setSelections(ce){this._ignoreSelectionChange=!0,this._editor.setSelections(ce),this._ignoreSelectionChange=!1}_expandEmptyToWord(ce,Ee){if(!Ee.isEmpty())return Ee;const me=this._editor.getConfiguredWordAtPosition(Ee.getStartPosition());return me?new S.Y(Ee.startLineNumber,me.startColumn,Ee.startLineNumber,me.endColumn):Ee}_applySessionResult(ce){ce&&(this._setSelections(ce.selections),ce.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(ce.revealRange,ce.revealScrollType))}getSession(ce){return this._session}addSelectionToNextFindMatch(ce){if(this._editor.hasModel()){if(!this._session){const Ee=this._editor.getSelections();if(Ee.length>1){const Pe=ce.getState().matchCase;if(!Se(this._editor.getModel(),Ee,Pe)){const Fe=this._editor.getModel(),Ze=[];for(let ze=0,fe=Ee.length;ze<fe;ze++)Ze[ze]=this._expandEmptyToWord(Fe,Ee[ze]);return void this._editor.setSelections(Ze)}}}this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(ce){this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(ce){this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(ce){this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(ce){if(!this._editor.hasModel())return;let Ee=null;const me=ce.getState();if(me.isRevealed&&me.searchString.length>0&&me.isRegex){Ee=this._editor.getModel().findMatches(me.searchString,!me.searchScope||me.searchScope,me.isRegex,me.matchCase,me.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(ce),!this._session)return;Ee=this._session.selectAll(me.searchScope)}if(Ee.length>0){const Pe=this._editor.getSelection();for(let he=0,Fe=Ee.length;he<Fe;he++){const Ze=Ee[he];if(Ze.range.intersectRanges(Pe)){Ee[he]=Ee[0],Ee[0]=Ze;break}}this._setSelections(Ee.map(he=>new S.Y(he.range.startLineNumber,he.range.startColumn,he.range.endLineNumber,he.range.endColumn)))}}}return Oe.ID="editor.contrib.multiCursorController",Oe})();class O extends f.R6{run(se,ce){const Ee=N.get(ce);if(!Ee)return;const me=a.CommonFindController.get(ce);if(!me)return;const Pe=ce._getViewModel();if(Pe){const he=Pe.getCursorStates();this._run(Ee,me),E(he,Pe.getCursorStates())}}}class K extends O{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:u.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:2082,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:u.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(se,ce){se.addSelectionToNextFindMatch(ce)}}class $ extends O{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:u.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:u.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(se,ce){se.addSelectionToPreviousFindMatch(ce)}}class j extends O{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:u.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:(0,l.gx)(2089,2082),weight:100}})}_run(se,ce){se.moveSelectionToNextFindMatch(ce)}}class q extends O{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:u.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(se,ce){se.moveSelectionToPreviousFindMatch(ce)}}class R extends O{constructor(){super({id:"editor.action.selectHighlights",label:u.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:3114,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:u.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(se,ce){se.selectAll(ce)}}class Z extends O{constructor(){super({id:"editor.action.changeAll",label:u.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:d.Ao.and(D.u.writable,D.u.editorTextFocus),kbOpts:{kbExpr:D.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(se,ce){se.selectAll(ce)}}class J{constructor(se,ce,Ee,me,Pe){this._model=se,this._searchText=ce,this._matchCase=Ee,this._wordSeparators=me,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Pe&&this._model===Pe._model&&this._searchText===Pe._searchText&&this._matchCase===Pe._matchCase&&this._wordSeparators===Pe._wordSeparators&&this._modelVersionId===Pe._modelVersionId&&(this._cachedFindMatches=Pe._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(se=>se.range),this._cachedFindMatches.sort(b.e.compareRangesUsingStarts)),this._cachedFindMatches}}let Ce=class rc extends C.JT{constructor(se,ce){super(),this._languageFeaturesService=ce,this.editor=se,this._isEnabled=se.getOption(99),this._decorations=se.createDecorationsCollection(),this.updateSoon=this._register(new t.pY(()=>this._update(),300)),this.state=null,this._register(se.onDidChangeConfiguration(me=>{this._isEnabled=se.getOption(99)})),this._register(se.onDidChangeCursorSelection(me=>{this._isEnabled&&(me.selection.isEmpty()?3===me.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(se.onDidChangeModel(me=>{this._setState(null)})),this._register(se.onDidChangeModelContent(me=>{this._isEnabled&&this.updateSoon.schedule()}));const Ee=a.CommonFindController.get(se);Ee&&this._register(Ee.getState().onFindReplaceStateChange(me=>{this._update()}))}_update(){this._setState(rc._createState(this.state,this._isEnabled,this.editor))}static _createState(se,ce,Ee){if(!ce||!Ee.hasModel())return null;const me=Ee.getSelection();if(me.startLineNumber!==me.endLineNumber)return null;const Pe=N.get(Ee);if(!Pe)return null;const he=a.CommonFindController.get(Ee);if(!he)return null;let Fe=Pe.getSession(he);if(!Fe){const fe=Ee.getSelections();if(fe.length>1){const Je=he.getState().matchCase;if(!Se(Ee.getModel(),fe,Je))return null}Fe=z.create(Ee,he)}if(!Fe||Fe.currentMatch||/^[ \t]+$/.test(Fe.searchText)||Fe.searchText.length>200)return null;const Ze=he.getState(),ze=Ze.matchCase;if(Ze.isRevealed){let fe=Ze.searchString;ze||(fe=fe.toLowerCase());let Ke=Fe.searchText;if(ze||(Ke=Ke.toLowerCase()),fe===Ke&&Fe.matchCase===Ze.matchCase&&Fe.wholeWord===Ze.wholeWord&&!Ze.isRegex)return null}return new J(Ee.getModel(),Fe.searchText,Fe.matchCase,Fe.wholeWord?Ee.getOption(119):null,se)}_setState(se){if(this.state=se,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const ce=this.editor.getModel();if(ce.isTooLargeForTokenization())return;const Ee=this.state.findMatches(),me=this.editor.getSelections();me.sort(b.e.compareRangesUsingStarts);const Pe=[];for(let Ze=0,ze=0,fe=Ee.length,Ke=me.length;Ze<fe;){const Je=Ee[Ze];if(ze>=Ke)Pe.push(Je),Ze++;else{const vt=b.e.compareRangesUsingStarts(Je,me[ze]);vt<0?((me[ze].isEmpty()||!b.e.areIntersecting(Je,me[ze]))&&Pe.push(Je),Ze++):(vt>0||Ze++,ze++)}}const he=this._languageFeaturesService.documentHighlightProvider.has(ce)&&this.editor.getOption(74),Fe=Pe.map(Ze=>({range:Ze,options:he?rc._SELECTION_HIGHLIGHT:rc._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(Fe)}dispose(){this._setState(null),super.dispose()}};var se;function Se(Oe,se,ce){const Ee=Ie(Oe,se[0],!ce);for(let me=1,Pe=se.length;me<Pe;me++){const he=se[me];if(he.isEmpty())return!1;if(Ee!==Ie(Oe,he,!ce))return!1}return!0}function Ie(Oe,se,ce){const Ee=Oe.getValueInRange(se);return ce?Ee.toLowerCase():Ee}Ce.ID="editor.contrib.selectionHighlighter",Ce._SELECTION_HIGHLIGHT_OVERVIEW=r.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,g.EN)(y.IYc),position:_.F5.Inline},overviewRuler:{color:(0,g.EN)(y.SPM),position:_.sh.Center}}),Ce._SELECTION_HIGHLIGHT=r.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Ce=function(Oe,se,ce,Ee){var he,me=arguments.length,Pe=me<3?se:null===Ee?Ee=Object.getOwnPropertyDescriptor(se,ce):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(Oe,se,ce,Ee);else for(var Fe=Oe.length-1;Fe>=0;Fe--)(he=Oe[Fe])&&(Pe=(me<3?he(Pe):me>3?he(se,ce,Pe):he(se,ce))||Pe);return me>3&&Pe&&Object.defineProperty(se,ce,Pe),Pe}([(1,se=v.p,function(ce,Ee){se(ce,Ee,1)})],Ce);class xe extends f.R6{constructor(){super({id:"editor.action.focusNextCursor",label:u.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:u.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(se,ce,Ee){if(!ce.hasModel())return;const me=ce._getViewModel();if(me.cursorConfig.readOnly)return;me.model.pushStackElement();const Pe=Array.from(me.getCursorStates()),he=Pe.shift();he&&(Pe.push(he),me.setCursorStates(Ee.source,3,Pe),me.revealPrimaryCursor(Ee.source,!0),E(Pe,me.getCursorStates()))}}class Me extends f.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:u.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:u.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(se,ce,Ee){if(!ce.hasModel())return;const me=ce._getViewModel();if(me.cursorConfig.readOnly)return;me.model.pushStackElement();const Pe=Array.from(me.getCursorStates()),he=Pe.pop();he&&(Pe.unshift(he),me.setCursorStates(Ee.source,3,Pe),me.revealPrimaryCursor(Ee.source,!0),E(Pe,me.getCursorStates()))}}(0,f._K)(N.ID,N),(0,f._K)(Ce.ID,Ce),(0,f.Qr)(L),(0,f.Qr)(x),(0,f.Qr)(class A extends f.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:u.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:u.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(se,ce,Ee){if(!se.isEmpty()){for(let me=se.startLineNumber;me<se.endLineNumber;me++){const Pe=ce.getLineMaxColumn(me);Ee.push(new S.Y(me,Pe,me,Pe))}se.endColumn>1&&Ee.push(new S.Y(se.endLineNumber,se.endColumn,se.endLineNumber,se.endColumn))}}run(se,ce){if(!ce.hasModel())return;const Ee=ce.getModel(),me=ce.getSelections(),Pe=ce._getViewModel(),he=Pe.getCursorStates(),Fe=[];me.forEach(Ze=>this.getCursorsForSelection(Ze,Ee,Fe)),Fe.length>0&&ce.setSelections(Fe),E(he,Pe.getCursorStates())}}),(0,f.Qr)(K),(0,f.Qr)($),(0,f.Qr)(j),(0,f.Qr)(q),(0,f.Qr)(R),(0,f.Qr)(Z),(0,f.Qr)(class k extends f.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:u.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(se,ce){if(!ce.hasModel())return;const Ee=ce.getSelections(),me=ce.getModel().getLineCount(),Pe=[];for(let Ze=Ee[0].startLineNumber;Ze<=me;Ze++)Pe.push(new S.Y(Ze,Ee[0].startColumn,Ze,Ee[0].endColumn));const he=ce._getViewModel(),Fe=he.getCursorStates();Pe.length>0&&ce.setSelections(Pe),E(Fe,he.getCursorStates())}}),(0,f.Qr)(class W extends f.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:u.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(se,ce){if(!ce.hasModel())return;const Ee=ce.getSelections(),me=[];for(let Fe=Ee[0].startLineNumber;Fe>=1;Fe--)me.push(new S.Y(Fe,Ee[0].startColumn,Fe,Ee[0].endColumn));const Pe=ce._getViewModel(),he=Pe.getCursorStates();me.length>0&&ce.setSelections(me),E(he,Pe.getCursorStates())}}),(0,f.Qr)(xe),(0,f.Qr)(Me)},26968:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{TriggerParameterHintsAction:()=>ye});var s=e(21576),t=e(95102),l=e(72325),C=e(64050),f=e(71943),I=e(3219),b=e(22070),S=e(56740),D=e(13902),_=e(13154),r=e(97953),a=e(34468),u=e(38336),n=function(dt,it,et,st){return new(et||(et=Promise))(function(mt,bt){function Bt(Tt){try{Ye(st.next(Tt))}catch(qt){bt(qt)}}function Lt(Tt){try{Ye(st.throw(Tt))}catch(qt){bt(qt)}}function Ye(Tt){Tt.done?mt(Tt.value):function St(mt){return mt instanceof et?mt:new et(function(bt){bt(mt)})}(Tt.value).then(Bt,Lt)}Ye((st=st.apply(dt,it||[])).next())})};const d={Visible:new u.uy("parameterHintsVisible",!1),MultipleSignatures:new u.uy("parameterHintsMultipleSignatures",!1)};function y(dt,it,et,st,St){return n(this,void 0,void 0,function*(){const mt=dt.ordered(it);for(const bt of mt)try{const Bt=yield bt.provideSignatureHelp(it,et,St,st);if(Bt)return Bt}catch(Bt){(0,I.Cp)(Bt)}})}a.P0.registerCommand("_executeSignatureHelpProvider",(dt,...it)=>n(void 0,void 0,void 0,function*(){const[et,st,St]=it;(0,b.p_)(S.o.isUri(et)),(0,b.p_)(D.L.isIPosition(st)),(0,b.p_)("string"==typeof St||!St);const mt=dt.get(_.p),bt=yield dt.get(r.S).createModelReference(et);try{const Bt=yield y(mt.signatureHelpProvider,bt.object.textEditorModel,D.L.lift(st),{triggerKind:C.WW.Invoke,isRetrigger:!1,triggerCharacter:St},f.T.None);return Bt?(setTimeout(()=>Bt.dispose(),0),Bt.value):void 0}finally{bt.dispose()}}));var g=e(1200),v=e(30888),m=e(94418),w=e(48460),E=e(2654),L=e(51153),x=e(31864),A=e(77697),k=e(92123),W=e.n(k),H=e(65057),z=e.n(H),N=e(28764),O=e.n(N),K=e(6557),$=e.n(K),j=e(11146),q=e.n(j),R=e(95085),Z=e.n(R),J=e(97425),Ce={};Ce.styleTagTransform=Z(),Ce.setAttributes=$(),Ce.insert=O().bind(null,"head"),Ce.domAPI=z(),Ce.insertStyleElement=q(),W()(J.Z,Ce);var Ee,xe=e(12375),Me=e(87060),Oe=e(41883),se=e(89646);!function(dt){dt.Default={type:0},dt.Pending=class it{constructor(St,mt){this.request=St,this.previouslyActiveHints=mt,this.type=2}},dt.Active=class et{constructor(St){this.hints=St,this.type=1}}}(Ee||(Ee={}));let me=(()=>{class dt extends s.JT{constructor(et,st,St=dt.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new x.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Ee.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new s.XK),this.triggerChars=new se.q,this.retriggerChars=new se.q,this.triggerId=0,this.editor=et,this.providers=st,this.throttledDelayer=new Oe.vp(St),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(mt=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(mt=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(mt=>this.onCursorChange(mt))),this._register(this.editor.onDidChangeModelContent(mt=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(mt=>this.onDidType(mt))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(et){2===this._state.type&&this._state.request.cancel(),this._state=et}cancel(et=!1){this.state=Ee.Default,this.throttledDelayer.cancel(),et||this._onChangedHints.fire(void 0)}trigger(et,st){const St=this.editor.getModel();if(!St||!this.providers.has(St))return;const mt=++this.triggerId;this._pendingTriggers.push(et),this.throttledDelayer.trigger(()=>this.doTrigger(mt),st).catch(I.dL)}next(){if(1!==this.state.type)return;const et=this.state.hints.signatures.length,st=this.state.hints.activeSignature,St=st%et==et-1,mt=this.editor.getOption(78).cycle;!(et<2||St)||mt?this.updateActiveSignature(St&&mt?0:st+1):this.cancel()}previous(){if(1!==this.state.type)return;const et=this.state.hints.signatures.length,st=this.state.hints.activeSignature,St=0===st,mt=this.editor.getOption(78).cycle;!(et<2||St)||mt?this.updateActiveSignature(St&&mt?et-1:st-1):this.cancel()}updateActiveSignature(et){1===this.state.type&&(this.state=new Ee.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:et})),this._onChangedHints.fire(this.state.hints))}doTrigger(et){return function(dt,it,et,st){return new(et||(et=Promise))(function(mt,bt){function Bt(Tt){try{Ye(st.next(Tt))}catch(qt){bt(qt)}}function Lt(Tt){try{Ye(st.throw(Tt))}catch(qt){bt(qt)}}function Ye(Tt){Tt.done?mt(Tt.value):function St(mt){return mt instanceof et?mt:new et(function(bt){bt(mt)})}(Tt.value).then(Bt,Lt)}Ye((st=st.apply(dt,it||[])).next())})}(this,void 0,void 0,function*(){const st=1===this.state.type||2===this.state.type,St=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const mt=this._pendingTriggers.reduce(Pe);this._pendingTriggers=[];const bt={triggerKind:mt.triggerKind,triggerCharacter:mt.triggerCharacter,isRetrigger:st,activeSignatureHelp:St};if(!this.editor.hasModel())return!1;const Bt=this.editor.getModel(),Lt=this.editor.getPosition();this.state=new Ee.Pending((0,Oe.PG)(Ye=>y(this.providers,Bt,Lt,bt,Ye)),St);try{const Ye=yield this.state.request;return et!==this.triggerId?(Ye?.dispose(),!1):Ye&&Ye.value.signatures&&0!==Ye.value.signatures.length?(this.state=new Ee.Active(Ye.value),this._lastSignatureHelpResult.value=Ye,this._onChangedHints.fire(this.state.hints),!0):(Ye?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(Ye){return et===this.triggerId&&(this.state=Ee.Default),(0,I.dL)(Ye),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new se.q,this.retriggerChars=new se.q;const et=this.editor.getModel();if(et)for(const st of this.providers.ordered(et)){for(const St of st.signatureHelpTriggerCharacters||[])this.triggerChars.add(St.charCodeAt(0)),this.retriggerChars.add(St.charCodeAt(0));for(const St of st.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(St.charCodeAt(0))}}onDidType(et){if(!this.triggerOnType)return;const st=et.length-1,St=et.charCodeAt(st);(this.triggerChars.has(St)||this.isTriggered&&this.retriggerChars.has(St))&&this.trigger({triggerKind:C.WW.TriggerCharacter,triggerCharacter:et.charAt(st)})}onCursorChange(et){"mouse"===et.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:C.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:C.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return dt.DEFAULT_DELAY=120,dt})();function Pe(dt,it){switch(it.triggerKind){case C.WW.Invoke:return it;case C.WW.ContentChange:return dt;default:return it}}var he=e(78668),Fe=e(6192),Ze=e(68762),ze=e(65206),fe=e(14089),Je=function(dt,it){return function(et,st){it(et,st,dt)}};const vt=m.$,Et=(0,Ze.q5)("parameter-hints-next",L.lA.chevronDown,g.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),Xe=(0,Ze.q5)("parameter-hints-previous",L.lA.chevronUp,g.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let re=class Fu extends s.JT{constructor(it,et,st,St,mt){super(),this.editor=it,this.renderDisposeables=this._register(new s.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Me.$({editor:it},St,st)),this.model=this._register(new me(it,mt.signatureHelpProvider)),this.keyVisible=d.Visible.bindTo(et),this.keyMultipleSignatures=d.MultipleSignatures.bindTo(et),this._register(this.model.onChangedHints(bt=>{bt?(this.show(),this.render(bt)):this.hide()}))}createParameterHintDOMNodes(){const it=vt(".editor-widget.parameter-hints-widget"),et=m.R3(it,vt(".phwrapper"));et.tabIndex=-1;const st=m.R3(et,vt(".controls")),St=m.R3(st,vt(".button"+fe.kS.asCSSSelector(Xe))),mt=m.R3(st,vt(".overloads")),bt=m.R3(st,vt(".button"+fe.kS.asCSSSelector(Et)));this._register(m.nm(St,"click",Ot=>{m.zB.stop(Ot),this.previous()})),this._register(m.nm(bt,"click",Ot=>{m.zB.stop(Ot),this.next()}));const Bt=vt(".body"),Lt=new E.s$(Bt,{alwaysConsumeMouseWheel:!0});this._register(Lt),et.appendChild(Lt.getDomNode());const Ye=m.R3(Bt,vt(".signature")),Tt=m.R3(Bt,vt(".docs"));it.style.userSelect="text",this.domNodes={element:it,signature:Ye,overloads:mt,docs:Tt,scrollbar:Lt},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Ot=>{this.visible&&this.editor.layoutContentWidget(this)}));const qt=()=>{if(!this.domNodes)return;const Ot=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${Ot.fontSize}px`,this.domNodes.element.style.lineHeight=""+Ot.lineHeight/Ot.fontSize};qt(),this._register(x.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Ot=>Ot.hasChanged(46)).on(qt,null)),this._register(this.editor.onDidLayoutChange(Ot=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var it;null===(it=this.domNodes)||void 0===it||it.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var it;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(it=this.domNodes)||void 0===it||it.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(it){var et;if(this.renderDisposeables.clear(),!this.domNodes)return;const st=it.signatures.length>1;this.domNodes.element.classList.toggle("multiple",st),this.keyMultipleSignatures.set(st),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const St=it.signatures[it.activeSignature];if(!St)return;const mt=m.R3(this.domNodes.signature,vt(".code")),bt=this.editor.getOption(46);mt.style.fontSize=`${bt.fontSize}px`,mt.style.fontFamily=bt.fontFamily;const Lt=null!==(et=St.activeParameter)&&void 0!==et?et:it.activeParameter;St.parameters.length>0?this.renderParameters(mt,St,Lt):m.R3(mt,vt("span")).textContent=St.label;const Ye=St.parameters[Lt];if(Ye?.documentation){const qt=vt("span.documentation");if("string"==typeof Ye.documentation)qt.textContent=Ye.documentation;else{const Ot=this.renderMarkdownDocs(Ye.documentation);qt.appendChild(Ot.element)}m.R3(this.domNodes.docs,vt("p",{},qt))}if(void 0!==St.documentation)if("string"==typeof St.documentation)m.R3(this.domNodes.docs,vt("p",{},St.documentation));else{const qt=this.renderMarkdownDocs(St.documentation);m.R3(this.domNodes.docs,qt.element)}const Tt=this.hasDocs(St,Ye);if(this.domNodes.signature.classList.toggle("has-docs",Tt),this.domNodes.docs.classList.toggle("empty",!Tt),this.domNodes.overloads.textContent=String(it.activeSignature+1).padStart(it.signatures.length.toString().length,"0")+"/"+it.signatures.length,Ye){let qt="";const Ot=St.parameters[Lt];qt=Array.isArray(Ot.label)?St.label.substring(Ot.label[0],Ot.label[1]):Ot.label,Ot.documentation&&(qt+="string"==typeof Ot.documentation?`, ${Ot.documentation}`:`, ${Ot.documentation.value}`),St.documentation&&(qt+="string"==typeof St.documentation?`, ${St.documentation}`:`, ${St.documentation.value}`),this.announcedLabel!==qt&&(w.Z9(g.NC("hint","{0}, hint",qt)),this.announcedLabel=qt)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(it){const et=this.renderDisposeables.add(this.markdownRenderer.render(it,{asyncRenderCallback:()=>{var st;null===(st=this.domNodes)||void 0===st||st.scrollbar.scanDomNode()}}));return et.element.classList.add("markdown-docs"),et}hasDocs(it,et){return!!(et&&"string"==typeof et.documentation&&(0,b.cW)(et.documentation).length>0||et&&"object"==typeof et.documentation&&(0,b.cW)(et.documentation).value.length>0||it.documentation&&"string"==typeof it.documentation&&(0,b.cW)(it.documentation).length>0||it.documentation&&"object"==typeof it.documentation&&(0,b.cW)(it.documentation.value).length>0)}renderParameters(it,et,st){const[St,mt]=this.getParameterLabelOffsets(et,st),bt=document.createElement("span");bt.textContent=et.label.substring(0,St);const Bt=document.createElement("span");Bt.textContent=et.label.substring(St,mt),Bt.className="parameter active";const Lt=document.createElement("span");Lt.textContent=et.label.substring(mt),m.R3(it,bt,Bt,Lt)}getParameterLabelOffsets(it,et){const st=it.parameters[et];if(st){if(Array.isArray(st.label))return st.label;if(st.label.length){const St=new RegExp(`(\\W|^)${(0,A.ec)(st.label)}(?=\\W|$)`,"g");St.test(it.label);const mt=St.lastIndex-st.label.length;return mt>=0?[mt,St.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Fu.ID}trigger(it){this.model.trigger(it,0)}updateMaxHeight(){if(!this.domNodes)return;const et=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=et;const st=this.domNodes.element.getElementsByClassName("phwrapper");st.length&&(st[0].style.maxHeight=et)}};re.ID="editor.widget.parameterHintsWidget",re=function(dt,it,et,st){var bt,St=arguments.length,mt=St<3?it:null===st?st=Object.getOwnPropertyDescriptor(it,et):st;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(dt,it,et,st);else for(var Bt=dt.length-1;Bt>=0;Bt--)(bt=dt[Bt])&&(mt=(St<3?bt(mt):St>3?bt(it,et,mt):bt(it,et))||mt);return St>3&&mt&&Object.defineProperty(it,et,mt),mt}([Je(1,u.i6),Je(2,he.v4),Je(3,xe.O),Je(4,_.p)],re);const pe=(0,Fe.P6G)("editorHoverWidget.highlightForeground",{dark:Fe.Gwp,light:Fe.Gwp,hcDark:Fe.Gwp,hcLight:Fe.Gwp},g.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,fe.Ic)((dt,it)=>{const et=dt.getColor(Fe.CNo);if(et){const Ye=(0,ze.c3)(dt.type)?2:1;it.addRule(`.monaco-editor .parameter-hints-widget { border: ${Ye}px solid ${et}; }`),it.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${et.transparent(.5)}; }`),it.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${et.transparent(.5)}; }`)}const st=dt.getColor(Fe.yJx);st&&it.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${st}; }`);const St=dt.getColor(Fe.url);St&&it.addRule(`.monaco-editor .parameter-hints-widget a { color: ${St}; }`);const mt=dt.getColor(Fe.sgC);mt&&it.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${mt}; }`);const bt=dt.getColor(Fe.Sbf);bt&&it.addRule(`.monaco-editor .parameter-hints-widget { color: ${bt}; }`);const Bt=dt.getColor(Fe.SwI);Bt&&it.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${Bt}; }`);const Lt=dt.getColor(pe);Lt&&it.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Lt}}`)});let Q=class Bu extends s.JT{constructor(it,et){super(),this.editor=it,this.widget=this._register(et.createInstance(re,this.editor))}static get(it){return it.getContribution(Bu.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(it){this.widget.trigger(it)}};var it;Q.ID="editor.controller.parameterHints",Q=function(dt,it,et,st){var bt,St=arguments.length,mt=St<3?it:null===st?st=Object.getOwnPropertyDescriptor(it,et):st;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(dt,it,et,st);else for(var Bt=dt.length-1;Bt>=0;Bt--)(bt=dt[Bt])&&(mt=(St<3?bt(mt):St>3?bt(it,et,mt):bt(it,et))||mt);return St>3&&mt&&Object.defineProperty(it,et,mt),mt}([(1,it=v.TG,function(et,st){it(et,st,1)})],Q);class ye extends t.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:g.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:l.u.hasSignatureHelpProvider,kbOpts:{kbExpr:l.u.editorTextFocus,primary:3082,weight:100}})}run(it,et){const st=Q.get(et);st&&st.trigger({triggerKind:C.WW.Invoke})}}(0,t._K)(Q.ID,Q),(0,t.Qr)(ye);const ft=t._l.bindToContribution(Q.get);(0,t.fK)(new ft({id:"closeParameterHints",precondition:d.Visible,handler:dt=>dt.cancel(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:9,secondary:[1033]}})),(0,t.fK)(new ft({id:"showPrevParameterHint",precondition:u.Ao.and(d.Visible,d.MultipleSignatures),handler:dt=>dt.previous(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,t.fK)(new ft({id:"showNextParameterHint",precondition:u.Ao.and(d.Visible,d.MultipleSignatures),handler:dt=>dt.next(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},24049:(yt,T,e)=>{"use strict";e.d(T,{Fw:()=>Ze,Jy:()=>ze,vk:()=>vt,rc:()=>Ke,SC:()=>pe,M8:()=>ge,KY:()=>Et,IH:()=>Xe,R7:()=>re});var s=e(94418),t=e(3847),l=e(36608),C=e(51153),f=e(84968),I=e(31864),b=e(82941),S=e(92123),D=e.n(S),_=e(65057),r=e.n(_),a=e(28764),u=e.n(a),n=e(6557),d=e.n(n),y=e(11146),g=e.n(y),v=e(95085),m=e.n(v),w=e(30822),E={};E.styleTagTransform=m(),E.setAttributes=d(),E.insert=u().bind(null,"head"),E.domAPI=r(),E.insertStyleElement=g(),D()(w.Z,E);var A=e(95102),k=e(60896),W=e(70248),H=e(30728),z=e(42700),N=e(21576),O=e(72699),K={};K.styleTagTransform=m(),K.setAttributes=d(),K.insert=u().bind(null,"head"),K.domAPI=r(),K.insertStyleElement=g(),D()(O.Z,K);var q=e(88154),R=e(53727);const Z=new f.Il(new f.VS(0,122,204)),J={showArrow:!0,showFrame:!0,className:"",frameColor:Z,arrowColor:Z,keepEditorSelection:!1};class Se{constructor(mt,bt,Bt,Lt,Ye,Tt){this.id="",this.domNode=mt,this.afterLineNumber=bt,this.afterColumn=Bt,this.heightInLines=Lt,this._onDomNodeTop=Ye,this._onComputedHeight=Tt}onDomNodeTop(mt){this._onDomNodeTop(mt)}onComputedHeight(mt){this._onComputedHeight(mt)}}class Ie{constructor(mt,bt){this._id=mt,this._domNode=bt}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class xe{constructor(mt){this._editor=mt,this._ruleName=xe._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),s.uN(this._ruleName)}set color(mt){this._color!==mt&&(this._color=mt,this._updateStyle())}set height(mt){this._height!==mt&&(this._height=mt,this._updateStyle())}_updateStyle(){s.uN(this._ruleName),s.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(mt){1===mt.column&&(mt={lineNumber:mt.lineNumber,column:2}),this._decorations.set([{range:q.e.fromPositions(mt),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}xe._IdGenerator=new z.R(".arrow-decoration-");class Me{constructor(mt,bt={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new N.SL,this.container=null,this._isShowing=!1,this.editor=mt,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=b.I8(bt),b.jB(this.options,J,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(Bt=>{const Lt=this._getWidth(Bt);this.domNode.style.width=Lt+"px",this.domNode.style.left=this._getLeft(Bt)+"px",this._onWidth(Lt)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(mt=>{this._viewZone&&mt.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new xe(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(mt){mt.frameColor&&(this.options.frameColor=mt.frameColor),mt.arrowColor&&(this.options.arrowColor=mt.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const mt=this.options.frameColor.toString();this.container.style.borderTopColor=mt,this.container.style.borderBottomColor=mt}if(this._arrow&&this.options.arrowColor){const mt=this.options.arrowColor.toString();this._arrow.color=mt}}_getWidth(mt){return mt.width-mt.minimap.minimapWidth-mt.verticalScrollbarWidth}_getLeft(mt){return mt.minimap.minimapWidth>0&&0===mt.minimap.minimapLeft?mt.minimap.minimapWidth:0}_onViewZoneTop(mt){this.domNode.style.top=mt+"px"}_onViewZoneHeight(mt){if(this.domNode.style.height=`${mt}px`,this.container){const bt=mt-this._decoratingElementsHeight();this.container.style.height=`${bt}px`;const Bt=this.editor.getLayoutInfo();this._doLayout(bt,this._getWidth(Bt))}this._resizeSash&&this._resizeSash.layout()}get position(){const mt=this._positionMarkerId.getRange(0);if(mt)return mt.getStartPosition()}show(mt,bt){const Bt=q.e.isIRange(mt)?q.e.lift(mt):q.e.fromPositions(mt);this._isShowing=!0,this._showImpl(Bt,bt),this._isShowing=!1,this._positionMarkerId.set([{range:Bt,options:R.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(mt=>{this._viewZone&&mt.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const mt=this.editor.getOption(61);let bt=0;return this.options.showArrow&&(bt+=2*Math.round(mt/3)),this.options.showFrame&&(bt+=2*Math.round(mt/9)),bt}_showImpl(mt,bt){const Bt=mt.getStartPosition(),Lt=this.editor.getLayoutInfo(),Ye=this._getWidth(Lt);this.domNode.style.width=`${Ye}px`,this.domNode.style.left=this._getLeft(Lt)+"px";const Tt=document.createElement("div");Tt.style.overflow="hidden";const qt=this.editor.getOption(61),Ot=Math.max(12,this.editor.getLayoutInfo().height/qt*.8);bt=Math.min(bt,Ot);let Ft=0,rt=0;if(this._arrow&&this.options.showArrow&&(Ft=Math.round(qt/3),this._arrow.height=Ft,this._arrow.show(Bt)),this.options.showFrame&&(rt=Math.round(qt/9)),this.editor.changeViewZones(te=>{this._viewZone&&te.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Se(Tt,Bt.lineNumber,Bt.column,bt,oe=>this._onViewZoneTop(oe),oe=>this._onViewZoneHeight(oe)),this._viewZone.id=te.addZone(this._viewZone),this._overlayWidget=new Ie("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const te=this.options.frameWidth?this.options.frameWidth:rt;this.container.style.borderTopWidth=te+"px",this.container.style.borderBottomWidth=te+"px"}const Le=bt*qt-this._decoratingElementsHeight();this.container&&(this.container.style.top=Ft+"px",this.container.style.height=Le+"px",this.container.style.overflow="hidden"),this._doLayout(Le,Ye),this.options.keepEditorSelection||this.editor.setSelection(mt);const ie=this.editor.getModel();if(ie){const te=mt.endLineNumber+1;te<=ie.getLineCount()?this.revealLine(te,!1):this.revealLine(ie.getLineCount(),!0)}}revealLine(mt,bt){bt?this.editor.revealLineInCenter(mt,0):this.editor.revealLine(mt,0)}setCssClass(mt,bt){this.container&&(bt&&this.container.classList.remove(bt),this.container.classList.add(mt))}_onWidth(mt){}_doLayout(mt,bt){}_relayout(mt){this._viewZone&&this._viewZone.heightInLines!==mt&&this.editor.changeViewZones(bt=>{this._viewZone&&(this._viewZone.heightInLines=mt,bt.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let mt;this._resizeSash=this._disposables.add(new H.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(bt=>{this._viewZone&&(mt={startY:bt.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{mt=void 0})),this._disposables.add(this._resizeSash.onDidChange(bt=>{if(mt){const Bt=(bt.currentY-mt.startY)/this.editor.getOption(61),Lt=Bt<0?Math.ceil(Bt):Math.floor(Bt),Ye=mt.heightInLines+Lt;Ye>5&&Ye<35&&this._relayout(Ye)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const mt=this.editor.getLayoutInfo();return mt.width-mt.minimap.minimapWidth}}var Oe=e(1200),se=e(88396),ce=e(38336),Ee=e(53708),me=e(30888),Pe=e(6192),he=function(St,mt,bt,Bt){var Tt,Lt=arguments.length,Ye=Lt<3?mt:null===Bt?Bt=Object.getOwnPropertyDescriptor(mt,bt):Bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(St,mt,bt,Bt);else for(var qt=St.length-1;qt>=0;qt--)(Tt=St[qt])&&(Ye=(Lt<3?Tt(Ye):Lt>3?Tt(mt,bt,Ye):Tt(mt,bt))||Ye);return Lt>3&&Ye&&Object.defineProperty(mt,bt,Ye),Ye},Fe=function(St,mt){return function(bt,Bt){mt(bt,Bt,St)}};const Ze=(0,me.yh)("IPeekViewService");var ze,St;(0,Ee.z)(Ze,class{constructor(){this._widgets=new Map}addExclusiveWidget(St,mt){const bt=this._widgets.get(St);bt&&(bt.listener.dispose(),bt.widget.dispose()),this._widgets.set(St,{widget:mt,listener:mt.onDidClose(()=>{const Lt=this._widgets.get(St);Lt&&Lt.widget===mt&&(Lt.listener.dispose(),this._widgets.delete(St))})})}}),(St=ze||(ze={})).inPeekEditor=new ce.uy("inReferenceSearchEditor",!0,Oe.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),St.notInPeekEditor=St.inPeekEditor.toNegated();let fe=class{constructor(mt,bt){mt instanceof W.H&&ze.inPeekEditor.bindTo(bt)}dispose(){}};function Ke(St){const mt=St.get(k.$).getFocusedCodeEditor();return mt instanceof W.H?mt.getParentEditor():mt}fe.ID="editor.contrib.referenceController",fe=he([Fe(1,ce.i6)],fe),(0,A._K)(fe.ID,fe);const Je={headerBackgroundColor:f.Il.white,primaryHeadingColor:f.Il.fromHex("#333333"),secondaryHeadingColor:f.Il.fromHex("#6c6c6cb3")};let vt=class extends Me{constructor(mt,bt,Bt){super(mt,bt),this.instantiationService=Bt,this._onDidClose=new I.Q5,this.onDidClose=this._onDidClose.event,b.jB(this.options,Je,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(mt){const bt=this.options;mt.headerBackgroundColor&&(bt.headerBackgroundColor=mt.headerBackgroundColor),mt.primaryHeadingColor&&(bt.primaryHeadingColor=mt.primaryHeadingColor),mt.secondaryHeadingColor&&(bt.secondaryHeadingColor=mt.secondaryHeadingColor),super.style(mt)}_applyStyles(){super._applyStyles();const mt=this.options;this._headElement&&mt.headerBackgroundColor&&(this._headElement.style.backgroundColor=mt.headerBackgroundColor.toString()),this._primaryHeading&&mt.primaryHeadingColor&&(this._primaryHeading.style.color=mt.primaryHeadingColor.toString()),this._secondaryHeading&&mt.secondaryHeadingColor&&(this._secondaryHeading.style.color=mt.secondaryHeadingColor.toString()),this._bodyElement&&mt.frameColor&&(this._bodyElement.style.borderColor=mt.frameColor.toString())}_fillContainer(mt){this.setCssClass("peekview-widget"),this._headElement=s.$(".head"),this._bodyElement=s.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),mt.appendChild(this._headElement),mt.appendChild(this._bodyElement)}_fillHead(mt,bt){const Bt=s.$(".peekview-title");this.options.supportOnTitleClick&&(Bt.classList.add("clickable"),s.mu(Bt,"click",Tt=>this._onTitleClick(Tt))),s.R3(this._headElement,Bt),this._fillTitleIcon(Bt),this._primaryHeading=s.$("span.filename"),this._secondaryHeading=s.$("span.dirname"),this._metaHeading=s.$("span.meta"),s.R3(Bt,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Lt=s.$(".peekview-actions");s.R3(this._headElement,Lt);const Ye=this._getActionBarOptions();this._actionbarWidget=new t.o(Lt,Ye),this._disposables.add(this._actionbarWidget),bt||this._actionbarWidget.push(new l.aU("peekview.close",Oe.NC("label.close","Close"),C.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(mt){}_getActionBarOptions(){return{actionViewItemProvider:se.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(mt){}setTitle(mt,bt){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=mt,this._primaryHeading.setAttribute("title",mt),bt?this._secondaryHeading.innerText=bt:s.PO(this._secondaryHeading))}setMetaTitle(mt){this._metaHeading&&(mt?(this._metaHeading.innerText=mt,s.$Z(this._metaHeading)):s.Cp(this._metaHeading))}_doLayout(mt,bt){if(!this._isShowing&&mt<0)return void this.dispose();const Bt=Math.ceil(1.2*this.editor.getOption(61)),Lt=Math.round(mt-(Bt+2));this._doLayoutHead(Bt,bt),this._doLayoutBody(Lt,bt)}_doLayoutHead(mt,bt){this._headElement&&(this._headElement.style.height=`${mt}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(mt,bt){this._bodyElement&&(this._bodyElement.style.height=`${mt}px`)}};vt=he([Fe(2,me.TG)],vt);const Et=(0,Pe.P6G)("peekViewTitle.background",{dark:(0,Pe.ZnX)(Pe.c63,.1),light:(0,Pe.ZnX)(Pe.c63,.1),hcDark:null,hcLight:null},Oe.NC("peekViewTitleBackground","Background color of the peek view title area.")),Xe=(0,Pe.P6G)("peekViewTitleLabel.foreground",{dark:f.Il.white,light:f.Il.black,hcDark:f.Il.white,hcLight:Pe.NOs},Oe.NC("peekViewTitleForeground","Color of the peek view title.")),re=(0,Pe.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},Oe.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),pe=(0,Pe.P6G)("peekView.border",{dark:Pe.c63,light:Pe.c63,hcDark:Pe.lRK,hcLight:Pe.lRK},Oe.NC("peekViewBorder","Color of the peek view borders and arrow.")),ge=(0,Pe.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:f.Il.black,hcLight:f.Il.white},Oe.NC("peekViewResultsBackground","Background color of the peek view result list.")),ft=((0,Pe.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:f.Il.white,hcLight:Pe.NOs},Oe.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,Pe.P6G)("peekViewResult.fileForeground",{dark:f.Il.white,light:"#1E1E1E",hcDark:f.Il.white,hcLight:Pe.NOs},Oe.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,Pe.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},Oe.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,Pe.P6G)("peekViewResult.selectionForeground",{dark:f.Il.white,light:"#6C6C6C",hcDark:f.Il.white,hcLight:Pe.NOs},Oe.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,Pe.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:f.Il.black,hcLight:f.Il.white},Oe.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,Pe.P6G)("peekViewEditorGutter.background",{dark:ft,light:ft,hcDark:ft,hcLight:ft},Oe.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,Pe.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},Oe.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,Pe.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},Oe.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,Pe.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Pe.xL1,hcLight:Pe.xL1},Oe.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},22034:(yt,T,e)=>{"use strict";e.d(T,{X:()=>S});var s=e(67005),t=e(21576),l=e(22070),C=e(38128),f=e(59129),I=e(99327),b=e(14089);class S{constructor(_){this.options=_,this.rangeHighlightDecorationId=void 0}provide(_,r){var a;const u=new t.SL;_.canAcceptInBackground=!(null===(a=this.options)||void 0===a||!a.canAcceptInBackground),_.matchOnLabel=_.matchOnDescription=_.matchOnDetail=_.sortByLabel=!1;const n=u.add(new t.XK);return n.value=this.doProvide(_,r),u.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(_,r)})),u}doProvide(_,r){const a=new t.SL,u=this.activeTextEditorControl;if(u&&this.canProvideWithTextEditor(u)){const n={editor:u},d=(0,C.Pi)(u);if(d){let y=(0,l.f6)(u.saveViewState());a.add(d.onDidChangeCursorPosition(()=>{y=(0,l.f6)(u.saveViewState())})),n.restoreViewState=()=>{y&&u===this.activeTextEditorControl&&u.restoreViewState(y)},a.add((0,s.I)(r.onCancellationRequested)(()=>{var g;return null===(g=n.restoreViewState)||void 0===g?void 0:g.call(n)}))}a.add((0,t.OF)(()=>this.clearDecorations(u))),a.add(this.provideWithTextEditor(n,_,r))}else a.add(this.provideWithoutTextEditor(_,r));return a}canProvideWithTextEditor(_){return!0}gotoLocation({editor:_},r){_.setSelection(r.range),_.revealRangeInCenter(r.range,0),r.preserveFocus||_.focus()}getModel(_){var r;return(0,C.QI)(_)?null===(r=_.getModel())||void 0===r?void 0:r.modified:_.getModel()}addDecorations(_,r){_.changeDecorations(a=>{const u=[];this.rangeHighlightDecorationId&&(u.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),u.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:r,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:r,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,b.EN)(I.m9),position:f.sh.Full}}}],[d,y]=a.deltaDecorations(u,n);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:y}})}clearDecorations(_){const r=this.rangeHighlightDecorationId;r&&(_.changeDecorations(a=>{a.deltaDecorations([r.overviewRulerDecorationId,r.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},95530:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{ReadOnlyMessageController:()=>f});var s=e(21576),t=e(95102),l=e(78872),C=e(1200);let f=(()=>{class I extends s.JT{constructor(S){super(),this.editor=S,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const S=l.O.get(this.editor);S&&this.editor.hasModel()&&S.showMessage(this.editor.isSimpleWidget?C.NC("editor.simple.readonly","Cannot edit in read-only input"):C.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition())}}return I.ID="editor.contrib.readOnlyMessageController",I})();(0,t._K)(f.ID,f)},87485:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{RenameAction:()=>Je,rename:()=>fe});var s=e(48460),t=e(41883),l=e(71943),C=e(3219),f=e(21576),I=e(22070),b=e(56740),S=e(2592),D=e(95102),_=e(59961),r=e(60896),a=e(13902),u=e(88154),n=e(72325),d=e(42930),y=e(78872),g=e(1200),v=e(60828),m=e(38336),w=e(30888),E=e(57908),L=e(83916),x=e(26109),A=e(25468),k=e(92123),W=e.n(k),H=e(65057),z=e.n(H),N=e(28764),O=e.n(N),K=e(6557),$=e.n(K),j=e(11146),q=e.n(j),R=e(95085),Z=e.n(R),J=e(24364),Ce={};Ce.styleTagTransform=Z(),Ce.setAttributes=$(),Ce.insert=O().bind(null,"head"),Ce.domAPI=z(),Ce.insertStyleElement=q(),W()(J.Z,Ce);var xe=e(54980),Me=e(6192),Oe=e(14089),ce=function(Et,Xe){return function(re,pe){Xe(re,pe,Et)}};const Ee=new m.uy("renameInputVisible",!1,(0,g.NC)("renameInputVisible","Whether the rename input widget is visible"));let me=class{constructor(Xe,re,pe,ge,de){this._editor=Xe,this._acceptKeybindings=re,this._themeService=pe,this._keybindingService=ge,this._disposables=new f.SL,this.allowEditorOverflow=!0,this._visibleContextKey=Ee.bindTo(de),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(Q=>{Q.hasChanged(46)&&this._updateFont()})),this._disposables.add(pe.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,g.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const Xe=()=>{var re,pe;const[ge,de]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(ge),this._label.innerText=(0,g.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(re=this._keybindingService.lookupKeybinding(ge))||void 0===re?void 0:re.getLabel(),null===(pe=this._keybindingService.lookupKeybinding(de))||void 0===pe?void 0:pe.getLabel())};Xe(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(Xe)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(Xe){var re,pe,ge,de;if(!this._input||!this._domNode)return;const Q=Xe.getColor(Me.rh);this._domNode.style.backgroundColor=String(null!==(re=Xe.getColor(Me.D0T))&&void 0!==re?re:""),this._domNode.style.boxShadow=Q?` 0 0 8px 2px ${Q}`:"",this._domNode.style.color=String(null!==(pe=Xe.getColor(Me.zJb))&&void 0!==pe?pe:""),this._input.style.backgroundColor=String(null!==(ge=Xe.getColor(Me.sEe))&&void 0!==ge?ge:"");const ye=Xe.getColor(Me.dt_);this._input.style.borderWidth=ye?"1px":"0px",this._input.style.borderStyle=ye?"solid":"none",this._input.style.borderColor=null!==(de=ye?.toString())&&void 0!==de?de:"none"}_updateFont(){if(!this._input||!this._label)return;const Xe=this._editor.getOption(46);this._input.style.fontFamily=Xe.fontFamily,this._input.style.fontWeight=Xe.fontWeight,this._input.style.fontSize=`${Xe.fontSize}px`,this._label.style.fontSize=.8*Xe.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(Xe){Xe||this.cancelInput(!0)}acceptInput(Xe){var re;null===(re=this._currentAcceptInput)||void 0===re||re.call(this,Xe)}cancelInput(Xe){var re;null===(re=this._currentCancelInput)||void 0===re||re.call(this,Xe)}getInput(Xe,re,pe,ge,de,Q){this._domNode.classList.toggle("preview",de),this._position=new a.L(Xe.startLineNumber,Xe.startColumn),this._input.value=re,this._input.setAttribute("selectionStart",pe.toString()),this._input.setAttribute("selectionEnd",ge.toString()),this._input.size=Math.max(1.1*(Xe.endColumn-Xe.startColumn),20);const ye=new f.SL;return new Promise(Ae=>{this._currentCancelInput=ft=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Ae(ft),!0),this._currentAcceptInput=ft=>{0!==this._input.value.trim().length&&this._input.value!==re?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Ae({newName:this._input.value,wantsPreview:de&&ft})):this.cancelInput(!0)},ye.add(Q.onCancellationRequested(()=>this.cancelInput(!0))),ye.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{ye.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};me=function(Et,Xe,re,pe){var Q,ge=arguments.length,de=ge<3?Xe:null===pe?pe=Object.getOwnPropertyDescriptor(Xe,re):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(Et,Xe,re,pe);else for(var ye=Et.length-1;ye>=0;ye--)(Q=Et[ye])&&(de=(ge<3?Q(de):ge>3?Q(Xe,re,de):Q(Xe,re))||de);return ge>3&&de&&Object.defineProperty(Xe,re,de),de}([ce(2,Oe.XE),ce(3,xe.d),ce(4,m.i6)],me);var Pe=e(13154),Fe=function(Et,Xe){return function(re,pe){Xe(re,pe,Et)}},Ze=function(Et,Xe,re,pe){return new(re||(re=Promise))(function(de,Q){function ye(dt){try{ft(pe.next(dt))}catch(it){Q(it)}}function Ae(dt){try{ft(pe.throw(dt))}catch(it){Q(it)}}function ft(dt){dt.done?de(dt.value):function ge(de){return de instanceof re?de:new re(function(Q){Q(de)})}(dt.value).then(ye,Ae)}ft((pe=pe.apply(Et,Xe||[])).next())})};class ze{constructor(Xe,re,pe){this.model=Xe,this.position=re,this._providerRenameIdx=0,this._providers=pe.ordered(Xe)}hasProvider(){return this._providers.length>0}resolveRenameLocation(Xe){return Ze(this,void 0,void 0,function*(){const re=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const ge=this._providers[this._providerRenameIdx];if(!ge.resolveRenameLocation)break;const de=yield ge.resolveRenameLocation(this.model,this.position,Xe);if(de){if(de.rejectReason){re.push(de.rejectReason);continue}return de}}const pe=this.model.getWordAtPosition(this.position);return pe?{range:new u.e(this.position.lineNumber,pe.startColumn,this.position.lineNumber,pe.endColumn),text:pe.word,rejectReason:re.length>0?re.join("\n"):void 0}:{range:u.e.fromPositions(this.position),text:"",rejectReason:re.length>0?re.join("\n"):void 0}})}provideRenameEdits(Xe,re){return Ze(this,void 0,void 0,function*(){return this._provideRenameEdits(Xe,this._providerRenameIdx,[],re)})}_provideRenameEdits(Xe,re,pe,ge){return Ze(this,void 0,void 0,function*(){const de=this._providers[re];if(!de)return{edits:[],rejectReason:pe.join("\n")};const Q=yield de.provideRenameEdits(this.model,this.position,Xe,ge);return Q?Q.rejectReason?this._provideRenameEdits(Xe,re+1,pe.concat(Q.rejectReason),ge):Q:this._provideRenameEdits(Xe,re+1,pe.concat(g.NC("no result","No result.")),ge)})}}function fe(Et,Xe,re,pe){return Ze(this,void 0,void 0,function*(){const ge=new ze(Xe,re,Et),de=yield ge.resolveRenameLocation(l.T.None);return de?.rejectReason?{edits:[],rejectReason:de.rejectReason}:ge.provideRenameEdits(pe,l.T.None)})}let Ke=class Wu{constructor(Xe,re,pe,ge,de,Q,ye,Ae){this.editor=Xe,this._instaService=re,this._notificationService=pe,this._bulkEditService=ge,this._progressService=de,this._logService=Q,this._configService=ye,this._languageFeaturesService=Ae,this._disposableStore=new f.SL,this._cts=new l.A,this._renameInputField=this._disposableStore.add(new t.Ue(()=>this._disposableStore.add(this._instaService.createInstance(me,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(Xe){return Xe.getContribution(Wu.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var Xe,re;return Ze(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const pe=this.editor.getPosition(),ge=new ze(this.editor.getModel(),pe,this._languageFeaturesService.renameProvider);if(!ge.hasProvider())return;let de;this._cts=new S.Dl(this.editor,5);try{const et=ge.resolveRenameLocation(this._cts.token);this._progressService.showWhile(et,250),de=yield et}catch(et){return void(null===(Xe=y.O.get(this.editor))||void 0===Xe||Xe.showMessage(et||g.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),pe))}if(!de)return;if(de.rejectReason)return void(null===(re=y.O.get(this.editor))||void 0===re||re.showMessage(de.rejectReason,pe));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new S.Dl(this.editor,5,de.range);const Q=this.editor.getSelection();let ye=0,Ae=de.text.length;!u.e.isEmpty(Q)&&!u.e.spansMultipleLines(Q)&&u.e.containsRange(de.range,Q)&&(ye=Math.max(0,Q.startColumn-de.range.startColumn),Ae=Math.min(de.range.endColumn,Q.endColumn)-de.range.startColumn);const ft=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),dt=yield this._renameInputField.value.getInput(de.range,de.text,ye,Ae,ft,this._cts.token);if("boolean"==typeof dt)return void(dt&&this.editor.focus());this.editor.focus();const it=(0,t.eP)(ge.provideRenameEdits(dt.newName,this._cts.token),this._cts.token).then(et=>Ze(this,void 0,void 0,function*(){if(et&&this.editor.hasModel()){if(et.rejectReason)return void this._notificationService.info(et.rejectReason);this.editor.setSelection(u.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(_.fo.convert(et),{editor:this.editor,showPreview:dt.wantsPreview,label:g.NC("label","Renaming '{0}' to '{1}'",de?.text,dt.newName),code:"undoredo.rename",quotableLabel:g.NC("quotableLabel","Renaming {0} to {1}",de?.text,dt.newName),respectAutoSaveConfig:!0}).then(st=>{st.ariaSummary&&(0,s.Z9)(g.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",de.text,dt.newName,st.ariaSummary))}).catch(st=>{this._notificationService.error(g.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(st)})}}),et=>{this._notificationService.error(g.NC("rename.failed","Rename failed to compute edits")),this._logService.error(et)});return this._progressService.showWhile(it,250),it})}acceptRenameInput(Xe){this._renameInputField.value.acceptInput(Xe)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Ke.ID="editor.contrib.renameController",Ke=function(Et,Xe,re,pe){var Q,ge=arguments.length,de=ge<3?Xe:null===pe?pe=Object.getOwnPropertyDescriptor(Xe,re):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(Et,Xe,re,pe);else for(var ye=Et.length-1;ye>=0;ye--)(Q=Et[ye])&&(de=(ge<3?Q(de):ge>3?Q(Xe,re,de):Q(Xe,re))||de);return ge>3&&de&&Object.defineProperty(Xe,re,de),de}([Fe(1,w.TG),Fe(2,L.lT),Fe(3,_.vu),Fe(4,x.ek),Fe(5,E.VZ),Fe(6,d.V),Fe(7,Pe.p)],Ke);class Je extends D.R6{constructor(){super({id:"editor.action.rename",label:g.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:m.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(Xe,re){const pe=Xe.get(r.$),[ge,de]=Array.isArray(re)&&re||[void 0,void 0];return b.o.isUri(ge)&&a.L.isIPosition(de)?pe.openCodeEditor({resource:ge},pe.getActiveCodeEditor()).then(Q=>{Q&&(Q.setPosition(de),Q.invokeWithinContext(ye=>(this.reportTelemetry(ye,Q),this.run(ye,Q))))},C.dL):super.runCommand(Xe,re)}run(Xe,re){const pe=Ke.get(re);return pe?pe.run():Promise.resolve()}}(0,D._K)(Ke.ID,Ke),(0,D.Qr)(Je);const vt=D._l.bindToContribution(Ke.get);(0,D.fK)(new vt({id:"acceptRenameInput",precondition:Ee,handler:Et=>Et.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:n.u.focus,primary:3}})),(0,D.fK)(new vt({id:"acceptRenameInputWithPreview",precondition:m.Ao.and(Ee,m.Ao.has("config.editor.rename.enablePreview")),handler:Et=>Et.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:n.u.focus,primary:1027}})),(0,D.fK)(new vt({id:"cancelRenameInput",precondition:Ee,handler:Et=>Et.cancelRenameInput(),kbOpts:{weight:199,kbExpr:n.u.focus,primary:9,secondary:[1033]}})),(0,D.sb)("_executeDocumentRenameProvider",function(Et,Xe,re,...pe){const[ge]=pe;(0,I.p_)("string"==typeof ge);const{renameProvider:de}=Et.get(Pe.p);return fe(de,Xe,re,ge)}),(0,D.sb)("_executePrepareRename",function(Et,Xe,re){return Ze(this,void 0,void 0,function*(){const{renameProvider:pe}=Et.get(Pe.p),de=yield new ze(Xe,re,pe).resolveRenameLocation(l.T.None);if(de?.rejectReason)throw new Error(de.rejectReason);return de})}),A.B.as(v.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:g.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},38400:(yt,T,e)=>{"use strict";e.d(T,{x:()=>f});var s=e(54847),t=e(13902),l=e(88154);let f=(()=>{class I{provideSelectionRanges(S,D){return function(I,b,S,D){return new(S||(S=Promise))(function(r,a){function u(y){try{d(D.next(y))}catch(g){a(g)}}function n(y){try{d(D.throw(y))}catch(g){a(g)}}function d(y){y.done?r(y.value):function _(r){return r instanceof S?r:new S(function(a){a(r)})}(y.value).then(u,n)}d((D=D.apply(I,b||[])).next())})}(this,void 0,void 0,function*(){const _=[];for(const r of D){const a=[];_.push(a);const u=new Map;yield new Promise(n=>I._bracketsRightYield(n,0,S,r,u)),yield new Promise(n=>I._bracketsLeftYield(n,0,S,r,u,a))}return _})}static _bracketsRightYield(S,D,_,r,a){const u=new Map,n=Date.now();for(;;){if(D>=I._maxRounds){S();break}if(!r){S();break}const d=_.bracketPairs.findNextBracket(r);if(!d){S();break}if(Date.now()-n>I._maxDuration){setTimeout(()=>I._bracketsRightYield(S,D+1,_,r,a));break}if(d.bracketInfo.isOpeningBracket){const g=d.bracketInfo.bracketText,v=u.has(g)?u.get(g):0;u.set(g,v+1)}else{const g=d.bracketInfo.getClosedBrackets()[0].bracketText;let v=u.has(g)?u.get(g):0;if(v-=1,u.set(g,Math.max(0,v)),v<0){let m=a.get(g);m||(m=new s.S,a.set(g,m)),m.push(d.range)}}r=d.range.getEndPosition()}}static _bracketsLeftYield(S,D,_,r,a,u){const n=new Map,d=Date.now();for(;;){if(D>=I._maxRounds&&0===a.size){S();break}if(!r){S();break}const y=_.bracketPairs.findPrevBracket(r);if(!y){S();break}if(Date.now()-d>I._maxDuration){setTimeout(()=>I._bracketsLeftYield(S,D+1,_,r,a,u));break}if(y.bracketInfo.isOpeningBracket){const v=y.bracketInfo.bracketText;let m=n.has(v)?n.get(v):0;if(m-=1,n.set(v,Math.max(0,m)),m<0){const w=a.get(v);if(w){const E=w.shift();0===w.size&&a.delete(v);const L=l.e.fromPositions(y.range.getEndPosition(),E.getStartPosition()),x=l.e.fromPositions(y.range.getStartPosition(),E.getEndPosition());u.push({range:L}),u.push({range:x}),I._addBracketLeading(_,x,u)}}}else{const v=y.bracketInfo.getClosedBrackets()[0].bracketText,m=n.has(v)?n.get(v):0;n.set(v,m+1)}r=y.range.getStartPosition()}}static _addBracketLeading(S,D,_){if(D.startLineNumber===D.endLineNumber)return;const r=D.startLineNumber,a=S.getLineFirstNonWhitespaceColumn(r);0!==a&&a!==D.startColumn&&(_.push({range:l.e.fromPositions(new t.L(r,a),D.getEndPosition())}),_.push({range:l.e.fromPositions(new t.L(r,1),D.getEndPosition())}));const u=r-1;if(u>0){const n=S.getLineFirstNonWhitespaceColumn(u);n===D.startColumn&&n!==S.getLineLastNonWhitespaceColumn(u)&&(_.push({range:l.e.fromPositions(new t.L(u,n),D.getEndPosition())}),_.push({range:l.e.fromPositions(new t.L(u,1),D.getEndPosition())}))}}}return I._maxDuration=30,I._maxRounds=2,I})()},28374:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{provideSelectionRanges:()=>H});var s=e(14940),t=e(71943),l=e(3219),C=e(95102),f=e(13902),I=e(88154),b=e(58745),S=e(72325),D=e(38400),_=e(77697);class r{provideSelectionRanges(N,O){const K=[];for(const $ of O){const j=[];K.push(j),this._addInWordRanges(j,N,$),this._addWordRanges(j,N,$),this._addWhitespaceLine(j,N,$),j.push({range:N.getFullModelRange()})}return K}_addInWordRanges(N,O,K){const $=O.getWordAtPosition(K);if(!$)return;const{word:j,startColumn:q}=$,R=K.column-q;let Z=R,J=R,Ce=0;for(;Z>=0;Z--){const Se=j.charCodeAt(Z);if(Z!==R&&(95===Se||45===Se))break;if((0,_.mK)(Se)&&(0,_.df)(Ce))break;Ce=Se}for(Z+=1;J<j.length;J++){const Se=j.charCodeAt(J);if((0,_.df)(Se)&&(0,_.mK)(Ce))break;if(95===Se||45===Se)break;Ce=Se}Z<J&&N.push({range:new I.e(K.lineNumber,q+Z,K.lineNumber,q+J)})}_addWordRanges(N,O,K){const $=O.getWordAtPosition(K);$&&N.push({range:new I.e(K.lineNumber,$.startColumn,K.lineNumber,$.endColumn)})}_addWhitespaceLine(N,O,K){O.getLineLength(K.lineNumber)>0&&0===O.getLineFirstNonWhitespaceColumn(K.lineNumber)&&0===O.getLineLastNonWhitespaceColumn(K.lineNumber)&&N.push({range:new I.e(K.lineNumber,1,K.lineNumber,O.getLineMaxColumn(K.lineNumber))})}}var a=e(1200),u=e(30116),n=e(34468),d=e(13154),y=e(97953),g=e(22070),v=e(56740),E=function(z,N,O,K){return new(O||(O=Promise))(function(j,q){function R(Ce){try{J(K.next(Ce))}catch(Se){q(Se)}}function Z(Ce){try{J(K.throw(Ce))}catch(Se){q(Se)}}function J(Ce){Ce.done?j(Ce.value):function $(j){return j instanceof O?j:new O(function(q){q(j)})}(Ce.value).then(R,Z)}J((K=K.apply(z,N||[])).next())})};class L{constructor(N,O){this.index=N,this.ranges=O}mov(N){const O=this.index+(N?1:-1);if(O<0||O>=this.ranges.length)return this;const K=new L(O,this.ranges);return K.ranges[O].equalsRange(this.ranges[this.index])?K.mov(N):K}}let x=class Hu{constructor(N,O){this._editor=N,this._languageFeaturesService=O,this._ignoreSelection=!1}static get(N){return N.getContribution(Hu.ID)}dispose(){var N;null===(N=this._selectionListener)||void 0===N||N.dispose()}run(N){return E(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const O=this._editor.getSelections(),K=this._editor.getModel();if(this._state||(yield H(this._languageFeaturesService.selectionRangeProvider,K,O.map(j=>j.getPosition()),this._editor.getOption(104),t.T.None).then(j=>{var q;if(s.Of(j)&&j.length===O.length&&this._editor.hasModel()&&s.fS(this._editor.getSelections(),O,(R,Z)=>R.equalsSelection(Z))){for(let R=0;R<j.length;R++)j[R]=j[R].filter(Z=>Z.containsPosition(O[R].getStartPosition())&&Z.containsPosition(O[R].getEndPosition())),j[R].unshift(O[R]);this._state=j.map(R=>new L(0,R)),null===(q=this._selectionListener)||void 0===q||q.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var R;this._ignoreSelection||(null===(R=this._selectionListener)||void 0===R||R.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(j=>j.mov(N));const $=this._state.map(j=>b.Y.fromPositions(j.ranges[j.index].getStartPosition(),j.ranges[j.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections($)}finally{this._ignoreSelection=!1}})}};var N;x.ID="editor.contrib.smartSelectController",x=function(z,N,O,K){var q,$=arguments.length,j=$<3?N:null===K?K=Object.getOwnPropertyDescriptor(N,O):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(z,N,O,K);else for(var R=z.length-1;R>=0;R--)(q=z[R])&&(j=($<3?q(j):$>3?q(N,O,j):q(N,O))||j);return $>3&&j&&Object.defineProperty(N,O,j),j}([(1,N=d.p,function(O,K){N(O,K,1)})],x);class A extends C.R6{constructor(N,O){super(O),this._forward=N}run(N,O){return E(this,void 0,void 0,function*(){const K=x.get(O);K&&(yield K.run(this._forward))})}}function H(z,N,O,K,$){return E(this,void 0,void 0,function*(){const j=z.all(N).concat(new r);1===j.length&&j.unshift(new D.x);const q=[],R=[];for(const Z of j)q.push(Promise.resolve(Z.provideSelectionRanges(N,O,$)).then(J=>{if(s.Of(J)&&J.length===O.length)for(let Ce=0;Ce<O.length;Ce++){R[Ce]||(R[Ce]=[]);for(const Se of J[Ce])I.e.isIRange(Se.range)&&I.e.containsPosition(Se.range,O[Ce])&&R[Ce].push(I.e.lift(Se.range))}},l.Cp));return yield Promise.all(q),R.map(Z=>{if(0===Z.length)return[];Z.sort((Ie,xe)=>f.L.isBefore(Ie.getStartPosition(),xe.getStartPosition())?1:f.L.isBefore(xe.getStartPosition(),Ie.getStartPosition())||f.L.isBefore(Ie.getEndPosition(),xe.getEndPosition())?-1:f.L.isBefore(xe.getEndPosition(),Ie.getEndPosition())?1:0);const J=[];let Ce;for(const Ie of Z)(!Ce||I.e.containsRange(Ie,Ce)&&!I.e.equalsRange(Ie,Ce))&&(J.push(Ie),Ce=Ie);if(!K.selectLeadingAndTrailingWhitespace)return J;const Se=[J[0]];for(let Ie=1;Ie<J.length;Ie++){const xe=J[Ie-1],Me=J[Ie];if(Me.startLineNumber!==xe.startLineNumber||Me.endLineNumber!==xe.endLineNumber){const Oe=new I.e(xe.startLineNumber,N.getLineFirstNonWhitespaceColumn(xe.startLineNumber),xe.endLineNumber,N.getLineLastNonWhitespaceColumn(xe.endLineNumber));Oe.containsRange(xe)&&!Oe.equalsRange(xe)&&Me.containsRange(Oe)&&!Me.equalsRange(Oe)&&Se.push(Oe);const se=new I.e(xe.startLineNumber,1,xe.endLineNumber,N.getLineMaxColumn(xe.endLineNumber));se.containsRange(xe)&&!se.equalsRange(Oe)&&Me.containsRange(se)&&!Me.equalsRange(se)&&Se.push(se)}Se.push(Me)}return Se})})}n.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,C._K)(x.ID,x),(0,C.Qr)(class k extends A{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:a.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:S.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"1_basic",title:a.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,C.Qr)(class W extends A{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:a.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:S.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"1_basic",title:a.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),n.P0.registerCommand("_executeSelectionRangeProvider",function(z,...N){return E(this,void 0,void 0,function*(){const[O,K]=N;(0,g.p_)(v.o.isUri(O));const $=z.get(d.p).selectionRangeProvider,j=yield z.get(y.S).createModelReference(O);try{return H($,j.object.textEditorModel,K,{selectLeadingAndTrailingWhitespace:!0},t.T.None)}finally{j.dispose()}})})},72354:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{SnippetController2:()=>g,performSnippetEdit:()=>m});var s=e(21576),t=e(22070),l=e(95102),C=e(13902),f=e(58745),I=e(72325),b=e(15333),S=e(13154),D=e(10446),_=e(1200),r=e(38336),a=e(57908),u=e(55769),d=function(w,E){return function(L,x){E(L,x,w)}};const y={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let g=class Hd{constructor(E,L,x,A,k){this._editor=E,this._logService=L,this._languageFeaturesService=x,this._languageConfigurationService=k,this._snippetListener=new s.SL,this._modelVersionId=-1,this._inSnippet=Hd.InSnippetMode.bindTo(A),this._hasNextTabstop=Hd.HasNextTabstop.bindTo(A),this._hasPrevTabstop=Hd.HasPrevTabstop.bindTo(A)}static get(E){return E.getContribution(Hd.ID)}dispose(){var E;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(E=this._session)||void 0===E||E.dispose(),this._snippetListener.dispose()}apply(E,L){try{this._doInsert(E,typeof L>"u"?y:Object.assign(Object.assign({},y),L))}catch(x){this.cancel(),this._logService.error(x),this._logService.error("snippet_error"),this._logService.error("insert_edits=",E),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(E,L){try{this._doInsert(E,typeof L>"u"?y:Object.assign(Object.assign({},y),L))}catch(x){this.cancel(),this._logService.error(x),this._logService.error("snippet_error"),this._logService.error("insert_template=",E),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(E,L){var x;if(this._editor.hasModel()){if(this._snippetListener.clear(),L.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof E&&this.cancel(),this._session?((0,t.p_)("string"==typeof E),this._session.merge(E,L)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new u.l(this._editor,E,L,this._languageConfigurationService),this._session.insert()),L.undoStopAfter&&this._editor.getModel().pushStackElement(),null!==(x=this._session)&&void 0!==x&&x.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(k,W)=>{if(!this._session||k!==this._editor.getModel()||!C.L.equals(this._editor.getPosition(),W))return;const{activeChoice:H}=this._session;if(!H||0===H.choice.options.length)return;const z=k.getValueInRange(H.range),N=!!H.choice.options.find(K=>K.value===z),O=[];for(let K=0;K<H.choice.options.length;K++){const $=H.choice.options[K];O.push({kind:13,label:$.value,insertText:$.value,sortText:"a".repeat(K+1),range:H.range,filterText:N?`${z}_${$.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,_.NC)("next","Go to next placeholder...")}})}return{suggestions:O}}};const A=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(A)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(A=>A.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:E}=this._session;E&&this._choiceCompletionItemProvider?this._currentChoice!==E.choice&&(this._currentChoice=E.choice,queueMicrotask(()=>{(0,D.i5)(this._editor,this._choiceCompletionItemProvider)})):this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(E=!1){var L;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(L=this._session)||void 0===L||L.dispose(),this._session=void 0,this._modelVersionId=-1,E&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};g.ID="snippetController2",g.InSnippetMode=new r.uy("inSnippetMode",!1,(0,_.NC)("inSnippetMode","Whether the editor in current in snippet mode")),g.HasNextTabstop=new r.uy("hasNextTabstop",!1,(0,_.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),g.HasPrevTabstop=new r.uy("hasPrevTabstop",!1,(0,_.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),g=function(w,E,L,x){var W,A=arguments.length,k=A<3?E:null===x?x=Object.getOwnPropertyDescriptor(E,L):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(w,E,L,x);else for(var H=w.length-1;H>=0;H--)(W=w[H])&&(k=(A<3?W(k):A>3?W(E,L,k):W(E,L))||k);return A>3&&k&&Object.defineProperty(E,L,k),k}([d(1,a.VZ),d(2,S.p),d(3,r.i6),d(4,b.c_)],g),(0,l._K)(g.ID,g);const v=l._l.bindToContribution(g.get);function m(w,E,L){const x=g.get(w);return!!x&&(w.focus(),x.apply(L.map(A=>({range:f.Y.liftSelection(A),template:E}))),x.isInSnippet())}(0,l.fK)(new v({id:"jumpToNextSnippetPlaceholder",precondition:r.Ao.and(g.InSnippetMode,g.HasNextTabstop),handler:w=>w.next(),kbOpts:{weight:130,kbExpr:I.u.editorTextFocus,primary:2}})),(0,l.fK)(new v({id:"jumpToPrevSnippetPlaceholder",precondition:r.Ao.and(g.InSnippetMode,g.HasPrevTabstop),handler:w=>w.prev(),kbOpts:{weight:130,kbExpr:I.u.editorTextFocus,primary:1026}})),(0,l.fK)(new v({id:"leaveSnippet",precondition:g.InSnippetMode,handler:w=>w.cancel(!0),kbOpts:{weight:130,kbExpr:I.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,l.fK)(new v({id:"acceptSnippet",precondition:g.InSnippetMode,handler:w=>w.finish()}))},90517:(yt,T,e)=>{"use strict";e.d(T,{Lv:()=>I,Vm:()=>f,Yj:()=>a,xv:()=>l,y1:()=>r});let s=(()=>{class u{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return 95===d||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const d=this.pos;let v,y=0,g=this.value.charCodeAt(d);if(v=u._table[g],"number"==typeof v)return this.pos+=1,{type:v,pos:d,len:1};if(u.isDigitCharacter(g)){v=8;do{y+=1,g=this.value.charCodeAt(d+y)}while(u.isDigitCharacter(g));return this.pos+=y,{type:v,pos:d,len:y}}if(u.isVariableCharacter(g)){v=9;do{g=this.value.charCodeAt(d+ ++y)}while(u.isVariableCharacter(g)||u.isDigitCharacter(g));return this.pos+=y,{type:v,pos:d,len:y}}v=10;do{y+=1,g=this.value.charCodeAt(d+y)}while(!isNaN(g)&&typeof u._table[g]>"u"&&!u.isDigitCharacter(g)&&!u.isVariableCharacter(g));return this.pos+=y,{type:v,pos:d,len:y}}}return u._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},u})();class t{constructor(){this._children=[]}appendChild(n){return n instanceof l&&this._children[this._children.length-1]instanceof l?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,d){const{parent:y}=n,g=y.children.indexOf(n),v=y.children.slice(0);v.splice(g,1,...d),y._children=v,function m(w,E){for(const L of w)L.parent=E,m(L.children,L)}(d,y)}get children(){return this._children}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof r)return n;n=n.parent}}toString(){return this.children.reduce((n,d)=>n+d.toString(),"")}len(){return 0}}class l extends t{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new l(this.value)}}class C extends t{}class f extends C{constructor(n){super(),this.index=n}static compareByIndex(n,d){return n.index===d.index?0:n.isFinalTabstop?1:d.isFinalTabstop||n.index<d.index?-1:n.index>d.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof I?this._children[0]:void 0}clone(){const n=new f(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(d=>d.clone()),n}}class I extends t{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof l&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new I;return this.options.forEach(n.appendChild,n),n}}class b extends t{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const d=this;let y=!1,g=n.replace(this.regexp,function(){return y=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!y&&this._children.some(v=>v instanceof S&&!!v.elseValue)&&(g=this._replace([])),g}_replace(n){let d="";for(const y of this._children)if(y instanceof S){let g=n[y.index]||"";g=y.resolve(g),d+=g}else d+=y.toString();return d}toString(){return""}clone(){const n=new b;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(d=>d.clone()),n}}class S extends t{constructor(n,d,y,g){super(),this.index=n,this.shorthandName=d,this.ifValue=y,this.elseValue=g}resolve(n){return"upcase"===this.shorthandName?n?n.toLocaleUpperCase():"":"downcase"===this.shorthandName?n?n.toLocaleLowerCase():"":"capitalize"===this.shorthandName?n?n[0].toLocaleUpperCase()+n.substr(1):"":"pascalcase"===this.shorthandName?n?this._toPascalCase(n):"":"camelcase"===this.shorthandName?n?this._toCamelCase(n):"":n&&"string"==typeof this.ifValue?this.ifValue:n||"string"!=typeof this.elseValue?n||"":this.elseValue}_toPascalCase(n){const d=n.match(/[a-z0-9]+/gi);return d?d.map(y=>y.charAt(0).toUpperCase()+y.substr(1)).join(""):n}_toCamelCase(n){const d=n.match(/[a-z0-9]+/gi);return d?d.map((y,g)=>0===g?y.charAt(0).toLowerCase()+y.substr(1):y.charAt(0).toUpperCase()+y.substr(1)).join(""):n}clone(){return new S(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class D extends C{constructor(n){super(),this.name=n}resolve(n){let d=n.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),void 0!==d&&(this._children=[new l(d)],!0)}clone(){const n=new D(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(d=>d.clone()),n}}function _(u,n){const d=[...u];for(;d.length>0;){const y=d.shift();if(!n(y))break;d.unshift(...y.children)}}class r extends t{get placeholderInfo(){if(!this._placeholders){const n=[];let d;this.walk(function(y){return y instanceof f&&(n.push(y),d=!d||d.index<y.index?y:d),!0}),this._placeholders={all:n,last:d}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let d=0,y=!1;return this.walk(g=>g===n?(y=!0,!1):(d+=g.len(),!0)),y?d:-1}fullLen(n){let d=0;return _([n],y=>(d+=y.len(),!0)),d}enclosingPlaceholders(n){const d=[];let{parent:y}=n;for(;y;)y instanceof f&&d.push(y),y=y.parent;return d}resolveVariables(n){return this.walk(d=>(d instanceof D&&d.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,d){return this._placeholders=void 0,super.replace(n,d)}clone(){const n=new r;return this._children=this.children.map(d=>d.clone()),n}walk(n){_(this.children,n)}}class a{constructor(){this._scanner=new s,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,d,y){const g=new r;return this.parseFragment(n,g),this.ensureFinalTabstop(g,y??!1,d??!1),g}parseFragment(n,d){const y=d.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(d););const g=new Map,v=[];d.walk(m=>(m instanceof f&&(m.isFinalTabstop?g.set(0,void 0):!g.has(m.index)&&m.children.length>0?g.set(m.index,m.children):v.push(m)),!0));for(const m of v){const w=g.get(m.index);if(w){const E=new f(m.index);E.transform=m.transform;for(const L of w)E.appendChild(L.clone());d.replace(m,[E])}}return d.children.slice(y)}ensureFinalTabstop(n,d,y){(d||y&&n.placeholders.length>0)&&(n.placeholders.find(v=>0===v.index)||n.appendChild(new f(0)))}_accept(n,d){if(void 0===n||this._token.type===n){const y=!d||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),y}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const d=this._token;for(;this._token.type!==n;){if(14===this._token.type)return!1;if(5===this._token.type){const g=this._scanner.next();if(0!==g.type&&4!==g.type&&5!==g.type)return!1}this._token=this._scanner.next()}const y=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),y}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let d;return!!(d=this._accept(5,!0))&&(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,n.appendChild(new l(d)),!0)}_parseTabstopOrVariableName(n){let d;const y=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(d)?new f(Number(d)):new D(d)),!0):this._backTo(y)}_parseComplexPlaceholder(n){let d;const y=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(y);const v=new f(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(v),!0;if(!this._parse(v))return n.appendChild(new l("${"+d+":")),v.children.forEach(n.appendChild,n),!0}else{if(!(v.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(v)?(n.appendChild(v),!0):(this._backTo(y),!1):this._accept(4)?(n.appendChild(v),!0):this._backTo(y);{const m=new I;for(;;){if(this._parseChoiceElement(m)){if(this._accept(2))continue;if(this._accept(7)&&(v.appendChild(m),this._accept(4)))return n.appendChild(v),!0}return this._backTo(y),!1}}}}_parseChoiceElement(n){const d=this._token,y=[];for(;2!==this._token.type&&7!==this._token.type;){let g;if(g=(g=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||g:this._accept(void 0,!0),!g)return this._backTo(d),!1;y.push(g)}return 0===y.length?(this._backTo(d),!1):(n.appendChild(new l(y.join(""))),!0)}_parseComplexVariable(n){let d;const y=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(y);const v=new D(d);if(!this._accept(1))return this._accept(6)?this._parseTransform(v)?(n.appendChild(v),!0):(this._backTo(y),!1):this._accept(4)?(n.appendChild(v),!0):this._backTo(y);for(;;){if(this._accept(4))return n.appendChild(v),!0;if(!this._parse(v))return n.appendChild(new l("${"+d+":")),v.children.forEach(n.appendChild,n),!0}}_parseTransform(n){const d=new b;let y="",g="";for(;!this._accept(6);){let v;if(v=this._accept(5,!0))v=this._accept(6,!0)||v,y+=v;else{if(14===this._token.type)return!1;y+=this._accept(void 0,!0)}}for(;!this._accept(6);){let v;if(v=this._accept(5,!0))v=this._accept(5,!0)||this._accept(6,!0)||v,d.appendChild(new l(v));else if(!this._parseFormatString(d)&&!this._parseAnything(d))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;g+=this._accept(void 0,!0)}try{d.regexp=new RegExp(y,g)}catch{return!1}return n.transform=d,!0}_parseFormatString(n){const d=this._token;if(!this._accept(0))return!1;let y=!1;this._accept(3)&&(y=!0);const g=this._accept(8,!0);if(!g)return this._backTo(d),!1;if(!y)return n.appendChild(new S(Number(g))),!0;if(this._accept(4))return n.appendChild(new S(Number(g))),!0;if(!this._accept(1))return this._backTo(d),!1;if(this._accept(6)){const v=this._accept(9,!0);return v&&this._accept(4)?(n.appendChild(new S(Number(g),v)),!0):(this._backTo(d),!1)}if(this._accept(11)){const v=this._until(4);if(v)return n.appendChild(new S(Number(g),void 0,v,void 0)),!0}else if(this._accept(12)){const v=this._until(4);if(v)return n.appendChild(new S(Number(g),void 0,void 0,v)),!0}else if(this._accept(13)){const v=this._until(1);if(v){const m=this._until(4);if(m)return n.appendChild(new S(Number(g),void 0,v,m)),!0}}else{const v=this._until(4);if(v)return n.appendChild(new S(Number(g),void 0,void 0,v)),!0}return this._backTo(d),!1}_parseAnything(n){return 14!==this._token.type&&(n.appendChild(new l(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},55769:(yt,T,e)=>{"use strict";e.d(T,{l:()=>Ze});var s=e(14940),t=e(21576),l=e(77697),C=e(92123),f=e.n(C),I=e(65057),b=e.n(I),S=e(28764),D=e.n(S),_=e(6557),r=e.n(_),a=e(11146),u=e.n(a),n=e(95085),d=e.n(n),y=e(10322),g={};g.styleTagTransform=d(),g.setAttributes=r(),g.insert=D().bind(null,"head"),g.domAPI=b(),g.insertStyleElement=u(),f()(y.Z,g);var w=e(37304),E=e(88154),L=e(58745),x=e(15333),A=e(53727),k=e(79889),W=e(83310),H=e(90517),z=e(35707),N=e(84834);function O(ze,fe=N.ED){return(0,z.oP)(ze,fe)?ze.charAt(0).toUpperCase()+ze.slice(1):ze}var $=e(83872),j=e(9590),q=e(40703),R=e(1200);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class Se{constructor(fe){this._delegates=fe}resolve(fe){for(const Ke of this._delegates){const Je=Ke.resolve(fe);if(void 0!==Je)return Je}}}class Ie{constructor(fe,Ke,Je,vt){this._model=fe,this._selection=Ke,this._selectionIdx=Je,this._overtypingCapturer=vt}resolve(fe){const{name:Ke}=fe;if("SELECTION"===Ke||"TM_SELECTED_TEXT"===Ke){let Je=this._model.getValueInRange(this._selection)||void 0,vt=this._selection.startLineNumber!==this._selection.endLineNumber;if(!Je&&this._overtypingCapturer){const Et=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Et&&(Je=Et.value,vt=Et.multiline)}if(Je&&vt&&fe.snippet){const Et=this._model.getLineContent(this._selection.startLineNumber),Xe=(0,l.V8)(Et,0,this._selection.startColumn-1);let re=Xe;fe.snippet.walk(ge=>ge!==fe&&(ge instanceof H.xv&&(re=(0,l.V8)((0,l.uq)(ge.value).pop())),!0));const pe=(0,l.Mh)(re,Xe);Je=Je.replace(/(\r\n|\r|\n)(.*)/g,(ge,de,Q)=>`${de}${re.substr(pe)}${Q}`)}return Je}if("TM_CURRENT_LINE"===Ke)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===Ke){const Je=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return Je&&Je.word||void 0}return"TM_LINE_INDEX"===Ke?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===Ke?String(this._selection.positionLineNumber):"CURSOR_INDEX"===Ke?String(this._selectionIdx):"CURSOR_NUMBER"===Ke?String(this._selectionIdx+1):void 0}}class xe{constructor(fe,Ke){this._labelService=fe,this._model=Ke}resolve(fe){const{name:Ke}=fe;if("TM_FILENAME"===Ke)return $.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===Ke){const Je=$.EZ(this._model.uri.fsPath),vt=Je.lastIndexOf(".");return vt<=0?Je:Je.slice(0,vt)}return"TM_DIRECTORY"===Ke?"."===$.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,j.XX)(this._model.uri)):"TM_FILEPATH"===Ke?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===Ke?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class Me{constructor(fe,Ke,Je,vt){this._readClipboardText=fe,this._selectionIdx=Ke,this._selectionCount=Je,this._spread=vt}resolve(fe){if("CLIPBOARD"!==fe.name)return;const Ke=this._readClipboardText();if(Ke){if(this._spread){const Je=Ke.split(/\r\n|\n|\r/).filter(vt=>!(0,l.m5)(vt));if(Je.length===this._selectionCount)return Je[this._selectionIdx]}return Ke}}}let Oe=class{constructor(fe,Ke,Je){this._model=fe,this._selection=Ke,this._languageConfigurationService=Je}resolve(fe){const{name:Ke}=fe,Je=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),vt=this._languageConfigurationService.getLanguageConfiguration(Je).comments;if(vt){if("LINE_COMMENT"===Ke)return vt.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===Ke)return vt.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===Ke)return vt.blockCommentEndToken||void 0}}};var fe;Oe=function(ze,fe,Ke,Je){var Xe,vt=arguments.length,Et=vt<3?fe:null===Je?Je=Object.getOwnPropertyDescriptor(fe,Ke):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(ze,fe,Ke,Je);else for(var re=ze.length-1;re>=0;re--)(Xe=ze[re])&&(Et=(vt<3?Xe(Et):vt>3?Xe(fe,Ke,Et):Xe(fe,Ke))||Et);return vt>3&&Et&&Object.defineProperty(fe,Ke,Et),Et}([(2,fe=x.c_,function(Ke,Je){fe(Ke,Je,2)})],Oe);class se{constructor(){this._date=new Date}resolve(fe){const{name:Ke}=fe;return"CURRENT_YEAR"===Ke?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===Ke?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===Ke?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===Ke?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===Ke?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===Ke?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===Ke?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===Ke?se.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===Ke?se.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===Ke?se.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===Ke?se.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===Ke?String(Math.floor(this._date.getTime()/1e3)):void 0}}se.dayNames=[R.NC("Sunday","Sunday"),R.NC("Monday","Monday"),R.NC("Tuesday","Tuesday"),R.NC("Wednesday","Wednesday"),R.NC("Thursday","Thursday"),R.NC("Friday","Friday"),R.NC("Saturday","Saturday")],se.dayNamesShort=[R.NC("SundayShort","Sun"),R.NC("MondayShort","Mon"),R.NC("TuesdayShort","Tue"),R.NC("WednesdayShort","Wed"),R.NC("ThursdayShort","Thu"),R.NC("FridayShort","Fri"),R.NC("SaturdayShort","Sat")],se.monthNames=[R.NC("January","January"),R.NC("February","February"),R.NC("March","March"),R.NC("April","April"),R.NC("May","May"),R.NC("June","June"),R.NC("July","July"),R.NC("August","August"),R.NC("September","September"),R.NC("October","October"),R.NC("November","November"),R.NC("December","December")],se.monthNamesShort=[R.NC("JanuaryShort","Jan"),R.NC("FebruaryShort","Feb"),R.NC("MarchShort","Mar"),R.NC("AprilShort","Apr"),R.NC("MayShort","May"),R.NC("JuneShort","Jun"),R.NC("JulyShort","Jul"),R.NC("AugustShort","Aug"),R.NC("SeptemberShort","Sep"),R.NC("OctoberShort","Oct"),R.NC("NovemberShort","Nov"),R.NC("DecemberShort","Dec")];class ce{constructor(fe){this._workspaceService=fe}resolve(fe){if(!this._workspaceService)return;const Ke=(0,W.uT)(this._workspaceService.getWorkspace());if(Ke){if("WORKSPACE_NAME"===fe.name)return this._resolveWorkspaceName(Ke);if("WORKSPACE_FOLDER"===fe.name)return this._resoveWorkspacePath(Ke)}}_resolveWorkspaceName(fe){if((0,W.eb)(fe))return $.EZ(fe.uri.path);let Ke=$.EZ(fe.configPath.path);return Ke.endsWith(W.A6)&&(Ke=Ke.substr(0,Ke.length-W.A6.length-1)),Ke}_resoveWorkspacePath(fe){if((0,W.eb)(fe))return O(fe.uri.fsPath);const Ke=$.EZ(fe.configPath.path);let Je=fe.configPath.fsPath;return Je.endsWith(Ke)&&(Je=Je.substr(0,Je.length-Ke.length-1)),Je?O(Je):"/"}}class Ee{resolve(fe){const{name:Ke}=fe;return"RANDOM"===Ke?Math.random().toString().slice(-6):"RANDOM_HEX"===Ke?Math.random().toString(16).slice(-6):"UUID"===Ke?(0,q.R)():void 0}}class he{constructor(fe,Ke,Je){this._editor=fe,this._snippet=Ke,this._snippetLineLeadingWhitespace=Je,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,s.vM)(Ke.placeholders,H.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(fe){this._offset=fe.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const fe=this._editor.getModel();this._editor.changeDecorations(Ke=>{for(const Je of this._snippet.placeholders){const vt=this._snippet.offset(Je),Et=this._snippet.fullLen(Je),Xe=E.e.fromPositions(fe.getPositionAt(this._offset+vt),fe.getPositionAt(this._offset+vt+Et)),pe=Ke.addDecoration(Xe,Je.isFinalTabstop?he._decor.inactiveFinal:he._decor.inactive);this._placeholderDecorations.set(Je,pe)}})}move(fe){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const vt=[];for(const Et of this._placeholderGroups[this._placeholderGroupsIdx])if(Et.transform){const Xe=this._placeholderDecorations.get(Et),re=this._editor.getModel().getDecorationRange(Xe),pe=this._editor.getModel().getValueInRange(re),ge=Et.transform.resolve(pe).split(/\r\n|\r|\n/);for(let de=1;de<ge.length;de++)ge[de]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+ge[de]);vt.push(w.h.replace(re,ge.join(this._editor.getModel().getEOL())))}vt.length>0&&this._editor.executeEdits("snippet.placeholderTransform",vt)}let Ke=!1;!0===fe&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,Ke=!0):!1===fe&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,Ke=!0);const Je=this._editor.getModel().changeDecorations(vt=>{const Et=new Set,Xe=[];for(const re of this._placeholderGroups[this._placeholderGroupsIdx]){const pe=this._placeholderDecorations.get(re),ge=this._editor.getModel().getDecorationRange(pe);Xe.push(new L.Y(ge.startLineNumber,ge.startColumn,ge.endLineNumber,ge.endColumn)),Ke=Ke&&this._hasPlaceholderBeenCollapsed(re),vt.changeDecorationOptions(pe,re.isFinalTabstop?he._decor.activeFinal:he._decor.active),Et.add(re);for(const de of this._snippet.enclosingPlaceholders(re)){const Q=this._placeholderDecorations.get(de);vt.changeDecorationOptions(Q,de.isFinalTabstop?he._decor.activeFinal:he._decor.active),Et.add(de)}}for(const[re,pe]of this._placeholderDecorations)Et.has(re)||vt.changeDecorationOptions(pe,re.isFinalTabstop?he._decor.inactiveFinal:he._decor.inactive);return Xe});return Ke?this.move(fe):Je??[]}_hasPlaceholderBeenCollapsed(fe){let Ke=fe;for(;Ke;){if(Ke instanceof H.Vm){const Je=this._placeholderDecorations.get(Ke);if(this._editor.getModel().getDecorationRange(Je).isEmpty()&&Ke.toString().length>0)return!0}Ke=Ke.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return 0===this._snippet.placeholders.length||1===this._snippet.placeholders.length&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const fe=new Map;for(const Ke of this._placeholderGroups){let Je;for(const vt of Ke){if(vt.isFinalTabstop)break;Je||(Je=[],fe.set(vt.index,Je));const Et=this._placeholderDecorations.get(vt),Xe=this._editor.getModel().getDecorationRange(Et);if(!Xe){fe.delete(vt.index);break}Je.push(Xe)}}return fe}get activeChoice(){if(!this._placeholderDecorations)return;const fe=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!fe?.choice)return;const Ke=this._placeholderDecorations.get(fe);if(!Ke)return;const Je=this._editor.getModel().getDecorationRange(Ke);return Je?{range:Je,choice:fe.choice}:void 0}get hasChoice(){let fe=!1;return this._snippet.walk(Ke=>(fe=Ke instanceof H.Lv,!fe)),fe}merge(fe){const Ke=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(Je=>{for(const vt of this._placeholderGroups[this._placeholderGroupsIdx]){const Et=fe.shift();console.assert(-1!==Et._offset),console.assert(!Et._placeholderDecorations);const Xe=Et._snippet.placeholderInfo.last.index;for(const pe of Et._snippet.placeholderInfo.all)pe.index=pe.isFinalTabstop?vt.index+(Xe+1)/this._nestingLevel:vt.index+pe.index/this._nestingLevel;this._snippet.replace(vt,Et._snippet.children);const re=this._placeholderDecorations.get(vt);Je.removeDecoration(re),this._placeholderDecorations.delete(vt);for(const pe of Et._snippet.placeholders){const ge=Et._snippet.offset(pe),de=Et._snippet.fullLen(pe),Q=E.e.fromPositions(Ke.getPositionAt(Et._offset+ge),Ke.getPositionAt(Et._offset+ge+de)),ye=Je.addDecoration(Q,he._decor.inactive);this._placeholderDecorations.set(pe,ye)}}this._placeholderGroups=(0,s.vM)(this._snippet.placeholders,H.Vm.compareByIndex)})}}he._decor={active:A.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:A.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:A.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:A.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Fe={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Ze=class sl{constructor(fe,Ke,Je=Fe,vt){this._editor=fe,this._template=Ke,this._options=Je,this._languageConfigurationService=vt,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(fe,Ke,Je,vt,Et){const Xe=fe.getLineContent(Ke.lineNumber),re=(0,l.V8)(Xe,0,Ke.column-1);let pe;return Je.walk(ge=>{if(!(ge instanceof H.xv)||ge.parent instanceof H.Lv)return!0;const de=ge.value.split(/\r\n|\r|\n/);if(vt){const ye=Je.offset(ge);if(0===ye)de[0]=fe.normalizeIndentation(de[0]);else{pe=pe??Je.toString();const Ae=pe.charCodeAt(ye-1);(10===Ae||13===Ae)&&(de[0]=fe.normalizeIndentation(re+de[0]))}for(let Ae=1;Ae<de.length;Ae++)de[Ae]=fe.normalizeIndentation(re+de[Ae])}const Q=de.join(fe.getEOL());return Q!==ge.value&&(ge.parent.replace(ge,[new H.xv(Q)]),pe=void 0),!0}),re}static adjustSelection(fe,Ke,Je,vt){if(0!==Je||0!==vt){const{positionLineNumber:Et,positionColumn:Xe}=Ke,ge=fe.validateRange({startLineNumber:Et,startColumn:Xe-Je,endLineNumber:Et,endColumn:Xe+vt});Ke=L.Y.createWithDirection(ge.startLineNumber,ge.startColumn,ge.endLineNumber,ge.endColumn,Ke.getDirection())}return Ke}static createEditsAndSnippetsFromSelections(fe,Ke,Je,vt,Et,Xe,re,pe,ge){const de=[],Q=[];if(!fe.hasModel())return{edits:de,snippets:Q};const ye=fe.getModel(),Ae=fe.invokeWithinContext(mt=>mt.get(W.ec)),ft=fe.invokeWithinContext(mt=>new xe(mt.get(k.e),ye)),dt=()=>re,it=ye.getValueInRange(sl.adjustSelection(ye,fe.getSelection(),Je,0)),et=ye.getValueInRange(sl.adjustSelection(ye,fe.getSelection(),0,vt)),st=ye.getLineFirstNonWhitespaceColumn(fe.getSelection().positionLineNumber),St=fe.getSelections().map((mt,bt)=>({selection:mt,idx:bt})).sort((mt,bt)=>E.e.compareRangesUsingStarts(mt.selection,bt.selection));for(const{selection:mt,idx:bt}of St){let Bt=sl.adjustSelection(ye,mt,Je,0),Lt=sl.adjustSelection(ye,mt,0,vt);it!==ye.getValueInRange(Bt)&&(Bt=mt),et!==ye.getValueInRange(Lt)&&(Lt=mt);const Ye=mt.setStartPosition(Bt.startLineNumber,Bt.startColumn).setEndPosition(Lt.endLineNumber,Lt.endColumn),Tt=(new H.Yj).parse(Ke,!0,Et),qt=Ye.getStartPosition(),Ot=sl.adjustWhitespace(ye,qt,Tt,Xe||bt>0&&st!==ye.getLineFirstNonWhitespaceColumn(mt.positionLineNumber),!0);Tt.resolveVariables(new Se([ft,new Me(dt,bt,St.length,"spread"===fe.getOption(73)),new Ie(ye,mt,bt,pe),new Oe(ye,mt,ge),new se,new ce(Ae),new Ee])),de[bt]=w.h.replace(Ye,Tt.toString()),de[bt].identifier={major:bt,minor:0},de[bt]._isTracked=!0,Q[bt]=new he(fe,Tt,Ot)}return{edits:de,snippets:Q}}static createEditsAndSnippetsFromEdits(fe,Ke,Je,vt,Et,Xe,re){if(!fe.hasModel()||0===Ke.length)return{edits:[],snippets:[]};const pe=[],ge=fe.getModel(),de=new H.Yj,Q=new H.y1,ye=new Se([fe.invokeWithinContext(ft=>new xe(ft.get(k.e),ge)),new Me(()=>Et,0,fe.getSelections().length,"spread"===fe.getOption(73)),new Ie(ge,fe.getSelection(),0,Xe),new Oe(ge,fe.getSelection(),re),new se,new ce(fe.invokeWithinContext(ft=>ft.get(W.ec))),new Ee]);Ke=Ke.sort((ft,dt)=>E.e.compareRangesUsingStarts(ft.range,dt.range));let Ae=0;for(let ft=0;ft<Ke.length;ft++){const{range:dt,template:it}=Ke[ft];if(ft>0){const bt=E.e.fromPositions(Ke[ft-1].range.getEndPosition(),dt.getStartPosition()),Bt=new H.xv(ge.getValueInRange(bt));Q.appendChild(Bt),Ae+=Bt.value.length}de.parseFragment(it,Q),Q.resolveVariables(ye);const et=Q.toString(),st=et.slice(Ae);Ae=et.length;const St=w.h.replace(dt,st);St.identifier={major:ft,minor:0},St._isTracked=!0,pe.push(St)}return de.ensureFinalTabstop(Q,Je,!0),{edits:pe,snippets:[new he(fe,Q,"")]}}dispose(){(0,t.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:fe,snippets:Ke}="string"==typeof this._template?sl.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):sl.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Ke,this._editor.executeEdits("snippet",fe,Je=>{const vt=Je.filter(Et=>!!Et.identifier);for(let Et=0;Et<Ke.length;Et++)Ke[Et].initialize(vt[Et].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):vt.map(Et=>L.Y.fromPositions(Et.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(fe,Ke=Fe){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,fe]);const{edits:Je,snippets:vt}=sl.createEditsAndSnippetsFromSelections(this._editor,fe,Ke.overwriteBefore,Ke.overwriteAfter,!0,Ke.adjustWhitespace,Ke.clipboardText,Ke.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",Je,Et=>{const Xe=Et.filter(pe=>!!pe.identifier);for(let pe=0;pe<vt.length;pe++)vt[pe].initialize(Xe[pe].textChange);const re=vt[0].isTrivialSnippet;if(!re){for(const pe of this._snippets)pe.merge(vt);console.assert(0===vt.length)}return this._snippets[0].hasPlaceholder&&!re?this._move(void 0):Xe.map(pe=>L.Y.fromPositions(pe.range.getEndPosition()))})}next(){const fe=this._move(!0);this._editor.setSelections(fe),this._editor.revealPositionInCenterIfOutsideViewport(fe[0].getPosition())}prev(){const fe=this._move(!1);this._editor.setSelections(fe),this._editor.revealPositionInCenterIfOutsideViewport(fe[0].getPosition())}_move(fe){const Ke=[];for(const Je of this._snippets){const vt=Je.move(fe);Ke.push(...vt)}return Ke}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const fe=this._editor.getSelections();if(fe.length<this._snippets.length)return!1;const Ke=new Map;for(const Je of this._snippets){const vt=Je.computePossibleSelections();if(0===Ke.size)for(const[Et,Xe]of vt){Xe.sort(E.e.compareRangesUsingStarts);for(const re of fe)if(Xe[0].containsRange(re)){Ke.set(Et,[]);break}}if(0===Ke.size)return!1;Ke.forEach((Et,Xe)=>{Et.push(...vt.get(Xe))})}fe.sort(E.e.compareRangesUsingStarts);for(const[Je,vt]of Ke)if(vt.length===fe.length){vt.sort(E.e.compareRangesUsingStarts);for(let Et=0;Et<vt.length;Et++)if(!vt[Et].containsRange(fe[Et])){Ke.delete(Je);continue}}else Ke.delete(Je);return Ke.size>0}};Ze=function(ze,fe,Ke,Je){var Xe,vt=arguments.length,Et=vt<3?fe:null===Je?Je=Object.getOwnPropertyDescriptor(fe,Ke):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(ze,fe,Ke,Je);else for(var re=ze.length-1;re>=0;re--)(Xe=ze[re])&&(Et=(vt<3?Xe(Et):vt>3?Xe(fe,Ke,Et):Xe(fe,Ke))||Et);return vt>3&&Et&&Object.defineProperty(fe,Ke,Et),Et}([function(ze,fe){return function(Ke,Je){fe(Ke,Je,3)}}(0,x.c_)],Ze)},14303:(yt,T,e)=>{"use strict";e.r(T);var d,s=e(21576),t=e(95102),l=e(13154),C=e(12649),f=e(71943),I=e(94418),b=e(23859),S=e(93389),D=e(90090),_=e(41883),r=e(13902),n=function(w,E,L,x){return new(L||(L=Promise))(function(k,W){function H(O){try{N(x.next(O))}catch(K){W(K)}}function z(O){try{N(x.throw(O))}catch(K){W(K)}}function N(O){O.done?k(O.value):function A(k){return k instanceof L?k:new L(function(W){W(k)})}(O.value).then(H,z)}N((x=x.apply(w,E||[])).next())})};let y=class extends s.JT{constructor(E,L){super(),this._sessionStore=new s.SL,this._ranges=[],this._rangesVersionId=0,this._editor=E,this._languageFeaturesService=L,this.stickyScrollWidget=new m(this._editor),this._register(this._editor.onDidChangeConfiguration(x=>{x.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new _.pY(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(!1===this._editor.getOption(34).stickyScroll.enabled)return this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),void this._sessionStore.clear();this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(L=>this._onTokensChange(L))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(E){const L=this.stickyScrollWidget.getCurrentLines();for(const x of L)for(const A of E.ranges)if(x>=A.fromLineNumber&&x<=A.toLineNumber)return!0;return!1}_onTokensChange(E){this._needsUpdate(E)&&this._update(!1)}_update(E=!1){var L,x;return n(this,void 0,void 0,function*(){E&&(null===(L=this._cts)||void 0===L||L.dispose(!0),this._cts=new f.A,yield this._updateOutlineModel(this._cts.token));const A=null===(x=this._editor._getViewModel())||void 0===x?void 0:x.getHiddenAreas();if(A)for(const k of A)this._ranges=this._ranges.filter(W=>!(W[0]>=k.startLineNumber&&W[1]<=k.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(E,L){if(E?.children.size){let x=!1;for(const A of E?.children.values()){const k=A.symbol.kind;(4===k||8===k||11===k||10===k||5===k||1===k)&&(x=!0,this._findLineRanges(A,L+1))}x||this._addOutlineRanges(E,L)}else this._addOutlineRanges(E,L)}_addOutlineRanges(E,L){let x=0,A=0;for(;E;){const k=E.symbol.kind;if((4===k||8===k||11===k||10===k||5===k||1===k)&&(x=E?.symbol.range.startLineNumber,A=E?.symbol.range.endLineNumber,this._ranges.push([x,A,L]),L--),!(E.parent instanceof C.sT))break;E=E.parent}}_updateOutlineModel(E){return n(this,void 0,void 0,function*(){if(this._editor.hasModel()){const L=this._editor.getModel(),x=L.getVersionId(),A=yield C.C3.create(this._languageFeaturesService.documentSymbolProvider,L,E);if(E.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=x;for(const k of A.children.values()){if(k instanceof C.sT){const H=k.symbol.kind;this._findLineRanges(k,4===H||8===H||11===H||10===H||5===H||1===H?1:0)}this._ranges=this._ranges.sort(function(H,z){return H[0]!==z[0]?H[0]-z[0]:H[1]!==z[1]?z[1]-H[1]:H[2]-z[2]});let W=[];for(const[H,z]of this._ranges.entries()){const[N,O,K]=z;W[0]===N&&W[1]===O?this._ranges.splice(H,1):W=z}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const E=this._editor.getOption(61),L=this._editor.getModel();if(this._rangesVersionId!==L.getVersionId())return;const x=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const A=new Set;for(const[k,W]of this._ranges.entries()){const[H,z,N]=W;if(z-H>0&&""!==L.getLineContent(H)){const O=(N-1)*E,K=N*E,$=this._editor.getBottomForLineNumber(H)-x,j=this._editor.getTopForLineNumber(z)-x,q=this._editor.getBottomForLineNumber(z)-x;if(A.has(H))this._ranges.splice(k,1);else{if(O>=j-1&&O<q-2){A.add(H),this.stickyScrollWidget.pushCodeLine(new v(H,N,this._editor,-1,q-K));break}K>$&&K<q-1&&(A.add(H),this.stickyScrollWidget.pushCodeLine(new v(H,N,this._editor,0,0)))}}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};var E;y.ID="store.contrib.stickyScrollController",y=function(w,E,L,x){var W,A=arguments.length,k=A<3?E:null===x?x=Object.getOwnPropertyDescriptor(E,L):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(w,E,L,x);else for(var H=w.length-1;H>=0;H--)(W=w[H])&&(k=(A<3?W(k):A>3?W(E,L,k):W(E,L))||k);return A>3&&k&&Object.defineProperty(E,L,k),k}([(1,E=l.p,function(L,x){E(L,x,1)})],y);const g=null===(d=window.trustedTypes)||void 0===d?void 0:d.createPolicy("stickyScrollViewLayer",{createHTML:w=>w});class v{constructor(E,L,x,A,k){this._lineNumber=E,this._depth=L,this._editor=x,this._zIndex=A,this._relativePosition=k,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const E=document.createElement("div"),L=this._editor._getViewModel(),x=L.coordinatesConverter.convertModelPositionToViewPosition(new r.L(this._lineNumber,1)).lineNumber,A=L.getViewLineRenderingData(x);let k;try{k=D.Kp.filter(A.inlineDecorations,x,A.minColumn,A.maxColumn)}catch{k=[]}const W=new S.IJ(!0,!0,A.content,A.continuesWithWrappedLine,A.isBasicASCII,A.containsRTL,0,A.tokens,k,A.tabSize,A.startVisibleColumn,1,1,1,100,"none",!0,!0,null),H=(0,b.l$)(400);let z;(0,S.d1)(W,H),z=g?g.createHTML(H.build()):H.build();const N=document.createElement("span");N.style.backgroundColor="var(--vscode-editorStickyScroll-background)",N.style.overflow="hidden",N.style.whiteSpace="nowrap",N.style.display="inline-block",N.style.lineHeight=this._editor.getOption(61).toString()+"px",N.innerHTML=z;const O=document.createElement("span");O.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",O.style.backgroundColor="var(--vscode-editorStickyScroll-background)",O.style.color="var(--vscode-editorLineNumber-foreground)",O.style.display="inline-block",O.style.lineHeight=this._editor.getOption(61).toString()+"px";const K=document.createElement("span");return K.innerText=this._lineNumber.toString(),K.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",K.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",K.style.backgroundColor="var(--vscode-editorStickyScroll-background)",K.style.textAlign="right",K.style.float="left",K.style.lineHeight=this._editor.getOption(61).toString()+"px",O.appendChild(K),E.onclick=$=>{$.stopPropagation(),$.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},E.onmouseover=$=>{K.style.background="var(--vscode-editorStickyScrollHover-background)",N.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",O.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",E.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",K.style.cursor="pointer",N.style.cursor="pointer",E.style.cursor="pointer",O.style.cursor="pointer"},E.onmouseleave=$=>{K.style.background="var(--vscode-editorStickyScroll-background)",N.style.backgroundColor="var(--vscode-editorStickyScroll-background)",O.style.backgroundColor="var(--vscode-editorStickyScroll-background)",E.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(N),this._editor.applyFontInfo(K),E.appendChild(O),E.appendChild(N),E.style.zIndex=this._zIndex.toString(),E.style.backgroundColor="var(--vscode-editorStickyScroll-background)",E.style.overflow="hidden",E.style.whiteSpace="nowrap",E.style.width="100%",E.style.lineHeight=this._editor.getOption(61).toString()+"px",E.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(E.style.position="relative",E.style.top=this._relativePosition+"px",E.style.width="100%"),E}}class m{constructor(E){this._editor=E,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const E=[];for(const L of this.arrayOfCodeLines)E.push(L.lineNumber);return E}pushCodeLine(E){this.arrayOfCodeLines.push(E)}updateRootNode(){let E=0;for(const L of this.arrayOfCodeLines)E+=L.effectiveLineHeight,this.rootDomNode.appendChild(L.getDomNode());this.rootDomNode.style.height=E.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,I.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,t._K)(y.ID,y)},81856:(yt,T,e)=>{"use strict";e.d(T,{_:()=>f,t:()=>C});var s=e(14940),t=e(19623),l=e(77697);class C{constructor(b,S){this.leadingLineContent=b,this.characterCountDelta=S}}class f{constructor(b,S,D,_,r,a,u=t.mX.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=f._compareCompletionItems,this._items=b,this._column=S,this._wordDistance=_,this._options=r,this._refilterKind=1,this._lineContext=D,this._fuzzyScoreOptions=u,"top"===a?this._snippetCompareFn=f._compareCompletionItemsSnippetsUp:"bottom"===a&&(this._snippetCompareFn=f._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(b){(this._lineContext.leadingLineContent!==b.leadingLineContent||this._lineContext.characterCountDelta!==b.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<b.characterCountDelta&&this._filteredItems?2:1,this._lineContext=b)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const b=new Set;for(const[S,D]of this._providerInfo)D&&b.add(S);return b}adopt(b){const S=[];for(let D=0;D<this._items.length;)b.has(this._items[D].provider)?D++:(S.push(this._items[D]),this._items[D]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,S}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const b=[],{leadingLineContent:S,characterCountDelta:D}=this._lineContext;let _="",r="";const a=1===this._refilterKind?this._items:this._filteredItems,u=[],n=!this._options.filterGraceful||a.length>2e3?t.EW:t.l7;for(let d=0;d<a.length;d++){const y=a[d];if(y.isInvalid)continue;this._providerInfo.set(y.provider,!!y.container.incomplete);const g=y.position.column-y.editStart.column,v=g+D-(y.position.column-this._column);if(_.length!==v&&(_=0===v?"":S.slice(-v),r=_.toLowerCase()),y.word=_,0===v)y.score=t.CL.Default;else{let m=0;for(;m<g;){const w=_.charCodeAt(m);if(32!==w&&9!==w)break;m+=1}if(m>=v)y.score=t.CL.Default;else if("string"==typeof y.completion.filterText){const w=n(_,r,m,y.completion.filterText,y.filterTextLow,0,this._fuzzyScoreOptions);if(!w)continue;0===(0,l.zY)(y.completion.filterText,y.textLabel)?y.score=w:(y.score=(0,t.jB)(_,r,m,y.textLabel,y.labelLow,0),y.score[0]=w[0])}else{const w=n(_,r,m,y.textLabel,y.labelLow,0,this._fuzzyScoreOptions);if(!w)continue;y.score=w}}y.idx=d,y.distance=this._wordDistance.distance(y.position,y.completion),u.push(y),b.push(y.textLabel.length)}this._filteredItems=u.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:b.length?(0,s.HW)(b.length-.85,b,(d,y)=>d-y):0}}static _compareCompletionItems(b,S){return b.score[0]>S.score[0]?-1:b.score[0]<S.score[0]?1:b.distance<S.distance?-1:b.distance>S.distance?1:b.idx<S.idx?-1:b.idx>S.idx?1:0}static _compareCompletionItemsSnippetsDown(b,S){if(b.completion.kind!==S.completion.kind){if(27===b.completion.kind)return 1;if(27===S.completion.kind)return-1}return f._compareCompletionItems(b,S)}static _compareCompletionItemsSnippetsUp(b,S){if(b.completion.kind!==S.completion.kind){if(27===b.completion.kind)return-1;if(27===S.completion.kind)return 1}return f._compareCompletionItems(b,S)}}},10446:(yt,T,e)=>{"use strict";e.d(T,{A9:()=>L,GI:()=>w,ZJ:()=>A,_y:()=>m,i5:()=>$,kL:()=>W,tG:()=>j,wg:()=>K});var s=e(71943),t=e(3219),l=e(19623),C=e(21576),f=e(44753),I=e(22070),b=e(56740),S=e(13902),D=e(88154),_=e(97953),r=e(90517),a=e(1200),u=e(30116),n=e(34468),d=e(38336),y=e(13154),g=e(23142),v=function(q,R,Z,J){return new(Z||(Z=Promise))(function(Se,Ie){function xe(se){try{Oe(J.next(se))}catch(ce){Ie(ce)}}function Me(se){try{Oe(J.throw(se))}catch(ce){Ie(ce)}}function Oe(se){se.done?Se(se.value):function Ce(Se){return Se instanceof Z?Se:new Z(function(Ie){Ie(Se)})}(se.value).then(xe,Me)}Oe((J=J.apply(q,R||[])).next())})};const m={Visible:g.iX,HasFocusedSuggestion:new d.uy("suggestWidgetHasFocusedSuggestion",!1,(0,a.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new d.uy("suggestWidgetDetailsVisible",!1,(0,a.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new d.uy("suggestWidgetMultipleSuggestions",!1,(0,a.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new d.uy("suggestionMakesTextEdit",!0,(0,a.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new d.uy("acceptSuggestionOnEnter",!0,(0,a.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new d.uy("suggestionHasInsertAndReplaceRange",!1,(0,a.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new d.uy("suggestionInsertMode",void 0,{type:"string",description:(0,a.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new d.uy("suggestionCanResolve",!1,(0,a.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},w=new u.eH("suggestWidgetStatusBar");class E{constructor(R,Z,J,Ce){this.position=R,this.completion=Z,this.container=J,this.provider=Ce,this.isInvalid=!1,this.score=l.CL.Default,this.distance=0,this.textLabel="string"==typeof Z.label?Z.label:Z.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=Z.sortText&&Z.sortText.toLowerCase(),this.filterTextLow=Z.filterText&&Z.filterText.toLowerCase(),this.extensionId=Z.extensionId,D.e.isIRange(Z.range)?(this.editStart=new S.L(Z.range.startLineNumber,Z.range.startColumn),this.editInsertEnd=new S.L(Z.range.endLineNumber,Z.range.endColumn),this.editReplaceEnd=new S.L(Z.range.endLineNumber,Z.range.endColumn),this.isInvalid=this.isInvalid||D.e.spansMultipleLines(Z.range)||Z.range.startLineNumber!==R.lineNumber):(this.editStart=new S.L(Z.range.insert.startLineNumber,Z.range.insert.startColumn),this.editInsertEnd=new S.L(Z.range.insert.endLineNumber,Z.range.insert.endColumn),this.editReplaceEnd=new S.L(Z.range.replace.endLineNumber,Z.range.replace.endColumn),this.isInvalid=this.isInvalid||D.e.spansMultipleLines(Z.range.insert)||D.e.spansMultipleLines(Z.range.replace)||Z.range.insert.startLineNumber!==R.lineNumber||Z.range.replace.startLineNumber!==R.lineNumber||Z.range.insert.startColumn!==Z.range.replace.startColumn),"function"!=typeof Ce.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(R){return v(this,void 0,void 0,function*(){if(!this._resolveCache){const Z=R.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,R)).then(J=>{Object.assign(this.completion,J),this._isResolved=!0,Z.dispose()},J=>{(0,t.n2)(J)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class L{constructor(R=2,Z=new Set,J=new Set,Ce=!0){this.snippetSortOrder=R,this.kindFilter=Z,this.providerFilter=J,this.showDeprecated=Ce}}let x;function A(){return x}L.default=new L;class k{constructor(R,Z,J,Ce){this.items=R,this.needsClipboard=Z,this.durations=J,this.disposable=Ce}}function W(q,R,Z,J=L.default,Ce={triggerKind:0},Se=s.T.None){return v(this,void 0,void 0,function*(){const Ie=new f.G(!0);Z=Z.clone();const xe=R.getWordAtPosition(Z),Me=xe?new D.e(Z.lineNumber,xe.startColumn,Z.lineNumber,xe.endColumn):D.e.fromPositions(Z),Oe={replace:Me,insert:Me.setEndPosition(Z.lineNumber,Z.column)},se=[],ce=new C.SL,Ee=[];let me=!1;const Pe=(Fe,Ze,ze)=>{var fe,Ke,Je;let vt=!1;if(!Ze)return vt;for(const Et of Ze.suggestions)if(!J.kindFilter.has(Et.kind)){if(!J.showDeprecated&&null!==(fe=Et?.tags)&&void 0!==fe&&fe.includes(1))continue;Et.range||(Et.range=Oe),Et.sortText||(Et.sortText="string"==typeof Et.label?Et.label:Et.label.label),!me&&Et.insertTextRules&&4&Et.insertTextRules&&(me=r.Yj.guessNeedsClipboard(Et.insertText)),se.push(new E(Z,Et,Ze,Fe)),vt=!0}return(0,C.Wf)(Ze)&&ce.add(Ze),Ee.push({providerName:null!==(Ke=Fe._debugDisplayName)&&void 0!==Ke?Ke:"unknown_provider",elapsedProvider:null!==(Je=Ze.duration)&&void 0!==Je?Je:-1,elapsedOverall:ze.elapsed()}),vt},he=(()=>v(this,void 0,void 0,function*(){if(!x||J.kindFilter.has(27)||J.providerFilter.size>0&&!J.providerFilter.has(x))return;const Fe=new f.G(!0),Ze=yield x.provideCompletionItems(R,Z,Ce,Se);Pe(x,Ze,Fe)}))();for(const Fe of q.orderedGroups(R)){let Ze=!1;if(yield Promise.all(Fe.map(ze=>v(this,void 0,void 0,function*(){if(!(J.providerFilter.size>0)||J.providerFilter.has(ze))try{const fe=new f.G(!0),Ke=yield ze.provideCompletionItems(R,Z,Ce,Se);Ze=Pe(ze,Ke,fe)||Ze}catch(fe){(0,t.Cp)(fe)}}))),Ze||Se.isCancellationRequested)break}return yield he,Se.isCancellationRequested?(ce.dispose(),Promise.reject(new t.FU)):new k(se.sort(K(J.snippetSortOrder)),me,{entries:Ee,elapsed:Ie.elapsed()},ce)})}function H(q,R){if(q.sortTextLow&&R.sortTextLow){if(q.sortTextLow<R.sortTextLow)return-1;if(q.sortTextLow>R.sortTextLow)return 1}return q.textLabel<R.textLabel?-1:q.textLabel>R.textLabel?1:q.completion.kind-R.completion.kind}const O=new Map;function K(q){return O.get(q)}function $(q,R){var Z;null===(Z=q.getContribution("editor.contrib.suggestController"))||void 0===Z||Z.triggerSuggest((new Set).add(R),void 0,!0)}O.set(0,function z(q,R){if(q.completion.kind!==R.completion.kind){if(27===q.completion.kind)return-1;if(27===R.completion.kind)return 1}return H(q,R)}),O.set(2,function N(q,R){if(q.completion.kind!==R.completion.kind){if(27===q.completion.kind)return 1;if(27===R.completion.kind)return-1}return H(q,R)}),O.set(1,H),n.P0.registerCommand("_executeCompletionItemProvider",(q,...R)=>v(void 0,void 0,void 0,function*(){const[Z,J,Ce,Se]=R;(0,I.p_)(b.o.isUri(Z)),(0,I.p_)(S.L.isIPosition(J)),(0,I.p_)("string"==typeof Ce||!Ce),(0,I.p_)("number"==typeof Se||!Se);const{completionProvider:Ie}=q.get(y.p),xe=yield q.get(_.S).createModelReference(Z);try{const Me={incomplete:!1,suggestions:[]},Oe=[],se=yield W(Ie,xe.object.textEditorModel,S.L.lift(J),void 0,{triggerCharacter:Ce,triggerKind:Ce?1:0});for(const ce of se.items)Oe.length<(Se??0)&&Oe.push(ce.resolve(s.T.None)),Me.incomplete=Me.incomplete||ce.container.incomplete,Me.suggestions.push(ce.completion);try{return yield Promise.all(Oe),Me}finally{setTimeout(()=>se.disposable.dispose(),100)}}finally{xe.dispose()}}));class j{static isAllOff(R){return"off"===R.other&&"off"===R.comments&&"off"===R.strings}static isAllOn(R){return"on"===R.other&&"on"===R.comments&&"on"===R.strings}static valueFor(R,Z){switch(Z){case 1:return R.comments;case 2:return R.strings;default:return R.other}}}},94363:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{SuggestController:()=>ht,TriggerSuggestAction:()=>nn});var s=e(48460),t=e(14940),l=e(41883),C=e(71943),f=e(3219),I=e(31864),b=e(99385),S=e(21576),D=e(84834),_=e(44753),r=e(22070),a=e(85171),u=e(95102),n=e(37304),d=e(13902),y=e(88154),g=e(72325),v=e(72354),m=e(90517),w=e(11959),E=e(38336);let A=class Vu{constructor(Ct,Wt){this._editor=Ct,this._enabled=!1,this._ckAtEnd=Vu.AtEnd.bindTo(Wt),this._configListener=this._editor.onDidChangeConfiguration(jt=>jt.hasChanged(113)&&this._update()),this._update()}dispose(){var Ct;this._configListener.dispose(),null===(Ct=this._selectionListener)||void 0===Ct||Ct.dispose(),this._ckAtEnd.reset()}_update(){const Ct="on"===this._editor.getOption(113);if(this._enabled!==Ct)if(this._enabled=Ct,this._enabled){const Wt=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const jt=this._editor.getModel(),Yt=this._editor.getSelection(),gn=jt.getWordAtPosition(Yt.getStartPosition());this._ckAtEnd.set(!!gn&&gn.endColumn===Yt.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Wt),Wt()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};var Ct;A.AtEnd=new E.uy("atEndOfWord",!1),A=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([(1,Ct=E.i6,function(Wt,jt){Ct(Wt,jt,1)})],A);var k=e(1200),W=e(34468),H=e(30888),z=e(57908),N=e(10446);let $=class ac{constructor(Ct,Wt){this._editor=Ct,this._index=0,this._ckOtherSuggestions=ac.OtherSuggestions.bindTo(Wt)}dispose(){this.reset()}reset(){var Ct;this._ckOtherSuggestions.reset(),null===(Ct=this._listener)||void 0===Ct||Ct.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:Ct,index:Wt},jt){0!==Ct.items.length&&ac._moveIndex(!0,Ct,Wt)!==Wt?(this._acceptNext=jt,this._model=Ct,this._index=Wt,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(Ct,Wt,jt){let Yt=jt;for(;Yt=(Yt+Wt.items.length+(Ct?1:-1))%Wt.items.length,Yt!==jt&&Wt.items[Yt].completion.additionalTextEdits;);return Yt}next(){this._move(!0)}prev(){this._move(!1)}_move(Ct){if(this._model)try{this._ignore=!0,this._index=ac._moveIndex(Ct,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};$.OtherSuggestions=new E.uy("hasOtherSuggestions",!1),$=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([function(bn,Ct){return function(Wt,jt){Ct(Wt,jt,1)}}(0,E.i6)],$);var j=e(89646);class q{constructor(Ct,Wt,jt){this._disposables=new S.SL,this._disposables.add(Wt.onDidShow(()=>this._onItem(Wt.getFocusedItem()))),this._disposables.add(Wt.onDidFocus(this._onItem,this)),this._disposables.add(Wt.onDidHide(this.reset,this)),this._disposables.add(Ct.onWillType(Yt=>{if(this._active&&!Wt.isFrozen()){const gn=Yt.charCodeAt(Yt.length-1);this._active.acceptCharacters.has(gn)&&Ct.getOption(0)&&jt(this._active.item)}}))}_onItem(Ct){if(!Ct||!(0,t.Of)(Ct.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===Ct.item)return;const Wt=new j.q;for(const jt of Ct.item.completion.commitCharacters)jt.length>0&&Wt.add(jt.charCodeAt(0));this._active={acceptCharacters:Wt,item:Ct}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var R=e(77697),Z=e(58745),J=e(80607),Ce=e(81279),Se=e(21611),Ie=e(56767),xe=e(90062),Me=e(81856),Oe=e(13154),ce=function(bn,Ct){return function(Wt,jt){Ct(Wt,jt,bn)}};class me{constructor(Ct,Wt,jt,Yt,gn){this.leadingLineContent=Ct.getLineContent(Wt.lineNumber).substr(0,Wt.column-1),this.leadingWord=Ct.getWordUntilPosition(Wt),this.lineNumber=Wt.lineNumber,this.column=Wt.column,this.auto=jt,this.shy=Yt,this.noSelect=gn}static shouldAutoTrigger(Ct){if(!Ct.hasModel())return!1;const Wt=Ct.getModel(),jt=Ct.getPosition();Wt.tokenization.tokenizeIfCheap(jt.lineNumber);const Yt=Wt.getWordAtPosition(jt);return!(!Yt||Yt.endColumn!==jt.column||!isNaN(Number(Yt.word)))}}let Ze=class Uu{constructor(Ct,Wt,jt,Yt,gn,Be,_t,vn){this._editor=Ct,this._editorWorkerService=Wt,this._clipboardService=jt,this._telemetryService=Yt,this._logService=gn,this._contextKeyService=Be,this._configurationService=_t,this._languageFeaturesService=vn,this._toDispose=new S.SL,this._triggerCharacterListener=new S.SL,this._triggerQuickSuggest=new l._F,this._state=0,this._completionDisposables=new S.SL,this._onDidCancel=new I.Q5,this._onDidTrigger=new I.Q5,this._onDidSuggest=new I.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Z.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let $n=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{$n=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{$n=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Pi=>{$n||this._onCursorChange(Pi)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{$n||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.B9)(this._triggerCharacterListener),(0,S.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const Ct=new Map;for(const jt of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const Yt of jt.triggerCharacters||[]){let gn=Ct.get(Yt);gn||(gn=new Set,gn.add((0,N.ZJ)()),Ct.set(Yt,gn)),gn.add(jt)}const Wt=jt=>{if(!function Fe(bn,Ct,Wt){if(!Ct.getContextKeyValue("inlineSuggestionVisible"))return!0;const jt=Wt.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==jt&&!!jt}(0,this._contextKeyService,this._configurationService)||me.shouldAutoTrigger(this._editor))return;if(!jt){const Be=this._editor.getPosition();jt=this._editor.getModel().getLineContent(Be.lineNumber).substr(0,Be.column-1)}let Yt="";(0,R.YK)(jt.charCodeAt(jt.length-1))?(0,R.ZG)(jt.charCodeAt(jt.length-2))&&(Yt=jt.substr(jt.length-2)):Yt=jt.charAt(jt.length-1);const gn=Ct.get(Yt);if(gn){const Be=this._completionModel?{items:this._completionModel.adopt(gn),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:Yt},!!this._completionModel,gn,Be)}};this._triggerCharacterListener.add(this._editor.onDidType(Wt)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Wt()))}get state(){return this._state}cancel(Ct=!1){var Wt;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(Wt=this._requestToken)||void 0===Wt||Wt.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:Ct}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1,noSelect:!1},!0):this.cancel())}_onCursorChange(Ct){if(!this._editor.hasModel())return;const Wt=this._currentSelection;this._currentSelection=this._editor.getSelection(),!Ct.selection.isEmpty()||0!==Ct.reason&&3!==Ct.reason||"keyboard"!==Ct.source&&"deleteLeft"!==Ct.source?this.cancel():0===this._state&&0===Ct.reason?(Wt.containsRange(this._currentSelection)||Wt.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===Ct.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var Ct;N.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&null!==(Ct=v.SnippetController2.get(this._editor))&&void 0!==Ct&&Ct.isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!me.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Wt=this._editor.getModel(),jt=this._editor.getPosition(),Yt=this._editor.getOption(81);if(!N.tG.isAllOff(Yt)){if(!N.tG.isAllOn(Yt)){Wt.tokenization.tokenizeIfCheap(jt.lineNumber);const gn=Wt.tokenization.getLineTokens(jt.lineNumber),Be=gn.getStandardTokenType(gn.findTokenIndexAtOffset(Math.max(jt.column-1-1,0)));if("on"!==N.tG.valueFor(Yt,Be))return}(function he(bn,Ct,Wt){if(!Ct.getContextKeyValue("inlineSuggestionVisible"))return!0;const jt=Wt.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==jt&&!!jt})(0,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(Wt)&&this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const Ct=this._editor.getModel(),Wt=this._editor.getPosition(),jt=new me(Ct,Wt,2===this._state,!1,!1);this._onNewContext(jt)})}trigger(Ct,Wt=!1,jt,Yt,gn){var Be;if(!this._editor.hasModel())return;const _t=this._editor.getModel(),vn=Ct.auto,$n=new me(_t,this._editor.getPosition(),vn,Ct.shy,Ct.noSelect);this.cancel(Wt),this._state=vn?2:1,this._onDidTrigger.fire({auto:vn,shy:Ct.shy,position:this._editor.getPosition()}),this._context=$n;let Pi={triggerKind:null!==(Be=Ct.triggerKind)&&void 0!==Be?Be:0};Ct.triggerCharacter&&(Pi={triggerKind:1,triggerCharacter:Ct.triggerCharacter}),this._requestToken=new C.A;const Ii=this._editor.getOption(103);let ii=1;switch(Ii){case"top":ii=0;break;case"bottom":ii=2}const{itemKind:Ut,showDeprecated:F}=Uu._createSuggestFilter(this._editor),ee=new N.A9(ii,gn?new Set:Ut,jt,F),_e=Ce.K.create(this._editorWorkerService,this._editor),Qe=(0,N.kL)(this._languageFeaturesService.completionProvider,_t,this._editor.getPosition(),ee,Pi,this._requestToken.token);Promise.all([Qe,_e]).then(([qe,ct])=>function(bn,Ct,Wt,jt){return new(Wt||(Wt=Promise))(function(gn,Be){function _t(Pi){try{$n(jt.next(Pi))}catch(Ii){Be(Ii)}}function vn(Pi){try{$n(jt.throw(Pi))}catch(Ii){Be(Ii)}}function $n(Pi){Pi.done?gn(Pi.value):function Yt(gn){return gn instanceof Wt?gn:new Wt(function(Be){Be(gn)})}(Pi.value).then(_t,vn)}$n((jt=jt.apply(bn,Ct||[])).next())})}(this,void 0,void 0,function*(){var rn;if(null===(rn=this._requestToken)||void 0===rn||rn.dispose(),!this._editor.hasModel())return;let Gt=Yt?.clipboardText;if(!Gt&&qe.needsClipboard&&(Gt=yield this._clipboardService.readText()),0===this._state)return;const wn=this._editor.getModel();let En=qe.items;if(Yt){const Wn=(0,N.wg)(ii);En=En.concat(Yt.items).sort(Wn)}const xn=new me(wn,this._editor.getPosition(),vn,Ct.shy,Ct.noSelect);this._completionModel=new Me._(En,this._context.column,{leadingLineContent:xn.leadingLineContent,characterCountDelta:xn.column-this._context.column},ct,this._editor.getOption(108),this._editor.getOption(103),void 0,Gt),this._completionDisposables.add(qe.disposable),this._onNewContext(xn),this._reportDurationsTelemetry(qe.durations)})).catch(f.dL)}_reportDurationsTelemetry(Ct){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(Ct)}),this._logService.debug("suggest.durations.json",Ct)})}static _createSuggestFilter(Ct){const Wt=new Set;"none"===Ct.getOption(103)&&Wt.add(27);const Yt=Ct.getOption(108);return Yt.showMethods||Wt.add(0),Yt.showFunctions||Wt.add(1),Yt.showConstructors||Wt.add(2),Yt.showFields||Wt.add(3),Yt.showVariables||Wt.add(4),Yt.showClasses||Wt.add(5),Yt.showStructs||Wt.add(6),Yt.showInterfaces||Wt.add(7),Yt.showModules||Wt.add(8),Yt.showProperties||Wt.add(9),Yt.showEvents||Wt.add(10),Yt.showOperators||Wt.add(11),Yt.showUnits||Wt.add(12),Yt.showValues||Wt.add(13),Yt.showConstants||Wt.add(14),Yt.showEnums||Wt.add(15),Yt.showEnumMembers||Wt.add(16),Yt.showKeywords||Wt.add(17),Yt.showWords||Wt.add(18),Yt.showColors||Wt.add(19),Yt.showFiles||Wt.add(20),Yt.showReferences||Wt.add(21),Yt.showColors||Wt.add(22),Yt.showFolders||Wt.add(23),Yt.showTypeParameters||Wt.add(24),Yt.showSnippets||Wt.add(27),Yt.showUsers||Wt.add(25),Yt.showIssues||Wt.add(26),{itemKind:Wt,showDeprecated:Yt.showDeprecated}}_onNewContext(Ct){if(this._context){if(Ct.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,R.V8)(Ct.leadingLineContent)!==(0,R.V8)(this._context.leadingLineContent))return void this.cancel();if(Ct.column<this._context.column)return void(Ct.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel());if(this._completionModel){if(0!==Ct.leadingWord.word.length&&Ct.leadingWord.startColumn>this._context.leadingWord.startColumn){const Wt=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const Yt of this._completionModel.allProvider)Wt.delete(Yt);const jt=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,Wt,{items:jt,clipboardText:this._completionModel.clipboardText})}if(Ct.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==Ct.leadingWord.word.length){const{incomplete:Wt}=this._completionModel,jt=this._completionModel.adopt(Wt);this.trigger({auto:2===this._state,shy:!1,noSelect:!1,triggerKind:2},!0,Wt,{items:jt,clipboardText:this._completionModel.clipboardText})}else{const Wt=this._completionModel.lineContext;let jt=!1;if(this._completionModel.lineContext={leadingLineContent:Ct.leadingLineContent,characterCountDelta:Ct.column-this._context.column},0===this._completionModel.items.length){if(me.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<Ct.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=Wt,jt=this._completionModel.items.length>0,jt&&0===Ct.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:jt})}}}}};Ze=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([ce(1,J.p),ce(2,Se.p),ce(3,xe.b),ce(4,z.VZ),ce(5,E.i6),ce(6,Ie.Ui),ce(7,Oe.p)],Ze);let ze=(()=>{class bn{constructor(Wt,jt){this._disposables=new S.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(Wt.onWillType(()=>{if(!this._empty||!Wt.hasModel())return;const Yt=Wt.getSelections(),gn=Yt.length;let Be=!1;for(let vn=0;vn<gn;vn++)if(!Yt[vn].isEmpty()){Be=!0;break}if(!Be)return;this._lastOvertyped=[];const _t=Wt.getModel();for(let vn=0;vn<gn;vn++){const $n=Yt[vn];if(_t.getValueLengthInRange($n)>bn._maxSelectionLength)return;this._lastOvertyped[vn]={value:_t.getValueInRange($n),multiline:$n.startLineNumber!==$n.endLineNumber}}this._empty=!1})),this._disposables.add(jt.onDidCancel(Yt=>{!this._empty&&!Yt.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(Wt){if(!this._empty&&Wt>=0&&Wt<this._lastOvertyped.length)return this._lastOvertyped[Wt]}dispose(){this._disposables.dispose()}}return bn._maxSelectionLength=51200,bn})();var fe=e(94418),Je=(e(99670),e(42749)),vt=e(23944),Et=e(92123),Xe=e.n(Et),re=e(65057),pe=e.n(re),ge=e(28764),de=e.n(ge),Q=e(6557),ye=e.n(Q),Ae=e(11146),ft=e.n(Ae),dt=e(95085),it=e.n(dt),et=e(70438),st={};st.styleTagTransform=it(),st.setAttributes=ye(),st.insert=de().bind(null,"head"),st.domAPI=pe(),st.insertStyleElement=ft(),Xe()(et.Z,st);var bt=e(70248),Bt=e(3847),Lt=e(88396),Ye=e(30116),qt=function(bn,Ct){return function(Wt,jt){Ct(Wt,jt,bn)}};class Ot extends Lt.Mm{updateLabel(){const Ct=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Ct)return super.updateLabel();this.label&&(this.label.textContent=(0,k.NC)("ddd","{0} ({1})",this._action.label,Ot.symbolPrintEnter(Ct)))}static symbolPrintEnter(Ct){var Wt;return null===(Wt=Ct.getLabel())||void 0===Wt?void 0:Wt.replace(/\benter\b/gi,"\u23ce")}}let Ft=class{constructor(Ct,Wt,jt,Yt){this._menuService=jt,this._contextKeyService=Yt,this._menuDisposables=new S.SL,this.element=fe.R3(Ct,fe.$(".suggest-status-bar"));const gn=Be=>Be instanceof Ye.U8?Wt.createInstance(Ot,Be,void 0):void 0;this._leftActions=new Bt.o(this.element,{actionViewItemProvider:gn}),this._rightActions=new Bt.o(this.element,{actionViewItemProvider:gn}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const Ct=this._menuService.createMenu(N.GI,this._contextKeyService),Wt=()=>{const jt=[],Yt=[];for(const[gn,Be]of Ct.getActions())"left"===gn?jt.push(...Be):Yt.push(...Be);this._leftActions.clear(),this._leftActions.push(jt),this._rightActions.clear(),this._rightActions.push(Yt)};this._menuDisposables.add(Ct.onDidChange(()=>Wt())),this._menuDisposables.add(Ct)}hide(){this._menuDisposables.clear()}};Ft=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([qt(1,H.TG),qt(2,Ye.co),qt(3,E.i6)],Ft),e(30688);var Le=e(22735),ie=e(6192),te=e(73516),oe=e(65206),we=e(14089),nt=e(30728);class He{constructor(){this._onDidWillResize=new I.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new I.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new S.SL,this._size=new fe.Ro(0,0),this._minSize=new fe.Ro(0,0),this._maxSize=new fe.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new nt.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new nt.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new nt.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:nt.l.North}),this._southSash=new nt.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:nt.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let Ct,Wt=0,jt=0;this._sashListener.add(I.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===Ct&&(this._onDidWillResize.fire(),Ct=this._size,Wt=0,jt=0)})),this._sashListener.add(I.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==Ct&&(Ct=void 0,Wt=0,jt=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(Yt=>{Ct&&(jt=Yt.currentX-Yt.startX,this.layout(Ct.height+Wt,Ct.width+jt),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(Yt=>{Ct&&(jt=-(Yt.currentX-Yt.startX),this.layout(Ct.height+Wt,Ct.width+jt),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(Yt=>{Ct&&(Wt=-(Yt.currentY-Yt.startY),this.layout(Ct.height+Wt,Ct.width+jt),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(Yt=>{Ct&&(Wt=Yt.currentY-Yt.startY,this.layout(Ct.height+Wt,Ct.width+jt),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(I.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(Yt=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(I.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(Yt=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(Ct,Wt,jt,Yt){this._northSash.state=Ct?3:0,this._eastSash.state=Wt?3:0,this._southSash.state=jt?3:0,this._westSash.state=Yt?3:0}layout(Ct=this.size.height,Wt=this.size.width){const{height:jt,width:Yt}=this._minSize,{height:gn,width:Be}=this._maxSize;Ct=Math.max(jt,Math.min(gn,Ct)),Wt=Math.max(Yt,Math.min(Be,Wt));const _t=new fe.Ro(Wt,Ct);fe.Ro.equals(_t,this._size)||(this.domNode.style.height=Ct+"px",this.domNode.style.width=Wt+"px",this._size=_t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(Ct){this._maxSize=Ct}get maxSize(){return this._maxSize}set minSize(Ct){this._minSize=Ct}get minSize(){return this._minSize}set preferredSize(Ct){this._preferredSize=Ct}get preferredSize(){return this._preferredSize}}var De=e(2654),pt=e(51153),lt=e(32418),Ht=e(87060);function an(bn){return!!bn&&!!(bn.completion.documentation||bn.completion.detail&&bn.completion.detail!==bn.completion.label)}let Kn=class{constructor(Ct,Wt){this._editor=Ct,this._onDidClose=new I.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new I.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new S.SL,this._renderDisposeable=new S.SL,this._borderWidth=1,this._size=new fe.Ro(330,0),this.domNode=fe.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Wt.createInstance(Ht.$,{editor:Ct}),this._body=fe.$(".body"),this._scrollbar=new De.s$(this._body,{alwaysConsumeMouseWheel:!0}),fe.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=fe.R3(this._body,fe.$(".header")),this._close=fe.R3(this._header,fe.$("span"+pt.lA.close.cssSelector)),this._close.title=k.NC("details.close","Close"),this._type=fe.R3(this._header,fe.$("p.type")),this._docs=fe.R3(this._body,fe.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(jt=>{jt.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const Ct=this._editor.getOptions(),Wt=Ct.get(46),jt=Wt.getMassagedFontFamily(),Yt=Ct.get(109)||Wt.fontSize,gn=Ct.get(110)||Wt.lineHeight,Be=Wt.fontWeight,vn=`${gn}px`;this.domNode.style.fontSize=`${Yt}px`,this.domNode.style.lineHeight=""+gn/Yt,this.domNode.style.fontWeight=Be,this.domNode.style.fontFeatureSettings=Wt.fontFeatureSettings,this._type.style.fontFamily=jt,this._close.style.height=vn,this._close.style.width=vn}getLayoutInfo(){const Ct=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,Wt=this._borderWidth;return{lineHeight:Ct,borderWidth:Wt,borderHeight:2*Wt,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=k.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(Ct,Wt){var jt,Yt;this._renderDisposeable.clear();let{detail:gn,documentation:Be}=Ct.completion;if(Wt){let _t="";_t+=`score: ${Ct.score[0]}\n`,_t+=`prefix: ${null!==(jt=Ct.word)&&void 0!==jt?jt:"(no prefix)"}\n`,_t+=`word: ${Ct.completion.filterText?Ct.completion.filterText+" (filterText)":Ct.textLabel}\n`,_t+=`distance: ${Ct.distance} (localityBonus-setting)\n`,_t+=`index: ${Ct.idx}, based on ${Ct.completion.sortText&&`sortText: "${Ct.completion.sortText}"`||"label"}\n`,_t+=`commit_chars: ${null===(Yt=Ct.completion.commitCharacters)||void 0===Yt?void 0:Yt.join("")}\n`,Be=(new lt.W5).appendCodeblock("empty",_t),gn=`Provider: ${Ct.provider._debugDisplayName}`}if(Wt||an(Ct)){if(this.domNode.classList.remove("no-docs","no-type"),gn){const _t=gn.length>1e5?`${gn.substr(0,1e5)}\u2026`:gn;this._type.textContent=_t,this._type.title=_t,fe.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(_t))}else fe.PO(this._type),this._type.title="",fe.Cp(this._type),this.domNode.classList.add("no-type");if(fe.PO(this._docs),"string"==typeof Be)this._docs.classList.remove("markdown-docs"),this._docs.textContent=Be;else if(Be){this._docs.classList.add("markdown-docs"),fe.PO(this._docs);const _t=this._markdownRenderer.render(Be);this._docs.appendChild(_t.element),this._renderDisposeable.add(_t),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=_t=>{_t.preventDefault(),_t.stopPropagation()},this._close.onclick=_t=>{_t.preventDefault(),_t.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(Ct,Wt){const jt=new fe.Ro(Ct,Wt);fe.Ro.equals(jt,this._size)||(this._size=jt,fe.dp(this.domNode,Ct,Wt)),this._scrollbar.scanDomNode()}scrollDown(Ct=8){this._body.scrollTop+=Ct}scrollUp(Ct=8){this._body.scrollTop-=Ct}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(Ct){this._borderWidth=Ct}get borderWidth(){return this._borderWidth}};Kn=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([function(bn,Ct){return function(Wt,jt){Ct(Wt,jt,1)}}(0,H.TG)],Kn);class Gn{constructor(Ct,Wt){this.widget=Ct,this._editor=Wt,this._disposables=new S.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new He,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(Ct.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let jt,Yt,gn=0,Be=0;this._disposables.add(this._resizable.onDidWillResize(()=>{jt=this._topLeft,Yt=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(_t=>{if(jt&&Yt){this.widget.layout(_t.dimension.width,_t.dimension.height);let vn=!1;_t.west&&(Be=Yt.width-_t.dimension.width,vn=!0),_t.north&&(gn=Yt.height-_t.dimension.height,vn=!0),vn&&this._applyTopLeft({top:jt.top+gn,left:jt.left+Be})}_t.done&&(jt=void 0,Yt=void 0,gn=0,Be=0,this._userSize=_t.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var _t;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(_t=this._userSize)&&void 0!==_t?_t:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(Ct=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),Ct&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(Ct,Wt){var jt;const Yt=Ct.getBoundingClientRect();this._anchorBox=Yt,this._preferAlignAtTop=Wt,this._placeAtAnchor(this._anchorBox,null!==(jt=this._userSize)&&void 0!==jt?jt:this.widget.size,Wt)}_placeAtAnchor(Ct,Wt,jt){var Yt;const gn=fe.D6(document.body),Be=this.widget.getLayoutInfo(),_t=new fe.Ro(220,2*Be.lineHeight),vn=Ct.top,$n=function(){const ct=gn.width-(Ct.left+Ct.width+Be.borderWidth+Be.horizontalPadding),rn=-Be.borderWidth+Ct.left+Ct.width,Gt=new fe.Ro(ct,gn.height-Ct.top-Be.borderHeight-Be.verticalPadding),wn=Gt.with(void 0,Ct.top+Ct.height-Be.borderHeight-Be.verticalPadding);return{top:vn,left:rn,fit:ct-Wt.width,maxSizeTop:Gt,maxSizeBottom:wn,minSize:_t.with(Math.min(ct,_t.width))}}(),ii=[$n,function(){const ct=Ct.left-Be.borderWidth-Be.horizontalPadding,rn=Math.max(Be.horizontalPadding,Ct.left-Wt.width-Be.borderWidth),Gt=new fe.Ro(ct,gn.height-Ct.top-Be.borderHeight-Be.verticalPadding),wn=Gt.with(void 0,Ct.top+Ct.height-Be.borderHeight-Be.verticalPadding);return{top:vn,left:rn,fit:ct-Wt.width,maxSizeTop:Gt,maxSizeBottom:wn,minSize:_t.with(Math.min(ct,_t.width))}}(),function(){const ct=Ct.left,rn=-Be.borderWidth+Ct.top+Ct.height,Gt=new fe.Ro(Ct.width-Be.borderHeight,gn.height-Ct.top-Ct.height-Be.verticalPadding);return{top:rn,left:ct,fit:Gt.height-Wt.height,maxSizeBottom:Gt,maxSizeTop:Gt,minSize:_t.with(Gt.width)}}()],Ut=null!==(Yt=ii.find(ct=>ct.fit>=0))&&void 0!==Yt?Yt:ii.sort((ct,rn)=>rn.fit-ct.fit)[0],F=Ct.top+Ct.height-Be.borderHeight;let ee,_e=Wt.height;const Qe=Math.max(Ut.maxSizeTop.height,Ut.maxSizeBottom.height);let qe;_e>Qe&&(_e=Qe),jt?_e<=Ut.maxSizeTop.height?(ee=!0,qe=Ut.maxSizeTop):(ee=!1,qe=Ut.maxSizeBottom):_e<=Ut.maxSizeBottom.height?(ee=!1,qe=Ut.maxSizeBottom):(ee=!0,qe=Ut.maxSizeTop),this._applyTopLeft({left:Ut.left,top:ee?Ut.top:F-_e}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!ee,Ut===$n,ee,Ut!==$n),this._resizable.minSize=Ut.minSize,this._resizable.maxSize=qe,this._resizable.layout(_e,Math.min(qe.width,Wt.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(Ct){this._topLeft=Ct,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var li=e(51970),fi=e(19623),ri=e(56740),_i=e(64050),Xi=e(34059),Zi=e(9590),vo=e(61669),oo=(()=>((oo=oo||{})[oo.FILE=0]="FILE",oo[oo.FOLDER=1]="FOLDER",oo[oo.ROOT_FOLDER=2]="ROOT_FOLDER",oo))();const yo=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Lo(bn,Ct,Wt,jt){const Yt=jt===oo.ROOT_FOLDER?["rootfolder-icon"]:jt===oo.FOLDER?["folder-icon"]:["file-icon"];if(Wt){let gn;if(Wt.scheme===Xi.lg.data)gn=Zi.Vb.parseMetaData(Wt).get(Zi.Vb.META_DATA_LABEL);else{const Be=Wt.path.match(yo);Be?(gn=en(Be[2].toLowerCase()),Be[1]&&Yt.push(`${en(Be[1].toLowerCase())}-name-dir-icon`)):gn=en(Wt.authority.toLowerCase())}if(jt===oo.FOLDER)Yt.push(`${gn}-name-folder-icon`);else{if(gn){if(Yt.push(`${gn}-name-file-icon`),Yt.push("name-file-icon"),gn.length<=255){const _t=gn.split(".");for(let vn=1;vn<_t.length;vn++)Yt.push(`${_t.slice(vn).join(".")}-ext-file-icon`)}Yt.push("ext-file-icon")}const Be=function oi(bn,Ct,Wt){if(!Wt)return null;let jt=null;if(Wt.scheme===Xi.lg.data){const gn=Zi.Vb.parseMetaData(Wt).get(Zi.Vb.META_DATA_MIME);gn&&(jt=Ct.getLanguageIdByMimeType(gn))}else{const Yt=bn.getModel(Wt);Yt&&(jt=Yt.getLanguageId())}return jt&&jt!==vo.bd?jt:Ct.guessLanguageIdByFilepathOrFirstLine(Wt)}(bn,Ct,Wt);Be&&Yt.push(`${en(Be)}-lang-file-icon`)}}return Yt}function en(bn){return bn.replace(/[\11\12\14\15\40]/g,"/")}var Cn,wt=e(44378),Dt=e(12375),cn=function(bn,Ct){return function(Wt,jt){Ct(Wt,jt,bn)}};function Pn(bn){return`suggest-aria-id:${bn}`}const Hn=(0,e(68762).q5)("suggest-more-info",pt.lA.chevronRight,k.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),zn=new(Cn=class lc{extract(Ct,Wt){if(Ct.textLabel.match(lc._regexStrict))return Wt[0]=Ct.textLabel,!0;if(Ct.completion.detail&&Ct.completion.detail.match(lc._regexStrict))return Wt[0]=Ct.completion.detail,!0;if("string"==typeof Ct.completion.documentation){const jt=lc._regexRelaxed.exec(Ct.completion.documentation);if(jt&&(0===jt.index||jt.index+jt[0].length===Ct.completion.documentation.length))return Wt[0]=jt[0],!0}return!1}},Cn._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Cn._regexStrict=new RegExp(`^${Cn._regexRelaxed.source}$`,"i"),Cn);let bi=class{constructor(Ct,Wt,jt,Yt){this._editor=Ct,this._modelService=Wt,this._languageService=jt,this._themeService=Yt,this._onDidToggleDetails=new I.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(Ct){const Wt=Object.create(null);Wt.disposables=new S.SL,Wt.root=Ct,Wt.root.classList.add("show-file-icons"),Wt.icon=(0,fe.R3)(Ct,(0,fe.$)(".icon")),Wt.colorspan=(0,fe.R3)(Wt.icon,(0,fe.$)("span.colorspan"));const jt=(0,fe.R3)(Ct,(0,fe.$)(".contents")),Yt=(0,fe.R3)(jt,(0,fe.$)(".main"));Wt.iconContainer=(0,fe.R3)(Yt,(0,fe.$)(".icon-label.codicon")),Wt.left=(0,fe.R3)(Yt,(0,fe.$)("span.left")),Wt.right=(0,fe.R3)(Yt,(0,fe.$)("span.right")),Wt.iconLabel=new li.g(Wt.left,{supportHighlights:!0,supportIcons:!0}),Wt.disposables.add(Wt.iconLabel),Wt.parametersLabel=(0,fe.R3)(Wt.left,(0,fe.$)("span.signature-label")),Wt.qualifierLabel=(0,fe.R3)(Wt.left,(0,fe.$)("span.qualifier-label")),Wt.detailsLabel=(0,fe.R3)(Wt.right,(0,fe.$)("span.details-label")),Wt.readMore=(0,fe.R3)(Wt.right,(0,fe.$)("span.readMore"+we.kS.asCSSSelector(Hn))),Wt.readMore.title=k.NC("readMore","Read More");const gn=()=>{const Be=this._editor.getOptions(),_t=Be.get(46),vn=_t.getMassagedFontFamily(),$n=_t.fontFeatureSettings,Pi=Be.get(109)||_t.fontSize,Ii=Be.get(110)||_t.lineHeight,ii=_t.fontWeight,ee=`${Ii}px`,_e=`${_t.letterSpacing}px`;Wt.root.style.fontSize=`${Pi}px`,Wt.root.style.fontWeight=ii,Wt.root.style.letterSpacing=_e,Yt.style.fontFamily=vn,Yt.style.fontFeatureSettings=$n,Yt.style.lineHeight=ee,Wt.icon.style.height=ee,Wt.icon.style.width=ee,Wt.readMore.style.height=ee,Wt.readMore.style.width=ee};return gn(),Wt.disposables.add(this._editor.onDidChangeConfiguration(Be=>{(Be.hasChanged(46)||Be.hasChanged(109)||Be.hasChanged(110))&&gn()})),Wt}renderElement(Ct,Wt,jt){const{completion:Yt}=Ct;jt.root.id=Pn(Wt),jt.colorspan.style.backgroundColor="";const gn={labelEscapeNewLines:!0,matches:(0,fi.mB)(Ct.score)},Be=[];if(19===Yt.kind&&zn.extract(Ct,Be))jt.icon.className="icon customcolor",jt.iconContainer.className="icon hide",jt.colorspan.style.backgroundColor=Be[0];else if(20===Yt.kind&&this._themeService.getFileIconTheme().hasFileIcons){jt.icon.className="icon hide",jt.iconContainer.className="icon hide";const _t=Lo(this._modelService,this._languageService,ri.o.from({scheme:"fake",path:Ct.textLabel}),oo.FILE),vn=Lo(this._modelService,this._languageService,ri.o.from({scheme:"fake",path:Yt.detail}),oo.FILE);gn.extraClasses=_t.length>vn.length?_t:vn}else 23===Yt.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(jt.icon.className="icon hide",jt.iconContainer.className="icon hide",gn.extraClasses=[Lo(this._modelService,this._languageService,ri.o.from({scheme:"fake",path:Ct.textLabel}),oo.FOLDER),Lo(this._modelService,this._languageService,ri.o.from({scheme:"fake",path:Yt.detail}),oo.FOLDER)].flat()):(jt.icon.className="icon hide",jt.iconContainer.className="",jt.iconContainer.classList.add("suggest-icon",...pt.dT.asClassNameArray(_i.gX.toIcon(Yt.kind))));Yt.tags&&Yt.tags.indexOf(1)>=0&&(gn.extraClasses=(gn.extraClasses||[]).concat(["deprecated"]),gn.matches=[]),jt.iconLabel.setLabel(Ct.textLabel,void 0,gn),"string"==typeof Yt.label?(jt.parametersLabel.textContent="",jt.detailsLabel.textContent=Ei(Yt.detail||""),jt.root.classList.add("string-label")):(jt.parametersLabel.textContent=Ei(Yt.label.detail||""),jt.detailsLabel.textContent=Ei(Yt.label.description||""),jt.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,fe.$Z)(jt.detailsLabel):(0,fe.Cp)(jt.detailsLabel),an(Ct)?(jt.right.classList.add("can-expand-details"),(0,fe.$Z)(jt.readMore),jt.readMore.onmousedown=_t=>{_t.stopPropagation(),_t.preventDefault()},jt.readMore.onclick=_t=>{_t.stopPropagation(),_t.preventDefault(),this._onDidToggleDetails.fire()}):(jt.right.classList.remove("can-expand-details"),(0,fe.Cp)(jt.readMore),jt.readMore.onmousedown=null,jt.readMore.onclick=null)}disposeTemplate(Ct){Ct.disposables.dispose()}};function Ei(bn){return bn.replace(/\r\n|\r|\n/g,"")}bi=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([cn(1,wt.q),cn(2,Dt.O),cn(3,we.XE)],bi);var Oi=function(bn,Ct){return function(Wt,jt){Ct(Wt,jt,bn)}};(0,ie.P6G)("editorSuggestWidget.background",{dark:ie.D0T,light:ie.D0T,hcDark:ie.D0T,hcLight:ie.D0T},k.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,ie.P6G)("editorSuggestWidget.border",{dark:ie.D1_,light:ie.D1_,hcDark:ie.D1_,hcLight:ie.D1_},k.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const ro=(0,ie.P6G)("editorSuggestWidget.foreground",{dark:ie.NOs,light:ie.NOs,hcDark:ie.NOs,hcLight:ie.NOs},k.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Oo=((0,ie.P6G)("editorSuggestWidget.selectedForeground",{dark:ie.NPS,light:ie.NPS,hcDark:ie.NPS,hcLight:ie.NPS},k.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,ie.P6G)("editorSuggestWidget.selectedIconForeground",{dark:ie.cbQ,light:ie.cbQ,hcDark:ie.cbQ,hcLight:ie.cbQ},k.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,ie.P6G)("editorSuggestWidget.selectedBackground",{dark:ie.Vqd,light:ie.Vqd,hcDark:ie.Vqd,hcLight:ie.Vqd},k.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,ie.P6G)("editorSuggestWidget.highlightForeground",{dark:ie.Gwp,light:ie.Gwp,hcDark:ie.Gwp,hcLight:ie.Gwp},k.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,ie.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:ie.PX0,light:ie.PX0,hcDark:ie.PX0,hcLight:ie.PX0},k.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,ie.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,ie.ZnX)(ro,.5),light:(0,ie.ZnX)(ro,.5),hcDark:(0,ie.ZnX)(ro,.5),hcLight:(0,ie.ZnX)(ro,.5)},k.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Ho{constructor(Ct,Wt){this._service=Ct,this._key=`suggestWidget.size/${Wt.getEditorType()}/${Wt instanceof bt.H}`}restore(){var Ct;const Wt=null!==(Ct=this._service.get(this._key,0))&&void 0!==Ct?Ct:"";try{const jt=JSON.parse(Wt);if(fe.Ro.is(jt))return fe.Ro.lift(jt)}catch{}}store(Ct){this._service.store(this._key,JSON.stringify(Ct),0,1)}reset(){this._service.remove(this._key,0)}}let ni=class iu{constructor(Ct,Wt,jt,Yt,gn){this.editor=Ct,this._storageService=Wt,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new l._F,this._disposables=new S.SL,this._onDidSelect=new I.Q5,this._onDidFocus=new I.Q5,this._onDidHide=new I.Q5,this._onDidShow=new I.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new I.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new He,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Zt(this,Ct),this._persistedSize=new Ho(Wt,Ct);class Be{constructor(Ut,F,ee=!1,_e=!1){this.persistedSize=Ut,this.currentSize=F,this.persistHeight=ee,this.persistWidth=_e}}let _t;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),_t=new Be(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(ii=>{var Ut,F,ee,_e;if(this._resize(ii.dimension.width,ii.dimension.height),_t&&(_t.persistHeight=_t.persistHeight||!!ii.north||!!ii.south,_t.persistWidth=_t.persistWidth||!!ii.east||!!ii.west),ii.done){if(_t){const{itemHeight:Qe,defaultSize:qe}=this.getLayoutInfo(),ct=Math.round(Qe/2);let{width:rn,height:Gt}=this.element.size;(!_t.persistHeight||Math.abs(_t.currentSize.height-Gt)<=ct)&&(Gt=null!==(F=null===(Ut=_t.persistedSize)||void 0===Ut?void 0:Ut.height)&&void 0!==F?F:qe.height),(!_t.persistWidth||Math.abs(_t.currentSize.width-rn)<=ct)&&(rn=null!==(_e=null===(ee=_t.persistedSize)||void 0===ee?void 0:ee.width)&&void 0!==_e?_e:qe.width),this._persistedSize.store(new fe.Ro(rn,Gt))}this._contentWidget.unlockPreference(),_t=void 0}})),this._messageElement=fe.R3(this.element.domNode,fe.$(".message")),this._listElement=fe.R3(this.element.domNode,fe.$(".tree"));const vn=gn.createInstance(Kn,this.editor);vn.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Gn(vn,this.editor);const $n=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);$n();const Pi=gn.createInstance(bi,this.editor);this._disposables.add(Pi),this._disposables.add(Pi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Je.aV("SuggestWidget",this._listElement,{getHeight:ii=>this.getLayoutInfo().itemHeight,getTemplateId:ii=>"suggestion"},[Pi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>k.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:ii=>{let Ut=ii.textLabel;if("string"!=typeof ii.completion.label){const{detail:Qe,description:qe}=ii.completion.label;Qe&&qe?Ut=k.NC("label.full","{0}{1}, {2}",Ut,Qe,qe):Qe?Ut=k.NC("label.detail","{0}{1}",Ut,Qe):qe&&(Ut=k.NC("label.desc","{0}, {1}",Ut,qe))}if(!ii.isResolved||!this._isDetailsVisible())return Ut;const{documentation:F,detail:ee}=ii.completion,_e=R.WU("{0}{1}",ee||"",F?"string"==typeof F?F:F.value:"");return k.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Ut,_e)}}}),this._status=gn.createInstance(Ft,this.element.domNode);const Ii=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);Ii(),this._disposables.add((0,te.Jl)(this._list,Yt,{listInactiveFocusBackground:Oo,listInactiveFocusOutline:ie.xL1})),this._disposables.add(Yt.onDidColorThemeChange(ii=>this._onThemeChange(ii))),this._onThemeChange(Yt.getColorTheme()),this._disposables.add(this._list.onMouseDown(ii=>this._onListMouseDownOrTap(ii))),this._disposables.add(this._list.onTap(ii=>this._onListMouseDownOrTap(ii))),this._disposables.add(this._list.onDidChangeSelection(ii=>this._onListSelection(ii))),this._disposables.add(this._list.onDidChangeFocus(ii=>this._onListFocus(ii))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(ii=>{ii.hasChanged(108)&&(Ii(),$n())})),this._ctxSuggestWidgetVisible=N._y.Visible.bindTo(jt),this._ctxSuggestWidgetDetailsVisible=N._y.DetailsVisible.bindTo(jt),this._ctxSuggestWidgetMultipleSuggestions=N._y.MultipleSuggestions.bindTo(jt),this._ctxSuggestWidgetHasFocusedSuggestion=N._y.HasFocusedSuggestion.bindTo(jt),this._disposables.add(fe.mu(this._details.widget.domNode,"keydown",ii=>{this._onDetailsKeydown.fire(ii)})),this._disposables.add(this.editor.onMouseDown(ii=>this._onEditorMouseDown(ii)))}dispose(){var Ct;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(Ct=this._loadingTimeout)||void 0===Ct||Ct.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(Ct){this._details.widget.domNode.contains(Ct.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(Ct.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(Ct){typeof Ct.element>"u"||typeof Ct.index>"u"||(Ct.browserEvent.preventDefault(),Ct.browserEvent.stopPropagation(),this._select(Ct.element,Ct.index))}_onListSelection(Ct){Ct.elements.length&&this._select(Ct.elements[0],Ct.indexes[0])}_select(Ct,Wt){const jt=this._completionModel;jt&&(this._onDidSelect.fire({item:Ct,index:Wt,model:jt}),this.editor.focus())}_onThemeChange(Ct){this._details.widget.borderWidth=(0,oe.c3)(Ct.type)?2:1}_onListFocus(Ct){var Wt;if(this._ignoreFocusEvents)return;if(!Ct.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const jt=Ct.elements[0],Yt=Ct.indexes[0];jt!==this._focusedItem&&(null===(Wt=this._currentSuggestionDetails)||void 0===Wt||Wt.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=jt,this._list.reveal(Yt),this._currentSuggestionDetails=(0,l.PG)(gn=>function(bn,Ct,Wt,jt){return new(Wt||(Wt=Promise))(function(gn,Be){function _t(Pi){try{$n(jt.next(Pi))}catch(Ii){Be(Ii)}}function vn(Pi){try{$n(jt.throw(Pi))}catch(Ii){Be(Ii)}}function $n(Pi){Pi.done?gn(Pi.value):function Yt(gn){return gn instanceof Wt?gn:new Wt(function(Be){Be(gn)})}(Pi.value).then(_t,vn)}$n((jt=jt.apply(bn,Ct||[])).next())})}(this,void 0,void 0,function*(){const Be=(0,l.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),_t=gn.onCancellationRequested(()=>Be.dispose()),vn=yield jt.resolve(gn);return Be.dispose(),_t.dispose(),vn})),this._currentSuggestionDetails.then(()=>{Yt>=this._list.length||jt!==this._list.element(Yt)||(this._ignoreFocusEvents=!0,this._list.splice(Yt,1,[jt]),this._list.setFocus([Yt]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Pn(Yt)}))}).catch(f.dL)),this._onDidFocus.fire({item:jt,index:Yt,model:this._completionModel})}_setState(Ct){if(this._state!==Ct)switch(this._state=Ct,this.element.domNode.classList.toggle("frozen",4===Ct),this.element.domNode.classList.remove("message"),Ct){case 0:fe.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=iu.LOADING_MESSAGE,fe.Cp(this._listElement,this._status.element),fe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=iu.NO_SUGGESTIONS_MESSAGE,fe.Cp(this._listElement,this._status.element),fe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:fe.Cp(this._messageElement),fe.$Z(this._listElement,this._status.element),this._show();break;case 5:fe.Cp(this._messageElement),fe.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(Ct,Wt){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!Ct,this._isAuto||(this._loadingTimeout=(0,l.Vg)(()=>this._setState(1),Wt)))}showSuggestions(Ct,Wt,jt,Yt){var gn,Be;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(gn=this._loadingTimeout)||void 0===gn||gn.dispose(),null===(Be=this._currentSuggestionDetails)||void 0===Be||Be.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==Ct&&(this._completionModel=Ct),jt&&2!==this._state&&0!==this._state)return void this._setState(4);const _t=this._completionModel.items.length,vn=0===_t;if(this._ctxSuggestWidgetMultipleSuggestions.set(_t>1),vn)return this._setState(Yt?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(jt?4:3),Wt>=0&&(this._list.reveal(Wt,0),this._list.setFocus([Wt])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(an(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(Ct){this._details.show(),Ct?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var Ct;null===(Ct=this._loadingTimeout)||void 0===Ct||Ct.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Wt=this._persistedSize.restore(),jt=Math.ceil(4.3*this.getLayoutInfo().itemHeight);Wt&&Wt.height<jt&&this._persistedSize.store(Wt.with(void 0,jt))}isFrozen(){return 4===this._state}_afterRender(Ct){null!==Ct?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(Ct){var Wt,jt,Yt;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const gn=fe.D6(document.body),Be=this.getLayoutInfo();Ct||(Ct=Be.defaultSize);let _t=Ct.height,vn=Ct.width;if(this._status.element.style.lineHeight=`${Be.itemHeight}px`,2===this._state||1===this._state)_t=Be.itemHeight+Be.borderHeight,vn=Be.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new fe.Ro(vn,_t),this._contentWidget.setPreference(2);else{const $n=gn.width-Be.borderHeight-2*Be.horizontalPadding;vn>$n&&(vn=$n);const Pi=this._completionModel?this._completionModel.stats.pLabelLen*Be.typicalHalfwidthCharacterWidth:vn,Ii=Be.statusBarHeight+this._list.contentHeight+Be.borderHeight,ii=Be.itemHeight+Be.statusBarHeight,Ut=fe.i(this.editor.getDomNode()),F=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),_e=Math.min(gn.height-(Ut.top+F.top+F.height)-Be.verticalPadding,Ii),Qe=Ut.top+F.top-Be.verticalPadding,qe=Math.min(Qe,Ii);let ct=Math.min(Math.max(qe,_e)+Be.borderHeight,Ii);_t===(null===(Wt=this._cappedHeight)||void 0===Wt?void 0:Wt.capped)&&(_t=this._cappedHeight.wanted),_t<ii&&(_t=ii),_t>ct&&(_t=ct),_t>_e||this._forceRenderingAbove&&Qe>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ct=qe):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ct=_e),this.element.preferredSize=new fe.Ro(Pi,Be.defaultSize.height),this.element.maxSize=new fe.Ro($n,ct),this.element.minSize=new fe.Ro(220,ii),this._cappedHeight=_t===Ii?{wanted:null!==(Yt=null===(jt=this._cappedHeight)||void 0===jt?void 0:jt.wanted)&&void 0!==Yt?Yt:Ct.height,capped:_t}:void 0}this._resize(vn,_t)}_resize(Ct,Wt){const{width:jt,height:Yt}=this.element.maxSize;Ct=Math.min(jt,Ct),Wt=Math.min(Yt,Wt);const{statusBarHeight:gn}=this.getLayoutInfo();this._list.layout(Wt-gn,Ct),this._listElement.style.height=Wt-gn+"px",this.element.layout(Wt,Ct),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var Ct;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(Ct=this._contentWidget.getPosition())||void 0===Ct?void 0:Ct.preference[0]))}getLayoutInfo(){const Ct=this.editor.getOption(46),Wt=(0,vt.uZ)(this.editor.getOption(110)||Ct.lineHeight,8,1e3),jt=this.editor.getOption(108).showStatusBar&&2!==this._state&&1!==this._state?Wt:0,Yt=this._details.widget.borderWidth,gn=2*Yt;return{itemHeight:Wt,statusBarHeight:jt,borderWidth:Yt,borderHeight:gn,typicalHalfwidthCharacterWidth:Ct.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new fe.Ro(430,jt+12*Wt+gn)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(Ct){this._storageService.store("expandSuggestionDocs",Ct,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};ni.LOADING_MESSAGE=k.NC("suggestWidget.loading","Loading..."),ni.NO_SUGGESTIONS_MESSAGE=k.NC("suggestWidget.noSuggestions","No suggestions."),ni=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([Oi(1,Le.Uy),Oi(2,E.i6),Oi(3,we.XE),Oi(4,H.TG)],ni);class Zt{constructor(Ct,Wt){this._widget=Ct,this._editor=Wt,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:Ct,width:Wt}=this._widget.element.size,{borderWidth:jt,horizontalPadding:Yt}=this._widget.getLayoutInfo();return new fe.Ro(Wt+2*jt+Yt,Ct+2*jt)}afterRender(Ct){this._widget._afterRender(Ct)}setPreference(Ct){this._preferenceLocked||(this._preference=Ct)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(Ct){this._position=Ct}}var sn=e(50540),Bn=function(bn,Ct){return function(Wt,jt){Ct(Wt,jt,bn)}};class un{constructor(Ct,Wt){if(this._model=Ct,this._position=Wt,Ct.getLineMaxColumn(Wt.lineNumber)!==Wt.column){const Yt=Ct.getOffsetAt(Wt),gn=Ct.getPositionAt(Yt+1);this._marker=Ct.deltaDecorations([],[{range:y.e.fromPositions(Wt,gn),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Ct){if(this._model.isDisposed()||this._position.lineNumber!==Ct.lineNumber)return 0;if(this._marker){const Wt=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Wt.getStartPosition())-this._model.getOffsetAt(Ct)}return this._model.getLineMaxColumn(Ct.lineNumber)-Ct.column}}let ht=class ju{constructor(Ct,Wt,jt,Yt,gn,Be,_t){this._memoryService=Wt,this._commandService=jt,this._contextKeyService=Yt,this._instantiationService=gn,this._logService=Be,this._telemetryService=_t,this._lineSuffix=new S.XK,this._toDispose=new S.SL,this._selectors=new Kt(Ii=>Ii.priority),this._telemetryGate=0,this.editor=Ct,this.model=gn.createInstance(Ze,this.editor);const vn=N._y.InsertMode.bindTo(Yt);vn.set(Ct.getOption(108).insertMode),this.model.onDidTrigger(()=>vn.set(Ct.getOption(108).insertMode)),this.widget=this._toDispose.add(new l.Ue(()=>{const Ii=this._instantiationService.createInstance(ni,this.editor);this._toDispose.add(Ii),this._toDispose.add(Ii.onDidSelect(_e=>this._insertSuggestion(_e,0),this));const ii=new q(this.editor,Ii,_e=>this._insertSuggestion(_e,2));this._toDispose.add(ii),this._toDispose.add(this.model.onDidSuggest(_e=>{0===_e.completionModel.items.length&&ii.reset()}));const Ut=N._y.MakesTextEdit.bindTo(this._contextKeyService),F=N._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ee=N._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,S.OF)(()=>{Ut.reset(),F.reset(),ee.reset()})),this._toDispose.add(Ii.onDidFocus(({item:_e})=>{const Qe=this.editor.getPosition(),qe=_e.editStart.column,ct=Qe.column;let rn=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!_e.completion.additionalTextEdits&&!(4&_e.completion.insertTextRules)&&ct-qe===_e.completion.insertText.length&&(rn=this.editor.getModel().getValueInRange({startLineNumber:Qe.lineNumber,startColumn:qe,endLineNumber:Qe.lineNumber,endColumn:ct})!==_e.completion.insertText),Ut.set(rn),F.set(!d.L.equals(_e.editInsertEnd,_e.editReplaceEnd)),ee.set(!!_e.provider.resolveCompletionItem||!!_e.completion.documentation||_e.completion.detail!==_e.completion.label)})),this._toDispose.add(Ii.onDetailsKeyDown(_e=>{_e.toKeybinding().equals(new b.QC(!0,!1,!1,!1,33))||D.dz&&_e.toKeybinding().equals(new b.QC(!1,!1,!1,!0,33))?_e.stopPropagation():_e.toKeybinding().isModifierKey()||this.editor.focus()})),Ii})),this._overtypingCapturer=this._toDispose.add(new l.Ue(()=>this._toDispose.add(new ze(this.editor,this.model)))),this._alternatives=this._toDispose.add(new l.Ue(()=>this._toDispose.add(new $(this.editor,this._contextKeyService)))),this._toDispose.add(gn.createInstance(A,Ct)),this._toDispose.add(this.model.onDidTrigger(Ii=>{this.widget.value.showTriggered(Ii.auto,Ii.shy?250:50),this._lineSuffix.value=new un(this.editor.getModel(),Ii.position)})),this._toDispose.add(this.model.onDidSuggest(Ii=>{if(Ii.shy)return;let ii=-1;if(!Ii.noSelect){for(const Ut of this._selectors.itemsOrderedByPriorityDesc)if(ii=Ut.select(this.editor.getModel(),this.editor.getPosition(),Ii.completionModel.items),-1!==ii)break;-1===ii&&(ii=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Ii.completionModel.items))}this.widget.value.showSuggestions(Ii.completionModel,ii,Ii.isFrozen,Ii.auto)})),this._toDispose.add(this.model.onDidCancel(Ii=>{Ii.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const $n=N._y.AcceptSuggestionsOnEnter.bindTo(Yt),Pi=()=>{const Ii=this.editor.getOption(1);$n.set("on"===Ii||"smart"===Ii)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Pi())),Pi()}static get(Ct){return Ct.getContribution(ju.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Ct,Wt){if(!Ct||!Ct.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const jt=v.SnippetController2.get(this.editor);if(!jt)return;const Yt=this.editor.getModel(),gn=Yt.getAlternativeVersionId(),{item:Be}=Ct,_t=[],vn=new C.A;1&Wt||this.editor.pushUndoStop();const $n=this.getOverwriteInfo(Be,!!(8&Wt));if(this._memoryService.memorize(Yt,this.editor.getPosition(),Be),Array.isArray(Be.completion.additionalTextEdits)){const Ii=a.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Be.completion.additionalTextEdits.map(ii=>n.h.replaceMove(y.e.lift(ii.range),ii.text))),Ii.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Be.isResolved){const Ii=new _.G(!0);let ii;const Ut=Yt.onDidChangeContent(Qe=>{if(Qe.isFlush)return vn.cancel(),void Ut.dispose();for(const qe of Qe.changes){const ct=y.e.getEndPosition(qe.range);(!ii||d.L.isBefore(ct,ii))&&(ii=ct)}}),F=Wt;Wt|=2;let ee=!1;const _e=this.editor.onWillType(()=>{_e.dispose(),ee=!0,2&F||this.editor.pushUndoStop()});_t.push(Be.resolve(vn.token).then(()=>{if(!Be.completion.additionalTextEdits||vn.token.isCancellationRequested||ii&&Be.completion.additionalTextEdits.some(qe=>d.L.isBefore(ii,y.e.getStartPosition(qe.range))))return!1;ee&&this.editor.pushUndoStop();const Qe=a.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Be.completion.additionalTextEdits.map(qe=>n.h.replaceMove(y.e.lift(qe.range),qe.text))),Qe.restoreRelativeVerticalPositionOfCursor(this.editor),(ee||!(2&F))&&this.editor.pushUndoStop(),!0}).then(Qe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Ii.elapsed(),Qe),Ut.dispose(),_e.dispose()}))}let{insertText:Pi}=Be.completion;4&Be.completion.insertTextRules||(Pi=m.Yj.escape(Pi)),jt.insert(Pi,{overwriteBefore:$n.overwriteBefore,overwriteAfter:$n.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&Be.completion.insertTextRules),clipboardText:Ct.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&Wt||this.editor.pushUndoStop(),Be.completion.command?Be.completion.command.id===nn.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(_t.push(this._commandService.executeCommand(Be.completion.command.id,...Be.completion.command.arguments?[...Be.completion.command.arguments]:[]).catch(f.dL)),this.model.cancel()):this.model.cancel(),4&Wt&&this._alternatives.value.set(Ct,Ii=>{for(vn.cancel();Yt.canUndo();){gn!==Yt.getAlternativeVersionId()&&Yt.undo(),this._insertSuggestion(Ii,3|(8&Wt?8:0));break}}),this._alertCompletionItem(Be),Promise.all(_t).finally(()=>{this._reportSuggestionAcceptedTelemetry(Be,Yt,Ct),this.model.clear(),vn.dispose()})}_reportSuggestionAcceptedTelemetry(Ct,Wt,jt){var Yt;if(this._telemetryGate++%100!=0)return;const gn=Ct.extensionId?Ct.extensionId.value:(null!==(Yt=jt.item.provider._debugDisplayName)&&void 0!==Yt?Yt:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:gn,kind:Ct.completion.kind,basenameHash:(0,sn.vp)((0,Zi.EZ)(Wt.uri)).toString(16),languageId:Wt.getLanguageId(),fileExtension:(0,Zi.DZ)(Wt.uri)})}getOverwriteInfo(Ct,Wt){(0,r.p_)(this.editor.hasModel());let jt="replace"===this.editor.getOption(108).insertMode;Wt&&(jt=!jt);const gn=(jt?Ct.editReplaceEnd.column:Ct.editInsertEnd.column)-Ct.position.column;return{overwriteBefore:Ct.position.column-Ct.editStart.column+(this.editor.getPosition().column-Ct.position.column),overwriteAfter:gn+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(Ct){if((0,t.Of)(Ct.completion.additionalTextEdits)){const Wt=k.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",Ct.textLabel,Ct.completion.additionalTextEdits.length);(0,s.Z9)(Wt)}}triggerSuggest(Ct,Wt,jt,Yt){this.editor.hasModel()&&(this.model.trigger({auto:Wt??!1,shy:!1,noSelect:Yt??!1},!1,Ct,void 0,jt),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Ct){if(!this.editor.hasModel())return;const Wt=this.editor.getPosition(),jt=()=>{Wt.equals(this.editor.getPosition())&&this._commandService.executeCommand(Ct.fallback)},Yt=gn=>{if(4&gn.completion.insertTextRules||gn.completion.additionalTextEdits)return!0;const Be=this.editor.getPosition(),_t=gn.editStart.column,vn=Be.column;return vn-_t!==gn.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:Be.lineNumber,startColumn:_t,endLineNumber:Be.lineNumber,endColumn:vn})!==gn.completion.insertText};I.ju.once(this.model.onDidTrigger)(gn=>{const Be=[];I.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,S.B9)(Be),jt()},void 0,Be),this.model.onDidSuggest(({completionModel:_t})=>{if((0,S.B9)(Be),0===_t.items.length)return void jt();const vn=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),_t.items),$n=_t.items[vn];Yt($n)?(this.editor.pushUndoStop(),this._insertSuggestion({index:vn,item:$n,model:_t},7)):jt()},void 0,Be)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(Wt,0),this.editor.focus()}acceptSelectedSuggestion(Ct,Wt){const jt=this.widget.value.getFocusedItem();let Yt=0;Ct&&(Yt|=4),Wt&&(Yt|=8),this._insertSuggestion(jt,Yt)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(Ct){return this._selectors.register(Ct)}};ht.ID="editor.contrib.suggestController",ht=function(bn,Ct,Wt,jt){var Be,Yt=arguments.length,gn=Yt<3?Ct:null===jt?jt=Object.getOwnPropertyDescriptor(Ct,Wt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gn=Reflect.decorate(bn,Ct,Wt,jt);else for(var _t=bn.length-1;_t>=0;_t--)(Be=bn[_t])&&(gn=(Yt<3?Be(gn):Yt>3?Be(Ct,Wt,gn):Be(Ct,Wt))||gn);return Yt>3&&gn&&Object.defineProperty(Ct,Wt,gn),gn}([Bn(1,w.Fh),Bn(2,W.Hy),Bn(3,E.i6),Bn(4,H.TG),Bn(5,z.VZ),Bn(6,xe.b)],ht);class Kt{constructor(Ct){this.prioritySelector=Ct,this._items=new Array}register(Ct){if(-1!==this._items.indexOf(Ct))throw new Error("Value is already registered");return this._items.push(Ct),this._items.sort((Wt,jt)=>this.prioritySelector(jt)-this.prioritySelector(Wt)),{dispose:()=>{const Wt=this._items.indexOf(Ct);Wt>=0&&this._items.splice(Wt,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let nn=(()=>{class bn extends u.R6{constructor(){super({id:bn.id,label:k.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:E.Ao.and(g.u.writable,g.u.hasCompletionItemProvider),kbOpts:{kbExpr:g.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Wt,jt,Yt){const gn=ht.get(jt);if(!gn)return;let Be,_t;Yt&&"object"==typeof Yt&&(!0===Yt.auto&&(Be=!0),!0===Yt.noSelection&&(_t=!0)),gn.triggerSuggest(void 0,Be,void 0,_t)}}return bn.id="editor.action.triggerSuggest",bn})();(0,u._K)(ht.ID,ht),(0,u.Qr)(nn);const Dn=190,In=u._l.bindToContribution(ht.get);(0,u.fK)(new In({id:"acceptSelectedSuggestion",precondition:E.Ao.and(N._y.Visible,N._y.HasFocusedSuggestion),handler(bn){bn.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:E.Ao.and(N._y.Visible,g.u.textInputFocus),weight:Dn},{primary:3,kbExpr:E.Ao.and(N._y.Visible,g.u.textInputFocus,N._y.AcceptSuggestionsOnEnter,N._y.MakesTextEdit),weight:Dn}],menuOpts:[{menuId:N.GI,title:k.NC("accept.insert","Insert"),group:"left",order:1,when:N._y.HasInsertAndReplaceRange.toNegated()},{menuId:N.GI,title:k.NC("accept.insert","Insert"),group:"left",order:1,when:E.Ao.and(N._y.HasInsertAndReplaceRange,N._y.InsertMode.isEqualTo("insert"))},{menuId:N.GI,title:k.NC("accept.replace","Replace"),group:"left",order:1,when:E.Ao.and(N._y.HasInsertAndReplaceRange,N._y.InsertMode.isEqualTo("replace"))}]})),(0,u.fK)(new In({id:"acceptAlternativeSelectedSuggestion",precondition:E.Ao.and(N._y.Visible,g.u.textInputFocus,N._y.HasFocusedSuggestion),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:1027,secondary:[1026]},handler(bn){bn.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:N.GI,group:"left",order:2,when:E.Ao.and(N._y.HasInsertAndReplaceRange,N._y.InsertMode.isEqualTo("insert")),title:k.NC("accept.replace","Replace")},{menuId:N.GI,group:"left",order:2,when:E.Ao.and(N._y.HasInsertAndReplaceRange,N._y.InsertMode.isEqualTo("replace")),title:k.NC("accept.insert","Insert")}]})),W.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,u.fK)(new In({id:"hideSuggestWidget",precondition:N._y.Visible,handler:bn=>bn.cancelSuggestWidget(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:9,secondary:[1033]}})),(0,u.fK)(new In({id:"selectNextSuggestion",precondition:E.Ao.and(N._y.Visible,N._y.MultipleSuggestions),handler:bn=>bn.selectNextSuggestion(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,u.fK)(new In({id:"selectNextPageSuggestion",precondition:E.Ao.and(N._y.Visible,N._y.MultipleSuggestions),handler:bn=>bn.selectNextPageSuggestion(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:12,secondary:[2060]}})),(0,u.fK)(new In({id:"selectLastSuggestion",precondition:E.Ao.and(N._y.Visible,N._y.MultipleSuggestions),handler:bn=>bn.selectLastSuggestion()})),(0,u.fK)(new In({id:"selectPrevSuggestion",precondition:E.Ao.and(N._y.Visible,N._y.MultipleSuggestions),handler:bn=>bn.selectPrevSuggestion(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,u.fK)(new In({id:"selectPrevPageSuggestion",precondition:E.Ao.and(N._y.Visible,N._y.MultipleSuggestions),handler:bn=>bn.selectPrevPageSuggestion(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:11,secondary:[2059]}})),(0,u.fK)(new In({id:"selectFirstSuggestion",precondition:E.Ao.and(N._y.Visible,N._y.MultipleSuggestions),handler:bn=>bn.selectFirstSuggestion()})),(0,u.fK)(new In({id:"toggleSuggestionDetails",precondition:N._y.Visible,handler:bn=>bn.toggleSuggestionDetails(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:N.GI,group:"right",order:1,when:E.Ao.and(N._y.DetailsVisible,N._y.CanResolve),title:k.NC("detail.more","show less")},{menuId:N.GI,group:"right",order:1,when:E.Ao.and(N._y.DetailsVisible.toNegated(),N._y.CanResolve),title:k.NC("detail.less","show more")}]})),(0,u.fK)(new In({id:"toggleExplainMode",precondition:N._y.Visible,handler:bn=>bn.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,u.fK)(new In({id:"toggleSuggestionFocus",precondition:N._y.Visible,handler:bn=>bn.toggleSuggestionFocus(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,u.fK)(new In({id:"insertBestCompletion",precondition:E.Ao.and(g.u.textInputFocus,E.Ao.equals("config.editor.tabCompletion","on"),A.AtEnd,N._y.Visible.toNegated(),$.OtherSuggestions.toNegated(),v.SnippetController2.InSnippetMode.toNegated()),handler:(bn,Ct)=>{bn.triggerSuggestAndAcceptBest((0,r.Kn)(Ct)?Object.assign({fallback:"tab"},Ct):{fallback:"tab"})},kbOpts:{weight:Dn,primary:2}})),(0,u.fK)(new In({id:"insertNextSuggestion",precondition:E.Ao.and(g.u.textInputFocus,E.Ao.equals("config.editor.tabCompletion","on"),$.OtherSuggestions,N._y.Visible.toNegated(),v.SnippetController2.InSnippetMode.toNegated()),handler:bn=>bn.acceptNextSuggestion(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:2}})),(0,u.fK)(new In({id:"insertPrevSuggestion",precondition:E.Ao.and(g.u.textInputFocus,E.Ao.equals("config.editor.tabCompletion","on"),$.OtherSuggestions,N._y.Visible.toNegated(),v.SnippetController2.InSnippetMode.toNegated()),handler:bn=>bn.acceptPrevSuggestion(),kbOpts:{weight:Dn,kbExpr:g.u.textInputFocus,primary:1026}})),(0,u.Qr)(class extends u.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:k.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(bn,Ct){var Wt;null===(Wt=ht.get(Ct))||void 0===Wt||Wt.resetWidgetSize()}})},99278:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{SuggestInlineCompletions:()=>E});var s=e(71943),t=e(19623),l=e(61777),C=e(21576),f=e(95102),I=e(60896),b=e(88154),S=e(13154),D=e(16245),_=e(81856),r=e(10446),a=e(11959),u=e(81279),n=e(21611),d=e(30888),y=function(x,A,k,W){var N,H=arguments.length,z=H<3?A:null===W?W=Object.getOwnPropertyDescriptor(A,k):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(x,A,k,W);else for(var O=x.length-1;O>=0;O--)(N=x[O])&&(z=(H<3?N(z):H>3?N(A,k,z):N(A,k))||z);return H>3&&z&&Object.defineProperty(A,k,z),z},g=function(x,A){return function(k,W){A(k,W,x)}};class m{constructor(A,k,W,H,z,N){this.range=A,this.insertText=k,this.filterText=W,this.additionalTextEdits=H,this.command=z,this.completion=N}}let w=class extends C.L6{constructor(A,k,W,H,z,N){super(z.disposable),this.model=A,this.line=k,this.word=W,this.completionModel=H,this._suggestMemoryService=N}canBeReused(A,k,W){return this.model===A&&this.line===k&&this.word.word.length>0&&this.word.startColumn===W.startColumn&&this.word.endColumn<W.endColumn&&0===this.completionModel.incomplete.size}get items(){var A;const k=[],{items:W}=this.completionModel,H=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},W),z=l.$.slice(W,H),N=l.$.slice(W,0,H);let O=5;for(const K of l.$.concat(z,N)){if(K.score===t.CL.Default)continue;const $=new b.e(K.editStart.lineNumber,K.editStart.column,K.editInsertEnd.lineNumber,K.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta);k.push(new m($,K.completion.insertTextRules&&K.completion.insertTextRules&D.a7.InsertAsSnippet?{snippet:K.completion.insertText}:K.completion.insertText,null!==(A=K.filterTextLow)&&void 0!==A?A:K.labelLow,K.completion.additionalTextEdits,K.completion.command,K)),O-- >=0&&K.resolve(s.T.None)}return k}};w=y([g(5,a.Fh)],w);let E=class{constructor(A,k,W,H){this._getEditorOption=A,this._languageFeatureService=k,this._clipboardService=W,this._suggestMemoryService=H}provideInlineCompletions(A,k,W,H){var z;return function(x,A,k,W){return new(k||(k=Promise))(function(z,N){function O(j){try{$(W.next(j))}catch(q){N(q)}}function K(j){try{$(W.throw(j))}catch(q){N(q)}}function $(j){j.done?z(j.value):function H(z){return z instanceof k?z:new k(function(N){N(z)})}(j.value).then(O,K)}$((W=W.apply(x,A||[])).next())})}(this,void 0,void 0,function*(){if(W.selectedSuggestionInfo)return;const N=this._getEditorOption(81,A);if(r.tG.isAllOff(N))return;A.tokenization.tokenizeIfCheap(k.lineNumber);const O=A.tokenization.getLineTokens(k.lineNumber),K=O.getStandardTokenType(O.findTokenIndexAtOffset(Math.max(k.column-1-1,0)));if("inline"!==r.tG.valueFor(N,K))return;let j,q,$=A.getWordAtPosition(k);if($?.word||(j=this._getTriggerCharacterInfo(A,k)),!$?.word&&!j||($||($=A.getWordUntilPosition(k)),$.endColumn!==k.column))return;const R=A.getValueInRange(new b.e(k.lineNumber,1,k.lineNumber,k.column));if(!j&&null!==(z=this._lastResult)&&void 0!==z&&z.canBeReused(A,k.lineNumber,$)){const Z=new _.t(R,k.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=Z,this._lastResult.acquire(),q=this._lastResult}else{const Z=yield(0,r.kL)(this._languageFeatureService.completionProvider,A,k,new r.A9(void 0,void 0,j?.providers),j&&{triggerKind:1,triggerCharacter:j.ch},H);let J;Z.needsClipboard&&(J=yield this._clipboardService.readText());const Ce=new _._(Z.items,k.column,new _.t(R,0),u.K.None,this._getEditorOption(108,A),this._getEditorOption(103,A),{boostFullMatch:!1,firstMatchCanBeWeak:!1},J);q=new w(A,k.lineNumber,$,Ce,Z,this._suggestMemoryService)}return this._lastResult=q,q})}handleItemDidShow(A,k){k.completion.resolve(s.T.None)}freeInlineCompletions(A){A.release()}_getTriggerCharacterInfo(A,k){var W;const H=A.getValueInRange(b.e.fromPositions({lineNumber:k.lineNumber,column:k.column-1},k)),z=new Set;for(const N of this._languageFeatureService.completionProvider.all(A))null!==(W=N.triggerCharacters)&&void 0!==W&&W.includes(H)&&z.add(N);if(0!==z.size)return{providers:z,ch:H}}};E=y([g(1,S.p),g(2,n.p),g(3,a.Fh)],E);let L=class dd{constructor(A,k,W,H){if(1==++dd._counter){const z=H.createInstance(E,(N,O)=>{var K;return(null!==(K=W.listCodeEditors().find(j=>j.getModel()===O))&&void 0!==K?K:A).getOption(N)});dd._disposable=k.inlineCompletionsProvider.register("*",z)}}dispose(){var A;0==--dd._counter&&(null===(A=dd._disposable)||void 0===A||A.dispose(),dd._disposable=void 0)}};L._counter=0,L=y([g(1,S.p),g(2,I.$),g(3,d.TG)],L),(0,f._K)("suggest.inlineCompletionsProvider",L)},11959:(yt,T,e)=>{"use strict";e.d(T,{Fh:()=>y});var s=e(41883),t=e(21576),l=e(63312),C=e(64050),f=e(56767),I=e(53708),b=e(30888),S=e(22735),_=function(g,v){return function(m,w){v(m,w,g)}};class r{constructor(v){this.name=v}select(v,m,w){if(0===w.length)return 0;const E=w[0].score[0];for(let L=0;L<w.length;L++){const{score:x,completion:A}=w[L];if(x[0]!==E)break;if(A.preselect)return L}return 0}}class a extends r{constructor(){super("first")}memorize(v,m,w){}toJSON(){}fromJSON(){}}let d=class dc{constructor(v,m){this._storageService=v,this._configService=m,this._disposables=new t.SL,this._persistSoon=new s.pY(()=>this._saveState(),500),this._disposables.add(v.onWillSaveState(w=>{w.reason===S.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(v,m,w){this._withStrategy(v,m).memorize(v,m,w),this._persistSoon.schedule()}select(v,m,w){return this._withStrategy(v,m).select(v,m,w)}_withStrategy(v,m){var w;const E=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:v.getLanguageIdAtPosition(m.lineNumber,m.column),resource:v.uri});if((null===(w=this._strategy)||void 0===w?void 0:w.name)!==E){this._saveState();const L=dc._strategyCtors.get(E)||a;this._strategy=new L;try{const A=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,k=this._storageService.get(`${dc._storagePrefix}/${E}`,A);k&&this._strategy.fromJSON(JSON.parse(k))}catch{}}return this._strategy}_saveState(){if(this._strategy){const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,w=JSON.stringify(this._strategy);this._storageService.store(`${dc._storagePrefix}/${this._strategy.name}`,w,m,1)}}};d._strategyCtors=new Map([["recentlyUsedByPrefix",class n extends r{constructor(){super("recentlyUsedByPrefix"),this._trie=l.Id.forStrings(),this._seq=0}memorize(v,m,w){const{word:E}=v.getWordUntilPosition(m),L=`${v.getLanguageId()}/${E}`;this._trie.set(L,{type:w.completion.kind,insertText:w.completion.insertText,touch:this._seq++})}select(v,m,w){const{word:E}=v.getWordUntilPosition(m);if(!E)return super.select(v,m,w);const L=`${v.getLanguageId()}/${E}`;let x=this._trie.get(L);if(x||(x=this._trie.findSubstr(L)),x)for(let A=0;A<w.length;A++){const{kind:k,insertText:W}=w[A].completion;if(k===x.type&&W===x.insertText)return A}return super.select(v,m,w)}toJSON(){const v=[];return this._trie.forEach((m,w)=>v.push([w,m])),v.sort((m,w)=>-(m[1].touch-w[1].touch)).forEach((m,w)=>m[1].touch=w),v.slice(0,200)}fromJSON(v){if(this._trie.clear(),v.length>0){this._seq=v[0][1].touch+1;for(const[m,w]of v)w.type="number"==typeof w.type?w.type:C.gX.fromString(w.type),this._trie.set(m,w)}}}],["recentlyUsed",class u extends r{constructor(){super("recentlyUsed"),this._cache=new l.z6(300,.66),this._seq=0}memorize(v,m,w){const E=`${v.getLanguageId()}/${w.textLabel}`;this._cache.set(E,{touch:this._seq++,type:w.completion.kind,insertText:w.completion.insertText})}select(v,m,w){if(0===w.length)return 0;const E=v.getLineContent(m.lineNumber).substr(m.column-10,m.column-1);if(/\s$/.test(E))return super.select(v,m,w);const L=w[0].score[0];let A=-1,k=-1;for(let W=0;W<w.length&&w[W].score[0]===L;W++){const H=`${v.getLanguageId()}/${w[W].textLabel}`,z=this._cache.peek(H);if(z&&z.touch>k&&z.type===w[W].completion.kind&&z.insertText===w[W].completion.insertText&&(k=z.touch,A=W),w[W].completion.preselect)return W}return-1!==A?A:0}toJSON(){return this._cache.toJSON()}fromJSON(v){this._cache.clear();for(const[w,E]of v)E.touch=0,E.type="number"==typeof E.type?E.type:C.gX.fromString(E.type),this._cache.set(w,E);this._seq=this._cache.size}}],["first",a]]),d._storagePrefix="suggest/memories",d=function(g,v,m,w){var x,E=arguments.length,L=E<3?v:null===w?w=Object.getOwnPropertyDescriptor(v,m):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(g,v,m,w);else for(var A=g.length-1;A>=0;A--)(x=g[A])&&(L=(E<3?x(L):E>3?x(v,m,L):x(v,m))||L);return E>3&&L&&Object.defineProperty(v,m,L),L}([_(0,S.Uy),_(1,f.Ui)],d);const y=(0,b.yh)("ISuggestMemories");(0,I.z)(y,d,!0)},81279:(yt,T,e)=>{"use strict";e.d(T,{K:()=>f});var s=e(14940),t=e(88154),l=e(38400);class f{static create(b,S){return function(I,b,S,D){return new(S||(S=Promise))(function(r,a){function u(y){try{d(D.next(y))}catch(g){a(g)}}function n(y){try{d(D.throw(y))}catch(g){a(g)}}function d(y){y.done?r(y.value):function _(r){return r instanceof S?r:new S(function(a){a(r)})}(y.value).then(u,n)}d((D=D.apply(I,b||[])).next())})}(this,void 0,void 0,function*(){if(!S.getOption(108).localityBonus||!S.hasModel())return f.None;const D=S.getModel(),_=S.getPosition();if(!b.canComputeWordRanges(D.uri))return f.None;const[r]=yield(new l.x).provideSelectionRanges(D,[_]);if(0===r.length)return f.None;const a=yield b.computeWordRanges(D.uri,r[0].range);if(!a)return f.None;const u=D.getWordUntilPosition(_);return delete a[u.word],new class extends f{distance(n,d){if(!_.equals(S.getPosition()))return 0;if(17===d.kind)return 2<<20;const g=a["string"==typeof d.label?d.label:d.label.label];if((0,s.XY)(g))return 2<<20;const v=(0,s.ry)(g,t.e.fromPositions(n),t.e.compareRangesUsingStarts),m=v>=0?g[v]:g[Math.max(0,~v-1)];let w=r.length;for(const E of r){if(!t.e.containsRange(E.range,m))break;w-=1}return w}}})}}f.None=new class extends f{distance(){return 0}}},30688:(yt,T,e)=>{"use strict";var s=e(51153),t=e(1200),l=e(6192),C=e(14089);const f=(0,l.P6G)("symbolIcon.arrayForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,l.P6G)("symbolIcon.booleanForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,l.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,t.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,l.P6G)("symbolIcon.colorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,l.P6G)("symbolIcon.constantForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,l.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,t.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r=(0,l.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,t.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,l.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,l.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,t.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,l.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,l.P6G)("symbolIcon.fileForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,l.P6G)("symbolIcon.folderForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,l.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,t.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,l.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,l.P6G)("symbolIcon.keyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,l.P6G)("symbolIcon.keywordForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,l.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,t.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,l.P6G)("symbolIcon.moduleForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,l.P6G)("symbolIcon.namespaceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,l.P6G)("symbolIcon.nullForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,l.P6G)("symbolIcon.numberForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,l.P6G)("symbolIcon.objectForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,l.P6G)("symbolIcon.operatorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,l.P6G)("symbolIcon.packageForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,l.P6G)("symbolIcon.propertyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,l.P6G)("symbolIcon.referenceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K=(0,l.P6G)("symbolIcon.snippetForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,l.P6G)("symbolIcon.stringForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,l.P6G)("symbolIcon.structForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q=(0,l.P6G)("symbolIcon.textForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,l.P6G)("symbolIcon.typeParameterForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,l.P6G)("symbolIcon.unitForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),J=(0,l.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,C.Ic)((Ce,Se)=>{const Ie=Ce.getColor(f);Ie&&Se.addRule(`${s.lA.symbolArray.cssSelector} { color: ${Ie}; }`);const xe=Ce.getColor(I);xe&&Se.addRule(`${s.lA.symbolBoolean.cssSelector} { color: ${xe}; }`);const Me=Ce.getColor(b);Me&&Se.addRule(`${s.lA.symbolClass.cssSelector} { color: ${Me}; }`);const Oe=Ce.getColor(E);Oe&&Se.addRule(`${s.lA.symbolMethod.cssSelector} { color: ${Oe}; }`);const se=Ce.getColor(S);se&&Se.addRule(`${s.lA.symbolColor.cssSelector} { color: ${se}; }`);const ce=Ce.getColor(D);ce&&Se.addRule(`${s.lA.symbolConstant.cssSelector} { color: ${ce}; }`);const Ee=Ce.getColor(_);Ee&&Se.addRule(`${s.lA.symbolConstructor.cssSelector} { color: ${Ee}; }`);const me=Ce.getColor(r);me&&Se.addRule(`\n\t\t\t${s.lA.symbolValue.cssSelector},${s.lA.symbolEnum.cssSelector} { color: ${me}; }`);const Pe=Ce.getColor(a);Pe&&Se.addRule(`${s.lA.symbolEnumMember.cssSelector} { color: ${Pe}; }`);const he=Ce.getColor(u);he&&Se.addRule(`${s.lA.symbolEvent.cssSelector} { color: ${he}; }`);const Fe=Ce.getColor(n);Fe&&Se.addRule(`${s.lA.symbolField.cssSelector} { color: ${Fe}; }`);const Ze=Ce.getColor(d);Ze&&Se.addRule(`${s.lA.symbolFile.cssSelector} { color: ${Ze}; }`);const ze=Ce.getColor(y);ze&&Se.addRule(`${s.lA.symbolFolder.cssSelector} { color: ${ze}; }`);const fe=Ce.getColor(g);fe&&Se.addRule(`${s.lA.symbolFunction.cssSelector} { color: ${fe}; }`);const Ke=Ce.getColor(v);Ke&&Se.addRule(`${s.lA.symbolInterface.cssSelector} { color: ${Ke}; }`);const Je=Ce.getColor(m);Je&&Se.addRule(`${s.lA.symbolKey.cssSelector} { color: ${Je}; }`);const vt=Ce.getColor(w);vt&&Se.addRule(`${s.lA.symbolKeyword.cssSelector} { color: ${vt}; }`);const Et=Ce.getColor(L);Et&&Se.addRule(`${s.lA.symbolModule.cssSelector} { color: ${Et}; }`);const Xe=Ce.getColor(x);Xe&&Se.addRule(`${s.lA.symbolNamespace.cssSelector} { color: ${Xe}; }`);const re=Ce.getColor(A);re&&Se.addRule(`${s.lA.symbolNull.cssSelector} { color: ${re}; }`);const pe=Ce.getColor(k);pe&&Se.addRule(`${s.lA.symbolNumber.cssSelector} { color: ${pe}; }`);const ge=Ce.getColor(W);ge&&Se.addRule(`${s.lA.symbolObject.cssSelector} { color: ${ge}; }`);const de=Ce.getColor(H);de&&Se.addRule(`${s.lA.symbolOperator.cssSelector} { color: ${de}; }`);const Q=Ce.getColor(z);Q&&Se.addRule(`${s.lA.symbolPackage.cssSelector} { color: ${Q}; }`);const ye=Ce.getColor(N);ye&&Se.addRule(`${s.lA.symbolProperty.cssSelector} { color: ${ye}; }`);const Ae=Ce.getColor(O);Ae&&Se.addRule(`${s.lA.symbolReference.cssSelector} { color: ${Ae}; }`);const ft=Ce.getColor(K);ft&&Se.addRule(`${s.lA.symbolSnippet.cssSelector} { color: ${ft}; }`);const dt=Ce.getColor($);dt&&Se.addRule(`${s.lA.symbolString.cssSelector} { color: ${dt}; }`);const it=Ce.getColor(j);it&&Se.addRule(`${s.lA.symbolStruct.cssSelector} { color: ${it}; }`);const et=Ce.getColor(q);et&&Se.addRule(`${s.lA.symbolText.cssSelector} { color: ${et}; }`);const st=Ce.getColor(R);st&&Se.addRule(`${s.lA.symbolTypeParameter.cssSelector} { color: ${st}; }`);const St=Ce.getColor(Z);St&&Se.addRule(`${s.lA.symbolUnit.cssSelector} { color: ${St}; }`);const mt=Ce.getColor(J);mt&&Se.addRule(`${s.lA.symbolVariable.cssSelector} { color: ${mt}; }`)})},18367:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{ToggleTabFocusModeAction:()=>f});var s=e(48460),t=e(74070),l=e(95102),C=e(1200);let f=(()=>{class I extends l.R6{constructor(){super({id:I.ID,label:C.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(S,D){const r=!t.n.getTabFocusMode();t.n.setTabFocusMode(r),(0,s.Z9)(r?C.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):C.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return I.ID="editor.action.toggleTabFocusMode",I})();(0,l.Qr)(f)},18183:(yt,T,e)=>{"use strict";e.r(T);var s=e(44753),t=e(95102),l=e(1200);(0,t.Qr)(class C extends t.R6{constructor(){super({id:"editor.action.forceRetokenize",label:l.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(I,b){if(!b.hasModel())return;const S=b.getModel();S.tokenization.resetTokenization();const D=new s.G(!0);S.tokenization.forceTokenization(S.getLineCount()),D.stop(),console.log(`tokenization took ${D.elapsed()}`)}})},62659:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{DisableHighlightingInCommentsAction:()=>Lt,DisableHighlightingInStringsAction:()=>Ye,DisableHighlightingOfAmbiguousCharactersAction:()=>Tt,DisableHighlightingOfInvisibleCharactersAction:()=>qt,DisableHighlightingOfNonBasicAsciiCharactersAction:()=>Ot,ShowExcludeOptions:()=>Ft,UnicodeHighlighter:()=>Ae,UnicodeHighlighterHoverParticipant:()=>et,warningIcon:()=>ye});var s=e(41883),t=e(51153),l=e(32418),C=e(21576),f=e(84834),I=e(77697),b=e(92123),S=e.n(b),D=e(65057),_=e.n(D),r=e(28764),a=e.n(r),u=e(6557),n=e.n(u),d=e(11146),y=e.n(d),g=e(95085),v=e.n(g),m=e(70389),w={};w.styleTagTransform=v(),w.setAttributes=n(),w.insert=a().bind(null,"head"),w.domAPI=_(),w.insertStyleElement=y(),S()(m.Z,w);var x=e(95102),A=e(11739),k=e(53727),W=e(70172),H=e(80607),z=e(12375),N=e(94740),O=e(46654),K=e(51027),$=e(52644),j={};j.styleTagTransform=v(),j.setAttributes=n(),j.insert=a().bind(null,"head"),j.domAPI=_(),j.insertStyleElement=y(),S()($.Z,j);var Z=e(94418),J=e(3847),Ce=e(36608),Se=e(87060),Ie=e(30888),xe=e(16936),Me=e(47888),Oe=e(52364),se=e(31864),ce=e(78668),Ee=e(6192),me=e(14089);let Fe=class extends C.JT{constructor(oe,we,nt={},He){var De;super(),this._link=we,this._enabled=!0,this.el=(0,Z.R3)(oe,(0,Z.$)("a.monaco-link",{tabIndex:null!==(De=we.tabIndex)&&void 0!==De?De:0,href:we.href,title:we.title},we.label)),this.el.setAttribute("role","button");const pt=this._register(new xe.Y(this.el,"click")),lt=this._register(new xe.Y(this.el,"keypress")),Ht=se.ju.chain(lt.event).map(an=>new Me.y(an)).filter(an=>3===an.keyCode).event,Xt=this._register(new xe.Y(this.el,Oe.t.Tap)).event;this._register(Oe.o.addTarget(this.el));const ut=se.ju.any(pt.event,Ht,Xt);this._register(ut(an=>{this.enabled&&(Z.zB.stop(an,!0),nt?.opener?nt.opener(this._link.href):He.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(oe){oe?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=oe}};var oe;Fe=function(te,oe,we,nt){var pt,He=arguments.length,De=He<3?oe:null===nt?nt=Object.getOwnPropertyDescriptor(oe,we):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(te,oe,we,nt);else for(var lt=te.length-1;lt>=0;lt--)(pt=te[lt])&&(De=(He<3?pt(De):He>3?pt(oe,we,De):pt(oe,we))||De);return He>3&&De&&Object.defineProperty(oe,we,De),De}([(3,oe=ce.v4,function(we,nt){oe(we,nt,3)})],Fe),(0,me.Ic)((te,oe)=>{const we=te.getColor(Ee.url);we&&oe.addRule(`.monaco-link { color: ${we}; }`);const nt=te.getColor(Ee.sgC);nt&&oe.addRule(`.monaco-link:hover { color: ${nt}; }`)});var Ze=e(68762),ze=function(te,oe,we,nt){var pt,He=arguments.length,De=He<3?oe:null===nt?nt=Object.getOwnPropertyDescriptor(oe,we):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(te,oe,we,nt);else for(var lt=te.length-1;lt>=0;lt--)(pt=te[lt])&&(De=(He<3?pt(De):He>3?pt(oe,we,De):pt(oe,we))||De);return He>3&&De&&Object.defineProperty(oe,we,De),De},fe=function(te,oe){return function(we,nt){oe(we,nt,te)}};let Je=class extends C.JT{constructor(oe,we){super(),this._editor=oe,this.instantiationService=we,this.banner=this._register(this.instantiationService.createInstance(vt))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(oe){this.banner.show(Object.assign(Object.assign({},oe),{onClose:()=>{var we;this.hide(),null===(we=oe.onClose)||void 0===we||we.call(oe)}})),this._editor.setBanner(this.banner.element,26)}};Je=ze([fe(1,Ie.TG)],Je);let vt=class extends C.JT{constructor(oe){super(),this.instantiationService=oe,this.markdownRenderer=this.instantiationService.createInstance(Se.$,{}),this.element=(0,Z.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(oe){return oe.ariaLabel?oe.ariaLabel:"string"==typeof oe.message?oe.message:void 0}getBannerMessage(oe){if("string"==typeof oe){const we=(0,Z.$)("span");return we.innerText=oe,we}return this.markdownRenderer.render(oe).element}clear(){(0,Z.PO)(this.element)}show(oe){(0,Z.PO)(this.element);const we=this.getAriaLabel(oe);we&&this.element.setAttribute("aria-label",we);const nt=(0,Z.R3)(this.element,(0,Z.$)("div.icon-container"));nt.setAttribute("aria-hidden","true"),oe.icon&&nt.appendChild((0,Z.$)(`div${me.kS.asCSSSelector(oe.icon)}`));const He=(0,Z.R3)(this.element,(0,Z.$)("div.message-container"));if(He.setAttribute("aria-hidden","true"),He.appendChild(this.getBannerMessage(oe.message)),this.messageActionsContainer=(0,Z.R3)(this.element,(0,Z.$)("div.message-actions-container")),oe.actions)for(const pt of oe.actions)this._register(this.instantiationService.createInstance(Fe,this.messageActionsContainer,Object.assign(Object.assign({},pt),{tabIndex:-1}),{}));const De=(0,Z.R3)(this.element,(0,Z.$)("div.action-container"));this.actionBar=this._register(new J.o(De)),this.actionBar.push(this._register(new Ce.aU("banner.close","Close Banner",me.kS.asClassName(Ze.s_),!0,()=>{"function"==typeof oe.onClose&&oe.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};vt=ze([fe(0,Ie.TG)],vt);var Et=e(1200),Xe=e(56767),re=e(21156),pe=e(61573),ge=function(te,oe,we,nt){var pt,He=arguments.length,De=He<3?oe:null===nt?nt=Object.getOwnPropertyDescriptor(oe,we):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(te,oe,we,nt);else for(var lt=te.length-1;lt>=0;lt--)(pt=te[lt])&&(De=(He<3?pt(De):He>3?pt(oe,we,De):pt(oe,we))||De);return He>3&&De&&Object.defineProperty(oe,we,De),De},de=function(te,oe){return function(we,nt){oe(we,nt,te)}},Q=function(te,oe,we,nt){return new(we||(we=Promise))(function(De,pt){function lt(ut){try{Xt(nt.next(ut))}catch(an){pt(an)}}function Ht(ut){try{Xt(nt.throw(ut))}catch(an){pt(an)}}function Xt(ut){ut.done?De(ut.value):function He(De){return De instanceof we?De:new we(function(pt){pt(De)})}(ut.value).then(lt,Ht)}Xt((nt=nt.apply(te,oe||[])).next())})};const ye=(0,Ze.q5)("extensions-warning-message",t.lA.warning,Et.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let Ae=class extends C.JT{constructor(oe,we,nt,He){super(),this._editor=oe,this._editorWorkerService=we,this._workspaceTrustService=nt,this._highlighter=null,this._bannerClosed=!1,this._updateState=De=>{if(De&&De.hasMore){if(this._bannerClosed)return;const pt=Math.max(De.ambiguousCharacterCount,De.nonBasicAsciiCharacterCount,De.invisibleCharacterCount);let lt;if(De.nonBasicAsciiCharacterCount>=pt)lt={message:Et.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Ot};else if(De.ambiguousCharacterCount>=pt)lt={message:Et.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Tt};else{if(!(De.invisibleCharacterCount>=pt))throw new Error("Unreachable");lt={message:Et.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new qt}}this._bannerController.show({id:"unicodeHighlightBanner",message:lt.message,icon:ye,actions:[{label:lt.command.shortLabel,href:`command:${lt.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(He.createInstance(Je,oe)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=oe.getOption(115),this._register(nt.onDidChangeTrust(De=>{this._updateHighlighter()})),this._register(oe.onDidChangeConfiguration(De=>{De.hasChanged(115)&&(this._options=oe.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const oe=function ft(te,oe){return{nonBasicASCII:oe.nonBasicASCII===A.Av?!te:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments===A.Av?!te:oe.includeComments,includeStrings:oe.includeStrings===A.Av?!te:oe.includeStrings,allowedCharacters:oe.allowedCharacters,allowedLocales:oe.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([oe.nonBasicASCII,oe.ambiguousCharacters,oe.invisibleCharacters].every(nt=>!1===nt))return;const we={nonBasicASCII:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments,includeStrings:oe.includeStrings,allowedCodePoints:Object.keys(oe.allowedCharacters).map(nt=>nt.codePointAt(0)),allowedLocales:Object.keys(oe.allowedLocales).map(nt=>"_os"===nt?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===nt?f.dK:nt)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new dt(this._editor,we,this._updateState,this._editorWorkerService):new it(this._editor,we,this._updateState)}getDecorationInfo(oe){return this._highlighter?this._highlighter.getDecorationInfo(oe):null}};Ae.ID="editor.contrib.unicodeHighlighter",Ae=ge([de(1,H.p),de(2,pe.Y),de(3,Ie.TG)],Ae);let dt=class extends C.JT{constructor(oe,we,nt,He){super(),this._editor=oe,this._options=we,this._updateState=nt,this._editorWorkerService=He,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new s.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const oe=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(we=>{if(this._model.isDisposed()||this._model.getVersionId()!==oe)return;this._updateState(we);const nt=[];if(!we.hasMore)for(const He of we.ranges)nt.push({range:He,options:Bt.instance.getDecorationFromOptions(this._options)});this._decorations.set(nt)})}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const we=this._editor.getModel();return(0,N.Fd)(we,oe)?{reason:bt(we.getValueInRange(oe.range),this._options),inComment:(0,N.$t)(we,oe),inString:(0,N.zg)(we,oe)}:null}};dt=ge([de(3,H.p)],dt);class it extends C.JT{constructor(oe,we,nt){super(),this._editor=oe,this._options=we,this._updateState=nt,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new s.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const oe=this._editor.getVisibleRanges(),we=[],nt={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const He of oe){const De=W.a.computeUnicodeHighlights(this._model,this._options,He);for(const pt of De.ranges)nt.ranges.push(pt);nt.ambiguousCharacterCount+=nt.ambiguousCharacterCount,nt.invisibleCharacterCount+=nt.invisibleCharacterCount,nt.nonBasicAsciiCharacterCount+=nt.nonBasicAsciiCharacterCount,nt.hasMore=nt.hasMore||De.hasMore}if(!nt.hasMore)for(const He of nt.ranges)we.push({range:He,options:Bt.instance.getDecorationFromOptions(this._options)});this._updateState(nt),this._decorations.set(we)}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const we=this._editor.getModel(),nt=we.getValueInRange(oe.range);return(0,N.Fd)(we,oe)?{reason:bt(nt,this._options),inComment:(0,N.$t)(we,oe),inString:(0,N.zg)(we,oe)}:null}}let et=class{constructor(oe,we,nt){this._editor=oe,this._languageService=we,this._openerService=nt,this.hoverOrdinal=4}computeSync(oe,we){if(!this._editor.hasModel()||1!==oe.type)return[];const nt=this._editor.getModel(),He=this._editor.getContribution(Ae.ID);if(!He)return[];const De=[];let pt=300;for(const lt of we){const Ht=He.getDecorationInfo(lt);if(!Ht)continue;const ut=nt.getValueInRange(lt.range).codePointAt(0),an=St(ut);let Kn;switch(Ht.reason.kind){case 0:Kn=Et.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",an,St(Ht.reason.confusableWith.codePointAt(0)));break;case 1:Kn=Et.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",an);break;case 2:Kn=Et.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",an)}const Gn={codePoint:ut,reason:Ht.reason,inComment:Ht.inComment,inString:Ht.inString},li=Et.NC("unicodeHighlight.adjustSettings","Adjust settings"),fi=`command:${Ft.ID}?${encodeURIComponent(JSON.stringify(Gn))}`,ri=new l.W5("",!0).appendMarkdown(Kn).appendText(" ").appendLink(fi,li);De.push(new K.hU(this,lt.range,[ri],pt++))}return De}renderHoverParts(oe,we){return(0,K.c)(oe,we,this._editor,this._languageService,this._openerService)}};function st(te){return`U+${te.toString(16).padStart(4,"0")}`}function St(te){let oe=`\`${st(te)}\``;return I.vU.isInvisibleCharacter(te)||(oe+=` "${function mt(te){return 96===te?"`` ` ``":"`"+String.fromCodePoint(te)+"`"}(te)}"`),oe}function bt(te,oe){return W.a.computeUnicodeHighlightReason(te,oe)}et=ge([de(1,z.O),de(2,ce.v4)],et);class Bt{constructor(){this.map=new Map}getDecorationFromOptions(oe){return this.getDecoration(!oe.includeComments,!oe.includeStrings)}getDecoration(oe,we){const nt=`${oe}${we}`;let He=this.map.get(nt);return He||(He=k.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:oe,hideInStringTokens:we}),this.map.set(nt,He)),He}}Bt.instance=new Bt;class Lt extends x.R6{constructor(){super({id:Tt.ID,label:Et.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Et.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(oe,we,nt){return Q(this,void 0,void 0,function*(){const He=oe?.get(Xe.Ui);He&&this.runAction(He)})}runAction(oe){return Q(this,void 0,void 0,function*(){yield oe.updateValue(A.qt.includeComments,!1,2)})}}class Ye extends x.R6{constructor(){super({id:Tt.ID,label:Et.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Et.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(oe,we,nt){return Q(this,void 0,void 0,function*(){const He=oe?.get(Xe.Ui);He&&this.runAction(He)})}runAction(oe){return Q(this,void 0,void 0,function*(){yield oe.updateValue(A.qt.includeStrings,!1,2)})}}let Tt=(()=>{class te extends x.R6{constructor(){super({id:te.ID,label:Et.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Et.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(we,nt,He){return Q(this,void 0,void 0,function*(){const De=we?.get(Xe.Ui);De&&this.runAction(De)})}runAction(we){return Q(this,void 0,void 0,function*(){yield we.updateValue(A.qt.ambiguousCharacters,!1,2)})}}return te.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",te})(),qt=(()=>{class te extends x.R6{constructor(){super({id:te.ID,label:Et.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Et.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(we,nt,He){return Q(this,void 0,void 0,function*(){const De=we?.get(Xe.Ui);De&&this.runAction(De)})}runAction(we){return Q(this,void 0,void 0,function*(){yield we.updateValue(A.qt.invisibleCharacters,!1,2)})}}return te.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",te})(),Ot=(()=>{class te extends x.R6{constructor(){super({id:te.ID,label:Et.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Et.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(we,nt,He){return Q(this,void 0,void 0,function*(){const De=we?.get(Xe.Ui);De&&this.runAction(De)})}runAction(we){return Q(this,void 0,void 0,function*(){yield we.updateValue(A.qt.nonBasicASCII,!1,2)})}}return te.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",te})(),Ft=(()=>{class te extends x.R6{constructor(){super({id:te.ID,label:Et.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(we,nt,He){return Q(this,void 0,void 0,function*(){const{codePoint:De,reason:pt,inString:lt,inComment:Ht}=He,Xt=String.fromCodePoint(De),ut=we.get(re.eJ),an=we.get(Xe.Ui),Gn=[];if(0===pt.kind)for(const fi of pt.notAmbiguousInLocales)Gn.push({label:Et.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',fi),run:()=>Q(this,void 0,void 0,function*(){Le(an,[fi])})});if(Gn.push({label:function Kn(fi){return I.vU.isInvisibleCharacter(fi)?Et.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",st(fi)):Et.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${st(fi)} "${Xt}"`)}(De),run:()=>function rt(te,oe){return Q(this,void 0,void 0,function*(){const we=te.getValue(A.qt.allowedCharacters);let nt;nt="object"==typeof we&&we?we:{};for(const He of oe)nt[String.fromCodePoint(He)]=!0;yield te.updateValue(A.qt.allowedCharacters,nt,2)})}(an,[De])}),Ht){const fi=new Lt;Gn.push({label:fi.label,run:()=>Q(this,void 0,void 0,function*(){return fi.runAction(an)})})}else if(lt){const fi=new Ye;Gn.push({label:fi.label,run:()=>Q(this,void 0,void 0,function*(){return fi.runAction(an)})})}if(0===pt.kind){const fi=new Tt;Gn.push({label:fi.label,run:()=>Q(this,void 0,void 0,function*(){return fi.runAction(an)})})}else if(1===pt.kind){const fi=new qt;Gn.push({label:fi.label,run:()=>Q(this,void 0,void 0,function*(){return fi.runAction(an)})})}else if(2===pt.kind){const fi=new Ot;Gn.push({label:fi.label,run:()=>Q(this,void 0,void 0,function*(){return fi.runAction(an)})})}else!function ie(te){throw new Error(`Unexpected value: ${te}`)}(pt);const li=yield ut.pick(Gn,{title:Et.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});li&&(yield li.run())})}}return te.ID="editor.action.unicodeHighlight.showExcludeOptions",te})();function Le(te,oe){var we;return Q(this,void 0,void 0,function*(){const nt=null===(we=te.inspect(A.qt.allowedLocales).user)||void 0===we?void 0:we.value;let He;He="object"==typeof nt&&nt?Object.assign({},nt):{};for(const De of oe)He[De]=!0;yield te.updateValue(A.qt.allowedLocales,He,2)})}(0,x.Qr)(Tt),(0,x.Qr)(qt),(0,x.Qr)(Ot),(0,x.Qr)(Ft),(0,x._K)(Ae.ID,Ae),O.Ae.register(et)},14536:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{UnusualLineTerminatorsDetector:()=>u});var s=e(21576),t=e(9590),l=e(95102),C=e(60896),f=e(1200),I=e(34474),S=function(n,d){return function(y,g){d(y,g,n)}};const _="ignoreUnusualLineTerminators";let u=class extends s.JT{constructor(d,y,g){super(),this._editor=d,this._dialogService=y,this._codeEditorService=g,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(v=>{v.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return n=this,d=void 0,g=function*(){if("off"===this._config||!this._editor.hasModel())return;const d=this._editor.getModel();d.mightContainUnusualLineTerminators()&&!0!==function a(n,d){return n.getModelProperty(d.uri,_)}(this._codeEditorService,d)&&!this._editor.getOption(83)&&("auto"!==this._config?(yield this._dialogService.confirm({title:f.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:f.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:f.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,t.EZ)(d.uri)),primaryButton:f.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:f.NC("unusualLineTerminators.ignore","Ignore")})).confirmed?d.removeUnusualLineTerminators(this._editor.getSelections()):function r(n,d,y){n.setModelProperty(d.uri,_,y)}(this._codeEditorService,d,!0):d.removeUnusualLineTerminators(this._editor.getSelections()))},new((y=void 0)||(y=Promise))(function(m,w){function E(A){try{x(g.next(A))}catch(k){w(k)}}function L(A){try{x(g.throw(A))}catch(k){w(k)}}function x(A){A.done?m(A.value):function v(m){return m instanceof y?m:new y(function(w){w(m)})}(A.value).then(E,L)}x((g=g.apply(n,d||[])).next())});var n,d,y,g}};u.ID="editor.contrib.unusualLineTerminatorsDetector",u=function(n,d,y,g){var w,v=arguments.length,m=v<3?d:null===g?g=Object.getOwnPropertyDescriptor(d,y):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(n,d,y,g);else for(var E=n.length-1;E>=0;E--)(w=n[E])&&(m=(v<3?w(m):v>3?w(d,y,m):w(d,y))||m);return v>3&&m&&Object.defineProperty(d,y,m),m}([S(1,I.S),S(2,C.$)],u),(0,l._K)(u.ID,u)},70741:(yt,T,e)=>{"use strict";e.r(T);var s=e(41883),t=e(21576),l=e(95102),C=e(98985),f=e(44378),I=e(99700),b=e(83021),S=e(56767),D=e(14089),_=e(54693),r=e(44753),a=e(13154),n=function(y,g){return function(v,m){g(v,m,y)}};let d=class extends t.JT{constructor(g,v,m,w,E,L){super(),this._modelService=v,this._themeService=m,this._configurationService=w,this._editor=g,this._provider=L.documentRangeSemanticTokensProvider,this._debounceInformation=E.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new s.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const x=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{x()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),x()})),this._register(this._editor.onDidChangeModelContent(A=>{this._cancelAll(),x()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),x()})),this._register(this._configurationService.onDidChangeConfiguration(A=>{A.affectsConfiguration(I.e3)&&(this._cancelAll(),x())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),x()}))}_cancelAll(){for(const g of this._outstandingRequests)g.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(g){for(let v=0,m=this._outstandingRequests.length;v<m;v++)if(this._outstandingRequests[v]===g)return void this._outstandingRequests.splice(v,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const g=this._editor.getModel();if(g.tokenization.hasCompleteSemanticTokens())return;if(!(0,I.tw)(g,this._themeService,this._configurationService))return void(g.tokenization.hasSomeSemanticTokens()&&g.tokenization.setSemanticTokens(null,!1));if(!(0,C.KO)(this._provider,g))return void(g.tokenization.hasSomeSemanticTokens()&&g.tokenization.setSemanticTokens(null,!1));const v=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(v.map(m=>this._requestRange(g,m)))}_requestRange(g,v){const m=g.getVersionId(),w=(0,s.PG)(L=>Promise.resolve((0,C.OG)(this._provider,g,v,L))),E=new r.G(!1);return w.then(L=>{if(this._debounceInformation.update(g,E.elapsed()),!L||!L.tokens||g.isDisposed()||g.getVersionId()!==m)return;const{provider:x,tokens:A}=L,k=this._modelService.getSemanticTokensProviderStyling(x);g.tokenization.setPartialSemanticTokens(v,(0,b.h)(A,k,g.getLanguageId()))}).then(()=>this._removeOutstandingRequest(w),()=>this._removeOutstandingRequest(w)),w}};d.ID="editor.contrib.viewportSemanticTokens",d=function(y,g,v,m){var L,w=arguments.length,E=w<3?g:null===m?m=Object.getOwnPropertyDescriptor(g,v):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(y,g,v,m);else for(var x=y.length-1;x>=0;x--)(L=y[x])&&(E=(w<3?L(E):w>3?L(g,v,E):L(g,v))||E);return w>3&&E&&Object.defineProperty(g,v,E),E}([n(1,f.q),n(2,D.XE),n(3,S.Ui),n(4,_.A),n(5,a.p)],d),(0,l._K)(d.ID,d)},97813:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{getOccurrencesAtPosition:()=>z});var s=e(48460),t=e(14940),l=e(41883),C=e(71943),f=e(3219),I=e(21576),b=e(95102),S=e(88154),D=e(72325),_=e(59129),r=e(53727),a=e(64050),u=e(1200),n=e(38336),d=e(6192),y=e(14089),g=e(13154),v=e(65206),w=function(Se,Ie){return function(xe,Me){Ie(xe,Me,Se)}};const E=(0,d.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},u.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),L=(0,d.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},u.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),x=(0,d.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:d.xL1,hcLight:d.xL1},u.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),A=(0,d.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:d.xL1,hcLight:d.xL1},u.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),k=(0,d.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},u.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),W=(0,d.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},u.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),H=new n.uy("hasWordHighlights",!1);function z(Se,Ie,xe,Me){const Oe=Se.ordered(Ie);return(0,l.Ps)(Oe.map(se=>()=>Promise.resolve(se.provideDocumentHighlights(Ie,xe,Me)).then(void 0,f.Cp)),t.Of)}class N{constructor(Ie,xe,Me){this._model=Ie,this._selection=xe,this._wordSeparators=Me,this._wordRange=this._getCurrentWordRange(Ie,xe),this._result=null}get result(){return this._result||(this._result=(0,l.PG)(Ie=>this._compute(this._model,this._selection,this._wordSeparators,Ie))),this._result}_getCurrentWordRange(Ie,xe){const Me=Ie.getWordAtPosition(xe.getPosition());return Me?new S.e(xe.startLineNumber,Me.startColumn,xe.startLineNumber,Me.endColumn):null}isValid(Ie,xe,Me){const Oe=xe.startLineNumber,se=xe.startColumn,ce=xe.endColumn,Ee=this._getCurrentWordRange(Ie,xe);let me=!(!this._wordRange||!this._wordRange.equalsRange(Ee));for(let Pe=0,he=Me.length;!me&&Pe<he;Pe++){const Fe=Me.getRange(Pe);Fe&&Fe.startLineNumber===Oe&&Fe.startColumn<=se&&Fe.endColumn>=ce&&(me=!0)}return me}cancel(){this.result.cancel()}}class O extends N{constructor(Ie,xe,Me,Oe){super(Ie,xe,Me),this._providers=Oe}_compute(Ie,xe,Me,Oe){return z(this._providers,Ie,xe.getPosition(),Oe).then(se=>se||[])}}class K extends N{constructor(Ie,xe,Me){super(Ie,xe,Me),this._selectionIsEmpty=xe.isEmpty()}_compute(Ie,xe,Me,Oe){return(0,l.Vs)(250,Oe).then(()=>{if(!xe.isEmpty())return[];const se=Ie.getWordAtPosition(xe.getPosition());return!se||se.word.length>1e3?[]:Ie.findMatches(se.word,!0,!1,!0,Me,!1).map(Ee=>({range:Ee.range,kind:a.MY.Text}))})}isValid(Ie,xe,Me){const Oe=xe.isEmpty();return this._selectionIsEmpty===Oe&&super.isValid(Ie,xe,Me)}}(0,b.sb)("_executeDocumentHighlights",(Se,Ie,xe)=>z(Se.get(g.p).documentHighlightProvider,Ie,xe,C.T.None));class j{constructor(Ie,xe,Me){this.toUnhook=new I.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=Ie,this.providers=xe,this._hasWordHighlights=H.bindTo(Me),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(Ie.onDidChangeCursorPosition(Oe=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(Oe)})),this.toUnhook.add(Ie.onDidChangeModelContent(Oe=>{this._stopAll()})),this.toUnhook.add(Ie.onDidChangeConfiguration(Oe=>{const se=this.editor.getOption(74);this.occurrencesHighlight!==se&&(this.occurrencesHighlight=se,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(S.e.compareRangesUsingStarts)}moveNext(){const Ie=this._getSortedHighlights(),Me=(Ie.findIndex(se=>se.containsPosition(this.editor.getPosition()))+1)%Ie.length,Oe=Ie[Me];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Oe.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Oe);const se=this._getWord();if(se){const ce=this.editor.getModel().getLineContent(Oe.startLineNumber);(0,s.Z9)(`${ce}, ${Me+1} of ${Ie.length} for '${se.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const Ie=this._getSortedHighlights(),Me=(Ie.findIndex(se=>se.containsPosition(this.editor.getPosition()))-1+Ie.length)%Ie.length,Oe=Ie[Me];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Oe.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Oe);const se=this._getWord();if(se){const ce=this.editor.getModel().getLineContent(Oe.startLineNumber);(0,s.Z9)(`${ce}, ${Me+1} of ${Ie.length} for '${se.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(Ie){this.occurrencesHighlight&&3===Ie.reason?this._run():this._stopAll()}_getWord(){const Ie=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:Ie.startLineNumber,column:Ie.startColumn})}_run(){const Ie=this.editor.getSelection();if(Ie.startLineNumber!==Ie.endLineNumber)return void this._stopAll();const xe=Ie.startColumn,Me=Ie.endColumn,Oe=this._getWord();if(!Oe||Oe.startColumn>xe||Oe.endColumn<Me)return void this._stopAll();const se=this.workerRequest&&this.workerRequest.isValid(this.model,Ie,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),se)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const ce=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function $(Se,Ie,xe,Me){return Se.has(Ie)?new O(Ie,xe,Me,Se):new K(Ie,xe,Me)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(Ee=>{ce===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Ee||[],this._beginRenderDecorations())},f.dL)}}_beginRenderDecorations(){const Ie=(new Date).getTime(),xe=this.lastCursorPositionChangeTime+250;Ie>=xe?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},xe-Ie)}renderDecorations(){this.renderDecorationsTimer=-1;const Ie=[];for(const xe of this.workerRequestValue)xe.range&&Ie.push({range:xe.range,options:j._getDecorationOptions(xe.kind)});this.decorations.set(Ie),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(Ie){return Ie===a.MY.Write?this._WRITE_OPTIONS:Ie===a.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}j._WRITE_OPTIONS=r.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,y.EN)(W),position:_.sh.Center},minimap:{color:(0,y.EN)(d.IYc),position:_.F5.Inline}}),j._TEXT_OPTIONS=r.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,y.EN)(d.SPM),position:_.sh.Center},minimap:{color:(0,y.EN)(d.IYc),position:_.F5.Inline}}),j._REGULAR_OPTIONS=r.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,y.EN)(k),position:_.sh.Center},minimap:{color:(0,y.EN)(d.IYc),position:_.F5.Inline}});let q=class Ku extends I.JT{constructor(Ie,xe,Me){super(),this.wordHighlighter=null;const Oe=()=>{Ie.hasModel()&&(this.wordHighlighter=new j(Ie,Me.documentHighlightProvider,xe))};this._register(Ie.onDidChangeModel(se=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Oe()})),Oe()}static get(Ie){return Ie.getContribution(Ku.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(Ie){this.wordHighlighter&&Ie&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};q.ID="editor.contrib.wordHighlighter",q=function(Se,Ie,xe,Me){var ce,Oe=arguments.length,se=Oe<3?Ie:null===Me?Me=Object.getOwnPropertyDescriptor(Ie,xe):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(Se,Ie,xe,Me);else for(var Ee=Se.length-1;Ee>=0;Ee--)(ce=Se[Ee])&&(se=(Oe<3?ce(se):Oe>3?ce(Ie,xe,se):ce(Ie,xe))||se);return Oe>3&&se&&Object.defineProperty(Ie,xe,se),se}([w(1,n.i6),w(2,g.p)],q);class R extends b.R6{constructor(Ie,xe){super(xe),this._isNext=Ie}run(Ie,xe){const Me=q.get(xe);Me&&(this._isNext?Me.moveNext():Me.moveBack())}}(0,b._K)(q.ID,q),(0,b.Qr)(class Z extends R{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:u.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:H,kbOpts:{kbExpr:D.u.editorTextFocus,primary:65,weight:100}})}}),(0,b.Qr)(class J extends R{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:u.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:H,kbOpts:{kbExpr:D.u.editorTextFocus,primary:1089,weight:100}})}}),(0,b.Qr)(class Ce extends b.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:u.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:H.toNegated(),kbOpts:{kbExpr:D.u.editorTextFocus,primary:0,weight:100}})}run(Ie,xe,Me){const Oe=q.get(xe);Oe&&Oe.restoreViewState(!0)}}),(0,y.Ic)((Se,Ie)=>{const xe=Se.getColor(d.Rzx);xe&&(Ie.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${xe}; }`),Ie.addRule(`.monaco-editor .selectionHighlight { background-color: ${xe.transparent(.5)}; }`));const Me=Se.getColor(E);Me&&Ie.addRule(`.monaco-editor .wordHighlight { background-color: ${Me}; }`);const Oe=Se.getColor(L);Oe&&Ie.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${Oe}; }`);const se=Se.getColor(d.g_n);se&&Ie.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,v.c3)(Se.type)?"dotted":"solid"} ${se}; box-sizing: border-box; }`);const ce=Se.getColor(x);ce&&Ie.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,v.c3)(Se.type)?"dashed":"solid"} ${ce}; box-sizing: border-box; }`);const Ee=Se.getColor(A);Ee&&Ie.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,v.c3)(Se.type)?"dashed":"solid"} ${Ee}; box-sizing: border-box; }`)})},39744:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CursorWordAccessibilityLeft:()=>k,CursorWordAccessibilityLeftSelect:()=>W,CursorWordAccessibilityRight:()=>j,CursorWordAccessibilityRightSelect:()=>q,CursorWordEndLeft:()=>w,CursorWordEndLeftSelect:()=>x,CursorWordEndRight:()=>z,CursorWordEndRightSelect:()=>K,CursorWordLeft:()=>E,CursorWordLeftSelect:()=>A,CursorWordRight:()=>N,CursorWordRightSelect:()=>$,CursorWordStartLeft:()=>m,CursorWordStartLeftSelect:()=>L,CursorWordStartRight:()=>H,CursorWordStartRightSelect:()=>O,DeleteInsideWord:()=>se,DeleteWordCommand:()=>R,DeleteWordEndLeft:()=>Se,DeleteWordEndRight:()=>Me,DeleteWordLeft:()=>Ie,DeleteWordLeftCommand:()=>Z,DeleteWordRight:()=>Oe,DeleteWordRightCommand:()=>J,DeleteWordStartLeft:()=>Ce,DeleteWordStartRight:()=>xe,MoveWordCommand:()=>y,WordLeftCommand:()=>g,WordRightCommand:()=>v});var s=e(95102),t=e(57535),l=e(11739),C=e(58841),f=e(96453),I=e(10759),b=e(13902),S=e(88154),D=e(58745),_=e(72325),r=e(15333),a=e(1200),u=e(1652),n=e(38336),d=e(79539);class y extends s._l{constructor(Ee){super(Ee),this._inSelectionMode=Ee.inSelectionMode,this._wordNavigationType=Ee.wordNavigationType}runEditorCommand(Ee,me,Pe){if(!me.hasModel())return;const he=(0,I.u)(me.getOption(119)),Fe=me.getModel(),ze=me.getSelections().map(fe=>{const Ke=new b.L(fe.positionLineNumber,fe.positionColumn),Je=this._move(he,Fe,Ke,this._wordNavigationType);return this._moveTo(fe,Je,this._inSelectionMode)});if(Fe.pushStackElement(),me._getViewModel().setCursorStates("moveWordCommand",3,ze.map(fe=>C.Vi.fromModelSelection(fe))),1===ze.length){const fe=new b.L(ze[0].positionLineNumber,ze[0].positionColumn);me.revealPosition(fe,0)}}_moveTo(Ee,me,Pe){return Pe?new D.Y(Ee.selectionStartLineNumber,Ee.selectionStartColumn,me.lineNumber,me.column):new D.Y(me.lineNumber,me.column,me.lineNumber,me.column)}}class g extends y{_move(Ee,me,Pe,he){return f.w.moveWordLeft(Ee,me,Pe,he)}}class v extends y{_move(Ee,me,Pe,he){return f.w.moveWordRight(Ee,me,Pe,he)}}class m extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class w extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class E extends g{constructor(){var Ee;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(Ee=n.Ao.and(u.U,d.cv))||void 0===Ee?void 0:Ee.negate()),primary:2063,mac:{primary:527},weight:100}})}}class L extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class x extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class A extends g{constructor(){var Ee;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(Ee=n.Ao.and(u.U,d.cv))||void 0===Ee?void 0:Ee.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class k extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Ee,me,Pe,he){return super._move((0,I.u)(l.BH.wordSeparators.defaultValue),me,Pe,he)}}class W extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Ee,me,Pe,he){return super._move((0,I.u)(l.BH.wordSeparators.defaultValue),me,Pe,he)}}class H extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class z extends v{constructor(){var Ee;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(Ee=n.Ao.and(u.U,d.cv))||void 0===Ee?void 0:Ee.negate()),primary:2065,mac:{primary:529},weight:100}})}}class N extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class O extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class K extends v{constructor(){var Ee;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(Ee=n.Ao.and(u.U,d.cv))||void 0===Ee?void 0:Ee.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class $ extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class j extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Ee,me,Pe,he){return super._move((0,I.u)(l.BH.wordSeparators.defaultValue),me,Pe,he)}}class q extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Ee,me,Pe,he){return super._move((0,I.u)(l.BH.wordSeparators.defaultValue),me,Pe,he)}}class R extends s._l{constructor(Ee){super(Ee),this._whitespaceHeuristics=Ee.whitespaceHeuristics,this._wordNavigationType=Ee.wordNavigationType}runEditorCommand(Ee,me,Pe){const he=Ee.get(r.c_);if(!me.hasModel())return;const Fe=(0,I.u)(me.getOption(119)),Ze=me.getModel(),ze=me.getSelections(),fe=me.getOption(5),Ke=me.getOption(8),Je=he.getLanguageConfiguration(Ze.getLanguageId()).getAutoClosingPairs(),vt=me._getViewModel(),Et=ze.map(Xe=>{const re=this._delete({wordSeparators:Fe,model:Ze,selection:Xe,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:me.getOption(6),autoClosingBrackets:fe,autoClosingQuotes:Ke,autoClosingPairs:Je,autoClosedCharacters:vt.getCursorAutoClosedCharacters()},this._wordNavigationType);return new t.T4(re,"")});me.pushUndoStop(),me.executeCommands(this.id,Et),me.pushUndoStop()}}class Z extends R{_delete(Ee,me){return f.w.deleteWordLeft(Ee,me)||new S.e(1,1,1,1)}}class J extends R{_delete(Ee,me){const Pe=f.w.deleteWordRight(Ee,me);if(Pe)return Pe;const he=Ee.model.getLineCount(),Fe=Ee.model.getLineMaxColumn(he);return new S.e(he,Fe,he,Fe)}}class Ce extends Z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:_.u.writable})}}class Se extends Z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:_.u.writable})}}class Ie extends Z{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class xe extends J{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:_.u.writable})}}class Me extends J{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:_.u.writable})}}class Oe extends J{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class se extends s.R6{constructor(){super({id:"deleteInsideWord",precondition:_.u.writable,label:a.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(Ee,me,Pe){if(!me.hasModel())return;const he=(0,I.u)(me.getOption(119)),Fe=me.getModel(),ze=me.getSelections().map(fe=>{const Ke=f.w.deleteInsideWord(he,Fe,fe);return new t.T4(Ke,"")});me.pushUndoStop(),me.executeCommands(this.id,ze),me.pushUndoStop()}}(0,s.fK)(new m),(0,s.fK)(new w),(0,s.fK)(new E),(0,s.fK)(new L),(0,s.fK)(new x),(0,s.fK)(new A),(0,s.fK)(new H),(0,s.fK)(new z),(0,s.fK)(new N),(0,s.fK)(new O),(0,s.fK)(new K),(0,s.fK)(new $),(0,s.fK)(new k),(0,s.fK)(new W),(0,s.fK)(new j),(0,s.fK)(new q),(0,s.fK)(new Ce),(0,s.fK)(new Se),(0,s.fK)(new Ie),(0,s.fK)(new xe),(0,s.fK)(new Me),(0,s.fK)(new Oe),(0,s.Qr)(se)},87883:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CursorWordPartLeft:()=>_,CursorWordPartLeftSelect:()=>r,CursorWordPartRight:()=>u,CursorWordPartRightSelect:()=>n,DeleteWordPartLeft:()=>b,DeleteWordPartRight:()=>S,WordPartLeftCommand:()=>D,WordPartRightCommand:()=>a});var s=e(95102),t=e(96453),l=e(88154),C=e(72325),f=e(39744),I=e(34468);class b extends f.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:C.u.writable,kbOpts:{kbExpr:C.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(y,g){return t.L.deleteWordPartLeft(y)||new l.e(1,1,1,1)}}class S extends f.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:C.u.writable,kbOpts:{kbExpr:C.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(y,g){const v=t.L.deleteWordPartRight(y);if(v)return v;const m=y.model.getLineCount(),w=y.model.getLineMaxColumn(m);return new l.e(m,w,m,w)}}class D extends f.MoveWordCommand{_move(y,g,v,m){return t.L.moveWordPartLeft(y,g,v)}}class _ extends D{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:C.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}I.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class r extends D{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:C.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}I.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class a extends f.MoveWordCommand{_move(y,g,v,m){return t.L.moveWordPartRight(y,g,v)}}class u extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:C.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:C.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,s.fK)(new b),(0,s.fK)(new S),(0,s.fK)(new _),(0,s.fK)(new r),(0,s.fK)(new u),(0,s.fK)(new n)},76051:(yt,T,e)=>{"use strict";e.r(T);var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(89659),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n);var g=e(94418),v=e(81500),m=e(92356),w=e(48460),E=e(79595),L=e(21576),x=e(84834),A=e(77697),k=e(56740),W=e(95102),H=e(72325),z=e(18367),N=e(38336),O=e(30888),K=e(54980),$=e(78668),j=e(6192),q=e(14089),R=e(71901),Z=function(se,ce,Ee,me){var Fe,Pe=arguments.length,he=Pe<3?ce:null===me?me=Object.getOwnPropertyDescriptor(ce,Ee):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(se,ce,Ee,me);else for(var Ze=se.length-1;Ze>=0;Ze--)(Fe=se[Ze])&&(he=(Pe<3?Fe(he):Pe>3?Fe(ce,Ee,he):Fe(ce,Ee))||he);return Pe>3&&he&&Object.defineProperty(ce,Ee,he),he},J=function(se,ce){return function(Ee,me){ce(Ee,me,se)}};const Ce=new N.uy("accessibilityHelpWidgetVisible",!1);let Se=class zu extends L.JT{constructor(ce,Ee){super(),this._editor=ce,this._widget=this._register(Ee.createInstance(xe,this._editor))}static get(ce){return ce.getContribution(zu.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};Se.ID="editor.contrib.accessibilityHelpController",Se=Z([J(1,O.TG)],Se);let xe=class cc extends E.${constructor(ce,Ee,me,Pe){super(),this._contextKeyService=Ee,this._keybindingService=me,this._openerService=Pe,this._editor=ce,this._isVisibleKey=Ce.bindTo(this._contextKeyService),this._domNode=(0,v.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,v.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(g.mu(this._contentDomNode.domNode,"keydown",he=>{if(this._isVisible&&(he.equals(2083)&&((0,w.Z9)(R.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),g.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),he.preventDefault(),he.stopPropagation()),he.equals(2086))){(0,w.Z9)(R.Oe.openingDocs);let Fe=this._editor.getRawOptions().accessibilityHelpUrl;typeof Fe>"u"&&(Fe="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(k.o.parse(Fe)),he.preventDefault(),he.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return cc.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(ce,Ee,me){const Pe=this._keybindingService.lookupKeybinding(ce);return Pe?A.WU(Ee,Pe.getAriaLabel()):A.WU(me,ce)}_buildContent(){const ce=this._editor.getOptions(),Ee=this._editor.getSelections();let me=0;if(Ee){const Ze=this._editor.getModel();Ze&&Ee.forEach(ze=>{me+=Ze.getValueLengthInRange(ze)})}let Pe=function Ie(se,ce){return se&&0!==se.length?1===se.length?ce?A.WU(R.Oe.singleSelectionRange,se[0].positionLineNumber,se[0].positionColumn,ce):A.WU(R.Oe.singleSelection,se[0].positionLineNumber,se[0].positionColumn):ce?A.WU(R.Oe.multiSelectionRange,se.length,ce):se.length>0?A.WU(R.Oe.multiSelection,se.length):"":R.Oe.noSelection}(Ee,me);ce.get(56)?ce.get(83)?Pe+=R.Oe.readonlyDiffEditor:Pe+=R.Oe.editableDiffEditor:ce.get(83)?Pe+=R.Oe.readonlyEditor:Pe+=R.Oe.editableEditor;const he=x.dz?R.Oe.changeConfigToOnMac:R.Oe.changeConfigToOnWinLinux;switch(ce.get(2)){case 0:Pe+="\n\n - "+he;break;case 2:Pe+="\n\n - "+R.Oe.auto_on;break;case 1:Pe+="\n\n - "+R.Oe.auto_off,Pe+=" "+he}ce.get(132)?Pe+="\n\n - "+this._descriptionForCommand(z.ToggleTabFocusModeAction.ID,R.Oe.tabFocusModeOnMsg,R.Oe.tabFocusModeOnMsgNoKb):Pe+="\n\n - "+this._descriptionForCommand(z.ToggleTabFocusModeAction.ID,R.Oe.tabFocusModeOffMsg,R.Oe.tabFocusModeOffMsgNoKb),Pe+="\n\n - "+(x.dz?R.Oe.openDocMac:R.Oe.openDocWinLinux),Pe+="\n\n"+R.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,m.BO)(Pe)),this._contentDomNode.domNode.setAttribute("aria-label",Pe)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,g.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const ce=this._editor.getLayoutInfo(),Ee=Math.max(5,Math.min(cc.WIDTH,ce.width-40)),me=Math.max(5,Math.min(cc.HEIGHT,ce.height-40));this._domNode.setWidth(Ee),this._domNode.setHeight(me);const Pe=Math.round((ce.height-me)/2);this._domNode.setTop(Pe);const he=Math.round((ce.width-Ee)/2);this._domNode.setLeft(he)}};xe.ID="editor.contrib.accessibilityHelpWidget",xe.WIDTH=500,xe.HEIGHT=300,xe=Z([J(1,N.i6),J(2,K.d),J(3,$.v4)],xe),(0,W._K)(Se.ID,Se),(0,W.Qr)(class Me extends W.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:R.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(ce,Ee){const me=Se.get(Ee);me&&me.show()}});const Oe=W._l.bindToContribution(Se.get);(0,W.fK)(new Oe({id:"closeAccessibilityHelp",precondition:Ce,handler:se=>se.hide(),kbOpts:{weight:200,kbExpr:H.u.focus,primary:9,secondary:[1033]}})),(0,q.Ic)((se,ce)=>{const Ee=se.getColor(j.D0T);Ee&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${Ee}; }`);const me=se.getColor(j.Hfx);me&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${me}; }`);const Pe=se.getColor(j.rh);Pe&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${Pe}; }`);const he=se.getColor(j.lRK);he&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${he}; }`)})},75386:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{IPadShowKeyboard:()=>E});var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(37831),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n);var g=e(94418),v=e(21576),m=e(95102),w=e(84834);let E=(()=>{class x extends v.JT{constructor(k){super(),this.editor=k,this.widget=null,w.gn&&(this._register(k.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const k=!this.editor.getOption(83);!this.widget&&k?this.widget=new L(this.editor):this.widget&&!k&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return x.ID="editor.contrib.iPadShowKeyboard",x})(),L=(()=>{class x extends v.JT{constructor(k){super(),this.editor=k,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(g.nm(this._domNode,"touchstart",W=>{this.editor.focus()})),this._register(g.nm(this._domNode,"focus",W=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return x.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return x.ID="editor.contrib.ShowKeyboardWidget",x})();(0,m._K)(E.ID,E)},46255:(yt,T,e)=>{"use strict";e.r(T);var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(20998),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n);var g=e(94418),v=e(84968),m=e(21576),w=e(95102),E=e(64050),L=e(90035),x=e(37551),A=e(12375),k=e(6197),W=e(6192),H=e(14089),z=e(71901),N=e(65206),K=function(J,Ce){return function(Se,Ie){Ce(Se,Ie,J)}};let $=class $u extends m.JT{constructor(Ce,Se,Ie){super(),this._editor=Ce,this._languageService=Ie,this._widget=null,this._register(this._editor.onDidChangeModel(xe=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(xe=>this.stop())),this._register(E.RW.onDidChange(xe=>this.stop())),this._register(this._editor.onKeyUp(xe=>9===xe.keyCode&&this.stop()))}static get(Ce){return Ce.getContribution($u.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Z(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};$.ID="editor.contrib.inspectTokens",$=function(J,Ce,Se,Ie){var Oe,xe=arguments.length,Me=xe<3?Ce:null===Ie?Ie=Object.getOwnPropertyDescriptor(Ce,Se):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Me=Reflect.decorate(J,Ce,Se,Ie);else for(var se=J.length-1;se>=0;se--)(Oe=J[se])&&(Me=(xe<3?Oe(Me):xe>3?Oe(Ce,Se,Me):Oe(Ce,Se))||Me);return xe>3&&Me&&Object.defineProperty(Ce,Se,Me),Me}([K(1,k.Z),K(2,A.O)],$);let Z=(()=>{class J extends m.JT{constructor(Se,Ie){super(),this.allowEditorOverflow=!0,this._editor=Se,this._languageService=Ie,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function R(J,Ce){const Se=E.RW.get(Ce);if(Se)return Se;const Ie=J.encodeLanguageId(Ce);return{getInitialState:()=>x.TJ,tokenize:(xe,Me,Oe)=>(0,x.Ri)(Ce,Oe),tokenizeEncoded:(xe,Me,Oe)=>(0,x.Dy)(Ie,Oe)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(xe=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return J._ID}_compute(Se){const Ie=this._getTokensAtLine(Se.lineNumber);let xe=0;for(let Ee=Ie.tokens1.length-1;Ee>=0;Ee--)if(Se.column-1>=Ie.tokens1[Ee].offset){xe=Ee;break}let Me=0;for(let Ee=Ie.tokens2.length>>>1;Ee>=0;Ee--)if(Se.column-1>=Ie.tokens2[Ee<<1]){Me=Ee;break}const Oe=this._model.getLineContent(Se.lineNumber);let se="";xe<Ie.tokens1.length&&(se=Oe.substring(Ie.tokens1[xe].offset,xe+1<Ie.tokens1.length?Ie.tokens1[xe+1].offset:Oe.length)),(0,g.mc)(this._domNode,(0,g.$)("h2.tm-token",void 0,function q(J){let Ce="";for(let Se=0,Ie=J.length;Se<Ie;Se++){const xe=J.charCodeAt(Se);switch(xe){case 9:Ce+="\u2192";break;case 32:Ce+="\xb7";break;default:Ce+=String.fromCharCode(xe)}}return Ce}(se),(0,g.$)("span.tm-token-length",void 0,`${se.length} ${1===se.length?"char":"chars"}`))),(0,g.R3)(this._domNode,(0,g.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const ce=1+(Me<<1)<Ie.tokens2.length?this._decodeMetadata(Ie.tokens2[1+(Me<<1)]):null;(0,g.R3)(this._domNode,(0,g.$)("table.tm-metadata-table",void 0,(0,g.$)("tbody",void 0,(0,g.$)("tr",void 0,(0,g.$)("td.tm-metadata-key",void 0,"language"),(0,g.$)("td.tm-metadata-value",void 0,`${ce?ce.languageId:"-?-"}`)),(0,g.$)("tr",void 0,(0,g.$)("td.tm-metadata-key",void 0,"token type"),(0,g.$)("td.tm-metadata-value",void 0,`${ce?this._tokenTypeToString(ce.tokenType):"-?-"}`)),(0,g.$)("tr",void 0,(0,g.$)("td.tm-metadata-key",void 0,"font style"),(0,g.$)("td.tm-metadata-value",void 0,`${ce?this._fontStyleToString(ce.fontStyle):"-?-"}`)),(0,g.$)("tr",void 0,(0,g.$)("td.tm-metadata-key",void 0,"foreground"),(0,g.$)("td.tm-metadata-value",void 0,`${ce?v.Il.Format.CSS.formatHex(ce.foreground):"-?-"}`)),(0,g.$)("tr",void 0,(0,g.$)("td.tm-metadata-key",void 0,"background"),(0,g.$)("td.tm-metadata-value",void 0,`${ce?v.Il.Format.CSS.formatHex(ce.background):"-?-"}`))))),(0,g.R3)(this._domNode,(0,g.$)("hr.tokens-inspect-separator")),xe<Ie.tokens1.length&&(0,g.R3)(this._domNode,(0,g.$)("span.tm-token-type",void 0,Ie.tokens1[xe].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(Se){const Ie=E.RW.getColorMap(),xe=L.N.getLanguageId(Se),Me=L.N.getTokenType(Se),Oe=L.N.getFontStyle(Se),se=L.N.getForeground(Se),ce=L.N.getBackground(Se);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(xe),tokenType:Me,fontStyle:Oe,foreground:Ie[se],background:Ie[ce]}}_tokenTypeToString(Se){switch(Se){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(Se){let Ie="";return 1&Se&&(Ie+="italic "),2&Se&&(Ie+="bold "),4&Se&&(Ie+="underline "),8&Se&&(Ie+="strikethrough "),0===Ie.length&&(Ie="---"),Ie}_getTokensAtLine(Se){const Ie=this._getStateBeforeLine(Se),xe=this._tokenizationSupport.tokenize(this._model.getLineContent(Se),!0,Ie),Me=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(Se),!0,Ie);return{startState:Ie,tokens1:xe.tokens,tokens2:Me.tokens,endState:xe.endState}}_getStateBeforeLine(Se){let Ie=this._tokenizationSupport.getInitialState();for(let xe=1;xe<Se;xe++)Ie=this._tokenizationSupport.tokenize(this._model.getLineContent(xe),!0,Ie).endState;return Ie}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return J._ID="editor.contrib.inspectTokensWidget",J})();(0,w._K)($.ID,$),(0,w.Qr)(class j extends w.R6{constructor(){super({id:"editor.action.inspectTokens",label:z.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(Ce,Se){const Ie=$.get(Se);Ie&&Ie.launch()}}),(0,H.Ic)((J,Ce)=>{const Se=J.getColor(W.CNo);if(Se){const Me=(0,N.c3)(J.type)?2:1;Ce.addRule(`.monaco-editor .tokens-inspect-widget { border: ${Me}px solid ${Se}; }`),Ce.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${Se}; }`)}const Ie=J.getColor(W.yJx);Ie&&Ce.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${Ie}; }`);const xe=J.getColor(W.Sbf);xe&&Ce.addRule(`.monaco-editor .tokens-inspect-widget { color: ${xe}; }`)})},51977:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{GotoLineAction:()=>xe,StandaloneCommandsQuickAccessProvider:()=>Ie});var s=e(25468),t=e(84724),l=e(71901),C=e(60896),f=e(1853),I=e(96109),b=e(3219),S=e(19623),D=e(21576),_=e(63312),r=e(91729),a=e(22070),u=e(1200),n=e(34468),d=e(56767),y=e(34474),g=e(30888),v=e(54980),m=e(41883),w=e(71943),E=function(Me,Oe,se,ce){return new(se||(se=Promise))(function(me,Pe){function he(ze){try{Ze(ce.next(ze))}catch(fe){Pe(fe)}}function Fe(ze){try{Ze(ce.throw(ze))}catch(fe){Pe(fe)}}function Ze(ze){ze.done?me(ze.value):function Ee(me){return me instanceof se?me:new se(function(Pe){Pe(me)})}(ze.value).then(he,Fe)}Ze((ce=ce.apply(Me,Oe||[])).next())})},L=(()=>((L=L||{})[L.NO_ACTION=0]="NO_ACTION",L[L.CLOSE_PICKER=1]="CLOSE_PICKER",L[L.REFRESH_PICKER=2]="REFRESH_PICKER",L[L.REMOVE_ITEM=3]="REMOVE_ITEM",L))();function x(Me){return Array.isArray(Me.items)}let k=(()=>{class Me extends D.JT{constructor(se,ce){super(),this.prefix=se,this.options=ce}provide(se,ce){var Ee;const me=new D.SL;let Pe;se.canAcceptInBackground=!(null===(Ee=this.options)||void 0===Ee||!Ee.canAcceptInBackground),se.matchOnLabel=se.matchOnDescription=se.matchOnDetail=se.sortByLabel=!1;const he=me.add(new D.XK),Fe=()=>E(this,void 0,void 0,function*(){const Ze=he.value=new D.SL;Pe?.dispose(!0),se.busy=!1,Pe=new w.A(ce);const ze=Pe.token,fe=se.value.substr(this.prefix.length).trim(),Ke=this._getPicks(fe,Ze,ze),Je=(vt,Et)=>{var Xe;let re,pe;if(x(vt)?(re=vt.items,pe=vt.active):re=vt,0===re.length){if(Et)return!1;fe.length>0&&null!==(Xe=this.options)&&void 0!==Xe&&Xe.noResultsPick&&(re=[this.options.noResultsPick])}return se.items=re,pe&&(se.activeItems=[pe]),!0};if(null!==Ke)if(function A(Me){return!!Me.picks&&Me.additionalPicks instanceof Promise}(Ke)){let vt=!1,Et=!1;yield Promise.all([(()=>E(this,void 0,void 0,function*(){yield(0,m.Vs)(Me.FAST_PICKS_RACE_DELAY),!ze.isCancellationRequested&&(Et||(vt=Je(Ke.picks,!0)))}))(),(()=>E(this,void 0,void 0,function*(){se.busy=!0;try{const Xe=yield Ke.additionalPicks;if(ze.isCancellationRequested)return;let re,pe,ge,de;if(x(Ke.picks)?(re=Ke.picks.items,pe=Ke.picks.active):re=Ke.picks,x(Xe)?(ge=Xe.items,de=Xe.active):ge=Xe,ge.length>0||!vt){let Q;if(!pe&&!de){const ye=se.activeItems[0];ye&&-1!==re.indexOf(ye)&&(Q=ye)}Je({items:[...re,...ge],active:pe||de||Q})}}finally{ze.isCancellationRequested||(se.busy=!1),Et=!0}}))()])}else if(Ke instanceof Promise){se.busy=!0;try{const vt=yield Ke;if(ze.isCancellationRequested)return;Je(vt)}finally{ze.isCancellationRequested||(se.busy=!1)}}else Je(Ke)});return me.add(se.onDidChangeValue(()=>Fe())),Fe(),me.add(se.onDidAccept(Ze=>{const[ze]=se.selectedItems;"function"==typeof ze?.accept&&(Ze.inBackground||se.hide(),ze.accept(se.keyMods,Ze))})),me.add(se.onDidTriggerItemButton(({button:Ze,item:ze})=>E(this,void 0,void 0,function*(){var fe,Ke;if("function"==typeof ze.trigger){const Je=null!==(Ke=null===(fe=ze.buttons)||void 0===fe?void 0:fe.indexOf(Ze))&&void 0!==Ke?Ke:-1;if(Je>=0){const vt=ze.trigger(Je,se.keyMods),Et="number"==typeof vt?vt:yield vt;if(ce.isCancellationRequested)return;switch(Et){case L.NO_ACTION:break;case L.CLOSE_PICKER:se.hide();break;case L.REFRESH_PICKER:Fe();break;case L.REMOVE_ITEM:{const Xe=se.items.indexOf(ze);if(-1!==Xe){const re=se.items.slice(),pe=re.splice(Xe,1),ge=se.activeItems.filter(Q=>Q!==pe[0]),de=se.keepScrollPosition;se.keepScrollPosition=!0,se.items=re,ge&&(se.activeItems=ge),se.keepScrollPosition=de}break}}}}}))),me}}return Me.FAST_PICKS_RACE_DELAY=200,Me})();var W=e(22735),H=e(90062),z=function(Me,Oe,se,ce){var Pe,Ee=arguments.length,me=Ee<3?Oe:null===ce?ce=Object.getOwnPropertyDescriptor(Oe,se):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(Me,Oe,se,ce);else for(var he=Me.length-1;he>=0;he--)(Pe=Me[he])&&(me=(Ee<3?Pe(me):Ee>3?Pe(Oe,se,me):Pe(Oe,se))||me);return Ee>3&&me&&Object.defineProperty(Oe,se,me),me},N=function(Me,Oe){return function(se,ce){Oe(se,ce,Me)}},O=function(Me,Oe,se,ce){return new(se||(se=Promise))(function(me,Pe){function he(ze){try{Ze(ce.next(ze))}catch(fe){Pe(fe)}}function Fe(ze){try{Ze(ce.throw(ze))}catch(fe){Pe(fe)}}function Ze(ze){ze.done?me(ze.value):function Ee(me){return me instanceof se?me:new se(function(Pe){Pe(me)})}(ze.value).then(he,Fe)}Ze((ce=ce.apply(Me,Oe||[])).next())})};let K=class uc extends k{constructor(Oe,se,ce,Ee,me,Pe){super(uc.PREFIX,Oe),this.instantiationService=se,this.keybindingService=ce,this.commandService=Ee,this.telemetryService=me,this.dialogService=Pe,this.commandsHistory=this._register(this.instantiationService.createInstance($)),this.options=Oe}_getPicks(Oe,se,ce){return O(this,void 0,void 0,function*(){const Ee=yield this.getCommandPicks(se,ce);if(ce.isCancellationRequested)return[];const me=[];for(const Ze of Ee){const ze=(0,a.f6)(uc.WORD_FILTER(Oe,Ze.label)),fe=Ze.commandAlias?(0,a.f6)(uc.WORD_FILTER(Oe,Ze.commandAlias)):void 0;ze||fe?(Ze.highlights={label:ze,detail:this.options.showAlias?fe:void 0},me.push(Ze)):Oe===Ze.commandId&&me.push(Ze)}const Pe=new Map;for(const Ze of me){const ze=Pe.get(Ze.label);ze?(Ze.description=Ze.commandId,ze.description=ze.commandId):Pe.set(Ze.label,Ze)}me.sort((Ze,ze)=>{const fe=this.commandsHistory.peek(Ze.commandId),Ke=this.commandsHistory.peek(ze.commandId);return fe&&Ke?fe>Ke?-1:1:fe?-1:Ke?1:Ze.label.localeCompare(ze.label)});const he=[];let Fe=!1;for(let Ze=0;Ze<me.length;Ze++){const ze=me[Ze],fe=this.keybindingService.lookupKeybinding(ze.commandId),Ke=fe?(0,u.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",ze.label,fe.getAriaLabel()):ze.label;0===Ze&&this.commandsHistory.peek(ze.commandId)&&(he.push({type:"separator",label:(0,u.NC)("recentlyUsed","recently used")}),Fe=!0),0!==Ze&&Fe&&!this.commandsHistory.peek(ze.commandId)&&(he.push({type:"separator",label:(0,u.NC)("morecCommands","other commands")}),Fe=!1),he.push(Object.assign(Object.assign({},ze),{ariaLabel:Ke,detail:this.options.showAlias&&ze.commandAlias!==ze.label?ze.commandAlias:void 0,keybinding:fe,accept:()=>O(this,void 0,void 0,function*(){this.commandsHistory.push(ze.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:ze.commandId,from:"quick open"});try{yield this.commandService.executeCommand(ze.commandId)}catch(Je){(0,b.n2)(Je)||this.dialogService.show(r.Z.Error,(0,u.NC)("canNotRun","Command '{0}' resulted in an error ({1})",ze.label,(0,I.y)(Je)))}})}))}return he})}};K.PREFIX=">",K.WORD_FILTER=(0,S.or)(S.Ji,S.KZ,S.ir),K=z([N(1,g.TG),N(2,v.d),N(3,n.Hy),N(4,H.b),N(5,y.S)],K);let $=class sr extends D.JT{constructor(Oe,se){super(),this.storageService=Oe,this.configurationService=se,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=sr.getConfiguredCommandHistoryLength(this.configurationService),sr.cache&&sr.cache.limit!==this.configuredCommandsHistoryLength&&(sr.cache.limit=this.configuredCommandsHistoryLength,sr.saveState(this.storageService))}load(){const Oe=this.storageService.get(sr.PREF_KEY_CACHE,0);let se;if(Oe)try{se=JSON.parse(Oe)}catch{}const ce=sr.cache=new _.z6(this.configuredCommandsHistoryLength,1);if(se){let Ee;Ee=se.usesLRU?se.entries:se.entries.sort((me,Pe)=>me.value-Pe.value),Ee.forEach(me=>ce.set(me.key,me.value))}sr.counter=this.storageService.getNumber(sr.PREF_KEY_COUNTER,0,sr.counter)}push(Oe){sr.cache&&(sr.cache.set(Oe,sr.counter++),sr.saveState(this.storageService))}peek(Oe){var se;return null===(se=sr.cache)||void 0===se?void 0:se.peek(Oe)}static saveState(Oe){if(!sr.cache)return;const se={usesLRU:!0,entries:[]};sr.cache.forEach((ce,Ee)=>se.entries.push({key:Ee,value:ce})),Oe.store(sr.PREF_KEY_CACHE,JSON.stringify(se),0,0),Oe.store(sr.PREF_KEY_COUNTER,sr.counter,0,0)}static getConfiguredCommandHistoryLength(Oe){var se,ce;const me=null===(ce=null===(se=Oe.getValue().workbench)||void 0===se?void 0:se.commandPalette)||void 0===ce?void 0:ce.history;return"number"==typeof me?me:sr.DEFAULT_COMMANDS_HISTORY_LENGTH}};$.DEFAULT_COMMANDS_HISTORY_LENGTH=50,$.PREF_KEY_CACHE="commandPalette.mru.cache",$.PREF_KEY_COUNTER="commandPalette.mru.counter",$.counter=1,$=z([N(0,W.Uy),N(1,d.Ui)],$);class j extends K{constructor(Oe,se,ce,Ee,me,Pe){super(Oe,se,ce,Ee,me,Pe)}getCodeEditorCommandPicks(){const Oe=this.activeTextEditorControl;if(!Oe)return[];const se=[];for(const ce of Oe.getSupportedActions())se.push({commandId:ce.id,commandAlias:ce.alias,label:(0,f.x$)(ce.label)||ce.id});return se}}var q=e(95102),R=e(72325),Z=e(21156),Ce=function(Me,Oe){return function(se,ce){Oe(se,ce,Me)}};let Ie=class extends j{constructor(Oe,se,ce,Ee,me,Pe){super({showAlias:!1},Oe,ce,Ee,me,Pe),this.codeEditorService=se}get activeTextEditorControl(){return(0,a.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Me=this,Oe=void 0,ce=function*(){return this.getCodeEditorCommandPicks()},new((se=void 0)||(se=Promise))(function(me,Pe){function he(ze){try{Ze(ce.next(ze))}catch(fe){Pe(fe)}}function Fe(ze){try{Ze(ce.throw(ze))}catch(fe){Pe(fe)}}function Ze(ze){ze.done?me(ze.value):function Ee(me){return me instanceof se?me:new se(function(Pe){Pe(me)})}(ze.value).then(he,Fe)}Ze((ce=ce.apply(Me,Oe||[])).next())});var Me,Oe,se,ce}};Ie=function(Me,Oe,se,ce){var Pe,Ee=arguments.length,me=Ee<3?Oe:null===ce?ce=Object.getOwnPropertyDescriptor(Oe,se):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(Me,Oe,se,ce);else for(var he=Me.length-1;he>=0;he--)(Pe=Me[he])&&(me=(Ee<3?Pe(me):Ee>3?Pe(Oe,se,me):Pe(Oe,se))||me);return Ee>3&&me&&Object.defineProperty(Oe,se,me),me}([Ce(0,g.TG),Ce(1,C.$),Ce(2,v.d),Ce(3,n.Hy),Ce(4,H.b),Ce(5,y.S)],Ie);let xe=(()=>{class Me extends q.R6{constructor(){super({id:Me.ID,label:l.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:R.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(se){se.get(Z.eJ).quickAccess.show(Ie.PREFIX)}}return Me.ID="editor.action.quickCommand",Me})();(0,q.Qr)(xe),s.B.as(t.IP.Quickaccess).registerQuickAccessProvider({ctor:Ie,prefix:Ie.PREFIX,helpEntries:[{description:l.UX.quickCommandHelp,commandId:xe.ID}]})},34340:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{GotoLineAction:()=>v,StandaloneGotoLineQuickAccessProvider:()=>g});var s=e(21576),t=e(38128),l=e(22034),C=e(1200);let f=(()=>{class m extends l.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(E){const L=(0,C.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return E.items=[{label:L}],E.ariaLabel=L,s.JT.None}provideWithTextEditor(E,L,x){const A=E.editor,k=new s.SL;k.add(L.onDidAccept(z=>{const[N]=L.selectedItems;if(N){if(!this.isValidLineNumber(A,N.lineNumber))return;this.gotoLocation(E,{range:this.toRange(N.lineNumber,N.column),keyMods:L.keyMods,preserveFocus:z.inBackground}),z.inBackground||L.hide()}}));const W=()=>{const z=this.parsePosition(A,L.value.trim().substr(m.PREFIX.length)),N=this.getPickLabel(A,z.lineNumber,z.column);if(L.items=[{lineNumber:z.lineNumber,column:z.column,label:N}],L.ariaLabel=N,!this.isValidLineNumber(A,z.lineNumber))return void this.clearDecorations(A);const O=this.toRange(z.lineNumber,z.column);A.revealRangeInCenter(O,0),this.addDecorations(A,O)};W(),k.add(L.onDidChangeValue(()=>W()));const H=(0,t.Pi)(A);return H&&2===H.getOptions().get(62).renderType&&(H.updateOptions({lineNumbers:"on"}),k.add((0,s.OF)(()=>H.updateOptions({lineNumbers:"relative"})))),k}toRange(E=1,L=1){return{startLineNumber:E,startColumn:L,endLineNumber:E,endColumn:L}}parsePosition(E,L){const x=L.split(/,|:|#/).map(k=>parseInt(k,10)).filter(k=>!isNaN(k)),A=this.lineCount(E)+1;return{lineNumber:x[0]>0?x[0]:A+x[0],column:x[1]}}getPickLabel(E,L,x){if(this.isValidLineNumber(E,L))return this.isValidColumn(E,L,x)?(0,C.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",L,x):(0,C.NC)("gotoLineLabel","Go to line {0}.",L);const A=E.getPosition()||{lineNumber:1,column:1},k=this.lineCount(E);return k>1?(0,C.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",A.lineNumber,A.column,k):(0,C.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",A.lineNumber,A.column)}isValidLineNumber(E,L){return!(!L||"number"!=typeof L)&&L>0&&L<=this.lineCount(E)}isValidColumn(E,L,x){if(!x||"number"!=typeof x)return!1;const A=this.getModel(E);if(!A)return!1;const k={lineNumber:L,column:x};return A.validatePosition(k).equals(k)}lineCount(E){var L,x;return null!==(x=null===(L=this.getModel(E))||void 0===L?void 0:L.getLineCount())&&void 0!==x?x:0}}return m.PREFIX=":",m})();var I=e(25468),b=e(84724),S=e(60896),D=e(22070),_=e(71901),r=e(31864),a=e(95102),u=e(72325),n=e(21156);let g=class extends f{constructor(w){super(),this.editorService=w,this.onDidActiveTextEditorControlChange=r.ju.None}get activeTextEditorControl(){return(0,D.f6)(this.editorService.getFocusedCodeEditor())}};var w;g=function(m,w,E,L){var k,x=arguments.length,A=x<3?w:null===L?L=Object.getOwnPropertyDescriptor(w,E):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(m,w,E,L);else for(var W=m.length-1;W>=0;W--)(k=m[W])&&(A=(x<3?k(A):x>3?k(w,E,A):k(w,E))||A);return x>3&&A&&Object.defineProperty(w,E,A),A}([(0,w=S.$,function(E,L){w(E,L,0)})],g);let v=(()=>{class m extends a.R6{constructor(){super({id:m.ID,label:_.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(E){E.get(n.eJ).quickAccess.show(g.PREFIX)}}return m.ID="editor.action.gotoLine",m})();(0,a.Qr)(v),I.B.as(b.IP.Quickaccess).registerQuickAccessProvider({ctor:g,prefix:g.PREFIX,helpEntries:[{description:_.qq.gotoLineActionLabel,commandId:v.ID}]})},23929:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{GotoSymbolAction:()=>Pe,StandaloneGotoSymbolQuickAccessProvider:()=>me}),e(99670),e(30688);var l=e(41883),C=e(71943),f=e(51153),I=e(19623),b=e(83872),S=e(84834),D=e(77697);const _=[void 0,[]];function r(he,Fe,Ze=0,ze=0){return Fe.values&&Fe.values.length>1?function a(he,Fe,Ze,ze){let fe=0;const Ke=[];for(const Je of Fe){const[vt,Et]=u(he,Je,Ze,ze);if("number"!=typeof vt)return _;fe+=vt,Ke.push(...Et)}return[fe,d(Ke)]}(he,Fe.values,Ze,ze):u(he,Fe,Ze,ze)}function u(he,Fe,Ze,ze){const fe=(0,I.EW)(Fe.original,Fe.originalLowercase,Ze,he,he.toLowerCase(),ze,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return fe?[fe[0],(0,I.mB)(fe)]:_}function d(he){const Fe=he.sort((fe,Ke)=>fe.start-Ke.start),Ze=[];let ze;for(const fe of Fe)ze&&y(ze,fe)?(ze.start=Math.min(ze.start,fe.start),ze.end=Math.max(ze.end,fe.end)):(ze=fe,Ze.push(fe));return Ze}function y(he,Fe){return!(he.end<Fe.start||Fe.end<he.start)}function g(he){return he.startsWith('"')&&he.endsWith('"')}Object.freeze({score:0});const v=" ";function m(he){"string"!=typeof he&&(he="");const Fe=he.toLowerCase(),{pathNormalized:Ze,normalized:ze,normalizedLowercase:fe}=w(he),Ke=Ze.indexOf(b.ir)>=0,Je=g(he);let vt;const Et=he.split(v);if(Et.length>1)for(const Xe of Et){const re=g(Xe),{pathNormalized:pe,normalized:ge,normalizedLowercase:de}=w(Xe);ge&&(vt||(vt=[]),vt.push({original:Xe,originalLowercase:Xe.toLowerCase(),pathNormalized:pe,normalized:ge,normalizedLowercase:de,expectContiguousMatch:re}))}return{original:he,originalLowercase:Fe,pathNormalized:Ze,normalized:ze,normalizedLowercase:fe,values:vt,containsPathSeparator:Ke,expectContiguousMatch:Je}}function w(he){let Fe;Fe=he.replace(S.ED?/\//g:/\\/g,b.ir);const Ze=(0,D.R1)(Fe).replace(/\s|"/g,"");return{pathNormalized:Fe,normalized:Ze,normalizedLowercase:Ze.toLowerCase()}}function E(he){return Array.isArray(he)?m(he.map(Fe=>Fe.original).join(v)):m(he.original)}var L=e(21576),x=e(88154),A=e(64050),k=e(12649),W=e(22034),H=e(1200),z=e(13154),N=e(14940),K=function(he,Fe){return function(Ze,ze){Fe(Ze,ze,he)}},$=function(he,Fe,Ze,ze){return new(Ze||(Ze=Promise))(function(Ke,Je){function vt(re){try{Xe(ze.next(re))}catch(pe){Je(pe)}}function Et(re){try{Xe(ze.throw(re))}catch(pe){Je(pe)}}function Xe(re){re.done?Ke(re.value):function fe(Ke){return Ke instanceof Ze?Ke:new Ze(function(Je){Je(Ke)})}(re.value).then(vt,Et)}Xe((ze=ze.apply(he,Fe||[])).next())})};let j=class ou extends W.X{constructor(Fe,Ze,ze=Object.create(null)){super(ze),this._languageFeaturesService=Fe,this._outlineModelService=Ze,this.options=ze,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(Fe){return this.provideLabelPick(Fe,(0,H.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),L.JT.None}provideWithTextEditor(Fe,Ze,ze){const Ke=this.getModel(Fe.editor);return Ke?this._languageFeaturesService.documentSymbolProvider.has(Ke)?this.doProvideWithEditorSymbols(Fe,Ke,Ze,ze):this.doProvideWithoutEditorSymbols(Fe,Ke,Ze,ze):L.JT.None}doProvideWithoutEditorSymbols(Fe,Ze,ze,fe){const Ke=new L.SL;return this.provideLabelPick(ze,(0,H.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),$(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(Ze,Ke))||fe.isCancellationRequested||Ke.add(this.doProvideWithEditorSymbols(Fe,Ze,ze,fe))}),Ke}provideLabelPick(Fe,Ze){Fe.items=[{label:Ze,index:0,kind:14}],Fe.ariaLabel=Ze}waitForLanguageSymbolRegistry(Fe,Ze){return $(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(Fe))return!0;const ze=new l.CR,fe=Ze.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(Fe)&&(fe.dispose(),ze.complete(!0))}));return Ze.add((0,L.OF)(()=>ze.complete(!1))),ze.p})}doProvideWithEditorSymbols(Fe,Ze,ze,fe){var Ke;const Je=Fe.editor,vt=new L.SL;vt.add(ze.onDidAccept(ge=>{const[de]=ze.selectedItems;de&&de.range&&(this.gotoLocation(Fe,{range:de.range.selection,keyMods:ze.keyMods,preserveFocus:ge.inBackground}),ge.inBackground||ze.hide())})),vt.add(ze.onDidTriggerItemButton(({item:ge})=>{ge&&ge.range&&(this.gotoLocation(Fe,{range:ge.range.selection,keyMods:ze.keyMods,forceSideBySide:!0}),ze.hide())}));const Et=this.getDocumentSymbols(Ze,fe);let Xe;const re=ge=>$(this,void 0,void 0,function*(){Xe?.dispose(!0),ze.busy=!1,Xe=new C.A(fe),ze.busy=!0;try{const de=m(ze.value.substr(ou.PREFIX.length).trim()),Q=yield this.doGetSymbolPicks(Et,de,void 0,Xe.token);if(fe.isCancellationRequested)return;if(Q.length>0){if(ze.items=Q,ge&&0===de.original.length){const ye=(0,N.dF)(Q,Ae=>!("separator"===Ae.type||!Ae.range||!x.e.containsPosition(Ae.range.decoration,ge)));ye&&(ze.activeItems=[ye])}}else this.provideLabelPick(ze,de.original.length>0?(0,H.NC)("noMatchingSymbolResults","No matching editor symbols"):(0,H.NC)("noSymbolResults","No editor symbols"))}finally{fe.isCancellationRequested||(ze.busy=!1)}});vt.add(ze.onDidChangeValue(()=>re(void 0))),re(null===(Ke=Je.getSelection())||void 0===Ke?void 0:Ke.getPosition());let pe=2;return vt.add(ze.onDidChangeActive(()=>{const[ge]=ze.activeItems;if(ge&&ge.range){if(pe-- >0)return;Je.revealRangeInCenter(ge.range.selection,0),this.addDecorations(Je,ge.range.decoration)}})),vt}doGetSymbolPicks(Fe,Ze,ze,fe){return $(this,void 0,void 0,function*(){const Ke=yield Fe;if(fe.isCancellationRequested)return[];const Je=0===Ze.original.indexOf(ou.SCOPE_PREFIX),vt=Je?1:0;let Et,Xe;Ze.values&&Ze.values.length>1?(Et=E(Ze.values[0]),Xe=E(Ze.values.slice(1))):Et=Ze;const re=[];for(let de=0;de<Ke.length;de++){const Q=Ke[de],ye=(0,D.fy)(Q.name),Ae=`$(${A.uZ.toIcon(Q.kind).id}) ${ye}`,ft=Ae.length-ye.length;let it,et,st,St,dt=Q.containerName;if(ze?.extraContainerLabel&&(dt=dt?`${ze.extraContainerLabel} \u2022 ${dt}`:ze.extraContainerLabel),Ze.original.length>vt){let bt=!1;if(Et!==Ze&&([it,et]=r(Ae,Object.assign(Object.assign({},Ze),{values:void 0}),vt,ft),"number"==typeof it&&(bt=!0)),"number"!=typeof it&&([it,et]=r(Ae,Et,vt,ft),"number"!=typeof it))continue;if(!bt&&Xe){if(dt&&Xe.original.length>0&&([st,St]=r(dt,Xe)),"number"!=typeof st)continue;"number"==typeof it&&(it+=st)}}const mt=Q.tags&&Q.tags.indexOf(1)>=0;re.push({index:de,kind:Q.kind,score:it,label:Ae,ariaLabel:ye,description:dt,highlights:mt?void 0:{label:et,description:St},range:{selection:x.e.collapseToStart(Q.selectionRange),decoration:Q.range},strikethrough:mt,buttons:(()=>{var bt,Bt;const Lt=null!==(bt=this.options)&&void 0!==bt&&bt.openSideBySideDirection?null===(Bt=this.options)||void 0===Bt?void 0:Bt.openSideBySideDirection():void 0;if(Lt)return[{iconClass:"right"===Lt?f.lA.splitHorizontal.classNames:f.lA.splitVertical.classNames,tooltip:"right"===Lt?(0,H.NC)("openToSide","Open to the Side"):(0,H.NC)("openToBottom","Open to the Bottom")}]})()})}const pe=re.sort((de,Q)=>Je?this.compareByKindAndScore(de,Q):this.compareByScore(de,Q));let ge=[];if(Je){let de,Q,Ae=function(){Q&&"number"==typeof de&&ye>0&&(Q.label=(0,D.WU)(R[de]||q,ye))},ye=0;for(const ft of pe)de!==ft.kind?(Ae(),de=ft.kind,ye=1,Q={type:"separator"},ge.push(Q)):ye++,ge.push(ft);Ae()}else pe.length>0&&(ge=[{label:(0,H.NC)("symbols","symbols ({0})",re.length),type:"separator"},...pe]);return ge})}compareByScore(Fe,Ze){if("number"!=typeof Fe.score&&"number"==typeof Ze.score)return 1;if("number"==typeof Fe.score&&"number"!=typeof Ze.score)return-1;if("number"==typeof Fe.score&&"number"==typeof Ze.score){if(Fe.score>Ze.score)return-1;if(Fe.score<Ze.score)return 1}return Fe.index<Ze.index?-1:Fe.index>Ze.index?1:0}compareByKindAndScore(Fe,Ze){const Ke=(R[Fe.kind]||q).localeCompare(R[Ze.kind]||q);return 0===Ke?this.compareByScore(Fe,Ze):Ke}getDocumentSymbols(Fe,Ze){return $(this,void 0,void 0,function*(){const ze=yield this._outlineModelService.getOrCreate(Fe,Ze);return Ze.isCancellationRequested?[]:ze.asListOfDocumentSymbols()})}};j.PREFIX="@",j.SCOPE_PREFIX=":",j.PREFIX_BY_CATEGORY=`${j.PREFIX}${j.SCOPE_PREFIX}`,j=function(he,Fe,Ze,ze){var Je,fe=arguments.length,Ke=fe<3?Fe:null===ze?ze=Object.getOwnPropertyDescriptor(Fe,Ze):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(he,Fe,Ze,ze);else for(var vt=he.length-1;vt>=0;vt--)(Je=he[vt])&&(Ke=(fe<3?Je(Ke):fe>3?Je(Fe,Ze,Ke):Je(Fe,Ze))||Ke);return fe>3&&Ke&&Object.defineProperty(Fe,Ze,Ke),Ke}([K(0,z.p),K(1,k.Je)],j);const q=(0,H.NC)("property","properties ({0})"),R={5:(0,H.NC)("method","methods ({0})"),11:(0,H.NC)("function","functions ({0})"),8:(0,H.NC)("_constructor","constructors ({0})"),12:(0,H.NC)("variable","variables ({0})"),4:(0,H.NC)("class","classes ({0})"),22:(0,H.NC)("struct","structs ({0})"),23:(0,H.NC)("event","events ({0})"),24:(0,H.NC)("operator","operators ({0})"),10:(0,H.NC)("interface","interfaces ({0})"),2:(0,H.NC)("namespace","namespaces ({0})"),3:(0,H.NC)("package","packages ({0})"),25:(0,H.NC)("typeParameter","type parameters ({0})"),1:(0,H.NC)("modules","modules ({0})"),6:(0,H.NC)("property","properties ({0})"),9:(0,H.NC)("enum","enumerations ({0})"),21:(0,H.NC)("enumMember","enumeration members ({0})"),14:(0,H.NC)("string","strings ({0})"),0:(0,H.NC)("file","files ({0})"),17:(0,H.NC)("array","arrays ({0})"),15:(0,H.NC)("number","numbers ({0})"),16:(0,H.NC)("boolean","booleans ({0})"),18:(0,H.NC)("object","objects ({0})"),19:(0,H.NC)("key","keys ({0})"),7:(0,H.NC)("field","fields ({0})"),13:(0,H.NC)("constant","constants ({0})")};var Z=e(25468),J=e(84724),Ce=e(60896),Se=e(22070),Ie=e(71901),xe=e(31864),Me=e(95102),Oe=e(72325),se=e(21156),Ee=function(he,Fe){return function(Ze,ze){Fe(Ze,ze,he)}};let me=class extends j{constructor(Fe,Ze,ze){super(Ze,ze),this.editorService=Fe,this.onDidActiveTextEditorControlChange=xe.ju.None}get activeTextEditorControl(){return(0,Se.f6)(this.editorService.getFocusedCodeEditor())}};me=function(he,Fe,Ze,ze){var Je,fe=arguments.length,Ke=fe<3?Fe:null===ze?ze=Object.getOwnPropertyDescriptor(Fe,Ze):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(he,Fe,Ze,ze);else for(var vt=he.length-1;vt>=0;vt--)(Je=he[vt])&&(Ke=(fe<3?Je(Ke):fe>3?Je(Fe,Ze,Ke):Je(Fe,Ze))||Ke);return fe>3&&Ke&&Object.defineProperty(Fe,Ze,Ke),Ke}([Ee(0,Ce.$),Ee(1,z.p),Ee(2,k.Je)],me);let Pe=(()=>{class he extends Me.R6{constructor(){super({id:he.ID,label:Ie.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Oe.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:Oe.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(Ze){Ze.get(se.eJ).quickAccess.show(j.PREFIX)}}return he.ID="editor.action.quickOutline",he})();(0,Me.Qr)(Pe),Z.B.as(J.IP.Quickaccess).registerQuickAccessProvider({ctor:me,prefix:j.PREFIX,helpEntries:[{description:Ie.aq.quickOutlineActionLabel,prefix:j.PREFIX,commandId:Pe.ID},{description:Ie.aq.quickOutlineByCategoryActionLabel,prefix:j.PREFIX_BY_CATEGORY}]})},16177:(yt,T,e)=>{"use strict";e.r(T);var s=e(25468),t=e(84724),l=e(71901),C=e(1200),f=e(21576),I=e(54980),b=e(21156),D=function(r,a){return function(u,n){a(u,n,r)}};let _=class hc{constructor(a,u){this.quickInputService=a,this.keybindingService=u,this.registry=s.B.as(t.IP.Quickaccess)}provide(a){const u=new f.SL;return u.add(a.onDidAccept(()=>{const[n]=a.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),u.add(a.onDidChangeValue(n=>{const d=this.registry.getQuickAccessProvider(n.substr(hc.PREFIX.length));d&&d.prefix&&d.prefix!==hc.PREFIX&&this.quickInputService.quickAccess.show(d.prefix,{preserveValue:!0})})),a.items=this.getQuickAccessProviders(),u}getQuickAccessProviders(){const a=[];for(const u of this.registry.getQuickAccessProviders().sort((n,d)=>n.prefix.localeCompare(d.prefix)))if(u.prefix!==hc.PREFIX)for(const n of u.helpEntries){const d=n.prefix||u.prefix,y=d||"\u2026";a.push({prefix:d,label:y,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,C.NC)("helpPickAriaLabel","{0}, {1}",y,n.description),description:n.description})}return a}};_.PREFIX="?",_=function(r,a,u,n){var g,d=arguments.length,y=d<3?a:null===n?n=Object.getOwnPropertyDescriptor(a,u):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,a,u,n);else for(var v=r.length-1;v>=0;v--)(g=r[v])&&(y=(d<3?g(y):d>3?g(a,u,y):g(a,u))||y);return d>3&&y&&Object.defineProperty(a,u,y),y}([D(0,b.eJ),D(1,I.d)],_),s.B.as(t.IP.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:"",helpEntries:[{description:l.ld.helpQuickAccessActionLabel}]})},74458:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{StandaloneReferencesController:()=>r});var s=e(95102),t=e(60896),l=e(19110),C=e(56767),f=e(38336),I=e(30888),b=e(83916),S=e(22735),_=function(a,u){return function(n,d){u(n,d,a)}};let r=class extends l.J{constructor(u,n,d,y,g,v,m){super(!0,u,n,d,y,g,v,m)}};r=function(a,u,n,d){var v,y=arguments.length,g=y<3?u:null===d?d=Object.getOwnPropertyDescriptor(u,n):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,u,n,d);else for(var m=a.length-1;m>=0;m--)(v=a[m])&&(g=(y<3?v(g):y>3?v(u,n,g):v(u,n))||g);return y>3&&g&&Object.defineProperty(u,n,g),g}([_(1,f.i6),_(2,t.$),_(3,b.lT),_(4,I.TG),_(5,S.Uy),_(6,C.Ui)],r),(0,s._K)(l.J.ID,r)},53314:(yt,T,e)=>{"use strict";e.d(T,{B:()=>v});var s=e(94418),t=e(34059),l=e(31864),C=e(21576),f=e(54847),I=e(14089);let _=class extends C.JT{constructor(w){super(),this._themeService=w,this._onCodeEditorAdd=this._register(new l.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new l.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new l.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new l.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new f.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(w){this._codeEditors[w.getId()]=w,this._onCodeEditorAdd.fire(w)}removeCodeEditor(w){delete this._codeEditors[w.getId()]&&this._onCodeEditorRemove.fire(w)}listCodeEditors(){return Object.keys(this._codeEditors).map(w=>this._codeEditors[w])}addDiffEditor(w){this._diffEditors[w.getId()]=w,this._onDiffEditorAdd.fire(w)}removeDiffEditor(w){delete this._diffEditors[w.getId()]&&this._onDiffEditorRemove.fire(w)}listDiffEditors(){return Object.keys(this._diffEditors).map(w=>this._diffEditors[w])}getFocusedCodeEditor(){let w=null;const E=this.listCodeEditors();for(const L of E){if(L.hasTextFocus())return L;L.hasWidgetFocus()&&(w=L)}return w}removeDecorationType(w){const E=this._decorationOptionProviders.get(w);E&&(E.refCount--,E.refCount<=0&&(this._decorationOptionProviders.delete(w),E.dispose(),this.listCodeEditors().forEach(L=>L.removeDecorationsByType(w))))}setModelProperty(w,E,L){const x=w.toString();let A;this._modelProperties.has(x)?A=this._modelProperties.get(x):(A=new Map,this._modelProperties.set(x,A)),A.set(E,L)}getModelProperty(w,E){const L=w.toString();if(this._modelProperties.has(L))return this._modelProperties.get(L).get(E)}openCodeEditor(w,E,L){return function(m,w,E,L){return new(E||(E=Promise))(function(A,k){function W(N){try{z(L.next(N))}catch(O){k(O)}}function H(N){try{z(L.throw(N))}catch(O){k(O)}}function z(N){N.done?A(N.value):function x(A){return A instanceof E?A:new E(function(k){k(A)})}(N.value).then(W,H)}z((L=L.apply(m,w||[])).next())})}(this,void 0,void 0,function*(){for(const x of this._codeEditorOpenHandlers){const A=yield x(w,E,L);if(null!==A)return A}return null})}registerCodeEditorOpenHandler(w){const E=this._codeEditorOpenHandlers.unshift(w);return(0,C.OF)(E)}};var w;_=function(m,w,E,L){var k,x=arguments.length,A=x<3?w:null===L?L=Object.getOwnPropertyDescriptor(w,E):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(m,w,E,L);else for(var W=m.length-1;W>=0;W--)(k=m[W])&&(A=(x<3?k(A):x>3?k(w,E,A):k(w,E))||A);return x>3&&A&&Object.defineProperty(w,E,A),A}([(0,w=I.XE,function(E,L){w(E,L,0)})],_);var a=e(60896),u=e(38336),n=e(53708),y=function(m,w){return function(E,L){w(E,L,m)}};let v=class extends _{constructor(w,E){super(E),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=w.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((L,x,A)=>function(m,w,E,L){return new(E||(E=Promise))(function(A,k){function W(N){try{z(L.next(N))}catch(O){k(O)}}function H(N){try{z(L.throw(N))}catch(O){k(O)}}function z(N){N.done?A(N.value):function x(A){return A instanceof E?A:new E(function(k){k(A)})}(N.value).then(W,H)}z((L=L.apply(m,w||[])).next())})}(this,void 0,void 0,function*(){return x?this.doOpenEditor(x,L):null}))}_checkContextKey(){let w=!1;for(const E of this.listCodeEditors())if(!E.isSimpleWidget){w=!0;break}this._editorIsOpen.set(w)}setActiveCodeEditor(w){this._activeCodeEditor=w}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(w,E){if(!this.findModel(w,E.resource)){if(E.resource){const A=E.resource.scheme;if(A===t.lg.http||A===t.lg.https)return(0,s.V3)(E.resource.toString()),w}return null}const x=E.options?E.options.selection:null;if(x)if("number"==typeof x.endLineNumber&&"number"==typeof x.endColumn)w.setSelection(x),w.revealRangeInCenter(x,1);else{const A={lineNumber:x.startLineNumber,column:x.startColumn};w.setPosition(A),w.revealPositionInCenter(A,1)}return w}findModel(w,E){const L=w.getModel();return L&&L.uri.toString()!==E.toString()?null:L}};v=function(m,w,E,L){var k,x=arguments.length,A=x<3?w:null===L?L=Object.getOwnPropertyDescriptor(w,E):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(m,w,E,L);else for(var W=m.length-1;W>=0;W--)(k=m[W])&&(A=(x<3?k(A):x>3?k(w,E,A):k(w,E))||A);return x>3&&A&&Object.defineProperty(w,E,A),A}([y(0,u.i6),y(1,I.XE)],v),(0,n.z)(a.$,v)},64455:(yt,T,e)=>{"use strict";e.d(T,{AC:()=>ir,zC:()=>xr,IO:()=>cr,XZ:()=>Ds}),e(15333),e(53314);var l=e(94418),C=e(31864),f=e(53192),I=e(60896),b=e(53708),S=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt},D=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};let _=class{constructor(le){this._codeEditorService=le,this.onDidLayout=C.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=l.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var le;null===(le=this._codeEditorService.getFocusedCodeEditor())||void 0===le||le.focus()}};_=S([D(0,I.$)],_);let r=class extends _{constructor(le,ve){super(ve),this._container=le}get hasContainer(){return!1}get container(){return this._container}};r=S([D(1,I.$)],r),(0,b.z)(f.F,_);var a=e(3219),u=e(21576),n=e(34059),d=e(91729),y=e(1200),g=e(34474),v=e(83916),m=e(87532),E=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}},L=function(Nn,le,ve,$e){return new(ve||(ve=Promise))(function(Nt,on){function Ln(Mi){try{vi($e.next(Mi))}catch(Ro){on(Ro)}}function Jn(Mi){try{vi($e.throw(Mi))}catch(Ro){on(Ro)}}function vi(Mi){Mi.done?Nt(Mi.value):function At(Nt){return Nt instanceof ve?Nt:new ve(function(on){on(Nt)})}(Mi.value).then(Ln,Jn)}vi(($e=$e.apply(Nn,le||[])).next())})};function A(Nn){return Nn.scheme===n.lg.file?Nn.fsPath:Nn.path}let k=0;class W{constructor(le,ve,$e,At,Nt,on,Ln){this.id=++k,this.type=0,this.actual=le,this.label=le.label,this.confirmBeforeUndo=le.confirmBeforeUndo||!1,this.resourceLabel=ve,this.strResource=$e,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=At,this.groupOrder=Nt,this.sourceId=on,this.sourceOrder=Ln,this.isValid=!0}setValid(le){this.isValid=le}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class H{constructor(le,ve){this.resourceLabel=le,this.reason=ve}}class z{constructor(){this.elements=new Map}createMessage(){const le=[],ve=[];for(const[,At]of this.elements)(0===At.reason?le:ve).push(At.resourceLabel);const $e=[];return le.length>0&&$e.push(y.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",le.join(", "))),ve.length>0&&$e.push(y.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",ve.join(", "))),$e.join("\n")}get size(){return this.elements.size}has(le){return this.elements.has(le)}set(le,ve){this.elements.set(le,ve)}delete(le){return this.elements.delete(le)}}class N{constructor(le,ve,$e,At,Nt,on,Ln){this.id=++k,this.type=1,this.actual=le,this.label=le.label,this.confirmBeforeUndo=le.confirmBeforeUndo||!1,this.resourceLabels=ve,this.strResources=$e,this.groupId=At,this.groupOrder=Nt,this.sourceId=on,this.sourceOrder=Ln,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(le,ve,$e){this.removedResources||(this.removedResources=new z),this.removedResources.has(ve)||this.removedResources.set(ve,new H(le,$e))}setValid(le,ve,$e){$e?this.invalidatedResources&&(this.invalidatedResources.delete(ve),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new z),this.invalidatedResources.has(ve)||this.invalidatedResources.set(ve,new H(le,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class O{constructor(le,ve){this.resourceLabel=le,this.strResource=ve,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const le of this._past)1===le.type&&le.removeResource(this.resourceLabel,this.strResource,0);for(const le of this._future)1===le.type&&le.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const le=[];le.push(`* ${this.strResource}:`);for(let ve=0;ve<this._past.length;ve++)le.push(`   * [UNDO] ${this._past[ve]}`);for(let ve=this._future.length-1;ve>=0;ve--)le.push(`   * [REDO] ${this._future[ve]}`);return le.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(le,ve){1===le.type?le.setValid(this.resourceLabel,this.strResource,ve):le.setValid(ve)}setElementsValidFlag(le,ve){for(const $e of this._past)ve($e.actual)&&this._setElementValidFlag($e,le);for(const $e of this._future)ve($e.actual)&&this._setElementValidFlag($e,le)}pushElement(le){for(const ve of this._future)1===ve.type&&ve.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(le),this.versionId++}createSnapshot(le){const ve=[];for(let $e=0,At=this._past.length;$e<At;$e++)ve.push(this._past[$e].id);for(let $e=this._future.length-1;$e>=0;$e--)ve.push(this._future[$e].id);return new m.YO(le,ve)}restoreSnapshot(le){const ve=le.elements.length;let $e=!0,At=0,Nt=-1;for(let Ln=0,Jn=this._past.length;Ln<Jn;Ln++,At++){const vi=this._past[Ln];$e&&(At>=ve||vi.id!==le.elements[At])&&($e=!1,Nt=0),!$e&&1===vi.type&&vi.removeResource(this.resourceLabel,this.strResource,0)}let on=-1;for(let Ln=this._future.length-1;Ln>=0;Ln--,At++){const Jn=this._future[Ln];$e&&(At>=ve||Jn.id!==le.elements[At])&&($e=!1,on=Ln),!$e&&1===Jn.type&&Jn.removeResource(this.resourceLabel,this.strResource,0)}-1!==Nt&&(this._past=this._past.slice(0,Nt)),-1!==on&&(this._future=this._future.slice(on+1)),this.versionId++}getElements(){const le=[],ve=[];for(const $e of this._past)le.push($e.actual);for(const $e of this._future)ve.push($e.actual);return{past:le,future:ve}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(le,ve){for(let $e=this._past.length-1;$e>=0;$e--)if(this._past[$e]===le){ve.has(this.strResource)?this._past[$e]=ve.get(this.strResource):this._past.splice($e,1);break}this.versionId++}splitFutureWorkspaceElement(le,ve){for(let $e=this._future.length-1;$e>=0;$e--)if(this._future[$e]===le){ve.has(this.strResource)?this._future[$e]=ve.get(this.strResource):this._future.splice($e,1);break}this.versionId++}moveBackward(le){this._past.pop(),this._future.push(le),this.versionId++}moveForward(le){this._future.pop(),this._past.push(le),this.versionId++}}class K{constructor(le){this.editStacks=le,this._versionIds=[];for(let ve=0,$e=this.editStacks.length;ve<$e;ve++)this._versionIds[ve]=this.editStacks[ve].versionId}isValid(){for(let le=0,ve=this.editStacks.length;le<ve;le++)if(this._versionIds[le]!==this.editStacks[le].versionId)return!1;return!0}}const $=new O("","");$.locked=!0;let j=class{constructor(le,ve){this._dialogService=le,this._notificationService=ve,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(le){for(const ve of this._uriComparisonKeyComputers)if(ve[0]===le.scheme)return ve[1].getComparisonKey(le);return le.toString()}_print(le){console.log("------------------------------------"),console.log(`AFTER ${le}: `);const ve=[];for(const $e of this._editStacks)ve.push($e[1].toString());console.log(ve.join("\n"))}pushElement(le,ve=m.Xt.None,$e=m.gJ.None){if(0===le.type){const At=A(le.resource),Nt=this.getUriComparisonKey(le.resource);this._pushElement(new W(le,At,Nt,ve.id,ve.nextOrder(),$e.id,$e.nextOrder()))}else{const At=new Set,Nt=[],on=[];for(const Ln of le.resources){const Jn=A(Ln),vi=this.getUriComparisonKey(Ln);At.has(vi)||(At.add(vi),Nt.push(Jn),on.push(vi))}this._pushElement(1===Nt.length?new W(le,Nt[0],on[0],ve.id,ve.nextOrder(),$e.id,$e.nextOrder()):new N(le,Nt,on,ve.id,ve.nextOrder(),$e.id,$e.nextOrder()))}}_pushElement(le){for(let ve=0,$e=le.strResources.length;ve<$e;ve++){const At=le.resourceLabels[ve],Nt=le.strResources[ve];let on;this._editStacks.has(Nt)?on=this._editStacks.get(Nt):(on=new O(At,Nt),this._editStacks.set(Nt,on)),on.pushElement(le)}}getLastElement(le){const ve=this.getUriComparisonKey(le);if(this._editStacks.has(ve)){const $e=this._editStacks.get(ve);if($e.hasFutureElements())return null;const At=$e.getClosestPastElement();return At?At.actual:null}return null}_splitPastWorkspaceElement(le,ve){const $e=le.actual.split(),At=new Map;for(const Nt of $e){const on=A(Nt.resource),Ln=this.getUriComparisonKey(Nt.resource),Jn=new W(Nt,on,Ln,0,0,0,0);At.set(Jn.strResource,Jn)}for(const Nt of le.strResources)ve&&ve.has(Nt)||this._editStacks.get(Nt).splitPastWorkspaceElement(le,At)}_splitFutureWorkspaceElement(le,ve){const $e=le.actual.split(),At=new Map;for(const Nt of $e){const on=A(Nt.resource),Ln=this.getUriComparisonKey(Nt.resource),Jn=new W(Nt,on,Ln,0,0,0,0);At.set(Jn.strResource,Jn)}for(const Nt of le.strResources)ve&&ve.has(Nt)||this._editStacks.get(Nt).splitFutureWorkspaceElement(le,At)}removeElements(le){const ve="string"==typeof le?le:this.getUriComparisonKey(le);this._editStacks.has(ve)&&(this._editStacks.get(ve).dispose(),this._editStacks.delete(ve))}setElementsValidFlag(le,ve,$e){const At=this.getUriComparisonKey(le);this._editStacks.has(At)&&this._editStacks.get(At).setElementsValidFlag(ve,$e)}createSnapshot(le){const ve=this.getUriComparisonKey(le);return this._editStacks.has(ve)?this._editStacks.get(ve).createSnapshot(le):new m.YO(le,[])}restoreSnapshot(le){const ve=this.getUriComparisonKey(le.resource);if(this._editStacks.has(ve)){const $e=this._editStacks.get(ve);$e.restoreSnapshot(le),!$e.hasPastElements()&&!$e.hasFutureElements()&&($e.dispose(),this._editStacks.delete(ve))}}getElements(le){const ve=this.getUriComparisonKey(le);return this._editStacks.has(ve)?this._editStacks.get(ve).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(le){if(!le)return[null,null];let ve=null,$e=null;for(const[At,Nt]of this._editStacks){const on=Nt.getClosestPastElement();on&&on.sourceId===le&&(!ve||on.sourceOrder>ve.sourceOrder)&&(ve=on,$e=At)}return[ve,$e]}canUndo(le){if(le instanceof m.gJ){const[,$e]=this._findClosestUndoElementWithSource(le.id);return!!$e}const ve=this.getUriComparisonKey(le);return!!this._editStacks.has(ve)&&this._editStacks.get(ve).hasPastElements()}_onError(le,ve){(0,a.dL)(le);for(const $e of ve.strResources)this.removeElements($e);this._notificationService.error(le)}_acquireLocks(le){for(const ve of le.editStacks)if(ve.locked)throw new Error("Cannot acquire edit stack lock");for(const ve of le.editStacks)ve.locked=!0;return()=>{for(const ve of le.editStacks)ve.locked=!1}}_safeInvokeWithLocks(le,ve,$e,At,Nt){const on=this._acquireLocks($e);let Ln;try{Ln=ve()}catch(Jn){return on(),At.dispose(),this._onError(Jn,le)}return Ln?Ln.then(()=>(on(),At.dispose(),Nt()),Jn=>(on(),At.dispose(),this._onError(Jn,le))):(on(),At.dispose(),Nt())}_invokeWorkspacePrepare(le){return L(this,void 0,void 0,function*(){if(typeof le.actual.prepareUndoRedo>"u")return u.JT.None;const ve=le.actual.prepareUndoRedo();return typeof ve>"u"?u.JT.None:ve})}_invokeResourcePrepare(le,ve){if(1!==le.actual.type||typeof le.actual.prepareUndoRedo>"u")return ve(u.JT.None);const $e=le.actual.prepareUndoRedo();return $e?(0,u.Wf)($e)?ve($e):$e.then(At=>ve(At)):ve(u.JT.None)}_getAffectedEditStacks(le){const ve=[];for(const $e of le.strResources)ve.push(this._editStacks.get($e)||$);return new K(ve)}_tryToSplitAndUndo(le,ve,$e,At){if(ve.canSplit())return this._splitPastWorkspaceElement(ve,$e),this._notificationService.warn(At),new q(this._undo(le,0,!0));for(const Nt of ve.strResources)this.removeElements(Nt);return this._notificationService.warn(At),new q}_checkWorkspaceUndo(le,ve,$e,At){if(ve.removedResources)return this._tryToSplitAndUndo(le,ve,ve.removedResources,y.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",ve.label,ve.removedResources.createMessage()));if(At&&ve.invalidatedResources)return this._tryToSplitAndUndo(le,ve,ve.invalidatedResources,y.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",ve.label,ve.invalidatedResources.createMessage()));const Nt=[];for(const Ln of $e.editStacks)Ln.getClosestPastElement()!==ve&&Nt.push(Ln.resourceLabel);if(Nt.length>0)return this._tryToSplitAndUndo(le,ve,null,y.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",ve.label,Nt.join(", ")));const on=[];for(const Ln of $e.editStacks)Ln.locked&&on.push(Ln.resourceLabel);return on.length>0?this._tryToSplitAndUndo(le,ve,null,y.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",ve.label,on.join(", "))):$e.isValid()?null:this._tryToSplitAndUndo(le,ve,null,y.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",ve.label))}_workspaceUndo(le,ve,$e){const At=this._getAffectedEditStacks(ve),Nt=this._checkWorkspaceUndo(le,ve,At,!1);return Nt?Nt.returnValue:this._confirmAndExecuteWorkspaceUndo(le,ve,At,$e)}_isPartOfUndoGroup(le){if(!le.groupId)return!1;for(const[,ve]of this._editStacks){const $e=ve.getClosestPastElement();if($e){if($e===le){const At=ve.getSecondClosestPastElement();if(At&&At.groupId===le.groupId)return!0}if($e.groupId===le.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(le,ve,$e,At){return L(this,void 0,void 0,function*(){if(ve.canSplit()&&!this._isPartOfUndoGroup(ve)){const Ln=yield this._dialogService.show(d.Z.Info,y.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",ve.label),[y.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",$e.editStacks.length),y.NC("nok","Undo this File"),y.NC("cancel","Cancel")],{cancelId:2});if(2===Ln.choice)return;if(1===Ln.choice)return this._splitPastWorkspaceElement(ve,null),this._undo(le,0,!0);const Jn=this._checkWorkspaceUndo(le,ve,$e,!1);if(Jn)return Jn.returnValue;At=!0}let Nt;try{Nt=yield this._invokeWorkspacePrepare(ve)}catch(Ln){return this._onError(Ln,ve)}const on=this._checkWorkspaceUndo(le,ve,$e,!0);if(on)return Nt.dispose(),on.returnValue;for(const Ln of $e.editStacks)Ln.moveBackward(ve);return this._safeInvokeWithLocks(ve,()=>ve.actual.undo(),$e,Nt,()=>this._continueUndoInGroup(ve.groupId,At))})}_resourceUndo(le,ve,$e){if(ve.isValid){if(!le.locked)return this._invokeResourcePrepare(ve,At=>(le.moveBackward(ve),this._safeInvokeWithLocks(ve,()=>ve.actual.undo(),new K([le]),At,()=>this._continueUndoInGroup(ve.groupId,$e))));{const At=y.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",ve.label);this._notificationService.warn(At)}}else le.flushAllElements()}_findClosestUndoElementInGroup(le){if(!le)return[null,null];let ve=null,$e=null;for(const[At,Nt]of this._editStacks){const on=Nt.getClosestPastElement();on&&on.groupId===le&&(!ve||on.groupOrder>ve.groupOrder)&&(ve=on,$e=At)}return[ve,$e]}_continueUndoInGroup(le,ve){if(!le)return;const[,$e]=this._findClosestUndoElementInGroup(le);return $e?this._undo($e,0,ve):void 0}undo(le){if(le instanceof m.gJ){const[,ve]=this._findClosestUndoElementWithSource(le.id);return ve?this._undo(ve,le.id,!1):void 0}return this._undo("string"==typeof le?le:this.getUriComparisonKey(le),0,!1)}_undo(le,ve=0,$e){if(!this._editStacks.has(le))return;const At=this._editStacks.get(le),Nt=At.getClosestPastElement();if(Nt){if(Nt.groupId){const[Ln,Jn]=this._findClosestUndoElementInGroup(Nt.groupId);if(Nt!==Ln&&Jn)return this._undo(Jn,ve,$e)}if((Nt.sourceId!==ve||Nt.confirmBeforeUndo)&&!$e)return this._confirmAndContinueUndo(le,ve,Nt);try{return 1===Nt.type?this._workspaceUndo(le,Nt,$e):this._resourceUndo(At,Nt,$e)}finally{}}}_confirmAndContinueUndo(le,ve,$e){return L(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(d.Z.Info,y.NC("confirmDifferentSource","Would you like to undo '{0}'?",$e.label),[y.NC("confirmDifferentSource.yes","Yes"),y.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(le,ve,!0)})}_findClosestRedoElementWithSource(le){if(!le)return[null,null];let ve=null,$e=null;for(const[At,Nt]of this._editStacks){const on=Nt.getClosestFutureElement();on&&on.sourceId===le&&(!ve||on.sourceOrder<ve.sourceOrder)&&(ve=on,$e=At)}return[ve,$e]}canRedo(le){if(le instanceof m.gJ){const[,$e]=this._findClosestRedoElementWithSource(le.id);return!!$e}const ve=this.getUriComparisonKey(le);return!!this._editStacks.has(ve)&&this._editStacks.get(ve).hasFutureElements()}_tryToSplitAndRedo(le,ve,$e,At){if(ve.canSplit())return this._splitFutureWorkspaceElement(ve,$e),this._notificationService.warn(At),new q(this._redo(le));for(const Nt of ve.strResources)this.removeElements(Nt);return this._notificationService.warn(At),new q}_checkWorkspaceRedo(le,ve,$e,At){if(ve.removedResources)return this._tryToSplitAndRedo(le,ve,ve.removedResources,y.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",ve.label,ve.removedResources.createMessage()));if(At&&ve.invalidatedResources)return this._tryToSplitAndRedo(le,ve,ve.invalidatedResources,y.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",ve.label,ve.invalidatedResources.createMessage()));const Nt=[];for(const Ln of $e.editStacks)Ln.getClosestFutureElement()!==ve&&Nt.push(Ln.resourceLabel);if(Nt.length>0)return this._tryToSplitAndRedo(le,ve,null,y.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",ve.label,Nt.join(", ")));const on=[];for(const Ln of $e.editStacks)Ln.locked&&on.push(Ln.resourceLabel);return on.length>0?this._tryToSplitAndRedo(le,ve,null,y.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",ve.label,on.join(", "))):$e.isValid()?null:this._tryToSplitAndRedo(le,ve,null,y.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",ve.label))}_workspaceRedo(le,ve){const $e=this._getAffectedEditStacks(ve),At=this._checkWorkspaceRedo(le,ve,$e,!1);return At?At.returnValue:this._executeWorkspaceRedo(le,ve,$e)}_executeWorkspaceRedo(le,ve,$e){return L(this,void 0,void 0,function*(){let At;try{At=yield this._invokeWorkspacePrepare(ve)}catch(on){return this._onError(on,ve)}const Nt=this._checkWorkspaceRedo(le,ve,$e,!0);if(Nt)return At.dispose(),Nt.returnValue;for(const on of $e.editStacks)on.moveForward(ve);return this._safeInvokeWithLocks(ve,()=>ve.actual.redo(),$e,At,()=>this._continueRedoInGroup(ve.groupId))})}_resourceRedo(le,ve){if(ve.isValid){if(!le.locked)return this._invokeResourcePrepare(ve,$e=>(le.moveForward(ve),this._safeInvokeWithLocks(ve,()=>ve.actual.redo(),new K([le]),$e,()=>this._continueRedoInGroup(ve.groupId))));{const $e=y.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",ve.label);this._notificationService.warn($e)}}else le.flushAllElements()}_findClosestRedoElementInGroup(le){if(!le)return[null,null];let ve=null,$e=null;for(const[At,Nt]of this._editStacks){const on=Nt.getClosestFutureElement();on&&on.groupId===le&&(!ve||on.groupOrder<ve.groupOrder)&&(ve=on,$e=At)}return[ve,$e]}_continueRedoInGroup(le){if(!le)return;const[,ve]=this._findClosestRedoElementInGroup(le);return ve?this._redo(ve):void 0}redo(le){if(le instanceof m.gJ){const[,ve]=this._findClosestRedoElementWithSource(le.id);return ve?this._redo(ve):void 0}return this._redo("string"==typeof le?le:this.getUriComparisonKey(le))}_redo(le){if(!this._editStacks.has(le))return;const ve=this._editStacks.get(le),$e=ve.getClosestFutureElement();if($e){if($e.groupId){const[At,Nt]=this._findClosestRedoElementInGroup($e.groupId);if($e!==At&&Nt)return this._redo(Nt)}try{return 1===$e.type?this._workspaceRedo(le,$e):this._resourceRedo(ve,$e)}finally{}}}};j=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([E(0,g.S),E(1,v.lT)],j);class q{constructor(le){this.returnValue=le}}(0,b.z)(m.tJ,j),e(54693);var Z=e(77697),J=e(47888),Ce=e(99385),Se=e(84834),Ie=e(56740),xe=e(59961),Me=e(3044),Oe=e(37304),se=e(13902),ce=e(88154),Ee=e(44378),me=e(97953),Pe=e(42930),he=e(34468),Fe=e(56767),Ze=e(54439),ze=e(38336),fe=e(30888),Ke=e(41883);const Je=/^(cursor|delete)/;class vt extends u.JT{constructor(le,ve,$e,At,Nt){super(),this._contextKeyService=le,this._commandService=ve,this._telemetryService=$e,this._notificationService=At,this._logService=Nt,this._onDidUpdateKeybindings=this._register(new C.Q5),this._currentChord=null,this._currentChordChecker=new Ke.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Et.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Ke._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:C.ju.None}dispose(){super.dispose()}_log(le){this._logging&&this._logService.info(`[KeybindingService]: ${le}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(le,ve){const $e=this._getResolver().lookupPrimaryKeybinding(le,ve||this._contextKeyService);if($e)return $e.resolvedKeybinding}dispatchEvent(le,ve){return this._dispatch(le,ve)}softDispatch(le,ve){this._log("/ Soft dispatching keyboard event");const $e=this.resolveKeyboardEvent(le);if($e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[At]=$e.getDispatchParts();if(null===At)return this._log("\\ Keyboard event cannot be dispatched"),null;const Nt=this._contextKeyService.getContext(ve),on=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(Nt,on,At)}_enterChordMode(le,ve){this._currentChord={keypress:le,label:ve},this._currentChordStatusMessage=this._notificationService.status(y.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",ve));const $e=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-$e>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(le,ve){return this._doDispatch(this.resolveKeyboardEvent(le),ve,!1)}_singleModifierDispatch(le,ve){const $e=this.resolveKeyboardEvent(le),[At]=$e.getSingleModifierDispatchParts();if(At)return this._ignoreSingleModifiers.has(At)?(this._log(`+ Ignoring single modifier ${At} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Et.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Et.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${At}.`),this._currentSingleModifier=At,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):At===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${At} ${At}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch($e,ve,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${At}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[Nt]=$e.getParts();return this._ignoreSingleModifiers=new Et(Nt),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(le,ve,$e=!1){let At=!1;if(le.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let Nt=null,on=null;if($e){const[Mi]=le.getSingleModifierDispatchParts();Nt=Mi,on=Mi}else[Nt]=le.getDispatchParts(),on=this._currentChord?this._currentChord.keypress:null;if(null===Nt)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),At;const Ln=this._contextKeyService.getContext(ve),Jn=le.getLabel(),vi=this._getResolver().resolve(Ln,on,Nt);return this._logService.trace("KeybindingService#dispatch",Jn,vi?.commandId),vi&&vi.enterChord?(At=!0,this._enterChordMode(Nt,Jn),this._log("+ Entering chord mode..."),At):(this._currentChord&&(!vi||!vi.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${Jn}".`),this._notificationService.status(y.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,Jn),{hideAfter:1e4}),At=!0),this._leaveChordMode(),vi&&vi.commandId&&(vi.bubble||(At=!0),this._log(`+ Invoking command ${vi.commandId}.`),typeof vi.commandArgs>"u"?this._commandService.executeCommand(vi.commandId).then(void 0,Mi=>this._notificationService.warn(Mi)):this._commandService.executeCommand(vi.commandId,vi.commandArgs).then(void 0,Mi=>this._notificationService.warn(Mi)),Je.test(vi.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:vi.commandId,from:"keybinding"})),At)}mightProducePrintableCharacter(le){return!le.ctrlKey&&!le.metaKey&&(le.keyCode>=31&&le.keyCode<=56||le.keyCode>=21&&le.keyCode<=30)}}class Et{constructor(le){this._ctrlKey=!!le&&le.ctrlKey,this._shiftKey=!!le&&le.shiftKey,this._altKey=!!le&&le.altKey,this._metaKey=!!le&&le.metaKey}has(le){switch(le){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Et.EMPTY=new Et(null);var Xe=e(54980);class re{constructor(le,ve,$e){this._log=$e,this._defaultKeybindings=le,this._defaultBoundCommands=new Map;for(const At of le){const Nt=At.command;Nt&&"-"!==Nt.charAt(0)&&this._defaultBoundCommands.set(Nt,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=re.handleRemovals([].concat(le).concat(ve));for(let At=0,Nt=this._keybindings.length;At<Nt;At++){const on=this._keybindings[At];0!==on.keypressParts.length&&(on.when&&0===on.when.type||this._addKeyPress(on.keypressParts[0],on))}}static _isTargetedForRemoval(le,ve,$e,At){return!(ve&&le.keypressParts[0]!==ve||$e&&le.keypressParts[1]!==$e||At&&(!le.when||!(0,ze.Fb)(At,le.when)))}static handleRemovals(le){const ve=new Map;for(let At=0,Nt=le.length;At<Nt;At++){const on=le[At];if(on.command&&"-"===on.command.charAt(0)){const Ln=on.command.substring(1);ve.has(Ln)?ve.get(Ln).push(on):ve.set(Ln,[on])}}if(0===ve.size)return le;const $e=[];for(let At=0,Nt=le.length;At<Nt;At++){const on=le[At];if(!on.command||0===on.command.length){$e.push(on);continue}if("-"===on.command.charAt(0))continue;const Ln=ve.get(on.command);if(!Ln||!on.isDefault){$e.push(on);continue}let Jn=!1;for(const vi of Ln)if(this._isTargetedForRemoval(on,vi.keypressParts[0],vi.keypressParts[1],vi.when)){Jn=!0;break}Jn||$e.push(on)}return $e}_addKeyPress(le,ve){const $e=this._map.get(le);if(typeof $e>"u")return this._map.set(le,[ve]),void this._addToLookupMap(ve);for(let At=$e.length-1;At>=0;At--){const Nt=$e[At];Nt.command!==ve.command&&(Nt.keypressParts.length>1&&ve.keypressParts.length>1&&Nt.keypressParts[1]!==ve.keypressParts[1]||re.whenIsEntirelyIncluded(Nt.when,ve.when)&&this._removeFromLookupMap(Nt))}$e.push(ve),this._addToLookupMap(ve)}_addToLookupMap(le){if(!le.command)return;let ve=this._lookupMap.get(le.command);typeof ve>"u"?(ve=[le],this._lookupMap.set(le.command,ve)):ve.push(le)}_removeFromLookupMap(le){if(!le.command)return;const ve=this._lookupMap.get(le.command);if(!(typeof ve>"u"))for(let $e=0,At=ve.length;$e<At;$e++)if(ve[$e]===le)return void ve.splice($e,1)}static whenIsEntirelyIncluded(le,ve){return!ve||1===ve.type||!(!le||1===le.type)&&(0,ze.K8)(le,ve)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(le,ve){const $e=this._lookupMap.get(le);if(typeof $e>"u"||0===$e.length)return null;if(1===$e.length)return $e[0];for(let At=$e.length-1;At>=0;At--){const Nt=$e[At];if(ve.contextMatchesRules(Nt.when))return Nt}return $e[$e.length-1]}resolve(le,ve,$e){this._log(`| Resolving ${$e}${ve?` chorded from ${ve}`:""}`);let At=null;if(null!==ve){const on=this._map.get(ve);if(typeof on>"u")return this._log("\\ No keybinding entries."),null;At=[];for(let Ln=0,Jn=on.length;Ln<Jn;Ln++){const vi=on[Ln];vi.keypressParts[1]===$e&&At.push(vi)}}else{const on=this._map.get($e);if(typeof on>"u")return this._log("\\ No keybinding entries."),null;At=on}const Nt=this._findCommand(le,At);return Nt?null===ve&&Nt.keypressParts.length>1&&null!==Nt.keypressParts[1]?(this._log(`\\ From ${At.length} keybinding entries, matched chord, when: ${pe(Nt.when)}, source: ${ge(Nt)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${At.length} keybinding entries, matched ${Nt.command}, when: ${pe(Nt.when)}, source: ${ge(Nt)}.`),{enterChord:!1,leaveChord:Nt.keypressParts.length>1,commandId:Nt.command,commandArgs:Nt.commandArgs,bubble:Nt.bubble}):(this._log(`\\ From ${At.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(le,ve){for(let $e=ve.length-1;$e>=0;$e--){const At=ve[$e];if(re._contextMatchesRules(le,At.when))return At}return null}static _contextMatchesRules(le,ve){return!ve||ve.evaluate(le)}}function pe(Nn){return Nn?`${Nn.serialize()}`:"no when condition"}function ge(Nn){return Nn.extensionId?Nn.isBuiltinExtension?`built-in extension ${Nn.extensionId}`:`user extension ${Nn.extensionId}`:Nn.isDefault?"built-in":"user"}var de=e(47545),Q=e(50603),ye=e(93547),Ae=e(79889),ft=e(26109),dt=e(90062),it=e(83310),et=e(71901),st=e(9590),St=e(57908),mt=e(61573),bt=e(64170),Bt=e(20570),Lt=e(8406),Ye=e(92123),Tt=e.n(Ye),qt=e(65057),Ot=e.n(qt),Ft=e(28764),rt=e.n(Ft),Le=e(6557),ie=e.n(Le),te=e(11146),oe=e.n(te),we=e(95085),nt=e.n(we),He=e(4641),De={};De.styleTagTransform=nt(),De.setAttributes=ie(),De.insert=rt().bind(null,"head"),De.domAPI=Ot(),De.insertStyleElement=oe(),Tt()(He.Z,De);var Ht=(()=>((Ht=Ht||{})[Ht.AVOID=0]="AVOID",Ht[Ht.ALIGN=1]="ALIGN",Ht))();function Xt(Nn,le,ve){const $e=ve.mode===Ht.ALIGN?ve.offset:ve.offset+ve.size,At=ve.mode===Ht.ALIGN?ve.offset+ve.size:ve.offset;return 0===ve.position?le<=Nn-$e?$e:le<=At?At-le:Math.max(Nn-le,0):le<=At?At-le:le<=Nn-$e?$e:0}let ut=(()=>{class Nn extends u.JT{constructor(ve,$e){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=u.JT.None,this.toDisposeOnSetContainer=u.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=l.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,l.Cp(this.view),this.setContainer(ve,$e),this._register((0,u.OF)(()=>this.setContainer(null,1)))}setContainer(ve,$e){var At;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(At=this.shadowRootHostElement)||void 0===At||At.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),ve){if(this.container=ve,this.useFixedPosition=1!==$e,this.useShadowDOM=3===$e,this.useShadowDOM){this.shadowRootHostElement=l.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const on=document.createElement("style");on.textContent=an,this.shadowRoot.appendChild(on),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(l.$("slot"))}else this.container.appendChild(this.view);const Nt=new u.SL;Nn.BUBBLE_UP_EVENTS.forEach(on=>{Nt.add(l.mu(this.container,on,Ln=>{this.onDOMEvent(Ln,!1)}))}),Nn.BUBBLE_DOWN_EVENTS.forEach(on=>{Nt.add(l.mu(this.container,on,Ln=>{this.onDOMEvent(Ln,!0)},!0))}),this.toDisposeOnSetContainer=Nt}}show(ve){var $e,At;this.isVisible()&&this.hide(),l.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",l.$Z(this.view),this.toDisposeOnClean=ve.render(this.view)||u.JT.None,this.delegate=ve,this.doLayout(),null===(At=($e=this.delegate).focus)||void 0===At||At.call($e)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||Se.gn&&Bt.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const ve=this.delegate.getAnchor();let $e;if(l.Re(ve)){const Xo=l.i(ve),zo=l.I8(ve);$e={top:Xo.top*zo,left:Xo.left*zo,width:Xo.width*zo,height:Xo.height*zo}}else $e={top:ve.y,left:ve.x,width:ve.width||1,height:ve.height||2};const At=l.w(this.view),Nt=l.wn(this.view),on=this.delegate.anchorPosition||0,Ln=this.delegate.anchorAlignment||0;let vi,Mi;if(0===(this.delegate.anchorAxisAlignment||0)){const Xo={offset:$e.top-window.pageYOffset,size:$e.height,position:0===on?0:1},zo={offset:$e.left,size:$e.width,position:0===Ln?0:1,mode:Ht.ALIGN};vi=Xt(window.innerHeight,Nt,Xo)+window.pageYOffset,Lt.e.intersects({start:vi,end:vi+Nt},{start:Xo.offset,end:Xo.offset+Xo.size})&&(zo.mode=Ht.AVOID),Mi=Xt(window.innerWidth,At,zo)}else{const Xo={offset:$e.left,size:$e.width,position:0===Ln?0:1},zo={offset:$e.top,size:$e.height,position:0===on?0:1,mode:Ht.ALIGN};Mi=Xt(window.innerWidth,At,Xo),Lt.e.intersects({start:Mi,end:Mi+At},{start:Xo.offset,end:Xo.offset+Xo.size})&&(zo.mode=Ht.AVOID),vi=Xt(window.innerHeight,Nt,zo)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===on?"bottom":"top"),this.view.classList.add(0===Ln?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Ro=l.i(this.container);this.view.style.top=vi-(this.useFixedPosition?l.i(this.view).top:Ro.top)+"px",this.view.style.left=Mi-(this.useFixedPosition?l.i(this.view).left:Ro.left)+"px",this.view.style.width="initial"}hide(ve){const $e=this.delegate;this.delegate=null,$e?.onHide&&$e.onHide(ve),this.toDisposeOnClean.dispose(),l.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(ve,$e){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(ve,document.activeElement):$e&&!l.jg(ve.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return Nn.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Nn.BUBBLE_DOWN_EVENTS=["click"],Nn})();const an='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let li=class extends u.JT{constructor(le){super(),this.layoutService=le,this.currentViewDisposable=u.JT.None,this.container=le.hasContainer?le.container:null,this.contextView=this._register(new ut(this.container,1)),this.layout(),this._register(le.onDidLayout(()=>this.layout()))}setContainer(le,ve){this.contextView.setContainer(le,ve||1)}showContextView(le,ve,$e){ve?(ve!==this.container||this.shadowRoot!==$e)&&(this.container=ve,this.setContainer(ve,$e?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=$e,this.contextView.show(le);const At=(0,u.OF)(()=>{this.currentViewDisposable===At&&this.hideContextView()});return this.currentViewDisposable=At,At}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(le){this.contextView.hide(le)}};var le;li=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([(0,le=f.F,function(ve,$e){le(ve,$e,0)})],li);var fi=e(65107),ri=e(14089),_i=e(46073),Xi=e(52253),Zi=e(52364),vo=e(3847),oo=e(43219),yo=e(99670),Lo=e(2654),oi=e(36608),en=e(51153),wt=e(1853);const Dt=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,$t=/(&amp;)?(&amp;)([^\s&])/g;var tn=(()=>((tn=tn||{})[tn.Right=0]="Right",tn[tn.Left=1]="Left",tn))();class cn extends vo.o{constructor(le,ve,$e={}){le.classList.add("monaco-menu-container"),le.setAttribute("role","presentation");const At=document.createElement("div");At.classList.add("monaco-menu"),At.setAttribute("role","presentation"),super(At,{orientation:1,actionViewItemProvider:Ln=>this.doGetActionViewItem(Ln,$e,Nt),context:$e.context,actionRunner:$e.actionRunner,ariaLabel:$e.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Se.dz||Se.IJ?[10]:[]],keyDown:!0}}),this.menuElement=At,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new u.SL),this.initializeOrUpdateStyleSheet(le,{}),this._register(Zi.o.addTarget(At)),(0,l.nm)(At,l.tw.KEY_DOWN,Ln=>{new J.y(Ln).equals(2)&&Ln.preventDefault()}),$e.enableMnemonics&&this.menuDisposables.add((0,l.nm)(At,l.tw.KEY_DOWN,Ln=>{const Jn=Ln.key.toLocaleLowerCase();if(this.mnemonics.has(Jn)){l.zB.stop(Ln,!0);const vi=this.mnemonics.get(Jn);if(1===vi.length&&(vi[0]instanceof Pn&&vi[0].container&&this.focusItemByElement(vi[0].container),vi[0].onClick(Ln)),vi.length>1){const Mi=vi.shift();Mi&&Mi.container&&(this.focusItemByElement(Mi.container),vi.push(Mi)),this.mnemonics.set(Jn,vi)}}})),Se.IJ&&this._register((0,l.nm)(At,l.tw.KEY_DOWN,Ln=>{const Jn=new J.y(Ln);Jn.equals(14)||Jn.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),l.zB.stop(Ln,!0)):(Jn.equals(13)||Jn.equals(12))&&(this.focusedItem=0,this.focusPrevious(),l.zB.stop(Ln,!0))})),this._register((0,l.nm)(this.domNode,l.tw.MOUSE_OUT,Ln=>{(0,l.jg)(Ln.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),Ln.stopPropagation())})),this._register((0,l.nm)(this.actionsList,l.tw.MOUSE_OVER,Ln=>{let Jn=Ln.target;if(Jn&&(0,l.jg)(Jn,this.actionsList)&&Jn!==this.actionsList){for(;Jn.parentElement!==this.actionsList&&null!==Jn.parentElement;)Jn=Jn.parentElement;if(Jn.classList.contains("action-item")){const vi=this.focusedItem;this.setFocusedItem(Jn),vi!==this.focusedItem&&this.updateFocus()}}})),this._register(Zi.o.addTarget(this.actionsList)),this._register((0,l.nm)(this.actionsList,Zi.t.Tap,Ln=>{let Jn=Ln.initialTarget;if(Jn&&(0,l.jg)(Jn,this.actionsList)&&Jn!==this.actionsList){for(;Jn.parentElement!==this.actionsList&&null!==Jn.parentElement;)Jn=Jn.parentElement;if(Jn.classList.contains("action-item")){const vi=this.focusedItem;this.setFocusedItem(Jn),vi!==this.focusedItem&&this.updateFocus()}}}));const Nt={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Lo.s$(At,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const on=this.scrollableElement.getDomNode();on.style.position="",this._register((0,l.nm)(At,Zi.t.Change,Ln=>{l.zB.stop(Ln,!0);const Jn=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Jn-Ln.translationY})})),this._register((0,l.nm)(on,l.tw.MOUSE_UP,Ln=>{Ln.preventDefault()})),At.style.maxHeight=`${Math.max(10,window.innerHeight-le.getBoundingClientRect().top-35)}px`,ve=ve.filter(Ln=>{var Jn;return null===(Jn=$e.submenuIds)||void 0===Jn||!Jn.has(Ln.id)||(console.warn(`Found submenu cycle: ${Ln.id}`),!1)}),this.push(ve,{icon:!0,label:!0,isMenu:!0}),le.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(Ln=>!(Ln instanceof Hn)).forEach((Ln,Jn,vi)=>{Ln.updatePositionInSet(Jn+1,vi.length)})}initializeOrUpdateStyleSheet(le,ve){this.styleSheet||((0,l.OO)(le)?this.styleSheet=(0,l.dS)(le):(cn.globalStyleSheet||(cn.globalStyleSheet=(0,l.dS)()),this.styleSheet=cn.globalStyleSheet)),this.styleSheet.textContent=function bi(Nn,le){let ve=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${(0,yo.a)(en.lA.menuSelection)}\n${(0,yo.a)(en.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .6em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(le){ve+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const $e=Nn.scrollbarShadow;$e&&(ve+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${$e} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${$e} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${$e} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const At=Nn.scrollbarSliderBackground;At&&(ve+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${At};\n\t\t\t\t}\n\t\t\t`);const Nt=Nn.scrollbarSliderHoverBackground;Nt&&(ve+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${Nt};\n\t\t\t\t}\n\t\t\t`);const on=Nn.scrollbarSliderActiveBackground;on&&(ve+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${on};\n\t\t\t\t}\n\t\t\t`)}return ve}(ve,(0,l.OO)(le))}style(le){const ve=this.getContainer();this.initializeOrUpdateStyleSheet(ve,le);const $e=le.foregroundColor?`${le.foregroundColor}`:"",At=le.backgroundColor?`${le.backgroundColor}`:"",Ln=le.shadowColor?`0 2px 8px ${le.shadowColor}`:"";ve.style.outline=le.borderColor?`1px solid ${le.borderColor}`:"",ve.style.borderRadius="5px",ve.style.color=$e,ve.style.backgroundColor=At,ve.style.boxShadow=Ln,this.viewItems&&this.viewItems.forEach(Jn=>{(Jn instanceof Cn||Jn instanceof Hn)&&Jn.style(le)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(le){const ve=this.focusedItem;this.setFocusedItem(le),ve!==this.focusedItem&&this.updateFocus()}setFocusedItem(le){for(let ve=0;ve<this.actionsList.children.length;ve++)if(le===this.actionsList.children[ve]){this.focusedItem=ve;break}}updateFocus(le){super.updateFocus(le,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(le,ve,$e){if(le instanceof oi.Z0)return new Hn(ve.context,le,{icon:!0});if(le instanceof oi.wY){const At=new Pn(le,le.actions,$e,Object.assign(Object.assign({},ve),{submenuIds:new Set([...ve.submenuIds||[],le.id])}));if(ve.enableMnemonics){const Nt=At.getMnemonic();if(Nt&&At.isEnabled()){let on=[];this.mnemonics.has(Nt)&&(on=this.mnemonics.get(Nt)),on.push(At),this.mnemonics.set(Nt,on)}}return At}{const At={enableMnemonics:ve.enableMnemonics,useEventAsContext:ve.useEventAsContext};if(ve.getKeyBinding){const on=ve.getKeyBinding(le);if(on){const Ln=on.getLabel();Ln&&(At.keybinding=Ln)}}const Nt=new Cn(ve.context,le,At);if(ve.enableMnemonics){const on=Nt.getMnemonic();if(on&&Nt.isEnabled()){let Ln=[];this.mnemonics.has(on)&&(Ln=this.mnemonics.get(on)),Ln.push(Nt),this.mnemonics.set(on,Ln)}}return Nt}}}class Cn extends oo.Y{constructor(le,ve,$e={}){if($e.isMenu=!0,super(ve,ve,$e),this.options=$e,this.options.icon=void 0!==$e.icon&&$e.icon,this.options.label=void 0===$e.label||$e.label,this.cssClass="",this.options.label&&$e.enableMnemonics){const At=this.getAction().label;if(At){const Nt=Dt.exec(At);Nt&&(this.mnemonic=(Nt[1]?Nt[1]:Nt[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ke.pY(()=>{this.element&&(this._register((0,l.nm)(this.element,l.tw.MOUSE_UP,At=>{if(l.zB.stop(At,!0),Xi.isFirefox){if(new _i.n(At).rightButton)return;this.onClick(At)}else setTimeout(()=>{this.onClick(At)},0)})),this._register((0,l.nm)(this.element,l.tw.CONTEXT_MENU,At=>{l.zB.stop(At,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(le){super.render(le),this.element&&(this.container=le,this.item=(0,l.R3)(this.element,(0,l.$)("a.action-menu-item")),this._action.id===oi.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,l.R3)(this.item,(0,l.$)("span.menu-item-check"+en.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,l.R3)(this.item,(0,l.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,l.R3)(this.item,(0,l.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(le,ve){this.item&&(this.item.setAttribute("aria-posinset",`${le}`),this.item.setAttribute("aria-setsize",`${ve}`))}updateLabel(){var le;if(this.label&&this.options.label){(0,l.PO)(this.label);let ve=(0,wt.x$)(this.getAction().label);if(ve){const $e=function zn(Nn){const le=Dt,ve=le.exec(Nn);if(!ve)return Nn;return Nn.replace(le,!ve[1]?"$2$3":"").trim()}(ve);this.options.enableMnemonics||(ve=$e),this.label.setAttribute("aria-label",$e.replace(/&&/g,"&"));const At=Dt.exec(ve);if(At){ve=Z.YU(ve),$t.lastIndex=0;let Nt=$t.exec(ve);for(;Nt&&Nt[1];)Nt=$t.exec(ve);const on=Ln=>Ln.replace(/&amp;&amp;/g,"&amp;");Nt?this.label.append(Z.j3(on(ve.substr(0,Nt.index))," "),(0,l.$)("u",{"aria-hidden":"true"},Nt[3]),Z.oL(on(ve.substr(Nt.index+Nt[0].length))," ")):this.label.innerText=on(ve).trim(),null===(le=this.item)||void 0===le||le.setAttribute("aria-keyshortcuts",(At[1]?At[1]:At[3]).toLocaleLowerCase())}else this.label.innerText=ve.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const le=this.getAction().checked;this.item.classList.toggle("checked",!!le),void 0!==le?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",le?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const le=this.element&&this.element.classList.contains("focused"),ve=le&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,$e=le&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,At=le&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",Nt=le&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=ve?ve.toString():"",this.item.style.backgroundColor=$e?$e.toString():"",this.item.style.outline=At,this.item.style.outlineOffset=Nt),this.check&&(this.check.style.color=ve?ve.toString():"")}style(le){this.menuStyle=le,this.applyStyle()}}class Pn extends Cn{constructor(le,ve,$e,At){super(le,le,At),this.submenuActions=ve,this.parentData=$e,this.submenuOptions=At,this.mysubmenu=null,this.submenuDisposables=this._register(new u.SL),this.mouseOver=!1,this.expandDirection=At&&void 0!==At.expandDirection?At.expandDirection:tn.Right,this.showScheduler=new Ke.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Ke.pY(()=>{this.element&&!(0,l.jg)((0,l.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(le){super.render(le),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,l.R3)(this.item,(0,l.$)("span.submenu-indicator"+en.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,l.nm)(this.element,l.tw.KEY_UP,ve=>{const $e=new J.y(ve);($e.equals(17)||$e.equals(3))&&(l.zB.stop(ve,!0),this.createSubmenu(!0))})),this._register((0,l.nm)(this.element,l.tw.KEY_DOWN,ve=>{const $e=new J.y(ve);(0,l.vY)()===this.item&&($e.equals(17)||$e.equals(3))&&l.zB.stop(ve,!0)})),this._register((0,l.nm)(this.element,l.tw.MOUSE_OVER,ve=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,l.nm)(this.element,l.tw.MOUSE_LEAVE,ve=>{this.mouseOver=!1})),this._register((0,l.nm)(this.element,l.tw.FOCUS_OUT,ve=>{this.element&&!(0,l.jg)((0,l.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(le){l.zB.stop(le,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(le){if(this.parentData.submenu&&(le||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(le,ve,$e,At){const Nt={top:0,left:0};return Nt.left=Xt(le.width,ve.width,{position:At===tn.Right?0:1,offset:$e.left,size:$e.width}),Nt.left>=$e.left&&Nt.left<$e.left+$e.width&&($e.left+10+ve.width<=le.width&&(Nt.left=$e.left+10),$e.top+=10,$e.height=0),Nt.top=Xt(le.height,ve.height,{position:0,offset:$e.top,size:0}),Nt.top+ve.height===$e.top&&Nt.top+$e.height+ve.height<=le.height&&(Nt.top+=$e.height),Nt}createSubmenu(le=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,l.R3)(this.element,(0,l.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const ve=getComputedStyle(this.parentData.parent.domNode),$e=parseFloat(ve.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new cn(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new oi.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const At=this.element.getBoundingClientRect(),Nt={top:At.top-$e,left:At.left,height:At.height+2*$e,width:At.width},on=this.submenuContainer.getBoundingClientRect(),{top:Ln,left:Jn}=this.calculateSubmenuMenuLayout(new l.Ro(window.innerWidth,window.innerHeight),l.Ro.lift(on),Nt,this.expandDirection);this.submenuContainer.style.left=Jn-on.left+"px",this.submenuContainer.style.top=Ln-on.top+"px",this.submenuDisposables.add((0,l.nm)(this.submenuContainer,l.tw.KEY_UP,vi=>{new J.y(vi).equals(15)&&(l.zB.stop(vi,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,l.nm)(this.submenuContainer,l.tw.KEY_DOWN,vi=>{new J.y(vi).equals(15)&&l.zB.stop(vi,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(le),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(le){var ve;this.item&&(null===(ve=this.item)||void 0===ve||ve.setAttribute("aria-expanded",le))}applyStyle(){var le;if(super.applyStyle(),!this.menuStyle)return;const $e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=$e?`${$e}`:""),null===(le=this.parentData.submenu)||void 0===le||le.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Hn extends oo.g{style(le){this.label&&(this.label.style.borderBottomColor=le.separatorColor?`${le.separatorColor}`:"")}}var Ei=e(73516);class ao{constructor(le,ve,$e,At,Nt){this.contextViewService=le,this.telemetryService=ve,this.notificationService=$e,this.keybindingService=At,this.themeService=Nt,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(le){this.options=le}showContextMenu(le){const ve=le.getActions();if(!ve.length)return;let $e;this.focusToReturn=document.activeElement;const At=(0,l.Re)(le.domForShadowRoot)?le.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>le.getAnchor(),canRelayout:!1,anchorAlignment:le.anchorAlignment,anchorAxisAlignment:le.anchorAxisAlignment,render:Nt=>{const on=le.getMenuClassName?le.getMenuClassName():"";on&&(Nt.className+=" "+on),this.options.blockMouse&&(this.block=Nt.appendChild((0,l.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,l.nm)(this.block,l.tw.MOUSE_DOWN,vi=>vi.stopPropagation()));const Ln=new u.SL,Jn=le.actionRunner||new oi.Wi;return Jn.onBeforeRun(this.onActionRun,this,Ln),Jn.onDidRun(this.onDidActionRun,this,Ln),$e=new cn(Nt,ve,{actionViewItemProvider:le.getActionViewItem,context:le.getActionsContext?le.getActionsContext():null,actionRunner:Jn,getKeyBinding:le.getKeyBinding?le.getKeyBinding:vi=>this.keybindingService.lookupKeybinding(vi.id)}),Ln.add((0,Ei.tj)($e,this.themeService)),$e.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,Ln),$e.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,Ln),Ln.add((0,l.nm)(window,l.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),Ln.add((0,l.nm)(window,l.tw.MOUSE_DOWN,vi=>{if(vi.defaultPrevented)return;const Mi=new _i.n(vi);let Ro=Mi.target;if(!Mi.rightButton){for(;Ro;){if(Ro===Nt)return;Ro=Ro.parentElement}this.contextViewService.hideContextView(!0)}})),(0,u.F8)(Ln,$e)},focus:()=>{$e?.focus(!!le.autoSelectFirstItem)},onHide:Nt=>{var on;null===(on=le.onHide)||void 0===on||on.call(le,!!Nt),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},At,!!At)}onActionRun(le){this.telemetryService.publicLog2("workbenchActionExecuted",{id:le.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(le){le.error&&!(0,a.n2)(le.error)&&this.notificationService.error(le.error)}}var Qi=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};let Wi=class extends u.JT{constructor(le,ve,$e,At,Nt){super(),this._onDidShowContextMenu=new C.Q5,this._onDidHideContextMenu=new C.Q5,this.contextMenuHandler=new ao($e,le,ve,At,Nt)}configure(le){this.contextMenuHandler.configure(le)}showContextMenu(le){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},le),{onHide:ve=>{var $e;null===($e=le.onHide)||void 0===$e||$e.call(le,ve),this._onDidHideContextMenu.fire()}})),l._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Wi=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([Qi(0,dt.b),Qi(1,v.lT),Qi(2,bt.u),Qi(3,Xe.d),Qi(4,ri.XE)],Wi);var xo=e(71943),ro=e(54847),Co=e(63312),Mo=e(48235),Oo=(()=>((Oo=Oo||{})[Oo.API=0]="API",Oo[Oo.USER=1]="USER",Oo))(),ko=e(78668),so=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt},Do=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}},Ho=function(Nn,le,ve,$e){return new(ve||(ve=Promise))(function(Nt,on){function Ln(Mi){try{vi($e.next(Mi))}catch(Ro){on(Ro)}}function Jn(Mi){try{vi($e.throw(Mi))}catch(Ro){on(Ro)}}function vi(Mi){Mi.done?Nt(Mi.value):function At(Nt){return Nt instanceof ve?Nt:new ve(function(on){on(Nt)})}(Mi.value).then(Ln,Jn)}vi(($e=$e.apply(Nn,le||[])).next())})};let ni=class{constructor(le){this._commandService=le}open(le,ve){return Ho(this,void 0,void 0,function*(){if(!(0,ko.xn)(le,n.lg.command))return!1;if(!ve?.allowCommands)return!0;"string"==typeof le&&(le=Ie.o.parse(le));let $e=[];try{$e=(0,Mo.Q)(decodeURIComponent(le.query))}catch{try{$e=(0,Mo.Q)(le.query)}catch{}}return Array.isArray($e)||($e=[$e]),yield this._commandService.executeCommand(le.path,...$e),!0})}};ni=so([Do(0,he.Hy)],ni);let Zt=class{constructor(le){this._editorService=le}open(le,ve){return Ho(this,void 0,void 0,function*(){"string"==typeof le&&(le=Ie.o.parse(le));const{selection:$e,uri:At}=(0,ko.xI)(le);return(le=At).scheme===n.lg.file&&(le=(0,st.AH)(le)),yield this._editorService.openCodeEditor({resource:le,options:Object.assign({selection:$e,source:ve?.fromUserGesture?Oo.USER:Oo.API},ve?.editorOptions)},this._editorService.getFocusedCodeEditor(),ve?.openToSide),!0})}};Zt=so([Do(0,I.$)],Zt);let sn=class{constructor(le,ve){this._openers=new ro.S,this._validators=new ro.S,this._resolvers=new ro.S,this._resolvedUriTargets=new Co.Y9($e=>$e.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ro.S,this._defaultExternalOpener={openExternal:$e=>Ho(this,void 0,void 0,function*(){return(0,ko.Gs)($e,n.lg.http,n.lg.https)?l.V3($e):window.location.href=$e,!0})},this._openers.push({open:($e,At)=>Ho(this,void 0,void 0,function*(){return!(!At?.openExternal&&!(0,ko.Gs)($e,n.lg.mailto,n.lg.http,n.lg.https,n.lg.vsls)||(yield this._doOpenExternal($e,At),0))})}),this._openers.push(new ni(ve)),this._openers.push(new Zt(le))}registerOpener(le){return{dispose:this._openers.unshift(le)}}registerValidator(le){return{dispose:this._validators.push(le)}}registerExternalUriResolver(le){return{dispose:this._resolvers.push(le)}}setDefaultExternalOpener(le){this._defaultExternalOpener=le}registerExternalOpener(le){return{dispose:this._externalOpeners.push(le)}}open(le,ve){var $e;return Ho(this,void 0,void 0,function*(){const At="string"==typeof le?Ie.o.parse(le):le,Nt=null!==($e=this._resolvedUriTargets.get(At))&&void 0!==$e?$e:le;for(const on of this._validators)if(!(yield on.shouldOpen(Nt,ve)))return!1;for(const on of this._openers)if(yield on.open(le,ve))return!0;return!1})}resolveExternalUri(le,ve){return Ho(this,void 0,void 0,function*(){for(const $e of this._resolvers)try{const At=yield $e.resolveExternalUri(le,ve);if(At)return this._resolvedUriTargets.has(At.resolved)||this._resolvedUriTargets.set(At.resolved,le),At}catch{}throw new Error("Could not resolve external URI: "+le.toString())})}_doOpenExternal(le,ve){return Ho(this,void 0,void 0,function*(){const $e="string"==typeof le?Ie.o.parse(le):le;let At,Nt;try{At=(yield this.resolveExternalUri($e,ve)).resolved}catch{At=$e}if(Nt="string"==typeof le&&$e.toString()===At.toString()?le:encodeURI(At.toString(!0)),ve?.allowContributedOpeners){const on="string"==typeof ve?.allowContributedOpeners?ve?.allowContributedOpeners:void 0;for(const Ln of this._externalOpeners)if(yield Ln.openExternal(Nt,{sourceUri:$e,preferredOpenerId:on},xo.T.None))return!0}return this._defaultExternalOpener.openExternal(Nt,{sourceUri:$e},xo.T.None)})}dispose(){this._validators.clear()}};sn=so([Do(0,I.$),Do(1,he.Hy)],sn);var dn=e(80607),Bn=e(58712),An=e(12375),un=e(80618),ht=e(59129),Kt=e(99327),nn=e(6192),In=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};class bn extends u.JT{constructor(le){super(),this.model=le,this._markersData=new Map,this._register((0,u.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(le,ve){const $e=[...this._markersData.keys()];this._markersData.clear();const At=this.model.deltaDecorations($e,ve);for(let Nt=0;Nt<At.length;Nt++)this._markersData.set(At[Nt],le[Nt]);return 0!==$e.length||0!==At.length}getMarker(le){return this._markersData.get(le.id)}}let Ct=class extends u.JT{constructor(le,ve){super(),this._markerService=ve,this._onDidChangeMarker=this._register(new C.Q5),this._markerDecorations=new Co.Y9,le.getModels().forEach($e=>this._onModelAdded($e)),this._register(le.onModelAdded(this._onModelAdded,this)),this._register(le.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(le=>le.dispose()),this._markerDecorations.clear()}getMarker(le,ve){const $e=this._markerDecorations.get(le);return $e&&$e.getMarker(ve)||null}_handleMarkerChange(le){le.forEach(ve=>{const $e=this._markerDecorations.get(ve);$e&&this._updateDecorations($e)})}_onModelAdded(le){const ve=new bn(le);this._markerDecorations.set(le.uri,ve),this._updateDecorations(ve)}_onModelRemoved(le){var ve;const $e=this._markerDecorations.get(le.uri);$e&&($e.dispose(),this._markerDecorations.delete(le.uri)),(le.uri.scheme===n.lg.inMemory||le.uri.scheme===n.lg.internal||le.uri.scheme===n.lg.vscode)&&(null===(ve=this._markerService)||void 0===ve||ve.read({resource:le.uri}).map(At=>At.owner).forEach(At=>this._markerService.remove(At,[le.uri])))}_updateDecorations(le){const ve=this._markerService.read({resource:le.model.uri,take:500}),$e=ve.map(At=>({range:this._createDecorationRange(le.model,At),options:this._createDecorationOption(At)}));le.update(ve,$e)&&this._onDidChangeMarker.fire(le.model)}_createDecorationRange(le,ve){let $e=ce.e.lift(ve);if(ve.severity===un.ZL.Hint&&!this._hasMarkerTag(ve,1)&&!this._hasMarkerTag(ve,2)&&($e=$e.setEndPosition($e.startLineNumber,$e.startColumn+2)),$e=le.validateRange($e),$e.isEmpty()){const At=le.getLineLastNonWhitespaceColumn($e.startLineNumber)||le.getLineMaxColumn($e.startLineNumber);if(1===At||$e.endColumn>=At)return $e;const Nt=le.getWordAtPosition($e.getStartPosition());Nt&&($e=new ce.e($e.startLineNumber,Nt.startColumn,$e.endLineNumber,Nt.endColumn))}else if(ve.endColumn===Number.MAX_VALUE&&1===ve.startColumn&&$e.startLineNumber===$e.endLineNumber){const At=le.getLineFirstNonWhitespaceColumn(ve.startLineNumber);At<$e.endColumn&&($e=new ce.e($e.startLineNumber,At,$e.endLineNumber,$e.endColumn),ve.startColumn=At)}return $e}_createDecorationOption(le){let ve,$e,At,Nt,on;switch(le.severity){case un.ZL.Hint:ve=this._hasMarkerTag(le,2)?void 0:this._hasMarkerTag(le,1)?"squiggly-unnecessary":"squiggly-hint",At=0;break;case un.ZL.Warning:ve="squiggly-warning",$e=(0,ri.EN)(Kt.Re),At=20,on={color:(0,ri.EN)(nn.Ivo),position:ht.F5.Inline};break;case un.ZL.Info:ve="squiggly-info",$e=(0,ri.EN)(Kt.eS),At=10;break;default:ve="squiggly-error",$e=(0,ri.EN)(Kt.lK),At=30,on={color:(0,ri.EN)(nn.Gj_),position:ht.F5.Inline}}return le.tags&&(-1!==le.tags.indexOf(1)&&(Nt="squiggly-inline-unnecessary"),-1!==le.tags.indexOf(2)&&(Nt="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:ve,showIfCollapsed:!0,overviewRuler:{color:$e,position:ht.sh.Right},minimap:on,zIndex:At,inlineClassName:Nt}}_hasMarkerTag(le,ve){return!!le.tags&&le.tags.indexOf(ve)>=0}};Ct=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([In(0,Ee.q),In(1,un.lT)],Ct);var Wt=e(76470),jt=e(99700),Yt=e(23245),gn={};gn.styleTagTransform=nt(),gn.setAttributes=ie(),gn.insert=rt().bind(null,"head"),gn.domAPI=Ot(),gn.insertStyleElement=oe(),Tt()(Yt.Z,gn);var vn=e(95102),$n=e(1652),Pi=e(62608),Ii=e(75239),ii=e(67005),Ut=e(84724),F=e(21156),ee=e(25468),Qe=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};let qe=class extends u.JT{constructor(le,ve){super(),this.quickInputService=le,this.instantiationService=ve,this.registry=ee.B.as(Ut.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(le="",ve){this.doShowOrPick(le,!1,ve)}doShowOrPick(le,ve,$e){var At;const[Nt,on]=this.getOrInstantiateProvider(le),Ln=this.visibleQuickAccess,Jn=Ln?.descriptor;if(Ln&&on&&Jn===on)return le!==on.prefix&&!$e?.preserveValue&&(Ln.picker.value=le),void this.adjustValueSelection(Ln.picker,on,$e);if(on&&!$e?.preserveValue){let zo;if(Ln&&Jn&&Jn!==on){const js=Ln.value.substr(Jn.prefix.length);js&&(zo=`${on.prefix}${js}`)}if(!zo){const js=Nt?.defaultFilterValue;js===Ut.Ry.LAST?zo=this.lastAcceptedPickerValues.get(on):"string"==typeof js&&(zo=`${on.prefix}${js}`)}"string"==typeof zo&&(le=zo)}const vi=new u.SL,Mi=vi.add(this.quickInputService.createQuickPick());let Ro;Mi.value=le,this.adjustValueSelection(Mi,on,$e),Mi.placeholder=on?.placeholder,Mi.quickNavigate=$e?.quickNavigateConfiguration,Mi.hideInput=!!Mi.quickNavigate&&!Ln,("number"==typeof $e?.itemActivation||$e?.quickNavigateConfiguration)&&(Mi.itemActivation=null!==(At=$e?.itemActivation)&&void 0!==At?At:F.jG.SECOND),Mi.contextKey=on?.contextKey,Mi.filterValue=zo=>zo.substring(on?on.prefix.length:0),on?.placeholder&&(Mi.ariaLabel=on?.placeholder),ve&&(Ro=new Ke.CR,vi.add((0,ii.I)(Mi.onWillAccept)(zo=>{zo.veto(),Mi.hide()}))),vi.add(this.registerPickerListeners(Mi,Nt,on,le));const Xo=vi.add(new xo.A);return Nt&&vi.add(Nt.provide(Mi,Xo.token)),(0,ii.I)(Mi.onDidHide)(()=>{0===Mi.selectedItems.length&&Xo.cancel(),vi.dispose(),Ro?.complete(Mi.selectedItems.slice(0))}),Mi.show(),ve?Ro?.p:void 0}adjustValueSelection(le,ve,$e){var At;let Nt;Nt=$e?.preserveValue?[le.value.length,le.value.length]:[null!==(At=ve?.prefix.length)&&void 0!==At?At:0,le.value.length],le.valueSelection=Nt}registerPickerListeners(le,ve,$e,At){const Nt=new u.SL,on=this.visibleQuickAccess={picker:le,descriptor:$e,value:At};return Nt.add((0,u.OF)(()=>{on===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),Nt.add(le.onDidChangeValue(Ln=>{const[Jn]=this.getOrInstantiateProvider(Ln);Jn!==ve?this.show(Ln,{preserveValue:!0}):on.value=Ln})),$e&&Nt.add(le.onDidAccept(()=>{this.lastAcceptedPickerValues.set($e,le.value)})),Nt}getOrInstantiateProvider(le){const ve=this.registry.getQuickAccessProvider(le);if(!ve)return[void 0,void 0];let $e=this.mapProviderToDescriptor.get(ve);return $e||($e=this.instantiationService.createInstance(ve.ctor),this.mapProviderToDescriptor.set(ve,$e)),[$e,ve]}};qe=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([Qe(0,F.eJ),Qe(1,fe.TG)],qe);var rn=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};let Gt=class extends ri.bB{constructor(le,ve,$e,At,Nt){super($e),this.instantiationService=le,this.contextKeyService=ve,this.accessibilityService=At,this.layoutService=Nt,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(qe))),this._quickAccess}createController(le=this.layoutService,ve){const $e={idPrefix:"quickInput_",container:le.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:Nt=>this.setContextKey(Nt),returnFocus:()=>le.focus(),createList:(Nt,on,Ln,Jn,vi)=>this.instantiationService.createInstance(Ii.ev,Nt,on,Ln,Jn,vi),styles:this.computeStyles()},At=this._register(new Pi.O(Object.assign(Object.assign({},$e),ve)));return At.layout(le.dimension,le.offset.quickPickTop),this._register(le.onDidLayout(Nt=>At.layout(Nt,le.offset.quickPickTop))),this._register(At.onShow(()=>this.resetContextKeys())),this._register(At.onHide(()=>this.resetContextKeys())),At}setContextKey(le){let ve;le&&(ve=this.contexts.get(le),ve||(ve=new ze.uy(le,!1).bindTo(this.contextKeyService),this.contexts.set(le,ve))),(!ve||!ve.get())&&(this.resetContextKeys(),ve?.set(!0))}resetContextKeys(){this.contexts.forEach(le=>{le.get()&&le.reset()})}pick(le,ve={},$e=xo.T.None){return this.controller.pick(le,ve,$e)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,Ei.o)(this.theme,{quickInputBackground:nn.zKr,quickInputForeground:nn.tZ6,quickInputTitleBackground:nn.loF,contrastBorder:nn.lRK,widgetShadow:nn.rh})),inputBox:(0,Ei.o)(this.theme,{inputForeground:nn.zJb,inputBackground:nn.sEe,inputBorder:nn.dt_,inputValidationInfoBackground:nn._lC,inputValidationInfoForeground:nn.YI3,inputValidationInfoBorder:nn.EPQ,inputValidationWarningBackground:nn.RV_,inputValidationWarningForeground:nn.SUG,inputValidationWarningBorder:nn.C3g,inputValidationErrorBackground:nn.paE,inputValidationErrorForeground:nn._t9,inputValidationErrorBorder:nn.OZR}),countBadge:(0,Ei.o)(this.theme,{badgeBackground:nn.g8u,badgeForeground:nn.qeD,badgeBorder:nn.lRK}),button:(0,Ei.o)(this.theme,{buttonForeground:nn.j5u,buttonBackground:nn.b7$,buttonHoverBackground:nn.GO4,buttonBorder:nn.lRK}),progressBar:(0,Ei.o)(this.theme,{progressBarBackground:nn.zRJ}),keybindingLabel:(0,Ei.o)(this.theme,{keybindingLabelBackground:nn.oQ$,keybindingLabelForeground:nn.lWp,keybindingLabelBorder:nn.AWI,keybindingLabelBottomBorder:nn.K19,keybindingLabelShadow:nn.rh}),list:(0,Ei.o)(this.theme,{listBackground:nn.zKr,listInactiveFocusForeground:nn.NPS,listInactiveSelectionIconForeground:nn.cbQ,listInactiveFocusBackground:nn.Vqd,listFocusOutline:nn.xL1,listInactiveFocusOutline:nn.xL1,pickerGroupBorder:nn.opG,pickerGroupForeground:nn.kJk})}}};Gt=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([rn(0,fe.TG),rn(1,ze.i6),rn(2,ri.XE),rn(3,$n.F),rn(4,f.F)],Gt);var wn=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt},En=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};let xn=class extends Gt{constructor(le,ve,$e,At,Nt,on){super(ve,$e,At,Nt,new r(le.getContainerDomNode(),on)),this.host=void 0;const Ln=Xn.get(le);if(Ln){const Jn=Ln.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return Jn.getDomNode()},get dimension(){return le.getLayoutInfo()},get onDidLayout(){return le.onDidLayoutChange},focus:()=>le.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};xn=wn([En(1,fe.TG),En(2,ze.i6),En(3,ri.XE),En(4,$n.F),En(5,I.$)],xn);let Wn=class{constructor(le,ve){this.instantiationService=le,this.codeEditorService=ve,this.mapEditorToService=new Map}get activeService(){const le=this.codeEditorService.getFocusedCodeEditor();if(!le)throw new Error("Quick input service needs a focused editor to work.");let ve=this.mapEditorToService.get(le);if(!ve){const $e=ve=this.instantiationService.createInstance(xn,le);this.mapEditorToService.set(le,ve),(0,ii.I)(le.onDidDispose)(()=>{$e.dispose(),this.mapEditorToService.delete(le)})}return ve}get quickAccess(){return this.activeService.quickAccess}pick(le,ve={},$e=xo.T.None){return this.activeService.pick(le,ve,$e)}createQuickPick(){return this.activeService.createQuickPick()}};Wn=wn([En(0,fe.TG),En(1,I.$)],Wn);let Xn=(()=>{class Nn{constructor(ve){this.editor=ve,this.widget=new si(this.editor)}static get(ve){return ve.getContribution(Nn.ID)}dispose(){this.widget.dispose()}}return Nn.ID="editor.controller.quickInput",Nn})(),si=(()=>{class Nn{constructor(ve){this.codeEditor=ve,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Nn.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return Nn.ID="editor.contrib.quickInputWidget",Nn})();(0,vn._K)(Xn.ID,Xn);var ci=e(95892),Ci=e(6197),Ji=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};let uo=class extends u.JT{constructor(le,ve,$e){super(),this._contextKeyService=le,this._layoutService=ve,this._configurationService=$e,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new C.Q5,this._onDidChangeReducedMotion=new C.Q5,this._accessibilityModeEnabledContext=$n.U.bindTo(this._contextKeyService);const At=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(on=>{on.affectsConfiguration("editor.accessibilitySupport")&&(At(),this._onDidChangeScreenReaderOptimized.fire()),on.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),At(),this._register(this.onDidChangeScreenReaderOptimized(()=>At()));const Nt=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=Nt.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(Nt)}initReducedMotionListeners(le){if(!this._layoutService.hasContainer)return;this._register((0,l.nm)(le,"change",()=>{this._systemMotionReduced=le.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()}));const ve=()=>{const $e=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",$e),this._layoutService.container.classList.toggle("enable-motion",!$e)};ve(),this._register(this.onDidChangeReducedMotion(()=>ve()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const le=this._configurationService.getValue("editor.accessibilitySupport");return"on"===le||"auto"===le&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const le=this._configMotionReduced;return"on"===le||"auto"===le&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};uo=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([Ji(0,ze.i6),Ji(1,f.F),Ji(2,Fe.Ui)],uo);var ho=e(30116),Ui=e(22735),Mn=e(14940),ue=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt},Ge=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}};let Re=class{constructor(le,ve){this._commandService=le,this._hiddenStates=new V(ve)}createMenu(le,ve,$e){return new ne(le,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},$e),this._commandService,ve,this)}};Re=ue([Ge(0,he.Hy),Ge(1,Ui.Uy)],Re);let V=class Vd{constructor(le){this._storageService=le,this._disposables=new u.SL,this._onDidChange=new C.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const ve=le.get(Vd._key,0,"{}");this._data=JSON.parse(ve)}catch{this._data=Object.create(null)}this._disposables.add(le.onDidChangeValue(ve=>{if(ve.key===Vd._key){if(!this._ignoreChangeEvent)try{const $e=le.get(Vd._key,0,"{}");this._data=JSON.parse($e)}catch($e){console.log("FAILED to read storage after UPDATE",$e)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(le,ve){var $e,At;return null!==(At=null===($e=this._data[le.id])||void 0===$e?void 0:$e.includes(ve))&&void 0!==At&&At}updateHidden(le,ve,$e){const At=this._data[le.id];if($e)At?At.indexOf(ve)<0&&At.push(ve):this._data[le.id]=[ve];else if(At){const Nt=At.indexOf(ve);Nt>=0&&(0,Mn.LS)(At,Nt),0===At.length&&delete this._data[le.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const le=JSON.stringify(this._data);this._storageService.store(Vd._key,le,0,0)}finally{this._ignoreChangeEvent=!1}}};V._key="menu.hiddenCommands",V=ue([Ge(0,Ui.Uy)],V);let ne=class cd{constructor(le,ve,$e,At,Nt,on){this._id=le,this._hiddenStates=ve,this._options=$e,this._commandService=At,this._contextKeyService=Nt,this._menuService=on,this._disposables=new u.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const Ln=new Ke.pY(()=>{this._build(),this._onDidChange.fire(this)},$e.eventDebounceDelay);this._disposables.add(Ln),this._disposables.add(ho.BH.onDidChangeMenu(Mi=>{Mi.has(le)&&Ln.schedule()}));const Jn=this._disposables.add(new u.SL);this._onDidChange=new C.Q5({onFirstListenerAdd:()=>{const Mi=new Ke.pY(()=>this._onDidChange.fire(this),$e.eventDebounceDelay);Jn.add(Mi),Jn.add(Nt.onDidChangeContext(Ro=>{Ro.affectsSome(this._contextKeys)&&Mi.schedule()})),Jn.add(ve.onDidChange(()=>{Mi.schedule()}))},onLastListenerRemove:Jn.clear.bind(Jn)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const le=ho.BH.getMenuItems(this._id);let ve;le.sort(cd._compareMenuItems);for(const $e of le){const At=$e.group||"";(!ve||ve[0]!==At)&&(ve=[At,[]],this._menuGroups.push(ve)),ve[1].push($e),this._collectContextKeys($e)}}_collectContextKeys(le){cd._fillInKbExprKeys(le.when,this._contextKeys),(0,ho.vr)(le)?(le.command.precondition&&cd._fillInKbExprKeys(le.command.precondition,this._contextKeys),le.command.toggled&&cd._fillInKbExprKeys(le.command.toggled.condition||le.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&ho.BH.getMenuItems(le.submenu).forEach(this._collectContextKeys,this)}getActions(le){const ve=[],$e=[];for(const At of this._menuGroups){const[Nt,on]=At,Ln=[],Jn=[];for(const vi of on)if(this._contextKeyService.contextMatchesRules(vi.when)){let Mi;if((0,ho.vr)(vi)){const Xo=Ne(this._id,vi.command,this._hiddenStates);Mi=new ho.U8(vi.command,vi.alt,le,Xo,this._contextKeyService,this._commandService)}else Mi=new ho.NZ(vi,this._menuService,this._contextKeyService,le),0===Mi.actions.length&&(Mi.dispose(),Mi=void 0);Mi&&Jn.push(Mi)}Jn.length>0&&ve.push([Nt,Jn]),Ln.length>0&&$e.push(Ln)}return ve}static _fillInKbExprKeys(le,ve){if(le)for(const $e of le.keys())ve.add($e)}static _compareMenuItems(le,ve){const $e=le.group,At=ve.group;if($e!==At){if(!$e)return 1;if(!At)return-1;if("navigation"===$e)return-1;if("navigation"===At)return 1;const Ln=$e.localeCompare(At);if(0!==Ln)return Ln}const Nt=le.order||0,on=ve.order||0;return Nt<on?-1:Nt>on?1:cd._compareTitles((0,ho.vr)(le)?le.command.title:le.title,(0,ho.vr)(ve)?ve.command.title:ve.title)}static _compareTitles(le,ve){return("string"==typeof le?le:le.original).localeCompare("string"==typeof ve?ve:ve.original)}};function Ne(Nn,le,ve){const $e=`${Nn.id}/${le.id}`,At="string"==typeof le.title?le.title:le.title.value,Nt=(0,oi.xw)({id:$e,label:(0,y.NC)("hide.label","Hide '{0}'",At),run(){ve.updateHidden(Nn,le.id,!0)}}),on=(0,oi.xw)({id:$e,label:At,get checked(){return!ve.isHidden(Nn,le.id)},run(){const Ln=!ve.isHidden(Nn,le.id);ve.updateHidden(Nn,le.id,Ln)}});return{hide:Nt,toggle:on,get isHidden(){return!on.checked}}}ne=ue([Ge(3,he.Hy),Ge(4,ze.i6),Ge(5,ho.co)],ne);var It=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}},ln=function(Nn,le,ve,$e){return new(ve||(ve=Promise))(function(Nt,on){function Ln(Mi){try{vi($e.next(Mi))}catch(Ro){on(Ro)}}function Jn(Mi){try{vi($e.throw(Mi))}catch(Ro){on(Ro)}}function vi(Mi){Mi.done?Nt(Mi.value):function At(Nt){return Nt instanceof ve?Nt:new ve(function(on){on(Nt)})}(Mi.value).then(Ln,Jn)}vi(($e=$e.apply(Nn,le||[])).next())})};let pn=class extends u.JT{constructor(le,ve){super(),this.layoutService=le,this.logService=ve,this.mapTextToType=new Map,this.findText="",this.resources=[],(Xi.isSafari||Xi.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const le=()=>{const ve=new Ke.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=ve,navigator.clipboard.write([new ClipboardItem({"text/plain":ve.p})]).catch($e=>ln(this,void 0,void 0,function*(){(!($e instanceof Error)||"NotAllowedError"!==$e.name||!ve.isRejected)&&this.logService.error($e)}))};this.layoutService.hasContainer&&(this._register((0,l.nm)(this.layoutService.container,"click",le)),this._register((0,l.nm)(this.layoutService.container,"keydown",le)))}writeText(le,ve){return ln(this,void 0,void 0,function*(){if(ve)return void this.mapTextToType.set(ve,le);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(le);try{return yield navigator.clipboard.writeText(le)}catch(Nt){console.error(Nt)}const $e=document.activeElement,At=document.body.appendChild((0,l.$)("textarea",{"aria-hidden":!0}));At.style.height="1px",At.style.width="1px",At.style.position="absolute",At.value=le,At.focus(),At.select(),document.execCommand("copy"),$e instanceof HTMLElement&&$e.focus(),document.body.removeChild(At)})}readText(le){return ln(this,void 0,void 0,function*(){if(le)return this.mapTextToType.get(le)||"";try{return yield navigator.clipboard.readText()}catch(ve){return console.error(ve),""}})}readFindText(){return ln(this,void 0,void 0,function*(){return this.findText})}writeFindText(le){return ln(this,void 0,void 0,function*(){this.findText=le})}readResources(){return ln(this,void 0,void 0,function*(){return this.resources})}};pn=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([It(0,f.F),It(1,St.VZ)],pn);var Sn=e(21611),Vn=e(61777),gi=e(82941);const ui="data-keybinding-context";class lo{constructor(le,ve){this._id=le,this._parent=ve,this._value=Object.create(null),this._value._contextId=le}get value(){return Object.assign({},this._value)}setValue(le,ve){return this._value[le]!==ve&&(this._value[le]=ve,!0)}removeValue(le){return le in this._value&&(delete this._value[le],!0)}getValue(le){const ve=this._value[le];return typeof ve>"u"&&this._parent?this._parent.getValue(le):ve}}class Hi extends lo{constructor(){super(-1,null)}setValue(le,ve){return!1}removeValue(le){return!1}getValue(le){}}Hi.INSTANCE=new Hi;let Fo=(()=>{class Nn extends lo{constructor(ve,$e,At){super(ve,null),this._configurationService=$e,this._values=Co.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(Nt=>{if(7===Nt.source){const on=Array.from(Vn.$.map(this._values,([Ln])=>Ln));this._values.clear(),At.fire(new _s(on))}else{const on=[];for(const Ln of Nt.affectedKeys){const Jn=`config.${Ln}`,vi=this._values.findSuperstr(Jn);void 0!==vi&&(on.push(...Vn.$.map(vi,([Mi])=>Mi)),this._values.deleteSuperstr(Jn)),this._values.has(Jn)&&(on.push(Jn),this._values.delete(Jn))}At.fire(new _s(on))}})}dispose(){this._listener.dispose()}getValue(ve){if(0!==ve.indexOf(Nn._keyPrefix))return super.getValue(ve);if(this._values.has(ve))return this._values.get(ve);const $e=ve.substr(Nn._keyPrefix.length),At=this._configurationService.getValue($e);let Nt;switch(typeof At){case"number":case"boolean":case"string":Nt=At;break;default:Nt=Array.isArray(At)?JSON.stringify(At):At}return this._values.set(ve,Nt),Nt}setValue(ve,$e){return super.setValue(ve,$e)}removeValue(ve){return super.removeValue(ve)}}return Nn._keyPrefix="config.",Nn})();class fo{constructor(le,ve,$e){this._service=le,this._key=ve,this._defaultValue=$e,this.reset()}set(le){this._service.setContext(this._key,le)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class bo{constructor(le){this.key=le}affectsSome(le){return le.has(this.key)}allKeysContainedIn(le){return this.affectsSome(le)}}class _s{constructor(le){this.keys=le}affectsSome(le){for(const ve of this.keys)if(le.has(ve))return!0;return!1}allKeysContainedIn(le){return this.keys.every(ve=>le.has(ve))}}class ns{constructor(le){this.events=le}affectsSome(le){for(const ve of this.events)if(ve.affectsSome(le))return!0;return!1}allKeysContainedIn(le){return this.events.every(ve=>ve.allKeysContainedIn(le))}}class nr{constructor(le){this._onDidChangeContext=new C.K3({merge:ve=>new ns(ve)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=le}createKey(le,ve){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new fo(this,le,ve)}bufferChangeEvents(le){this._onDidChangeContext.pause();try{le()}finally{this._onDidChangeContext.resume()}}createScoped(le){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Zs(this,le)}contextMatchesRules(le){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const ve=this.getContextValuesContainer(this._myContextId);return!le||le.evaluate(ve)}getContextKeyValue(le){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(le)}setContext(le,ve){if(this._isDisposed)return;const $e=this.getContextValuesContainer(this._myContextId);$e&&$e.setValue(le,ve)&&this._onDidChangeContext.fire(new bo(le))}removeContext(le){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(le)&&this._onDidChangeContext.fire(new bo(le))}getContext(le){return this._isDisposed?Hi.INSTANCE:this.getContextValuesContainer(function os(Nn){for(;Nn;){if(Nn.hasAttribute(ui)){const le=Nn.getAttribute(ui);return le?parseInt(le,10):NaN}Nn=Nn.parentElement}return 0}(le))}}let fs=class extends nr{constructor(le){super(0),this._contexts=new Map,this._toDispose=new u.SL,this._lastContextId=0;const ve=new Fo(this._myContextId,le,this._onDidChangeContext);this._contexts.set(this._myContextId,ve),this._toDispose.add(ve)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(le){return this._isDisposed?Hi.INSTANCE:this._contexts.get(le)||Hi.INSTANCE}createChildContext(le=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const ve=++this._lastContextId;return this._contexts.set(ve,new lo(ve,this.getContextValuesContainer(le))),ve}disposeContext(le){this._isDisposed||this._contexts.delete(le)}};fs=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt}([function(Nn,le){return function(ve,$e){le(ve,$e,0)}}(0,Fe.Ui)],fs);class Zs extends nr{constructor(le,ve){if(super(le.createChildContext()),this._parentChangeListener=new u.XK,this._parent=le,this._updateParentChangeListener(),this._domNode=ve,this._domNode.hasAttribute(ui)){let $e="";this._domNode.classList&&($e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+($e?": "+$e:""))}this._domNode.setAttribute(ui,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(le=>{(function Go(Nn,le){return Nn.allKeysContainedIn(new Set(Object.keys(le)))})(le,this._parent.getContextValuesContainer(this._myContextId).value)||this._onDidChangeContext.fire(le)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(ui),this._isDisposed=!0)}getContextValuesContainer(le){return this._isDisposed?Hi.INSTANCE:this._parent.getContextValuesContainer(le)}createChildContext(le=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(le)}disposeContext(le){this._isDisposed||this._parent.disposeContext(le)}}he.P0.registerCommand(ze.Eq,function Bs(Nn,le,ve){Nn.get(ze.i6).createKey(String(le),function Ms(Nn){return(0,gi.rs)(Nn,le=>"object"==typeof le&&1===le.$mid?Ie.o.revive(le).toString():le instanceof Ie.o?le.toString():void 0)}(ve))}),he.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...ze.uy.all()].sort((Nn,le)=>Nn.key.localeCompare(le.key)),description:{description:(0,y.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),he.P0.registerCommand("_generateContextKeyInfo",function(){const Nn=[],le=new Set;for(const ve of ze.uy.all())le.has(ve.key)||(le.add(ve.key),Nn.push(ve));Nn.sort((ve,$e)=>ve.key.localeCompare($e.key)),console.log(JSON.stringify(Nn,void 0,2))});var Ns=e(30693);class qs{constructor(le){this.incoming=new Map,this.outgoing=new Map,this.data=le}}class jr{constructor(le){this._hashFn=le,this._nodes=new Map}roots(){const le=[];for(const ve of this._nodes.values())0===ve.outgoing.size&&le.push(ve);return le}insertEdge(le,ve){const $e=this.lookupOrInsertNode(le),At=this.lookupOrInsertNode(ve);$e.outgoing.set(this._hashFn(ve),At),At.incoming.set(this._hashFn(le),$e)}removeNode(le){const ve=this._hashFn(le);this._nodes.delete(ve);for(const $e of this._nodes.values())$e.outgoing.delete(ve),$e.incoming.delete(ve)}lookupOrInsertNode(le){const ve=this._hashFn(le);let $e=this._nodes.get(ve);return $e||($e=new qs(le),this._nodes.set(ve,$e)),$e}isEmpty(){return 0===this._nodes.size}toString(){const le=[];for(const[ve,$e]of this._nodes)le.push(`${ve}, (incoming)[${[...$e.incoming.keys()].join(", ")}], (outgoing)[${[...$e.outgoing.keys()].join(",")}]`);return le.join("\n")}findCycleSlow(){for(const[le,ve]of this._nodes){const At=this._findCycle(ve,new Set([le]));if(At)return At}}_findCycle(le,ve){for(const[$e,At]of le.outgoing){if(ve.has($e))return[...ve,$e].join(" -> ");ve.add($e);const Nt=this._findCycle(At,ve);if(Nt)return Nt;ve.delete($e)}}}var Kr=e(39135);class Ws extends Error{constructor(le){var ve;super("cyclic dependency between services"),this.message=null!==(ve=le.findCycleSlow())&&void 0!==ve?ve:`UNABLE to detect cycle, dumping graph: \n${le.toString()}`}}class Ir{constructor(le=new Kr.y,ve=!1,$e){this._activeInstantiations=new Set,this._services=le,this._strict=ve,this._parent=$e,this._services.set(fe.TG,this)}createChild(le){return new Ir(le,this._strict,this)}invokeFunction(le,...ve){const $e=ds.traceInvocation(le);let At=!1;try{return le({get:on=>{if(At)throw(0,a.L6)("service accessor is only valid during the invocation of its target method");const Ln=this._getOrCreateServiceInstance(on,$e);if(!Ln)throw new Error(`[invokeFunction] unknown service '${on}'`);return Ln}},...ve)}finally{At=!0,$e.stop()}}createInstance(le,...ve){let $e,At;return le instanceof Ns.M?($e=ds.traceCreation(le.ctor),At=this._createInstance(le.ctor,le.staticArguments.concat(ve),$e)):($e=ds.traceCreation(le),At=this._createInstance(le,ve,$e)),$e.stop(),At}_createInstance(le,ve=[],$e){const At=fe.I8.getServiceDependencies(le).sort((Ln,Jn)=>Ln.index-Jn.index),Nt=[];for(const Ln of At){const Jn=this._getOrCreateServiceInstance(Ln.id,$e);Jn||this._throwIfStrict(`[createInstance] ${le.name} depends on UNKNOWN service ${Ln.id}.`,!1),Nt.push(Jn)}const on=At.length>0?At[0].index:ve.length;if(ve.length!==on){console.trace(`[createInstance] First service dependency of ${le.name} at position ${on+1} conflicts with ${ve.length} static arguments`);const Ln=on-ve.length;ve=Ln>0?ve.concat(new Array(Ln)):ve.slice(0,on)}return new le(...ve,...Nt)}_setServiceInstance(le,ve){if(this._services.get(le)instanceof Ns.M)this._services.set(le,ve);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(le,ve)}}_getServiceInstanceOrDescriptor(le){const ve=this._services.get(le);return!ve&&this._parent?this._parent._getServiceInstanceOrDescriptor(le):ve}_getOrCreateServiceInstance(le,ve){const $e=this._getServiceInstanceOrDescriptor(le);return $e instanceof Ns.M?this._safeCreateAndCacheServiceInstance(le,$e,ve.branch(le,!0)):(ve.branch(le,!1),$e)}_safeCreateAndCacheServiceInstance(le,ve,$e){if(this._activeInstantiations.has(le))throw new Error(`illegal state - RECURSIVELY instantiating service '${le}'`);this._activeInstantiations.add(le);try{return this._createAndCacheServiceInstance(le,ve,$e)}finally{this._activeInstantiations.delete(le)}}_createAndCacheServiceInstance(le,ve,$e){const At=new jr(Ln=>Ln.id.toString());let Nt=0;const on=[{id:le,desc:ve,_trace:$e}];for(;on.length;){const Ln=on.pop();if(At.lookupOrInsertNode(Ln),Nt++>1e3)throw new Ws(At);for(const Jn of fe.I8.getServiceDependencies(Ln.desc.ctor)){const vi=this._getServiceInstanceOrDescriptor(Jn.id);if(vi||this._throwIfStrict(`[createInstance] ${le} depends on ${Jn.id} which is NOT registered.`,!0),vi instanceof Ns.M){const Mi={id:Jn.id,desc:vi,_trace:Ln._trace.branch(Jn.id,!0)};At.insertEdge(Ln,Mi),on.push(Mi)}}}for(;;){const Ln=At.roots();if(0===Ln.length){if(!At.isEmpty())throw new Ws(At);break}for(const{data:Jn}of Ln){if(this._getServiceInstanceOrDescriptor(Jn.id)instanceof Ns.M){const Mi=this._createServiceInstanceWithOwner(Jn.id,Jn.desc.ctor,Jn.desc.staticArguments,Jn.desc.supportsDelayedInstantiation,Jn._trace);this._setServiceInstance(Jn.id,Mi)}At.removeNode(Jn)}}return this._getServiceInstanceOrDescriptor(le)}_createServiceInstanceWithOwner(le,ve,$e=[],At,Nt){if(this._services.get(le)instanceof Ns.M)return this._createServiceInstance(ve,$e,At,Nt);if(this._parent)return this._parent._createServiceInstanceWithOwner(le,ve,$e,At,Nt);throw new Error(`illegalState - creating UNKNOWN service instance ${ve.name}`)}_createServiceInstance(le,ve=[],$e,At){if($e){const Nt=new Ke.Ue(()=>this._createInstance(le,ve,At));return new Proxy(Object.create(null),{get(on,Ln){if(Ln in on)return on[Ln];const Jn=Nt.value;let vi=Jn[Ln];return"function"!=typeof vi||(vi=vi.bind(Jn),on[Ln]=vi),vi},set:(on,Ln,Jn)=>(Nt.value[Ln]=Jn,!0)})}return this._createInstance(le,ve,At)}_throwIfStrict(le,ve){if(ve&&console.warn(le),this._strict)throw new Error(le)}}class ds{constructor(le,ve){this.type=le,this.name=ve,this._start=Date.now(),this._dep=[]}static traceInvocation(le){return ds._None}static traceCreation(le){return ds._None}branch(le,ve){const $e=new ds(2,le.toString());return this._dep.push([le,ve,$e]),$e}stop(){const le=Date.now()-this._start;ds._totals+=le;let ve=!1;const At=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function $e(Nt,on){const Ln=[],Jn=new Array(Nt+1).join("\t");for(const[vi,Mi,Ro]of on._dep)if(Mi&&Ro){ve=!0,Ln.push(`${Jn}CREATES -> ${vi}`);const Xo=$e(Nt+1,Ro);Xo&&Ln.push(Xo)}else Ln.push(`${Jn}uses -> ${vi}`);return Ln.join("\n")}(1,this)}`,`DONE, took ${le.toFixed(2)}ms (grand total ${ds._totals.toFixed(2)}ms)`];(le>2||ve)&&console.log(At.join("\n"))}}ds._None=new class extends ds{constructor(){super(-1,null)}stop(){}branch(){return this}},ds._totals=0;class rr{constructor(){this._byResource=new Co.Y9,this._byOwner=new Map}set(le,ve,$e){let At=this._byResource.get(le);At||(At=new Map,this._byResource.set(le,At)),At.set(ve,$e);let Nt=this._byOwner.get(ve);Nt||(Nt=new Co.Y9,this._byOwner.set(ve,Nt)),Nt.set(le,$e)}get(le,ve){const $e=this._byResource.get(le);return $e?.get(ve)}delete(le,ve){let $e=!1,At=!1;const Nt=this._byResource.get(le);Nt&&($e=Nt.delete(ve));const on=this._byOwner.get(ve);if(on&&(At=on.delete(le)),$e!==At)throw new Error("illegal state");return $e&&At}values(le){var ve,$e,At,Nt;return"string"==typeof le?null!==($e=null===(ve=this._byOwner.get(le))||void 0===ve?void 0:ve.values())&&void 0!==$e?$e:Vn.$.empty():Ie.o.isUri(le)?null!==(Nt=null===(At=this._byResource.get(le))||void 0===At?void 0:At.values())&&void 0!==Nt?Nt:Vn.$.empty():Vn.$.map(Vn.$.concat(...this._byOwner.values()),on=>on[1])}}class er{constructor(le){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Co.Y9,this._service=le,this._subscription=le.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(le){for(const ve of le){const $e=this._data.get(ve);$e&&this._substract($e);const At=this._resourceStats(ve);this._add(At),this._data.set(ve,At)}}_resourceStats(le){const ve={errors:0,warnings:0,infos:0,unknowns:0};if(le.scheme===n.lg.inMemory||le.scheme===n.lg.walkThrough||le.scheme===n.lg.walkThroughSnippet||le.scheme===n.lg.vscodeSourceControl)return ve;for(const{severity:$e}of this._service.read({resource:le}))$e===un.ZL.Error?ve.errors+=1:$e===un.ZL.Warning?ve.warnings+=1:$e===un.ZL.Info?ve.infos+=1:ve.unknowns+=1;return ve}_substract(le){this.errors-=le.errors,this.warnings-=le.warnings,this.infos-=le.infos,this.unknowns-=le.unknowns}_add(le){this.errors+=le.errors,this.warnings+=le.warnings,this.infos+=le.infos,this.unknowns+=le.unknowns}}class Qs{constructor(){this._onMarkerChanged=new C.D0({delay:0,merge:Qs._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new rr,this._stats=new er(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(le,ve){for(const $e of ve||[])this.changeOne(le,$e,[])}changeOne(le,ve,$e){if((0,Mn.XY)($e))this._data.delete(ve,le)&&this._onMarkerChanged.fire([ve]);else{const At=[];for(const Nt of $e){const on=Qs._toMarker(le,ve,Nt);on&&At.push(on)}this._data.set(ve,le,At),this._onMarkerChanged.fire([ve])}}static _toMarker(le,ve,$e){let{code:At,severity:Nt,message:on,source:Ln,startLineNumber:Jn,startColumn:vi,endLineNumber:Mi,endColumn:Ro,relatedInformation:Xo,tags:zo}=$e;if(on)return Jn=Jn>0?Jn:1,vi=vi>0?vi:1,Mi=Mi>=Jn?Mi:Jn,Ro=Ro>0?Ro:vi,{resource:ve,owner:le,code:At,severity:Nt,message:on,source:Ln,startLineNumber:Jn,startColumn:vi,endLineNumber:Mi,endColumn:Ro,relatedInformation:Xo,tags:zo}}changeAll(le,ve){const $e=[],At=this._data.values(le);if(At)for(const Nt of At){const on=Vn.$.first(Nt);on&&($e.push(on.resource),this._data.delete(on.resource,le))}if((0,Mn.Of)(ve)){const Nt=new Co.Y9;for(const{resource:on,marker:Ln}of ve){const Jn=Qs._toMarker(le,on,Ln);if(!Jn)continue;const vi=Nt.get(on);vi?vi.push(Jn):(Nt.set(on,[Jn]),$e.push(on))}for(const[on,Ln]of Nt)this._data.set(on,le,Ln)}$e.length>0&&this._onMarkerChanged.fire($e)}read(le=Object.create(null)){let{owner:ve,resource:$e,severities:At,take:Nt}=le;if((!Nt||Nt<0)&&(Nt=-1),ve&&$e){const on=this._data.get($e,ve);if(on){const Ln=[];for(const Jn of on)if(Qs._accept(Jn,At)){const vi=Ln.push(Jn);if(Nt>0&&vi===Nt)break}return Ln}return[]}if(ve||$e){const on=this._data.values($e??ve),Ln=[];for(const Jn of on)for(const vi of Jn)if(Qs._accept(vi,At)){const Mi=Ln.push(vi);if(Nt>0&&Mi===Nt)return Ln}return Ln}{const on=[];for(const Ln of this._data.values())for(const Jn of Ln)if(Qs._accept(Jn,At)){const vi=on.push(Jn);if(Nt>0&&vi===Nt)return on}return on}}static _accept(le,ve){return void 0===ve||(ve&le.severity)===le.severity}static _merge(le){const ve=new Co.Y9;for(const $e of le)for(const At of $e)ve.set(At,!0);return Array.from(ve.keys())}}var is=e(29390),Tr=e(13154);(0,b.z)(Tr.p,class _r{constructor(){this.referenceProvider=new is.c(this._score.bind(this)),this.renameProvider=new is.c(this._score.bind(this)),this.codeActionProvider=new is.c(this._score.bind(this)),this.definitionProvider=new is.c(this._score.bind(this)),this.typeDefinitionProvider=new is.c(this._score.bind(this)),this.declarationProvider=new is.c(this._score.bind(this)),this.implementationProvider=new is.c(this._score.bind(this)),this.documentSymbolProvider=new is.c(this._score.bind(this)),this.inlayHintsProvider=new is.c(this._score.bind(this)),this.colorProvider=new is.c(this._score.bind(this)),this.codeLensProvider=new is.c(this._score.bind(this)),this.documentFormattingEditProvider=new is.c(this._score.bind(this)),this.documentRangeFormattingEditProvider=new is.c(this._score.bind(this)),this.onTypeFormattingEditProvider=new is.c(this._score.bind(this)),this.signatureHelpProvider=new is.c(this._score.bind(this)),this.hoverProvider=new is.c(this._score.bind(this)),this.documentHighlightProvider=new is.c(this._score.bind(this)),this.selectionRangeProvider=new is.c(this._score.bind(this)),this.foldingRangeProvider=new is.c(this._score.bind(this)),this.linkProvider=new is.c(this._score.bind(this)),this.inlineCompletionsProvider=new is.c(this._score.bind(this)),this.completionProvider=new is.c(this._score.bind(this)),this.linkedEditingRangeProvider=new is.c(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new is.c(this._score.bind(this)),this.documentSemanticTokensProvider=new is.c(this._score.bind(this)),this.documentOnDropEditProvider=new is.c(this._score.bind(this)),this.documentPasteEditProvider=new is.c(this._score.bind(this))}_score(le){var ve;return null===(ve=this._notebookTypeResolver)||void 0===ve?void 0:ve.call(this,le)}},!0);var ma=e(13341),tr=function(Nn,le,ve,$e){var on,At=arguments.length,Nt=At<3?le:null===$e?$e=Object.getOwnPropertyDescriptor(le,ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Nn,le,ve,$e);else for(var Ln=Nn.length-1;Ln>=0;Ln--)(on=Nn[Ln])&&(Nt=(At<3?on(Nt):At>3?on(le,ve,Nt):on(le,ve))||Nt);return At>3&&Nt&&Object.defineProperty(le,ve,Nt),Nt},vs=function(Nn,le){return function(ve,$e){le(ve,$e,Nn)}},Ys=function(Nn,le,ve,$e){return new(ve||(ve=Promise))(function(Nt,on){function Ln(Mi){try{vi($e.next(Mi))}catch(Ro){on(Ro)}}function Jn(Mi){try{vi($e.throw(Mi))}catch(Ro){on(Ro)}}function vi(Mi){Mi.done?Nt(Mi.value):function At(Nt){return Nt instanceof ve?Nt:new ve(function(on){on(Nt)})}(Mi.value).then(Ln,Jn)}vi(($e=$e.apply(Nn,le||[])).next())})};class Xs{constructor(le){this.disposed=!1,this.model=le,this._onWillDispose=new C.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Fr=class{constructor(le){this.modelService=le}createModelReference(le){const ve=this.modelService.getModel(le);return ve?Promise.resolve(new u.Jz(new Xs(ve))):Promise.reject(new Error("Model not found"))}};Fr=tr([vs(0,Ee.q)],Fr);let zr=(()=>{class Nn{show(){return Nn.NULL_PROGRESS_RUNNER}showWhile(ve,$e){return Ys(this,void 0,void 0,function*(){yield ve})}}return Nn.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},Nn})();class Yi{info(le){return this.notify({severity:d.Z.Info,message:le})}warn(le){return this.notify({severity:d.Z.Warning,message:le})}error(le){return this.notify({severity:d.Z.Error,message:le})}notify(le){switch(le.severity){case d.Z.Error:console.error(le.message);break;case d.Z.Warning:console.warn(le.message);break;default:console.log(le.message)}return Yi.NO_OP}status(le,ve){return u.JT.None}}Yi.NO_OP=new v.EO;let fr=class{constructor(le){this._onWillExecuteCommand=new C.Q5,this._onDidExecuteCommand=new C.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=le}executeCommand(le,...ve){const $e=he.P0.getCommand(le);if(!$e)return Promise.reject(new Error(`command '${le}' not found`));try{this._onWillExecuteCommand.fire({commandId:le,args:ve});const At=this._instantiationService.invokeFunction.apply(this._instantiationService,[$e.handler,...ve]);return this._onDidExecuteCommand.fire({commandId:le,args:ve}),Promise.resolve(At)}catch(At){return Promise.reject(At)}}};fr=tr([vs(0,fe.TG)],fr);let xr=class extends vt{constructor(le,ve,$e,At,Nt,on){super(le,ve,$e,At,Nt),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ln=zo=>{const js=new u.SL;js.add(l.nm(zo,l.tw.KEY_DOWN,wr=>{const Dr=new J.y(wr);this._dispatch(Dr,Dr.target)&&(Dr.preventDefault(),Dr.stopPropagation())})),js.add(l.nm(zo,l.tw.KEY_UP,wr=>{const Dr=new J.y(wr);this._singleModifierDispatch(Dr,Dr.target)&&Dr.preventDefault()})),this._domNodeListeners.push(new Fs(zo,js))},Jn=zo=>{for(let js=0;js<this._domNodeListeners.length;js++){const wr=this._domNodeListeners[js];wr.domNode===zo&&(this._domNodeListeners.splice(js,1),wr.dispose())}},vi=zo=>{zo.getOption(56)||Ln(zo.getContainerDomNode())};this._register(on.onCodeEditorAdd(vi)),this._register(on.onCodeEditorRemove(zo=>{zo.getOption(56)||Jn(zo.getContainerDomNode())})),on.listCodeEditors().forEach(vi);const Ro=zo=>{Ln(zo.getContainerDomNode())};this._register(on.onDiffEditorAdd(Ro)),this._register(on.onDiffEditorRemove(zo=>{Jn(zo.getContainerDomNode())})),on.listDiffEditors().forEach(Ro)}addDynamicKeybinding(le,ve,$e,At){return(0,u.F8)(he.P0.registerCommand(le,$e),this.addDynamicKeybindings([{keybinding:ve,command:le,when:At}]))}addDynamicKeybindings(le){const ve=le.map($e=>{var At,Nt;const on=(0,Ce.gm)($e.keybinding,Se.OS);return{keybinding:null!==(At=on?.parts)&&void 0!==At?At:null,command:null!==(Nt=$e.command)&&void 0!==Nt?Nt:null,commandArgs:$e.commandArgs,when:$e.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(ve),this.updateResolver(),(0,u.OF)(()=>{for(let $e=0;$e<this._dynamicKeybindings.length;$e++)if(this._dynamicKeybindings[$e]===ve[0])return this._dynamicKeybindings.splice($e,ve.length),void this.updateResolver()})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const le=this._toNormalizedKeybindingItems(de.W.getDefaultKeybindings(),!0),ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new re(le,ve,$e=>this._log($e))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(le,ve){const $e=[];let At=0;for(const Nt of le){const on=Nt.when||void 0,Ln=Nt.keybinding;if(Ln){const Jn=ye.j.resolveUserBinding(Ln,Se.OS);for(const vi of Jn)$e[At++]=new Q.M(vi,Nt.command,Nt.commandArgs,on,ve,null,!1)}else $e[At++]=new Q.M(void 0,Nt.command,Nt.commandArgs,on,ve,null,!1)}return $e}resolveKeyboardEvent(le){const ve=new Ce.QC(le.ctrlKey,le.shiftKey,le.altKey,le.metaKey,le.keyCode).toChord();return new ye.j(ve,Se.OS)}};xr=tr([vs(0,ze.i6),vs(1,he.Hy),vs(2,dt.b),vs(3,v.lT),vs(4,St.VZ),vs(5,I.$)],xr);class Fs extends u.JT{constructor(le,ve){super(),this.domNode=le,this._register(ve)}}function Ss(Nn){return Nn&&"object"==typeof Nn&&(!Nn.overrideIdentifier||"string"==typeof Nn.overrideIdentifier)&&(!Nn.resource||Nn.resource instanceof Ie.o)}class ir{constructor(){this._onDidChangeConfiguration=new C.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Ze.VK(new ma.l,new Ze.VV,new Ze.VV,new Ze.VV)}getValue(le,ve){const $e="string"==typeof le?le:void 0,At=Ss(le)?le:Ss(ve)?ve:{};return this._configuration.getValue($e,At,void 0)}updateValues(le){const ve={data:this._configuration.toData()},$e=[];for(const At of le){const[Nt,on]=At;this.getValue(Nt)!==on&&(this._configuration.updateValue(Nt,on),$e.push(Nt))}if($e.length>0){const At=new Ze.YX({keys:$e,overrides:[]},ve,this._configuration);At.source=8,At.sourceConfig=null,this._onDidChangeConfiguration.fire(At)}return Promise.resolve()}updateValue(le,ve,$e,At){return this.updateValues([[le,ve]])}inspect(le,ve={}){return this._configuration.inspect(le,ve,void 0)}}let Br=class{constructor(le){this.configurationService=le,this._onDidChangeConfiguration=new C.Q5,this.configurationService.onDidChangeConfiguration(ve=>{this._onDidChangeConfiguration.fire({affectedKeys:ve.affectedKeys,affectsConfiguration:($e,At)=>ve.affectsConfiguration(At)})})}getValue(le,ve,$e){const Nt=se.L.isIPosition(ve)&&ve?"string"==typeof $e?$e:void 0:"string"==typeof ve?ve:void 0;return typeof Nt>"u"?this.configurationService.getValue():this.configurationService.getValue(Nt)}};Br=tr([vs(0,Fe.Ui)],Br);let $r=class{constructor(le){this.configurationService=le}getEOL(le,ve){const $e=this.configurationService.getValue("files.eol",{overrideIdentifier:ve,resource:le});return $e&&"string"==typeof $e&&"auto"!==$e?$e:Se.IJ||Se.dz?"\n":"\r\n"}};$r=tr([vs(0,Fe.Ui)],$r);let Vo=(()=>{class Nn{constructor(){const ve=Ie.o.from({scheme:Nn.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new it.md({uri:ve,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(ve){return ve&&ve.scheme===Nn.SCHEME?this.workspace.folders[0]:null}}return Nn.SCHEME="inmemory",Nn})();function Ds(Nn,le,ve){if(!(le&&Nn instanceof ir))return;const $e=[];Object.keys(le).forEach(At=>{(0,Me.ei)(At)&&$e.push([`editor.${At}`,le[At]]),ve&&(0,Me.Pe)(At)&&$e.push([`diffEditor.${At}`,le[At]])}),$e.length>0&&Nn.updateValues($e)}let ws=class{constructor(le){this._modelService=le}hasPreviewHandler(){return!1}apply(le,ve){return Ys(this,void 0,void 0,function*(){const $e=new Map;for(const on of le){if(!(on instanceof xe.Gl))throw new Error("bad edit - only text edits are supported");const Ln=this._modelService.getModel(on.resource);if(!Ln)throw new Error("bad edit - model not found");if("number"==typeof on.versionId&&Ln.getVersionId()!==on.versionId)throw new Error("bad state - model changed in the meantime");let Jn=$e.get(Ln);Jn||(Jn=[],$e.set(Ln,Jn)),Jn.push(Oe.h.replaceMove(ce.e.lift(on.textEdit.range),on.textEdit.text))}let At=0,Nt=0;for(const[on,Ln]of $e)on.pushStackElement(),on.pushEditOperations([],Ln,()=>[]),on.pushStackElement(),Nt+=1,At+=Ln.length;return{ariaSummary:Z.WU(et.iN.bulkEditServiceSummary,At,Nt)}})}};ws=tr([vs(0,Ee.q)],ws);let gs=class extends li{constructor(le,ve){super(le),this._codeEditorService=ve}showContextView(le,ve,$e){if(!ve){const At=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();At&&(ve=At.getContainerDomNode())}return super.showContextView(le,ve,$e)}};gs=tr([vs(0,f.F),vs(1,I.$)],gs);let Ia=class extends Wi{constructor(le,ve,$e,At,Nt){super(le,ve,$e,At,Nt),this.configure({blockMouse:!1})}};var cr;Ia=tr([vs(0,dt.b),vs(1,v.lT),vs(2,bt.u),vs(3,Xe.d),vs(4,ri.XE)],Ia),(0,b.z)(Fe.Ui,ir),(0,b.z)(Pe.V,Br),(0,b.z)(Pe.y,$r),(0,b.z)(it.ec,Vo),(0,b.z)(Ae.e,class Es{getUriLabel(le,ve){return"file"===le.scheme?le.fsPath:le.path}getUriBasenameLabel(le){return(0,st.EZ)(le)}}),(0,b.z)(dt.b,class mo{publicLog(le,ve){return Promise.resolve(void 0)}publicLog2(le,ve){return this.publicLog(le,ve)}}),(0,b.z)(g.S,class Us{confirm(le){return this.doConfirm(le).then(ve=>({confirmed:ve,checkboxChecked:!1}))}doConfirm(le){let ve=le.message;return le.detail&&(ve=ve+"\n\n"+le.detail),Promise.resolve(window.confirm(ve))}show(le,ve,$e,At){return Promise.resolve({choice:0})}}),(0,b.z)(v.lT,Yi),(0,b.z)(un.lT,Qs),(0,b.z)(An.O,class Js extends fi.T{constructor(){super()}}),(0,b.z)(Ci.Z,ci.nI),(0,b.z)(St.VZ,class Wr extends St.$V{constructor(){super(new St.kw)}}),(0,b.z)(Ee.q,jt.b$),(0,b.z)(Wt.i,Ct),(0,b.z)(ze.i6,fs),(0,b.z)(ft.R9,class ar{withProgress(le,ve,$e){return ve({report:()=>{}})}}),(0,b.z)(ft.ek,zr),(0,b.z)(Ui.Uy,Ui.vm),(0,b.z)(dn.p,Bn.eu),(0,b.z)(xe.vu,ws),(0,b.z)(mt.Y,class Cs{constructor(){this._neverEmitter=new C.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,b.z)(me.S,Fr),(0,b.z)($n.F,uo),(0,b.z)(Ii.Lw,Ii.XN),(0,b.z)(he.Hy,fr),(0,b.z)(Xe.d,xr),(0,b.z)(F.eJ,Wn),(0,b.z)(bt.u,gs),(0,b.z)(ko.v4,sn),(0,b.z)(Sn.p,pn),(0,b.z)(bt.i,Ia),(0,b.z)(ho.co,Re),function(Nn){const le=new Kr.y;for(const[on,Ln]of(0,b.d)())le.set(on,Ln);const ve=new Ir(le,!0);le.set(fe.TG,ve),Nn.get=function $e(on){const Ln=le.get(on);if(!Ln)throw new Error("Missing service "+on);return Ln instanceof Ns.M?ve.invokeFunction(Jn=>Jn.get(on)):Ln};let At=!1;Nn.initialize=function Nt(on){if(At)return ve;At=!0;for(const[Ln,Jn]of(0,b.d)())le.get(Ln)||le.set(Ln,Jn);for(const Ln in on)if(on.hasOwnProperty(Ln)){const Jn=(0,fe.yh)(Ln);le.get(Jn)instanceof Ns.M&&le.set(Jn,on[Ln])}return ve}}(cr||(cr={}))},95892:(yt,T,e)=>{"use strict";e.d(T,{kR:()=>q,MU:()=>R,nI:()=>Me,rW:()=>j,TG:()=>$});var s=e(94418),t=e(52253),l=e(84968),C=e(31864),f=e(64050),I=e(90035);class b{constructor(se,ce,Ee,me,Pe){this._parsedThemeRuleBrand=void 0,this.token=se,this.index=ce,this.fontStyle=Ee,this.foreground=me,this.background=Pe}}const _=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class r{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(se){if(null===se)return 0;const ce=se.match(_);if(!ce)throw new Error("Illegal value for token color: "+se);se=ce[1].toUpperCase();let Ee=this._color2id.get(se);return Ee||(Ee=++this._lastColorId,this._color2id.set(se,Ee),this._id2color[Ee]=l.Il.fromHex("#"+se),Ee)}getColorMap(){return this._id2color.slice(0)}}class a{constructor(se,ce){this._colorMap=se,this._root=ce,this._cache=new Map}static createFromRawTokenTheme(se,ce){return this.createFromParsedTokenTheme(function S(Oe){if(!Oe||!Array.isArray(Oe))return[];const se=[];let ce=0;for(let Ee=0,me=Oe.length;Ee<me;Ee++){const Pe=Oe[Ee];let he=-1;if("string"==typeof Pe.fontStyle){he=0;const ze=Pe.fontStyle.split(" ");for(let fe=0,Ke=ze.length;fe<Ke;fe++)switch(ze[fe]){case"italic":he|=1;break;case"bold":he|=2;break;case"underline":he|=4;break;case"strikethrough":he|=8}}let Fe=null;"string"==typeof Pe.foreground&&(Fe=Pe.foreground);let Ze=null;"string"==typeof Pe.background&&(Ze=Pe.background),se[ce++]=new b(Pe.token||"",Ee,he,Fe,Ze)}return se}(se),ce)}static createFromParsedTokenTheme(se,ce){return function D(Oe,se){Oe.sort((fe,Ke)=>{const Je=function d(Oe,se){return Oe<se?-1:Oe>se?1:0}(fe.token,Ke.token);return 0!==Je?Je:fe.index-Ke.index});let ce=0,Ee="000000",me="ffffff";for(;Oe.length>=1&&""===Oe[0].token;){const fe=Oe.shift();-1!==fe.fontStyle&&(ce=fe.fontStyle),null!==fe.foreground&&(Ee=fe.foreground),null!==fe.background&&(me=fe.background)}const Pe=new r;for(const fe of se)Pe.getId(fe);const he=Pe.getId(Ee),Fe=Pe.getId(me),Ze=new y(ce,he,Fe),ze=new g(Ze);for(let fe=0,Ke=Oe.length;fe<Ke;fe++){const Je=Oe[fe];ze.insert(Je.token,Je.fontStyle,Pe.getId(Je.foreground),Pe.getId(Je.background))}return new a(Pe,ze)}(se,ce)}getColorMap(){return this._colorMap.getColorMap()}_match(se){return this._root.match(se)}match(se,ce){let Ee=this._cache.get(ce);if(typeof Ee>"u"){const me=this._match(ce),Pe=function n(Oe){const se=Oe.match(u);if(!se)return 0;switch(se[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(ce);Ee=(me.metadata|Pe<<8)>>>0,this._cache.set(ce,Ee)}return(Ee|se<<0)>>>0}}const u=/\b(comment|string|regex|regexp)\b/;class y{constructor(se,ce,Ee){this._themeTrieElementRuleBrand=void 0,this._fontStyle=se,this._foreground=ce,this._background=Ee,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new y(this._fontStyle,this._foreground,this._background)}acceptOverwrite(se,ce,Ee){-1!==se&&(this._fontStyle=se),0!==ce&&(this._foreground=ce),0!==Ee&&(this._background=Ee),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class g{constructor(se){this._themeTrieElementBrand=void 0,this._mainRule=se,this._children=new Map}match(se){if(""===se)return this._mainRule;const ce=se.indexOf(".");let Ee,me;-1===ce?(Ee=se,me=""):(Ee=se.substring(0,ce),me=se.substring(ce+1));const Pe=this._children.get(Ee);return typeof Pe<"u"?Pe.match(me):this._mainRule}insert(se,ce,Ee,me){if(""===se)return void this._mainRule.acceptOverwrite(ce,Ee,me);const Pe=se.indexOf(".");let he,Fe;-1===Pe?(he=se,Fe=""):(he=se.substring(0,Pe),Fe=se.substring(Pe+1));let Ze=this._children.get(he);typeof Ze>"u"&&(Ze=new g(this._mainRule.clone()),this._children.set(he,Ze)),Ze.insert(Fe,ce,Ee,me)}}var m=e(99327),w=e(6192);const E={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[w.cvW]:"#FFFFFE",[w.NOs]:"#000000",[w.ES4]:"#E5EBF1",[m.tR]:"#D3D3D3",[m.Ym]:"#939393",[w.Rzx]:"#ADD6FF4D"}},L={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[w.cvW]:"#1E1E1E",[w.NOs]:"#D4D4D4",[w.ES4]:"#3A3D41",[m.tR]:"#404040",[m.Ym]:"#707070",[w.Rzx]:"#ADD6FF26"}},x={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[w.cvW]:"#000000",[w.NOs]:"#FFFFFF",[m.tR]:"#FFFFFF",[m.Ym]:"#FFFFFF"}},A={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[w.cvW]:"#FFFFFF",[w.NOs]:"#292929",[m.tR]:"#292929",[m.Ym]:"#292929"}};var k=e(25468),W=e(14089),H=e(21576),z=e(65206),N=e(68762);class K{getIcon(se){const ce=(0,N.Ks)();let Ee=se.defaults;for(;W.kS.isThemeIcon(Ee);){const me=ce.getIcon(Ee.id);if(!me)return;Ee=me.defaults}return Ee}}const $="vs",j="vs-dark",q="hc-black",R="hc-light",Z=k.B.as(w.IPX.ColorContribution),J=k.B.as(W.IP.ThemingContribution);class Ce{constructor(se,ce){this.semanticHighlighting=!1,this.themeData=ce;const Ee=ce.base;se.length>0?(this.id=Se(se)?se:Ee+" "+se,this.themeName=se):(this.id=Ee,this.themeName=Ee),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const se=new Map;for(const ce in this.themeData.colors)se.set(ce,l.Il.fromHex(this.themeData.colors[ce]));if(this.themeData.inherit){const ce=Ie(this.themeData.base);for(const Ee in ce.colors)se.has(Ee)||se.set(Ee,l.Il.fromHex(ce.colors[Ee]))}this.colors=se}return this.colors}getColor(se,ce){return this.getColors().get(se)||(!1!==ce?this.getDefault(se):void 0)}getDefault(se){let ce=this.defaultColors[se];return ce||(ce=Z.resolveDefaultColor(se,this),this.defaultColors[se]=ce,ce)}defines(se){return Object.prototype.hasOwnProperty.call(this.getColors(),se)}get type(){switch(this.base){case $:return z.eL.LIGHT;case q:return z.eL.HIGH_CONTRAST_DARK;case R:return z.eL.HIGH_CONTRAST_LIGHT;default:return z.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let se=[],ce=[];if(this.themeData.inherit){const Pe=Ie(this.themeData.base);se=Pe.rules,Pe.encodedTokensColors&&(ce=Pe.encodedTokensColors)}const Ee=this.themeData.colors["editor.foreground"],me=this.themeData.colors["editor.background"];if(Ee||me){const Pe={token:""};Ee&&(Pe.foreground=Ee),me&&(Pe.background=me),se.push(Pe)}se=se.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(ce=this.themeData.encodedTokensColors),this._tokenTheme=a.createFromRawTokenTheme(se,ce)}return this._tokenTheme}getTokenStyleMetadata(se,ce,Ee){const Pe=this.tokenTheme._match([se].concat(ce).join(".")).metadata,he=I.N.getForeground(Pe),Fe=I.N.getFontStyle(Pe);return{foreground:he,italic:!!(1&Fe),bold:!!(2&Fe),underline:!!(4&Fe),strikethrough:!!(8&Fe)}}}function Se(Oe){return Oe===$||Oe===j||Oe===q||Oe===R}function Ie(Oe){switch(Oe){case $:return E;case j:return L;case q:return x;case R:return A}}function xe(Oe){const se=Ie(Oe);return new Ce(Oe,se)}class Me extends H.JT{constructor(){super(),this._onColorThemeChange=this._register(new C.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new C.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new K,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set($,xe($)),this._knownThemes.set(j,xe(j)),this._knownThemes.set(q,xe(q)),this._knownThemes.set(R,xe(R));const se=function O(Oe){const se=new C.Q5,ce=(0,N.Ks)();return ce.onDidChange(()=>se.fire()),Oe?.onDidProductIconThemeChange(()=>se.fire()),{onDidChange:se.event,getCSS(){const Ee=Oe?Oe.getProductIconTheme():new K,me={},Pe=Fe=>{const Ze=Ee.getIcon(Fe);if(!Ze)return;const ze=Ze.font;return ze?(me[ze.id]=ze.definition,`.codicon-${Fe.id}:before { content: '${Ze.fontCharacter}'; font-family: ${(0,s._h)(ze.id)}; }`):`.codicon-${Fe.id}:before { content: '${Ze.fontCharacter}'; }`},he=[];for(const Fe of ce.getIcons()){const Ze=Pe(Fe);Ze&&he.push(Ze)}for(const Fe in me){const Ze=me[Fe],ze=Ze.weight?`font-weight: ${Ze.weight};`:"",fe=Ze.style?`font-style: ${Ze.style};`:"",Ke=Ze.src.map(Je=>`${(0,s.wY)(Je.location)} format('${Je.format}')`).join(", ");he.push(`@font-face { src: ${Ke}; font-family: ${(0,s._h)(Fe)};${ze}${fe} font-display: block; }`)}return he.join("\n")}}}(this);this._codiconCSS=se.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme($),this._onOSSchemeChanged(),se.onDidChange(()=>{this._codiconCSS=se.getCSS(),this._updateCSS()}),(0,t.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(se){return s.OO(se)?this._registerShadowDomContainer(se):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=s.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),H.JT.None}_registerShadowDomContainer(se){const ce=s.dS(se);return ce.className="monaco-colors",ce.textContent=this._allCSS,this._styleElements.push(ce),{dispose:()=>{for(let Ee=0;Ee<this._styleElements.length;Ee++)if(this._styleElements[Ee]===ce)return void this._styleElements.splice(Ee,1)}}}defineTheme(se,ce){if(!/^[a-z0-9\-]+$/i.test(se))throw new Error("Illegal theme name!");if(!Se(ce.base)&&!Se(se))throw new Error("Illegal theme base!");this._knownThemes.set(se,new Ce(se,ce)),Se(se)&&this._knownThemes.forEach(Ee=>{Ee.base===se&&Ee.notifyBaseUpdated()}),this._theme.themeName===se&&this.setTheme(se)}getColorTheme(){return this._theme}setColorMapOverride(se){this._colorMapOverride=se,this._updateThemeOrColorMap()}setTheme(se){let ce;ce=this._knownThemes.has(se)?this._knownThemes.get(se):this._knownThemes.get($),this._updateActualTheme(ce)}_updateActualTheme(se){!se||this._theme===se||(this._theme=se,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const se=window.matchMedia("(forced-colors: active)").matches;if(se!==(0,z.c3)(this._theme.type)){let ce;ce=(0,z._T)(this._theme.type)?se?q:j:se?R:$,this._updateActualTheme(this._knownThemes.get(ce))}}}setAutoDetectHighContrast(se){this._autoDetectHighContrast=se,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const se=[],ce={},Ee={addRule:he=>{ce[he]||(se.push(he),ce[he]=!0)}};J.getThemingParticipants().forEach(he=>he(this._theme,Ee,this._environment));const me=[];for(const he of Z.getColors()){const Fe=this._theme.getColor(he.id,!0);Fe&&me.push(`${(0,w.QO2)(he.id)}: ${Fe.toString()};`)}Ee.addRule(`.monaco-editor { ${me.join("\n")} }`);const Pe=this._colorMapOverride||this._theme.tokenTheme.getColorMap();Ee.addRule(function v(Oe){const se=[];for(let ce=1,Ee=Oe.length;ce<Ee;ce++)se[ce]=`.mtk${ce} { color: ${Oe[ce]}; }`;return se.push(".mtki { font-style: italic; }"),se.push(".mtkb { font-weight: bold; }"),se.push(".mtku { text-decoration: underline; text-underline-position: under; }"),se.push(".mtks { text-decoration: line-through; }"),se.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),se.join("\n")}(Pe)),this._themeCSS=se.join("\n"),this._updateCSS(),f.RW.setColorMap(Pe),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(se=>se.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},467:(yt,T,e)=>{"use strict";e.r(T);var s=e(95102),t=e(6197),l=e(71901),C=e(65206),f=e(95892);(0,s.Qr)(class I extends s.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:l.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(S,D){const _=S.get(t.Z),r=_.getColorTheme();(0,C.c3)(r.type)?(_.setTheme(this._originalThemeName||((0,C._T)(r.type)?f.rW:f.TG)),this._originalThemeName=null):(_.setTheme((0,C._T)(r.type)?f.kR:f.MU),this._originalThemeName=r.themeName)}})},6197:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>t});const t=(0,e(30888).yh)("themeService")},35029:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{JsxEmit:()=>a,ModuleKind:()=>r,ModuleResolutionKind:()=>d,NewLineKind:()=>u,ScriptTarget:()=>n,getJavaScriptWorker:()=>E,getTypeScriptWorker:()=>w,javascriptDefaults:()=>m,typescriptDefaults:()=>v,typescriptVersion:()=>g});var s=e(13688),t=e(79388),l=Object.defineProperty,C=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,I=Object.prototype.hasOwnProperty,b=(x,A,k,W)=>{if(A&&"object"==typeof A||"function"==typeof A)for(let H of f(A))!I.call(x,H)&&H!==k&&l(x,H,{get:()=>A[H],enumerable:!(W=C(A,H))||W.enumerable});return x},_={};b(_,t,"default");var r=(x=>(x[x.None=0]="None",x[x.CommonJS=1]="CommonJS",x[x.AMD=2]="AMD",x[x.UMD=3]="UMD",x[x.System=4]="System",x[x.ES2015=5]="ES2015",x[x.ESNext=99]="ESNext",x))(r||{}),a=(x=>(x[x.None=0]="None",x[x.Preserve=1]="Preserve",x[x.React=2]="React",x[x.ReactNative=3]="ReactNative",x[x.ReactJSX=4]="ReactJSX",x[x.ReactJSXDev=5]="ReactJSXDev",x))(a||{}),u=(x=>(x[x.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",x[x.LineFeed=1]="LineFeed",x))(u||{}),n=(x=>(x[x.ES3=0]="ES3",x[x.ES5=1]="ES5",x[x.ES2015=2]="ES2015",x[x.ES2016=3]="ES2016",x[x.ES2017=4]="ES2017",x[x.ES2018=5]="ES2018",x[x.ES2019=6]="ES2019",x[x.ES2020=7]="ES2020",x[x.ESNext=99]="ESNext",x[x.JSON=100]="JSON",x[x.Latest=99]="Latest",x))(n||{}),d=(x=>(x[x.Classic=1]="Classic",x[x.NodeJs=2]="NodeJs",x))(d||{}),y=class{constructor(A,k,W,H){(0,s.Z)(this,"_onDidChange",new _.Emitter),(0,s.Z)(this,"_onDidExtraLibsChange",new _.Emitter),(0,s.Z)(this,"_extraLibs",void 0),(0,s.Z)(this,"_removedExtraLibs",void 0),(0,s.Z)(this,"_eagerModelSync",void 0),(0,s.Z)(this,"_compilerOptions",void 0),(0,s.Z)(this,"_diagnosticsOptions",void 0),(0,s.Z)(this,"_workerOptions",void 0),(0,s.Z)(this,"_onDidExtraLibsChangeTimeout",void 0),(0,s.Z)(this,"_inlayHintsOptions",void 0),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(A),this.setDiagnosticsOptions(k),this.setWorkerOptions(W),this.setInlayHintsOptions(H),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(A,k){let W;if(W=typeof k>"u"?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:k,this._extraLibs[W]&&this._extraLibs[W].content===A)return{dispose:()=>{}};let H=1;return this._removedExtraLibs[W]&&(H=this._removedExtraLibs[W]+1),this._extraLibs[W]&&(H=this._extraLibs[W].version+1),this._extraLibs[W]={content:A,version:H},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let z=this._extraLibs[W];z&&z.version===H&&(delete this._extraLibs[W],this._removedExtraLibs[W]=H,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(A){for(const k in this._extraLibs)this._removedExtraLibs[k]=this._extraLibs[k].version;if(this._extraLibs=Object.create(null),A&&A.length>0)for(const k of A){const W=k.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let z=1;this._removedExtraLibs[W]&&(z=this._removedExtraLibs[W]+1),this._extraLibs[W]={content:k.content,version:z}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(A){this._compilerOptions=A||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(A){this._diagnosticsOptions=A||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(A){this._workerOptions=A||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(A){this._inlayHintsOptions=A||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(A){}setEagerModelSync(A){this._eagerModelSync=A}getEagerModelSync(){return this._eagerModelSync}},g="4.5.5",v=new y({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),m=new y({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),w=()=>L().then(x=>x.getTypeScriptWorker()),E=()=>L().then(x=>x.getJavaScriptWorker());function L(){return e.e(427).then(e.bind(e,29427))}_.languages.typescript={ModuleKind:r,JsxEmit:a,NewLineKind:u,ScriptTarget:n,ModuleResolutionKind:d,typescriptVersion:g,typescriptDefaults:v,javascriptDefaults:m,getTypeScriptWorker:w,getJavaScriptWorker:E},_.languages.onLanguage("typescript",()=>L().then(x=>x.setupTypeScript(v))),_.languages.onLanguage("javascript",()=>L().then(x=>x.setupJavaScript(m)))},1200:(yt,T,e)=>{"use strict";e.d(T,{NC:()=>D,aj:()=>_});let t=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function D(n,d,...y){return function C(n,d){let y;return y=0===d.length?n:n.replace(/\{(\d+)\}/g,(g,v)=>{const w=d[v[0]];let E=g;return"string"==typeof w?E=w:("number"==typeof w||"boolean"==typeof w||null==w)&&(E=String(w)),E}),t&&(y="\uff3b"+y.replace(/[aouei]/g,"$&$&")+"\uff3d"),y}(d,y)}function _(n){}},1652:(yt,T,e)=>{"use strict";e.d(T,{F:()=>l,U:()=>C});var s=e(38336);const l=(0,e(30888).yh)("accessibilityService"),C=new s.uy("accessibilityModeEnabled",!1)},88396:(yt,T,e)=>{"use strict";e.d(T,{Mm:()=>Me,Id:()=>ce,vr:()=>Se});var s=e(94418),t=e(47888),l=e(43219),C=e(64062),f=e(36608),I=e(89466),b=e(21576),S=e(84834),D=e(92123),_=e.n(D),r=e(65057),a=e.n(r),u=e(28764),n=e.n(u),d=e(6557),y=e.n(d),g=e(11146),v=e.n(g),m=e(95085),w=e.n(m),E=e(78771),L={};L.styleTagTransform=w(),L.setAttributes=y(),L.insert=n().bind(null,"head"),L.domAPI=a(),L.insertStyleElement=v(),_()(E.Z,L);var k=e(1200),W=e(30116),H=e(38336),z=e(64170),N=e(30888),O=e(54980),K=e(83916),$=e(22735),j=e(14089),q=e(65206),R=e(22070),Z=function(Ee,me,Pe,he){var ze,Fe=arguments.length,Ze=Fe<3?me:null===he?he=Object.getOwnPropertyDescriptor(me,Pe):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Ee,me,Pe,he);else for(var fe=Ee.length-1;fe>=0;fe--)(ze=Ee[fe])&&(Ze=(Fe<3?ze(Ze):Fe>3?ze(me,Pe,Ze):ze(me,Pe))||Ze);return Fe>3&&Ze&&Object.defineProperty(me,Pe,Ze),Ze},J=function(Ee,me){return function(Pe,he){me(Pe,he,Ee)}},Ce=function(Ee,me,Pe,he){return new(Pe||(Pe=Promise))(function(Ze,ze){function fe(vt){try{Je(he.next(vt))}catch(Et){ze(Et)}}function Ke(vt){try{Je(he.throw(vt))}catch(Et){ze(Et)}}function Je(vt){vt.done?Ze(vt.value):function Fe(Ze){return Ze instanceof Pe?Ze:new Pe(function(ze){ze(Ze)})}(vt.value).then(fe,Ke)}Je((he=he.apply(Ee,me||[])).next())})};function Se(Ee,me,Pe,he,Fe,Ze,ze){const fe=Ee.getActions(me);return function xe(Ee,me,Pe,he=(fe=>"navigation"===fe),Fe=Number.MAX_SAFE_INTEGER,Ze=(()=>!1),ze=!1){let fe,Ke;Array.isArray(me)?(fe=me,Ke=me):(fe=me.primary,Ke=me.secondary);const Je=new Set;for(const[vt,Et]of Ee){let Xe;he(vt)?(Xe=fe,Xe.length>0&&ze&&Xe.push(new f.Z0)):(Xe=Ke,Xe.length>0&&Xe.push(new f.Z0));for(let re of Et){Pe&&(re=re instanceof W.U8&&re.alt?re.alt:re);const pe=Xe.push(re);re instanceof f.wY&&Je.add({group:vt,action:re,index:pe-1})}}for(const{group:vt,action:Et,index:Xe}of Je){const re=he(vt)?fe:Ke,pe=Et.actions;(pe.length<=1||re.length+pe.length-2<=Fe)&&Ze(Et,vt,re.length)&&re.splice(Xe,1,...pe)}if(fe!==Ke&&fe.length>Fe){const vt=fe.splice(Fe,fe.length-Fe);Ke.unshift(...vt,new f.Z0)}}(fe,Pe,!1,"string"==typeof he?Je=>Je===he:he,Fe,Ze,ze),function Ie(Ee){const me=new b.SL;for(const[,Pe]of Ee)for(const he of Pe)me.add(he);return me}(fe)}let Me=class extends l.g{constructor(me,Pe,he,Fe,Ze,ze,fe){super(void 0,me,{icon:!(!me.class&&!me.item.icon),label:!me.class&&!me.item.icon,draggable:Pe?.draggable,keybinding:Pe?.keybinding,hoverDelegate:Pe?.hoverDelegate}),this._keybindingService=he,this._notificationService=Fe,this._contextKeyService=Ze,this._themeService=ze,this._contextMenuService=fe,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new b.XK),this._altKey=s._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(me){return Ce(this,void 0,void 0,function*(){me.preventDefault(),me.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Pe){this._notificationService.error(Pe)}})}render(me){super.render(me),me.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let Pe=!1,he=this._altKey.keyStatus.altKey||(S.ED||S.IJ)&&this._altKey.keyStatus.shiftKey;const Fe=()=>{var Ze;const ze=Pe&&he&&!(null===(Ze=this._commandAction.alt)||void 0===Ze||!Ze.enabled);ze!==this._wantsAltCommand&&(this._wantsAltCommand=ze,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(Ze=>{he=Ze.altKey||(S.ED||S.IJ)&&Ze.shiftKey,Fe()})),this._register((0,s.nm)(me,"mouseleave",Ze=>{Pe=!1,Fe()})),this._register((0,s.nm)(me,"mouseenter",Ze=>{Pe=!0,Fe()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var me;const Pe=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),he=Pe&&Pe.getLabel(),Fe=this._commandAction.tooltip||this._commandAction.label;let Ze=he?(0,k.NC)("titleAndKb","{0} ({1})",Fe,he):Fe;if(!this._wantsAltCommand&&null!==(me=this._menuItemAction.alt)&&void 0!==me&&me.enabled){const ze=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,fe=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Ke=fe&&fe.getLabel(),Je=Ke?(0,k.NC)("titleAndKb","{0} ({1})",ze,Ke):ze;Ze=(0,k.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",Ze,I.xo.modifierLabels[S.OS].altKey,Je)}return Ze}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(me){var Pe;this._itemClassDispose.value=void 0;const{element:he,label:Fe}=this;if(!he||!Fe)return;const Ze=this._commandAction.checked&&null!==(Pe=me.toggled)&&void 0!==Pe&&Pe.icon?me.toggled.icon:me.icon;if(Ze)if(j.kS.isThemeIcon(Ze)){const ze=j.kS.asClassNameArray(Ze);Fe.classList.add(...ze),this._itemClassDispose.value=(0,b.OF)(()=>{Fe.classList.remove(...ze)})}else Fe.style.backgroundImage=(0,q._T)(this._themeService.getColorTheme().type)?(0,s.wY)(Ze.dark):(0,s.wY)(Ze.light),Fe.classList.add("icon"),this._itemClassDispose.value=(0,b.F8)((0,b.OF)(()=>{Fe.style.backgroundImage="",Fe.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Me=Z([J(2,O.d),J(3,K.lT),J(4,H.i6),J(5,j.XE),J(6,z.i)],Me);let Oe=class extends C.C{constructor(me,Pe,he,Fe){var Ze,ze;const fe=Object.assign({},Pe??Object.create(null),{menuAsChild:null!==(Ze=Pe?.menuAsChild)&&void 0!==Ze&&Ze,classNames:null!==(ze=Pe?.classNames)&&void 0!==ze?ze:j.kS.isThemeIcon(me.item.icon)?j.kS.asClassName(me.item.icon):void 0});super(me,{getActions:()=>me.actions},he,fe),this._contextMenuService=he,this._themeService=Fe}render(me){super.render(me),(0,R.p_)(this.element),me.classList.add("menu-entry");const Pe=this._action,{icon:he}=Pe.item;if(he&&!j.kS.isThemeIcon(he)){this.element.classList.add("icon");const Fe=()=>{this.element&&(this.element.style.backgroundImage=(0,q._T)(this._themeService.getColorTheme().type)?(0,s.wY)(he.dark):(0,s.wY)(he.light))};Fe(),this._register(this._themeService.onDidColorThemeChange(()=>{Fe()}))}}};Oe=Z([J(2,z.i),J(3,j.XE)],Oe);let se=class extends l.Y{constructor(me,Pe,he,Fe,Ze,ze,fe,Ke){var Je,vt,Et;let Xe;super(null,me),this._keybindingService=he,this._notificationService=Fe,this._contextMenuService=Ze,this._menuService=ze,this._instaService=fe,this._storageService=Ke,this._container=null,this._options=Pe,this._storageKey=`${me.item.submenu.id}_lastActionId`;const re=Ke.get(this._storageKey,1);re&&(Xe=me.actions.find(ge=>re===ge.id)),Xe||(Xe=me.actions[0]),this._defaultAction=this._instaService.createInstance(Me,Xe,{keybinding:this._getDefaultActionKeybindingLabel(Xe)});const pe=Object.assign({},Pe??Object.create(null),{menuAsChild:null===(Je=Pe?.menuAsChild)||void 0===Je||Je,classNames:null!==(vt=Pe?.classNames)&&void 0!==vt?vt:["codicon","codicon-chevron-down"],actionRunner:null!==(Et=Pe?.actionRunner)&&void 0!==Et?Et:new f.Wi});this._dropdown=new C.C(me,me.actions,this._contextMenuService,pe),this._dropdown.actionRunner.onDidRun(ge=>{ge.action instanceof W.U8&&this.update(ge.action)})}update(me){this._storageService.store(this._storageKey,me.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Me,me,{keybinding:this._getDefaultActionKeybindingLabel(me)}),this._defaultAction.actionRunner=new class extends f.Wi{runAction(Pe,he){return Ce(this,void 0,void 0,function*(){yield Pe.run(void 0)})}},this._container&&this._defaultAction.render((0,s.Ce)(this._container,(0,s.$)(".action-container")))}_getDefaultActionKeybindingLabel(me){var Pe;let he;if(null!==(Pe=this._options)&&void 0!==Pe&&Pe.renderKeybindingWithDefaultActionLabel){const Fe=this._keybindingService.lookupKeybinding(me.id);Fe&&(he=`(${Fe.getLabel()})`)}return he}setActionContext(me){super.setActionContext(me),this._defaultAction.setActionContext(me),this._dropdown.setActionContext(me)}render(me){this._container=me,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Pe=(0,s.$)(".action-container");this._defaultAction.render((0,s.R3)(this._container,Pe)),this._register((0,s.nm)(Pe,s.tw.KEY_DOWN,Fe=>{const Ze=new t.y(Fe);Ze.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),Ze.stopPropagation())}));const he=(0,s.$)(".dropdown-action-container");this._dropdown.render((0,s.R3)(this._container,he)),this._register((0,s.nm)(he,s.tw.KEY_DOWN,Fe=>{var Ze;const ze=new t.y(Fe);ze.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(Ze=this._defaultAction.element)||void 0===Ze||Ze.focus(),ze.stopPropagation())}))}focus(me){me?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(me){me?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function ce(Ee,me,Pe){return me instanceof W.U8?Ee.createInstance(Me,me,Pe):me instanceof W.NZ?Ee.createInstance(me.item.rememberDefaultAction?se:Oe,me,Pe):void 0}se=Z([J(2,O.d),J(3,K.lT),J(4,z.i),J(5,W.co),J(6,N.TG),J(7,$.Uy)],se)},30116:(yt,T,e)=>{"use strict";e.d(T,{BH:()=>y,NZ:()=>g,U8:()=>v,co:()=>d,eH:()=>n,vr:()=>u});var s=e(36608),t=e(51153),l=e(31864),C=e(61777),f=e(21576),I=e(54847),b=e(34468),S=e(38336),D=e(30888),_=e(14089),a=function(m,w){return function(E,L){w(E,L,m)}};function u(m){return void 0!==m.command}class n{constructor(w){if(n._instances.has(w))throw new TypeError(`MenuId with identifier '${w}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(w,this),this.id=w}}n._instances=new Map,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.DebugToolBarStop=new n("DebugToolBarStop"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorContextShare=new n("EditorContextShare"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.CommandCenter=new n("CommandCenter"),n.LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.MenubarPanelAlignmentMenu=new n("MenubarPanelAlignmentMenu"),n.MenubarPanelPositionMenu=new n("MenubarPanelPositionMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarShare=new n("MenubarShare"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TitleBarTitleContext=new n("TitleBarTitleContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellDelete=new n("InteractiveCellDelete"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellDelete=new n("NotebookCellDelete"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.NotebookKernelSource=new n("NotebookKernelSource"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.TimelineFilterSubMenu=new n("TimelineFilterSubMenu"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.AuxiliaryBarTitle=new n("AuxiliaryBarTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),n.MergeToolbar=new n("MergeToolbar"),n.MergeInput1Toolbar=new n("MergeToolbar1Toolbar"),n.MergeInput2Toolbar=new n("MergeToolbar2Toolbar");const d=(0,D.yh)("menuService"),y=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new l.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:m=>m===n.CommandPalette}}addCommand(m){return this.addCommands(C.$.single(m))}addCommands(m){for(const w of m)this._commands.set(w.id,w);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,f.OF)(()=>{let w=!1;for(const E of m)w=this._commands.delete(E.id)||w;w&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(m){return this._commands.get(m)}getCommands(){const m=new Map;return this._commands.forEach((w,E)=>m.set(E,w)),m}appendMenuItem(m,w){return this.appendMenuItems(C.$.single({id:m,item:w}))}appendMenuItems(m){const w=new Set,E=new I.S;for(const{id:L,item:x}of m){let A=this._menuItems.get(L);A||(A=new I.S,this._menuItems.set(L,A)),E.push(A.push(x)),w.add(L)}return this._onDidChangeMenu.fire(w),(0,f.OF)(()=>{if(E.size>0){for(const L of E)L();this._onDidChangeMenu.fire(w),E.clear()}})}getMenuItems(m){let w;return w=this._menuItems.has(m)?[...this._menuItems.get(m)]:[],m===n.CommandPalette&&this._appendImplicitItems(w),w}_appendImplicitItems(m){const w=new Set;for(const E of m)u(E)&&(w.add(E.command.id),E.alt&&w.add(E.alt.id));this._commands.forEach((E,L)=>{w.has(L)||m.push({command:E})})}};class g extends s.wY{constructor(w,E,L,x){super(`submenuitem.${w.submenu.id}`,"string"==typeof w.title?w.title:w.title.value,[],"submenu"),this.item=w,this._menuService=E,this._contextKeyService=L,this._options=x}get actions(){const w=[],E=this._menuService.createMenu(this.item.submenu,this._contextKeyService),L=E.getActions(this._options);E.dispose();for(const[,x]of L)x.length>0&&(w.push(...x),w.push(new s.Z0));return w.length&&w.pop(),w}}let v=class Gu{constructor(w,E,L,x,A,k){var W,H;if(this.hideActions=x,this._commandService=k,this.id=w.id,this.label=L?.renderShortTitle&&w.shortTitle?"string"==typeof w.shortTitle?w.shortTitle:w.shortTitle.value:"string"==typeof w.title?w.title:w.title.value,this.tooltip=null!==(H="string"==typeof w.tooltip?w.tooltip:null===(W=w.tooltip)||void 0===W?void 0:W.value)&&void 0!==H?H:"",this.enabled=!w.precondition||A.contextMatchesRules(w.precondition),this.checked=void 0,w.toggled){const z=w.toggled.condition?w.toggled:{condition:w.toggled};this.checked=A.contextMatchesRules(z.condition),this.checked&&z.tooltip&&(this.tooltip="string"==typeof z.tooltip?z.tooltip:z.tooltip.value),z.title&&(this.label="string"==typeof z.title?z.title:z.title.value)}this.item=w,this.alt=E?new Gu(E,void 0,L,x,A,k):void 0,this._options=L,_.kS.isThemeIcon(w.icon)&&(this.class=t.dT.asClassName(w.icon))}dispose(){}run(...w){var E,L;let x=[];return!(null===(E=this._options)||void 0===E)&&E.arg&&(x=[...x,this._options.arg]),!(null===(L=this._options)||void 0===L)&&L.shouldForwardArgs&&(x=[...x,...w]),this._commandService.executeCommand(this.id,...x)}};v=function(m,w,E,L){var k,x=arguments.length,A=x<3?w:null===L?L=Object.getOwnPropertyDescriptor(w,E):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(m,w,E,L);else for(var W=m.length-1;W>=0;W--)(k=m[W])&&(A=(x<3?k(A):x>3?k(w,E,A):k(w,E))||A);return x>3&&A&&Object.defineProperty(w,E,A),A}([a(4,S.i6),a(5,b.Hy)],v)},21611:(yt,T,e)=>{"use strict";e.d(T,{p:()=>t});const t=(0,e(30888).yh)("clipboardService")},34468:(yt,T,e)=>{"use strict";e.d(T,{Hy:()=>b,P0:()=>S});var s=e(31864),t=e(61777),l=e(21576),C=e(54847),f=e(22070);const b=(0,e(30888).yh)("commandService"),S=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new s.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,r){if(!_)throw new Error("invalid command");if("string"==typeof _){if(!r)throw new Error("invalid command");return this.registerCommand({id:_,handler:r})}if(_.description){const y=[];for(const v of _.description.args)y.push(v.constraint);const g=_.handler;_.handler=function(v,...m){return(0,f.D8)(m,y),g(v,...m)}}const{id:a}=_;let u=this._commands.get(a);u||(u=new C.S,this._commands.set(a,u));const n=u.unshift(_),d=(0,l.OF)(()=>{n();const y=this._commands.get(a);y?.isEmpty()&&this._commands.delete(a)});return this._onDidRegisterCommand.fire(a),d}registerCommandAlias(_,r){return S.registerCommand(_,(a,...u)=>a.get(b).executeCommand(r,...u))}getCommand(_){const r=this._commands.get(_);if(r&&!r.isEmpty())return t.$.first(r)}getCommands(){const _=new Map;for(const r of this._commands.keys()){const a=this.getCommand(r);a&&_.set(r,a)}return _}};S.registerCommand("noop",()=>{})},56767:(yt,T,e)=>{"use strict";e.d(T,{KV:()=>C,Mt:()=>b,Od:()=>l,UI:()=>S,Ui:()=>t,xL:()=>f});const t=(0,e(30888).yh)("configurationService");function l(D,_){const r=Object.create(null);for(const a in D)C(r,a,D[a],_);return r}function C(D,_,r,a){const u=_.split("."),n=u.pop();let d=D;for(let y=0;y<u.length;y++){const g=u[y];let v=d[g];switch(typeof v){case"undefined":v=d[g]=Object.create(null);break;case"object":break;default:return void a(`Ignoring ${_} as ${u.slice(0,y+1).join(".")} is ${JSON.stringify(v)}`)}d=v}if("object"==typeof d&&null!==d)try{d[n]=r}catch{a(`Ignoring ${_} as ${u.join(".")} is ${JSON.stringify(d)}`)}else a(`Ignoring ${_} as ${u.join(".")} is ${JSON.stringify(d)}`)}function f(D,_){I(D,_.split("."))}function I(D,_){const r=_.shift();if(0!==_.length){if(-1!==Object.keys(D).indexOf(r)){const a=D[r];"object"==typeof a&&!Array.isArray(a)&&(I(a,_),0===Object.keys(a).length&&delete D[r])}}else delete D[r]}function b(D,_,r){const n=function a(d,y){let g=d;for(const v of y){if("object"!=typeof g||null===g)return;g=g[v]}return g}(D,_.split("."));return typeof n>"u"?r:n}function S(D){return D.replace(/[\[\]]/g,"")}},54439:(yt,T,e)=>{"use strict";e.d(T,{VK:()=>S,VV:()=>b,YX:()=>D});var s=e(14940),t=e(63312),l=e(82941),C=e(22070),f=e(56740),I=e(56767);class b{constructor(r={},a=[],u=[]){this._contents=r,this._keys=a,this._overrides=u,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(r){return r?(0,I.Mt)(this.contents,r):this.contents}getOverrideValue(r,a){const u=this.getContentsForOverrideIdentifer(a);return u?r?(0,I.Mt)(u,r):u:void 0}override(r){let a=this.overrideConfigurations.get(r);return a||(a=this.createOverrideConfigurationModel(r),this.overrideConfigurations.set(r,a)),a}merge(...r){const a=l.I8(this.contents),u=l.I8(this.overrides),n=[...this.keys];for(const d of r)if(!d.isEmpty()){this.mergeContents(a,d.contents);for(const y of d.overrides){const[g]=u.filter(v=>s.fS(v.identifiers,y.identifiers));g?(this.mergeContents(g.contents,y.contents),g.keys.push(...y.keys),g.keys=s.EB(g.keys)):u.push(l.I8(y))}for(const y of d.keys)-1===n.indexOf(y)&&n.push(y)}return new b(a,n,u)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(r){const a=this.getContentsForOverrideIdentifer(r);if(!a||"object"!=typeof a||!Object.keys(a).length)return this;const u={};for(const n of s.EB([...Object.keys(this.contents),...Object.keys(a)])){let d=this.contents[n];const y=a[n];y&&("object"==typeof d&&"object"==typeof y?(d=l.I8(d),this.mergeContents(d,y)):d=y),u[n]=d}return new b(u,this.keys,this.overrides)}mergeContents(r,a){for(const u of Object.keys(a))u in r&&C.Kn(r[u])&&C.Kn(a[u])?this.mergeContents(r[u],a[u]):r[u]=l.I8(a[u])}checkAndFreeze(r){return this.frozen&&!Object.isFrozen(r)?l._A(r):r}getContentsForOverrideIdentifer(r){let a=null,u=null;const n=d=>{d&&(u?this.mergeContents(u,d):u=l.I8(d))};for(const d of this.overrides)s.fS(d.identifiers,[r])?a=d.contents:d.identifiers.includes(r)&&n(d.contents);return n(a),u}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(r,a){this.addKey(r),(0,I.KV)(this.contents,r,a,u=>{throw new Error(u)})}removeValue(r){this.removeKey(r)&&(0,I.xL)(this.contents,r)}addKey(r){let a=this.keys.length;for(let u=0;u<a;u++)0===r.indexOf(this.keys[u])&&(a=u);this.keys.splice(a,1,r)}removeKey(r){const a=this.keys.indexOf(r);return-1!==a&&(this.keys.splice(a,1),!0)}}class S{constructor(r,a,u,n,d=new b,y=new b,g=new t.Y9,v=new b,m=new t.Y9,w=!0){this._defaultConfiguration=r,this._policyConfiguration=a,this._applicationConfiguration=u,this._localUserConfiguration=n,this._remoteUserConfiguration=d,this._workspaceConfiguration=y,this._folderConfigurations=g,this._memoryConfiguration=v,this._memoryConfigurationByResource=m,this._freeze=w,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new t.Y9,this._userConfiguration=null}getValue(r,a,u){return this.getConsolidatedConfigurationModel(r,a,u).getValue(r)}updateValue(r,a,u={}){let n;u.resource?(n=this._memoryConfigurationByResource.get(u.resource),n||(n=new b,this._memoryConfigurationByResource.set(u.resource,n))):n=this._memoryConfiguration,void 0===a?n.removeValue(r):n.setValue(r,a),u.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(r,a,u){const n=this.getConsolidatedConfigurationModel(r,a,u),d=this.getFolderConfigurationModelForResource(a.resource,u),y=a.resource&&this._memoryConfigurationByResource.get(a.resource)||this._memoryConfiguration,g=a.overrideIdentifier?this._defaultConfiguration.freeze().override(a.overrideIdentifier).getValue(r):this._defaultConfiguration.freeze().getValue(r),v=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(r),m=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(r),w=a.overrideIdentifier?this.userConfiguration.freeze().override(a.overrideIdentifier).getValue(r):this.userConfiguration.freeze().getValue(r),E=a.overrideIdentifier?this.localUserConfiguration.freeze().override(a.overrideIdentifier).getValue(r):this.localUserConfiguration.freeze().getValue(r),L=a.overrideIdentifier?this.remoteUserConfiguration.freeze().override(a.overrideIdentifier).getValue(r):this.remoteUserConfiguration.freeze().getValue(r),x=u?a.overrideIdentifier?this._workspaceConfiguration.freeze().override(a.overrideIdentifier).getValue(r):this._workspaceConfiguration.freeze().getValue(r):void 0,A=d?a.overrideIdentifier?d.freeze().override(a.overrideIdentifier).getValue(r):d.freeze().getValue(r):void 0,k=a.overrideIdentifier?y.override(a.overrideIdentifier).getValue(r):y.getValue(r),W=n.getValue(r),H=s.EB(n.overrides.map(z=>z.identifiers).flat()).filter(z=>void 0!==n.getOverrideValue(r,z));return{defaultValue:g,policyValue:v,applicationValue:m,userValue:w,userLocalValue:E,userRemoteValue:L,workspaceValue:x,workspaceFolderValue:A,memoryValue:k,value:W,default:void 0!==g?{value:this._defaultConfiguration.freeze().getValue(r),override:a.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,policy:void 0!==v?{value:v}:void 0,application:void 0!==m?{value:m,override:a.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,user:void 0!==w?{value:this.userConfiguration.freeze().getValue(r),override:a.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,userLocal:void 0!==E?{value:this.localUserConfiguration.freeze().getValue(r),override:a.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,userRemote:void 0!==L?{value:this.remoteUserConfiguration.freeze().getValue(r),override:a.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,workspace:void 0!==x?{value:this._workspaceConfiguration.freeze().getValue(r),override:a.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==A?{value:d?.freeze().getValue(r),override:a.overrideIdentifier?d?.freeze().getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,memory:void 0!==k?{value:y.getValue(r),override:a.overrideIdentifier?y.getOverrideValue(r,a.overrideIdentifier):void 0}:void 0,overrideIdentifiers:H.length?H:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(r,a,u){let n=this.getConsolidatedConfigurationModelForResource(a,u);return a.overrideIdentifier&&(n=n.override(a.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(r)&&(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:r},a){let u=this.getWorkspaceConsolidatedConfiguration();if(a&&r){const n=a.getFolder(r);n&&(u=this.getFolderConsolidatedConfiguration(n.uri)||u);const d=this._memoryConfigurationByResource.get(r);d&&(u=u.merge(d))}return u}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(r){let a=this._foldersConsolidatedConfigurations.get(r);if(!a){const u=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(r);n?(a=u.merge(n),this._freeze&&(a=a.freeze()),this._foldersConsolidatedConfigurations.set(r,a)):a=u}return a}getFolderConfigurationModelForResource(r,a){if(a&&r){const u=a.getFolder(r);if(u)return this._folderConfigurations.get(u.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((r,a)=>{const{contents:u,overrides:n,keys:d}=this._folderConfigurations.get(a);return r.push([a,{contents:u,overrides:n,keys:d}]),r},[])}}static parse(r){const a=this.parseConfigurationModel(r.defaults),u=this.parseConfigurationModel(r.policy),n=this.parseConfigurationModel(r.application),d=this.parseConfigurationModel(r.user),y=this.parseConfigurationModel(r.workspace),g=r.folders.reduce((v,m)=>(v.set(f.o.revive(m[0]),this.parseConfigurationModel(m[1])),v),new t.Y9);return new S(a,u,n,d,new b,y,g,new b,new t.Y9,!1)}static parseConfigurationModel(r){return new b(r.contents,r.keys,r.overrides).freeze()}}class D{constructor(r,a,u,n){this.change=r,this.previous=a,this.currentConfiguraiton=u,this.currentWorkspace=n,this._previousConfiguration=void 0;const d=new Set;r.keys.forEach(g=>d.add(g)),r.overrides.forEach(([,g])=>g.forEach(v=>d.add(v))),this.affectedKeys=[...d.values()];const y=new b;this.affectedKeys.forEach(g=>y.setValue(g,{})),this.affectedKeysTree=y.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=S.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(r,a){var u;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,r)){if(a){const n=this.previousConfiguration?this.previousConfiguration.getValue(r,a,null===(u=this.previous)||void 0===u?void 0:u.workspace):void 0,d=this.currentConfiguraiton.getValue(r,a,this.currentWorkspace);return!l.fS(n,d)}return!0}return!1}doesAffectedKeysTreeContains(r,a){let n,u=(0,I.Od)({[a]:!0},()=>{});for(;"object"==typeof u&&(n=Object.keys(u)[0]);){if(!(r=r[n]))return!1;u=u[n]}return!0}}},60828:(yt,T,e)=>{"use strict";e.d(T,{IP:()=>S,eU:()=>E,ny:()=>L});var s=e(14940),t=e(31864),l=e(22070),C=e(1200),f=e(56767),I=e(84783),b=e(25468);const S={Configuration:"base.contributions.configuration"},D={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},r={properties:{},patternProperties:{}},a={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},n={properties:{},patternProperties:{}},d="vscode://schemas/settings/resourceLanguage",y=b.B.as(I.I.JSONContribution),v="\\[([^\\]]+)\\]",m=new RegExp(v,"g"),w=`^(${v})+$`,E=new RegExp(w);function L(W){const H=[];if(E.test(W)){let z=m.exec(W);for(;z?.length;){const N=z[1].trim();N&&H.push(N),z=m.exec(W)}}return(0,s.EB)(H)}const A=new class g{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new t.Q5,this._onDidUpdateConfiguration=new t.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:C.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},y.registerSchema(d,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(H,z=!0){this.registerConfigurations([H],z)}registerConfigurations(H,z=!0){const N=this.doRegisterConfigurations(H,z);y.registerSchema(d,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:N})}registerDefaultConfigurations(H){var z;const N=[],O=[];for(const{overrides:K,source:$}of H)for(const j in K)if(N.push(j),E.test(j)){const q=this.configurationDefaultsOverrides.get(j),R=null!==(z=q?.valuesSources)&&void 0!==z?z:new Map;if($)for(const Se of Object.keys(K[j]))R.set(Se,$);const Z=Object.assign(Object.assign({},q?.value||{}),K[j]);this.configurationDefaultsOverrides.set(j,{source:$,value:Z,valuesSources:R});const J=(0,f.UI)(j),Ce={type:"object",default:Z,description:C.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",J),$ref:d,defaultDefaultValue:Z,source:l.HD($)?void 0:$,defaultValueSource:$};O.push(...L(j)),this.configurationProperties[j]=Ce,this.defaultLanguageConfigurationOverridesNode.properties[j]=Ce}else{this.configurationDefaultsOverrides.set(j,{value:K[j],source:$});const q=this.configurationProperties[j];q&&(this.updatePropertyDefaultValue(j,q),this.updateSchema(j,q))}this.registerOverrideIdentifiers(O),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:N,defaultsOverrides:!0})}registerOverrideIdentifiers(H){for(const z of H)this.overrideIdentifiers.add(z);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(H,z){const N=[];return H.forEach(O=>{N.push(...this.validateAndRegisterProperties(O,z,O.extensionInfo,O.restrictedProperties)),this.configurationContributors.push(O),this.registerJSONConfiguration(O)}),N}validateAndRegisterProperties(H,z=!0,N,O,K=3){var $;K=l.Jp(H.scope)?K:H.scope;const j=[],q=H.properties;if(q)for(const Z in q){const J=q[Z];z&&k(Z,J)?delete q[Z]:(J.source=N,J.defaultDefaultValue=q[Z].default,this.updatePropertyDefaultValue(Z,J),E.test(Z)?J.scope=void 0:(J.scope=l.Jp(J.scope)?K:J.scope,J.restricted=l.Jp(J.restricted)?!!O?.includes(Z):J.restricted),!q[Z].hasOwnProperty("included")||q[Z].included?(this.configurationProperties[Z]=q[Z],null!==($=q[Z].policy)&&void 0!==$&&$.name&&this.policyConfigurations.set(q[Z].policy.name,Z),!q[Z].deprecationMessage&&q[Z].markdownDeprecationMessage&&(q[Z].deprecationMessage=q[Z].markdownDeprecationMessage),j.push(Z)):(this.excludedConfigurationProperties[Z]=q[Z],delete q[Z]))}const R=H.allOf;if(R)for(const Z of R)j.push(...this.validateAndRegisterProperties(Z,z,N,O,K));return j}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(H){const z=N=>{const O=N.properties;if(O)for(const $ in O)this.updateSchema($,O[$]);const K=N.allOf;K?.forEach(z)};z(H)}updateSchema(H,z){switch(D.properties[H]=z,z.scope){case 1:_.properties[H]=z;break;case 2:r.properties[H]=z;break;case 6:a.properties[H]=z;break;case 3:u.properties[H]=z;break;case 4:n.properties[H]=z;break;case 5:n.properties[H]=z,this.resourceLanguageSettingsSchema.properties[H]=z}}updateOverridePropertyPatternKey(){for(const H of this.overrideIdentifiers.values()){const z=`[${H}]`,N={type:"object",description:C.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:C.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};this.updatePropertyDefaultValue(z,N),D.properties[z]=N,_.properties[z]=N,r.properties[z]=N,a.properties[z]=N,u.properties[z]=N,n.properties[z]=N}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const H={type:"object",description:C.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:C.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};D.patternProperties[w]=H,_.patternProperties[w]=H,r.patternProperties[w]=H,a.patternProperties[w]=H,u.patternProperties[w]=H,n.patternProperties[w]=H,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(H,z){const N=this.configurationDefaultsOverrides.get(H);let O=N?.value,K=N?.source;l.o8(O)&&(O=z.defaultDefaultValue,K=void 0),l.o8(O)&&(O=function x(W){switch(Array.isArray(W)?W[0]:W){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(z.type)),z.default=O,z.defaultValueSource=K}};function k(W,H){var z,N,O,K;return W.trim()?E.test(W)?C.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",W):void 0!==A.getConfigurationProperties()[W]?C.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",W):null!==(z=H.policy)&&void 0!==z&&z.name&&void 0!==A.getPolicyConfigurations().get(null===(N=H.policy)||void 0===N?void 0:N.name)?C.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",W,null===(O=H.policy)||void 0===O?void 0:O.name,A.getPolicyConfigurations().get(null===(K=H.policy)||void 0===K?void 0:K.name)):null:C.NC("config.property.empty","Cannot register an empty property")}b.B.add(S.Configuration,A)},13341:(yt,T,e)=>{"use strict";e.d(T,{l:()=>f});var s=e(56767),t=e(54439),l=e(60828),C=e(25468);class f extends t.VV{constructor(b={}){const S=C.B.as(l.IP.Configuration).getConfigurationProperties(),D=Object.keys(S),_=Object.create(null),r=[];for(const a in S){const u=b[a];(0,s.KV)(_,a,void 0!==u?u:S[a].default,d=>console.error(`Conflict in default settings: ${d}`))}for(const a of Object.keys(_))l.eU.test(a)&&r.push({identifiers:(0,l.ny)(a),keys:Object.keys(_[a]),contents:(0,s.Od)(_[a],u=>console.error(`Conflict in default settings file: ${u}`))});super(_,D,r)}}},38336:(yt,T,e)=>{"use strict";e.d(T,{Ao:()=>I,Eq:()=>N,Fb:()=>b,K8:()=>$,i6:()=>z,uy:()=>H});var s=e(84834),t=e(77697),l=e(30888);const C=new Map;C.set("false",!1),C.set("true",!0),C.set("isMac",s.dz),C.set("isLinux",s.IJ),C.set("isWindows",s.ED),C.set("isWeb",s.$L),C.set("isMacNative",s.dz&&!s.$L),C.set("isEdge",s.un),C.set("isFirefox",s.vU),C.set("isChrome",s.i7),C.set("isSafari",s.G6);const f=Object.prototype.hasOwnProperty;class I{static has(R){return r.create(R)}static equals(R,Z){return a.create(R,Z)}static regex(R,Z){return L.create(R,Z)}static not(R){return y.create(R)}static and(...R){return k.create(R,null)}static or(...R){return W.create(R,null,!0)}static deserialize(R,Z=!1){if(R)return this._deserializeOrExpression(R,Z)}static _deserializeOrExpression(R,Z){const J=R.split("||");return W.create(J.map(Ce=>this._deserializeAndExpression(Ce,Z)),null,!0)}static _deserializeAndExpression(R,Z){const J=R.split("&&");return k.create(J.map(Ce=>this._deserializeOne(Ce,Z)),null)}static _deserializeOne(R,Z){if((R=R.trim()).indexOf("!=")>=0){const J=R.split("!=");return d.create(J[0].trim(),this._deserializeValue(J[1],Z))}if(R.indexOf("==")>=0){const J=R.split("==");return a.create(J[0].trim(),this._deserializeValue(J[1],Z))}if(R.indexOf("=~")>=0){const J=R.split("=~");return L.create(J[0].trim(),this._deserializeRegexValue(J[1],Z))}if(R.indexOf(" not in ")>=0){const J=R.split(" not in ");return n.create(J[0].trim(),J[1].trim())}if(R.indexOf(" in ")>=0){const J=R.split(" in ");return u.create(J[0].trim(),J[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(R)){const J=R.split(">=");return m.create(J[0].trim(),J[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(R)){const J=R.split(">");return v.create(J[0].trim(),J[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(R)){const J=R.split("<=");return E.create(J[0].trim(),J[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(R)){const J=R.split("<");return w.create(J[0].trim(),J[1].trim())}return/^\!\s*/.test(R)?y.create(R.substr(1).trim()):r.create(R)}static _deserializeValue(R,Z){if("true"===(R=R.trim()))return!0;if("false"===R)return!1;const J=/^'([^']*)'$/.exec(R);return J?J[1].trim():R}static _deserializeRegexValue(R,Z){if((0,t.m5)(R)){if(Z)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const J=R.indexOf("/"),Ce=R.lastIndexOf("/");if(J===Ce||J<0){if(Z)throw new Error(`bad regexp-value '${R}', missing /-enclosure`);return console.warn(`bad regexp-value '${R}', missing /-enclosure`),null}const Se=R.slice(J+1,Ce),Ie="i"===R[Ce+1]?"i":"";try{return new RegExp(Se,Ie)}catch(xe){if(Z)throw new Error(`bad regexp-value '${R}', parse error: ${xe}`);return console.warn(`bad regexp-value '${R}', parse error: ${xe}`),null}}}function b(q,R){const Z=q?q.substituteConstants():void 0,J=R?R.substituteConstants():void 0;return!Z&&!J||!(!Z||!J)&&Z.equals(J)}function S(q,R){return q.cmp(R)}class D{constructor(){this.type=0}cmp(R){return this.type-R.type}equals(R){return R.type===this.type}substituteConstants(){return this}evaluate(R){return!1}serialize(){return"false"}keys(){return[]}negate(){return _.INSTANCE}}D.INSTANCE=new D;class _{constructor(){this.type=1}cmp(R){return this.type-R.type}equals(R){return R.type===this.type}substituteConstants(){return this}evaluate(R){return!0}serialize(){return"true"}keys(){return[]}negate(){return D.INSTANCE}}_.INSTANCE=new _;class r{constructor(R,Z){this.key=R,this.negated=Z,this.type=2}static create(R,Z=null){const J=C.get(R);return"boolean"==typeof J?J?_.INSTANCE:D.INSTANCE:new r(R,Z)}cmp(R){return R.type!==this.type?this.type-R.type:O(this.key,R.key)}equals(R){return R.type===this.type&&this.key===R.key}substituteConstants(){const R=C.get(this.key);return"boolean"==typeof R?R?_.INSTANCE:D.INSTANCE:this}evaluate(R){return!!R.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this)),this.negated}}class a{constructor(R,Z,J){this.key=R,this.value=Z,this.negated=J,this.type=4}static create(R,Z,J=null){if("boolean"==typeof Z)return Z?r.create(R,J):y.create(R,J);const Ce=C.get(R);return"boolean"==typeof Ce?Z===(Ce?"true":"false")?_.INSTANCE:D.INSTANCE:new a(R,Z,J)}cmp(R){return R.type!==this.type?this.type-R.type:K(this.key,this.value,R.key,R.value)}equals(R){return R.type===this.type&&this.key===R.key&&this.value===R.value}substituteConstants(){const R=C.get(this.key);return"boolean"==typeof R?this.value===(R?"true":"false")?_.INSTANCE:D.INSTANCE:this}evaluate(R){return R.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}class u{constructor(R,Z){this.key=R,this.valueKey=Z,this.type=10,this.negated=null}static create(R,Z){return new u(R,Z)}cmp(R){return R.type!==this.type?this.type-R.type:K(this.key,this.valueKey,R.key,R.valueKey)}equals(R){return R.type===this.type&&this.key===R.key&&this.valueKey===R.valueKey}substituteConstants(){return this}evaluate(R){const Z=R.getValue(this.valueKey),J=R.getValue(this.key);return Array.isArray(Z)?Z.includes(J):"string"==typeof J&&"object"==typeof Z&&null!==Z&&f.call(Z,J)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=n.create(this.key,this.valueKey)),this.negated}}class n{constructor(R,Z){this.key=R,this.valueKey=Z,this.type=11,this._negated=u.create(R,Z)}static create(R,Z){return new n(R,Z)}cmp(R){return R.type!==this.type?this.type-R.type:this._negated.cmp(R._negated)}equals(R){return R.type===this.type&&this._negated.equals(R._negated)}substituteConstants(){return this}evaluate(R){return!this._negated.evaluate(R)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class d{constructor(R,Z,J){this.key=R,this.value=Z,this.negated=J,this.type=5}static create(R,Z,J=null){if("boolean"==typeof Z)return Z?y.create(R,J):r.create(R,J);const Ce=C.get(R);return"boolean"==typeof Ce?Z===(Ce?"true":"false")?D.INSTANCE:_.INSTANCE:new d(R,Z,J)}cmp(R){return R.type!==this.type?this.type-R.type:K(this.key,this.value,R.key,R.value)}equals(R){return R.type===this.type&&this.key===R.key&&this.value===R.value}substituteConstants(){const R=C.get(this.key);return"boolean"==typeof R?this.value===(R?"true":"false")?D.INSTANCE:_.INSTANCE:this}evaluate(R){return R.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}class y{constructor(R,Z){this.key=R,this.negated=Z,this.type=3}static create(R,Z=null){const J=C.get(R);return"boolean"==typeof J?J?D.INSTANCE:_.INSTANCE:new y(R,Z)}cmp(R){return R.type!==this.type?this.type-R.type:O(this.key,R.key)}equals(R){return R.type===this.type&&this.key===R.key}substituteConstants(){const R=C.get(this.key);return"boolean"==typeof R?R?D.INSTANCE:_.INSTANCE:this}evaluate(R){return!R.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this)),this.negated}}function g(q,R){if("string"==typeof q){const Z=parseFloat(q);isNaN(Z)||(q=Z)}return"string"==typeof q||"number"==typeof q?R(q):D.INSTANCE}class v{constructor(R,Z,J){this.key=R,this.value=Z,this.negated=J,this.type=12}static create(R,Z,J=null){return g(Z,Ce=>new v(R,Ce,J))}cmp(R){return R.type!==this.type?this.type-R.type:K(this.key,this.value,R.key,R.value)}equals(R){return R.type===this.type&&this.key===R.key&&this.value===R.value}substituteConstants(){return this}evaluate(R){return"string"!=typeof this.value&&parseFloat(R.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}class m{constructor(R,Z,J){this.key=R,this.value=Z,this.negated=J,this.type=13}static create(R,Z,J=null){return g(Z,Ce=>new m(R,Ce,J))}cmp(R){return R.type!==this.type?this.type-R.type:K(this.key,this.value,R.key,R.value)}equals(R){return R.type===this.type&&this.key===R.key&&this.value===R.value}substituteConstants(){return this}evaluate(R){return"string"!=typeof this.value&&parseFloat(R.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class w{constructor(R,Z,J){this.key=R,this.value=Z,this.negated=J,this.type=14}static create(R,Z,J=null){return g(Z,Ce=>new w(R,Ce,J))}cmp(R){return R.type!==this.type?this.type-R.type:K(this.key,this.value,R.key,R.value)}equals(R){return R.type===this.type&&this.key===R.key&&this.value===R.value}substituteConstants(){return this}evaluate(R){return"string"!=typeof this.value&&parseFloat(R.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}class E{constructor(R,Z,J){this.key=R,this.value=Z,this.negated=J,this.type=15}static create(R,Z,J=null){return g(Z,Ce=>new E(R,Ce,J))}cmp(R){return R.type!==this.type?this.type-R.type:K(this.key,this.value,R.key,R.value)}equals(R){return R.type===this.type&&this.key===R.key&&this.value===R.value}substituteConstants(){return this}evaluate(R){return"string"!=typeof this.value&&parseFloat(R.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}class L{constructor(R,Z){this.key=R,this.regexp=Z,this.type=7,this.negated=null}static create(R,Z){return new L(R,Z)}cmp(R){if(R.type!==this.type)return this.type-R.type;if(this.key<R.key)return-1;if(this.key>R.key)return 1;const Z=this.regexp?this.regexp.source:"",J=R.regexp?R.regexp.source:"";return Z<J?-1:Z>J?1:0}equals(R){return R.type===this.type&&(this.key===R.key&&(this.regexp?this.regexp.source:"")===(R.regexp?R.regexp.source:""))}substituteConstants(){return this}evaluate(R){const Z=R.getValue(this.key);return!!this.regexp&&this.regexp.test(Z)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}class x{constructor(R){this._actual=R,this.type=8}static create(R){return new x(R)}cmp(R){return R.type!==this.type?this.type-R.type:this._actual.cmp(R._actual)}equals(R){return R.type===this.type&&this._actual.equals(R._actual)}substituteConstants(){return this}evaluate(R){return!this._actual.evaluate(R)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function A(q){let R=null;for(let Z=0,J=q.length;Z<J;Z++){const Ce=q[Z].substituteConstants();if(q[Z]!==Ce&&null===R){R=[];for(let Se=0;Se<Z;Se++)R[Se]=q[Se]}null!==R&&(R[Z]=Ce)}return null===R?q:R}class k{constructor(R,Z){this.expr=R,this.negated=Z,this.type=6}static create(R,Z){return k._normalizeArr(R,Z)}cmp(R){if(R.type!==this.type)return this.type-R.type;if(this.expr.length<R.expr.length)return-1;if(this.expr.length>R.expr.length)return 1;for(let Z=0,J=this.expr.length;Z<J;Z++){const Ce=S(this.expr[Z],R.expr[Z]);if(0!==Ce)return Ce}return 0}equals(R){if(R.type===this.type){if(this.expr.length!==R.expr.length)return!1;for(let Z=0,J=this.expr.length;Z<J;Z++)if(!this.expr[Z].equals(R.expr[Z]))return!1;return!0}return!1}substituteConstants(){const R=A(this.expr);return R===this.expr?this:k.create(R,this.negated)}evaluate(R){for(let Z=0,J=this.expr.length;Z<J;Z++)if(!this.expr[Z].evaluate(R))return!1;return!0}static _normalizeArr(R,Z){const J=[];let Ce=!1;for(const Se of R)if(Se){if(1===Se.type){Ce=!0;continue}if(0===Se.type)return D.INSTANCE;if(6===Se.type){J.push(...Se.expr);continue}J.push(Se)}if(0===J.length&&Ce)return _.INSTANCE;if(0!==J.length){if(1===J.length)return J[0];J.sort(S);for(let Se=1;Se<J.length;Se++)J[Se-1].equals(J[Se])&&(J.splice(Se,1),Se--);if(1===J.length)return J[0];for(;J.length>1;){const Se=J[J.length-1];if(9!==Se.type)break;J.pop();const Ie=J.pop(),xe=0===J.length,Me=W.create(Se.expr.map(Oe=>k.create([Oe,Ie],null)),null,xe);Me&&(J.push(Me),J.sort(S))}return 1===J.length?J[0]:new k(J,Z)}}serialize(){return this.expr.map(R=>R.serialize()).join(" && ")}keys(){const R=[];for(const Z of this.expr)R.push(...Z.keys());return R}negate(){if(!this.negated){const R=[];for(const Z of this.expr)R.push(Z.negate());this.negated=W.create(R,this,!0)}return this.negated}}class W{constructor(R,Z){this.expr=R,this.negated=Z,this.type=9}static create(R,Z,J){return W._normalizeArr(R,Z,J)}cmp(R){if(R.type!==this.type)return this.type-R.type;if(this.expr.length<R.expr.length)return-1;if(this.expr.length>R.expr.length)return 1;for(let Z=0,J=this.expr.length;Z<J;Z++){const Ce=S(this.expr[Z],R.expr[Z]);if(0!==Ce)return Ce}return 0}equals(R){if(R.type===this.type){if(this.expr.length!==R.expr.length)return!1;for(let Z=0,J=this.expr.length;Z<J;Z++)if(!this.expr[Z].equals(R.expr[Z]))return!1;return!0}return!1}substituteConstants(){const R=A(this.expr);return R===this.expr?this:W.create(R,this.negated,!1)}evaluate(R){for(let Z=0,J=this.expr.length;Z<J;Z++)if(this.expr[Z].evaluate(R))return!0;return!1}static _normalizeArr(R,Z,J){let Ce=[],Se=!1;if(R){for(let Ie=0,xe=R.length;Ie<xe;Ie++){const Me=R[Ie];if(Me){if(0===Me.type){Se=!0;continue}if(1===Me.type)return _.INSTANCE;if(9===Me.type){Ce=Ce.concat(Me.expr);continue}Ce.push(Me)}}if(0===Ce.length&&Se)return D.INSTANCE;Ce.sort(S)}if(0!==Ce.length){if(1===Ce.length)return Ce[0];for(let Ie=1;Ie<Ce.length;Ie++)Ce[Ie-1].equals(Ce[Ie])&&(Ce.splice(Ie,1),Ie--);if(1===Ce.length)return Ce[0];if(J){for(let Ie=0;Ie<Ce.length;Ie++)for(let xe=Ie+1;xe<Ce.length;xe++)$(Ce[Ie],Ce[xe])&&(Ce.splice(xe,1),xe--);if(1===Ce.length)return Ce[0]}return new W(Ce,Z)}}serialize(){return this.expr.map(R=>R.serialize()).join(" || ")}keys(){const R=[];for(const Z of this.expr)R.push(...Z.keys());return R}negate(){if(!this.negated){const R=[];for(const Z of this.expr)R.push(Z.negate());for(;R.length>1;){const Z=R.shift(),J=R.shift(),Ce=[];for(const Ie of j(Z))for(const xe of j(J))Ce.push(k.create([Ie,xe],null));R.unshift(W.create(Ce,null,0===R.length))}this.negated=R[0]}return this.negated}}let H=(()=>{class q extends r{constructor(Z,J,Ce){super(Z,null),this._defaultValue=J,"object"==typeof Ce?q._info.push(Object.assign(Object.assign({},Ce),{key:Z})):!0!==Ce&&q._info.push({key:Z,description:Ce,type:null!=J?typeof J:void 0})}static all(){return q._info.values()}bindTo(Z){return Z.createKey(this.key,this._defaultValue)}getValue(Z){return Z.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Z){return a.create(this.key,Z)}}return q._info=[],q})();const z=(0,l.yh)("contextKeyService"),N="setContext";function O(q,R){return q<R?-1:q>R?1:0}function K(q,R,Z,J){return q<Z?-1:q>Z?1:R<J?-1:R>J?1:0}function $(q,R){if(6===R.type&&9!==q.type&&6!==q.type)for(const Ce of R.expr)if(q.equals(Ce))return!0;const J=j(q.negate()).concat(j(R));J.sort(S);for(let Ce=0;Ce<J.length;Ce++){const Ie=J[Ce].negate();for(let xe=Ce+1;xe<J.length;xe++)if(Ie.equals(J[xe]))return!0}return!1}function j(q){return 9===q.type?q.expr:[q]}},79539:(yt,T,e)=>{"use strict";e.d(T,{cv:()=>I,d0:()=>a});var s=e(84834),t=e(1200),l=e(38336);new l.uy("isMac",s.dz,(0,t.NC)("isMac","Whether the operating system is macOS")),new l.uy("isLinux",s.IJ,(0,t.NC)("isLinux","Whether the operating system is Linux"));const I=new l.uy("isWindows",s.ED,(0,t.NC)("isWindows","Whether the operating system is Windows")),a=(new l.uy("isWeb",s.$L,(0,t.NC)("isWeb","Whether the platform is a web browser")),new l.uy("isMacNative",s.dz&&!s.$L,(0,t.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new l.uy("isIOS",s.gn,(0,t.NC)("isIOS","Whether the operating system is iOS")),new l.uy("isDevelopment",!1,!0),new l.uy("productQualityType","",(0,t.NC)("productQualityType","Quality type of VS Code")),"inputFocus");new l.uy(a,!1,(0,t.NC)("inputFocus","Whether keyboard focus is inside an input box"))},64170:(yt,T,e)=>{"use strict";e.d(T,{i:()=>l,u:()=>t});var s=e(30888);const t=(0,s.yh)("contextViewService"),l=(0,s.yh)("contextMenuService")},34474:(yt,T,e)=>{"use strict";e.d(T,{S:()=>t});const t=(0,e(30888).yh)("dialogService")},82761:(yt,T,e)=>{"use strict";e.d(T,{Y:()=>t});const t=(0,e(30888).yh)("environmentService")},90963:(yt,T,e)=>{"use strict";e.d(T,{k:()=>s});class s{constructor(l){this.value=l,this._lower=l.toLowerCase()}static toKey(l){return"string"==typeof l?l.toLowerCase():l._lower}}},23142:(yt,T,e)=>{"use strict";e.d(T,{Yb:()=>W,Nq:()=>H,iX:()=>m});var s=e(48880),t=e(94418),l=e(26463),C=e(18341),f=e(79595),I=e(51153),b=e(31864),D=(e(51024),e(1200));const _=D.NC("defaultLabel","input"),r=D.NC("label.preserveCaseToggle","Preserve Case");class a extends l.Z{constructor(N){super({icon:I.lA.preserveCase,title:r+N.appendTitle,isChecked:N.isChecked,inputActiveOptionBorder:N.inputActiveOptionBorder,inputActiveOptionForeground:N.inputActiveOptionForeground,inputActiveOptionBackground:N.inputActiveOptionBackground})}}class u extends f.${constructor(N,O,K,$){super(),this._showOptionButtons=K,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Q5),this._onInput=this._register(new b.Q5),this._onKeyUp=this._register(new b.Q5),this._onPreserveCaseKeyDown=this._register(new b.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=O,this.placeholder=$.placeholder||"",this.validation=$.validation,this.label=$.label||_,this.inputActiveOptionBorder=$.inputActiveOptionBorder,this.inputActiveOptionForeground=$.inputActiveOptionForeground,this.inputActiveOptionBackground=$.inputActiveOptionBackground,this.inputBackground=$.inputBackground,this.inputForeground=$.inputForeground,this.inputBorder=$.inputBorder,this.inputValidationInfoBorder=$.inputValidationInfoBorder,this.inputValidationInfoBackground=$.inputValidationInfoBackground,this.inputValidationInfoForeground=$.inputValidationInfoForeground,this.inputValidationWarningBorder=$.inputValidationWarningBorder,this.inputValidationWarningBackground=$.inputValidationWarningBackground,this.inputValidationWarningForeground=$.inputValidationWarningForeground,this.inputValidationErrorBorder=$.inputValidationErrorBorder,this.inputValidationErrorBackground=$.inputValidationErrorBackground,this.inputValidationErrorForeground=$.inputValidationErrorForeground;const j=$.appendPreserveCaseLabel||"",q=$.history||[],R=!!$.flexibleHeight,Z=!!$.flexibleWidth,J=$.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new C.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:q,showHistoryHint:$.showHistoryHint,flexibleHeight:R,flexibleWidth:Z,flexibleMaxHeight:J})),this.preserveCase=this._register(new a({appendTitle:j,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Ie=>{this._onDidOptionChange.fire(Ie),!Ie&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Ie=>{this._onPreserveCaseKeyDown.fire(Ie)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;const Ce=[this.preserveCase.domNode];this.onkeydown(this.domNode,Ie=>{if(Ie.equals(15)||Ie.equals(17)||Ie.equals(9)){const xe=Ce.indexOf(document.activeElement);if(xe>=0){let Me=-1;Ie.equals(17)?Me=(xe+1)%Ce.length:Ie.equals(15)&&(Me=0===xe?Ce.length-1:xe-1),Ie.equals(9)?(Ce[xe].blur(),this.inputBox.focus()):Me>=0&&Ce[Me].focus(),t.zB.stop(Ie,!0)}}});const Se=document.createElement("div");Se.className="controls",Se.style.display=this._showOptionButtons?"block":"none",Se.appendChild(this.preserveCase.domNode),this.domNode.appendChild(Se),N?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Ie=>this._onKeyDown.fire(Ie)),this.onkeyup(this.inputBox.inputElement,Ie=>this._onKeyUp.fire(Ie)),this.oninput(this.inputBox.inputElement,Ie=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Ie=>this._onMouseDown.fire(Ie))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(N){N?this.enable():this.disable()}style(N){this.inputActiveOptionBorder=N.inputActiveOptionBorder,this.inputActiveOptionForeground=N.inputActiveOptionForeground,this.inputActiveOptionBackground=N.inputActiveOptionBackground,this.inputBackground=N.inputBackground,this.inputForeground=N.inputForeground,this.inputBorder=N.inputBorder,this.inputValidationInfoBackground=N.inputValidationInfoBackground,this.inputValidationInfoForeground=N.inputValidationInfoForeground,this.inputValidationInfoBorder=N.inputValidationInfoBorder,this.inputValidationWarningBackground=N.inputValidationWarningBackground,this.inputValidationWarningForeground=N.inputValidationWarningForeground,this.inputValidationWarningBorder=N.inputValidationWarningBorder,this.inputValidationErrorBackground=N.inputValidationErrorBackground,this.inputValidationErrorForeground=N.inputValidationErrorForeground,this.inputValidationErrorBorder=N.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(N){this.preserveCase.checked=N}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(N){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=N,this.domNode.style.width=N+"px"}dispose(){super.dispose()}}var n=e(38336),d=e(47545),y=e(21576),g=function(z,N,O,K){var q,$=arguments.length,j=$<3?N:null===K?K=Object.getOwnPropertyDescriptor(N,O):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(z,N,O,K);else for(var R=z.length-1;R>=0;R--)(q=z[R])&&(j=($<3?q(j):$>3?q(N,O,j):q(N,O))||j);return $>3&&j&&Object.defineProperty(N,O,j),j},v=function(z,N){return function(O,K){N(O,K,z)}};const m=new n.uy("suggestWidgetVisible",!1,(0,D.NC)("suggestWidgetVisible","Whether suggestion are visible")),w="historyNavigationWidgetFocus",E="historyNavigationForwardsEnabled",L="historyNavigationBackwardsEnabled";let x;const A=[];function k(z,N){if(A.includes(N))throw new Error("Cannot register the same widget multiple times");A.push(N);const O=new y.SL,K=O.add(z.createScoped(N.element)),$=new n.uy(w,!1).bindTo(K),j=new n.uy(E,!0).bindTo(K),q=new n.uy(L,!0).bindTo(K),R=()=>{$.set(!0),x=N},Z=()=>{$.set(!1),x===N&&(x=void 0)};return N.element===document.activeElement&&R(),O.add(N.onDidFocus(()=>R())),O.add(N.onDidBlur(()=>Z())),O.add((0,y.OF)(()=>{A.splice(A.indexOf(N),1),Z()})),{scopedContextKeyService:K,historyNavigationForwardsEnablement:j,historyNavigationBackwardsEnablement:q,dispose(){O.dispose()}}}let W=class extends s.V{constructor(N,O,K,$,j=!1){super(N,O,j,K),this._register(k($,this.inputBox))}};W=g([v(3,n.i6)],W);let H=class extends u{constructor(N,O,K,$,j=!1){super(N,O,j,K),this._register(k($,this.inputBox))}};H=g([v(3,n.i6)],H),d.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(w),n.Ao.equals(L,!0),m.isEqualTo(!1)),primary:16,secondary:[528],handler:z=>{x&&x.showPreviousValue()}}),d.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(w),n.Ao.equals(E,!0),m.isEqualTo(!1)),primary:18,secondary:[530],handler:z=>{x&&x.showNextValue()}})},30693:(yt,T,e)=>{"use strict";e.d(T,{M:()=>s});class s{constructor(l,C=[],f=!1){this.ctor=l,this.staticArguments=C,this.supportsDelayedInstantiation=f}}},53708:(yt,T,e)=>{"use strict";e.d(T,{d:()=>C,z:()=>l});var s=e(30693);const t=[];function l(f,I,b){I instanceof s.M||(I=new s.M(I,[],b)),t.push([f,I])}function C(){return t}},30888:(yt,T,e)=>{"use strict";var s,f;e.d(T,{I8:()=>s,TG:()=>t,yh:()=>C}),(f=s||(s={})).serviceIds=new Map,f.DI_TARGET="$di$target",f.DI_DEPENDENCIES="$di$dependencies",f.getServiceDependencies=function I(b){return b[f.DI_DEPENDENCIES]||[]};const t=C("instantiationService");function C(f){if(s.serviceIds.has(f))return s.serviceIds.get(f);const I=function(b,S,D){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function l(f,I,b){I[s.DI_TARGET]===I?I[s.DI_DEPENDENCIES].push({id:f,index:b}):(I[s.DI_DEPENDENCIES]=[{id:f,index:b}],I[s.DI_TARGET]=I)}(I,b,D)};return I.toString=()=>f,s.serviceIds.set(f,I),I}},39135:(yt,T,e)=>{"use strict";e.d(T,{y:()=>s});class s{constructor(...l){this._entries=new Map;for(const[C,f]of l)this.set(C,f)}set(l,C){const f=this._entries.get(l);return this._entries.set(l,C),f}get(l){return this._entries.get(l)}}},84783:(yt,T,e)=>{"use strict";e.d(T,{I:()=>l});var s=e(31864),t=e(25468);const l={JSONContribution:"base.contributions.json"},I=new class f{constructor(){this._onDidChangeSchema=new s.Q5,this.schemasById={}}registerSchema(S,D){this.schemasById[function C(b){return b.length>0&&"#"===b.charAt(b.length-1)?b.substring(0,b.length-1):b}(S)]=D,this._onDidChangeSchema.fire(S)}notifySchemaChanged(S){this._onDidChangeSchema.fire(S)}};t.B.add(l.JSONContribution,I)},54980:(yt,T,e)=>{"use strict";e.d(T,{d:()=>t});const t=(0,e(30888).yh)("keybindingService")},47545:(yt,T,e)=>{"use strict";e.d(T,{W:()=>I});var s=e(99385),t=e(84834),l=e(34468),C=e(25468);class f{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(_){if(1===t.OS){if(_&&_.win)return _.win}else if(2===t.OS){if(_&&_.mac)return _.mac}else if(_&&_.linux)return _.linux;return _}registerKeybindingRule(_){const r=f.bindToCurrentPlatform(_);if(r&&r.primary){const a=(0,s.gm)(r.primary,t.OS);a&&this._registerDefaultKeybinding(a,_.id,_.args,_.weight,0,_.when)}if(r&&Array.isArray(r.secondary))for(let a=0,u=r.secondary.length;a<u;a++){const d=(0,s.gm)(r.secondary[a],t.OS);d&&this._registerDefaultKeybinding(d,_.id,_.args,_.weight,-a-1,_.when)}}registerCommandAndKeybindingRule(_){this.registerKeybindingRule(_),l.P0.registerCommand(_)}static _mightProduceChar(_){return _>=21&&_<=30||_>=31&&_<=56||80===_||81===_||82===_||83===_||84===_||85===_||86===_||110===_||111===_||87===_||88===_||89===_||90===_||91===_||92===_}_assertNoCtrlAlt(_,r){_.ctrlKey&&_.altKey&&!_.metaKey&&f._mightProduceChar(_.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",_," for ",r)}_registerDefaultKeybinding(_,r,a,u,n,d){1===t.OS&&this._assertNoCtrlAlt(_.parts[0],r),this._coreKeybindings.push({keybinding:_.parts,command:r,commandArgs:a,when:d,weight1:u,weight2:n,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(S)),this._cachedMergedKeybindings.slice(0)}}const I=new f;function S(D,_){if(D.weight1!==_.weight1)return D.weight1-_.weight1;if(D.command&&_.command){if(D.command<_.command)return-1;if(D.command>_.command)return 1}return D.weight2-_.weight2}C.B.add("platform.keybindingsRegistry",I)},50603:(yt,T,e)=>{"use strict";e.d(T,{M:()=>s,Z:()=>t});class s{constructor(C,f,I,b,S,D,_){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=C,this.keypressParts=C?t(C.getDispatchParts()):[],C&&0===this.keypressParts.length&&(this.keypressParts=t(C.getSingleModifierDispatchParts())),this.bubble=!!f&&94===f.charCodeAt(0),this.command=this.bubble?f.substr(1):f,this.commandArgs=I,this.when=b,this.isDefault=S,this.extensionId=D,this.isBuiltinExtension=_}}function t(l){const C=[];for(let f=0,I=l.length;f<I;f++){const b=l[f];if(!b)return C;C.push(b)}return C}},93547:(yt,T,e)=>{"use strict";e.d(T,{j:()=>b});var s=e(32133),t=e(99385),l=e(3219),C=e(89466);class f extends t.f1{constructor(D,_){if(super(),0===_.length)throw(0,l.b1)("parts");this._os=D,this._parts=_}getLabel(){return C.xo.toLabel(this._os,this._parts,D=>this._getLabel(D))}getAriaLabel(){return C.X4.toLabel(this._os,this._parts,D=>this._getAriaLabel(D))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:C.jC.toLabel(this._os,this._parts,D=>this._getElectronAccelerator(D))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(D=>this._getPart(D))}_getPart(D){return new t.BQ(D.ctrlKey,D.shiftKey,D.altKey,D.metaKey,this._getLabel(D),this._getAriaLabel(D))}getDispatchParts(){return this._parts.map(D=>this._getDispatchPart(D))}getSingleModifierDispatchParts(){return this._parts.map(D=>this._getSingleModifierDispatchPart(D))}}var I=e(50603);class b extends f{constructor(D,_){super(_,D.parts)}_keyCodeToUILabel(D){if(2===this._os)switch(D){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return s.kL.toString(D)}_getLabel(D){return D.isDuplicateModifierCase()?"":this._keyCodeToUILabel(D.keyCode)}_getAriaLabel(D){return D.isDuplicateModifierCase()?"":s.kL.toString(D.keyCode)}_getElectronAccelerator(D){return s.kL.toElectronAccelerator(D.keyCode)}_getDispatchPart(D){return b.getDispatchStr(D)}static getDispatchStr(D){if(D.isModifierKey())return null;let _="";return D.ctrlKey&&(_+="ctrl+"),D.shiftKey&&(_+="shift+"),D.altKey&&(_+="alt+"),D.metaKey&&(_+="meta+"),_+=s.kL.toString(D.keyCode),_}_getSingleModifierDispatchPart(D){return 5!==D.keyCode||D.shiftKey||D.altKey||D.metaKey?4!==D.keyCode||D.ctrlKey||D.altKey||D.metaKey?6!==D.keyCode||D.ctrlKey||D.shiftKey||D.metaKey?57!==D.keyCode||D.ctrlKey||D.shiftKey||D.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(D){const _=s.Vd[D];if(-1!==_)return _;switch(D){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(D){if(!D)return null;if(D instanceof t.QC)return D;const _=this._scanCodeToKeyCode(D.scanCode);return 0===_?null:new t.QC(D.ctrlKey,D.shiftKey,D.altKey,D.metaKey,_)}static resolveUserBinding(D,_){const r=(0,I.Z)(D.map(a=>this._resolveSimpleUserBinding(a)));return r.length>0?[new b(new t.X_(r),_)]:[]}}},79889:(yt,T,e)=>{"use strict";e.d(T,{e:()=>t});const t=(0,e(30888).yh)("labelService")},53192:(yt,T,e)=>{"use strict";e.d(T,{F:()=>t});const t=(0,e(30888).yh)("layoutService")},75239:(yt,T,e)=>{"use strict";e.d(T,{Lw:()=>Do,XN:()=>Ho,ls:()=>Ci,ev:()=>qe,CQ:()=>sn,PS:()=>Kt,uJ:()=>Dn});var s=e(94418),t=e(14940),l=e(71943),C=e(31864),f=e(21576),b=(e(38475),e(42749));class S{constructor(ue,Ge){this.renderer=ue,this.modelProvider=Ge}get templateId(){return this.renderer.templateId}renderTemplate(ue){return{data:this.renderer.renderTemplate(ue),disposable:f.JT.None}}renderElement(ue,Ge,Re,V){if(Re.disposable&&Re.disposable.dispose(),!Re.data)return;const ne=this.modelProvider();if(ne.isResolved(ue))return this.renderer.renderElement(ne.get(ue),ue,Re.data,V);const Ne=new l.A,at=ne.resolve(ue,Ne.token);Re.disposable={dispose:()=>Ne.cancel()},this.renderer.renderPlaceholder(ue,Re.data),at.then(It=>this.renderer.renderElement(It,ue,Re.data,V))}disposeTemplate(ue){ue.disposable&&(ue.disposable.dispose(),ue.disposable=void 0),ue.data&&(this.renderer.disposeTemplate(ue.data),ue.data=void 0)}}class D{constructor(ue,Ge){this.modelProvider=ue,this.accessibilityProvider=Ge}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(ue){const Ge=this.modelProvider();return Ge.isResolved(ue)?this.accessibilityProvider.getAriaLabel(Ge.get(ue)):null}}class r{constructor(ue,Ge,Re,V,ne={}){const Ne=()=>this.model,at=V.map(It=>new S(It,Ne));this.list=new b.aV(ue,Ge,Re,at,function _(Mn,ue){return Object.assign(Object.assign({},ue),{accessibilityProvider:ue.accessibilityProvider&&new D(Mn,ue.accessibilityProvider)})}(Ne,ne))}updateOptions(ue){this.list.updateOptions(ue)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return C.ju.map(this.list.onMouseDblClick,({element:ue,index:Ge,browserEvent:Re})=>({element:void 0===ue?void 0:this._model.get(ue),index:Ge,browserEvent:Re}))}get onPointer(){return C.ju.map(this.list.onPointer,({element:ue,index:Ge,browserEvent:Re})=>({element:void 0===ue?void 0:this._model.get(ue),index:Ge,browserEvent:Re}))}get onDidChangeSelection(){return C.ju.map(this.list.onDidChangeSelection,({elements:ue,indexes:Ge,browserEvent:Re})=>({elements:ue.map(V=>this._model.get(V)),indexes:Ge,browserEvent:Re}))}get model(){return this._model}set model(ue){this._model=ue,this.list.splice(0,this.list.length,(0,t.w6)(ue.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(ue=>this.model.get(ue))}style(ue){this.list.style(ue)}dispose(){this.list.dispose()}}var a=e(11587),u=e(92123),n=e.n(u),d=e(65057),y=e.n(d),g=e(28764),v=e.n(g),m=e(6557),w=e.n(m),E=e(11146),L=e.n(E),x=e(95085),A=e.n(x),k=e(18261),W={};W.styleTagTransform=A(),W.setAttributes=w(),W.insert=v().bind(null,"head"),W.domAPI=y(),W.insertStyleElement=L(),n()(k.Z,W);let N=(()=>{class Mn{constructor(Ge,Re,V){this.columns=Ge,this.getColumnSize=V,this.templateId=Mn.TemplateId,this.renderedTemplates=new Set;const ne=new Map(Re.map(Ne=>[Ne.templateId,Ne]));this.renderers=[];for(const Ne of Ge){const at=ne.get(Ne.templateId);if(!at)throw new Error(`Table cell renderer for template id ${Ne.templateId} not found.`);this.renderers.push(at)}}renderTemplate(Ge){const Re=(0,s.R3)(Ge,(0,s.$)(".monaco-table-tr")),V=[],ne=[];for(let at=0;at<this.columns.length;at++){const It=this.renderers[at],ln=(0,s.R3)(Re,(0,s.$)(".monaco-table-td",{"data-col-index":at}));ln.style.width=`${this.getColumnSize(at)}px`,V.push(ln),ne.push(It.renderTemplate(ln))}const Ne={container:Ge,cellContainers:V,cellTemplateData:ne};return this.renderedTemplates.add(Ne),Ne}renderElement(Ge,Re,V,ne){for(let Ne=0;Ne<this.columns.length;Ne++){const It=this.columns[Ne].project(Ge);this.renderers[Ne].renderElement(It,Re,V.cellTemplateData[Ne],ne)}}disposeElement(Ge,Re,V,ne){for(let Ne=0;Ne<this.columns.length;Ne++){const at=this.renderers[Ne];if(at.disposeElement){const ln=this.columns[Ne].project(Ge);at.disposeElement(ln,Re,V.cellTemplateData[Ne],ne)}}}disposeTemplate(Ge){for(let Re=0;Re<this.columns.length;Re++)this.renderers[Re].disposeTemplate(Ge.cellTemplateData[Re]);(0,s.PO)(Ge.container),this.renderedTemplates.delete(Ge)}layoutColumn(Ge,Re){for(const{cellContainers:V}of this.renderedTemplates)V[Ge].style.width=`${Re}px`}}return Mn.TemplateId="row",Mn})();class K{constructor(ue,Ge){this.column=ue,this.index=Ge,this._onDidLayout=new C.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,s.$)(".monaco-table-th",{"data-col-index":Ge,title:ue.tooltip},ue.label)}get minimumSize(){var ue;return null!==(ue=this.column.minimumWidth)&&void 0!==ue?ue:120}get maximumSize(){var ue;return null!==(ue=this.column.maximumWidth)&&void 0!==ue?ue:Number.POSITIVE_INFINITY}get onDidChange(){var ue;return null!==(ue=this.column.onDidChangeWidthConstraints)&&void 0!==ue?ue:C.ju.None}layout(ue){this._onDidLayout.fire([this.index,ue])}}let $=(()=>{class Mn{constructor(Ge,Re,V,ne,Ne,at){this.virtualDelegate=V,this.domId="table_id_"+ ++Mn.InstanceCount,this.disposables=new f.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,s.R3)(Re,(0,s.$)(`.monaco-table.${this.domId}`));const It=ne.map((Sn,Vn)=>new K(Sn,Vn)),ln={size:It.reduce((Sn,Vn)=>Sn+Vn.column.weight,0),views:It.map(Sn=>({size:Sn.column.weight,view:Sn}))};this.splitview=this.disposables.add(new a.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:ln})),this.splitview.el.style.height=`${V.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${V.headerRowHeight}px`;const pn=new N(ne,Ne,Sn=>this.splitview.getViewSize(Sn));this.list=this.disposables.add(new b.aV(Ge,this.domNode,function O(Mn){return{getHeight:ue=>Mn.getHeight(ue),getTemplateId:()=>N.TemplateId}}(V),[pn],at)),C.ju.any(...It.map(Sn=>Sn.onDidLayout))(([Sn,Vn])=>pn.layoutColumn(Sn,Vn),null,this.disposables),this.splitview.onDidSashReset(Sn=>{const Vn=ne.reduce((Di,Ai)=>Di+Ai.weight,0);this.splitview.resizeView(Sn,ne[Sn].weight/Vn*this.cachedWidth)},null,this.disposables),this.styleElement=(0,s.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(Ge){this.list.updateOptions(Ge)}splice(Ge,Re,V=[]){this.list.splice(Ge,Re,V)}getHTMLElement(){return this.domNode}style(Ge){const Re=[];Re.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=Re.join("\n"),this.list.style(Ge)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return Mn.InstanceCount=0,Mn})();e(16936);var q=e(47888),J=(e(3847),e(48880),e(35425)),Se=(e(26463),(()=>((Se=Se||{})[Se.Unknown=0]="Unknown",Se[Se.Twistie=1]="Twistie",Se[Se.Element=2]="Element",Se[Se.Filter=3]="Filter",Se))());class Ie extends Error{constructor(ue,Ge){super(`TreeError [${ue}] ${Ge}`)}}class xe{constructor(ue){this.fn=ue,this._map=new WeakMap}map(ue){let Ge=this._map.get(ue);return Ge||(Ge=this.fn(ue),this._map.set(ue,Ge)),Ge}}var Me=e(41883),Oe=e(60044),se=e(61777);function ce(Mn){return"object"==typeof Mn&&"visibility"in Mn&&"data"in Mn}function Ee(Mn){switch(Mn){case!0:return 1;case!1:return 0;default:return Mn}}function me(Mn){return"boolean"==typeof Mn.collapsible}class Pe{constructor(ue,Ge,Re,V={}){this.user=ue,this.list=Ge,this.rootRef=[],this.eventBufferer=new C.E7,this._onDidChangeCollapseState=new C.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new C.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new C.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Me.vp(Me.ne),this.collapseByDefault=!(typeof V.collapseByDefault>"u")&&V.collapseByDefault,this.filter=V.filter,this.autoExpandSingleChildren=!(typeof V.autoExpandSingleChildren>"u")&&V.autoExpandSingleChildren,this.root={parent:void 0,element:Re,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(ue,Ge,Re=se.$.empty(),V={}){if(0===ue.length)throw new Ie(this.user,"Invalid tree location");V.diffIdentityProvider?this.spliceSmart(V.diffIdentityProvider,ue,Ge,Re,V):this.spliceSimple(ue,Ge,Re,V)}spliceSmart(ue,Ge,Re,V,ne,Ne){var at;void 0===V&&(V=se.$.empty()),void 0===Ne&&(Ne=null!==(at=ne.diffDepth)&&void 0!==at?at:0);const{parentNode:It}=this.getParentNodeWithListIndex(Ge);if(!It.lastDiffIds)return this.spliceSimple(Ge,Re,V,ne);const ln=[...V],pn=Ge[Ge.length-1],Sn=new Oe.Hs({getElements:()=>It.lastDiffIds},{getElements:()=>[...It.children.slice(0,pn),...ln,...It.children.slice(pn+Re)].map(ui=>ue.getId(ui.element).toString())}).ComputeDiff(!1);if(Sn.quitEarly)return It.lastDiffIds=void 0,this.spliceSimple(Ge,Re,ln,ne);const Vn=Ge.slice(0,-1),gi=(ui,lo,Hi)=>{if(Ne>0)for(let Fo=0;Fo<Hi;Fo++)ui--,lo--,this.spliceSmart(ue,[...Vn,ui,0],Number.MAX_SAFE_INTEGER,ln[lo].children,ne,Ne-1)};let Di=Math.min(It.children.length,pn+Re),Ai=ln.length;for(const ui of Sn.changes.sort((lo,Hi)=>Hi.originalStart-lo.originalStart))gi(Di,Ai,Di-(ui.originalStart+ui.originalLength)),Di=ui.originalStart,Ai=ui.modifiedStart-pn,this.spliceSimple([...Vn,Di],ui.originalLength,se.$.slice(ln,Ai,Ai+ui.modifiedLength),ne);gi(Di,Ai,Di)}spliceSimple(ue,Ge,Re=se.$.empty(),{onDidCreateNode:V,onDidDeleteNode:ne,diffIdentityProvider:Ne}){const{parentNode:at,listIndex:It,revealed:ln,visible:pn}=this.getParentNodeWithListIndex(ue),Sn=[],Vn=se.$.map(Re,ns=>this.createTreeNode(ns,at,at.visible?1:0,ln,Sn,V)),gi=ue[ue.length-1],Di=at.children.length>0;let Ai=0;for(let ns=gi;ns>=0&&ns<at.children.length;ns--){const Go=at.children[ns];if(Go.visible){Ai=Go.visibleChildIndex;break}}const ui=[];let lo=0,Hi=0;for(const ns of Vn)ui.push(ns),Hi+=ns.renderNodeCount,ns.visible&&(ns.visibleChildIndex=Ai+lo++);const Fo=(0,t.db)(at.children,gi,Ge,ui);Ne?at.lastDiffIds?(0,t.db)(at.lastDiffIds,gi,Ge,ui.map(ns=>Ne.getId(ns.element).toString())):at.lastDiffIds=at.children.map(ns=>Ne.getId(ns.element).toString()):at.lastDiffIds=void 0;let fo=0;for(const ns of Fo)ns.visible&&fo++;if(0!==fo)for(let ns=gi+ui.length;ns<at.children.length;ns++){const Go=at.children[ns];Go.visible&&(Go.visibleChildIndex-=fo)}if(at.visibleChildrenCount+=lo-fo,ln&&pn){const ns=Fo.reduce((Go,nr)=>Go+(nr.visible?nr.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(at,Hi-ns),this.list.splice(It,ns,Sn)}if(Fo.length>0&&ne){const ns=Go=>{ne(Go),Go.children.forEach(ns)};Fo.forEach(ns)}this._onDidSplice.fire({insertedNodes:ui,deletedNodes:Fo});const bo=at.children.length>0;Di!==bo&&this.setCollapsible(ue.slice(0,-1),bo);let _s=at;for(;_s;){if(2===_s.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}_s=_s.parent}}rerender(ue){if(0===ue.length)throw new Ie(this.user,"Invalid tree location");const{node:Ge,listIndex:Re,revealed:V}=this.getTreeNodeWithListIndex(ue);Ge.visible&&V&&this.list.splice(Re,1,[Ge])}has(ue){return this.hasTreeNode(ue)}getListIndex(ue){const{listIndex:Ge,visible:Re,revealed:V}=this.getTreeNodeWithListIndex(ue);return Re&&V?Ge:-1}getListRenderCount(ue){return this.getTreeNode(ue).renderNodeCount}isCollapsible(ue){return this.getTreeNode(ue).collapsible}setCollapsible(ue,Ge){const Re=this.getTreeNode(ue);typeof Ge>"u"&&(Ge=!Re.collapsible);const V={collapsible:Ge};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(ue,V))}isCollapsed(ue){return this.getTreeNode(ue).collapsed}setCollapsed(ue,Ge,Re){const V=this.getTreeNode(ue);typeof Ge>"u"&&(Ge=!V.collapsed);const ne={collapsed:Ge,recursive:Re||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(ue,ne))}_setCollapseState(ue,Ge){const{node:Re,listIndex:V,revealed:ne}=this.getTreeNodeWithListIndex(ue),Ne=this._setListNodeCollapseState(Re,V,ne,Ge);if(Re!==this.root&&this.autoExpandSingleChildren&&Ne&&!me(Ge)&&Re.collapsible&&!Re.collapsed&&!Ge.recursive){let at=-1;for(let It=0;It<Re.children.length;It++)if(Re.children[It].visible){if(at>-1){at=-1;break}at=It}at>-1&&this._setCollapseState([...ue,at],Ge)}return Ne}_setListNodeCollapseState(ue,Ge,Re,V){const ne=this._setNodeCollapseState(ue,V,!1);if(!Re||!ue.visible||!ne)return ne;const Ne=ue.renderNodeCount,at=this.updateNodeAfterCollapseChange(ue);return this.list.splice(Ge+1,Ne-(-1===Ge?0:1),at.slice(1)),ne}_setNodeCollapseState(ue,Ge,Re){let V;if(ue===this.root?V=!1:(me(Ge)?(V=ue.collapsible!==Ge.collapsible,ue.collapsible=Ge.collapsible):ue.collapsible?(V=ue.collapsed!==Ge.collapsed,ue.collapsed=Ge.collapsed):V=!1,V&&this._onDidChangeCollapseState.fire({node:ue,deep:Re})),!me(Ge)&&Ge.recursive)for(const ne of ue.children)V=this._setNodeCollapseState(ne,Ge,!0)||V;return V}expandTo(ue){this.eventBufferer.bufferEvents(()=>{let Ge=this.getTreeNode(ue);for(;Ge.parent;)Ge=Ge.parent,ue=ue.slice(0,ue.length-1),Ge.collapsed&&this._setCollapseState(ue,{collapsed:!1,recursive:!1})})}refilter(){const ue=this.root.renderNodeCount,Ge=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,ue,Ge),this.refilterDelayer.cancel()}createTreeNode(ue,Ge,Re,V,ne,Ne){const at={parent:Ge,element:ue.element,children:[],depth:Ge.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof ue.collapsible?ue.collapsible:typeof ue.collapsed<"u",collapsed:typeof ue.collapsed>"u"?this.collapseByDefault:ue.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},It=this._filterNode(at,Re);at.visibility=It,V&&ne.push(at);const ln=ue.children||se.$.empty(),pn=V&&0!==It&&!at.collapsed,Sn=se.$.map(ln,Di=>this.createTreeNode(Di,at,It,pn,ne,Ne));let Vn=0,gi=1;for(const Di of Sn)at.children.push(Di),gi+=Di.renderNodeCount,Di.visible&&(Di.visibleChildIndex=Vn++);return at.collapsible=at.collapsible||at.children.length>0,at.visibleChildrenCount=Vn,at.visible=2===It?Vn>0:1===It,at.visible?at.collapsed||(at.renderNodeCount=gi):(at.renderNodeCount=0,V&&ne.pop()),Ne?.(at),at}updateNodeAfterCollapseChange(ue){const Ge=ue.renderNodeCount,Re=[];return this._updateNodeAfterCollapseChange(ue,Re),this._updateAncestorsRenderNodeCount(ue.parent,Re.length-Ge),Re}_updateNodeAfterCollapseChange(ue,Ge){if(!1===ue.visible)return 0;if(Ge.push(ue),ue.renderNodeCount=1,!ue.collapsed)for(const Re of ue.children)ue.renderNodeCount+=this._updateNodeAfterCollapseChange(Re,Ge);return this._onDidChangeRenderNodeCount.fire(ue),ue.renderNodeCount}updateNodeAfterFilterChange(ue){const Ge=ue.renderNodeCount,Re=[];return this._updateNodeAfterFilterChange(ue,ue.visible?1:0,Re),this._updateAncestorsRenderNodeCount(ue.parent,Re.length-Ge),Re}_updateNodeAfterFilterChange(ue,Ge,Re,V=!0){let ne;if(ue!==this.root){if(ne=this._filterNode(ue,Ge),0===ne)return ue.visible=!1,ue.renderNodeCount=0,!1;V&&Re.push(ue)}const Ne=Re.length;ue.renderNodeCount=ue===this.root?0:1;let at=!1;if(ue.collapsed&&0===ne)ue.visibleChildrenCount=0;else{let It=0;for(const ln of ue.children)at=this._updateNodeAfterFilterChange(ln,ne,Re,V&&!ue.collapsed)||at,ln.visible&&(ln.visibleChildIndex=It++);ue.visibleChildrenCount=It}return ue!==this.root&&(ue.visible=2===ne?at:1===ne,ue.visibility=ne),ue.visible?ue.collapsed||(ue.renderNodeCount+=Re.length-Ne):(ue.renderNodeCount=0,V&&Re.pop()),this._onDidChangeRenderNodeCount.fire(ue),ue.visible}_updateAncestorsRenderNodeCount(ue,Ge){if(0!==Ge)for(;ue;)ue.renderNodeCount+=Ge,this._onDidChangeRenderNodeCount.fire(ue),ue=ue.parent}_filterNode(ue,Ge){const Re=this.filter?this.filter.filter(ue.element,Ge):1;return"boolean"==typeof Re?(ue.filterData=void 0,Re?1:0):ce(Re)?(ue.filterData=Re.data,Ee(Re.visibility)):(ue.filterData=void 0,Ee(Re))}hasTreeNode(ue,Ge=this.root){if(!ue||0===ue.length)return!0;const[Re,...V]=ue;return!(Re<0||Re>Ge.children.length)&&this.hasTreeNode(V,Ge.children[Re])}getTreeNode(ue,Ge=this.root){if(!ue||0===ue.length)return Ge;const[Re,...V]=ue;if(Re<0||Re>Ge.children.length)throw new Ie(this.user,"Invalid tree location");return this.getTreeNode(V,Ge.children[Re])}getTreeNodeWithListIndex(ue){if(0===ue.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:Ge,listIndex:Re,revealed:V,visible:ne}=this.getParentNodeWithListIndex(ue),Ne=ue[ue.length-1];if(Ne<0||Ne>Ge.children.length)throw new Ie(this.user,"Invalid tree location");const at=Ge.children[Ne];return{node:at,listIndex:Re,revealed:V,visible:ne&&at.visible}}getParentNodeWithListIndex(ue,Ge=this.root,Re=0,V=!0,ne=!0){const[Ne,...at]=ue;if(Ne<0||Ne>Ge.children.length)throw new Ie(this.user,"Invalid tree location");for(let It=0;It<Ne;It++)Re+=Ge.children[It].renderNodeCount;return V=V&&!Ge.collapsed,ne=ne&&Ge.visible,0===at.length?{parentNode:Ge,listIndex:Re,revealed:V,visible:ne}:this.getParentNodeWithListIndex(at,Ge.children[Ne],Re+1,V,ne)}getNode(ue=[]){return this.getTreeNode(ue)}getNodeLocation(ue){const Ge=[];let Re=ue;for(;Re.parent;)Ge.push(Re.parent.children.indexOf(Re)),Re=Re.parent;return Ge.reverse()}getParentNodeLocation(ue){if(0!==ue.length)return 1===ue.length?[]:(0,t.JH)(ue)[0]}getFirstElementChild(ue){const Ge=this.getTreeNode(ue);if(0!==Ge.children.length)return Ge.children[0].element}}e(36608);var Fe=e(51153);class Ze{constructor(){this.map=new Map}add(ue,Ge){let Re=this.map.get(ue);Re||(Re=new Set,this.map.set(ue,Re)),Re.add(Ge)}delete(ue,Ge){const Re=this.map.get(ue);Re&&(Re.delete(Ge),0===Re.size&&this.map.delete(ue))}forEach(ue,Ge){const Re=this.map.get(ue);Re&&Re.forEach(Ge)}}var ze=e(19623),fe=e(23944),Ke=e(22070),Je=e(83204),vt={};vt.styleTagTransform=A(),vt.setAttributes=w(),vt.insert=v().bind(null,"head"),vt.domAPI=y(),vt.insertStyleElement=L(),n()(Je.Z,vt);var re=e(1200);class ge extends J.kX{constructor(ue){super(ue.elements.map(Ge=>Ge.element)),this.data=ue}}function de(Mn){return Mn instanceof J.kX?new ge(Mn):Mn}class Q{constructor(ue,Ge){this.modelProvider=ue,this.dnd=Ge,this.autoExpandDisposable=f.JT.None}getDragURI(ue){return this.dnd.getDragURI(ue.element)}getDragLabel(ue,Ge){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ue.map(Re=>Re.element),Ge)}onDragStart(ue,Ge){var Re,V;null===(V=(Re=this.dnd).onDragStart)||void 0===V||V.call(Re,de(ue),Ge)}onDragOver(ue,Ge,Re,V,ne=!0){const Ne=this.dnd.onDragOver(de(ue),Ge&&Ge.element,Re,V),at=this.autoExpandNode!==Ge;if(at&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=Ge),typeof Ge>"u")return Ne;if(at&&"boolean"!=typeof Ne&&Ne.autoExpand&&(this.autoExpandDisposable=(0,Me.Vg)(()=>{const Vn=this.modelProvider(),gi=Vn.getNodeLocation(Ge);Vn.isCollapsed(gi)&&Vn.setCollapsed(gi,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof Ne||!Ne.accept||typeof Ne.bubble>"u"||Ne.feedback)return ne?Ne:{accept:"boolean"==typeof Ne?Ne:Ne.accept,effect:"boolean"==typeof Ne?void 0:Ne.effect,feedback:[Re]};if(1===Ne.bubble){const Vn=this.modelProvider(),gi=Vn.getNodeLocation(Ge),Di=Vn.getParentNodeLocation(gi),Ai=Vn.getNode(Di),ui=Di&&Vn.getListIndex(Di);return this.onDragOver(ue,Ai,ui,V,!1)}const It=this.modelProvider(),ln=It.getNodeLocation(Ge),pn=It.getListIndex(ln),Sn=It.getListRenderCount(ln);return Object.assign(Object.assign({},Ne),{feedback:(0,t.w6)(pn,pn+Sn)})}drop(ue,Ge,Re,V){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(de(ue),Ge&&Ge.element,Re,V)}onDragEnd(ue){var Ge,Re;null===(Re=(Ge=this.dnd).onDragEnd)||void 0===Re||Re.call(Ge,ue)}}class Ae{constructor(ue){this.delegate=ue}getHeight(ue){return this.delegate.getHeight(ue.element)}getTemplateId(ue){return this.delegate.getTemplateId(ue.element)}hasDynamicHeight(ue){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(ue.element)}setDynamicHeight(ue,Ge){var Re,V;null===(V=(Re=this.delegate).setDynamicHeight)||void 0===V||V.call(Re,ue.element,Ge)}}var ft=(()=>((ft=ft||{}).None="none",ft.OnHover="onHover",ft.Always="always",ft))();class dt{constructor(ue,Ge=[]){this._elements=Ge,this.disposables=new f.SL,this.onDidChange=C.ju.forEach(ue,Re=>this._elements=Re,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}let it=(()=>{class Mn{constructor(Ge,Re,V,ne,Ne={}){var at;this.renderer=Ge,this.modelProvider=Re,this.activeNodes=ne,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Mn.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Ze,this.activeIndentNodes=new Set,this.indentGuidesDisposable=f.JT.None,this.disposables=new f.SL,this.templateId=Ge.templateId,this.updateOptions(Ne),C.ju.map(V,It=>It.node)(this.onDidChangeNodeTwistieState,this,this.disposables),null===(at=Ge.onDidChangeTwistieState)||void 0===at||at.call(Ge,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Ge={}){if(typeof Ge.indent<"u"&&(this.indent=(0,fe.uZ)(Ge.indent,0,40)),typeof Ge.renderIndentGuides<"u"){const Re=Ge.renderIndentGuides!==ft.None;if(Re!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=Re,this.indentGuidesDisposable.dispose(),Re)){const V=new f.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof Ge.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=Ge.hideTwistiesOfChildlessElements)}renderTemplate(Ge){const Re=(0,s.R3)(Ge,(0,s.$)(".monaco-tl-row")),V=(0,s.R3)(Re,(0,s.$)(".monaco-tl-indent")),ne=(0,s.R3)(Re,(0,s.$)(".monaco-tl-twistie")),Ne=(0,s.R3)(Re,(0,s.$)(".monaco-tl-contents")),at=this.renderer.renderTemplate(Ne);return{container:Ge,indent:V,twistie:ne,indentGuidesDisposable:f.JT.None,templateData:at}}renderElement(Ge,Re,V,ne){"number"==typeof ne&&(this.renderedNodes.set(Ge,{templateData:V,height:ne}),this.renderedElements.set(Ge.element,Ge));const Ne=Mn.DefaultIndent+(Ge.depth-1)*this.indent;V.twistie.style.paddingLeft=`${Ne}px`,V.indent.style.width=Ne+this.indent-16+"px",this.renderTwistie(Ge,V),"number"==typeof ne&&this.renderIndentGuides(Ge,V),this.renderer.renderElement(Ge,Re,V.templateData,ne)}disposeElement(Ge,Re,V,ne){var Ne,at;V.indentGuidesDisposable.dispose(),null===(at=(Ne=this.renderer).disposeElement)||void 0===at||at.call(Ne,Ge,Re,V.templateData,ne),"number"==typeof ne&&(this.renderedNodes.delete(Ge),this.renderedElements.delete(Ge.element))}disposeTemplate(Ge){this.renderer.disposeTemplate(Ge.templateData)}onDidChangeTwistieState(Ge){const Re=this.renderedElements.get(Ge);Re&&this.onDidChangeNodeTwistieState(Re)}onDidChangeNodeTwistieState(Ge){const Re=this.renderedNodes.get(Ge);Re&&(this.renderTwistie(Ge,Re.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(Ge,Re.templateData))}renderTwistie(Ge,Re){Re.twistie.classList.remove(...Fe.lA.treeItemExpanded.classNamesArray);let V=!1;this.renderer.renderTwistie&&(V=this.renderer.renderTwistie(Ge.element,Re.twistie)),Ge.collapsible&&(!this.hideTwistiesOfChildlessElements||Ge.visibleChildrenCount>0)?(V||Re.twistie.classList.add(...Fe.lA.treeItemExpanded.classNamesArray),Re.twistie.classList.add("collapsible"),Re.twistie.classList.toggle("collapsed",Ge.collapsed)):Re.twistie.classList.remove("collapsible","collapsed"),Ge.collapsible?Re.container.setAttribute("aria-expanded",String(!Ge.collapsed)):Re.container.removeAttribute("aria-expanded")}renderIndentGuides(Ge,Re){if((0,s.PO)(Re.indent),Re.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const V=new f.SL,ne=this.modelProvider();let Ne=Ge;for(;;){const at=ne.getNodeLocation(Ne),It=ne.getParentNodeLocation(at);if(!It)break;const ln=ne.getNode(It),pn=(0,s.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ln)&&pn.classList.add("active"),0===Re.indent.childElementCount?Re.indent.appendChild(pn):Re.indent.insertBefore(pn,Re.indent.firstElementChild),this.renderedIndentGuides.add(ln,pn),V.add((0,f.OF)(()=>this.renderedIndentGuides.delete(ln,pn))),Ne=ln}Re.indentGuidesDisposable=V}_onDidChangeActiveNodes(Ge){if(!this.shouldRenderIndentGuides)return;const Re=new Set,V=this.modelProvider();Ge.forEach(ne=>{const Ne=V.getNodeLocation(ne);try{const at=V.getParentNodeLocation(Ne);ne.collapsible&&ne.children.length>0&&!ne.collapsed?Re.add(ne):at&&Re.add(V.getNode(at))}catch{}}),this.activeIndentNodes.forEach(ne=>{Re.has(ne)||this.renderedIndentGuides.forEach(ne,Ne=>Ne.classList.remove("active"))}),Re.forEach(ne=>{this.activeIndentNodes.has(ne)||this.renderedIndentGuides.forEach(ne,Ne=>Ne.classList.add("active"))}),this.activeIndentNodes=Re}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,f.B9)(this.disposables)}}return Mn.DefaultIndent=8,Mn})();class et{constructor(ue,Ge,Re){this.tree=ue,this.keyboardNavigationLabelProvider=Ge,this._filter=Re,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new f.SL,ue.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(ue,Ge){let Re=1;if(this._filter){const Ne=this._filter.filter(ue,Ge);if(Re="boolean"==typeof Ne?Ne?1:0:ce(Ne)?Ee(Ne.visibility):Ne,0===Re)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:ze.CL.Default,visibility:Re};const V=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ue),ne=Array.isArray(V)?V:[V];for(const Ne of ne){const at=Ne&&Ne.toString();if(typeof at>"u")return{data:ze.CL.Default,visibility:Re};const It=(0,ze.EW)(this._pattern,this._lowercasePattern,0,at,at.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(It)return this._matchCount++,1===ne.length?{data:It,visibility:Re}:{data:{label:at,score:It},visibility:Re}}return this.tree.findMode===St.Filter?2:{data:ze.CL.Default,visibility:Re}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,f.B9)(this.disposables)}}var St=(()=>((St=St||{})[St.Highlight=0]="Highlight",St[St.Filter=1]="Filter",St))();class bt{constructor(ue,Ge,Re,V,ne){var Ne;this.tree=ue,this.view=Re,this.filter=V,this.contextViewProvider=ne,this._pattern="",this.width=0,this._onDidChangeMode=new C.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new C.Q5,this._onDidChangeOpenState=new C.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new f.SL,this.disposables=new f.SL,this._mode=null!==(Ne=ue.options.defaultFindMode)&&void 0!==Ne?Ne:St.Highlight,Ge.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(ue){ue!==this._mode&&(this._mode=ue,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(ue))}onDidSpliceModel(){!this.widget||0===this.pattern.length||(this.tree.refilter(),this.render())}render(){var ue,Ge;this.pattern&&this.filter.totalCount>0&&0===this.filter.matchCount?null===(ue=this.widget)||void 0===ue||ue.showMessage({type:2,content:(0,re.NC)("not found","No elements found.")}):null===(Ge=this.widget)||void 0===Ge||Ge.clearMessage()}shouldAllowFocus(ue){return!this.widget||!this.pattern||this._mode===St.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1||!ze.CL.isDefault(ue.filterData)}style(ue){var Ge;this.styles=ue,null===(Ge=this.widget)||void 0===Ge||Ge.style(ue)}layout(ue){var Ge;this.width=ue,null===(Ge=this.widget)||void 0===Ge||Ge.layout(ue)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Bt(Mn){let ue=Se.Unknown;return(0,s.uU)(Mn.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?ue=Se.Twistie:(0,s.uU)(Mn.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?ue=Se.Element:(0,s.uU)(Mn.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(ue=Se.Filter),{browserEvent:Mn.browserEvent,element:Mn.element?Mn.element.element:null,target:ue}}function Lt(Mn,ue){ue(Mn),Mn.children.forEach(Ge=>Lt(Ge,ue))}class Ye{constructor(ue,Ge){this.getFirstViewElementWithTrait=ue,this.identityProvider=Ge,this.nodes=[],this._onDidChange=new C.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(ue,Ge){!Ge?.__forceEvent&&(0,t.fS)(this.nodes,ue)||this._set(ue,!1,Ge)}_set(ue,Ge,Re){if(this.nodes=[...ue],this.elements=void 0,this._nodeSet=void 0,!Ge){const V=this;this._onDidChange.fire({get elements(){return V.get()},browserEvent:Re})}}get(){return this.elements||(this.elements=this.nodes.map(ue=>ue.element)),[...this.elements]}getNodes(){return this.nodes}has(ue){return this.nodeSet.has(ue)}onDidModelSplice({insertedNodes:ue,deletedNodes:Ge}){if(!this.identityProvider){const It=this.createNodeSet(),ln=pn=>It.delete(pn);return Ge.forEach(pn=>Lt(pn,ln)),void this.set([...It.values()])}const Re=new Set,V=It=>Re.add(this.identityProvider.getId(It.element).toString());Ge.forEach(It=>Lt(It,V));const ne=new Map,Ne=It=>ne.set(this.identityProvider.getId(It.element).toString(),It);ue.forEach(It=>Lt(It,Ne));const at=[];for(const It of this.nodes){const ln=this.identityProvider.getId(It.element).toString();if(Re.has(ln)){const Sn=ne.get(ln);Sn&&at.push(Sn)}else at.push(It)}if(this.nodes.length>0&&0===at.length){const It=this.getFirstViewElementWithTrait();It&&at.push(It)}this._set(at,!0)}createNodeSet(){const ue=new Set;for(const Ge of this.nodes)ue.add(Ge);return ue}}class Tt extends b.sx{constructor(ue,Ge){super(ue),this.tree=Ge}onViewPointer(ue){if((0,b.iK)(ue.browserEvent.target)||(0,b.cK)(ue.browserEvent.target)||(0,b.hD)(ue.browserEvent.target))return;const Ge=ue.element;if(!Ge)return super.onViewPointer(ue);if(this.isSelectionRangeChangeEvent(ue)||this.isSelectionSingleChangeEvent(ue))return super.onViewPointer(ue);const Re=ue.browserEvent.target,V=Re.classList.contains("monaco-tl-twistie")||Re.classList.contains("monaco-icon-label")&&Re.classList.contains("folder-icon")&&ue.browserEvent.offsetX<16;let ne=!1;if(ne="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(Ge.element):!!this.tree.expandOnlyOnTwistieClick,ne&&!V&&2!==ue.browserEvent.detail)return super.onViewPointer(ue);if(!this.tree.expandOnDoubleClick&&2===ue.browserEvent.detail)return super.onViewPointer(ue);if(Ge.collapsible){const Ne=this.tree.model,at=Ne.getNodeLocation(Ge),It=ue.browserEvent.altKey;if(this.tree.setFocus([at]),Ne.setCollapsed(at,void 0,It),ne&&V)return}super.onViewPointer(ue)}onDoubleClick(ue){ue.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(ue)}}class qt extends b.aV{constructor(ue,Ge,Re,V,ne,Ne,at,It){super(ue,Ge,Re,V,It),this.focusTrait=ne,this.selectionTrait=Ne,this.anchorTrait=at}createMouseController(ue){return new Tt(this,ue.tree)}splice(ue,Ge,Re=[]){if(super.splice(ue,Ge,Re),0===Re.length)return;const V=[],ne=[];let Ne;Re.forEach((at,It)=>{this.focusTrait.has(at)&&V.push(ue+It),this.selectionTrait.has(at)&&ne.push(ue+It),this.anchorTrait.has(at)&&(Ne=ue+It)}),V.length>0&&super.setFocus((0,t.EB)([...super.getFocus(),...V])),ne.length>0&&super.setSelection((0,t.EB)([...super.getSelection(),...ne])),"number"==typeof Ne&&super.setAnchor(Ne)}setFocus(ue,Ge,Re=!1){super.setFocus(ue,Ge),Re||this.focusTrait.set(ue.map(V=>this.element(V)),Ge)}setSelection(ue,Ge,Re=!1){super.setSelection(ue,Ge),Re||this.selectionTrait.set(ue.map(V=>this.element(V)),Ge)}setAnchor(ue,Ge=!1){super.setAnchor(ue),Ge||this.anchorTrait.set(typeof ue>"u"?[]:[this.element(ue)])}}class Ot{constructor(ue,Ge,Re,V,ne={}){var Ne;this._user=ue,this._options=ne,this.eventBufferer=new C.E7,this.onDidChangeFindOpenState=C.ju.None,this.disposables=new f.SL,this._onWillRefilter=new C.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new C.Q5;const at=new Ae(Re),It=new C.ZD,ln=new C.ZD,pn=this.disposables.add(new dt(ln.event));this.renderers=V.map(gi=>new it(gi,()=>this.model,It.event,pn,ne));for(const gi of this.renderers)this.disposables.add(gi);let Sn;ne.keyboardNavigationLabelProvider&&(Sn=new et(this,ne.keyboardNavigationLabelProvider,ne.filter),ne=Object.assign(Object.assign({},ne),{filter:Sn}),this.disposables.add(Sn)),this.focus=new Ye(()=>this.view.getFocusedElements()[0],ne.identityProvider),this.selection=new Ye(()=>this.view.getSelectedElements()[0],ne.identityProvider),this.anchor=new Ye(()=>this.view.getAnchorElement(),ne.identityProvider),this.view=new qt(ue,Ge,at,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function ye(Mn,ue){return ue&&Object.assign(Object.assign({},ue),{identityProvider:ue.identityProvider&&{getId:Ge=>ue.identityProvider.getId(Ge.element)},dnd:ue.dnd&&new Q(Mn,ue.dnd),multipleSelectionController:ue.multipleSelectionController&&{isSelectionSingleChangeEvent:Ge=>ue.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},Ge),{element:Ge.element})),isSelectionRangeChangeEvent:Ge=>ue.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},Ge),{element:Ge.element}))},accessibilityProvider:ue.accessibilityProvider&&Object.assign(Object.assign({},ue.accessibilityProvider),{getSetSize(Ge){const Re=Mn(),V=Re.getNodeLocation(Ge),ne=Re.getParentNodeLocation(V);return Re.getNode(ne).visibleChildrenCount},getPosInSet:Ge=>Ge.visibleChildIndex+1,isChecked:ue.accessibilityProvider&&ue.accessibilityProvider.isChecked?Ge=>ue.accessibilityProvider.isChecked(Ge.element):void 0,getRole:ue.accessibilityProvider&&ue.accessibilityProvider.getRole?Ge=>ue.accessibilityProvider.getRole(Ge.element):()=>"treeitem",getAriaLabel:Ge=>ue.accessibilityProvider.getAriaLabel(Ge.element),getWidgetAriaLabel:()=>ue.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:ue.accessibilityProvider&&ue.accessibilityProvider.getWidgetRole?()=>ue.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:ue.accessibilityProvider&&ue.accessibilityProvider.getAriaLevel?Ge=>ue.accessibilityProvider.getAriaLevel(Ge.element):Ge=>Ge.depth,getActiveDescendantId:ue.accessibilityProvider.getActiveDescendantId&&(Ge=>ue.accessibilityProvider.getActiveDescendantId(Ge.element))}),keyboardNavigationLabelProvider:ue.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},ue.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:Ge=>ue.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ge.element)})})}(()=>this.model,ne)),{tree:this})),this.model=this.createModel(ue,this.view,ne),It.input=this.model.onDidChangeCollapseState;const Vn=C.ju.forEach(this.model.onDidSplice,gi=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(gi),this.selection.onDidModelSplice(gi)})},this.disposables);if(Vn(()=>null,null,this.disposables),ln.input=C.ju.chain(C.ju.any(Vn,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const gi=new Set;for(const Di of this.focus.getNodes())gi.add(Di);for(const Di of this.selection.getNodes())gi.add(Di);return[...gi.values()]}).event,!1!==ne.keyboardSupport){const gi=C.ju.chain(this.view.onKeyDown).filter(Di=>!(0,b.cK)(Di.target)).map(Di=>new q.y(Di));gi.filter(Di=>15===Di.keyCode).on(this.onLeftArrow,this,this.disposables),gi.filter(Di=>17===Di.keyCode).on(this.onRightArrow,this,this.disposables),gi.filter(Di=>10===Di.keyCode).on(this.onSpace,this,this.disposables)}(null===(Ne=ne.findWidgetEnabled)||void 0===Ne||Ne)&&ne.keyboardNavigationLabelProvider&&ne.contextViewProvider?(this.findController=new bt(this,this.model,this.view,Sn,ne.contextViewProvider),this.focusNavigationFilter=gi=>this.findController.shouldAllowFocus(gi),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=C.ju.None,this.styleElement=(0,s.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ft.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return C.ju.filter(C.ju.map(this.view.onMouseDblClick,Bt),ue=>ue.target!==Se.Filter)}get onPointer(){return C.ju.map(this.view.onPointer,Bt)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return C.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var ue,Ge;return null!==(Ge=null===(ue=this.findController)||void 0===ue?void 0:ue.mode)&&void 0!==Ge?Ge:St.Highlight}set findMode(ue){this.findController&&(this.findController.mode=ue)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(ue={}){this._options=Object.assign(Object.assign({},this._options),ue);for(const Ge of this.renderers)Ge.updateOptions(ue);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ft.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(ue){this.view.scrollTop=ue}domFocus(){this.view.domFocus()}layout(ue,Ge){var Re;this.view.layout(ue,Ge),(0,Ke.hj)(Ge)&&(null===(Re=this.findController)||void 0===Re||Re.layout(Ge))}style(ue){var Ge;const Re=`.${this.view.domId}`,V=[];ue.treeIndentGuidesStroke&&(V.push(`.monaco-list${Re}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Re}.always .monaco-tl-indent > .indent-guide  { border-color: ${ue.treeIndentGuidesStroke.transparent(.4)}; }`),V.push(`.monaco-list${Re} .monaco-tl-indent > .indent-guide.active { border-color: ${ue.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=V.join("\n"),null===(Ge=this.findController)||void 0===Ge||Ge.style(ue),this.view.style(ue)}getParentElement(ue){const Ge=this.model.getParentNodeLocation(ue);return this.model.getNode(Ge).element}getFirstElementChild(ue){return this.model.getFirstElementChild(ue)}getNode(ue){return this.model.getNode(ue)}collapse(ue,Ge=!1){return this.model.setCollapsed(ue,!0,Ge)}expand(ue,Ge=!1){return this.model.setCollapsed(ue,!1,Ge)}isCollapsible(ue){return this.model.isCollapsible(ue)}setCollapsible(ue,Ge){return this.model.setCollapsible(ue,Ge)}isCollapsed(ue){return this.model.isCollapsed(ue)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(ue,Ge){const Re=ue.map(ne=>this.model.getNode(ne));this.selection.set(Re,Ge);const V=ue.map(ne=>this.model.getListIndex(ne)).filter(ne=>ne>-1);this.view.setSelection(V,Ge,!0)}getSelection(){return this.selection.get()}setFocus(ue,Ge){const Re=ue.map(ne=>this.model.getNode(ne));this.focus.set(Re,Ge);const V=ue.map(ne=>this.model.getListIndex(ne)).filter(ne=>ne>-1);this.view.setFocus(V,Ge,!0)}getFocus(){return this.focus.get()}reveal(ue,Ge){this.model.expandTo(ue);const Re=this.model.getListIndex(ue);-1!==Re&&this.view.reveal(Re,Ge)}onLeftArrow(ue){ue.preventDefault(),ue.stopPropagation();const Ge=this.view.getFocusedElements();if(0===Ge.length)return;const V=this.model.getNodeLocation(Ge[0]);if(!this.model.setCollapsed(V,!0)){const Ne=this.model.getParentNodeLocation(V);if(!Ne)return;const at=this.model.getListIndex(Ne);this.view.reveal(at),this.view.setFocus([at])}}onRightArrow(ue){ue.preventDefault(),ue.stopPropagation();const Ge=this.view.getFocusedElements();if(0===Ge.length)return;const Re=Ge[0],V=this.model.getNodeLocation(Re);if(!this.model.setCollapsed(V,!1)){if(!Re.children.some(It=>It.visible))return;const[Ne]=this.view.getFocus(),at=Ne+1;this.view.reveal(at),this.view.setFocus([at])}}onSpace(ue){ue.preventDefault(),ue.stopPropagation();const Ge=this.view.getFocusedElements();if(0===Ge.length)return;const V=this.model.getNodeLocation(Ge[0]);this.model.setCollapsed(V,void 0,ue.browserEvent.altKey)}dispose(){(0,f.B9)(this.disposables),this.view.dispose()}}class Ft{constructor(ue,Ge,Re={}){this.user=ue,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Pe(ue,Ge,null,Re),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Re.sorter&&(this.sorter={compare:(V,ne)=>Re.sorter.compare(V.element,ne.element)}),this.identityProvider=Re.identityProvider}setChildren(ue,Ge=se.$.empty(),Re={}){const V=this.getElementLocation(ue);this._setChildren(V,this.preserveCollapseState(Ge),Re)}_setChildren(ue,Ge=se.$.empty(),Re){const V=new Set,ne=new Set;this.model.splice([...ue,0],Number.MAX_VALUE,Ge,Object.assign(Object.assign({},Re),{onDidCreateNode:It=>{var ln;if(null===It.element)return;const pn=It;if(V.add(pn.element),this.nodes.set(pn.element,pn),this.identityProvider){const Sn=this.identityProvider.getId(pn.element).toString();ne.add(Sn),this.nodesByIdentity.set(Sn,pn)}null===(ln=Re.onDidCreateNode)||void 0===ln||ln.call(Re,pn)},onDidDeleteNode:It=>{var ln;if(null===It.element)return;const pn=It;if(V.has(pn.element)||this.nodes.delete(pn.element),this.identityProvider){const Sn=this.identityProvider.getId(pn.element).toString();ne.has(Sn)||this.nodesByIdentity.delete(Sn)}null===(ln=Re.onDidDeleteNode)||void 0===ln||ln.call(Re,pn)}}))}preserveCollapseState(ue=se.$.empty()){return this.sorter&&(ue=[...ue].sort(this.sorter.compare.bind(this.sorter))),se.$.map(ue,Ge=>{let Re=this.nodes.get(Ge.element);if(!Re&&this.identityProvider){const Ne=this.identityProvider.getId(Ge.element).toString();Re=this.nodesByIdentity.get(Ne)}if(!Re)return Object.assign(Object.assign({},Ge),{children:this.preserveCollapseState(Ge.children)});const V="boolean"==typeof Ge.collapsible?Ge.collapsible:Re.collapsible,ne=typeof Ge.collapsed<"u"?Ge.collapsed:Re.collapsed;return Object.assign(Object.assign({},Ge),{collapsible:V,collapsed:ne,children:this.preserveCollapseState(Ge.children)})})}rerender(ue){const Ge=this.getElementLocation(ue);this.model.rerender(Ge)}getFirstElementChild(ue=null){const Ge=this.getElementLocation(ue);return this.model.getFirstElementChild(Ge)}has(ue){return this.nodes.has(ue)}getListIndex(ue){const Ge=this.getElementLocation(ue);return this.model.getListIndex(Ge)}getListRenderCount(ue){const Ge=this.getElementLocation(ue);return this.model.getListRenderCount(Ge)}isCollapsible(ue){const Ge=this.getElementLocation(ue);return this.model.isCollapsible(Ge)}setCollapsible(ue,Ge){const Re=this.getElementLocation(ue);return this.model.setCollapsible(Re,Ge)}isCollapsed(ue){const Ge=this.getElementLocation(ue);return this.model.isCollapsed(Ge)}setCollapsed(ue,Ge,Re){const V=this.getElementLocation(ue);return this.model.setCollapsed(V,Ge,Re)}expandTo(ue){const Ge=this.getElementLocation(ue);this.model.expandTo(Ge)}refilter(){this.model.refilter()}getNode(ue=null){if(null===ue)return this.model.getNode(this.model.rootRef);const Ge=this.nodes.get(ue);if(!Ge)throw new Ie(this.user,`Tree element not found: ${ue}`);return Ge}getNodeLocation(ue){return ue.element}getParentNodeLocation(ue){if(null===ue)throw new Ie(this.user,"Invalid getParentNodeLocation call");const Ge=this.nodes.get(ue);if(!Ge)throw new Ie(this.user,`Tree element not found: ${ue}`);const Re=this.model.getNodeLocation(Ge),V=this.model.getParentNodeLocation(Re);return this.model.getNode(V).element}getElementLocation(ue){if(null===ue)return[];const Ge=this.nodes.get(ue);if(!Ge)throw new Ie(this.user,`Tree element not found: ${ue}`);return this.model.getNodeLocation(Ge)}}function rt(Mn){return{element:{elements:[Mn.element],incompressible:Mn.incompressible||!1},children:se.$.map(se.$.from(Mn.children),rt),collapsible:Mn.collapsible,collapsed:Mn.collapsed}}function Le(Mn){const ue=[Mn.element],Ge=Mn.incompressible||!1;let Re,V;for(;[V,Re]=se.$.consume(se.$.from(Mn.children),2),1===V.length&&!V[0].incompressible;)ue.push((Mn=V[0]).element);return{element:{elements:ue,incompressible:Ge},children:se.$.map(se.$.concat(V,Re),Le),collapsible:Mn.collapsible,collapsed:Mn.collapsed}}function ie(Mn,ue=0){let Ge;return Ge=ue<Mn.element.elements.length-1?[ie(Mn,ue+1)]:se.$.map(se.$.from(Mn.children),Re=>ie(Re,0)),0===ue&&Mn.element.incompressible?{element:Mn.element.elements[ue],children:Ge,incompressible:!0,collapsible:Mn.collapsible,collapsed:Mn.collapsed}:{element:Mn.element.elements[ue],children:Ge,collapsible:Mn.collapsible,collapsed:Mn.collapsed}}function te(Mn){return ie(Mn,0)}function oe(Mn,ue,Ge){return Object.assign(Object.assign({},Mn),Mn.element===ue?{children:Ge}:{children:se.$.map(se.$.from(Mn.children),Re=>oe(Re,ue,Ge))})}class nt{constructor(ue,Ge,Re={}){this.user=ue,this.rootRef=null,this.nodes=new Map,this.model=new Ft(ue,Ge,Re),this.enabled=typeof Re.compressionEnabled>"u"||Re.compressionEnabled,this.identityProvider=Re.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(ue,Ge=se.$.empty(),Re){const V=Re.diffIdentityProvider&&(Mn=Re.diffIdentityProvider,{getId:ue=>ue.elements.map(Ge=>Mn.getId(Ge).toString()).join("\0")});var Mn;if(null===ue){const gi=se.$.map(Ge,this.enabled?Le:rt);return void this._setChildren(null,gi,{diffIdentityProvider:V,diffDepth:1/0})}const ne=this.nodes.get(ue);if(!ne)throw new Error("Unknown compressed tree node");const Ne=this.model.getNode(ne),at=this.model.getParentNodeLocation(ne),It=this.model.getNode(at),pn=oe(te(Ne),ue,Ge),Sn=(this.enabled?Le:rt)(pn),Vn=It.children.map(gi=>gi===Ne?Sn:gi);this._setChildren(It.element,Vn,{diffIdentityProvider:V,diffDepth:Ne.depth-It.depth})}setCompressionEnabled(ue){if(ue===this.enabled)return;this.enabled=ue;const Re=this.model.getNode().children,V=se.$.map(Re,te),ne=se.$.map(V,ue?Le:rt);this._setChildren(null,ne,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(ue,Ge,Re){const V=new Set;this.model.setChildren(ue,Ge,Object.assign(Object.assign({},Re),{onDidCreateNode:at=>{for(const It of at.element.elements)V.add(It),this.nodes.set(It,at.element)},onDidDeleteNode:at=>{for(const It of at.element.elements)V.has(It)||this.nodes.delete(It)}}))}has(ue){return this.nodes.has(ue)}getListIndex(ue){const Ge=this.getCompressedNode(ue);return this.model.getListIndex(Ge)}getListRenderCount(ue){const Ge=this.getCompressedNode(ue);return this.model.getListRenderCount(Ge)}getNode(ue){if(typeof ue>"u")return this.model.getNode();const Ge=this.getCompressedNode(ue);return this.model.getNode(Ge)}getNodeLocation(ue){const Ge=this.model.getNodeLocation(ue);return null===Ge?null:Ge.elements[Ge.elements.length-1]}getParentNodeLocation(ue){const Ge=this.getCompressedNode(ue),Re=this.model.getParentNodeLocation(Ge);return null===Re?null:Re.elements[Re.elements.length-1]}getFirstElementChild(ue){const Ge=this.getCompressedNode(ue);return this.model.getFirstElementChild(Ge)}isCollapsible(ue){const Ge=this.getCompressedNode(ue);return this.model.isCollapsible(Ge)}setCollapsible(ue,Ge){const Re=this.getCompressedNode(ue);return this.model.setCollapsible(Re,Ge)}isCollapsed(ue){const Ge=this.getCompressedNode(ue);return this.model.isCollapsed(Ge)}setCollapsed(ue,Ge,Re){const V=this.getCompressedNode(ue);return this.model.setCollapsed(V,Ge,Re)}expandTo(ue){const Ge=this.getCompressedNode(ue);this.model.expandTo(Ge)}rerender(ue){const Ge=this.getCompressedNode(ue);this.model.rerender(Ge)}refilter(){this.model.refilter()}getCompressedNode(ue){if(null===ue)return null;const Ge=this.nodes.get(ue);if(!Ge)throw new Ie(this.user,`Tree element not found: ${ue}`);return Ge}}const He=Mn=>Mn[Mn.length-1];class De{constructor(ue,Ge){this.unwrapper=ue,this.node=Ge}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(ue=>new De(this.unwrapper,ue))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Ht{constructor(ue,Ge,Re={}){this.rootRef=null,this.elementMapper=Re.elementMapper||He;const V=ne=>this.elementMapper(ne.elements);this.nodeMapper=new xe(ne=>new De(V,ne)),this.model=new nt(ue,function pt(Mn,ue){return{splice(Ge,Re,V){ue.splice(Ge,Re,V.map(ne=>Mn.map(ne)))},updateElementHeight(Ge,Re){ue.updateElementHeight(Ge,Re)}}}(this.nodeMapper,Ge),function lt(Mn,ue){return Object.assign(Object.assign({},ue),{identityProvider:ue.identityProvider&&{getId:Ge=>ue.identityProvider.getId(Mn(Ge))},sorter:ue.sorter&&{compare:(Ge,Re)=>ue.sorter.compare(Ge.elements[0],Re.elements[0])},filter:ue.filter&&{filter:(Ge,Re)=>ue.filter.filter(Mn(Ge),Re)}})}(V,Re))}get onDidSplice(){return C.ju.map(this.model.onDidSplice,({insertedNodes:ue,deletedNodes:Ge})=>({insertedNodes:ue.map(Re=>this.nodeMapper.map(Re)),deletedNodes:Ge.map(Re=>this.nodeMapper.map(Re))}))}get onDidChangeCollapseState(){return C.ju.map(this.model.onDidChangeCollapseState,({node:ue,deep:Ge})=>({node:this.nodeMapper.map(ue),deep:Ge}))}get onDidChangeRenderNodeCount(){return C.ju.map(this.model.onDidChangeRenderNodeCount,ue=>this.nodeMapper.map(ue))}setChildren(ue,Ge=se.$.empty(),Re={}){this.model.setChildren(ue,Ge,Re)}setCompressionEnabled(ue){this.model.setCompressionEnabled(ue)}has(ue){return this.model.has(ue)}getListIndex(ue){return this.model.getListIndex(ue)}getListRenderCount(ue){return this.model.getListRenderCount(ue)}getNode(ue){return this.nodeMapper.map(this.model.getNode(ue))}getNodeLocation(ue){return ue.element}getParentNodeLocation(ue){return this.model.getParentNodeLocation(ue)}getFirstElementChild(ue){const Ge=this.model.getFirstElementChild(ue);return null===Ge||typeof Ge>"u"?Ge:this.elementMapper(Ge.elements)}isCollapsible(ue){return this.model.isCollapsible(ue)}setCollapsible(ue,Ge){return this.model.setCollapsible(ue,Ge)}isCollapsed(ue){return this.model.isCollapsed(ue)}setCollapsed(ue,Ge,Re){return this.model.setCollapsed(ue,Ge,Re)}expandTo(ue){return this.model.expandTo(ue)}rerender(ue){return this.model.rerender(ue)}refilter(){return this.model.refilter()}getCompressedTreeNode(ue=null){return this.model.getNode(ue)}}var Xt=e(47957);class an extends Ot{constructor(ue,Ge,Re,V,ne={}){super(ue,Ge,Re,V,ne),this.user=ue}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(ue,Ge=se.$.empty(),Re){this.model.setChildren(ue,Ge,Re)}rerender(ue){void 0!==ue?this.model.rerender(ue):this.view.rerender()}hasElement(ue){return this.model.has(ue)}createModel(ue,Ge,Re){return new Ft(ue,Ge,Re)}}class Kn{constructor(ue,Ge){this._compressedTreeNodeProvider=ue,this.renderer=Ge,this.templateId=Ge.templateId,Ge.onDidChangeTwistieState&&(this.onDidChangeTwistieState=Ge.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(ue){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(ue)}}renderElement(ue,Ge,Re,V){const ne=this.compressedTreeNodeProvider.getCompressedTreeNode(ue.element);1===ne.element.elements.length?(Re.compressedTreeNode=void 0,this.renderer.renderElement(ue,Ge,Re.data,V)):(Re.compressedTreeNode=ne,this.renderer.renderCompressedElements(ne,Ge,Re.data,V))}disposeElement(ue,Ge,Re,V){var ne,Ne,at,It;Re.compressedTreeNode?null===(Ne=(ne=this.renderer).disposeCompressedElements)||void 0===Ne||Ne.call(ne,Re.compressedTreeNode,Ge,Re.data,V):null===(It=(at=this.renderer).disposeElement)||void 0===It||It.call(at,ue,Ge,Re.data,V)}disposeTemplate(ue){this.renderer.disposeTemplate(ue.data)}renderTwistie(ue,Ge){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(ue,Ge)}}!function(Mn,ue,Ge,Re){var Ne,V=arguments.length,ne=V<3?ue:null===Re?Re=Object.getOwnPropertyDescriptor(ue,Ge):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(Mn,ue,Ge,Re);else for(var at=Mn.length-1;at>=0;at--)(Ne=Mn[at])&&(ne=(V<3?Ne(ne):V>3?Ne(ue,Ge,ne):Ne(ue,Ge))||ne);V>3&&ne&&Object.defineProperty(ue,Ge,ne)}([Xt.H],Kn.prototype,"compressedTreeNodeProvider",null);class li extends an{constructor(ue,Ge,Re,V,ne={}){const Ne=()=>this;super(ue,Ge,Re,V.map(It=>new Kn(Ne,It)),function Gn(Mn,ue){return ue&&Object.assign(Object.assign({},ue),{keyboardNavigationLabelProvider:ue.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Ge){let Re;try{Re=Mn().getCompressedTreeNode(Ge)}catch{return ue.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ge)}return 1===Re.element.elements.length?ue.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ge):ue.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Re.element.elements)}}})}(Ne,ne))}setChildren(ue,Ge=se.$.empty(),Re){this.model.setChildren(ue,Ge,Re)}createModel(ue,Ge,Re){return new Ht(ue,Ge,Re)}updateOptions(ue={}){super.updateOptions(ue),typeof ue.compressionEnabled<"u"&&this.model.setCompressionEnabled(ue.compressionEnabled)}getCompressedTreeNode(ue=null){return this.model.getCompressedTreeNode(ue)}}var fi=e(3219),ri=function(Mn,ue,Ge,Re){return new(Ge||(Ge=Promise))(function(ne,Ne){function at(pn){try{ln(Re.next(pn))}catch(Sn){Ne(Sn)}}function It(pn){try{ln(Re.throw(pn))}catch(Sn){Ne(Sn)}}function ln(pn){pn.done?ne(pn.value):function V(ne){return ne instanceof Ge?ne:new Ge(function(Ne){Ne(ne)})}(pn.value).then(at,It)}ln((Re=Re.apply(Mn,ue||[])).next())})};function _i(Mn){return Object.assign(Object.assign({},Mn),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Xi(Mn,ue){return!!ue.parent&&(ue.parent===Mn||Xi(Mn,ue.parent))}class vo{constructor(ue){this.node=ue}get element(){return this.node.element.element}get children(){return this.node.children.map(ue=>new vo(ue))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class oo{constructor(ue,Ge,Re){this.renderer=ue,this.nodeMapper=Ge,this.onDidChangeTwistieState=Re,this.renderedNodes=new Map,this.templateId=ue.templateId}renderTemplate(ue){return{templateData:this.renderer.renderTemplate(ue)}}renderElement(ue,Ge,Re,V){this.renderer.renderElement(this.nodeMapper.map(ue),Ge,Re.templateData,V)}renderTwistie(ue,Ge){return ue.slow?(Ge.classList.add(...Fe.lA.treeItemLoading.classNamesArray),!0):(Ge.classList.remove(...Fe.lA.treeItemLoading.classNamesArray),!1)}disposeElement(ue,Ge,Re,V){var ne,Ne;null===(Ne=(ne=this.renderer).disposeElement)||void 0===Ne||Ne.call(ne,this.nodeMapper.map(ue),Ge,Re.templateData,V)}disposeTemplate(ue){this.renderer.disposeTemplate(ue.templateData)}dispose(){this.renderedNodes.clear()}}function yo(Mn){return{browserEvent:Mn.browserEvent,elements:Mn.elements.map(ue=>ue.element)}}function Lo(Mn){return{browserEvent:Mn.browserEvent,element:Mn.element&&Mn.element.element,target:Mn.target}}class oi extends J.kX{constructor(ue){super(ue.elements.map(Ge=>Ge.element)),this.data=ue}}function en(Mn){return Mn instanceof J.kX?new oi(Mn):Mn}class wt{constructor(ue){this.dnd=ue}getDragURI(ue){return this.dnd.getDragURI(ue.element)}getDragLabel(ue,Ge){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ue.map(Re=>Re.element),Ge)}onDragStart(ue,Ge){var Re,V;null===(V=(Re=this.dnd).onDragStart)||void 0===V||V.call(Re,en(ue),Ge)}onDragOver(ue,Ge,Re,V,ne=!0){return this.dnd.onDragOver(en(ue),Ge&&Ge.element,Re,V)}drop(ue,Ge,Re,V){this.dnd.drop(en(ue),Ge&&Ge.element,Re,V)}onDragEnd(ue){var Ge,Re;null===(Re=(Ge=this.dnd).onDragEnd)||void 0===Re||Re.call(Ge,ue)}}function Dt(Mn){return Mn&&Object.assign(Object.assign({},Mn),{collapseByDefault:!0,identityProvider:Mn.identityProvider&&{getId:ue=>Mn.identityProvider.getId(ue.element)},dnd:Mn.dnd&&new wt(Mn.dnd),multipleSelectionController:Mn.multipleSelectionController&&{isSelectionSingleChangeEvent:ue=>Mn.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},ue),{element:ue.element})),isSelectionRangeChangeEvent:ue=>Mn.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},ue),{element:ue.element}))},accessibilityProvider:Mn.accessibilityProvider&&Object.assign(Object.assign({},Mn.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Mn.accessibilityProvider.getRole?ue=>Mn.accessibilityProvider.getRole(ue.element):()=>"treeitem",isChecked:Mn.accessibilityProvider.isChecked?ue=>{var Ge;return!(null===(Ge=Mn.accessibilityProvider)||void 0===Ge||!Ge.isChecked(ue.element))}:void 0,getAriaLabel:ue=>Mn.accessibilityProvider.getAriaLabel(ue.element),getWidgetAriaLabel:()=>Mn.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:Mn.accessibilityProvider.getWidgetRole?()=>Mn.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Mn.accessibilityProvider.getAriaLevel&&(ue=>Mn.accessibilityProvider.getAriaLevel(ue.element)),getActiveDescendantId:Mn.accessibilityProvider.getActiveDescendantId&&(ue=>Mn.accessibilityProvider.getActiveDescendantId(ue.element))}),filter:Mn.filter&&{filter:(ue,Ge)=>Mn.filter.filter(ue.element,Ge)},keyboardNavigationLabelProvider:Mn.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Mn.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:ue=>Mn.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ue.element)}),sorter:void 0,expandOnlyOnTwistieClick:typeof Mn.expandOnlyOnTwistieClick>"u"?void 0:"function"!=typeof Mn.expandOnlyOnTwistieClick?Mn.expandOnlyOnTwistieClick:ue=>Mn.expandOnlyOnTwistieClick(ue.element),additionalScrollHeight:Mn.additionalScrollHeight})}function $t(Mn,ue){ue(Mn),Mn.children.forEach(Ge=>$t(Ge,ue))}class tn{constructor(ue,Ge,Re,V,ne,Ne={}){this.user=ue,this.dataSource=ne,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new C.Q5,this._onDidChangeNodeSlowState=new C.Q5,this.nodeMapper=new xe(at=>new vo(at)),this.disposables=new f.SL,this.identityProvider=Ne.identityProvider,this.autoExpandSingleChildren=!(typeof Ne.autoExpandSingleChildren>"u")&&Ne.autoExpandSingleChildren,this.sorter=Ne.sorter,this.collapseByDefault=Ne.collapseByDefault,this.tree=this.createTree(ue,Ge,Re,V,Ne),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=_i({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return C.ju.map(this.tree.onDidChangeFocus,yo)}get onDidChangeSelection(){return C.ju.map(this.tree.onDidChangeSelection,yo)}get onMouseDblClick(){return C.ju.map(this.tree.onMouseDblClick,Lo)}get onPointer(){return C.ju.map(this.tree.onPointer,Lo)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(ue,Ge,Re,V,ne){const Ne=new Ae(Re),at=V.map(ln=>new oo(ln,this.nodeMapper,this._onDidChangeNodeSlowState.event)),It=Dt(ne)||{};return new an(ue,Ge,Ne,at,It)}updateOptions(ue={}){this.tree.updateOptions(ue)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(ue){this.tree.scrollTop=ue}domFocus(){this.tree.domFocus()}layout(ue,Ge){this.tree.layout(ue,Ge)}style(ue){this.tree.style(ue)}getInput(){return this.root.element}setInput(ue,Ge){return ri(this,void 0,void 0,function*(){this.refreshPromises.forEach(V=>V.cancel()),this.refreshPromises.clear(),this.root.element=ue;const Re=Ge&&{viewState:Ge,focus:[],selection:[]};yield this._updateChildren(ue,!0,!1,Re),Re&&(this.tree.setFocus(Re.focus),this.tree.setSelection(Re.selection)),Ge&&"number"==typeof Ge.scrollTop&&(this.scrollTop=Ge.scrollTop)})}_updateChildren(ue=this.root.element,Ge=!0,Re=!1,V,ne){return ri(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Ie(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield C.ju.toPromise(this._onDidRender.event));const Ne=this.getDataNode(ue);if(yield this.refreshAndRenderNode(Ne,Ge,V,ne),Re)try{this.tree.rerender(Ne)}catch{}})}rerender(ue){if(void 0===ue||ue===this.root.element)return void this.tree.rerender();const Ge=this.getDataNode(ue);this.tree.rerender(Ge)}getNode(ue=this.root.element){const Ge=this.getDataNode(ue),Re=this.tree.getNode(Ge===this.root?null:Ge);return this.nodeMapper.map(Re)}collapse(ue,Ge=!1){const Re=this.getDataNode(ue);return this.tree.collapse(Re===this.root?null:Re,Ge)}expand(ue,Ge=!1){return ri(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Ie(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield C.ju.toPromise(this._onDidRender.event));const Re=this.getDataNode(ue);if(this.tree.hasElement(Re)&&!this.tree.isCollapsible(Re)||(Re.refreshPromise&&(yield this.root.refreshPromise,yield C.ju.toPromise(this._onDidRender.event)),Re!==this.root&&!Re.refreshPromise&&!this.tree.isCollapsed(Re)))return!1;const V=this.tree.expand(Re===this.root?null:Re,Ge);return Re.refreshPromise&&(yield this.root.refreshPromise,yield C.ju.toPromise(this._onDidRender.event)),V})}setSelection(ue,Ge){const Re=ue.map(V=>this.getDataNode(V));this.tree.setSelection(Re,Ge)}getSelection(){return this.tree.getSelection().map(Ge=>Ge.element)}setFocus(ue,Ge){const Re=ue.map(V=>this.getDataNode(V));this.tree.setFocus(Re,Ge)}getFocus(){return this.tree.getFocus().map(Ge=>Ge.element)}reveal(ue,Ge){this.tree.reveal(this.getDataNode(ue),Ge)}getParentElement(ue){const Ge=this.tree.getParentElement(this.getDataNode(ue));return Ge&&Ge.element}getFirstElementChild(ue=this.root.element){const Ge=this.getDataNode(ue),Re=this.tree.getFirstElementChild(Ge===this.root?null:Ge);return Re&&Re.element}getDataNode(ue){const Ge=this.nodes.get(ue===this.root.element?null:ue);if(!Ge)throw new Ie(this.user,`Data tree node not found: ${ue}`);return Ge}refreshAndRenderNode(ue,Ge,Re,V){return ri(this,void 0,void 0,function*(){yield this.refreshNode(ue,Ge,Re),this.render(ue,Re,V)})}refreshNode(ue,Ge,Re){return ri(this,void 0,void 0,function*(){let V;return this.subTreeRefreshPromises.forEach((ne,Ne)=>{!V&&function Zi(Mn,ue){return Mn===ue||Xi(Mn,ue)||Xi(ue,Mn)}(Ne,ue)&&(V=ne.then(()=>this.refreshNode(ue,Ge,Re)))}),V||(ue!==this.root&&this.tree.getNode(ue).collapsed?(ue.hasChildren=!!this.dataSource.hasChildren(ue.element),void(ue.stale=!0)):this.doRefreshSubTree(ue,Ge,Re))})}doRefreshSubTree(ue,Ge,Re){return ri(this,void 0,void 0,function*(){let V;ue.refreshPromise=new Promise(ne=>V=ne),this.subTreeRefreshPromises.set(ue,ue.refreshPromise),ue.refreshPromise.finally(()=>{ue.refreshPromise=void 0,this.subTreeRefreshPromises.delete(ue)});try{const ne=yield this.doRefreshNode(ue,Ge,Re);ue.stale=!1,yield Me.jT.settled(ne.map(Ne=>this.doRefreshSubTree(Ne,Ge,Re)))}finally{V()}})}doRefreshNode(ue,Ge,Re){return ri(this,void 0,void 0,function*(){let V;if(ue.hasChildren=!!this.dataSource.hasChildren(ue.element),ue.hasChildren){const ne=this.doGetChildren(ue);if((0,Ke.TW)(ne))V=Promise.resolve(ne);else{const Ne=(0,Me.Vs)(800);Ne.then(()=>{ue.slow=!0,this._onDidChangeNodeSlowState.fire(ue)},at=>null),V=ne.finally(()=>Ne.cancel())}}else V=Promise.resolve(se.$.empty());try{const ne=yield V;return this.setChildren(ue,ne,Ge,Re)}catch(ne){if(ue!==this.root&&this.tree.hasElement(ue)&&this.tree.collapse(ue),(0,fi.n2)(ne))return[];throw ne}finally{ue.slow&&(ue.slow=!1,this._onDidChangeNodeSlowState.fire(ue))}})}doGetChildren(ue){let Ge=this.refreshPromises.get(ue);if(Ge)return Ge;const Re=this.dataSource.getChildren(ue.element);return(0,Ke.TW)(Re)?this.processChildren(Re):(Ge=(0,Me.PG)(()=>ri(this,void 0,void 0,function*(){return this.processChildren(yield Re)})),this.refreshPromises.set(ue,Ge),Ge.finally(()=>{this.refreshPromises.delete(ue)}))}_onDidChangeCollapseState({node:ue,deep:Ge}){null!==ue.element&&!ue.collapsed&&ue.element.stale&&(Ge?this.collapse(ue.element.element):this.refreshAndRenderNode(ue.element,!1).catch(fi.dL))}setChildren(ue,Ge,Re,V){const ne=[...Ge];if(0===ue.children.length&&0===ne.length)return[];const Ne=new Map,at=new Map;for(const pn of ue.children)if(Ne.set(pn.element,pn),this.identityProvider){const Sn=this.tree.isCollapsed(pn);at.set(pn.id,{node:pn,collapsed:Sn})}const It=[],ln=ne.map(pn=>{const Sn=!!this.dataSource.hasChildren(pn);if(!this.identityProvider){const Ai=_i({element:pn,parent:ue,hasChildren:Sn});return Sn&&this.collapseByDefault&&!this.collapseByDefault(pn)&&(Ai.collapsedByDefault=!1,It.push(Ai)),Ai}const Vn=this.identityProvider.getId(pn).toString(),gi=at.get(Vn);if(gi){const Ai=gi.node;return Ne.delete(Ai.element),this.nodes.delete(Ai.element),this.nodes.set(pn,Ai),Ai.element=pn,Ai.hasChildren=Sn,Re?gi.collapsed?(Ai.children.forEach(ui=>$t(ui,lo=>this.nodes.delete(lo.element))),Ai.children.splice(0,Ai.children.length),Ai.stale=!0):It.push(Ai):Sn&&this.collapseByDefault&&!this.collapseByDefault(pn)&&(Ai.collapsedByDefault=!1,It.push(Ai)),Ai}const Di=_i({element:pn,parent:ue,id:Vn,hasChildren:Sn});return V&&V.viewState.focus&&V.viewState.focus.indexOf(Vn)>-1&&V.focus.push(Di),V&&V.viewState.selection&&V.viewState.selection.indexOf(Vn)>-1&&V.selection.push(Di),V&&V.viewState.expanded&&V.viewState.expanded.indexOf(Vn)>-1?It.push(Di):Sn&&this.collapseByDefault&&!this.collapseByDefault(pn)&&(Di.collapsedByDefault=!1,It.push(Di)),Di});for(const pn of Ne.values())$t(pn,Sn=>this.nodes.delete(Sn.element));for(const pn of ln)this.nodes.set(pn.element,pn);return ue.children.splice(0,ue.children.length,...ln),ue!==this.root&&this.autoExpandSingleChildren&&1===ln.length&&0===It.length&&(ln[0].collapsedByDefault=!1,It.push(ln[0])),It}render(ue,Ge,Re){const V=ue.children.map(Ne=>this.asTreeElement(Ne,Ge)),ne=Re&&Object.assign(Object.assign({},Re),{diffIdentityProvider:Re.diffIdentityProvider&&{getId:Ne=>Re.diffIdentityProvider.getId(Ne.element)}});this.tree.setChildren(ue===this.root?null:ue,V,ne),ue!==this.root&&this.tree.setCollapsible(ue,ue.hasChildren),this._onDidRender.fire()}asTreeElement(ue,Ge){if(ue.stale)return{element:ue,collapsible:ue.hasChildren,collapsed:!0};let Re;return Re=!(Ge&&Ge.viewState.expanded&&ue.id&&Ge.viewState.expanded.indexOf(ue.id)>-1)&&ue.collapsedByDefault,ue.collapsedByDefault=void 0,{element:ue,children:ue.hasChildren?se.$.map(ue.children,V=>this.asTreeElement(V,Ge)):[],collapsible:ue.hasChildren,collapsed:Re}}processChildren(ue){return this.sorter&&(ue=[...ue].sort(this.sorter.compare.bind(this.sorter))),ue}dispose(){this.disposables.dispose()}}class cn{constructor(ue){this.node=ue}get element(){return{elements:this.node.element.elements.map(ue=>ue.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(ue=>new cn(ue))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Cn{constructor(ue,Ge,Re,V){this.renderer=ue,this.nodeMapper=Ge,this.compressibleNodeMapperProvider=Re,this.onDidChangeTwistieState=V,this.renderedNodes=new Map,this.disposables=[],this.templateId=ue.templateId}renderTemplate(ue){return{templateData:this.renderer.renderTemplate(ue)}}renderElement(ue,Ge,Re,V){this.renderer.renderElement(this.nodeMapper.map(ue),Ge,Re.templateData,V)}renderCompressedElements(ue,Ge,Re,V){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(ue),Ge,Re.templateData,V)}renderTwistie(ue,Ge){return ue.slow?(Ge.classList.add(...Fe.lA.treeItemLoading.classNamesArray),!0):(Ge.classList.remove(...Fe.lA.treeItemLoading.classNamesArray),!1)}disposeElement(ue,Ge,Re,V){var ne,Ne;null===(Ne=(ne=this.renderer).disposeElement)||void 0===Ne||Ne.call(ne,this.nodeMapper.map(ue),Ge,Re.templateData,V)}disposeCompressedElements(ue,Ge,Re,V){var ne,Ne;null===(Ne=(ne=this.renderer).disposeCompressedElements)||void 0===Ne||Ne.call(ne,this.compressibleNodeMapperProvider().map(ue),Ge,Re.templateData,V)}disposeTemplate(ue){this.renderer.disposeTemplate(ue.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,f.B9)(this.disposables)}}class Hn extends tn{constructor(ue,Ge,Re,V,ne,Ne,at={}){super(ue,Ge,Re,ne,Ne,at),this.compressionDelegate=V,this.compressibleNodeMapper=new xe(It=>new cn(It)),this.filter=at.filter}createTree(ue,Ge,Re,V,ne){const Ne=new Ae(Re),at=V.map(ln=>new Cn(ln,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),It=function Pn(Mn){const ue=Mn&&Dt(Mn);return ue&&Object.assign(Object.assign({},ue),{keyboardNavigationLabelProvider:ue.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},ue.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:Ge=>Mn.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Ge.map(Re=>Re.element))})})}(ne)||{};return new li(ue,Ge,Ne,at,It)}asTreeElement(ue,Ge){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(ue.element)},super.asTreeElement(ue,Ge))}updateOptions(ue={}){this.tree.updateOptions(ue)}render(ue,Ge){if(!this.identityProvider)return super.render(ue,Ge);const Re=Vn=>this.identityProvider.getId(Vn).toString(),V=Vn=>{const gi=new Set;for(const Di of Vn){const Ai=this.tree.getCompressedTreeNode(Di===this.root?null:Di);if(Ai.element)for(const ui of Ai.element.elements)gi.add(Re(ui.element))}return gi},ne=V(this.tree.getSelection()),Ne=V(this.tree.getFocus());super.render(ue,Ge);const at=this.getSelection();let It=!1;const ln=this.getFocus();let pn=!1;const Sn=Vn=>{const gi=Vn.element;if(gi)for(let Di=0;Di<gi.elements.length;Di++){const Ai=Re(gi.elements[Di].element),ui=gi.elements[gi.elements.length-1].element;ne.has(Ai)&&-1===at.indexOf(ui)&&(at.push(ui),It=!0),Ne.has(Ai)&&-1===ln.indexOf(ui)&&(ln.push(ui),pn=!0)}Vn.children.forEach(Sn)};Sn(this.tree.getCompressedTreeNode(ue===this.root?null:ue)),It&&this.setSelection(at),pn&&this.setFocus(ln)}processChildren(ue){return this.filter&&(ue=se.$.filter(ue,Ge=>{const V=function zn(Mn){return"boolean"==typeof Mn?Mn?1:0:ce(Mn)?Ee(Mn.visibility):Ee(Mn)}(this.filter.filter(Ge,1));if(2===V)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===V})),super.processChildren(ue)}}class bi extends Ot{constructor(ue,Ge,Re,V,ne,Ne={}){super(ue,Ge,Re,V,Ne),this.user=ue,this.dataSource=ne,this.identityProvider=Ne.identityProvider}createModel(ue,Ge,Re){return new Ft(ue,Ge,Re)}}var Ei=e(56767),ao=e(60828),Oi=e(38336),Qi=e(79539),Wi=e(64170),xo=e(30888),ro=e(54980),Co=e(25468),Mo=e(73516),Oo=e(14089),ko=function(Mn,ue,Ge,Re){var Ne,V=arguments.length,ne=V<3?ue:null===Re?Re=Object.getOwnPropertyDescriptor(ue,Ge):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(Mn,ue,Ge,Re);else for(var at=Mn.length-1;at>=0;at--)(Ne=Mn[at])&&(ne=(V<3?Ne(ne):V>3?Ne(ue,Ge,ne):Ne(ue,Ge))||ne);return V>3&&ne&&Object.defineProperty(ue,Ge,ne),ne},so=function(Mn,ue){return function(Ge,Re){ue(Ge,Re,Mn)}};const Do=(0,xo.yh)("listService");let Ho=class{constructor(ue){this._themeService=ue,this.disposables=new f.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(ue){var Ge,Re;ue!==this._lastFocusedWidget&&(null===(Ge=this._lastFocusedWidget)||void 0===Ge||Ge.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=ue,null===(Re=this._lastFocusedWidget)||void 0===Re||Re.getHTMLElement().classList.add("last-focused"))}register(ue,Ge){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const V=new b.wD((0,s.dS)(),"");this.disposables.add((0,Mo.Jl)(V,this._themeService))}if(this.lists.some(V=>V.widget===ue))throw new Error("Cannot register the same widget multiple times");const Re={widget:ue,extraContextKeys:Ge};return this.lists.push(Re),ue.getHTMLElement()===document.activeElement&&this.setLastFocusedList(ue),(0,f.F8)(ue.onDidFocus(()=>this.setLastFocusedList(ue)),(0,f.OF)(()=>this.lists.splice(this.lists.indexOf(Re),1)),ue.onDidDispose(()=>{this.lists=this.lists.filter(V=>V!==Re),this._lastFocusedWidget===ue&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Ho=ko([so(0,Oo.XE)],Ho);const ni=new Oi.uy("listFocus",!0),Zt=new Oi.uy("listSupportsMultiselect",!0),sn=Oi.Ao.and(ni,Oi.Ao.not(Qi.d0)),dn=new Oi.uy("listHasSelectionOrFocus",!1),Bn=new Oi.uy("listDoubleSelection",!1),An=new Oi.uy("listMultiSelection",!1),un=new Oi.uy("listSelectionNavigation",!1),ht=new Oi.uy("listSupportsFind",!0),Kt=new Oi.uy("treeElementCanCollapse",!1),nn=new Oi.uy("treeElementHasParent",!1),Dn=new Oi.uy("treeElementCanExpand",!1),In=new Oi.uy("treeElementHasChild",!1),bn=new Oi.uy("treeFindOpen",!1),Ct="listTypeNavigationMode",Wt="listAutomaticKeyboardNavigation";function jt(Mn,ue){const Ge=Mn.createScoped(ue.getHTMLElement());return ni.bindTo(Ge),Ge}const Yt="workbench.list.multiSelectModifier",gn="workbench.list.openMode",Be="workbench.list.horizontalScrolling",_t="workbench.list.defaultFindMode",vn="workbench.list.keyboardNavigation",$n="workbench.tree.indent",Pi="workbench.tree.renderIndentGuides",Ii="workbench.list.smoothScrolling",ii="workbench.list.mouseWheelScrollSensitivity",Ut="workbench.list.fastScrollSensitivity",F="workbench.tree.expandMode";function ee(Mn){return"alt"===Mn.getValue(Yt)}class _e extends f.JT{constructor(ue){super(),this.configurationService=ue,this.useAltAsMultipleSelectionModifier=ee(ue),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(ue=>{ue.affectsConfiguration(Yt)&&(this.useAltAsMultipleSelectionModifier=ee(this.configurationService))}))}isSelectionSingleChangeEvent(ue){return this.useAltAsMultipleSelectionModifier?ue.browserEvent.altKey:(0,b.Zo)(ue)}isSelectionRangeChangeEvent(ue){return(0,b.wn)(ue)}}function Qe(Mn,ue){var Ge;const Re=Mn.get(Ei.Ui),V=Mn.get(ro.d),ne=new f.SL;return[Object.assign(Object.assign({},ue),{keyboardNavigationDelegate:{mightProducePrintableCharacter:at=>V.mightProducePrintableCharacter(at)},smoothScrolling:!!Re.getValue(Ii),mouseWheelScrollSensitivity:Re.getValue(ii),fastScrollSensitivity:Re.getValue(Ut),multipleSelectionController:null!==(Ge=ue.multipleSelectionController)&&void 0!==Ge?Ge:ne.add(new _e(Re)),keyboardNavigationEventFilter:Wn(V)}),ne]}let qe=class extends b.aV{constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn){const Sn=typeof ne.horizontalScrolling<"u"?ne.horizontalScrolling:!!ln.getValue(Be),[Vn,gi]=pn.invokeFunction(Qe,ne);super(ue,Ge,Re,V,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Mo.o)(It.getColorTheme(),Mo.O2)),Vn),{horizontalScrolling:Sn})),this.disposables.add(gi),this.contextKeyService=jt(Ne,this),this.themeService=It,this.listSupportsMultiSelect=Zt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ne.multipleSelectionSupport),un.bindTo(this.contextKeyService).set(!!ne.selectionNavigation),this.listHasSelectionOrFocus=dn.bindTo(this.contextKeyService),this.listDoubleSelection=Bn.bindTo(this.contextKeyService),this.listMultiSelection=An.bindTo(this.contextKeyService),this.horizontalScrolling=ne.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ee(ln),this.disposables.add(this.contextKeyService),this.disposables.add(at.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ai=this.getSelection(),ui=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ai.length>0||ui.length>0),this.listMultiSelection.set(Ai.length>1),this.listDoubleSelection.set(2===Ai.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ai=this.getSelection(),ui=this.getFocus();this.listHasSelectionOrFocus.set(Ai.length>0||ui.length>0)})),this.disposables.add(ln.onDidChangeConfiguration(Ai=>{Ai.affectsConfiguration(Yt)&&(this._useAltAsMultipleSelectionModifier=ee(ln));let ui={};if(Ai.affectsConfiguration(Be)&&void 0===this.horizontalScrolling){const lo=!!ln.getValue(Be);ui=Object.assign(Object.assign({},ui),{horizontalScrolling:lo})}if(Ai.affectsConfiguration(Ii)){const lo=!!ln.getValue(Ii);ui=Object.assign(Object.assign({},ui),{smoothScrolling:lo})}if(Ai.affectsConfiguration(ii)){const lo=ln.getValue(ii);ui=Object.assign(Object.assign({},ui),{mouseWheelScrollSensitivity:lo})}if(Ai.affectsConfiguration(Ut)){const lo=ln.getValue(Ut);ui=Object.assign(Object.assign({},ui),{fastScrollSensitivity:lo})}Object.keys(ui).length>0&&this.updateOptions(ui)})),this.navigator=new wn(this,Object.assign({configurationService:ln},ne)),this.disposables.add(this.navigator)}updateOptions(ue){super.updateOptions(ue),ue.overrideStyles&&this.updateStyles(ue.overrideStyles),void 0!==ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ue.multipleSelectionSupport)}updateStyles(ue){var Ge;null===(Ge=this._styler)||void 0===Ge||Ge.dispose(),this._styler=(0,Mo.Jl)(this,this.themeService,ue)}dispose(){var ue;null===(ue=this._styler)||void 0===ue||ue.dispose(),super.dispose()}};qe=ko([so(5,Oi.i6),so(6,Do),so(7,Oo.XE),so(8,Ei.Ui),so(9,xo.TG)],qe);let ct=class extends r{constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn){const Sn=typeof ne.horizontalScrolling<"u"?ne.horizontalScrolling:!!ln.getValue(Be),[Vn,gi]=pn.invokeFunction(Qe,ne);super(ue,Ge,Re,V,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Mo.o)(It.getColorTheme(),Mo.O2)),Vn),{horizontalScrolling:Sn})),this.disposables=new f.SL,this.disposables.add(gi),this.contextKeyService=jt(Ne,this),this.themeService=It,this.horizontalScrolling=ne.horizontalScrolling,this.listSupportsMultiSelect=Zt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ne.multipleSelectionSupport),un.bindTo(this.contextKeyService).set(!!ne.selectionNavigation),this._useAltAsMultipleSelectionModifier=ee(ln),this.disposables.add(this.contextKeyService),this.disposables.add(at.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),ne.overrideStyles&&this.disposables.add((0,Mo.Jl)(this,It,ne.overrideStyles)),this.disposables.add(ln.onDidChangeConfiguration(Ai=>{Ai.affectsConfiguration(Yt)&&(this._useAltAsMultipleSelectionModifier=ee(ln));let ui={};if(Ai.affectsConfiguration(Be)&&void 0===this.horizontalScrolling){const lo=!!ln.getValue(Be);ui=Object.assign(Object.assign({},ui),{horizontalScrolling:lo})}if(Ai.affectsConfiguration(Ii)){const lo=!!ln.getValue(Ii);ui=Object.assign(Object.assign({},ui),{smoothScrolling:lo})}if(Ai.affectsConfiguration(ii)){const lo=ln.getValue(ii);ui=Object.assign(Object.assign({},ui),{mouseWheelScrollSensitivity:lo})}if(Ai.affectsConfiguration(Ut)){const lo=ln.getValue(Ut);ui=Object.assign(Object.assign({},ui),{fastScrollSensitivity:lo})}Object.keys(ui).length>0&&this.updateOptions(ui)})),this.navigator=new wn(this,Object.assign({configurationService:ln},ne)),this.disposables.add(this.navigator)}updateOptions(ue){super.updateOptions(ue),ue.overrideStyles&&this.updateStyles(ue.overrideStyles),void 0!==ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ue.multipleSelectionSupport)}updateStyles(ue){var Ge;null===(Ge=this._styler)||void 0===Ge||Ge.dispose(),this._styler=(0,Mo.Jl)(this,this.themeService,ue)}dispose(){var ue;null===(ue=this._styler)||void 0===ue||ue.dispose(),this.disposables.dispose(),super.dispose()}};ct=ko([so(5,Oi.i6),so(6,Do),so(7,Oo.XE),so(8,Ei.Ui),so(9,xo.TG)],ct);let rn=class extends ${constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn,Sn){const Vn=typeof Ne.horizontalScrolling<"u"?Ne.horizontalScrolling:!!pn.getValue(Be),[gi,Di]=Sn.invokeFunction(Qe,Ne);super(ue,Ge,Re,V,ne,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Mo.o)(ln.getColorTheme(),Mo.O2)),gi),{horizontalScrolling:Vn})),this.disposables.add(Di),this.contextKeyService=jt(at,this),this.themeService=ln,this.listSupportsMultiSelect=Zt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Ne.multipleSelectionSupport),un.bindTo(this.contextKeyService).set(!!Ne.selectionNavigation),this.listHasSelectionOrFocus=dn.bindTo(this.contextKeyService),this.listDoubleSelection=Bn.bindTo(this.contextKeyService),this.listMultiSelection=An.bindTo(this.contextKeyService),this.horizontalScrolling=Ne.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ee(pn),this.disposables.add(this.contextKeyService),this.disposables.add(It.register(this)),Ne.overrideStyles&&this.updateStyles(Ne.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ui=this.getSelection(),lo=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ui.length>0||lo.length>0),this.listMultiSelection.set(ui.length>1),this.listDoubleSelection.set(2===ui.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ui=this.getSelection(),lo=this.getFocus();this.listHasSelectionOrFocus.set(ui.length>0||lo.length>0)})),this.disposables.add(pn.onDidChangeConfiguration(ui=>{ui.affectsConfiguration(Yt)&&(this._useAltAsMultipleSelectionModifier=ee(pn));let lo={};if(ui.affectsConfiguration(Be)&&void 0===this.horizontalScrolling){const Hi=!!pn.getValue(Be);lo=Object.assign(Object.assign({},lo),{horizontalScrolling:Hi})}if(ui.affectsConfiguration(Ii)){const Hi=!!pn.getValue(Ii);lo=Object.assign(Object.assign({},lo),{smoothScrolling:Hi})}if(ui.affectsConfiguration(ii)){const Hi=pn.getValue(ii);lo=Object.assign(Object.assign({},lo),{mouseWheelScrollSensitivity:Hi})}if(ui.affectsConfiguration(Ut)){const Hi=pn.getValue(Ut);lo=Object.assign(Object.assign({},lo),{fastScrollSensitivity:Hi})}Object.keys(lo).length>0&&this.updateOptions(lo)})),this.navigator=new En(this,Object.assign({configurationService:pn},Ne)),this.disposables.add(this.navigator)}updateOptions(ue){super.updateOptions(ue),ue.overrideStyles&&this.updateStyles(ue.overrideStyles),void 0!==ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ue.multipleSelectionSupport)}updateStyles(ue){var Ge;null===(Ge=this._styler)||void 0===Ge||Ge.dispose(),this._styler=(0,Mo.Jl)(this,this.themeService,ue)}dispose(){var ue;null===(ue=this._styler)||void 0===ue||ue.dispose(),this.disposables.dispose(),super.dispose()}};rn=ko([so(6,Oi.i6),so(7,Do),so(8,Oo.XE),so(9,Ei.Ui),so(10,xo.TG)],rn);class Gt extends f.JT{constructor(ue,Ge){var Re;super(),this.widget=ue,this._onDidOpen=this._register(new C.Q5),this.onDidOpen=this._onDidOpen.event,this._register(C.ju.filter(this.widget.onDidChangeSelection,V=>V.browserEvent instanceof KeyboardEvent)(V=>this.onSelectionFromKeyboard(V))),this._register(this.widget.onPointer(V=>this.onPointer(V.element,V.browserEvent))),this._register(this.widget.onMouseDblClick(V=>this.onMouseDblClick(V.element,V.browserEvent))),"boolean"!=typeof Ge?.openOnSingleClick&&Ge?.configurationService?(this.openOnSingleClick="doubleClick"!==Ge?.configurationService.getValue(gn),this._register(Ge?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==Ge?.configurationService.getValue(gn)}))):this.openOnSingleClick=null===(Re=Ge?.openOnSingleClick)||void 0===Re||Re}onSelectionFromKeyboard(ue){if(1!==ue.elements.length)return;const Ge=ue.browserEvent,Re="boolean"!=typeof Ge.preserveFocus||Ge.preserveFocus,V="boolean"==typeof Ge.pinned?Ge.pinned:!Re;this._open(this.getSelectedElement(),Re,V,!1,ue.browserEvent)}onPointer(ue,Ge){this.openOnSingleClick&&2!==Ge.detail&&this._open(ue,!0,1===Ge.button,Ge.ctrlKey||Ge.metaKey||Ge.altKey,Ge)}onMouseDblClick(ue,Ge){if(!Ge)return;const Re=Ge.target;Re.classList.contains("monaco-tl-twistie")||Re.classList.contains("monaco-icon-label")&&Re.classList.contains("folder-icon")&&Ge.offsetX<16||this._open(ue,!1,!0,Ge.ctrlKey||Ge.metaKey||Ge.altKey,Ge)}_open(ue,Ge,Re,V,ne){ue&&this._onDidOpen.fire({editorOptions:{preserveFocus:Ge,pinned:Re,revealIfVisible:!0},sideBySide:V,element:ue,browserEvent:ne})}}class wn extends Gt{constructor(ue,Ge){super(ue,Ge),this.widget=ue}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class En extends Gt{constructor(ue,Ge){super(ue,Ge)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class xn extends Gt{constructor(ue,Ge){super(ue,Ge)}getSelectedElement(){var ue;return null!==(ue=this.widget.getSelection()[0])&&void 0!==ue?ue:void 0}}function Wn(Mn){let ue=!1;return Ge=>{if(Ge.toKeybinding().isModifierKey())return!1;if(ue)return ue=!1,!1;const Re=Mn.softDispatch(Ge,Ge.target);return Re?.enterChord?(ue=!0,!1):(ue=!1,!Re)}}let Xn=class extends an{constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn){const{options:Sn,getTypeNavigationMode:Vn,disposable:gi}=Ne.invokeFunction(uo,ne);super(ue,Ge,Re,V,Sn),this.disposables.add(gi),this.internals=new ho(this,ne,Vn,ne.overrideStyles,at,It,ln,pn),this.disposables.add(this.internals)}updateOptions(ue){super.updateOptions(ue),this.internals.updateOptions(ue)}};Xn=ko([so(5,xo.TG),so(6,Oi.i6),so(7,Do),so(8,Oo.XE),so(9,Ei.Ui)],Xn);let si=class extends li{constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn){const{options:Sn,getTypeNavigationMode:Vn,disposable:gi}=Ne.invokeFunction(uo,ne);super(ue,Ge,Re,V,Sn),this.disposables.add(gi),this.internals=new ho(this,ne,Vn,ne.overrideStyles,at,It,ln,pn),this.disposables.add(this.internals)}updateOptions(ue={}){super.updateOptions(ue),ue.overrideStyles&&this.internals.updateStyleOverrides(ue.overrideStyles),this.internals.updateOptions(ue)}};si=ko([so(5,xo.TG),so(6,Oi.i6),so(7,Do),so(8,Oo.XE),so(9,Ei.Ui)],si);let ci=class extends bi{constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn,Sn){const{options:Vn,getTypeNavigationMode:gi,disposable:Di}=at.invokeFunction(uo,Ne);super(ue,Ge,Re,V,ne,Vn),this.disposables.add(Di),this.internals=new ho(this,Ne,gi,Ne.overrideStyles,It,ln,pn,Sn),this.disposables.add(this.internals)}updateOptions(ue={}){super.updateOptions(ue),ue.overrideStyles&&this.internals.updateStyleOverrides(ue.overrideStyles),this.internals.updateOptions(ue)}};ci=ko([so(6,xo.TG),so(7,Oi.i6),so(8,Do),so(9,Oo.XE),so(10,Ei.Ui)],ci);let Ci=class extends tn{constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn,Sn){const{options:Vn,getTypeNavigationMode:gi,disposable:Di}=at.invokeFunction(uo,Ne);super(ue,Ge,Re,V,ne,Vn),this.disposables.add(Di),this.internals=new ho(this,Ne,gi,Ne.overrideStyles,It,ln,pn,Sn),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(ue={}){super.updateOptions(ue),ue.overrideStyles&&this.internals.updateStyleOverrides(ue.overrideStyles),this.internals.updateOptions(ue)}};Ci=ko([so(6,xo.TG),so(7,Oi.i6),so(8,Do),so(9,Oo.XE),so(10,Ei.Ui)],Ci);let Li=class extends Hn{constructor(ue,Ge,Re,V,ne,Ne,at,It,ln,pn,Sn,Vn){const{options:gi,getTypeNavigationMode:Di,disposable:Ai}=It.invokeFunction(uo,at);super(ue,Ge,Re,V,ne,Ne,gi),this.disposables.add(Ai),this.internals=new ho(this,at,Di,at.overrideStyles,ln,pn,Sn,Vn),this.disposables.add(this.internals)}updateOptions(ue){super.updateOptions(ue),this.internals.updateOptions(ue)}};function Ji(Mn){const ue=Mn.getValue(_t);if("highlight"===ue)return St.Highlight;if("filter"===ue)return St.Filter;const Ge=Mn.getValue(vn);return"simple"===Ge||"highlight"===Ge?St.Highlight:"filter"===Ge?St.Filter:void 0}function uo(Mn,ue){var Ge;const Re=Mn.get(Ei.Ui),V=Mn.get(Wi.u),ne=Mn.get(Oi.i6),Ne=Mn.get(xo.TG),It=void 0!==ue.horizontalScrolling?ue.horizontalScrolling:!!Re.getValue(Be),[ln,pn]=Ne.invokeFunction(Qe,ue),Sn=ue.additionalScrollHeight;return{getTypeNavigationMode:()=>{const Vn=ne.getContextKeyValue(Ct);return"automatic"===Vn?b.AA.Automatic:"trigger"===Vn||!1===ne.getContextKeyValue(Wt)?b.AA.Trigger:void 0},disposable:pn,options:Object.assign(Object.assign({keyboardSupport:!1},ln),{indent:"number"==typeof Re.getValue($n)?Re.getValue($n):void 0,renderIndentGuides:Re.getValue(Pi),smoothScrolling:!!Re.getValue(Ii),defaultFindMode:Ji(Re),horizontalScrolling:It,additionalScrollHeight:Sn,hideTwistiesOfChildlessElements:ue.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(Ge=ue.expandOnlyOnTwistieClick)&&void 0!==Ge?Ge:"doubleClick"===Re.getValue(F),contextViewProvider:V})}}Li=ko([so(7,xo.TG),so(8,Oi.i6),so(9,Do),so(10,Oo.XE),so(11,Ei.Ui)],Li);let ho=class{constructor(ue,Ge,Re,V,ne,Ne,at,It){var ln;this.tree=ue,this.themeService=at,this.disposables=[],this.contextKeyService=jt(ne,ue),this.listSupportsMultiSelect=Zt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Ge.multipleSelectionSupport),un.bindTo(this.contextKeyService).set(!!Ge.selectionNavigation),this.listSupportFindWidget=ht.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(ln=Ge.findWidgetEnabled)||void 0===ln||ln),this.hasSelectionOrFocus=dn.bindTo(this.contextKeyService),this.hasDoubleSelection=Bn.bindTo(this.contextKeyService),this.hasMultiSelection=An.bindTo(this.contextKeyService),this.treeElementCanCollapse=Kt.bindTo(this.contextKeyService),this.treeElementHasParent=nn.bindTo(this.contextKeyService),this.treeElementCanExpand=Dn.bindTo(this.contextKeyService),this.treeElementHasChild=In.bindTo(this.contextKeyService),this.treeFindOpen=bn.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ee(It),this.updateStyleOverrides(V);const Sn=()=>{const gi=ue.getFocus()[0];if(!gi)return;const Di=ue.getNode(gi);this.treeElementCanCollapse.set(Di.collapsible&&!Di.collapsed),this.treeElementHasParent.set(!!ue.getParentElement(gi)),this.treeElementCanExpand.set(Di.collapsible&&Di.collapsed),this.treeElementHasChild.set(!!ue.getFirstElementChild(gi))},Vn=new Set;Vn.add(Ct),Vn.add(Wt),this.disposables.push(this.contextKeyService,Ne.register(ue),ue.onDidChangeSelection(()=>{const gi=ue.getSelection(),Di=ue.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(gi.length>0||Di.length>0),this.hasMultiSelection.set(gi.length>1),this.hasDoubleSelection.set(2===gi.length)})}),ue.onDidChangeFocus(()=>{const gi=ue.getSelection(),Di=ue.getFocus();this.hasSelectionOrFocus.set(gi.length>0||Di.length>0),Sn()}),ue.onDidChangeCollapseState(Sn),ue.onDidChangeModel(Sn),ue.onDidChangeFindOpenState(gi=>this.treeFindOpen.set(gi)),It.onDidChangeConfiguration(gi=>{let Di={};if(gi.affectsConfiguration(Yt)&&(this._useAltAsMultipleSelectionModifier=ee(It)),gi.affectsConfiguration($n)){const Ai=It.getValue($n);Di=Object.assign(Object.assign({},Di),{indent:Ai})}if(gi.affectsConfiguration(Pi)){const Ai=It.getValue(Pi);Di=Object.assign(Object.assign({},Di),{renderIndentGuides:Ai})}if(gi.affectsConfiguration(Ii)){const Ai=!!It.getValue(Ii);Di=Object.assign(Object.assign({},Di),{smoothScrolling:Ai})}if((gi.affectsConfiguration(_t)||gi.affectsConfiguration(vn))&&ue.updateOptions({defaultFindMode:Ji(It)}),gi.affectsConfiguration(Be)&&void 0===Ge.horizontalScrolling){const Ai=!!It.getValue(Be);Di=Object.assign(Object.assign({},Di),{horizontalScrolling:Ai})}if(gi.affectsConfiguration(F)&&void 0===Ge.expandOnlyOnTwistieClick&&(Di=Object.assign(Object.assign({},Di),{expandOnlyOnTwistieClick:"doubleClick"===It.getValue(F)})),gi.affectsConfiguration(ii)){const Ai=It.getValue(ii);Di=Object.assign(Object.assign({},Di),{mouseWheelScrollSensitivity:Ai})}if(gi.affectsConfiguration(Ut)){const Ai=It.getValue(Ut);Di=Object.assign(Object.assign({},Di),{fastScrollSensitivity:Ai})}Object.keys(Di).length>0&&ue.updateOptions(Di)}),this.contextKeyService.onDidChangeContext(gi=>{gi.affectsSome(Vn)&&ue.updateOptions({typeNavigationMode:Re()})})),this.navigator=new xn(ue,Object.assign({configurationService:It},Ge)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(ue){void 0!==ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ue.multipleSelectionSupport)}updateStyleOverrides(ue){(0,f.B9)(this.styler),this.styler=ue?(0,Mo.Jl)(this.tree,this.themeService,ue):f.JT.None}dispose(){this.disposables=(0,f.B9)(this.disposables),(0,f.B9)(this.styler),this.styler=void 0}};ho=ko([so(4,Oi.i6),so(5,Do),so(6,Oo.XE),so(7,Ei.Ui)],ho),Co.B.as(ao.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,re.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Yt]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,re.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,re.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,re.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[gn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,re.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Be]:{type:"boolean",default:!1,description:(0,re.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[$n]:{type:"number",default:8,minimum:4,maximum:40,description:(0,re.NC)("tree indent setting","Controls tree indentation in pixels.")},[Pi]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,re.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[Ii]:{type:"boolean",default:!1,description:(0,re.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ii]:{type:"number",default:1,markdownDescription:(0,re.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Ut]:{type:"number",default:5,description:(0,re.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[_t]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,re.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,re.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,re.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[vn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,re.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,re.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,re.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,re.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,re.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[F]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,re.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},57908:(yt,T,e)=>{"use strict";e.d(T,{$V:()=>D,VZ:()=>C,in:()=>f,kw:()=>S});var s=e(31864),t=e(21576);const C=(0,e(30888).yh)("logService");var f=(()=>((f=f||{})[f.Trace=0]="Trace",f[f.Debug=1]="Debug",f[f.Info=2]="Info",f[f.Warning=3]="Warning",f[f.Error=4]="Error",f[f.Critical=5]="Critical",f[f.Off=6]="Off",f))();const I=f.Info;class b extends t.JT{constructor(){super(...arguments),this.level=I,this._onDidChangeLogLevel=this._register(new s.Q5)}setLevel(r){this.level!==r&&(this.level=r,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class S extends b{constructor(r=I){super(),this.setLevel(r)}trace(r,...a){this.getLevel()<=f.Trace&&console.log("%cTRACE","color: #888",r,...a)}debug(r,...a){this.getLevel()<=f.Debug&&console.log("%cDEBUG","background: #eee; color: #888",r,...a)}info(r,...a){this.getLevel()<=f.Info&&console.log("%c INFO","color: #33f",r,...a)}error(r,...a){this.getLevel()<=f.Error&&console.log("%c  ERR","color: #f33",r,...a)}dispose(){}}class D extends t.JT{constructor(r){super(),this.logger=r,this._register(r)}getLevel(){return this.logger.getLevel()}trace(r,...a){this.logger.trace(r,...a)}debug(r,...a){this.logger.debug(r,...a)}info(r,...a){this.logger.info(r,...a)}error(r,...a){this.logger.error(r,...a)}}},80618:(yt,T,e)=>{"use strict";e.d(T,{H0:()=>f,ZL:()=>C,lT:()=>I});var f,s=e(91729),t=e(1200),l=e(30888),C=(()=>((C=C||{})[C.Hint=1]="Hint",C[C.Info=2]="Info",C[C.Warning=4]="Warning",C[C.Error=8]="Error",C))();!function(b){b.compare=function S(u,n){return n-u};const D=Object.create(null);D[b.Error]=(0,t.NC)("sev.error","Error"),D[b.Warning]=(0,t.NC)("sev.warning","Warning"),D[b.Info]=(0,t.NC)("sev.info","Info"),b.toString=function _(u){return D[u]||""},b.fromSeverity=function r(u){switch(u){case s.Z.Error:return b.Error;case s.Z.Warning:return b.Warning;case s.Z.Info:return b.Info;case s.Z.Ignore:return b.Hint}},b.toSeverity=function a(u){switch(u){case b.Error:return s.Z.Error;case b.Warning:return s.Z.Warning;case b.Info:return s.Z.Info;case b.Hint:return s.Z.Ignore}}}(C||(C={})),function(b){const S="";function _(r,a){const u=[S];return u.push(r.source?r.source.replace("\xa6","\\\xa6"):S),u.push(r.code?"string"==typeof r.code?r.code.replace("\xa6","\\\xa6"):r.code.value.replace("\xa6","\\\xa6"):S),u.push(null!=r.severity?C.toString(r.severity):S),u.push(r.message&&a?r.message.replace("\xa6","\\\xa6"):S),u.push(null!=r.startLineNumber?r.startLineNumber.toString():S),u.push(null!=r.startColumn?r.startColumn.toString():S),u.push(null!=r.endLineNumber?r.endLineNumber.toString():S),u.push(null!=r.endColumn?r.endColumn.toString():S),u.push(S),u.join("\xa6")}b.makeKey=function D(r){return _(r,!0)},b.makeKeyOptionalMessage=_}(f||(f={}));const I=(0,l.yh)("markerService")},83916:(yt,T,e)=>{"use strict";e.d(T,{EO:()=>f,lT:()=>C,zb:()=>l});var s=e(91729),t=e(30888),l=s.Z;const C=(0,t.yh)("notificationService");class f{}},78668:(yt,T,e)=>{"use strict";e.d(T,{Gs:()=>D,SW:()=>b,v4:()=>I,xI:()=>_,xn:()=>S});var s=e(21576),t=e(77697),l=e(56740),C=e(30888),f=function(r,a,u,n){return new(u||(u=Promise))(function(y,g){function v(E){try{w(n.next(E))}catch(L){g(L)}}function m(E){try{w(n.throw(E))}catch(L){g(L)}}function w(E){E.done?y(E.value):function d(y){return y instanceof u?y:new u(function(g){g(y)})}(E.value).then(v,m)}w((n=n.apply(r,a||[])).next())})};const I=(0,C.yh)("openerService"),b=Object.freeze({_serviceBrand:void 0,registerOpener:()=>s.JT.None,registerValidator:()=>s.JT.None,registerExternalUriResolver:()=>s.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>s.JT.None,open(){return f(this,void 0,void 0,function*(){return!1})},resolveExternalUri(r){return f(this,void 0,void 0,function*(){return{resolved:r,dispose(){}}})}});function S(r,a){return l.o.isUri(r)?(0,t.qq)(r.scheme,a):(0,t.ok)(r,a+":")}function D(r,...a){return a.some(u=>S(r,u))}function _(r){let a;const u=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(r.fragment);return u&&(a={startLineNumber:parseInt(u[1]),startColumn:u[2]?parseInt(u[2]):1,endLineNumber:u[4]?parseInt(u[4]):void 0,endColumn:u[4]?u[5]?parseInt(u[5]):1:void 0},r=r.with({fragment:""})),{selection:a,uri:r}}},26109:(yt,T,e)=>{"use strict";e.d(T,{Ex:()=>C,R9:()=>t,ek:()=>f});var s=e(30888);const t=(0,s.yh)("progressService");Object.freeze({total(){},worked(){},done(){}});class C{constructor(b){this.callback=b}report(b){this._value=b,this.callback(this._value)}}C.None=Object.freeze({report(){}});const f=(0,s.yh)("editorProgressService")},84724:(yt,T,e)=>{"use strict";e.d(T,{IP:()=>f,Ry:()=>C});var s=e(14940),t=e(21576),l=e(25468),C=(()=>((C=C||{})[C.PRESERVE=0]="PRESERVE",C[C.LAST=1]="LAST",C))();const f={Quickaccess:"workbench.contributions.quickaccess"};l.B.add(f.Quickaccess,new class I{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(S){return 0===S.prefix.length?this.defaultProvider=S:this.providers.push(S),this.providers.sort((D,_)=>_.prefix.length-D.prefix.length),(0,t.OF)(()=>{this.providers.splice(this.providers.indexOf(S),1),this.defaultProvider===S&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,s.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(S){return S&&this.providers.find(_=>S.startsWith(_.prefix))||this.defaultProvider}})},21156:(yt,T,e)=>{"use strict";e.d(T,{eJ:()=>l,jG:()=>t.jG});var s=e(30888),t=e(51536);const l=(0,s.yh)("quickInputService")},25468:(yt,T,e)=>{"use strict";e.d(T,{B:()=>C});var s=e(92132),t=e(22070);const C=new class l{constructor(){this.data=new Map}add(I,b){s.ok(t.HD(I)),s.ok(t.Kn(b)),s.ok(!this.data.has(I),"There is already an extension with this id"),this.data.set(I,b)}as(I){return this.data.get(I)||null}}},22735:(yt,T,e)=>{"use strict";e.d(T,{Uy:()=>r,vm:()=>n,fk:()=>a});var s=e(31864),t=e(21576),l=e(22070),C=e(41883),f=function(d,y,g,v){return new(g||(g=Promise))(function(w,E){function L(k){try{A(v.next(k))}catch(W){E(W)}}function x(k){try{A(v.throw(k))}catch(W){E(W)}}function A(k){k.done?w(k.value):function m(w){return w instanceof g?w:new g(function(E){E(w)})}(k.value).then(L,x)}A((v=v.apply(d,y||[])).next())})},I=(()=>((I=I||{})[I.None=0]="None",I[I.Initialized=1]="Initialized",I[I.Closed=2]="Closed",I))();let b=(()=>{class d extends t.JT{constructor(g,v=Object.create(null)){super(),this.database=g,this.options=v,this._onDidChangeStorage=this._register(new s.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=I.None,this.cache=new Map,this.flushDelayer=new C.rH(d.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var v,m;null===(v=g.changed)||void 0===v||v.forEach((w,E)=>this.accept(E,w)),null===(m=g.deleted)||void 0===m||m.forEach(w=>this.accept(w,void 0))}accept(g,v){if(this.state===I.Closed)return;let m=!1;(0,l.Jp)(v)?m=this.cache.delete(g):this.cache.get(g)!==v&&(this.cache.set(g,v),m=!0),m&&this._onDidChangeStorage.fire(g)}get(g,v){const m=this.cache.get(g);return(0,l.Jp)(m)?v:m}getBoolean(g,v){const m=this.get(g);return(0,l.Jp)(m)?v:"true"===m}getNumber(g,v){const m=this.get(g);return(0,l.Jp)(m)?v:parseInt(m,10)}set(g,v){return f(this,void 0,void 0,function*(){if(this.state===I.Closed)return;if((0,l.Jp)(v))return this.delete(g);const m=String(v);return this.cache.get(g)!==m?(this.cache.set(g,m),this.pendingInserts.set(g,m),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()):void 0})}delete(g){return f(this,void 0,void 0,function*(){if(this.state!==I.Closed&&this.cache.delete(g))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return f(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var v;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(v=this.whenFlushedCallbacks.pop())||void 0===v||v()})})}doFlush(g){return f(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return d.DEFAULT_FLUSH_DELAY=100,d})();class S{constructor(){this.onDidChangeItemsExternal=s.ju.None,this.items=new Map}updateItems(y){var g,v;return f(this,void 0,void 0,function*(){null===(g=y.insert)||void 0===g||g.forEach((m,w)=>this.items.set(w,m)),null===(v=y.delete)||void 0===v||v.forEach(m=>this.items.delete(m))})}}var D=e(30888);const _="__$__targetStorageMarker",r=(0,D.yh)("storageService");var a=(()=>((a=a||{})[a.NONE=0]="NONE",a[a.SHUTDOWN=1]="SHUTDOWN",a))();let u=(()=>{class d extends t.JT{constructor(g={flushInterval:d.DEFAULT_FLUSH_INTERVAL}){super(),this.options=g,this._onDidChangeValue=this._register(new s.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new s.K3),this._onWillSaveState=this._register(new s.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(g,v){if(v===_){switch(g){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:g})}else this._onDidChangeValue.fire({scope:g,key:v,target:this.getKeyTargets(g)[v]})}get(g,v,m){var w;return null===(w=this.getStorage(v))||void 0===w?void 0:w.get(g,m)}getBoolean(g,v,m){var w;return null===(w=this.getStorage(v))||void 0===w?void 0:w.getBoolean(g,m)}getNumber(g,v,m){var w;return null===(w=this.getStorage(v))||void 0===w?void 0:w.getNumber(g,m)}store(g,v,m,w){(0,l.Jp)(v)?this.remove(g,m):this.withPausedEmitters(()=>{var E;this.updateKeyTarget(g,m,w),null===(E=this.getStorage(m))||void 0===E||E.set(g,v)})}remove(g,v){this.withPausedEmitters(()=>{var m;this.updateKeyTarget(g,v,void 0),null===(m=this.getStorage(v))||void 0===m||m.delete(g)})}withPausedEmitters(g){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{g()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(g,v,m){var w,E;const L=this.getKeyTargets(v);"number"==typeof m?L[g]!==m&&(L[g]=m,null===(w=this.getStorage(v))||void 0===w||w.set(_,JSON.stringify(L))):"number"==typeof L[g]&&(delete L[g],null===(E=this.getStorage(v))||void 0===E||E.set(_,JSON.stringify(L)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(g){switch(g){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(g){const v=this.get(_,g);if(v)try{return JSON.parse(v)}catch{}return Object.create(null)}}return d.DEFAULT_FLUSH_INTERVAL=6e4,d})();class n extends u{constructor(){super(),this.applicationStorage=this._register(new b(new S)),this.profileStorage=this._register(new b(new S)),this.workspaceStorage=this._register(new b(new S)),this._register(this.workspaceStorage.onDidChangeStorage(y=>this.emitDidChangeValue(1,y))),this._register(this.profileStorage.onDidChangeStorage(y=>this.emitDidChangeValue(0,y))),this._register(this.applicationStorage.onDidChangeStorage(y=>this.emitDidChangeValue(-1,y)))}getStorage(y){switch(y){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},90062:(yt,T,e)=>{"use strict";e.d(T,{b:()=>t});const t=(0,e(30888).yh)("telemetryService")},6192:(yt,T,e)=>{"use strict";e.d(T,{$DX:()=>uo,$d5:()=>_t,$ny:()=>Us,ABB:()=>dt,AS1:()=>vn,AWI:()=>Gn,BOY:()=>Qs,BQ0:()=>fe,Bqu:()=>nn,C3g:()=>se,CA6:()=>Ir,CNo:()=>Cn,Cdg:()=>ci,CzK:()=>ro,D0T:()=>we,D1_:()=>He,DEr:()=>Ci,Dut:()=>Ot,E3h:()=>ho,EPQ:()=>xe,EQn:()=>wn,ES4:()=>_i,ESD:()=>ge,EiJ:()=>oi,F3d:()=>gn,F9q:()=>Zt,Fm_:()=>os,Fu1:()=>Wi,GO4:()=>Xe,GYc:()=>re,Gj_:()=>jr,Gwp:()=>$n,HCL:()=>Oi,Hfx:()=>nt,Hz8:()=>Li,IPX:()=>D,IYc:()=>Ns,Ido:()=>y,Itd:()=>Ws,Ivo:()=>Kr,JpG:()=>er,K19:()=>li,LLc:()=>Bn,L_H:()=>st,L_t:()=>An,LoV:()=>Pn,M6C:()=>In,MUv:()=>oo,NOs:()=>ie,NPS:()=>Wn,Ng6:()=>De,OLZ:()=>is,OZR:()=>me,Oop:()=>Kt,P4M:()=>Oo,P6G:()=>u,P6Y:()=>ni,PRb:()=>q,PX0:()=>Pi,PpC:()=>bi,Pvw:()=>J,QO2:()=>S,R80:()=>m,RV_:()=>Me,Rzx:()=>Xi,SPM:()=>Bs,SUG:()=>Oe,SUY:()=>Ms,SUp:()=>ze,Saq:()=>_e,Sbf:()=>cn,Snq:()=>Ss,SwI:()=>N,T83:()=>qt,Tnx:()=>bn,UnT:()=>rn,VVv:()=>zn,Vqd:()=>si,XEs:()=>Z,XL$:()=>sn,XZx:()=>v,Xy4:()=>ds,YI3:()=>Ie,ZGJ:()=>Ui,ZnX:()=>Yi,_2n:()=>ht,_Yy:()=>Hn,_bK:()=>un,_jn:()=>ar,_lC:()=>Se,_t9:()=>Ee,_wn:()=>Ae,b6y:()=>mt,b7$:()=>Et,bKB:()=>ao,brw:()=>rr,c63:()=>Tt,cbQ:()=>Xn,cvW:()=>Le,dCr:()=>Dn,dRz:()=>n,dt_:()=>j,etL:()=>ft,fEB:()=>Ft,few:()=>Ye,g8u:()=>Q,g_n:()=>Zi,gkn:()=>en,gpD:()=>bt,hEj:()=>fi,hX8:()=>Ei,hzo:()=>ko,iFQ:()=>vt,j51:()=>Do,j5u:()=>Je,jUe:()=>yo,jbW:()=>Ji,kJk:()=>Xt,kVY:()=>Sr,keg:()=>Co,kvU:()=>jt,kwl:()=>fr,lRK:()=>w,lUq:()=>Mn,lWp:()=>Kn,lXJ:()=>St,loF:()=>Ht,mHy:()=>dn,mV1:()=>Be,nd:()=>Ke,nyM:()=>vo,oQ$:()=>an,oSI:()=>ee,opG:()=>ut,ov3:()=>qs,pW3:()=>Lt,paE:()=>ce,phM:()=>Qi,pnM:()=>Lo,ptc:()=>$t,qBU:()=>pe,qeD:()=>ye,rg2:()=>Ct,rh:()=>O,s$:()=>Yt,sEe:()=>K,sKV:()=>xo,sgC:()=>k,tZ6:()=>lt,uoC:()=>Bt,url:()=>A,uxu:()=>Gt,vGG:()=>F,xEn:()=>de,xL1:()=>E,xi6:()=>so,y65:()=>Qe,yJx:()=>tn,yb5:()=>ri,ynu:()=>it,ypS:()=>Mo,ytC:()=>Wt,zJb:()=>$,zKr:()=>pt,zOm:()=>Ho,zRJ:()=>et});var s=e(41883),t=e(84968),l=e(31864),C=e(22070),f=e(1200),I=e(84783),b=e(25468);function S(mo){return`--vscode-${mo.replace(/\./g,"-")}`}const D={ColorContribution:"base.contributions.colors"},r=new class _{constructor(){this._onDidChangeSchema=new l.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Vo,Ds,ws,Es=!1,gs){this.colorsById[Vo]={id:Vo,description:ws,defaults:Ds,needsTransparency:Es,deprecationMessage:gs};const Js={type:"string",description:ws,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return gs&&(Js.deprecationMessage=gs),this.colorSchema.properties[Vo]=Js,this.colorReferenceSchema.enum.push(Vo),this.colorReferenceSchema.enumDescriptions.push(ws),this._onDidChangeSchema.fire(),Vo}getColors(){return Object.keys(this.colorsById).map(Vo=>this.colorsById[Vo])}resolveDefaultColor(Vo,Ds){const ws=this.colorsById[Vo];if(ws&&ws.defaults)return Ss(ws.defaults[Ds.type],Ds)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Ds,ws)=>{const Es=-1===Ds.indexOf(".")?0:1,gs=-1===ws.indexOf(".")?0:1;return Es!==gs?Es-gs:Ds.localeCompare(ws)}).map(Ds=>`- \`${Ds}\`: ${this.colorsById[Ds].description}`).join("\n")}};function u(mo,Vo,Ds,ws,Es){return r.registerColor(mo,function a(mo){return null===mo||typeof mo.hcLight>"u"&&(mo.hcLight=null===mo.hcDark||"string"==typeof mo.hcDark?mo.hcDark:mo.light),mo}(Vo),Ds,ws,Es)}b.B.add(D.ColorContribution,r);const n=u("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},f.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),y=(u("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},f.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),u("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},f.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."))),v=(u("descriptionForeground",{light:"#717171",dark:Yi(n,.7),hcDark:Yi(n,.7),hcLight:Yi(n,.7)},f.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),u("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},f.NC("iconForeground","The default color for icons in the workbench."))),m=u("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},f.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),w=u("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},f.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),E=u("contrastActiveBorder",{light:null,dark:null,hcDark:m,hcLight:m},f.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),A=(u("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},f.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),u("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:t.Il.black,hcLight:"#292929"},f.NC("textSeparatorForeground","Color for text separators.")),u("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},f.NC("textLinkForeground","Foreground color for links in text."))),k=u("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},f.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),N=(u("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},f.NC("textPreformatForeground","Foreground color for preformatted text segments.")),u("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},f.NC("textBlockQuoteBackground","Background color for block quotes in text.")),u("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:t.Il.white,hcLight:"#292929"},f.NC("textBlockQuoteBorder","Border color for block quotes in text.")),u("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:t.Il.black,hcLight:"#F2F2F2"},f.NC("textCodeBlockBackground","Background color for code blocks in text."))),O=u("widget.shadow",{dark:Yi(t.Il.black,.36),light:Yi(t.Il.black,.16),hcDark:null,hcLight:null},f.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),K=u("input.background",{dark:"#3C3C3C",light:t.Il.white,hcDark:t.Il.black,hcLight:t.Il.white},f.NC("inputBoxBackground","Input box background.")),$=u("input.foreground",{dark:n,light:n,hcDark:n,hcLight:n},f.NC("inputBoxForeground","Input box foreground.")),j=u("input.border",{dark:null,light:null,hcDark:w,hcLight:w},f.NC("inputBoxBorder","Input box border.")),q=u("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:w,hcLight:w},f.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Z=(u("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},f.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),u("inputOption.activeBackground",{dark:Yi(m,.4),light:Yi(m,.2),hcDark:t.Il.transparent,hcLight:t.Il.transparent},f.NC("inputOption.activeBackground","Background hover color of options in input fields."))),J=u("inputOption.activeForeground",{dark:t.Il.white,light:t.Il.black,hcDark:null,hcLight:n},f.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),Se=(u("input.placeholderForeground",{light:Yi(n,.5),dark:Yi(n,.5),hcDark:Yi(n,.7),hcLight:Yi(n,.7)},f.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),u("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:t.Il.black,hcLight:t.Il.white},f.NC("inputValidationInfoBackground","Input validation background color for information severity."))),Ie=u("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:n},f.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),xe=u("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:w,hcLight:w},f.NC("inputValidationInfoBorder","Input validation border color for information severity.")),Me=u("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:t.Il.black,hcLight:t.Il.white},f.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),Oe=u("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:n},f.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),se=u("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:w,hcLight:w},f.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),ce=u("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:t.Il.black,hcLight:t.Il.white},f.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Ee=u("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:n},f.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),me=u("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:w,hcLight:w},f.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Pe=u("dropdown.background",{dark:"#3C3C3C",light:t.Il.white,hcDark:t.Il.black,hcLight:t.Il.white},f.NC("dropdownBackground","Dropdown background.")),Fe=(u("dropdown.listBackground",{dark:null,light:null,hcDark:t.Il.black,hcLight:t.Il.white},f.NC("dropdownListBackground","Dropdown list background.")),u("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:t.Il.white,hcLight:n},f.NC("dropdownForeground","Dropdown foreground."))),Ze=u("dropdown.border",{dark:Pe,light:"#CECECE",hcDark:w,hcLight:w},f.NC("dropdownBorder","Dropdown border.")),ze=u("checkbox.background",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},f.NC("checkbox.background","Background color of checkbox widget.")),fe=u("checkbox.foreground",{dark:Fe,light:Fe,hcDark:Fe,hcLight:Fe},f.NC("checkbox.foreground","Foreground color of checkbox widget.")),Ke=u("checkbox.border",{dark:Ze,light:Ze,hcDark:Ze,hcLight:Ze},f.NC("checkbox.border","Border color of checkbox widget.")),Je=u("button.foreground",{dark:t.Il.white,light:t.Il.white,hcDark:t.Il.white,hcLight:t.Il.white},f.NC("buttonForeground","Button foreground color.")),vt=u("button.separator",{dark:Yi(Je,.4),light:Yi(Je,.4),hcDark:Yi(Je,.4),hcLight:Yi(Je,.4)},f.NC("buttonSeparator","Button separator color.")),Et=u("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},f.NC("buttonBackground","Button background color.")),Xe=u("button.hoverBackground",{dark:Us(Et,.2),light:ar(Et,.2),hcDark:null,hcLight:null},f.NC("buttonHoverBackground","Button background color when hovering.")),re=u("button.border",{dark:w,light:w,hcDark:w,hcLight:w},f.NC("buttonBorder","Button border color.")),pe=u("button.secondaryForeground",{dark:t.Il.white,light:t.Il.white,hcDark:t.Il.white,hcLight:n},f.NC("buttonSecondaryForeground","Secondary button foreground color.")),ge=u("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:t.Il.white},f.NC("buttonSecondaryBackground","Secondary button background color.")),de=u("button.secondaryHoverBackground",{dark:Us(ge,.2),light:ar(ge,.2),hcDark:null,hcLight:null},f.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Q=u("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:t.Il.black,hcLight:"#0F4A85"},f.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ye=u("badge.foreground",{dark:t.Il.white,light:"#333",hcDark:t.Il.white,hcLight:t.Il.white},f.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ae=u("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},f.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),ft=u("scrollbarSlider.background",{dark:t.Il.fromHex("#797979").transparent(.4),light:t.Il.fromHex("#646464").transparent(.4),hcDark:Yi(w,.6),hcLight:Yi(w,.4)},f.NC("scrollbarSliderBackground","Scrollbar slider background color.")),dt=u("scrollbarSlider.hoverBackground",{dark:t.Il.fromHex("#646464").transparent(.7),light:t.Il.fromHex("#646464").transparent(.7),hcDark:Yi(w,.8),hcLight:Yi(w,.8)},f.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),it=u("scrollbarSlider.activeBackground",{dark:t.Il.fromHex("#BFBFBF").transparent(.4),light:t.Il.fromHex("#000000").transparent(.6),hcDark:w,hcLight:w},f.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),et=u("progressBar.background",{dark:t.Il.fromHex("#0E70C0"),light:t.Il.fromHex("#0E70C0"),hcDark:w,hcLight:w},f.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),st=u("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),St=u("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},f.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),mt=u("editorError.border",{dark:null,light:null,hcDark:t.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},f.NC("errorBorder","Border color of error boxes in the editor.")),bt=u("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Bt=u("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},f.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Lt=u("editorWarning.border",{dark:null,light:null,hcDark:t.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},f.NC("warningBorder","Border color of warning boxes in the editor.")),Ye=u("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Tt=u("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},f.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),qt=u("editorInfo.border",{dark:null,light:null,hcDark:t.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},f.NC("infoBorder","Border color of info boxes in the editor.")),Ot=u("editorHint.foreground",{dark:t.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},f.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Ft=u("editorHint.border",{dark:null,light:null,hcDark:t.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},f.NC("hintBorder","Border color of hint boxes in the editor.")),Le=(u("sash.hoverBorder",{dark:m,light:m,hcDark:m,hcLight:m},f.NC("sashActiveBorder","Border color of active sashes.")),u("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:t.Il.black,hcLight:t.Il.white},f.NC("editorBackground","Editor background color."))),ie=u("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:t.Il.white,hcLight:n},f.NC("editorForeground","Editor default foreground color.")),we=(u("editorStickyScroll.background",{light:Le,dark:Le,hcDark:Le,hcLight:Le},f.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),u("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},f.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),u("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:t.Il.white},f.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),nt=u("editorWidget.foreground",{dark:n,light:n,hcDark:n,hcLight:n},f.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),He=u("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:w,hcLight:w},f.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),De=u("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},f.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),pt=u("quickInput.background",{dark:we,light:we,hcDark:we,hcLight:we},f.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),lt=u("quickInput.foreground",{dark:nt,light:nt,hcDark:nt,hcLight:nt},f.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ht=u("quickInputTitle.background",{dark:new t.Il(new t.VS(255,255,255,.105)),light:new t.Il(new t.VS(0,0,0,.06)),hcDark:"#000000",hcLight:t.Il.white},f.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Xt=u("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:t.Il.white,hcLight:"#0F4A85"},f.NC("pickerGroupForeground","Quick picker color for grouping labels.")),ut=u("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:t.Il.white,hcLight:"#0F4A85"},f.NC("pickerGroupBorder","Quick picker color for grouping borders.")),an=u("keybindingLabel.background",{dark:new t.Il(new t.VS(128,128,128,.17)),light:new t.Il(new t.VS(221,221,221,.4)),hcDark:t.Il.transparent,hcLight:t.Il.transparent},f.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Kn=u("keybindingLabel.foreground",{dark:t.Il.fromHex("#CCCCCC"),light:t.Il.fromHex("#555555"),hcDark:t.Il.white,hcLight:n},f.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Gn=u("keybindingLabel.border",{dark:new t.Il(new t.VS(51,51,51,.6)),light:new t.Il(new t.VS(204,204,204,.4)),hcDark:new t.Il(new t.VS(111,195,223)),hcLight:w},f.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),li=u("keybindingLabel.bottomBorder",{dark:new t.Il(new t.VS(68,68,68,.6)),light:new t.Il(new t.VS(187,187,187,.4)),hcDark:new t.Il(new t.VS(111,195,223)),hcLight:n},f.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),fi=u("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},f.NC("editorSelectionBackground","Color of the editor selection.")),ri=u("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:t.Il.white},f.NC("editorSelectionForeground","Color of the selected text for high contrast.")),_i=u("editor.inactiveSelectionBackground",{light:Yi(fi,.5),dark:Yi(fi,.5),hcDark:Yi(fi,.7),hcLight:Yi(fi,.5)},f.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Xi=u("editor.selectionHighlightBackground",{light:Fs(fi,Le,.3,.6),dark:Fs(fi,Le,.3,.6),hcDark:null,hcLight:null},f.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Zi=u("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:E,hcLight:E},f.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),vo=u("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},f.NC("editorFindMatch","Color of the current search match.")),oo=u("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},f.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),yo=u("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},f.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Lo=u("editor.findMatchBorder",{light:null,dark:null,hcDark:E,hcLight:E},f.NC("editorFindMatchBorder","Border color of the current search match.")),oi=u("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:E,hcLight:E},f.NC("findMatchHighlightBorder","Border color of the other search matches.")),en=u("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Yi(E,.4),hcLight:Yi(E,.4)},f.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),$t=(u("searchEditor.findMatchBackground",{light:Yi(oo,.66),dark:Yi(oo,.66),hcDark:oo,hcLight:oo},f.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),u("searchEditor.findMatchBorder",{light:Yi(oi,.66),dark:Yi(oi,.66),hcDark:oi,hcLight:oi},f.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),u("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},f.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),tn=u("editorHoverWidget.background",{light:we,dark:we,hcDark:we,hcLight:we},f.NC("hoverBackground","Background color of the editor hover.")),cn=u("editorHoverWidget.foreground",{light:nt,dark:nt,hcDark:nt,hcLight:nt},f.NC("hoverForeground","Foreground color of the editor hover.")),Cn=u("editorHoverWidget.border",{light:He,dark:He,hcDark:He,hcLight:He},f.NC("hoverBorder","Border color of the editor hover.")),Pn=u("editorHoverWidget.statusBarBackground",{dark:Us(tn,.2),light:ar(tn,.05),hcDark:we,hcLight:we},f.NC("statusBarBackground","Background color of the editor hover status bar.")),Hn=u("editorLink.activeForeground",{dark:"#4E94CE",light:t.Il.blue,hcDark:t.Il.cyan,hcLight:"#292929"},f.NC("activeLinkForeground","Color of active links.")),zn=u("editorInlayHint.foreground",{dark:Yi(ye,.8),light:Yi(ye,.8),hcDark:ye,hcLight:ye},f.NC("editorInlayHintForeground","Foreground color of inline hints")),bi=u("editorInlayHint.background",{dark:Yi(Q,.6),light:Yi(Q,.3),hcDark:Q,hcLight:Q},f.NC("editorInlayHintBackground","Background color of inline hints")),Ei=u("editorInlayHint.typeForeground",{dark:zn,light:zn,hcDark:zn,hcLight:zn},f.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),ao=u("editorInlayHint.typeBackground",{dark:bi,light:bi,hcDark:bi,hcLight:bi},f.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Oi=u("editorInlayHint.parameterForeground",{dark:zn,light:zn,hcDark:zn,hcLight:zn},f.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Qi=u("editorInlayHint.parameterBackground",{dark:bi,light:bi,hcDark:bi,hcLight:bi},f.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Wi=u("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},f.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),xo=u("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),ro=new t.Il(new t.VS(155,185,85,.2)),Co=new t.Il(new t.VS(255,0,0,.2)),Mo=u("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},f.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Oo=u("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},f.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ko=u("diffEditor.insertedLineBackground",{dark:ro,light:ro,hcDark:null,hcLight:null},f.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),so=u("diffEditor.removedLineBackground",{dark:Co,light:Co,hcDark:null,hcLight:null},f.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Do=u("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Ho=u("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),ni=u("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Zt=u("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),sn=u("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},f.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),dn=u("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},f.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),Bn=u("diffEditor.border",{dark:null,light:null,hcDark:w,hcLight:w},f.NC("diffEditorBorder","Border color between the two text editors.")),An=u("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},f.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),un=u("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ht=u("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Kt=u("list.focusOutline",{dark:m,light:m,hcDark:E,hcLight:E},f.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nn=u("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Dn=u("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},f.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),In=u("list.activeSelectionForeground",{dark:t.Il.white,light:t.Il.white,hcDark:null,hcLight:null},f.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),bn=u("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ct=u("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},f.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Wt=u("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),jt=u("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Yt=u("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gn=u("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Be=u("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},f.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),_t=u("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),vn=u("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},f.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),$n=u("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:m,hcLight:m},f.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Pi=u("list.focusHighlightForeground",{dark:$n,light:function xr(mo,Vo,Ds){return{op:5,if:mo,then:Vo,else:Ds}}(Dn,$n,"#BBE7FF"),hcDark:$n,hcLight:$n},f.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),F=(u("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},f.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),u("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},f.NC("listErrorForeground","Foreground color of list items containing errors.")),u("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},f.NC("listWarningForeground","Foreground color of list items containing warnings.")),u("listFilterWidget.background",{light:ar(we,0),dark:Us(we,0),hcDark:we,hcLight:we},f.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),ee=u("listFilterWidget.outline",{dark:t.Il.transparent,light:t.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},f.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),_e=u("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:w,hcLight:w},f.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Qe=u("listFilterWidget.shadow",{dark:O,light:O,hcDark:O,hcLight:O},f.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),rn=(u("list.filterMatchBackground",{dark:oo,light:oo,hcDark:null,hcLight:null},f.NC("listFilterMatchHighlight","Background color of the filtered match.")),u("list.filterMatchBorder",{dark:oi,light:oi,hcDark:w,hcLight:E},f.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),u("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},f.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),Gt=u("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},f.NC("tableColumnsBorder","Table border color between columns.")),wn=u("tree.tableOddRowsBackground",{dark:Yi(n,.04),light:Yi(n,.04),hcDark:null,hcLight:null},f.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),xn=(u("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},f.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),u("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,f.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Wn=u("quickInputList.focusForeground",{dark:In,light:In,hcDark:In,hcLight:In},f.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Xn=u("quickInputList.focusIconForeground",{dark:bn,light:bn,hcDark:bn,hcLight:bn},f.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),si=u("quickInputList.focusBackground",{dark:fr(xn,Dn),light:fr(xn,Dn),hcDark:null,hcLight:null},f.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),ci=u("menu.border",{dark:null,light:null,hcDark:w,hcLight:w},f.NC("menuBorder","Border color of menus.")),Ci=u("menu.foreground",{dark:Fe,light:n,hcDark:Fe,hcLight:Fe},f.NC("menuForeground","Foreground color of menu items.")),Li=u("menu.background",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},f.NC("menuBackground","Background color of menu items.")),Ji=u("menu.selectionForeground",{dark:In,light:In,hcDark:In,hcLight:In},f.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),uo=u("menu.selectionBackground",{dark:Dn,light:Dn,hcDark:Dn,hcLight:Dn},f.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),ho=u("menu.selectionBorder",{dark:null,light:null,hcDark:E,hcLight:E},f.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Ui=u("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:w,hcLight:w},f.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Mn=u("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},f.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),gi=(u("toolbar.hoverOutline",{dark:null,light:null,hcDark:E,hcLight:E},f.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),u("toolbar.activeBackground",{dark:Us(Mn,.1),light:ar(Mn,.1),hcDark:null,hcLight:null},f.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),u("editor.snippetTabstopHighlightBackground",{dark:new t.Il(new t.VS(124,124,124,.3)),light:new t.Il(new t.VS(10,50,100,.2)),hcDark:new t.Il(new t.VS(124,124,124,.3)),hcLight:new t.Il(new t.VS(10,50,100,.2))},f.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),u("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),u("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),u("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new t.Il(new t.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},f.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),u("breadcrumb.foreground",{light:Yi(n,.8),dark:Yi(n,.8),hcDark:Yi(n,.8),hcLight:Yi(n,.8)},f.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),u("breadcrumb.background",{light:Le,dark:Le,hcDark:Le,hcLight:Le},f.NC("breadcrumbsBackground","Background color of breadcrumb items.")),u("breadcrumb.focusForeground",{light:ar(n,.2),dark:Us(n,.1),hcDark:Us(n,.1),hcLight:Us(n,.1)},f.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),u("breadcrumb.activeSelectionForeground",{light:ar(n,.2),dark:Us(n,.1),hcDark:Us(n,.1),hcLight:Us(n,.1)},f.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),u("breadcrumbPicker.background",{light:we,dark:we,hcDark:we,hcLight:we},f.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),t.Il.fromHex("#40C8AE").transparent(.5)),Di=t.Il.fromHex("#40A6FF").transparent(.5),Ai=t.Il.fromHex("#606060").transparent(.4),ui=.4,Hi=u("merge.currentHeaderBackground",{dark:gi,light:gi,hcDark:null,hcLight:null},f.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),fo=(u("merge.currentContentBackground",{dark:Yi(Hi,ui),light:Yi(Hi,ui),hcDark:Yi(Hi,ui),hcLight:Yi(Hi,ui)},f.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),u("merge.incomingHeaderBackground",{dark:Di,light:Di,hcDark:null,hcLight:null},f.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),_s=(u("merge.incomingContentBackground",{dark:Yi(fo,ui),light:Yi(fo,ui),hcDark:Yi(fo,ui),hcLight:Yi(fo,ui)},f.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),u("merge.commonHeaderBackground",{dark:Ai,light:Ai,hcDark:null,hcLight:null},f.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Go=(u("merge.commonContentBackground",{dark:Yi(_s,ui),light:Yi(_s,ui),hcDark:Yi(_s,ui),hcLight:Yi(_s,ui)},f.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),u("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},f.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),os=(u("editorOverviewRuler.currentContentForeground",{dark:Yi(Hi,1),light:Yi(Hi,1),hcDark:Go,hcLight:Go},f.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),u("editorOverviewRuler.incomingContentForeground",{dark:Yi(fo,1),light:Yi(fo,1),hcDark:Go,hcLight:Go},f.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),u("editorOverviewRuler.commonContentForeground",{dark:Yi(_s,1),light:Yi(_s,1),hcDark:Go,hcLight:Go},f.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),u("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},f.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),Bs=u("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},f.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ms=u("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},f.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ns=u("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},f.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),qs=u("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},f.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),jr=u("minimap.errorHighlight",{dark:new t.Il(new t.VS(255,18,18,.7)),light:new t.Il(new t.VS(255,18,18,.7)),hcDark:new t.Il(new t.VS(255,50,50,1)),hcLight:"#B5200D"},f.NC("minimapError","Minimap marker color for errors.")),Kr=u("minimap.warningHighlight",{dark:Bt,light:Bt,hcDark:Lt,hcLight:Lt},f.NC("overviewRuleWarning","Minimap marker color for warnings.")),Sr=u("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("minimapBackground","Minimap background color.")),Ws=u("minimap.foregroundOpacity",{dark:t.Il.fromHex("#000f"),light:t.Il.fromHex("#000f"),hcDark:t.Il.fromHex("#000f"),hcLight:t.Il.fromHex("#000f")},f.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Ir=u("minimapSlider.background",{light:Yi(ft,.5),dark:Yi(ft,.5),hcDark:Yi(ft,.5),hcLight:Yi(ft,.5)},f.NC("minimapSliderBackground","Minimap slider background color.")),ds=u("minimapSlider.hoverBackground",{light:Yi(dt,.5),dark:Yi(dt,.5),hcDark:Yi(dt,.5),hcLight:Yi(dt,.5)},f.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),rr=u("minimapSlider.activeBackground",{light:Yi(it,.5),dark:Yi(it,.5),hcDark:Yi(it,.5),hcLight:Yi(it,.5)},f.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),er=u("problemsErrorIcon.foreground",{dark:St,light:St,hcDark:St,hcLight:St},f.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Qs=u("problemsWarningIcon.foreground",{dark:Bt,light:Bt,hcDark:Bt,hcLight:Bt},f.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),is=u("problemsInfoIcon.foreground",{dark:Tt,light:Tt,hcDark:Tt,hcLight:Tt},f.NC("problemsInfoIconForeground","The color used for the problems info icon."));function ar(mo,Vo){return{op:0,value:mo,factor:Vo}}function Us(mo,Vo){return{op:1,value:mo,factor:Vo}}function Yi(mo,Vo){return{op:2,value:mo,factor:Vo}}function fr(...mo){return{op:3,values:mo}}function Fs(mo,Vo,Ds,ws){return{op:4,value:mo,background:Vo,factor:Ds,transparency:ws}}function Ss(mo,Vo){if(null!==mo){if("string"==typeof mo)return"#"===mo[0]?t.Il.fromHex(mo):Vo.getColor(mo);if(mo instanceof t.Il)return mo;if("object"==typeof mo)return function zr(mo,Vo){var Ds,ws,Es;switch(mo.op){case 0:return null===(Ds=Ss(mo.value,Vo))||void 0===Ds?void 0:Ds.darken(mo.factor);case 1:return null===(ws=Ss(mo.value,Vo))||void 0===ws?void 0:ws.lighten(mo.factor);case 2:return null===(Es=Ss(mo.value,Vo))||void 0===Es?void 0:Es.transparent(mo.factor);case 3:for(const gs of mo.values){const Cs=Ss(gs,Vo);if(Cs)return Cs}return;case 5:return Ss(Vo.defines(mo.if)?mo.then:mo.else,Vo);case 4:{const gs=Ss(mo.value,Vo);if(!gs)return;const Cs=Ss(mo.background,Vo);return Cs?gs.isDarkerThan(Cs)?t.Il.getLighterColor(gs,Cs,mo.factor).transparent(mo.transparency):t.Il.getDarkerColor(gs,Cs,mo.factor).transparent(mo.transparency):gs.transparent(mo.factor*mo.transparency)}default:throw(0,C.vE)(mo)}}(mo,Vo)}}u("charts.foreground",{dark:n,light:n,hcDark:n,hcLight:n},f.NC("chartsForeground","The foreground color used in charts.")),u("charts.lines",{dark:Yi(n,.5),light:Yi(n,.5),hcDark:Yi(n,.5),hcLight:Yi(n,.5)},f.NC("chartsLines","The color used for horizontal lines in charts.")),u("charts.red",{dark:St,light:St,hcDark:St,hcLight:St},f.NC("chartsRed","The red color used in chart visualizations.")),u("charts.blue",{dark:Tt,light:Tt,hcDark:Tt,hcLight:Tt},f.NC("chartsBlue","The blue color used in chart visualizations.")),u("charts.yellow",{dark:Bt,light:Bt,hcDark:Bt,hcLight:Bt},f.NC("chartsYellow","The yellow color used in chart visualizations.")),u("charts.orange",{dark:Ms,light:Ms,hcDark:Ms,hcLight:Ms},f.NC("chartsOrange","The orange color used in chart visualizations.")),u("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},f.NC("chartsGreen","The green color used in chart visualizations.")),u("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f.NC("chartsPurple","The purple color used in chart visualizations."));const ir="vscode://schemas/workbench-colors",Br=b.B.as(I.I.JSONContribution);Br.registerSchema(ir,r.getColorSchema());const $r=new s.pY(()=>Br.notifySchemaChanged(ir),200);r.onDidChangeSchema(()=>{$r.isScheduled()||$r.schedule()})},68762:(yt,T,e)=>{"use strict";e.d(T,{Ks:()=>y,q5:()=>d,s_:()=>E});var r,a,W,s=e(41883),t=e(51153),l=e(31864),C=e(22070),f=e(56740),I=e(1200),b=e(84783),S=e(25468),D=e(14089);(r||(r={})).getDefinition=function H(z,N){let O=z.defaults;for(;D.kS.isThemeIcon(O);){const K=n.getIcon(O.id);if(!K)return;O=K.defaults}return O},(W=a||(a={})).toJSONObject=function H(N){return{weight:N.weight,style:N.style,src:N.src.map(O=>({format:O.format,location:O.location.toString()}))}},W.fromJSONObject=function z(N){const O=K=>(0,C.HD)(K)?K:void 0;if(N&&Array.isArray(N.src)&&N.src.every(K=>(0,C.HD)(K.format)&&(0,C.HD)(K.location)))return{weight:O(N.weight),style:O(N.style),src:N.src.map(K=>({format:K.format,location:f.o.parse(K.location)}))}};const n=new class u{constructor(){this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,I.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,I.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${t.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(H,z,N,O){const K=this.iconsById[H];if(K){if(N&&!K.description){K.description=N,this.iconSchema.properties[H].markdownDescription=`${N} $(${H})`;const q=this.iconReferenceSchema.enum.indexOf(H);-1!==q&&(this.iconReferenceSchema.enumDescriptions[q]=N),this._onDidChange.fire()}return K}this.iconsById[H]={id:H,description:N,defaults:z,deprecationMessage:O};const j={$ref:"#/definitions/icons"};return O&&(j.deprecationMessage=O),N&&(j.markdownDescription=`${N}: $(${H})`),this.iconSchema.properties[H]=j,this.iconReferenceSchema.enum.push(H),this.iconReferenceSchema.enumDescriptions.push(N||""),this._onDidChange.fire(),{id:H}}getIcons(){return Object.keys(this.iconsById).map(H=>this.iconsById[H])}getIcon(H){return this.iconsById[H]}getIconSchema(){return this.iconSchema}toString(){const H=(K,$)=>K.id.localeCompare($.id),z=K=>{for(;D.kS.isThemeIcon(K.defaults);)K=this.iconsById[K.defaults.id];return`codicon codicon-${K?K.id:""}`},N=[];N.push("| preview     | identifier                        | default codicon ID                | description"),N.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const O=Object.keys(this.iconsById).map(K=>this.iconsById[K]);for(const K of O.filter($=>!!$.description).sort(H))N.push(`|<i class="${z(K)}"></i>|${K.id}|${D.kS.isThemeIcon(K.defaults)?K.defaults.id:K.id}|${K.description||""}|`);N.push("| preview     | identifier                        "),N.push("| ----------- | --------------------------------- |");for(const K of O.filter($=>!D.kS.isThemeIcon($.defaults)).sort(H))N.push(`|<i class="${z(K)}"></i>|${K.id}|`);return N.join("\n")}};function d(W,H,z,N){return n.registerIcon(W,H,z,N)}function y(){return n}S.B.add("base.contributions.icons",n),function g(){for(const W of t.lA.getAll())n.registerIcon(W.id,W.definition,W.description)}();const v="vscode://schemas/icons",m=S.B.as(b.I.JSONContribution);m.registerSchema(v,n.getIconSchema());const w=new s.pY(()=>m.notifySchemaChanged(v),200);n.onDidChange(()=>{w.isScheduled()||w.schedule()});const E=d("widget-close",t.lA.close,(0,I.NC)("widgetClose","Icon for the close action in widgets."));d("goto-previous-location",t.lA.arrowUp,(0,I.NC)("previousChangeIcon","Icon for goto previous editor location.")),d("goto-next-location",t.lA.arrowDown,(0,I.NC)("nextChangeIcon","Icon for goto next editor location.")),D.kS.modify(t.lA.sync,"spin"),D.kS.modify(t.lA.loading,"spin")},73516:(yt,T,e)=>{"use strict";e.d(T,{Jl:()=>f,O2:()=>I,WZ:()=>C,o:()=>t,tj:()=>S});var s=e(6192);function t(D,_){const r=Object.create(null);for(const a in _){const u=_[a];u&&(r[a]=(0,s.Snq)(u,D))}return r}function l(D,_,r){function a(){const u=t(D.getColorTheme(),_);"function"==typeof r?r(u):r.style(u)}return a(),D.onDidColorThemeChange(a)}function C(D,_,r){return l(_,{badgeBackground:r?.badgeBackground||s.g8u,badgeForeground:r?.badgeForeground||s.qeD,badgeBorder:s.lRK},D)}function f(D,_,r){return l(_,Object.assign(Object.assign({},I),r||{}),D)}const I={listFocusBackground:s._bK,listFocusForeground:s._2n,listFocusOutline:s.Oop,listActiveSelectionBackground:s.dCr,listActiveSelectionForeground:s.M6C,listActiveSelectionIconForeground:s.Tnx,listFocusAndSelectionOutline:s.Bqu,listFocusAndSelectionBackground:s.dCr,listFocusAndSelectionForeground:s.M6C,listInactiveSelectionBackground:s.rg2,listInactiveSelectionIconForeground:s.kvU,listInactiveSelectionForeground:s.ytC,listInactiveFocusBackground:s.s$,listInactiveFocusOutline:s.F3d,listHoverBackground:s.mV1,listHoverForeground:s.$d5,listDropBackground:s.AS1,listSelectionOutline:s.xL1,listHoverOutline:s.xL1,listFilterWidgetBackground:s.vGG,listFilterWidgetOutline:s.oSI,listFilterWidgetNoMatchesOutline:s.Saq,listFilterWidgetShadow:s.y65,treeIndentGuidesStroke:s.UnT,tableColumnsBorder:s.uxu,tableOddRowsBackgroundColor:s.EQn,inputActiveOptionBorder:s.PRb,inputActiveOptionForeground:s.Pvw,inputActiveOptionBackground:s.XEs,inputBackground:s.sEe,inputForeground:s.zJb,inputBorder:s.dt_,inputValidationInfoBackground:s._lC,inputValidationInfoForeground:s.YI3,inputValidationInfoBorder:s.EPQ,inputValidationWarningBackground:s.RV_,inputValidationWarningForeground:s.SUG,inputValidationWarningBorder:s.C3g,inputValidationErrorBackground:s.paE,inputValidationErrorForeground:s._t9,inputValidationErrorBorder:s.OZR},b={shadowColor:s.rh,borderColor:s.Cdg,foregroundColor:s.DEr,backgroundColor:s.Hz8,selectionForegroundColor:s.jbW,selectionBackgroundColor:s.$DX,selectionBorderColor:s.E3h,separatorColor:s.ZGJ,scrollbarShadow:s._wn,scrollbarSliderBackground:s.etL,scrollbarSliderHoverBackground:s.ABB,scrollbarSliderActiveBackground:s.ynu};function S(D,_,r){return l(_,Object.assign(Object.assign({},b),r),D)}},65206:(yt,T,e)=>{"use strict";e.d(T,{_T:()=>l,c3:()=>t,eL:()=>s});var s=(()=>((s=s||{}).DARK="dark",s.LIGHT="light",s.HIGH_CONTRAST_DARK="hcDark",s.HIGH_CONTRAST_LIGHT="hcLight",s))();function t(C){return C===s.HIGH_CONTRAST_DARK||C===s.HIGH_CONTRAST_LIGHT}function l(C){return C===s.DARK||C===s.HIGH_CONTRAST_DARK}},14089:(yt,T,e)=>{"use strict";e.d(T,{EN:()=>D,IP:()=>a,Ic:()=>d,XE:()=>b,bB:()=>y,kS:()=>_,m6:()=>r});var s=e(51153),t=e(31864),l=e(21576),C=e(30888),f=e(25468),I=e(65206);const b=(0,C.yh)("themeService");var S,_;function D(g){return{id:g}}function r(g){switch(g){case I.eL.DARK:return"vs-dark";case I.eL.HIGH_CONTRAST_DARK:return"hc-black";case I.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}(S||(S={})).isThemeColor=function v(m){return m&&"object"==typeof m&&"string"==typeof m.id},function(g){g.isThemeIcon=function v(W){return W&&"object"==typeof W&&"string"==typeof W.id&&(typeof W.color>"u"||S.isThemeColor(W.color))};const m=new RegExp(`^\\$\\((${s.dT.iconNameExpression}(?:${s.dT.iconModifierExpression})?)\\)$`);g.fromString=function w(W){const H=m.exec(W);if(!H)return;const[,z]=H;return{id:z}},g.fromId=function E(W){return{id:W}},g.modify=function L(W,H){let z=W.id;const N=z.lastIndexOf("~");return-1!==N&&(z=z.substring(0,N)),H&&(z=`${z}~${H}`),{id:z}},g.getModifier=function x(W){const H=W.id.lastIndexOf("~");if(-1!==H)return W.id.substring(H+1)},g.isEqual=function A(W,H){var z,N;return W.id===H.id&&(null===(z=W.color)||void 0===z?void 0:z.id)===(null===(N=H.color)||void 0===N?void 0:N.id)},g.asThemeIcon=function k(W,H){return{id:W.id,color:H?D(H):void 0}},g.asClassNameArray=s.dT.asClassNameArray,g.asClassName=s.dT.asClassName,g.asCSSSelector=s.dT.asCSSSelector}(_||(_={}));const a={ThemingContribution:"base.contributions.theming"},n=new class u{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new t.Q5}onColorThemeChange(v){return this.themingParticipants.push(v),this.onThemingParticipantAddedEmitter.fire(v),(0,l.OF)(()=>{const m=this.themingParticipants.indexOf(v);this.themingParticipants.splice(m,1)})}getThemingParticipants(){return this.themingParticipants}};function d(g){return n.onColorThemeChange(g)}f.B.add(a.ThemingContribution,n);class y extends l.JT{constructor(v){super(),this.themeService=v,this.theme=v.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(m=>this.onThemeChange(m)))}onThemeChange(v){this.theme=v,this.updateStyles()}updateStyles(){}}},87532:(yt,T,e)=>{"use strict";e.d(T,{Xt:()=>C,YO:()=>l,gJ:()=>f,tJ:()=>t});const t=(0,e(30888).yh)("undoRedoService");class l{constructor(b,S){this.resource=b,this.elements=S}}class C{constructor(){this.id=C._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}C._ID=0,C.None=new C;class f{constructor(){this.id=f._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}f._ID=0,f.None=new f},83310:(yt,T,e)=>{"use strict";e.d(T,{A6:()=>_,eb:()=>I,ec:()=>f,j$:()=>S,md:()=>D,uT:()=>b});var s=e(1200),t=e(63312),l=e(56740);const f=(0,e(30888).yh)("contextService");function I(a){const u=a;return"string"==typeof u?.id&&l.o.isUri(u.uri)}function b(a){return a.configuration?{id:a.id,configPath:a.configuration}:1===a.folders.length?{id:a.id,uri:a.folders[0].uri}:void 0}class S{constructor(u,n,d,y,g){this._id=u,this._transient=d,this._configuration=y,this._ignorePathCasing=g,this._foldersMap=t.Id.forUris(this._ignorePathCasing,()=>!0),this.folders=n}get folders(){return this._folders}set folders(u){this._folders=u,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(u){this._configuration=u}getFolder(u){return u&&this._foldersMap.findSubstr(u)||null}updateFoldersMap(){this._foldersMap=t.Id.forUris(this._ignorePathCasing,()=>!0);for(const u of this.folders)this._foldersMap.set(u.uri,u)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class D{constructor(u,n){this.raw=n,this.uri=u.uri,this.index=u.index,this.name=u.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const _="code-workspace";(0,s.NC)("codeWorkspace","Code Workspace")},61573:(yt,T,e)=>{"use strict";e.d(T,{Y:()=>t});const t=(0,e(30888).yh)("workspaceTrustManagementService")},85024:(yt,T,e)=>{"use strict";var s=e(71330);function t(I){if("string"!=typeof I)throw new TypeError("Path must be a string. Received "+JSON.stringify(I))}function l(I,b){for(var a,S="",D=0,_=-1,r=0,u=0;u<=I.length;++u){if(u<I.length)a=I.charCodeAt(u);else{if(47===a)break;a=47}if(47===a){if(_!==u-1&&1!==r)if(_!==u-1&&2===r){if(S.length<2||2!==D||46!==S.charCodeAt(S.length-1)||46!==S.charCodeAt(S.length-2))if(S.length>2){var n=S.lastIndexOf("/");if(n!==S.length-1){-1===n?(S="",D=0):D=(S=S.slice(0,n)).length-1-S.lastIndexOf("/"),_=u,r=0;continue}}else if(2===S.length||1===S.length){S="",D=0,_=u,r=0;continue}b&&(S.length>0?S+="/..":S="..",D=2)}else S.length>0?S+="/"+I.slice(_+1,u):S=I.slice(_+1,u),D=u-_-1;_=u,r=0}else 46===a&&-1!==r?++r:r=-1}return S}var f={resolve:function(){for(var D,b="",S=!1,_=arguments.length-1;_>=-1&&!S;_--){var r;_>=0?r=arguments[_]:(void 0===D&&(D=s.cwd()),r=D),t(r),0!==r.length&&(b=r+"/"+b,S=47===r.charCodeAt(0))}return b=l(b,!S),S?b.length>0?"/"+b:"/":b.length>0?b:"."},normalize:function(b){if(t(b),0===b.length)return".";var S=47===b.charCodeAt(0),D=47===b.charCodeAt(b.length-1);return 0===(b=l(b,!S)).length&&!S&&(b="."),b.length>0&&D&&(b+="/"),S?"/"+b:b},isAbsolute:function(b){return t(b),b.length>0&&47===b.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var b,S=0;S<arguments.length;++S){var D=arguments[S];t(D),D.length>0&&(void 0===b?b=D:b+="/"+D)}return void 0===b?".":f.normalize(b)},relative:function(b,S){if(t(b),t(S),b===S||(b=f.resolve(b))===(S=f.resolve(S)))return"";for(var D=1;D<b.length&&47===b.charCodeAt(D);++D);for(var _=b.length,r=_-D,a=1;a<S.length&&47===S.charCodeAt(a);++a);for(var n=S.length-a,d=r<n?r:n,y=-1,g=0;g<=d;++g){if(g===d){if(n>d){if(47===S.charCodeAt(a+g))return S.slice(a+g+1);if(0===g)return S.slice(a+g)}else r>d&&(47===b.charCodeAt(D+g)?y=g:0===g&&(y=0));break}var v=b.charCodeAt(D+g);if(v!==S.charCodeAt(a+g))break;47===v&&(y=g)}var w="";for(g=D+y+1;g<=_;++g)(g===_||47===b.charCodeAt(g))&&(w+=0===w.length?"..":"/..");return w.length>0?w+S.slice(a+y):(47===S.charCodeAt(a+=y)&&++a,S.slice(a))},_makeLong:function(b){return b},dirname:function(b){if(t(b),0===b.length)return".";for(var S=b.charCodeAt(0),D=47===S,_=-1,r=!0,a=b.length-1;a>=1;--a)if(47===(S=b.charCodeAt(a))){if(!r){_=a;break}}else r=!1;return-1===_?D?"/":".":D&&1===_?"//":b.slice(0,_)},basename:function(b,S){if(void 0!==S&&"string"!=typeof S)throw new TypeError('"ext" argument must be a string');t(b);var a,D=0,_=-1,r=!0;if(void 0!==S&&S.length>0&&S.length<=b.length){if(S.length===b.length&&S===b)return"";var u=S.length-1,n=-1;for(a=b.length-1;a>=0;--a){var d=b.charCodeAt(a);if(47===d){if(!r){D=a+1;break}}else-1===n&&(r=!1,n=a+1),u>=0&&(d===S.charCodeAt(u)?-1==--u&&(_=a):(u=-1,_=n))}return D===_?_=n:-1===_&&(_=b.length),b.slice(D,_)}for(a=b.length-1;a>=0;--a)if(47===b.charCodeAt(a)){if(!r){D=a+1;break}}else-1===_&&(r=!1,_=a+1);return-1===_?"":b.slice(D,_)},extname:function(b){t(b);for(var S=-1,D=0,_=-1,r=!0,a=0,u=b.length-1;u>=0;--u){var n=b.charCodeAt(u);if(47!==n)-1===_&&(r=!1,_=u+1),46===n?-1===S?S=u:1!==a&&(a=1):-1!==S&&(a=-1);else if(!r){D=u+1;break}}return-1===S||-1===_||0===a||1===a&&S===_-1&&S===D+1?"":b.slice(S,_)},format:function(b){if(null===b||"object"!=typeof b)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof b);return function C(I,b){var S=b.dir||b.root,D=b.base||(b.name||"")+(b.ext||"");return S?S===b.root?S+D:S+I+D:D}("/",b)},parse:function(b){t(b);var S={root:"",dir:"",base:"",ext:"",name:""};if(0===b.length)return S;var r,D=b.charCodeAt(0),_=47===D;_?(S.root="/",r=1):r=0;for(var a=-1,u=0,n=-1,d=!0,y=b.length-1,g=0;y>=r;--y)if(47!==(D=b.charCodeAt(y)))-1===n&&(d=!1,n=y+1),46===D?-1===a?a=y:1!==g&&(g=1):-1!==a&&(g=-1);else if(!d){u=y+1;break}return-1===a||-1===n||0===g||1===g&&a===n-1&&a===u+1?-1!==n&&(S.base=S.name=b.slice(0===u&&_?1:u,n)):(0===u&&_?(S.name=b.slice(1,a),S.base=b.slice(1,n)):(S.name=b.slice(u,a),S.base=b.slice(u,n)),S.ext=b.slice(a,n)),u>0?S.dir=b.slice(0,u-1):_&&(S.dir="/"),S},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,yt.exports=f},71330:yt=>{var e,s,T=yt.exports={};function t(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function C(n){if(e===setTimeout)return setTimeout(n,0);if((e===t||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch{try{return e.call(null,n,0)}catch{return e.call(this,n,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:t}catch{e=t}try{s="function"==typeof clearTimeout?clearTimeout:l}catch{s=l}}();var S,I=[],b=!1,D=-1;function _(){!b||!S||(b=!1,S.length?I=S.concat(I):D=-1,I.length&&r())}function r(){if(!b){var n=C(_);b=!0;for(var d=I.length;d;){for(S=I,I=[];++D<d;)S&&S[D].run();D=-1,d=I.length}S=null,b=!1,function f(n){if(s===clearTimeout)return clearTimeout(n);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(n);try{return s(n)}catch{try{return s.call(null,n)}catch{return s.call(this,n)}}}(n)}}function a(n,d){this.fun=n,this.array=d}function u(){}T.nextTick=function(n){var d=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)d[y-1]=arguments[y];I.push(new a(n,d)),1===I.length&&!b&&C(r)},a.prototype.run=function(){this.fun.apply(null,this.array)},T.title="browser",T.browser=!0,T.env={},T.argv=[],T.version="",T.versions={},T.on=u,T.addListener=u,T.once=u,T.off=u,T.removeListener=u,T.removeAllListeners=u,T.emit=u,T.prependListener=u,T.prependOnceListener=u,T.listeners=function(n){return[]},T.binding=function(n){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(n){throw new Error("process.chdir is not supported")},T.umask=function(){return 0}},46362:(yt,T,e)=>{"use strict";yt.exports=e(21763)},21763:function(yt,T,e){"use strict";var s=this&&this.__createBinding||(Object.create?function(S,D,_,r){void 0===r&&(r=_);var a=Object.getOwnPropertyDescriptor(D,_);(!a||("get"in a?!D.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return D[_]}}),Object.defineProperty(S,r,a)}:function(S,D,_,r){void 0===r&&(r=_),S[r]=D[_]}),t=this&&this.__exportStar||function(S,D){for(var _ in S)"default"!==_&&!Object.prototype.hasOwnProperty.call(D,_)&&s(D,S,_)};Object.defineProperty(T,"__esModule",{value:!0}),T.createMessageConnection=T.BrowserMessageWriter=T.BrowserMessageReader=void 0,e(76325).default.install();const C=e(97785);t(e(97785),T),T.BrowserMessageReader=class f extends C.AbstractMessageReader{constructor(D){super(),this._onData=new C.Emitter,this._messageListener=_=>{this._onData.fire(_.data)},D.addEventListener("error",_=>this.fireError(_)),D.onmessage=this._messageListener}listen(D){return this._onData.event(D)}},T.BrowserMessageWriter=class I extends C.AbstractMessageWriter{constructor(D){super(),this.context=D,this.errorCount=0,D.addEventListener("error",_=>this.fireError(_))}write(D){try{return this.context.postMessage(D),Promise.resolve()}catch(_){return this.handleError(_,D),Promise.reject(_)}}handleError(D,_){this.errorCount++,this.fireError(D,_,this.errorCount)}end(){}},T.createMessageConnection=function b(S,D,_,r){return void 0===_&&(_=C.NullLogger),C.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,C.createMessageConnection)(S,D,_,r)}},76325:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(88667),t=e(41296),l=e(41869),C=e(61863);class f extends C.AbstractMessageBuffer{constructor(a="utf-8"){super(a),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return f.emptyBuffer}fromString(a,u){return(new TextEncoder).encode(a)}toString(a,u){return"ascii"===u?this.asciiDecoder.decode(a):new TextDecoder(u).decode(a)}asNative(a,u){return void 0===u?a:a.slice(0,u)}allocNative(a){return new Uint8Array(a)}}f.emptyBuffer=new Uint8Array(0);class I{constructor(a){this.socket=a,this._onData=new l.Emitter,this._messageListener=u=>{u.data.arrayBuffer().then(d=>{this._onData.fire(new Uint8Array(d))},()=>{(0,s.default)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(a){return this.socket.addEventListener("close",a),t.Disposable.create(()=>this.socket.removeEventListener("close",a))}onError(a){return this.socket.addEventListener("error",a),t.Disposable.create(()=>this.socket.removeEventListener("error",a))}onEnd(a){return this.socket.addEventListener("end",a),t.Disposable.create(()=>this.socket.removeEventListener("end",a))}onData(a){return this._onData.event(a)}}class b{constructor(a){this.socket=a}onClose(a){return this.socket.addEventListener("close",a),t.Disposable.create(()=>this.socket.removeEventListener("close",a))}onError(a){return this.socket.addEventListener("error",a),t.Disposable.create(()=>this.socket.removeEventListener("error",a))}onEnd(a){return this.socket.addEventListener("end",a),t.Disposable.create(()=>this.socket.removeEventListener("end",a))}write(a,u){if("string"==typeof a){if(void 0!==u&&"utf-8"!==u)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${u}`);this.socket.send(a)}else this.socket.send(a);return Promise.resolve()}end(){this.socket.close()}}const S=new TextEncoder,D=Object.freeze({messageBuffer:Object.freeze({create:r=>new f(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,a)=>{if("utf-8"!==a.charset)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${a.charset}`);return Promise.resolve(S.encode(JSON.stringify(r,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(r,a)=>{if(!(r instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(a.charset).decode(r)))}})}),stream:Object.freeze({asReadableStream:r=>new I(r),asWritableStream:r=>new b(r)}),console,timer:Object.freeze({setTimeout(r,a,...u){const n=setTimeout(r,a,...u);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...a){const u=setTimeout(r,0,...a);return{dispose:()=>clearTimeout(u)}},setInterval(r,a,...u){const n=setInterval(r,a,...u);return{dispose:()=>clearInterval(n)}}})});function _(){return D}(_||(_={})).install=function a(){s.default.install(D)},T.default=_},97785:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.TraceFormat=T.TraceValues=T.Trace=T.ProgressType=T.ProgressToken=T.createMessageConnection=T.NullLogger=T.ConnectionOptions=T.ConnectionStrategy=T.WriteableStreamMessageWriter=T.AbstractMessageWriter=T.MessageWriter=T.ReadableStreamMessageReader=T.AbstractMessageReader=T.MessageReader=T.CancellationToken=T.CancellationTokenSource=T.Emitter=T.Event=T.Disposable=T.LRUCache=T.Touch=T.LinkedMap=T.ParameterStructures=T.NotificationType9=T.NotificationType8=T.NotificationType7=T.NotificationType6=T.NotificationType5=T.NotificationType4=T.NotificationType3=T.NotificationType2=T.NotificationType1=T.NotificationType0=T.NotificationType=T.ErrorCodes=T.ResponseError=T.RequestType9=T.RequestType8=T.RequestType7=T.RequestType6=T.RequestType5=T.RequestType4=T.RequestType3=T.RequestType2=T.RequestType1=T.RequestType0=T.RequestType=T.Message=T.RAL=void 0,T.CancellationStrategy=T.CancellationSenderStrategy=T.CancellationReceiverStrategy=T.ConnectionError=T.ConnectionErrors=T.LogTraceNotification=T.SetTraceNotification=void 0;const s=e(9604);Object.defineProperty(T,"Message",{enumerable:!0,get:function(){return s.Message}}),Object.defineProperty(T,"RequestType",{enumerable:!0,get:function(){return s.RequestType}}),Object.defineProperty(T,"RequestType0",{enumerable:!0,get:function(){return s.RequestType0}}),Object.defineProperty(T,"RequestType1",{enumerable:!0,get:function(){return s.RequestType1}}),Object.defineProperty(T,"RequestType2",{enumerable:!0,get:function(){return s.RequestType2}}),Object.defineProperty(T,"RequestType3",{enumerable:!0,get:function(){return s.RequestType3}}),Object.defineProperty(T,"RequestType4",{enumerable:!0,get:function(){return s.RequestType4}}),Object.defineProperty(T,"RequestType5",{enumerable:!0,get:function(){return s.RequestType5}}),Object.defineProperty(T,"RequestType6",{enumerable:!0,get:function(){return s.RequestType6}}),Object.defineProperty(T,"RequestType7",{enumerable:!0,get:function(){return s.RequestType7}}),Object.defineProperty(T,"RequestType8",{enumerable:!0,get:function(){return s.RequestType8}}),Object.defineProperty(T,"RequestType9",{enumerable:!0,get:function(){return s.RequestType9}}),Object.defineProperty(T,"ResponseError",{enumerable:!0,get:function(){return s.ResponseError}}),Object.defineProperty(T,"ErrorCodes",{enumerable:!0,get:function(){return s.ErrorCodes}}),Object.defineProperty(T,"NotificationType",{enumerable:!0,get:function(){return s.NotificationType}}),Object.defineProperty(T,"NotificationType0",{enumerable:!0,get:function(){return s.NotificationType0}}),Object.defineProperty(T,"NotificationType1",{enumerable:!0,get:function(){return s.NotificationType1}}),Object.defineProperty(T,"NotificationType2",{enumerable:!0,get:function(){return s.NotificationType2}}),Object.defineProperty(T,"NotificationType3",{enumerable:!0,get:function(){return s.NotificationType3}}),Object.defineProperty(T,"NotificationType4",{enumerable:!0,get:function(){return s.NotificationType4}}),Object.defineProperty(T,"NotificationType5",{enumerable:!0,get:function(){return s.NotificationType5}}),Object.defineProperty(T,"NotificationType6",{enumerable:!0,get:function(){return s.NotificationType6}}),Object.defineProperty(T,"NotificationType7",{enumerable:!0,get:function(){return s.NotificationType7}}),Object.defineProperty(T,"NotificationType8",{enumerable:!0,get:function(){return s.NotificationType8}}),Object.defineProperty(T,"NotificationType9",{enumerable:!0,get:function(){return s.NotificationType9}}),Object.defineProperty(T,"ParameterStructures",{enumerable:!0,get:function(){return s.ParameterStructures}});const t=e(58691);Object.defineProperty(T,"LinkedMap",{enumerable:!0,get:function(){return t.LinkedMap}}),Object.defineProperty(T,"LRUCache",{enumerable:!0,get:function(){return t.LRUCache}}),Object.defineProperty(T,"Touch",{enumerable:!0,get:function(){return t.Touch}});const l=e(41296);Object.defineProperty(T,"Disposable",{enumerable:!0,get:function(){return l.Disposable}});const C=e(41869);Object.defineProperty(T,"Event",{enumerable:!0,get:function(){return C.Event}}),Object.defineProperty(T,"Emitter",{enumerable:!0,get:function(){return C.Emitter}});const f=e(25159);Object.defineProperty(T,"CancellationTokenSource",{enumerable:!0,get:function(){return f.CancellationTokenSource}}),Object.defineProperty(T,"CancellationToken",{enumerable:!0,get:function(){return f.CancellationToken}});const I=e(79070);Object.defineProperty(T,"MessageReader",{enumerable:!0,get:function(){return I.MessageReader}}),Object.defineProperty(T,"AbstractMessageReader",{enumerable:!0,get:function(){return I.AbstractMessageReader}}),Object.defineProperty(T,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return I.ReadableStreamMessageReader}});const b=e(73253);Object.defineProperty(T,"MessageWriter",{enumerable:!0,get:function(){return b.MessageWriter}}),Object.defineProperty(T,"AbstractMessageWriter",{enumerable:!0,get:function(){return b.AbstractMessageWriter}}),Object.defineProperty(T,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return b.WriteableStreamMessageWriter}});const S=e(18157);Object.defineProperty(T,"ConnectionStrategy",{enumerable:!0,get:function(){return S.ConnectionStrategy}}),Object.defineProperty(T,"ConnectionOptions",{enumerable:!0,get:function(){return S.ConnectionOptions}}),Object.defineProperty(T,"NullLogger",{enumerable:!0,get:function(){return S.NullLogger}}),Object.defineProperty(T,"createMessageConnection",{enumerable:!0,get:function(){return S.createMessageConnection}}),Object.defineProperty(T,"ProgressToken",{enumerable:!0,get:function(){return S.ProgressToken}}),Object.defineProperty(T,"ProgressType",{enumerable:!0,get:function(){return S.ProgressType}}),Object.defineProperty(T,"Trace",{enumerable:!0,get:function(){return S.Trace}}),Object.defineProperty(T,"TraceValues",{enumerable:!0,get:function(){return S.TraceValues}}),Object.defineProperty(T,"TraceFormat",{enumerable:!0,get:function(){return S.TraceFormat}}),Object.defineProperty(T,"SetTraceNotification",{enumerable:!0,get:function(){return S.SetTraceNotification}}),Object.defineProperty(T,"LogTraceNotification",{enumerable:!0,get:function(){return S.LogTraceNotification}}),Object.defineProperty(T,"ConnectionErrors",{enumerable:!0,get:function(){return S.ConnectionErrors}}),Object.defineProperty(T,"ConnectionError",{enumerable:!0,get:function(){return S.ConnectionError}}),Object.defineProperty(T,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return S.CancellationReceiverStrategy}}),Object.defineProperty(T,"CancellationSenderStrategy",{enumerable:!0,get:function(){return S.CancellationSenderStrategy}}),Object.defineProperty(T,"CancellationStrategy",{enumerable:!0,get:function(){return S.CancellationStrategy}});const D=e(88667);T.RAL=D.default},25159:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CancellationTokenSource=T.CancellationToken=void 0;const s=e(88667),t=e(8939),l=e(41869);var C,S;(S=C=T.CancellationToken||(T.CancellationToken={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:l.Event.None}),S.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:l.Event.None}),S.is=function D(_){const r=_;return r&&(r===S.None||r===S.Cancelled||t.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)};const f=Object.freeze(function(S,D){const _=(0,s.default)().timer.setTimeout(S.bind(D),0);return{dispose(){_.dispose()}}});class I{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?f:(this._emitter||(this._emitter=new l.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}T.CancellationTokenSource=class b{get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token.cancel():this._token=C.Cancelled}dispose(){this._token?this._token instanceof I&&this._token.dispose():this._token=C.None}}},18157:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.createMessageConnection=T.ConnectionOptions=T.CancellationStrategy=T.CancellationSenderStrategy=T.CancellationReceiverStrategy=T.ConnectionStrategy=T.ConnectionError=T.ConnectionErrors=T.LogTraceNotification=T.SetTraceNotification=T.TraceFormat=T.TraceValues=T.Trace=T.NullLogger=T.ProgressType=T.ProgressToken=void 0;const t=e(88667),l=e(8939),C=e(9604),f=e(58691),I=e(41869),b=e(25159);var S,D,_,a,u,d,y,g,v,w,E,L,x;(S||(S={})).type=new C.NotificationType("$/cancelRequest"),(D=T.ProgressToken||(T.ProgressToken={})).is=function z(N){return"string"==typeof N||"number"==typeof N},function(H){H.type=new C.NotificationType("$/progress")}(_||(_={})),T.ProgressType=class r{constructor(){}},function(H){H.is=function z(N){return l.func(N)}}(a||(a={})),T.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(H){H[H.Off=0]="Off",H[H.Messages=1]="Messages",H[H.Compact=2]="Compact",H[H.Verbose=3]="Verbose"}(u=T.Trace||(T.Trace={})),function(H){H.Off="off",H.Messages="messages",H.Compact="compact",H.Verbose="verbose"}(T.TraceValues||(T.TraceValues={})),function(H){H.fromString=function z(O){if(!l.string(O))return H.Off;switch(O=O.toLowerCase()){case"off":default:return H.Off;case"messages":return H.Messages;case"compact":return H.Compact;case"verbose":return H.Verbose}},H.toString=function N(O){switch(O){case H.Off:return"off";case H.Messages:return"messages";case H.Compact:return"compact";case H.Verbose:return"verbose";default:return"off"}}}(u=T.Trace||(T.Trace={})),function(H){H.Text="text",H.JSON="json"}(T.TraceFormat||(T.TraceFormat={})),function(H){H.fromString=function z(N){return l.string(N)&&"json"===(N=N.toLowerCase())?H.JSON:H.Text}}(d=T.TraceFormat||(T.TraceFormat={})),function(H){H.type=new C.NotificationType("$/setTrace")}(y=T.SetTraceNotification||(T.SetTraceNotification={})),function(H){H.type=new C.NotificationType("$/logTrace")}(g=T.LogTraceNotification||(T.LogTraceNotification={})),function(H){H[H.Closed=1]="Closed",H[H.Disposed=2]="Disposed",H[H.AlreadyListening=3]="AlreadyListening"}(v=T.ConnectionErrors||(T.ConnectionErrors={}));class m extends Error{constructor(z,N){super(N),this.code=z,Object.setPrototypeOf(this,m.prototype)}}T.ConnectionError=m,function(H){H.is=function z(N){return N&&l.func(N.cancelUndispatched)}}(w=T.ConnectionStrategy||(T.ConnectionStrategy={})),function(H){H.Message=Object.freeze({createCancellationTokenSource:N=>new b.CancellationTokenSource}),H.is=function z(N){return N&&l.func(N.createCancellationTokenSource)}}(E=T.CancellationReceiverStrategy||(T.CancellationReceiverStrategy={})),function(H){H.Message=Object.freeze({sendCancellation:(N,O)=>N.sendNotification(S.type,{id:O}),cleanup(N){}}),H.is=function z(N){const O=N;return O&&l.func(O.sendCancellation)&&l.func(O.cleanup)}}(L=T.CancellationSenderStrategy||(T.CancellationSenderStrategy={})),function(H){H.Message=Object.freeze({receiver:E.Message,sender:L.Message}),H.is=function z(N){const O=N;return O&&E.is(O.receiver)&&L.is(O.sender)}}(x=T.CancellationStrategy||(T.CancellationStrategy={})),function(H){H.is=function z(N){const O=N;return O&&(x.is(O.cancellationStrategy)||w.is(O.connectionStrategy))}}(T.ConnectionOptions||(T.ConnectionOptions={}));var k=(()=>((k=k||{})[k.New=1]="New",k[k.Listening=2]="Listening",k[k.Closed=3]="Closed",k[k.Disposed=4]="Disposed",k))();T.createMessageConnection=function W(H,z,N,O){const K=void 0!==N?N:T.NullLogger;let $=0,j=0,q=0;const R="2.0";let Z;const J=new Map;let Ce;const Se=new Map,Ie=new Map;let xe,Pe,Me=new f.LinkedMap,Oe=new Map,se=new Set,ce=new Map,Ee=u.Off,me=d.Text,he=k.New;const Fe=new I.Emitter,Ze=new I.Emitter,ze=new I.Emitter,fe=new I.Emitter,Ke=new I.Emitter,Je=O&&O.cancellationStrategy?O.cancellationStrategy:x.Message;function vt(lt){if(null===lt)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+lt.toString()}function pe(lt){}function ge(){return he===k.Listening}function de(){return he===k.Closed}function Q(){return he===k.Disposed}function ye(){(he===k.New||he===k.Listening)&&(he=k.Closed,Ze.fire(void 0))}function dt(){xe||0===Me.size||(xe=(0,t.default)().timer.setImmediate(()=>{xe=void 0,function it(){if(0===Me.size)return;const lt=Me.shift();try{C.Message.isRequest(lt)?function st(lt){if(Q())return;function Ht(fi,ri,_i){const Xi={jsonrpc:R,id:lt.id};fi instanceof C.ResponseError?Xi.error=fi.toJson():Xi.result=void 0===fi?null:fi,Tt(Xi,ri,_i),z.write(Xi).catch(()=>K.error("Sending response failed."))}function Xt(fi,ri,_i){const Xi={jsonrpc:R,id:lt.id,error:fi.toJson()};Tt(Xi,ri,_i),z.write(Xi).catch(()=>K.error("Sending response failed."))}!function qt(lt){if(Ee!==u.Off&&Pe)if(me===d.Text){let Ht;(Ee===u.Verbose||Ee===u.Compact)&&lt.params&&(Ht=`Params: ${Bt(lt.params)}\n\n`),Pe.log(`Received request '${lt.method} - (${lt.id})'.`,Ht)}else rt("receive-request",lt)}(lt);const an=J.get(lt.method);let Kn,Gn;an&&(Kn=an.type,Gn=an.handler);const li=Date.now();if(Gn||Z){const fi=lt.id??String(Date.now()),ri=Je.receiver.createCancellationTokenSource(fi);null!==lt.id&&se.has(lt.id)&&ri.cancel(),null!==lt.id&&ce.set(fi,ri);try{let _i;if(Gn)if(void 0===lt.params){if(void 0!==Kn&&0!==Kn.numberOfParams)return void Xt(new C.ResponseError(C.ErrorCodes.InvalidParams,`Request ${lt.method} defines ${Kn.numberOfParams} params but received none.`),lt.method,li);_i=Gn(ri.token)}else if(Array.isArray(lt.params)){if(void 0!==Kn&&Kn.parameterStructures===C.ParameterStructures.byName)return void Xt(new C.ResponseError(C.ErrorCodes.InvalidParams,`Request ${lt.method} defines parameters by name but received parameters by position`),lt.method,li);_i=Gn(...lt.params,ri.token)}else{if(void 0!==Kn&&Kn.parameterStructures===C.ParameterStructures.byPosition)return void Xt(new C.ResponseError(C.ErrorCodes.InvalidParams,`Request ${lt.method} defines parameters by position but received parameters by name`),lt.method,li);_i=Gn(lt.params,ri.token)}else Z&&(_i=Z(lt.method,lt.params,ri.token));_i?_i.then?_i.then(Zi=>{ce.delete(fi),Ht(Zi,lt.method,li)},Zi=>{ce.delete(fi),Zi instanceof C.ResponseError?Xt(Zi,lt.method,li):Zi&&l.string(Zi.message)?Xt(new C.ResponseError(C.ErrorCodes.InternalError,`Request ${lt.method} failed with message: ${Zi.message}`),lt.method,li):Xt(new C.ResponseError(C.ErrorCodes.InternalError,`Request ${lt.method} failed unexpectedly without providing any details.`),lt.method,li)}):(ce.delete(fi),Ht(_i,lt.method,li)):(ce.delete(fi),function ut(fi,ri,_i){void 0===fi&&(fi=null);const Xi={jsonrpc:R,id:lt.id,result:fi};Tt(Xi,ri,_i),z.write(Xi).catch(()=>K.error("Sending response failed."))}(_i,lt.method,li))}catch(_i){ce.delete(fi),_i instanceof C.ResponseError?Ht(_i,lt.method,li):_i&&l.string(_i.message)?Xt(new C.ResponseError(C.ErrorCodes.InternalError,`Request ${lt.method} failed with message: ${_i.message}`),lt.method,li):Xt(new C.ResponseError(C.ErrorCodes.InternalError,`Request ${lt.method} failed unexpectedly without providing any details.`),lt.method,li)}}else Xt(new C.ResponseError(C.ErrorCodes.MethodNotFound,`Unhandled method ${lt.method}`),lt.method,li)}(lt):C.Message.isNotification(lt)?function mt(lt){if(Q())return;let Ht,Xt;if(lt.method===S.type.method)return se.delete(lt.params.id),void Ot(lt);{const ut=Se.get(lt.method);ut&&(Xt=ut.handler,Ht=ut.type)}if(Xt||Ce)try{if(Ot(lt),Xt)if(void 0===lt.params)void 0!==Ht&&0!==Ht.numberOfParams&&Ht.parameterStructures!==C.ParameterStructures.byName&&K.error(`Notification ${lt.method} defines ${Ht.numberOfParams} params but received none.`),Xt();else if(Array.isArray(lt.params)){const ut=lt.params;lt.method===_.type.method&&2===ut.length&&D.is(ut[0])?Xt({token:ut[0],value:ut[1]}):(void 0!==Ht&&(Ht.parameterStructures===C.ParameterStructures.byName&&K.error(`Notification ${lt.method} defines parameters by name but received parameters by position`),Ht.numberOfParams!==lt.params.length&&K.error(`Notification ${lt.method} defines ${Ht.numberOfParams} params but received ${ut.length} arguments`)),Xt(...ut))}else void 0!==Ht&&Ht.parameterStructures===C.ParameterStructures.byPosition&&K.error(`Notification ${lt.method} defines parameters by position but received parameters by name`),Xt(lt.params);else Ce&&Ce(lt.method,lt.params)}catch(ut){K.error(ut.message?`Notification handler '${lt.method}' failed with message: ${ut.message}`:`Notification handler '${lt.method}' failed unexpectedly.`)}else ze.fire(lt)}(lt):C.Message.isResponse(lt)?function St(lt){if(!Q())if(null===lt.id)K.error(lt.error?`Received response message without id: Error is: \n${JSON.stringify(lt.error,void 0,4)}`:"Received response message without id. No further error information provided.");else{const Ht=lt.id,Xt=Oe.get(Ht);if(function Ft(lt,Ht){if(Ee!==u.Off&&Pe)if(me===d.Text){let Xt;if((Ee===u.Verbose||Ee===u.Compact)&&(lt.error&&lt.error.data?Xt=`Error data: ${Bt(lt.error.data)}\n\n`:lt.result?Xt=`Result: ${Bt(lt.result)}\n\n`:void 0===lt.error&&(Xt="No result returned.\n\n")),Ht){const ut=lt.error?` Request failed: ${lt.error.message} (${lt.error.code}).`:"";Pe.log(`Received response '${Ht.method} - (${lt.id})' in ${Date.now()-Ht.timerStart}ms.${ut}`,Xt)}else Pe.log(`Received response ${lt.id} without active response promise.`,Xt)}else rt("receive-response",lt)}(lt,Xt),void 0!==Xt){Oe.delete(Ht);try{if(lt.error){const ut=lt.error;Xt.reject(new C.ResponseError(ut.code,ut.message,ut.data))}else{if(void 0===lt.result)throw new Error("Should never happen.");Xt.resolve(lt.result)}}catch(ut){K.error(ut.message?`Response handler '${Xt.method}' failed with message: ${ut.message}`:`Response handler '${Xt.method}' failed unexpectedly.`)}}}}(lt):function bt(lt){if(!lt)return void K.error("Received empty message.");K.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(lt,null,4)}`);const Ht=lt;if(l.string(Ht.id)||l.number(Ht.id)){const ut=Oe.get(Ht.id);ut&&ut.reject(new Error("The received response has neither a result nor an error property."))}}(lt)}finally{dt()}}()}))}H.onClose(ye),H.onError(function Ae(lt){Fe.fire([lt,void 0,void 0])}),z.onClose(ye),z.onError(function ft(lt){Fe.fire(lt)});const et=lt=>{try{if(C.Message.isNotification(lt)&&lt.method===S.type.method){const Ht=lt.params.id,Xt=vt(Ht),ut=Me.get(Xt);if(C.Message.isRequest(ut)){const Kn=O?.connectionStrategy,Gn=Kn&&Kn.cancelUndispatched?Kn.cancelUndispatched(ut,pe):void 0;if(Gn&&(void 0!==Gn.error||void 0!==Gn.result))return Me.delete(Xt),ce.delete(Ht),Gn.id=ut.id,Tt(Gn,lt.method,Date.now()),void z.write(Gn).catch(()=>K.error("Sending response for canceled message failed."))}const an=ce.get(Ht);if(void 0!==an)return an.cancel(),void Ot(lt);se.add(Ht)}!function re(lt,Ht){C.Message.isRequest(Ht)?lt.set(vt(Ht.id),Ht):C.Message.isResponse(Ht)?lt.set(function Et(lt){return null===lt?"res-unknown-"+(++q).toString():"res-"+lt.toString()}(Ht.id),Ht):lt.set(function Xe(){return"not-"+(++j).toString()}(),Ht)}(Me,lt)}finally{dt()}};function Bt(lt){if(null!=lt)switch(Ee){case u.Verbose:return JSON.stringify(lt,null,4);case u.Compact:return JSON.stringify(lt);default:return}}function Tt(lt,Ht,Xt){if(Ee!==u.Off&&Pe)if(me===d.Text){let ut;(Ee===u.Verbose||Ee===u.Compact)&&(lt.error&&lt.error.data?ut=`Error data: ${Bt(lt.error.data)}\n\n`:lt.result?ut=`Result: ${Bt(lt.result)}\n\n`:void 0===lt.error&&(ut="No result returned.\n\n")),Pe.log(`Sending response '${Ht} - (${lt.id})'. Processing request took ${Date.now()-Xt}ms`,ut)}else rt("send-response",lt)}function Ot(lt){if(Ee!==u.Off&&Pe&&lt.method!==g.type.method)if(me===d.Text){let Ht;(Ee===u.Verbose||Ee===u.Compact)&&(Ht=lt.params?`Params: ${Bt(lt.params)}\n\n`:"No parameters provided.\n\n"),Pe.log(`Received notification '${lt.method}'.`,Ht)}else rt("receive-notification",lt)}function rt(lt,Ht){if(!Pe||Ee===u.Off)return;const Xt={isLSPMessage:!0,type:lt,message:Ht,timestamp:Date.now()};Pe.log(Xt)}function Le(){if(de())throw new m(v.Closed,"Connection is closed.");if(Q())throw new m(v.Disposed,"Connection is disposed.")}function oe(lt){return void 0===lt?null:lt}function we(lt){if(null!==lt)return lt}function nt(lt){return null!=lt&&!Array.isArray(lt)&&"object"==typeof lt}function He(lt,Ht){switch(lt){case C.ParameterStructures.auto:return nt(Ht)?we(Ht):[oe(Ht)];case C.ParameterStructures.byName:if(!nt(Ht))throw new Error("Received parameters by name but param is not an object literal.");return we(Ht);case C.ParameterStructures.byPosition:return[oe(Ht)];default:throw new Error(`Unknown parameter structure ${lt.toString()}`)}}function De(lt,Ht){let Xt;const ut=lt.numberOfParams;switch(ut){case 0:Xt=void 0;break;case 1:Xt=He(lt.parameterStructures,Ht[0]);break;default:Xt=[];for(let an=0;an<Ht.length&&an<ut;an++)Xt.push(oe(Ht[an]));if(Ht.length<ut)for(let an=Ht.length;an<ut;an++)Xt.push(null)}return Xt}const pt={sendNotification:(lt,...Ht)=>{let Xt,ut;if(Le(),l.string(lt)){Xt=lt;const Kn=Ht[0];let Gn=0,li=C.ParameterStructures.auto;C.ParameterStructures.is(Kn)&&(Gn=1,li=Kn);let fi=Ht.length;const ri=fi-Gn;switch(ri){case 0:ut=void 0;break;case 1:ut=He(li,Ht[Gn]);break;default:if(li===C.ParameterStructures.byName)throw new Error(`Received ${ri} parameters for 'by Name' notification parameter structure.`);ut=Ht.slice(Gn,fi).map(_i=>oe(_i))}}else Xt=lt.method,ut=De(lt,Ht);const an={jsonrpc:R,method:Xt,params:ut};return function Ye(lt){if(Ee!==u.Off&&Pe)if(me===d.Text){let Ht;(Ee===u.Verbose||Ee===u.Compact)&&(Ht=lt.params?`Params: ${Bt(lt.params)}\n\n`:"No parameters provided.\n\n"),Pe.log(`Sending notification '${lt.method}'.`,Ht)}else rt("send-notification",lt)}(an),z.write(an).catch(()=>K.error("Sending notification failed."))},onNotification:(lt,Ht)=>{let Xt;return Le(),l.func(lt)?Ce=lt:Ht&&(l.string(lt)?(Xt=lt,Se.set(lt,{type:void 0,handler:Ht})):(Xt=lt.method,Se.set(lt.method,{type:lt,handler:Ht}))),{dispose:()=>{void 0!==Xt?Se.delete(Xt):Ce=void 0}}},onProgress:(lt,Ht,Xt)=>{if(Ie.has(Ht))throw new Error(`Progress handler for token ${Ht} already registered`);return Ie.set(Ht,Xt),{dispose:()=>{Ie.delete(Ht)}}},sendProgress:(lt,Ht,Xt)=>pt.sendNotification(_.type,{token:Ht,value:Xt}),onUnhandledProgress:fe.event,sendRequest:(lt,...Ht)=>{let Xt,ut,an;if(Le(),function te(){if(!ge())throw new Error("Call listen() first.")}(),l.string(lt)){Xt=lt;const fi=Ht[0],ri=Ht[Ht.length-1];let _i=0,Xi=C.ParameterStructures.auto;C.ParameterStructures.is(fi)&&(_i=1,Xi=fi);let Zi=Ht.length;b.CancellationToken.is(ri)&&(Zi-=1,an=ri);const vo=Zi-_i;switch(vo){case 0:ut=void 0;break;case 1:ut=He(Xi,Ht[_i]);break;default:if(Xi===C.ParameterStructures.byName)throw new Error(`Received ${vo} parameters for 'by Name' request parameter structure.`);ut=Ht.slice(_i,Zi).map(oo=>oe(oo))}}else{const fi=Ht;Xt=lt.method,ut=De(lt,fi);const ri=lt.numberOfParams;an=b.CancellationToken.is(fi[ri])?fi[ri]:void 0}const Kn=$++;let Gn;return an&&(Gn=an.onCancellationRequested(()=>{const fi=Je.sender.sendCancellation(pt,Kn);return void 0===fi?(K.log(`Received no promise from cancellation strategy when cancelling id ${Kn}`),Promise.resolve()):fi.catch(()=>{K.log(`Sending cancellation messages for id ${Kn} failed`)})})),new Promise((fi,ri)=>{const _i={jsonrpc:R,id:Kn,method:Xt,params:ut};let vo={method:Xt,timerStart:Date.now(),resolve:oo=>{fi(oo),Je.sender.cleanup(Kn),Gn?.dispose()},reject:oo=>{ri(oo),Je.sender.cleanup(Kn),Gn?.dispose()}};!function Lt(lt){if(Ee!==u.Off&&Pe)if(me===d.Text){let Ht;(Ee===u.Verbose||Ee===u.Compact)&&lt.params&&(Ht=`Params: ${Bt(lt.params)}\n\n`),Pe.log(`Sending request '${lt.method} - (${lt.id})'.`,Ht)}else rt("send-request",lt)}(_i);try{z.write(_i).catch(()=>K.error("Sending request failed."))}catch(oo){vo.reject(new C.ResponseError(C.ErrorCodes.MessageWriteError,oo.message?oo.message:"Unknown reason")),vo=null}vo&&Oe.set(Kn,vo)})},onRequest:(lt,Ht)=>{Le();let Xt=null;return a.is(lt)?(Xt=void 0,Z=lt):l.string(lt)?(Xt=null,void 0!==Ht&&(Xt=lt,J.set(lt,{handler:Ht,type:void 0}))):void 0!==Ht&&(Xt=lt.method,J.set(lt.method,{type:lt,handler:Ht})),{dispose:()=>{null!==Xt&&(void 0!==Xt?J.delete(Xt):Z=void 0)}}},hasPendingResponse:()=>Oe.size>0,trace:(lt=s(function*(Ht,Xt,ut){let an=!1,Kn=d.Text;void 0!==ut&&(l.boolean(ut)?an=ut:(an=ut.sendNotification||!1,Kn=ut.traceFormat||d.Text)),Ee=Ht,me=Kn,Pe=Ee===u.Off?void 0:Xt,an&&!de()&&!Q()&&(yield pt.sendNotification(y.type,{value:u.toString(Ht)}))}),function(Xt,ut,an){return lt.apply(this,arguments)}),onError:Fe.event,onClose:Ze.event,onUnhandledNotification:ze.event,onDispose:Ke.event,end:()=>{z.end()},dispose:()=>{if(Q())return;he=k.Disposed,Ke.fire(void 0);const lt=new C.ResponseError(C.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const Ht of Oe.values())Ht.reject(lt);Oe=new Map,ce=new Map,se=new Set,Me=new f.LinkedMap,l.func(z.dispose)&&z.dispose(),l.func(H.dispose)&&H.dispose()},listen:()=>{Le(),function ie(){if(ge())throw new m(v.AlreadyListening,"Connection is already listening")}(),he=k.Listening,H.listen(et)},inspect:()=>{(0,t.default)().console.log("inspect")}};var lt;return pt.onNotification(g.type,lt=>{Ee!==u.Off&&Pe&&Pe.log(lt.message,Ee===u.Verbose||Ee===u.Compact?lt.verbose:void 0)}),pt.onNotification(_.type,lt=>{const Ht=Ie.get(lt.token);Ht?Ht(lt.value):fe.fire(lt)}),pt}},41296:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Disposable=void 0,(T.Disposable||(T.Disposable={})).create=function t(l){return{dispose:l}}},41869:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Emitter=T.Event=void 0;const s=e(88667);!function(f){const I={dispose(){}};f.None=function(){return I}}(T.Event||(T.Event={}));class l{add(I,b=null,S){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(I),this._contexts.push(b),Array.isArray(S)&&S.push({dispose:()=>this.remove(I,b)})}remove(I,b=null){if(!this._callbacks)return;let S=!1;for(let D=0,_=this._callbacks.length;D<_;D++)if(this._callbacks[D]===I){if(this._contexts[D]===b)return this._callbacks.splice(D,1),void this._contexts.splice(D,1);S=!0}if(S)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...I){if(!this._callbacks)return[];const b=[],S=this._callbacks.slice(0),D=this._contexts.slice(0);for(let _=0,r=S.length;_<r;_++)try{b.push(S[_].apply(D[_],I))}catch(a){(0,s.default)().console.error(a)}return b}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class C{constructor(I){this._options=I}get event(){return this._event||(this._event=(I,b,S)=>{this._callbacks||(this._callbacks=new l),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(I,b);const D={dispose:()=>{this._callbacks&&(this._callbacks.remove(I,b),D.dispose=C._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(S)&&S.push(D),D}),this._event}fire(I){this._callbacks&&this._callbacks.invoke.call(this._callbacks,I)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}T.Emitter=C,C._noop=function(){}},8939:(yt,T)=>{"use strict";function s(b){return"string"==typeof b||b instanceof String}function f(b){return Array.isArray(b)}Object.defineProperty(T,"__esModule",{value:!0}),T.stringArray=T.array=T.func=T.error=T.number=T.string=T.boolean=void 0,T.boolean=function e(b){return!0===b||!1===b},T.string=s,T.number=function t(b){return"number"==typeof b||b instanceof Number},T.error=function l(b){return b instanceof Error},T.func=function C(b){return"function"==typeof b},T.array=f,T.stringArray=function I(b){return f(b)&&b.every(S=>s(S))}},58691:(yt,T)=>{"use strict";var e,s,C;Object.defineProperty(T,"__esModule",{value:!0}),T.LRUCache=T.LinkedMap=T.Touch=void 0,(C=s=T.Touch||(T.Touch={})).None=0,C.First=1,C.AsOld=C.First,C.Last=2,C.AsNew=C.Last;class t{constructor(){this[e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(f){return this._map.has(f)}get(f,I=s.None){const b=this._map.get(f);if(b)return I!==s.None&&this.touch(b,I),b.value}set(f,I,b=s.None){let S=this._map.get(f);if(S)S.value=I,b!==s.None&&this.touch(S,b);else{switch(S={key:f,value:I,next:void 0,previous:void 0},b){case s.None:this.addItemLast(S);break;case s.First:this.addItemFirst(S);break;default:this.addItemLast(S)}this._map.set(f,S),this._size++}return this}delete(f){return!!this.remove(f)}remove(f){const I=this._map.get(f);if(I)return this._map.delete(f),this.removeItem(I),this._size--,I.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const f=this._head;return this._map.delete(f.key),this.removeItem(f),this._size--,f.value}forEach(f,I){const b=this._state;let S=this._head;for(;S;){if(I?f.bind(I)(S.value,S.key,this):f(S.value,S.key,this),this._state!==b)throw new Error("LinkedMap got modified during iteration.");S=S.next}}keys(){const f=this._state;let I=this._head;const b={[Symbol.iterator]:()=>b,next:()=>{if(this._state!==f)throw new Error("LinkedMap got modified during iteration.");if(I){const S={value:I.key,done:!1};return I=I.next,S}return{value:void 0,done:!0}}};return b}values(){const f=this._state;let I=this._head;const b={[Symbol.iterator]:()=>b,next:()=>{if(this._state!==f)throw new Error("LinkedMap got modified during iteration.");if(I){const S={value:I.value,done:!1};return I=I.next,S}return{value:void 0,done:!0}}};return b}entries(){const f=this._state;let I=this._head;const b={[Symbol.iterator]:()=>b,next:()=>{if(this._state!==f)throw new Error("LinkedMap got modified during iteration.");if(I){const S={value:[I.key,I.value],done:!1};return I=I.next,S}return{value:void 0,done:!0}}};return b}[(e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(f){if(f>=this.size)return;if(0===f)return void this.clear();let I=this._head,b=this.size;for(;I&&b>f;)this._map.delete(I.key),I=I.next,b--;this._head=I,this._size=b,I&&(I.previous=void 0),this._state++}addItemFirst(f){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");f.next=this._head,this._head.previous=f}else this._tail=f;this._head=f,this._state++}addItemLast(f){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");f.previous=this._tail,this._tail.next=f}else this._head=f;this._tail=f,this._state++}removeItem(f){if(f===this._head&&f===this._tail)this._head=void 0,this._tail=void 0;else if(f===this._head){if(!f.next)throw new Error("Invalid list");f.next.previous=void 0,this._head=f.next}else if(f===this._tail){if(!f.previous)throw new Error("Invalid list");f.previous.next=void 0,this._tail=f.previous}else{const I=f.next,b=f.previous;if(!I||!b)throw new Error("Invalid list");I.previous=b,b.next=I}f.next=void 0,f.previous=void 0,this._state++}touch(f,I){if(!this._head||!this._tail)throw new Error("Invalid list");if(I===s.First||I===s.Last)if(I===s.First){if(f===this._head)return;const b=f.next,S=f.previous;f===this._tail?(S.next=void 0,this._tail=S):(b.previous=S,S.next=b),f.previous=void 0,f.next=this._head,this._head.previous=f,this._head=f,this._state++}else if(I===s.Last){if(f===this._tail)return;const b=f.next,S=f.previous;f===this._head?(b.previous=void 0,this._head=b):(b.previous=S,S.next=b),f.next=void 0,f.previous=this._tail,this._tail.next=f,this._tail=f,this._state++}}toJSON(){const f=[];return this.forEach((I,b)=>{f.push([b,I])}),f}fromJSON(f){this.clear();for(const[I,b]of f)this.set(I,b)}}T.LinkedMap=t,T.LRUCache=class l extends t{constructor(f,I=1){super(),this._limit=f,this._ratio=Math.min(Math.max(0,I),1)}get limit(){return this._limit}set limit(f){this._limit=f,this.checkTrim()}get ratio(){return this._ratio}set ratio(f){this._ratio=Math.min(Math.max(0,f),1),this.checkTrim()}get(f,I=s.AsNew){return super.get(f,I)}peek(f){return super.get(f,s.None)}set(f,I){return super.set(f,I,s.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},61863:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.AbstractMessageBuffer=void 0,T.AbstractMessageBuffer=class l{constructor(f="utf-8"){this._encoding=f,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(f){const I="string"==typeof f?this.fromString(f,this._encoding):f;this._chunks.push(I),this._totalLength+=I.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let f=0,I=0,b=0,S=0;e:for(;I<this._chunks.length;){const a=this._chunks[I];for(b=0;b<a.length;){switch(a[b]){case 13:switch(f){case 0:f=1;break;case 2:f=3;break;default:f=0}break;case 10:switch(f){case 1:f=2;break;case 3:f=4,b++;break e;default:f=0}break;default:f=0}b++}S+=a.byteLength,I++}if(4!==f)return;const D=this._read(S+b),_=new Map,r=this.toString(D,"ascii").split("\r\n");if(r.length<2)return _;for(let a=0;a<r.length-2;a++){const u=r[a],n=u.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const d=u.substr(0,n),y=u.substr(n+1).trim();_.set(d,y)}return _}tryReadBody(f){if(!(this._totalLength<f))return this._read(f)}get numberOfBytes(){return this._totalLength}_read(f){if(0===f)return this.emptyBuffer();if(f>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===f){const D=this._chunks[0];return this._chunks.shift(),this._totalLength-=f,this.asNative(D)}if(this._chunks[0].byteLength>f){const D=this._chunks[0],_=this.asNative(D,f);return this._chunks[0]=D.slice(f),this._totalLength-=f,_}const I=this.allocNative(f);let b=0;for(;f>0;){const D=this._chunks[0];if(D.byteLength>f){const _=D.slice(0,f);I.set(_,b),b+=f,this._chunks[0]=D.slice(f),this._totalLength-=f,f-=f}else I.set(D,b),b+=D.byteLength,this._chunks.shift(),this._totalLength-=D.byteLength,f-=D.byteLength}return I}}},79070:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ReadableStreamMessageReader=T.AbstractMessageReader=T.MessageReader=void 0;const s=e(88667),t=e(8939),l=e(41869);var I;(T.MessageReader||(T.MessageReader={})).is=function D(_){let r=_;return r&&t.func(r.listen)&&t.func(r.dispose)&&t.func(r.onError)&&t.func(r.onClose)&&t.func(r.onPartialMessage)};class f{constructor(){this.errorEmitter=new l.Emitter,this.closeEmitter=new l.Emitter,this.partialMessageEmitter=new l.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(D){this.errorEmitter.fire(this.asError(D))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(D){this.partialMessageEmitter.fire(D)}asError(D){return D instanceof Error?D:new Error(`Reader received error. Reason: ${t.string(D.message)?D.message:"unknown"}`)}}T.AbstractMessageReader=f,(I||(I={})).fromOptions=function D(_){let r,u;const n=new Map;let d;const y=new Map;if(void 0===_||"string"==typeof _)r=_??"utf-8";else{if(r=_.charset??"utf-8",void 0!==_.contentDecoder&&(u=_.contentDecoder,n.set(u.name,u)),void 0!==_.contentDecoders)for(const g of _.contentDecoders)n.set(g.name,g);if(void 0!==_.contentTypeDecoder&&(d=_.contentTypeDecoder,y.set(d.name,d)),void 0!==_.contentTypeDecoders)for(const g of _.contentTypeDecoders)y.set(g.name,g)}return void 0===d&&(d=(0,s.default)().applicationJson.decoder,y.set(d.name,d)),{charset:r,contentDecoder:u,contentDecoders:n,contentTypeDecoder:d,contentTypeDecoders:y}},T.ReadableStreamMessageReader=class b extends f{constructor(D,_){super(),this.readable=D,this.options=I.fromOptions(_),this.buffer=(0,s.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(D){this._partialMessageTimeout=D}get partialMessageTimeout(){return this._partialMessageTimeout}listen(D){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=D;const _=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),_}onData(D){for(this.buffer.append(D);;){if(-1===this.nextMessageLength){const a=this.buffer.tryReadHeaders();if(!a)return;const u=a.get("Content-Length");if(!u)throw new Error("Header must provide a Content-Length property.");const n=parseInt(u);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const _=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===_)return void this.setPartialMessageTimer();let r;this.clearPartialMessageTimer(),this.nextMessageLength=-1,r=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(_):Promise.resolve(_),r.then(a=>{this.options.contentTypeDecoder.decode(a,this.options).then(u=>{this.callback(u)},u=>{this.fireError(u)})},a=>{this.fireError(a)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,s.default)().timer.setTimeout((D,_)=>{this.partialMessageTimer=void 0,D===this.messageToken&&(this.firePartialMessage({messageToken:D,waitingTime:_}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},73253:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.WriteableStreamMessageWriter=T.AbstractMessageWriter=T.MessageWriter=void 0;const t=e(88667),l=e(8939),C=e(43535),f=e(41869);var _;(T.MessageWriter||(T.MessageWriter={})).is=function u(n){let d=n;return d&&l.func(d.dispose)&&l.func(d.onClose)&&l.func(d.onError)&&l.func(d.write)};class D{constructor(){this.errorEmitter=new f.Emitter,this.closeEmitter=new f.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(u,n,d){this.errorEmitter.fire([this.asError(u),n,d])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(u){return u instanceof Error?u:new Error(`Writer received error. Reason: ${l.string(u.message)?u.message:"unknown"}`)}}T.AbstractMessageWriter=D,(_||(_={})).fromOptions=function u(n){return void 0===n||"string"==typeof n?{charset:n??"utf-8",contentTypeEncoder:(0,t.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,t.default)().applicationJson.encoder}},T.WriteableStreamMessageWriter=class r extends D{constructor(u,n){super(),this.writable=u,this.options=_.fromOptions(n),this.errorCount=0,this.writeSemaphore=new C.Semaphore(1),this.writable.onError(d=>this.fireError(d)),this.writable.onClose(()=>this.fireClose())}write(u){var n=this;return s(function*(){return n.writeSemaphore.lock(s(function*(){return n.options.contentTypeEncoder.encode(u,n.options).then(y=>void 0!==n.options.contentEncoder?n.options.contentEncoder.encode(y):y).then(y=>{const g=[];return g.push("Content-Length: ",y.byteLength.toString(),"\r\n"),g.push("\r\n"),n.doWrite(u,g,y)},y=>{throw n.fireError(y),y})}))})()}doWrite(u,n,d){var y=this;return s(function*(){try{return yield y.writable.write(n.join(""),"ascii"),y.writable.write(d)}catch(g){return y.handleError(g,u),Promise.reject(g)}})()}handleError(u,n){this.errorCount++,this.fireError(u,n,this.errorCount)}end(){this.writable.end()}}},9604:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Message=T.NotificationType9=T.NotificationType8=T.NotificationType7=T.NotificationType6=T.NotificationType5=T.NotificationType4=T.NotificationType3=T.NotificationType2=T.NotificationType1=T.NotificationType0=T.NotificationType=T.RequestType9=T.RequestType8=T.RequestType7=T.RequestType6=T.RequestType5=T.RequestType4=T.RequestType3=T.RequestType2=T.RequestType1=T.RequestType=T.RequestType0=T.AbstractMessageSignature=T.ParameterStructures=T.ResponseError=T.ErrorCodes=void 0;const s=e(8939);var t,N;(N=t=T.ErrorCodes||(T.ErrorCodes={})).ParseError=-32700,N.InvalidRequest=-32600,N.MethodNotFound=-32601,N.InvalidParams=-32602,N.InternalError=-32603,N.jsonrpcReservedErrorRangeStart=-32099,N.serverErrorStart=-32099,N.MessageWriteError=-32099,N.MessageReadError=-32098,N.PendingResponseRejected=-32097,N.ConnectionInactive=-32096,N.ServerNotInitialized=-32002,N.UnknownErrorCode=-32001,N.jsonrpcReservedErrorRangeEnd=-32e3,N.serverErrorEnd=-32e3;class l extends Error{constructor(O,K,$){super(K),this.code=s.number(O)?O:t.UnknownErrorCode,this.data=$,Object.setPrototypeOf(this,l.prototype)}toJson(){const O={code:this.code,message:this.message};return void 0!==this.data&&(O.data=this.data),O}}T.ResponseError=l;class C{constructor(O){this.kind=O}static is(O){return O===C.auto||O===C.byName||O===C.byPosition}toString(){return this.kind}}T.ParameterStructures=C,C.auto=new C("auto"),C.byPosition=new C("byPosition"),C.byName=new C("byName");class f{constructor(O,K){this.method=O,this.numberOfParams=K}get parameterStructures(){return C.auto}}T.AbstractMessageSignature=f,T.RequestType0=class I extends f{constructor(O){super(O,0)}},T.RequestType=class b extends f{constructor(O,K=C.auto){super(O,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},T.RequestType1=class S extends f{constructor(O,K=C.auto){super(O,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},T.RequestType2=class D extends f{constructor(O){super(O,2)}},T.RequestType3=class _ extends f{constructor(O){super(O,3)}},T.RequestType4=class r extends f{constructor(O){super(O,4)}},T.RequestType5=class a extends f{constructor(O){super(O,5)}},T.RequestType6=class u extends f{constructor(O){super(O,6)}},T.RequestType7=class n extends f{constructor(O){super(O,7)}},T.RequestType8=class d extends f{constructor(O){super(O,8)}},T.RequestType9=class y extends f{constructor(O){super(O,9)}},T.NotificationType=class g extends f{constructor(O,K=C.auto){super(O,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},T.NotificationType0=class v extends f{constructor(O){super(O,0)}},T.NotificationType1=class m extends f{constructor(O,K=C.auto){super(O,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},T.NotificationType2=class w extends f{constructor(O){super(O,2)}},T.NotificationType3=class E extends f{constructor(O){super(O,3)}},T.NotificationType4=class L extends f{constructor(O){super(O,4)}},T.NotificationType5=class x extends f{constructor(O){super(O,5)}},T.NotificationType6=class A extends f{constructor(O){super(O,6)}},T.NotificationType7=class k extends f{constructor(O){super(O,7)}},T.NotificationType8=class W extends f{constructor(O){super(O,8)}},T.NotificationType9=class H extends f{constructor(O){super(O,9)}},function(N){N.isRequest=function O(j){const q=j;return q&&s.string(q.method)&&(s.string(q.id)||s.number(q.id))},N.isNotification=function K(j){return j&&s.string(j.method)&&void 0===j.id},N.isResponse=function $(j){const q=j;return q&&(void 0!==q.result||!!q.error)&&(s.string(q.id)||s.number(q.id)||null===q.id)}}(T.Message||(T.Message={}))},88667:(yt,T)=>{"use strict";let e;function s(){if(void 0===e)throw new Error("No runtime abstraction layer installed");return e}Object.defineProperty(T,"__esModule",{value:!0}),(s||(s={})).install=function l(C){if(void 0===C)throw new Error("No runtime abstraction layer provided");e=C},T.default=s},43535:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Semaphore=void 0;const s=e(88667);T.Semaphore=class t{constructor(C=1){if(C<=0)throw new Error("Capacity must be greater than 0");this._capacity=C,this._active=0,this._waiting=[]}lock(C){return new Promise((f,I)=>{this._waiting.push({thunk:C,resolve:f,reject:I}),this.runNext()})}get active(){return this._active}runNext(){0===this._waiting.length||this._active===this._capacity||(0,s.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const C=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const f=C.thunk();f instanceof Promise?f.then(I=>{this._active--,C.resolve(I),this.runNext()},I=>{this._active--,C.reject(I),this.runNext()}):(this._active--,C.resolve(f),this.runNext())}catch(f){this._active--,C.reject(f),this.runNext()}}}},58450:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CallHierarchyFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);class C{constructor(b){this.client=b,this.middleware=b.middleware}prepareCallHierarchy(b,S,D){const _=this.client,r=this.middleware,a=(u,n,d)=>{const y=_.code2ProtocolConverter.asTextDocumentPositionParams(u,n);return _.sendRequest(t.CallHierarchyPrepareRequest.type,y,d).then(g=>d.isCancellationRequested?null:_.protocol2CodeConverter.asCallHierarchyItems(g,d),g=>_.handleFailedRequest(t.CallHierarchyPrepareRequest.type,d,g,null))};return r.prepareCallHierarchy?r.prepareCallHierarchy(b,S,D,a):a(b,S,D)}provideCallHierarchyIncomingCalls(b,S){const D=this.client,_=this.middleware,r=(a,u)=>{const n={item:D.code2ProtocolConverter.asCallHierarchyItem(a)};return D.sendRequest(t.CallHierarchyIncomingCallsRequest.type,n,u).then(d=>u.isCancellationRequested?null:D.protocol2CodeConverter.asCallHierarchyIncomingCalls(d,u),d=>D.handleFailedRequest(t.CallHierarchyIncomingCallsRequest.type,u,d,null))};return _.provideCallHierarchyIncomingCalls?_.provideCallHierarchyIncomingCalls(b,S,r):r(b,S)}provideCallHierarchyOutgoingCalls(b,S){const D=this.client,_=this.middleware,r=(a,u)=>{const n={item:D.code2ProtocolConverter.asCallHierarchyItem(a)};return D.sendRequest(t.CallHierarchyOutgoingCallsRequest.type,n,u).then(d=>u.isCancellationRequested?null:D.protocol2CodeConverter.asCallHierarchyOutgoingCalls(d,u),d=>D.handleFailedRequest(t.CallHierarchyOutgoingCallsRequest.type,u,d,null))};return _.provideCallHierarchyOutgoingCalls?_.provideCallHierarchyOutgoingCalls(b,S,r):r(b,S)}}T.CallHierarchyFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.CallHierarchyPrepareRequest.type)}fillClientCapabilities(b){(0,l.ensure)((0,l.ensure)(b,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(b,S){const[D,_]=this.getRegistration(S,b.callHierarchyProvider);!D||!_||this.register({id:D,registerOptions:_})}registerLanguageProvider(b){const D=new C(this._client);return[s.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(b.documentSelector),D),D]}}},72343:(yt,T,e)=>{"use strict";var t=e(49811).default;T.Fy=T.dp=T.c8=T.Z6=T.ZM=T.UY=T._X=T.xP=void 0;const l=e(44336),C=e(62543),f=e(67434),I=e(44888),b=e(35465),S=e(65735),D=e(8173),_=e(4982),r=e(87031),a=e(1303),u=e(46780),n=e(5748),d=e(51025),y=e(85693),g=e(17026),v=e(74850),m=e(50529),w=e(28446),E=e(97597),L=e(8916),x=e(79866),A=e(31465),k=e(49566),W=e(89559),H=e(16645),z=e(48817),N=e(49518),O=e(49848),K=e(59253),$=e(5887),j=e(38593),q=e(72877),R=e(13184),Z=e(48779),J=e(11582),Ce=e(91051),Se=e(58450),Ie=e(41864),xe=e(68447),Me=e(13737),Oe=e(2235),se=e(75555),ce=e(56055);var Ee,Xe,me,Pe,he;(Xe=Ee=T.xP||(T.xP={}))[Xe.Info=1]="Info",Xe[Xe.Warn=2]="Warn",Xe[Xe.Error=3]="Error",Xe[Xe.Never=4]="Never",function(Xe){Xe[Xe.Continue=1]="Continue",Xe[Xe.Shutdown=2]="Shutdown"}(me=T._X||(T._X={})),function(Xe){Xe[Xe.DoNotRestart=1]="DoNotRestart",Xe[Xe.Restart=2]="Restart"}(Pe=T.UY||(T.UY={})),function(Xe){Xe[Xe.Stopped=1]="Stopped",Xe[Xe.Starting=3]="Starting",Xe[Xe.Running=2]="Running"}(he=T.ZM||(T.ZM={})),function(Xe){Xe.off="off",Xe.on="on"}(T.Z6||(T.Z6={}));class Ze{constructor(re,pe){this.client=re,this.maxRestartCount=pe,this.restarts=[]}error(re,pe,ge){return ge&&ge<=3?{action:me.Continue}:{action:me.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Pe.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:Pe.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Pe.Restart})}}var Et,ze=(()=>((ze=ze||{}).Initial="initial",ze.Starting="starting",ze.StartFailed="startFailed",ze.Running="running",ze.Stopping="stopping",ze.Stopped="stopped",ze))();!function(Xe){Xe.is=function re(pe){return pe&&C.MessageReader.is(pe.reader)&&C.MessageWriter.is(pe.writer)}}(T.c8||(T.c8={}));class Ke{constructor(re,pe,ge){this._traceFormat=C.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new S.Semaphore(1),this._id=re,this._name=pe;const de={isTrusted:!1,supportHtml:!1};void 0!==(ge=ge||{}).markdown&&(de.isTrusted=!0===ge.markdown.isTrusted,de.supportHtml=!0===ge.markdown.supportHtml),this._clientOptions={documentSelector:ge.documentSelector??[],synchronize:ge.synchronize??{},diagnosticCollectionName:ge.diagnosticCollectionName,outputChannelName:ge.outputChannelName??this._name,revealOutputChannelOn:ge.revealOutputChannelOn??Ee.Error,stdioEncoding:ge.stdioEncoding??"utf8",initializationOptions:ge.initializationOptions,initializationFailedHandler:ge.initializationFailedHandler,progressOnInitialization:!!ge.progressOnInitialization,errorHandler:ge.errorHandler??this.createDefaultErrorHandler(ge.connectionOptions?.maxRestartCount),middleware:ge.middleware??{},uriConverters:ge.uriConverters,workspaceFolder:ge.workspaceFolder,connectionOptions:ge.connectionOptions,markdown:de,diagnosticPullOptions:ge.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:ge.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=ze.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,ge.outputChannel?(this._outputChannel=ge.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=ge.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new S.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new C.Emitter,this._stateChangeEmitter=new C.Emitter,this._trace=C.Trace.Off,this._tracer={log:(Q,ye)=>{b.string(Q)?this.logTrace(Q,ye):this.logObjectTrace(Q)}},this._c2p=f.createConverter(ge.uriConverters?ge.uriConverters.code2Protocol:void 0),this._p2c=I.createConverter(ge.uriConverters?ge.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=l.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(re){let pe=this.getPublicState();this._state=re;let ge=this.getPublicState();ge!==pe&&this._stateChangeEmitter.fire({oldState:pe,newState:ge})}getPublicState(){switch(this.$state){case ze.Starting:return he.Starting;case ze.Running:return he.Running;default:return he.Stopped}}get initializeResult(){return this._initializeResult}sendRequest(re,...pe){var ge=this;return t(function*(){if(ge.$state===ze.StartFailed||ge.$state===ze.Stopping||ge.$state===ze.Stopped)return Promise.reject(new C.ResponseError(C.ErrorCodes.ConnectionInactive,"Client is not running"));try{const de=yield ge.$start();return yield ge.forceDocumentSync(),de.sendRequest(re,...pe)}catch(de){throw ge.error(`Sending request ${b.string(re)?re:re.method} failed.`,de),de}})()}onRequest(re,pe){const ge="string"==typeof re?re:re.method;this._requestHandlers.set(ge,pe);const de=this.activeConnection();let Q;return void 0!==de?(this._requestDisposables.set(ge,de.onRequest(re,pe)),Q={dispose:()=>{const ye=this._requestDisposables.get(ge);void 0!==ye&&(ye.dispose(),this._requestDisposables.delete(ge))}}):(this._pendingRequestHandlers.set(ge,pe),Q={dispose:()=>{this._pendingRequestHandlers.delete(ge);const ye=this._requestDisposables.get(ge);void 0!==ye&&(ye.dispose(),this._requestDisposables.delete(ge))}}),{dispose:()=>{this._requestHandlers.delete(ge),Q.dispose()}}}sendNotification(re,pe){var ge=this;return t(function*(){if(ge.$state===ze.StartFailed||ge.$state===ze.Stopping||ge.$state===ze.Stopped)return Promise.reject(new C.ResponseError(C.ErrorCodes.ConnectionInactive,"Client is not running"));try{const de=yield ge.$start();return yield ge.forceDocumentSync(),de.sendNotification(re,pe)}catch(de){throw ge.error(`Sending notification ${b.string(re)?re:re.method} failed.`,de),de}})()}onNotification(re,pe){const ge="string"==typeof re?re:re.method;this._notificationHandlers.set(ge,pe);const de=this.activeConnection();let Q;return void 0!==de?(this._notificationDisposables.set(ge,de.onNotification(re,pe)),Q={dispose:()=>{const ye=this._notificationDisposables.get(ge);void 0!==ye&&(ye.dispose(),this._notificationDisposables.delete(ge))}}):(this._pendingNotificationHandlers.set(ge,pe),Q={dispose:()=>{this._pendingNotificationHandlers.delete(ge);const ye=this._notificationDisposables.get(ge);void 0!==ye&&(ye.dispose(),this._notificationDisposables.delete(ge))}}),{dispose:()=>{this._notificationHandlers.delete(ge),Q.dispose()}}}sendProgress(re,pe,ge){var de=this;return t(function*(){if(de.$state===ze.StartFailed||de.$state===ze.Stopping||de.$state===ze.Stopped)return Promise.reject(new C.ResponseError(C.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(yield de.$start()).sendProgress(re,pe,ge)}catch(Q){throw de.error(`Sending progress for token ${pe} failed.`,Q),Q}})()}onProgress(re,pe,ge){this._progressHandlers.set(pe,{type:re,handler:ge});const de=this.activeConnection();let Q;const ye=this._clientOptions.middleware?.handleWorkDoneProgress,Ae=C.WorkDoneProgress.is(re)&&void 0!==ye?ft=>{ye(pe,ft,()=>ge(ft))}:ge;return void 0!==de?(this._progressDisposables.set(pe,de.onProgress(re,pe,Ae)),Q={dispose:()=>{const ft=this._progressDisposables.get(pe);void 0!==ft&&(ft.dispose(),this._progressDisposables.delete(pe))}}):(this._pendingProgressHandlers.set(pe,{type:re,handler:ge}),Q={dispose:()=>{this._pendingProgressHandlers.delete(pe);const ft=this._progressDisposables.get(pe);void 0!==ft&&(ft.dispose(),this._progressDisposables.delete(pe))}}),{dispose:()=>{this._progressHandlers.delete(pe),Q.dispose()}}}createDefaultErrorHandler(re){if(void 0!==re&&re<0)throw new Error(`Invalid maxRestartCount: ${re}`);return new Ze(this,re??4)}setTrace(re){var pe=this;return t(function*(){pe._trace=re;const ge=pe.activeConnection();void 0!==ge&&(yield ge.trace(pe._trace,pe._tracer,{sendNotification:!1,traceFormat:pe._traceFormat}))})()}data2String(re){return re instanceof C.ResponseError?`  Message: ${re.message}\n  Code: ${re.code} ${re.data?"\n"+re.data.toString():""}`:re instanceof Error?b.string(re.stack)?re.stack:re.message:b.string(re)?re:re.toString()}info(re,pe,ge=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${re}`),null!=pe&&this.outputChannel.appendLine(this.data2String(pe)),ge&&this._clientOptions.revealOutputChannelOn<=Ee.Info&&this.showNotificationMessage(C.MessageType.Info,re)}warn(re,pe,ge=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${re}`),null!=pe&&this.outputChannel.appendLine(this.data2String(pe)),ge&&this._clientOptions.revealOutputChannelOn<=Ee.Warn&&this.showNotificationMessage(C.MessageType.Warning,re)}error(re,pe,ge=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${re}`),null!=pe&&this.outputChannel.appendLine(this.data2String(pe)),("force"===ge||ge&&this._clientOptions.revealOutputChannelOn<=Ee.Error)&&this.showNotificationMessage(C.MessageType.Error,re)}showNotificationMessage(re,pe){(re===C.MessageType.Error?l.window.showErrorMessage:re===C.MessageType.Warning?l.window.showWarningMessage:l.window.showInformationMessage)(pe=pe??"A request has failed. See the output for more information.","Go to output").then(de=>{void 0!==de&&this.outputChannel.show(!0)})}logTrace(re,pe){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${re}`),pe&&this.traceOutputChannel.appendLine(this.data2String(pe))}logObjectTrace(re){this.traceOutputChannel.append(re.isLSPMessage&&re.type?`[LSP   - ${(new Date).toLocaleTimeString()}] `:`[Trace - ${(new Date).toLocaleTimeString()}] `),re&&this.traceOutputChannel.appendLine(`${JSON.stringify(re)}`)}needsStart(){return this.$state===ze.Initial||this.$state===ze.Stopping||this.$state===ze.Stopped}needsStop(){return this.$state===ze.Starting||this.$state===ze.Running}activeConnection(){return this.$state===ze.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===ze.Running}start(){var re=this;return t(function*(){if("disposing"===re._disposed||"disposed"===re._disposed)throw new Error("Client got disposed and can't be restarted.");if(re.$state===ze.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==re._onStart)return re._onStart;const[pe,ge,de]=re.createOnStartPromise();re._onStart=pe,void 0===re._diagnostics&&(re._diagnostics=re._clientOptions.diagnosticCollectionName?l.languages.createDiagnosticCollection(re._clientOptions.diagnosticCollectionName):l.languages.createDiagnosticCollection());for(const[Q,ye]of re._notificationHandlers)re._pendingNotificationHandlers.has(Q)||re._pendingNotificationHandlers.set(Q,ye);for(const[Q,ye]of re._requestHandlers)re._pendingRequestHandlers.has(Q)||re._pendingRequestHandlers.set(Q,ye);for(const[Q,ye]of re._progressHandlers)re._pendingProgressHandlers.has(Q)||re._pendingProgressHandlers.set(Q,ye);re.$state=ze.Starting;try{const Q=yield re.createConnection();Q.onNotification(C.LogMessageNotification.type,ye=>{switch(ye.type){case C.MessageType.Error:re.error(ye.message,void 0,!1);break;case C.MessageType.Warning:re.warn(ye.message,void 0,!1);break;case C.MessageType.Info:re.info(ye.message,void 0,!1);break;default:re.outputChannel.appendLine(ye.message)}}),Q.onNotification(C.ShowMessageNotification.type,ye=>{switch(ye.type){case C.MessageType.Error:l.window.showErrorMessage(ye.message);break;case C.MessageType.Warning:l.window.showWarningMessage(ye.message);break;default:l.window.showInformationMessage(ye.message)}}),Q.onRequest(C.ShowMessageRequest.type,ye=>{let Ae;switch(ye.type){case C.MessageType.Error:Ae=l.window.showErrorMessage;break;case C.MessageType.Warning:Ae=l.window.showWarningMessage;break;default:Ae=l.window.showInformationMessage}return Ae(ye.message,...ye.actions||[])}),Q.onNotification(C.TelemetryEventNotification.type,ye=>{re._telemetryEmitter.fire(ye)}),Q.onRequest(C.ShowDocumentRequest.type,function(){var ye=t(function*(Ae){const ft=function(){var it=t(function*(et){const st=re.protocol2CodeConverter.asUri(et.uri);try{if(!0===et.external)return{success:yield l.env.openExternal(st)};{const St={};return void 0!==et.selection&&(St.selection=re.protocol2CodeConverter.asRange(et.selection)),void 0===et.takeFocus||!1===et.takeFocus?St.preserveFocus=!0:!0===et.takeFocus&&(St.preserveFocus=!1),yield l.window.showTextDocument(st,St),{success:!0}}}catch{return{success:!1}}});return function(st){return it.apply(this,arguments)}}(),dt=re._clientOptions.middleware.window?.showDocument;return void 0!==dt?dt(Ae,ft):ft(Ae)});return function(Ae){return ye.apply(this,arguments)}}()),Q.listen(),yield re.initialize(Q),ge()}catch(Q){re.$state=ze.StartFailed,re.error(`${re._name} client: couldn't create connection to server.`,Q,"force"),de(Q)}return re._onStart})()}createOnStartPromise(){let re,pe;return[new Promise((de,Q)=>{re=de,pe=Q}),re,pe]}initialize(re){var pe=this;return t(function*(){pe.refreshTrace(re,!1);const ge=pe._clientOptions.initializationOptions,[de,Q]=void 0!==pe._clientOptions.workspaceFolder?[pe._clientOptions.workspaceFolder.uri.fsPath,[{uri:pe._c2p.asUri(pe._clientOptions.workspaceFolder.uri),name:pe._clientOptions.workspaceFolder.name}]]:[pe._clientGetRootPath(),null],ye={processId:null,clientInfo:{name:l.env.appName,version:l.version},locale:pe.getLocale(),rootPath:de||null,rootUri:de?pe._c2p.asUri(l.Uri.file(de)):null,capabilities:pe.computeClientCapabilities(),initializationOptions:b.func(ge)?ge():ge,trace:C.Trace.toString(pe._trace),workspaceFolders:Q};if(pe.fillInitializeParams(ye),!pe._clientOptions.progressOnInitialization)return pe.doInitialize(re,ye);{const Ae=D.generateUuid(),ft=new _.ProgressPart(re,Ae);ye.workDoneToken=Ae;try{const dt=yield pe.doInitialize(re,ye);return ft.done(),dt}catch(dt){throw ft.cancel(),dt}}})()}doInitialize(re,pe){var ge=this;return t(function*(){try{const de=yield re.initialize(pe);if(void 0!==de.capabilities.positionEncoding&&de.capabilities.positionEncoding!==C.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${de.capabilities.positionEncoding}) received from server ${ge.name}`);let Q;ge._initializeResult=de,ge.$state=ze.Running,b.number(de.capabilities.textDocumentSync)?Q=de.capabilities.textDocumentSync===C.TextDocumentSyncKind.None?{openClose:!1,change:C.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:de.capabilities.textDocumentSync,save:{includeText:!1}}:null!=de.capabilities.textDocumentSync&&(Q=de.capabilities.textDocumentSync),ge._capabilities=Object.assign({},de.capabilities,{resolvedTextDocumentSync:Q}),re.onNotification(C.PublishDiagnosticsNotification.type,ye=>ge.handleDiagnostics(ye)),re.onRequest(C.RegistrationRequest.type,ye=>ge.handleRegistrationRequest(ye)),re.onRequest("client/registerFeature",ye=>ge.handleRegistrationRequest(ye)),re.onRequest(C.UnregistrationRequest.type,ye=>ge.handleUnregistrationRequest(ye)),re.onRequest("client/unregisterFeature",ye=>ge.handleUnregistrationRequest(ye)),re.onRequest(C.ApplyWorkspaceEditRequest.type,ye=>ge.handleApplyWorkspaceEdit(ye));for(const[ye,Ae]of ge._pendingNotificationHandlers)ge._notificationDisposables.set(ye,re.onNotification(ye,Ae));ge._pendingNotificationHandlers.clear();for(const[ye,Ae]of ge._pendingRequestHandlers)ge._requestDisposables.set(ye,re.onRequest(ye,Ae));ge._pendingRequestHandlers.clear();for(const[ye,Ae]of ge._pendingProgressHandlers)ge._progressDisposables.set(ye,re.onProgress(Ae.type,ye,Ae.handler));return ge._pendingProgressHandlers.clear(),yield re.sendNotification(C.InitializedNotification.type,{}),ge.hookFileEvents(re),ge.hookConfigurationChanged(re),ge.initializeFeatures(re),de}catch(de){throw ge._clientOptions.initializationFailedHandler?ge._clientOptions.initializationFailedHandler(de)?ge.initialize(re):ge.stop():de instanceof C.ResponseError&&de.data&&de.data.retry?l.window.showErrorMessage(de.message,{title:"Retry",id:"retry"}).then(Q=>{Q&&"retry"===Q.id?ge.initialize(re):ge.stop()}):(de&&de.message&&l.window.showErrorMessage(de.message),ge.error("Server initialization failed.",de),ge.stop()),de}})()}_clientGetRootPath(){let re=l.workspace.workspaceFolders;if(!re||0===re.length)return;let pe=re[0];return"file"===pe.uri.scheme?pe.uri.fsPath:void 0}stop(re=2e3){return this.shutdown("stop",re)}dispose(re=2e3){try{return this._disposed="disposing",this.stop(re)}finally{this._disposed="disposed"}}shutdown(re,pe){var ge=this;return t(function*(){if(ge.$state===ze.Stopped||ge.$state===ze.Initial)return;if(ge.$state===ze.Stopping){if(void 0!==ge._onStop)return ge._onStop;throw new Error("Client is stopping but no stop promise available.")}const de=ge.activeConnection();if(void 0===de||ge.$state!==ze.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${ge.$state}`);ge._initializeResult=void 0,ge.$state=ze.Stopping,ge.cleanUp(re);const Q=new Promise(Ae=>{(0,C.RAL)().timer.setTimeout(Ae,pe)}),ye=(Ae=t(function*(ft){return yield ft.shutdown(),yield ft.exit(),ft}),function(ft){return Ae.apply(this,arguments)})(de);var Ae;return ge._onStop=Promise.race([Q,ye]).then(Ae=>{if(void 0===Ae)throw ge.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");Ae.end(),Ae.dispose()},Ae=>{throw ge.error("Stopping server failed",Ae,!1),Ae}).finally(()=>{ge.$state=ze.Stopped,"stop"===re&&ge.cleanUpChannel(),ge._onStart=void 0,ge._onStop=void 0,ge._connection=void 0,ge._ignoredRegistrations.clear()})})()}cleanUp(re){this._fileEvents=[],this._fileEventDelayer.cancel();const pe=this._listeners.splice(0,this._listeners.length);for(const ge of pe)ge.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const ge of Array.from(this._features.entries()).map(de=>de[1]).reverse())ge.dispose();"stop"===re&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(re){const pe=this;function ge(ye){return de.apply(this,arguments)}function de(){return(de=t(function*(ye){return pe._fileEvents.push(ye),pe._fileEventDelayer.trigger(t(function*(){const Ae=yield pe.$start();yield pe.forceDocumentSync();const ft=Ae.sendNotification(C.DidChangeWatchedFilesNotification.type,{changes:pe._fileEvents});return pe._fileEvents=[],ft}))})).apply(this,arguments)}const Q=this.clientOptions.middleware?.workspace;(Q?.didChangeWatchedFile?Q.didChangeWatchedFile(re,ge):ge(re)).catch(ye=>{pe.error("Notify file events failed.",ye)})}forceDocumentSync(){var re=this;return t(function*(){return void 0===re._didChangeTextDocumentFeature&&(re._didChangeTextDocumentFeature=re._dynamicFeatures.get(C.DidChangeTextDocumentNotification.type.method)),re._didChangeTextDocumentFeature.forceDelivery()})()}handleDiagnostics(re){this._diagnostics&&("busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===re.uri&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(re.uri,re.diagnostics),this.triggerDiagnosticQueue())}triggerDiagnosticQueue(){(0,C.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const re=this._diagnosticQueue.entries().next();if(!0===re.done)return;const[pe,ge]=re.value;this._diagnosticQueue.delete(pe);const de=new l.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:pe,tokenSource:de},this._p2c.asDiagnostics(ge,de.token).then(Q=>{if(!de.token.isCancellationRequested){const ye=this._p2c.asUri(pe),Ae=this.clientOptions.middleware;Ae.handleDiagnostics?Ae.handleDiagnostics(ye,Q,(ft,dt)=>this.setDiagnostics(ft,dt)):this.setDiagnostics(ye,Q)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(re,pe){this._diagnostics&&this._diagnostics.set(re,pe)}$start(){var re=this;return t(function*(){if(re.$state===ze.StartFailed)throw new Error("Previous start failed. Can't restart server.");yield re.start();const pe=re.activeConnection();if(void 0===pe)throw new Error("Starting server failed");return pe})()}createConnection(){var re=this;return t(function*(){const de=yield re.createMessageTransports(re._clientOptions.stdioEncoding||"utf8");return re._connection=function vt(Xe,re,pe,ge,de){let Q=-1;const ye=new Je,Ae=(0,C.createProtocolConnection)(Xe,re,ye,de);return Ae.onError(dt=>{pe(dt[0],dt[1],dt[2])}),Ae.onClose(ge),{get lastUsed(){return Q},resetLastUsed:()=>{Q=-1},listen:()=>Ae.listen(),sendRequest:(dt,...it)=>(Q=Date.now(),Ae.sendRequest(dt,...it)),onRequest:(dt,it)=>Ae.onRequest(dt,it),hasPendingResponse:()=>Ae.hasPendingResponse(),sendNotification:(dt,it)=>(Q=Date.now(),Ae.sendNotification(dt,it)),onNotification:(dt,it)=>Ae.onNotification(dt,it),onProgress:Ae.onProgress,sendProgress:Ae.sendProgress,trace:(dt,it,et)=>void 0===et?Ae.trace(dt,it,{sendNotification:!1,traceFormat:C.TraceFormat.Text}):(b.boolean(et),Ae.trace(dt,it,et)),initialize:dt=>(Q=Date.now(),Ae.sendRequest(C.InitializeRequest.type,dt)),shutdown:()=>(Q=Date.now(),Ae.sendRequest(C.ShutdownRequest.type,void 0)),exit:()=>(Q=Date.now(),Ae.sendNotification(C.ExitNotification.type)),end:()=>Ae.end(),dispose:()=>Ae.dispose()}}(de.reader,de.writer,(Q,ye,Ae)=>{re.handleConnectionError(Q,ye,Ae)},()=>{re.handleConnectionClosed()},re._clientOptions.connectionOptions),re._connection})()}handleConnectionClosed(){if(this.$state===ze.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch{}let re={action:Pe.DoNotRestart};if(this.$state!==ze.Stopping)try{re=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,re.action===Pe.DoNotRestart?(this.error(re.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state=this.$state===ze.Starting?ze.StartFailed:ze.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):re.action===Pe.Restart&&(this.info(re.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=ze.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(pe=>this.error("Restarting server failed",pe,"force")))}handleConnectionError(re,pe,ge){const de=this._clientOptions.errorHandler.error(re,pe,ge);de.action===me.Shutdown&&(this.error(de.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(Q=>{this.error("Stopping server failed",Q,!1)}))}hookConfigurationChanged(re){this._listeners.push(l.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(re,!0)}))}refreshTrace(re,pe=!1){const ge=l.workspace.getConfiguration(this._id);let de=C.Trace.Off,Q=C.TraceFormat.Text;if(ge){const ye=ge.get("trace.server","off");"string"==typeof ye?de=C.Trace.fromString(ye):(de=C.Trace.fromString(ge.get("trace.server.verbosity","off")),Q=C.TraceFormat.fromString(ge.get("trace.server.format","text")))}this._trace=de,this._traceFormat=Q,re.trace(this._trace,this._tracer,{sendNotification:pe,traceFormat:this._traceFormat}).catch(ye=>{this.error("Updating trace failed with error",ye,!1)})}hookFileEvents(re){let ge,pe=this._clientOptions.synchronize.fileEvents;pe&&(ge=b.array(pe)?pe:[pe],ge&&this._dynamicFeatures.get(C.DidChangeWatchedFilesNotification.type.method).registerRaw(D.generateUuid(),ge))}registerFeatures(re){for(let pe of re)this.registerFeature(pe)}registerFeature(re){this._features.push(re),r.DynamicFeature.is(re)&&this._dynamicFeatures.set(re.registrationType.method,re)}getFeature(re){return this._dynamicFeatures.get(re)}hasDedicatedTextSynchronizationFeature(re){const pe=this.getFeature(C.NotebookDocumentSyncRegistrationType.method);return void 0!==pe&&pe instanceof u.NotebookDocumentSyncFeature&&pe.handles(re)}registerBuiltinFeatures(){this.registerFeature(new n.ConfigurationFeature(this)),this.registerFeature(new d.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new d.DidChangeTextDocumentFeature(this)),this.registerFeature(new d.WillSaveFeature(this)),this.registerFeature(new d.WillSaveWaitUntilFeature(this)),this.registerFeature(new d.DidSaveTextDocumentFeature(this)),this.registerFeature(new d.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new O.FileSystemWatcherFeature(this,re=>this.notifyFileEvent(re))),this.registerFeature(new y.CompletionItemFeature(this)),this.registerFeature(new g.HoverFeature(this)),this.registerFeature(new m.SignatureHelpFeature(this)),this.registerFeature(new v.DefinitionFeature(this)),this.registerFeature(new x.ReferencesFeature(this)),this.registerFeature(new w.DocumentHighlightFeature(this)),this.registerFeature(new E.DocumentSymbolFeature(this)),this.registerFeature(new L.WorkspaceSymbolFeature(this)),this.registerFeature(new A.CodeActionFeature(this)),this.registerFeature(new k.CodeLensFeature(this)),this.registerFeature(new W.DocumentFormattingFeature(this)),this.registerFeature(new W.DocumentRangeFormattingFeature(this)),this.registerFeature(new W.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new H.RenameFeature(this)),this.registerFeature(new z.DocumentLinkFeature(this)),this.registerFeature(new N.ExecuteCommandFeature(this)),this.registerFeature(new n.SyncConfigurationFeature(this)),this.registerFeature(new j.TypeDefinitionFeature(this)),this.registerFeature(new $.ImplementationFeature(this)),this.registerFeature(new K.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new q.WorkspaceFoldersFeature(this)),this.registerFeature(new R.FoldingRangeFeature(this)),this.registerFeature(new Z.DeclarationFeature(this)),this.registerFeature(new J.SelectionRangeFeature(this)),this.registerFeature(new Ce.ProgressFeature(this)),this.registerFeature(new Se.CallHierarchyFeature(this)),this.registerFeature(new Ie.SemanticTokensFeature(this)),this.registerFeature(new Me.LinkedEditingFeature(this)),this.registerFeature(new xe.DidCreateFilesFeature(this)),this.registerFeature(new xe.DidRenameFilesFeature(this)),this.registerFeature(new xe.DidDeleteFilesFeature(this)),this.registerFeature(new xe.WillCreateFilesFeature(this)),this.registerFeature(new xe.WillRenameFilesFeature(this)),this.registerFeature(new xe.WillDeleteFilesFeature(this)),this.registerFeature(new Oe.TypeHierarchyFeature(this)),this.registerFeature(new se.InlineValueFeature(this)),this.registerFeature(new ce.InlayHintsFeature(this)),this.registerFeature(new a.DiagnosticFeature(this)),this.registerFeature(new u.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Et.createAll(this))}fillInitializeParams(re){for(let pe of this._features)b.func(pe.fillInitializeParams)&&pe.fillInitializeParams(re)}computeClientCapabilities(){const re={};(0,r.ensure)(re,"workspace").applyEdit=!0;const pe=(0,r.ensure)((0,r.ensure)(re,"workspace"),"workspaceEdit");pe.documentChanges=!0,pe.resourceOperations=[C.ResourceOperationKind.Create,C.ResourceOperationKind.Rename,C.ResourceOperationKind.Delete],pe.failureHandling=C.FailureHandlingKind.TextOnlyTransactional,pe.normalizesLineEndings=!0,pe.changeAnnotationSupport={groupsOnLabel:!0};const ge=(0,r.ensure)((0,r.ensure)(re,"textDocument"),"publishDiagnostics");ge.relatedInformation=!0,ge.versionSupport=!1,ge.tagSupport={valueSet:[C.DiagnosticTag.Unnecessary,C.DiagnosticTag.Deprecated]},ge.codeDescriptionSupport=!0,ge.dataSupport=!0;const de=(0,r.ensure)(re,"window");(0,r.ensure)(de,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,r.ensure)(de,"showDocument").support=!0;const Ae=(0,r.ensure)(re,"general");Ae.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(Ke.RequestsToCancelOnContentModified)},Ae.regularExpressions={engine:"ECMAScript",version:"ES2020"},Ae.markdown={parser:"marked",version:"1.1.0"},Ae.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(Ae.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let ft of this._features)ft.fillClientCapabilities(re);return re}initializeFeatures(re){const pe=this._clientOptions.documentSelector;for(const ge of this._features)b.func(ge.preInitialize)&&ge.preInitialize(this._capabilities,pe);for(const ge of this._features)ge.initialize(this._capabilities,pe)}handleRegistrationRequest(re){var pe=this;return t(function*(){if(pe.isRunning())for(const ge of re.registrations){const de=pe._dynamicFeatures.get(ge.method);if(void 0===de)return Promise.reject(new Error(`No feature implementation for ${ge.method} found. Registration failed.`));const Q=ge.registerOptions??{};Q.documentSelector=Q.documentSelector??pe._clientOptions.documentSelector;const ye={id:ge.id,registerOptions:Q};try{de.register(ye)}catch(Ae){return Promise.reject(Ae)}}else for(const ge of re.registrations)pe._ignoredRegistrations.add(ge.id)})()}handleUnregistrationRequest(re){var pe=this;return t(function*(){for(let ge of re.unregisterations){if(pe._ignoredRegistrations.has(ge.id))continue;const de=pe._dynamicFeatures.get(ge.method);if(!de)return Promise.reject(new Error(`No feature implementation for ${ge.method} found. Unregistration failed.`));de.unregister(ge.id)}})()}handleApplyWorkspaceEdit(re){var pe=this;return t(function*(){const ge=re.edit,de=yield pe.workspaceEditLock.lock(()=>pe._p2c.asWorkspaceEdit(ge)),Q=new Map;l.workspace.textDocuments.forEach(Ae=>Q.set(Ae.uri.toString(),Ae));let ye=!1;if(ge.documentChanges)for(const Ae of ge.documentChanges)if(C.TextDocumentEdit.is(Ae)&&Ae.textDocument.version&&Ae.textDocument.version>=0){const ft=Q.get(Ae.textDocument.uri);if(ft&&ft.version!==Ae.textDocument.version){ye=!0;break}}return ye?Promise.resolve({applied:!1}):b.asPromise(l.workspace.applyEdit(de).then(Ae=>({applied:Ae})))})()}handleFailedRequest(re,pe,ge,de,Q=!0){if(ge instanceof C.ResponseError){if(ge.code===C.ErrorCodes.PendingResponseRejected||ge.code===C.ErrorCodes.ConnectionInactive)return de;if(ge.code===C.LSPErrorCodes.RequestCancelled||ge.code===C.LSPErrorCodes.ServerCancelled){if(void 0!==pe&&pe.isCancellationRequested)return de;throw void 0!==ge.data?new r.LSPCancellationError(ge.data):new l.CancellationError}if(ge.code===C.LSPErrorCodes.ContentModified){if(Ke.RequestsToCancelOnContentModified.has(re.method))throw new l.CancellationError;return de}}throw this.error(`Request ${re.method} failed.`,ge,Q),ge}}T.dp=Ke,Ke.RequestsToCancelOnContentModified=new Set([C.SemanticTokensRequest.method,C.SemanticTokensRangeRequest.method,C.SemanticTokensDeltaRequest.method]);class Je{error(re){(0,C.RAL)().console.error(re)}warn(re){(0,C.RAL)().console.warn(re)}info(re){(0,C.RAL)().console.info(re)}log(re){(0,C.RAL)().console.log(re)}}!function(Xe){Xe.createAll=function re(pe){return[]}}(Et=T.Fy||(T.Fy={}))},31465:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.CodeActionFeature=void 0;const t=e(44336),l=e(62543),C=e(8173),f=e(87031);T.CodeActionFeature=class I extends f.TextDocumentLanguageFeature{constructor(S){super(S,l.CodeActionRequest.type)}fillClientCapabilities(S){const D=(0,f.ensure)((0,f.ensure)(S,"textDocument"),"codeAction");D.dynamicRegistration=!0,D.isPreferredSupport=!0,D.disabledSupport=!0,D.dataSupport=!0,D.resolveSupport={properties:["edit"]},D.codeActionLiteralSupport={codeActionKind:{valueSet:[l.CodeActionKind.Empty,l.CodeActionKind.QuickFix,l.CodeActionKind.Refactor,l.CodeActionKind.RefactorExtract,l.CodeActionKind.RefactorInline,l.CodeActionKind.RefactorRewrite,l.CodeActionKind.Source,l.CodeActionKind.SourceOrganizeImports]}},D.honorsChangeAnnotations=!1}initialize(S,D){const _=this.getRegistrationOptions(D,S.codeActionProvider);_&&this.register({id:C.generateUuid(),registerOptions:_})}registerLanguageProvider(S){const _={provideCodeActions:(r,a,u,n)=>{const d=this._client,y=function(){var v=s(function*(m,w,E,L){const x={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(m),range:d.code2ProtocolConverter.asRange(w),context:yield d.code2ProtocolConverter.asCodeActionContext(E,L)};return d.sendRequest(l.CodeActionRequest.type,x,L).then(A=>L.isCancellationRequested||null==A?null:d.protocol2CodeConverter.asCodeActionResult(A,L),A=>d.handleFailedRequest(l.CodeActionRequest.type,L,A,null))});return function(w,E,L,x){return v.apply(this,arguments)}}(),g=d.middleware;return g.provideCodeActions?g.provideCodeActions(r,a,u,n,y):y(r,a,u,n)},resolveCodeAction:S.resolveProvider?(r,a)=>{const u=this._client,n=this._client.middleware,d=function(){var y=s(function*(g,v){return u.sendRequest(l.CodeActionResolveRequest.type,yield u.code2ProtocolConverter.asCodeAction(g,v),v).then(m=>v.isCancellationRequested?g:u.protocol2CodeConverter.asCodeAction(m,v),m=>u.handleFailedRequest(l.CodeActionResolveRequest.type,v,m,g))});return function(v,m){return y.apply(this,arguments)}}();return n.resolveCodeAction?n.resolveCodeAction(r,a,d):d(r,a)}:void 0};return[t.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(S.documentSelector),_,S.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(S.codeActionKinds)}:void 0),_]}}},67434:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.createConverter=void 0;const t=e(44336),l=e(62543),C=e(35465),f=e(65735),I=e(35164),b=e(59963),S=e(1970),D=e(49199),_=e(26349),r=e(5190),a=e(17048),u=e(51796),n=e(8060);var d;(d||(d={})).is=function v(m){return m&&!!m.inserting&&!!m.replacing},T.createConverter=function y(g){const m=g||(ut=>ut.toString());function w(ut){return m(ut)}function E(ut){return{uri:m(ut.uri)}}function L(ut){return{uri:m(ut.uri),languageId:ut.languageId,version:ut.version,text:ut.getText()}}function O(ut){switch(ut){case t.TextDocumentSaveReason.Manual:return l.TextDocumentSaveReason.Manual;case t.TextDocumentSaveReason.AfterDelay:return l.TextDocumentSaveReason.AfterDelay;case t.TextDocumentSaveReason.FocusOut:return l.TextDocumentSaveReason.FocusOut}return l.TextDocumentSaveReason.Manual}function Se(ut){switch(ut){case t.CompletionTriggerKind.TriggerCharacter:return l.CompletionTriggerKind.TriggerCharacter;case t.CompletionTriggerKind.TriggerForIncompleteCompletions:return l.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return l.CompletionTriggerKind.Invoked}}function xe(ut){switch(ut){case t.SignatureHelpTriggerKind.Invoke:return l.SignatureHelpTriggerKind.Invoked;case t.SignatureHelpTriggerKind.TriggerCharacter:return l.SignatureHelpTriggerKind.TriggerCharacter;case t.SignatureHelpTriggerKind.ContentChange:return l.SignatureHelpTriggerKind.ContentChange}}function Me(ut){return{label:ut.label}}function Oe(ut){return ut.map(Me)}function se(ut){return{label:ut.label,parameters:Oe(ut.parameters)}}function ce(ut){return ut.map(se)}function Ee(ut){return void 0===ut?ut:{signatures:ce(ut.signatures),activeSignature:ut.activeSignature,activeParameter:ut.activeParameter}}function Pe(ut){return{line:ut.line,character:ut.character}}function he(ut){return null==ut?ut:{line:ut.line>l.uinteger.MAX_VALUE?l.uinteger.MAX_VALUE:ut.line,character:ut.character>l.uinteger.MAX_VALUE?l.uinteger.MAX_VALUE:ut.character}}function Ze(ut){return null==ut?ut:{start:he(ut.start),end:he(ut.end)}}function ze(ut){return null==ut?ut:l.Location.create(w(ut.uri),Ze(ut.range))}function fe(ut){switch(ut){case t.DiagnosticSeverity.Error:return l.DiagnosticSeverity.Error;case t.DiagnosticSeverity.Warning:return l.DiagnosticSeverity.Warning;case t.DiagnosticSeverity.Information:return l.DiagnosticSeverity.Information;case t.DiagnosticSeverity.Hint:return l.DiagnosticSeverity.Hint}}function Je(ut){switch(ut){case t.DiagnosticTag.Unnecessary:return l.DiagnosticTag.Unnecessary;case t.DiagnosticTag.Deprecated:return l.DiagnosticTag.Deprecated;default:return}}function vt(ut){return{message:ut.message,location:ze(ut.location)}}function re(ut){const an=l.Diagnostic.create(Ze(ut.range),ut.message),Kn=ut instanceof _.ProtocolDiagnostic?ut:void 0;void 0!==Kn&&void 0!==Kn.data&&(an.data=Kn.data);const Gn=function Xe(ut){if(null!=ut)return C.number(ut)||C.string(ut)?ut:{value:ut.value,target:w(ut.target)}}(ut.code);return _.DiagnosticCode.is(Gn)?void 0!==Kn&&Kn.hasDiagnosticCode?an.code=Gn:(an.code=Gn.value,an.codeDescription={href:Gn.target}):an.code=Gn,C.number(ut.severity)&&(an.severity=fe(ut.severity)),Array.isArray(ut.tags)&&(an.tags=function Ke(ut){if(!ut)return;let an=[];for(let Kn of ut){let Gn=Je(Kn);void 0!==Gn&&an.push(Gn)}return an.length>0?an:void 0}(ut.tags)),ut.relatedInformation&&(an.relatedInformation=function Et(ut){return ut.map(vt)}(ut.relatedInformation)),ut.source&&(an.source=ut.source),an}function pe(ut,an){return null==ut?ut:f.map(ut,re,an)}function de(ut){if(ut===t.CompletionItemTag.Deprecated)return l.CompletionItemTag.Deprecated}function it(ut){return{range:Ze(ut.range),newText:ut.newText}}function et(ut){return null==ut?ut:ut.map(it)}function st(ut){return ut<=t.SymbolKind.TypeParameter?ut+1:l.SymbolKind.Property}function St(ut){return ut}function mt(ut){return ut.map(St)}function Lt(){return(Lt=s(function*(ut,an){let Kn=l.CodeAction.create(ut.title);if(ut instanceof D.default&&void 0!==ut.data&&(Kn.data=ut.data),void 0!==ut.kind&&(Kn.kind=function Ot(ut){if(null!=ut)return ut.value}(ut.kind)),void 0!==ut.diagnostics&&(Kn.diagnostics=yield pe(ut.diagnostics,an)),void 0!==ut.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==ut.command&&(Kn.command=rt(ut.command)),void 0!==ut.isPreferred&&(Kn.isPreferred=ut.isPreferred),void 0!==ut.disabled&&(Kn.disabled={reason:ut.disabled.reason}),Kn})).apply(this,arguments)}function Tt(){return(Tt=s(function*(ut,an){if(null==ut)return ut;let Kn;return ut.only&&C.string(ut.only.value)&&(Kn=[ut.only.value]),l.CodeActionContext.create(yield pe(ut.diagnostics,an),Kn,function qt(ut){switch(ut){case t.CodeActionTriggerKind.Invoke:return l.CodeActionTriggerKind.Invoked;case t.CodeActionTriggerKind.Automatic:return l.CodeActionTriggerKind.Automatic;default:return}}(ut.triggerKind))})).apply(this,arguments)}function rt(ut){let an=l.Command.create(ut.title,ut.command);return ut.arguments&&(an.arguments=ut.arguments),an}function Ht(ut){const an=l.InlayHintLabelPart.create(ut.value);return void 0!==ut.location&&(an.location=ze(ut.location)),void 0!==ut.command&&(an.command=rt(ut.command)),void 0!==ut.tooltip&&(an.tooltip=Xt(ut.tooltip)),an}function Xt(ut){return"string"==typeof ut?ut:{kind:l.MarkupKind.Markdown,value:ut.value}}return{asUri:w,asTextDocumentIdentifier:E,asTextDocumentItem:L,asVersionedTextDocumentIdentifier:function x(ut){return{uri:m(ut.uri),version:ut.version}},asOpenTextDocumentParams:function A(ut){return{textDocument:L(ut)}},asChangeTextDocumentParams:function H(ut){if(function W(ut){return!!ut.uri&&!!ut.version}(ut))return{textDocument:{uri:m(ut.uri),version:ut.version},contentChanges:[{text:ut.getText()}]};if(function k(ut){return!!ut.document&&!!ut.contentChanges}(ut)){let an=ut.document;return{textDocument:{uri:m(an.uri),version:an.version},contentChanges:ut.contentChanges.map(Gn=>{let li=Gn.range;return{range:{start:{line:li.start.line,character:li.start.character},end:{line:li.end.line,character:li.end.character}},rangeLength:Gn.rangeLength,text:Gn.text}})}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function z(ut){return{textDocument:E(ut)}},asSaveTextDocumentParams:function N(ut,an=!1){let Kn={textDocument:E(ut)};return an&&(Kn.text=ut.getText()),Kn},asWillSaveTextDocumentParams:function K(ut){return{textDocument:E(ut.document),reason:O(ut.reason)}},asDidCreateFilesParams:function $(ut){return{files:ut.files.map(an=>({uri:m(an)}))}},asDidRenameFilesParams:function j(ut){return{files:ut.files.map(an=>({oldUri:m(an.oldUri),newUri:m(an.newUri)}))}},asDidDeleteFilesParams:function q(ut){return{files:ut.files.map(an=>({uri:m(an)}))}},asWillCreateFilesParams:function R(ut){return{files:ut.files.map(an=>({uri:m(an)}))}},asWillRenameFilesParams:function Z(ut){return{files:ut.files.map(an=>({oldUri:m(an.oldUri),newUri:m(an.newUri)}))}},asWillDeleteFilesParams:function J(ut){return{files:ut.files.map(an=>({uri:m(an)}))}},asTextDocumentPositionParams:function Ce(ut,an){return{textDocument:E(ut),position:Pe(an)}},asCompletionParams:function Ie(ut,an,Kn){return{textDocument:E(ut),position:Pe(an),context:{triggerKind:Se(Kn.triggerKind),triggerCharacter:Kn.triggerCharacter}}},asSignatureHelpParams:function me(ut,an,Kn){return{textDocument:E(ut),position:Pe(an),context:{isRetrigger:Kn.isRetrigger,triggerCharacter:Kn.triggerCharacter,triggerKind:xe(Kn.triggerKind),activeSignatureHelp:Ee(Kn.activeSignatureHelp)}}},asWorkerPosition:Pe,asRange:Ze,asPosition:he,asPositions:function Fe(ut,an){return f.map(ut,he,an)},asLocation:ze,asDiagnosticSeverity:fe,asDiagnosticTag:Je,asDiagnostic:re,asDiagnostics:pe,asCompletionItem:function Ae(ut,an=!1){let Kn,Gn;C.string(ut.label)?Kn=ut.label:(Kn=ut.label.label,an&&(void 0!==ut.label.detail||void 0!==ut.label.description)&&(Gn={detail:ut.label.detail,description:ut.label.description}));let li={label:Kn};void 0!==Gn&&(li.labelDetails=Gn);let fi=ut instanceof I.default?ut:void 0;ut.detail&&(li.detail=ut.detail),ut.documentation&&(li.documentation=fi&&"$string"!==fi.documentationFormat?function ge(ut,an){switch(ut){case"$string":return an;case l.MarkupKind.PlainText:return{kind:ut,value:an};case l.MarkupKind.Markdown:return{kind:ut,value:an.value};default:return`Unsupported Markup content received. Kind is: ${ut}`}}(fi.documentationFormat,ut.documentation):ut.documentation),ut.filterText&&(li.filterText=ut.filterText),function ft(ut,an){let Gn,li,Kn=l.InsertTextFormat.PlainText;an.textEdit?(Gn=an.textEdit.newText,li=an.textEdit.range):an.insertText instanceof t.SnippetString?(Kn=l.InsertTextFormat.Snippet,Gn=an.insertText.value):Gn=an.insertText,an.range&&(li=an.range),ut.insertTextFormat=Kn,an.fromEdit&&void 0!==Gn&&void 0!==li?ut.textEdit=function dt(ut,an){return d.is(an)?l.InsertReplaceEdit.create(ut,Ze(an.inserting),Ze(an.replacing)):{newText:ut,range:Ze(an)}}(Gn,li):ut.insertText=Gn}(li,ut),C.number(ut.kind)&&(li.kind=function ye(ut,an){return void 0!==an?an:ut+1}(ut.kind,fi&&fi.originalItemKind)),ut.sortText&&(li.sortText=ut.sortText),ut.additionalTextEdits&&(li.additionalTextEdits=et(ut.additionalTextEdits)),ut.commitCharacters&&(li.commitCharacters=ut.commitCharacters.slice()),ut.command&&(li.command=rt(ut.command)),(!0===ut.preselect||!1===ut.preselect)&&(li.preselect=ut.preselect);const ri=function Q(ut){if(void 0===ut)return ut;const an=[];for(let Kn of ut){const Gn=de(Kn);void 0!==Gn&&an.push(Gn)}return an}(ut.tags);if(fi){if(void 0!==fi.data&&(li.data=fi.data),!0===fi.deprecated||!1===fi.deprecated){if(!0===fi.deprecated&&void 0!==ri&&ri.length>0){const _i=ri.indexOf(t.CompletionItemTag.Deprecated);-1!==_i&&ri.splice(_i,1)}li.deprecated=fi.deprecated}void 0!==fi.insertTextMode&&(li.insertTextMode=fi.insertTextMode)}return void 0!==ri&&ri.length>0&&(li.tags=ri),void 0===li.insertTextMode&&!0===ut.keepWhitespace&&(li.insertTextMode=l.InsertTextMode.adjustIndentation),li},asTextEdit:it,asSymbolKind:st,asSymbolTag:St,asSymbolTags:mt,asReferenceParams:function bt(ut,an,Kn){return{textDocument:E(ut),position:Pe(an),context:{includeDeclaration:Kn.includeDeclaration}}},asCodeAction:function Bt(ut,an){return Lt.apply(this,arguments)},asCodeActionContext:function Ye(ut,an){return Tt.apply(this,arguments)},asInlineValueContext:function Ft(ut){return null==ut?ut:l.InlineValueContext.create(ut.frameId,Ze(ut.stoppedLocation))},asCommand:rt,asCodeLens:function Le(ut){let an=l.CodeLens.create(Ze(ut.range));return ut.command&&(an.command=rt(ut.command)),ut instanceof b.default&&ut.data&&(an.data=ut.data),an},asFormattingOptions:function ie(ut,an){const Kn={tabSize:ut.tabSize,insertSpaces:ut.insertSpaces};return an.trimTrailingWhitespace&&(Kn.trimTrailingWhitespace=!0),an.trimFinalNewlines&&(Kn.trimFinalNewlines=!0),an.insertFinalNewline&&(Kn.insertFinalNewline=!0),Kn},asDocumentSymbolParams:function te(ut){return{textDocument:E(ut)}},asCodeLensParams:function oe(ut){return{textDocument:E(ut)}},asDocumentLink:function we(ut){let an=l.DocumentLink.create(Ze(ut.range));ut.target&&(an.target=w(ut.target)),void 0!==ut.tooltip&&(an.tooltip=ut.tooltip);let Kn=ut instanceof S.default?ut:void 0;return Kn&&Kn.data&&(an.data=Kn.data),an},asDocumentLinkParams:function nt(ut){return{textDocument:E(ut)}},asCallHierarchyItem:function He(ut){const an={name:ut.name,kind:st(ut.kind),uri:w(ut.uri),range:Ze(ut.range),selectionRange:Ze(ut.selectionRange)};return void 0!==ut.detail&&ut.detail.length>0&&(an.detail=ut.detail),void 0!==ut.tags&&(an.tags=mt(ut.tags)),ut instanceof r.default&&void 0!==ut.data&&(an.data=ut.data),an},asTypeHierarchyItem:function De(ut){const an={name:ut.name,kind:st(ut.kind),uri:w(ut.uri),range:Ze(ut.range),selectionRange:Ze(ut.selectionRange)};return void 0!==ut.detail&&ut.detail.length>0&&(an.detail=ut.detail),void 0!==ut.tags&&(an.tags=mt(ut.tags)),ut instanceof a.default&&void 0!==ut.data&&(an.data=ut.data),an},asInlayHint:function lt(ut){const an="string"==typeof ut.label?ut.label:ut.label.map(Ht),Kn=l.InlayHint.create(he(ut.position),an);return void 0!==ut.kind&&(Kn.kind=ut.kind),void 0!==ut.textEdits&&(Kn.textEdits=et(ut.textEdits)),void 0!==ut.tooltip&&(Kn.tooltip=Xt(ut.tooltip)),void 0!==ut.paddingLeft&&(Kn.paddingLeft=ut.paddingLeft),void 0!==ut.paddingRight&&(Kn.paddingRight=ut.paddingRight),ut instanceof n.default&&void 0!==ut.data&&(Kn.data=ut.data),Kn},asWorkspaceSymbol:function pt(ut){const an=ut instanceof u.default?{name:ut.name,kind:st(ut.kind),location:ut.hasRange?ze(ut.location):{uri:m(ut.location.uri)},data:ut.data}:{name:ut.name,kind:st(ut.kind),location:ze(ut.location)};return void 0!==ut.tags&&(an.tags=mt(ut.tags)),""!==ut.containerName&&(an.containerName=ut.containerName),an}}}},49566:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.CodeLensFeature=void 0;const t=e(44336),l=e(62543),C=e(8173),f=e(87031);T.CodeLensFeature=class I extends f.TextDocumentLanguageFeature{constructor(S){super(S,l.CodeLensRequest.type)}fillClientCapabilities(S){(0,f.ensure)((0,f.ensure)(S,"textDocument"),"codeLens").dynamicRegistration=!0,(0,f.ensure)((0,f.ensure)(S,"workspace"),"codeLens").refreshSupport=!0}initialize(S,D){var _=this;this._client.onRequest(l.CodeLensRefreshRequest.type,s(function*(){for(const u of _.getAllProviders())u.onDidChangeCodeLensEmitter.fire()}));const a=this.getRegistrationOptions(D,S.codeLensProvider);a&&this.register({id:C.generateUuid(),registerOptions:a})}registerLanguageProvider(S){const D=S.documentSelector,_=new t.EventEmitter,r={onDidChangeCodeLenses:_.event,provideCodeLenses:(a,u)=>{const n=this._client,d=(g,v)=>n.sendRequest(l.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(g),v).then(m=>v.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(m,v),m=>n.handleFailedRequest(l.CodeLensRequest.type,v,m,null)),y=n.middleware;return y.provideCodeLenses?y.provideCodeLenses(a,u,d):d(a,u)},resolveCodeLens:S.resolveProvider?(a,u)=>{const n=this._client,d=(g,v)=>n.sendRequest(l.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(g),v).then(m=>v.isCancellationRequested?g:n.protocol2CodeConverter.asCodeLens(m),m=>n.handleFailedRequest(l.CodeLensResolveRequest.type,v,m,g)),y=n.middleware;return y.resolveCodeLens?y.resolveCodeLens(a,u,d):d(a,u)}:void 0};return[t.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(D),r),{provider:r,onDidChangeCodeLensEmitter:_}]}}},59253:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ColorProviderFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);T.ColorProviderFeature=class C extends l.TextDocumentLanguageFeature{constructor(I){super(I,t.DocumentColorRequest.type)}fillClientCapabilities(I){(0,l.ensure)((0,l.ensure)(I,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(I,b){let[S,D]=this.getRegistration(b,I.colorProvider);!S||!D||this.register({id:S,registerOptions:D})}registerLanguageProvider(I){const S={provideColorPresentations:(D,_,r)=>{const a=this._client,u=(d,y,g)=>{const v={color:d,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(y.document),range:a.code2ProtocolConverter.asRange(y.range)};return a.sendRequest(t.ColorPresentationRequest.type,v,g).then(m=>g.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(m,g),m=>a.handleFailedRequest(t.ColorPresentationRequest.type,g,m,null))},n=a.middleware;return n.provideColorPresentations?n.provideColorPresentations(D,_,r,u):u(D,_,r)},provideDocumentColors:(D,_)=>{const r=this._client,a=(n,d)=>{const y={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(n)};return r.sendRequest(t.DocumentColorRequest.type,y,d).then(g=>d.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(g,d),g=>r.handleFailedRequest(t.DocumentColorRequest.type,d,g,null))},u=r.middleware;return u.provideDocumentColors?u.provideDocumentColors(D,_,a):a(D,_)}};return[s.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(I.documentSelector),S),S]}}},85693:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CompletionItemFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(8173),f=[t.CompletionItemKind.Text,t.CompletionItemKind.Method,t.CompletionItemKind.Function,t.CompletionItemKind.Constructor,t.CompletionItemKind.Field,t.CompletionItemKind.Variable,t.CompletionItemKind.Class,t.CompletionItemKind.Interface,t.CompletionItemKind.Module,t.CompletionItemKind.Property,t.CompletionItemKind.Unit,t.CompletionItemKind.Value,t.CompletionItemKind.Enum,t.CompletionItemKind.Keyword,t.CompletionItemKind.Snippet,t.CompletionItemKind.Color,t.CompletionItemKind.File,t.CompletionItemKind.Reference,t.CompletionItemKind.Folder,t.CompletionItemKind.EnumMember,t.CompletionItemKind.Constant,t.CompletionItemKind.Struct,t.CompletionItemKind.Event,t.CompletionItemKind.Operator,t.CompletionItemKind.TypeParameter];T.CompletionItemFeature=class I extends l.TextDocumentLanguageFeature{constructor(S){super(S,t.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(S){let D=(0,l.ensure)((0,l.ensure)(S,"textDocument"),"completion");D.dynamicRegistration=!0,D.contextSupport=!0,D.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[t.MarkupKind.Markdown,t.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[t.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[t.InsertTextMode.asIs,t.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},D.insertTextMode=t.InsertTextMode.adjustIndentation,D.completionItemKind={valueSet:f},D.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(S,D){const _=this.getRegistrationOptions(D,S.completionProvider);_&&this.register({id:C.generateUuid(),registerOptions:_})}registerLanguageProvider(S,D){this.labelDetailsSupport.set(D,!!S.completionItem?.labelDetailsSupport);const _=S.triggerCharacters??[],r=S.allCommitCharacters,u={provideCompletionItems:(n,d,y,g)=>{const v=this._client,m=this._client.middleware,w=(E,L,x,A)=>v.sendRequest(t.CompletionRequest.type,v.code2ProtocolConverter.asCompletionParams(E,L,x),A).then(k=>A.isCancellationRequested?null:v.protocol2CodeConverter.asCompletionResult(k,r,A),k=>v.handleFailedRequest(t.CompletionRequest.type,A,k,null));return m.provideCompletionItem?m.provideCompletionItem(n,d,g,y,w):w(n,d,g,y)},resolveCompletionItem:S.resolveProvider?(n,d)=>{const y=this._client,g=this._client.middleware,v=(m,w)=>y.sendRequest(t.CompletionResolveRequest.type,y.code2ProtocolConverter.asCompletionItem(m,!!this.labelDetailsSupport.get(D)),w).then(E=>w.isCancellationRequested?null:y.protocol2CodeConverter.asCompletionItem(E),E=>y.handleFailedRequest(t.CompletionResolveRequest.type,w,E,m));return g.resolveCompletionItem?g.resolveCompletionItem(n,d,v):v(n,d)}:void 0};return[s.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(S.documentSelector),u,..._),u]}}},5748:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.SyncConfigurationFeature=T.toJSONObject=T.ConfigurationFeature=void 0;const t=e(44336),l=e(62543),C=e(35465),f=e(8173),I=e(87031);function S(_){if(_){if(Array.isArray(_))return _.map(S);if("object"==typeof _){const r=Object.create(null);for(const a in _)Object.prototype.hasOwnProperty.call(_,a)&&(r[a]=S(_[a]));return r}}return _}T.ConfigurationFeature=class b{constructor(r){this._client=r}getState(){return{kind:"static"}}fillClientCapabilities(r){r.workspace=r.workspace||{},r.workspace.configuration=!0}initialize(){let r=this._client;r.onRequest(l.ConfigurationRequest.type,(a,u)=>{let n=y=>{let g=[];for(let v of y.items){let m=null!=v.scopeUri?this._client.protocol2CodeConverter.asUri(v.scopeUri):void 0;g.push(this.getConfiguration(m,null!==v.section?v.section:void 0))}return g},d=r.middleware.workspace;return d&&d.configuration?d.configuration(a,u,n):n(a)})}getConfiguration(r,a){let u=null;if(a){let n=a.lastIndexOf(".");if(-1===n)u=S(t.workspace.getConfiguration(void 0,r).get(a));else{let d=t.workspace.getConfiguration(a.substr(0,n),r);d&&(u=S(d.get(a.substr(n+1))))}}else{let n=t.workspace.getConfiguration(void 0,r);u={};for(let d of Object.keys(n))n.has(d)&&(u[d]=S(n.get(d)))}return void 0===u&&(u=null),u}dispose(){}},T.toJSONObject=S,T.SyncConfigurationFeature=class D{constructor(r){this._client=r,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return l.DidChangeConfigurationNotification.type}fillClientCapabilities(r){(0,I.ensure)((0,I.ensure)(r,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let r=this._client.clientOptions.synchronize?.configurationSection;void 0!==r&&this.register({id:f.generateUuid(),registerOptions:{section:r}})}register(r){let a=t.workspace.onDidChangeConfiguration(u=>{this.onDidChangeConfiguration(r.registerOptions.section,u)});this._listeners.set(r.id,a),void 0!==r.registerOptions.section&&this.onDidChangeConfiguration(r.registerOptions.section,void 0)}unregister(r){let a=this._listeners.get(r);a&&(this._listeners.delete(r),a.dispose())}dispose(){for(const r of this._listeners.values())r.dispose();this._listeners.clear()}onDidChangeConfiguration(r,a){var u=this;let n;if(n=C.string(r)?[r]:r,void 0!==n&&void 0!==a&&!n.some(v=>a.affectsConfiguration(v)))return;const d=function(){var g=s(function*(v){return u._client.sendNotification(l.DidChangeConfigurationNotification.type,void 0===v?{settings:null}:{settings:u.extractSettingsInformation(v)})});return function(m){return g.apply(this,arguments)}}();let y=this._client.middleware.workspace?.didChangeConfiguration;(y?y(n,d):d(n)).catch(g=>{this._client.error(`Sending notification ${l.DidChangeConfigurationNotification.type.method} failed`,g)})}extractSettingsInformation(r){function a(d,y){let g=d;for(let v=0;v<y.length-1;v++){let m=g[y[v]];m||(m=Object.create(null),g[y[v]]=m),g=m}return g}let u=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,n=Object.create(null);for(let d=0;d<r.length;d++){let y=r[d],g=y.indexOf("."),v=null;if(v=g>=0?t.workspace.getConfiguration(y.substr(0,g),u).get(y.substr(g+1)):t.workspace.getConfiguration(void 0,u).get(y),v){let m=r[d].split(".");a(n,m)[m[m.length-1]]=S(v)}}return n}}},48779:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DeclarationFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);T.DeclarationFeature=class C extends l.TextDocumentLanguageFeature{constructor(I){super(I,t.DeclarationRequest.type)}fillClientCapabilities(I){const b=(0,l.ensure)((0,l.ensure)(I,"textDocument"),"declaration");b.dynamicRegistration=!0,b.linkSupport=!0}initialize(I,b){const[S,D]=this.getRegistration(b,I.declarationProvider);!S||!D||this.register({id:S,registerOptions:D})}registerLanguageProvider(I){const S={provideDeclaration:(D,_,r)=>{const a=this._client,u=(d,y,g)=>a.sendRequest(t.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(d,y),g).then(v=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(v,g),v=>a.handleFailedRequest(t.DeclarationRequest.type,g,v,null)),n=a.middleware;return n.provideDeclaration?n.provideDeclaration(D,_,r,u):u(D,_,r)}};return[this.registerProvider(I.documentSelector,S),S]}registerProvider(I,b){return s.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(I),b)}}},74850:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DefinitionFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(8173);T.DefinitionFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.DefinitionRequest.type)}fillClientCapabilities(b){let S=(0,l.ensure)((0,l.ensure)(b,"textDocument"),"definition");S.dynamicRegistration=!0,S.linkSupport=!0}initialize(b,S){const D=this.getRegistrationOptions(S,b.definitionProvider);D&&this.register({id:C.generateUuid(),registerOptions:D})}registerLanguageProvider(b){const D={provideDefinition:(_,r,a)=>{const u=this._client,n=(y,g,v)=>u.sendRequest(t.DefinitionRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(y,g),v).then(m=>v.isCancellationRequested?null:u.protocol2CodeConverter.asDefinitionResult(m,v),m=>u.handleFailedRequest(t.DefinitionRequest.type,v,m,null)),d=u.middleware;return d.provideDefinition?d.provideDefinition(_,r,a,n):n(_,r,a)}};return[this.registerProvider(b.documentSelector,D),D]}registerProvider(b,S){return s.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(b),S)}}},1303:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.DiagnosticFeature=T.DiagnosticPullMode=T.vsdiag=void 0;const t=e(78746),l=e(44336),C=e(62543),f=e(8173),I=e(87031);function b(v,m){return void 0===v[m]&&(v[m]={}),v[m]}var S,D,v;!function(v){let m;var w;(w=m=v.DocumentDiagnosticReportKind||(v.DocumentDiagnosticReportKind={})).full="full",w.unChanged="unChanged"}(S=T.vsdiag||(T.vsdiag={})),(v=D=T.DiagnosticPullMode||(T.DiagnosticPullMode={})).onType="onType",v.onSave="onSave";var _=(()=>((_=_||{}).active="open",_.reschedule="reschedule",_.outDated="drop",_))();class r{constructor(){this.open=new Set,this._onOpen=new l.EventEmitter,this._onClose=new l.EventEmitter,r.fillTabResources(this.open),this.disposable=void 0!==l.window.tabGroups.onDidChangeTabs?l.window.tabGroups.onDidChangeTabs(w=>{if(0===w.closed.length&&0===w.opened.length)return;const E=this.open,L=new Set;r.fillTabResources(L);const x=new Set,A=new Set(L);for(const k of E.values())L.has(k)?A.delete(k):x.add(k);if(this.open=L,x.size>0){const k=new Set;for(const W of x)k.add(l.Uri.parse(W));this._onClose.fire(k)}if(A.size>0){const k=new Set;for(const W of A)k.add(l.Uri.parse(W));this._onOpen.fire(k)}}):{dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(m){return m instanceof l.Uri?l.window.activeTextEditor?.document.uri===m:l.window.activeTextEditor?.document===m}isVisible(m){return this.open.has((m instanceof l.Uri?m:m.uri).toString())}getTabResources(){const m=new Set;return r.fillTabResources(new Set,m),m}static fillTabResources(m,w){const E=m??new Set;for(const L of l.window.tabGroups.all)for(const x of L.tabs){const A=x.input;let k;A instanceof l.TabInputText?k=A.uri:A instanceof l.TabInputTextDiff&&(k=A.modified),void 0!==k&&!E.has(k.toString())&&(E.add(k.toString()),void 0!==w&&w.add(k))}}}var a=(()=>((a=a||{})[a.document=1]="document",a[a.workspace=2]="workspace",a))();class u{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(m,w,E){const L=m===a.document?this.documentPullStates:this.workspacePullStates,[x,A,k]=w instanceof l.Uri?[w.toString(),w,E]:[w.uri.toString(),w.uri,w.version];let W=L.get(x);return void 0===W&&(W={document:A,pulledVersion:k,resultId:void 0},L.set(x,W)),W}update(m,w,E,L){const x=m===a.document?this.documentPullStates:this.workspacePullStates,[A,k,W,H]=w instanceof l.Uri?[w.toString(),w,E,L]:[w.uri.toString(),w.uri,w.version,E];let z=x.get(A);void 0===z?(z={document:k,pulledVersion:W,resultId:H},x.set(A,z)):(z.pulledVersion=W,z.resultId=H)}unTrack(m,w){const E=w instanceof l.Uri?w.toString():w.uri.toString();(m===a.document?this.documentPullStates:this.workspacePullStates).delete(E)}tracks(m,w){const E=w instanceof l.Uri?w.toString():w.uri.toString();return(m===a.document?this.documentPullStates:this.workspacePullStates).has(E)}getResultId(m,w){const E=w instanceof l.Uri?w.toString():w.uri.toString();return(m===a.document?this.documentPullStates:this.workspacePullStates).get(E)?.resultId}getAllResultIds(){const m=[];for(let[w,E]of this.workspacePullStates)this.documentPullStates.has(w)&&(E=this.documentPullStates.get(w)),void 0!==E.resultId&&m.push({uri:w,value:E.resultId});return m}}class n{constructor(m,w,E){this.client=m,this.tabs=w,this.options=E,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new l.EventEmitter,this.provider=this.createProvider(),this.diagnostics=l.languages.createDiagnosticCollection(E.identifier),this.openRequests=new Map,this.documentStates=new u,this.workspaceErrorCounter=0}knows(m,w){return this.documentStates.tracks(m,w)}forget(m,w){this.documentStates.unTrack(m,w)}pull(m,w){if(this.isDisposed)return;const E=m instanceof l.Uri?m:m.uri;this.pullAsync(m).then(()=>{w&&w()},L=>{this.client.error(`Document pull failed for text document ${E.toString()}`,L,!1)})}pullAsync(m,w){var E=this;return s(function*(){if(E.isDisposed)return;const L=m instanceof l.Uri,x=L?m:m.uri,A=x.toString();w=L?w:m.version;const k=E.openRequests.get(A),W=L?E.documentStates.track(a.document,m,w):E.documentStates.track(a.document,m);if(void 0===k){const H=new l.CancellationTokenSource;let z,N;E.openRequests.set(A,{state:_.active,document:m,version:w,tokenSource:H});try{z=(yield E.provider.provideDiagnostics(m,W.resultId,H.token))??{kind:S.DocumentDiagnosticReportKind.full,items:[]}}catch(O){if(O instanceof I.LSPCancellationError&&C.DiagnosticServerCancellationData.is(O.data)&&!1===O.data.retriggerRequest&&(N={state:_.outDated,document:m}),!(void 0===N&&O instanceof l.CancellationError))throw O;N={state:_.reschedule,document:m}}if(N=N??E.openRequests.get(A),void 0===N)return E.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${A}`),void E.diagnostics.delete(x);if(E.openRequests.delete(A),!E.tabs.isVisible(m))return void E.documentStates.unTrack(a.document,m);if(N.state===_.outDated)return;void 0!==z&&(z.kind===S.DocumentDiagnosticReportKind.full&&E.diagnostics.set(x,z.items),W.pulledVersion=w,W.resultId=z.resultId),N.state===_.reschedule&&E.pull(m)}else k.state===_.active?(k.tokenSource.cancel(),E.openRequests.set(A,{state:_.reschedule,document:k.document})):k.state===_.outDated&&E.openRequests.set(A,{state:_.reschedule,document:k.document})})()}forgetDocument(m){const w=m instanceof l.Uri?m:m.uri,E=w.toString(),L=this.openRequests.get(E);this.options.workspaceDiagnostics?void 0!==L?this.openRequests.set(E,{state:_.reschedule,document:m}):this.pull(m,()=>{this.forget(a.document,m)}):(void 0!==L&&(L.state===_.active&&L.tokenSource.cancel(),this.openRequests.set(E,{state:_.outDated,document:m})),this.diagnostics.delete(w),this.forget(a.document,m))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,C.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},m=>{!(m instanceof I.LSPCancellationError)&&!C.DiagnosticServerCancellationData.is(m.data)&&(this.client.error("Workspace diagnostic pull failed.",m,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,C.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}pullWorkspaceAsync(){var m=this;return s(function*(){if(!m.provider.provideWorkspaceDiagnostics||m.isDisposed)return;void 0!==m.workspaceCancellation&&(m.workspaceCancellation.cancel(),m.workspaceCancellation=void 0),m.workspaceCancellation=new l.CancellationTokenSource;const w=m.documentStates.getAllResultIds().map(E=>({uri:m.client.protocol2CodeConverter.asUri(E.uri),value:E.value}));yield m.provider.provideWorkspaceDiagnostics(w,m.workspaceCancellation.token,E=>{if(E&&!m.isDisposed)for(const L of E.items)L.kind===S.DocumentDiagnosticReportKind.full&&(m.documentStates.tracks(a.document,L.uri)||m.diagnostics.set(L.uri,L.items)),m.documentStates.update(a.workspace,L.uri,L.version??void 0,L.resultId)})})()}createProvider(){var m=this;const w={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(E,L,x)=>{const A=(W,H,z)=>{const N={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(W instanceof l.Uri?W:W.uri)},previousResultId:H};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(C.DocumentDiagnosticRequest.type,N,z).then(function(){var O=s(function*(K){return null==K||m.isDisposed||z.isCancellationRequested?{kind:S.DocumentDiagnosticReportKind.full,items:[]}:K.kind===C.DocumentDiagnosticReportKind.Full?{kind:S.DocumentDiagnosticReportKind.full,resultId:K.resultId,items:yield m.client.protocol2CodeConverter.asDiagnostics(K.items,z)}:{kind:S.DocumentDiagnosticReportKind.unChanged,resultId:K.resultId}});return function(K){return O.apply(this,arguments)}}(),O=>this.client.handleFailedRequest(C.DocumentDiagnosticRequest.type,z,O,{kind:S.DocumentDiagnosticReportKind.full,items:[]})):{kind:S.DocumentDiagnosticReportKind.full,items:[]}},k=this.client.middleware;return k.provideDiagnostics?k.provideDiagnostics(E,L,x,A):A(E,L,x)}};return this.options.workspaceDiagnostics&&(w.provideWorkspaceDiagnostics=(E,L,x)=>{const A=function(){var z=s(function*(N){return N.kind===C.DocumentDiagnosticReportKind.Full?{kind:S.DocumentDiagnosticReportKind.full,uri:m.client.protocol2CodeConverter.asUri(N.uri),resultId:N.resultId,version:N.version,items:yield m.client.protocol2CodeConverter.asDiagnostics(N.items,L)}:{kind:S.DocumentDiagnosticReportKind.unChanged,uri:m.client.protocol2CodeConverter.asUri(N.uri),resultId:N.resultId,version:N.version}});return function(O){return z.apply(this,arguments)}}(),k=z=>{const N=[];for(const O of z)N.push({uri:this.client.code2ProtocolConverter.asUri(O.uri),value:O.value});return N},W=(z,N)=>{const O=(0,f.generateUuid)(),K=this.client.onProgress(C.WorkspaceDiagnosticRequest.partialResult,O,function(){var j=s(function*(q){if(null==q)return void x(null);const R={items:[]};for(const Z of q.items)try{R.items.push(yield A(Z))}catch(J){m.client.error("Converting workspace diagnostics failed.",J)}x(R)});return function(q){return j.apply(this,arguments)}}()),$={identifier:this.options.identifier,previousResultIds:k(z),partialResultToken:O};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(C.WorkspaceDiagnosticRequest.type,$,N).then(function(){var j=s(function*(q){if(N.isCancellationRequested)return{items:[]};const R={items:[]};for(const Z of q.items)R.items.push(yield A(Z));return K.dispose(),x(R),{items:[]}});return function(q){return j.apply(this,arguments)}}(),j=>(K.dispose(),this.client.handleFailedRequest(C.DocumentDiagnosticRequest.type,N,j,{items:[]}))):{items:[]}},H=this.client.middleware;return H.provideWorkspaceDiagnostics?H.provideWorkspaceDiagnostics(E,L,x,W):W(E,L)}),w}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[m,w]of this.openRequests)w.state===_.active&&w.tokenSource.cancel(),this.openRequests.set(m,{state:_.outDated,document:w.document});this.diagnostics.dispose()}}class d{constructor(m){this.diagnosticRequestor=m,this.documents=new C.LinkedMap,this.isDisposed=!1}add(m){if(!0===this.isDisposed)return;const w=m instanceof l.Uri?m.toString():m.uri.toString();this.documents.has(w)||(this.documents.set(w,m,C.Touch.Last),this.trigger())}remove(m){const w=m instanceof l.Uri?m.toString():m.uri.toString();this.documents.has(w)&&(this.documents.delete(w),this.diagnosticRequestor.pull(m)),0===this.documents.size?this.stop():m===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(!0!==this.isDisposed){if(void 0!==this.intervalHandle)return void(this.endDocument=this.documents.last);this.endDocument=this.documents.last,this.intervalHandle=(0,C.RAL)().timer.setInterval(()=>{const m=this.documents.first;if(void 0!==m){const w=m instanceof l.Uri?m.toString():m.uri.toString();this.diagnosticRequestor.pull(m),this.documents.set(w,m,C.Touch.Last),m===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class y{constructor(m,w,E){var L=this;const x=m.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},A=m.protocol2CodeConverter.asDocumentSelector(E.documentSelector),k=[],H=j=>j instanceof l.Uri?(j=>{const q=E.documentSelector;if(void 0!==x.match)return x.match(q,j);for(const R of q)if(C.TextDocumentFilter.is(R)){if("string"==typeof R||void 0!==R.language&&"*"!==R.language||void 0!==R.scheme&&"*"!==R.scheme&&R.scheme!==j.scheme)return!1;if(void 0!==R.pattern){const Z=new t.Minimatch(R.pattern,{noext:!0});if(!Z.makeRe()||!Z.match(j.fsPath))return!1}}return!0})(j):l.languages.match(A,j)>0&&w.isVisible(j),z=j=>j instanceof l.Uri?this.activeTextDocument?.uri.toString()===j.toString():this.activeTextDocument===j;this.diagnosticRequestor=new n(m,w,E),this.backgroundScheduler=new d(this.diagnosticRequestor);const N=j=>{!H(j)||!E.interFileDependencies||z(j)||this.backgroundScheduler.add(j)};this.activeTextDocument=l.window.activeTextEditor?.document,l.window.onDidChangeActiveTextEditor(j=>{const q=this.activeTextDocument;this.activeTextDocument=j?.document,void 0!==q&&N(q),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)});const O=m.getFeature(C.DidOpenTextDocumentNotification.method);k.push(O.onNotificationSent(j=>{const q=j.original;H(q)&&this.diagnosticRequestor.pull(q,()=>{N(q)})}));const K=new Set;for(const j of l.workspace.textDocuments)H(j)&&(this.diagnosticRequestor.pull(j,()=>{N(j)}),K.add(j.uri.toString()));if(!0===x.onTabs)for(const j of w.getTabResources())!K.has(j.toString())&&H(j)&&this.diagnosticRequestor.pull(j,()=>{N(j)});if(w.onOpen(j=>{for(const q of j)H(q)&&!this.diagnosticRequestor.knows(a.document,q)&&this.diagnosticRequestor.pull(q,()=>{N(q)})}),!0===x.onChange){const j=m.getFeature(C.DidChangeTextDocumentNotification.method);k.push(j.onNotificationSent(function(){var q=s(function*(R){const Z=R.original.document;(void 0===x.filter||!x.filter(Z,D.onType))&&L.diagnosticRequestor.knows(a.document,Z)&&R.original.contentChanges.length>0&&L.diagnosticRequestor.pull(Z,()=>{L.backgroundScheduler.trigger()})});return function(R){return q.apply(this,arguments)}}()))}if(!0===x.onSave){const j=m.getFeature(C.DidSaveTextDocumentNotification.method);k.push(j.onNotificationSent(q=>{const R=q.original;(void 0===x.filter||!x.filter(R,D.onSave))&&this.diagnosticRequestor.knows(a.document,R)&&this.diagnosticRequestor.pull(q.original,()=>{this.backgroundScheduler.trigger()})}))}const $=m.getFeature(C.DidCloseTextDocumentNotification.method);k.push($.onNotificationSent(j=>{this.cleanUpDocument(j.original)})),w.onClose(j=>{for(const q of j)this.cleanUpDocument(q)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(const j of l.workspace.textDocuments)H(j)&&this.diagnosticRequestor.pull(j)}),!0===E.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==E.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=l.Disposable.from(...k,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(m){this.diagnosticRequestor.knows(a.document,m)&&(this.diagnosticRequestor.forgetDocument(m),this.backgroundScheduler.remove(m))}}T.DiagnosticFeature=class g extends I.TextDocumentLanguageFeature{constructor(m){super(m,C.DocumentDiagnosticRequest.type)}fillClientCapabilities(m){let w=b(b(m,"textDocument"),"diagnostic");w.dynamicRegistration=!0,w.relatedDocumentSupport=!1,b(b(m,"workspace"),"diagnostics").refreshSupport=!0}initialize(m,w){var E=this;this._client.onRequest(C.DiagnosticRefreshRequest.type,s(function*(){for(const k of E.getAllProviders())k.onDidChangeDiagnosticsEmitter.fire()}));let[x,A]=this.getRegistration(w,m.diagnosticProvider);!x||!A||this.register({id:x,registerOptions:A})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(m){void 0===this.tabs&&(this.tabs=new r);const w=new y(this._client,this.tabs,m);return[w.disposable,w]}}},28446:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DocumentHighlightFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(8173);T.DocumentHighlightFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.DocumentHighlightRequest.type)}fillClientCapabilities(b){(0,l.ensure)((0,l.ensure)(b,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(b,S){const D=this.getRegistrationOptions(S,b.documentHighlightProvider);D&&this.register({id:C.generateUuid(),registerOptions:D})}registerLanguageProvider(b){const D={provideDocumentHighlights:(_,r,a)=>{const u=this._client,n=(y,g,v)=>u.sendRequest(t.DocumentHighlightRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(y,g),v).then(m=>v.isCancellationRequested?null:u.protocol2CodeConverter.asDocumentHighlights(m,v),m=>u.handleFailedRequest(t.DocumentHighlightRequest.type,v,m,null)),d=u.middleware;return d.provideDocumentHighlights?d.provideDocumentHighlights(_,r,a,n):n(_,r,a)}};return[s.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(b.documentSelector),D),D]}}},48817:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DocumentLinkFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(8173);T.DocumentLinkFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.DocumentLinkRequest.type)}fillClientCapabilities(b){const S=(0,l.ensure)((0,l.ensure)(b,"textDocument"),"documentLink");S.dynamicRegistration=!0,S.tooltipSupport=!0}initialize(b,S){const D=this.getRegistrationOptions(S,b.documentLinkProvider);D&&this.register({id:C.generateUuid(),registerOptions:D})}registerLanguageProvider(b){const D={provideDocumentLinks:(_,r)=>{const a=this._client,u=(d,y)=>a.sendRequest(t.DocumentLinkRequest.type,a.code2ProtocolConverter.asDocumentLinkParams(d),y).then(g=>y.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentLinks(g,y),g=>a.handleFailedRequest(t.DocumentLinkRequest.type,y,g,null)),n=a.middleware;return n.provideDocumentLinks?n.provideDocumentLinks(_,r,u):u(_,r)},resolveDocumentLink:b.resolveProvider?(_,r)=>{const a=this._client;let u=(d,y)=>a.sendRequest(t.DocumentLinkResolveRequest.type,a.code2ProtocolConverter.asDocumentLink(d),y).then(g=>y.isCancellationRequested?d:a.protocol2CodeConverter.asDocumentLink(g),g=>a.handleFailedRequest(t.DocumentLinkResolveRequest.type,y,g,d));const n=a.middleware;return n.resolveDocumentLink?n.resolveDocumentLink(_,r,u):u(_,r)}:void 0};return[s.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(b.documentSelector),D),D]}}},97597:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.DocumentSymbolFeature=T.SupportedSymbolTags=T.SupportedSymbolKinds=void 0;const t=e(44336),l=e(62543),C=e(87031),f=e(8173);T.SupportedSymbolKinds=[l.SymbolKind.File,l.SymbolKind.Module,l.SymbolKind.Namespace,l.SymbolKind.Package,l.SymbolKind.Class,l.SymbolKind.Method,l.SymbolKind.Property,l.SymbolKind.Field,l.SymbolKind.Constructor,l.SymbolKind.Enum,l.SymbolKind.Interface,l.SymbolKind.Function,l.SymbolKind.Variable,l.SymbolKind.Constant,l.SymbolKind.String,l.SymbolKind.Number,l.SymbolKind.Boolean,l.SymbolKind.Array,l.SymbolKind.Object,l.SymbolKind.Key,l.SymbolKind.Null,l.SymbolKind.EnumMember,l.SymbolKind.Struct,l.SymbolKind.Event,l.SymbolKind.Operator,l.SymbolKind.TypeParameter],T.SupportedSymbolTags=[l.SymbolTag.Deprecated],T.DocumentSymbolFeature=class I extends C.TextDocumentLanguageFeature{constructor(S){super(S,l.DocumentSymbolRequest.type)}fillClientCapabilities(S){let D=(0,C.ensure)((0,C.ensure)(S,"textDocument"),"documentSymbol");D.dynamicRegistration=!0,D.symbolKind={valueSet:T.SupportedSymbolKinds},D.hierarchicalDocumentSymbolSupport=!0,D.tagSupport={valueSet:T.SupportedSymbolTags},D.labelSupport=!0}initialize(S,D){const _=this.getRegistrationOptions(D,S.documentSymbolProvider);_&&this.register({id:f.generateUuid(),registerOptions:_})}registerLanguageProvider(S){const _={provideDocumentSymbols:(a,u)=>{const n=this._client,d=(g,v)=>n.sendRequest(l.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(g),v).then(function(){var m=s(function*(w){return v.isCancellationRequested||null==w?null:0===w.length?[]:l.DocumentSymbol.is(w[0])?yield n.protocol2CodeConverter.asDocumentSymbols(w,v):yield n.protocol2CodeConverter.asSymbolInformations(w,v)});return function(w){return m.apply(this,arguments)}}(),m=>n.handleFailedRequest(l.DocumentSymbolRequest.type,v,m,null)),y=n.middleware;return y.provideDocumentSymbols?y.provideDocumentSymbols(a,u,d):d(a,u)}},r=void 0!==S.label?{label:S.label}:void 0;return[t.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(S.documentSelector),_,r),_]}}},49518:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ExecuteCommandFeature=void 0;const s=e(44336),t=e(62543),l=e(8173),C=e(87031);T.ExecuteCommandFeature=class f{constructor(b){this._client=b,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return t.ExecuteCommandRequest.type}fillClientCapabilities(b){(0,C.ensure)((0,C.ensure)(b,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(b){b.executeCommandProvider&&this.register({id:l.generateUuid(),registerOptions:Object.assign({},b.executeCommandProvider)})}register(b){const S=this._client,D=S.middleware,_=(r,a)=>S.sendRequest(t.ExecuteCommandRequest.type,{command:r,arguments:a}).then(void 0,n=>S.handleFailedRequest(t.ExecuteCommandRequest.type,void 0,n,void 0));if(b.registerOptions.commands){const r=[];for(const a of b.registerOptions.commands)r.push(s.commands.registerCommand(a,(...u)=>D.executeCommand?D.executeCommand(a,u,_):_(a,u)));this._commands.set(b.id,r)}}unregister(b){let S=this._commands.get(b);S&&S.forEach(D=>D.dispose())}dispose(){this._commands.forEach(b=>{b.forEach(S=>S.dispose())}),this._commands.clear()}}},87031:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.WorkspaceFeature=T.TextDocumentLanguageFeature=T.TextDocumentEventFeature=T.DynamicDocumentFeature=T.DynamicFeature=T.StaticFeature=T.ensure=T.LSPCancellationError=void 0;const t=e(44336),l=e(62543),C=e(35465),f=e(8173);T.LSPCancellationError=class I extends t.CancellationError{constructor(d){super(),this.data=d}},T.ensure=function b(n,d){return void 0===n[d]&&(n[d]={}),n[d]},(T.StaticFeature||(T.StaticFeature={})).is=function d(y){const g=y;return null!=g&&C.func(g.fillClientCapabilities)&&C.func(g.initialize)&&C.func(g.getState)&&C.func(g.dispose)&&(void 0===g.fillInitializeParams||C.func(g.fillInitializeParams))},(T.DynamicFeature||(T.DynamicFeature={})).is=function d(y){const g=y;return null!=g&&C.func(g.fillClientCapabilities)&&C.func(g.initialize)&&C.func(g.getState)&&C.func(g.dispose)&&(void 0===g.fillInitializeParams||C.func(g.fillInitializeParams))&&C.func(g.register)&&C.func(g.unregister)&&void 0!==g.registrationType};class _{constructor(d){this._client=d}getState(){const d=this.getDocumentSelectors();let y=0;for(const v of d){y++;for(const m of t.workspace.textDocuments)if(t.languages.match(v,m)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:y>0,matches:!1}}}T.DynamicDocumentFeature=_,T.TextDocumentEventFeature=class r extends _{constructor(d,y,g,v,m,w,E){super(d),this._event=y,this._type=g,this._middleware=v,this._createParams=m,this._textDocument=w,this._selectorFilter=E,this._selectors=new Map,this._onNotificationSent=new t.EventEmitter}static textDocumentFilter(d,y){for(const g of d)if(t.languages.match(g,y)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(d){d.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(y=>{this.callback(y).catch(g=>{this._client.error(`Sending document notification ${this._type.method} failed.`,g)})})),this._selectors.set(d.id,this._client.protocol2CodeConverter.asDocumentSelector(d.registerOptions.documentSelector)))}callback(d){var y=this;return s(function*(){const g=function(){var v=s(function*(m){const w=y._createParams(m);yield y._client.sendNotification(y._type,w).catch(),y.notificationSent(m,y._type,w)});return function(w){return v.apply(this,arguments)}}();if(y.matches(d)){const v=y._middleware();return v?v(d,m=>g(m)):g(d)}})()}matches(d){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(d))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),d))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(d,y,g){this._onNotificationSent.fire({original:d,type:y,params:g})}unregister(d){this._selectors.delete(d),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(d){for(const y of this._selectors.values())if(t.languages.match(y,d)>0)return{send:g=>this.callback(g)}}},T.TextDocumentLanguageFeature=class a extends _{constructor(d,y){super(d),this._registrationType=y,this._registrations=new Map}*getDocumentSelectors(){for(const d of this._registrations.values()){const y=d.data.registerOptions.documentSelector;null!==y&&(yield this._client.protocol2CodeConverter.asDocumentSelector(y))}}get registrationType(){return this._registrationType}register(d){if(!d.registerOptions.documentSelector)return;let y=this.registerLanguageProvider(d.registerOptions,d.id);this._registrations.set(d.id,{disposable:y[0],data:d,provider:y[1]})}unregister(d){let y=this._registrations.get(d);void 0!==y&&y.disposable.dispose()}dispose(){this._registrations.forEach(d=>{d.disposable.dispose()}),this._registrations.clear()}getRegistration(d,y){if(!y)return[void 0,void 0];if(l.TextDocumentRegistrationOptions.is(y)){const g=l.StaticRegistrationOptions.hasId(y)?y.id:f.generateUuid(),v=y.documentSelector||d;if(v)return[g,Object.assign({},y,{documentSelector:v})]}else if(C.boolean(y)&&!0===y||l.WorkDoneProgressOptions.is(y)){if(!d)return[void 0,void 0];let g=C.boolean(y)&&!0===y?{documentSelector:d}:Object.assign({},y,{documentSelector:d});return[f.generateUuid(),g]}return[void 0,void 0]}getRegistrationOptions(d,y){if(d&&y)return C.boolean(y)&&!0===y?{documentSelector:d}:Object.assign({},y,{documentSelector:d})}getProvider(d){for(const y of this._registrations.values()){let g=y.data.registerOptions.documentSelector;if(null!==g&&t.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(g),d)>0)return y.provider}}getAllProviders(){const d=[];for(const y of this._registrations.values())d.push(y.provider);return d}},T.WorkspaceFeature=class u{constructor(d,y){this._client=d,this._registrationType=y,this._registrations=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._registrations.size>0}}get registrationType(){return this._registrationType}register(d){const y=this.registerLanguageProvider(d.registerOptions);this._registrations.set(d.id,{disposable:y[0],provider:y[1]})}unregister(d){let y=this._registrations.get(d);void 0!==y&&y.disposable.dispose()}dispose(){this._registrations.forEach(d=>{d.disposable.dispose()}),this._registrations.clear()}getProviders(){const d=[];for(const y of this._registrations.values())d.push(y.provider);return d}}},68447:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.WillDeleteFilesFeature=T.WillRenameFilesFeature=T.WillCreateFilesFeature=T.DidDeleteFilesFeature=T.DidRenameFilesFeature=T.DidCreateFilesFeature=void 0;const t=e(44336),l=e(78746),C=e(62543),f=e(8173);function I(m,w){return void 0===m[w]&&(m[w]={}),m[w]}function S(m,w,E){m[w]=E}class D{constructor(w,E,L,x,A){this._client=w,this._event=E,this._registrationType=L,this._clientCapability=x,this._serverCapability=A,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(w){const E=I(I(w,"workspace"),"fileOperations");S(E,"dynamicRegistration",!0),S(E,this._clientCapability,!0)}initialize(w){const E=w.workspace?.fileOperations,L=void 0!==E?function b(m,w){return m[w]}(E,this._serverCapability):void 0;if(void 0!==L?.filters)try{this.register({id:f.generateUuid(),registerOptions:{filters:L.filters}})}catch(x){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${x}`)}}register(w){this._listener||(this._listener=this._event(this.send,this));const E=w.registerOptions.filters.map(L=>{const x=new l.Minimatch(L.pattern.glob,D.asMinimatchOptions(L.pattern.options));if(!x.makeRe())throw new Error(`Invalid pattern ${L.pattern.glob}!`);return{scheme:L.scheme,matcher:x,kind:L.pattern.matches}});this._filters.set(w.id,E)}unregister(w){this._filters.delete(w),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(w){return D.getFileType(w)}filter(w,E){var L=this;return s(function*(){const x=yield Promise.all(w.files.map(function(){var k=s(function*(W){const H=E(W),z=H.fsPath.replace(/\\/g,"/");for(const N of L._filters.values())for(const O of N)if(void 0===O.scheme||O.scheme===H.scheme)if(O.matcher.match(z)){if(void 0===O.kind)return!0;const K=yield L.getFileType(H);if(void 0===K)return L._client.error(`Failed to determine file type for ${H.toString()}.`),!0;if(K===t.FileType.File&&O.kind===C.FileOperationPatternKind.file||K===t.FileType.Directory&&O.kind===C.FileOperationPatternKind.folder)return!0}else if(O.kind===C.FileOperationPatternKind.folder&&(yield D.getFileType(H))===t.FileType.Directory&&O.matcher.match(`${z}/`))return!0;return!1});return function(W){return k.apply(this,arguments)}}())),A=w.files.filter((k,W)=>x[W]);return{...w,files:A}})()}static getFileType(w){return s(function*(){try{return(yield t.workspace.fs.stat(w)).type}catch{return}})()}static asMinimatchOptions(w){if(void 0!==w&&!0===w.ignoreCase)return{nocase:!0}}}class _ extends D{constructor(w,E,L,x,A,k,W){super(w,E,L,x,A),this._notificationType=L,this._accessUri=k,this._createParams=W}send(w){var E=this;return s(function*(){const L=yield E.filter(w,E._accessUri);if(L.files.length){const x=function(){var A=s(function*(k){return E._client.sendNotification(E._notificationType,E._createParams(k))});return function(W){return A.apply(this,arguments)}}();return E.doSend(L,x)}})()}}class r extends _{constructor(){super(...arguments),this._fsPathFileTypes=new Map}getFileType(w){var E=this;return s(function*(){const L=w.fsPath;if(E._fsPathFileTypes.has(L))return E._fsPathFileTypes.get(L);const x=yield D.getFileType(w);return x&&E._fsPathFileTypes.set(L,x),x})()}cacheFileTypes(w,E){var L=this;return s(function*(){yield L.filter(w,E)})()}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(w){super.unregister(w),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}T.DidCreateFilesFeature=class a extends _{constructor(w){super(w,t.workspace.onDidCreateFiles,C.DidCreateFilesNotification.type,"didCreate","didCreate",E=>E,w.code2ProtocolConverter.asDidCreateFilesParams)}doSend(w,E){const L=this._client.middleware.workspace;return L?.didCreateFiles?L.didCreateFiles(w,E):E(w)}},T.DidRenameFilesFeature=class u extends r{constructor(w){super(w,t.workspace.onDidRenameFiles,C.DidRenameFilesNotification.type,"didRename","didRename",E=>E.oldUri,w.code2ProtocolConverter.asDidRenameFilesParams)}register(w){this._willListener||(this._willListener=t.workspace.onWillRenameFiles(this.willRename,this)),super.register(w)}willRename(w){w.waitUntil(this.cacheFileTypes(w,E=>E.oldUri))}doSend(w,E){this.clearFileTypeCache();const L=this._client.middleware.workspace;return L?.didRenameFiles?L.didRenameFiles(w,E):E(w)}},T.DidDeleteFilesFeature=class n extends r{constructor(w){super(w,t.workspace.onDidDeleteFiles,C.DidDeleteFilesNotification.type,"didDelete","didDelete",E=>E,w.code2ProtocolConverter.asDidDeleteFilesParams)}register(w){this._willListener||(this._willListener=t.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(w)}willDelete(w){w.waitUntil(this.cacheFileTypes(w,E=>E))}doSend(w,E){this.clearFileTypeCache();const L=this._client.middleware.workspace;return L?.didDeleteFiles?L.didDeleteFiles(w,E):E(w)}};class d extends D{constructor(w,E,L,x,A,k,W){super(w,E,L,x,A),this._requestType=L,this._accessUri=k,this._createParams=W}send(w){var E=this;return s(function*(){const L=E.waitUntil(w);w.waitUntil(L)})()}waitUntil(w){var E=this;return s(function*(){const L=yield E.filter(w,E._accessUri);if(L.files.length){const x=A=>E._client.sendRequest(E._requestType,E._createParams(A),A.token).then(E._client.protocol2CodeConverter.asWorkspaceEdit);return E.doSend(L,x)}})()}}T.WillCreateFilesFeature=class y extends d{constructor(w){super(w,t.workspace.onWillCreateFiles,C.WillCreateFilesRequest.type,"willCreate","willCreate",E=>E,w.code2ProtocolConverter.asWillCreateFilesParams)}doSend(w,E){const L=this._client.middleware.workspace;return L?.willCreateFiles?L.willCreateFiles(w,E):E(w)}},T.WillRenameFilesFeature=class g extends d{constructor(w){super(w,t.workspace.onWillRenameFiles,C.WillRenameFilesRequest.type,"willRename","willRename",E=>E.oldUri,w.code2ProtocolConverter.asWillRenameFilesParams)}doSend(w,E){const L=this._client.middleware.workspace;return L?.willRenameFiles?L.willRenameFiles(w,E):E(w)}},T.WillDeleteFilesFeature=class v extends d{constructor(w){super(w,t.workspace.onWillDeleteFiles,C.WillDeleteFilesRequest.type,"willDelete","willDelete",E=>E,w.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(w,E){const L=this._client.middleware.workspace;return L?.willDeleteFiles?L.willDeleteFiles(w,E):E(w)}}},49848:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.FileSystemWatcherFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);T.FileSystemWatcherFeature=class C{constructor(I,b){this._client=I,this._notifyFileEvent=b,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return t.DidChangeWatchedFilesNotification.type}fillClientCapabilities(I){(0,l.ensure)((0,l.ensure)(I,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,l.ensure)((0,l.ensure)(I,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(I,b){}register(I){if(!Array.isArray(I.registerOptions.watchers))return;const b=[];for(const S of I.registerOptions.watchers){const D=this._client.protocol2CodeConverter.asGlobPattern(S.globPattern);if(void 0===D)continue;let _=!0,r=!0,a=!0;null!=S.kind&&(_=0!=(S.kind&t.WatchKind.Create),r=0!=(S.kind&t.WatchKind.Change),a=0!=(S.kind&t.WatchKind.Delete));const u=s.workspace.createFileSystemWatcher(D,!_,!r,!a);this.hookListeners(u,_,r,a,b),b.push(u)}this._watchers.set(I.id,b)}registerRaw(I,b){let S=[];for(let D of b)this.hookListeners(D,!0,!0,!0,S);this._watchers.set(I,S)}hookListeners(I,b,S,D,_){b&&I.onDidCreate(r=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(r),type:t.FileChangeType.Created}),null,_),S&&I.onDidChange(r=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(r),type:t.FileChangeType.Changed}),null,_),D&&I.onDidDelete(r=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(r),type:t.FileChangeType.Deleted}),null,_)}unregister(I){let b=this._watchers.get(I);if(b)for(let S of b)S.dispose()}dispose(){this._watchers.forEach(I=>{for(let b of I)b.dispose()}),this._watchers.clear()}}},13184:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.FoldingRangeFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);T.FoldingRangeFeature=class C extends l.TextDocumentLanguageFeature{constructor(I){super(I,t.FoldingRangeRequest.type)}fillClientCapabilities(I){let b=(0,l.ensure)((0,l.ensure)(I,"textDocument"),"foldingRange");b.dynamicRegistration=!0,b.rangeLimit=5e3,b.lineFoldingOnly=!0,b.foldingRangeKind={valueSet:[t.FoldingRangeKind.Comment,t.FoldingRangeKind.Imports,t.FoldingRangeKind.Region]},b.foldingRange={collapsedText:!1}}initialize(I,b){let[S,D]=this.getRegistration(b,I.foldingRangeProvider);!S||!D||this.register({id:S,registerOptions:D})}registerLanguageProvider(I){const S={provideFoldingRanges:(D,_,r)=>{const a=this._client,u=(d,y,g)=>{const v={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d)};return a.sendRequest(t.FoldingRangeRequest.type,v,g).then(m=>g.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(m,g),m=>a.handleFailedRequest(t.FoldingRangeRequest.type,g,m,null))},n=a.middleware;return n.provideFoldingRanges?n.provideFoldingRanges(D,_,r,u):u(D,0,r)}};return[s.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(I.documentSelector),S),S]}}},89559:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DocumentOnTypeFormattingFeature=T.DocumentRangeFormattingFeature=T.DocumentFormattingFeature=void 0;const s=e(44336),t=e(62543),l=e(8173),C=e(87031);var f;(f||(f={})).fromConfiguration=function _(r){const a=s.workspace.getConfiguration("files",r);return{trimTrailingWhitespace:a.get("trimTrailingWhitespace"),trimFinalNewlines:a.get("trimFinalNewlines"),insertFinalNewline:a.get("insertFinalNewline")}},T.DocumentFormattingFeature=class I extends C.TextDocumentLanguageFeature{constructor(_){super(_,t.DocumentFormattingRequest.type)}fillClientCapabilities(_){(0,C.ensure)((0,C.ensure)(_,"textDocument"),"formatting").dynamicRegistration=!0}initialize(_,r){const a=this.getRegistrationOptions(r,_.documentFormattingProvider);a&&this.register({id:l.generateUuid(),registerOptions:a})}registerLanguageProvider(_){const a={provideDocumentFormattingEdits:(u,n,d)=>{const y=this._client,g=(m,w,E)=>{const L={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(m),options:y.code2ProtocolConverter.asFormattingOptions(w,f.fromConfiguration(m))};return y.sendRequest(t.DocumentFormattingRequest.type,L,E).then(x=>E.isCancellationRequested?null:y.protocol2CodeConverter.asTextEdits(x,E),x=>y.handleFailedRequest(t.DocumentFormattingRequest.type,E,x,null))},v=y.middleware;return v.provideDocumentFormattingEdits?v.provideDocumentFormattingEdits(u,n,d,g):g(u,n,d)}};return[s.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),a),a]}},T.DocumentRangeFormattingFeature=class b extends C.TextDocumentLanguageFeature{constructor(_){super(_,t.DocumentRangeFormattingRequest.type)}fillClientCapabilities(_){(0,C.ensure)((0,C.ensure)(_,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(_,r){const a=this.getRegistrationOptions(r,_.documentRangeFormattingProvider);a&&this.register({id:l.generateUuid(),registerOptions:a})}registerLanguageProvider(_){const a={provideDocumentRangeFormattingEdits:(u,n,d,y)=>{const g=this._client,v=(w,E,L,x)=>{const A={textDocument:g.code2ProtocolConverter.asTextDocumentIdentifier(w),range:g.code2ProtocolConverter.asRange(E),options:g.code2ProtocolConverter.asFormattingOptions(L,f.fromConfiguration(w))};return g.sendRequest(t.DocumentRangeFormattingRequest.type,A,x).then(k=>x.isCancellationRequested?null:g.protocol2CodeConverter.asTextEdits(k,x),k=>g.handleFailedRequest(t.DocumentRangeFormattingRequest.type,x,k,null))},m=g.middleware;return m.provideDocumentRangeFormattingEdits?m.provideDocumentRangeFormattingEdits(u,n,d,y,v):v(u,n,d,y)}};return[s.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),a),a]}},T.DocumentOnTypeFormattingFeature=class S extends C.TextDocumentLanguageFeature{constructor(_){super(_,t.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(_){(0,C.ensure)((0,C.ensure)(_,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(_,r){const a=this.getRegistrationOptions(r,_.documentOnTypeFormattingProvider);a&&this.register({id:l.generateUuid(),registerOptions:a})}registerLanguageProvider(_){const a={provideOnTypeFormattingEdits:(n,d,y,g,v)=>{const m=this._client,w=(L,x,A,k,W)=>{let H={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(L),position:m.code2ProtocolConverter.asPosition(x),ch:A,options:m.code2ProtocolConverter.asFormattingOptions(k,f.fromConfiguration(L))};return m.sendRequest(t.DocumentOnTypeFormattingRequest.type,H,W).then(z=>W.isCancellationRequested?null:m.protocol2CodeConverter.asTextEdits(z,W),z=>m.handleFailedRequest(t.DocumentOnTypeFormattingRequest.type,W,z,null))},E=m.middleware;return E.provideOnTypeFormattingEdits?E.provideOnTypeFormattingEdits(n,d,y,g,v,w):w(n,d,y,g,v)}},u=_.moreTriggerCharacter||[];return[s.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),a,_.firstTriggerCharacter,...u),a]}}},17026:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.HoverFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(8173);T.HoverFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.HoverRequest.type)}fillClientCapabilities(b){const S=(0,l.ensure)((0,l.ensure)(b,"textDocument"),"hover");S.dynamicRegistration=!0,S.contentFormat=[t.MarkupKind.Markdown,t.MarkupKind.PlainText]}initialize(b,S){const D=this.getRegistrationOptions(S,b.hoverProvider);D&&this.register({id:C.generateUuid(),registerOptions:D})}registerLanguageProvider(b){const D={provideHover:(_,r,a)=>{const u=this._client,n=(y,g,v)=>u.sendRequest(t.HoverRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(y,g),v).then(m=>v.isCancellationRequested?null:u.protocol2CodeConverter.asHover(m),m=>u.handleFailedRequest(t.HoverRequest.type,v,m,null)),d=u.middleware;return d.provideHover?d.provideHover(_,r,a,n):n(_,r,a)}};return[this.registerProvider(b.documentSelector,D),D]}registerProvider(b,S){return s.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(b),S)}}},5887:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ImplementationFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);T.ImplementationFeature=class C extends l.TextDocumentLanguageFeature{constructor(I){super(I,t.ImplementationRequest.type)}fillClientCapabilities(I){let b=(0,l.ensure)((0,l.ensure)(I,"textDocument"),"implementation");b.dynamicRegistration=!0,b.linkSupport=!0}initialize(I,b){let[S,D]=this.getRegistration(b,I.implementationProvider);!S||!D||this.register({id:S,registerOptions:D})}registerLanguageProvider(I){const S={provideImplementation:(D,_,r)=>{const a=this._client,u=(d,y,g)=>a.sendRequest(t.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(d,y),g).then(v=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(v,g),v=>a.handleFailedRequest(t.ImplementationRequest.type,g,v,null)),n=a.middleware;return n.provideImplementation?n.provideImplementation(D,_,r,u):u(D,_,r)}};return[this.registerProvider(I.documentSelector,S),S]}registerProvider(I,b){return s.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(I),b)}}},56055:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.InlayHintsFeature=void 0;const t=e(44336),l=e(62543),C=e(87031);T.InlayHintsFeature=class f extends C.TextDocumentLanguageFeature{constructor(b){super(b,l.InlayHintRequest.type)}fillClientCapabilities(b){const S=(0,C.ensure)((0,C.ensure)(b,"textDocument"),"inlayHint");S.dynamicRegistration=!0,S.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,C.ensure)((0,C.ensure)(b,"workspace"),"inlayHint").refreshSupport=!0}initialize(b,S){var D=this;this._client.onRequest(l.InlayHintRefreshRequest.type,s(function*(){for(const a of D.getAllProviders())a.onDidChangeInlayHints.fire()}));const[_,r]=this.getRegistration(S,b.inlayHintProvider);!_||!r||this.register({id:_,registerOptions:r})}registerLanguageProvider(b){const S=b.documentSelector,D=new t.EventEmitter,_={onDidChangeInlayHints:D.event,provideInlayHints:(r,a,u)=>{const n=this._client,d=function(){var g=s(function*(v,m,w){const E={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(v),range:n.code2ProtocolConverter.asRange(m)};try{const L=yield n.sendRequest(l.InlayHintRequest.type,E,w);return w.isCancellationRequested?null:n.protocol2CodeConverter.asInlayHints(L,w)}catch(L){return n.handleFailedRequest(l.InlayHintRequest.type,w,L,null)}});return function(m,w,E){return g.apply(this,arguments)}}(),y=n.middleware;return y.provideInlayHints?y.provideInlayHints(r,a,u,d):d(r,a,u)}};return _.resolveInlayHint=!0===b.resolveProvider?(r,a)=>{const u=this._client,n=function(){var y=s(function*(g,v){try{const m=yield u.sendRequest(l.InlayHintResolveRequest.type,u.code2ProtocolConverter.asInlayHint(g),v);if(v.isCancellationRequested)return null;const w=u.protocol2CodeConverter.asInlayHint(m,v);return v.isCancellationRequested?null:w}catch(m){return u.handleFailedRequest(l.InlayHintResolveRequest.type,v,m,null)}});return function(v,m){return y.apply(this,arguments)}}(),d=u.middleware;return d.resolveInlayHint?d.resolveInlayHint(r,a,n):n(r,a)}:void 0,[this.registerProvider(S,_),{provider:_,onDidChangeInlayHints:D}]}registerProvider(b,S){return t.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(b),S)}}},75555:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.InlineValueFeature=void 0;const t=e(44336),l=e(62543),C=e(87031);T.InlineValueFeature=class f extends C.TextDocumentLanguageFeature{constructor(b){super(b,l.InlineValueRequest.type)}fillClientCapabilities(b){(0,C.ensure)((0,C.ensure)(b,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,C.ensure)((0,C.ensure)(b,"workspace"),"inlineValue").refreshSupport=!0}initialize(b,S){var D=this;this._client.onRequest(l.InlineValueRefreshRequest.type,s(function*(){for(const a of D.getAllProviders())a.onDidChangeInlineValues.fire()}));const[_,r]=this.getRegistration(S,b.inlineValueProvider);!_||!r||this.register({id:_,registerOptions:r})}registerLanguageProvider(b){const S=b.documentSelector,D=new t.EventEmitter,_={onDidChangeInlineValues:D.event,provideInlineValues:(r,a,u,n)=>{const d=this._client,y=(v,m,w,E)=>{const L={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(v),range:d.code2ProtocolConverter.asRange(m),context:d.code2ProtocolConverter.asInlineValueContext(w)};return d.sendRequest(l.InlineValueRequest.type,L,E).then(x=>E.isCancellationRequested?null:d.protocol2CodeConverter.asInlineValues(x,E),x=>d.handleFailedRequest(l.InlineValueRequest.type,E,x,null))},g=d.middleware;return g.provideInlineValues?g.provideInlineValues(r,a,u,n,y):y(r,a,u,n)}};return[this.registerProvider(S,_),{provider:_,onDidChangeInlineValues:D}]}registerProvider(b,S){return t.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(b),S)}}},13737:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.LinkedEditingFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);T.LinkedEditingFeature=class C extends l.TextDocumentLanguageFeature{constructor(I){super(I,t.LinkedEditingRangeRequest.type)}fillClientCapabilities(I){(0,l.ensure)((0,l.ensure)(I,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(I,b){let[S,D]=this.getRegistration(b,I.linkedEditingRangeProvider);!S||!D||this.register({id:S,registerOptions:D})}registerLanguageProvider(I){const S={provideLinkedEditingRanges:(D,_,r)=>{const a=this._client,u=(d,y,g)=>a.sendRequest(t.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(d,y),g).then(v=>g.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(v,g),v=>a.handleFailedRequest(t.LinkedEditingRangeRequest.type,g,v,null)),n=a.middleware;return n.provideLinkedEditingRange?n.provideLinkedEditingRange(D,_,r,u):u(D,_,r)}};return[this.registerProvider(I.documentSelector,S),S]}registerProvider(I,b){return s.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(I),b)}}},46780:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.NotebookDocumentSyncFeature=void 0;const t=e(44336),l=e(78746),C=e(62543),f=e(8173),I=e(35465);function b(d,y){return void 0===d[y]&&(d[y]={}),d[y]}var S,D,_,r,a;!function(d){let y;!function(g){function w(H,z){return H.map(N=>L(N,z))}function E(H){return A(new Set,H)}function L(H,z){const N=C.NotebookCell.create(function x(H){switch(H){case t.NotebookCellKind.Markup:return C.NotebookCellKind.Markup;case t.NotebookCellKind.Code:return C.NotebookCellKind.Code}}(H.kind),z.asUri(H.document.uri));return Object.keys(H.metadata).length>0&&(N.metadata=E(H.metadata)),void 0!==H.executionSummary&&I.number(H.executionSummary.executionOrder)&&I.boolean(H.executionSummary.success)&&(N.executionSummary={executionOrder:H.executionSummary.executionOrder,success:H.executionSummary.success}),N}function A(H,z){if(H.has(z))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(z)){const N=[];for(const O of z)if(null!==O&&"object"==typeof O||Array.isArray(O))N.push(A(H,O));else{if(O instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");N.push(O)}return N}{const N=Object.keys(z),O=Object.create(null);for(const K of N){const $=z[K];if(null!==$&&"object"==typeof $||Array.isArray($))O[K]=A(H,$);else{if($ instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");O[K]=$}}return O}}g.asVersionedNotebookDocumentIdentifier=function v(H,z){return{version:H.version,uri:z.asUri(H.uri)}},g.asNotebookDocument=function m(H,z,N){const O=C.NotebookDocument.create(N.asUri(H.uri),H.notebookType,H.version,w(z,N));return Object.keys(H.metadata).length>0&&(O.metadata=E(H.metadata)),O},g.asNotebookCells=w,g.asMetadata=E,g.asNotebookCell=L,g.asTextContentChange=function k(H,z){const N=z.asChangeTextDocumentParams(H);return{document:N.textDocument,changes:N.contentChanges}},g.asNotebookDocumentChangeEvent=function W(H,z){const N=Object.create(null);if(H.metadata&&(N.metadata=d.c2p.asMetadata(H.metadata)),void 0!==H.cells){const O=Object.create(null),K=H.cells;K.structure&&(O.structure={array:{start:K.structure.array.start,deleteCount:K.structure.array.deleteCount,cells:void 0!==K.structure.array.cells?K.structure.array.cells.map($=>d.c2p.asNotebookCell($,z)):void 0},didOpen:void 0!==K.structure.didOpen?K.structure.didOpen.map($=>z.asOpenTextDocumentParams($.document).textDocument):void 0,didClose:void 0!==K.structure.didClose?K.structure.didClose.map($=>z.asCloseTextDocumentParams($.document).textDocument):void 0}),void 0!==K.data&&(O.data=K.data.map($=>d.c2p.asNotebookCell($,z))),void 0!==K.textContent&&(O.textContent=K.textContent.map($=>d.c2p.asTextContentChange($,z))),Object.keys(O).length>0&&(N.cells=O)}return N}}(y=d.c2p||(d.c2p={}))}(S||(S={})),function(d){function g(L,x,A=!0){return!(L.kind!==x.kind||L.document.uri.toString()!==x.document.uri.toString()||L.document.languageId!==x.document.languageId||!function v(L,x){return L===x||void 0!==L&&void 0!==x&&L.executionOrder===x.executionOrder&&L.success===x.success&&function m(L,x){return L===x||void 0!==L&&void 0!==x&&L.startTime===x.startTime&&L.endTime===x.endTime}(L.timing,x.timing)}(L.executionSummary,x.executionSummary))&&(!A||A&&w(L.metadata,x.metadata))}function w(L,x){if(L===x)return!0;if(null==L||null==x||typeof L!=typeof x||"object"!=typeof L)return!1;const A=Array.isArray(L),k=Array.isArray(x);if(A!==k)return!1;if(A&&k){if(L.length!==x.length)return!1;for(let W=0;W<L.length;W++)if(!w(L[W],x[W]))return!1}if(E(L)&&E(x)){const W=Object.keys(L),H=Object.keys(x);if(W.length!==H.length||(W.sort(),H.sort(),!w(W,H)))return!1;for(let z=0;z<W.length;z++){const N=W[z];if(!w(L[N],x[N]))return!1}return!0}return!1}function E(L){return null!==L&&"object"==typeof L}d.computeDiff=function y(L,x,A){const k=L.length,W=x.length;let H=0;for(;H<W&&H<k&&g(L[H],x[H],A);)H++;if(H<W&&H<k){let z=k-1,N=W-1;for(;z>=0&&N>=0&&g(L[z],x[N],A);)z--,N--;const O=z+1-H,K=H===N+1?void 0:x.slice(H,N+1);return void 0!==K?{start:H,deleteCount:O,cells:K}:{start:H,deleteCount:O}}return H<W?{start:H,deleteCount:0,cells:x.slice(H)}:H<k?{start:H,deleteCount:k-H}:void 0},d.isObjectLiteral=E}(D||(D={})),(_||(_={})).matchNotebook=function y(g,v){if("string"==typeof g)return"*"===g||v.notebookType===g;if(void 0!==g.notebookType&&"*"!==g.notebookType&&v.notebookType!==g.notebookType)return!1;const m=v.uri;if(void 0!==g.scheme&&"*"!==g.scheme&&m.scheme!==g.scheme)return!1;if(void 0!==g.pattern){const w=new l.Minimatch(g.pattern,{noext:!0});if(!w.makeRe()||!w.match(m.fsPath))return!1}return!0},function(d){function g(v,m,w,E){return void 0===m&&void 0===w?{notebook:v,language:E}:{notebook:{notebookType:v,scheme:m,pattern:w},language:E}}d.asDocumentSelector=function y(v){const m=v.notebookSelector,w=[];for(const E of m){const L=("string"==typeof E.notebook?E.notebook:E.notebook?.notebookType)??"*",x="string"==typeof E.notebook?void 0:E.notebook?.scheme,A="string"==typeof E.notebook?void 0:E.notebook?.pattern;if(void 0!==E.cells)for(const k of E.cells)w.push(g(L,x,A,k.language));else w.push(g(L,x,A,void 0))}return w}}(r||(r={})),(a||(a={})).create=function y(g){return{cells:g,uris:new Set(g.map(v=>v.document.uri.toString()))}};class u{constructor(y,g){this.client=y,this.options=g,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=y.protocol2CodeConverter.asDocumentSelector(r.asDocumentSelector(g)),t.workspace.onDidOpenNotebookDocument(v=>{this.notebookDidOpen.add(v.uri.toString()),this.didOpen(v)},void 0,this.disposables);for(const v of t.workspace.notebookDocuments)this.notebookDidOpen.add(v.uri.toString()),this.didOpen(v);t.workspace.onDidChangeNotebookDocument(v=>this.didChangeNotebookDocument(v),void 0,this.disposables),!0===this.options.save&&t.workspace.onDidSaveNotebookDocument(v=>this.didSave(v),void 0,this.disposables),t.workspace.onDidCloseNotebookDocument(v=>{this.didClose(v),this.notebookDidOpen.delete(v.uri.toString())},void 0,this.disposables)}getState(){for(const y of t.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(y))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(y){return t.languages.match(this.selector,y)>0}didOpenNotebookCellTextDocument(y,g){if(0===t.languages.match(this.selector,g.document)||!this.notebookDidOpen.has(y.uri.toString()))return;const v=this.notebookSyncInfo.get(y.uri.toString()),m=this.cellMatches(y,g);if(void 0!==v){const w=v.uris.has(g.document.uri.toString());if(m&&w||!m&&!w)return;if(m){const E=this.getMatchingCells(y);if(void 0!==E){const L=this.asNotebookDocumentChangeEvent(y,void 0,v,E);void 0!==L&&this.doSendChange(L,E).catch(()=>{})}}}else m&&this.doSendOpen(y,[g]).catch(()=>{})}didChangeNotebookCellTextDocument(y,g){0!==t.languages.match(this.selector,g.document)&&this.doSendChange({notebook:y,cells:{textContent:[g]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(y,g){const v=this.notebookSyncInfo.get(y.uri.toString());if(void 0===v)return;const m=g.document.uri,w=v.cells.findIndex(E=>E.document.uri.toString()===m.toString());if(-1!==w)if(0===w&&1===v.cells.length)this.doSendClose(y,v.cells).catch(()=>{});else{const E=v.cells.slice(),L=E.splice(w,1);this.doSendChange({notebook:y,cells:{structure:{array:{start:w,deleteCount:1},didClose:L}}},E).catch(()=>{})}}dispose(){for(const y of this.disposables)y.dispose()}didOpen(y,g=this.getMatchingCells(y),v=this.notebookSyncInfo.get(y.uri.toString())){if(void 0!==v)if(void 0!==g){const m=this.asNotebookDocumentChangeEvent(y,void 0,v,g);void 0!==m&&this.doSendChange(m,g).catch(()=>{})}else this.doSendClose(y,[]).catch(()=>{});else{if(void 0===g)return;this.doSendOpen(y,g).catch(()=>{})}}didChangeNotebookDocument(y){const g=y.notebook,v=this.notebookSyncInfo.get(g.uri.toString());if(void 0===v){if(0===y.contentChanges.length)return;const m=this.getMatchingCells(g);if(void 0===m)return;this.didOpen(g,m,v)}else{const m=this.getMatchingCells(g);if(void 0===m)return void this.didClose(g,v);const w=this.asNotebookDocumentChangeEvent(y.notebook,y,v,m);void 0!==w&&this.doSendChange(w,m).catch(()=>{})}}didSave(y){void 0!==this.notebookSyncInfo.get(y.uri.toString())&&this.doSendSave(y).catch(()=>{})}didClose(y,g=this.notebookSyncInfo.get(y.uri.toString())){if(void 0===g)return;const v=y.getCells().filter(m=>g.uris.has(m.document.uri.toString()));this.doSendClose(y,v).catch(()=>{})}sendDidOpenNotebookDocument(y){var g=this;return s(function*(){const v=g.getMatchingCells(y);if(void 0!==v)return g.doSendOpen(y,v)})()}doSendOpen(y,g){var v=this;return s(function*(){const m=function(){var E=s(function*(L,x){const A=S.c2p.asNotebookDocument(L,x,v.client.code2ProtocolConverter),k=x.map(W=>v.client.code2ProtocolConverter.asTextDocumentItem(W.document));try{yield v.client.sendNotification(C.DidOpenNotebookDocumentNotification.type,{notebookDocument:A,cellTextDocuments:k})}catch(W){throw v.client.error("Sending DidOpenNotebookDocumentNotification failed",W),W}});return function(x,A){return E.apply(this,arguments)}}(),w=v.client.middleware?.notebooks;return v.notebookSyncInfo.set(y.uri.toString(),a.create(g)),void 0!==w?.didOpen?w.didOpen(y,g,m):m(y,g)})()}sendDidChangeNotebookDocument(y){var g=this;return s(function*(){return g.doSendChange(y,void 0)})()}doSendChange(y,g=this.getMatchingCells(y.notebook)){var v=this;return s(function*(){const m=function(){var E=s(function*(L){try{yield v.client.sendNotification(C.DidChangeNotebookDocumentNotification.type,{notebookDocument:S.c2p.asVersionedNotebookDocumentIdentifier(L.notebook,v.client.code2ProtocolConverter),change:S.c2p.asNotebookDocumentChangeEvent(L,v.client.code2ProtocolConverter)})}catch(x){throw v.client.error("Sending DidChangeNotebookDocumentNotification failed",x),x}});return function(x){return E.apply(this,arguments)}}(),w=v.client.middleware?.notebooks;return void 0!==y.cells?.structure&&v.notebookSyncInfo.set(y.notebook.uri.toString(),a.create(g??[])),void 0!==w?.didChange?w?.didChange(y,m):m(y)})()}sendDidSaveNotebookDocument(y){var g=this;return s(function*(){return g.doSendSave(y)})()}doSendSave(y){var g=this;return s(function*(){const v=function(){var w=s(function*(E){try{yield g.client.sendNotification(C.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:g.client.code2ProtocolConverter.asUri(E.uri)}})}catch(L){throw g.client.error("Sending DidSaveNotebookDocumentNotification failed",L),L}});return function(L){return w.apply(this,arguments)}}(),m=g.client.middleware?.notebooks;return void 0!==m?.didSave?m.didSave(y,v):v(y)})()}sendDidCloseNotebookDocument(y){var g=this;return s(function*(){return g.doSendClose(y,g.getMatchingCells(y)??[])})()}doSendClose(y,g){var v=this;return s(function*(){const m=function(){var E=s(function*(L,x){try{yield v.client.sendNotification(C.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:v.client.code2ProtocolConverter.asUri(L.uri)},cellTextDocuments:x.map(A=>v.client.code2ProtocolConverter.asTextDocumentIdentifier(A.document))})}catch(A){throw v.client.error("Sending DidCloseNotebookDocumentNotification failed",A),A}});return function(x,A){return E.apply(this,arguments)}}(),w=v.client.middleware?.notebooks;return v.notebookSyncInfo.delete(y.uri.toString()),void 0!==w?.didClose?w.didClose(y,g,m):m(y,g)})()}asNotebookDocumentChangeEvent(y,g,v,m){if(void 0!==g&&g.notebook!==y)throw new Error("Notebook must be identical");const w={notebook:y};let E;if(void 0!==g?.metadata&&(w.metadata=S.c2p.asMetadata(g.metadata)),void 0!==g?.cellChanges&&g.cellChanges.length>0){const L=[];E=new Set(m.map(x=>x.document.uri.toString()));for(const x of g.cellChanges)E.has(x.cell.document.uri.toString())&&(void 0!==x.executionSummary||void 0!==x.metadata)&&L.push(x.cell);L.length>0&&(w.cells=w.cells??{},w.cells.data=L)}if((void 0!==g?.contentChanges&&g.contentChanges.length>0||void 0===g)&&void 0!==v&&void 0!==m){const L=v.cells,A=D.computeDiff(L,m,!1);let k,W;if(void 0!==A){k=void 0===A.cells?new Map:new Map(A.cells.map(N=>[N.document.uri.toString(),N])),W=0===A.deleteCount?new Map:new Map(L.slice(A.start,A.start+A.deleteCount).map(N=>[N.document.uri.toString(),N]));for(const N of Array.from(W.keys()))k.has(N)&&(W.delete(N),k.delete(N));w.cells=w.cells??{};const H=[],z=[];if(k.size>0||W.size>0){for(const N of k.values())H.push(N);for(const N of W.values())z.push(N)}w.cells.structure={array:A,didOpen:H,didClose:z}}}return Object.keys(w).length>1?w:void 0}getMatchingCells(y,g=y.getCells()){if(void 0!==this.options.notebookSelector)for(const v of this.options.notebookSelector)if(void 0===v.notebook||_.matchNotebook(v.notebook,y)){const m=this.filterCells(y,g,v.cells);return 0===m.length?void 0:m}}cellMatches(y,g){const v=this.getMatchingCells(y,[g]);return void 0!==v&&v[0]===g}filterCells(y,g,v){const m=void 0!==v?g.filter(w=>{const E=w.document.languageId;return v.some(L=>"*"===L.language||E===L.language)}):g;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(y,m):m}}class n{constructor(y){this.client=y,this.registrations=new Map,this.registrationType=C.NotebookDocumentSyncRegistrationType.type,t.workspace.onDidOpenTextDocument(g=>{if(g.uri.scheme!==n.CellScheme)return;const[v,m]=this.findNotebookDocumentAndCell(g);if(void 0!==v&&void 0!==m)for(const w of this.registrations.values())w instanceof u&&w.didOpenNotebookCellTextDocument(v,m)}),t.workspace.onDidChangeTextDocument(g=>{if(0===g.contentChanges.length)return;const v=g.document;if(v.uri.scheme!==n.CellScheme)return;const[m]=this.findNotebookDocumentAndCell(v);if(void 0!==m)for(const w of this.registrations.values())w instanceof u&&w.didChangeNotebookCellTextDocument(m,g)}),t.workspace.onDidCloseTextDocument(g=>{if(g.uri.scheme!==n.CellScheme)return;const[v,m]=this.findNotebookDocumentAndCell(g);if(void 0!==v&&void 0!==m)for(const w of this.registrations.values())w instanceof u&&w.didCloseNotebookCellTextDocument(v,m)})}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const y of this.registrations.values()){const g=y.getState();if("document"===g.kind&&!0===g.registrations&&!0===g.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(y){const g=b(b(y,"notebookDocument"),"synchronization");g.dynamicRegistration=!0,g.executionSummarySupport=!0}preInitialize(y){const g=y.notebookDocumentSync;void 0!==g&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(r.asDocumentSelector(g)))}initialize(y){const g=y.notebookDocumentSync;if(void 0===g)return;const v=g.id??f.generateUuid();this.register({id:v,registerOptions:g})}register(y){const g=new u(this.client,y.registerOptions);this.registrations.set(y.id,g)}unregister(y){const g=this.registrations.get(y);g&&g.dispose()}dispose(){for(const y of this.registrations.values())y.dispose();this.registrations.clear()}handles(y){if(y.uri.scheme!==n.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&t.languages.match(this.dedicatedChannel,y)>0)return!0;for(const g of this.registrations.values())if(g.handles(y))return!0;return!1}getProvider(y){for(const g of this.registrations.values())if(g.handles(y.document))return g}findNotebookDocumentAndCell(y){const g=y.uri.toString();for(const v of t.workspace.notebookDocuments)for(const m of v.getCells())if(m.document.uri.toString()===g)return[v,m];return[void 0,void 0]}}T.NotebookDocumentSyncFeature=n,n.CellScheme="vscode-notebook-cell"},91051:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ProgressFeature=void 0;const s=e(62543),t=e(4982);T.ProgressFeature=class C{constructor(I){this._client=I,this.activeParts=new Set}getState(){return{kind:"window",id:s.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(I){(function l(f,I){return void 0===f[I]&&(f[I]=Object.create(null)),f[I]}(I,"window")).workDoneProgress=!0}initialize(){const b=D=>{this.activeParts.delete(D)};this._client.onRequest(s.WorkDoneProgressCreateRequest.type,D=>{this.activeParts.add(new t.ProgressPart(this._client,D.token,b))})}dispose(){for(const I of this.activeParts)I.done();this.activeParts.clear()}}},4982:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.ProgressPart=void 0;const t=e(44336),l=e(62543),C=e(35465);T.ProgressPart=class f{constructor(b,S,D){this._client=b,this._token=S,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(l.WorkDoneProgress.type,this._token,_=>{switch(_.kind){case"begin":this.begin(_);break;case"report":this.report(_);break;case"end":this.done(),D&&D(this)}})}begin(b){var S=this;this._infinite=void 0===b.percentage,void 0!==this._lspProgressDisposable&&t.window.withProgress({location:t.ProgressLocation.Window,cancellable:b.cancellable,title:b.title},function(){var D=s(function*(_,r){if(void 0!==S._lspProgressDisposable)return S._progress=_,S._cancellationToken=r,S._tokenDisposable=S._cancellationToken.onCancellationRequested(()=>{S._client.sendNotification(l.WorkDoneProgressCancelNotification.type,{token:S._token})}),S.report(b),new Promise((a,u)=>{S._resolve=a,S._reject=u})});return function(_,r){return D.apply(this,arguments)}}())}report(b){if(this._infinite&&C.string(b.message))void 0!==this._progress&&this._progress.report({message:b.message});else if(C.number(b.percentage)){const S=Math.max(0,Math.min(b.percentage,100)),D=Math.max(0,S-this._reported);this._reported+=D,void 0!==this._progress&&this._progress.report({message:b.message,increment:D})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},5190:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.CallHierarchyItem{constructor(C,f,I,b,S,D,_){super(C,f,I,b,S,D),void 0!==_&&(this.data=_)}}},49199:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.CodeAction{constructor(C,f){super(C),this.data=f}}},59963:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.CodeLens{constructor(C){super(C)}}},35164:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.CompletionItem{constructor(C){super(C)}}},44888:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.createConverter=void 0;const t=e(44336),l=e(62543),C=e(35465),f=e(65735),I=e(35164),b=e(59963),S=e(1970),D=e(49199),_=e(26349),r=e(5190),a=e(17048),u=e(51796),n=e(8060),d=e(62543);var y;(y||(y={})).is=function m(w){let E=w;return E&&C.string(E.language)&&C.string(E.value)},T.createConverter=function g(v,m,w){const L=v||(Be=>t.Uri.parse(Be));function x(Be){return L(Be)}function W(){return(W=s(function*(Be,_t){return f.map(Be,z,_t)})).apply(this,arguments)}function z(Be){let _t=new _.ProtocolDiagnostic(j(Be.range),Be.message,Z(Be.severity),Be.data);if(void 0!==Be.code)if("string"==typeof Be.code||"number"==typeof Be.code)_t.code=l.CodeDescription.is(Be.codeDescription)?{value:Be.code,target:x(Be.codeDescription.href)}:Be.code;else if(_.DiagnosticCode.is(Be.code)){_t.hasDiagnosticCode=!0;const vn=Be.code;_t.code={value:vn.value,target:x(vn.target)}}return Be.source&&(_t.source=Be.source),Be.relatedInformation&&(_t.relatedInformation=function N(Be){const _t=new Array(Be.length);for(let vn=0;vn<Be.length;vn++){const $n=Be[vn];_t[vn]=new t.DiagnosticRelatedInformation(Q($n.location),$n.message)}return _t}(Be.relatedInformation)),Array.isArray(Be.tags)&&(_t.tags=function O(Be){if(!Be)return;let _t=[];for(let vn of Be){let $n=K(vn);void 0!==$n&&_t.push($n)}return _t.length>0?_t:void 0}(Be.tags)),_t}function K(Be){switch(Be){case l.DiagnosticTag.Unnecessary:return t.DiagnosticTag.Unnecessary;case l.DiagnosticTag.Deprecated:return t.DiagnosticTag.Deprecated;default:return}}function $(Be){return Be?new t.Position(Be.line,Be.character):void 0}function j(Be){return Be?new t.Range(Be.start.line,Be.start.character,Be.end.line,Be.end.character):void 0}function q(Be,_t){return R.apply(this,arguments)}function R(){return(R=s(function*(Be,_t){return f.map(Be,vn=>new t.Range(vn.start.line,vn.start.character,vn.end.line,vn.end.character),_t)})).apply(this,arguments)}function Z(Be){if(null==Be)return t.DiagnosticSeverity.Error;switch(Be){case l.DiagnosticSeverity.Error:return t.DiagnosticSeverity.Error;case l.DiagnosticSeverity.Warning:return t.DiagnosticSeverity.Warning;case l.DiagnosticSeverity.Information:return t.DiagnosticSeverity.Information;case l.DiagnosticSeverity.Hint:return t.DiagnosticSeverity.Hint}return t.DiagnosticSeverity.Error}function Ce(Be){if(C.string(Be))return Be;switch(Be.kind){case l.MarkupKind.Markdown:return Se(Be.value);case l.MarkupKind.PlainText:return Be.value;default:return`Unsupported Markup content received. Kind is: ${Be.kind}`}}function Se(Be){let _t;if(void 0===Be||"string"==typeof Be)_t=new t.MarkdownString(Be);else switch(Be.kind){case l.MarkupKind.Markdown:_t=new t.MarkdownString(Be.value);break;case l.MarkupKind.PlainText:_t=new t.MarkdownString,_t.appendText(Be.value);break;default:_t=new t.MarkdownString,_t.appendText(`Unsupported Markup content received. Kind is: ${Be.kind}`)}return _t.isTrusted=m,_t.supportHtml=w,_t}function Me(){return(Me=s(function*(Be,_t,vn){if(!Be)return;if(Array.isArray(Be))return f.map(Be,Ut=>me(Ut,_t),vn);const $n=Be,{defaultRange:Pi,commitCharacters:Ii}=function Oe(Be,_t){const vn=Be.itemDefaults?.editRange,$n=Be.itemDefaults?.commitCharacters??_t;return l.Range.is(vn)?{defaultRange:j(vn),commitCharacters:$n}:void 0!==vn?{defaultRange:{inserting:j(vn.insert),replacing:j(vn.replace)},commitCharacters:$n}:{defaultRange:void 0,commitCharacters:$n}}($n,_t),ii=yield f.map($n.items,Ut=>me(Ut,Ii,Pi,$n.itemDefaults?.insertTextMode,$n.itemDefaults?.insertTextFormat,$n.itemDefaults?.data),vn);return new t.CompletionList(ii,$n.isIncomplete)})).apply(this,arguments)}function ce(Be){if(Be===l.CompletionItemTag.Deprecated)return t.CompletionItemTag.Deprecated}function me(Be,_t,vn,$n,Pi,Ii){const ii=function Ee(Be){if(null==Be)return[];const _t=[];for(const vn of Be){const $n=ce(vn);void 0!==$n&&_t.push($n)}return _t}(Be.tags),Ut=function Pe(Be){return l.CompletionItemLabelDetails.is(Be.labelDetails)?{label:Be.label,detail:Be.labelDetails.detail,description:Be.labelDetails.description}:Be.label}(Be),F=new I.default(Ut);Be.detail&&(F.detail=Be.detail),Be.documentation&&(F.documentation=Ce(Be.documentation),F.documentationFormat=C.string(Be.documentation)?"$string":Be.documentation.kind),Be.filterText&&(F.filterText=Be.filterText);const ee=function he(Be,_t,vn){const $n=Be.insertTextFormat??vn;if(void 0!==Be.textEdit||void 0!==_t){const[Pi,Ii]=void 0!==Be.textEdit?function Fe(Be){return l.InsertReplaceEdit.is(Be)?[{inserting:j(Be.insert),replacing:j(Be.replace)},Be.newText]:[j(Be.range),Be.newText]}(Be.textEdit):[_t,Be.textEditText??Be.label];return $n===l.InsertTextFormat.Snippet?{text:new t.SnippetString(Ii),range:Pi,fromEdit:!0}:{text:Ii,range:Pi,fromEdit:!0}}return Be.insertText?$n===l.InsertTextFormat.Snippet?{text:new t.SnippetString(Be.insertText),fromEdit:!1}:{text:Be.insertText,fromEdit:!1}:void 0}(Be,vn,Pi);if(ee&&(F.insertText=ee.text,F.range=ee.range,F.fromEdit=ee.fromEdit),C.number(Be.kind)){let[ct,rn]=function se(Be){return l.CompletionItemKind.Text<=Be&&Be<=l.CompletionItemKind.TypeParameter?[Be-1,void 0]:[t.CompletionItemKind.Text,Be]}(Be.kind);F.kind=ct,rn&&(F.originalItemKind=rn)}Be.sortText&&(F.sortText=Be.sortText),Be.additionalTextEdits&&(F.additionalTextEdits=Ke(Be.additionalTextEdits));const _e=void 0!==Be.commitCharacters?C.stringArray(Be.commitCharacters)?Be.commitCharacters:void 0:_t;_e&&(F.commitCharacters=_e.slice()),Be.command&&(F.command=nt(Be.command)),(!0===Be.deprecated||!1===Be.deprecated)&&(F.deprecated=Be.deprecated,!0===Be.deprecated&&ii.push(t.CompletionItemTag.Deprecated)),(!0===Be.preselect||!1===Be.preselect)&&(F.preselect=Be.preselect);const Qe=Be.data??Ii;void 0!==Qe&&(F.data=Qe),ii.length>0&&(F.tags=ii);const qe=Be.insertTextMode??$n;return void 0!==qe&&(F.insertTextMode=qe,qe===l.InsertTextMode.asIs&&(F.keepWhitespace=!0)),F}function Ze(Be){if(Be)return new t.TextEdit(j(Be.range),Be.newText)}function ze(Be,_t){return fe.apply(this,arguments)}function fe(){return(fe=s(function*(Be,_t){if(Be)return f.map(Be,Ze,_t)})).apply(this,arguments)}function Ke(Be){if(!Be)return;const _t=new Array(Be.length);for(let vn=0;vn<Be.length;vn++)_t[vn]=Ze(Be[vn]);return _t}function vt(){return(vt=s(function*(Be,_t){if(!Be)return;let vn=new t.SignatureHelp;return vn.activeSignature=C.number(Be.activeSignature)?Be.activeSignature:0,vn.activeParameter=C.number(Be.activeParameter)?Be.activeParameter:0,Be.signatures&&(vn.signatures=yield Et(Be.signatures,_t)),vn})).apply(this,arguments)}function Et(Be,_t){return Xe.apply(this,arguments)}function Xe(){return(Xe=s(function*(Be,_t){return f.mapAsync(Be,re,_t)})).apply(this,arguments)}function re(Be,_t){return pe.apply(this,arguments)}function pe(){return(pe=s(function*(Be,_t){let vn=new t.SignatureInformation(Be.label);return void 0!==Be.documentation&&(vn.documentation=Ce(Be.documentation)),void 0!==Be.parameters&&(vn.parameters=yield ge(Be.parameters,_t)),void 0!==Be.activeParameter&&(vn.activeParameter=Be.activeParameter),vn})).apply(this,arguments)}function ge(Be,_t){return f.map(Be,de,_t)}function de(Be){let _t=new t.ParameterInformation(Be.label);return Be.documentation&&(_t.documentation=Ce(Be.documentation)),_t}function Q(Be){return Be?new t.Location(L(Be.uri),j(Be.range)):void 0}function Ae(){return(Ae=s(function*(Be,_t){if(Be)return et(Be,_t)})).apply(this,arguments)}function dt(){return(dt=s(function*(Be,_t){if(Be)return et(Be,_t)})).apply(this,arguments)}function it(Be){if(!Be)return;let _t={targetUri:L(Be.targetUri),targetRange:j(Be.targetRange),originSelectionRange:j(Be.originSelectionRange),targetSelectionRange:j(Be.targetSelectionRange)};if(!_t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return _t}function et(Be,_t){return st.apply(this,arguments)}function st(){return(st=s(function*(Be,_t){if(Be)return C.array(Be)?0===Be.length?[]:l.LocationLink.is(Be[0])?f.map(Be,it,_t):f.map(Be,Q,_t):l.LocationLink.is(Be)?[it(Be)]:Q(Be)})).apply(this,arguments)}function mt(){return(mt=s(function*(Be,_t){if(Be)return f.map(Be,Q,_t)})).apply(this,arguments)}function Bt(){return(Bt=s(function*(Be,_t){if(Be)return f.map(Be,Lt,_t)})).apply(this,arguments)}function Lt(Be){let _t=new t.DocumentHighlight(j(Be.range));return C.number(Be.kind)&&(_t.kind=Ye(Be.kind)),_t}function Ye(Be){switch(Be){case l.DocumentHighlightKind.Text:return t.DocumentHighlightKind.Text;case l.DocumentHighlightKind.Read:return t.DocumentHighlightKind.Read;case l.DocumentHighlightKind.Write:return t.DocumentHighlightKind.Write}return t.DocumentHighlightKind.Text}function qt(){return(qt=s(function*(Be,_t){if(Be)return f.map(Be,Le,_t)})).apply(this,arguments)}function Ot(Be){return Be<=l.SymbolKind.TypeParameter?Be-1:t.SymbolKind.Property}function Ft(Be){if(Be===l.SymbolTag.Deprecated)return t.SymbolTag.Deprecated}function rt(Be){if(null==Be)return;const _t=[];for(const vn of Be){const $n=Ft(vn);void 0!==$n&&_t.push($n)}return 0===_t.length?void 0:_t}function Le(Be){const _t=Be.data,vn=Be.location,$n=void 0===vn.range||void 0!==_t?new u.default(Be.name,Ot(Be.kind),Be.containerName??"",void 0===vn.range?L(vn.uri):new t.Location(L(Be.location.uri),j(vn.range)),_t):new t.SymbolInformation(Be.name,Ot(Be.kind),Be.containerName??"",new t.Location(L(Be.location.uri),j(vn.range)));return we($n,Be),$n}function te(){return(te=s(function*(Be,_t){if(null!=Be)return f.map(Be,oe,_t)})).apply(this,arguments)}function oe(Be){let _t=new t.DocumentSymbol(Be.name,Be.detail||"",Ot(Be.kind),j(Be.range),j(Be.selectionRange));if(we(_t,Be),void 0!==Be.children&&Be.children.length>0){let vn=[];for(let $n of Be.children)vn.push(oe($n));_t.children=vn}return _t}function we(Be,_t){Be.tags=rt(_t.tags),_t.deprecated&&(Be.tags?Be.tags.includes(t.SymbolTag.Deprecated)||(Be.tags=Be.tags.concat(t.SymbolTag.Deprecated)):Be.tags=[t.SymbolTag.Deprecated])}function nt(Be){let _t={title:Be.title,command:Be.command};return Be.arguments&&(_t.arguments=Be.arguments),_t}function De(){return(De=s(function*(Be,_t){if(Be)return f.map(Be,nt,_t)})).apply(this,arguments)}const pt=new Map;function lt(Be){if(null==Be)return;let _t=pt.get(Be);if(_t)return _t;let vn=Be.split(".");_t=t.CodeActionKind.Empty;for(let $n of vn)_t=_t.append($n);return _t}function Xt(Be,_t){return ut.apply(this,arguments)}function ut(){return(ut=s(function*(Be,_t){if(null==Be)return;let vn=new D.default(Be.title,Be.data);return void 0!==Be.kind&&(vn.kind=lt(Be.kind)),void 0!==Be.diagnostics&&(vn.diagnostics=function H(Be){const _t=new Array(Be.length);for(let vn=0;vn<Be.length;vn++)_t[vn]=z(Be[vn]);return _t}(Be.diagnostics)),void 0!==Be.edit&&(vn.edit=yield fi(Be.edit,_t)),void 0!==Be.command&&(vn.command=nt(Be.command)),void 0!==Be.isPreferred&&(vn.isPreferred=Be.isPreferred),void 0!==Be.disabled&&(vn.disabled={reason:Be.disabled.reason}),vn})).apply(this,arguments)}function Kn(Be){if(!Be)return;let _t=new b.default(j(Be.range));return Be.command&&(_t.command=nt(Be.command)),null!=Be.data&&(_t.data=Be.data),_t}function li(){return(li=s(function*(Be,_t){if(Be)return f.map(Be,Kn,_t)})).apply(this,arguments)}function fi(Be,_t){return ri.apply(this,arguments)}function ri(){return(ri=s(function*(Be,_t){if(!Be)return;const vn=new Map;if(void 0!==Be.changeAnnotations){const Ii=Be.changeAnnotations;yield f.forEach(Object.keys(Ii),ii=>{const Ut=function _i(Be){if(void 0!==Be)return{label:Be.label,needsConfirmation:!!Be.needsConfirmation,description:Be.description}}(Ii[ii]);vn.set(ii,Ut)},_t)}const $n=Ii=>{if(void 0!==Ii)return vn.get(Ii)},Pi=new t.WorkspaceEdit;if(Be.documentChanges){const Ii=Be.documentChanges;yield f.forEach(Ii,ii=>{if(l.CreateFile.is(ii))Pi.createFile(L(ii.uri),ii.options,$n(ii.annotationId));else if(l.RenameFile.is(ii))Pi.renameFile(L(ii.oldUri),L(ii.newUri),ii.options,$n(ii.annotationId));else if(l.DeleteFile.is(ii))Pi.deleteFile(L(ii.uri),ii.options,$n(ii.annotationId));else{if(!l.TextDocumentEdit.is(ii))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(ii,void 0,4)}`);{const Ut=L(ii.textDocument.uri);for(const F of ii.edits)l.AnnotatedTextEdit.is(F)?Pi.replace(Ut,j(F.range),F.newText,$n(F.annotationId)):Pi.replace(Ut,j(F.range),F.newText)}}},_t)}else if(Be.changes){const Ii=Be.changes;yield f.forEach(Object.keys(Ii),ii=>{Pi.set(L(ii),Ke(Ii[ii]))},_t)}return Pi})).apply(this,arguments)}function Xi(Be){let _t=j(Be.range),vn=Be.target?x(Be.target):void 0,$n=new S.default(_t,vn);return void 0!==Be.tooltip&&($n.tooltip=Be.tooltip),null!=Be.data&&($n.data=Be.data),$n}function vo(){return(vo=s(function*(Be,_t){if(Be)return f.map(Be,Xi,_t)})).apply(this,arguments)}function oo(Be){return new t.Color(Be.red,Be.green,Be.blue,Be.alpha)}function yo(Be){return new t.ColorInformation(j(Be.range),oo(Be.color))}function oi(){return(oi=s(function*(Be,_t){if(Be)return f.map(Be,yo,_t)})).apply(this,arguments)}function en(Be){let _t=new t.ColorPresentation(Be.label);return _t.additionalTextEdits=Ke(Be.additionalTextEdits),Be.textEdit&&(_t.textEdit=Ze(Be.textEdit)),_t}function Dt(){return(Dt=s(function*(Be,_t){if(Be)return f.map(Be,en,_t)})).apply(this,arguments)}function $t(Be){if(Be)switch(Be){case l.FoldingRangeKind.Comment:return t.FoldingRangeKind.Comment;case l.FoldingRangeKind.Imports:return t.FoldingRangeKind.Imports;case l.FoldingRangeKind.Region:return t.FoldingRangeKind.Region}}function tn(Be){return new t.FoldingRange(Be.startLine,Be.endLine,$t(Be.kind))}function Cn(){return(Cn=s(function*(Be,_t){if(Be)return f.map(Be,tn,_t)})).apply(this,arguments)}function Pn(Be){return new t.SelectionRange(j(Be.range),Be.parent?Pn(Be.parent):void 0)}function zn(){return(zn=s(function*(Be,_t){return Array.isArray(Be)?f.map(Be,Pn,_t):[]})).apply(this,arguments)}function bi(Be){return l.InlineValueText.is(Be)?new t.InlineValueText(j(Be.range),Be.text):l.InlineValueVariableLookup.is(Be)?new t.InlineValueVariableLookup(j(Be.range),Be.variableName,Be.caseSensitiveLookup):new t.InlineValueEvaluatableExpression(j(Be.range),Be.expression)}function ao(){return(ao=s(function*(Be,_t){return Array.isArray(Be)?f.map(Be,bi,_t):[]})).apply(this,arguments)}function Oi(Be,_t){return Qi.apply(this,arguments)}function Qi(){return(Qi=s(function*(Be,_t){const vn="string"==typeof Be.label?Be.label:yield f.map(Be.label,Wi,_t),$n=new n.default($(Be.position),vn);return void 0!==Be.kind&&($n.kind=Be.kind),void 0!==Be.textEdits&&($n.textEdits=yield ze(Be.textEdits,_t)),void 0!==Be.tooltip&&($n.tooltip=xo(Be.tooltip)),void 0!==Be.paddingLeft&&($n.paddingLeft=Be.paddingLeft),void 0!==Be.paddingRight&&($n.paddingRight=Be.paddingRight),void 0!==Be.data&&($n.data=Be.data),$n})).apply(this,arguments)}function Wi(Be){const _t=new t.InlayHintLabelPart(Be.value);return void 0!==Be.location&&(_t.location=Q(Be.location)),void 0!==Be.tooltip&&(_t.tooltip=xo(Be.tooltip)),void 0!==Be.command&&(_t.command=nt(Be.command)),_t}function xo(Be){return"string"==typeof Be?Be:Se(Be)}function Co(){return(Co=s(function*(Be,_t){if(Array.isArray(Be))return f.mapAsync(Be,Oi,_t)})).apply(this,arguments)}function Mo(Be){if(null===Be)return;const _t=new r.default(Ot(Be.kind),Be.name,Be.detail||"",x(Be.uri),j(Be.range),j(Be.selectionRange),Be.data);return void 0!==Be.tags&&(_t.tags=rt(Be.tags)),_t}function ko(){return(ko=s(function*(Be,_t){if(null!==Be)return f.map(Be,Mo,_t)})).apply(this,arguments)}function so(Be,_t){return Do.apply(this,arguments)}function Do(){return(Do=s(function*(Be,_t){return new t.CallHierarchyIncomingCall(Mo(Be.from),yield q(Be.fromRanges,_t))})).apply(this,arguments)}function ni(){return(ni=s(function*(Be,_t){if(null!==Be)return f.mapAsync(Be,so,_t)})).apply(this,arguments)}function Zt(Be,_t){return sn.apply(this,arguments)}function sn(){return(sn=s(function*(Be,_t){return new t.CallHierarchyOutgoingCall(Mo(Be.to),yield q(Be.fromRanges,_t))})).apply(this,arguments)}function Bn(){return(Bn=s(function*(Be,_t){if(null!==Be)return f.mapAsync(Be,Zt,_t)})).apply(this,arguments)}function un(){return(un=s(function*(Be,_t){if(null!=Be)return new t.SemanticTokens(new Uint32Array(Be.data),Be.resultId)})).apply(this,arguments)}function ht(Be){return new t.SemanticTokensEdit(Be.start,Be.deleteCount,void 0!==Be.data?new Uint32Array(Be.data):void 0)}function nn(){return(nn=s(function*(Be,_t){if(null!=Be)return new t.SemanticTokensEdits(Be.edits.map(ht),Be.resultId)})).apply(this,arguments)}function bn(){return(bn=s(function*(Be,_t){if(null!=Be)return new t.LinkedEditingRanges(yield q(Be.ranges,_t),function Ct(Be){if(null!=Be)return new RegExp(Be)}(Be.wordPattern))})).apply(this,arguments)}function Wt(Be){if(null===Be)return;let _t=new a.default(Ot(Be.kind),Be.name,Be.detail||"",x(Be.uri),j(Be.range),j(Be.selectionRange),Be.data);return void 0!==Be.tags&&(_t.tags=rt(Be.tags)),_t}function Yt(){return(Yt=s(function*(Be,_t){if(null!==Be)return f.map(Be,Wt,_t)})).apply(this,arguments)}return pt.set(l.CodeActionKind.Empty,t.CodeActionKind.Empty),pt.set(l.CodeActionKind.QuickFix,t.CodeActionKind.QuickFix),pt.set(l.CodeActionKind.Refactor,t.CodeActionKind.Refactor),pt.set(l.CodeActionKind.RefactorExtract,t.CodeActionKind.RefactorExtract),pt.set(l.CodeActionKind.RefactorInline,t.CodeActionKind.RefactorInline),pt.set(l.CodeActionKind.RefactorRewrite,t.CodeActionKind.RefactorRewrite),pt.set(l.CodeActionKind.Source,t.CodeActionKind.Source),pt.set(l.CodeActionKind.SourceOrganizeImports,t.CodeActionKind.SourceOrganizeImports),{asUri:x,asDocumentSelector:function A(Be){const _t=[];for(const vn of Be)"string"==typeof vn?_t.push(vn):d.NotebookCellTextDocumentFilter.is(vn)?_t.push("string"==typeof vn.notebook?{notebookType:vn.notebook,language:vn.language}:{notebookType:vn.notebook.notebookType??"*",scheme:vn.notebook.scheme,pattern:vn.notebook.pattern,language:vn.language}):d.TextDocumentFilter.is(vn)&&_t.push({language:vn.language,scheme:vn.scheme,pattern:vn.pattern});return _t},asDiagnostics:function k(Be,_t){return W.apply(this,arguments)},asDiagnostic:z,asRange:j,asRanges:q,asPosition:$,asDiagnosticSeverity:Z,asDiagnosticTag:K,asHover:function Ie(Be){if(Be)return new t.Hover(function J(Be){if(C.string(Be))return Se(Be);if(y.is(Be))return Se().appendCodeblock(Be.value,Be.language);if(Array.isArray(Be)){let _t=[];for(let vn of Be){let $n=Se();y.is(vn)?$n.appendCodeblock(vn.value,vn.language):$n.appendMarkdown(vn),_t.push($n)}return _t}return Se(Be)}(Be.contents),j(Be.range))},asCompletionResult:function xe(Be,_t,vn){return Me.apply(this,arguments)},asCompletionItem:me,asTextEdit:Ze,asTextEdits:ze,asSignatureHelp:function Je(Be,_t){return vt.apply(this,arguments)},asSignatureInformations:Et,asSignatureInformation:re,asParameterInformations:ge,asParameterInformation:de,asDeclarationResult:function ye(Be,_t){return Ae.apply(this,arguments)},asDefinitionResult:function ft(Be,_t){return dt.apply(this,arguments)},asLocation:Q,asReferences:function St(Be,_t){return mt.apply(this,arguments)},asDocumentHighlights:function bt(Be,_t){return Bt.apply(this,arguments)},asDocumentHighlight:Lt,asDocumentHighlightKind:Ye,asSymbolKind:Ot,asSymbolTag:Ft,asSymbolTags:rt,asSymbolInformations:function Tt(Be,_t){return qt.apply(this,arguments)},asSymbolInformation:Le,asDocumentSymbols:function ie(Be,_t){return te.apply(this,arguments)},asDocumentSymbol:oe,asCommand:nt,asCommands:function He(Be,_t){return De.apply(this,arguments)},asCodeAction:Xt,asCodeActionKind:lt,asCodeActionKinds:function Ht(Be){if(null!=Be)return Be.map(_t=>lt(_t))},asCodeActionResult:function an(Be,_t){return f.mapAsync(Be,function(){var vn=s(function*($n){return l.Command.is($n)?nt($n):Xt($n,_t)});return function($n){return vn.apply(this,arguments)}}(),_t)},asCodeLens:Kn,asCodeLenses:function Gn(Be,_t){return li.apply(this,arguments)},asWorkspaceEdit:fi,asDocumentLink:Xi,asDocumentLinks:function Zi(Be,_t){return vo.apply(this,arguments)},asFoldingRangeKind:$t,asFoldingRange:tn,asFoldingRanges:function cn(Be,_t){return Cn.apply(this,arguments)},asColor:oo,asColorInformation:yo,asColorInformations:function Lo(Be,_t){return oi.apply(this,arguments)},asColorPresentation:en,asColorPresentations:function wt(Be,_t){return Dt.apply(this,arguments)},asSelectionRange:Pn,asSelectionRanges:function Hn(Be,_t){return zn.apply(this,arguments)},asInlineValue:bi,asInlineValues:function Ei(Be,_t){return ao.apply(this,arguments)},asInlayHint:Oi,asInlayHints:function ro(Be,_t){return Co.apply(this,arguments)},asSemanticTokensLegend:function Dn(Be){return Be},asSemanticTokens:function An(Be,_t){return un.apply(this,arguments)},asSemanticTokensEdit:ht,asSemanticTokensEdits:function Kt(Be,_t){return nn.apply(this,arguments)},asCallHierarchyItem:Mo,asCallHierarchyItems:function Oo(Be,_t){return ko.apply(this,arguments)},asCallHierarchyIncomingCall:so,asCallHierarchyIncomingCalls:function Ho(Be,_t){return ni.apply(this,arguments)},asCallHierarchyOutgoingCall:Zt,asCallHierarchyOutgoingCalls:function dn(Be,_t){return Bn.apply(this,arguments)},asLinkedEditingRanges:function In(Be,_t){return bn.apply(this,arguments)},asTypeHierarchyItem:Wt,asTypeHierarchyItems:function jt(Be,_t){return Yt.apply(this,arguments)},asGlobPattern:function gn(Be){if(C.string(Be))return Be;if(l.RelativePattern.is(Be)){if(l.URI.is(Be.baseUri))return new t.RelativePattern(x(Be.baseUri),Be.pattern);if(l.WorkspaceFolder.is(Be.baseUri)){const _t=t.workspace.getWorkspaceFolder(x(Be.baseUri.uri));return void 0!==_t?new t.RelativePattern(_t,Be.pattern):void 0}}}}}},26349:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ProtocolDiagnostic=T.DiagnosticCode=void 0;const s=e(44336),t=e(35465);(T.DiagnosticCode||(T.DiagnosticCode={})).is=function I(b){const S=b;return null!=S&&(t.number(S.value)||t.string(S.value))&&t.string(S.target)},T.ProtocolDiagnostic=class C extends s.Diagnostic{constructor(I,b,S,D){super(I,b,S),this.data=D,this.hasDiagnosticCode=!1}}},1970:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.DocumentLink{constructor(C,f){super(C,f)}}},8060:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.InlayHint{constructor(C,f,I){super(C,f,I)}}},17048:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.TypeHierarchyItem{constructor(C,f,I,b,S,D,_){super(C,f,I,b,S,D),void 0!==_&&(this.data=_)}}},51796:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});const s=e(44336);T.default=class t extends s.SymbolInformation{constructor(C,f,I,b,S){const D=!(b instanceof s.Uri);super(C,f,I,D?b:new s.Location(b,new s.Range(0,0,0,0))),this.hasRange=D,void 0!==S&&(this.data=S)}}},79866:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ReferencesFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(8173);T.ReferencesFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.ReferencesRequest.type)}fillClientCapabilities(b){(0,l.ensure)((0,l.ensure)(b,"textDocument"),"references").dynamicRegistration=!0}initialize(b,S){const D=this.getRegistrationOptions(S,b.referencesProvider);D&&this.register({id:C.generateUuid(),registerOptions:D})}registerLanguageProvider(b){const D={provideReferences:(_,r,a,u)=>{const n=this._client,d=(g,v,m,w)=>n.sendRequest(t.ReferencesRequest.type,n.code2ProtocolConverter.asReferenceParams(g,v,m),w).then(E=>w.isCancellationRequested?null:n.protocol2CodeConverter.asReferences(E,w),E=>n.handleFailedRequest(t.ReferencesRequest.type,w,E,null)),y=n.middleware;return y.provideReferences?y.provideReferences(_,r,a,u,d):d(_,r,a,u)}};return[this.registerProvider(b.documentSelector,D),D]}registerProvider(b,S){return s.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(b),S)}}},16645:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.RenameFeature=void 0;const s=e(44336),t=e(62543),l=e(8173),C=e(35465),f=e(87031);T.RenameFeature=class I extends f.TextDocumentLanguageFeature{constructor(S){super(S,t.RenameRequest.type)}fillClientCapabilities(S){let D=(0,f.ensure)((0,f.ensure)(S,"textDocument"),"rename");D.dynamicRegistration=!0,D.prepareSupport=!0,D.prepareSupportDefaultBehavior=t.PrepareSupportDefaultBehavior.Identifier,D.honorsChangeAnnotations=!0}initialize(S,D){const _=this.getRegistrationOptions(D,S.renameProvider);_&&(C.boolean(S.renameProvider)&&(_.prepareProvider=!1),this.register({id:l.generateUuid(),registerOptions:_}))}registerLanguageProvider(S){const _={provideRenameEdits:(r,a,u,n)=>{const d=this._client,y=(v,m,w,E)=>{let L={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(v),position:d.code2ProtocolConverter.asPosition(m),newName:w};return d.sendRequest(t.RenameRequest.type,L,E).then(x=>E.isCancellationRequested?null:d.protocol2CodeConverter.asWorkspaceEdit(x,E),x=>d.handleFailedRequest(t.RenameRequest.type,E,x,null,!1))},g=d.middleware;return g.provideRenameEdits?g.provideRenameEdits(r,a,u,n,y):y(r,a,u,n)},prepareRename:S.prepareProvider?(r,a,u)=>{const n=this._client,d=(g,v,m)=>{let w={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(g),position:n.code2ProtocolConverter.asPosition(v)};return n.sendRequest(t.PrepareRenameRequest.type,w,m).then(E=>m.isCancellationRequested?null:t.Range.is(E)?n.protocol2CodeConverter.asRange(E):this.isDefaultBehavior(E)?!0===E.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):E&&t.Range.is(E.range)?{range:n.protocol2CodeConverter.asRange(E.range),placeholder:E.placeholder}:Promise.reject(new Error("The element can't be renamed.")),E=>{throw"string"==typeof E.message?new Error(E.message):new Error("The element can't be renamed.")})},y=n.middleware;return y.prepareRename?y.prepareRename(r,a,u,d):d(r,a,u)}:void 0};return[this.registerProvider(S.documentSelector,_),_]}registerProvider(S,D){return s.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(S),D)}isDefaultBehavior(S){return S&&C.boolean(S.defaultBehavior)}}},11582:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.SelectionRangeFeature=void 0;const t=e(44336),l=e(62543),C=e(87031);T.SelectionRangeFeature=class f extends C.TextDocumentLanguageFeature{constructor(b){super(b,l.SelectionRangeRequest.type)}fillClientCapabilities(b){(0,C.ensure)((0,C.ensure)(b,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(b,S){const[D,_]=this.getRegistration(S,b.selectionRangeProvider);!D||!_||this.register({id:D,registerOptions:_})}registerLanguageProvider(b){const D={provideSelectionRanges:(_,r,a)=>{const u=this._client,n=function(){var y=s(function*(g,v,m){const w={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(g),positions:yield u.code2ProtocolConverter.asPositions(v,m)};return u.sendRequest(l.SelectionRangeRequest.type,w,m).then(E=>m.isCancellationRequested?null:u.protocol2CodeConverter.asSelectionRanges(E,m),E=>u.handleFailedRequest(l.SelectionRangeRequest.type,m,E,null))});return function(v,m,w){return y.apply(this,arguments)}}(),d=u.middleware;return d.provideSelectionRanges?d.provideSelectionRanges(_,r,a,n):n(_,r,a)}};return[this.registerProvider(b.documentSelector,D),D]}registerProvider(b,S){return t.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(b),S)}}},41864:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.SemanticTokensFeature=void 0;const t=e(44336),l=e(62543),C=e(87031),f=e(35465);T.SemanticTokensFeature=class I extends C.TextDocumentLanguageFeature{constructor(S){super(S,l.SemanticTokensRegistrationType.type)}fillClientCapabilities(S){const D=(0,C.ensure)((0,C.ensure)(S,"textDocument"),"semanticTokens");D.dynamicRegistration=!0,D.tokenTypes=[l.SemanticTokenTypes.namespace,l.SemanticTokenTypes.type,l.SemanticTokenTypes.class,l.SemanticTokenTypes.enum,l.SemanticTokenTypes.interface,l.SemanticTokenTypes.struct,l.SemanticTokenTypes.typeParameter,l.SemanticTokenTypes.parameter,l.SemanticTokenTypes.variable,l.SemanticTokenTypes.property,l.SemanticTokenTypes.enumMember,l.SemanticTokenTypes.event,l.SemanticTokenTypes.function,l.SemanticTokenTypes.method,l.SemanticTokenTypes.macro,l.SemanticTokenTypes.keyword,l.SemanticTokenTypes.modifier,l.SemanticTokenTypes.comment,l.SemanticTokenTypes.string,l.SemanticTokenTypes.number,l.SemanticTokenTypes.regexp,l.SemanticTokenTypes.operator,l.SemanticTokenTypes.decorator],D.tokenModifiers=[l.SemanticTokenModifiers.declaration,l.SemanticTokenModifiers.definition,l.SemanticTokenModifiers.readonly,l.SemanticTokenModifiers.static,l.SemanticTokenModifiers.deprecated,l.SemanticTokenModifiers.abstract,l.SemanticTokenModifiers.async,l.SemanticTokenModifiers.modification,l.SemanticTokenModifiers.documentation,l.SemanticTokenModifiers.defaultLibrary],D.formats=[l.TokenFormat.Relative],D.requests={range:!0,full:{delta:!0}},D.multilineTokenSupport=!1,D.overlappingTokenSupport=!1,D.serverCancelSupport=!0,D.augmentsSyntaxTokens=!0,(0,C.ensure)((0,C.ensure)(S,"workspace"),"semanticTokens").refreshSupport=!0}initialize(S,D){var _=this;this._client.onRequest(l.SemanticTokensRefreshRequest.type,s(function*(){for(const n of _.getAllProviders())n.onDidChangeSemanticTokensEmitter.fire()}));const[a,u]=this.getRegistration(D,S.semanticTokensProvider);!a||!u||this.register({id:a,registerOptions:u})}registerLanguageProvider(S){const D=S.documentSelector,_=f.boolean(S.full)?S.full:void 0!==S.full,r=void 0!==S.full&&"boolean"!=typeof S.full&&!0===S.full.delta,a=new t.EventEmitter,u=_?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:(w,E)=>{const L=this._client,x=L.middleware,A=(k,W)=>{const H={textDocument:L.code2ProtocolConverter.asTextDocumentIdentifier(k)};return L.sendRequest(l.SemanticTokensRequest.type,H,W).then(z=>W.isCancellationRequested?null:L.protocol2CodeConverter.asSemanticTokens(z,W),z=>L.handleFailedRequest(l.SemanticTokensRequest.type,W,z,null))};return x.provideDocumentSemanticTokens?x.provideDocumentSemanticTokens(w,E,A):A(w,E)},provideDocumentSemanticTokensEdits:r?(w,E,L)=>{const x=this._client,A=x.middleware,k=(W,H,z)=>{const N={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(W),previousResultId:H};return x.sendRequest(l.SemanticTokensDeltaRequest.type,N,z).then(function(){var O=s(function*(K){return z.isCancellationRequested?null:l.SemanticTokens.is(K)?yield x.protocol2CodeConverter.asSemanticTokens(K,z):yield x.protocol2CodeConverter.asSemanticTokensEdits(K,z)});return function(K){return O.apply(this,arguments)}}(),O=>x.handleFailedRequest(l.SemanticTokensDeltaRequest.type,z,O,null))};return A.provideDocumentSemanticTokensEdits?A.provideDocumentSemanticTokensEdits(w,E,L,k):k(w,E,L)}:void 0}:void 0,d=!0===S.range?{provideDocumentRangeSemanticTokens:(w,E,L)=>{const x=this._client,A=x.middleware,k=(W,H,z)=>{const N={textDocument:x.code2ProtocolConverter.asTextDocumentIdentifier(W),range:x.code2ProtocolConverter.asRange(H)};return x.sendRequest(l.SemanticTokensRangeRequest.type,N,z).then(O=>z.isCancellationRequested?null:x.protocol2CodeConverter.asSemanticTokens(O,z),O=>x.handleFailedRequest(l.SemanticTokensRangeRequest.type,z,O,null))};return A.provideDocumentRangeSemanticTokens?A.provideDocumentRangeSemanticTokens(w,E,L,k):k(w,E,L)}}:void 0,y=[],g=this._client,v=g.protocol2CodeConverter.asSemanticTokensLegend(S.legend),m=g.protocol2CodeConverter.asDocumentSelector(D);return void 0!==u&&y.push(t.languages.registerDocumentSemanticTokensProvider(m,u,v)),void 0!==d&&y.push(t.languages.registerDocumentRangeSemanticTokensProvider(m,d,v)),[new t.Disposable(()=>y.forEach(w=>w.dispose())),{range:d,full:u,onDidChangeSemanticTokensEmitter:a}]}}},50529:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SignatureHelpFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(8173);T.SignatureHelpFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.SignatureHelpRequest.type)}fillClientCapabilities(b){let S=(0,l.ensure)((0,l.ensure)(b,"textDocument"),"signatureHelp");S.dynamicRegistration=!0,S.signatureInformation={documentationFormat:[t.MarkupKind.Markdown,t.MarkupKind.PlainText]},S.signatureInformation.parameterInformation={labelOffsetSupport:!0},S.signatureInformation.activeParameterSupport=!0,S.contextSupport=!0}initialize(b,S){const D=this.getRegistrationOptions(S,b.signatureHelpProvider);D&&this.register({id:C.generateUuid(),registerOptions:D})}registerLanguageProvider(b){const S={provideSignatureHelp:(D,_,r,a)=>{const u=this._client,n=(y,g,v,m)=>u.sendRequest(t.SignatureHelpRequest.type,u.code2ProtocolConverter.asSignatureHelpParams(y,g,v),m).then(w=>m.isCancellationRequested?null:u.protocol2CodeConverter.asSignatureHelp(w,m),w=>u.handleFailedRequest(t.SignatureHelpRequest.type,m,w,null)),d=u.middleware;return d.provideSignatureHelp?d.provideSignatureHelp(D,_,a,r,n):n(D,_,a,r)}};return[this.registerProvider(b,S),S]}registerProvider(b,S){const D=this._client.protocol2CodeConverter.asDocumentSelector(b.documentSelector);return void 0===b.retriggerCharacters?s.languages.registerSignatureHelpProvider(D,S,...b.triggerCharacters||[]):s.languages.registerSignatureHelpProvider(D,S,{triggerCharacters:b.triggerCharacters||[],retriggerCharacters:b.retriggerCharacters||[]})}}},51025:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.DidSaveTextDocumentFeature=T.WillSaveWaitUntilFeature=T.WillSaveFeature=T.DidChangeTextDocumentFeature=T.DidCloseTextDocumentFeature=T.DidOpenTextDocumentFeature=void 0;const t=e(44336),l=e(62543),C=e(87031),f=e(65735),I=e(8173);T.DidOpenTextDocumentFeature=class b extends C.TextDocumentEventFeature{constructor(n,d){super(n,t.workspace.onDidOpenTextDocument,l.DidOpenTextDocumentNotification.type,()=>n.middleware.didOpen,y=>n.code2ProtocolConverter.asOpenTextDocumentParams(y),y=>y,C.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=d}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(n){(0,C.ensure)((0,C.ensure)(n,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(n,d){const y=n.resolvedTextDocumentSync;d&&y&&y.openClose&&this.register({id:I.generateUuid(),registerOptions:{documentSelector:d}})}get registrationType(){return l.DidOpenTextDocumentNotification.type}register(n){if(super.register(n),!n.registerOptions.documentSelector)return;const d=this._client.protocol2CodeConverter.asDocumentSelector(n.registerOptions.documentSelector);t.workspace.textDocuments.forEach(y=>{const g=y.uri.toString();if(!this._syncedDocuments.has(g)&&t.languages.match(d,y)>0&&!this._client.hasDedicatedTextSynchronizationFeature(y)){const v=this._client.middleware,m=w=>this._client.sendNotification(this._type,this._createParams(w));(v.didOpen?v.didOpen(y,m):m(y)).catch(w=>{this._client.error(`Sending document notification ${this._type.method} failed`,w)}),this._syncedDocuments.set(g,y)}})}notificationSent(n,d,y){super.notificationSent(n,d,y),this._syncedDocuments.set(n.uri.toString(),n)}},T.DidCloseTextDocumentFeature=class S extends C.TextDocumentEventFeature{constructor(n,d){super(n,t.workspace.onDidCloseTextDocument,l.DidCloseTextDocumentNotification.type,()=>n.middleware.didClose,y=>n.code2ProtocolConverter.asCloseTextDocumentParams(y),y=>y,C.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=d}get registrationType(){return l.DidCloseTextDocumentNotification.type}fillClientCapabilities(n){(0,C.ensure)((0,C.ensure)(n,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(n,d){let y=n.resolvedTextDocumentSync;d&&y&&y.openClose&&this.register({id:I.generateUuid(),registerOptions:{documentSelector:d}})}notificationSent(n,d,y){super.notificationSent(n,d,y),this._syncedDocuments.delete(n.uri.toString())}unregister(n){const d=this._selectors.get(n);super.unregister(n);const y=this._selectors.values();this._syncedDocuments.forEach(g=>{if(t.languages.match(d,g)>0&&!this._selectorFilter(y,g)&&!this._client.hasDedicatedTextSynchronizationFeature(g)){let v=this._client.middleware,m=w=>this._client.sendNotification(this._type,this._createParams(w));this._syncedDocuments.delete(g.uri.toString()),(v.didClose?v.didClose(g,m):m(g)).catch(w=>{this._client.error(`Sending document notification ${this._type.method} failed`,w)})}})}},T.DidChangeTextDocumentFeature=class D extends C.DynamicDocumentFeature{constructor(n){super(n),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new t.EventEmitter}get registrationType(){return l.DidChangeTextDocumentNotification.type}fillClientCapabilities(n){(0,C.ensure)((0,C.ensure)(n,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(n,d){let y=n.resolvedTextDocumentSync;d&&y&&void 0!==y.change&&y.change!==l.TextDocumentSyncKind.None&&this.register({id:I.generateUuid(),registerOptions:Object.assign({},{documentSelector:d},{syncKind:y.change})})}register(n){n.registerOptions.documentSelector&&(this._listener||(this._listener=t.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(n.id,{syncKind:n.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(n.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const n of this._changeData.values())yield n.documentSelector}callback(n){var d=this;return s(function*(){if(0===n.contentChanges.length)return;const y=[];for(const g of d._changeData.values())if(t.languages.match(g.documentSelector,n.document)>0&&!d._client.hasDedicatedTextSynchronizationFeature(n.document)){const v=d._client.middleware;if(g.syncKind===l.TextDocumentSyncKind.Incremental){const m=function(){var w=s(function*(E){const L=d._client.code2ProtocolConverter.asChangeTextDocumentParams(E);yield d._client.sendNotification(l.DidChangeTextDocumentNotification.type,L),d.notificationSent(E,l.DidChangeTextDocumentNotification.type,L)});return function(L){return w.apply(this,arguments)}}();y.push(v.didChange?v.didChange(n,w=>m(w)):m(n))}else if(g.syncKind===l.TextDocumentSyncKind.Full){const m=function(){var w=s(function*(E){const L=function(){var x=s(function*(A){const k=d._client.code2ProtocolConverter.asChangeTextDocumentParams(A.document);yield d._client.sendNotification(l.DidChangeTextDocumentNotification.type,k),d.notificationSent(A,l.DidChangeTextDocumentNotification.type,k)});return function(k){return x.apply(this,arguments)}}();return d._changeDelayer?(d._changeDelayer.uri!==E.document.uri.toString()&&(yield d.forceDelivery(),d._changeDelayer.uri=E.document.uri.toString()),d._changeDelayer.delayer.trigger(()=>L(E))):(d._changeDelayer={uri:E.document.uri.toString(),delayer:new f.Delayer(200)},d._changeDelayer.delayer.trigger(()=>L(E),-1))});return function(L){return w.apply(this,arguments)}}();y.push(v.didChange?v.didChange(n,w=>m(w)):m(n))}}return Promise.all(y).then(void 0,g=>{throw d._client.error(`Sending document notification ${l.DidChangeTextDocumentNotification.type.method} failed`,g),g})})()}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(n,d,y){this._onNotificationSent.fire({original:n,type:d,params:y})}unregister(n){this._changeData.delete(n),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){var n=this;return s(function*(){if(!n._forcingDelivery&&n._changeDelayer)try{return n._forcingDelivery=!0,n._changeDelayer.delayer.forceDelivery()}finally{n._forcingDelivery=!1}})()}getProvider(n){for(const d of this._changeData.values())if(t.languages.match(d.documentSelector,n)>0)return{send:y=>this.callback(y)}}},T.WillSaveFeature=class _ extends C.TextDocumentEventFeature{constructor(n){super(n,t.workspace.onWillSaveTextDocument,l.WillSaveTextDocumentNotification.type,()=>n.middleware.willSave,d=>n.code2ProtocolConverter.asWillSaveTextDocumentParams(d),d=>d.document,(d,y)=>C.TextDocumentEventFeature.textDocumentFilter(d,y.document))}get registrationType(){return l.WillSaveTextDocumentNotification.type}fillClientCapabilities(n){(0,C.ensure)((0,C.ensure)(n,"textDocument"),"synchronization").willSave=!0}initialize(n,d){let y=n.resolvedTextDocumentSync;d&&y&&y.willSave&&this.register({id:I.generateUuid(),registerOptions:{documentSelector:d}})}},T.WillSaveWaitUntilFeature=class r extends C.DynamicDocumentFeature{constructor(n){super(n),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return l.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(n){(0,C.ensure)((0,C.ensure)(n,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(n,d){let y=n.resolvedTextDocumentSync;d&&y&&y.willSaveWaitUntil&&this.register({id:I.generateUuid(),registerOptions:{documentSelector:d}})}register(n){n.registerOptions.documentSelector&&(this._listener||(this._listener=t.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(n.id,this._client.protocol2CodeConverter.asDocumentSelector(n.registerOptions.documentSelector)))}callback(n){var d=this;if(C.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),n.document)&&!this._client.hasDedicatedTextSynchronizationFeature(n.document)){let y=this._client.middleware,g=v=>this._client.sendRequest(l.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(v)).then(function(){var m=s(function*(w){let E=yield d._client.protocol2CodeConverter.asTextEdits(w);return void 0===E?[]:E});return function(w){return m.apply(this,arguments)}}());n.waitUntil(y.willSaveWaitUntil?y.willSaveWaitUntil(n,g):g(n))}}unregister(n){this._selectors.delete(n),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},T.DidSaveTextDocumentFeature=class a extends C.TextDocumentEventFeature{constructor(n){super(n,t.workspace.onDidSaveTextDocument,l.DidSaveTextDocumentNotification.type,()=>n.middleware.didSave,d=>n.code2ProtocolConverter.asSaveTextDocumentParams(d,this._includeText),d=>d,C.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return l.DidSaveTextDocumentNotification.type}fillClientCapabilities(n){(0,C.ensure)((0,C.ensure)(n,"textDocument"),"synchronization").didSave=!0}initialize(n,d){const y=n.resolvedTextDocumentSync;if(d&&y&&y.save){const g="boolean"==typeof y.save?{includeText:!1}:{includeText:!!y.save.includeText};this.register({id:I.generateUuid(),registerOptions:Object.assign({},{documentSelector:d},g)})}}register(n){this._includeText=!!n.registerOptions.includeText,super.register(n)}}},38593:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.TypeDefinitionFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);T.TypeDefinitionFeature=class C extends l.TextDocumentLanguageFeature{constructor(I){super(I,t.TypeDefinitionRequest.type)}fillClientCapabilities(I){(0,l.ensure)((0,l.ensure)(I,"textDocument"),"typeDefinition").dynamicRegistration=!0;let b=(0,l.ensure)((0,l.ensure)(I,"textDocument"),"typeDefinition");b.dynamicRegistration=!0,b.linkSupport=!0}initialize(I,b){let[S,D]=this.getRegistration(b,I.typeDefinitionProvider);!S||!D||this.register({id:S,registerOptions:D})}registerLanguageProvider(I){const S={provideTypeDefinition:(D,_,r)=>{const a=this._client,u=(d,y,g)=>a.sendRequest(t.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(d,y),g).then(v=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(v,g),v=>a.handleFailedRequest(t.TypeDefinitionRequest.type,g,v,null)),n=a.middleware;return n.provideTypeDefinition?n.provideTypeDefinition(D,_,r,u):u(D,_,r)}};return[this.registerProvider(I.documentSelector,S),S]}registerProvider(I,b){return s.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(I),b)}}},2235:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.TypeHierarchyFeature=void 0;const s=e(44336),t=e(62543),l=e(87031);class C{constructor(b){this.client=b,this.middleware=b.middleware}prepareTypeHierarchy(b,S,D){const _=this.client,r=this.middleware,a=(u,n,d)=>{const y=_.code2ProtocolConverter.asTextDocumentPositionParams(u,n);return _.sendRequest(t.TypeHierarchyPrepareRequest.type,y,d).then(g=>d.isCancellationRequested?null:_.protocol2CodeConverter.asTypeHierarchyItems(g,d),g=>_.handleFailedRequest(t.TypeHierarchyPrepareRequest.type,d,g,null))};return r.prepareTypeHierarchy?r.prepareTypeHierarchy(b,S,D,a):a(b,S,D)}provideTypeHierarchySupertypes(b,S){const D=this.client,_=this.middleware,r=(a,u)=>{const n={item:D.code2ProtocolConverter.asTypeHierarchyItem(a)};return D.sendRequest(t.TypeHierarchySupertypesRequest.type,n,u).then(d=>u.isCancellationRequested?null:D.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>D.handleFailedRequest(t.TypeHierarchySupertypesRequest.type,u,d,null))};return _.provideTypeHierarchySupertypes?_.provideTypeHierarchySupertypes(b,S,r):r(b,S)}provideTypeHierarchySubtypes(b,S){const D=this.client,_=this.middleware,r=(a,u)=>{const n={item:D.code2ProtocolConverter.asTypeHierarchyItem(a)};return D.sendRequest(t.TypeHierarchySubtypesRequest.type,n,u).then(d=>u.isCancellationRequested?null:D.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>D.handleFailedRequest(t.TypeHierarchySubtypesRequest.type,u,d,null))};return _.provideTypeHierarchySubtypes?_.provideTypeHierarchySubtypes(b,S,r):r(b,S)}}T.TypeHierarchyFeature=class f extends l.TextDocumentLanguageFeature{constructor(b){super(b,t.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(b){(0,l.ensure)((0,l.ensure)(b,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(b,S){const[D,_]=this.getRegistration(S,b.typeHierarchyProvider);!D||!_||this.register({id:D,registerOptions:_})}registerLanguageProvider(b){const S=this._client,D=new C(S);return[s.languages.registerTypeHierarchyProvider(S.protocol2CodeConverter.asDocumentSelector(b.documentSelector),D),D]}}},65735:(yt,T,e)=>{"use strict";var s=e(49811).default;Object.defineProperty(T,"__esModule",{value:!0}),T.forEach=T.mapAsync=T.map=T.clearTestMode=T.setTestMode=T.Semaphore=T.Delayer=void 0;const t=e(62543);T.Delayer=class l{constructor(g){this.defaultDelay=g,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(g,v=this.defaultDelay){return this.task=g,v>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(m=>{this.onSuccess=m}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var m=this.task();return this.task=void 0,m})),(v>=0||void 0===this.timeout)&&(this.timeout=(0,t.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},v>=0?v:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let g=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,g}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},T.Semaphore=class C{constructor(g=1){if(g<=0)throw new Error("Capacity must be greater than 0");this._capacity=g,this._active=0,this._waiting=[]}lock(g){return new Promise((v,m)=>{this._waiting.push({thunk:g,resolve:v,reject:m}),this.runNext()})}get active(){return this._active}runNext(){0===this._waiting.length||this._active===this._capacity||(0,t.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const g=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const v=g.thunk();v instanceof Promise?v.then(m=>{this._active--,g.resolve(m),this.runNext()},m=>{this._active--,g.reject(m),this.runNext()}):(this._active--,g.resolve(v),this.runNext())}catch(v){this._active--,g.reject(v),this.runNext()}}};let f=!1;T.setTestMode=function I(){f=!0},T.clearTestMode=function b(){f=!1};class D{constructor(g=15){this.yieldAfter=!0===f?Math.max(g,2):Math.max(g,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const g=Date.now()-this.startTime,v=Math.max(0,this.yieldAfter-g);if(this.total+=this.counter,this.counter=0,g>=this.yieldAfter||v<=1)return this.counterInterval=1,this.total=0,!0;switch(g){case 0:case 1:this.counterInterval=2*this.total}}return!1}}function r(){return(r=s(function*(y,g,v,m){if(0===y.length)return[];const w=new Array(y.length),E=new D(m?.yieldAfter);function L(A){E.start();for(let k=A;k<y.length;k++)if(w[k]=g(y[k]),E.shouldYield())return m?.yieldCallback&&m.yieldCallback(),k+1;return-1}let x=L(0);for(;-1!==x&&(void 0===v||!v.isCancellationRequested);)x=yield new Promise(A=>{(0,t.RAL)().timer.setImmediate(()=>{A(L(x))})});return w})).apply(this,arguments)}function u(){return u=s(function*(y,g,v,m){if(0===y.length)return[];const w=new Array(y.length),E=new D(m?.yieldAfter);function L(k){return x.apply(this,arguments)}function x(){return(x=s(function*(k){E.start();for(let W=k;W<y.length;W++)if(w[W]=yield g(y[W],v),E.shouldYield())return m?.yieldCallback&&m.yieldCallback(),W+1;return-1})).apply(this,arguments)}let A=yield L(0);for(;-1!==A&&(void 0===v||!v.isCancellationRequested);)A=yield new Promise(k=>{(0,t.RAL)().timer.setImmediate(()=>{k(L(A))})});return w}),u.apply(this,arguments)}function d(){return(d=s(function*(y,g,v,m){if(0===y.length)return;const w=new D(m?.yieldAfter);function E(x){w.start();for(let A=x;A<y.length;A++)if(g(y[A]),w.shouldYield())return m?.yieldCallback&&m.yieldCallback(),A+1;return-1}let L=E(0);for(;-1!==L&&(void 0===v||!v.isCancellationRequested);)L=yield new Promise(x=>{(0,t.RAL)().timer.setImmediate(()=>{x(E(L))})})})).apply(this,arguments)}T.map=function _(y,g,v,m){return r.apply(this,arguments)},T.mapAsync=function a(y,g,v,m){return u.apply(this,arguments)},T.forEach=function n(y,g,v,m){return d.apply(this,arguments)}},35465:(yt,T)=>{"use strict";function s(_){return"string"==typeof _||_ instanceof String}function C(_){return"function"==typeof _}function f(_){return Array.isArray(_)}function S(_){return _&&C(_.then)}Object.defineProperty(T,"__esModule",{value:!0}),T.asPromise=T.thenable=T.typedArray=T.stringArray=T.array=T.func=T.error=T.number=T.string=T.boolean=void 0,T.boolean=function e(_){return!0===_||!1===_},T.string=s,T.number=function t(_){return"number"==typeof _||_ instanceof Number},T.error=function l(_){return _ instanceof Error},T.func=C,T.array=f,T.stringArray=function I(_){return f(_)&&_.every(r=>s(r))},T.typedArray=function b(_,r){return Array.isArray(_)&&_.every(r)},T.thenable=S,T.asPromise=function D(_){return _ instanceof Promise?_:S(_)?new Promise((r,a)=>{_.then(u=>r(u),u=>a(u))}):Promise.resolve(_)}},8173:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.generateUuid=T.parse=T.isUUID=T.v4=T.empty=void 0;class e{constructor(S){this._value=S}asHex(){return this._value}equals(S){return this.asHex()===S.asHex()}}let s=(()=>{class b extends e{constructor(){super([b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),"-",b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),"-","4",b._randomHex(),b._randomHex(),b._randomHex(),"-",b._oneOf(b._timeHighBits),b._randomHex(),b._randomHex(),b._randomHex(),"-",b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex(),b._randomHex()].join(""))}static _oneOf(D){return D[Math.floor(D.length*Math.random())]}static _randomHex(){return b._oneOf(b._chars)}}return b._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],b._timeHighBits=["8","9","a","b"],b})();function t(){return new s}T.empty=new e("00000000-0000-0000-0000-000000000000"),T.v4=t;const l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function C(b){return l.test(b)}T.isUUID=C,T.parse=function f(b){if(!C(b))throw new Error("invalid uuid");return new e(b)},T.generateUuid=function I(){return t().asHex()}},72877:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.WorkspaceFoldersFeature=T.arrayDiff=void 0;const s=e(8173),t=e(44336),l=e(62543);function C(b,S){if(void 0!==b)return b[S]}function f(b,S){return b.filter(D=>S.indexOf(D)<0)}T.arrayDiff=f,T.WorkspaceFoldersFeature=class I{constructor(S){this._client=S,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return l.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(S){const D=t.workspace.workspaceFolders;this.initializeWithFolders(D),S.workspaceFolders=void 0===D?null:D.map(_=>this.asProtocol(_))}initializeWithFolders(S){this._initialFolders=S}fillClientCapabilities(S){S.workspace=S.workspace||{},S.workspace.workspaceFolders=!0}initialize(S){const D=this._client;D.onRequest(l.WorkspaceFoldersRequest.type,a=>{const u=()=>{const d=t.workspace.workspaceFolders;return void 0===d?null:d.map(g=>this.asProtocol(g))},n=D.middleware.workspace;return n&&n.workspaceFolders?n.workspaceFolders(a,u):u()});const _=C(C(C(S,"workspace"),"workspaceFolders"),"changeNotifications");let r;"string"==typeof _?r=_:!0===_&&(r=s.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}sendInitialEvent(S){let D;if(this._initialFolders&&S){const _=f(this._initialFolders,S),r=f(S,this._initialFolders);(r.length>0||_.length>0)&&(D=this.doSendEvent(r,_))}else this._initialFolders?D=this.doSendEvent([],this._initialFolders):S&&(D=this.doSendEvent(S,[]));void 0!==D&&D.catch(_=>{this._client.error(`Sending notification ${l.DidChangeWorkspaceFoldersNotification.type.method} failed`,_)})}doSendEvent(S,D){let _={event:{added:S.map(r=>this.asProtocol(r)),removed:D.map(r=>this.asProtocol(r))}};return this._client.sendNotification(l.DidChangeWorkspaceFoldersNotification.type,_)}register(S){let D=S.id,_=this._client,r=t.workspace.onDidChangeWorkspaceFolders(a=>{let u=y=>this.doSendEvent(y.added,y.removed),n=_.middleware.workspace;(n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(a,u):u(a)).catch(y=>{this._client.error(`Sending notification ${l.DidChangeWorkspaceFoldersNotification.type.method} failed`,y)})});this._listeners.set(D,r),this.sendInitialEvent(t.workspace.workspaceFolders)}unregister(S){let D=this._listeners.get(S);void 0!==D&&(this._listeners.delete(S),D.dispose())}dispose(){for(let S of this._listeners.values())S.dispose();this._listeners.clear()}asProtocol(S){return void 0===S?null:{uri:this._client.code2ProtocolConverter.asUri(S.uri),name:S.name}}}},8916:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.WorkspaceSymbolFeature=void 0;const s=e(44336),t=e(62543),l=e(87031),C=e(97597),f=e(8173);T.WorkspaceSymbolFeature=class I extends l.WorkspaceFeature{constructor(S){super(S,t.WorkspaceSymbolRequest.type)}fillClientCapabilities(S){let D=(0,l.ensure)((0,l.ensure)(S,"workspace"),"symbol");D.dynamicRegistration=!0,D.symbolKind={valueSet:C.SupportedSymbolKinds},D.tagSupport={valueSet:C.SupportedSymbolTags},D.resolveSupport={properties:["location.range"]}}initialize(S){S.workspaceSymbolProvider&&this.register({id:f.generateUuid(),registerOptions:!0===S.workspaceSymbolProvider?{workDoneProgress:!1}:S.workspaceSymbolProvider})}registerLanguageProvider(S){const D={provideWorkspaceSymbols:(_,r)=>{const a=this._client,u=(d,y)=>a.sendRequest(t.WorkspaceSymbolRequest.type,{query:d},y).then(g=>y.isCancellationRequested?null:a.protocol2CodeConverter.asSymbolInformations(g,y),g=>a.handleFailedRequest(t.WorkspaceSymbolRequest.type,y,g,null)),n=a.middleware;return n.provideWorkspaceSymbols?n.provideWorkspaceSymbols(_,r,u):u(_,r)},resolveWorkspaceSymbol:!0===S.resolveProvider?(_,r)=>{const a=this._client,u=(d,y)=>a.sendRequest(t.WorkspaceSymbolResolveRequest.type,a.code2ProtocolConverter.asWorkspaceSymbol(d),y).then(g=>y.isCancellationRequested?null:a.protocol2CodeConverter.asSymbolInformation(g),g=>a.handleFailedRequest(t.WorkspaceSymbolResolveRequest.type,y,g,null)),n=a.middleware;return n.resolveWorkspaceSymbol?n.resolveWorkspaceSymbol(_,r,u):u(_,r)}:void 0};return[s.languages.registerWorkspaceSymbolProvider(D),D]}}},62543:function(yt,T,e){"use strict";var s=this&&this.__createBinding||(Object.create?function(f,I,b,S){void 0===S&&(S=b);var D=Object.getOwnPropertyDescriptor(I,b);(!D||("get"in D?!I.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return I[b]}}),Object.defineProperty(f,S,D)}:function(f,I,b,S){void 0===S&&(S=b),f[S]=I[b]}),t=this&&this.__exportStar||function(f,I){for(var b in f)"default"!==b&&!Object.prototype.hasOwnProperty.call(I,b)&&s(I,f,b)};Object.defineProperty(T,"__esModule",{value:!0}),T.createProtocolConnection=void 0;const l=e(46362);t(e(46362),T),t(e(40931),T),T.createProtocolConnection=function C(f,I,b,S){return(0,l.createMessageConnection)(f,I,b,S)}},40931:function(yt,T,e){"use strict";var s=this&&this.__createBinding||(Object.create?function(f,I,b,S){void 0===S&&(S=b);var D=Object.getOwnPropertyDescriptor(I,b);(!D||("get"in D?!I.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return I[b]}}),Object.defineProperty(f,S,D)}:function(f,I,b,S){void 0===S&&(S=b),f[S]=I[b]}),t=this&&this.__exportStar||function(f,I){for(var b in f)"default"!==b&&!Object.prototype.hasOwnProperty.call(I,b)&&s(I,f,b)};Object.defineProperty(T,"__esModule",{value:!0}),T.LSPErrorCodes=T.createProtocolConnection=void 0,t(e(21763),T),t(e(88104),T),t(e(77022),T),t(e(47814),T);var f,l=e(73422);Object.defineProperty(T,"createProtocolConnection",{enumerable:!0,get:function(){return l.createProtocolConnection}}),(f=T.LSPErrorCodes||(T.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,f.RequestFailed=-32803,f.ServerCancelled=-32802,f.ContentModified=-32801,f.RequestCancelled=-32800,f.lspReservedErrorRangeEnd=-32800},73422:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.createProtocolConnection=void 0;const s=e(21763);T.createProtocolConnection=function t(l,C,f,I){return s.ConnectionStrategy.is(I)&&(I={connectionStrategy:I}),(0,s.createMessageConnection)(l,C,f,I)}},77022:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ProtocolNotificationType=T.ProtocolNotificationType0=T.ProtocolRequestType=T.ProtocolRequestType0=T.RegistrationType=T.MessageDirection=void 0;const s=e(21763);var S;(S=T.MessageDirection||(T.MessageDirection={})).clientToServer="clientToServer",S.serverToClient="serverToClient",S.both="both",T.RegistrationType=class l{constructor(D){this.method=D}},T.ProtocolRequestType0=class C extends s.RequestType0{constructor(D){super(D)}},T.ProtocolRequestType=class f extends s.RequestType{constructor(D){super(D,s.ParameterStructures.byName)}},T.ProtocolNotificationType0=class I extends s.NotificationType0{constructor(D){super(D)}},T.ProtocolNotificationType=class b extends s.NotificationType{constructor(D){super(D,s.ParameterStructures.byName)}}},67111:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CallHierarchyOutgoingCallsRequest=T.CallHierarchyIncomingCallsRequest=T.CallHierarchyPrepareRequest=void 0;const s=e(77022);var f;(f=T.CallHierarchyPrepareRequest||(T.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method),function(f){f.method="callHierarchy/incomingCalls",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method)}(T.CallHierarchyIncomingCallsRequest||(T.CallHierarchyIncomingCallsRequest={})),function(f){f.method="callHierarchy/outgoingCalls",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method)}(T.CallHierarchyOutgoingCallsRequest||(T.CallHierarchyOutgoingCallsRequest={}))},85147:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ColorPresentationRequest=T.DocumentColorRequest=void 0;const s=e(77022);var C;(C=T.DocumentColorRequest||(T.DocumentColorRequest={})).method="textDocument/documentColor",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolRequestType(C.method),function(C){C.method="textDocument/colorPresentation",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolRequestType(C.method)}(T.ColorPresentationRequest||(T.ColorPresentationRequest={}))},89965:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ConfigurationRequest=void 0;const s=e(77022);var l;(l=T.ConfigurationRequest||(T.ConfigurationRequest={})).method="workspace/configuration",l.messageDirection=s.MessageDirection.serverToClient,l.type=new s.ProtocolRequestType(l.method)},44351:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DeclarationRequest=void 0;const s=e(77022);var C;(C=T.DeclarationRequest||(T.DeclarationRequest={})).method="textDocument/declaration",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolRequestType(C.method)},17452:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DiagnosticRefreshRequest=T.WorkspaceDiagnosticRequest=T.DocumentDiagnosticRequest=T.DocumentDiagnosticReportKind=T.DiagnosticServerCancellationData=void 0;const s=e(21763),t=e(21086),l=e(77022);var D;(T.DiagnosticServerCancellationData||(T.DiagnosticServerCancellationData={})).is=function _(r){return r&&t.boolean(r.retriggerRequest)},(D=T.DocumentDiagnosticReportKind||(T.DocumentDiagnosticReportKind={})).Full="full",D.Unchanged="unchanged",function(D){D.method="textDocument/diagnostic",D.messageDirection=l.MessageDirection.clientToServer,D.type=new l.ProtocolRequestType(D.method),D.partialResult=new s.ProgressType}(T.DocumentDiagnosticRequest||(T.DocumentDiagnosticRequest={})),function(D){D.method="workspace/diagnostic",D.messageDirection=l.MessageDirection.clientToServer,D.type=new l.ProtocolRequestType(D.method),D.partialResult=new s.ProgressType}(T.WorkspaceDiagnosticRequest||(T.WorkspaceDiagnosticRequest={})),function(D){D.method="workspace/diagnostic/refresh",D.messageDirection=l.MessageDirection.clientToServer,D.type=new l.ProtocolRequestType0(D.method)}(T.DiagnosticRefreshRequest||(T.DiagnosticRefreshRequest={}))},65363:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.WillDeleteFilesRequest=T.DidDeleteFilesNotification=T.DidRenameFilesNotification=T.WillRenameFilesRequest=T.DidCreateFilesNotification=T.WillCreateFilesRequest=T.FileOperationPatternKind=void 0;const s=e(77022);var D;(D=T.FileOperationPatternKind||(T.FileOperationPatternKind={})).file="file",D.folder="folder",function(D){D.method="workspace/willCreateFiles",D.messageDirection=s.MessageDirection.clientToServer,D.type=new s.ProtocolRequestType(D.method)}(T.WillCreateFilesRequest||(T.WillCreateFilesRequest={})),function(D){D.method="workspace/didCreateFiles",D.messageDirection=s.MessageDirection.clientToServer,D.type=new s.ProtocolNotificationType(D.method)}(T.DidCreateFilesNotification||(T.DidCreateFilesNotification={})),function(D){D.method="workspace/willRenameFiles",D.messageDirection=s.MessageDirection.clientToServer,D.type=new s.ProtocolRequestType(D.method)}(T.WillRenameFilesRequest||(T.WillRenameFilesRequest={})),function(D){D.method="workspace/didRenameFiles",D.messageDirection=s.MessageDirection.clientToServer,D.type=new s.ProtocolNotificationType(D.method)}(T.DidRenameFilesNotification||(T.DidRenameFilesNotification={})),function(D){D.method="workspace/didDeleteFiles",D.messageDirection=s.MessageDirection.clientToServer,D.type=new s.ProtocolNotificationType(D.method)}(T.DidDeleteFilesNotification||(T.DidDeleteFilesNotification={})),function(D){D.method="workspace/willDeleteFiles",D.messageDirection=s.MessageDirection.clientToServer,D.type=new s.ProtocolRequestType(D.method)}(T.WillDeleteFilesRequest||(T.WillDeleteFilesRequest={}))},47499:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.FoldingRangeRequest=void 0;const s=e(77022);var l;(l=T.FoldingRangeRequest||(T.FoldingRangeRequest={})).method="textDocument/foldingRange",l.messageDirection=s.MessageDirection.clientToServer,l.type=new s.ProtocolRequestType(l.method)},29783:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ImplementationRequest=void 0;const s=e(77022);var C;(C=T.ImplementationRequest||(T.ImplementationRequest={})).method="textDocument/implementation",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolRequestType(C.method)},97484:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.InlayHintRefreshRequest=T.InlayHintResolveRequest=T.InlayHintRequest=void 0;const s=e(77022);var f;(f=T.InlayHintRequest||(T.InlayHintRequest={})).method="textDocument/inlayHint",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method),function(f){f.method="inlayHint/resolve",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method)}(T.InlayHintResolveRequest||(T.InlayHintResolveRequest={})),function(f){f.method="workspace/inlayHint/refresh",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType0(f.method)}(T.InlayHintRefreshRequest||(T.InlayHintRefreshRequest={}))},27992:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.InlineValueRefreshRequest=T.InlineValueRequest=void 0;const s=e(77022);var C;(C=T.InlineValueRequest||(T.InlineValueRequest={})).method="textDocument/inlineValue",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolRequestType(C.method),function(C){C.method="workspace/inlineValue/refresh",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolRequestType0(C.method)}(T.InlineValueRefreshRequest||(T.InlineValueRefreshRequest={}))},47814:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.WorkspaceSymbolRequest=T.CodeActionResolveRequest=T.CodeActionRequest=T.DocumentSymbolRequest=T.DocumentHighlightRequest=T.ReferencesRequest=T.DefinitionRequest=T.SignatureHelpRequest=T.SignatureHelpTriggerKind=T.HoverRequest=T.CompletionResolveRequest=T.CompletionRequest=T.CompletionTriggerKind=T.PublishDiagnosticsNotification=T.WatchKind=T.RelativePattern=T.FileChangeType=T.DidChangeWatchedFilesNotification=T.WillSaveTextDocumentWaitUntilRequest=T.WillSaveTextDocumentNotification=T.TextDocumentSaveReason=T.DidSaveTextDocumentNotification=T.DidCloseTextDocumentNotification=T.DidChangeTextDocumentNotification=T.TextDocumentContentChangeEvent=T.DidOpenTextDocumentNotification=T.TextDocumentSyncKind=T.TelemetryEventNotification=T.LogMessageNotification=T.ShowMessageRequest=T.ShowMessageNotification=T.MessageType=T.DidChangeConfigurationNotification=T.ExitNotification=T.ShutdownRequest=T.InitializedNotification=T.InitializeErrorCodes=T.InitializeRequest=T.WorkDoneProgressOptions=T.TextDocumentRegistrationOptions=T.StaticRegistrationOptions=T.PositionEncodingKind=T.FailureHandlingKind=T.ResourceOperationKind=T.UnregistrationRequest=T.RegistrationRequest=T.DocumentSelector=T.NotebookCellTextDocumentFilter=T.NotebookDocumentFilter=T.TextDocumentFilter=void 0,T.TypeHierarchySubtypesRequest=T.TypeHierarchyPrepareRequest=T.MonikerRequest=T.MonikerKind=T.UniquenessLevel=T.WillDeleteFilesRequest=T.DidDeleteFilesNotification=T.WillRenameFilesRequest=T.DidRenameFilesNotification=T.WillCreateFilesRequest=T.DidCreateFilesNotification=T.FileOperationPatternKind=T.LinkedEditingRangeRequest=T.ShowDocumentRequest=T.SemanticTokensRegistrationType=T.SemanticTokensRefreshRequest=T.SemanticTokensRangeRequest=T.SemanticTokensDeltaRequest=T.SemanticTokensRequest=T.TokenFormat=T.CallHierarchyPrepareRequest=T.CallHierarchyOutgoingCallsRequest=T.CallHierarchyIncomingCallsRequest=T.WorkDoneProgressCancelNotification=T.WorkDoneProgressCreateRequest=T.WorkDoneProgress=T.SelectionRangeRequest=T.DeclarationRequest=T.FoldingRangeRequest=T.ColorPresentationRequest=T.DocumentColorRequest=T.ConfigurationRequest=T.DidChangeWorkspaceFoldersNotification=T.WorkspaceFoldersRequest=T.TypeDefinitionRequest=T.ImplementationRequest=T.ApplyWorkspaceEditRequest=T.ExecuteCommandRequest=T.PrepareRenameRequest=T.RenameRequest=T.PrepareSupportDefaultBehavior=T.DocumentOnTypeFormattingRequest=T.DocumentRangeFormattingRequest=T.DocumentFormattingRequest=T.DocumentLinkResolveRequest=T.DocumentLinkRequest=T.CodeLensRefreshRequest=T.CodeLensResolveRequest=T.CodeLensRequest=T.WorkspaceSymbolResolveRequest=void 0,T.DidCloseNotebookDocumentNotification=T.DidSaveNotebookDocumentNotification=T.DidChangeNotebookDocumentNotification=T.NotebookCellArrayChange=T.DidOpenNotebookDocumentNotification=T.NotebookDocumentSyncRegistrationType=T.NotebookDocument=T.NotebookCell=T.ExecutionSummary=T.NotebookCellKind=T.DiagnosticRefreshRequest=T.WorkspaceDiagnosticRequest=T.DocumentDiagnosticRequest=T.DocumentDiagnosticReportKind=T.DiagnosticServerCancellationData=T.InlayHintRefreshRequest=T.InlayHintResolveRequest=T.InlayHintRequest=T.InlineValueRefreshRequest=T.InlineValueRequest=T.TypeHierarchySupertypesRequest=void 0;const s=e(77022),t=e(88104),l=e(21086),C=e(29783);Object.defineProperty(T,"ImplementationRequest",{enumerable:!0,get:function(){return C.ImplementationRequest}});const f=e(68954);Object.defineProperty(T,"TypeDefinitionRequest",{enumerable:!0,get:function(){return f.TypeDefinitionRequest}});const I=e(87864);Object.defineProperty(T,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return I.WorkspaceFoldersRequest}}),Object.defineProperty(T,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return I.DidChangeWorkspaceFoldersNotification}});const b=e(89965);Object.defineProperty(T,"ConfigurationRequest",{enumerable:!0,get:function(){return b.ConfigurationRequest}});const S=e(85147);Object.defineProperty(T,"DocumentColorRequest",{enumerable:!0,get:function(){return S.DocumentColorRequest}}),Object.defineProperty(T,"ColorPresentationRequest",{enumerable:!0,get:function(){return S.ColorPresentationRequest}});const D=e(47499);Object.defineProperty(T,"FoldingRangeRequest",{enumerable:!0,get:function(){return D.FoldingRangeRequest}});const _=e(44351);Object.defineProperty(T,"DeclarationRequest",{enumerable:!0,get:function(){return _.DeclarationRequest}});const r=e(48551);Object.defineProperty(T,"SelectionRangeRequest",{enumerable:!0,get:function(){return r.SelectionRangeRequest}});const a=e(58932);Object.defineProperty(T,"WorkDoneProgress",{enumerable:!0,get:function(){return a.WorkDoneProgress}}),Object.defineProperty(T,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return a.WorkDoneProgressCreateRequest}}),Object.defineProperty(T,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return a.WorkDoneProgressCancelNotification}});const u=e(67111);Object.defineProperty(T,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return u.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(T,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return u.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(T,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return u.CallHierarchyPrepareRequest}});const n=e(32099);Object.defineProperty(T,"TokenFormat",{enumerable:!0,get:function(){return n.TokenFormat}}),Object.defineProperty(T,"SemanticTokensRequest",{enumerable:!0,get:function(){return n.SemanticTokensRequest}}),Object.defineProperty(T,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return n.SemanticTokensDeltaRequest}}),Object.defineProperty(T,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return n.SemanticTokensRangeRequest}}),Object.defineProperty(T,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return n.SemanticTokensRefreshRequest}}),Object.defineProperty(T,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return n.SemanticTokensRegistrationType}});const d=e(10757);Object.defineProperty(T,"ShowDocumentRequest",{enumerable:!0,get:function(){return d.ShowDocumentRequest}});const y=e(30722);Object.defineProperty(T,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const g=e(65363);Object.defineProperty(T,"FileOperationPatternKind",{enumerable:!0,get:function(){return g.FileOperationPatternKind}}),Object.defineProperty(T,"DidCreateFilesNotification",{enumerable:!0,get:function(){return g.DidCreateFilesNotification}}),Object.defineProperty(T,"WillCreateFilesRequest",{enumerable:!0,get:function(){return g.WillCreateFilesRequest}}),Object.defineProperty(T,"DidRenameFilesNotification",{enumerable:!0,get:function(){return g.DidRenameFilesNotification}}),Object.defineProperty(T,"WillRenameFilesRequest",{enumerable:!0,get:function(){return g.WillRenameFilesRequest}}),Object.defineProperty(T,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return g.DidDeleteFilesNotification}}),Object.defineProperty(T,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return g.WillDeleteFilesRequest}});const v=e(41084);Object.defineProperty(T,"UniquenessLevel",{enumerable:!0,get:function(){return v.UniquenessLevel}}),Object.defineProperty(T,"MonikerKind",{enumerable:!0,get:function(){return v.MonikerKind}}),Object.defineProperty(T,"MonikerRequest",{enumerable:!0,get:function(){return v.MonikerRequest}});const m=e(23080);Object.defineProperty(T,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.TypeHierarchyPrepareRequest}}),Object.defineProperty(T,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySubtypesRequest}}),Object.defineProperty(T,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySupertypesRequest}});const w=e(27992);Object.defineProperty(T,"InlineValueRequest",{enumerable:!0,get:function(){return w.InlineValueRequest}}),Object.defineProperty(T,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return w.InlineValueRefreshRequest}});const E=e(97484);Object.defineProperty(T,"InlayHintRequest",{enumerable:!0,get:function(){return E.InlayHintRequest}}),Object.defineProperty(T,"InlayHintResolveRequest",{enumerable:!0,get:function(){return E.InlayHintResolveRequest}}),Object.defineProperty(T,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return E.InlayHintRefreshRequest}});const L=e(17452);Object.defineProperty(T,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return L.DiagnosticServerCancellationData}}),Object.defineProperty(T,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return L.DocumentDiagnosticReportKind}}),Object.defineProperty(T,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return L.DocumentDiagnosticRequest}}),Object.defineProperty(T,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return L.WorkspaceDiagnosticRequest}}),Object.defineProperty(T,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return L.DiagnosticRefreshRequest}});const x=e(42937);var k,W,H,z;Object.defineProperty(T,"NotebookCellKind",{enumerable:!0,get:function(){return x.NotebookCellKind}}),Object.defineProperty(T,"ExecutionSummary",{enumerable:!0,get:function(){return x.ExecutionSummary}}),Object.defineProperty(T,"NotebookCell",{enumerable:!0,get:function(){return x.NotebookCell}}),Object.defineProperty(T,"NotebookDocument",{enumerable:!0,get:function(){return x.NotebookDocument}}),Object.defineProperty(T,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return x.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(T,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidOpenNotebookDocumentNotification}}),Object.defineProperty(T,"NotebookCellArrayChange",{enumerable:!0,get:function(){return x.NotebookCellArrayChange}}),Object.defineProperty(T,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidChangeNotebookDocumentNotification}}),Object.defineProperty(T,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidSaveNotebookDocumentNotification}}),Object.defineProperty(T,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidCloseNotebookDocumentNotification}}),(k=T.TextDocumentFilter||(T.TextDocumentFilter={})).is=function pt(lt){const Ht=lt;return l.string(Ht.language)||l.string(Ht.scheme)||l.string(Ht.pattern)},(W=T.NotebookDocumentFilter||(T.NotebookDocumentFilter={})).is=function pt(lt){const Ht=lt;return l.objectLiteral(Ht)&&(l.string(Ht.notebookType)||l.string(Ht.scheme)||l.string(Ht.pattern))},function(De){De.is=function pt(lt){const Ht=lt;return l.objectLiteral(Ht)&&(l.string(Ht.notebook)||W.is(Ht.notebook))&&(void 0===Ht.language||l.string(Ht.language))}}(H=T.NotebookCellTextDocumentFilter||(T.NotebookCellTextDocumentFilter={})),function(De){De.is=function pt(lt){if(!Array.isArray(lt))return!1;for(let Ht of lt)if(!l.string(Ht)&&!k.is(Ht)&&!H.is(Ht))return!1;return!0}}(z=T.DocumentSelector||(T.DocumentSelector={})),function(De){De.method="client/registerCapability",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolRequestType(De.method)}(T.RegistrationRequest||(T.RegistrationRequest={})),function(De){De.method="client/unregisterCapability",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolRequestType(De.method)}(T.UnregistrationRequest||(T.UnregistrationRequest={})),function(De){De.Create="create",De.Rename="rename",De.Delete="delete"}(T.ResourceOperationKind||(T.ResourceOperationKind={})),function(De){De.Abort="abort",De.Transactional="transactional",De.TextOnlyTransactional="textOnlyTransactional",De.Undo="undo"}(T.FailureHandlingKind||(T.FailureHandlingKind={})),function(De){De.UTF8="utf-8",De.UTF16="utf-16",De.UTF32="utf-32"}(T.PositionEncodingKind||(T.PositionEncodingKind={})),function(De){De.hasId=function pt(lt){const Ht=lt;return Ht&&l.string(Ht.id)&&Ht.id.length>0}}(T.StaticRegistrationOptions||(T.StaticRegistrationOptions={})),function(De){De.is=function pt(lt){return lt&&(null===lt.documentSelector||z.is(lt.documentSelector))}}(T.TextDocumentRegistrationOptions||(T.TextDocumentRegistrationOptions={})),function(De){De.is=function pt(Ht){const Xt=Ht;return l.objectLiteral(Xt)&&(void 0===Xt.workDoneProgress||l.boolean(Xt.workDoneProgress))},De.hasWorkDoneProgress=function lt(Ht){return Ht&&l.boolean(Ht.workDoneProgress)}}(T.WorkDoneProgressOptions||(T.WorkDoneProgressOptions={})),function(De){De.method="initialize",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.InitializeRequest||(T.InitializeRequest={})),function(De){De.unknownProtocolVersion=1}(T.InitializeErrorCodes||(T.InitializeErrorCodes={})),function(De){De.method="initialized",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.InitializedNotification||(T.InitializedNotification={})),function(De){De.method="shutdown",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType0(De.method)}(T.ShutdownRequest||(T.ShutdownRequest={})),function(De){De.method="exit",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType0(De.method)}(T.ExitNotification||(T.ExitNotification={})),function(De){De.method="workspace/didChangeConfiguration",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.DidChangeConfigurationNotification||(T.DidChangeConfigurationNotification={})),function(De){De.Error=1,De.Warning=2,De.Info=3,De.Log=4}(T.MessageType||(T.MessageType={})),function(De){De.method="window/showMessage",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolNotificationType(De.method)}(T.ShowMessageNotification||(T.ShowMessageNotification={})),function(De){De.method="window/showMessageRequest",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolRequestType(De.method)}(T.ShowMessageRequest||(T.ShowMessageRequest={})),function(De){De.method="window/logMessage",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolNotificationType(De.method)}(T.LogMessageNotification||(T.LogMessageNotification={})),function(De){De.method="telemetry/event",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolNotificationType(De.method)}(T.TelemetryEventNotification||(T.TelemetryEventNotification={})),function(De){De.None=0,De.Full=1,De.Incremental=2}(T.TextDocumentSyncKind||(T.TextDocumentSyncKind={})),function(De){De.method="textDocument/didOpen",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.DidOpenTextDocumentNotification||(T.DidOpenTextDocumentNotification={})),function(De){De.isIncremental=function pt(Ht){return null!=Ht&&"string"==typeof Ht.text&&void 0!==Ht.range&&(void 0===Ht.rangeLength||"number"==typeof Ht.rangeLength)},De.isFull=function lt(Ht){return null!=Ht&&"string"==typeof Ht.text&&void 0===Ht.range&&void 0===Ht.rangeLength}}(T.TextDocumentContentChangeEvent||(T.TextDocumentContentChangeEvent={})),function(De){De.method="textDocument/didChange",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.DidChangeTextDocumentNotification||(T.DidChangeTextDocumentNotification={})),function(De){De.method="textDocument/didClose",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.DidCloseTextDocumentNotification||(T.DidCloseTextDocumentNotification={})),function(De){De.method="textDocument/didSave",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.DidSaveTextDocumentNotification||(T.DidSaveTextDocumentNotification={})),function(De){De.Manual=1,De.AfterDelay=2,De.FocusOut=3}(T.TextDocumentSaveReason||(T.TextDocumentSaveReason={})),function(De){De.method="textDocument/willSave",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.WillSaveTextDocumentNotification||(T.WillSaveTextDocumentNotification={})),function(De){De.method="textDocument/willSaveWaitUntil",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.WillSaveTextDocumentWaitUntilRequest||(T.WillSaveTextDocumentWaitUntilRequest={})),function(De){De.method="workspace/didChangeWatchedFiles",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolNotificationType(De.method)}(T.DidChangeWatchedFilesNotification||(T.DidChangeWatchedFilesNotification={})),function(De){De.Created=1,De.Changed=2,De.Deleted=3}(T.FileChangeType||(T.FileChangeType={})),function(De){De.is=function pt(lt){const Ht=lt;return l.objectLiteral(Ht)&&(t.URI.is(Ht.baseUri)||t.WorkspaceFolder.is(Ht.baseUri))&&l.string(Ht.pattern)}}(T.RelativePattern||(T.RelativePattern={})),function(De){De.Create=1,De.Change=2,De.Delete=4}(T.WatchKind||(T.WatchKind={})),function(De){De.method="textDocument/publishDiagnostics",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolNotificationType(De.method)}(T.PublishDiagnosticsNotification||(T.PublishDiagnosticsNotification={})),function(De){De.Invoked=1,De.TriggerCharacter=2,De.TriggerForIncompleteCompletions=3}(T.CompletionTriggerKind||(T.CompletionTriggerKind={})),function(De){De.method="textDocument/completion",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.CompletionRequest||(T.CompletionRequest={})),function(De){De.method="completionItem/resolve",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.CompletionResolveRequest||(T.CompletionResolveRequest={})),function(De){De.method="textDocument/hover",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.HoverRequest||(T.HoverRequest={})),function(De){De.Invoked=1,De.TriggerCharacter=2,De.ContentChange=3}(T.SignatureHelpTriggerKind||(T.SignatureHelpTriggerKind={})),function(De){De.method="textDocument/signatureHelp",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.SignatureHelpRequest||(T.SignatureHelpRequest={})),function(De){De.method="textDocument/definition",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DefinitionRequest||(T.DefinitionRequest={})),function(De){De.method="textDocument/references",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.ReferencesRequest||(T.ReferencesRequest={})),function(De){De.method="textDocument/documentHighlight",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DocumentHighlightRequest||(T.DocumentHighlightRequest={})),function(De){De.method="textDocument/documentSymbol",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DocumentSymbolRequest||(T.DocumentSymbolRequest={})),function(De){De.method="textDocument/codeAction",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.CodeActionRequest||(T.CodeActionRequest={})),function(De){De.method="codeAction/resolve",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.CodeActionResolveRequest||(T.CodeActionResolveRequest={})),function(De){De.method="workspace/symbol",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.WorkspaceSymbolRequest||(T.WorkspaceSymbolRequest={})),function(De){De.method="workspaceSymbol/resolve",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.WorkspaceSymbolResolveRequest||(T.WorkspaceSymbolResolveRequest={})),function(De){De.method="textDocument/codeLens",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.CodeLensRequest||(T.CodeLensRequest={})),function(De){De.method="codeLens/resolve",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.CodeLensResolveRequest||(T.CodeLensResolveRequest={})),function(De){De.method="workspace/codeLens/refresh",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolRequestType0(De.method)}(T.CodeLensRefreshRequest||(T.CodeLensRefreshRequest={})),function(De){De.method="textDocument/documentLink",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DocumentLinkRequest||(T.DocumentLinkRequest={})),function(De){De.method="documentLink/resolve",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DocumentLinkResolveRequest||(T.DocumentLinkResolveRequest={})),function(De){De.method="textDocument/formatting",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DocumentFormattingRequest||(T.DocumentFormattingRequest={})),function(De){De.method="textDocument/rangeFormatting",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DocumentRangeFormattingRequest||(T.DocumentRangeFormattingRequest={})),function(De){De.method="textDocument/onTypeFormatting",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.DocumentOnTypeFormattingRequest||(T.DocumentOnTypeFormattingRequest={})),function(De){De.Identifier=1}(T.PrepareSupportDefaultBehavior||(T.PrepareSupportDefaultBehavior={})),function(De){De.method="textDocument/rename",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.RenameRequest||(T.RenameRequest={})),function(De){De.method="textDocument/prepareRename",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.PrepareRenameRequest||(T.PrepareRenameRequest={})),function(De){De.method="workspace/executeCommand",De.messageDirection=s.MessageDirection.clientToServer,De.type=new s.ProtocolRequestType(De.method)}(T.ExecuteCommandRequest||(T.ExecuteCommandRequest={})),function(De){De.method="workspace/applyEdit",De.messageDirection=s.MessageDirection.serverToClient,De.type=new s.ProtocolRequestType("workspace/applyEdit")}(T.ApplyWorkspaceEditRequest||(T.ApplyWorkspaceEditRequest={}))},30722:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.LinkedEditingRangeRequest=void 0;const s=e(77022);var l;(l=T.LinkedEditingRangeRequest||(T.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",l.messageDirection=s.MessageDirection.clientToServer,l.type=new s.ProtocolRequestType(l.method)},41084:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.MonikerRequest=T.MonikerKind=T.UniquenessLevel=void 0;const s=e(77022);var f;(f=T.UniquenessLevel||(T.UniquenessLevel={})).document="document",f.project="project",f.group="group",f.scheme="scheme",f.global="global",function(f){f.$import="import",f.$export="export",f.local="local"}(T.MonikerKind||(T.MonikerKind={})),function(f){f.method="textDocument/moniker",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method)}(T.MonikerRequest||(T.MonikerRequest={}))},42937:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DidCloseNotebookDocumentNotification=T.DidSaveNotebookDocumentNotification=T.DidChangeNotebookDocumentNotification=T.NotebookCellArrayChange=T.DidOpenNotebookDocumentNotification=T.NotebookDocumentSyncRegistrationType=T.NotebookDocument=T.NotebookCell=T.ExecutionSummary=T.NotebookCellKind=void 0;const s=e(88104),t=e(21086),l=e(77022);var C,n,f,I,S;(n=C=T.NotebookCellKind||(T.NotebookCellKind={})).Markup=1,n.Code=2,n.is=function d(y){return 1===y||2===y},function(n){n.create=function d(v,m){const w={executionOrder:v};return(!0===m||!1===m)&&(w.success=m),w},n.is=function y(v){const m=v;return t.objectLiteral(m)&&s.uinteger.is(m.executionOrder)&&(void 0===m.success||t.boolean(m.success))},n.equals=function g(v,m){return v===m||null!=v&&null!=m&&v.executionOrder===m.executionOrder&&v.success===m.success}}(f=T.ExecutionSummary||(T.ExecutionSummary={})),function(n){function v(m,w){if(m===w)return!0;if(null==m||null==w||typeof m!=typeof w||"object"!=typeof m)return!1;const E=Array.isArray(m),L=Array.isArray(w);if(E!==L)return!1;if(E&&L){if(m.length!==w.length)return!1;for(let x=0;x<m.length;x++)if(!v(m[x],w[x]))return!1}if(t.objectLiteral(m)&&t.objectLiteral(w)){const x=Object.keys(m),A=Object.keys(w);if(x.length!==A.length||(x.sort(),A.sort(),!v(x,A)))return!1;for(let k=0;k<x.length;k++){const W=x[k];if(!v(m[W],w[W]))return!1}}return!0}n.create=function d(m,w){return{kind:m,document:w}},n.is=function y(m){const w=m;return t.objectLiteral(w)&&C.is(w.kind)&&s.DocumentUri.is(w.document)&&(void 0===w.metadata||t.objectLiteral(w.metadata))},n.diff=function g(m,w){const E=new Set;return m.document!==w.document&&E.add("document"),m.kind!==w.kind&&E.add("kind"),m.executionSummary!==w.executionSummary&&E.add("executionSummary"),(void 0!==m.metadata||void 0!==w.metadata)&&!v(m.metadata,w.metadata)&&E.add("metadata"),(void 0!==m.executionSummary||void 0!==w.executionSummary)&&!f.equals(m.executionSummary,w.executionSummary)&&E.add("executionSummary"),E}}(I=T.NotebookCell||(T.NotebookCell={})),function(n){n.create=function d(g,v,m,w){return{uri:g,notebookType:v,version:m,cells:w}},n.is=function y(g){const v=g;return t.objectLiteral(v)&&t.string(v.uri)&&s.integer.is(v.version)&&t.typedArray(v.cells,I.is)}}(T.NotebookDocument||(T.NotebookDocument={})),function(n){n.method="notebookDocument/sync",n.messageDirection=l.MessageDirection.clientToServer,n.type=new l.RegistrationType(n.method)}(S=T.NotebookDocumentSyncRegistrationType||(T.NotebookDocumentSyncRegistrationType={})),function(n){n.method="notebookDocument/didOpen",n.messageDirection=l.MessageDirection.clientToServer,n.type=new l.ProtocolNotificationType(n.method),n.registrationMethod=S.method}(T.DidOpenNotebookDocumentNotification||(T.DidOpenNotebookDocumentNotification={})),function(n){n.is=function d(g){const v=g;return t.objectLiteral(v)&&s.uinteger.is(v.start)&&s.uinteger.is(v.deleteCount)&&(void 0===v.cells||t.typedArray(v.cells,I.is))},n.create=function y(g,v,m){const w={start:g,deleteCount:v};return void 0!==m&&(w.cells=m),w}}(T.NotebookCellArrayChange||(T.NotebookCellArrayChange={})),function(n){n.method="notebookDocument/didChange",n.messageDirection=l.MessageDirection.clientToServer,n.type=new l.ProtocolNotificationType(n.method),n.registrationMethod=S.method}(T.DidChangeNotebookDocumentNotification||(T.DidChangeNotebookDocumentNotification={})),function(n){n.method="notebookDocument/didSave",n.messageDirection=l.MessageDirection.clientToServer,n.type=new l.ProtocolNotificationType(n.method),n.registrationMethod=S.method}(T.DidSaveNotebookDocumentNotification||(T.DidSaveNotebookDocumentNotification={})),function(n){n.method="notebookDocument/didClose",n.messageDirection=l.MessageDirection.clientToServer,n.type=new l.ProtocolNotificationType(n.method),n.registrationMethod=S.method}(T.DidCloseNotebookDocumentNotification||(T.DidCloseNotebookDocumentNotification={}))},58932:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.WorkDoneProgressCancelNotification=T.WorkDoneProgressCreateRequest=T.WorkDoneProgress=void 0;const s=e(21763),t=e(77022);var I;(I=T.WorkDoneProgress||(T.WorkDoneProgress={})).type=new s.ProgressType,I.is=function b(S){return S===I.type},function(I){I.method="window/workDoneProgress/create",I.messageDirection=t.MessageDirection.serverToClient,I.type=new t.ProtocolRequestType(I.method)}(T.WorkDoneProgressCreateRequest||(T.WorkDoneProgressCreateRequest={})),function(I){I.method="window/workDoneProgress/cancel",I.messageDirection=t.MessageDirection.clientToServer,I.type=new t.ProtocolNotificationType(I.method)}(T.WorkDoneProgressCancelNotification||(T.WorkDoneProgressCancelNotification={}))},48551:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SelectionRangeRequest=void 0;const s=e(77022);var l;(l=T.SelectionRangeRequest||(T.SelectionRangeRequest={})).method="textDocument/selectionRange",l.messageDirection=s.MessageDirection.clientToServer,l.type=new s.ProtocolRequestType(l.method)},32099:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SemanticTokensRefreshRequest=T.SemanticTokensRangeRequest=T.SemanticTokensDeltaRequest=T.SemanticTokensRequest=T.SemanticTokensRegistrationType=T.TokenFormat=void 0;const s=e(77022);var l,S;(T.TokenFormat||(T.TokenFormat={})).Relative="relative",(S=l=T.SemanticTokensRegistrationType||(T.SemanticTokensRegistrationType={})).method="textDocument/semanticTokens",S.type=new s.RegistrationType(S.method),function(S){S.method="textDocument/semanticTokens/full",S.messageDirection=s.MessageDirection.clientToServer,S.type=new s.ProtocolRequestType(S.method),S.registrationMethod=l.method}(T.SemanticTokensRequest||(T.SemanticTokensRequest={})),function(S){S.method="textDocument/semanticTokens/full/delta",S.messageDirection=s.MessageDirection.clientToServer,S.type=new s.ProtocolRequestType(S.method),S.registrationMethod=l.method}(T.SemanticTokensDeltaRequest||(T.SemanticTokensDeltaRequest={})),function(S){S.method="textDocument/semanticTokens/range",S.messageDirection=s.MessageDirection.clientToServer,S.type=new s.ProtocolRequestType(S.method),S.registrationMethod=l.method}(T.SemanticTokensRangeRequest||(T.SemanticTokensRangeRequest={})),function(S){S.method="workspace/semanticTokens/refresh",S.messageDirection=s.MessageDirection.clientToServer,S.type=new s.ProtocolRequestType0(S.method)}(T.SemanticTokensRefreshRequest||(T.SemanticTokensRefreshRequest={}))},10757:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ShowDocumentRequest=void 0;const s=e(77022);var l;(l=T.ShowDocumentRequest||(T.ShowDocumentRequest={})).method="window/showDocument",l.messageDirection=s.MessageDirection.serverToClient,l.type=new s.ProtocolRequestType(l.method)},68954:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.TypeDefinitionRequest=void 0;const s=e(77022);var C;(C=T.TypeDefinitionRequest||(T.TypeDefinitionRequest={})).method="textDocument/typeDefinition",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolRequestType(C.method)},23080:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.TypeHierarchySubtypesRequest=T.TypeHierarchySupertypesRequest=T.TypeHierarchyPrepareRequest=void 0;const s=e(77022);var f;(f=T.TypeHierarchyPrepareRequest||(T.TypeHierarchyPrepareRequest={})).method="textDocument/prepareTypeHierarchy",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method),function(f){f.method="typeHierarchy/supertypes",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method)}(T.TypeHierarchySupertypesRequest||(T.TypeHierarchySupertypesRequest={})),function(f){f.method="typeHierarchy/subtypes",f.messageDirection=s.MessageDirection.clientToServer,f.type=new s.ProtocolRequestType(f.method)}(T.TypeHierarchySubtypesRequest||(T.TypeHierarchySubtypesRequest={}))},87864:(yt,T,e)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DidChangeWorkspaceFoldersNotification=T.WorkspaceFoldersRequest=void 0;const s=e(77022);var C;(C=T.WorkspaceFoldersRequest||(T.WorkspaceFoldersRequest={})).method="workspace/workspaceFolders",C.messageDirection=s.MessageDirection.serverToClient,C.type=new s.ProtocolRequestType0(C.method),function(C){C.method="workspace/didChangeWorkspaceFolders",C.messageDirection=s.MessageDirection.clientToServer,C.type=new s.ProtocolNotificationType(C.method)}(T.DidChangeWorkspaceFoldersNotification||(T.DidChangeWorkspaceFoldersNotification={}))},21086:(yt,T)=>{"use strict";function s(D){return"string"==typeof D||D instanceof String}function f(D){return Array.isArray(D)}Object.defineProperty(T,"__esModule",{value:!0}),T.objectLiteral=T.typedArray=T.stringArray=T.array=T.func=T.error=T.number=T.string=T.boolean=void 0,T.boolean=function e(D){return!0===D||!1===D},T.string=s,T.number=function t(D){return"number"==typeof D||D instanceof Number},T.error=function l(D){return D instanceof Error},T.func=function C(D){return"function"==typeof D},T.array=f,T.stringArray=function I(D){return f(D)&&D.every(_=>s(_))},T.typedArray=function b(D,_){return Array.isArray(D)&&D.every(_)},T.objectLiteral=function S(D){return null!==D&&"object"==typeof D}},31044:(yt,T,e)=>{"use strict";yt.exports=e(86581)},85773:function(yt,T,e){"use strict";var s=this&&this.__createBinding||(Object.create?function(f,I,b,S){void 0===S&&(S=b);var D=Object.getOwnPropertyDescriptor(I,b);(!D||("get"in D?!I.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return I[b]}}),Object.defineProperty(f,S,D)}:function(f,I,b,S){void 0===S&&(S=b),f[S]=I[b]}),t=this&&this.__exportStar||function(f,I){for(var b in f)"default"!==b&&!Object.prototype.hasOwnProperty.call(I,b)&&s(I,f,b)};Object.defineProperty(T,"__esModule",{value:!0}),T.LSPErrorCodes=T.createProtocolConnection=void 0,t(e(62059),T),t(e(51769),T),t(e(34007),T),t(e(95712),T);var f,l=e(75991);Object.defineProperty(T,"createProtocolConnection",{enumerable:!0,get:function(){return l.createProtocolConnection}}),(f=T.LSPErrorCodes||(T.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,f.RequestFailed=-32803,f.ServerCancelled=-32802,f.ContentModified=-32801,f.RequestCancelled=-32800,f.lspReservedErrorRangeEnd=-32800},88104:(yt,T,e)=>{"use strict";var s,t,l,C,f,I,b,S,D,_,r;e.r(T),e.d(T,{AnnotatedTextEdit:()=>x,ChangeAnnotation:()=>E,ChangeAnnotationIdentifier:()=>L,CodeAction:()=>pe,CodeActionContext:()=>re,CodeActionKind:()=>Et,CodeActionTriggerKind:()=>Xe,CodeDescription:()=>g,CodeLens:()=>ge,Color:()=>D,ColorInformation:()=>_,ColorPresentation:()=>r,Command:()=>m,CompletionItem:()=>se,CompletionItemKind:()=>Ce,CompletionItemLabelDetails:()=>Oe,CompletionItemTag:()=>Ie,CompletionList:()=>ce,CreateFile:()=>k,DeleteFile:()=>H,Diagnostic:()=>v,DiagnosticRelatedInformation:()=>n,DiagnosticSeverity:()=>d,DiagnosticTag:()=>y,DocumentHighlight:()=>Ze,DocumentHighlightKind:()=>Fe,DocumentLink:()=>Q,DocumentSymbol:()=>vt,DocumentUri:()=>s,EOL:()=>Ye,FoldingRange:()=>u,FoldingRangeKind:()=>a,FormattingOptions:()=>de,Hover:()=>me,InlayHint:()=>Bt,InlayHintKind:()=>mt,InlayHintLabelPart:()=>bt,InlineValueContext:()=>St,InlineValueEvaluatableExpression:()=>st,InlineValueText:()=>it,InlineValueVariableLookup:()=>et,InsertReplaceEdit:()=>xe,InsertTextFormat:()=>Se,InsertTextMode:()=>Me,Location:()=>b,LocationLink:()=>S,MarkedString:()=>Ee,MarkupContent:()=>J,MarkupKind:()=>Z,OptionalVersionedTextDocumentIdentifier:()=>q,ParameterInformation:()=>Pe,Position:()=>f,Range:()=>I,RenameFile:()=>W,SelectionRange:()=>ye,SemanticTokenModifiers:()=>ft,SemanticTokenTypes:()=>Ae,SemanticTokens:()=>dt,SignatureInformation:()=>he,SymbolInformation:()=>Ke,SymbolKind:()=>ze,SymbolTag:()=>fe,TextDocument:()=>Tt,TextDocumentEdit:()=>A,TextDocumentIdentifier:()=>$,TextDocumentItem:()=>R,TextEdit:()=>w,URI:()=>t,VersionedTextDocumentIdentifier:()=>j,WorkspaceChange:()=>K,WorkspaceEdit:()=>z,WorkspaceFolder:()=>Lt,WorkspaceSymbol:()=>Je,integer:()=>l,uinteger:()=>C}),(s||(s={})).is=function rt(Le){return"string"==typeof Le},(t||(t={})).is=function rt(Le){return"string"==typeof Le},function(Ft){Ft.MIN_VALUE=-2147483648,Ft.MAX_VALUE=2147483647,Ft.is=function rt(Le){return"number"==typeof Le&&Ft.MIN_VALUE<=Le&&Le<=Ft.MAX_VALUE}}(l||(l={})),function(Ft){Ft.MIN_VALUE=0,Ft.MAX_VALUE=2147483647,Ft.is=function rt(Le){return"number"==typeof Le&&Ft.MIN_VALUE<=Le&&Le<=Ft.MAX_VALUE}}(C||(C={})),function(Ft){Ft.create=function rt(ie,te){return ie===Number.MAX_VALUE&&(ie=C.MAX_VALUE),te===Number.MAX_VALUE&&(te=C.MAX_VALUE),{line:ie,character:te}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&Ot.uinteger(te.line)&&Ot.uinteger(te.character)}}(f||(f={})),function(Ft){Ft.create=function rt(ie,te,oe,we){if(Ot.uinteger(ie)&&Ot.uinteger(te)&&Ot.uinteger(oe)&&Ot.uinteger(we))return{start:f.create(ie,te),end:f.create(oe,we)};if(f.is(ie)&&f.is(te))return{start:ie,end:te};throw new Error("Range#create called with invalid arguments[".concat(ie,", ").concat(te,", ").concat(oe,", ").concat(we,"]"))},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&f.is(te.start)&&f.is(te.end)}}(I||(I={})),function(Ft){Ft.create=function rt(ie,te){return{uri:ie,range:te}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&I.is(te.range)&&(Ot.string(te.uri)||Ot.undefined(te.uri))}}(b||(b={})),function(Ft){Ft.create=function rt(ie,te,oe,we){return{targetUri:ie,targetRange:te,targetSelectionRange:oe,originSelectionRange:we}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&I.is(te.targetRange)&&Ot.string(te.targetUri)&&I.is(te.targetSelectionRange)&&(I.is(te.originSelectionRange)||Ot.undefined(te.originSelectionRange))}}(S||(S={})),function(Ft){Ft.create=function rt(ie,te,oe,we){return{red:ie,green:te,blue:oe,alpha:we}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&Ot.numberRange(te.red,0,1)&&Ot.numberRange(te.green,0,1)&&Ot.numberRange(te.blue,0,1)&&Ot.numberRange(te.alpha,0,1)}}(D||(D={})),function(Ft){Ft.create=function rt(ie,te){return{range:ie,color:te}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&I.is(te.range)&&D.is(te.color)}}(_||(_={})),function(Ft){Ft.create=function rt(ie,te,oe){return{label:ie,textEdit:te,additionalTextEdits:oe}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&Ot.string(te.label)&&(Ot.undefined(te.textEdit)||w.is(te))&&(Ot.undefined(te.additionalTextEdits)||Ot.typedArray(te.additionalTextEdits,w.is))}}(r||(r={}));var u,n,a=(()=>((a=a||{}).Comment="comment",a.Imports="imports",a.Region="region",a))();!function(Ft){Ft.create=function rt(ie,te,oe,we,nt,He){var De={startLine:ie,endLine:te};return Ot.defined(oe)&&(De.startCharacter=oe),Ot.defined(we)&&(De.endCharacter=we),Ot.defined(nt)&&(De.kind=nt),Ot.defined(He)&&(De.collapsedText=He),De},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&Ot.uinteger(te.startLine)&&Ot.uinteger(te.startLine)&&(Ot.undefined(te.startCharacter)||Ot.uinteger(te.startCharacter))&&(Ot.undefined(te.endCharacter)||Ot.uinteger(te.endCharacter))&&(Ot.undefined(te.kind)||Ot.string(te.kind))}}(u||(u={})),function(Ft){Ft.create=function rt(ie,te){return{location:ie,message:te}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&b.is(te.location)&&Ot.string(te.message)}}(n||(n={}));var g,v,m,w,E,L,x,A,k,W,H,z,d=(()=>((d=d||{}).Error=1,d.Warning=2,d.Information=3,d.Hint=4,d))(),y=(()=>((y=y||{}).Unnecessary=1,y.Deprecated=2,y))();!function(Ft){Ft.is=function rt(Le){var ie=Le;return Ot.objectLiteral(ie)&&Ot.string(ie.href)}}(g||(g={})),function(Ft){Ft.create=function rt(ie,te,oe,we,nt,He){var De={range:ie,message:te};return Ot.defined(oe)&&(De.severity=oe),Ot.defined(we)&&(De.code=we),Ot.defined(nt)&&(De.source=nt),Ot.defined(He)&&(De.relatedInformation=He),De},Ft.is=function Le(ie){var te,oe=ie;return Ot.defined(oe)&&I.is(oe.range)&&Ot.string(oe.message)&&(Ot.number(oe.severity)||Ot.undefined(oe.severity))&&(Ot.integer(oe.code)||Ot.string(oe.code)||Ot.undefined(oe.code))&&(Ot.undefined(oe.codeDescription)||Ot.string(null===(te=oe.codeDescription)||void 0===te?void 0:te.href))&&(Ot.string(oe.source)||Ot.undefined(oe.source))&&(Ot.undefined(oe.relatedInformation)||Ot.typedArray(oe.relatedInformation,n.is))}}(v||(v={})),function(Ft){Ft.create=function rt(ie,te){for(var oe=[],we=2;we<arguments.length;we++)oe[we-2]=arguments[we];var nt={title:ie,command:te};return Ot.defined(oe)&&oe.length>0&&(nt.arguments=oe),nt},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&Ot.string(te.title)&&Ot.string(te.command)}}(m||(m={})),function(Ft){Ft.replace=function rt(oe,we){return{range:oe,newText:we}},Ft.insert=function Le(oe,we){return{range:{start:oe,end:oe},newText:we}},Ft.del=function ie(oe){return{range:oe,newText:""}},Ft.is=function te(oe){var we=oe;return Ot.objectLiteral(we)&&Ot.string(we.newText)&&I.is(we.range)}}(w||(w={})),function(Ft){Ft.create=function rt(ie,te,oe){var we={label:ie};return void 0!==te&&(we.needsConfirmation=te),void 0!==oe&&(we.description=oe),we},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&Ot.string(te.label)&&(Ot.boolean(te.needsConfirmation)||void 0===te.needsConfirmation)&&(Ot.string(te.description)||void 0===te.description)}}(E||(E={})),function(Ft){Ft.is=function rt(Le){return Ot.string(Le)}}(L||(L={})),function(Ft){Ft.replace=function rt(oe,we,nt){return{range:oe,newText:we,annotationId:nt}},Ft.insert=function Le(oe,we,nt){return{range:{start:oe,end:oe},newText:we,annotationId:nt}},Ft.del=function ie(oe,we){return{range:oe,newText:"",annotationId:we}},Ft.is=function te(oe){var we=oe;return w.is(we)&&(E.is(we.annotationId)||L.is(we.annotationId))}}(x||(x={})),function(Ft){Ft.create=function rt(ie,te){return{textDocument:ie,edits:te}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&q.is(te.textDocument)&&Array.isArray(te.edits)}}(A||(A={})),function(Ft){Ft.create=function rt(ie,te,oe){var we={kind:"create",uri:ie};return void 0!==te&&(void 0!==te.overwrite||void 0!==te.ignoreIfExists)&&(we.options=te),void 0!==oe&&(we.annotationId=oe),we},Ft.is=function Le(ie){var te=ie;return te&&"create"===te.kind&&Ot.string(te.uri)&&(void 0===te.options||(void 0===te.options.overwrite||Ot.boolean(te.options.overwrite))&&(void 0===te.options.ignoreIfExists||Ot.boolean(te.options.ignoreIfExists)))&&(void 0===te.annotationId||L.is(te.annotationId))}}(k||(k={})),function(Ft){Ft.create=function rt(ie,te,oe,we){var nt={kind:"rename",oldUri:ie,newUri:te};return void 0!==oe&&(void 0!==oe.overwrite||void 0!==oe.ignoreIfExists)&&(nt.options=oe),void 0!==we&&(nt.annotationId=we),nt},Ft.is=function Le(ie){var te=ie;return te&&"rename"===te.kind&&Ot.string(te.oldUri)&&Ot.string(te.newUri)&&(void 0===te.options||(void 0===te.options.overwrite||Ot.boolean(te.options.overwrite))&&(void 0===te.options.ignoreIfExists||Ot.boolean(te.options.ignoreIfExists)))&&(void 0===te.annotationId||L.is(te.annotationId))}}(W||(W={})),function(Ft){Ft.create=function rt(ie,te,oe){var we={kind:"delete",uri:ie};return void 0!==te&&(void 0!==te.recursive||void 0!==te.ignoreIfNotExists)&&(we.options=te),void 0!==oe&&(we.annotationId=oe),we},Ft.is=function Le(ie){var te=ie;return te&&"delete"===te.kind&&Ot.string(te.uri)&&(void 0===te.options||(void 0===te.options.recursive||Ot.boolean(te.options.recursive))&&(void 0===te.options.ignoreIfNotExists||Ot.boolean(te.options.ignoreIfNotExists)))&&(void 0===te.annotationId||L.is(te.annotationId))}}(H||(H={})),function(Ft){Ft.is=function rt(Le){return Le&&(void 0!==Le.changes||void 0!==Le.documentChanges)&&(void 0===Le.documentChanges||Le.documentChanges.every(function(te){return Ot.string(te.kind)?k.is(te)||W.is(te)||H.is(te):A.is(te)}))}}(z||(z={}));var $,j,q,R,Z,J,N=function(){function Ft(rt,Le){this.edits=rt,this.changeAnnotations=Le}return Ft.prototype.insert=function(rt,Le,ie){var te,oe;if(void 0===ie?te=w.insert(rt,Le):L.is(ie)?(oe=ie,te=x.insert(rt,Le,ie)):(this.assertChangeAnnotations(this.changeAnnotations),oe=this.changeAnnotations.manage(ie),te=x.insert(rt,Le,oe)),this.edits.push(te),void 0!==oe)return oe},Ft.prototype.replace=function(rt,Le,ie){var te,oe;if(void 0===ie?te=w.replace(rt,Le):L.is(ie)?(oe=ie,te=x.replace(rt,Le,ie)):(this.assertChangeAnnotations(this.changeAnnotations),oe=this.changeAnnotations.manage(ie),te=x.replace(rt,Le,oe)),this.edits.push(te),void 0!==oe)return oe},Ft.prototype.delete=function(rt,Le){var ie,te;if(void 0===Le?ie=w.del(rt):L.is(Le)?(te=Le,ie=x.del(rt,Le)):(this.assertChangeAnnotations(this.changeAnnotations),te=this.changeAnnotations.manage(Le),ie=x.del(rt,te)),this.edits.push(ie),void 0!==te)return te},Ft.prototype.add=function(rt){this.edits.push(rt)},Ft.prototype.all=function(){return this.edits},Ft.prototype.clear=function(){this.edits.splice(0,this.edits.length)},Ft.prototype.assertChangeAnnotations=function(rt){if(void 0===rt)throw new Error("Text edit change is not configured to manage change annotations.")},Ft}(),O=function(){function Ft(rt){this._annotations=void 0===rt?Object.create(null):rt,this._counter=0,this._size=0}return Ft.prototype.all=function(){return this._annotations},Object.defineProperty(Ft.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Ft.prototype.manage=function(rt,Le){var ie;if(L.is(rt)?ie=rt:(ie=this.nextId(),Le=rt),void 0!==this._annotations[ie])throw new Error("Id ".concat(ie," is already in use."));if(void 0===Le)throw new Error("No annotation provided for id ".concat(ie));return this._annotations[ie]=Le,this._size++,ie},Ft.prototype.nextId=function(){return this._counter++,this._counter.toString()},Ft}(),K=function(){function Ft(rt){var Le=this;this._textEditChanges=Object.create(null),void 0!==rt?(this._workspaceEdit=rt,rt.documentChanges?(this._changeAnnotations=new O(rt.changeAnnotations),rt.changeAnnotations=this._changeAnnotations.all(),rt.documentChanges.forEach(function(ie){if(A.is(ie)){var te=new N(ie.edits,Le._changeAnnotations);Le._textEditChanges[ie.textDocument.uri]=te}})):rt.changes&&Object.keys(rt.changes).forEach(function(ie){var te=new N(rt.changes[ie]);Le._textEditChanges[ie]=te})):this._workspaceEdit={}}return Object.defineProperty(Ft.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(this._workspaceEdit.changeAnnotations=0===this._changeAnnotations.size?void 0:this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),Ft.prototype.getTextEditChange=function(rt){if(q.is(rt)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var Le={uri:rt.uri,version:rt.version};return(ie=this._textEditChanges[Le.uri])||(this._workspaceEdit.documentChanges.push({textDocument:Le,edits:te=[]}),ie=new N(te,this._changeAnnotations),this._textEditChanges[Le.uri]=ie),ie}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var ie,te;return(ie=this._textEditChanges[rt])||(this._workspaceEdit.changes[rt]=te=[],ie=new N(te),this._textEditChanges[rt]=ie),ie},Ft.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new O,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},Ft.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},Ft.prototype.createFile=function(rt,Le,ie){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var te,oe,we;if(E.is(Le)||L.is(Le)?te=Le:ie=Le,void 0===te?oe=k.create(rt,ie):(we=L.is(te)?te:this._changeAnnotations.manage(te),oe=k.create(rt,ie,we)),this._workspaceEdit.documentChanges.push(oe),void 0!==we)return we},Ft.prototype.renameFile=function(rt,Le,ie,te){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var oe,we,nt;if(E.is(ie)||L.is(ie)?oe=ie:te=ie,void 0===oe?we=W.create(rt,Le,te):(nt=L.is(oe)?oe:this._changeAnnotations.manage(oe),we=W.create(rt,Le,te,nt)),this._workspaceEdit.documentChanges.push(we),void 0!==nt)return nt},Ft.prototype.deleteFile=function(rt,Le,ie){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var te,oe,we;if(E.is(Le)||L.is(Le)?te=Le:ie=Le,void 0===te?oe=H.create(rt,ie):(we=L.is(te)?te:this._changeAnnotations.manage(te),oe=H.create(rt,ie,we)),this._workspaceEdit.documentChanges.push(oe),void 0!==we)return we},Ft}();!function(Ft){Ft.create=function rt(ie){return{uri:ie}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&Ot.string(te.uri)}}($||($={})),function(Ft){Ft.create=function rt(ie,te){return{uri:ie,version:te}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&Ot.string(te.uri)&&Ot.integer(te.version)}}(j||(j={})),function(Ft){Ft.create=function rt(ie,te){return{uri:ie,version:te}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&Ot.string(te.uri)&&(null===te.version||Ot.integer(te.version))}}(q||(q={})),function(Ft){Ft.create=function rt(ie,te,oe,we){return{uri:ie,languageId:te,version:oe,text:we}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&Ot.string(te.uri)&&Ot.string(te.languageId)&&Ot.integer(te.version)&&Ot.string(te.text)}}(R||(R={})),function(Ft){Ft.PlainText="plaintext",Ft.Markdown="markdown",Ft.is=function rt(Le){return Le===Ft.PlainText||Le===Ft.Markdown}}(Z||(Z={})),function(Ft){Ft.is=function rt(Le){var ie=Le;return Ot.objectLiteral(Le)&&Z.is(ie.kind)&&Ot.string(ie.value)}}(J||(J={}));var xe,Ce=(()=>((Ce=Ce||{}).Text=1,Ce.Method=2,Ce.Function=3,Ce.Constructor=4,Ce.Field=5,Ce.Variable=6,Ce.Class=7,Ce.Interface=8,Ce.Module=9,Ce.Property=10,Ce.Unit=11,Ce.Value=12,Ce.Enum=13,Ce.Keyword=14,Ce.Snippet=15,Ce.Color=16,Ce.File=17,Ce.Reference=18,Ce.Folder=19,Ce.EnumMember=20,Ce.Constant=21,Ce.Struct=22,Ce.Event=23,Ce.Operator=24,Ce.TypeParameter=25,Ce))(),Se=(()=>((Se=Se||{}).PlainText=1,Se.Snippet=2,Se))(),Ie=(()=>((Ie=Ie||{}).Deprecated=1,Ie))();!function(Ft){Ft.create=function rt(ie,te,oe){return{newText:ie,insert:te,replace:oe}},Ft.is=function Le(ie){var te=ie;return te&&Ot.string(te.newText)&&I.is(te.insert)&&I.is(te.replace)}}(xe||(xe={}));var Oe,se,ce,Ee,me,Pe,he,Me=(()=>((Me=Me||{}).asIs=1,Me.adjustIndentation=2,Me))();!function(Ft){Ft.is=function rt(Le){var ie=Le;return ie&&(Ot.string(ie.detail)||void 0===ie.detail)&&(Ot.string(ie.description)||void 0===ie.description)}}(Oe||(Oe={})),function(Ft){Ft.create=function rt(Le){return{label:Le}}}(se||(se={})),function(Ft){Ft.create=function rt(Le,ie){return{items:Le||[],isIncomplete:!!ie}}}(ce||(ce={})),function(Ft){Ft.fromPlainText=function rt(ie){return ie.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},Ft.is=function Le(ie){var te=ie;return Ot.string(te)||Ot.objectLiteral(te)&&Ot.string(te.language)&&Ot.string(te.value)}}(Ee||(Ee={})),function(Ft){Ft.is=function rt(Le){var ie=Le;return!!ie&&Ot.objectLiteral(ie)&&(J.is(ie.contents)||Ee.is(ie.contents)||Ot.typedArray(ie.contents,Ee.is))&&(void 0===Le.range||I.is(Le.range))}}(me||(me={})),function(Ft){Ft.create=function rt(Le,ie){return ie?{label:Le,documentation:ie}:{label:Le}}}(Pe||(Pe={})),function(Ft){Ft.create=function rt(Le,ie){for(var te=[],oe=2;oe<arguments.length;oe++)te[oe-2]=arguments[oe];var we={label:Le};return Ot.defined(ie)&&(we.documentation=ie),we.parameters=Ot.defined(te)?te:[],we}}(he||(he={}));var Ze,Fe=(()=>((Fe=Fe||{}).Text=1,Fe.Read=2,Fe.Write=3,Fe))();!function(Ft){Ft.create=function rt(Le,ie){var te={range:Le};return Ot.number(ie)&&(te.kind=ie),te}}(Ze||(Ze={}));var Ke,Je,vt,ze=(()=>((ze=ze||{}).File=1,ze.Module=2,ze.Namespace=3,ze.Package=4,ze.Class=5,ze.Method=6,ze.Property=7,ze.Field=8,ze.Constructor=9,ze.Enum=10,ze.Interface=11,ze.Function=12,ze.Variable=13,ze.Constant=14,ze.String=15,ze.Number=16,ze.Boolean=17,ze.Array=18,ze.Object=19,ze.Key=20,ze.Null=21,ze.EnumMember=22,ze.Struct=23,ze.Event=24,ze.Operator=25,ze.TypeParameter=26,ze))(),fe=(()=>((fe=fe||{}).Deprecated=1,fe))();!function(Ft){Ft.create=function rt(Le,ie,te,oe,we){var nt={name:Le,kind:ie,location:{uri:oe,range:te}};return we&&(nt.containerName=we),nt}}(Ke||(Ke={})),function(Ft){Ft.create=function rt(Le,ie,te,oe){return void 0!==oe?{name:Le,kind:ie,location:{uri:te,range:oe}}:{name:Le,kind:ie,location:{uri:te}}}}(Je||(Je={})),function(Ft){Ft.create=function rt(ie,te,oe,we,nt,He){var De={name:ie,detail:te,kind:oe,range:we,selectionRange:nt};return void 0!==He&&(De.children=He),De},Ft.is=function Le(ie){var te=ie;return te&&Ot.string(te.name)&&Ot.number(te.kind)&&I.is(te.range)&&I.is(te.selectionRange)&&(void 0===te.detail||Ot.string(te.detail))&&(void 0===te.deprecated||Ot.boolean(te.deprecated))&&(void 0===te.children||Array.isArray(te.children))&&(void 0===te.tags||Array.isArray(te.tags))}}(vt||(vt={}));var re,pe,ge,de,Q,ye,Et=(()=>((Et=Et||{}).Empty="",Et.QuickFix="quickfix",Et.Refactor="refactor",Et.RefactorExtract="refactor.extract",Et.RefactorInline="refactor.inline",Et.RefactorRewrite="refactor.rewrite",Et.Source="source",Et.SourceOrganizeImports="source.organizeImports",Et.SourceFixAll="source.fixAll",Et))(),Xe=(()=>((Xe=Xe||{}).Invoked=1,Xe.Automatic=2,Xe))();!function(Ft){Ft.create=function rt(ie,te,oe){var we={diagnostics:ie};return null!=te&&(we.only=te),null!=oe&&(we.triggerKind=oe),we},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&Ot.typedArray(te.diagnostics,v.is)&&(void 0===te.only||Ot.typedArray(te.only,Ot.string))&&(void 0===te.triggerKind||te.triggerKind===Xe.Invoked||te.triggerKind===Xe.Automatic)}}(re||(re={})),function(Ft){Ft.create=function rt(ie,te,oe){var we={title:ie},nt=!0;return"string"==typeof te?(nt=!1,we.kind=te):m.is(te)?we.command=te:we.edit=te,nt&&void 0!==oe&&(we.kind=oe),we},Ft.is=function Le(ie){var te=ie;return te&&Ot.string(te.title)&&(void 0===te.diagnostics||Ot.typedArray(te.diagnostics,v.is))&&(void 0===te.kind||Ot.string(te.kind))&&(void 0!==te.edit||void 0!==te.command)&&(void 0===te.command||m.is(te.command))&&(void 0===te.isPreferred||Ot.boolean(te.isPreferred))&&(void 0===te.edit||z.is(te.edit))}}(pe||(pe={})),function(Ft){Ft.create=function rt(ie,te){var oe={range:ie};return Ot.defined(te)&&(oe.data=te),oe},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&I.is(te.range)&&(Ot.undefined(te.command)||m.is(te.command))}}(ge||(ge={})),function(Ft){Ft.create=function rt(ie,te){return{tabSize:ie,insertSpaces:te}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&Ot.uinteger(te.tabSize)&&Ot.boolean(te.insertSpaces)}}(de||(de={})),function(Ft){Ft.create=function rt(ie,te,oe){return{range:ie,target:te,data:oe}},Ft.is=function Le(ie){var te=ie;return Ot.defined(te)&&I.is(te.range)&&(Ot.undefined(te.target)||Ot.string(te.target))}}(Q||(Q={})),function(Ft){Ft.create=function rt(ie,te){return{range:ie,parent:te}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&I.is(te.range)&&(void 0===te.parent||Ft.is(te.parent))}}(ye||(ye={}));var dt,it,et,st,St,mt,bt,Bt,Lt,Ae=(()=>((Ae=Ae||{}).namespace="namespace",Ae.type="type",Ae.class="class",Ae.enum="enum",Ae.interface="interface",Ae.struct="struct",Ae.typeParameter="typeParameter",Ae.parameter="parameter",Ae.variable="variable",Ae.property="property",Ae.enumMember="enumMember",Ae.event="event",Ae.function="function",Ae.method="method",Ae.macro="macro",Ae.keyword="keyword",Ae.modifier="modifier",Ae.comment="comment",Ae.string="string",Ae.number="number",Ae.regexp="regexp",Ae.operator="operator",Ae.decorator="decorator",Ae))(),ft=(()=>((ft=ft||{}).declaration="declaration",ft.definition="definition",ft.readonly="readonly",ft.static="static",ft.deprecated="deprecated",ft.abstract="abstract",ft.async="async",ft.modification="modification",ft.documentation="documentation",ft.defaultLibrary="defaultLibrary",ft))();!function(Ft){Ft.is=function rt(Le){var ie=Le;return Ot.objectLiteral(ie)&&(void 0===ie.resultId||"string"==typeof ie.resultId)&&Array.isArray(ie.data)&&(0===ie.data.length||"number"==typeof ie.data[0])}}(dt||(dt={})),function(Ft){Ft.create=function rt(ie,te){return{range:ie,text:te}},Ft.is=function Le(ie){var te=ie;return null!=te&&I.is(te.range)&&Ot.string(te.text)}}(it||(it={})),function(Ft){Ft.create=function rt(ie,te,oe){return{range:ie,variableName:te,caseSensitiveLookup:oe}},Ft.is=function Le(ie){var te=ie;return null!=te&&I.is(te.range)&&Ot.boolean(te.caseSensitiveLookup)&&(Ot.string(te.variableName)||void 0===te.variableName)}}(et||(et={})),function(Ft){Ft.create=function rt(ie,te){return{range:ie,expression:te}},Ft.is=function Le(ie){var te=ie;return null!=te&&I.is(te.range)&&(Ot.string(te.expression)||void 0===te.expression)}}(st||(st={})),function(Ft){Ft.create=function rt(ie,te){return{frameId:ie,stoppedLocation:te}},Ft.is=function Le(ie){return Ot.defined(ie)&&I.is(ie.stoppedLocation)}}(St||(St={})),function(Ft){Ft.Type=1,Ft.Parameter=2,Ft.is=function rt(Le){return 1===Le||2===Le}}(mt||(mt={})),function(Ft){Ft.create=function rt(ie){return{value:ie}},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&(void 0===te.tooltip||Ot.string(te.tooltip)||J.is(te.tooltip))&&(void 0===te.location||b.is(te.location))&&(void 0===te.command||m.is(te.command))}}(bt||(bt={})),function(Ft){Ft.create=function rt(ie,te,oe){var we={position:ie,label:te};return void 0!==oe&&(we.kind=oe),we},Ft.is=function Le(ie){var te=ie;return Ot.objectLiteral(te)&&f.is(te.position)&&(Ot.string(te.label)||Ot.typedArray(te.label,bt.is))&&(void 0===te.kind||mt.is(te.kind))&&void 0===te.textEdits||Ot.typedArray(te.textEdits,w.is)&&(void 0===te.tooltip||Ot.string(te.tooltip)||J.is(te.tooltip))&&(void 0===te.paddingLeft||Ot.boolean(te.paddingLeft))&&(void 0===te.paddingRight||Ot.boolean(te.paddingRight))}}(Bt||(Bt={})),function(Ft){Ft.is=function rt(Le){var ie=Le;return Ot.objectLiteral(ie)&&t.is(ie.uri)&&Ot.string(ie.name)}}(Lt||(Lt={}));var Tt,Ye=["\n","\r\n","\r"];!function(Ft){function te(oe,we){if(oe.length<=1)return oe;var nt=oe.length/2|0,He=oe.slice(0,nt),De=oe.slice(nt);te(He,we),te(De,we);for(var pt=0,lt=0,Ht=0;pt<He.length&&lt<De.length;){var Xt=we(He[pt],De[lt]);oe[Ht++]=Xt<=0?He[pt++]:De[lt++]}for(;pt<He.length;)oe[Ht++]=He[pt++];for(;lt<De.length;)oe[Ht++]=De[lt++];return oe}Ft.create=function rt(oe,we,nt,He){return new qt(oe,we,nt,He)},Ft.is=function Le(oe){var we=oe;return!!(Ot.defined(we)&&Ot.string(we.uri)&&(Ot.undefined(we.languageId)||Ot.string(we.languageId))&&Ot.uinteger(we.lineCount)&&Ot.func(we.getText)&&Ot.func(we.positionAt)&&Ot.func(we.offsetAt))},Ft.applyEdits=function ie(oe,we){for(var nt=oe.getText(),He=te(we,function(ut,an){var Kn=ut.range.start.line-an.range.start.line;return 0===Kn?ut.range.start.character-an.range.start.character:Kn}),De=nt.length,pt=He.length-1;pt>=0;pt--){var lt=He[pt],Ht=oe.offsetAt(lt.range.start),Xt=oe.offsetAt(lt.range.end);if(!(Xt<=De))throw new Error("Overlapping edit");nt=nt.substring(0,Ht)+lt.newText+nt.substring(Xt,nt.length),De=Ht}return nt}}(Tt||(Tt={}));var Ot,qt=function(){function Ft(rt,Le,ie,te){this._uri=rt,this._languageId=Le,this._version=ie,this._content=te,this._lineOffsets=void 0}return Object.defineProperty(Ft.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(Ft.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(Ft.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Ft.prototype.getText=function(rt){if(rt){var Le=this.offsetAt(rt.start),ie=this.offsetAt(rt.end);return this._content.substring(Le,ie)}return this._content},Ft.prototype.update=function(rt,Le){this._content=rt.text,this._version=Le,this._lineOffsets=void 0},Ft.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var rt=[],Le=this._content,ie=!0,te=0;te<Le.length;te++){ie&&(rt.push(te),ie=!1);var oe=Le.charAt(te);ie="\r"===oe||"\n"===oe,"\r"===oe&&te+1<Le.length&&"\n"===Le.charAt(te+1)&&te++}ie&&Le.length>0&&rt.push(Le.length),this._lineOffsets=rt}return this._lineOffsets},Ft.prototype.positionAt=function(rt){rt=Math.max(Math.min(rt,this._content.length),0);var Le=this.getLineOffsets(),ie=0,te=Le.length;if(0===te)return f.create(0,rt);for(;ie<te;){var oe=Math.floor((ie+te)/2);Le[oe]>rt?te=oe:ie=oe+1}var we=ie-1;return f.create(we,rt-Le[we])},Ft.prototype.offsetAt=function(rt){var Le=this.getLineOffsets();if(rt.line>=Le.length)return this._content.length;if(rt.line<0)return 0;var ie=Le[rt.line];return Math.max(Math.min(ie+rt.character,rt.line+1<Le.length?Le[rt.line+1]:this._content.length),ie)},Object.defineProperty(Ft.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),Ft}();!function(Ft){var rt=Object.prototype.toString;Ft.defined=function Le(Xt){return typeof Xt<"u"},Ft.undefined=function ie(Xt){return typeof Xt>"u"},Ft.boolean=function te(Xt){return!0===Xt||!1===Xt},Ft.string=function oe(Xt){return"[object String]"===rt.call(Xt)},Ft.number=function we(Xt){return"[object Number]"===rt.call(Xt)},Ft.numberRange=function nt(Xt,ut,an){return"[object Number]"===rt.call(Xt)&&ut<=Xt&&Xt<=an},Ft.integer=function He(Xt){return"[object Number]"===rt.call(Xt)&&-2147483648<=Xt&&Xt<=2147483647},Ft.uinteger=function De(Xt){return"[object Number]"===rt.call(Xt)&&0<=Xt&&Xt<=2147483647},Ft.func=function pt(Xt){return"[object Function]"===rt.call(Xt)},Ft.objectLiteral=function lt(Xt){return null!==Xt&&"object"==typeof Xt},Ft.typedArray=function Ht(Xt,ut){return Array.isArray(Xt)&&Xt.every(ut)}}(Ot||(Ot={}))},6128:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.6;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n",""]);const I=f},89469:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}",""]);const I=f},57585:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown.disabled {\n\tcursor: default;\n}\n\n.monaco-button-dropdown > .monaco-button:focus {\n\toutline-offset: -1px !important;\n}\n\n.monaco-button-dropdown.disabled > .monaco-button.disabled,\n.monaco-button-dropdown.disabled > .monaco-button.disabled:focus,\n.monaco-button-dropdown.disabled > .monaco-button-dropdown-separator {\n\topacity: 0.4 !important;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-right-width: 0 !important;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator {\n\tpadding: 4px 0;\n\tcursor: default;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator > div {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-dropdown-button {\n\tborder-left-width: 0 !important;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n",""]);const I=f},8901:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n",""]);const I=f},99138:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: "codicon";\n\tfont-display: block;\n\tsrc: url(./codicon.ttf) format("truetype");\n}\n\n.codicon[class*=\'codicon-\'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n',""]);const I=f},4641:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tcolor: inherit;\n}\n",""]);const I=f},90244:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n",""]);const I=f},13590:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const I=f},52404:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n\n.monaco-findInput {\n\tposition: relative;\n}\n\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls,\n.hc-light .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n\n.monaco-findInput.highlight-1 .controls,\n.hc-light .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n",""]);const I=f},6105:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n",""]);const I=f},69930:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n",""]);const I=f},23612:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n",""]);const I=f},29341:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n",""]);const I=f},671:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Filter */\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n",""]);const I=f},46106:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n",""]);const I=f},89147:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n",""]);const I=f},4848:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n",""]);const I=f},64265:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n",""]);const I=f},95296:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n",""]);const I=f},18261:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n',""]);const I=f},83445:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-toggle {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-toggle:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-toggle,\n.hc-light .monaco-custom-toggle {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tbackground: none;\n}\n\n.monaco-custom-toggle.monaco-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n.monaco-custom-toggle.monaco-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n",""]);const I=f},83204:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n\n.monaco-tree-type-filter {\n\tposition: absolute;\n\ttop: 0;\n\tdisplay: flex;\n\tpadding: 3px;\n\ttransition: top 0.3s;\n\tmax-width: 200px;\n\tz-index: 100;\n\tmargin: 0 6px;\n}\n\n.monaco-tree-type-filter.disabled {\n\ttop: -40px;\n}\n\n.monaco-tree-type-filter-grab {\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: grab;\n\tmargin-right: 2px;\n}\n\n.monaco-tree-type-filter-grab.grabbing {\n\tcursor: grabbing;\n}\n\n.monaco-tree-type-filter-input {\n\tflex: 1;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox {\n\theight: 23px;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .input,\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding: 2px 4px;\n}\n\n.monaco-tree-type-filter-input .monaco-findInput > .controls {\n\ttop: 2px;\n}\n\n.monaco-tree-type-filter-actionbar {\n\tmargin-left: 4px;\n}\n\n.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label {\n\tpadding: 2px;\n}\n",""]);const I=f},88639:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2550;\n\tleft: 50%;\n\tmargin-left: -300px;\n\t-webkit-app-region: no-drag;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n\tpadding: 0px 1px 1px 1px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n",""]);const I=f},37083:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n",""]);const I=f},54213:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .blockDecorations-container {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .blockDecorations-block {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const I=f},46248:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n",""]);const I=f},86043:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}",""]);const I=f},8504:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n",""]);const I=f},98468:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const I=f},37282:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n",""]);const I=f},66023:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor.enable-user-select {\n\tuser-select: initial;\n\t-webkit-user-select: initial;\n\t-ms-user-select: initial;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n",""]);const I=f},56961:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}",""]);const I=f},14211:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""]);const I=f},21906:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n\n/* 0.5s fade in/out for the minimap */\n.minimap.autohide {\n\topacity: 0.0;\n\ttransition: opacity 0.5s;\n}\n.minimap.autohide:hover {\n\topacity: 1.0;\n}\n",""]);const I=f},81377:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""]);const I=f},52753:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}",""]);const I=f},72460:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}",""]);const I=f},30853:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n\n.monaco-editor.hc-light .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-light .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-light .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-light .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""]);const I=f},89563:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""]);const I=f},80236:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light\t.scrollbar { background: none; }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n.modified-in-monaco-diff-editor.hc-light\t.slider.active { background: none; }\n\n/* ---------- Diff ---------- */\n\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign,\n.monaco-editor.hc-light .insert-sign,\n.monaco-diff-editor.hc-light .insert-sign,\n.monaco-editor.hc-light .delete-sign,\n.monaco-diff-editor.hc-light .delete-sign {\n\topacity: 1;\n}\n\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n\n.monaco-editor .arrow-revert-change {\n\tz-index: 10;\n\tposition: absolute;\n}\n\n.monaco-editor .arrow-revert-change:hover {\n\tcursor: pointer;\n}\n\n/* ---------- Inline Diff ---------- */\n\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n",""]);const I=f},51980:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n",""]);const I=f},88850:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n/* I am not a big fan of this rule */\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n",""]);const I=f},56437:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n",""]);const I=f},65306:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n",""]);const I=f},73388:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n",""]);const I=f},46101:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codeActionMenuWidget {\n\tpadding: 8px 0px 8px 0px;\n\toverflow: auto;\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n\tz-index: 40;\n\tdisplay: block;\n\t/* flex-direction: column;\n\tflex: 0 1 auto; */\n\twidth: 100%;\n\tborder-width: 0px;\n\tborder-color: none;\n\tbackground-color: var(--vscode-menu-background);\n\tcolor: var(--vscode-menu-foreground);\n\tbox-shadow: rgb(0,0,0, 16%) 0px 2px 8px;\n}\n\n.codeActionMenuWidget .monaco-list:not(.element-focused):focus:before {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 5; /* make sure we are on top of the tree items */\n\tcontent: "";\n\tpointer-events: none; /* enable click through */\n\toutline: 0px solid !important; /* we still need to handle the empty tree or no focus item case */\n\toutline-width: 0px !important;\n\toutline-style: none !important;\n\toutline-offset: 0px !important;\n}\n\n.codeActionMenuWidget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tborder: none !important;\n\tborder-width: 0px !important;\n}\n\n/* .codeActionMenuWidget .monaco-list:not(.element-focus) {\n\tborder: none !important;\n\tborder-width: 0px !important;\n} */\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element .monaco-list-rows {\n\theight: 100% !important;\n}\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element {\n\toverflow: visible;\n}\n/** Styles for each row in the list element **/\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:not(.separator) {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding: 0px 26px 0px 26px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n\twidth: 100%;\n}\n\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:hover:not(.option-disabled),\n.codeActionMenuWidget .monaco-list .moncao-list-row.focused:not(.option-disabled) {\n\tcolor: var(--vscode-menu-selectionForeground) !important;\n\tbackground-color: var(--vscode-menu-selectionBackground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .option-disabled,\n.codeActionMenuWidget .monaco-list .option-disabled .focused {\n\tpointer-events: none;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tcolor: var(--vscode-disabledForeground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .separator {\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 0px !important;\n\t/* padding: 30px; */\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tborder-radius: 0;\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n',""]);const I=f},62269:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration>span,\n.monaco-editor .codelens-decoration>a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration>a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration>a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% {\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n",""]);const I=f},96264:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration,\n.hc-light .colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n',""]);const I=f},36778:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target,\n.monaco-editor.hc-light .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines,\n.monaco-editor.hc-light.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines,\n.monaco-editor.hc-light.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}\n",""]);const I=f},55522:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .find-widget {\n\ttransition: transform 0ms linear;\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\tcolor: var(--vscode-disabledForeground);\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n",""]);const I=f},94155:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n\n',""]);const I=f},26193:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n",""]);const I=f},65427:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}",""]);const I=f},25111:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n",""]);const I=f},48449:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n\n.monaco-editor .inline-completion-text-to-replace {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n",""]);const I=f},54578:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n",""]);const I=f},20337:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message,\n.monaco-editor.hc-light .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n",""]);const I=f},97425:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n\tcursor: default;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs a:hover {\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs  .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n",""]);const I=f},30822:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n",""]);const I=f},24364:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n",""]);const I=f},10322:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n",""]);const I=f},70438:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details,\n.monaco-editor.hc-light .suggest-widget,\n.monaco-editor.hc-light .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const I=f},52644:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n",""]);const I=f},70389:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbackground-color: var(--vscode-editorUnicodeHighlight-background);\n\tbox-sizing: border-box;\n}\n",""]);const I=f},72699:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n\n\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n",""]);const I=f},89659:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}",""]);const I=f},37831:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}',""]);const I=f},20998:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const I=f},23245:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0F4A85;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.hc-light .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px #0F4A85;\n\tbox-shadow: none;\n\tcolor: #292929;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n",""]);const I=f},27962:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n/* The hc-black theme is already high contrast optimized */\n.monaco-editor.hc-black,\n.monaco-editor.hc-light {\n\t-ms-high-contrast-adjust: none;\n}\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n',""]);const I=f},78771:(yt,T,e)=>{"use strict";e.d(T,{Z:()=>I});var s=e(51090),t=e.n(s),l=e(5715),f=e.n(l)()(t());f.push([yt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const I=f},93426:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{CancellationTokenSource:()=>Mr,Emitter:()=>Zo,KeyCode:()=>ja,KeyMod:()=>Pr,MarkerSeverity:()=>ll,MarkerTag:()=>ms,Position:()=>Ar,Range:()=>Nr,Selection:()=>vr,SelectionDirection:()=>zi,Token:()=>pa,Uri:()=>Ka,editor:()=>es,languages:()=>ta});var s=e(11739),t=e(44662),l=e(92123),C=e.n(l),f=e(65057),I=e.n(f),b=e(28764),S=e.n(b),D=e(6557),_=e.n(D),r=e(11146),a=e.n(r),u=e(95085),n=e.n(u),d=e(27962),y={};y.styleTagTransform=n(),y.setAttributes=_(),y.insert=S().bind(null,"head"),y.domAPI=I(),y.insertStyleElement=a(),C()(d.Z,y);var m=e(21576),w=e(77697),E=e(22728),L=e(60896),x=e(92132),A=e(31864),k=e(82941),W=e(88154);const H={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class z extends m.JT{constructor(ke,tt={}){super(),this._onDidUpdate=this._register(new A.Q5),this._editor=ke,this._options=k.jB(tt,H,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(Pt=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(Pt=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(ke){this.ranges=[],ke&&ke.forEach(tt=>{!this._options.ignoreCharChanges&&tt.charChanges?tt.charChanges.forEach(Pt=>{this.ranges.push({rhs:!0,range:new W.e(Pt.modifiedStartLineNumber,Pt.modifiedStartColumn,Pt.modifiedEndLineNumber,Pt.modifiedEndColumn)})}):this.ranges.push(0===tt.modifiedEndLineNumber?{rhs:!0,range:new W.e(tt.modifiedStartLineNumber,1,tt.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new W.e(tt.modifiedStartLineNumber,1,tt.modifiedEndLineNumber+1,1)})}),this.ranges.sort((tt,Pt)=>W.e.compareRangesUsingStarts(tt.range,Pt.range)),this._onDidUpdate.fire(this)}_initIdx(ke){let tt=!1;const Pt=this._editor.getPosition();if(Pt){for(let Jt=0,_n=this.ranges.length;Jt<_n&&!tt;Jt++)Pt.isBeforeOrEqual(this.ranges[Jt].range.getStartPosition())&&(this.nextIdx=Jt+(ke?0:-1),tt=!0);tt||(this.nextIdx=ke?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(ke,tt){if(x.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(ke):ke?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const Pt=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const Jt=Pt.range.getStartPosition();this._editor.setPosition(Jt),this._editor.revealRangeInCenter(Pt.range,tt)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(ke=0){this._move(!0,ke)}previous(ke=0){this._move(!1,ke)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var N=e(78626),O=e(99083),K=e(59129),$=e(64050),j=e(15333),q=e(37551),R=e(12375),Z=e(44378),J=e(58712),Ce=e(22070);class Ie extends J.Q8{constructor(ke,tt,Pt){super(ke,Pt.keepIdleModels||!1,Pt.label,tt),this._foreignModuleId=Pt.moduleId,this._foreignModuleCreateData=Pt.createData||null,this._foreignModuleHost=Pt.host||null,this._foreignProxy=null}fhr(ke,tt){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[ke])return Promise.reject(new Error("Missing method "+ke+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[ke].apply(this._foreignModuleHost,tt))}catch(Pt){return Promise.reject(Pt)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(ke=>{const tt=this._foreignModuleHost?Ce.$E(this._foreignModuleHost):[];return ke.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,tt).then(Pt=>{this._foreignModuleCreateData=null;const Jt=(Rn,qn)=>ke.fmr(Rn,qn),_n=(Rn,qn)=>function(){const Zn=Array.prototype.slice.call(arguments,0);return qn(Rn,Zn)},yn={};for(const Rn of Pt)yn[Rn]=_n(Rn,Jt);return yn})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(ke){return this._withSyncedResources(ke).then(tt=>this.getProxy())}}var xe=e(16245),Me=e(12922),Oe=e(93389),se=e(8511);function Ee(zt){return!function ce(zt){return Array.isArray(zt)}(zt)}function me(zt){return"string"==typeof zt}function Pe(zt){return!me(zt)}function he(zt){return!zt}function Fe(zt,ke){return zt.ignoreCase&&ke?ke.toLowerCase():ke}function Ze(zt){return zt.replace(/[&<>'"_]/g,"-")}function ze(zt,ke){console.log(`${zt.languageId}: ${ke}`)}function fe(zt,ke){return new Error(`${zt.languageId}: ${ke}`)}function Ke(zt,ke,tt,Pt,Jt){let yn=null;return ke.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(Rn,qn,Zn,ei,ti,Ti,xi,ki,qi){return he(Zn)?he(ei)?!he(ti)&&ti<Pt.length?Fe(zt,Pt[ti]):!he(xi)&&zt&&"string"==typeof zt[xi]?zt[xi]:(null===yn&&(yn=Jt.split("."),yn.unshift(Jt)),!he(Ti)&&Ti<yn.length?Fe(zt,yn[Ti]):""):Fe(zt,tt):"$"})}function Je(zt,ke){let tt=ke;for(;tt&&tt.length>0;){const Pt=zt.tokenizer[tt];if(Pt)return Pt;const Jt=tt.lastIndexOf(".");tt=Jt<0?null:tt.substr(0,Jt)}return null}var Et=e(56767);class ge{constructor(ke){this._maxCacheDepth=ke,this._entries=Object.create(null)}static create(ke,tt){return this._INSTANCE.create(ke,tt)}create(ke,tt){if(null!==ke&&ke.depth>=this._maxCacheDepth)return new de(ke,tt);let Pt=de.getStackElementId(ke);Pt.length>0&&(Pt+="|"),Pt+=tt;let Jt=this._entries[Pt];return Jt||(Jt=new de(ke,tt),this._entries[Pt]=Jt,Jt)}}ge._INSTANCE=new ge(5);class de{constructor(ke,tt){this.parent=ke,this.state=tt,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(ke){let tt="";for(;null!==ke;)tt.length>0&&(tt+="|"),tt+=ke.state,ke=ke.parent;return tt}static _equals(ke,tt){for(;null!==ke&&null!==tt;){if(ke===tt)return!0;if(ke.state!==tt.state)return!1;ke=ke.parent,tt=tt.parent}return null===ke&&null===tt}equals(ke){return de._equals(this,ke)}push(ke){return ge.create(this,ke)}pop(){return this.parent}popall(){let ke=this;for(;ke.parent;)ke=ke.parent;return ke}switchTo(ke){return ge.create(this.parent,ke)}}class Q{constructor(ke,tt){this.languageId=ke,this.state=tt}equals(ke){return this.languageId===ke.languageId&&this.state.equals(ke.state)}clone(){return this.state.clone()===this.state?this:new Q(this.languageId,this.state)}}class ye{constructor(ke){this._maxCacheDepth=ke,this._entries=Object.create(null)}static create(ke,tt){return this._INSTANCE.create(ke,tt)}create(ke,tt){if(null!==tt)return new Ae(ke,tt);if(null!==ke&&ke.depth>=this._maxCacheDepth)return new Ae(ke,tt);const Pt=de.getStackElementId(ke);let Jt=this._entries[Pt];return Jt||(Jt=new Ae(ke,null),this._entries[Pt]=Jt,Jt)}}ye._INSTANCE=new ye(5);class Ae{constructor(ke,tt){this.stack=ke,this.embeddedLanguageData=tt}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:ye.create(this.stack,this.embeddedLanguageData)}equals(ke){return!!(ke instanceof Ae&&this.stack.equals(ke.stack))&&(null===this.embeddedLanguageData&&null===ke.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==ke.embeddedLanguageData&&this.embeddedLanguageData.equals(ke.embeddedLanguageData))}}class ft{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(ke){this._languageId=ke}emit(ke,tt){this._lastTokenType===tt&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=tt,this._lastTokenLanguage=this._languageId,this._tokens.push(new $.WU(ke,tt,this._languageId)))}nestedLanguageTokenize(ke,tt,Pt,Jt){const _n=Pt.languageId,yn=Pt.state,Rn=$.RW.get(_n);if(!Rn)return this.enterLanguage(_n),this.emit(Jt,""),yn;const qn=Rn.tokenize(ke,tt,yn);if(0!==Jt)for(const Zn of qn.tokens)this._tokens.push(new $.WU(Zn.offset+Jt,Zn.type,Zn.language));else this._tokens=this._tokens.concat(qn.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,qn.endState}finalize(ke){return new $.hG(this._tokens,ke)}}class dt{constructor(ke,tt){this._languageService=ke,this._theme=tt,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(ke){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(ke)}emit(ke,tt){const Pt=this._theme.match(this._currentLanguageId,tt);this._lastTokenMetadata!==Pt&&(this._lastTokenMetadata=Pt,this._tokens.push(ke),this._tokens.push(Pt))}static _merge(ke,tt,Pt){const Jt=null!==ke?ke.length:0,_n=tt.length,yn=null!==Pt?Pt.length:0;if(0===Jt&&0===_n&&0===yn)return new Uint32Array(0);if(0===Jt&&0===_n)return Pt;if(0===_n&&0===yn)return ke;const Rn=new Uint32Array(Jt+_n+yn);null!==ke&&Rn.set(ke);for(let qn=0;qn<_n;qn++)Rn[Jt+qn]=tt[qn];return null!==Pt&&Rn.set(Pt,Jt+_n),Rn}nestedLanguageTokenize(ke,tt,Pt,Jt){const _n=Pt.languageId,yn=Pt.state,Rn=$.RW.get(_n);if(!Rn)return this.enterLanguage(_n),this.emit(Jt,""),yn;const qn=Rn.tokenizeEncoded(ke,tt,yn);if(0!==Jt)for(let Zn=0,ei=qn.tokens.length;Zn<ei;Zn+=2)qn.tokens[Zn]+=Jt;return this._prependTokens=dt._merge(this._prependTokens,this._tokens,qn.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,qn.endState}finalize(ke){return new $.DI(dt._merge(this._prependTokens,this._tokens,null),ke)}}let it=class Zu{constructor(ke,tt,Pt,Jt,_n){this._configurationService=_n,this._languageService=ke,this._standaloneThemeService=tt,this._languageId=Pt,this._lexer=Jt,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let yn=!1;this._tokenizationRegistryListener=$.RW.onDidChange(Rn=>{if(yn)return;let qn=!1;for(let Zn=0,ei=Rn.changedLanguages.length;Zn<ei;Zn++)if(this._embeddedLanguages[Rn.changedLanguages[Zn]]){qn=!0;break}qn&&(yn=!0,$.RW.fire([this._languageId]),yn=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(Rn=>{Rn.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const ke=[];for(const tt in this._embeddedLanguages){const Pt=$.RW.get(tt);if(Pt){if(Pt instanceof Zu){const Jt=Pt.getLoadStatus();!1===Jt.loaded&&ke.push(Jt.promise)}}else $.RW.isResolved(tt)||ke.push($.RW.getOrCreate(tt))}return 0===ke.length?{loaded:!0}:{loaded:!1,promise:Promise.all(ke).then(tt=>{})}}getInitialState(){const ke=ge.create(null,this._lexer.start);return ye.create(ke,null)}tokenize(ke,tt,Pt){if(ke.length>=this._maxTokenizationLineLength)return(0,q.Ri)(this._languageId,Pt);const Jt=new ft,_n=this._tokenize(ke,tt,Pt,Jt);return Jt.finalize(_n)}tokenizeEncoded(ke,tt,Pt){if(ke.length>=this._maxTokenizationLineLength)return(0,q.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),Pt);const Jt=new dt(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),_n=this._tokenize(ke,tt,Pt,Jt);return Jt.finalize(_n)}_tokenize(ke,tt,Pt,Jt){return Pt.embeddedLanguageData?this._nestedTokenize(ke,tt,Pt,0,Jt):this._myTokenize(ke,tt,Pt,0,Jt)}_findLeavingNestedLanguageOffset(ke,tt){let Pt=this._lexer.tokenizer[tt.stack.state];if(!Pt&&(Pt=Je(this._lexer,tt.stack.state),!Pt))throw fe(this._lexer,"tokenizer state is not defined: "+tt.stack.state);let Jt=-1,_n=!1;for(const yn of Pt){if(!Pe(yn.action)||"@pop"!==yn.action.nextEmbedded)continue;_n=!0;let Rn=yn.regex;const qn=yn.regex.source;if("^(?:"===qn.substr(0,4)&&")"===qn.substr(qn.length-1,1)){const ei=(Rn.ignoreCase?"i":"")+(Rn.unicode?"u":"");Rn=new RegExp(qn.substr(4,qn.length-5),ei)}const Zn=ke.search(Rn);-1===Zn||0!==Zn&&yn.matchOnlyAtLineStart||(-1===Jt||Zn<Jt)&&(Jt=Zn)}if(!_n)throw fe(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+tt.stack.state);return Jt}_nestedTokenize(ke,tt,Pt,Jt,_n){const yn=this._findLeavingNestedLanguageOffset(ke,Pt);if(-1===yn){const Zn=_n.nestedLanguageTokenize(ke,tt,Pt.embeddedLanguageData,Jt);return ye.create(Pt.stack,new Q(Pt.embeddedLanguageData.languageId,Zn))}const Rn=ke.substring(0,yn);Rn.length>0&&_n.nestedLanguageTokenize(Rn,!1,Pt.embeddedLanguageData,Jt);const qn=ke.substring(yn);return this._myTokenize(qn,tt,Pt,Jt+yn,_n)}_safeRuleName(ke){return ke?ke.name:"(unknown)"}_myTokenize(ke,tt,Pt,Jt,_n){_n.enterLanguage(this._languageId);const yn=ke.length,Rn=tt&&this._lexer.includeLF?ke+"\n":ke,qn=Rn.length;let Zn=Pt.embeddedLanguageData,ei=Pt.stack,ti=0,Ti=null,xi=!0;for(;xi||ti<qn;){const ki=ti,qi=ei.depth,po=Ti?Ti.groups.length:0,No=ei.state;let Io=null,To=null,co=null,Jo=null,Uo=null;if(Ti){Io=Ti.matches;const Eo=Ti.groups.shift();To=Eo.matched,co=Eo.action,Jo=Ti.rule,0===Ti.groups.length&&(Ti=null)}else{if(!xi&&ti>=qn)break;xi=!1;let Eo=this._lexer.tokenizer[No];if(!Eo&&(Eo=Je(this._lexer,No),!Eo))throw fe(this._lexer,"tokenizer state is not defined: "+No);const Qo=Rn.substr(ti);for(const qo of Eo)if((0===ti||!qo.matchOnlyAtLineStart)&&(Io=Qo.match(qo.regex),Io)){To=Io[0],co=qo.action;break}}if(Io||(Io=[""],To=""),co||(ti<qn&&(Io=[Rn.charAt(ti)],To=Io[0]),co=this._lexer.defaultToken),null===To)break;for(ti+=To.length;Ee(co)&&Pe(co)&&co.test;)co=co.test(To,Io,No,ti===qn);let wo=null;if("string"==typeof co||Array.isArray(co))wo=co;else if(co.group)wo=co.group;else if(null!=co.token){if(wo=co.tokenSubst?Ke(this._lexer,co.token,To,Io,No):co.token,co.nextEmbedded)if("@pop"===co.nextEmbedded){if(!Zn)throw fe(this._lexer,"cannot pop embedded language if not inside one");Zn=null}else{if(Zn)throw fe(this._lexer,"cannot enter embedded language from within an embedded language");Uo=Ke(this._lexer,co.nextEmbedded,To,Io,No)}if(co.goBack&&(ti=Math.max(0,ti-co.goBack)),co.switchTo&&"string"==typeof co.switchTo){let Eo=Ke(this._lexer,co.switchTo,To,Io,No);if("@"===Eo[0]&&(Eo=Eo.substr(1)),!Je(this._lexer,Eo))throw fe(this._lexer,"trying to switch to a state '"+Eo+"' that is undefined in rule: "+this._safeRuleName(Jo));ei=ei.switchTo(Eo)}else{if(co.transform&&"function"==typeof co.transform)throw fe(this._lexer,"action.transform not supported");if(co.next)if("@push"===co.next){if(ei.depth>=this._lexer.maxStack)throw fe(this._lexer,"maximum tokenizer stack size reached: ["+ei.state+","+ei.parent.state+",...]");ei=ei.push(No)}else if("@pop"===co.next){if(ei.depth<=1)throw fe(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Jo));ei=ei.pop()}else if("@popall"===co.next)ei=ei.popall();else{let Eo=Ke(this._lexer,co.next,To,Io,No);if("@"===Eo[0]&&(Eo=Eo.substr(1)),!Je(this._lexer,Eo))throw fe(this._lexer,"trying to set a next state '"+Eo+"' that is undefined in rule: "+this._safeRuleName(Jo));ei=ei.push(Eo)}}co.log&&"string"==typeof co.log&&ze(this._lexer,this._lexer.languageId+": "+Ke(this._lexer,co.log,To,Io,No))}if(null===wo)throw fe(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Jo));const no=Eo=>{const Qo=this._languageService.getLanguageIdByLanguageName(Eo)||this._languageService.getLanguageIdByMimeType(Eo)||Eo,qo=this._getNestedEmbeddedLanguageData(Qo);if(ti<qn){const ls=ke.substr(ti);return this._nestedTokenize(ls,tt,ye.create(ei,qo),Jt+ti,_n)}return ye.create(ei,qo)};if(Array.isArray(wo)){if(Ti&&Ti.groups.length>0)throw fe(this._lexer,"groups cannot be nested: "+this._safeRuleName(Jo));if(Io.length!==wo.length+1)throw fe(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Jo));let Eo=0;for(let Qo=1;Qo<Io.length;Qo++)Eo+=Io[Qo].length;if(Eo!==To.length)throw fe(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Jo));Ti={rule:Jo,matches:Io,groups:[]};for(let Qo=0;Qo<wo.length;Qo++)Ti.groups[Qo]={action:wo[Qo],matched:Io[Qo+1]};ti-=To.length}else{{if("@rematch"===wo&&(ti-=To.length,To="",Io=null,wo="",null!==Uo))return no(Uo);if(0===To.length){if(0===qn||qi!==ei.depth||No!==ei.state||(Ti?Ti.groups.length:0)!==po)continue;throw fe(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Jo))}let Eo=null;if(me(wo)&&0===wo.indexOf("@brackets")){const Qo=wo.substr(9),qo=et(this._lexer,To);if(!qo)throw fe(this._lexer,"@brackets token returned but no bracket defined as: "+To);Eo=Ze(qo.token+Qo)}else Eo=Ze(""===wo?"":wo+this._lexer.tokenPostfix);ki<yn&&_n.emit(ki+Jt,Eo)}if(null!==Uo)return no(Uo)}}return ye.create(ei,Zn)}_getNestedEmbeddedLanguageData(ke){if(!this._languageService.isRegisteredLanguageId(ke))return new Q(ke,q.TJ);ke!==this._languageId&&($.RW.getOrCreate(ke),this._embeddedLanguages[ke]=!0);const tt=$.RW.get(ke);return new Q(ke,tt?tt.getInitialState():q.TJ)}};var ke;function et(zt,ke){if(!ke)return null;ke=Fe(zt,ke);const tt=zt.brackets;for(const Pt of tt){if(Pt.open===ke)return{token:Pt.token,bracketType:1};if(Pt.close===ke)return{token:Pt.token,bracketType:-1}}return null}it=function(zt,ke,tt,Pt){var yn,Jt=arguments.length,_n=Jt<3?ke:null===Pt?Pt=Object.getOwnPropertyDescriptor(ke,tt):Pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_n=Reflect.decorate(zt,ke,tt,Pt);else for(var Rn=zt.length-1;Rn>=0;Rn--)(yn=zt[Rn])&&(_n=(Jt<3?yn(_n):Jt>3?yn(ke,tt,_n):yn(ke,tt))||_n);return Jt>3&&_n&&Object.defineProperty(ke,tt,_n),_n}([(4,ke=Et.Ui,function(tt,Pt){ke(tt,Pt,4)})],it);var St;const mt=null===(St=window.trustedTypes)||void 0===St?void 0:St.createPolicy("standaloneColorizer",{createHTML:zt=>zt});class bt{static colorizeElement(ke,tt,Pt,Jt){const _n=(Jt=Jt||{}).theme||"vs",yn=Jt.mimeType||Pt.getAttribute("lang")||Pt.getAttribute("data-lang");if(!yn)return console.error("Mode not detected"),Promise.resolve();const Rn=tt.getLanguageIdByMimeType(yn)||yn;ke.setTheme(_n);const qn=Pt.firstChild?Pt.firstChild.nodeValue:"";return Pt.className+=" "+_n,this.colorize(tt,qn||"",Rn,Jt).then(ei=>{var ti;const Ti=null!==(ti=mt?.createHTML(ei))&&void 0!==ti?ti:ei;Pt.innerHTML=Ti},ei=>console.error(ei))}static colorize(ke,tt,Pt,Jt){return function(zt,ke,tt,Pt){return new(tt||(tt=Promise))(function(_n,yn){function Rn(ei){try{Zn(Pt.next(ei))}catch(ti){yn(ti)}}function qn(ei){try{Zn(Pt.throw(ei))}catch(ti){yn(ti)}}function Zn(ei){ei.done?_n(ei.value):function Jt(_n){return _n instanceof tt?_n:new tt(function(yn){yn(_n)})}(ei.value).then(Rn,qn)}Zn((Pt=Pt.apply(zt,ke||[])).next())})}(this,void 0,void 0,function*(){const _n=ke.languageIdCodec;let yn=4;Jt&&"number"==typeof Jt.tabSize&&(yn=Jt.tabSize),w.uS(tt)&&(tt=tt.substr(1));const Rn=w.uq(tt);if(!ke.isRegisteredLanguageId(Pt))return Lt(Rn,yn,_n);const qn=yield $.RW.getOrCreate(Pt);return qn?function Bt(zt,ke,tt,Pt){return new Promise((Jt,_n)=>{const yn=()=>{const Rn=function Ye(zt,ke,tt,Pt){let Jt=[],_n=tt.getInitialState();for(let yn=0,Rn=zt.length;yn<Rn;yn++){const qn=zt[yn],Zn=tt.tokenizeEncoded(qn,!0,_n);Me.A.convertToEndOffset(Zn.tokens,qn.length);const ei=new Me.A(Zn.tokens,qn,Pt),ti=se.wA.isBasicASCII(qn,!0),Ti=se.wA.containsRTL(qn,ti,!0),xi=(0,Oe.tF)(new Oe.IJ(!1,!0,qn,!1,ti,Ti,0,ei.inflate(),[],ke,0,0,0,0,-1,"none",!1,!1,null));Jt=Jt.concat(xi.html),Jt.push("<br/>"),_n=Zn.endState}return Jt.join("")}(zt,ke,tt,Pt);if(tt instanceof it){const qn=tt.getLoadStatus();if(!1===qn.loaded)return void qn.promise.then(yn,_n)}Jt(Rn)};yn()})}(Rn,yn,qn,_n):Lt(Rn,yn,_n)})}static colorizeLine(ke,tt,Pt,Jt,_n=4){const yn=se.wA.isBasicASCII(ke,tt),Rn=se.wA.containsRTL(ke,yn,Pt);return(0,Oe.tF)(new Oe.IJ(!1,!0,ke,!1,yn,Rn,0,Jt,[],_n,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(ke,tt,Pt=4){const Jt=ke.getLineContent(tt);ke.tokenization.forceTokenization(tt);const yn=ke.tokenization.getLineTokens(tt).inflate();return this.colorizeLine(Jt,ke.mightContainNonBasicASCII(),ke.mightContainRTL(),yn,Pt)}}function Lt(zt,ke,tt){let Pt=[];const _n=new Uint32Array(2);_n[0]=0,_n[1]=33587200;for(let yn=0,Rn=zt.length;yn<Rn;yn++){const qn=zt[yn];_n[0]=qn.length;const Zn=new Me.A(_n,qn,tt),ei=se.wA.isBasicASCII(qn,!0),ti=se.wA.containsRTL(qn,ei,!0),Ti=(0,Oe.tF)(new Oe.IJ(!1,!0,qn,!1,ei,ti,0,Zn,[],ke,0,0,0,0,-1,"none",!1,!1,null));Pt=Pt.concat(Ti.html),Pt.push("<br/>")}return Pt.join("")}var Tt=e(48460),qt=e(31091),Ot=e(80236),Ft={};Ft.styleTagTransform=n(),Ft.setAttributes=_(),Ft.insert=S().bind(null,"head"),Ft.domAPI=I(),Ft.insertStyleElement=a(),C()(Ot.Z,Ft);var ie=e(1200),te=e(94418),oe=e(81500),we=e(30728),nt=e(41883),He=e(20635),De=e(85171),pt=e(51980),lt={};lt.styleTagTransform=n(),lt.setAttributes=_(),lt.insert=S().bind(null,"head"),lt.domAPI=I(),lt.insertStyleElement=a(),C()(pt.Z,lt);var oi,ut=e(3847),an=e(2654),Kn=e(36608),Gn=e(95102),li=e(13902),fi=e(99327),ri=e(38336),_i=e(6192),Xi=e(14089),Zi=e(51153),vo=e(68762);class wt{constructor(ke,tt,Pt,Jt){this.originalLineStart=ke,this.originalLineEnd=tt,this.modifiedLineStart=Pt,this.modifiedLineEnd=Jt}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class Dt{constructor(ke){this.entries=ke}}const $t=(0,vo.q5)("diff-review-insert",Zi.lA.add,ie.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),tn=(0,vo.q5)("diff-review-remove",Zi.lA.remove,ie.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),cn=(0,vo.q5)("diff-review-close",Zi.lA.close,ie.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Cn=class Bl extends m.JT{constructor(ke,tt){super(),this._languageService=tt,this._width=0,this._diffEditor=ke,this._isVisible=!1,this.shadow=(0,oe.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,oe.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new ut.o(this.actionBarContainer.domNode)),this._actionBar.push(new Kn.aU("diffreview.close",ie.NC("label.close","Close"),"close-diff-review "+Xi.kS.asClassName(cn),!0,()=>function(zt,ke,tt,Pt){return new(tt||(tt=Promise))(function(_n,yn){function Rn(ei){try{Zn(Pt.next(ei))}catch(ti){yn(ti)}}function qn(ei){try{Zn(Pt.throw(ei))}catch(ti){yn(ti)}}function Zn(ei){ei.done?_n(ei.value):function Jt(_n){return _n instanceof tt?_n:new tt(function(yn){yn(_n)})}(ei.value).then(Rn,qn)}Zn((Pt=Pt.apply(zt,ke||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,oe.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,oe.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new an.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(ke.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(ke.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(te.mu(this.domNode.domNode,"click",Pt=>{Pt.preventDefault();const Jt=te.Fx(Pt.target,"diff-review-row");Jt&&this._goToRow(Jt)})),this._register(te.mu(this.domNode.domNode,"keydown",Pt=>{(Pt.equals(18)||Pt.equals(2066)||Pt.equals(530))&&(Pt.preventDefault(),this._goToRow(this._getNextRow())),(Pt.equals(16)||Pt.equals(2064)||Pt.equals(528))&&(Pt.preventDefault(),this._goToRow(this._getPrevRow())),(Pt.equals(9)||Pt.equals(2057)||Pt.equals(521)||Pt.equals(1033))&&(Pt.preventDefault(),this.hide()),(Pt.equals(10)||Pt.equals(3))&&(Pt.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let ke=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let Pt=-1;for(let Jt=0,_n=this._diffs.length;Jt<_n;Jt++)if(this._diffs[Jt]===this._currentDiff){Pt=Jt;break}ke=this._diffs.length+Pt-1}else ke=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;ke%=this._diffs.length;const tt=this._diffs[ke].entries;this._diffEditor.setPosition(new li.L(tt[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:tt[0].modifiedLineStart,endColumn:1073741824,endLineNumber:tt[tt.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let ke=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let Pt=-1;for(let Jt=0,_n=this._diffs.length;Jt<_n;Jt++)if(this._diffs[Jt]===this._currentDiff){Pt=Jt;break}ke=Pt+1}else ke=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;ke%=this._diffs.length;const tt=this._diffs[ke].entries;this._diffEditor.setPosition(new li.L(tt[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:tt[0].modifiedLineStart,endColumn:1073741824,endLineNumber:tt[tt.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let ke=-1;const tt=this._getCurrentFocusedRow();if(tt){const Pt=parseInt(tt.getAttribute("data-line"),10);isNaN(Pt)||(ke=Pt)}this.hide(),-1!==ke&&(this._diffEditor.setPosition(new li.L(ke,1)),this._diffEditor.revealPosition(new li.L(ke,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const ke=this._getCurrentFocusedRow();return ke?ke.previousElementSibling?ke.previousElementSibling:ke:this._getFirstRow()}_getNextRow(){const ke=this._getCurrentFocusedRow();return ke?ke.nextElementSibling?ke.nextElementSibling:ke:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const ke=document.activeElement;return ke&&/diff-review-row/.test(ke.className)?ke:null}_goToRow(ke){const tt=this._getCurrentFocusedRow();ke.tabIndex=0,ke.focus(),tt&&tt!==ke&&(tt.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(ke,tt,Pt){this._width=tt,this.shadow.setTop(ke-6),this.shadow.setWidth(tt),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(ke),this.domNode.setWidth(tt),this.domNode.setHeight(Pt),this._content.setHeight(Pt),this._content.setWidth(tt),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const ke=this._diffEditor.getLineChanges();if(!ke||0===ke.length)return[];const tt=this._diffEditor.getOriginalEditor().getModel(),Pt=this._diffEditor.getModifiedEditor().getModel();return tt&&Pt?Bl._mergeAdjacent(ke,tt.getLineCount(),Pt.getLineCount()):[]}static _mergeAdjacent(ke,tt,Pt){if(!ke||0===ke.length)return[];const Jt=[];let _n=0;for(let Zn=0,ei=ke.length;Zn<ei;Zn++){const ti=ke[Zn],Ti=ti.originalStartLineNumber,xi=ti.originalEndLineNumber,ki=ti.modifiedStartLineNumber,qi=ti.modifiedEndLineNumber,po=[];let No=0;{const Io=0===xi?Ti:Ti-1,To=0===qi?ki:ki-1;let co=1,Jo=1;if(Zn>0){const no=ke[Zn-1];co=0===no.originalEndLineNumber?no.originalStartLineNumber+1:no.originalEndLineNumber+1,Jo=0===no.modifiedEndLineNumber?no.modifiedStartLineNumber+1:no.modifiedEndLineNumber+1}let Uo=Io-3+1,wo=To-3+1;if(Uo<co){const no=co-Uo;Uo+=no,wo+=no}if(wo<Jo){const no=Jo-wo;Uo+=no,wo+=no}po[No++]=new wt(Uo,Io,wo,To)}0!==xi&&(po[No++]=new wt(Ti,xi,0,0)),0!==qi&&(po[No++]=new wt(0,0,ki,qi));{const Io=0===xi?Ti+1:xi+1,To=0===qi?ki+1:qi+1;let co=tt,Jo=Pt;if(Zn+1<ei){const no=ke[Zn+1];co=0===no.originalEndLineNumber?no.originalStartLineNumber:no.originalStartLineNumber-1,Jo=0===no.modifiedEndLineNumber?no.modifiedStartLineNumber:no.modifiedStartLineNumber-1}let Uo=Io+3-1,wo=To+3-1;if(Uo>co){const no=co-Uo;Uo+=no,wo+=no}if(wo>Jo){const no=Jo-wo;Uo+=no,wo+=no}po[No++]=new wt(Io,Uo,To,wo)}Jt[_n++]=new Dt(po)}let yn=Jt[0].entries;const Rn=[];let qn=0;for(let Zn=1,ei=Jt.length;Zn<ei;Zn++){const ti=Jt[Zn].entries,Ti=yn[yn.length-1],xi=ti[0];0===Ti.getType()&&0===xi.getType()&&xi.originalLineStart<=Ti.originalLineEnd?(yn[yn.length-1]=new wt(Ti.originalLineStart,xi.originalLineEnd,Ti.modifiedLineStart,xi.modifiedLineEnd),yn=yn.concat(ti.slice(1))):(Rn[qn++]=new Dt(yn),yn=ti)}return Rn[qn++]=new Dt(yn),Rn}_findDiffIndex(ke){const tt=ke.lineNumber;for(let Pt=0,Jt=this._diffs.length;Pt<Jt;Pt++){const _n=this._diffs[Pt].entries;if(tt<=_n[_n.length-1].modifiedLineEnd)return Pt}return 0}_render(){const ke=this._diffEditor.getOriginalEditor().getOptions(),tt=this._diffEditor.getModifiedEditor().getOptions(),Pt=this._diffEditor.getOriginalEditor().getModel(),Jt=this._diffEditor.getModifiedEditor().getModel(),_n=Pt.getOptions(),yn=Jt.getOptions();if(!this._isVisible||!Pt||!Jt)return te.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const Rn=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Rn]===this._currentDiff)return;this._currentDiff=this._diffs[Rn];const qn=this._diffs[Rn].entries,Zn=document.createElement("div");Zn.className="diff-review-table",Zn.setAttribute("role","list"),Zn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,He.N)(Zn,tt.get(46));let ei=0,ti=0,Ti=0,xi=0;for(let wo=0,no=qn.length;wo<no;wo++){const Eo=qn[wo],Qo=Eo.originalLineStart,qo=Eo.originalLineEnd,ls=Eo.modifiedLineStart,Po=Eo.modifiedLineEnd;0!==Qo&&(0===ei||Qo<ei)&&(ei=Qo),0!==qo&&(0===ti||qo>ti)&&(ti=qo),0!==ls&&(0===Ti||ls<Ti)&&(Ti=ls),0!==Po&&(0===xi||Po>xi)&&(xi=Po)}const ki=document.createElement("div");ki.className="diff-review-row";const qi=document.createElement("div");qi.className="diff-review-cell diff-review-summary";const po=ti-ei+1,No=xi-Ti+1;qi.appendChild(document.createTextNode(`${Rn+1}/${this._diffs.length}: @@ -${ei},${po} +${Ti},${No} @@`)),ki.setAttribute("data-line",String(Ti));const Io=wo=>0===wo?ie.NC("no_lines_changed","no lines changed"):1===wo?ie.NC("one_line_changed","1 line changed"):ie.NC("more_lines_changed","{0} lines changed",wo),To=Io(po),co=Io(No);ki.setAttribute("aria-label",ie.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Rn+1,this._diffs.length,ei,To,Ti,co)),ki.appendChild(qi),ki.setAttribute("role","listitem"),Zn.appendChild(ki);const Jo=tt.get(61);let Uo=Ti;for(let wo=0,no=qn.length;wo<no;wo++){const Eo=qn[wo];Bl._renderSection(Zn,Eo,Uo,Jo,this._width,ke,Pt,_n,tt,Jt,yn,this._languageService.languageIdCodec),0!==Eo.modifiedLineStart&&(Uo=Eo.modifiedLineEnd)}te.PO(this._content.domNode),this._content.domNode.appendChild(Zn),this.scrollbar.scanDomNode()}static _renderSection(ke,tt,Pt,Jt,_n,yn,Rn,qn,Zn,ei,ti,Ti){const xi=tt.getType();let ki="diff-review-row",qi="",No=null;switch(xi){case 1:ki="diff-review-row line-insert",qi=" char-insert",No=$t;break;case 2:ki="diff-review-row line-delete",qi=" char-delete",No=tn}const Io=tt.originalLineStart,co=tt.modifiedLineStart,Uo=Math.max(tt.modifiedLineEnd-co,tt.originalLineEnd-Io),wo=yn.get(133),no=wo.glyphMarginWidth+wo.lineNumbersWidth,Eo=Zn.get(133),Qo=10+Eo.glyphMarginWidth+Eo.lineNumbersWidth;for(let qo=0;qo<=Uo;qo++){const ls=0===Io?0:Io+qo,Po=0===co?0:co+qo,hs=document.createElement("div");hs.style.minWidth=_n+"px",hs.className=ki,hs.setAttribute("role","listitem"),0!==Po&&(Pt=Po),hs.setAttribute("data-line",String(Pt));const Ks=document.createElement("div");Ks.className="diff-review-cell",Ks.style.height=`${Jt}px`,hs.appendChild(Ks);const ss=document.createElement("span");ss.style.width=no+"px",ss.style.minWidth=no+"px",ss.className="diff-review-line-number"+qi,0!==ls?ss.appendChild(document.createTextNode(String(ls))):ss.innerText="\xa0",Ks.appendChild(ss);const zs=document.createElement("span");zs.style.width=Qo+"px",zs.style.minWidth=Qo+"px",zs.style.paddingRight="10px",zs.className="diff-review-line-number"+qi,0!==Po?zs.appendChild(document.createTextNode(String(Po))):zs.innerText="\xa0",Ks.appendChild(zs);const lr=document.createElement("span");if(lr.className="diff-review-spacer",No){const $s=document.createElement("span");$s.className=Xi.kS.asClassName(No),$s.innerText="\xa0\xa0",lr.appendChild($s)}else lr.innerText="\xa0\xa0";let jo;if(Ks.appendChild(lr),0!==Po){let $s=this._renderLine(ei,Zn,ti.tabSize,Po,Ti);Bl._ttPolicy&&($s=Bl._ttPolicy.createHTML($s)),Ks.insertAdjacentHTML("beforeend",$s),jo=ei.getLineContent(Po)}else{let $s=this._renderLine(Rn,yn,qn.tabSize,ls,Ti);Bl._ttPolicy&&($s=Bl._ttPolicy.createHTML($s)),Ks.insertAdjacentHTML("beforeend",$s),jo=Rn.getLineContent(ls)}0===jo.length&&(jo=ie.NC("blankLine","blank"));let ur="";switch(xi){case 0:ur=ls===Po?ie.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",jo,ls):ie.NC("equalLine","{0} original line {1} modified line {2}",jo,ls,Po);break;case 1:ur=ie.NC("insertLine","+ {0} modified line {1}",jo,Po);break;case 2:ur=ie.NC("deleteLine","- {0} original line {1}",jo,ls)}hs.setAttribute("aria-label",ur),ke.appendChild(hs)}}static _renderLine(ke,tt,Pt,Jt,_n){const yn=ke.getLineContent(Jt),Rn=tt.get(46),qn=Me.A.createEmpty(yn,_n),Zn=se.wA.isBasicASCII(yn,ke.mightContainNonBasicASCII()),ei=se.wA.containsRTL(yn,Zn,ke.mightContainRTL());return(0,Oe.tF)(new Oe.IJ(Rn.isMonospace&&!tt.get(29),Rn.canUseHalfwidthRightwardsArrow,yn,!1,Zn,ei,0,qn,[],Pt,0,Rn.spaceWidth,Rn.middotWidth,Rn.wsmiddotWidth,tt.get(107),tt.get(90),tt.get(85),tt.get(47)!==s.n0.OFF,null)).html}};function zn(zt){const ke=zt.get(L.$),tt=ke.listDiffEditors(),Pt=ke.getActiveCodeEditor();if(!Pt)return null;for(let Jt=0,_n=tt.length;Jt<_n;Jt++){const yn=tt[Jt];if(yn.getModifiedEditor().getId()===Pt.getId()||yn.getOriginalEditor().getId()===Pt.getId())return yn}return null}Cn._ttPolicy=null===(oi=window.trustedTypes)||void 0===oi?void 0:oi.createPolicy("diffReview",{createHTML:zt=>zt}),Cn=function(zt,ke,tt,Pt){var yn,Jt=arguments.length,_n=Jt<3?ke:null===Pt?Pt=Object.getOwnPropertyDescriptor(ke,tt):Pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_n=Reflect.decorate(zt,ke,tt,Pt);else for(var Rn=zt.length-1;Rn>=0;Rn--)(yn=zt[Rn])&&(_n=(Jt<3?yn(_n):Jt>3?yn(ke,tt,_n):yn(ke,tt))||_n);return Jt>3&&_n&&Object.defineProperty(ke,tt,_n),_n}([function(zt,ke){return function(tt,Pt){ke(tt,Pt,1)}}(0,R.O)],Cn),(0,Xi.Ic)((zt,ke)=>{const tt=zt.getColor(fi.hw);tt&&ke.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${tt}; }`);const Pt=zt.getColor(_i._wn);Pt&&ke.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${Pt} 0 -6px 6px -6px inset; }`)}),(0,Gn.Qr)(class Pn extends Gn.R6{constructor(){super({id:"editor.action.diffReview.next",label:ie.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:ri.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(ke,tt){const Pt=zn(ke);Pt&&Pt.diffReviewNext()}}),(0,Gn.Qr)(class Hn extends Gn.R6{constructor(){super({id:"editor.action.diffReview.prev",label:ie.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:ri.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(ke,tt){const Pt=zn(ke);Pt&&Pt.diffReviewPrev()}});var bi=e(23859),Ei=e(53727),ao=e(80607),Oi=e(3595),Qi=e(90090),Wi=e(30888),xo=e(39135),ro=e(83916),Co=e(64170),Mo=function(zt,ke,tt,Pt){return new(tt||(tt=Promise))(function(_n,yn){function Rn(ei){try{Zn(Pt.next(ei))}catch(ti){yn(ti)}}function qn(ei){try{Zn(Pt.throw(ei))}catch(ti){yn(ti)}}function Zn(ei){ei.done?_n(ei.value):function Jt(_n){return _n instanceof tt?_n:new tt(function(yn){yn(_n)})}(ei.value).then(Rn,qn)}Zn((Pt=Pt.apply(zt,ke||[])).next())})};class Oo extends m.JT{constructor(ke,tt,Pt,Jt,_n,yn){super(),this._viewZoneId=ke,this._marginDomNode=tt,this.editor=Pt,this.diff=Jt,this._contextMenuService=_n,this._clipboardService=yn,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Zi.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const Rn=Pt.getOption(61),qn=Pt.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Rn}px`,this._diffActions.style.lineHeight=`${Rn}px`,this._marginDomNode.appendChild(this._diffActions);const Zn=[],ei=0===Jt.modifiedEndLineNumber;Zn.push(new Kn.aU("diff.clipboard.copyDeletedContent",ei?Jt.originalEndLineNumber>Jt.modifiedStartLineNumber?ie.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):ie.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Jt.originalEndLineNumber>Jt.modifiedStartLineNumber?ie.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):ie.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Mo(this,void 0,void 0,function*(){const qi=new W.e(Jt.originalStartLineNumber,1,Jt.originalEndLineNumber+1,1),po=Jt.originalModel.getValueInRange(qi);yield this._clipboardService.writeText(po)})));let Ti,ti=0;Jt.originalEndLineNumber>Jt.modifiedStartLineNumber&&(Ti=new Kn.aU("diff.clipboard.copyDeletedLineContent",ei?ie.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Jt.originalStartLineNumber):ie.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Jt.originalStartLineNumber),void 0,!0,()=>Mo(this,void 0,void 0,function*(){const qi=Jt.originalModel.getLineContent(Jt.originalStartLineNumber+ti);if(""===qi){const po=Jt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===po?"\n":"\r\n")}else yield this._clipboardService.writeText(qi)})),Zn.push(Ti)),Pt.getOption(83)||Zn.push(new Kn.aU("diff.inline.revertChange",ie.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Mo(this,void 0,void 0,function*(){const qi=new W.e(Jt.originalStartLineNumber,1,Jt.originalEndLineNumber,Jt.originalModel.getLineMaxColumn(Jt.originalEndLineNumber)),po=Jt.originalModel.getValueInRange(qi);if(0===Jt.modifiedEndLineNumber){const No=Pt.getModel().getLineMaxColumn(Jt.modifiedStartLineNumber);Pt.executeEdits("diffEditor",[{range:new W.e(Jt.modifiedStartLineNumber,No,Jt.modifiedStartLineNumber,No),text:qn+po}])}else{const No=Pt.getModel().getLineMaxColumn(Jt.modifiedEndLineNumber);Pt.executeEdits("diffEditor",[{range:new W.e(Jt.modifiedStartLineNumber,1,Jt.modifiedEndLineNumber,No),text:po}])}})));const ki=(qi,po)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:qi,y:po}),getActions:()=>(Ti&&(Ti.label=ei?ie.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Jt.originalStartLineNumber+ti):ie.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Jt.originalStartLineNumber+ti)),Zn),autoSelectFirstItem:!0})};this._register(te.mu(this._diffActions,"mousedown",qi=>{const{top:po,height:No}=te.i(this._diffActions),Io=Math.floor(Rn/3);qi.preventDefault(),ki(qi.posx,po+No+Io)})),this._register(Pt.onMouseMove(qi=>{8!==qi.target.type&&5!==qi.target.type||qi.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,ti=this._updateLightBulbPosition(this._marginDomNode,qi.event.browserEvent.y,Rn))})),this._register(Pt.onMouseDown(qi=>{qi.event.rightButton&&(8===qi.target.type||5===qi.target.type)&&qi.target.detail.viewZoneId===this._viewZoneId&&(qi.event.preventDefault(),ti=this._updateLightBulbPosition(this._marginDomNode,qi.event.browserEvent.y,Rn),ki(qi.event.posx,qi.event.posy+Rn))}))}get visibility(){return this._visibility}set visibility(ke){this._visibility!==ke&&(this._visibility=ke,this._diffActions.style.visibility=ke?"visible":"hidden")}_updateLightBulbPosition(ke,tt,Pt){const{top:Jt}=te.i(ke),yn=Math.floor((tt-Jt)/Pt);if(this._diffActions.style.top=yn*Pt+"px",this.diff.viewLineCounts){let qn=0;for(let Zn=0;Zn<this.diff.viewLineCounts.length;Zn++)if(qn+=this.diff.viewLineCounts[Zn],yn<qn)return Zn}return yn}}var Bn,ko=e(21611),so=e(3219),Do=e(26109),Ho=e(5686),ni=e(58291),Zt=e(65206),dn=function(zt,ke){return function(tt,Pt){ke(tt,Pt,zt)}};class An{constructor(ke,tt){this._contextMenuService=ke,this._clipboardService=tt,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(ke){return ke.filter(tt=>!this._zonesMap[String(tt.id)])}clean(ke){this._zones.length>0&&ke.changeViewZones(tt=>{for(const Pt of this._zones)tt.removeZone(Pt)}),this._zones=[],this._zonesMap={},ke.changeDecorations(tt=>{this._decorations=tt.deltaDecorations(this._decorations,[])})}apply(ke,tt,Pt,Jt){const _n=Jt?De.Z.capture(ke):null;ke.changeViewZones(yn=>{var Rn;for(const qn of this._zones)yn.removeZone(qn);for(const qn of this._inlineDiffMargins)qn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let qn=0,Zn=Pt.zones.length;qn<Zn;qn++){const ei=Pt.zones[qn];ei.suppressMouseDown=!0;const ti=yn.addZone(ei);this._zones.push(ti),this._zonesMap[String(ti)]=!0,Pt.zones[qn].diff&&ei.marginDomNode&&(ei.suppressMouseDown=!1,0!==(null===(Rn=Pt.zones[qn].diff)||void 0===Rn?void 0:Rn.originalModel.getValueLength())&&this._inlineDiffMargins.push(new Oo(ti,ei.marginDomNode,ke,Pt.zones[qn].diff,this._contextMenuService,this._clipboardService)))}}),_n?.restore(ke),ke.changeDecorations(yn=>{this._decorations=yn.deltaDecorations(this._decorations,Pt.decorations)}),tt?.setZones(Pt.overviewZones)}}let un=0;const ht=(0,vo.q5)("diff-insert",Zi.lA.add,ie.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),Kt=(0,vo.q5)("diff-remove",Zi.lA.remove,ie.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),nn=null===(Bn=window.trustedTypes)||void 0===Bn?void 0:Bn.createPolicy("diffEditorWidget",{createHTML:zt=>zt});let Dn=class pr extends m.JT{constructor(ke,tt,Pt,Jt,_n,yn,Rn,qn,Zn,ei,ti,Ti){super(),this._editorProgressService=Ti,this._onDidDispose=this._register(new A.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new A.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new A.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=_n,this._codeEditorService=qn,this._contextKeyService=this._register(yn.createScoped(ke)),this._instantiationService=Rn.createChild(new xo.y([ri.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Zn,this._notificationService=ei,this._id=++un,this._state=0,this._updatingDiffProgress=null,this._domElement=ke,this._options=_e(tt=tt||{},{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",typeof tt.isInEmbeddedEditor<"u"&&tt.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new nt.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=pr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,oe.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(te.mu(this._overviewDomElement,te.tw.POINTER_DOWN,ki=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(ki)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new An(ti,Jt),this._modifiedEditorState=new An(ti,Jt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ho.I(this._containerDomElement,tt.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),tt.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(tt,Pt.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(tt,Pt.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Rn.createInstance(Cn,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new Yt(this._createDataSource(),this._options.enableSplitViewResizing):new Be(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Zn.onDidColorThemeChange(ki=>{this._strategy&&this._strategy.applyColors(ki)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=pr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const xi=Gn.Uc.getDiffEditorContributions();for(const ki of xi)try{this._register(Rn.createInstance(ki.ctor,this))}catch(qi){(0,so.dL)(qi)}this._codeEditorService.addDiffEditor(this)}_setState(ke){this._state!==ke&&(this._state=ke,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(ke,tt){let Pt="monaco-diff-editor monaco-editor-background ";return tt&&(Pt+="side-by-side "),Pt+=(0,Xi.m6)(ke.type),Pt}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(x.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(ke,tt){const Pt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(ke),tt);this._register(Pt.onDidScrollChange(_n=>{this._isHandlingScrollEvent||!_n.scrollTopChanged&&!_n.scrollLeftChanged&&!_n.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:_n.scrollLeft,scrollTop:_n.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Pt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Pt.onDidChangeConfiguration(_n=>{Pt.getModel()&&(_n.hasChanged(46)&&this._updateDecorationsRunner.schedule(),_n.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Pt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Pt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Jt=this._contextKeyService.createKey("isInDiffLeftEditor",Pt.hasWidgetFocus());return this._register(Pt.onDidFocusEditorWidget(()=>Jt.set(!0))),this._register(Pt.onDidBlurEditorWidget(()=>Jt.set(!1))),this._register(Pt.onDidContentSizeChange(_n=>{const yn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+pr.ONE_OVERVIEW_WIDTH,Rn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Rn,contentWidth:yn,contentHeightChanged:_n.contentHeightChanged,contentWidthChanged:_n.contentWidthChanged})})),Pt}_createRightHandSideEditor(ke,tt){const Pt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(ke),tt);this._register(Pt.onDidScrollChange(_n=>{this._isHandlingScrollEvent||!_n.scrollTopChanged&&!_n.scrollLeftChanged&&!_n.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:_n.scrollLeft,scrollTop:_n.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Pt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Pt.onDidChangeConfiguration(_n=>{Pt.getModel()&&(_n.hasChanged(46)&&this._updateDecorationsRunner.schedule(),_n.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Pt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Pt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(Pt.onDidChangeModelOptions(_n=>{_n.tabSize&&this._updateDecorationsRunner.schedule()}));const Jt=this._contextKeyService.createKey("isInDiffRightEditor",Pt.hasWidgetFocus());return this._register(Pt.onDidFocusEditorWidget(()=>Jt.set(!0))),this._register(Pt.onDidBlurEditorWidget(()=>Jt.set(!1))),this._register(Pt.onDidContentSizeChange(_n=>{const yn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+pr.ONE_OVERVIEW_WIDTH,Rn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Rn,contentWidth:yn,contentHeightChanged:_n.contentHeightChanged,contentWidthChanged:_n.contentWidthChanged})})),this._register(Pt.onMouseDown(_n=>{var yn,Rn;if(!_n.event.rightButton&&_n.target.position&&null!==(yn=_n.target.element)&&void 0!==yn&&yn.className.includes("arrow-revert-change")){const qn=_n.target.position.lineNumber,Zn=null===(Rn=this._diffComputationResult)||void 0===Rn?void 0:Rn.changes.find(ei=>ei.modifiedStartLineNumber===qn-1||ei.modifiedStartLineNumber===qn);return Zn&&this.revertChange(Zn),_n.event.stopPropagation(),void this._updateDecorations()}})),Pt}revertChange(ke){const tt=this._modifiedEditor,Pt=this._originalEditor.getModel(),Jt=this._modifiedEditor.getModel();if(!Pt||!Jt||!tt)return;const _n=ke.originalEndLineNumber>0?new W.e(ke.originalStartLineNumber,1,ke.originalEndLineNumber,Pt.getLineMaxColumn(ke.originalEndLineNumber)):null,yn=_n?Pt.getValueInRange(_n):null,Rn=ke.modifiedEndLineNumber>0?new W.e(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,Jt.getLineMaxColumn(ke.modifiedEndLineNumber)):null,qn=Jt.getEOL();if(0===ke.originalEndLineNumber&&Rn){let Zn=Rn;ke.modifiedStartLineNumber>1?Zn=Rn.setStartPosition(ke.modifiedStartLineNumber-1,Jt.getLineMaxColumn(ke.modifiedStartLineNumber-1)):ke.modifiedEndLineNumber<Jt.getLineCount()&&(Zn=Rn.setEndPosition(ke.modifiedEndLineNumber+1,1)),tt.executeEdits("diffEditor",[{range:Zn,text:""}])}else if(0===ke.modifiedEndLineNumber&&null!==yn){const Zn=ke.modifiedStartLineNumber<Jt.getLineCount()?new li.L(ke.modifiedStartLineNumber+1,1):new li.L(ke.modifiedStartLineNumber,Jt.getLineMaxColumn(ke.modifiedStartLineNumber));tt.executeEdits("diffEditor",[{range:W.e.fromPositions(Zn,Zn),text:ke.modifiedStartLineNumber<Jt.getLineCount()?yn+qn:qn+yn}])}else Rn&&null!==yn&&tt.executeEdits("diffEditor",[{range:Rn,text:yn}])}_createInnerEditor(ke,tt,Pt,Jt){return ke.createInstance(qt.Gm,tt,Pt,Jt)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return O.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(ke){const tt=_e(ke,this._options),Pt=function Qe(zt,ke){return{enableSplitViewResizing:zt.enableSplitViewResizing!==ke.enableSplitViewResizing,renderSideBySide:zt.renderSideBySide!==ke.renderSideBySide,renderMarginRevertIcon:zt.renderMarginRevertIcon!==ke.renderMarginRevertIcon,maxComputationTime:zt.maxComputationTime!==ke.maxComputationTime,maxFileSize:zt.maxFileSize!==ke.maxFileSize,ignoreTrimWhitespace:zt.ignoreTrimWhitespace!==ke.ignoreTrimWhitespace,renderIndicators:zt.renderIndicators!==ke.renderIndicators,originalEditable:zt.originalEditable!==ke.originalEditable,diffCodeLens:zt.diffCodeLens!==ke.diffCodeLens,renderOverviewRuler:zt.renderOverviewRuler!==ke.renderOverviewRuler,diffWordWrap:zt.diffWordWrap!==ke.diffWordWrap}}(this._options,tt);this._options=tt;const _n=this._isVisible&&(Pt.maxComputationTime||Pt.maxFileSize);Pt.ignoreTrimWhitespace||Pt.renderIndicators||Pt.renderMarginRevertIcon?this._beginUpdateDecorations():_n&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(ke)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(ke)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),Pt.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new Yt(this._createDataSource(),this._options.enableSplitViewResizing):new Be(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=pr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),Pt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(ke){if(ke&&(!ke.original||!ke.modified))throw new Error(ke.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(ke?ke.original:null),this._modifiedEditor.setModel(ke?ke.modified:null),this._updateDecorationsRunner.cancel(),ke&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),ke&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(ke){return this._modifiedEditor.getVisibleColumnFromPosition(ke)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(ke,tt="api"){this._modifiedEditor.setPosition(ke,tt)}revealLine(ke,tt=0){this._modifiedEditor.revealLine(ke,tt)}revealLineInCenter(ke,tt=0){this._modifiedEditor.revealLineInCenter(ke,tt)}revealLineInCenterIfOutsideViewport(ke,tt=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(ke,tt)}revealLineNearTop(ke,tt=0){this._modifiedEditor.revealLineNearTop(ke,tt)}revealPosition(ke,tt=0){this._modifiedEditor.revealPosition(ke,tt)}revealPositionInCenter(ke,tt=0){this._modifiedEditor.revealPositionInCenter(ke,tt)}revealPositionInCenterIfOutsideViewport(ke,tt=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(ke,tt)}revealPositionNearTop(ke,tt=0){this._modifiedEditor.revealPositionNearTop(ke,tt)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(ke,tt="api"){this._modifiedEditor.setSelection(ke,tt)}setSelections(ke,tt="api"){this._modifiedEditor.setSelections(ke,tt)}revealLines(ke,tt,Pt=0){this._modifiedEditor.revealLines(ke,tt,Pt)}revealLinesInCenter(ke,tt,Pt=0){this._modifiedEditor.revealLinesInCenter(ke,tt,Pt)}revealLinesInCenterIfOutsideViewport(ke,tt,Pt=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(ke,tt,Pt)}revealLinesNearTop(ke,tt,Pt=0){this._modifiedEditor.revealLinesNearTop(ke,tt,Pt)}revealRange(ke,tt=0,Pt=!1,Jt=!0){this._modifiedEditor.revealRange(ke,tt,Pt,Jt)}revealRangeInCenter(ke,tt=0){this._modifiedEditor.revealRangeInCenter(ke,tt)}revealRangeInCenterIfOutsideViewport(ke,tt=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(ke,tt)}revealRangeNearTop(ke,tt=0){this._modifiedEditor.revealRangeNearTop(ke,tt)}revealRangeNearTopIfOutsideViewport(ke,tt=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(ke,tt)}revealRangeAtTop(ke,tt=0){this._modifiedEditor.revealRangeAtTop(ke,tt)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(ke){if(ke&&ke.original&&ke.modified){const tt=ke;this._originalEditor.restoreViewState(tt.original),this._modifiedEditor.restoreViewState(tt.modified)}}layout(ke){this._elementSizeObserver.observe(ke)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(ke,tt,Pt){this._modifiedEditor.trigger(ke,tt,Pt)}createDecorationsCollection(ke){return this._modifiedEditor.createDecorationsCollection(ke)}changeDecorations(ke){return this._modifiedEditor.changeDecorations(ke)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const ke=this._elementSizeObserver.getHeight(),tt=this._getReviewHeight(),Pt=pr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*pr.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:pr.ONE_OVERVIEW_WIDTH,right:Pt+pr.ONE_OVERVIEW_WIDTH,height:ke-tt}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:pr.ONE_OVERVIEW_WIDTH,height:ke-tt}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),pr.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(ke,tt){return!ke&&!tt||!(!ke||!tt)&&ke.toString()===tt.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const ke=this._originalEditor.getModel(),tt=this._modifiedEditor.getModel();if(!ke||!tt)return;this._diffComputationToken++;const Pt=this._diffComputationToken,Jt=1024*this._options.maxFileSize*1024,_n=yn=>{const Rn=yn.getValueLength();return 0===Jt||Rn<=Jt};_n(ke)&&_n(tt)?(this._setState(1),this._editorWorkerService.computeDiff(ke.uri,tt.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(yn=>{Pt===this._diffComputationToken&&ke===this._originalEditor.getModel()&&tt===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=yn,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},yn=>{Pt===this._diffComputationToken&&ke===this._originalEditor.getModel()&&tt===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!pr._equals(ke.uri,this._lastOriginalWarning)||!pr._equals(tt.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=ke.uri,this._lastModifiedWarning=tt.uri,this._notificationService.warn(ie.NC("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const ke=this._diffComputationResult?this._diffComputationResult.changes:[],tt=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),Pt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Jt=this._strategy.getEditorsDiffDecorations(ke,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,tt,Pt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Jt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Jt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(ke){const tt=Object.assign({},ke);return tt.inDiffEditor=!0,tt.automaticLayout=!1,tt.scrollbar=Object.assign({},tt.scrollbar||{}),tt.scrollbar.vertical="visible",tt.folding=!1,tt.codeLens=this._options.diffCodeLens,tt.fixedOverflowWidgets=!0,tt.minimap=Object.assign({},tt.minimap||{}),tt.minimap.enabled=!1,tt}_adjustOptionsForLeftHandSide(ke){const tt=this._adjustOptionsForSubEditor(ke);return this._options.renderSideBySide?tt.wordWrapOverride1=this._options.diffWordWrap:(tt.wordWrapOverride1="off",tt.wordWrapOverride2="off"),ke.originalAriaLabel&&(tt.ariaLabel=ke.originalAriaLabel),tt.readOnly=!this._options.originalEditable,tt.dropIntoEditor={enabled:!tt.readOnly},tt.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},tt),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(ke){const tt=this._adjustOptionsForSubEditor(ke);return ke.modifiedAriaLabel&&(tt.ariaLabel=ke.modifiedAriaLabel),tt.wordWrapOverride1=this._options.diffWordWrap,tt.revealHorizontalRightPadding=s.BH.revealHorizontalRightPadding.defaultValue+pr.ENTIRE_DIFF_OVERVIEW_WIDTH,tt.scrollbar.verticalHasArrows=!1,tt.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},tt),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const ke=this._elementSizeObserver.getWidth(),tt=this._elementSizeObserver.getHeight(),Pt=this._getReviewHeight(),Jt=this._strategy.layout();this._originalDomNode.style.width=Jt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=ke-Jt+"px",this._modifiedDomNode.style.left=Jt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=tt-Pt+"px",this._overviewDomElement.style.width=pr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=ke-pr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(pr.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Jt,height:tt-Pt}),this._modifiedEditor.layout({width:ke-Jt-(this._options.renderOverviewRuler?pr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:tt-Pt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(tt-Pt,ke,Pt),this._layoutOverviewViewport()}_layoutOverviewViewport(){const ke=this._computeOverviewViewport();ke?(this._overviewViewportDomElement.setTop(ke.top),this._overviewViewportDomElement.setHeight(ke.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const ke=this._modifiedEditor.getLayoutInfo();if(!ke)return null;const tt=this._modifiedEditor.getScrollTop(),Pt=this._modifiedEditor.getScrollHeight(),Jt=Math.max(0,ke.height),_n=Math.max(0,Jt-0),yn=Pt>0?_n/Pt:0;return{height:Math.max(0,Math.floor(ke.height*yn)),top:Math.floor(tt*yn)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(ke){this._strategy&&this._strategy.dispose(),this._strategy=ke,ke.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(ke,tt){const Pt=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===Pt.length||ke<tt(Pt[0]))return null;let Jt=0,_n=Pt.length-1;for(;Jt<_n;){const yn=Math.floor((Jt+_n)/2),Rn=tt(Pt[yn]),qn=yn+1<=_n?tt(Pt[yn+1]):1073741824;ke<Rn?_n=yn-1:ke>=qn?Jt=yn+1:(Jt=yn,_n=yn)}return Pt[Jt]}_getEquivalentLineForOriginalLineNumber(ke){const tt=this._getLineChangeAtOrBeforeLineNumber(ke,qn=>qn.originalStartLineNumber);if(!tt)return ke;const Jt=tt.modifiedStartLineNumber+(tt.modifiedEndLineNumber>0?-1:0),_n=tt.originalEndLineNumber>0?tt.originalEndLineNumber-tt.originalStartLineNumber+1:0,yn=tt.modifiedEndLineNumber>0?tt.modifiedEndLineNumber-tt.modifiedStartLineNumber+1:0,Rn=ke-(tt.originalStartLineNumber+(tt.originalEndLineNumber>0?-1:0));return Rn<=_n?Jt+Math.min(Rn,yn):Jt+yn-_n+Rn}_getEquivalentLineForModifiedLineNumber(ke){const tt=this._getLineChangeAtOrBeforeLineNumber(ke,qn=>qn.modifiedStartLineNumber);if(!tt)return ke;const Pt=tt.originalStartLineNumber+(tt.originalEndLineNumber>0?-1:0),_n=tt.originalEndLineNumber>0?tt.originalEndLineNumber-tt.originalStartLineNumber+1:0,yn=tt.modifiedEndLineNumber>0?tt.modifiedEndLineNumber-tt.modifiedStartLineNumber+1:0,Rn=ke-(tt.modifiedStartLineNumber+(tt.modifiedEndLineNumber>0?-1:0));return Rn<=yn?Pt+Math.min(Rn,_n):Pt+_n-yn+Rn}getDiffLineInformationForOriginal(ke){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(ke)}:null}getDiffLineInformationForModified(ke){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(ke)}:null}};Dn.ONE_OVERVIEW_WIDTH=15,Dn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Dn.UPDATE_DIFF_DECORATIONS_DELAY=200,Dn=function(zt,ke,tt,Pt){var yn,Jt=arguments.length,_n=Jt<3?ke:null===Pt?Pt=Object.getOwnPropertyDescriptor(ke,tt):Pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_n=Reflect.decorate(zt,ke,tt,Pt);else for(var Rn=zt.length-1;Rn>=0;Rn--)(yn=zt[Rn])&&(_n=(Jt<3?yn(_n):Jt>3?yn(ke,tt,_n):yn(ke,tt))||_n);return Jt>3&&_n&&Object.defineProperty(ke,tt,_n),_n}([dn(3,ko.p),dn(4,ao.p),dn(5,ri.i6),dn(6,Wi.TG),dn(7,L.$),dn(8,Xi.XE),dn(9,ro.lT),dn(10,Co.i),dn(11,Do.ek)],Dn);class In extends m.JT{constructor(ke){super(),this._dataSource=ke,this._insertColor=null,this._removeColor=null}applyColors(ke){const tt=ke.getColor(_i.P6Y)||(ke.getColor(_i.ypS)||_i.CzK).transparent(2),Pt=ke.getColor(_i.F9q)||(ke.getColor(_i.P4M)||_i.keg).transparent(2),Jt=!tt.equals(this._insertColor)||!Pt.equals(this._removeColor);return this._insertColor=tt,this._removeColor=Pt,Jt}getEditorsDiffDecorations(ke,tt,Pt,Jt,_n,yn){yn=yn.sort((ei,ti)=>ei.afterLineNumber-ti.afterLineNumber),_n=_n.sort((ei,ti)=>ei.afterLineNumber-ti.afterLineNumber);const Rn=this._getViewZones(ke,_n,yn,Pt),qn=this._getOriginalEditorDecorations(Rn,ke,tt,Pt),Zn=this._getModifiedEditorDecorations(Rn,ke,tt,Pt,Jt);return{original:{decorations:qn.decorations,overviewZones:qn.overviewZones,zones:Rn.original},modified:{decorations:Zn.decorations,overviewZones:Zn.overviewZones,zones:Rn.modified}}}}class bn{constructor(ke){this._source=ke,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class Ct{constructor(ke,tt,Pt,Jt,_n){this._lineChanges=ke,this._originalForeignVZ=tt,this._modifiedForeignVZ=Pt,this._originalEditor=Jt,this._modifiedEditor=_n}static _getViewLineCount(ke,tt,Pt){const Jt=ke.getModel(),_n=ke._getViewModel();if(Jt&&_n){const yn=ee(Jt,_n,tt,Pt);return yn.endLineNumber-yn.startLineNumber+1}return Pt-tt+1}getViewZones(){const ke=this._originalEditor.getOption(61),tt=this._modifiedEditor.getOption(61),Pt=-1!==this._originalEditor.getOption(134).wrappingColumn,Jt=-1!==this._modifiedEditor.getOption(134).wrappingColumn,_n=Pt||Jt,yn=this._originalEditor.getModel(),Rn=this._originalEditor._getViewModel().coordinatesConverter,qn=this._modifiedEditor._getViewModel().coordinatesConverter,Zn_original=[],Zn_modified=[];let ei=0,ti=0,Ti=0,xi=0,ki=0,qi=0;const po=(Uo,wo)=>Uo.afterLineNumber-wo.afterLineNumber,No=(Uo,wo)=>{if(null===wo.domNode&&Uo.length>0){const no=Uo[Uo.length-1];if(no.afterLineNumber===wo.afterLineNumber&&null===no.domNode)return void(no.heightInLines+=wo.heightInLines)}Uo.push(wo)},Io=new bn(this._modifiedForeignVZ),To=new bn(this._originalForeignVZ);let co=1,Jo=1;for(let Uo=0,wo=this._lineChanges.length;Uo<=wo;Uo++){const no=Uo<wo?this._lineChanges[Uo]:null;null!==no?(Ti=no.originalStartLineNumber+(no.originalEndLineNumber>0?-1:0),xi=no.modifiedStartLineNumber+(no.modifiedEndLineNumber>0?-1:0),ti=no.originalEndLineNumber>0?Ct._getViewLineCount(this._originalEditor,no.originalStartLineNumber,no.originalEndLineNumber):0,ei=no.modifiedEndLineNumber>0?Ct._getViewLineCount(this._modifiedEditor,no.modifiedStartLineNumber,no.modifiedEndLineNumber):0,ki=Math.max(no.originalStartLineNumber,no.originalEndLineNumber),qi=Math.max(no.modifiedStartLineNumber,no.modifiedEndLineNumber)):(Ti+=1e7+ti,xi+=1e7+ei,ki=Ti,qi=xi);let Eo=[],Qo=[];if(_n){let Po;Po=no?no.originalEndLineNumber>0?no.originalStartLineNumber-co:no.modifiedStartLineNumber-Jo:yn.getLineCount()-co+1;for(let hs=0;hs<Po;hs++){const Ks=co+hs,ss=Jo+hs,zs=Rn.getModelLineViewLineCount(Ks),lr=qn.getModelLineViewLineCount(ss);zs<lr?Eo.push({afterLineNumber:Ks,heightInLines:lr-zs,domNode:null,marginDomNode:null}):zs>lr&&Qo.push({afterLineNumber:ss,heightInLines:zs-lr,domNode:null,marginDomNode:null})}no&&(co=(no.originalEndLineNumber>0?no.originalEndLineNumber:no.originalStartLineNumber)+1,Jo=(no.modifiedEndLineNumber>0?no.modifiedEndLineNumber:no.modifiedStartLineNumber)+1)}for(;Io.current&&Io.current.afterLineNumber<=qi;){let Po;Po=Io.current.afterLineNumber<=xi?Ti-xi+Io.current.afterLineNumber:ki;let hs=null;no&&no.modifiedStartLineNumber<=Io.current.afterLineNumber&&Io.current.afterLineNumber<=no.modifiedEndLineNumber&&(hs=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Eo.push({afterLineNumber:Po,heightInLines:Io.current.height/tt,domNode:null,marginDomNode:hs}),Io.advance()}for(;To.current&&To.current.afterLineNumber<=ki;){let Po;Po=To.current.afterLineNumber<=Ti?xi-Ti+To.current.afterLineNumber:qi,Qo.push({afterLineNumber:Po,heightInLines:To.current.height/ke,domNode:null}),To.advance()}if(null!==no&&$n(no)){const Po=this._produceOriginalFromDiff(no,ti,ei);Po&&Eo.push(Po)}if(null!==no&&Pi(no)){const Po=this._produceModifiedFromDiff(no,ti,ei);Po&&Qo.push(Po)}let qo=0,ls=0;for(Eo=Eo.sort(po),Qo=Qo.sort(po);qo<Eo.length&&ls<Qo.length;){const Po=Eo[qo],hs=Qo[ls],Ks=Po.afterLineNumber-Ti,ss=hs.afterLineNumber-xi;Ks<ss?(No(Zn_original,Po),qo++):ss<Ks?(No(Zn_modified,hs),ls++):Po.shouldNotShrink?(No(Zn_original,Po),qo++):hs.shouldNotShrink?(No(Zn_modified,hs),ls++):Po.heightInLines>=hs.heightInLines?(Po.heightInLines-=hs.heightInLines,ls++):(hs.heightInLines-=Po.heightInLines,qo++)}for(;qo<Eo.length;)No(Zn_original,Eo[qo]),qo++;for(;ls<Qo.length;)No(Zn_modified,Qo[ls]),ls++}return{original:Ct._ensureDomNodes(Zn_original),modified:Ct._ensureDomNodes(Zn_modified)}}static _ensureDomNodes(ke){return ke.map(tt=>(tt.domNode||(tt.domNode=Ut()),tt))}}function Wt(zt,ke,tt,Pt,Jt){return{range:new W.e(zt,ke,tt,Pt),options:Jt}}const jt={arrowRevertChange:Ei.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+Xi.kS.asClassName(Zi.lA.arrowRight)}),charDelete:Ei.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Ei.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Ei.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Ei.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Ei.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Ei.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Xi.kS.asClassName(ht),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Ei.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Ei.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Xi.kS.asClassName(Kt),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Ei.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let Yt=(()=>{class zt extends In{constructor(tt,Pt){super(tt),this._disableSash=!1===Pt,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new we.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Jt=>this._onSashDrag(Jt)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(tt){const Pt=!1===tt;this._disableSash!==Pt&&(this._disableSash=Pt,this._sash.state=this._disableSash?0:3)}layout(tt=this._sashRatio){const Jt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Dn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let _n=Math.floor((tt||.5)*Jt);const yn=Math.floor(.5*Jt);return _n=this._disableSash?yn:_n||yn,Jt>2*zt.MINIMUM_EDITOR_WIDTH?(_n<zt.MINIMUM_EDITOR_WIDTH&&(_n=zt.MINIMUM_EDITOR_WIDTH),_n>Jt-zt.MINIMUM_EDITOR_WIDTH&&(_n=Jt-zt.MINIMUM_EDITOR_WIDTH)):_n=yn,this._sashPosition!==_n&&(this._sashPosition=_n),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(tt){const Jt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Dn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),_n=this.layout((this._startSashPosition+(tt.currentX-tt.startX))/Jt);this._sashRatio=_n/Jt,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(tt){return 0}getVerticalSashLeft(tt){return this._sashPosition}getVerticalSashHeight(tt){return this._dataSource.getHeight()}_getViewZones(tt,Pt,Jt){const _n=this._dataSource.getOriginalEditor(),yn=this._dataSource.getModifiedEditor();return new gn(tt,Pt,Jt,_n,yn).getViewZones()}_getOriginalEditorDecorations(tt,Pt,Jt,_n){const yn=this._dataSource.getOriginalEditor(),Rn=String(this._removeColor),qn={decorations:[],overviewZones:[]},Zn=yn.getModel(),ei=yn._getViewModel();for(const ti of Pt)if(Pi(ti)){qn.decorations.push({range:new W.e(ti.originalStartLineNumber,1,ti.originalEndLineNumber,1073741824),options:_n?jt.lineDeleteWithSign:jt.lineDelete}),(!$n(ti)||!ti.charChanges)&&qn.decorations.push(Wt(ti.originalStartLineNumber,1,ti.originalEndLineNumber,1073741824,jt.charDeleteWholeLine));const Ti=ee(Zn,ei,ti.originalStartLineNumber,ti.originalEndLineNumber);if(qn.overviewZones.push(new Oi.EY(Ti.startLineNumber,Ti.endLineNumber,0,Rn)),ti.charChanges)for(const xi of ti.charChanges)if(ii(xi))if(Jt)for(let ki=xi.originalStartLineNumber;ki<=xi.originalEndLineNumber;ki++){let qi,po;qi=ki===xi.originalStartLineNumber?xi.originalStartColumn:Zn.getLineFirstNonWhitespaceColumn(ki),po=ki===xi.originalEndLineNumber?xi.originalEndColumn:Zn.getLineLastNonWhitespaceColumn(ki),qn.decorations.push(Wt(ki,qi,ki,po,jt.charDelete))}else qn.decorations.push(Wt(xi.originalStartLineNumber,xi.originalStartColumn,xi.originalEndLineNumber,xi.originalEndColumn,jt.charDelete))}return qn}_getModifiedEditorDecorations(tt,Pt,Jt,_n,yn){const Rn=this._dataSource.getModifiedEditor(),qn=String(this._insertColor),Zn={decorations:[],overviewZones:[]},ei=Rn.getModel(),ti=Rn._getViewModel();for(const Ti of Pt){if(yn)if(Ti.modifiedEndLineNumber>0)Zn.decorations.push({range:new W.e(Ti.modifiedStartLineNumber,1,Ti.modifiedStartLineNumber,1),options:jt.arrowRevertChange});else{const xi=tt.modified.find(ki=>ki.afterLineNumber===Ti.modifiedStartLineNumber);xi&&(xi.marginDomNode=F())}if($n(Ti)){Zn.decorations.push({range:new W.e(Ti.modifiedStartLineNumber,1,Ti.modifiedEndLineNumber,1073741824),options:_n?jt.lineInsertWithSign:jt.lineInsert}),(!Pi(Ti)||!Ti.charChanges)&&Zn.decorations.push(Wt(Ti.modifiedStartLineNumber,1,Ti.modifiedEndLineNumber,1073741824,jt.charInsertWholeLine));const xi=ee(ei,ti,Ti.modifiedStartLineNumber,Ti.modifiedEndLineNumber);if(Zn.overviewZones.push(new Oi.EY(xi.startLineNumber,xi.endLineNumber,0,qn)),Ti.charChanges)for(const ki of Ti.charChanges)if(Ii(ki))if(Jt)for(let qi=ki.modifiedStartLineNumber;qi<=ki.modifiedEndLineNumber;qi++){let po,No;po=qi===ki.modifiedStartLineNumber?ki.modifiedStartColumn:ei.getLineFirstNonWhitespaceColumn(qi),No=qi===ki.modifiedEndLineNumber?ki.modifiedEndColumn:ei.getLineLastNonWhitespaceColumn(qi),Zn.decorations.push(Wt(qi,po,qi,No,jt.charInsert))}else Zn.decorations.push(Wt(ki.modifiedStartLineNumber,ki.modifiedStartColumn,ki.modifiedEndLineNumber,ki.modifiedEndColumn,jt.charInsert))}}return Zn}}return zt.MINIMUM_EDITOR_WIDTH=100,zt})();class gn extends Ct{constructor(ke,tt,Pt,Jt,_n){super(ke,tt,Pt,Jt,_n)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(ke,tt,Pt){return Pt>tt?{afterLineNumber:Math.max(ke.originalStartLineNumber,ke.originalEndLineNumber),heightInLines:Pt-tt,domNode:null}:null}_produceModifiedFromDiff(ke,tt,Pt){return tt>Pt?{afterLineNumber:Math.max(ke.modifiedStartLineNumber,ke.modifiedEndLineNumber),heightInLines:tt-Pt,domNode:null}:null}}class Be extends In{constructor(ke,tt){super(ke),this._decorationsLeft=ke.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(ke.getOriginalEditor().onDidLayoutChange(Pt=>{this._decorationsLeft!==Pt.decorationsLeft&&(this._decorationsLeft=Pt.decorationsLeft,ke.relayoutEditors())}))}setEnableSplitViewResizing(ke){}_getViewZones(ke,tt,Pt,Jt){const _n=this._dataSource.getOriginalEditor(),yn=this._dataSource.getModifiedEditor();return new _t(ke,tt,Pt,_n,yn,Jt).getViewZones()}_getOriginalEditorDecorations(ke,tt,Pt,Jt){const _n=String(this._removeColor),yn={decorations:[],overviewZones:[]},Rn=this._dataSource.getOriginalEditor(),qn=Rn.getModel(),Zn=Rn._getViewModel();let ei=0;for(const ti of tt)if(Pi(ti)){for(yn.decorations.push({range:new W.e(ti.originalStartLineNumber,1,ti.originalEndLineNumber,1073741824),options:jt.lineDeleteMargin});ei<ke.modified.length;){const ki=ke.modified[ei];if(ki.diff&&ki.diff.originalStartLineNumber>=ti.originalStartLineNumber)break;ei++}let Ti=0;if(ei<ke.modified.length){const ki=ke.modified[ei];ki.diff&&ki.diff.originalStartLineNumber===ti.originalStartLineNumber&&ki.diff.originalEndLineNumber===ti.originalEndLineNumber&&ki.diff.modifiedStartLineNumber===ti.modifiedStartLineNumber&&ki.diff.modifiedEndLineNumber===ti.modifiedEndLineNumber&&(Ti=ki.heightInLines)}const xi=ee(qn,Zn,ti.originalStartLineNumber,ti.originalEndLineNumber);yn.overviewZones.push(new Oi.EY(xi.startLineNumber,xi.endLineNumber,Ti,_n))}return yn}_getModifiedEditorDecorations(ke,tt,Pt,Jt,_n){const yn=this._dataSource.getModifiedEditor(),Rn=String(this._insertColor),qn={decorations:[],overviewZones:[]},Zn=yn.getModel(),ei=yn._getViewModel();for(const ti of tt)if($n(ti)){qn.decorations.push({range:new W.e(ti.modifiedStartLineNumber,1,ti.modifiedEndLineNumber,1073741824),options:Jt?jt.lineInsertWithSign:jt.lineInsert});const Ti=ee(Zn,ei,ti.modifiedStartLineNumber,ti.modifiedEndLineNumber);if(qn.overviewZones.push(new Oi.EY(Ti.startLineNumber,Ti.endLineNumber,0,Rn)),ti.charChanges){for(const xi of ti.charChanges)if(Ii(xi))if(Pt)for(let ki=xi.modifiedStartLineNumber;ki<=xi.modifiedEndLineNumber;ki++){let qi,po;qi=ki===xi.modifiedStartLineNumber?xi.modifiedStartColumn:Zn.getLineFirstNonWhitespaceColumn(ki),po=ki===xi.modifiedEndLineNumber?xi.modifiedEndColumn:Zn.getLineLastNonWhitespaceColumn(ki),qn.decorations.push(Wt(ki,qi,ki,po,jt.charInsert))}else qn.decorations.push(Wt(xi.modifiedStartLineNumber,xi.modifiedStartColumn,xi.modifiedEndLineNumber,xi.modifiedEndColumn,jt.charInsert))}else qn.decorations.push(Wt(ti.modifiedStartLineNumber,1,ti.modifiedEndLineNumber,1073741824,jt.charInsertWholeLine))}return qn}layout(){return Math.max(5,this._decorationsLeft)}}class _t extends Ct{constructor(ke,tt,Pt,Jt,_n,yn){super(ke,tt,Pt,Jt,_n),this._originalModel=Jt.getModel(),this._renderIndicators=yn,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const ke=super.getViewZones();return this._finalize(ke),ke}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const ke=document.createElement("div");return ke.className="inline-added-margin-view-zone",ke}_produceOriginalFromDiff(ke,tt,Pt){const Jt=document.createElement("div");return Jt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(ke.originalStartLineNumber,ke.originalEndLineNumber),heightInLines:Pt,domNode:document.createElement("div"),marginDomNode:Jt}}_produceModifiedFromDiff(ke,tt,Pt){const Jt=document.createElement("div");Jt.className=`view-lines line-delete ${ni.S}`;const _n=document.createElement("div");_n.className="inline-deleted-margin-view-zone";const yn={shouldNotShrink:!0,afterLineNumber:0===ke.modifiedEndLineNumber?ke.modifiedStartLineNumber:ke.modifiedStartLineNumber-1,heightInLines:tt,minWidthInPx:0,domNode:Jt,marginDomNode:_n,diff:{originalStartLineNumber:ke.originalStartLineNumber,originalEndLineNumber:ke.originalEndLineNumber,modifiedStartLineNumber:ke.modifiedStartLineNumber,modifiedEndLineNumber:ke.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Rn=ke.originalStartLineNumber;Rn<=ke.originalEndLineNumber;Rn++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Rn),null,null);return this._pendingLineChange.push(ke),this._pendingViewZones.push(yn),yn}_finalize(ke){const tt=this._modifiedEditor.getOptions(),Pt=this._modifiedEditor.getModel().getOptions().tabSize,Jt=tt.get(46),_n=tt.get(29),yn=Jt.typicalHalfwidthCharacterWidth,Rn=tt.get(95),qn=this._originalModel.mightContainNonBasicASCII(),Zn=this._originalModel.mightContainRTL(),ei=tt.get(61),Ti=tt.get(133).decorationsWidth,xi=tt.get(107),ki=tt.get(90),qi=tt.get(85),po=tt.get(47),No=this._lineBreaksComputer.finalize();let Io=0;for(let To=0;To<this._pendingLineChange.length;To++){const co=this._pendingLineChange[To],Jo=this._pendingViewZones[To],Uo=Jo.domNode;(0,He.N)(Uo,Jt);const wo=Jo.marginDomNode;(0,He.N)(wo,Jt);const no=[];if(co.charChanges)for(const ss of co.charChanges)ii(ss)&&no.push(new se.$t(new W.e(ss.originalStartLineNumber,ss.originalStartColumn,ss.originalEndLineNumber,ss.originalEndColumn),"char-delete",0));const Eo=no.length>0,Qo=(0,bi.l$)(1e4);let qo=0,ls=0,Po=null;for(let ss=co.originalStartLineNumber;ss<=co.originalEndLineNumber;ss++){const zs=ss-co.originalStartLineNumber,lr=this._originalModel.tokenization.getLineTokens(ss),jo=lr.getLineContent(),ur=No[Io++],$s=Qi.Kp.filter(no,ss,1,jo.length+1);if(ur){let Gr=0;for(const ua of ur.breakOffsets){const za=lr.sliceAndInflate(Gr,ua,0),ha=jo.substring(Gr,ua);qo=Math.max(qo,this._renderOriginalLine(ls++,ha,za,Qi.Kp.extractWrapped($s,Gr,ua),Eo,qn,Zn,Jt,_n,ei,Ti,xi,ki,qi,po,Pt,Qo,wo)),Gr=ua}for(Po||(Po=[]);Po.length<zs;)Po[Po.length]=1;Po[zs]=ur.breakOffsets.length,Jo.heightInLines+=ur.breakOffsets.length-1;const Ta=document.createElement("div");Ta.className="gutter-delete",ke.original.push({afterLineNumber:ss,afterColumn:0,heightInLines:ur.breakOffsets.length-1,domNode:Ut(),marginDomNode:Ta})}else qo=Math.max(qo,this._renderOriginalLine(ls++,jo,lr,$s,Eo,qn,Zn,Jt,_n,ei,Ti,xi,ki,qi,po,Pt,Qo,wo))}qo+=Rn;const hs=Qo.build(),Ks=nn?nn.createHTML(hs):hs;if(Uo.innerHTML=Ks,Jo.minWidthInPx=qo*yn,Po){const ss=co.originalEndLineNumber-co.originalStartLineNumber;for(;Po.length<=ss;)Po[Po.length]=1}Jo.diff.viewLineCounts=Po}ke.original.sort((To,co)=>To.afterLineNumber-co.afterLineNumber)}_renderOriginalLine(ke,tt,Pt,Jt,_n,yn,Rn,qn,Zn,ei,ti,Ti,xi,ki,qi,po,No,Io){No.appendASCIIString('<div class="view-line'),_n||No.appendASCIIString(" char-delete"),No.appendASCIIString('" style="top:'),No.appendASCIIString(String(ke*ei)),No.appendASCIIString('px;width:1000000px;">');const To=se.wA.isBasicASCII(tt,yn),co=se.wA.containsRTL(tt,To,Rn),Jo=(0,Oe.d1)(new Oe.IJ(qn.isMonospace&&!Zn,qn.canUseHalfwidthRightwardsArrow,tt,!1,To,co,0,Pt,Jt,po,0,qn.spaceWidth,qn.middotWidth,qn.wsmiddotWidth,Ti,xi,ki,qi!==s.n0.OFF,null),No);if(No.appendASCIIString("</div>"),this._renderIndicators){const Uo=document.createElement("div");Uo.className=`delete-sign ${Xi.kS.asClassName(Kt)}`,Uo.setAttribute("style",`position:absolute;top:${ke*ei}px;width:${ti}px;height:${ei}px;right:0;`),Io.appendChild(Uo)}return Jo.characterMapping.getHorizontalOffset(Jo.characterMapping.length)}}function vn(zt,ke){return(0,s.NY)(zt,ke,["off","on","inherit"])}function $n(zt){return zt.modifiedEndLineNumber>0}function Pi(zt){return zt.originalEndLineNumber>0}function Ii(zt){return zt.modifiedStartLineNumber===zt.modifiedEndLineNumber?zt.modifiedEndColumn-zt.modifiedStartColumn>0:zt.modifiedEndLineNumber-zt.modifiedStartLineNumber>0}function ii(zt){return zt.originalStartLineNumber===zt.originalEndLineNumber?zt.originalEndColumn-zt.originalStartColumn>0:zt.originalEndLineNumber-zt.originalStartLineNumber>0}function Ut(){const zt=document.createElement("div");return zt.className="diagonal-fill",zt}function F(){const zt=document.createElement("div");return zt.className="arrow-revert-change "+Xi.kS.asClassName(Zi.lA.arrowRight),te.$("div",{},zt)}function ee(zt,ke,tt,Pt){const Jt=zt.getLineCount();return tt=Math.min(Jt,Math.max(1,tt)),Pt=Math.min(Jt,Math.max(1,Pt)),ke.coordinatesConverter.convertModelRangeToViewRange(new W.e(tt,zt.getLineMinColumn(tt),Pt,zt.getLineMaxColumn(Pt)))}function _e(zt,ke){return{enableSplitViewResizing:(0,s.O7)(zt.enableSplitViewResizing,ke.enableSplitViewResizing),renderSideBySide:(0,s.O7)(zt.renderSideBySide,ke.renderSideBySide),renderMarginRevertIcon:(0,s.O7)(zt.renderMarginRevertIcon,ke.renderMarginRevertIcon),maxComputationTime:(0,s.Zc)(zt.maxComputationTime,ke.maxComputationTime,0,1073741824),maxFileSize:(0,s.Zc)(zt.maxFileSize,ke.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,s.O7)(zt.ignoreTrimWhitespace,ke.ignoreTrimWhitespace),renderIndicators:(0,s.O7)(zt.renderIndicators,ke.renderIndicators),originalEditable:(0,s.O7)(zt.originalEditable,ke.originalEditable),diffCodeLens:(0,s.O7)(zt.diffCodeLens,ke.diffCodeLens),renderOverviewRuler:(0,s.O7)(zt.renderOverviewRuler,ke.renderOverviewRuler),diffWordWrap:vn(zt.diffWordWrap,ke.diffWordWrap)}}(0,Xi.Ic)((zt,ke)=>{const tt=zt.getColor(_i.ypS);tt&&ke.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${tt}; }`);const Pt=zt.getColor(_i.hzo)||tt;Pt&&ke.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${Pt}; }`);const Jt=zt.getColor(_i.j51)||Pt;Jt&&(ke.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Jt}; }`),ke.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${Jt}; }`));const _n=zt.getColor(_i.P4M);_n&&ke.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${_n}; }`);const yn=zt.getColor(_i.xi6)||_n;yn&&ke.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${yn}; }`);const Rn=zt.getColor(_i.zOm)||yn;Rn&&(ke.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${Rn}; }`),ke.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${Rn}; }`));const qn=zt.getColor(_i.XL$);qn&&ke.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,Zt.c3)(zt.type)?"dashed":"solid"} ${qn}; }`);const Zn=zt.getColor(_i.mHy);Zn&&ke.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,Zt.c3)(zt.type)?"dashed":"solid"} ${Zn}; }`);const ei=zt.getColor(_i._wn);ei&&ke.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ei}; }`);const ti=zt.getColor(_i.LLc);ti&&ke.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${ti}; }`);const Ti=zt.getColor(_i.etL);Ti&&ke.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${Ti};\n\t\t\t}\n\t\t`);const xi=zt.getColor(_i.ABB);xi&&ke.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${xi};\n\t\t\t}\n\t\t`);const ki=zt.getColor(_i.ynu);ki&&ke.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${ki};\n\t\t\t}\n\t\t`);const qi=zt.getColor(_i.L_t);ke.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${qi} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${qi} 50%, ${qi} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)});var qe=e(56289),ct=e(64455),rn=e(6197),Gt=e(30116),wn=e(34468),En=e(54980),xn=e(1652),Wn=e(71901),Xn=e(53314),si=e(61669),ci=e(13154),Ci=function(zt,ke,tt,Pt){var yn,Jt=arguments.length,_n=Jt<3?ke:null===Pt?Pt=Object.getOwnPropertyDescriptor(ke,tt):Pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_n=Reflect.decorate(zt,ke,tt,Pt);else for(var Rn=zt.length-1;Rn>=0;Rn--)(yn=zt[Rn])&&(_n=(Jt<3?yn(_n):Jt>3?yn(ke,tt,_n):yn(ke,tt))||_n);return Jt>3&&_n&&Object.defineProperty(ke,tt,_n),_n},Li=function(zt,ke){return function(tt,Pt){ke(tt,Pt,zt)}};let Ji=0,uo=!1,Ui=class extends qt.Gm{constructor(ke,tt,Pt,Jt,_n,yn,Rn,qn,Zn,ei,ti,Ti){const xi=Object.assign({},tt);xi.ariaLabel=xi.ariaLabel||Wn.B8.editorViewAccessibleLabel,xi.ariaLabel=xi.ariaLabel+";"+Wn.B8.accessibilityHelpMessage,super(ke,xi,{},Pt,Jt,_n,yn,qn,Zn,ei,ti,Ti),this._standaloneKeybindingService=Rn instanceof ct.zC?Rn:null,function ho(zt){if(!zt){if(uo)return;uo=!0}Tt.wW(zt||document.body)}(xi.ariaContainerElement)}addCommand(ke,tt,Pt){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Jt="DYNAMIC_"+ ++Ji,_n=ri.Ao.deserialize(Pt);return this._standaloneKeybindingService.addDynamicKeybinding(Jt,ke,tt,_n),Jt}createContextKey(ke,tt){return this._contextKeyService.createKey(ke,tt)}addAction(ke){if("string"!=typeof ke.id||"string"!=typeof ke.label||"function"!=typeof ke.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.JT.None;const tt=ke.id,Pt=ke.label,Jt=ri.Ao.and(ri.Ao.equals("editorId",this.getId()),ri.Ao.deserialize(ke.precondition)),_n=ke.keybindings,yn=ri.Ao.and(Jt,ri.Ao.deserialize(ke.keybindingContext)),Rn=ke.contextMenuGroupId||null,qn=ke.contextMenuOrder||0,Zn=(xi,...ki)=>Promise.resolve(ke.run(this,...ki)),ei=new m.SL,ti=this.getId()+":"+tt;if(ei.add(wn.P0.registerCommand(ti,Zn)),Rn&&ei.add(Gt.BH.appendMenuItem(Gt.eH.EditorContext,{command:{id:ti,title:Pt},when:Jt,group:Rn,order:qn})),Array.isArray(_n))for(const xi of _n)ei.add(this._standaloneKeybindingService.addDynamicKeybinding(ti,xi,Zn,yn));const Ti=new qe.p(ti,Pt,Pt,Jt,Zn,this._contextKeyService);return this._actions[tt]=Ti,ei.add((0,m.OF)(()=>{delete this._actions[tt]})),ei}_triggerCommand(ke,tt){if(this._codeEditorService instanceof Xn.B)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(ke,tt)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(ke,tt)}};Ui=Ci([Li(2,Wi.TG),Li(3,L.$),Li(4,wn.Hy),Li(5,ri.i6),Li(6,En.d),Li(7,Xi.XE),Li(8,ro.lT),Li(9,xn.F),Li(10,j.c_),Li(11,ci.p)],Ui);let Mn=class extends Ui{constructor(ke,tt,Pt,Jt,_n,yn,Rn,qn,Zn,ei,ti,Ti,xi,ki,qi){const po=Object.assign({},tt);(0,ct.XZ)(ei,po,!1);const No=qn.registerEditorContainer(ke);"string"==typeof po.theme&&qn.setTheme(po.theme),typeof po.autoDetectHighContrast<"u"&&qn.setAutoDetectHighContrast(!!po.autoDetectHighContrast);const Io=po.model;let To;if(delete po.model,super(ke,po,Pt,Jt,_n,yn,Rn,qn,Zn,ti,ki,qi),this._configurationService=ei,this._standaloneThemeService=qn,this._register(No),typeof Io>"u"){const co=xi.getLanguageIdByMimeType(po.language)||po.language||si.bd;To=Ge(Ti,xi,po.value||"",co,void 0),this._ownsModel=!0}else To=Io,this._ownsModel=!1;this._attachModel(To),To&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:To.uri})}dispose(){super.dispose()}updateOptions(ke){(0,ct.XZ)(this._configurationService,ke,!1),"string"==typeof ke.theme&&this._standaloneThemeService.setTheme(ke.theme),typeof ke.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!ke.autoDetectHighContrast),super.updateOptions(ke)}_postDetachModelCleanup(ke){super._postDetachModelCleanup(ke),ke&&this._ownsModel&&(ke.dispose(),this._ownsModel=!1)}};Mn=Ci([Li(2,Wi.TG),Li(3,L.$),Li(4,wn.Hy),Li(5,ri.i6),Li(6,En.d),Li(7,rn.Z),Li(8,ro.lT),Li(9,Et.Ui),Li(10,xn.F),Li(11,Z.q),Li(12,R.O),Li(13,j.c_),Li(14,ci.p)],Mn);let ue=class extends Dn{constructor(ke,tt,Pt,Jt,_n,yn,Rn,qn,Zn,ei,ti,Ti){const xi=Object.assign({},tt);(0,ct.XZ)(Zn,xi,!0);const ki=Rn.registerEditorContainer(ke);"string"==typeof xi.theme&&Rn.setTheme(xi.theme),typeof xi.autoDetectHighContrast<"u"&&Rn.setAutoDetectHighContrast(!!xi.autoDetectHighContrast),super(ke,xi,{},Ti,_n,Jt,Pt,yn,Rn,qn,ei,ti),this._configurationService=Zn,this._standaloneThemeService=Rn,this._register(ki)}dispose(){super.dispose()}updateOptions(ke){(0,ct.XZ)(this._configurationService,ke,!0),"string"==typeof ke.theme&&this._standaloneThemeService.setTheme(ke.theme),typeof ke.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!ke.autoDetectHighContrast),super.updateOptions(ke)}_createInnerEditor(ke,tt,Pt){return ke.createInstance(Ui,tt,Pt)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(ke,tt,Pt){return this.getModifiedEditor().addCommand(ke,tt,Pt)}createContextKey(ke,tt){return this.getModifiedEditor().createContextKey(ke,tt)}addAction(ke){return this.getModifiedEditor().addAction(ke)}};function Ge(zt,ke,tt,Pt,Jt){if(tt=tt||"",!Pt){const _n=tt.indexOf("\n");let yn=tt;return-1!==_n&&(yn=tt.substring(0,_n)),Re(zt,tt,ke.createByFilepathOrFirstLine(Jt||null,yn),Jt)}return Re(zt,tt,ke.createById(Pt),Jt)}function Re(zt,ke,tt,Pt){return zt.createModel(ke,tt,Pt)}ue=Ci([Li(2,Wi.TG),Li(3,ri.i6),Li(4,ao.p),Li(5,L.$),Li(6,rn.Z),Li(7,ro.lT),Li(8,Et.Ui),Li(9,Co.i),Li(10,Do.ek),Li(11,ko.p)],ue);var V=e(80618);function ne(zt,ke,tt){return ct.IO.initialize(tt||{}).createInstance(Mn,zt,ke)}function Ne(zt){return ct.IO.get(L.$).onCodeEditorAdd(tt=>{zt(tt)})}function at(zt){return ct.IO.get(L.$).onDiffEditorAdd(tt=>{zt(tt)})}function It(){return ct.IO.get(L.$).listCodeEditors()}function ln(){return ct.IO.get(L.$).listDiffEditors()}function pn(zt,ke,tt){return ct.IO.initialize(tt||{}).createInstance(ue,zt,ke)}function Sn(zt,ke){return new z(zt,ke)}function Vn(zt){if("string"!=typeof zt.id||"function"!=typeof zt.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return wn.P0.registerCommand(zt.id,zt.run)}function gi(zt){if("string"!=typeof zt.id||"string"!=typeof zt.label||"function"!=typeof zt.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const ke=ri.Ao.deserialize(zt.precondition),Pt=new m.SL;if(Pt.add(wn.P0.registerCommand(zt.id,(Jt,..._n)=>Gn._l.runEditorCommand(Jt,_n,ke,(yn,Rn,qn)=>Promise.resolve(zt.run(Rn,...qn))))),zt.contextMenuGroupId&&Pt.add(Gt.BH.appendMenuItem(Gt.eH.EditorContext,{command:{id:zt.id,title:zt.label},when:ke,group:zt.contextMenuGroupId,order:zt.contextMenuOrder||0})),Array.isArray(zt.keybindings)){const Jt=ct.IO.get(En.d);if(Jt instanceof ct.zC){const _n=ri.Ao.and(ke,ri.Ao.deserialize(zt.keybindingContext));Pt.add(Jt.addDynamicKeybindings(zt.keybindings.map(yn=>({keybinding:yn,command:zt.id,when:_n}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return Pt}function Di(zt){return Ai([zt])}function Ai(zt){const ke=ct.IO.get(En.d);return ke instanceof ct.zC?ke.addDynamicKeybindings(zt.map(tt=>({keybinding:tt.keybinding,command:tt.command,commandArgs:tt.commandArgs,when:ri.Ao.deserialize(tt.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.JT.None)}function ui(zt,ke,tt){const Pt=ct.IO.get(R.O),Jt=Pt.getLanguageIdByMimeType(ke)||ke;return Ge(ct.IO.get(Z.q),Pt,zt,Jt,tt)}function lo(zt,ke){const tt=ct.IO.get(R.O);ct.IO.get(Z.q).setMode(zt,tt.createById(ke))}function Hi(zt,ke,tt){zt&&ct.IO.get(V.lT).changeOne(ke,zt.uri,tt)}function Fo(zt){ct.IO.get(V.lT).changeAll(zt,[])}function fo(zt){return ct.IO.get(V.lT).read(zt)}function bo(zt){return ct.IO.get(V.lT).onMarkerChanged(zt)}function _s(zt){return ct.IO.get(Z.q).getModel(zt)}function ns(){return ct.IO.get(Z.q).getModels()}function Go(zt){return ct.IO.get(Z.q).onModelAdded(zt)}function nr(zt){return ct.IO.get(Z.q).onModelRemoved(zt)}function fs(zt){return ct.IO.get(Z.q).onModelLanguageChanged(tt=>{zt({model:tt.model,oldLanguage:tt.oldLanguageId})})}function Zs(zt){return function Se(zt,ke,tt){return new Ie(zt,ke,tt)}(ct.IO.get(Z.q),ct.IO.get(j.c_),zt)}function os(zt,ke){const tt=ct.IO.get(R.O),Pt=ct.IO.get(rn.Z);return Pt.registerEditorContainer(zt),bt.colorizeElement(Pt,tt,zt,ke)}function Bs(zt,ke,tt){const Pt=ct.IO.get(R.O);return ct.IO.get(rn.Z).registerEditorContainer(document.body),bt.colorize(Pt,zt,ke,tt)}function Ms(zt,ke,tt=4){return ct.IO.get(rn.Z).registerEditorContainer(document.body),bt.colorizeModelLine(zt,ke,tt)}function qs(zt,ke){$.RW.getOrCreate(ke);const tt=function Ns(zt){return $.RW.get(zt)||{getInitialState:()=>q.TJ,tokenize:(tt,Pt,Jt)=>(0,q.Ri)(zt,Jt)}}(ke),Pt=(0,w.uq)(zt),Jt=[];let _n=tt.getInitialState();for(let yn=0,Rn=Pt.length;yn<Rn;yn++){const Zn=tt.tokenize(Pt[yn],!0,_n);Jt[yn]=Zn.tokens,_n=Zn.endState}return Jt}function jr(zt,ke){ct.IO.get(rn.Z).defineTheme(zt,ke)}function Kr(zt){ct.IO.get(rn.Z).setTheme(zt)}function Sr(){E.g.clearAllFontInfos()}function Ws(zt,ke){return wn.P0.registerCommand({id:zt,handler:ke})}var ds=e(84968);function er(zt,ke){return"boolean"==typeof zt?zt:ke}function Qs(zt,ke){return"string"==typeof zt?zt:ke}function Tr(zt,ke=!1){ke&&(zt=zt.map(function(Pt){return Pt.toLowerCase()}));const tt=function is(zt){const ke={};for(const tt of zt)ke[tt]=!0;return ke}(zt);return ke?function(Pt){return void 0!==tt[Pt.toLowerCase()]&&tt.hasOwnProperty(Pt.toLowerCase())}:function(Pt){return void 0!==tt[Pt]&&tt.hasOwnProperty(Pt)}}function _r(zt,ke){ke=ke.replace(/@@/g,"\x01");let Pt,tt=0;do{Pt=!1,ke=ke.replace(/@(\w+)/g,function(_n,yn){Pt=!0;let Rn="";if("string"==typeof zt[yn])Rn=zt[yn];else{if(!(zt[yn]&&zt[yn]instanceof RegExp))throw fe(zt,void 0===zt[yn]?"language definition does not contain attribute '"+yn+"', used at: "+ke:"attribute reference '"+yn+"' must be a string, used at: "+ke);Rn=zt[yn].source}return he(Rn)?"":"(?:"+Rn+")"}),tt++}while(Pt&&tt<5);return ke=ke.replace(/\x01/g,"@"),new RegExp(ke,(zt.ignoreCase?"i":"")+(zt.unicode?"u":""))}function tr(zt,ke,tt,Pt){let Jt=-1,_n=tt,yn=tt.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);yn&&(yn[3]&&(Jt=parseInt(yn[3]),yn[2]&&(Jt+=100)),_n=yn[4]);let Zn,Rn="~",qn=_n;if(_n&&0!==_n.length?/^\w*$/.test(qn)?Rn="==":(yn=_n.match(/^(@|!@|~|!~|==|!=)(.*)$/),yn&&(Rn=yn[1],qn=yn[2])):(Rn="!=",qn=""),"~"!==Rn&&"!~"!==Rn||!/^(\w|\|)*$/.test(qn))if("@"===Rn||"!@"===Rn){const ei=zt[qn];if(!ei)throw fe(zt,"the @ match target '"+qn+"' is not defined, in rule: "+ke);if(!function rr(zt,ke){if(!ke||!Array.isArray(ke))return!1;for(const tt of ke)if(!zt(tt))return!1;return!0}(function(Ti){return"string"==typeof Ti},ei))throw fe(zt,"the @ match target '"+qn+"' must be an array of strings, in rule: "+ke);const ti=Tr(ei,zt.ignoreCase);Zn=function(Ti){return"@"===Rn?ti(Ti):!ti(Ti)}}else if("~"===Rn||"!~"===Rn)if(qn.indexOf("$")<0){const ei=_r(zt,"^"+qn+"$");Zn=function(ti){return"~"===Rn?ei.test(ti):!ei.test(ti)}}else Zn=function(ei,ti,Ti,xi){return _r(zt,"^"+Ke(zt,qn,ti,Ti,xi)+"$").test(ei)};else if(qn.indexOf("$")<0){const ei=Fe(zt,qn);Zn=function(ti){return"=="===Rn?ti===ei:ti!==ei}}else{const ei=Fe(zt,qn);Zn=function(ti,Ti,xi,ki,qi){const po=Ke(zt,ei,Ti,xi,ki);return"=="===Rn?ti===po:ti!==po}}else{const ei=Tr(qn.split("|"),zt.ignoreCase);Zn=function(ti){return"~"===Rn?ei(ti):!ei(ti)}}return-1===Jt?{name:tt,value:Pt,test:function(ei,ti,Ti,xi){return Zn(ei,ei,ti,Ti,xi)}}:{name:tt,value:Pt,test:function(ei,ti,Ti,xi){const ki=function ma(zt,ke,tt,Pt){if(Pt<0)return zt;if(Pt<ke.length)return ke[Pt];if(Pt>=100){Pt-=100;const Jt=tt.split(".");if(Jt.unshift(tt),Pt<Jt.length)return Jt[Pt]}return null}(ei,ti,Ti,Jt);return Zn(ki||"",ei,ti,Ti,xi)}}}function vs(zt,ke,tt){if(tt){if("string"==typeof tt)return tt;if(tt.token||""===tt.token){if("string"!=typeof tt.token)throw fe(zt,"a 'token' attribute must be of type string, in rule: "+ke);{const Pt={token:tt.token};if(tt.token.indexOf("$")>=0&&(Pt.tokenSubst=!0),"string"==typeof tt.bracket)if("@open"===tt.bracket)Pt.bracket=1;else{if("@close"!==tt.bracket)throw fe(zt,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+ke);Pt.bracket=-1}if(tt.next){if("string"!=typeof tt.next)throw fe(zt,"the next state must be a string value in rule: "+ke);{let Jt=tt.next;if(!/^(@pop|@push|@popall)$/.test(Jt)&&("@"===Jt[0]&&(Jt=Jt.substr(1)),Jt.indexOf("$")<0&&!function vt(zt,ke){let tt=ke;for(;tt&&tt.length>0;){if(zt.stateNames[tt])return!0;const Jt=tt.lastIndexOf(".");tt=Jt<0?null:tt.substr(0,Jt)}return!1}(zt,Ke(zt,Jt,"",[],""))))throw fe(zt,"the next state '"+tt.next+"' is not defined in rule: "+ke);Pt.next=Jt}}return"number"==typeof tt.goBack&&(Pt.goBack=tt.goBack),"string"==typeof tt.switchTo&&(Pt.switchTo=tt.switchTo),"string"==typeof tt.log&&(Pt.log=tt.log),"string"==typeof tt.nextEmbedded&&(Pt.nextEmbedded=tt.nextEmbedded,zt.usesEmbedded=!0),Pt}}if(Array.isArray(tt)){const Pt=[];for(let Jt=0,_n=tt.length;Jt<_n;Jt++)Pt[Jt]=vs(zt,ke,tt[Jt]);return{group:Pt}}if(tt.cases){const Pt=[];for(const _n in tt.cases)if(tt.cases.hasOwnProperty(_n)){const yn=vs(zt,ke,tt.cases[_n]);Pt.push("@default"===_n||"@"===_n||""===_n?{test:void 0,value:yn,name:_n}:"@eos"===_n?{test:function(Rn,qn,Zn,ei){return ei},value:yn,name:_n}:tr(zt,ke,_n,yn))}const Jt=zt.defaultToken;return{test:function(_n,yn,Rn,qn){for(const Zn of Pt)if(!Zn.test||Zn.test(_n,yn,Rn,qn))return Zn.value;return Jt}}}throw fe(zt,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+ke)}return{token:""}}class Ys{constructor(ke){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=ke}setRegex(ke,tt){let Pt;if("string"==typeof tt)Pt=tt;else{if(!(tt instanceof RegExp))throw fe(ke,"rules must start with a match string or regular expression: "+this.name);Pt=tt.source}this.matchOnlyAtLineStart=Pt.length>0&&"^"===Pt[0],this.name=this.name+": "+Pt,this.regex=_r(ke,"^(?:"+(this.matchOnlyAtLineStart?Pt.substr(1):Pt)+")")}setAction(ke,tt){this.action=vs(ke,this.name,tt)}}function Xs(zt,ke){if(!ke||"object"!=typeof ke)throw new Error("Monarch: expecting a language definition object");const tt={};tt.languageId=zt,tt.includeLF=er(ke.includeLF,!1),tt.noThrow=!1,tt.maxStack=100,tt.start="string"==typeof ke.start?ke.start:null,tt.ignoreCase=er(ke.ignoreCase,!1),tt.unicode=er(ke.unicode,!1),tt.tokenPostfix=Qs(ke.tokenPostfix,"."+tt.languageId),tt.defaultToken=Qs(ke.defaultToken,"source"),tt.usesEmbedded=!1;const Pt=ke;function Jt(yn,Rn,qn){for(const Zn of qn){let ei=Zn.include;if(ei){if("string"!=typeof ei)throw fe(tt,"an 'include' attribute must be a string at: "+yn);if("@"===ei[0]&&(ei=ei.substr(1)),!ke.tokenizer[ei])throw fe(tt,"include target '"+ei+"' is not defined at: "+yn);Jt(yn+"."+ei,Rn,ke.tokenizer[ei])}else{const ti=new Ys(yn);if(Array.isArray(Zn)&&Zn.length>=1&&Zn.length<=3)if(ti.setRegex(Pt,Zn[0]),Zn.length>=3)if("string"==typeof Zn[1])ti.setAction(Pt,{token:Zn[1],next:Zn[2]});else{if("object"!=typeof Zn[1])throw fe(tt,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+yn);{const Ti=Zn[1];Ti.next=Zn[2],ti.setAction(Pt,Ti)}}else ti.setAction(Pt,Zn[1]);else{if(!Zn.regex)throw fe(tt,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+yn);Zn.name&&"string"==typeof Zn.name&&(ti.name=Zn.name),Zn.matchOnlyAtStart&&(ti.matchOnlyAtLineStart=er(Zn.matchOnlyAtLineStart,!1)),ti.setRegex(Pt,Zn.regex),ti.setAction(Pt,Zn.action)}Rn.push(ti)}}}if(Pt.languageId=zt,Pt.includeLF=tt.includeLF,Pt.ignoreCase=tt.ignoreCase,Pt.unicode=tt.unicode,Pt.noThrow=tt.noThrow,Pt.usesEmbedded=tt.usesEmbedded,Pt.stateNames=ke.tokenizer,Pt.defaultToken=tt.defaultToken,!ke.tokenizer||"object"!=typeof ke.tokenizer)throw fe(tt,"a language definition must define the 'tokenizer' attribute as an object");tt.tokenizer=[];for(const yn in ke.tokenizer)if(ke.tokenizer.hasOwnProperty(yn)){tt.start||(tt.start=yn);const Rn=ke.tokenizer[yn];tt.tokenizer[yn]=new Array,Jt("tokenizer."+yn,tt.tokenizer[yn],Rn)}if(tt.usesEmbedded=Pt.usesEmbedded,ke.brackets){if(!Array.isArray(ke.brackets))throw fe(tt,"the 'brackets' attribute must be defined as an array")}else ke.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const _n=[];for(const yn of ke.brackets){let Rn=yn;if(Rn&&Array.isArray(Rn)&&3===Rn.length&&(Rn={token:Rn[2],open:Rn[0],close:Rn[1]}),Rn.open===Rn.close)throw fe(tt,"open and close brackets in a 'brackets' attribute must be different: "+Rn.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof Rn.open||"string"!=typeof Rn.token||"string"!=typeof Rn.close)throw fe(tt,"every element in the 'brackets' array must be a '{open,close,token}' object or array");_n.push({token:Rn.token+tt.tokenPostfix,open:Fe(tt,Rn.open),close:Fe(tt,Rn.close)})}return tt.brackets=_n,tt.noThrow=!0,tt}var Fr=function(zt,ke,tt,Pt){return new(tt||(tt=Promise))(function(_n,yn){function Rn(ei){try{Zn(Pt.next(ei))}catch(ti){yn(ti)}}function qn(ei){try{Zn(Pt.throw(ei))}catch(ti){yn(ti)}}function Zn(ei){ei.done?_n(ei.value):function Jt(_n){return _n instanceof tt?_n:new tt(function(yn){yn(_n)})}(ei.value).then(Rn,qn)}Zn((Pt=Pt.apply(zt,ke||[])).next())})};function zr(zt){si.dQ.registerLanguage(zt)}function ar(){let zt=[];return zt=zt.concat(si.dQ.getLanguages()),zt}function Us(zt){return ct.IO.get(R.O).languageIdCodec.encodeLanguageId(zt)}function Yi(zt,ke){const Pt=ct.IO.get(R.O).onDidEncounterLanguage(Jt=>{Jt===zt&&(Pt.dispose(),ke())});return Pt}function fr(zt,ke){if(!ct.IO.get(R.O).isRegisteredLanguageId(zt))throw new Error(`Cannot set configuration for unknown language ${zt}`);return ct.IO.get(j.c_).register(zt,ke,100)}class xr{constructor(ke,tt){this._languageId=ke,this._actual=tt}getInitialState(){return this._actual.getInitialState()}tokenize(ke,tt,Pt){if("function"==typeof this._actual.tokenize)return Fs.adaptTokenize(this._languageId,this._actual,ke,Pt);throw new Error("Not supported!")}tokenizeEncoded(ke,tt,Pt){const Jt=this._actual.tokenizeEncoded(ke,Pt);return new $.DI(Jt.tokens,Jt.endState)}}class Fs{constructor(ke,tt,Pt,Jt){this._languageId=ke,this._actual=tt,this._languageService=Pt,this._standaloneThemeService=Jt}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(ke,tt){const Pt=[];let Jt=0;for(let _n=0,yn=ke.length;_n<yn;_n++){const Rn=ke[_n];let qn=Rn.startIndex;0===_n?qn=0:qn<Jt&&(qn=Jt),Pt[_n]=new $.WU(qn,Rn.scopes,tt),Jt=qn}return Pt}static adaptTokenize(ke,tt,Pt,Jt){const _n=tt.tokenize(Pt,Jt),yn=Fs._toClassicTokens(_n.tokens,ke);let Rn;return Rn=_n.endState.equals(Jt)?Jt:_n.endState,new $.hG(yn,Rn)}tokenize(ke,tt,Pt){return Fs.adaptTokenize(this._languageId,this._actual,ke,Pt)}_toBinaryTokens(ke,tt){const Pt=ke.encodeLanguageId(this._languageId),Jt=this._standaloneThemeService.getColorTheme().tokenTheme,_n=[];let yn=0,Rn=0;for(let Zn=0,ei=tt.length;Zn<ei;Zn++){const ti=tt[Zn],Ti=Jt.match(Pt,ti.scopes);if(yn>0&&_n[yn-1]===Ti)continue;let xi=ti.startIndex;0===Zn?xi=0:xi<Rn&&(xi=Rn),_n[yn++]=xi,_n[yn++]=Ti,Rn=xi}const qn=new Uint32Array(yn);for(let Zn=0;Zn<yn;Zn++)qn[Zn]=_n[Zn];return qn}tokenizeEncoded(ke,tt,Pt){const Jt=this._actual.tokenize(ke,Pt),_n=this._toBinaryTokens(this._languageService.languageIdCodec,Jt.tokens);let yn;return yn=Jt.endState.equals(Pt)?Pt:Jt.endState,new $.DI(_n,yn)}}function Br(zt){return zt&&"function"==typeof zt.then}function $r(zt){const ke=ct.IO.get(rn.Z);if(zt){const tt=[null];for(let Pt=1,Jt=zt.length;Pt<Jt;Pt++)tt[Pt]=ds.Il.fromHex(zt[Pt]);ke.setColorMapOverride(tt)}else ke.setColorMapOverride(null)}function mo(zt,ke){return function ir(zt){return"tokenizeEncoded"in zt}(ke)?new xr(zt,ke):new Fs(zt,ke,ct.IO.get(R.O),ct.IO.get(rn.Z))}function Vo(zt,ke){return $.RW.registerFactory(zt,{createTokenizationSupport:()=>Fr(this,void 0,void 0,function*(){const Pt=yield Promise.resolve(ke.create());return Pt?function Ss(zt){return"function"==typeof zt.getInitialState}(Pt)?mo(zt,Pt):new it(ct.IO.get(R.O),ct.IO.get(rn.Z),zt,Xs(zt,Pt),ct.IO.get(Et.Ui)):null})})}function Ds(zt,ke){if(!ct.IO.get(R.O).isRegisteredLanguageId(zt))throw new Error(`Cannot set tokens provider for unknown language ${zt}`);return Br(ke)?Vo(zt,{create:()=>ke}):$.RW.register(zt,mo(zt,ke))}function ws(zt,ke){return Br(ke)?Vo(zt,{create:()=>ke}):$.RW.register(zt,(Pt=ke,new it(ct.IO.get(R.O),ct.IO.get(rn.Z),zt,Xs(zt,Pt),ct.IO.get(Et.Ui))));var Pt}function Es(zt,ke){return ct.IO.get(ci.p).referenceProvider.register(zt,ke)}function gs(zt,ke){return ct.IO.get(ci.p).renameProvider.register(zt,ke)}function Cs(zt,ke){return ct.IO.get(ci.p).signatureHelpProvider.register(zt,ke)}function Js(zt,ke){return ct.IO.get(ci.p).hoverProvider.register(zt,{provideHover:(Pt,Jt,_n)=>{const yn=Pt.getWordAtPosition(Jt);return Promise.resolve(ke.provideHover(Pt,Jt,_n)).then(Rn=>{if(Rn)return!Rn.range&&yn&&(Rn.range=new W.e(Jt.lineNumber,yn.startColumn,Jt.lineNumber,yn.endColumn)),Rn.range||(Rn.range=new W.e(Jt.lineNumber,Jt.column,Jt.lineNumber,Jt.column)),Rn})}})}function Wr(zt,ke){return ct.IO.get(ci.p).documentSymbolProvider.register(zt,ke)}function Ia(zt,ke){return ct.IO.get(ci.p).documentHighlightProvider.register(zt,ke)}function cr(zt,ke){return ct.IO.get(ci.p).linkedEditingRangeProvider.register(zt,ke)}function Nn(zt,ke){return ct.IO.get(ci.p).definitionProvider.register(zt,ke)}function le(zt,ke){return ct.IO.get(ci.p).implementationProvider.register(zt,ke)}function ve(zt,ke){return ct.IO.get(ci.p).typeDefinitionProvider.register(zt,ke)}function $e(zt,ke){return ct.IO.get(ci.p).codeLensProvider.register(zt,ke)}function At(zt,ke,tt){return ct.IO.get(ci.p).codeActionProvider.register(zt,{providedCodeActionKinds:tt?.providedCodeActionKinds,documentation:tt?.documentation,provideCodeActions:(Jt,_n,yn,Rn)=>{const Zn=ct.IO.get(V.lT).read({resource:Jt.uri}).filter(ei=>W.e.areIntersectingOrTouching(ei,_n));return ke.provideCodeActions(Jt,_n,{markers:Zn,only:yn.only,trigger:yn.trigger},Rn)},resolveCodeAction:ke.resolveCodeAction})}function Nt(zt,ke){return ct.IO.get(ci.p).documentFormattingEditProvider.register(zt,ke)}function on(zt,ke){return ct.IO.get(ci.p).documentRangeFormattingEditProvider.register(zt,ke)}function Ln(zt,ke){return ct.IO.get(ci.p).onTypeFormattingEditProvider.register(zt,ke)}function Jn(zt,ke){return ct.IO.get(ci.p).linkProvider.register(zt,ke)}function vi(zt,ke){return ct.IO.get(ci.p).completionProvider.register(zt,ke)}function Mi(zt,ke){return ct.IO.get(ci.p).colorProvider.register(zt,ke)}function Ro(zt,ke){return ct.IO.get(ci.p).foldingRangeProvider.register(zt,ke)}function Xo(zt,ke){return ct.IO.get(ci.p).declarationProvider.register(zt,ke)}function zo(zt,ke){return ct.IO.get(ci.p).selectionRangeProvider.register(zt,ke)}function js(zt,ke){return ct.IO.get(ci.p).documentSemanticTokensProvider.register(zt,ke)}function wr(zt,ke){return ct.IO.get(ci.p).documentRangeSemanticTokensProvider.register(zt,ke)}function Dr(zt,ke){return ct.IO.get(ci.p).inlineCompletionsProvider.register(zt,ke)}function ea(zt,ke){return ct.IO.get(ci.p).inlayHintsProvider.register(zt,ke)}var al,vl=e(84834),hd=e(10590);s.BH.wrappingIndent.defaultValue=0,s.BH.glyphMargin.defaultValue=!1,s.BH.autoIndent.defaultValue=3,s.BH.overviewRulerLanes.defaultValue=2,hd.xC.setFormatterSelector((zt,ke,tt)=>Promise.resolve(zt[0]));const or=(0,t.O)();or.editor=function Ir(){return{create:ne,getEditors:It,getDiffEditors:ln,onDidCreateEditor:Ne,onDidCreateDiffEditor:at,createDiffEditor:pn,createDiffNavigator:Sn,addCommand:Vn,addEditorAction:gi,addKeybindingRule:Di,addKeybindingRules:Ai,createModel:ui,setModelLanguage:lo,setModelMarkers:Hi,getModelMarkers:fo,removeAllMarkers:Fo,onDidChangeMarkers:bo,getModels:ns,getModel:_s,onDidCreateModel:Go,onWillDisposeModel:nr,onDidChangeModelLanguage:fs,createWebWorker:Zs,colorizeElement:os,colorize:Bs,colorizeModelLine:Ms,tokenize:qs,defineTheme:jr,setTheme:Kr,remeasureFonts:Sr,registerCommand:Ws,AccessibilitySupport:xe.ao,ContentWidgetPositionPreference:xe.r3,CursorChangeReason:xe.Vi,DefaultEndOfLine:xe._x,EditorAutoIndentStrategy:xe.rf,EditorOption:xe.wT,EndOfLinePreference:xe.gm,EndOfLineSequence:xe.jl,MinimapPosition:xe.F5,MouseTargetType:xe.MG,OverlayWidgetPositionPreference:xe.E$,OverviewRulerLane:xe.sh,RenderLineNumbersType:xe.Lu,RenderMinimap:xe.vQ,ScrollbarVisibility:xe.g_,ScrollType:xe.g4,TextEditorCursorBlinkingStyle:xe.In,TextEditorCursorStyle:xe.d2,TrackedRangeStickiness:xe.OI,WrappingIndent:xe.up,InjectedTextCursorStops:xe.RM,PositionAffinity:xe.py,ConfigurationChangedEvent:s.Bb,BareFontInfo:N.E4,FontInfo:N.pR,TextModelResolvedOptions:K.dJ,FindMatch:K.tk,ApplyUpdateResult:s.rk,EditorType:O.g,EditorOptions:s.BH}}(),or.languages=function ca(){return{register:zr,getLanguages:ar,onLanguage:Yi,getEncodedLanguageId:Us,setLanguageConfiguration:fr,setColorMap:$r,registerTokensProviderFactory:Vo,setTokensProvider:Ds,setMonarchTokensProvider:ws,registerReferenceProvider:Es,registerRenameProvider:gs,registerCompletionItemProvider:vi,registerSignatureHelpProvider:Cs,registerHoverProvider:Js,registerDocumentSymbolProvider:Wr,registerDocumentHighlightProvider:Ia,registerLinkedEditingRangeProvider:cr,registerDefinitionProvider:Nn,registerImplementationProvider:le,registerTypeDefinitionProvider:ve,registerCodeLensProvider:$e,registerCodeActionProvider:At,registerDocumentFormattingEditProvider:Nt,registerDocumentRangeFormattingEditProvider:on,registerOnTypeFormattingEditProvider:Ln,registerLinkProvider:Jn,registerColorProvider:Mi,registerFoldingRangeProvider:Ro,registerDeclarationProvider:Xo,registerSelectionRangeProvider:zo,registerDocumentSemanticTokensProvider:js,registerDocumentRangeSemanticTokensProvider:wr,registerInlineCompletionsProvider:Dr,registerInlayHintsProvider:ea,DocumentHighlightKind:xe.MY,CompletionItemKind:xe.cm,CompletionItemTag:xe.we,CompletionItemInsertTextRule:xe.a7,SymbolKind:xe.cR,SymbolTag:xe.r4,IndentAction:xe.wU,CompletionTriggerKind:xe.Ij,SignatureHelpTriggerKind:xe.WW,InlayHintKind:xe.gl,InlineCompletionTriggerKind:xe.bw,CodeActionTriggerType:xe.np,FoldingRangeKind:$.AD}}();const Mr=or.CancellationTokenSource,Zo=or.Emitter,ja=or.KeyCode,Pr=or.KeyMod,Ar=or.Position,Nr=or.Range,vr=or.Selection,zi=or.SelectionDirection,ll=or.MarkerSeverity,ms=or.MarkerTag,Ka=or.Uri,pa=or.Token,es=or.editor,ta=or.languages;(!(null===(al=vl.li.MonacoEnvironment)||void 0===al)&&al.globalAPI||"function"==typeof define&&e.amdO)&&(self.monaco=or),typeof self.require<"u"&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},79407:(yt,T,e)=>{"use strict";var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(6128),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n)},51024:(yt,T,e)=>{"use strict";var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(52404),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n)},38475:(yt,T,e)=>{"use strict";var s=e(92123),t=e.n(s),l=e(65057),C=e.n(l),f=e(28764),I=e.n(f),b=e(6557),S=e.n(b),D=e(11146),_=e.n(D),r=e(95085),a=e.n(r),u=e(671),n={};n.styleTagTransform=a(),n.setAttributes=S(),n.insert=I().bind(null,"head"),n.domAPI=C(),n.insertStyleElement=_(),t()(u.Z,n)},92123:yt=>{"use strict";var T=[];function e(l){for(var C=-1,f=0;f<T.length;f++)if(T[f].identifier===l){C=f;break}return C}function s(l,C){for(var f={},I=[],b=0;b<l.length;b++){var S=l[b],D=C.base?S[0]+C.base:S[0],_=f[D]||0,r="".concat(D," ").concat(_);f[D]=_+1;var a=e(r),u={css:S[1],media:S[2],sourceMap:S[3],supports:S[4],layer:S[5]};if(-1!==a)T[a].references++,T[a].updater(u);else{var n=t(u,C);C.byIndex=b,T.splice(b,0,{identifier:r,updater:n,references:1})}I.push(r)}return I}function t(l,C){var f=C.domAPI(C);return f.update(l),function(S){if(S){if(S.css===l.css&&S.media===l.media&&S.sourceMap===l.sourceMap&&S.supports===l.supports&&S.layer===l.layer)return;f.update(l=S)}else f.remove()}}yt.exports=function(l,C){var f=s(l=l||[],C=C||{});return function(b){b=b||[];for(var S=0;S<f.length;S++){var _=e(f[S]);T[_].references--}for(var r=s(b,C),a=0;a<f.length;a++){var n=e(f[a]);0===T[n].references&&(T[n].updater(),T.splice(n,1))}f=r}}},28764:yt=>{"use strict";var T={};yt.exports=function s(t,l){var C=function e(t){if(typeof T[t]>"u"){var l=document.querySelector(t);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch{l=null}T[t]=l}return T[t]}(t);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");C.appendChild(l)}},11146:yt=>{"use strict";yt.exports=function T(e){var s=document.createElement("style");return e.setAttributes(s,e.attributes),e.insert(s,e.options),s}},6557:(yt,T,e)=>{"use strict";yt.exports=function s(t){var l=e.nc;l&&t.setAttribute("nonce",l)}},65057:yt=>{"use strict";yt.exports=function s(t){if(typeof document>"u")return{update:function(){},remove:function(){}};var l=t.insertStyleElement(t);return{update:function(f){!function T(t,l,C){var f="";C.supports&&(f+="@supports (".concat(C.supports,") {")),C.media&&(f+="@media ".concat(C.media," {"));var I=typeof C.layer<"u";I&&(f+="@layer".concat(C.layer.length>0?" ".concat(C.layer):""," {")),f+=C.css,I&&(f+="}"),C.media&&(f+="}"),C.supports&&(f+="}");var b=C.sourceMap;b&&typeof btoa<"u"&&(f+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),l.styleTagTransform(f,t,l.options)}(l,t,f)},remove:function(){!function e(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(l)}}}},95085:yt=>{"use strict";yt.exports=function T(e,s){if(s.styleSheet)s.styleSheet.cssText=e;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(e))}}},44336:(yt,T,e)=>{"use strict";e.r(T),e.d(T,{Breakpoint:()=>Mt,CallHierarchyIncomingCall:()=>Tn,CallHierarchyItem:()=>kn,CallHierarchyOutgoingCall:()=>hi,CancellationError:()=>yi,CancellationTokenSource:()=>$i,CodeAction:()=>Ao,CodeActionKind:()=>Wo,CodeActionTriggerKind:()=>Ps,CodeLens:()=>Or,Color:()=>la,ColorInformation:()=>bs,ColorPresentation:()=>Vs,ColorThemeKind:()=>_l,CommentMode:()=>nc,CommentThreadCollapsibleState:()=>kr,CompletionItem:()=>Od,CompletionItemKind:()=>Hc,CompletionItemTag:()=>Vc,CompletionList:()=>Xu,CompletionTriggerKind:()=>Ju,ConfigurationTarget:()=>qu,CustomExecution:()=>eh,DataTransfer:()=>qf,DataTransferItem:()=>eg,DebugAdapterExecutable:()=>th,DebugAdapterInlineImplementation:()=>nh,DebugAdapterNamedPipeServer:()=>ih,DebugAdapterServer:()=>oh,DebugConfigurationProviderTriggerKind:()=>sh,DebugConsoleMode:()=>rh,DecorationRangeBehavior:()=>ah,Diagnostic:()=>lh,DiagnosticRelatedInformation:()=>dh,DiagnosticSeverity:()=>ch,DiagnosticTag:()=>uh,Disposable:()=>hh,DocumentDropEdit:()=>gg,DocumentHighlight:()=>fh,DocumentHighlightKind:()=>gh,DocumentLink:()=>mh,DocumentSymbol:()=>ph,EndOfLine:()=>_h,EnvironmentVariableMutatorType:()=>vh,EvaluatableExpression:()=>Ch,EventEmitter:()=>wh,ExtensionKind:()=>Dh,ExtensionMode:()=>Eh,FileChangeType:()=>Lh,FileDecoration:()=>Ih,FilePermission:()=>Mh,FileSystemError:()=>Th,FileType:()=>xh,FoldingRange:()=>Ph,FoldingRangeKind:()=>Ah,FunctionBreakpoint:()=>Nh,Hover:()=>Rh,IndentAction:()=>Oh,InlayHint:()=>kf,InlayHintKind:()=>Bf,InlayHintLabelPart:()=>Ff,InlineCompletionItem:()=>fg,InlineCompletionList:()=>ug,InlineCompletionTriggerKind:()=>hg,InlineValueEvaluatableExpression:()=>Sh,InlineValueText:()=>yh,InlineValueVariableLookup:()=>bh,InputBoxValidationSeverity:()=>cg,LanguageStatusSeverity:()=>tg,LinkedEditingRanges:()=>Zf,Location:()=>kh,MarkdownString:()=>Fh,NotebookCellData:()=>Vf,NotebookCellKind:()=>Hf,NotebookCellOutput:()=>Kf,NotebookCellOutputItem:()=>zf,NotebookCellStatusBarAlignment:()=>jf,NotebookCellStatusBarItem:()=>$f,NotebookControllerAffinity:()=>Gf,NotebookData:()=>Uf,NotebookEditorRevealType:()=>mg,NotebookRange:()=>Wf,OverviewRulerLane:()=>Bh,ParameterInformation:()=>Wh,Position:()=>Hh,ProcessExecution:()=>Vh,ProgressLocation:()=>Uh,QuickInputButtons:()=>jh,QuickPickItemKind:()=>ng,Range:()=>Kh,RelativePattern:()=>zh,Selection:()=>$h,SelectionRange:()=>Gh,SemanticTokens:()=>Zh,SemanticTokensBuilder:()=>Qh,SemanticTokensEdit:()=>Yh,SemanticTokensEdits:()=>Xh,SemanticTokensLegend:()=>Jh,ShellExecution:()=>qh,ShellQuoting:()=>ef,SignatureHelp:()=>tf,SignatureHelpTriggerKind:()=>nf,SignatureInformation:()=>sf,SnippetString:()=>rf,SourceBreakpoint:()=>af,StatusBarAlignment:()=>lf,SymbolInformation:()=>df,SymbolKind:()=>cf,SymbolTag:()=>uf,TabInputCustom:()=>sg,TabInputNotebook:()=>rg,TabInputNotebookDiff:()=>ag,TabInputTerminal:()=>dg,TabInputText:()=>ig,TabInputTextDiff:()=>og,TabInputWebview:()=>lg,Task:()=>hf,TaskGroup:()=>ff,TaskPanelKind:()=>gf,TaskRevealKind:()=>mf,TaskScope:()=>pf,TerminalLink:()=>_f,TerminalLocation:()=>vf,TerminalProfile:()=>Cf,TestMessage:()=>Yf,TestRunProfileKind:()=>Jf,TestRunRequest:()=>Qf,TestTag:()=>Xf,TextDocumentChangeReason:()=>Lf,TextDocumentSaveReason:()=>yf,TextEdit:()=>bf,TextEditorCursorStyle:()=>Sf,TextEditorLineNumbersStyle:()=>wf,TextEditorRevealType:()=>Df,TextEditorSelectionChangeKind:()=>Ef,ThemeColor:()=>If,ThemeIcon:()=>Tf,TreeItem:()=>xf,TreeItemCollapsibleState:()=>Mf,TypeHierarchyItem:()=>Pf,UIKind:()=>Af,Uri:()=>Nf,ViewColumn:()=>Rf,WorkspaceEdit:()=>Of,authentication:()=>Fc,commands:()=>je,comments:()=>du,debug:()=>Oc,env:()=>Wc,extensions:()=>kc,languages:()=>Ve,notebooks:()=>Nc,scm:()=>Rc,tasks:()=>Ac,tests:()=>Bc,version:()=>Pc,window:()=>B,workspace:()=>G});var s=e(78450),t=e(8424),l=e(63896),C=e(52236),f=e(30125),I=e(3219),b=e(56740),S=e(14940),D=e(40703),_=e(22070),r=e(77697),a=e(98225),u=e(63312),n=e(32418),d=e(42766),y=e(79388),g=e(80618),v=e(48235),m=e(82941),w=e(67005),E=e(28554),L=e(30888),x=e(96109),A=e(57908),k=e(21576),W=e(15729),H=e(34468),z=e(34059),N=e(9590),O=e(31864),K=e(1200),$=e(41883),j=e(71943),q=e(26476),R=e(92132),Z=e(38022),J=e(91729),Ce=e(14089),Se=e(16741),Ie=e(83916),xe=e(83310),Me=e(21156),Oe=e(34474),se=e(36608),ce=e(26109),Ee=e(37304),me=e(97953),Pe=e(12375),he=e(44378),Fe=e(80607),Ze=e(42700),ze=e(22211),fe=e(61777),Ke=e(83872),Je=e(35707),vt=e(84834),Et=e(59129),Xe=e(90517),re=e(72354),pe=e(2592),ge=e(11739),de=e(60896),Q=e(21611),ye=e(38128),Ae=e(90062),ft=e(82761),dt=e(59961),it=e(78668),et=e(10664),st=e(64050),St=e(44753),mt=e(29390),bt=e(15333),Bt=e(13154),Lt=e(158),Ye=e(54439),Tt=e(60828),qt=e(56767),Ot=e(25468),Ft=e(84783),rt=e(90963),Le=e(64455);const ie=y.CancellationTokenSource;function te(be){return(0,b.q)(be,!0)}const we=new class oe{constructor(o){this._ignorePathCasing=o}compare(o,p,P=!1){return o===p?0:(0,r.qu)(this.getComparisonKey(o,P),this.getComparisonKey(p,P))}isEqual(o,p,P=!1){return o===p||!(!o||!p)&&this.getComparisonKey(o,P)===this.getComparisonKey(p,P)}getComparisonKey(o,p=!1){return o.with({path:this._ignorePathCasing(o)?o.path.toLowerCase():void 0,fragment:p?null:void 0}).toString()}ignorePathCasing(o){return this._ignorePathCasing(o)}isEqualOrParent(o,p,P=!1){if(o.scheme===p.scheme){if(o.scheme===z.lg.file)return(0,Je.KM)(te(o),te(p),this._ignorePathCasing(o))&&o.query===p.query&&(P||o.fragment===p.fragment);if(He(o.authority,p.authority))return(0,Je.KM)(o.path,p.path,this._ignorePathCasing(o),"/")&&o.query===p.query&&(P||o.fragment===p.fragment)}return!1}joinPath(o,...p){return b.o.joinPath(o,...p)}basenameOrAuthority(o){return nt(o)||o.authority}basename(o){return Ke.KR.basename(o.path)}extname(o){return Ke.KR.extname(o.path)}dirname(o){if(0===o.path.length)return o;let p;return o.scheme===z.lg.file?p=b.o.file((0,Ke.XX)(te(o))).path:(p=Ke.KR.dirname(o.path),o.authority&&p.length&&47!==p.charCodeAt(0)&&(console.error(`dirname("${o.toString})) resulted in a relative path`),p="/")),o.with({path:p})}normalizePath(o){if(!o.path.length)return o;let p;return p=o.scheme===z.lg.file?b.o.file((0,Ke.Fv)(te(o))).path:Ke.KR.normalize(o.path),o.with({path:p})}relativePath(o,p){if(o.scheme!==p.scheme||!He(o.authority,p.authority))return;if(o.scheme===z.lg.file){const ae=(0,Ke.Gf)(te(o),te(p));return vt.ED?(0,Je.ej)(ae):ae}let P=o.path||"/";const Y=p.path||"/";if(this._ignorePathCasing(o)){let ae=0;for(const We=Math.min(P.length,Y.length);ae<We&&(P.charCodeAt(ae)===Y.charCodeAt(ae)||P.charAt(ae).toLowerCase()===Y.charAt(ae).toLowerCase());ae++);P=Y.substr(0,ae)+P.substr(ae)}return Ke.KR.relative(P,Y)}resolvePath(o,p){if(o.scheme===z.lg.file){const P=b.o.file((0,Ke.DB)(te(o),p));return o.with({authority:P.authority,path:P.path})}return p=(0,Je.fn)(p),o.with({path:Ke.KR.resolve(o.path,p)})}isAbsolutePath(o){return!!o.path&&"/"===o.path[0]}isEqualAuthority(o,p){return o===p||void 0!==o&&void 0!==p&&(0,r.qq)(o,p)}hasTrailingPathSeparator(o,p=Ke.ir){if(o.scheme===z.lg.file){const P=te(o);return P.length>(0,Je.yj)(P).length&&P[P.length-1]===p}{const P=o.path;return P.length>1&&47===P.charCodeAt(P.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(o.fsPath)}}removeTrailingPathSeparator(o,p=Ke.ir){return De(o,p)?o.with({path:o.path.substr(0,o.path.length-1)}):o}addTrailingPathSeparator(o,p=Ke.ir){let P=!1;if(o.scheme===z.lg.file){const Y=te(o);P=void 0!==Y&&Y.length===(0,Je.yj)(Y).length&&Y[Y.length-1]===p}else{p="/";const Y=o.path;P=1===Y.length&&47===Y.charCodeAt(Y.length-1)}return P||De(o,p)?o:o.with({path:o.path+"/"})}}(()=>!1);we.isEqual.bind(we),we.isEqualOrParent.bind(we),we.getComparisonKey.bind(we),we.basenameOrAuthority.bind(we);const nt=we.basename.bind(we);we.extname.bind(we),we.dirname.bind(we),we.joinPath.bind(we),we.normalizePath.bind(we),we.relativePath.bind(we),we.resolvePath.bind(we),we.isAbsolutePath.bind(we);const He=we.isEqualAuthority.bind(we),De=we.hasTrailingPathSeparator.bind(we);we.removeTrailingPathSeparator.bind(we),we.addTrailingPathSeparator.bind(we);const lt=y.Range,Ht=y.languages.FoldingRangeKind,ut="vscode://schemas/settings/resourceLanguage",Kn=Ot.B.as(Ft.I.JSONContribution),li="\\[([^\\]]+)\\]",fi=new RegExp(li,"g"),_i=new RegExp(`^(${li})+$`);function Xi(be){const o=[];if(_i.test(be)){let p=fi.exec(be);for(;p?.length;){const P=p[1].trim();P&&o.push(P),p=fi.exec(be)}}return(0,S.EB)(o)}const oo=new class Gn{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new l.E,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new l.E,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:(0,K.NC)("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Kn.registerSchema(ut,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(o,p=!0){this.registerConfigurations([o],p)}registerConfigurations(o,p=!0){const P=this.doRegisterConfigurations(o,p);Kn.registerSchema(ut,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:P})}deregisterConfigurations(o){const p=this.doDeregisterConfigurations(o);Kn.registerSchema(ut,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:p})}updateConfigurations({add:o,remove:p}){const P=[];P.push(...this.doDeregisterConfigurations(p)),P.push(...this.doRegisterConfigurations(o,!1)),Kn.registerSchema(ut,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:(0,S.EB)(P)})}registerDefaultConfigurations(o){const p=[],P=[];for(const{overrides:Y,source:ae}of o)for(const We in Y)if(p.push(We),_i.test(We)){const ot=this.configurationDefaultsOverrides.get(We),Rt=ot?.valuesSources??new Map;if(ae)for(const wi of Object.keys(Y[We]))Rt.set(wi,ae);const mn={...ot?.value||{},...Y[We]};this.configurationDefaultsOverrides.set(We,{source:ae,value:mn,valuesSources:Rt});const Fn=(0,qt.UI)(We),di={type:"object",default:mn,description:(0,K.NC)("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Fn),$ref:ut,defaultDefaultValue:mn,source:(0,_.HD)(ae)?void 0:ae,defaultValueSource:ae};P.push(...Xi(We)),this.configurationProperties[We]=di,this.defaultLanguageConfigurationOverridesNode.properties[We]=di}else{this.configurationDefaultsOverrides.set(We,{value:Y[We],source:ae});const ot=this.configurationProperties[We];ot&&(this.updatePropertyDefaultValue(We,ot),this.updateSchema(We,ot))}this.registerOverrideIdentifiers(P),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:p,defaultsOverrides:!0})}deregisterDefaultConfigurations(o){const p=[];for(const{overrides:P,source:Y}of o)for(const ae in P){const We=this.configurationDefaultsOverrides.get(ae);if(((0,_.HD)(Y)?Y:Y?.id)===((0,_.HD)(We?.source)?We?.source:We?.source?.id))if(p.push(ae),this.configurationDefaultsOverrides.delete(ae),_i.test(ae))delete this.configurationProperties[ae],delete this.defaultLanguageConfigurationOverridesNode.properties[ae];else{const mn=this.configurationProperties[ae];mn&&(this.updatePropertyDefaultValue(ae,mn),this.updateSchema(ae,mn))}}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:p,defaultsOverrides:!0})}notifyConfigurationSchemaUpdated(...o){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(o){for(const p of o)this.overrideIdentifiers.add(p);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(o,p){const P=[];return o.forEach(Y=>{P.push(...this.validateAndRegisterProperties(Y,p,Y.extensionInfo,Y.restrictedProperties)),this.configurationContributors.push(Y),this.registerJSONConfiguration(Y)}),P}doDeregisterConfigurations(o){const p=[],P=Y=>{if(Y.properties)for(const ae in Y.properties){p.push(ae);const We=this.configurationProperties[ae];We?.policy?.name&&this.policyConfigurations.delete(We.policy.name),delete this.configurationProperties[ae],this.removeFromSchema(ae,Y.properties[ae])}Y.allOf?.forEach(ae=>P(ae))};for(const Y of o){P(Y);const ae=this.configurationContributors.indexOf(Y);-1!==ae&&this.configurationContributors.splice(ae,1)}return p}validateAndRegisterProperties(o,p=!0,P,Y,ae=3){ae=(0,_.Jp)(o.scope)?ae:o.scope;const We=[],ot=o.properties;if(ot)for(const mn in ot){const Fn=ot[mn];p&&yo(mn,Fn)?delete ot[mn]:(Fn.source=P,Fn.defaultDefaultValue=ot[mn].default,this.updatePropertyDefaultValue(mn,Fn),_i.test(mn)?Fn.scope=void 0:(Fn.scope=(0,_.Jp)(Fn.scope)?ae:Fn.scope,Fn.restricted=(0,_.Jp)(Fn.restricted)?!!Y?.includes(mn):Fn.restricted),!ot[mn].hasOwnProperty("included")||ot[mn].included?(this.configurationProperties[mn]=ot[mn],ot[mn].policy?.name&&this.policyConfigurations.set(ot[mn].policy.name,mn),!ot[mn].deprecationMessage&&ot[mn].markdownDeprecationMessage&&(ot[mn].deprecationMessage=ot[mn].markdownDeprecationMessage),We.push(mn)):(this.excludedConfigurationProperties[mn]=ot[mn],delete ot[mn]))}const Rt=o.allOf;if(Rt)for(const mn of Rt)We.push(...this.validateAndRegisterProperties(mn,p,P,Y,ae));return We}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getConfigurationDefaultsOverrides(){return this.configurationDefaultsOverrides}registerJSONConfiguration(o){const p=P=>{const Y=P.properties;if(Y)for(const We in Y)this.updateSchema(We,Y[We]);P.allOf?.forEach(p)};p(o)}updateSchema(o,p){switch(p.scope){case 1:case 2:case 6:case 3:case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[o]=p}}removeFromSchema(o,p){switch(p.scope){case 1:case 2:case 6:case 3:break;case 4:case 5:delete this.resourceLanguageSettingsSchema.properties[o]}}updateOverridePropertyPatternKey(){for(const o of this.overrideIdentifiers.values()){const p=`[${o}]`,P={type:"object",description:(0,K.NC)("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:(0,K.NC)("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:ut};this.updatePropertyDefaultValue(p,P)}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){this._onDidSchemaChange.fire()}updatePropertyDefaultValue(o,p){const P=this.configurationDefaultsOverrides.get(o);let Y=P?.value,ae=P?.source;(0,_.o8)(Y)&&(Y=p.defaultDefaultValue,ae=void 0),(0,_.o8)(Y)&&(Y=function vo(be){switch(Array.isArray(be)?be[0]:be){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(p.type)),p.default=Y,p.defaultValueSource=ae}};function yo(be,o){return be.trim()?_i.test(be)?(0,K.NC)("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",be):void 0!==oo.getConfigurationProperties()[be]?(0,K.NC)("config.property.duplicate","Cannot register '{0}'. This property is already registered.",be):o.policy?.name&&void 0!==oo.getPolicyConfigurations().get(o.policy?.name)?(0,K.NC)("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",be,o.policy?.name,oo.getPolicyConfigurations().get(o.policy?.name)):null:(0,K.NC)("config.property.empty","Cannot register an empty property")}const oi=y.Position,Dt=/^(.+)\/(.+?)(;.+)?$/;function $t(be,o){const p=Dt.exec(be);return p?`${p[1].toLowerCase()}/${p[2].toLowerCase()}${p[3]??""}`:o?void 0:be}const tn=d.T.marked;class Pn{constructor(){this._next=0}getNext(){return this._next++}}var Hn,zn,bi,Ei,ao,Oi,Qi,Wi,xo,ro,Co,Mo,Oo,ko,so,Do,Ho,ni,Zt,sn,dn,Bn;function An(be){function o(){return Reflect.construct(be,arguments,this.constructor)}return Object.defineProperty(o,"name",Object.getOwnPropertyDescriptor(be,"name")),Object.setPrototypeOf(o,be),Object.setPrototypeOf(o.prototype,be.prototype),o}let un=Oi=class{constructor(o){Hn.set(this,void 0),(0,l.c)(this,Hn,o,"f")}static from(...o){let p=o;return new Oi(function(){if(p){for(const P of p)P&&"function"==typeof P.dispose&&P.dispose();p=void 0}})}dispose(){"function"==typeof(0,l.d)(this,Hn,"f")&&((0,l.d)(this,Hn,"f").call(this),(0,l.c)(this,Hn,void 0,"f"))}};Hn=new WeakMap,un=Oi=(0,l._)([An],un);let ht=Qi=class{constructor(o,p){if(o<0)throw(0,I.b1)("line must be non-negative");if(p<0)throw(0,I.b1)("character must be non-negative");this._line=o,this._character=p}static Min(...o){if(0===o.length)throw new TypeError;let p=o[0];for(let P=1;P<o.length;P++){const Y=o[P];Y.isBefore(p)&&(p=Y)}return p}static Max(...o){if(0===o.length)throw new TypeError;let p=o[0];for(let P=1;P<o.length;P++){const Y=o[P];Y.isAfter(p)&&(p=Y)}return p}static isPosition(o){if(!o)return!1;if(o instanceof Qi)return!0;const{line:p,character:P}=o;return"number"==typeof p&&"number"==typeof P}static of(o){if(o instanceof Qi)return o;if(this.isPosition(o))return new Qi(o.line,o.character);throw new Error("Invalid argument, is NOT a position-like object")}get line(){return this._line}get character(){return this._character}isBefore(o){return this._line<o._line||!(o._line<this._line)&&this._character<o._character}isBeforeOrEqual(o){return this._line<o._line||!(o._line<this._line)&&this._character<=o._character}isAfter(o){return!this.isBeforeOrEqual(o)}isAfterOrEqual(o){return!this.isBefore(o)}isEqual(o){return this._line===o._line&&this._character===o._character}compareTo(o){return this._line<o._line?-1:this._line>o.line?1:this._character<o._character?-1:this._character>o._character?1:0}translate(o,p=0){if(null===o||null===p)throw(0,I.b1)();let P;return typeof o>"u"?P=0:"number"==typeof o?P=o:(P="number"==typeof o.lineDelta?o.lineDelta:0,p="number"==typeof o.characterDelta?o.characterDelta:0),0===P&&0===p?this:new Qi(this.line+P,this.character+p)}with(o,p=this.character){if(null===o||null===p)throw(0,I.b1)();let P;return typeof o>"u"?P=this.line:"number"==typeof o?P=o:(P="number"==typeof o.line?o.line:this.line,p="number"==typeof o.character?o.character:this.character),P===this.line&&p===this.character?this:new Qi(P,p)}toJSON(){return{line:this.line,character:this.character}}};ht=Qi=(0,l._)([An],ht);let Kt=Wi=class{constructor(o,p,P,Y){let ae,We;if("number"==typeof o&&"number"==typeof p&&"number"==typeof P&&"number"==typeof Y?(ae=new ht(o,p),We=new ht(P,Y)):ht.isPosition(o)&&ht.isPosition(p)&&(ae=ht.of(o),We=ht.of(p)),!ae||!We)throw new Error("Invalid arguments");ae.isBefore(We)?(this._start=ae,this._end=We):(this._start=We,this._end=ae)}static isRange(o){return o instanceof Wi||!!o&&ht.isPosition(o.start)&&ht.isPosition(o.end)}static of(o){if(o instanceof Wi)return o;if(this.isRange(o))return new Wi(o.start,o.end);throw new Error("Invalid argument, is NOT a range-like object")}get start(){return this._start}get end(){return this._end}contains(o){return Wi.isRange(o)?this.contains(o.start)&&this.contains(o.end):!!ht.isPosition(o)&&!(ht.of(o).isBefore(this._start)||this._end.isBefore(o))}isEqual(o){return this._start.isEqual(o._start)&&this._end.isEqual(o._end)}intersection(o){const p=ht.Max(o.start,this._start),P=ht.Min(o.end,this._end);if(!p.isAfter(P))return new Wi(p,P)}union(o){if(this.contains(o))return this;if(o.contains(this))return o;const p=ht.Min(o.start,this._start),P=ht.Max(o.end,this.end);return new Wi(p,P)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(o,p=this.end){if(null===o||null===p)throw(0,I.b1)();let P;return o?ht.isPosition(o)?P=o:(P=o.start||this.start,p=o.end||this.end):P=this.start,P.isEqual(this._start)&&p.isEqual(this.end)?this:new Wi(P,p)}toJSON(){return[this.start,this.end]}};Kt=Wi=(0,l._)([An],Kt);let nn=xo=class extends Kt{constructor(o,p,P,Y){let ae,We;if("number"==typeof o&&"number"==typeof p&&"number"==typeof P&&"number"==typeof Y?(ae=new ht(o,p),We=new ht(P,Y)):ht.isPosition(o)&&ht.isPosition(p)&&(ae=ht.of(o),We=ht.of(p)),!ae||!We)throw new Error("Invalid arguments");super(ae,We),this._anchor=ae,this._active=We}static isSelection(o){return o instanceof xo||!!o&&Kt.isRange(o)&&ht.isPosition(o.anchor)&&ht.isPosition(o.active)&&"boolean"==typeof o.isReversed}get anchor(){return this._anchor}get active(){return this._active}get isReversed(){return this._anchor===this._end}toJSON(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}};nn=xo=(0,l._)([An],nn);var Dn=(()=>{return(be=Dn||(Dn={}))[be.LF=1]="LF",be[be.CRLF=2]="CRLF",Dn;var be})(),In=(()=>((In=In||{})[In.Replace=1]="Replace",In[In.Append=2]="Append",In[In.Prepend=3]="Prepend",In))();let bn=ro=class{constructor(o,p){this._range=o,this._newText=p}static isTextEdit(o){return o instanceof ro||!!o&&Kt.isRange(o)&&"string"==typeof o.newText}static replace(o,p){return new ro(o,p)}static insert(o,p){return ro.replace(new Kt(o,o),p)}static delete(o){return ro.replace(o,"")}static setEndOfLine(o){const p=new ro(new Kt(new ht(0,0),new ht(0,0)),"");return p.newEol=o,p}get range(){return this._range}set range(o){if(o&&!Kt.isRange(o))throw(0,I.b1)("range");this._range=o}get newText(){return this._newText||""}set newText(o){if(o&&"string"!=typeof o)throw(0,I.b1)("newText");this._newText=o}get newEol(){return this._newEol}set newEol(o){if(o&&"number"!=typeof o)throw(0,I.b1)("newEol");this._newEol=o}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};bn=ro=(0,l._)([An],bn);let Ct=Co=class{constructor(o,p){this.range=o,this.newCells=p}static isNotebookCellEdit(o){return o instanceof Co||!!o&&cr.isNotebookRange(o)&&Array.isArray(o.newCells)}static replaceCells(o,p){return new Co(o,p)}static insertCells(o,p){return new Co(new cr(o,o),p)}static deleteCells(o){return new Co(o,[])}static updateCellMetadata(o,p){const P=new Co(new cr(o,o),[]);return P.newCellMetadata=p,P}static updateNotebookMetadata(o){const p=new Co(new cr(0,0),[]);return p.newNotebookMetadata=o,p}};Ct=Co=(0,l._)([An],Ct);let Wt=class{constructor(){this._edits=[]}_allEntries(){return this._edits}renameFile(o,p,P,Y){this._edits.push({_type:1,from:o,to:p,options:P,metadata:Y})}createFile(o,p,P){this._edits.push({_type:1,from:void 0,to:o,options:p,metadata:P})}deleteFile(o,p,P){this._edits.push({_type:1,from:o,to:void 0,options:p,metadata:P})}replaceNotebookMetadata(o,p,P){this._edits.push({_type:3,metadata:P,uri:o,edit:{editType:5,metadata:p},notebookMetadata:p})}replaceNotebookCells(o,p,P,Y,ae){let We,ot,mn,Rt=[];if(cr.isNotebookRange(p)&&Nn.isNotebookCellDataArray(P)&&!Nn.isNotebookCellDataArray(Y)?(We=p.start,ot=p.end,Rt=P,mn=Y):"number"==typeof p&&"number"==typeof P&&Nn.isNotebookCellDataArray(Y)&&(We=p,ot=P,Rt=Y,mn=ae),void 0===We||void 0===ot)throw new Error("Invalid arguments");(We!==ot||Rt.length>0)&&this._edits.push({_type:5,uri:o,index:We,count:ot-We,cells:Rt,metadata:mn})}replaceNotebookCellMetadata(o,p,P,Y){this._edits.push({_type:3,metadata:Y,uri:o,edit:{editType:8,index:p,metadata:P}})}replace(o,p,P,Y){this._edits.push("string"==typeof P?{_type:2,uri:o,edit:new bn(p,P),metadata:Y}:{_type:6,uri:o,range:p,edit:P,metadata:Y})}insert(o,p,P,Y){this.replace(o,new Kt(p,p),P,Y)}delete(o,p,P){this.replace(o,p,"",P)}has(o){return this._edits.some(p=>2===p._type&&p.uri.toString()===o.toString())}set(o,p){if(p)for(const P of p)P&&(Ct.isNotebookCellEdit(P)?P.newCellMetadata?this.replaceNotebookCellMetadata(o,P.range.start,P.newCellMetadata):P.newNotebookMetadata?this.replaceNotebookMetadata(o,P.newNotebookMetadata):this.replaceNotebookCells(o,P.range,P.newCells):this._edits.push({_type:2,uri:o,edit:P}));else{for(let P=0;P<this._edits.length;P++){const Y=this._edits[P];2===Y._type&&Y.uri.toString()===o.toString()&&(this._edits[P]=void 0)}(0,t.v)(this._edits)}}get(o){const p=[];for(const P of this._edits)2===P._type&&P.uri.toString()===o.toString()&&p.push(P.edit);return p}entries(){const o=new u.Y9;for(const p of this._edits)if(2===p._type){let P=o.get(p.uri);P||(P=[p.uri,[]],o.set(p.uri,P)),P[1].push(p.edit)}return[...o.values()]}get size(){return this.entries().length}toJSON(){return this.entries()}};Wt=(0,l._)([An],Wt);let jt=Mo=class{constructor(o){this._tabstop=1,this.value=o||""}static isSnippetString(o){return o instanceof Mo||!!o&&"string"==typeof o.value}static _escape(o){return o.replace(/\$|}|\\/g,"\\$&")}appendText(o){return this.value+=Mo._escape(o),this}appendTabstop(o=this._tabstop++){return this.value+="$",this.value+=o,this}appendPlaceholder(o,p=this._tabstop++){if("function"==typeof o){const P=new Mo;P._tabstop=this._tabstop,o(P),this._tabstop=P._tabstop,o=P.value}else o=Mo._escape(o);return this.value+="${",this.value+=p,this.value+=":",this.value+=o,this.value+="}",this}appendChoice(o,p=this._tabstop++){const P=o.map(Y=>Y.replace(/\$|}|\\|,/g,"\\$&")).join(",");return this.value+="${",this.value+=p,this.value+="|",this.value+=P,this.value+="|}",this}appendVariable(o,p){if("function"==typeof p){const P=new Mo;P._tabstop=this._tabstop,p(P),this._tabstop=P._tabstop,p=P.value}else"string"==typeof p&&(p=p.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=o,p&&(this.value+=":",this.value+=p),this.value+="}",this}};jt=Mo=(0,l._)([An],jt);var Yt=(()=>{return(be=Yt||(Yt={}))[be.Unnecessary=1]="Unnecessary",be[be.Deprecated=2]="Deprecated",Yt;var be})(),gn=(()=>{return(be=gn||(gn={}))[be.Hint=3]="Hint",be[be.Information=2]="Information",be[be.Warning=1]="Warning",be[be.Error=0]="Error",gn;var be})();let Be=Oo=class{constructor(o,p){if(this.uri=o,p)if(Kt.isRange(p))this.range=Kt.of(p);else{if(!ht.isPosition(p))throw new Error("Illegal argument");this.range=new Kt(p,p)}}static isLocation(o){return o instanceof Oo||!!o&&Kt.isRange(o.range)&&b.o.isUri(o.uri)}toJSON(){return{uri:this.uri,range:this.range}}};Be=Oo=(0,l._)([An],Be);let _t=class{constructor(o,p){this.location=o,this.message=p}static is(o){return!!o&&"string"==typeof o.message&&o.location&&Kt.isRange(o.location.range)&&b.o.isUri(o.location.uri)}static isEqual(o,p){return o===p||!(!o||!p)&&o.message===p.message&&o.location.range.isEqual(p.location.range)&&o.location.uri.toString()===p.location.uri.toString()}};_t=(0,l._)([An],_t);let vn=class{constructor(o,p,P=gn.Error){if(!Kt.isRange(o))throw new TypeError("range must be set");if(!p)throw new TypeError("message must be set");this.range=o,this.message=p,this.severity=P}toJSON(){return{severity:gn[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}static isEqual(o,p){return o===p||!(!o||!p)&&o.message===p.message&&o.severity===p.severity&&o.code===p.code&&o.severity===p.severity&&o.source===p.source&&o.range.isEqual(p.range)&&(0,S.fS)(o.tags,p.tags)&&(0,S.fS)(o.relatedInformation,p.relatedInformation,_t.isEqual)}};vn=(0,l._)([An],vn);let $n=class{constructor(o,p){if(!o)throw new Error("Illegal argument, contents must be defined");this.contents=Array.isArray(o)?o:[o],this.range=p}};$n=(0,l._)([An],$n);var Pi=(()=>((Pi=Pi||{})[Pi.Text=0]="Text",Pi[Pi.Read=1]="Read",Pi[Pi.Write=2]="Write",Pi))();let Ii=class{constructor(o,p=Pi.Text){this.range=o,this.kind=p}toJSON(){return{range:this.range,kind:Pi[this.kind]}}};Ii=(0,l._)([An],Ii);var ii=(()=>{return(be=ii||(ii={}))[be.File=0]="File",be[be.Module=1]="Module",be[be.Namespace=2]="Namespace",be[be.Package=3]="Package",be[be.Class=4]="Class",be[be.Method=5]="Method",be[be.Property=6]="Property",be[be.Field=7]="Field",be[be.Constructor=8]="Constructor",be[be.Enum=9]="Enum",be[be.Interface=10]="Interface",be[be.Function=11]="Function",be[be.Variable=12]="Variable",be[be.Constant=13]="Constant",be[be.String=14]="String",be[be.Number=15]="Number",be[be.Boolean=16]="Boolean",be[be.Array=17]="Array",be[be.Object=18]="Object",be[be.Key=19]="Key",be[be.Null=20]="Null",be[be.EnumMember=21]="EnumMember",be[be.Struct=22]="Struct",be[be.Event=23]="Event",be[be.Operator=24]="Operator",be[be.TypeParameter=25]="TypeParameter",ii;var be})(),Ut=(()=>{return(be=Ut||(Ut={}))[be.Deprecated=1]="Deprecated",Ut;var be})();let F=ko=class{constructor(o,p,P,Y,ae){this.name=o,this.kind=p,this.containerName=ae,"string"==typeof P&&(this.containerName=P),Y instanceof Be?this.location=Y:P instanceof Kt&&(this.location=new Be(Y,P)),ko.validate(this)}static validate(o){if(!o.name)throw new Error("name must not be falsy")}toJSON(){return{name:this.name,kind:ii[this.kind],location:this.location,containerName:this.containerName}}};F=ko=(0,l._)([An],F);let ee=so=class{constructor(o,p,P,Y,ae){this.name=o,this.detail=p,this.kind=P,this.range=Y,this.selectionRange=ae,this.children=[],so.validate(this)}static validate(o){if(!o.name)throw new Error("name must not be falsy");if(!o.range.contains(o.selectionRange))throw new Error("selectionRange must be contained in fullRange");o.children?.forEach(so.validate)}};ee=so=(0,l._)([An],ee);var _e=(()=>{return(be=_e||(_e={}))[be.Invoke=1]="Invoke",be[be.Automatic=2]="Automatic",_e;var be})();let Qe=class{constructor(o,p){this.title=o,this.kind=p}};Qe=(0,l._)([An],Qe);let qe=Do=class{constructor(o){this.value=o}append(o){return new Do(this.value?this.value+Do.sep+o:o)}intersects(o){return this.contains(o)||o.contains(this)}contains(o){return this.value===o.value||o.value.startsWith(this.value+Do.sep)}};qe.sep=".",qe=Do=(0,l._)([An],qe),qe.Empty=new qe(""),qe.QuickFix=qe.Empty.append("quickfix"),qe.Refactor=qe.Empty.append("refactor"),qe.RefactorExtract=qe.Refactor.append("extract"),qe.RefactorInline=qe.Refactor.append("inline"),qe.RefactorRewrite=qe.Refactor.append("rewrite"),qe.Source=qe.Empty.append("source"),qe.SourceOrganizeImports=qe.Source.append("organizeImports"),qe.SourceFixAll=qe.Source.append("fixAll");let ct=class{constructor(o,p){if(this.range=o,this.parent=p,p&&!p.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};ct=(0,l._)([An],ct);let rn=class{constructor(o,p,P,Y,ae,We){this.kind=o,this.name=p,this.detail=P,this.uri=Y,this.range=ae,this.selectionRange=We}};var En=(()=>((En=En||{})[En.Information=0]="Information",En[En.Warning=1]="Warning",En[En.Error=2]="Error",En))();let xn=class{constructor(o,p){this.range=o,this.command=p}get isResolved(){return!!this.command}};xn=(0,l._)([An],xn);let Wn=Ho=class{constructor(o,p=!1){zn.set(this,void 0),(0,l.c)(this,zn,new n.W5(o,{supportThemeIcons:p}),"f")}static isMarkdownString(o){return o instanceof Ho||o&&o.appendCodeblock&&o.appendMarkdown&&o.appendText&&void 0!==o.value}get value(){return(0,l.d)(this,zn,"f").value}set value(o){(0,l.d)(this,zn,"f").value=o}get isTrusted(){return(0,l.d)(this,zn,"f").isTrusted}set isTrusted(o){(0,l.d)(this,zn,"f").isTrusted=o}get supportThemeIcons(){return(0,l.d)(this,zn,"f").supportThemeIcons}set supportThemeIcons(o){(0,l.d)(this,zn,"f").supportThemeIcons=o}get supportHtml(){return(0,l.d)(this,zn,"f").supportHtml}set supportHtml(o){(0,l.d)(this,zn,"f").supportHtml=o}get baseUri(){return(0,l.d)(this,zn,"f").baseUri}set baseUri(o){(0,l.d)(this,zn,"f").baseUri=o}appendText(o){return(0,l.d)(this,zn,"f").appendText(o),this}appendMarkdown(o){return(0,l.d)(this,zn,"f").appendMarkdown(o),this}appendCodeblock(o,p){return(0,l.d)(this,zn,"f").appendCodeblock(p??"",o),this}};zn=new WeakMap,Wn=Ho=(0,l._)([An],Wn);let Xn=class{constructor(o,p){this.label=o,this.documentation=p}};Xn=(0,l._)([An],Xn);let si=class{constructor(o,p){this.label=o,this.documentation=p,this.parameters=[]}};si=(0,l._)([An],si);let ci=class{constructor(){this.activeSignature=0,this.activeParameter=0,this.signatures=[]}};ci=(0,l._)([An],ci);var Ci=(()=>((Ci=Ci||{})[Ci.Invoke=1]="Invoke",Ci[Ci.TriggerCharacter=2]="TriggerCharacter",Ci[Ci.ContentChange=3]="ContentChange",Ci))(),Li=(()=>{return(be=Li||(Li={}))[be.Type=1]="Type",be[be.Parameter=2]="Parameter",Li;var be})();let Ji=class{constructor(o){this.value=o}};Ji=(0,l._)([An],Ji);let uo=class{constructor(o,p,P){this.position=o,this.label=p,this.kind=P}};uo=(0,l._)([An],uo);var ho=(()=>{return(be=ho||(ho={}))[be.Invoke=0]="Invoke",be[be.TriggerCharacter=1]="TriggerCharacter",be[be.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",ho;var be})(),Ui=(()=>{return(be=Ui||(Ui={}))[be.Text=0]="Text",be[be.Method=1]="Method",be[be.Function=2]="Function",be[be.Constructor=3]="Constructor",be[be.Field=4]="Field",be[be.Variable=5]="Variable",be[be.Class=6]="Class",be[be.Interface=7]="Interface",be[be.Module=8]="Module",be[be.Property=9]="Property",be[be.Unit=10]="Unit",be[be.Value=11]="Value",be[be.Enum=12]="Enum",be[be.Keyword=13]="Keyword",be[be.Snippet=14]="Snippet",be[be.Color=15]="Color",be[be.File=16]="File",be[be.Reference=17]="Reference",be[be.Folder=18]="Folder",be[be.EnumMember=19]="EnumMember",be[be.Constant=20]="Constant",be[be.Struct=21]="Struct",be[be.Event=22]="Event",be[be.Operator=23]="Operator",be[be.TypeParameter=24]="TypeParameter",be[be.User=25]="User",be[be.Issue=26]="Issue",Ui;var be})(),Mn=(()=>{return(be=Mn||(Mn={}))[be.Deprecated=1]="Deprecated",Mn;var be})();let ue=class{constructor(o,p){this.label=o,this.kind=p}toJSON(){return{label:this.label,kind:this.kind&&Ui[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}};ue=(0,l._)([An],ue);let Ge=class{constructor(o=[],p=!1){this.items=o,this.isIncomplete=p}};Ge=(0,l._)([An],Ge);let Re=class{constructor(o,p,P){this.insertText=o,this.range=p,this.command=P}};Re=(0,l._)([An],Re);let V=class{constructor(o){this.commands=void 0,this.items=o}};V=(0,l._)([An],V);var be,ne=(()=>{return(be=ne||(ne={}))[be.Active=-1]="Active",be[be.Beside=-2]="Beside",be[be.One=1]="One",be[be.Two=2]="Two",be[be.Three=3]="Three",be[be.Four=4]="Four",be[be.Five=5]="Five",be[be.Six=6]="Six",be[be.Seven=7]="Seven",be[be.Eight=8]="Eight",be[be.Nine=9]="Nine",ne;var be})(),Ne=(()=>((Ne=Ne||{})[Ne.Left=1]="Left",Ne[Ne.Right=2]="Right",Ne))(),at=(()=>{return(be=at||(at={}))[be.Off=0]="Off",be[be.On=1]="On",be[be.Relative=2]="Relative",at;var be})(),It=(()=>((It=It||{})[It.Manual=1]="Manual",It[It.AfterDelay=2]="AfterDelay",It[It.FocusOut=3]="FocusOut",It))(),ln=(()=>{return(be=ln||(ln={}))[be.Default=0]="Default",be[be.InCenter=1]="InCenter",be[be.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",be[be.AtTop=3]="AtTop",ln;var be})(),pn=(()=>((pn=pn||{})[pn.Keyboard=1]="Keyboard",pn[pn.Mouse=2]="Mouse",pn[pn.Command=3]="Command",pn))(),Sn=(()=>((Sn=Sn||{})[Sn.Undo=1]="Undo",Sn[Sn.Redo=2]="Redo",Sn))(),Vn=(()=>{return(be=Vn||(Vn={}))[be.OpenOpen=0]="OpenOpen",be[be.ClosedClosed=1]="ClosedClosed",be[be.OpenClosed=2]="OpenClosed",be[be.ClosedOpen=3]="ClosedOpen",Vn;var be})();(be=pn||(pn={})).fromValue=function o(p){switch(p){case"keyboard":return be.Keyboard;case"mouse":return be.Mouse;case"api":return be.Command}};let gi=class{constructor(o,p){if(p&&!b.o.isUri(p))throw(0,I.b1)("target");if(!Kt.isRange(o)||o.isEmpty)throw(0,I.b1)("range");this.range=o,this.target=p}};gi=(0,l._)([An],gi);let Di=class{constructor(o,p,P,Y){this.red=o,this.green=p,this.blue=P,this.alpha=Y}};Di=(0,l._)([An],Di);let Ai=class{constructor(o,p){if(p&&!(p instanceof Di))throw(0,I.b1)("color");if(!Kt.isRange(o)||o.isEmpty)throw(0,I.b1)("range");this.range=o,this.color=p}};Ai=(0,l._)([An],Ai);let ui=class{constructor(o){if(!o||"string"!=typeof o)throw(0,I.b1)("label");this.label=o}};ui=(0,l._)([An],ui);var Hi=(()=>((Hi=Hi||{})[Hi.Panel=1]="Panel",Hi[Hi.Editor=2]="Editor",Hi))(),fo=(()=>((fo=fo||{})[fo.Always=1]="Always",fo[fo.Silent=2]="Silent",fo[fo.Never=3]="Never",fo))(),bo=(()=>((bo=bo||{})[bo.Shared=1]="Shared",bo[bo.Dedicated=2]="Dedicated",bo[bo.New=3]="New",bo))();let _s=ni=class{constructor(o,p){if(this.label=p,"string"!=typeof o||"string"!=typeof p)throw(0,I.b1)("name");this._id=o}static from(o){switch(o){case"clean":return ni.Clean;case"build":return ni.Build;case"rebuild":return ni.Rebuild;case"test":return ni.Test;default:return}}get id(){return this._id}};function ns(be){let o="";for(let p=0;p<be.length;p++)o+=be[p].replace(/,/g,",,")+",";return o}_s.Clean=new ni("clean","Clean"),_s.Build=new ni("build","Build"),_s.Rebuild=new ni("rebuild","Rebuild"),_s.Test=new ni("test","Test"),_s=ni=(0,l._)([An],_s);let Go=class{constructor(o,p,P){if("string"!=typeof o)throw(0,I.b1)("process");this._args=[],this._process=o,void 0!==p&&(Array.isArray(p)?(this._args=p,this._options=P):this._options=p)}get process(){return this._process}set process(o){if("string"!=typeof o)throw(0,I.b1)("process");this._process=o}get args(){return this._args}set args(o){Array.isArray(o)||(o=[]),this._args=o}get options(){return this._options}set options(o){this._options=o}computeId(){const o=[];if(o.push("process"),void 0!==this._process&&o.push(this._process),this._args&&this._args.length>0)for(const p of this._args)o.push(p);return ns(o)}};Go=(0,l._)([An],Go);let nr=class{constructor(o,p,P){if(this._args=[],Array.isArray(p)){if(!o)throw(0,I.b1)("command can't be undefined or null");if("string"!=typeof o&&"string"!=typeof o.value)throw(0,I.b1)("command");this._command=o,this._args=p,this._options=P}else{if("string"!=typeof o)throw(0,I.b1)("commandLine");this._commandLine=o,this._options=p}}get commandLine(){return this._commandLine}set commandLine(o){if("string"!=typeof o)throw(0,I.b1)("commandLine");this._commandLine=o}get command(){return this._command?this._command:""}set command(o){if("string"!=typeof o&&"string"!=typeof o.value)throw(0,I.b1)("command");this._command=o}get args(){return this._args}set args(o){this._args=o||[]}get options(){return this._options}set options(o){this._options=o}computeId(){const o=[];if(o.push("shell"),void 0!==this._commandLine&&o.push(this._commandLine),void 0!==this._command&&o.push("string"==typeof this._command?this._command:this._command.value),this._args&&this._args.length>0)for(const p of this._args)o.push("string"==typeof p?p:p.value);return ns(o)}};nr=(0,l._)([An],nr);var fs=(()=>((fs=fs||{})[fs.Escape=1]="Escape",fs[fs.Strong=2]="Strong",fs[fs.Weak=3]="Weak",fs))(),Zs=(()=>((Zs=Zs||{})[Zs.Global=1]="Global",Zs[Zs.Workspace=2]="Workspace",Zs))();class os{constructor(o){this._callback=o}computeId(){return"customExecution"+(0,D.R)()}set callback(o){this._callback=o}get callback(){return this._callback}}let Bs=Zt=class{constructor(o,p,P,Y,ae,We){let ot;this.__deprecated=!1,this._definition=this.definition=o,"string"==typeof p?(this._name=this.name=p,this._source=this.source=P,this.execution=Y,ot=ae,this.__deprecated=!0):(this.target=p,this._name=this.name=P,this._source=this.source=Y,this.execution=ae,ot=We),"string"==typeof ot?(this._problemMatchers=[ot],this._hasDefinedMatchers=!0):Array.isArray(ot)?(this._problemMatchers=ot,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1,this._presentationOptions=Object.create(null),this._runOptions=Object.create(null)}get _id(){return this.__id}set _id(o){this.__id=o}get _deprecated(){return this.__deprecated}clear(){void 0!==this.__id&&(this.__id=void 0,this._scope=void 0,this.computeDefinitionBasedOnExecution())}computeDefinitionBasedOnExecution(){this._definition=this._execution instanceof Go?{type:Zt.ProcessType,id:this._execution.computeId()}:this._execution instanceof nr?{type:Zt.ShellType,id:this._execution.computeId()}:this._execution instanceof os?{type:Zt.ExtensionCallbackType,id:this._execution.computeId()}:{type:Zt.EmptyType,id:(0,D.R)()}}get definition(){return this._definition}set definition(o){if(null==o)throw(0,I.b1)("Kind can't be undefined or null");this.clear(),this._definition=o}get scope(){return this._scope}set target(o){this.clear(),this._scope=o}get name(){return this._name}set name(o){if("string"!=typeof o)throw(0,I.b1)("name");this.clear(),this._name=o}get execution(){return this._execution}set execution(o){null===o&&(o=void 0),this.clear(),this._execution=o;const p=this._definition.type;(Zt.EmptyType===p||Zt.ProcessType===p||Zt.ShellType===p||Zt.ExtensionCallbackType===p)&&this.computeDefinitionBasedOnExecution()}get problemMatchers(){return this._problemMatchers}set problemMatchers(o){if(!Array.isArray(o))return this.clear(),this._problemMatchers=[],void(this._hasDefinedMatchers=!1);this.clear(),this._problemMatchers=o,this._hasDefinedMatchers=!0}get hasDefinedMatchers(){return this._hasDefinedMatchers}get isBackground(){return this._isBackground}set isBackground(o){!0!==o&&!1!==o&&(o=!1),this.clear(),this._isBackground=o}get source(){return this._source}set source(o){if("string"!=typeof o||0===o.length)throw(0,I.b1)("source must be a string of length > 0");this.clear(),this._source=o}get group(){return this._group}set group(o){null===o&&(o=void 0),this.clear(),this._group=o}get detail(){return this._detail}set detail(o){null===o&&(o=void 0),this._detail=o}get presentationOptions(){return this._presentationOptions}set presentationOptions(o){null==o&&(o=Object.create(null)),this.clear(),this._presentationOptions=o}get runOptions(){return this._runOptions}set runOptions(o){null==o&&(o=Object.create(null)),this.clear(),this._runOptions=o}};Bs.ExtensionCallbackType="customExecution",Bs.ProcessType="process",Bs.ShellType="shell",Bs.EmptyType="$empty",Bs=Zt=(0,l._)([An],Bs);var Ms=(()=>(function(be){be[be.SourceControl=1]="SourceControl",be[be.Window=10]="Window",be[be.Notification=15]="Notification"}(Ms||(Ms={})),Ms))();let Ns=sn=class{constructor(o,p=qs.None){this.collapsibleState=p,b.o.isUri(o)?this.resourceUri=o:this.label=o}static isTreeItem(o){if(o instanceof sn)return!0;const p=o;return void 0===p.label||(0,_.HD)(p.label)||p.label.label?void 0===p.id||(0,_.HD)(p.id)?void 0===p.iconPath||(0,_.HD)(p.iconPath)||b.o.isUri(p.iconPath)||(0,_.HD)(p.iconPath.id)?void 0===p.description||(0,_.HD)(p.description)||"boolean"==typeof p.description?void 0===p.resourceUri||b.o.isUri(p.resourceUri)?void 0===p.tooltip||(0,_.HD)(p.tooltip)||p.tooltip instanceof Wn?void 0===p.command||p.command.command?void 0!==p.collapsibleState&&p.collapsibleState<qs.None&&p.collapsibleState>qs.Expanded?(console.log("INVALID tree item, invalid collapsibleState",p.collapsibleState),!1):void 0===p.contextValue||(0,_.HD)(p.contextValue)?!(void 0!==p.accessibilityInformation&&!p.accessibilityInformation.label&&(console.log("INVALID tree item, invalid accessibilityInformation",p.accessibilityInformation),1)):(console.log("INVALID tree item, invalid contextValue",p.contextValue),!1):(console.log("INVALID tree item, invalid command",p.command),!1):(console.log("INVALID tree item, invalid tooltip",p.tooltip),!1):(console.log("INVALID tree item, invalid resourceUri",p.resourceUri),!1):(console.log("INVALID tree item, invalid description",p.description),!1):(console.log("INVALID tree item, invalid iconPath",p.iconPath),!1):(console.log("INVALID tree item, invalid id",p.id),!1):(console.log("INVALID tree item, invalid label",p.label),!1)}};Ns=sn=(0,l._)([An],Ns);var qs=(()=>((qs=qs||{})[qs.None=0]="None",qs[qs.Collapsed=1]="Collapsed",qs[qs.Expanded=2]="Expanded",qs))();let jr=class{constructor(o){this.value=o}asString(){var o=this;return(0,s.Z)(function*(){return"string"==typeof o.value?o.value:JSON.stringify(o.value)})()}asFile(){}};jr=(0,l._)([An],jr);let Kr=class{constructor(o){bi.set(this,new Map);for(const[p,P]of o??[]){const Y=(0,l.d)(this,bi,"f").get(p);Y?Y.push(P):(0,l.d)(this,bi,"f").set(p,[P])}}get(o){return(0,l.d)(this,bi,"f").get(o)?.[0]}set(o,p){(0,l.d)(this,bi,"f").set(o,[p])}forEach(o,p){for(const[P,Y]of(0,l.d)(this,bi,"f"))for(const ae of Y)o.call(p,ae,P,this)}*[(bi=new WeakMap,Symbol.iterator)](){for(const[o,p]of(0,l.d)(this,bi,"f"))for(const P of p)yield[o,P]}};Kr=(0,l._)([An],Kr);let Sr=class{constructor(o){this.insertText=o}};Sr=(0,l._)([An],Sr);let Ws=class{constructor(o,p){this.id=o,this.color=p}};Ws=(0,l._)([An],Ws),Ws.File=new Ws("file"),Ws.Folder=new Ws("folder");let Ir=class{constructor(o){this.id=o}};Ir=(0,l._)([An],Ir);var ds=(()=>((ds=ds||{})[ds.Global=1]="Global",ds[ds.Workspace=2]="Workspace",ds[ds.WorkspaceFolder=3]="WorkspaceFolder",ds))();let rr=class{constructor(o,p){if("string"!=typeof o&&(!o||!b.o.isUri(o)&&!b.o.isUri(o.uri)))throw(0,I.b1)("base");if("string"!=typeof p)throw(0,I.b1)("pattern");this.baseUri="string"==typeof o?b.o.file(o):b.o.isUri(o)?o:o.uri,this.pattern=p}get base(){return this._base}set base(o){this._base=o,this._baseUri=b.o.file(o)}get baseUri(){return this._baseUri}set baseUri(o){this._baseUri=o,this._base=o.fsPath}toJSON(){return{pattern:this.pattern,base:this.base,baseUri:this.baseUri.toJSON()}}};rr=(0,l._)([An],rr);let er=class{constructor(o,p,P,Y){this.enabled="boolean"!=typeof o||o,"string"==typeof p&&(this.condition=p),"string"==typeof P&&(this.hitCondition=P),"string"==typeof Y&&(this.logMessage=Y)}get id(){return this._id||(this._id=(0,D.R)()),this._id}};er=(0,l._)([An],er);let Qs=class extends er{constructor(o,p,P,Y,ae){if(super(p,P,Y,ae),null===o)throw(0,I.b1)("location");this.location=o}};Qs=(0,l._)([An],Qs);let is=class extends er{constructor(o,p,P,Y,ae){super(p,P,Y,ae),this.functionName=o}};is=(0,l._)([An],is);let Tr=class{constructor(o,p,P){this.command=o,this.args=p||[],this.options=P}};Tr=(0,l._)([An],Tr);let _r=class{constructor(o,p){this.port=o,this.host=p}};_r=(0,l._)([An],_r);let ma=class{constructor(o){this.path=o}};ma=(0,l._)([An],ma);let tr=class{constructor(o){this.implementation=o}};tr=(0,l._)([An],tr);let vs=class{constructor(o,p){this.range=o,this.expression=p}};vs=(0,l._)([An],vs);var Ys=(()=>((Ys=Ys||{})[Ys.Invoke=0]="Invoke",Ys[Ys.Automatic=1]="Automatic",Ys))(),Xs=(()=>((Xs=Xs||{})[Xs.Invoke=0]="Invoke",Xs[Xs.Automatic=1]="Automatic",Xs))();let Fr=class{constructor(o,p){this.range=o,this.text=p}};Fr=(0,l._)([An],Fr);let zr=class{constructor(o,p,P=!0){this.range=o,this.variableName=p,this.caseSensitiveLookup=P}};zr=(0,l._)([An],zr);let ar=class{constructor(o,p){this.range=o,this.expression=p}};ar=(0,l._)([An],ar);let Us=class{constructor(o,p){this.frameId=o,this.stoppedLocation=p}};Us=(0,l._)([An],Us);var Yi=(()=>((Yi=Yi||{})[Yi.Changed=1]="Changed",Yi[Yi.Created=2]="Created",Yi[Yi.Deleted=3]="Deleted",Yi))();let fr=dn=class extends Error{constructor(o,p=C.u.Unknown,P){super(b.o.isUri(o)?o.toString(!0):o),this.code=P?.name??"Unknown",(0,C.P)(this,p),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,dn.prototype),"function"==typeof Error.captureStackTrace&&"function"==typeof P&&Error.captureStackTrace(this,P)}static FileExists(o){return new dn(o,C.u.FileExists,dn.FileExists)}static FileNotFound(o){return new dn(o,C.u.FileNotFound,dn.FileNotFound)}static FileNotADirectory(o){return new dn(o,C.u.FileNotADirectory,dn.FileNotADirectory)}static FileIsADirectory(o){return new dn(o,C.u.FileIsADirectory,dn.FileIsADirectory)}static NoPermissions(o){return new dn(o,C.u.NoPermissions,dn.NoPermissions)}static Unavailable(o){return new dn(o,C.u.Unavailable,dn.Unavailable)}};fr=dn=(0,l._)([An],fr);let xr=class{constructor(o,p,P){this.start=o,this.end=p,this.kind=P}};xr=(0,l._)([An],xr);var Fs=(()=>(function(be){be[be.Comment=1]="Comment",be[be.Imports=2]="Imports",be[be.Region=3]="Region"}(Fs||(Fs={})),Fs))(),Ss=(()=>((Ss=Ss||{})[Ss.Collapsed=0]="Collapsed",Ss[Ss.Expanded=1]="Expanded",Ss))(),ir=(()=>((ir=ir||{})[ir.Editing=0]="Editing",ir[ir.Preview=1]="Preview",ir))();class mo{constructor(o){if(this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,o){this._hasLegend=!0;for(let p=0,P=o.tokenTypes.length;p<P;p++)this._tokenTypeStrToInt.set(o.tokenTypes[p],p);for(let p=0,P=o.tokenModifiers.length;p<P;p++)this._tokenModifierStrToInt.set(o.tokenModifiers[p],p)}}push(o,p,P,Y,ae){if("number"==typeof o&&"number"==typeof p&&"number"==typeof P&&"number"==typeof Y&&("number"==typeof ae||typeof ae>"u"))return typeof ae>"u"&&(ae=0),this._pushEncoded(o,p,P,Y,ae);if(Kt.isRange(o)&&"string"==typeof p&&function $r(be){return typeof be>"u"||(0,f.b)(be)}(P))return this._push(o,p,P);throw(0,I.b1)()}_push(o,p,P){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(o.start.line!==o.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(p))throw new Error("`tokenType` is not in the provided legend");const Y=o.start.line,ae=o.start.character,We=o.end.character-o.start.character,ot=this._tokenTypeStrToInt.get(p);let Rt=0;if(P)for(const mn of P){if(!this._tokenModifierStrToInt.has(mn))throw new Error("`tokenModifier` is not in the provided legend");Rt|=1<<this._tokenModifierStrToInt.get(mn)>>>0}this._pushEncoded(Y,ae,We,ot,Rt)}_pushEncoded(o,p,P,Y,ae){if(this._dataIsSortedAndDeltaEncoded&&(o<this._prevLine||o===this._prevLine&&p<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;const Rt=this._data.length/5|0;let mn=0,Fn=0;for(let di=0;di<Rt;di++){let wi=this._data[5*di],Yn=this._data[5*di+1];0===wi?(wi=mn,Yn+=Fn):wi+=mn,this._data[5*di]=wi,this._data[5*di+1]=Yn,mn=wi,Fn=Yn}}let We=o,ot=p;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&(We-=this._prevLine,0===We&&(ot-=this._prevChar)),this._data[this._dataLen++]=We,this._data[this._dataLen++]=ot,this._data[this._dataLen++]=P,this._data[this._dataLen++]=Y,this._data[this._dataLen++]=ae,this._prevLine=o,this._prevChar=p}static _sortAndDeltaEncode(o){const p=[],P=o.length/5|0;for(let ot=0;ot<P;ot++)p[ot]=ot;p.sort((ot,Rt)=>{const mn=o[5*ot],Fn=o[5*Rt];return mn===Fn?o[5*ot+1]-o[5*Rt+1]:mn-Fn});const Y=new Uint32Array(o.length);let ae=0,We=0;for(let ot=0;ot<P;ot++){const Rt=5*p[ot],mn=o[Rt+0],Fn=o[Rt+1],di=o[Rt+2],wi=o[Rt+3],Yn=o[Rt+4],pi=mn-ae,Ri=0===pi?Fn-We:Fn,Bi=5*ot;Y[Bi+0]=pi,Y[Bi+1]=Ri,Y[Bi+2]=di,Y[Bi+3]=wi,Y[Bi+4]=Yn,ae=mn,We=Fn}return Y}build(o){return new Vo(this._dataIsSortedAndDeltaEncoded?new Uint32Array(this._data):mo._sortAndDeltaEncode(this._data),o)}}class Vo{constructor(o,p){this.resultId=p,this.data=o}}class Ds{constructor(o,p,P){this.start=o,this.deleteCount=p,this.data=P}}class ws{constructor(o,p){this.resultId=p,this.edits=o}}var Es=(()=>((Es=Es||{})[Es.Separate=0]="Separate",Es[Es.MergeWithParent=1]="MergeWithParent",Es))();let gs=class{constructor(){}};gs.Back={iconPath:new Ws("arrow-left")},gs=(0,l._)([An],gs);var Cs=(()=>((Cs=Cs||{})[Cs.Separator=-1]="Separator",Cs[Cs.Default=0]="Default",Cs))(),Js=(()=>((Js=Js||{})[Js.Info=1]="Info",Js[Js.Warning=2]="Warning",Js[Js.Error=3]="Error",Js))(),Wr=(()=>((Wr=Wr||{})[Wr.UI=1]="UI",Wr[Wr.Workspace=2]="Workspace",Wr))();let cr=class su{constructor(o,p){if(o<0)throw(0,I.b1)("start must be positive");if(p<0)throw(0,I.b1)("end must be positive");o<=p?(this._start=o,this._end=p):(this._start=p,this._end=o)}static isNotebookRange(o){return o instanceof su||!!o&&"number"==typeof o.start&&"number"==typeof o.end}get start(){return this._start}get end(){return this._end}get isEmpty(){return this._start===this._end}with(o){let p=this._start,P=this._end;return void 0!==o.start&&(p=o.start),void 0!==o.end&&(P=o.end),p===this._start&&P===this._end?this:new su(p,P)}},Nn=class ru{constructor(o,p,P,Y,ae,We,ot){this.kind=o,this.value=p,this.languageId=P,this.mime=Y,this.outputs=ae??[],this.metadata=We,this.executionSummary=ot,ru.validate(this)}static validate(o){if("number"!=typeof o.kind)throw new Error("NotebookCellData MUST have 'kind' property");if("string"!=typeof o.value)throw new Error("NotebookCellData MUST have 'value' property");if("string"!=typeof o.languageId)throw new Error("NotebookCellData MUST have 'languageId' property")}static isNotebookCellDataArray(o){return Array.isArray(o)&&o.every(p=>ru.isNotebookCellData(p))}static isNotebookCellData(o){return!0}},ve=class rl{constructor(o,p){this.data=o,this.mime=p;const P=$t(p,!0);if(!P)throw new Error(`INVALID mime type: ${p}. Must be in the format "type/subtype[;optionalparameter]"`);this.mime=P}static isNotebookCellOutputItem(o){return o instanceof rl||!!o&&"string"==typeof o.mime&&o.data instanceof Uint8Array}static error(o){return rl.json({name:o.name,message:o.message,stack:o.stack},"application/vnd.code.notebook.error")}static stdout(o){return rl.text(o,"application/vnd.code.notebook.stdout")}static stderr(o){return rl.text(o,"application/vnd.code.notebook.stderr")}static bytes(o,p="application/octet-stream"){return new rl(o,p)}static text(o,p=a.v.text){const P=(0,l.d)(rl,Ei,"f",ao).encode(String(o));return new rl(P,p)}static json(o,p="text/x-json"){const P=JSON.stringify(o,void 0,"\t");return rl.text(P,p)}};Ei=ve,ao={value:new TextEncoder};let $e=class au{constructor(o,p,P){this.items=au.ensureUniqueMimeTypes(o,!0),"string"==typeof p?(this.id=p,this.metadata=P):(this.id=(0,D.R)(),this.metadata=p??P)}static isNotebookCellOutput(o){return o instanceof au||!(!o||"object"!=typeof o)&&"string"==typeof o.id&&(0,_.kJ)(o.items)}static ensureUniqueMimeTypes(o,p=!1){const P=new Set,Y=new Set;for(let ae=0;ae<o.length;ae++){const We=o[ae],ot=$t(We.mime);P.has(ot)?(Y.add(ae),p&&console.warn(`DUPLICATED mime type '${We.mime}' will be dropped`)):P.add(ot)}return 0===Y.size?o:o.filter((ae,We)=>!Y.has(We))}};var At=(()=>(function(be){be[be.Markup=1]="Markup",be[be.Code=2]="Code"}(At||(At={})),At))(),Nt=(()=>((Nt=Nt||{})[Nt.Left=1]="Left",Nt[Nt.Right=2]="Right",Nt))(),on=(()=>((on=on||{})[on.Default=0]="Default",on[on.InCenter=1]="InCenter",on[on.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",on[on.AtTop=3]="AtTop",on))(),Jn=(()=>((Jn=Jn||{})[Jn.Default=1]="Default",Jn[Jn.Preferred=2]="Preferred",Jn))(),vi=(()=>((vi=vi||{})[vi.Production=1]="Production",vi[vi.Development=2]="Development",vi[vi.Test=3]="Test",vi))(),Mi=(()=>((Mi=Mi||{})[Mi.Other=0]="Other",Mi[Mi.Comment=1]="Comment",Mi[Mi.String=2]="String",Mi[Mi.RegEx=3]="RegEx",Mi))(),Xo=(()=>((Xo=Xo||{})[Xo.Run=1]="Run",Xo[Xo.Debug=2]="Debug",Xo[Xo.Coverage=3]="Coverage",Xo))();let zo=class{constructor(o=void 0,p=void 0,P=void 0){this.include=o,this.exclude=p,this.profile=P}};zo=(0,l._)([An],zo);let js=Bn=class{constructor(o){this.message=o}static diff(o,p,P){const Y=new Bn(o);return Y.expectedOutput=p,Y.actualOutput=P,Y}};js=Bn=(0,l._)([An],js);let wr=class{constructor(o){this.id=o}};wr=(0,l._)([An],wr);let Dr=class{constructor(o,p,P,Y,ae,We){this.kind=o,this.name=p,this.detail=P,this.uri=Y,this.range=ae,this.selectionRange=We}};var vr,zi,ll,ms,Ka,pa,es,ta,zt,ke,Jt,Rn,qn,Zn,ei,ti,Ti,xi,ki,qi,po,No,Io,To,co,Jo,Uo,wo,no,Eo,Qo,qo,ls,Po,hs,Ks,ss,zs,lr,jo,ur,$s,Gr,Ta,ua,za,ha,Er,Ni,fa,na,Ls,Cl,xa,yl,$a,Ga,Zr,Mr=(()=>((Mr=Mr||{})[Mr.Desktop=1]="Desktop",Mr[Mr.Web=2]="Web",Mr))(),Zo=(()=>((Zo=Zo||{})[Zo.Line=1]="Line",Zo[Zo.Block=2]="Block",Zo[Zo.Underline=3]="Underline",Zo[Zo.LineThin=4]="LineThin",Zo[Zo.BlockOutline=5]="BlockOutline",Zo[Zo.UnderlineThin=6]="UnderlineThin",Zo))(),Pr=(()=>((Pr=Pr||{})[Pr.ACTIVATE=1]="ACTIVATE",Pr[Pr.RESTORE=2]="RESTORE",Pr[Pr.PRESERVE=3]="PRESERVE",Pr))(),Ar=(()=>((Ar=Ar||{})[Ar.PICK=0]="PICK",Ar[Ar.DISABLED=1]="DISABLED",Ar[Ar.EXCLUSIVE_ONLY=2]="EXCLUSIVE_ONLY",Ar))(),Nr=(()=>((Nr=Nr||{})[Nr.Markup=1]="Markup",Nr[Nr.Code=2]="Code",Nr))();function Pt(be){return 0===be.length||!!function tt(be){return typeof be.range<"u"}(be[0])}function yn(be){return typeof be>"u"?be:"string"==typeof be?b.o.file(be):be}!function(be){be.to=function o(P){const{selectionStartLineNumber:Y,selectionStartColumn:ae,positionLineNumber:We,positionColumn:ot}=P,Rt=new ht(Y-1,ae-1),mn=new ht(We-1,ot-1);return new nn(Rt,mn)},be.from=function p(P){const{anchor:Y,active:ae}=P;return{selectionStartLineNumber:Y.line+1,selectionStartColumn:Y.character+1,positionLineNumber:ae.line+1,positionColumn:ae.character+1}}}(vr||(vr={})),function(be){be.from=function o(P){if(!P)return;const{start:Y,end:ae}=P;return{startLineNumber:Y.line+1,startColumn:Y.character+1,endLineNumber:ae.line+1,endColumn:ae.character+1}},be.to=function p(P){if(!P)return;const{startLineNumber:Y,startColumn:ae,endLineNumber:We,endColumn:ot}=P;return new Kt(Y-1,ae-1,We-1,ot-1)}}(zi||(zi={})),function(be){be.to=function o(p){switch(p){case 1:return Mi.Comment;case 0:return Mi.Other;case 3:return Mi.RegEx;case 2:return Mi.String}}}(ll||(ll={})),function(be){be.to=function o(P){return new ht(P.lineNumber-1,P.column-1)},be.from=function p(P){return{lineNumber:P.line+1,column:P.character+1}}}(ms||(ms={})),function(be){function P(Y,ae){return ae&&"string"==typeof Y?ae.transformOutgoingScheme(Y):Y}be.from=function o(Y,ae){return(0,S.kX)((0,S._2)(Y).map(We=>function p(Y,ae){return"string"==typeof Y?{$serialized:!0,language:Y}:Y?{$serialized:!0,language:Y.language,scheme:P(Y.scheme,ae),pattern:ha.from(Y.pattern)??void 0,exclusive:Y.exclusive,notebookType:Y.notebookType}:void 0}(We,ae)))}}(Ka||(Ka={})),function(be){be.from=function o(P){switch(P){case Yt.Unnecessary:return 1;case Yt.Deprecated:return 2}},be.to=function p(P){switch(P){case 1:return Yt.Unnecessary;case 2:return Yt.Deprecated;default:return}}}(pa||(pa={})),function(be){be.from=function o(P){let Y;return P.code&&(Y=(0,_.HD)(P.code)||(0,_.hj)(P.code)?String(P.code):{value:String(P.code.value),target:P.code.target}),{...zi.from(P.range),message:P.message,source:P.source,code:Y,severity:zt.from(P.severity),relatedInformation:P.relatedInformation&&P.relatedInformation.map(ta.from),tags:Array.isArray(P.tags)?(0,S.kX)(P.tags.map(pa.from)):void 0}},be.to=function p(P){const Y=new vn(zi.to(P),P.message,zt.to(P.severity));return Y.source=P.source,Y.code=(0,_.HD)(P.code)?P.code:P.code?.value,Y.relatedInformation=P.relatedInformation&&P.relatedInformation.map(ta.to),Y.tags=P.tags&&(0,S.kX)(P.tags.map(pa.to)),Y}}(es||(es={})),function(be){be.from=function o(P){return{...zi.from(P.location.range),message:P.message,resource:P.location.uri}},be.to=function p(P){return new _t(new Be(P.resource,zi.to(P)),P.message)}}(ta||(ta={})),function(be){be.from=function o(P){switch(P){case gn.Error:return g.ZL.Error;case gn.Warning:return g.ZL.Warning;case gn.Information:return g.ZL.Info;case gn.Hint:return g.ZL.Hint}return g.ZL.Error},be.to=function p(P){switch(P){case g.ZL.Info:return gn.Information;case g.ZL.Warning:return gn.Warning;case g.ZL.Error:return gn.Error;case g.ZL.Hint:return gn.Hint;default:return gn.Error}}}(zt||(zt={})),function(be){be.from=function o(P){return"number"==typeof P&&P>=ne.One?P-1:P===ne.Beside?C.p:C.A},be.to=function p(P){if("number"==typeof P&&P>=0)return P+1;throw new Error("invalid 'EditorGroupColumn'")}}(ke||(ke={})),function(be){function Y(ot,Rt){if(!ot)return ot;let mn;try{mn=(0,v.Q)(ot)}catch{}if(!mn)return ot;let Fn=!1;return mn=(0,m.rs)(mn,di=>{if(b.o.isUri(di)){const wi=`__uri_${Math.random().toString(16).slice(2,8)}`;return Rt[wi]=di,Fn=!0,wi}}),Fn?JSON.stringify(mn):ot}be.fromMany=function o(ot){return ot.map(be.from)},be.from=function P(ot){let Rt;if(function p(ot){return ot&&"object"==typeof ot&&"string"==typeof ot.language&&"string"==typeof ot.value}(ot)){const{language:wi,value:Yn}=ot;Rt={value:"```"+wi+"\n"+Yn+"\n```\n"}}else Rt=Wn.isMarkdownString(ot)?{value:ot.value,isTrusted:ot.isTrusted,supportThemeIcons:ot.supportThemeIcons,supportHtml:ot.supportHtml,baseUri:ot.baseUri}:"string"==typeof ot?{value:ot}:{value:""};const mn=Object.create(null);Rt.uris=mn;const Fn=wi=>{try{let Yn=b.o.parse(wi,!0);Yn=Yn.with({query:Y(Yn.query,mn)}),mn[wi]=Yn}catch{}return""},di=new tn.Renderer;return di.link=Fn,di.image=wi=>"string"==typeof wi?Fn((0,n.v1)(wi).href):"",tn(Rt.value,{renderer:di}),Rt},be.to=function ae(ot){const Rt=new Wn(ot.value,ot.supportThemeIcons);return Rt.isTrusted=ot.isTrusted,Rt.supportHtml=ot.supportHtml,Rt.baseUri=ot.baseUri?b.o.from(ot.baseUri):void 0,Rt},be.fromStrict=function We(ot){if(ot)return"string"==typeof ot?ot:be.from(ot)}}(Jt||(Jt={})),function(be){be.from=function o(p){return typeof p>"u"?p:{contentText:p.contentText,contentIconPath:p.contentIconPath?yn(p.contentIconPath):void 0,border:p.border,borderColor:p.borderColor,fontStyle:p.fontStyle,fontWeight:p.fontWeight,textDecoration:p.textDecoration,color:p.color,backgroundColor:p.backgroundColor,margin:p.margin,width:p.width,height:p.height}}}(Rn||(Rn={})),function(be){be.from=function o(p){return typeof p>"u"?p:{backgroundColor:p.backgroundColor,outline:p.outline,outlineColor:p.outlineColor,outlineStyle:p.outlineStyle,outlineWidth:p.outlineWidth,border:p.border,borderColor:p.borderColor,borderRadius:p.borderRadius,borderSpacing:p.borderSpacing,borderStyle:p.borderStyle,borderWidth:p.borderWidth,fontStyle:p.fontStyle,fontWeight:p.fontWeight,textDecoration:p.textDecoration,cursor:p.cursor,color:p.color,opacity:p.opacity,letterSpacing:p.letterSpacing,gutterIconPath:p.gutterIconPath?yn(p.gutterIconPath):void 0,gutterIconSize:p.gutterIconSize,overviewRulerColor:p.overviewRulerColor,before:p.before?Rn.from(p.before):void 0,after:p.after?Rn.from(p.after):void 0}}}(qn||(qn={})),function(be){be.from=function o(p){if(typeof p>"u")return p;switch(p){case Vn.OpenOpen:return 0;case Vn.ClosedClosed:return 1;case Vn.OpenClosed:return 2;case Vn.ClosedOpen:return 3}}}(Zn||(Zn={})),function(be){be.from=function o(p){return{isWholeLine:p.isWholeLine,rangeBehavior:p.rangeBehavior?Zn.from(p.rangeBehavior):void 0,overviewRulerLane:p.overviewRulerLane,light:p.light?qn.from(p.light):void 0,dark:p.dark?qn.from(p.dark):void 0,backgroundColor:p.backgroundColor,outline:p.outline,outlineColor:p.outlineColor,outlineStyle:p.outlineStyle,outlineWidth:p.outlineWidth,border:p.border,borderColor:p.borderColor,borderRadius:p.borderRadius,borderSpacing:p.borderSpacing,borderStyle:p.borderStyle,borderWidth:p.borderWidth,fontStyle:p.fontStyle,fontWeight:p.fontWeight,textDecoration:p.textDecoration,cursor:p.cursor,color:p.color,opacity:p.opacity,letterSpacing:p.letterSpacing,gutterIconPath:p.gutterIconPath?yn(p.gutterIconPath):void 0,gutterIconSize:p.gutterIconSize,overviewRulerColor:p.overviewRulerColor,before:p.before?Rn.from(p.before):void 0,after:p.after?Rn.from(p.after):void 0}}}(ei||(ei={})),function(be){be.from=function o(P){return{text:P.newText,eol:P.newEol&&Gr.from(P.newEol),range:zi.from(P.range)}},be.to=function p(P){const Y=new bn(zi.to(P.range),P.text);return Y.newEol=typeof P.eol>"u"?void 0:Gr.to(P.eol),Y}}(ti||(ti={})),function(be){be.from=function o(P,Y,ae){const We={edits:[]};if(P instanceof Wt){const ot=new t.R;for(const Rt of P._allEntries())1===Rt._type&&b.o.isUri(Rt.to)&&void 0===Rt.from&&ot.add(Rt.to);for(const Rt of P._allEntries())if(1===Rt._type)We.edits.push({oldResource:Rt.from,newResource:Rt.to,options:Rt.options,metadata:Rt.metadata});else if(2===Rt._type)We.edits.push({resource:Rt.uri,textEdit:ti.from(Rt.edit),versionId:ot.has(Rt.uri)?void 0:Y?.getTextDocumentVersion(Rt.uri),metadata:Rt.metadata});else if(6===Rt._type){if(!ae){console.warn("DROPPING snippet text edit because proposal IS NOT ENABLED",Rt);continue}We.edits.push({resource:Rt.uri,textEdit:{range:zi.from(Rt.range),text:Rt.edit.value,insertAsSnippet:!0},versionId:ot.has(Rt.uri)?void 0:Y?.getTextDocumentVersion(Rt.uri),metadata:Rt.metadata})}else 3===Rt._type?We.edits.push({metadata:Rt.metadata,resource:Rt.uri,cellEdit:Rt.edit,notebookMetadata:Rt.notebookMetadata,notebookVersionId:Y?.getNotebookDocumentVersion(Rt.uri)}):5===Rt._type&&We.edits.push({metadata:Rt.metadata,resource:Rt.uri,notebookVersionId:Y?.getNotebookDocumentVersion(Rt.uri),cellEdit:{editType:1,index:Rt.index,count:Rt.count,cells:Rt.cells.map(Ls.from)}})}return We},be.to=function p(P){const Y=new Wt;for(const ae of P.edits)ae.textEdit?Y.replace(b.o.revive(ae.resource),zi.to(ae.textEdit.range),ae.textEdit.text):Y.renameFile(b.o.revive(ae.oldResource),b.o.revive(ae.newResource),ae.options);return Y}}(Ti||(Ti={})),function(be){const o=Object.create(null);o[ii.File]=0,o[ii.Module]=1,o[ii.Namespace]=2,o[ii.Package]=3,o[ii.Class]=4,o[ii.Method]=5,o[ii.Property]=6,o[ii.Field]=7,o[ii.Constructor]=8,o[ii.Enum]=9,o[ii.Interface]=10,o[ii.Function]=11,o[ii.Variable]=12,o[ii.Constant]=13,o[ii.String]=14,o[ii.Number]=15,o[ii.Boolean]=16,o[ii.Array]=17,o[ii.Object]=18,o[ii.Key]=19,o[ii.Null]=20,o[ii.EnumMember]=21,o[ii.Struct]=22,o[ii.Event]=23,o[ii.Operator]=24,o[ii.TypeParameter]=25,be.from=function p(Y){return"number"==typeof o[Y]?o[Y]:6},be.to=function P(Y){for(const ae in o)if(o[ae]===Y)return Number(ae);return ii.Property}}(xi||(xi={})),function(be){be.from=function o(P){if(P===Ut.Deprecated)return 1},be.to=function p(P){if(1===P)return Ut.Deprecated}}(ki||(ki={})),function(be){be.from=function o(P){return{name:P.name,kind:xi.from(P.kind),tags:P.tags&&P.tags.map(ki.from),containerName:P.containerName,location:Io.from(P.location)}},be.to=function p(P){const Y=new F(P.name,xi.to(P.kind),P.containerName,Io.to(P.location));return Y.tags=P.tags&&P.tags.map(ki.to),Y}}(qi||(qi={})),function(be){be.from=function o(P){const Y={name:P.name||"!!MISSING: name!!",detail:P.detail,range:zi.from(P.range),selectionRange:zi.from(P.selectionRange),kind:xi.from(P.kind),tags:P.tags?.map(ki.from)??[]};return P.children&&(Y.children=P.children.map(o)),Y},be.to=function p(P){const Y=new ee(P.name,P.detail,xi.to(P.kind),zi.to(P.range),zi.to(P.selectionRange));return(0,S.Of)(P.tags)&&(Y.tags=P.tags.map(ki.to)),P.children&&(Y.children=P.children.map(p)),Y}}(po||(po={})),function(be){be.to=function o(P){const Y=new rn(xi.to(P.kind),P.name,P.detail||"",b.o.revive(P.uri),zi.to(P.range),zi.to(P.selectionRange));return Y._sessionId=P._sessionId,Y._itemId=P._itemId,Y},be.from=function p(P,Y,ae){if(ae=ae??P._itemId,void 0===(Y=Y??P._sessionId)||void 0===ae)throw new Error("invalid item");return{_sessionId:Y,_itemId:ae,name:P.name,detail:P.detail,kind:xi.from(P.kind),uri:P.uri,range:zi.from(P.range),selectionRange:zi.from(P.selectionRange),tags:P.tags?.map(ki.from)}}}(No||(No={})),function(be){be.from=function o(P){return{range:P.range&&zi.from(P.range),uri:P.uri}},be.to=function p(P){return new Be(b.o.revive(P.uri),zi.to(P.range))}}(Io||(Io={})),function(be){be.from=function o(P){const Y=P,ae=P;return{originSelectionRange:Y.originSelectionRange?zi.from(Y.originSelectionRange):void 0,uri:Y.targetUri?Y.targetUri:ae.uri,range:zi.from(Y.targetRange?Y.targetRange:ae.range),targetSelectionRange:Y.targetSelectionRange?zi.from(Y.targetSelectionRange):void 0}},be.to=function p(P){return{targetUri:b.o.revive(P.uri),targetRange:zi.to(P.range),targetSelectionRange:P.targetSelectionRange?zi.to(P.targetSelectionRange):void 0,originSelectionRange:P.originSelectionRange?zi.to(P.originSelectionRange):void 0}}}(To||(To={})),function(be){be.from=function o(P){return{range:zi.from(P.range),contents:Jt.fromMany(P.contents)}},be.to=function p(P){return new $n(P.contents.map(Jt.to),zi.to(P.range))}}(co||(co={})),function(be){be.from=function o(P){return{range:zi.from(P.range),expression:P.expression}},be.to=function p(P){return new vs(zi.to(P.range),P.expression)}}(Jo||(Jo={})),function(be){be.from=function o(P){if(P instanceof Fr)return{type:"text",range:zi.from(P.range),text:P.text};if(P instanceof zr)return{type:"variable",range:zi.from(P.range),variableName:P.variableName,caseSensitiveLookup:P.caseSensitiveLookup};if(P instanceof ar)return{type:"expression",range:zi.from(P.range),expression:P.expression};throw new Error("Unknown 'InlineValue' type")},be.to=function p(P){switch(P.type){case"text":return{range:zi.to(P.range),text:P.text};case"variable":return{range:zi.to(P.range),variableName:P.variableName,caseSensitiveLookup:P.caseSensitiveLookup};case"expression":return{range:zi.to(P.range),expression:P.expression}}}}(Uo||(Uo={})),function(be){be.from=function o(P){return{frameId:P.frameId,stoppedLocation:zi.from(P.stoppedLocation)}},be.to=function p(P){return new Us(P.frameId,zi.to(P.stoppedLocation))}}(wo||(wo={})),function(be){be.from=function o(P){return{range:zi.from(P.range),kind:P.kind}},be.to=function p(P){return new Ii(zi.to(P.range),P.kind)}}(no||(no={})),function(be){be.to=function o(p){switch(p){case 1:return ho.TriggerCharacter;case 2:return ho.TriggerForIncompleteCompletions;default:return ho.Invoke}}}(Eo||(Eo={})),function(be){be.to=function o(p){return{triggerKind:Eo.to(p.triggerKind),triggerCharacter:p.triggerCharacter}}}(Qo||(Qo={})),function(be){be.from=function o(P){if(P===Mn.Deprecated)return 1},be.to=function p(P){if(1===P)return Mn.Deprecated}}(qo||(qo={})),function(be){const o=new Map([[Ui.Method,0],[Ui.Function,1],[Ui.Constructor,2],[Ui.Field,3],[Ui.Variable,4],[Ui.Class,5],[Ui.Interface,7],[Ui.Struct,6],[Ui.Module,8],[Ui.Property,9],[Ui.Unit,12],[Ui.Value,13],[Ui.Constant,14],[Ui.Enum,15],[Ui.EnumMember,16],[Ui.Keyword,17],[Ui.Snippet,27],[Ui.Text,18],[Ui.Color,19],[Ui.File,20],[Ui.Reference,21],[Ui.Folder,23],[Ui.Event,10],[Ui.Operator,11],[Ui.TypeParameter,24],[Ui.Issue,26],[Ui.User,25]]);be.from=function p(ae){return o.get(ae)??9};const P=new Map([[0,Ui.Method],[1,Ui.Function],[2,Ui.Constructor],[3,Ui.Field],[4,Ui.Variable],[5,Ui.Class],[7,Ui.Interface],[6,Ui.Struct],[8,Ui.Module],[9,Ui.Property],[12,Ui.Unit],[13,Ui.Value],[14,Ui.Constant],[15,Ui.Enum],[16,Ui.EnumMember],[17,Ui.Keyword],[27,Ui.Snippet],[18,Ui.Text],[19,Ui.Color],[20,Ui.File],[21,Ui.Reference],[23,Ui.Folder],[10,Ui.Event],[11,Ui.Operator],[24,Ui.TypeParameter],[25,Ui.User],[26,Ui.Issue]]);be.to=function Y(ae){return P.get(ae)??Ui.Property}}(ls||(ls={})),function(be){be.from=function o(P){return{label:P.label,documentation:Jt.fromStrict(P.documentation)}},be.to=function p(P){return{label:P.label,documentation:(0,n.Fr)(P.documentation)?Jt.to(P.documentation):P.documentation}}}(Po||(Po={})),function(be){be.from=function o(P){return{label:P.label,documentation:Jt.fromStrict(P.documentation),parameters:Array.isArray(P.parameters)?P.parameters.map(Po.from):[],activeParameter:P.activeParameter}},be.to=function p(P){return{label:P.label,documentation:(0,n.Fr)(P.documentation)?Jt.to(P.documentation):P.documentation,parameters:Array.isArray(P.parameters)?P.parameters.map(Po.to):[],activeParameter:P.activeParameter}}}(hs||(hs={})),function(be){be.from=function o(P){return{activeSignature:P.activeSignature,activeParameter:P.activeParameter,signatures:Array.isArray(P.signatures)?P.signatures.map(hs.from):[]}},be.to=function p(P){return{activeSignature:P.activeSignature,activeParameter:P.activeParameter,signatures:Array.isArray(P.signatures)?P.signatures.map(hs.to):[]}}}(Ks||(Ks={})),function(be){be.from=function o(P){return P},be.to=function p(P){return P}}(ss||(ss={})),function(be){be.from=function o(P){return{range:zi.from(P.range),url:P.target,tooltip:P.tooltip}},be.to=function p(P){let Y;if(P.url)try{Y="string"==typeof P.url?b.o.parse(P.url,!0):b.o.revive(P.url)}catch{}return new gi(zi.to(P.range),Y)}}(zs||(zs={})),function(be){be.to=function o(P){const Y=new ui(P.label);return P.textEdit&&(Y.textEdit=ti.to(P.textEdit)),P.additionalTextEdits&&(Y.additionalTextEdits=P.additionalTextEdits.map(ae=>ti.to(ae))),Y},be.from=function p(P){return{label:P.label,textEdit:P.textEdit?ti.from(P.textEdit):void 0,additionalTextEdits:P.additionalTextEdits?P.additionalTextEdits.map(Y=>ti.from(Y)):void 0}}}(lr||(lr={})),function(be){be.to=function o(P){return new Di(P[0],P[1],P[2],P[3])},be.from=function p(P){return[P.red,P.green,P.blue,P.alpha]}}(jo||(jo={})),function(be){be.from=function o(P){return{range:zi.from(P.range)}},be.to=function p(P){return new ct(zi.to(P.range))}}(ur||(ur={})),function(be){be.from=function o(P){switch(P){case at.Off:return 0;case at.Relative:return 2;default:return 1}},be.to=function p(P){switch(P){case 0:return at.Off;case 2:return at.Relative;default:return at.On}}}($s||($s={})),function(be){be.from=function o(P){return P===Dn.CRLF?1:P===Dn.LF?0:void 0},be.to=function p(P){return 1===P?Dn.CRLF:0===P?Dn.LF:void 0}}(Gr||(Gr={})),function(be){be.from=function o(p){if("object"==typeof p)return p.viewId;switch(p){case Ms.SourceControl:return 3;case Ms.Window:return 10;case Ms.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}}(Ta||(Ta={})),function(be){be.from=function o(p){const P={start:p.start+1,end:p.end+1};return p.kind&&(P.kind=za.from(p.kind)),P}}(ua||(ua={})),function(be){be.from=function o(p){if(p)switch(p){case Fs.Comment:return Ht.Comment;case Fs.Imports:return Ht.Imports;case Fs.Region:return Ht.Region}}}(za||(za={})),function(be){be.from=function o(ae){return ae instanceof rr?ae.toJSON():"string"==typeof ae?ae:function p(ae){const We=ae;return!!We&&b.o.isUri(We.baseUri)&&"string"==typeof We.pattern}(ae)||function P(ae){return!!ae&&"string"==typeof ae.base&&"string"==typeof ae.pattern}(ae)?new rr(ae.baseUri??ae.base,ae.pattern).toJSON():ae},be.to=function Y(ae){return"string"==typeof ae?ae:new rr(b.o.revive(ae.baseUri),ae.pattern)}}(ha||(ha={})),function(be){be.from=function o(p){if(p){if(Array.isArray(p))return p.map(o);if("string"==typeof p)return p;{const P=p;return{language:P.language,scheme:P.scheme,pattern:ha.from(P.pattern),exclusive:P.exclusive,notebookType:P.notebookType}}}}}(Er||(Er={})),function(be){be.from=function o(P){return{start:P.start,end:P.end}},be.to=function p(P){return new cr(P.start,P.end)}}(Ni||(Ni={})),function(be){be.to=function o(P){return{timing:"number"==typeof P.runStartTime&&"number"==typeof P.runEndTime?{startTime:P.runStartTime,endTime:P.runEndTime}:void 0,executionOrder:P.executionOrder,success:P.lastRunSuccess}},be.from=function p(P){return{lastRunSuccess:P.success,runStartTime:P.timing?.startTime,runEndTime:P.timing?.endTime,executionOrder:P.executionOrder}}}(fa||(fa={})),function(be){be.from=function o(P){return P===At.Markup?Nr.Markup:Nr.Code},be.to=function p(P){return P===Nr.Markup?At.Markup:At.Code}}(na||(na={})),function(be){be.from=function o(P){return{cellKind:na.from(P.kind),language:P.languageId,mime:P.mime,source:P.value,metadata:P.metadata,internalMetadata:fa.from(P.executionSummary??{}),outputs:P.outputs?P.outputs.map(xa.from):[]}},be.to=function p(P){return new Nn(na.to(P.cellKind),P.source,P.language,P.mime,P.outputs?P.outputs.map(xa.to):void 0,P.metadata,P.internalMetadata?fa.to(P.internalMetadata):void 0)}}(Ls||(Ls={})),function(be){be.from=function o(P){return{mime:P.mime,valueBytes:E.KN.wrap(P.data)}},be.to=function p(P){return new ve(P.valueBytes.buffer,P.mime)}}(Cl||(Cl={})),function(be){be.from=function o(P){return{outputId:P.id,items:P.items.map(Cl.from),metadata:P.metadata}},be.to=function p(P){const Y=P.items.map(Cl.to);return new $e(Y,P.outputId,P.metadata)}}(xa||(xa={})),function(be){be.to=function o(p){switch(p){case 1:return _e.Invoke;case 2:return _e.Automatic}}}(yl||(yl={})),function(be){be.to=function o(P){const Y=new Dr(xi.to(P.kind),P.name,P.detail||"",b.o.revive(P.uri),zi.to(P.range),zi.to(P.selectionRange));return Y._sessionId=P._sessionId,Y._itemId=P._itemId,Y},be.from=function p(P,Y,ae){if(ae=ae??P._itemId,void 0===(Y=Y??P._sessionId)||void 0===ae)throw new Error("invalid item");return{_sessionId:Y,_itemId:ae,kind:xi.from(P.kind),name:P.name,detail:P.detail??"",uri:P.uri,range:zi.from(P.range),selectionRange:zi.from(P.selectionRange),tags:P.tags?.map(ki.from)}}}($a||($a={})),function(be){be.toDataTransferItem=function o(p,P){const Y=p.fileData;return Y?new class extends jr{asFile(){return{name:Y.name,uri:b.o.revive(Y.uri),data:(0,w.I)(()=>P())}}}(""):new jr(p.asString)}}(Ga||(Ga={})),function(be){function P(){return(P=(0,s.Z)(function*(Y){const ae={items:[]},We=[];return Y.forEach((ot,Rt)=>{We.push((0,s.Z)(function*(){const mn=yield ot.asString(),Fn=ot.asFile();ae.items.push([Rt,{asString:mn,fileData:Fn?{name:Fn.name,uri:Fn.uri}:void 0}])})())}),yield Promise.all(We),ae})).apply(this,arguments)}be.toDataTransfer=function o(Y,ae){const We=Y.items.map(([ot,Rt],mn)=>[ot,Ga.toDataTransferItem(Rt,()=>ae(mn))]);return new Kr(We)},be.toDataTransferDTO=function p(Y){return P.apply(this,arguments)}}(Zr||(Zr={}));let bl=(()=>{class be{constructor(p){this._proxyIdentifierBrand=void 0,this.sid=p,this.nid=++be.count}}return be.count=0,be})();const fd=[];function Fi(be){const o=new bl(be);return fd[o.nid]=o,o}function Za(be){return fd[be].sid}class Lr{constructor(o){this.value=o}}var gr=(()=>((gr=gr||{})[gr.Default=0]="Default",gr[gr.InCenter=1]="InCenter",gr[gr.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",gr[gr.AtTop=3]="AtTop",gr))();function _a(be){return be&&be.edits&&(0,v.w)(be),be}const Ko={MainThreadAuthentication:Fi("MainThreadAuthentication"),MainThreadBulkEdits:Fi("MainThreadBulkEdits"),MainThreadClipboard:Fi("MainThreadClipboard"),MainThreadCommands:Fi("MainThreadCommands"),MainThreadComments:Fi("MainThreadComments"),MainThreadConfiguration:Fi("MainThreadConfiguration"),MainThreadConsole:Fi("MainThreadConsole"),MainThreadDebugService:Fi("MainThreadDebugService"),MainThreadDecorations:Fi("MainThreadDecorations"),MainThreadDiagnostics:Fi("MainThreadDiagnostics"),MainThreadDialogs:Fi("MainThreadDiaglogs"),MainThreadDocuments:Fi("MainThreadDocuments"),MainThreadDocumentContentProviders:Fi("MainThreadDocumentContentProviders"),MainThreadTextEditors:Fi("MainThreadTextEditors"),MainThreadEditorInsets:Fi("MainThreadEditorInsets"),MainThreadEditorTabs:Fi("MainThreadEditorTabs"),MainThreadErrors:Fi("MainThreadErrors"),MainThreadTreeViews:Fi("MainThreadTreeViews"),MainThreadDownloadService:Fi("MainThreadDownloadService"),MainThreadKeytar:Fi("MainThreadKeytar"),MainThreadLanguageFeatures:Fi("MainThreadLanguageFeatures"),MainThreadLanguages:Fi("MainThreadLanguages"),MainThreadLogger:Fi("MainThreadLogger"),MainThreadMessageService:Fi("MainThreadMessageService"),MainThreadOutputService:Fi("MainThreadOutputService"),MainThreadProgress:Fi("MainThreadProgress"),MainThreadQuickOpen:Fi("MainThreadQuickOpen"),MainThreadStatusBar:Fi("MainThreadStatusBar"),MainThreadSecretState:Fi("MainThreadSecretState"),MainThreadStorage:Fi("MainThreadStorage"),MainThreadTelemetry:Fi("MainThreadTelemetry"),MainThreadTerminalService:Fi("MainThreadTerminalService"),MainThreadWebviews:Fi("MainThreadWebviews"),MainThreadWebviewPanels:Fi("MainThreadWebviewPanels"),MainThreadWebviewViews:Fi("MainThreadWebviewViews"),MainThreadCustomEditors:Fi("MainThreadCustomEditors"),MainThreadUrls:Fi("MainThreadUrls"),MainThreadUriOpeners:Fi("MainThreadUriOpeners"),MainThreadWorkspace:Fi("MainThreadWorkspace"),MainThreadFileSystem:Fi("MainThreadFileSystem"),MainThreadExtensionService:Fi("MainThreadExtensionService"),MainThreadSCM:Fi("MainThreadSCM"),MainThreadSearch:Fi("MainThreadSearch"),MainThreadTask:Fi("MainThreadTask"),MainThreadWindow:Fi("MainThreadWindow"),MainThreadLabelService:Fi("MainThreadLabelService"),MainThreadNotebook:Fi("MainThreadNotebook"),MainThreadNotebookDocuments:Fi("MainThreadNotebookDocumentsShape"),MainThreadNotebookEditors:Fi("MainThreadNotebookEditorsShape"),MainThreadNotebookKernels:Fi("MainThreadNotebookKernels"),MainThreadNotebookRenderers:Fi("MainThreadNotebookRenderers"),MainThreadInteractive:Fi("MainThreadInteractive"),MainThreadTheming:Fi("MainThreadTheming"),MainThreadTunnelService:Fi("MainThreadTunnelService"),MainThreadTimeline:Fi("MainThreadTimeline"),MainThreadTesting:Fi("MainThreadTesting")},ys={ExtHostCommands:Fi("ExtHostCommands"),ExtHostConfiguration:Fi("ExtHostConfiguration"),ExtHostDiagnostics:Fi("ExtHostDiagnostics"),ExtHostDebugService:Fi("ExtHostDebugService"),ExtHostDecorations:Fi("ExtHostDecorations"),ExtHostDocumentsAndEditors:Fi("ExtHostDocumentsAndEditors"),ExtHostDocuments:Fi("ExtHostDocuments"),ExtHostDocumentContentProviders:Fi("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:Fi("ExtHostDocumentSaveParticipant"),ExtHostEditors:Fi("ExtHostEditors"),ExtHostTreeViews:Fi("ExtHostTreeViews"),ExtHostFileSystem:Fi("ExtHostFileSystem"),ExtHostFileSystemInfo:Fi("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:Fi("ExtHostFileSystemEventService"),ExtHostLanguages:Fi("ExtHostLanguages"),ExtHostLanguageFeatures:Fi("ExtHostLanguageFeatures"),ExtHostQuickOpen:Fi("ExtHostQuickOpen"),ExtHostExtensionService:Fi("ExtHostExtensionService"),ExtHostLogLevelServiceShape:Fi("ExtHostLogLevelServiceShape"),ExtHostTerminalService:Fi("ExtHostTerminalService"),ExtHostSCM:Fi("ExtHostSCM"),ExtHostSearch:Fi("ExtHostSearch"),ExtHostTask:Fi("ExtHostTask"),ExtHostWorkspace:Fi("ExtHostWorkspace"),ExtHostWindow:Fi("ExtHostWindow"),ExtHostWebviews:Fi("ExtHostWebviews"),ExtHostWebviewPanels:Fi("ExtHostWebviewPanels"),ExtHostCustomEditors:Fi("ExtHostCustomEditors"),ExtHostWebviewViews:Fi("ExtHostWebviewViews"),ExtHostEditorInsets:Fi("ExtHostEditorInsets"),ExtHostEditorTabs:Fi("ExtHostEditorTabs"),ExtHostProgress:Fi("ExtHostProgress"),ExtHostComments:Fi("ExtHostComments"),ExtHostSecretState:Fi("ExtHostSecretState"),ExtHostStorage:Fi("ExtHostStorage"),ExtHostUrls:Fi("ExtHostUrls"),ExtHostUriOpeners:Fi("ExtHostUriOpeners"),ExtHostOutputService:Fi("ExtHostOutputService"),ExtHosLabelService:Fi("ExtHostLabelService"),ExtHostNotebook:Fi("ExtHostNotebook"),ExtHostNotebookDocuments:Fi("ExtHostNotebookDocuments"),ExtHostNotebookEditors:Fi("ExtHostNotebookEditors"),ExtHostNotebookKernels:Fi("ExtHostNotebookKernels"),ExtHostNotebookRenderers:Fi("ExtHostNotebookRenderers"),ExtHostInteractive:Fi("ExtHostInteractive"),ExtHostTheming:Fi("ExtHostTheming"),ExtHostTunnelService:Fi("ExtHostTunnelService"),ExtHostAuthentication:Fi("ExtHostAuthentication"),ExtHostTimeline:Fi("ExtHostTimeline"),ExtHostTesting:Fi("ExtHostTesting"),ExtHostTelemetry:Fi("ExtHostTelemetry")},Ma=(0,L.yh)("IExtHostRpcService");var Ts,Sl;let Qa=class{constructor(o,p){Ts.set(this,void 0),this._commands=new Map,this._apiCommands=new Map,Sl.set(this,void 0),(0,l.c)(this,Ts,o.getProxy(Ko.MainThreadCommands),"f"),this._logService=p,(0,l.c)(this,Sl,o.getProxy(Ko.MainThreadTelemetry),"f"),this.converter=new ga(this,P=>{const Y=this._apiCommands.get(P);return Y?.result===wl.Void?Y:void 0},p),this._argumentProcessors=[{processArgument:P=>(0,v.w)(P)},{processArgument:P=>(0,m.rs)(P,function(Y){return lt.isIRange(Y)?zi.to(Y):oi.isIPosition(Y)?ms.to(Y):lt.isIRange(Y.range)&&b.o.isUri(Y.uri)?Io.to(Y):Y instanceof E.KN?Y.buffer.buffer:Array.isArray(Y)?void 0:Y})}]}registerArgumentProcessor(o){this._argumentProcessors.push(o)}registerApiCommand(o){var p=this;const P=this.registerCommand(!1,o.id,(0,s.Z)(function*(...Y){const ae=o.args.map((ot,Rt)=>{if(!ot.validate(Y[Rt]))throw new Error(`Invalid argument '${ot.name}' when running '${o.id}', received: ${Y[Rt]}`);return ot.convert(Y[Rt])}),We=yield p.executeCommand(o.internalId,...ae);return o.result.convert(We,Y,p.converter)}),void 0,{description:o.description,args:o.args,returns:o.result.description});return this._apiCommands.set(o.id,o),new un(()=>{P.dispose(),this._apiCommands.delete(o.id)})}registerCommand(o,p,P,Y,ae,We){if(this._logService.trace("ExtHostCommands#registerCommand",p),!p.trim().length)throw new Error("invalid id");if(this._commands.has(p))throw new Error(`command '${p}' already exists`);return this._commands.set(p,{callback:P,thisArg:Y,description:ae,extension:We}),o&&(0,l.d)(this,Ts,"f").$registerCommand(p),new un(()=>{this._commands.delete(p)&&o&&(0,l.d)(this,Ts,"f").$unregisterCommand(p)})}executeCommand(o,...p){return this._logService.trace("ExtHostCommands#executeCommand",o),this._doExecuteCommand(o,p,!0)}_doExecuteCommand(o,p,P){var Y=this;return(0,s.Z)(function*(){if(Y._commands.has(o))return(0,l.d)(Y,Ts,"f").$fireCommandActivationEvent(o),Y._executeContributedCommand(o,p,!1);{let ae=!1;const We=(0,m.rs)(p,function(ot){return ot instanceof ht?ms.from(ot):ot instanceof Kt?zi.from(ot):ot instanceof Be?Io.from(ot):cr.isNotebookRange(ot)?Ni.from(ot):ot instanceof ArrayBuffer?(ae=!0,E.KN.wrap(new Uint8Array(ot))):ot instanceof Uint8Array?(ae=!0,E.KN.wrap(ot)):ot instanceof E.KN?(ae=!0,ot):Array.isArray(ot)?void 0:ot});try{const ot=yield(0,l.d)(Y,Ts,"f").$executeCommand(o,ae?new Lr(We):We,P);return(0,v.w)(ot)}catch(ot){if(ot instanceof Error&&"$executeCommand:retry"===ot.message)return Y._doExecuteCommand(o,p,!1);throw ot}}})()}_executeContributedCommand(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._commands.get(o);if(!ae)throw new Error("Unknown command");Y._reportTelemetry(ae,o);const{callback:We,thisArg:ot,description:Rt}=ae;if(Rt)for(let mn=0;mn<Rt.args.length;mn++)try{(0,_.Nf)(p[mn],Rt.args[mn].constraint)}catch{throw new Error(`Running the contributed command: '${o}' failed. Illegal argument '${Rt.args[mn].name}' - ${Rt.args[mn].description}`)}try{return yield We.apply(ot,p)}catch(mn){if(o===Y.converter.delegatingCommandId){const Fn=Y.converter.getActualCommand(...p);Fn&&(o=Fn.command)}throw Y._logService.error(mn,o,ae.extension?.identifier),P?new class extends Error{constructor(){super((0,x.y)(mn)),this.id=o,this.source=ae.extension?.displayName??ae.extension?.name}}:mn}})()}_reportTelemetry(o,p){!o.extension||o.extension.isBuiltin||(0,l.d)(this,Sl,"f").$publicLog2("Extension:ActionExecuted",{extensionId:o.extension.identifier.value,id:p})}$executeContributedCommand(o,...p){return this._logService.trace("ExtHostCommands#$executeContributedCommand",o),this._commands.has(o)?(p=p.map(P=>this._argumentProcessors.reduce((Y,ae)=>ae.processArgument(Y),P)),this._executeContributedCommand(o,p,!0)):Promise.reject(new Error(`Contributed command '${o}' does not exist.`))}getCommands(o=!1){return this._logService.trace("ExtHostCommands#getCommands",o),(0,l.d)(this,Ts,"f").$getCommands().then(p=>(o&&(p=p.filter(P=>"_"!==P[0])),p))}$getContributedCommandHandlerDescriptions(){const o=Object.create(null);for(const[p,P]of this._commands){const{description:Y}=P;Y&&(o[p]=Y)}return Promise.resolve(o)}};Ts=new WeakMap,Sl=new WeakMap,Qa=(0,l._)([(0,l.a)(0,Ma),(0,l.a)(1,A.VZ)],Qa);class ga{constructor(o,p,P){this._commands=o,this._lookupApiCommand=p,this._logService=P,this.delegatingCommandId=`_vscode_delegate_cmd_${Date.now().toString(36)}`,this._cache=new Map,this._cachIdPool=0,this._commands.registerCommand(!0,this.delegatingCommandId,this._executeConvertedCommand,this)}toInternal(o,p){if(!o)return;const P={$ident:void 0,id:o.command,title:o.title,tooltip:o.tooltip};if(!o.command)return P;const Y=this._lookupApiCommand(o.command);if(Y)P.id=Y.internalId,P.arguments=Y.args.map((ae,We)=>ae.convert(o.arguments&&o.arguments[We]));else if((0,S.Of)(o.arguments)){const ae=++this._cachIdPool;this._cache.set(ae,o),p.add((0,k.OF)(()=>{this._cache.delete(ae),this._logService.trace("CommandsConverter#DISPOSE",ae)})),P.$ident=ae,P.id=this.delegatingCommandId,P.arguments=[ae],this._logService.trace("CommandsConverter#CREATE",o.command,ae)}return P}fromInternal(o){return"number"==typeof o.$ident?this._cache.get(o.$ident):{command:o.id,title:o.title,arguments:o.arguments}}getActualCommand(...o){return this._cache.get(o[0])}_executeConvertedCommand(...o){const p=this.getActualCommand(...o);return this._logService.trace("CommandsConverter#EXECUTE",o[0],p?p.command:"MISSING"),p?this._commands.executeCommand(p.command,...p.arguments||[]):Promise.reject("actual command NOT FOUND")}}class wl{constructor(o,p){this.description=o,this.convert=p}}function Cr(be){return function(o){El.INSTANCE.registerNamedCustomer(be,o)}}wl.Void=new wl("no result",be=>be);class El{constructor(){this._namedCustomers=[],this._customers=[]}registerNamedCustomer(o,p){this._namedCustomers.push([o,p])}getNamedCustomers(){return this._namedCustomers}registerCustomer(o){this._customers.push(o)}getCustomers(){return this._customers}}El.INSTANCE=new El;let Wl=class{constructor(o,p,P){this._commandService=p,this._extensionService=P,this._commandRegistrations=new Map,this._proxy=o.getProxy(ys.ExtHostCommands),this._generateCommandsDocumentationRegistration=H.P0.registerCommand("_generateCommandsDocumentation",()=>this._generateCommandsDocumentation())}dispose(){(0,k.B9)(this._commandRegistrations.values()),this._commandRegistrations.clear(),this._generateCommandsDocumentationRegistration.dispose()}_generateCommandsDocumentation(){var o=this;return(0,s.Z)(function*(){const p=yield o._proxy.$getContributedCommandHandlerDescriptions(),P=H.P0.getCommands();for(const[ae,We]of P)We.description&&(p[ae]=We.description);const Y=[];for(const ae in p)Y.push("`"+ae+"` - "+Hl(p[ae]));console.log(Y.join("\n"))})()}$registerCommand(o){this._commandRegistrations.set(o,H.P0.registerCommand(o,(p,...P)=>this._proxy.$executeContributedCommand(o,...P).then(Y=>(0,v.w)(Y))))}$unregisterCommand(o){const p=this._commandRegistrations.get(o);p&&(p.dispose(),this._commandRegistrations.delete(o))}$fireCommandActivationEvent(o){const p=`onCommand:${o}`;this._extensionService.activationEventIsDone(p)||this._extensionService.activateByEvent(p)}$executeCommand(o,p,P){var Y=this;return(0,s.Z)(function*(){p instanceof Lr&&(p=p.value);for(let ae=0;ae<p.length;ae++)p[ae]=(0,v.w)(p[ae]);if(P&&p.length>0&&!H.P0.getCommand(o))throw yield Y._extensionService.activateByEvent(`onCommand:${o}`),new Error("$executeCommand:retry");return Y._commandService.executeCommand(o,...p)})()}$getCommands(){return Promise.resolve([...H.P0.getCommands().keys()])}};function Hl(be){if("string"==typeof be)return be;{const o=[be.description];if(o.push("\n\n"),be.args)for(const p of be.args)o.push(`* _${p.name}_ - ${p.description||""}\n`);return be.returns&&o.push(`* _(returns)_ - ${be.returns}`),o.push("\n\n"),o.join("")}}Wl=(0,l._)([Cr(Ko.MainThreadCommands),(0,l.a)(1,H.Hy),(0,l.a)(2,W.d)],Wl);let va=class{constructor(o,p){this._extHostLogService=p,this._reportedUsages=new Set,this._telemetryShape=o.getProxy(Ko.MainThreadTelemetry)}report(o,p,P){const Y=this.getUsageKey(o,p);this._reportedUsages.has(Y)||(this._reportedUsages.add(Y),p.isUnderDevelopment&&this._extHostLogService.warn(`[Deprecation Warning] '${o}' is deprecated. ${P}`),this._telemetryShape.$publicLog2("extHostDeprecatedApiUsage",{extensionId:p.identifier.value,apiId:o}))}getUsageKey(o,p){return`${o}-${p.identifier.value}`}};va=(0,l._)([(0,l.a)(0,Ma),(0,l.a)(1,A.VZ)],va);class gd{constructor(){this._systemSchemes=new Set(Object.keys(z.lg)),this._providerInfo=new Map,this.extUri=new N.U9(o=>{const p=this._providerInfo.get(o.scheme);return!(void 0===p||1024&p)})}$acceptProviderInfos(o,p){null===p?this._providerInfo.delete(o.scheme):this._providerInfo.set(o.scheme,p)}isFreeScheme(o){return!this._providerInfo.has(o)&&!this._systemSchemes.has(o)}getCapabilities(o){return this._providerInfo.get(o)}}const Ll=(0,L.yh)("IExtHostFileSystemInfo");var io,ts,ji;class dl{constructor(o,p,P,Y,ae,We){this._name=o,this._owner=p,this._maxDiagnosticsPerFile=P,io.set(this,void 0),ts.set(this,void 0),ji.set(this,void 0),this._isDisposed=!1,(0,l.c)(this,ji,new u.Y9(ot=>Y.getComparisonKey(ot)),"f"),(0,l.c)(this,io,ae,"f"),(0,l.c)(this,ts,We,"f")}dispose(){this._isDisposed||((0,l.d)(this,ts,"f").fire([...(0,l.d)(this,ji,"f").keys()]),(0,l.d)(this,io,"f")?.$clear(this._owner),(0,l.d)(this,ji,"f").clear(),this._isDisposed=!0)}get name(){return this._checkDisposed(),this._name}set(o,p){if(!o)return void this.clear();this._checkDisposed();let P=[];if(b.o.isUri(o)){if(!p)return void this.delete(o);(0,l.d)(this,ji,"f").set(o,p.slice()),P=[o]}else if(Array.isArray(o)){let ae;P=[],o=[...o].sort(dl._compareIndexedTuplesByUri);for(const We of o){const[ot,Rt]=We;if((!ae||ot.toString()!==ae.toString())&&(ae&&0===(0,l.d)(this,ji,"f").get(ae).length&&(0,l.d)(this,ji,"f").delete(ae),ae=ot,P.push(ot),(0,l.d)(this,ji,"f").set(ot,[])),Rt)(0,l.d)(this,ji,"f").get(ot)?.push(...Rt);else{const mn=(0,l.d)(this,ji,"f").get(ot);mn&&(mn.length=0)}}}if((0,l.d)(this,ts,"f").fire(P),!(0,l.d)(this,io,"f"))return;const Y=[];for(const ae of P){let We=[];const ot=(0,l.d)(this,ji,"f").get(ae);if(ot)if(ot.length>this._maxDiagnosticsPerFile){We=[];const Rt=[gn.Error,gn.Warning,gn.Information,gn.Hint];e:for(let mn=0;mn<4;mn++)for(const Fn of ot)if(Fn.severity===Rt[mn]&&We.push(es.from(Fn))===this._maxDiagnosticsPerFile)break e;We.push({severity:g.ZL.Info,message:(0,K.NC)({key:"limitHit",comment:["amount of errors/warning skipped due to limits"]},"Not showing {0} further errors and warnings.",ot.length-this._maxDiagnosticsPerFile),startLineNumber:We[We.length-1].startLineNumber,startColumn:We[We.length-1].startColumn,endLineNumber:We[We.length-1].endLineNumber,endColumn:We[We.length-1].endColumn})}else We=ot.map(Rt=>es.from(Rt));Y.push([ae,We])}(0,l.d)(this,io,"f").$changeMany(this._owner,Y)}delete(o){this._checkDisposed(),(0,l.d)(this,ts,"f").fire([o]),(0,l.d)(this,ji,"f").delete(o),(0,l.d)(this,io,"f")?.$changeMany(this._owner,[[o,void 0]])}clear(){this._checkDisposed(),(0,l.d)(this,ts,"f").fire([...(0,l.d)(this,ji,"f").keys()]),(0,l.d)(this,ji,"f").clear(),(0,l.d)(this,io,"f")?.$clear(this._owner)}forEach(o,p){this._checkDisposed();for(const[P,Y]of this)o.call(p,P,Y,this)}*[(io=new WeakMap,ts=new WeakMap,ji=new WeakMap,Symbol.iterator)](){this._checkDisposed();for(const o of(0,l.d)(this,ji,"f").keys())yield[o,this.get(o)]}get(o){this._checkDisposed();const p=(0,l.d)(this,ji,"f").get(o);return Array.isArray(p)?Object.freeze(p.slice(0)):[]}has(o){return this._checkDisposed(),Array.isArray((0,l.d)(this,ji,"f").get(o))}_checkDisposed(){if(this._isDisposed)throw new Error("illegal state - object is disposed")}static _compareIndexedTuplesByUri(o,p){return o[0].toString()<p[0].toString()?-1:o[0].toString()>p[0].toString()?1:0}}let Qr=class ud{constructor(o,p,P){this._logService=p,this._fileSystemInfoService=P,this._collections=new Map,this._onDidChangeDiagnostics=new O.D0({merge:Y=>Y.flat(),delay:50}),this.onDidChangeDiagnostics=O.ju.map(this._onDidChangeDiagnostics.event,ud._mapper),this._proxy=o.getProxy(Ko.MainThreadDiagnostics)}static _mapper(o){const p=new u.Y9;for(const P of o)p.set(P,P);return{uris:Object.freeze(Array.from(p.values()))}}createDiagnosticCollection(o,p){const{_collections:P,_proxy:Y,_onDidChangeDiagnostics:ae,_logService:We,_fileSystemInfoService:ot}=this,Rt=new class{$changeMany(di,wi){Y.$changeMany(di,wi),We.trace("[DiagnosticCollection] change many (extension, owner, uris)",o.value,di,0===wi.length?"CLEARING":wi)}$clear(di){Y.$clear(di),We.trace("[DiagnosticCollection] remove all (extension, owner)",o.value,di)}dispose(){Y.dispose()}};let mn;if(p)if(P.has(p)){this._logService.warn(`DiagnosticCollection with name '${p}' does already exist.`);do{mn=p+ud._idPool++}while(P.has(mn))}else mn=p;else p="_generated_diagnostic_collection_name_#"+ud._idPool++,mn=p;return new class extends dl{constructor(){super(p,mn,ud._maxDiagnosticsPerFile,ot.extUri,Rt,ae),P.set(mn,this)}dispose(){super.dispose(),P.delete(mn)}}}getDiagnostics(o){if(o)return this._getDiagnostics(o);{const p=new Map,P=[];for(const Y of this._collections.values())Y.forEach((ae,We)=>{let ot=p.get(ae.toString());typeof ot>"u"&&(ot=P.length,p.set(ae.toString(),ot),P.push([ae,[]])),P[ot][1]=P[ot][1].concat(...We)});return P}}_getDiagnostics(o){let p=[];for(const P of this._collections.values())P.has(o)&&(p=p.concat(P.get(o)));return p}$acceptMarkersChange(o){if(!this._mirrorCollection){const p="_generated_mirror",P=new dl(p,p,ud._maxDiagnosticsPerFile,this._fileSystemInfoService.extUri,void 0,this._onDidChangeDiagnostics);this._collections.set(p,P),this._mirrorCollection=P}for(const[p,P]of o)this._mirrorCollection.set(b.o.revive(p),P.map(es.to))}};function Pa(be,o,p,P){if(!be||P>200)return null;if("object"==typeof be){if(1===be.$mid)return p?b.o.revive(o.transformIncoming(be)):o.transformIncoming(be);for(const Y in be)if(Object.hasOwnProperty.call(be,Y)){const ae=Pa(be[Y],o,p,P+1);null!==ae&&(be[Y]=ae)}}return null}function rs(be,o){const p=Pa(be,o,!1,0);return null===p?be:p}Qr._idPool=0,Qr._maxDiagnosticsPerFile=1e3,Qr=(0,l._)([(0,l.a)(1,A.VZ),(0,l.a)(2,Ll)],Qr);class mr{constructor(){this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null}get[Symbol.toStringTag](){return this.toString()}_ensureActual(){return this._actual||(this._actual=new Promise((o,p)=>{this._actualOk=o,this._actualErr=p,this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)})),this._actual}resolveOk(o){this._hasValue||this._hasErr||(this._hasValue=!0,this._value=o,this._actual&&this._actualOk(o))}resolveErr(o){this._hasValue||this._hasErr||(this._hasErr=!0,this._err=o,this._actual?this._actualErr(o):(0,I.dL)(o))}then(o,p){return this._ensureActual().then(o,p)}catch(o){return this._ensureActual().then(void 0,o)}finally(o){return this._ensureActual().finally(o)}}class Qn extends mr{constructor(){super(),this._hasErr=!0,this._err=new I.FU}}var Aa;function Hr(be,o){try{return JSON.stringify(be,o)}catch{return"null"}}const ia="$$ref$$",Ya={[ia]:-1};function Na(be,o=null,p=!1){const P=[];return{jsonString:(p?Hr:JSON.stringify)(be,(ae,We)=>{if(typeof We>"u")return Ya;if("object"==typeof We){if(We instanceof E.KN){const ot=P.push(We)-1;return{[ia]:ot}}if(o)return o(ae,We)}return We}),referencedBuffers:P}}function cl(be,o,p){return JSON.parse(be,(P,Y)=>{if(Y){const ae=Y[ia];if("number"==typeof ae)return o[ae];if(p&&1===Y.$mid)return p.transformIncoming(Y)}return Y})}function ul(be,o){return JSON.stringify(be,o)}const md=()=>{},hl=Symbol.for("rpcProtocol"),Ra=Symbol.for("rpcProxy");class Ca extends k.JT{constructor(o,p=null,P=null){super(),this[Aa]=!0,this._onDidChangeResponsiveState=this._register(new l.E),this.onDidChangeResponsiveState=this._onDidChangeResponsiveState.event,this._protocol=o,this._logger=p,this._uriTransformer=P,this._uriReplacer=function Il(be){return be?(o,p)=>p&&1===p.$mid?be.transformOutgoing(p):p:null}(this._uriTransformer),this._isDisposed=!1,this._locals=[],this._proxies=[];for(let Y=0,ae=bl.count;Y<ae;Y++)this._locals[Y]=null,this._proxies[Y]=null;this._lastMessageId=0,this._cancelInvokedHandlers=Object.create(null),this._pendingRPCReplies={},this._responsiveState=0,this._unacknowledgedCount=0,this._unresponsiveTime=0,this._asyncCheckUresponsive=this._register(new $.pY(()=>this._checkUnresponsive(),1e3)),this._protocol.onMessage(Y=>this._receiveOneMessage(Y))}dispose(){this._isDisposed=!0,Object.keys(this._pendingRPCReplies).forEach(o=>{this._pendingRPCReplies[o].resolveErr((0,I.F0)())})}drain(){return"function"==typeof this._protocol.drain?this._protocol.drain():Promise.resolve()}_onWillSendRequest(o){0===this._unacknowledgedCount&&(this._unresponsiveTime=Date.now()+Ca.UNRESPONSIVE_TIME),this._unacknowledgedCount++,this._asyncCheckUresponsive.isScheduled()||this._asyncCheckUresponsive.schedule()}_onDidReceiveAcknowledge(o){this._unresponsiveTime=Date.now()+Ca.UNRESPONSIVE_TIME,this._unacknowledgedCount--,0===this._unacknowledgedCount&&this._asyncCheckUresponsive.cancel(),this._setResponsiveState(0)}_checkUnresponsive(){0!==this._unacknowledgedCount&&(Date.now()>this._unresponsiveTime?this._setResponsiveState(1):this._asyncCheckUresponsive.schedule())}_setResponsiveState(o){this._responsiveState!==o&&(this._responsiveState=o,this._onDidChangeResponsiveState.fire(this._responsiveState))}get responsiveState(){return this._responsiveState}transformIncomingURIs(o){return this._uriTransformer?rs(o,this._uriTransformer):o}getProxy(o){const{nid:p,sid:P}=o;return this._proxies[p]||(this._proxies[p]=this._createProxy(p,P)),this._proxies[p]}_createProxy(o,p){const P={get:(Y,ae)=>("string"==typeof ae&&!Y[ae]&&36===ae.charCodeAt(0)&&(Y[ae]=(...We)=>this._remoteCall(o,ae,We)),ae===Ra?p:Y[ae])};return new Proxy(Object.create(null),P)}set(o,p){return this._locals[o.nid]=p,p}assertRegistered(o){for(let p=0,P=o.length;p<P;p++){const Y=o[p];if(!this._locals[Y.nid])throw new Error(`Missing proxy instance ${Y.sid}`)}}_receiveOneMessage(o){if(this._isDisposed)return;const p=o.byteLength,P=Hs.read(o,0),Y=P.readUInt8(),ae=P.readUInt32();switch(Y){case 1:case 2:{let{rpcId:We,method:ot,args:Rt}=dr.deserializeRequestJSONArgs(P);this._uriTransformer&&(Rt=rs(Rt,this._uriTransformer)),this._receiveRequest(p,ae,We,ot,Rt,2===Y);break}case 3:case 4:{let{rpcId:We,method:ot,args:Rt}=dr.deserializeRequestMixedArgs(P);this._uriTransformer&&(Rt=rs(Rt,this._uriTransformer)),this._receiveRequest(p,ae,We,ot,Rt,4===Y);break}case 5:this._logger?.logIncoming(p,ae,0,"ack"),this._onDidReceiveAcknowledge(ae);break;case 6:this._receiveCancel(p,ae);break;case 7:this._receiveReply(p,ae,void 0);break;case 9:{let We=dr.deserializeReplyOKJSON(P);this._uriTransformer&&(We=rs(We,this._uriTransformer)),this._receiveReply(p,ae,We);break}case 10:{const We=dr.deserializeReplyOKJSONWithBuffers(P,this._uriTransformer);this._receiveReply(p,ae,We);break}case 8:{const We=dr.deserializeReplyOKVSBuffer(P);this._receiveReply(p,ae,We);break}case 11:{let We=dr.deserializeReplyErrError(P);this._uriTransformer&&(We=rs(We,this._uriTransformer)),this._receiveReplyErr(p,ae,We);break}case 12:this._receiveReplyErr(p,ae,void 0);break;default:console.error("received unexpected message"),console.error(o)}}_receiveRequest(o,p,P,Y,ae,We){this._logger?.logIncoming(o,p,1,`receiveRequest ${Za(P)}.${Y}(`,ae);const ot=String(p);let Rt,mn;if(We){const di=new ie;ae.push(di.token),Rt=this._invokeHandler(P,Y,ae),mn=()=>di.cancel()}else Rt=this._invokeHandler(P,Y,ae),mn=md;this._cancelInvokedHandlers[ot]=mn;const Fn=dr.serializeAcknowledged(p);this._logger?.logOutgoing(Fn.byteLength,p,1,"ack"),this._protocol.send(Fn),Rt.then(di=>{delete this._cancelInvokedHandlers[ot];const wi=dr.serializeReplyOK(p,di,this._uriReplacer);this._logger?.logOutgoing(wi.byteLength,p,1,"reply:",di),this._protocol.send(wi)},di=>{delete this._cancelInvokedHandlers[ot];const wi=dr.serializeReplyErr(p,di);this._logger?.logOutgoing(wi.byteLength,p,1,"replyErr:",di),this._protocol.send(wi)})}_receiveCancel(o,p){this._logger?.logIncoming(o,p,1,"receiveCancel");const P=String(p);this._cancelInvokedHandlers[P]?.()}_receiveReply(o,p,P){this._logger?.logIncoming(o,p,0,"receiveReply:",P);const Y=String(p);if(!this._pendingRPCReplies.hasOwnProperty(Y))return;const ae=this._pendingRPCReplies[Y];delete this._pendingRPCReplies[Y],ae.resolveOk(P)}_receiveReplyErr(o,p,P){this._logger?.logIncoming(o,p,0,"receiveReplyErr:",P);const Y=String(p);if(!this._pendingRPCReplies.hasOwnProperty(Y))return;const ae=this._pendingRPCReplies[Y];let We;delete this._pendingRPCReplies[Y],P&&(P.$isError?(We=new Error,We.name=P.name,We.message=P.message,We.stack=P.stack):We=P),ae.resolveErr(We)}_invokeHandler(o,p,P){try{return Promise.resolve(this._doInvokeHandler(o,p,P))}catch(Y){return Promise.reject(Y)}}_doInvokeHandler(o,p,P){const Y=this._locals[o];if(!Y)throw new Error("Unknown actor "+Za(o));const ae=Y[p];if("function"!=typeof ae)throw new Error("Unknown method "+p+" on actor "+Za(o));return ae.apply(Y,P)}_remoteCall(o,p,P){if(this._isDisposed)return new Qn;let Y=null;if(P.length>0&&j.T.isCancellationToken(P[P.length-1])&&(Y=P.pop()),Y&&Y.isCancellationRequested)return Promise.reject((0,I.F0)());const ae=dr.serializeRequestArguments(P,this._uriReplacer),We=++this._lastMessageId,ot=String(We),Rt=new mr;Y&&Y.onCancellationRequested(()=>{const Fn=dr.serializeCancel(We);this._logger?.logOutgoing(Fn.byteLength,We,0,"cancel"),this._protocol.send(dr.serializeCancel(We))}),this._pendingRPCReplies[ot]=Rt,this._onWillSendRequest(We);const mn=dr.serializeRequest(We,o,p,ae,!!Y);return this._logger?.logOutgoing(mn.byteLength,We,0,`request: ${Za(o)}.${p}(`,P),this._protocol.send(mn),Rt}}Aa=hl,Ca.UNRESPONSIVE_TIME=3e3;let Hs=(()=>{class be{constructor(p,P){this._buff=p,this._offset=P}static alloc(p,P,Y){const ae=new be(E.KN.alloc(Y+1+4),0);return ae.writeUInt8(p),ae.writeUInt32(P),ae}static read(p,P){return new be(p,P)}get buffer(){return this._buff}static sizeUInt8(){return 1}writeUInt8(p){this._buff.writeUInt8(p,this._offset),this._offset+=1}readUInt8(){const p=this._buff.readUInt8(this._offset);return this._offset+=1,p}writeUInt32(p){this._buff.writeUInt32BE(p,this._offset),this._offset+=4}readUInt32(){const p=this._buff.readUInt32BE(this._offset);return this._offset+=4,p}static sizeShortString(p){return 1+p.byteLength}writeShortString(p){this._buff.writeUInt8(p.byteLength,this._offset),this._offset+=1,this._buff.set(p,this._offset),this._offset+=p.byteLength}readShortString(){const p=this._buff.readUInt8(this._offset);this._offset+=1;const Y=this._buff.slice(this._offset,this._offset+p).toString();return this._offset+=p,Y}static sizeLongString(p){return 4+p.byteLength}writeLongString(p){this._buff.writeUInt32BE(p.byteLength,this._offset),this._offset+=4,this._buff.set(p,this._offset),this._offset+=p.byteLength}readLongString(){const p=this._buff.readUInt32BE(this._offset);this._offset+=4;const Y=this._buff.slice(this._offset,this._offset+p).toString();return this._offset+=p,Y}writeBuffer(p){this._buff.writeUInt32BE(p.byteLength,this._offset),this._offset+=4,this._buff.set(p,this._offset),this._offset+=p.byteLength}static sizeVSBuffer(p){return 4+p.byteLength}writeVSBuffer(p){this._buff.writeUInt32BE(p.byteLength,this._offset),this._offset+=4,this._buff.set(p,this._offset),this._offset+=p.byteLength}readVSBuffer(){const p=this._buff.readUInt32BE(this._offset);this._offset+=4;const P=this._buff.slice(this._offset,this._offset+p);return this._offset+=p,P}static sizeMixedArray(p){let P=0;P+=1;for(let Y=0,ae=p.length;Y<ae;Y++){const We=p[Y];switch(P+=1,We.type){case 1:P+=this.sizeLongString(We.value);break;case 2:P+=this.sizeVSBuffer(We.value);break;case 3:P+=this.sizeUInt32,P+=this.sizeLongString(We.value);for(let ot=0;ot<We.buffers.length;++ot)P+=this.sizeVSBuffer(We.buffers[ot])}}return P}writeMixedArray(p){this._buff.writeUInt8(p.length,this._offset),this._offset+=1;for(let P=0,Y=p.length;P<Y;P++){const ae=p[P];switch(ae.type){case 1:this.writeUInt8(1),this.writeLongString(ae.value);break;case 2:this.writeUInt8(2),this.writeVSBuffer(ae.value);break;case 3:this.writeUInt8(3),this.writeUInt32(ae.buffers.length),this.writeLongString(ae.value);for(let We=0;We<ae.buffers.length;++We)this.writeBuffer(ae.buffers[We]);break;case 4:this.writeUInt8(4)}}}readMixedArray(){const p=this._buff.readUInt8(this._offset);this._offset+=1;const P=new Array(p);for(let Y=0;Y<p;Y++)switch(this.readUInt8()){case 1:P[Y]=this.readLongString();break;case 2:P[Y]=this.readVSBuffer();break;case 3:{const We=this.readUInt32(),ot=this.readLongString(),Rt=[];for(let mn=0;mn<We;++mn)Rt.push(this.readVSBuffer());P[Y]=new Lr(cl(ot,Rt,null));break}case 4:P[Y]=void 0}return P}}return be.sizeUInt32=4,be})();class dr{static _useMixedArgSerialization(o){for(let p=0,P=o.length;p<P;p++)if(o[p]instanceof E.KN||o[p]instanceof Lr||typeof o[p]>"u")return!0;return!1}static serializeRequestArguments(o,p){if(this._useMixedArgSerialization(o)){const P=[];for(let Y=0,ae=o.length;Y<ae;Y++){const We=o[Y];if(We instanceof E.KN)P[Y]={type:2,value:We};else if(typeof We>"u")P[Y]={type:4};else if(We instanceof Lr){const{jsonString:ot,referencedBuffers:Rt}=Na(We.value,p);P[Y]={type:3,value:E.KN.fromString(ot),buffers:Rt}}else P[Y]={type:1,value:E.KN.fromString(ul(We,p))}}return{type:1,args:P}}return{type:0,args:ul(o,p)}}static serializeRequest(o,p,P,Y,ae){switch(Y.type){case 0:return this._requestJSONArgs(o,p,P,Y.args,ae);case 1:return this._requestMixedArgs(o,p,P,Y.args,ae)}}static _requestJSONArgs(o,p,P,Y,ae){const We=E.KN.fromString(P),ot=E.KN.fromString(Y);let Rt=0;Rt+=Hs.sizeUInt8(),Rt+=Hs.sizeShortString(We),Rt+=Hs.sizeLongString(ot);const mn=Hs.alloc(ae?2:1,o,Rt);return mn.writeUInt8(p),mn.writeShortString(We),mn.writeLongString(ot),mn.buffer}static deserializeRequestJSONArgs(o){const p=o.readUInt8(),P=o.readShortString(),Y=o.readLongString();return{rpcId:p,method:P,args:JSON.parse(Y)}}static _requestMixedArgs(o,p,P,Y,ae){const We=E.KN.fromString(P);let ot=0;ot+=Hs.sizeUInt8(),ot+=Hs.sizeShortString(We),ot+=Hs.sizeMixedArray(Y);const Rt=Hs.alloc(ae?4:3,o,ot);return Rt.writeUInt8(p),Rt.writeShortString(We),Rt.writeMixedArray(Y),Rt.buffer}static deserializeRequestMixedArgs(o){const p=o.readUInt8(),P=o.readShortString(),Y=o.readMixedArray(),ae=new Array(Y.length);for(let We=0,ot=Y.length;We<ot;We++){const Rt=Y[We];ae[We]="string"==typeof Rt?JSON.parse(Rt):Rt}return{rpcId:p,method:P,args:ae}}static serializeAcknowledged(o){return Hs.alloc(5,o,0).buffer}static serializeCancel(o){return Hs.alloc(6,o,0).buffer}static serializeReplyOK(o,p,P){if(typeof p>"u")return this._serializeReplyOKEmpty(o);if(p instanceof E.KN)return this._serializeReplyOKVSBuffer(o,p);if(p instanceof Lr){const{jsonString:Y,referencedBuffers:ae}=Na(p.value,P,!0);return this._serializeReplyOKJSONWithBuffers(o,Y,ae)}return this._serializeReplyOKJSON(o,Hr(p,P))}static _serializeReplyOKEmpty(o){return Hs.alloc(7,o,0).buffer}static _serializeReplyOKVSBuffer(o,p){let P=0;P+=Hs.sizeVSBuffer(p);const Y=Hs.alloc(8,o,P);return Y.writeVSBuffer(p),Y.buffer}static deserializeReplyOKVSBuffer(o){return o.readVSBuffer()}static _serializeReplyOKJSON(o,p){const P=E.KN.fromString(p);let Y=0;Y+=Hs.sizeLongString(P);const ae=Hs.alloc(9,o,Y);return ae.writeLongString(P),ae.buffer}static _serializeReplyOKJSONWithBuffers(o,p,P){const Y=E.KN.fromString(p);let ae=0;ae+=Hs.sizeUInt32,ae+=Hs.sizeLongString(Y);for(const ot of P)ae+=Hs.sizeVSBuffer(ot);const We=Hs.alloc(10,o,ae);We.writeUInt32(P.length),We.writeLongString(Y);for(const ot of P)We.writeBuffer(ot);return We.buffer}static deserializeReplyOKJSON(o){const p=o.readLongString();return JSON.parse(p)}static deserializeReplyOKJSONWithBuffers(o,p){const P=o.readUInt32(),Y=o.readLongString(),ae=[];for(let We=0;We<P;++We)ae.push(o.readVSBuffer());return new Lr(cl(Y,ae,p))}static serializeReplyErr(o,p){const P=p?Hr((0,I.ri)(p),null):void 0;if("string"!=typeof P)return this._serializeReplyErrEmpty(o);const Y=E.KN.fromString(P);let ae=0;ae+=Hs.sizeLongString(Y);const We=Hs.alloc(11,o,ae);return We.writeLongString(Y),We.buffer}static deserializeReplyErrError(o){const p=o.readLongString();return JSON.parse(p)}static _serializeReplyErrEmpty(o){return Hs.alloc(12,o,0).buffer}}class pd{constructor(){this._hasListeners=!1,this._isDeliveringMessages=!1,this._bufferedMessages=[],this._emitter=new l.E({onFirstListenerAdd:()=>{this._hasListeners=!0,queueMicrotask(()=>this._deliverMessages())},onLastListenerRemove:()=>{this._hasListeners=!1}}),this.event=this._emitter.event}_deliverMessages(){if(!this._isDeliveringMessages){for(this._isDeliveringMessages=!0;this._hasListeners&&this._bufferedMessages.length>0;)this._emitter.fire(this._bufferedMessages.shift());this._isDeliveringMessages=!1}}fire(o){this._hasListeners?this._bufferedMessages.length>0?this._bufferedMessages.push(o):this._emitter.fire(o):this._bufferedMessages.push(o)}flushBuffer(){this._bufferedMessages=[]}}const Vr=new Map;class _d extends q.v{constructor(o,p,P,Y,ae,We,ot,Rt){super(p,P,Y,ae),this._proxy=o,this._languageId=We,this._isDirty=ot,this.notebook=Rt,this._isDisposed=!1}dispose(){(0,R.ok)(!this._isDisposed),this._isDisposed=!0,this._isDirty=!1}equalLines(o){return(0,S.fS)(this._lines,o)}get document(){if(!this._document){const o=this;this._document={get uri(){return o._uri},get fileName(){return o._uri.fsPath},get isUntitled(){return o._uri.scheme===z.lg.untitled},get languageId(){return o._languageId},get version(){return o._versionId},get isClosed(){return o._isDisposed},get isDirty(){return o._isDirty},save:()=>o._save(),getText:p=>p?o._getTextInRange(p):o.getText(),get eol(){return"\n"===o._eol?Dn.LF:Dn.CRLF},get lineCount(){return o._lines.length},lineAt:p=>o._lineAt(p),offsetAt:p=>o._offsetAt(p),positionAt:p=>o._positionAt(p),validateRange:p=>o._validateRange(p),validatePosition:p=>o._validatePosition(p),getWordRangeAtPosition:(p,P)=>o._getWordRangeAtPosition(p,P)}}return Object.freeze(this._document)}_acceptLanguageId(o){(0,R.ok)(!this._isDisposed),this._languageId=o}_acceptIsDirty(o){(0,R.ok)(!this._isDisposed),this._isDirty=o}_save(){return this._isDisposed?Promise.reject(new Error("Document has been closed")):this._proxy.$trySaveDocument(this._uri)}_getTextInRange(o){const p=this._validateRange(o);if(p.isEmpty)return"";if(p.isSingleLine)return this._lines[p.start.line].substring(p.start.character,p.end.character);const P=this._eol,Y=p.start.line,ae=p.end.line,We=[];We.push(this._lines[Y].substring(p.start.character));for(let ot=Y+1;ot<ae;ot++)We.push(this._lines[ot]);return We.push(this._lines[ae].substring(0,p.end.character)),We.join(P)}_lineAt(o){let p;if(o instanceof ht?p=o.line:"number"==typeof o&&(p=o),"number"!=typeof p||p<0||p>=this._lines.length||Math.floor(p)!==p)throw new Error("Illegal value for `line`");return new Xa(p,this._lines[p],p===this._lines.length-1)}_offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getPrefixSum(o.line-1)+o.character}_positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();const p=this._lineStarts.getIndexOf(o);return new ht(p.index,Math.min(p.remainder,this._lines[p.index].length))}_validateRange(o){if(!(o instanceof Kt))throw new Error("Invalid argument");const p=this._validatePosition(o.start),P=this._validatePosition(o.end);return p===o.start&&P===o.end?o:new Kt(p.line,p.character,P.line,P.character)}_validatePosition(o){if(!(o instanceof ht))throw new Error("Invalid argument");if(0===this._lines.length)return o.with(0,0);let{line:p,character:P}=o,Y=!1;if(p<0)p=0,P=0,Y=!0;else if(p>=this._lines.length)p=this._lines.length-1,P=this._lines[p].length,Y=!0;else{const ae=this._lines[p].length;P<0?(P=0,Y=!0):P>ae&&(P=ae,Y=!0)}return Y?new ht(p,P):o}_getWordRangeAtPosition(o,p){const P=this._validatePosition(o);if(p){if((0,r.IO)(p))throw new Error(`[getWordRangeAtPosition]: ignoring custom regexp '${p.source}' because it matches the empty string.`)}else p=function Tl(be){return Vr.get(be)}(this._languageId);const Y=(0,Z.t2)(P.character+1,(0,Z.eq)(p),this._lines[P.line],0);if(Y)return new Kt(P.line,Y.startColumn-1,P.line,Y.endColumn-1)}}class Xa{constructor(o,p,P){this._line=o,this._text=p,this._isLastLine=P}get lineNumber(){return this._line}get text(){return this._text}get range(){return new Kt(this._line,0,this._line,this._text.length)}get rangeIncludingLineBreak(){return this._isLastLine?this.range:new Kt(this._line,0,this._line+1,0)}get firstNonWhitespaceCharacterIndex(){return/^(\s*)/.exec(this._text)[1].length}get isEmptyOrWhitespace(){return this.firstNonWhitespaceCharacterIndex===this._text.length}}class Ul{constructor(o,p){this._onDidAddDocument=new l.E,this._onDidRemoveDocument=new l.E,this._onDidChangeDocument=new l.E,this._onDidSaveDocument=new l.E,this.onDidAddDocument=this._onDidAddDocument.event,this.onDidRemoveDocument=this._onDidRemoveDocument.event,this.onDidChangeDocument=this._onDidChangeDocument.event,this.onDidSaveDocument=this._onDidSaveDocument.event,this._toDispose=new k.SL,this._documentLoader=new Map,this._proxy=o.getProxy(Ko.MainThreadDocuments),this._documentsAndEditors=p,this._documentsAndEditors.onDidRemoveDocuments(P=>{for(const Y of P)this._onDidRemoveDocument.fire(Y.document)},void 0,this._toDispose),this._documentsAndEditors.onDidAddDocuments(P=>{for(const Y of P)this._onDidAddDocument.fire(Y.document)},void 0,this._toDispose)}dispose(){this._toDispose.dispose()}getAllDocumentData(){return[...this._documentsAndEditors.allDocuments()]}getDocumentData(o){if(!o)return;return this._documentsAndEditors.getDocument(o)||void 0}getDocument(o){const p=this.getDocumentData(o);if(!p?.document)throw new Error(`Unable to retrieve document from URI '${o}'`);return p.document}ensureDocumentData(o){const p=this._documentsAndEditors.getDocument(o);if(p)return Promise.resolve(p);let P=this._documentLoader.get(o.toString());return P||(P=this._proxy.$tryOpenDocument(o).then(Y=>{this._documentLoader.delete(o.toString());const ae=b.o.revive(Y);return(0,_.cW)(this._documentsAndEditors.getDocument(ae))},Y=>(this._documentLoader.delete(o.toString()),Promise.reject(Y))),this._documentLoader.set(o.toString(),P)),P}createDocumentData(o){return this._proxy.$tryCreateDocument(o).then(p=>b.o.revive(p))}$acceptModelLanguageChanged(o,p){const P=b.o.revive(o),Y=this._documentsAndEditors.getDocument(P);if(!Y)throw new Error("unknown document");this._onDidRemoveDocument.fire(Y.document),Y._acceptLanguageId(p),this._onDidAddDocument.fire(Y.document)}$acceptModelSaved(o){const p=b.o.revive(o),P=this._documentsAndEditors.getDocument(p);if(!P)throw new Error("unknown document");this.$acceptDirtyStateChanged(o,!1),this._onDidSaveDocument.fire(P.document)}$acceptDirtyStateChanged(o,p){const P=b.o.revive(o),Y=this._documentsAndEditors.getDocument(P);if(!Y)throw new Error("unknown document");Y._acceptIsDirty(p),this._onDidChangeDocument.fire({document:Y.document,contentChanges:[],reason:void 0})}$acceptModelChanged(o,p,P){const Y=b.o.revive(o),ae=this._documentsAndEditors.getDocument(Y);if(!ae)throw new Error("unknown document");let We;ae._acceptIsDirty(P),ae.onEvents(p),p.isUndoing?We=Sn.Undo:p.isRedoing&&(We=Sn.Redo),this._onDidChangeDocument.fire((0,m._A)({document:ae.document,contentChanges:p.changes.map(ot=>({range:zi.to(ot.range),rangeOffset:ot.rangeOffset,rangeLength:ot.rangeLength,text:ot.text})),reason:We}))}setWordDefinitionFor(o,p){!function Vl(be,o){o?Vr.set(be,o):Vr.delete(be)}(o,p)}}const jd=(0,L.yh)("IExtHostInitDataService");function ya(be,o,p){return new N.U9(P=>fl(P,p)).isEqual(be,o)}function Kl(be,o,p){return ya(be.uri,o.uri,p)?0:(0,r.qu)(be.uri.toString(),o.uri.toString())}function vd(be,o,p){return be.index!==o.index?be.index<o.index?-1:1:ya(be.uri,o.uri,p)?(0,r.qu)(be.name,o.name):(0,r.qu)(be.uri.toString(),o.uri.toString())}function ba(be,o,p,P){const Y=be.slice(0).sort((We,ot)=>p(We,ot,P)),ae=o.slice(0).sort((We,ot)=>p(We,ot,P));return(0,t.x)(Y,ae,(We,ot)=>p(We,ot,P))}function fl(be,o){const p=o.getCapabilities(be.scheme);return!(p&&1024&p)}class Yr extends xe.j${constructor(o,p,P,Y,ae,We,ot){super(o,P.map(Rt=>new xe.md(Rt)),Y,ae,ot),this._name=p,this._isUntitled=We,this._workspaceFolders=[],this._structure=u.Id.forUris(ot),P.forEach(Rt=>{this._workspaceFolders.push(Rt),this._structure.set(Rt.uri,Rt)})}static toExtHostWorkspace(o,p,P,Y){if(!o)return{workspace:null,added:[],removed:[]};const{id:ae,name:We,folders:ot,configuration:Rt,transient:mn,isUntitled:Fn}=o,di=[],wi=p;p?ot.forEach((Bi,Is)=>{const ks=b.o.revive(Bi.uri),br=Yr._findFolder(P||p,ks,Y);br?(br.name=Bi.name,br.index=Bi.index,di.push(br)):di.push({uri:ks,name:Bi.name,index:Is})}):di.push(...ot.map(({uri:Bi,name:Is,index:ks})=>({uri:b.o.revive(Bi),name:Is,index:ks}))),di.sort((Bi,Is)=>Bi.index<Is.index?-1:1);const Yn=new Yr(ae,We,di,!!mn,Rt?b.o.revive(Rt):null,!!Fn,Bi=>fl(Bi,Y)),{added:pi,removed:Ri}=ba(wi?wi.workspaceFolders:[],Yn.workspaceFolders,Kl,Y);return{workspace:Yn,added:pi,removed:Ri}}static _findFolder(o,p,P){for(let Y=0;Y<o.folders.length;Y++){const ae=o.workspaceFolders[Y];if(ya(ae.uri,p,P))return ae}}get name(){return this._name}get isUntitled(){return this._isUntitled}get workspaceFolders(){return this._workspaceFolders.slice(0)}getWorkspaceFolder(o,p){return p&&this._structure.get(o)&&(o=(0,N.XX)(o)),this._structure.findSubstr(o)}resolveWorkspaceFolder(o){return this._structure.get(o)}}let Sa=class{constructor(o,p,P,Y){this._onDidChangeWorkspace=new l.E,this.onDidChangeWorkspace=this._onDidChangeWorkspace.event,this._onDidGrantWorkspaceTrust=new l.E,this.onDidGrantWorkspaceTrust=this._onDidGrantWorkspaceTrust.event,this._activeSearchCallbacks=[],this._trusted=!1,this._logService=Y,this._extHostFileSystemInfo=P,this._requestIdProvider=new Pn,this._barrier=new Se.B,this._proxy=o.getProxy(Ko.MainThreadWorkspace),this._messageService=o.getProxy(Ko.MainThreadMessageService);const ae=p.workspace;this._confirmedWorkspace=ae?new Yr(ae.id,ae.name,[],!!ae.transient,ae.configuration?b.o.revive(ae.configuration):null,!!ae.isUntitled,We=>fl(We,P)):void 0}$initializeWorkspace(o,p){this._trusted=p,this.$acceptWorkspaceData(o),this._barrier.open()}waitForInitializeCall(){return this._barrier.wait()}get workspace(){return this._actualWorkspace}get name(){return this._actualWorkspace?this._actualWorkspace.name:void 0}get workspaceFile(){if(this._actualWorkspace&&this._actualWorkspace.configuration)return this._actualWorkspace.isUntitled?b.o.from({scheme:z.lg.untitled,path:(0,N.EZ)((0,N.XX)(this._actualWorkspace.configuration))}):this._actualWorkspace.configuration}get _actualWorkspace(){return this._unconfirmedWorkspace||this._confirmedWorkspace}getWorkspaceFolders(){if(this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}getWorkspaceFolders2(){var o=this;return(0,s.Z)(function*(){if(yield o._barrier.wait(),o._actualWorkspace)return o._actualWorkspace.workspaceFolders.slice(0)})()}updateWorkspaceFolders(o,p,P,...Y){const ae=[];if(Array.isArray(Y)&&Y.forEach(Fn=>{b.o.isUri(Fn.uri)&&!ae.some(di=>ya(di.uri,Fn.uri,this._extHostFileSystemInfo))&&ae.push({uri:Fn.uri,name:Fn.name||(0,N.Hx)(Fn.uri)})}),this._unconfirmedWorkspace||[p,P].some(Fn=>"number"!=typeof Fn||Fn<0)||0===P&&0===ae.length)return!1;const We=this._actualWorkspace?this._actualWorkspace.workspaceFolders:[];if(p+P>We.length)return!1;const ot=We.slice(0);ot.splice(p,P,...ae.map(Fn=>({uri:Fn.uri,name:Fn.name||(0,N.Hx)(Fn.uri),index:void 0})));for(let Fn=0;Fn<ot.length;Fn++){const di=ot[Fn];if(ot.some((wi,Yn)=>Yn!==Fn&&ya(di.uri,wi.uri,this._extHostFileSystemInfo)))return!1}ot.forEach((Fn,di)=>Fn.index=di);const{added:Rt,removed:mn}=ba(We,ot,vd,this._extHostFileSystemInfo);if(0===Rt.length&&0===mn.length)return!1;if(this._proxy){const Fn=o.displayName||o.name;this._proxy.$updateWorkspaceFolders(Fn,p,P,ae).then(void 0,di=>{this._unconfirmedWorkspace=void 0;const wi={source:{identifier:o.identifier,label:o.displayName||o.name}};this._messageService.$showMessage(Ie.zb.Error,(0,K.NC)("updateerror","Extension '{0}' failed to update workspace folders: {1}",Fn,di.toString()),wi,[])})}return this.trySetWorkspaceFolders(ot),!0}getWorkspaceFolder(o,p){if(this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(o,p)}getWorkspaceFolder2(o,p){var P=this;return(0,s.Z)(function*(){if(yield P._barrier.wait(),P._actualWorkspace)return P._actualWorkspace.getWorkspaceFolder(o,p)})()}resolveWorkspaceFolder(o){var p=this;return(0,s.Z)(function*(){if(yield p._barrier.wait(),p._actualWorkspace)return p._actualWorkspace.resolveWorkspaceFolder(o)})()}getPath(){if(!this._actualWorkspace)return;const{folders:o}=this._actualWorkspace;return 0!==o.length?o[0].uri.fsPath:void 0}getRelativePath(o,p){let P,Y="";if("string"==typeof o?(P=b.o.file(o),Y=o):typeof o<"u"&&(P=o,Y=o.fsPath),!P)return Y;const ae=this.getWorkspaceFolder(P,!0);if(!ae)return Y;typeof p>"u"&&this._actualWorkspace&&(p=this._actualWorkspace.folders.length>1);let We=(0,N.lX)(ae.uri,P);return p&&ae.name&&(We=`${ae.name}/${We}`),We}trySetWorkspaceFolders(o){this._actualWorkspace&&(this._unconfirmedWorkspace=Yr.toExtHostWorkspace({id:this._actualWorkspace.id,name:this._actualWorkspace.name,configuration:this._actualWorkspace.configuration,folders:o,isUntitled:this._actualWorkspace.isUntitled},this._actualWorkspace,void 0,this._extHostFileSystemInfo).workspace||void 0)}$acceptWorkspaceData(o){const{workspace:p,added:P,removed:Y}=Yr.toExtHostWorkspace(o,this._confirmedWorkspace,this._unconfirmedWorkspace,this._extHostFileSystemInfo);this._confirmedWorkspace=p||void 0,this._unconfirmedWorkspace=void 0,this._onDidChangeWorkspace.fire(Object.freeze({added:P,removed:Y}))}findFiles(o,p,P,Y,ae=j.T.None){let We;if(this._logService.trace(`extHostWorkspace#findFiles: fileSearch, extension: ${Y.value}, entryPoint: findFiles`),null===p?We=!1:p&&(We="string"==typeof p?p:p.pattern),ae&&ae.isCancellationRequested)return Promise.resolve([]);const{includePattern:ot,folder:Rt}=i(ha.from(o));return this._proxy.$startFileSearch((0,f.w)(ot),(0,f.w)(Rt),(0,f.w)(We),(0,f.w)(P),ae).then(mn=>Array.isArray(mn)?mn.map(Fn=>b.o.revive(Fn)):[])}findTextInFiles(o,p,P,Y,ae=j.T.None){var We=this;return(0,s.Z)(function*(){We._logService.trace(`extHostWorkspace#findTextInFiles: textSearch, extension: ${Y.value}, entryPoint: findTextInFiles`);const ot=We._requestIdProvider.getNext(),Rt=typeof p.previewOptions>"u"?{matchLines:100,charsPerLine:1e4}:p.previewOptions,{includePattern:mn,folder:Fn}=i(ha.from(p.include)),wi={ignoreSymlinks:"boolean"==typeof p.followSymlinks?!p.followSymlinks:void 0,disregardIgnoreFiles:"boolean"==typeof p.useIgnoreFiles?!p.useIgnoreFiles:void 0,disregardGlobalIgnoreFiles:"boolean"==typeof p.useGlobalIgnoreFiles?!p.useGlobalIgnoreFiles:void 0,disregardParentIgnoreFiles:"boolean"==typeof p.useParentIgnoreFiles?!p.useParentIgnoreFiles:void 0,disregardExcludeSettings:"boolean"!=typeof p.useDefaultExcludes||!p.useDefaultExcludes,fileEncoding:p.encoding,maxResults:p.maxResults,previewOptions:Rt,afterContext:p.afterContext,beforeContext:p.beforeContext,includePattern:mn,excludePattern:"string"==typeof p.exclude?p.exclude:p.exclude?p.exclude.pattern:void 0};if(We._activeSearchCallbacks[ot]=Yn=>{const pi=b.o.revive(Yn.resource);Yn.results.forEach(Ri=>{!function jl(be){return!!be.preview}(Ri)?P({uri:pi,text:Ri.text,lineNumber:Ri.lineNumber}):P({uri:pi,preview:{text:Ri.preview.text,matches:(0,t.w)(Ri.preview.matches,Bi=>new Kt(Bi.startLineNumber,Bi.startColumn,Bi.endLineNumber,Bi.endColumn))},ranges:(0,t.w)(Ri.ranges,Bi=>new Kt(Bi.startLineNumber,Bi.startColumn,Bi.endLineNumber,Bi.endColumn))})})},ae.isCancellationRequested)return{};try{const Yn=yield We._proxy.$startTextSearch(o,(0,f.w)(Fn),wi,ot,ae);return delete We._activeSearchCallbacks[ot],Yn||{}}catch(Yn){throw delete We._activeSearchCallbacks[ot],Yn}})()}$handleTextSearchResult(o,p){this._activeSearchCallbacks[p]?.(o)}saveAll(o){return this._proxy.$saveAll(o)}resolveProxy(o){return this._proxy.$resolveProxy(o)}get trusted(){return this._trusted}requestWorkspaceTrust(o){return this._proxy.$requestWorkspaceTrust(o)}$onDidGrantWorkspaceTrust(){this._trusted||(this._trusted=!0,this._onDidGrantWorkspaceTrust.fire())}};Sa=(0,l._)([(0,l.a)(0,Ma),(0,l.a)(1,jd),(0,l.a)(2,Ll),(0,l.a)(3,A.VZ)],Sa);const Vt=(0,L.yh)("IExtHostWorkspace");function i(be){let o,p;return be&&("string"==typeof be?o=be:(o=be.pattern,p=b.o.revive(be.baseUri))),{includePattern:o,folder:p}}function c(be){be.dark=b.o.revive(be.dark),be.light&&(be.light=b.o.revive(be.light))}let M=class{constructor(o,p){this._items={},this.sessions=new Map,this._proxy=o.getProxy(ys.ExtHostQuickOpen),this._quickInputService=p}dispose(){}$show(o,p,P){const Y=new Promise((ae,We)=>{this._items[o]={resolve:ae,reject:We}});return(p={...p,onDidFocus:ae=>{ae&&this._proxy.$onItemSelected(ae.handle)}}).canPickMany?this._quickInputService.pick(Y,p,P).then(ae=>{if(ae)return ae.map(We=>We.handle)}):this._quickInputService.pick(Y,p,P).then(ae=>{if(ae)return ae.handle})}$setItems(o,p){return this._items[o]&&(this._items[o].resolve(p),delete this._items[o]),Promise.resolve()}$setError(o,p){return this._items[o]&&(this._items[o].reject(p),delete this._items[o]),Promise.resolve()}$input(o,p,P){const Y=Object.create(null);return o&&(Y.title=o.title,Y.password=o.password,Y.placeHolder=o.placeHolder,Y.valueSelection=o.valueSelection,Y.prompt=o.prompt,Y.value=o.value,Y.ignoreFocusLost=o.ignoreFocusOut),p&&(Y.validateInput=ae=>this._proxy.$validateInput(ae)),this._quickInputService.input(Y,P)}$createOrUpdate(o){const p=o.id;let P=this.sessions.get(p);if(!P){const We="quickPick"===o.type?this._quickInputService.createQuickPick():this._quickInputService.createInputBox();if(We.onDidAccept(()=>{this._proxy.$onDidAccept(p)}),We.onDidTriggerButton(ot=>{this._proxy.$onDidTriggerButton(p,ot.handle)}),We.onDidChangeValue(ot=>{this._proxy.$onDidChangeValue(p,ot)}),We.onDidHide(()=>{this._proxy.$onDidHide(p)}),"quickPick"===o.type){const ot=We;ot.onDidChangeActive(Rt=>{this._proxy.$onDidChangeActive(p,Rt.map(mn=>mn.handle))}),ot.onDidChangeSelection(Rt=>{this._proxy.$onDidChangeSelection(p,Rt.map(mn=>mn.handle))}),ot.onDidTriggerItemButton(Rt=>{this._proxy.$onDidTriggerItemButton(p,Rt.item.handle,Rt.button.handle)})}P={input:We,handlesToItems:new Map},this.sessions.set(p,P)}const{input:Y,handlesToItems:ae}=P;for(const We in o)"id"===We||"type"===We||("visible"===We?o.visible?Y.show():Y.hide():"items"===We?(ae.clear(),o[We].forEach(ot=>{"separator"!==ot.type&&(ot.buttons&&(ot.buttons=ot.buttons.map(Rt=>(Rt.iconPath&&c(Rt.iconPath),Rt))),ae.set(ot.handle,ot))}),Y[We]=o[We]):Y[We]="activeItems"===We||"selectedItems"===We?o[We].filter(ot=>ae.has(ot)).map(ot=>ae.get(ot)):"buttons"===We?o.buttons.map(ot=>-1===ot.handle?this._quickInputService.backButton:(ot.iconPath&&c(ot.iconPath),ot)):o[We]);return Promise.resolve(void 0)}$dispose(o){const p=this.sessions.get(o);return p&&(p.input.dispose(),this.sessions.delete(o)),Promise.resolve(void 0)}};M=(0,l._)([Cr(Ko.MainThreadQuickOpen),(0,l.a)(1,Me.eJ)],M);let X=class{constructor(o,p){this._logService=p,this._proxy=o.getProxy(Ko.MainThreadMessageService)}showMessage(o,p,P,Y,ae){const We={source:{identifier:o.identifier,label:o.displayName||o.name}};let ot;"string"==typeof Y||function U(be){return be&&be.title}(Y)?ot=[Y,...ae]:(We.modal=Y?.modal,We.useCustom=Y?.useCustom,We.detail=Y?.detail,ot=ae),We.useCustom&&(0,W.m)(o,"resolvers");const Rt=[];for(let mn=0;mn<ot.length;mn++){const Fn=ot[mn];if("string"==typeof Fn)Rt.push({title:Fn,handle:mn,isCloseAffordance:!1});else if("object"==typeof Fn){const{title:di,isCloseAffordance:wi}=Fn;Rt.push({title:di,isCloseAffordance:!!wi,handle:mn})}else this._logService.warn("Invalid message item:",Fn)}return this._proxy.$showMessage(p,P,We,Rt).then(mn=>{if("number"==typeof mn)return ot[mn]})}};X=(0,l._)([(0,l.a)(1,A.VZ)],X);let Te=class{constructor(o,p,P,Y){this._notificationService=p,this._commandService=P,this._dialogService=Y}dispose(){}$showMessage(o,p,P,Y){return P.modal?this._showModalMessage(o,p,P.detail,Y,P.useCustom):this._showMessage(o,p,Y,P)}_showMessage(o,p,P,Y){return new Promise(ae=>{const We=[];class ot extends se.aU{constructor(Yn,pi,Ri){super(Yn,pi,void 0,!0,()=>(ae(Ri),Promise.resolve()))}}let mn;P.forEach(wi=>{We.push(new ot("_extension_message_handle_"+wi.handle,wi.title,wi.handle))}),Y.source&&(mn={label:(0,K.NC)("extensionSource","{0} (Extension)",Y.source.label),id:Y.source.identifier.value}),mn||(mn=(0,K.NC)("defaultSource","Extension"));const Fn=[];Y.source&&Fn.push(new class Rt extends se.aU{constructor(Yn,pi,Ri){super(Yn.value,pi,void 0,!0,()=>Ri.executeCommand("_extensions.manage",Yn.value))}}(Y.source.identifier,(0,K.NC)("manageExtension","Manage Extension"),this._commandService));const di=this._notificationService.notify({severity:o,message:p,actions:{primary:We,secondary:Fn},source:mn});O.ju.once(di.onDidClose)(()=>{(0,k.B9)(We),(0,k.B9)(Fn),ae(void 0)})})}_showModalMessage(o,p,P,Y,ae){var We=this;return(0,s.Z)(function*(){let ot;const Rt=Y.map((Fn,di)=>(!0===Fn.isCloseAffordance&&(ot=di),Fn.title));void 0===ot&&(Rt.push(Rt.length>0?(0,K.NC)("cancel","Cancel"):(0,K.NC)("ok","OK")),ot=Rt.length-1);const{choice:mn}=yield We._dialogService.show(o,p,Rt,{cancelId:ot,custom:ae,detail:P});return mn===Y.length?void 0:Y[mn].handle})()}};Te=(0,l._)([Cr(Ko.MainThreadMessageService),(0,l.a)(1,Ie.lT),(0,l.a)(2,H.Hy),(0,l.a)(3,Oe.S)],Te);class Ue{constructor(o){this._handles=0,this._mapHandleToCancellationSource=new Map,this._proxy=o}withProgress(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._handles++,{title:We,location:ot,cancellable:Rt}=p,mn={label:(0,K.NC)("extensionSource","{0} (Extension)",o.displayName||o.name),id:o.identifier.value};return Y._proxy.$startProgress(ae,{location:Ta.from(ot),title:We,source:mn,cancellable:Rt},o.isUnderDevelopment?void 0:o.identifier.value).catch(I.Cp),Y._withProgress(ae,P,!!Rt)})()}_withProgress(o,p,P){let Y;P&&(Y=new ie,this._mapHandleToCancellationSource.set(o,Y));const ae=ot=>{this._proxy.$progressEnd(ot),this._mapHandleToCancellationSource.delete(ot),Y&&Y.dispose()};let We;try{We=p(new gt(this._proxy,o),P&&Y?Y.token:j.T.None)}catch(ot){throw ae(o),ot}return We.then(ot=>ae(o),ot=>ae(o)),We}$acceptProgressCanceled(o){const p=this._mapHandleToCancellationSource.get(o);p&&(p.cancel(),this._mapHandleToCancellationSource.delete(o))}}class gt extends ce.Ex{constructor(o,p){super(P=>this.throttledReport(P)),this._proxy=o,this._handle=p}throttledReport(o){this._proxy.$progressReport(this._handle,o)}}class xt extends se.aU{constructor(o,p,P){super(o,p,void 0,!0,()=>P.executeCommand("_extensions.manage",o))}}let kt=class{constructor(o,p,P){this._commandService=P,this._progress=new Map,this._proxy=o.getProxy(ys.ExtHostProgress),this._progressService=p}dispose(){this._progress.forEach(o=>o.resolve()),this._progress.clear()}$startProgress(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._createTask(o);15===p.location&&P&&(p={...p,location:15,secondaryActions:[new xt(P,(0,K.NC)("manageExtension","Manage Extension"),Y._commandService)]}),Y._progressService.withProgress(p,ae,()=>Y._proxy.$acceptProgressCanceled(o))})()}$progressReport(o,p){this._progress.get(o)?.progress.report(p)}$progressEnd(o){const p=this._progress.get(o);p&&(p.resolve(),this._progress.delete(o))}_createTask(o){return p=>new Promise(P=>{this._progress.set(o,{resolve:P,progress:p})})}};kt=(0,l._)([Cr(Ko.MainThreadProgress),(0,l.a)(1,ce.R9),(0,l.a)(2,H.Hy)],kt);let Qt=class{constructor(o,p,P,Y,ae){this._textModelResolverService=p,this._languageService=P,this._modelService=Y,this._editorWorkerService=ae,this._resourceContentProvider=new Map,this._pendingUpdate=new Map,this._proxy=o.getProxy(ys.ExtHostDocumentContentProviders)}dispose(){(0,k.B9)(this._resourceContentProvider.values()),(0,k.B9)(this._pendingUpdate.values())}$registerTextContentProvider(o,p){const P=this._textModelResolverService.registerTextModelContentProvider(p,{provideTextContent:Y=>this._proxy.$provideTextDocumentContent(o,Y).then(ae=>{if("string"==typeof ae){const We=ae.substr(0,1+ae.search(/\r?\n/)),ot=this._languageService.createByFilepathOrFirstLine(Y,We);return this._modelService.createModel(ae,ot,Y)}return null})});this._resourceContentProvider.set(o,P)}$unregisterTextContentProvider(o){const p=this._resourceContentProvider.get(o);p&&(p.dispose(),this._resourceContentProvider.delete(o))}$onVirtualDocumentChange(o,p){const P=this._modelService.getModel(b.o.revive(o));if(!P)return;const Y=this._pendingUpdate.get(P.id);Y&&Y.cancel();const ae=new ie;this._pendingUpdate.set(P.id,ae),this._editorWorkerService.computeMoreMinimalEdits(P.uri,[{text:p,range:P.getFullModelRange()}]).then(We=>{this._pendingUpdate.delete(P.id),!ae.token.isCancellationRequested&&We&&We.length>0&&P.applyEdits(We.map(ot=>Ee.h.replace(lt.lift(ot.range),ot.text)))}).catch(I.dL)}};Qt=(0,l._)([Cr(Ko.MainThreadDocumentContentProviders),(0,l.a)(1,me.S),(0,l.a)(2,Pe.O),(0,l.a)(3,he.q),(0,l.a)(4,Fe.p)],Qt);let hn=(()=>{class be{constructor(p,P,Y){this._documentsAndEditors=P,this._logService=Y,this._documentContentProviders=new Map,this._proxy=p.getProxy(Ko.MainThreadDocumentContentProviders)}registerTextDocumentContentProvider(p,P){if(Object.keys(z.lg).indexOf(p)>=0)throw new Error(`scheme '${p}' already registered`);const Y=be._handlePool++;let ae;return this._documentContentProviders.set(Y,P),this._proxy.$registerTextContentProvider(Y,p),"function"==typeof P.onDidChange&&(ae=P.onDidChange(We=>{We.scheme===p?this._documentsAndEditors.getDocument(We)&&this.$provideTextDocumentContent(Y,We).then(ot=>{if(!ot&&"string"!=typeof ot)return;const Rt=this._documentsAndEditors.getDocument(We);if(!Rt)return;const mn=(0,r.uq)(ot);return Rt.equalLines(mn)?void 0:this._proxy.$onVirtualDocumentChange(We,ot)},I.dL):this._logService.warn(`Provider for scheme '${p}' is firing event for schema '${We.scheme}' which will be IGNORED`)})),new un(()=>{this._documentContentProviders.delete(Y)&&this._proxy.$unregisterTextContentProvider(Y),ae&&(ae.dispose(),ae=void 0)})}$provideTextDocumentContent(p,P){const Y=this._documentContentProviders.get(p);return Y?Promise.resolve(Y.provideTextDocumentContent(b.o.revive(P),j.T.None)):Promise.reject(new Error(`unsupported uri-scheme: ${P.scheme}`))}}return be._handlePool=0,be})();class fn{constructor(o,p,P){const Y=fn._Keys.nextId();o.$registerTextEditorDecorationType(p.identifier,Y,ei.from(P)),this.value=Object.freeze({key:Y,dispose(){o.$removeTextEditorDecorationType(Y)}})}}fn._Keys=new Ze.R("TextEditorDecorationType");class On{constructor(o,p){this._collectedEdits=[],this._setEndOfLine=void 0,this._finalized=!1,this._document=o,this._documentVersionId=o.version,this._undoStopBefore=p.undoStopBefore,this._undoStopAfter=p.undoStopAfter}finalize(){return this._finalized=!0,{documentVersionId:this._documentVersionId,edits:this._collectedEdits,setEndOfLine:this._setEndOfLine,undoStopBefore:this._undoStopBefore,undoStopAfter:this._undoStopAfter}}_throwIfFinalized(){if(this._finalized)throw new Error("Edit is only valid while callback runs")}replace(o,p){this._throwIfFinalized();let P=null;if(o instanceof ht)P=new Kt(o,o);else{if(!(o instanceof Kt))throw new Error("Unrecognized location");P=o}this._pushEdit(P,p,!1)}insert(o,p){this._throwIfFinalized(),this._pushEdit(new Kt(o,o),p,!0)}delete(o){this._throwIfFinalized();let p=null;if(!(o instanceof Kt))throw new Error("Unrecognized location");p=o,this._pushEdit(p,null,!0)}_pushEdit(o,p,P){const Y=this._document.validateRange(o);this._collectedEdits.push({range:Y,text:p,forceMoveMarkers:P})}setEndOfLine(o){if(this._throwIfFinalized(),o!==Dn.LF&&o!==Dn.CRLF)throw(0,I.b1)("endOfLine");this._setEndOfLine=o}}class Un{constructor(o,p,P,Y){this._proxy=o,this._id=p,this._accept(P),this._logService=Y;const ae=this;this.value={get tabSize(){return ae._tabSize},set tabSize(We){ae._setTabSize(We)},get insertSpaces(){return ae._insertSpaces},set insertSpaces(We){ae._setInsertSpaces(We)},get cursorStyle(){return ae._cursorStyle},set cursorStyle(We){ae._setCursorStyle(We)},get lineNumbers(){return ae._lineNumbers},set lineNumbers(We){ae._setLineNumbers(We)}}}_accept(o){this._tabSize=o.tabSize,this._insertSpaces=o.insertSpaces,this._cursorStyle=o.cursorStyle,this._lineNumbers=$s.to(o.lineNumbers)}_validateTabSize(o){if("auto"===o)return"auto";if("number"==typeof o){const p=Math.floor(o);return p>0?p:null}if("string"==typeof o){const p=parseInt(o,10);return isNaN(p)?null:p>0?p:null}return null}_setTabSize(o){const p=this._validateTabSize(o);if(null!==p){if("number"==typeof p){if(this._tabSize===p)return;this._tabSize=p}this._warnOnError("setTabSize",this._proxy.$trySetOptions(this._id,{tabSize:p}))}}_validateInsertSpaces(o){return"auto"===o?"auto":"false"!==o&&!!o}_setInsertSpaces(o){const p=this._validateInsertSpaces(o);if("boolean"==typeof p){if(this._insertSpaces===p)return;this._insertSpaces=p}this._warnOnError("setInsertSpaces",this._proxy.$trySetOptions(this._id,{insertSpaces:p}))}_setCursorStyle(o){this._cursorStyle!==o&&(this._cursorStyle=o,this._warnOnError("setCursorStyle",this._proxy.$trySetOptions(this._id,{cursorStyle:o})))}_setLineNumbers(o){this._lineNumbers!==o&&(this._lineNumbers=o,this._warnOnError("setLineNumbers",this._proxy.$trySetOptions(this._id,{lineNumbers:$s.from(o)})))}assign(o){const p={};let P=!1;if(typeof o.tabSize<"u"){const Y=this._validateTabSize(o.tabSize);"auto"===Y?(P=!0,p.tabSize=Y):"number"==typeof Y&&this._tabSize!==Y&&(this._tabSize=Y,P=!0,p.tabSize=Y)}if(typeof o.insertSpaces<"u"){const Y=this._validateInsertSpaces(o.insertSpaces);"auto"===Y?(P=!0,p.insertSpaces=Y):this._insertSpaces!==Y&&(this._insertSpaces=Y,P=!0,p.insertSpaces=Y)}typeof o.cursorStyle<"u"&&this._cursorStyle!==o.cursorStyle&&(this._cursorStyle=o.cursorStyle,P=!0,p.cursorStyle=o.cursorStyle),typeof o.lineNumbers<"u"&&this._lineNumbers!==o.lineNumbers&&(this._lineNumbers=o.lineNumbers,P=!0,p.lineNumbers=$s.from(o.lineNumbers)),P&&this._warnOnError("setOptions",this._proxy.$trySetOptions(this._id,p))}_warnOnError(o,p){p.catch(P=>{this._logService.warn(`ExtHostTextEditorOptions '${o}' failed:'`),this._logService.warn(P)})}}class jn{constructor(o,p,P,Y,ae,We,ot,Rt){this.id=o,this._proxy=p,this._logService=P,this._disposed=!1,this._hasDecorationsForKey=new Set,this._selections=ae,this._options=new Un(this._proxy,this.id,We,P),this._visibleRanges=ot,this._viewColumn=Rt;const mn=this;this.value=Object.freeze({get document(){return Y.getValue()},set document(Fn){throw(0,t.y)("document")},get selection(){return mn._selections&&mn._selections[0]},set selection(Fn){if(!(Fn instanceof nn))throw(0,I.b1)("selection");mn._selections=[Fn],mn._trySetSelection()},get selections(){return mn._selections},set selections(Fn){if(!Array.isArray(Fn)||Fn.some(di=>!(di instanceof nn)))throw(0,I.b1)("selections");mn._selections=Fn,mn._trySetSelection()},get visibleRanges(){return mn._visibleRanges},set visibleRanges(Fn){throw(0,t.y)("visibleRanges")},get options(){return mn._options.value},set options(Fn){mn._disposed||mn._options.assign(Fn)},get viewColumn(){return mn._viewColumn},set viewColumn(Fn){throw(0,t.y)("viewColumn")},edit(Fn,di={undoStopBefore:!0,undoStopAfter:!0}){if(mn._disposed)return Promise.reject(new Error("TextEditor#edit not possible on closed editors"));const wi=new On(Y.getValue(),di);return Fn(wi),mn._applyEdit(wi)},insertSnippet(Fn,di,wi={undoStopBefore:!0,undoStopAfter:!0}){if(mn._disposed)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));let Yn;if(!di||Array.isArray(di)&&0===di.length)Yn=mn._selections.map(pi=>zi.from(pi));else if(di instanceof ht){const{lineNumber:pi,column:Ri}=ms.from(di);Yn=[{startLineNumber:pi,startColumn:Ri,endLineNumber:pi,endColumn:Ri}]}else if(di instanceof Kt)Yn=[zi.from(di)];else{Yn=[];for(const pi of di)if(pi instanceof Kt)Yn.push(zi.from(pi));else{const{lineNumber:Ri,column:Bi}=ms.from(pi);Yn.push({startLineNumber:Ri,startColumn:Bi,endLineNumber:Ri,endColumn:Bi})}}return p.$tryInsertSnippet(o,Y.getValue().version,Fn.value,Yn,wi)},setDecorations(Fn,di){const wi=0===di.length;wi&&!mn._hasDecorationsForKey.has(Fn.key)||(wi?mn._hasDecorationsForKey.delete(Fn.key):mn._hasDecorationsForKey.add(Fn.key),mn._runOnProxy(()=>{if(Pt(di))return p.$trySetDecorations(o,Fn.key,function _n(be){return Pt(be)?be.map(o=>({range:zi.from(o.range),hoverMessage:Array.isArray(o.hoverMessage)?Jt.fromMany(o.hoverMessage):o.hoverMessage?Jt.from(o.hoverMessage):void 0,renderOptions:o.renderOptions})):be.map(o=>({range:zi.from(o)}))}(di));{const Yn=new Array(4*di.length);for(let pi=0,Ri=di.length;pi<Ri;pi++){const Bi=di[pi];Yn[4*pi]=Bi.start.line+1,Yn[4*pi+1]=Bi.start.character+1,Yn[4*pi+2]=Bi.end.line+1,Yn[4*pi+3]=Bi.end.character+1}return p.$trySetDecorationsFast(o,Fn.key,Yn)}}))},revealRange(Fn,di){mn._runOnProxy(()=>p.$tryRevealRange(o,zi.from(Fn),di||ln.Default))},show(Fn){p.$tryShowEditor(o,ke.from(Fn))},hide(){p.$tryHideEditor(o)}})}dispose(){(0,R.ok)(!this._disposed),this._disposed=!0}_acceptOptions(o){(0,R.ok)(!this._disposed),this._options._accept(o)}_acceptVisibleRanges(o){(0,R.ok)(!this._disposed),this._visibleRanges=o}_acceptViewColumn(o){(0,R.ok)(!this._disposed),this._viewColumn=o}_acceptSelections(o){(0,R.ok)(!this._disposed),this._selections=o}_trySetSelection(){var o=this;return(0,s.Z)(function*(){const p=o._selections.map(vr.from);return yield o._runOnProxy(()=>o._proxy.$trySetSelections(o.id,p)),o.value})()}_applyEdit(o){const p=o.finalize();if(0===p.edits.length&&!p.setEndOfLine)return Promise.resolve(!0);const P=p.edits.map(ae=>ae.range);P.sort((ae,We)=>ae.end.line===We.end.line?ae.end.character===We.end.character?ae.start.line===We.start.line?ae.start.character-We.start.character:ae.start.line-We.start.line:ae.end.character-We.end.character:ae.end.line-We.end.line);for(let ae=0,We=P.length-1;ae<We;ae++)if(P[ae+1].start.isBefore(P[ae].end))return Promise.reject(new Error("Overlapping ranges are not allowed!"));const Y=p.edits.map(ae=>({range:zi.from(ae.range),text:ae.text,forceMoveMarkers:ae.forceMoveMarkers}));return this._proxy.$tryApplyEdits(this.id,p.documentVersionId,Y,{setEndOfLine:"number"==typeof p.setEndOfLine?Gr.from(p.setEndOfLine):void 0,undoStopBefore:p.undoStopBefore,undoStopAfter:p.undoStopAfter})}_runOnProxy(o){return this._disposed?(this._logService.warn("TextEditor is closed/disposed"),Promise.resolve(void 0)):o().then(()=>this,p=>(p instanceof Error&&"DISPOSED"===p.name||this._logService.warn(p),null))}}class ai{constructor(o){this.value=o,this._count=0}ref(){this._count++}unref(){return 0==--this._count}}let mi=class{constructor(o,p){this._extHostRpc=o,this._logService=p,this._activeEditorId=null,this._editors=new Map,this._documents=new u.Y9,this._onDidAddDocuments=new l.E,this._onDidRemoveDocuments=new l.E,this._onDidChangeVisibleTextEditors=new l.E,this._onDidChangeActiveTextEditor=new l.E,this.onDidAddDocuments=this._onDidAddDocuments.event,this.onDidRemoveDocuments=this._onDidRemoveDocuments.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event}$acceptDocumentsAndEditorsDelta(o){this.acceptDocumentsAndEditorsDelta(o)}acceptDocumentsAndEditorsDelta(o){const p=[],P=[],Y=[];if(o.removedDocuments)for(const ae of o.removedDocuments){const We=b.o.revive(ae),ot=this._documents.get(We);ot?.unref()&&(this._documents.delete(We),p.push(ot.value))}if(o.addedDocuments)for(const ae of o.addedDocuments){const We=b.o.revive(ae.uri);let ot=this._documents.get(We);if(ot&&We.scheme!==z.lg.vscodeNotebookCell&&We.scheme!==z.lg.vscodeInteractiveInput)throw new Error(`document '${We} already exists!'`);ot||(ot=new ai(new _d(this._extHostRpc.getProxy(Ko.MainThreadDocuments),We,ae.lines,ae.EOL,ae.versionId,ae.languageId,ae.isDirty,ae.notebook)),this._documents.set(We,ot),P.push(ot.value)),ot.ref()}if(o.removedEditors)for(const ae of o.removedEditors){const We=this._editors.get(ae);this._editors.delete(ae),We&&Y.push(We)}if(o.addedEditors)for(const ae of o.addedEditors){const We=b.o.revive(ae.documentUri);(0,R.ok)(this._documents.has(We),`document '${We}' does not exist`),(0,R.ok)(!this._editors.has(ae.id),`editor '${ae.id}' already exists!`);const ot=this._documents.get(We).value,Rt=new jn(ae.id,this._extHostRpc.getProxy(Ko.MainThreadTextEditors),this._logService,new ze.o(()=>ot.document),ae.selections.map(vr.to),ae.options,ae.visibleRanges.map(mn=>zi.to(mn)),"number"==typeof ae.editorPosition?ke.to(ae.editorPosition):void 0);this._editors.set(ae.id,Rt)}void 0!==o.newActiveEditor&&((0,R.ok)(null===o.newActiveEditor||this._editors.has(o.newActiveEditor),`active editor '${o.newActiveEditor}' does not exist`),this._activeEditorId=o.newActiveEditor),(0,k.B9)(p),(0,k.B9)(Y),o.removedDocuments&&this._onDidRemoveDocuments.fire(p),o.addedDocuments&&this._onDidAddDocuments.fire(P),(o.removedEditors||o.addedEditors)&&this._onDidChangeVisibleTextEditors.fire(this.allEditors().map(ae=>ae.value)),void 0!==o.newActiveEditor&&this._onDidChangeActiveTextEditor.fire(this.activeEditor())}getDocument(o){return this._documents.get(o)?.value}allDocuments(){return fe.$.map(this._documents.values(),o=>o.value)}getEditor(o){return this._editors.get(o)}activeEditor(o){if(!this._activeEditorId)return;const p=this._editors.get(this._activeEditorId);return o?p:p?.value}allEditors(){return[...this._editors.values()]}};mi=(0,l._)([(0,l.a)(0,Ma),(0,l.a)(1,A.VZ)],mi);class Si{constructor(o,p){this._extHostDocumentsAndEditors=p,this._onDidChangeTextEditorSelection=new l.E,this._onDidChangeTextEditorOptions=new l.E,this._onDidChangeTextEditorVisibleRanges=new l.E,this._onDidChangeTextEditorViewColumn=new l.E,this._onDidChangeActiveTextEditor=new l.E,this._onDidChangeVisibleTextEditors=new l.E,this.onDidChangeTextEditorSelection=this._onDidChangeTextEditorSelection.event,this.onDidChangeTextEditorOptions=this._onDidChangeTextEditorOptions.event,this.onDidChangeTextEditorVisibleRanges=this._onDidChangeTextEditorVisibleRanges.event,this.onDidChangeTextEditorViewColumn=this._onDidChangeTextEditorViewColumn.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this._proxy=o.getProxy(Ko.MainThreadTextEditors),this._extHostDocumentsAndEditors.onDidChangeVisibleTextEditors(P=>this._onDidChangeVisibleTextEditors.fire(P)),this._extHostDocumentsAndEditors.onDidChangeActiveTextEditor(P=>this._onDidChangeActiveTextEditor.fire(P))}getActiveTextEditor(){return this._extHostDocumentsAndEditors.activeEditor()}getVisibleTextEditors(o){const p=this._extHostDocumentsAndEditors.allEditors();return o?p:p.map(P=>P.value)}showTextDocument(o,p,P){var Y=this;return(0,s.Z)(function*(){let ae;ae="number"==typeof p?{position:ke.from(p),preserveFocus:P}:"object"==typeof p?{position:ke.from(p.viewColumn),preserveFocus:p.preserveFocus,selection:"object"==typeof p.selection?zi.from(p.selection):void 0,pinned:"boolean"==typeof p.preview?!p.preview:void 0}:{preserveFocus:!1};const We=yield Y._proxy.$tryShowTextDocument(o.uri,ae),ot=We&&Y._extHostDocumentsAndEditors.getEditor(We);if(ot)return ot.value;throw We?new Error(`Could NOT open editor for "${o.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${o.uri.toString()}".`)})()}createTextEditorDecorationType(o,p){return new fn(this._proxy,o,p).value}$acceptEditorPropertiesChanged(o,p){const P=this._extHostDocumentsAndEditors.getEditor(o);if(!P)throw new Error("unknown text editor");if(p.options&&P._acceptOptions(p.options),p.selections){const Y=p.selections.selections.map(vr.to);P._acceptSelections(Y)}if(p.visibleRanges){const Y=(0,S.kX)(p.visibleRanges.map(zi.to));P._acceptVisibleRanges(Y)}if(p.options&&this._onDidChangeTextEditorOptions.fire({textEditor:P.value,options:{...p.options,lineNumbers:$s.to(p.options.lineNumbers)}}),p.selections){const Y=pn.fromValue(p.selections.source),ae=p.selections.selections.map(vr.to);this._onDidChangeTextEditorSelection.fire({textEditor:P.value,selections:ae,kind:Y})}if(p.visibleRanges){const Y=(0,S.kX)(p.visibleRanges.map(zi.to));this._onDidChangeTextEditorVisibleRanges.fire({textEditor:P.value,visibleRanges:Y})}}$acceptEditorPositionData(o){for(const p in o){const P=this._extHostDocumentsAndEditors.getEditor(p);if(!P)throw new Error("Unknown text editor");const Y=ke.to(o[p]);P.value.viewColumn!==Y&&(P._acceptViewColumn(Y),this._onDidChangeTextEditorViewColumn.fire({textEditor:P.value,viewColumn:Y}))}}getDiffInformation(o){return Promise.resolve(this._proxy.$getDiffInformation(o))}}class Ki{constructor(o,p=18e4,P=83886080,Y=50){this._extUri=o,this._maxAge=p,this._maxLength=P,this._maxSize=Y,this._data=new Array,this._length=0}dispose(){this._data=(0,k.B9)(this._data)}remove(o){for(const p of[...this._data])this._extUri.isEqualOrParent(p.uri,o)&&p.dispose()}add(o,p,P=0){const Y=()=>{const ot=this._data.indexOf(We);ot>=0&&(this._length-=P,p.dispose(),clearTimeout(ae),this._data.splice(ot,1))},ae=setTimeout(Y,this._maxAge),We={uri:o,length:P,dispose:Y};this._data.push(We),this._length+=P,this._cleanup()}_cleanup(){for(;this._length>this._maxLength;)this._data[0].dispose();const o=Math.ceil(1.2*this._maxSize);this._data.length>=o&&(0,k.B9)(this._data.slice(0,o-this._maxSize))}}class eo extends k.JT{constructor(o,p,P,Y){super(),this._model=o,this._onIsCaughtUpWithContentChanges=p,this._proxy=P,this._textFileService=Y,this._knownVersionId=this._model.getVersionId(),this._store.add(this._model.onDidChangeContent(ae=>{this._knownVersionId=ae.versionId,this._proxy.$acceptModelChanged(this._model.uri,ae,this._textFileService.isDirty(this._model.uri)),this.isCaughtUpWithContentChanges()&&this._onIsCaughtUpWithContentChanges.fire(this._model.uri)}))}isCaughtUpWithContentChanges(){return this._model.getVersionId()===this._knownVersionId}}let Gi=class extends k.JT{constructor(o,p,P,Y,ae,We,ot,Rt,mn){super(),this._modelService=p,this._textFileService=P,this._fileService=Y,this._textModelResolverService=ae,this._environmentService=We,this._uriIdentityService=ot,this._pathService=mn,this._onIsCaughtUpWithContentChanges=this._store.add(new l.E),this.onIsCaughtUpWithContentChanges=this._onIsCaughtUpWithContentChanges.event,this._modelTrackers=new u.Y9,this._modelReferenceCollection=this._store.add(new Ki(ot.extUri)),this._proxy=o.getProxy(ys.ExtHostDocuments),this._store.add(p.onModelLanguageChanged(this._onModelModeChanged,this)),this._store.add(P.files.onDidSave(Fn=>{this._shouldHandleFileEvent(Fn.model.resource)&&this._proxy.$acceptModelSaved(Fn.model.resource)})),this._store.add(P.files.onDidChangeDirty(Fn=>{this._shouldHandleFileEvent(Fn.resource)&&this._proxy.$acceptDirtyStateChanged(Fn.resource,Fn.isDirty())})),this._store.add(Rt.onDidRunWorkingCopyFileOperation(Fn=>{const di=2===Fn.operation;if(di||1===Fn.operation)for(const wi of Fn.files){const Yn=di?wi.source:wi.target;Yn&&this._modelReferenceCollection.remove(Yn)}}))}dispose(){(0,k.B9)(this._modelTrackers.values()),this._modelTrackers.clear(),super.dispose()}isCaughtUpWithContentChanges(o){const p=this._modelTrackers.get(o);return!p||p.isCaughtUpWithContentChanges()}_shouldHandleFileEvent(o){const p=this._modelService.getModel(o);return!!p&&(0,Et.pt)(p)}handleModelAdded(o){(0,Et.pt)(o)&&this._modelTrackers.set(o.uri,new eo(o,this._onIsCaughtUpWithContentChanges,this._proxy,this._textFileService))}_onModelModeChanged(o){const{model:p}=o;this._modelTrackers.has(p.uri)&&this._proxy.$acceptModelLanguageChanged(p.uri,p.getLanguageId())}handleModelRemoved(o){this._modelTrackers.has(o)&&(this._modelTrackers.get(o).dispose(),this._modelTrackers.delete(o))}$trySaveDocument(o){var p=this;return(0,s.Z)(function*(){return!!(yield p._textFileService.save(b.o.revive(o)))})()}$tryOpenDocument(o){var p=this;return(0,s.Z)(function*(){const P=b.o.revive(o);if(!P.scheme||!P.fsPath&&!P.authority)throw new Error("Invalid uri. Scheme and authority or path must be set.");const Y=p._uriIdentityService.asCanonicalUri(P);let ae,We;ae=Y.scheme===z.lg.untitled?p._handleUntitledScheme(Y):p._handleAsResourceInput(Y);try{We=yield ae}catch(ot){throw new Error(`cannot open ${Y.toString()}. Detail: ${(0,x.y)(ot)}`)}if(We){if(N.SF.isEqual(We,Y)){if(p._modelTrackers.has(Y))return Y;throw new Error(`cannot open ${Y.toString()}. Detail: Files above 50MB cannot be synchronized with extensions.`)}throw new Error(`cannot open ${Y.toString()}. Detail: Actual document opened as ${We.toString()}`)}throw new Error(`cannot open ${Y.toString()}`)})()}$tryCreateDocument(o){return this._doCreateUntitled(void 0,o?o.language:void 0,o?o.content:void 0)}_handleAsResourceInput(o){var p=this;return(0,s.Z)(function*(){const P=yield p._textModelResolverService.createModelReference(o);return p._modelReferenceCollection.add(o,P,P.object.textEditorModel.getValueLength()),P.object.textEditorModel.uri})()}_handleUntitledScheme(o){var p=this;return(0,s.Z)(function*(){const P=function pt(be,o,p){if(o){let P=be.path;return P&&P[0]!==Ke.KR.sep&&(P=Ke.KR.sep+P),be.with({scheme:p,authority:o,path:P})}return be.with({scheme:p})}(o,p._environmentService.remoteAuthority,p._pathService.defaultUriScheme);return(yield p._fileService.exists(P))?Promise.reject(new Error("file already exists")):yield p._doCreateUntitled(o.path?o:void 0)})()}_doCreateUntitled(o,p,P){var Y=this;return(0,s.Z)(function*(){const We=(yield Y._textFileService.untitled.resolve({associatedResource:o,languageId:p,initialValue:P})).resource;if(!Y._modelTrackers.has(We))throw new Error(`expected URI ${We.toString()} to have come to LIFE`);return Y._proxy.$acceptDirtyStateChanged(We,!0),We})()}};Gi=(0,l._)([(0,l.a)(1,he.q),(0,l.a)(2,C.j),(0,l.a)(3,C.c),(0,l.a)(4,me.S),(0,l.a)(5,C.l),(0,l.a)(6,C.k),(0,l.a)(7,C.m),(0,l.a)(8,C.g)],Gi);const to=y.Selection;class Vi{constructor(o,p,P){this.selections=o,this.options=p,this.visibleRanges=P}static readFromEditor(o,p,P){const Y=Vi._readSelectionsFromCodeEditor(o,P),ae=Vi._readOptionsFromCodeEditor(o,p,P),We=Vi._readVisibleRangesFromCodeEditor(o,P);return new Vi(Y,ae,We)}static _readSelectionsFromCodeEditor(o,p){let P=null;return p&&(P=p.getSelections()),!P&&o&&(P=o.selections),P||(P=[new to(1,1,1,1)]),P}static _readOptionsFromCodeEditor(o,p,P){if(p.isDisposed()){if(o)return o.options;throw new Error("No valid properties")}let Y,ae;if(P){const ot=P.getOptions(),Rt=ot.get(62);Y=ot.get(24),ae=Rt.renderType}else o?(Y=o.options.cursorStyle,ae=o.options.lineNumbers):(Y=ge.d2.Line,ae=1);const We=p.getOptions();return{insertSpaces:We.insertSpaces,tabSize:We.tabSize,cursorStyle:Y,lineNumbers:ae}}static _readVisibleRangesFromCodeEditor(o,p){return p?p.getVisibleRanges():[]}generateDelta(o,p){const P={options:null,selections:null,visibleRanges:null};return(!o||!Vi._selectionsEqual(o.selections,this.selections))&&(P.selections={selections:this.selections,source:(0,_.f6)(p)}),(!o||!Vi._optionsEqual(o.options,this.options))&&(P.options=this.options),(!o||!Vi._rangesEqual(o.visibleRanges,this.visibleRanges))&&(P.visibleRanges=this.visibleRanges),P.selections||P.options||P.visibleRanges?P:null}static _selectionsEqual(o,p){return(0,S.fS)(o,p,(P,Y)=>P.equalsSelection(Y))}static _rangesEqual(o,p){return(0,S.fS)(o,p,(P,Y)=>P.equalsRange(Y))}static _optionsEqual(o,p){return!(o&&!p||!o&&p)&&(!o&&!p||o.tabSize===p.tabSize&&o.insertSpaces===p.insertSpaces&&o.cursorStyle===p.cursorStyle&&o.lineNumbers===p.lineNumbers)}}class go{constructor(o,p,P,Y,ae,We,ot){this._modelListeners=new k.SL,this._codeEditorListeners=new k.SL,this._id=o,this._model=p,this._codeEditor=null,this._properties=null,this._focusTracker=Y,this._mainThreadDocuments=ae,this._modelService=We,this._clipboardService=ot,this._onPropertiesChanged=new l.E,this._modelListeners.add(this._model.onDidChangeOptions(Rt=>{this._updatePropertiesNow(null)})),this.setCodeEditor(P),this._updatePropertiesNow(null)}dispose(){this._modelListeners.dispose(),this._codeEditor=null,this._codeEditorListeners.dispose()}_updatePropertiesNow(o){this._setProperties(Vi.readFromEditor(this._properties,this._model,this._codeEditor),o)}_setProperties(o,p){const P=o.generateDelta(this._properties,p);this._properties=o,P&&this._onPropertiesChanged.fire(P)}getId(){return this._id}getModel(){return this._model}getCodeEditor(){return this._codeEditor}hasCodeEditor(o){return this._codeEditor===o}setCodeEditor(o){if(!this.hasCodeEditor(o)&&(this._codeEditorListeners.clear(),this._codeEditor=o,this._codeEditor)){this._codeEditorListeners.add(this._codeEditor.onDidChangeModel(()=>{this.setCodeEditor(null)})),this._codeEditorListeners.add(this._codeEditor.onDidFocusEditorWidget(()=>{this._focusTracker.onGainedFocus()})),this._codeEditorListeners.add(this._codeEditor.onDidBlurEditorWidget(()=>{this._focusTracker.onLostFocus()}));let p=null;this._codeEditorListeners.add(this._mainThreadDocuments.onIsCaughtUpWithContentChanges(ae=>{if(ae.toString()===this._model.uri.toString()){const We=p;p=null,this._updatePropertiesNow(We)}}));const P=()=>this._codeEditor&&this._codeEditor.getModel()===this._model,Y=ae=>{this._mainThreadDocuments.isCaughtUpWithContentChanges(this._model.uri)?(p=null,this._updatePropertiesNow(ae)):p=ae};this._codeEditorListeners.add(this._codeEditor.onDidChangeCursorSelection(ae=>{P()&&Y(ae.source)})),this._codeEditorListeners.add(this._codeEditor.onDidChangeConfiguration(ae=>{P()&&Y(null)})),this._codeEditorListeners.add(this._codeEditor.onDidLayoutChange(()=>{P()&&Y(null)})),this._codeEditorListeners.add(this._codeEditor.onDidScrollChange(()=>{P()&&Y(null)})),this._updatePropertiesNow(null)}}isVisible(){return!!this._codeEditor}getProperties(){return this._properties}get onPropertiesChanged(){return this._onPropertiesChanged.event}setSelections(o){if(this._codeEditor)return void this._codeEditor.setSelections(o);const p=o.map(to.liftSelection);this._setProperties(new Vi(p,this._properties.options,this._properties.visibleRanges),null)}_setIndentConfiguration(o){const p=this._modelService.getCreationOptions(this._model.getLanguageId(),this._model.uri,this._model.isForSimpleWidget);if("auto"===o.tabSize||"auto"===o.insertSpaces){let Y=p.insertSpaces,ae=p.tabSize;return"auto"!==o.insertSpaces&&typeof o.insertSpaces<"u"&&(Y=o.insertSpaces),"auto"!==o.tabSize&&typeof o.tabSize<"u"&&(ae=o.tabSize),void this._model.detectIndentation(Y,ae)}const P={};typeof o.insertSpaces<"u"&&(P.insertSpaces=o.insertSpaces),typeof o.tabSize<"u"&&(P.tabSize=o.tabSize),this._model.updateOptions(P)}setConfiguration(o){if(this._setIndentConfiguration(o),this._codeEditor){if(o.cursorStyle){const p=function ja(be){switch(be){case Zo.Line:return"line";case Zo.Block:return"block";case Zo.Underline:return"underline";case Zo.LineThin:return"line-thin";case Zo.BlockOutline:return"block-outline";case Zo.UnderlineThin:return"underline-thin"}}(o.cursorStyle);this._codeEditor.updateOptions({cursorStyle:p})}if(typeof o.lineNumbers<"u"){let p;switch(o.lineNumbers){case 1:p="on";break;case 2:p="relative";break;default:p="off"}this._codeEditor.updateOptions({lineNumbers:p})}}}setDecorations(o,p){this._codeEditor&&this._codeEditor.setDecorationsByType("exthost-api",o,p)}setDecorationsFast(o,p){if(!this._codeEditor)return;const P=[];for(let Y=0,ae=Math.floor(p.length/4);Y<ae;Y++)P[Y]=new lt(p[4*Y],p[4*Y+1],p[4*Y+2],p[4*Y+3]);this._codeEditor.setDecorationsByTypeFast(o,P)}revealRange(o,p){if(this._codeEditor)switch(p){case gr.Default:this._codeEditor.revealRange(o,0);break;case gr.InCenter:this._codeEditor.revealRangeInCenter(o,0);break;case gr.InCenterIfOutsideViewport:this._codeEditor.revealRangeInCenterIfOutsideViewport(o,0);break;case gr.AtTop:this._codeEditor.revealRangeAtTop(o,0);break;default:console.warn(`Unknown revealType: ${p}`)}}isFocused(){return!!this._codeEditor&&this._codeEditor.hasTextFocus()}matches(o){return!!o&&o.getControl()===this._codeEditor}applyEdits(o,p,P){if(this._model.getVersionId()!==o||!this._codeEditor)return!1;typeof P.setEndOfLine<"u"&&this._model.pushEOL(P.setEndOfLine);const Y=p.map(ae=>({range:lt.lift(ae.range),text:ae.text,forceMoveMarkers:ae.forceMoveMarkers}));return P.undoStopBefore&&this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",Y),P.undoStopAfter&&this._codeEditor.pushUndoStop(),!0}insertSnippet(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){if(!ae._codeEditor||!ae._codeEditor.hasModel())return!1;let We;if(Xe.Yj.guessNeedsClipboard(p)){const Fn=new pe.yy(ae._codeEditor,5);if(We=yield ae._clipboardService.readText(),!Fn.validate(ae._codeEditor))return!1}ae._codeEditor.getModel().getVersionId();const Rt=re.SnippetController2.get(ae._codeEditor);if(!Rt)return!1;const mn=P.map(Fn=>new to(Fn.startLineNumber,Fn.startColumn,Fn.endLineNumber,Fn.endColumn));return ae._codeEditor.setSelections(mn),ae._codeEditor.focus(),Rt.insert(p,{overwriteBefore:0,overwriteAfter:0,undoStopBefore:Y.undoStopBefore,undoStopAfter:Y.undoStopAfter,clipboardText:We}),!0})()}}function Bo(be,o){if("number"!=typeof o||o===C.A||1===be.count&&be.activeGroup.isEmpty)return C.A;if(o===C.p)return C.p;const p=be.getGroups(2)[o];return p?p.id:C.p}function So(be,o){const p="number"==typeof o?be.getGroup(o):o;return be.getGroups(2).indexOf(p??be.activeGroup)}let cs=class Qu{constructor(o,p,P,Y,ae){this._editorLocator=o,this._codeEditorService=P,this._editorService=Y,this._editorGroupService=ae,this._toDispose=new k.SL,this._instanceId=String(++Qu.INSTANCE_COUNT),this._proxy=p.getProxy(ys.ExtHostEditors),this._textEditorsListenersMap=Object.create(null),this._editorPositionData=null,this._toDispose.add(this._editorService.onDidVisibleEditorsChange(()=>this._updateActiveAndVisibleTextEditors())),this._toDispose.add(this._editorGroupService.onDidRemoveGroup(()=>this._updateActiveAndVisibleTextEditors())),this._toDispose.add(this._editorGroupService.onDidMoveGroup(()=>this._updateActiveAndVisibleTextEditors())),this._registeredDecorationTypes=Object.create(null)}dispose(){Object.keys(this._textEditorsListenersMap).forEach(o=>{(0,k.B9)(this._textEditorsListenersMap[o])}),this._textEditorsListenersMap=Object.create(null),this._toDispose.dispose();for(const o in this._registeredDecorationTypes)this._codeEditorService.removeDecorationType(o);this._registeredDecorationTypes=Object.create(null)}handleTextEditorAdded(o){const p=o.getId(),P=[];P.push(o.onPropertiesChanged(Y=>{this._proxy.$acceptEditorPropertiesChanged(p,Y)})),this._textEditorsListenersMap[p]=P}handleTextEditorRemoved(o){(0,k.B9)(this._textEditorsListenersMap[o]),delete this._textEditorsListenersMap[o]}_updateActiveAndVisibleTextEditors(){const o=this._getTextEditorPositionData();(0,m.fS)(this._editorPositionData,o)||(this._editorPositionData=o,this._proxy.$acceptEditorPositionData(this._editorPositionData))}_getTextEditorPositionData(){const o=Object.create(null);for(const p of this._editorService.visibleEditorPanes){const P=this._editorLocator.findTextEditorIdFor(p);P&&(o[P]=So(this._editorGroupService,p.group))}return o}$tryShowTextDocument(o,p){var P=this;return(0,s.Z)(function*(){const We={resource:b.o.revive(o),options:{preserveFocus:p.preserveFocus,pinned:p.pinned,selection:p.selection,activation:p.preserveFocus?Pr.RESTORE:void 0,override:Ar.DISABLED}},ot=yield P._editorService.openEditor(We,Bo(P._editorGroupService,p.position));if(ot)return P._editorLocator.findTextEditorIdFor(ot)})()}$tryShowEditor(o,p){var P=this;return(0,s.Z)(function*(){const Y=P._editorLocator.getEditor(o);if(Y){const ae=Y.getModel();yield P._editorService.openEditor({resource:ae.uri,options:{preserveFocus:!1}},Bo(P._editorGroupService,p))}})()}$tryHideEditor(o){var p=this;return(0,s.Z)(function*(){const P=p._editorLocator.getEditor(o);if(P){const Y=p._editorService.visibleEditorPanes;for(const ae of Y)if(P.matches(ae))return void(yield ae.group.closeEditor(ae.input))}})()}$trySetSelections(o,p){const P=this._editorLocator.getEditor(o);return P?(P.setSelections(p),Promise.resolve(void 0)):Promise.reject((0,t.u)(`TextEditor(${o})`))}$trySetDecorations(o,p,P){p=`${this._instanceId}-${p}`;const Y=this._editorLocator.getEditor(o);return Y?(Y.setDecorations(p,P),Promise.resolve(void 0)):Promise.reject((0,t.u)(`TextEditor(${o})`))}$trySetDecorationsFast(o,p,P){p=`${this._instanceId}-${p}`;const Y=this._editorLocator.getEditor(o);return Y?(Y.setDecorationsFast(p,P),Promise.resolve(void 0)):Promise.reject((0,t.u)(`TextEditor(${o})`))}$tryRevealRange(o,p,P){const Y=this._editorLocator.getEditor(o);return Y?(Y.revealRange(p,P),Promise.resolve()):Promise.reject((0,t.u)(`TextEditor(${o})`))}$trySetOptions(o,p){const P=this._editorLocator.getEditor(o);return P?(P.setConfiguration(p),Promise.resolve(void 0)):Promise.reject((0,t.u)(`TextEditor(${o})`))}$tryApplyEdits(o,p,P,Y){const ae=this._editorLocator.getEditor(o);return ae?Promise.resolve(ae.applyEdits(p,P,Y)):Promise.reject((0,t.u)(`TextEditor(${o})`))}$tryInsertSnippet(o,p,P,Y,ae){const We=this._editorLocator.getEditor(o);return We?Promise.resolve(We.insertSnippet(p,P,Y,ae)):Promise.reject((0,t.u)(`TextEditor(${o})`))}$registerTextEditorDecorationType(o,p,P){this._registeredDecorationTypes[p=`${this._instanceId}-${p}`]=!0,this._codeEditorService.registerDecorationType(`exthost-api-${o}`,p,P)}$removeTextEditorDecorationType(o){delete this._registeredDecorationTypes[o=`${this._instanceId}-${o}`],this._codeEditorService.removeDecorationType(o)}$getDiffInformation(o){const p=this._editorLocator.getEditor(o);if(!p)return Promise.reject(new Error("No such TextEditor"));const P=p.getCodeEditor();if(!P)return Promise.reject(new Error("No such CodeEditor"));const Y=P.getId(),ae=this._codeEditorService.listDiffEditors(),[We]=ae.filter(Rt=>Rt.getOriginalEditor().getId()===Y||Rt.getModifiedEditor().getId()===Y);if(We)return Promise.resolve(We.getLineChanges()||[]);const ot=P.getContribution("editor.contrib.dirtydiff");return Promise.resolve(ot?ot.getChanges():[])}};cs.INSTANCE_COUNT=0,cs=(0,l._)([(0,l.a)(2,de.$),(0,l.a)(3,C.b),(0,l.a)(4,C.I)],cs);class us{}class Gs{constructor(o){this.editor=o,this.id=`${o.getId()},${o.getModel().id}`}}class Yo{constructor(o,p,P,Y,ae,We){this.removedDocuments=o,this.addedDocuments=p,this.removedEditors=P,this.addedEditors=Y,this.oldActiveEditor=ae,this.newActiveEditor=We,this.isEmpty=0===this.removedDocuments.length&&0===this.addedDocuments.length&&0===this.removedEditors.length&&0===this.addedEditors.length&&ae===We}toString(){let o="DocumentAndEditorStateDelta\n";return o+=`\tRemoved Documents: [${this.removedDocuments.map(p=>p.uri.toString(!0)).join(", ")}]\n`,o+=`\tAdded Documents: [${this.addedDocuments.map(p=>p.uri.toString(!0)).join(", ")}]\n`,o+=`\tRemoved Editors: [${this.removedEditors.map(p=>p.id).join(", ")}]\n`,o+=`\tAdded Editors: [${this.addedEditors.map(p=>p.id).join(", ")}]\n`,o+=`\tNew Active Editor: ${this.newActiveEditor}\n`,o}}class xs{constructor(o,p,P){this.documents=o,this.textEditors=p,this.activeEditor=P}static compute(o,p){if(!o)return new Yo([],[...p.documents.values()],[],[...p.textEditors.values()],void 0,p.activeEditor);const P=function cn(be,o){const p=[],P=[];for(const Y of be)o.has(Y)||p.push(Y);for(const Y of o)be.has(Y)||P.push(Y);return{removed:p,added:P}}(o.documents,p.documents),Y=function Cn(be,o){const p=[],P=[];for(const[Y,ae]of be)o.has(Y)||p.push(ae);for(const[Y,ae]of o)be.has(Y)||P.push(ae);return{removed:p,added:P}}(o.textEditors,p.textEditors);return new Yo(P.removed,P.added,Y.removed,Y.added,o.activeEditor!==p.activeEditor?o.activeEditor:void 0,o.activeEditor!==p.activeEditor?p.activeEditor:void 0)}}let Rs=class{constructor(o,p,P,Y,ae){this._onDidChangeState=o,this._modelService=p,this._codeEditorService=P,this._editorService=Y,this._paneCompositeService=ae,this._toDispose=new k.SL,this._toDisposeOnEditorRemove=new Map,this._activeEditorOrder=0,this._modelService.onModelAdded(this._updateStateOnModelAdd,this,this._toDispose),this._modelService.onModelRemoved(We=>this._updateState(),this,this._toDispose),this._editorService.onDidActiveEditorChange(We=>this._updateState(),this,this._toDispose),this._codeEditorService.onCodeEditorAdd(this._onDidAddEditor,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onDidRemoveEditor,this,this._toDispose),this._codeEditorService.listCodeEditors().forEach(this._onDidAddEditor,this),O.ju.filter(this._paneCompositeService.onDidPaneCompositeOpen,We=>1===We.viewContainerLocation)(We=>this._activeEditorOrder=1,void 0,this._toDispose),O.ju.filter(this._paneCompositeService.onDidPaneCompositeClose,We=>1===We.viewContainerLocation)(We=>this._activeEditorOrder=0,void 0,this._toDispose),this._editorService.onDidVisibleEditorsChange(We=>this._activeEditorOrder=0,void 0,this._toDispose),this._updateState()}dispose(){this._toDispose.dispose()}_onDidAddEditor(o){this._toDisposeOnEditorRemove.set(o.getId(),(0,k.F8)(o.onDidChangeModel(()=>this._updateState()),o.onDidFocusEditorText(()=>this._updateState()),o.onDidFocusEditorWidget(()=>this._updateState(o)))),this._updateState()}_onDidRemoveEditor(o){const p=this._toDisposeOnEditorRemove.get(o.getId());p&&(this._toDisposeOnEditorRemove.delete(o.getId()),p.dispose(),this._updateState())}_updateStateOnModelAdd(o){if((0,Et.pt)(o)){if(!this._currentState)return void this._updateState();this._currentState=new xs(this._currentState.documents.add(o),this._currentState.textEditors,this._currentState.activeEditor),this._onDidChangeState(new Yo([],[o],[],[],void 0,void 0))}}_updateState(o){const p=new Set;for(const ot of this._modelService.getModels())(0,Et.pt)(ot)&&p.add(ot);const P=new Map;let Y=null;for(const ot of this._codeEditorService.listCodeEditors()){if(ot.isSimpleWidget)continue;const Rt=ot.getModel();if(ot.hasModel()&&Rt&&(0,Et.pt)(Rt)&&!Rt.isDisposed()&&this._modelService.getModel(Rt.uri)){const mn=new Gs(ot);P.set(mn.id,mn),(ot.hasTextFocus()||o===ot&&ot.hasWidgetFocus())&&(Y=mn.id)}}if(!Y){let ot;if(ot=0===this._activeEditorOrder?this._getActiveEditorFromEditorPart()||this._getActiveEditorFromPanel():this._getActiveEditorFromPanel()||this._getActiveEditorFromEditorPart(),ot)for(const Rt of P.values())ot===Rt.editor&&(Y=Rt.id)}const ae=new xs(p,P,Y),We=xs.compute(this._currentState,ae);We.isEmpty||(this._currentState=ae,this._onDidChangeState(We))}_getActiveEditorFromPanel(){const o=this._paneCompositeService.getActivePaneComposite(1);if(o instanceof us){const p=o.getControl();if((0,ye.CL)(p))return p}}_getActiveEditorFromEditorPart(){let o=this._editorService.activeTextEditorControl;return(0,ye.QI)(o)&&(o=o.getModifiedEditor()),o}};Rs=(0,l._)([(0,l.a)(1,he.q),(0,l.a)(2,de.$),(0,l.a)(3,C.b),(0,l.a)(4,C.f)],Rs);let Os=class{constructor(o,p,P,Y,ae,We,ot,Rt,mn,Fn,di,wi,Yn,pi,Ri){this._modelService=p,this._textFileService=P,this._editorService=Y,this._editorGroupService=Rt,this._clipboardService=Yn,this._toDispose=new k.SL,this._textEditors=new Map,this._proxy=o.getProxy(ys.ExtHostDocumentsAndEditors),this._mainThreadDocuments=this._toDispose.add(new Gi(o,this._modelService,this._textFileService,We,ot,Fn,wi,di,pi)),o.set(Ko.MainThreadDocuments,this._mainThreadDocuments),this._mainThreadEditors=this._toDispose.add(new cs(this,o,ae,this._editorService,this._editorGroupService)),o.set(Ko.MainThreadTextEditors,this._mainThreadEditors),this._toDispose.add(new Rs(Bi=>this._onDelta(Bi),p,ae,this._editorService,mn))}dispose(){this._toDispose.dispose()}_onDelta(o){const p=[],P=[],Y=o.removedDocuments.map(ot=>ot.uri);for(const ot of o.addedEditors){const Rt=new go(ot.id,ot.editor.getModel(),ot.editor,{onGainedFocus(){},onLostFocus(){}},this._mainThreadDocuments,this._modelService,this._clipboardService);this._textEditors.set(ot.id,Rt),P.push(Rt)}for(const{id:ot}of o.removedEditors){const Rt=this._textEditors.get(ot);Rt&&(Rt.dispose(),this._textEditors.delete(ot),p.push(ot))}const ae=Object.create(null);let We=!0;void 0!==o.newActiveEditor&&(We=!1,ae.newActiveEditor=o.newActiveEditor),Y.length>0&&(We=!1,ae.removedDocuments=Y),p.length>0&&(We=!1,ae.removedEditors=p),o.addedDocuments.length>0&&(We=!1,ae.addedDocuments=o.addedDocuments.map(ot=>this._toModelAddData(ot))),o.addedEditors.length>0&&(We=!1,ae.addedEditors=P.map(ot=>this._toTextEditorAddData(ot))),We||(this._proxy.$acceptDocumentsAndEditorsDelta(ae),Y.forEach(this._mainThreadDocuments.handleModelRemoved,this._mainThreadDocuments),o.addedDocuments.forEach(this._mainThreadDocuments.handleModelAdded,this._mainThreadDocuments),p.forEach(this._mainThreadEditors.handleTextEditorRemoved,this._mainThreadEditors),P.forEach(this._mainThreadEditors.handleTextEditorAdded,this._mainThreadEditors))}_toModelAddData(o){return{uri:o.uri,versionId:o.getVersionId(),lines:o.getLinesContent(),EOL:o.getEOL(),languageId:o.getLanguageId(),isDirty:this._textFileService.isDirty(o.uri)}}_toTextEditorAddData(o){const p=o.getProperties();return{id:o.getId(),documentUri:o.getModel().uri,options:p.options,selections:p.selections,visibleRanges:p.visibleRanges,editorPosition:this._findEditorPosition(o)}}_findEditorPosition(o){for(const p of this._editorService.visibleEditorPanes)if(o.matches(p))return So(this._editorGroupService,p.group)}findTextEditorIdFor(o){for(const[p,P]of this._textEditors)if(P.matches(o))return p}getIdOfCodeEditor(o){for(const[p,P]of this._textEditors)if(P.getCodeEditor()===o)return p}getEditor(o){return this._textEditors.get(o)}};Os=(0,l._)([function Dl(be){El.INSTANCE.registerCustomer(be)},(0,l.a)(1,he.q),(0,l.a)(2,C.j),(0,l.a)(3,C.b),(0,l.a)(4,de.$),(0,l.a)(5,C.c),(0,l.a)(6,me.S),(0,l.a)(7,C.I),(0,l.a)(8,C.f),(0,l.a)(9,C.l),(0,l.a)(10,C.m),(0,l.a)(11,C.k),(0,l.a)(12,Q.p),(0,l.a)(13,C.g),(0,l.a)(14,L.TG)],Os);let yr=class{constructor(o,p,P){this._markerService=p,this._uriIdentService=P,this._activeOwners=new Set,this._proxy=o.getProxy(ys.ExtHostDiagnostics),this._markerListener=this._markerService.onMarkerChanged(this._forwardMarkers,this)}dispose(){this._markerListener.dispose(),this._activeOwners.forEach(o=>this._markerService.changeAll(o,[])),this._activeOwners.clear()}_forwardMarkers(o){const p=[];for(const P of o){const Y=this._markerService.read({resource:P});if(0===Y.length)p.push([P,[]]);else{const ae=Y.filter(We=>!this._activeOwners.has(We.owner));ae.length>0&&p.push([P,ae])}}p.length>0&&this._proxy.$acceptMarkersChange(p)}$changeMany(o,p){for(const P of p){const[Y,ae]=P;if(ae)for(const We of ae){if(We.relatedInformation)for(const ot of We.relatedInformation)ot.resource=b.o.revive(ot.resource);We.code&&"string"!=typeof We.code&&(We.code.target=b.o.revive(We.code.target))}this._markerService.changeOne(o,this._uriIdentService.asCanonicalUri(b.o.revive(Y)),ae)}this._activeOwners.add(o)}$clear(o){this._markerService.changeAll(o,[]),this._activeOwners.delete(o)}};function Kd(be,o){return!(o.disableTelemetry||!be.enableTelemetry||o.extensionTestsLocationURI)}var Cd;yr=(0,l._)([Cr(Ko.MainThreadDiagnostics),(0,l.a)(1,g.lT),(0,l.a)(2,C.k)],yr);let zl=Cd=class extends k.JT{constructor(o,p,P,Y){super(),this._telemetryService=p,this._environmentService=P,this._productService=Y,this._proxy=o.getProxy(ys.ExtHostTelemetry),Kd(this._productService,this._environmentService)&&this._register(p.telemetryLevel.onDidChange(ae=>{this._proxy.$onDidChangeTelemetryLevel(ae)})),this._proxy.$initializeTelemetryLevel(this.telemetryLevel,this._productService.enabledTelemetryLevels)}get telemetryLevel(){return Kd(this._productService,this._environmentService)?this._telemetryService.telemetryLevel.value:0}$publicLog(o,p=Object.create(null)){p[Cd._name]=!0,this._telemetryService.publicLog(o,p)}$publicLog2(o,p){this.$publicLog(o,p)}};zl._name="pluginHostTelemetry",zl=Cd=(0,l._)([Cr(Ko.MainThreadTelemetry),(0,l.a)(1,Ae.b),(0,l.a)(2,ft.Y),(0,l.a)(3,C.h)],zl);let yd=class{constructor(o,p){this._proxy=o.getProxy(Ko.MainThreadBulkEdits),this._versionInformationProvider={getTextDocumentVersion:P=>p.getDocument(P)?.version,getNotebookDocumentVersion:()=>{}}}applyWorkspaceEdit(o,p){const P=(0,W.i)(p,"snippetWorkspaceEdit"),Y=Ti.from(o,this._versionInformationProvider,P);return this._proxy.$tryApplyWorkspaceEdit(Y)}};yd=(0,l._)([(0,l.a)(0,Ma)],yd);class Xr extends dt.fo{constructor(o,p,P=void 0,Y){super(Y),this.resource=o,this.cellEdit=p,this.notebookVersionId=P}static is(o){return o instanceof Xr||b.o.isUri(o.resource)&&(0,_.Kn)(o.cellEdit)}static lift(o){return o instanceof Xr?o:new Xr(o.resource,o.cellEdit,o.notebookVersionId,o.metadata)}}let bd=class{constructor(o,p,P){this._bulkEditService=p,this._logService=P}dispose(){}$tryApplyWorkspaceEdit(o,p){const P=function fc(be){const o=_a(be)?.edits;return o?o.map(p=>{if(dt.Gl.is(p))return dt.Gl.lift(p);if(dt.pH.is(p))return dt.pH.lift(p);if(Xr.is(p))return Xr.lift(p);throw new Error("Unsupported edit")}):[]}(o);return this._bulkEditService.apply(P,{undoRedoGroupId:p}).then(()=>!0,Y=>(this._logService.warn("IGNORING workspace edit",Y),!1))}};bd=(0,l._)([Cr(Ko.MainThreadBulkEdits),(0,l.a)(1,dt.vu),(0,l.a)(2,A.VZ)],bd);class xl{constructor(o,p,P,Y){this._documents=p,this._commands=P,this._uriTransformer=Y,this._languageIds=[],this._handlePool=0,this._ids=new Set,this._proxy=o.getProxy(Ko.MainThreadLanguages)}$acceptLanguageIds(o){this._languageIds=o}getLanguages(){var o=this;return(0,s.Z)(function*(){return o._languageIds.slice(0)})()}changeLanguage(o,p){var P=this;return(0,s.Z)(function*(){yield P._proxy.$changeLanguage(o,p);const Y=P._documents.getDocumentData(o);if(!Y)throw new Error(`document '${o.toString()}' NOT found`);return Y.document})()}tokenAtPosition(o,p){var P=this;return(0,s.Z)(function*(){const Y=o.version,ae=ms.from(p),We=yield P._proxy.$tokensAtPosition(o.uri,ae),ot={type:Mi.Other,range:o.getWordRangeAtPosition(p)??new Kt(p.line,p.character,p.line,p.character)};if(!We)return ot;const Rt={range:zi.to(We.range),type:ll.to(We.type)};return Rt.range.contains(p)&&Y===o.version?Rt:ot})()}createLanguageStatusItem(o,p,P){const Y=this._handlePool++,ae=this._proxy,We=this._ids,ot=`${o.identifier.value}/${p}`;if(We.has(ot))throw new Error(`LanguageStatusItem with id '${p}' ALREADY exists`);We.add(ot);const Rt={selector:P,id:p,name:o.displayName??o.name,severity:En.Information,command:void 0,text:"",detail:"",busy:!1};let mn;const Fn=new k.SL,di=()=>{mn?.dispose(),mn=(0,$.Vg)(()=>{Fn.clear(),this._proxy.$setLanguageStatus(Y,{id:ot,name:Rt.name??o.displayName??o.name,source:o.displayName??o.name,selector:Ka.from(Rt.selector,this._uriTransformer),label:Rt.text,detail:Rt.detail??"",severity:Rt.severity===En.Error?J.Z.Error:Rt.severity===En.Warning?J.Z.Warning:J.Z.Info,command:Rt.command&&this._commands.toInternal(Rt.command,Fn),accessibilityInfo:Rt.accessibilityInformation,busy:Rt.busy})},0)},wi={dispose(){Fn.dispose(),mn?.dispose(),ae.$removeLanguageStatus(Y),We.delete(ot)},get id(){return Rt.id},get name(){return Rt.name},set name(Yn){Rt.name=Yn,di()},get selector(){return Rt.selector},set selector(Yn){Rt.selector=Yn,di()},get text(){return Rt.text},set text(Yn){Rt.text=Yn,di()},get detail(){return Rt.detail},set detail(Yn){Rt.detail=Yn,di()},get severity(){return Rt.severity},set severity(Yn){Rt.severity=Yn,di()},get accessibilityInformation(){return Rt.accessibilityInformation},set accessibilityInformation(Yn){Rt.accessibilityInformation=Yn,di()},get command(){return Rt.command},set command(Yn){Rt.command=Yn,di()},get busy(){return Rt.busy},set busy(Yn){Rt.busy=Yn,di()}};return di(),wi}}let Sd=class{constructor(o,p,P,Y,ae){this._languageService=p,this._modelService=P,this._resolverService=Y,this._languageStatusService=ae,this._disposables=new k.SL,this._status=new Map,this._proxy=o.getProxy(ys.ExtHostLanguages),this._proxy.$acceptLanguageIds(p.getRegisteredLanguageIds()),this._disposables.add(p.onDidChange(We=>{this._proxy.$acceptLanguageIds(p.getRegisteredLanguageIds())}))}dispose(){this._disposables.dispose();for(const o of this._status.values())o.dispose();this._status.clear()}$changeLanguage(o,p){var P=this;return(0,s.Z)(function*(){if(!P._languageService.isRegisteredLanguageId(p))return Promise.reject(new Error(`Unknown language id: ${p}`));const Y=b.o.revive(o),ae=yield P._resolverService.createModelReference(Y);try{P._modelService.setMode(ae.object.textEditorModel,P._languageService.createById(p))}finally{ae.dispose()}})()}$tokensAtPosition(o,p){var P=this;return(0,s.Z)(function*(){const Y=b.o.revive(o),ae=P._modelService.getModel(Y);if(!ae)return;ae.tokenization.tokenizeIfCheap(p.lineNumber);const We=ae.tokenization.getLineTokens(p.lineNumber),ot=We.findTokenIndexAtOffset(p.column-1);return{type:We.getStandardTokenType(ot),range:new lt(p.lineNumber,1+We.getStartOffset(ot),p.lineNumber,1+We.getEndOffset(ot))}})()}$setLanguageStatus(o,p){this._status.get(o)?.dispose(),this._status.set(o,this._languageStatusService.addStatus(p))}$removeLanguageStatus(o){this._status.get(o)?.dispose()}};Sd=(0,l._)([Cr(Ko.MainThreadLanguages),(0,l.a)(1,Pe.O),(0,l.a)(2,he.q),(0,l.a)(3,me.S),(0,l.a)(4,C.e)],Sd);class gc{constructor(o){o?(this.transformIncoming=o.transformIncoming.bind(o),this.transformOutgoing=o.transformOutgoing.bind(o),this.transformOutgoingURI=o.transformOutgoingURI.bind(o),this.transformOutgoingScheme=o.transformOutgoingScheme.bind(o)):(this.transformIncoming=p=>p,this.transformOutgoing=p=>p,this.transformOutgoingURI=p=>p,this.transformOutgoingScheme=p=>p)}}let $l=class Yu{constructor(o){this._onDidChangeWindowState=new l.E,this.onDidChangeWindowState=this._onDidChangeWindowState.event,this._state=Yu.InitialState,this._proxy=o.getProxy(Ko.MainThreadWindow),this._proxy.$getWindowVisibility().then(p=>this.$onDidChangeWindowFocus(p))}get state(){return this._state}$onDidChangeWindowFocus(o){o!==this._state.focused&&(this._state={...this._state,focused:o},this._onDidChangeWindowState.fire(this._state))}openUri(o,p){let P;if("string"==typeof o){P=o;try{o=b.o.parse(o)}catch{return Promise.reject(`Invalid uri - '${o}'`)}}return(0,r.m5)(o.scheme)?Promise.reject("Invalid scheme - cannot be empty"):o.scheme===z.lg.command?Promise.reject(`Invalid scheme '${o.scheme}'`):this._proxy.$openUri(o,P,p)}asExternalUri(o,p){var P=this;return(0,s.Z)(function*(){if((0,r.m5)(o.scheme))return Promise.reject("Invalid scheme - cannot be empty");const Y=yield P._proxy.$asExternalUri(o,p);return b.o.from(Y)})()}};$l.InitialState={focused:!0},$l=(0,l._)([(0,l.a)(0,Ma)],$l);let wd=class{constructor(o,p,P){this.hostService=p,this.openerService=P,this.disposables=new k.SL,this.resolved=new Map,this.proxy=o.getProxy(ys.ExtHostWindow),O.ju.latch(p.onDidChangeFocus)(this.proxy.$onDidChangeWindowFocus,this.proxy,this.disposables)}dispose(){this.disposables.dispose();for(const o of this.resolved.values())o.dispose();this.resolved.clear()}$getWindowVisibility(){return Promise.resolve(this.hostService.hasFocus)}$openUri(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=b.o.from(o);let We;return We=p&&b.o.parse(p).toString()===ae.toString()?p:ae,Y.openerService.open(We,{openExternal:!0,allowTunneling:P.allowTunneling,allowContributedOpeners:P.allowContributedOpeners})})()}$asExternalUri(o,p){var P=this;return(0,s.Z)(function*(){return(yield P.openerService.resolveExternalUri(b.o.revive(o),p)).resolved})()}};wd=(0,l._)([Cr(Ko.MainThreadWindow),(0,l.a)(1,C.d),(0,l.a)(2,it.v4)],wd);let Dd=class{constructor(o,p){this._clipboardService=p}dispose(){}$readText(){return this._clipboardService.readText()}$writeText(o){return this._clipboardService.writeText(o)}};Dd=(0,l._)([Cr(Ko.MainThreadClipboard),(0,l.a)(1,Q.p)],Dd);class mc{constructor(o){const p=o.getProxy(Ko.MainThreadClipboard);this.value=Object.freeze({readText:()=>p.$readText(),writeText:P=>p.$writeText(P)})}}class pc{constructor(){this._onDidChangeTelemetryEnabled=new l.E,this.onDidChangeTelemetryEnabled=this._onDidChangeTelemetryEnabled.event,this._onDidChangeTelemetryConfiguration=new l.E,this.onDidChangeTelemetryConfiguration=this._onDidChangeTelemetryConfiguration.event,this._productConfig={usage:!0,error:!0},this._level=0}getTelemetryConfiguration(){return 3===this._level}getTelemetryDetails(){return{isCrashEnabled:this._level>=1,isErrorsEnabled:!!this._productConfig.error&&this._level>=2,isUsageEnabled:!!this._productConfig.usage&&this._level>=3}}$initializeTelemetryLevel(o,p){this._level=o,this._productConfig=p||{usage:!0,error:!0}}$onDidChangeTelemetryLevel(o){this._oldTelemetryEnablement=this.getTelemetryConfiguration(),this._level=o,this._oldTelemetryEnablement!==this.getTelemetryConfiguration()&&this._onDidChangeTelemetryEnabled.fire(this.getTelemetryConfiguration()),this._onDidChangeTelemetryConfiguration.fire(this.getTelemetryDetails())}}function Zl(be){const o=function Gl(be){const o=be.buffer;if((0,vt.r)()||function _c(be){for(let o=0,p=be.length;o<p;o+=4){const P=be[o+0],Y=be[o+1],ae=be[o+2];be[o+0]=be[o+3],be[o+1]=ae,be[o+2]=Y,be[o+3]=P}}(o),o.byteOffset%4==0)return new Uint32Array(o.buffer,o.byteOffset,o.length/4);{const p=new Uint8Array(o.byteLength);return p.set(o),new Uint32Array(p.buffer,p.byteOffset,p.length/4)}}(be);let p=0;const P=o[p++];if(1===o[p++]){const ot=o[p++],Rt=o.subarray(p,p+ot);return p+=ot,{id:P,type:"full",data:Rt}}const ae=o[p++],We=[];for(let ot=0;ot<ae;ot++){const Rt=o[p++],mn=o[p++],Fn=o[p++];let di;Fn>0&&(di=o.subarray(p,p+Fn),p+=Fn),We[ot]={start:Rt,deleteCount:mn,data:di}}return{id:P,type:"delta",deltas:We}}let Ja=(()=>{class be{constructor(p){this.id=p,this._data=new Map,this._idPool=1}add(p){const P=this._idPool++;return this._data.set(P,p),this.logDebugInfo(),P}get(p,P){return this._data.has(p)?this._data.get(p)[P]:void 0}delete(p){this._data.delete(p),this.logDebugInfo()}logDebugInfo(){be.enableDebugLogging&&console.log(`${this.id} cache size - ${this._data.size}`)}}return be.enableDebugLogging=!1,be})();class gl{constructor(o,p){this._documents=o,this._provider=p}provideDocumentSymbols(o,p){var P=this;return(0,s.Z)(function*(){const Y=P._documents.getDocument(o),ae=yield P._provider.provideDocumentSymbols(Y,p);if(!(0,S.XY)(ae))return ae[0]instanceof ee?ae.map(po.from):gl._asDocumentSymbolTree(ae)})()}static _asDocumentSymbolTree(o){o=o.slice(0).sort((Y,ae)=>{let We=Y.location.range.start.compareTo(ae.location.range.start);return 0===We&&(We=ae.location.range.end.compareTo(Y.location.range.end)),We});const p=[],P=[];for(const Y of o){const ae={name:Y.name||"!!MISSING: name!!",kind:xi.from(Y.kind),tags:Y.tags?.map(ki.from)||[],detail:"",containerName:Y.containerName,range:zi.from(Y.location.range),selectionRange:zi.from(Y.location.range),children:[]};for(;;){if(0===P.length){P.push(ae),p.push(ae);break}const We=P[P.length-1];if(lt.containsRange(We.range,ae.range)&&!lt.equalsRange(We.range,ae.range)){We.children?.push(ae),P.push(ae);break}P.pop()}}return p}}let Oa=(()=>{class be{constructor(p,P,Y){this._documents=p,this._commands=P,this._provider=Y,this._cache=new Ja("CodeLens"),this._disposables=new Map}provideCodeLenses(p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(p),We=yield Y._provider.provideCodeLenses(ae,P);if(!We||P.isCancellationRequested)return;const ot=Y._cache.add(We),Rt=new k.SL;Y._disposables.set(ot,Rt);const mn={cacheId:ot,lenses:[]};for(let Fn=0;Fn<We.length;Fn++)mn.lenses.push({cacheId:[ot,Fn],range:zi.from(We[Fn].range),command:Y._commands.toInternal(We[Fn].command,Rt)});return mn})()}resolveCodeLens(p,P){var Y=this;return(0,s.Z)(function*(){const ae=p.cacheId&&Y._cache.get(...p.cacheId);if(!ae)return;let We;if(We="function"!=typeof Y._provider.resolveCodeLens||ae.isResolved?ae:yield Y._provider.resolveCodeLens(ae,P),We||(We=ae),P.isCancellationRequested)return;const ot=p.cacheId&&Y._disposables.get(p.cacheId[0]);return ot?(p.command=Y._commands.toInternal(We.command??be._badCmd,ot),p):void 0})()}releaseCodeLenses(p){this._disposables.get(p)?.dispose(),this._disposables.delete(p),this._cache.delete(p)}}return be._badCmd={command:"missing",title:"!!MISSING: command!!"},be})();function Ql(be){return Array.isArray(be)?be.map(To.from):be?[To.from(be)]:[]}class zd{constructor(o,p){this._documents=o,this._provider=p}provideDefinition(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p);return Ql(yield Y._provider.provideDefinition(ae,We,P))})()}}class Yl{constructor(o,p){this._documents=o,this._provider=p}provideDeclaration(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p);return Ql(yield Y._provider.provideDeclaration(ae,We,P))})()}}class Xl{constructor(o,p){this._documents=o,this._provider=p}provideImplementation(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p);return Ql(yield Y._provider.provideImplementation(ae,We,P))})()}}class vc{constructor(o,p){this._documents=o,this._provider=p}provideTypeDefinition(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p);return Ql(yield Y._provider.provideTypeDefinition(ae,We,P))})()}}class oa{constructor(o,p){this._documents=o,this._provider=p}provideHover(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p),ot=yield Y._provider.provideHover(ae,We,P);if(ot&&!(0,S.XY)(ot.contents))return ot.range||(ot.range=ae.getWordRangeAtPosition(We)),ot.range||(ot.range=new Kt(We,We)),co.from(ot)})()}}class Ml{constructor(o,p){this._documents=o,this._provider=p}provideEvaluatableExpression(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p),ot=yield Y._provider.provideEvaluatableExpression(ae,We,P);if(ot)return Jo.from(ot)})()}}class wa{constructor(o,p){this._documents=o,this._provider=p}provideInlineValues(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=yield ae._provider.provideInlineValues(We,zi.to(p),wo.to(P),Y);if(Array.isArray(ot))return ot.map(Rt=>Uo.from(Rt))})()}}class Jr{constructor(o,p){this._documents=o,this._provider=p}provideDocumentHighlights(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p),ot=yield Y._provider.provideDocumentHighlights(ae,We,P);if(Array.isArray(ot))return ot.map(no.from)})()}}class $d{constructor(o,p){this._documents=o,this._provider=p}provideLinkedEditingRanges(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p),ot=yield Y._provider.provideLinkedEditingRanges(ae,We,P);if(ot&&Array.isArray(ot.ranges))return{ranges:(0,S.kX)(ot.ranges.map(zi.from)),wordPattern:ot.wordPattern}})()}}class Pl{constructor(o,p){this._documents=o,this._provider=p}provideReferences(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=ms.to(p),Rt=yield ae._provider.provideReferences(We,ot,P,Y);if(Array.isArray(Rt))return Rt.map(Io.from)})()}}let Al=(()=>{class be{constructor(p,P,Y,ae,We,ot,Rt){this._documents=p,this._commands=P,this._diagnostics=Y,this._provider=ae,this._logService=We,this._extension=ot,this._apiDeprecation=Rt,this._cache=new Ja("CodeAction"),this._disposables=new Map}provideCodeActions(p,P,Y,ae){var We=this;return(0,s.Z)(function*(){const ot=We._documents.getDocument(p),Rt=to.isISelection(P)?vr.to(P):zi.to(P),mn=[];for(const Ri of We._diagnostics.getDiagnostics(p))if(Rt.intersection(Ri.range)&&mn.push(Ri)>be._maxCodeActionsPerFile)break;const Fn={diagnostics:mn,only:Y.only?new qe(Y.only):void 0,triggerKind:yl.to(Y.trigger)},di=yield We._provider.provideCodeActions(ot,Rt,Fn,ae);if(!(0,S.Of)(di)||ae.isCancellationRequested)return;const wi=We._cache.add(di),Yn=new k.SL;We._disposables.set(wi,Yn);const pi=[];for(let Ri=0;Ri<di.length;Ri++){const Bi=di[Ri];Bi&&(be._isCommand(Bi)?(We._apiDeprecation.report("CodeActionProvider.provideCodeActions - return commands",We._extension,"Return 'CodeAction' instances instead."),pi.push({_isSynthetic:!0,title:Bi.title,command:We._commands.toInternal(Bi,Yn)})):(Fn.only&&(Bi.kind?Fn.only.contains(Bi.kind)||We._logService.warn(`${We._extension.identifier.value} - Code actions of kind '${Fn.only.value} 'requested but returned code action is of kind '${Bi.kind.value}'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code actions.`):We._logService.warn(`${We._extension.identifier.value} - Code actions of kind '${Fn.only.value} 'requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.`)),pi.push({cacheId:[wi,Ri],title:Bi.title,command:Bi.command&&We._commands.toInternal(Bi.command,Yn),diagnostics:Bi.diagnostics&&Bi.diagnostics.map(es.from),edit:Bi.edit&&Ti.from(Bi.edit,void 0,(0,W.i)(We._extension,"snippetWorkspaceEdit")),kind:Bi.kind&&Bi.kind.value,isPreferred:Bi.isPreferred,disabled:Bi.disabled?.reason})))}return{cacheId:wi,actions:pi}})()}resolveCodeAction(p,P){var Y=this;return(0,s.Z)(function*(){const[ae,We]=p,ot=Y._cache.get(ae,We);if(!ot||be._isCommand(ot)||!Y._provider.resolveCodeAction)return;const Rt=(yield Y._provider.resolveCodeAction(ot,P))??ot;return Rt?.edit?Ti.from(Rt.edit,void 0,(0,W.i)(Y._extension,"snippetWorkspaceEdit")):void 0})()}releaseCodeActions(p){this._disposables.get(p)?.dispose(),this._disposables.delete(p),this._cache.delete(p)}static _isCommand(p){return"string"==typeof p.command&&"string"==typeof p.title}}return be._maxCodeActionsPerFile=1e3,be})();class Ed{constructor(o,p,P,Y){this._proxy=o,this._documents=p,this._provider=P,this._handle=Y}prepareDocumentPaste(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){if(!ae._provider.prepareDocumentPaste)return;const We=ae._documents.getDocument(o),ot=p.map(mn=>zi.to(mn)),Rt=Zr.toDataTransfer(P,()=>{throw new t.N});return yield ae._provider.prepareDocumentPaste(We,ot,Rt,Y),Zr.toDataTransferDTO(Rt)})()}providePasteEdits(o,p,P,Y,ae){var We=this;return(0,s.Z)(function*(){const ot=We._documents.getDocument(p),Rt=P.map(di=>zi.to(di)),mn=Zr.toDataTransfer(Y,function(){var di=(0,s.Z)(function*(wi){return(yield We._proxy.$resolvePasteFileData(We._handle,o,wi)).buffer});return function(wi){return di.apply(this,arguments)}}()),Fn=yield We._provider.provideDocumentPasteEdits(ot,Rt,mn,ae);if(Fn)return{insertText:"string"==typeof Fn.insertText?Fn.insertText:{snippet:Fn.insertText.value},additionalEdit:Fn.additionalEdit?Ti.from(Fn.additionalEdit,void 0,!0):void 0}})()}}class Gd{constructor(o,p){this._documents=o,this._provider=p}provideDocumentFormattingEdits(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=yield Y._provider.provideDocumentFormattingEdits(ae,p,P);if(Array.isArray(We))return We.map(ti.from)})()}}class Zd{constructor(o,p){this._documents=o,this._provider=p}provideDocumentRangeFormattingEdits(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=zi.to(p),Rt=yield ae._provider.provideDocumentRangeFormattingEdits(We,ot,P,Y);if(Array.isArray(Rt))return Rt.map(ti.from)})()}}class Qd{constructor(o,p){this._documents=o,this._provider=p,this.autoFormatTriggerCharacters=[]}provideOnTypeFormattingEdits(o,p,P,Y,ae){var We=this;return(0,s.Z)(function*(){const ot=We._documents.getDocument(o),Rt=ms.to(p),mn=yield We._provider.provideOnTypeFormattingEdits(ot,Rt,P,Y,ae);if(Array.isArray(mn))return mn.map(ti.from)})()}}class Jl{constructor(o,p){this._provider=o,this._logService=p,this._cache=new Ja("WorkspaceSymbols")}provideWorkspaceSymbols(o,p){var P=this;return(0,s.Z)(function*(){const Y=yield P._provider.provideWorkspaceSymbols(o,p);if(!(0,S.Of)(Y))return{symbols:[]};const ae=P._cache.add(Y),We={cacheId:ae,symbols:[]};for(let ot=0;ot<Y.length;ot++){const Rt=Y[ot];Rt&&Rt.name?We.symbols.push({...qi.from(Rt),cacheId:[ae,ot]}):P._logService.warn("INVALID SymbolInformation",Rt)}return We})()}resolveWorkspaceSymbol(o,p){var P=this;return(0,s.Z)(function*(){if("function"!=typeof P._provider.resolveWorkspaceSymbol||!o.cacheId)return o;const Y=P._cache.get(...o.cacheId);if(Y){const ae=yield P._provider.resolveWorkspaceSymbol(Y,p);return ae&&(0,m.jB)(o,qi.from(ae),!0)}})()}releaseWorkspaceSymbols(o){this._cache.delete(o)}}class Da{constructor(o,p,P){this._documents=o,this._provider=p,this._logService=P}static supportsResolving(o){return"function"==typeof o.prepareRename}provideRenameEdits(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=ms.to(p);try{const Rt=yield ae._provider.provideRenameEdits(We,ot,P,Y);return Rt?Ti.from(Rt):void 0}catch(Rt){const mn=Da._asMessage(Rt);return mn?{rejectReason:mn,edits:void 0}:Promise.reject(Rt)}})()}resolveRenameLocation(o,p,P){var Y=this;return(0,s.Z)(function*(){if("function"!=typeof Y._provider.prepareRename)return Promise.resolve(void 0);const ae=Y._documents.getDocument(o),We=ms.to(p);try{const ot=yield Y._provider.prepareRename(ae,We,P);let Rt,mn;if(Kt.isRange(ot)?(Rt=ot,mn=ae.getText(ot)):(0,_.Kn)(ot)&&(Rt=ot.range,mn=ot.placeholder),!Rt||!mn)return;return Rt.start.line>We.line||Rt.end.line<We.line?void Y._logService.warn("INVALID rename location: position line must be within range start/end lines"):{range:zi.from(Rt),text:mn}}catch(ot){const Rt=Da._asMessage(ot);return Rt?{rejectReason:Rt,range:void 0,text:void 0}:Promise.reject(ot)}})()}static _asMessage(o){return"string"==typeof o?o:o instanceof Error&&"string"==typeof o.message?o.message:void 0}}class Nl{constructor(o,p){this.resultId=o,this.tokens=p}}class Rr{constructor(o,p){this._documents=o,this._provider=p,this._nextResultId=1,this._previousResults=new Map}provideDocumentSemanticTokens(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=0!==p?Y._previousResults.get(p):null;let ot="string"==typeof We?.resultId&&"function"==typeof Y._provider.provideDocumentSemanticTokensEdits?yield Y._provider.provideDocumentSemanticTokensEdits(ae,We.resultId,P):yield Y._provider.provideDocumentSemanticTokens(ae,P);return We&&Y._previousResults.delete(p),ot?(ot=Rr._fixProvidedSemanticTokens(ot),Y._send(Rr._convertToEdits(We,ot),ot)):null})()}releaseDocumentSemanticColoring(o){var p=this;return(0,s.Z)(function*(){p._previousResults.delete(o)})()}static _fixProvidedSemanticTokens(o){return Rr._isSemanticTokens(o)?Rr._isCorrectSemanticTokens(o)?o:new Vo(new Uint32Array(o.data),o.resultId):Rr._isSemanticTokensEdits(o)?Rr._isCorrectSemanticTokensEdits(o)?o:new ws(o.edits.map(p=>new Ds(p.start,p.deleteCount,p.data?new Uint32Array(p.data):p.data)),o.resultId):o}static _isSemanticTokens(o){return o&&!!o.data}static _isCorrectSemanticTokens(o){return o.data instanceof Uint32Array}static _isSemanticTokensEdits(o){return o&&Array.isArray(o.edits)}static _isCorrectSemanticTokensEdits(o){for(const p of o.edits)if(!(p.data instanceof Uint32Array))return!1;return!0}static _convertToEdits(o,p){if(!Rr._isSemanticTokens(p)||!o||!o.tokens)return p;const P=o.tokens,Y=P.length,ae=p.data,We=ae.length;let ot=0;const Rt=Math.min(Y,We);for(;ot<Rt&&P[ot]===ae[ot];)ot++;if(ot===Y&&ot===We)return new ws([],p.resultId);let mn=0;const Fn=Rt-ot;for(;mn<Fn&&P[Y-mn-1]===ae[We-mn-1];)mn++;return new ws([{start:ot,deleteCount:Y-ot-mn,data:ae.subarray(ot,We-mn)}],p.resultId)}_send(o,p){if(Rr._isSemanticTokens(o)){const P=this._nextResultId++;return this._previousResults.set(P,new Nl(o.resultId,o.data)),(0,et.C)({id:P,type:"full",data:o.data})}if(Rr._isSemanticTokensEdits(o)){const P=this._nextResultId++;return Rr._isSemanticTokens(p)?this._previousResults.set(P,new Nl(p.resultId,p.data)):this._previousResults.set(P,new Nl(o.resultId)),(0,et.C)({id:P,type:"delta",deltas:(o.edits||[]).map(Y=>({start:Y.start,deleteCount:Y.deleteCount,data:Y.data}))})}return null}}class ql{constructor(o,p){this._documents=o,this._provider=p}provideDocumentRangeSemanticTokens(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=yield Y._provider.provideDocumentRangeSemanticTokens(ae,zi.to(p),P);return We?Y._send(We):null})()}_send(o){return(0,et.C)({id:0,type:"full",data:o.data})}}class Ea{constructor(o,p,P,Y,ae){this._documents=o,this._commands=p,this._provider=P,this._apiDeprecation=Y,this._extension=ae,this._cache=new Ja("CompletionItem"),this._disposables=new Map}static supportsResolving(o){return"function"==typeof o.resolveCompletionItem}provideCompletionItems(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=ms.to(p),Rt=We.getWordRangeAtPosition(ot)||new Kt(ot,ot),mn=Rt.with({end:ot}),Fn=new St.G(!0),di=yield ae._provider.provideCompletionItems(We,ot,Y,Qo.to(P));if(!di||Y.isCancellationRequested)return;const wi=Array.isArray(di)?new Ge(di):di,Yn=Ea.supportsResolving(ae._provider)?ae._cache.add(wi.items):ae._cache.add([]),pi=new k.SL;ae._disposables.set(Yn,pi);const Ri=[],Bi={x:Yn,b:Ri,a:{replace:zi.from(Rt),insert:zi.from(mn)},c:wi.isIncomplete||void 0,d:Fn.elapsed()};for(let Is=0;Is<wi.items.length;Is++){const br=ae._convertCompletionItem(wi.items[Is],[Yn,Is],mn,Rt);Ri.push(br)}return Bi})()}resolveCompletionItem(o,p){var P=this;return(0,s.Z)(function*(){if("function"!=typeof P._provider.resolveCompletionItem)return;const Y=P._cache.get(...o);if(!Y)return;const ae=yield P._provider.resolveCompletionItem(Y,p);return ae?P._convertCompletionItem(ae,o):void 0})()}releaseCompletionItems(o){this._disposables.get(o)?.dispose(),this._disposables.delete(o),this._cache.delete(o)}_convertCompletionItem(o,p,P,Y){const ae=this._disposables.get(p[0]);if(!ae)throw Error("DisposableStore is missing...");const We={x:p,a:o.label,b:void 0!==o.kind?ls.from(o.kind):void 0,n:o.tags&&o.tags.map(qo.from),c:o.detail,d:typeof o.documentation>"u"?void 0:Jt.fromStrict(o.documentation),e:o.sortText!==o.label?o.sortText:void 0,f:o.filterText!==o.label?o.filterText:void 0,g:o.preselect||void 0,i:o.keepWhitespace?1:0,k:o.commitCharacters,l:o.additionalTextEdits&&o.additionalTextEdits.map(ti.from),m:this._commands.toInternal(o.command,ae)};let ot;return o.textEdit?(this._apiDeprecation.report("CompletionItem.textEdit",this._extension,"Use 'CompletionItem.insertText' and 'CompletionItem.range' instead."),We.h=o.textEdit.newText):"string"==typeof o.insertText?We.h=o.insertText:o.insertText instanceof jt&&(We.h=o.insertText.value,We.i|=4),o.textEdit?ot=o.textEdit.range:o.range&&(ot=o.range),Kt.isRange(ot)?We.j=zi.from(ot):ot&&(!P?.isEqual(ot.inserting)||!Y?.isEqual(ot.replacing))&&(We.j={insert:zi.from(ot.inserting),replace:zi.from(ot.replacing)}),We}}class qa{provideInlineCompletions(o,p,P,Y){return(0,s.Z)(function*(){})()}disposeCompletions(o){}handleDidShowCompletionItem(o,p){}}class Cc extends qa{constructor(o,p,P,Y){super(),this._extension=o,this._documents=p,this._provider=P,this._commands=Y,this._references=new Yd,this._isAdditionsProposedApiEnabled=(0,W.i)(this._extension,"inlineCompletionsAdditions"),this.languageTriggerKindToVSCodeTriggerKind={[st.bw.Automatic]:Ys.Automatic,[st.bw.Explicit]:Ys.Invoke}}get supportsHandleDidShowCompletionItem(){return(0,W.i)(this._extension,"inlineCompletionsAdditions")&&"function"==typeof this._provider.handleDidShowCompletionItem}provideInlineCompletions(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=ms.to(p),Rt=yield ae._provider.provideInlineCompletionItems(We,ot,{selectedCompletionInfo:P.selectedSuggestionInfo?{range:zi.to(P.selectedSuggestionInfo.range),text:P.selectedSuggestionInfo.text}:void 0,triggerKind:ae.languageTriggerKindToVSCodeTriggerKind[P.triggerKind]},Y);if(!Rt||Y.isCancellationRequested)return;const mn=(0,_.kJ)(Rt)?Rt:Rt.items,Fn=ae._isAdditionsProposedApiEnabled?(0,_.kJ)(Rt)?[]:Rt.commands||[]:[];let di;return{pid:ae._references.createReferenceId({dispose(){di&&di.dispose()},items:mn}),items:mn.map((Yn,pi)=>{let Ri;Yn.command&&(di||(di=new k.SL),Ri=ae._commands.toInternal(Yn.command,di));const Bi=Yn.insertText;return{insertText:"string"==typeof Bi?Bi:{snippet:Bi.value},filterText:Yn.filterText,range:Yn.range?zi.from(Yn.range):void 0,command:Ri,idx:pi,completeBracketPairs:!!ae._isAdditionsProposedApiEnabled&&Yn.completeBracketPairs}}),commands:Fn.map(Yn=>(di||(di=new k.SL),ae._commands.toInternal(Yn,di)))}})()}disposeCompletions(o){this._references.disposeReferenceId(o)?.dispose()}handleDidShowCompletionItem(o,p){const P=this._references.get(o)?.items[p];P&&this._provider.handleDidShowCompletionItem&&this._isAdditionsProposedApiEnabled&&this._provider.handleDidShowCompletionItem(P)}}class yc extends qa{constructor(o,p,P,Y){super(),this.extension=o,this._documents=p,this._provider=P,this._commands=Y,this._references=new Yd,this.isAdditionProposedApiEnabled=(0,W.i)(this.extension,"inlineCompletionsAdditions"),this.languageTriggerKindToVSCodeTriggerKind={[st.bw.Automatic]:Xs.Automatic,[st.bw.Explicit]:Xs.Invoke}}provideInlineCompletions(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=ms.to(p),Rt=yield ae._provider.provideInlineCompletionItems(We,ot,{selectedCompletionInfo:P.selectedSuggestionInfo?{range:zi.to(P.selectedSuggestionInfo.range),text:P.selectedSuggestionInfo.text}:void 0,triggerKind:ae.languageTriggerKindToVSCodeTriggerKind[P.triggerKind]},Y);if(!Rt||Y.isCancellationRequested)return;const mn=(0,_.kJ)(Rt)?Rt:Rt.items,Fn=(0,_.kJ)(Rt)?[]:Rt.commands||[];let di;return{pid:ae._references.createReferenceId({dispose(){di&&di.dispose()},items:mn}),items:mn.map((Yn,pi)=>{let Ri;Yn.command&&(di||(di=new k.SL),Ri=ae._commands.toInternal(Yn.command,di));const Bi=Yn.insertText;return{insertText:"string"==typeof Bi?Bi:{snippet:Bi.value},filterText:Yn.filterText,range:Yn.range?zi.from(Yn.range):void 0,command:Ri,idx:pi,completeBracketPairs:!!ae.isAdditionProposedApiEnabled&&Yn.completeBracketPairs}}),commands:Fn.map(Yn=>(di||(di=new k.SL),ae._commands.toInternal(Yn,di)))}})()}disposeCompletions(o){this._references.disposeReferenceId(o)?.dispose()}handleDidShowCompletionItem(o,p){const P=this._references.get(o)?.items[p];P&&this._provider.handleDidShowCompletionItem&&this.isAdditionProposedApiEnabled&&this._provider.handleDidShowCompletionItem(P)}}class Yd{constructor(){this._references=new Map,this._idPool=1}createReferenceId(o){const p=this._idPool++;return this._references.set(p,o),p}disposeReferenceId(o){const p=this._references.get(o);return this._references.delete(o),p}get(o){return this._references.get(o)}}class Ld{constructor(o,p){this._documents=o,this._provider=p,this._cache=new Ja("SignatureHelp")}provideSignatureHelp(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae._documents.getDocument(o),ot=ms.to(p),Rt=ae.reviveContext(P),mn=yield ae._provider.provideSignatureHelp(We,ot,Y,Rt);if(mn){const Fn=ae._cache.add([mn]);return{...Ks.from(mn),id:Fn}}})()}reviveContext(o){let p;if(o.activeSignatureHelp){const P=Ks.to(o.activeSignatureHelp),Y=this._cache.get(o.activeSignatureHelp.id,0);Y?(p=Y,p.activeSignature=P.activeSignature,p.activeParameter=P.activeParameter):p=P}return{...o,activeSignatureHelp:p}}releaseSignatureHelp(o){this._cache.delete(o)}}class ed{constructor(o,p,P,Y,ae){this._documents=o,this._commands=p,this._provider=P,this._logService=Y,this._extension=ae,this._cache=new Ja("InlayHints"),this._disposables=new Map}provideInlayHints(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=zi.to(p),ot=yield Y._provider.provideInlayHints(ae,We,P);if(!Array.isArray(ot)||0===ot.length)return void Y._logService.trace(`[InlayHints] NO inlay hints from '${Y._extension.identifier.value}' for ${p}`);if(P.isCancellationRequested)return;const Rt=Y._cache.add(ot);Y._disposables.set(Rt,new k.SL);const mn={hints:[],cacheId:Rt};for(let Fn=0;Fn<ot.length;Fn++)Y._isValidInlayHint(ot[Fn],We)&&mn.hints.push(Y._convertInlayHint(ot[Fn],[Rt,Fn]));return Y._logService.trace(`[InlayHints] ${mn.hints.length} inlay hints from '${Y._extension.identifier.value}' for ${p}`),mn})()}resolveInlayHint(o,p){var P=this;return(0,s.Z)(function*(){if("function"!=typeof P._provider.resolveInlayHint)return;const Y=P._cache.get(...o);if(!Y)return;const ae=yield P._provider.resolveInlayHint(Y,p);return ae&&P._isValidInlayHint(ae)?P._convertInlayHint(ae,o):void 0})()}releaseHints(o){this._disposables.get(o)?.dispose(),this._disposables.delete(o),this._cache.delete(o)}_isValidInlayHint(o,p){return 0===o.label.length||Array.isArray(o.label)&&o.label.every(P=>0===P.value.length)?(console.log("INVALID inlay hint, empty label",o),!1):!(p&&!p.contains(o.position))}_convertInlayHint(o,p){const P=this._disposables.get(p[0]);if(!P)throw Error("DisposableStore is missing...");const Y={label:"",cacheId:p,tooltip:Jt.fromStrict(o.tooltip),position:ms.from(o.position),textEdits:o.textEdits&&o.textEdits.map(ti.from),kind:o.kind&&ss.from(o.kind),paddingLeft:o.paddingLeft,paddingRight:o.paddingRight};return Y.label="string"==typeof o.label?o.label:o.label.map(ae=>{const We={label:ae.value};return We.tooltip=Jt.fromStrict(ae.tooltip),Be.isLocation(ae.location)&&(We.location=Io.from(ae.location)),ae.command&&(We.command=this._commands.toInternal(ae.command,P)),We}),Y}}class ka{constructor(o,p){this._documents=o,this._provider=p,this._cache=new Ja("DocumentLink")}provideLinks(o,p){var P=this;return(0,s.Z)(function*(){const Y=P._documents.getDocument(o),ae=yield P._provider.provideDocumentLinks(Y,p);if(Array.isArray(ae)&&0!==ae.length&&!p.isCancellationRequested){if("function"!=typeof P._provider.resolveDocumentLink)return{links:ae.filter(ka._validateLink).map(zs.from)};{const We=P._cache.add(ae),ot={links:[],cacheId:We};for(let Rt=0;Rt<ae.length;Rt++){if(!ka._validateLink(ae[Rt]))continue;const mn=zs.from(ae[Rt]);mn.cacheId=[We,Rt],ot.links.push(mn)}return ot}}})()}static _validateLink(o){return!(o.target&&o.target.path.length>5e4&&(console.warn("DROPPING link because it is too long"),1))}resolveLink(o,p){var P=this;return(0,s.Z)(function*(){if("function"!=typeof P._provider.resolveDocumentLink)return;const Y=P._cache.get(...o);if(!Y)return;const ae=yield P._provider.resolveDocumentLink(Y,p);return ae&&ka._validateLink(ae)?zs.from(ae):void 0})()}releaseLinks(o){this._cache.delete(o)}}class Id{constructor(o,p){this._documents=o,this._provider=p}provideColors(o,p){var P=this;return(0,s.Z)(function*(){const Y=P._documents.getDocument(o),ae=yield P._provider.provideDocumentColors(Y,p);return Array.isArray(ae)?ae.map(ot=>({color:jo.from(ot.color),range:zi.from(ot.range)})):[]})()}provideColorPresentations(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=zi.to(p.range),ot=jo.to(p.color),Rt=yield Y._provider.provideColorPresentations(ot,{document:ae,range:We},P);if(Array.isArray(Rt))return Rt.map(lr.from)})()}}class Xd{constructor(o,p){this._documents=o,this._provider=p}provideFoldingRanges(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=yield Y._provider.provideFoldingRanges(ae,p,P);if(Array.isArray(We))return We.map(ua.from)})()}}class Fa{constructor(o,p,P){this._documents=o,this._provider=p,this._logService=P}provideSelectionRanges(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=p.map(ms.to),ot=yield Y._provider.provideSelectionRanges(ae,We,P);if(!(0,S.Of)(ot))return[];if(ot.length!==We.length)return Y._logService.warn("BAD selection ranges, provider must return ranges for each position"),[];const Rt=[];for(let mn=0;mn<We.length;mn++){const Fn=[];Rt.push(Fn);let di=We[mn],wi=ot[mn];for(;;){if(!wi.range.contains(di))throw new Error("INVALID selection range, must contain the previous range");if(Fn.push(ur.from(wi)),!wi.parent)break;di=wi.range,wi=wi.parent}}return Rt})()}}class sa{constructor(o,p){this._documents=o,this._provider=p,this._idPool=new Ze.R(""),this._cache=new Map}prepareSession(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p),ot=yield Y._provider.prepareCallHierarchy(ae,We,P);if(!ot)return;const Rt=Y._idPool.nextId();return Y._cache.set(Rt,new Map),Array.isArray(ot)?ot.map(mn=>Y._cacheAndConvertItem(Rt,mn)):[Y._cacheAndConvertItem(Rt,ot)]})()}provideCallsTo(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._itemFromCache(o,p);if(!ae)throw new Error("missing call hierarchy item");const We=yield Y._provider.provideCallHierarchyIncomingCalls(ae,P);if(We)return We.map(ot=>({from:Y._cacheAndConvertItem(o,ot.from),fromRanges:ot.fromRanges.map(Rt=>zi.from(Rt))}))})()}provideCallsFrom(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._itemFromCache(o,p);if(!ae)throw new Error("missing call hierarchy item");const We=yield Y._provider.provideCallHierarchyOutgoingCalls(ae,P);if(We)return We.map(ot=>({to:Y._cacheAndConvertItem(o,ot.to),fromRanges:ot.fromRanges.map(Rt=>zi.from(Rt))}))})()}releaseSession(o){this._cache.delete(o)}_cacheAndConvertItem(o,p){const P=this._cache.get(o),Y=No.from(p,o,P.size.toString(36));return P.set(Y._itemId,p),Y}_itemFromCache(o,p){return this._cache.get(o)?.get(p)}}class ra{constructor(o,p){this._documents=o,this._provider=p,this._idPool=new Ze.R(""),this._cache=new Map}prepareSession(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documents.getDocument(o),We=ms.to(p),ot=yield Y._provider.prepareTypeHierarchy(ae,We,P);if(!ot)return;const Rt=Y._idPool.nextId();return Y._cache.set(Rt,new Map),Array.isArray(ot)?ot.map(mn=>Y._cacheAndConvertItem(Rt,mn)):[Y._cacheAndConvertItem(Rt,ot)]})()}provideSupertypes(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._itemFromCache(o,p);if(!ae)throw new Error("missing type hierarchy item");const We=yield Y._provider.provideTypeHierarchySupertypes(ae,P);if(We)return We.map(ot=>Y._cacheAndConvertItem(o,ot))})()}provideSubtypes(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._itemFromCache(o,p);if(!ae)throw new Error("missing type hierarchy item");const We=yield Y._provider.provideTypeHierarchySubtypes(ae,P);if(We)return We.map(ot=>Y._cacheAndConvertItem(o,ot))})()}releaseSession(o){this._cache.delete(o)}_cacheAndConvertItem(o,p){const P=this._cache.get(o),Y=$a.from(p,o,P.size.toString(36));return P.set(Y._itemId,p),Y}_itemFromCache(o,p){return this._cache.get(o)?.get(p)}}class Ba{constructor(o,p,P,Y){this._proxy=o,this._documents=p,this._provider=P,this._handle=Y}provideDocumentOnDropEdits(o,p,P,Y,ae){var We=this;return(0,s.Z)(function*(){const ot=We._documents.getDocument(p),Rt=ms.to(P),mn=Zr.toDataTransfer(Y,function(){var di=(0,s.Z)(function*(wi){return(yield We._proxy.$resolveDocumentOnDropFileData(We._handle,o,wi)).buffer});return function(wi){return di.apply(this,arguments)}}()),Fn=yield We._provider.provideDocumentDropEdits(ot,Rt,mn,ae);if(Fn)return{insertText:"string"==typeof Fn.insertText?Fn.insertText:{snippet:Fn.insertText.value},additionalEdit:Fn.additionalEdit?Ti.from(Fn.additionalEdit,void 0,!0):void 0}})()}}class aa{constructor(o,p){this.adapter=o,this.extension=p}}let el=(()=>{class be{constructor(p,P,Y,ae,We,ot,Rt){this._adapter=new Map,this._uriTransformer=P,this._proxy=p.getProxy(Ko.MainThreadLanguageFeatures),this._documents=Y,this._commands=ae,this._diagnostics=We,this._logService=ot,this._apiDeprecation=Rt}_transformDocumentSelector(p){return Ka.from(p,this._uriTransformer)}_createDisposable(p){return new un(()=>{this._adapter.delete(p),this._proxy.$unregister(p)})}_nextHandle(){return be._handlePool++}_withAdapter(p,P,Y,ae,We,ot=!1){var Rt=this;return(0,s.Z)(function*(){const mn=Rt._adapter.get(p);if(!(mn&&mn.adapter instanceof P))return ae;const Fn=Date.now();ot||Rt._logService.trace(`[${mn.extension.identifier.value}] INVOKE provider '${Y.toString().replace(/[\r\n]/g,"")}'`);const di=Y(mn.adapter,mn.extension);return Promise.resolve(di).catch(wi=>{(0,I.n2)(wi)||(Rt._logService.error(`[${mn.extension.identifier.value}] provider FAILED`),Rt._logService.error(wi))}).finally(()=>{ot||Rt._logService.trace(`[${mn.extension.identifier.value}] provider DONE after ${Date.now()-Fn}ms`)}),j.T.isCancellationToken(We)?(0,Se.r)(di,We):di})()}_addNewAdapter(p,P){const Y=this._nextHandle();return this._adapter.set(Y,new aa(p,P)),Y}static _extLabel(p){return p.displayName||p.name}registerDocumentSymbolProvider(p,P,Y,ae){const We=this._addNewAdapter(new gl(this._documents,Y),p),ot=ae&&ae.label||be._extLabel(p);return this._proxy.$registerDocumentSymbolProvider(We,this._transformDocumentSelector(P),ot),this._createDisposable(We)}$provideDocumentSymbols(p,P,Y){return this._withAdapter(p,gl,ae=>ae.provideDocumentSymbols(b.o.revive(P),Y),void 0,Y)}registerCodeLensProvider(p,P,Y){const ae=this._nextHandle(),We="function"==typeof Y.onDidChangeCodeLenses?this._nextHandle():void 0;this._adapter.set(ae,new aa(new Oa(this._documents,this._commands.converter,Y),p)),this._proxy.$registerCodeLensSupport(ae,this._transformDocumentSelector(P),We);let ot=this._createDisposable(ae);if(void 0!==We){const Rt=Y.onDidChangeCodeLenses(mn=>this._proxy.$emitCodeLensEvent(We));ot=un.from(ot,Rt)}return ot}$provideCodeLenses(p,P,Y){return this._withAdapter(p,Oa,ae=>ae.provideCodeLenses(b.o.revive(P),Y),void 0,Y)}$resolveCodeLens(p,P,Y){return this._withAdapter(p,Oa,ae=>ae.resolveCodeLens(P,Y),void 0,void 0)}$releaseCodeLenses(p,P){this._withAdapter(p,Oa,Y=>Promise.resolve(Y.releaseCodeLenses(P)),void 0,void 0)}registerDefinitionProvider(p,P,Y){const ae=this._addNewAdapter(new zd(this._documents,Y),p);return this._proxy.$registerDefinitionSupport(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideDefinition(p,P,Y,ae){return this._withAdapter(p,zd,We=>We.provideDefinition(b.o.revive(P),Y,ae),[],ae)}registerDeclarationProvider(p,P,Y){const ae=this._addNewAdapter(new Yl(this._documents,Y),p);return this._proxy.$registerDeclarationSupport(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideDeclaration(p,P,Y,ae){return this._withAdapter(p,Yl,We=>We.provideDeclaration(b.o.revive(P),Y,ae),[],ae)}registerImplementationProvider(p,P,Y){const ae=this._addNewAdapter(new Xl(this._documents,Y),p);return this._proxy.$registerImplementationSupport(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideImplementation(p,P,Y,ae){return this._withAdapter(p,Xl,We=>We.provideImplementation(b.o.revive(P),Y,ae),[],ae)}registerTypeDefinitionProvider(p,P,Y){const ae=this._addNewAdapter(new vc(this._documents,Y),p);return this._proxy.$registerTypeDefinitionSupport(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideTypeDefinition(p,P,Y,ae){return this._withAdapter(p,vc,We=>We.provideTypeDefinition(b.o.revive(P),Y,ae),[],ae)}registerHoverProvider(p,P,Y,ae){const We=this._addNewAdapter(new oa(this._documents,Y),p);return this._proxy.$registerHoverProvider(We,this._transformDocumentSelector(P)),this._createDisposable(We)}$provideHover(p,P,Y,ae){return this._withAdapter(p,oa,We=>We.provideHover(b.o.revive(P),Y,ae),void 0,ae)}registerEvaluatableExpressionProvider(p,P,Y,ae){const We=this._addNewAdapter(new Ml(this._documents,Y),p);return this._proxy.$registerEvaluatableExpressionProvider(We,this._transformDocumentSelector(P)),this._createDisposable(We)}$provideEvaluatableExpression(p,P,Y,ae){return this._withAdapter(p,Ml,We=>We.provideEvaluatableExpression(b.o.revive(P),Y,ae),void 0,ae)}registerInlineValuesProvider(p,P,Y,ae){const We="function"==typeof Y.onDidChangeInlineValues?this._nextHandle():void 0,ot=this._addNewAdapter(new wa(this._documents,Y),p);this._proxy.$registerInlineValuesProvider(ot,this._transformDocumentSelector(P),We);let Rt=this._createDisposable(ot);if(void 0!==We){const mn=Y.onDidChangeInlineValues(Fn=>this._proxy.$emitInlineValuesEvent(We));Rt=un.from(Rt,mn)}return Rt}$provideInlineValues(p,P,Y,ae,We){return this._withAdapter(p,wa,ot=>ot.provideInlineValues(b.o.revive(P),Y,ae,We),void 0,We)}registerDocumentHighlightProvider(p,P,Y){const ae=this._addNewAdapter(new Jr(this._documents,Y),p);return this._proxy.$registerDocumentHighlightProvider(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideDocumentHighlights(p,P,Y,ae){return this._withAdapter(p,Jr,We=>We.provideDocumentHighlights(b.o.revive(P),Y,ae),void 0,ae)}registerLinkedEditingRangeProvider(p,P,Y){const ae=this._addNewAdapter(new $d(this._documents,Y),p);return this._proxy.$registerLinkedEditingRangeProvider(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideLinkedEditingRanges(p,P,Y,ae){return this._withAdapter(p,$d,function(){var We=(0,s.Z)(function*(ot){const Rt=yield ot.provideLinkedEditingRanges(b.o.revive(P),Y,ae);if(Rt)return{ranges:Rt.ranges,wordPattern:Rt.wordPattern?be._serializeRegExp(Rt.wordPattern):void 0}});return function(ot){return We.apply(this,arguments)}}(),void 0,ae)}registerReferenceProvider(p,P,Y){const ae=this._addNewAdapter(new Pl(this._documents,Y),p);return this._proxy.$registerReferenceSupport(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideReferences(p,P,Y,ae,We){return this._withAdapter(p,Pl,ot=>ot.provideReferences(b.o.revive(P),Y,ae,We),void 0,We)}registerCodeActionProvider(p,P,Y,ae){const We=new k.SL,ot=this._addNewAdapter(new Al(this._documents,this._commands.converter,this._diagnostics,Y,this._logService,p,this._apiDeprecation),p);return this._proxy.$registerQuickFixSupport(ot,this._transformDocumentSelector(P),{providedKinds:ae?.providedCodeActionKinds?.map(Rt=>Rt.value),documentation:ae?.documentation?.map(Rt=>({kind:Rt.kind.value,command:this._commands.converter.toInternal(Rt.command,We)}))},be._extLabel(p),!!Y.resolveCodeAction),We.add(this._createDisposable(ot)),We}$provideCodeActions(p,P,Y,ae,We){return this._withAdapter(p,Al,ot=>ot.provideCodeActions(b.o.revive(P),Y,ae,We),void 0,We)}$resolveCodeAction(p,P,Y){return this._withAdapter(p,Al,ae=>ae.resolveCodeAction(P,Y),void 0,void 0)}$releaseCodeActions(p,P){this._withAdapter(p,Al,Y=>Promise.resolve(Y.releaseCodeActions(P)),void 0,void 0)}registerDocumentFormattingEditProvider(p,P,Y){const ae=this._addNewAdapter(new Gd(this._documents,Y),p);return this._proxy.$registerDocumentFormattingSupport(ae,this._transformDocumentSelector(P),p.identifier,p.displayName||p.name),this._createDisposable(ae)}$provideDocumentFormattingEdits(p,P,Y,ae){return this._withAdapter(p,Gd,We=>We.provideDocumentFormattingEdits(b.o.revive(P),Y,ae),void 0,ae)}registerDocumentRangeFormattingEditProvider(p,P,Y){const ae=this._addNewAdapter(new Zd(this._documents,Y),p);return this._proxy.$registerRangeFormattingSupport(ae,this._transformDocumentSelector(P),p.identifier,p.displayName||p.name),this._createDisposable(ae)}$provideDocumentRangeFormattingEdits(p,P,Y,ae,We){return this._withAdapter(p,Zd,ot=>ot.provideDocumentRangeFormattingEdits(b.o.revive(P),Y,ae,We),void 0,We)}registerOnTypeFormattingEditProvider(p,P,Y,ae){const We=this._addNewAdapter(new Qd(this._documents,Y),p);return this._proxy.$registerOnTypeFormattingSupport(We,this._transformDocumentSelector(P),ae,p.identifier),this._createDisposable(We)}$provideOnTypeFormattingEdits(p,P,Y,ae,We,ot){return this._withAdapter(p,Qd,Rt=>Rt.provideOnTypeFormattingEdits(b.o.revive(P),Y,ae,We,ot),void 0,ot)}registerWorkspaceSymbolProvider(p,P){const Y=this._addNewAdapter(new Jl(P,this._logService),p);return this._proxy.$registerNavigateTypeSupport(Y,"function"==typeof P.resolveWorkspaceSymbol),this._createDisposable(Y)}$provideWorkspaceSymbols(p,P,Y){return this._withAdapter(p,Jl,ae=>ae.provideWorkspaceSymbols(P,Y),{symbols:[]},Y)}$resolveWorkspaceSymbol(p,P,Y){return this._withAdapter(p,Jl,ae=>ae.resolveWorkspaceSymbol(P,Y),void 0,void 0)}$releaseWorkspaceSymbols(p,P){this._withAdapter(p,Jl,Y=>Y.releaseWorkspaceSymbols(P),void 0,void 0)}registerRenameProvider(p,P,Y){const ae=this._addNewAdapter(new Da(this._documents,Y,this._logService),p);return this._proxy.$registerRenameSupport(ae,this._transformDocumentSelector(P),Da.supportsResolving(Y)),this._createDisposable(ae)}$provideRenameEdits(p,P,Y,ae,We){return this._withAdapter(p,Da,ot=>ot.provideRenameEdits(b.o.revive(P),Y,ae,We),void 0,We)}$resolveRenameLocation(p,P,Y,ae){return this._withAdapter(p,Da,We=>We.resolveRenameLocation(b.o.revive(P),Y,ae),void 0,ae)}registerDocumentSemanticTokensProvider(p,P,Y,ae){const We=this._addNewAdapter(new Rr(this._documents,Y),p),ot="function"==typeof Y.onDidChangeSemanticTokens?this._nextHandle():void 0;this._proxy.$registerDocumentSemanticTokensProvider(We,this._transformDocumentSelector(P),ae,ot);let Rt=this._createDisposable(We);if(ot){const mn=Y.onDidChangeSemanticTokens(Fn=>this._proxy.$emitDocumentSemanticTokensEvent(ot));Rt=un.from(Rt,mn)}return Rt}$provideDocumentSemanticTokens(p,P,Y,ae){return this._withAdapter(p,Rr,We=>We.provideDocumentSemanticTokens(b.o.revive(P),Y,ae),null,ae)}$releaseDocumentSemanticTokens(p,P){this._withAdapter(p,Rr,Y=>Y.releaseDocumentSemanticColoring(P),void 0,void 0)}registerDocumentRangeSemanticTokensProvider(p,P,Y,ae){const We=this._addNewAdapter(new ql(this._documents,Y),p);return this._proxy.$registerDocumentRangeSemanticTokensProvider(We,this._transformDocumentSelector(P),ae),this._createDisposable(We)}$provideDocumentRangeSemanticTokens(p,P,Y,ae){return this._withAdapter(p,ql,We=>We.provideDocumentRangeSemanticTokens(b.o.revive(P),Y,ae),null,ae)}registerCompletionItemProvider(p,P,Y,ae){const We=this._addNewAdapter(new Ea(this._documents,this._commands.converter,Y,this._apiDeprecation,p),p);return this._proxy.$registerCompletionsProvider(We,this._transformDocumentSelector(P),ae,Ea.supportsResolving(Y),`${p.identifier.value}(${ae.join("")})`),this._createDisposable(We)}$provideCompletionItems(p,P,Y,ae,We){return this._withAdapter(p,Ea,ot=>ot.provideCompletionItems(b.o.revive(P),Y,ae,We),void 0,We)}$resolveCompletionItem(p,P,Y){return this._withAdapter(p,Ea,ae=>ae.resolveCompletionItem(P,Y),void 0,Y)}$releaseCompletionItems(p,P){this._withAdapter(p,Ea,Y=>Y.releaseCompletionItems(P),void 0,void 0)}registerInlineCompletionsProvider(p,P,Y){const ae=new Cc(p,this._documents,Y,this._commands.converter),We=this._addNewAdapter(ae,p);return this._proxy.$registerInlineCompletionsSupport(We,this._transformDocumentSelector(P),ae.supportsHandleDidShowCompletionItem),this._createDisposable(We)}registerInlineCompletionsProviderNew(p,P,Y){const ae=this._addNewAdapter(new yc(p,this._documents,Y,this._commands.converter),p);return this._proxy.$registerInlineCompletionsSupport(ae,this._transformDocumentSelector(P),!0),this._createDisposable(ae)}$provideInlineCompletions(p,P,Y,ae,We){return this._withAdapter(p,qa,ot=>ot.provideInlineCompletions(b.o.revive(P),Y,ae,We),void 0,We)}$handleInlineCompletionDidShow(p,P,Y){this._withAdapter(p,qa,function(){var ae=(0,s.Z)(function*(We){We.handleDidShowCompletionItem(P,Y)});return function(We){return ae.apply(this,arguments)}}(),void 0,void 0)}$freeInlineCompletionsList(p,P){this._withAdapter(p,qa,function(){var Y=(0,s.Z)(function*(ae){ae.disposeCompletions(P)});return function(ae){return Y.apply(this,arguments)}}(),void 0,void 0)}registerSignatureHelpProvider(p,P,Y,ae){const We=Array.isArray(ae)?{triggerCharacters:ae,retriggerCharacters:[]}:ae,ot=this._addNewAdapter(new Ld(this._documents,Y),p);return this._proxy.$registerSignatureHelpProvider(ot,this._transformDocumentSelector(P),We),this._createDisposable(ot)}$provideSignatureHelp(p,P,Y,ae,We){return this._withAdapter(p,Ld,ot=>ot.provideSignatureHelp(b.o.revive(P),Y,ae,We),void 0,We)}$releaseSignatureHelp(p,P){this._withAdapter(p,Ld,Y=>Y.releaseSignatureHelp(P),void 0,void 0)}registerInlayHintsProvider(p,P,Y){const ae="function"==typeof Y.onDidChangeInlayHints?this._nextHandle():void 0,We=this._addNewAdapter(new ed(this._documents,this._commands.converter,Y,this._logService,p),p);this._proxy.$registerInlayHintsProvider(We,this._transformDocumentSelector(P),"function"==typeof Y.resolveInlayHint,ae,be._extLabel(p));let ot=this._createDisposable(We);if(void 0!==ae){const Rt=Y.onDidChangeInlayHints(mn=>this._proxy.$emitInlayHintsEvent(ae));ot=un.from(ot,Rt)}return ot}$provideInlayHints(p,P,Y,ae){return this._withAdapter(p,ed,We=>We.provideInlayHints(b.o.revive(P),Y,ae),void 0,ae)}$resolveInlayHint(p,P,Y){return this._withAdapter(p,ed,ae=>ae.resolveInlayHint(P,Y),void 0,Y)}$releaseInlayHints(p,P){this._withAdapter(p,ed,Y=>Y.releaseHints(P),void 0,void 0)}registerDocumentLinkProvider(p,P,Y){const ae=this._addNewAdapter(new ka(this._documents,Y),p);return this._proxy.$registerDocumentLinkProvider(ae,this._transformDocumentSelector(P),"function"==typeof Y.resolveDocumentLink),this._createDisposable(ae)}$provideDocumentLinks(p,P,Y){return this._withAdapter(p,ka,ae=>ae.provideLinks(b.o.revive(P),Y),void 0,Y,"output"===P.scheme)}$resolveDocumentLink(p,P,Y){return this._withAdapter(p,ka,ae=>ae.resolveLink(P,Y),void 0,void 0,!0)}$releaseDocumentLinks(p,P){this._withAdapter(p,ka,Y=>Y.releaseLinks(P),void 0,void 0,!0)}registerColorProvider(p,P,Y){const ae=this._addNewAdapter(new Id(this._documents,Y),p);return this._proxy.$registerDocumentColorProvider(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideDocumentColors(p,P,Y){return this._withAdapter(p,Id,ae=>ae.provideColors(b.o.revive(P),Y),[],Y)}$provideColorPresentations(p,P,Y,ae){return this._withAdapter(p,Id,We=>We.provideColorPresentations(b.o.revive(P),Y,ae),void 0,ae)}registerFoldingRangeProvider(p,P,Y){const ae=this._nextHandle(),We="function"==typeof Y.onDidChangeFoldingRanges?this._nextHandle():void 0;this._adapter.set(ae,new aa(new Xd(this._documents,Y),p)),this._proxy.$registerFoldingRangeProvider(ae,this._transformDocumentSelector(P),We);let ot=this._createDisposable(ae);if(void 0!==We){const Rt=Y.onDidChangeFoldingRanges(()=>this._proxy.$emitFoldingRangeEvent(We));ot=un.from(ot,Rt)}return ot}$provideFoldingRanges(p,P,Y,ae){return this._withAdapter(p,Xd,We=>We.provideFoldingRanges(b.o.revive(P),Y,ae),void 0,ae)}registerSelectionRangeProvider(p,P,Y){const ae=this._addNewAdapter(new Fa(this._documents,Y,this._logService),p);return this._proxy.$registerSelectionRangeProvider(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideSelectionRanges(p,P,Y,ae){return this._withAdapter(p,Fa,We=>We.provideSelectionRanges(b.o.revive(P),Y,ae),[],ae)}registerCallHierarchyProvider(p,P,Y){const ae=this._addNewAdapter(new sa(this._documents,Y),p);return this._proxy.$registerCallHierarchyProvider(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$prepareCallHierarchy(p,P,Y,ae){return this._withAdapter(p,sa,We=>Promise.resolve(We.prepareSession(b.o.revive(P),Y,ae)),void 0,ae)}$provideCallHierarchyIncomingCalls(p,P,Y,ae){return this._withAdapter(p,sa,We=>We.provideCallsTo(P,Y,ae),void 0,ae)}$provideCallHierarchyOutgoingCalls(p,P,Y,ae){return this._withAdapter(p,sa,We=>We.provideCallsFrom(P,Y,ae),void 0,ae)}$releaseCallHierarchy(p,P){this._withAdapter(p,sa,Y=>Promise.resolve(Y.releaseSession(P)),void 0,void 0)}registerTypeHierarchyProvider(p,P,Y){const ae=this._addNewAdapter(new ra(this._documents,Y),p);return this._proxy.$registerTypeHierarchyProvider(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$prepareTypeHierarchy(p,P,Y,ae){return this._withAdapter(p,ra,We=>Promise.resolve(We.prepareSession(b.o.revive(P),Y,ae)),void 0,ae)}$provideTypeHierarchySupertypes(p,P,Y,ae){return this._withAdapter(p,ra,We=>We.provideSupertypes(P,Y,ae),void 0,ae)}$provideTypeHierarchySubtypes(p,P,Y,ae){return this._withAdapter(p,ra,We=>We.provideSubtypes(P,Y,ae),void 0,ae)}$releaseTypeHierarchy(p,P){this._withAdapter(p,ra,Y=>Promise.resolve(Y.releaseSession(P)),void 0,void 0)}registerDocumentOnDropEditProvider(p,P,Y){const ae=this._nextHandle();return this._adapter.set(ae,new aa(new Ba(this._proxy,this._documents,Y,ae),p)),this._proxy.$registerDocumentOnDropEditProvider(ae,this._transformDocumentSelector(P)),this._createDisposable(ae)}$provideDocumentOnDropEdits(p,P,Y,ae,We,ot){return this._withAdapter(p,Ba,Rt=>Promise.resolve(Rt.provideDocumentOnDropEdits(P,b.o.revive(Y),ae,We,ot)),void 0,void 0)}registerDocumentPasteEditProvider(p,P,Y,ae){const We=this._nextHandle();return this._adapter.set(We,new aa(new Ed(this._proxy,this._documents,Y,We),p)),this._proxy.$registerPasteEditProvider(We,this._transformDocumentSelector(P),!!Y.prepareDocumentPaste,ae.pasteMimeTypes),this._createDisposable(We)}$prepareDocumentPaste(p,P,Y,ae,We){return this._withAdapter(p,Ed,ot=>ot.prepareDocumentPaste(b.o.revive(P),Y,ae,We),void 0,We)}$providePasteEdits(p,P,Y,ae,We,ot){return this._withAdapter(p,Ed,Rt=>Rt.providePasteEdits(P,b.o.revive(Y),ae,We,ot),void 0,ot)}static _serializeRegExp(p){return{pattern:p.source,flags:(0,r.mr)(p)}}static _serializeIndentationRule(p){return{decreaseIndentPattern:be._serializeRegExp(p.decreaseIndentPattern),increaseIndentPattern:be._serializeRegExp(p.increaseIndentPattern),indentNextLinePattern:p.indentNextLinePattern?be._serializeRegExp(p.indentNextLinePattern):void 0,unIndentedLinePattern:p.unIndentedLinePattern?be._serializeRegExp(p.unIndentedLinePattern):void 0}}static _serializeOnEnterRule(p){return{beforeText:be._serializeRegExp(p.beforeText),afterText:p.afterText?be._serializeRegExp(p.afterText):void 0,previousLineText:p.previousLineText?be._serializeRegExp(p.previousLineText):void 0,action:p.action}}static _serializeOnEnterRules(p){return p.map(be._serializeOnEnterRule)}setLanguageConfiguration(p,P,Y){const{wordPattern:ae}=Y;if(ae&&(0,r.IO)(ae))throw new Error(`Invalid language configuration: wordPattern '${ae}' is not allowed to match the empty string.`);this._documents.setWordDefinitionFor(P,ae||void 0),Y.__electricCharacterSupport&&this._apiDeprecation.report("LanguageConfiguration.__electricCharacterSupport",p,"Do not use."),Y.__characterPairSupport&&this._apiDeprecation.report("LanguageConfiguration.__characterPairSupport",p,"Do not use.");const We=this._nextHandle(),ot={comments:Y.comments,brackets:Y.brackets,wordPattern:Y.wordPattern?be._serializeRegExp(Y.wordPattern):void 0,indentationRules:Y.indentationRules?be._serializeIndentationRule(Y.indentationRules):void 0,onEnterRules:Y.onEnterRules?be._serializeOnEnterRules(Y.onEnterRules):void 0,__electricCharacterSupport:Y.__electricCharacterSupport,__characterPairSupport:Y.__characterPairSupport};return this._proxy.$setLanguageConfiguration(We,P,ot),this._createDisposable(We)}$setWordDefinitions(p){for(const P of p)this._documents.setWordDefinitionFor(P.languageId,new RegExp(P.regexSource,P.regexFlags))}}return be._handlePool=0,be})();class tl{constructor(){this.requestIdPool=0,this.dataTransfers=new Map}add(o){const p=this.requestIdPool++;return this.dataTransfers.set(p,[...o.values()]),{id:p,dispose:()=>{this.dataTransfers.delete(p)}}}resolveDropFileData(o,p){var P=this;return(0,s.Z)(function*(){const Y=P.dataTransfers.get(o);if(!Y)throw new Error("No data transfer found");const ae=Y[p]?.asFile();if(!ae)throw new Error("No file item found in data transfer");return E.KN.wrap(yield ae.data())})()}dispose(){this.dataTransfers.clear()}}const nl=new mt.c;var ml;!function(be){const o=[];be.register=function p(Y){let ae=Y;return ae&&o.push(ae),{dispose(){if(ae){const We=o.indexOf(ae);We>=0&&(o.splice(We,1),ae=void 0)}}}},be.all=function P(){return o.slice(0)}}(ml||(ml={}));const bc=new mt.c;var as;let il=as=class extends k.JT{constructor(o,p,P,Y){if(super(),this._languageService=p,this._languageConfigurationService=P,this._languageFeaturesService=Y,this._registrations=new Map,this._pasteEditProviders=new Map,this._documentOnDropEditProviders=new Map,this._proxy=o.getProxy(ys.ExtHostLanguageFeatures),this._languageService){const ae=()=>{const We=[];for(const ot of p.getRegisteredLanguageIds()){const Rt=this._languageConfigurationService.getLanguageConfiguration(ot).getWordDefinition();We.push({languageId:ot,regexSource:Rt.source,regexFlags:Rt.flags})}this._proxy.$setWordDefinitions(We)};this._languageConfigurationService.onDidChange(We=>{if(We.languageId){const ot=this._languageConfigurationService.getLanguageConfiguration(We.languageId).getWordDefinition();this._proxy.$setWordDefinitions([{languageId:We.languageId,regexSource:ot.source,regexFlags:ot.flags}])}else ae()}),ae()}}dispose(){for(const o of this._registrations.values())o.dispose();this._registrations.clear(),super.dispose()}$unregister(o){const p=this._registrations.get(o);p&&(p.dispose(),this._registrations.delete(o))}static _reviveLocationDto(o){return o&&(Array.isArray(o)?(o.forEach(p=>as._reviveLocationDto(p)),o):(o.uri=b.o.revive(o.uri),o))}static _reviveLocationLinkDto(o){return o&&(Array.isArray(o)?(o.forEach(p=>as._reviveLocationLinkDto(p)),o):(o.uri=b.o.revive(o.uri),o))}static _reviveWorkspaceSymbolDto(o){return o&&(Array.isArray(o)?(o.forEach(as._reviveWorkspaceSymbolDto),o):(o.location=as._reviveLocationDto(o.location),o))}static _reviveCodeActionDto(o){return o?.forEach(p=>_a(p.edit)),o}static _reviveLinkDTO(o){return o.url&&"string"!=typeof o.url&&(o.url=b.o.revive(o.url)),o}static _reviveCallHierarchyItemDto(o){return o&&(o.uri=b.o.revive(o.uri)),o}static _reviveTypeHierarchyItemDto(o){return o&&(o.uri=b.o.revive(o.uri)),o}$registerDocumentSymbolProvider(o,p,P){this._registrations.set(o,this._languageFeaturesService.documentSymbolProvider.register(p,{displayName:P,provideDocumentSymbols:(Y,ae)=>this._proxy.$provideDocumentSymbols(o,Y.uri,ae)}))}$registerCodeLensSupport(o,p,P){var Y=this;const ae={provideCodeLenses:(We=(0,s.Z)(function*(ot,Rt){const mn=yield Y._proxy.$provideCodeLenses(o,ot.uri,Rt);if(mn)return{lenses:mn.lenses,dispose:()=>mn.cacheId&&Y._proxy.$releaseCodeLenses(o,mn.cacheId)}}),function(Rt,mn){return We.apply(this,arguments)}),resolveCodeLens:(We,ot,Rt)=>this._proxy.$resolveCodeLens(o,ot,Rt)};var We;if("number"==typeof P){const We=new l.E;this._registrations.set(P,We),ae.onDidChange=We.event}this._registrations.set(o,this._languageFeaturesService.codeLensProvider.register(p,ae))}$emitCodeLensEvent(o,p){const P=this._registrations.get(o);P instanceof l.E&&P.fire(p)}$registerDefinitionSupport(o,p){this._registrations.set(o,this._languageFeaturesService.definitionProvider.register(p,{provideDefinition:(P,Y,ae)=>this._proxy.$provideDefinition(o,P.uri,Y,ae).then(as._reviveLocationLinkDto)}))}$registerDeclarationSupport(o,p){this._registrations.set(o,this._languageFeaturesService.declarationProvider.register(p,{provideDeclaration:(P,Y,ae)=>this._proxy.$provideDeclaration(o,P.uri,Y,ae).then(as._reviveLocationLinkDto)}))}$registerImplementationSupport(o,p){this._registrations.set(o,this._languageFeaturesService.implementationProvider.register(p,{provideImplementation:(P,Y,ae)=>this._proxy.$provideImplementation(o,P.uri,Y,ae).then(as._reviveLocationLinkDto)}))}$registerTypeDefinitionSupport(o,p){this._registrations.set(o,this._languageFeaturesService.typeDefinitionProvider.register(p,{provideTypeDefinition:(P,Y,ae)=>this._proxy.$provideTypeDefinition(o,P.uri,Y,ae).then(as._reviveLocationLinkDto)}))}$registerHoverProvider(o,p){this._registrations.set(o,this._languageFeaturesService.hoverProvider.register(p,{provideHover:(P,Y,ae)=>this._proxy.$provideHover(o,P.uri,Y,ae)}))}$registerEvaluatableExpressionProvider(o,p){this._registrations.set(o,this._languageFeaturesService.evaluatableExpressionProvider.register(p,{provideEvaluatableExpression:(P,Y,ae)=>this._proxy.$provideEvaluatableExpression(o,P.uri,Y,ae)}))}$registerInlineValuesProvider(o,p,P){const Y={provideInlineValues:(ae,We,ot,Rt)=>this._proxy.$provideInlineValues(o,ae.uri,We,ot,Rt)};if("number"==typeof P){const ae=new l.E;this._registrations.set(P,ae),Y.onDidChangeInlineValues=ae.event}this._registrations.set(o,this._languageFeaturesService.inlineValuesProvider.register(p,Y))}$emitInlineValuesEvent(o,p){const P=this._registrations.get(o);P instanceof l.E&&P.fire(p)}$registerDocumentHighlightProvider(o,p){this._registrations.set(o,this._languageFeaturesService.documentHighlightProvider.register(p,{provideDocumentHighlights:(P,Y,ae)=>this._proxy.$provideDocumentHighlights(o,P.uri,Y,ae)}))}$registerLinkedEditingRangeProvider(o,p){var Y,P=this;this._registrations.set(o,this._languageFeaturesService.linkedEditingRangeProvider.register(p,{provideLinkedEditingRanges:(Y=(0,s.Z)(function*(ae,We,ot){const Rt=yield P._proxy.$provideLinkedEditingRanges(o,ae.uri,We,ot);if(Rt)return{ranges:Rt.ranges,wordPattern:Rt.wordPattern?as._reviveRegExp(Rt.wordPattern):void 0}}),function(We,ot,Rt){return Y.apply(this,arguments)})}))}$registerReferenceSupport(o,p){this._registrations.set(o,this._languageFeaturesService.referenceProvider.register(p,{provideReferences:(P,Y,ae,We)=>this._proxy.$provideReferences(o,P.uri,Y,ae,We).then(as._reviveLocationDto)}))}$registerQuickFixSupport(o,p,P,Y,ae){var We=this;const ot={provideCodeActions:(Rt=(0,s.Z)(function*(mn,Fn,di,wi){const Yn=yield We._proxy.$provideCodeActions(o,mn.uri,Fn,di,wi);if(Yn)return{actions:as._reviveCodeActionDto(Yn.actions),dispose:()=>{"number"==typeof Yn.cacheId&&We._proxy.$releaseCodeActions(o,Yn.cacheId)}}}),function(Fn,di,wi,Yn){return Rt.apply(this,arguments)}),providedCodeActionKinds:P.providedKinds,documentation:P.documentation,displayName:Y};var Rt;ae&&(ot.resolveCodeAction=function(){var Rt=(0,s.Z)(function*(mn,Fn){const di=yield We._proxy.$resolveCodeAction(o,mn.cacheId,Fn);return mn.edit=_a(di),mn});return function(mn,Fn){return Rt.apply(this,arguments)}}()),this._registrations.set(o,this._languageFeaturesService.codeActionProvider.register(p,ot))}$registerPasteEditProvider(o,p,P,Y){const ae=new td(o,this._proxy,P,Y);this._pasteEditProviders.set(o,ae),this._registrations.set(o,(0,k.F8)(this._languageFeaturesService.documentPasteEditProvider.register(p,ae),(0,k.OF)(()=>this._pasteEditProviders.delete(o))))}$resolvePasteFileData(o,p,P){const Y=this._pasteEditProviders.get(o);if(!Y)throw new Error("Could not find provider");return Y.resolveFileData(p,P)}$registerDocumentFormattingSupport(o,p,P,Y){this._registrations.set(o,this._languageFeaturesService.documentFormattingEditProvider.register(p,{extensionId:P,displayName:Y,provideDocumentFormattingEdits:(ae,We,ot)=>this._proxy.$provideDocumentFormattingEdits(o,ae.uri,We,ot)}))}$registerRangeFormattingSupport(o,p,P,Y){this._registrations.set(o,this._languageFeaturesService.documentRangeFormattingEditProvider.register(p,{extensionId:P,displayName:Y,provideDocumentRangeFormattingEdits:(ae,We,ot,Rt)=>this._proxy.$provideDocumentRangeFormattingEdits(o,ae.uri,We,ot,Rt)}))}$registerOnTypeFormattingSupport(o,p,P,Y){this._registrations.set(o,this._languageFeaturesService.onTypeFormattingEditProvider.register(p,{extensionId:Y,autoFormatTriggerCharacters:P,provideOnTypeFormattingEdits:(ae,We,ot,Rt,mn)=>this._proxy.$provideOnTypeFormattingEdits(o,ae.uri,We,ot,Rt,mn)}))}$registerNavigateTypeSupport(o,p){var P=this;let Y;const ae={provideWorkspaceSymbols:(We=(0,s.Z)(function*(ot,Rt){const mn=yield P._proxy.$provideWorkspaceSymbols(o,ot,Rt);return void 0!==Y&&P._proxy.$releaseWorkspaceSymbols(o,Y),Y=mn.cacheId,as._reviveWorkspaceSymbolDto(mn.symbols)}),function(Rt,mn){return We.apply(this,arguments)})};var We;p&&(ae.resolveWorkspaceSymbol=function(){var We=(0,s.Z)(function*(ot,Rt){const mn=yield P._proxy.$resolveWorkspaceSymbol(o,ot,Rt);return mn&&as._reviveWorkspaceSymbolDto(mn)});return function(ot,Rt){return We.apply(this,arguments)}}()),this._registrations.set(o,ml.register(ae))}$registerRenameSupport(o,p,P){this._registrations.set(o,this._languageFeaturesService.renameProvider.register(p,{provideRenameEdits:(Y,ae,We,ot)=>this._proxy.$provideRenameEdits(o,Y.uri,ae,We,ot).then(_a),resolveRenameLocation:P?(Y,ae,We)=>this._proxy.$resolveRenameLocation(o,Y.uri,ae,We):void 0}))}$registerDocumentSemanticTokensProvider(o,p,P,Y){let ae;if("number"==typeof Y){const We=new l.E;this._registrations.set(Y,We),ae=We.event}this._registrations.set(o,this._languageFeaturesService.documentSemanticTokensProvider.register(p,new hr(this._proxy,o,P,ae)))}$emitDocumentSemanticTokensEvent(o){const p=this._registrations.get(o);p instanceof l.E&&p.fire(void 0)}$registerDocumentRangeSemanticTokensProvider(o,p,P){this._registrations.set(o,this._languageFeaturesService.documentRangeSemanticTokensProvider.register(p,new Wa(this._proxy,o,P)))}static _inflateSuggestDto(o,p){const P=p.a;return{label:P,kind:p.b??9,tags:p.n,detail:p.c,documentation:p.d,sortText:p.e,filterText:p.f,preselect:p.g,insertText:p.h??("string"==typeof P?P:P.label),range:p.j??o,insertTextRules:p.i,commitCharacters:p.k,additionalTextEdits:p.l,command:p.m,_id:p.x}}$registerCompletionsProvider(o,p,P,Y,ae){var We=this;const ot={triggerCharacters:P,_debugDisplayName:ae,provideCompletionItems:(Rt=(0,s.Z)(function*(mn,Fn,di,wi){const Yn=yield We._proxy.$provideCompletionItems(o,mn.uri,Fn,di,wi);return Yn&&{suggestions:Yn.b.map(pi=>as._inflateSuggestDto(Yn.a,pi)),incomplete:Yn.c||!1,duration:Yn.d,dispose:()=>{"number"==typeof Yn.x&&We._proxy.$releaseCompletionItems(o,Yn.x)}}}),function(Fn,di,wi,Yn){return Rt.apply(this,arguments)})};var Rt;Y&&(ot.resolveCompletionItem=(Rt,mn)=>this._proxy.$resolveCompletionItem(o,Rt._id,mn).then(Fn=>{if(!Fn)return Rt;const di=as._inflateSuggestDto(Rt.range,Fn);return(0,m.jB)(Rt,di,!0)})),this._registrations.set(o,this._languageFeaturesService.completionProvider.register(p,ot))}$registerInlineCompletionsSupport(o,p,P){var Y=this;const ae={provideInlineCompletions:(We=(0,s.Z)(function*(ot,Rt,mn,Fn){return Y._proxy.$provideInlineCompletions(o,ot.uri,Rt,mn,Fn)}),function(Rt,mn,Fn,di){return We.apply(this,arguments)}),handleItemDidShow:function(){var We=(0,s.Z)(function*(ot,Rt){P&&(yield Y._proxy.$handleInlineCompletionDidShow(o,ot.pid,Rt.idx))});return function(Rt,mn){return We.apply(this,arguments)}}(),freeInlineCompletions:We=>{this._proxy.$freeInlineCompletionsList(o,We.pid)}};var We;this._registrations.set(o,this._languageFeaturesService.inlineCompletionsProvider.register(p,ae))}$registerSignatureHelpProvider(o,p,P){var ae,Y=this;this._registrations.set(o,this._languageFeaturesService.signatureHelpProvider.register(p,{signatureHelpTriggerCharacters:P.triggerCharacters,signatureHelpRetriggerCharacters:P.retriggerCharacters,provideSignatureHelp:(ae=(0,s.Z)(function*(We,ot,Rt,mn){const Fn=yield Y._proxy.$provideSignatureHelp(o,We.uri,ot,mn,Rt);if(Fn)return{value:Fn,dispose:()=>{Y._proxy.$releaseSignatureHelp(o,Fn.id)}}}),function(ot,Rt,mn,Fn){return ae.apply(this,arguments)})}))}$registerInlayHintsProvider(o,p,P,Y,ae){var We=this;const ot={displayName:ae,provideInlayHints:(Rt=(0,s.Z)(function*(mn,Fn,di){const wi=yield We._proxy.$provideInlayHints(o,mn.uri,Fn,di);if(wi)return{hints:(0,v.w)(wi.hints),dispose:()=>{wi.cacheId&&We._proxy.$releaseInlayHints(o,wi.cacheId)}}}),function(Fn,di,wi){return Rt.apply(this,arguments)})};var Rt;if(P&&(ot.resolveInlayHint=function(){var Rt=(0,s.Z)(function*(mn,Fn){const di=mn;if(!di.cacheId)return mn;const wi=yield We._proxy.$resolveInlayHint(o,di.cacheId,Fn);if(Fn.isCancellationRequested)throw new I.FU;return wi?{...mn,tooltip:wi.tooltip,label:(0,v.w)(wi.label)}:mn});return function(mn,Fn){return Rt.apply(this,arguments)}}()),"number"==typeof Y){const Rt=new l.E;this._registrations.set(Y,Rt),ot.onDidChangeInlayHints=Rt.event}this._registrations.set(o,this._languageFeaturesService.inlayHintsProvider.register(p,ot))}$emitInlayHintsEvent(o){const p=this._registrations.get(o);p instanceof l.E&&p.fire(void 0)}$registerDocumentLinkProvider(o,p,P){const Y={provideLinks:(ae,We)=>this._proxy.$provideDocumentLinks(o,ae.uri,We).then(ot=>{if(ot)return{links:ot.links.map(as._reviveLinkDTO),dispose:()=>{"number"==typeof ot.cacheId&&this._proxy.$releaseDocumentLinks(o,ot.cacheId)}}})};P&&(Y.resolveLink=(ae,We)=>ae.cacheId?this._proxy.$resolveDocumentLink(o,ae.cacheId,We).then(Rt=>Rt&&as._reviveLinkDTO(Rt)):ae),this._registrations.set(o,this._languageFeaturesService.linkProvider.register(p,Y))}$registerDocumentColorProvider(o,p){const P=this._proxy;this._registrations.set(o,this._languageFeaturesService.colorProvider.register(p,{provideDocumentColors:(Y,ae)=>P.$provideDocumentColors(o,Y.uri,ae).then(We=>We.map(ot=>{const[Rt,mn,Fn,di]=ot.color;return{color:{red:Rt,green:mn,blue:Fn,alpha:di},range:ot.range}})),provideColorPresentations:(Y,ae,We)=>P.$provideColorPresentations(o,Y.uri,{color:[ae.color.red,ae.color.green,ae.color.blue,ae.color.alpha],range:ae.range},We)}))}$registerFoldingRangeProvider(o,p,P){const Y={provideFoldingRanges:(ae,We,ot)=>this._proxy.$provideFoldingRanges(o,ae.uri,We,ot)};if("number"==typeof P){const ae=new l.E;this._registrations.set(P,ae),Y.onDidChange=ae.event}this._registrations.set(o,this._languageFeaturesService.foldingRangeProvider.register(p,Y))}$emitFoldingRangeEvent(o,p){const P=this._registrations.get(o);P instanceof l.E&&P.fire(p)}$registerSelectionRangeProvider(o,p){this._registrations.set(o,this._languageFeaturesService.selectionRangeProvider.register(p,{provideSelectionRanges:(P,Y,ae)=>this._proxy.$provideSelectionRanges(o,P.uri,Y,ae)}))}$registerCallHierarchyProvider(o,p){var Y,P=this;this._registrations.set(o,nl.register(p,{prepareCallHierarchy:(Y=(0,s.Z)(function*(ae,We,ot){const Rt=yield P._proxy.$prepareCallHierarchy(o,ae.uri,We,ot);if(Rt&&0!==Rt.length)return{dispose:()=>{for(const mn of Rt)P._proxy.$releaseCallHierarchy(o,mn._sessionId)},roots:Rt.map(as._reviveCallHierarchyItemDto)}}),function(We,ot,Rt){return Y.apply(this,arguments)}),provideOutgoingCalls:function(){var Y=(0,s.Z)(function*(ae,We){const ot=yield P._proxy.$provideCallHierarchyOutgoingCalls(o,ae._sessionId,ae._itemId,We);return ot&&(ot.forEach(Rt=>{Rt.to=as._reviveCallHierarchyItemDto(Rt.to)}),ot)});return function(We,ot){return Y.apply(this,arguments)}}(),provideIncomingCalls:function(){var Y=(0,s.Z)(function*(ae,We){const ot=yield P._proxy.$provideCallHierarchyIncomingCalls(o,ae._sessionId,ae._itemId,We);return ot&&(ot.forEach(Rt=>{Rt.from=as._reviveCallHierarchyItemDto(Rt.from)}),ot)});return function(We,ot){return Y.apply(this,arguments)}}()}))}static _reviveRegExp(o){return new RegExp(o.pattern,o.flags)}static _reviveIndentationRule(o){return{decreaseIndentPattern:as._reviveRegExp(o.decreaseIndentPattern),increaseIndentPattern:as._reviveRegExp(o.increaseIndentPattern),indentNextLinePattern:o.indentNextLinePattern?as._reviveRegExp(o.indentNextLinePattern):void 0,unIndentedLinePattern:o.unIndentedLinePattern?as._reviveRegExp(o.unIndentedLinePattern):void 0}}static _reviveOnEnterRule(o){return{beforeText:as._reviveRegExp(o.beforeText),afterText:o.afterText?as._reviveRegExp(o.afterText):void 0,previousLineText:o.previousLineText?as._reviveRegExp(o.previousLineText):void 0,action:o.action}}static _reviveOnEnterRules(o){return o.map(as._reviveOnEnterRule)}$setLanguageConfiguration(o,p,P){const Y={comments:P.comments,brackets:P.brackets,wordPattern:P.wordPattern?as._reviveRegExp(P.wordPattern):void 0,indentationRules:P.indentationRules?as._reviveIndentationRule(P.indentationRules):void 0,onEnterRules:P.onEnterRules?as._reviveOnEnterRules(P.onEnterRules):void 0,autoClosingPairs:void 0,surroundingPairs:void 0,__electricCharacterSupport:void 0};P.__characterPairSupport&&(Y.autoClosingPairs=P.__characterPairSupport.autoClosingPairs),P.__electricCharacterSupport&&P.__electricCharacterSupport.docComment&&(Y.__electricCharacterSupport={docComment:{open:P.__electricCharacterSupport.docComment.open,close:P.__electricCharacterSupport.docComment.close}}),this._languageService.isRegisteredLanguageId(p)&&this._registrations.set(o,this._languageConfigurationService.register(p,Y,100))}$registerTypeHierarchyProvider(o,p){var Y,P=this;this._registrations.set(o,bc.register(p,{prepareTypeHierarchy:(Y=(0,s.Z)(function*(ae,We,ot){const Rt=yield P._proxy.$prepareTypeHierarchy(o,ae.uri,We,ot);if(Rt)return{dispose:()=>{for(const mn of Rt)P._proxy.$releaseTypeHierarchy(o,mn._sessionId)},roots:Rt.map(as._reviveTypeHierarchyItemDto)}}),function(We,ot,Rt){return Y.apply(this,arguments)}),provideSupertypes:function(){var Y=(0,s.Z)(function*(ae,We){const ot=yield P._proxy.$provideTypeHierarchySupertypes(o,ae._sessionId,ae._itemId,We);return ot&&ot.map(as._reviveTypeHierarchyItemDto)});return function(We,ot){return Y.apply(this,arguments)}}(),provideSubtypes:function(){var Y=(0,s.Z)(function*(ae,We){const ot=yield P._proxy.$provideTypeHierarchySubtypes(o,ae._sessionId,ae._itemId,We);return ot&&ot.map(as._reviveTypeHierarchyItemDto)});return function(We,ot){return Y.apply(this,arguments)}}()}))}$registerDocumentOnDropEditProvider(o,p){const P=new nd(o,this._proxy);this._documentOnDropEditProviders.set(o,P),this._registrations.set(o,(0,k.F8)(this._languageFeaturesService.documentOnDropEditProvider.register(p,P),(0,k.OF)(()=>this._documentOnDropEditProviders.delete(o))))}$resolveDocumentOnDropFileData(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=Y._documentOnDropEditProviders.get(o);if(!ae)throw new Error("Could not find provider");return ae.resolveDocumentOnDropFileData(p,P)})()}};il=as=(0,l._)([Cr(Ko.MainThreadLanguageFeatures),(0,l.a)(1,Pe.O),(0,l.a)(2,bt.c_),(0,l.a)(3,Bt.p)],il);class td{constructor(o,p,P,Y){var ae=this;this.handle=o,this._proxy=p,this.dataTransfers=new tl,this.pasteMimeTypes=Y,P&&(this.prepareDocumentPaste=function(){var We=(0,s.Z)(function*(ot,Rt,mn,Fn){const di=yield Zr.toDataTransferDTO(mn);if(Fn.isCancellationRequested)return;const wi=yield ae._proxy.$prepareDocumentPaste(o,ot.uri,Rt,di,Fn);if(!wi)return;const Yn=new Lt.Hl;return wi.items.forEach(([pi,Ri])=>{Yn.replace(pi,(0,Lt.ZO)(Ri.asString))}),Yn});return function(ot,Rt,mn,Fn){return We.apply(this,arguments)}}())}provideDocumentPasteEdits(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae.dataTransfers.add(P);try{const ot=yield Zr.toDataTransferDTO(P),Rt=yield ae._proxy.$providePasteEdits(ae.handle,We.id,o.uri,p,ot,Y);return Rt?{insertText:Rt.insertText,additionalEdit:Rt.additionalEdit?_a(Rt.additionalEdit):void 0}:void 0}finally{We.dispose()}})()}resolveFileData(o,p){return this.dataTransfers.resolveDropFileData(o,p)}}class nd{constructor(o,p){this.handle=o,this._proxy=p,this.dataTransfers=new tl}provideDocumentOnDropEdits(o,p,P,Y){var ae=this;return(0,s.Z)(function*(){const We=ae.dataTransfers.add(P);try{const ot=yield Zr.toDataTransferDTO(P),Rt=yield ae._proxy.$provideDocumentOnDropEdits(ae.handle,We.id,o.uri,p,ot,Y);return Rt?{insertText:Rt.insertText,additionalEdit:_a(Rt.additionalEdit)}:void 0}finally{We.dispose()}})()}resolveDocumentOnDropFileData(o,p){return this.dataTransfers.resolveDropFileData(o,p)}}class hr{constructor(o,p,P,Y){this._proxy=o,this._handle=p,this._legend=P,this.onDidChange=Y}releaseDocumentSemanticTokens(o){o&&this._proxy.$releaseDocumentSemanticTokens(this._handle,parseInt(o,10))}getLegend(){return this._legend}provideDocumentSemanticTokens(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=p?parseInt(p,10):0,We=yield Y._proxy.$provideDocumentSemanticTokens(Y._handle,o.uri,ae,P);if(!We||P.isCancellationRequested)return null;const ot=Zl(We);return"full"===ot.type?{resultId:String(ot.id),data:ot.data}:{resultId:String(ot.id),edits:ot.deltas}})()}}class Wa{constructor(o,p,P){this._proxy=o,this._handle=p,this._legend=P}getLegend(){return this._legend}provideDocumentRangeSemanticTokens(o,p,P){var Y=this;return(0,s.Z)(function*(){const ae=yield Y._proxy.$provideDocumentRangeSemanticTokens(Y._handle,o.uri,p,P);if(!ae||P.isCancellationRequested)return null;const We=Zl(ae);if("full"===We.type)return{resultId:String(We.id),data:We.data};throw new Error("Unexpected")})()}}function Ha(be,o){if(o){const p=o.split(".");let P=be;for(let Y=0;P&&Y<p.length;Y++)P=P[p[Y]];return P}}function Jd(be){return function Sc(be){return be instanceof b.o}(be)?{resource:be}:function id(be){return be&&be.uri instanceof b.o&&be.languageId&&"string"==typeof be.languageId}(be)?{resource:be.uri,overrideIdentifier:be.languageId}:function wc(be){return be&&!be.uri&&be.languageId&&"string"==typeof be.languageId}(be)?{overrideIdentifier:be.languageId}:function Dc(be){return be&&be.uri instanceof b.o&&(!be.name||"string"==typeof be.name)&&(!be.index||"number"==typeof be.index)}(be)?{resource:be.uri}:null===be?{resource:null}:void 0}class qd{constructor(o,p,P,Y){this._onDidChangeConfiguration=new l.E,this._proxy=o,this._logService=Y,this._extHostWorkspace=p,this._configuration=Ye.VK.parse(P),this._configurationScopes=this._toMap(P.configurationScopes)}get onDidChangeConfiguration(){return this._onDidChangeConfiguration&&this._onDidChangeConfiguration.event}$acceptConfigurationChanged(o,p){const P={data:this._configuration.toData(),workspace:this._extHostWorkspace.workspace};this._configuration=Ye.VK.parse(o),this._configurationScopes=this._toMap(o.configurationScopes),this._onDidChangeConfiguration.fire(this._toConfigurationChangeEvent(p,P))}getConfiguration(o,p,P){const Y=Jd(p)||{},ae=this._toReadonlyValue(o?Ha(this._configuration.getValue(void 0,Y,this._extHostWorkspace.workspace),o):this._configuration.getValue(void 0,Y,this._extHostWorkspace.workspace));o&&this._validateConfigurationAccess(o,Y,P?.identifier);const ot={has:Rt=>typeof Ha(ae,Rt)<"u",get:(Rt,mn)=>{this._validateConfigurationAccess(o?`${o}.${Rt}`:Rt,Y,P?.identifier);let Fn=Ha(ae,Rt);if(typeof Fn>"u")Fn=mn;else{let di;const wi=(Yn,pi)=>{let Ri;const Bi=()=>{di=di||(0,m.I8)(ae),Ri=Ri||Ha(di,pi)};return(0,_.Kn)(Yn)?new Proxy(Yn,{get:(Is,ks)=>{if("string"==typeof ks&&"tojson"===ks.toLowerCase())return Bi(),()=>Ri;if(di)return Ri=Ri||Ha(di,pi),Ri[ks];const br=Is[ks];return"string"==typeof ks?wi(br,`${pi}.${ks}`):br},set:(Is,ks,br)=>(Bi(),Ri&&(Ri[ks]=br),!0),deleteProperty:(Is,ks)=>(Bi(),Ri&&delete Ri[ks],!0),defineProperty:(Is,ks,br)=>(Bi(),Ri&&Object.defineProperty(Ri,ks,br),!0)}):Yn};Fn=wi(Fn,Rt)}return Fn},update:(Rt,mn,Fn,di)=>{Rt=o?`${o}.${Rt}`:Rt;const wi=function We(Rt){if(null==Rt)return null;if("boolean"==typeof Rt)return Rt?2:5;switch(Rt){case ds.Global:return 2;case ds.Workspace:return 5;case ds.WorkspaceFolder:return 6}}(Fn);return void 0!==mn?this._proxy.$updateConfigurationOption(wi,Rt,mn,Y,di):this._proxy.$removeConfigurationOption(wi,Rt,Y,di)},inspect:Rt=>{const mn=(0,m.I8)(this._configuration.inspect(Rt=o?`${o}.${Rt}`:Rt,Y,this._extHostWorkspace.workspace));if(mn)return{key:Rt,defaultValue:mn.policy?.value??mn.default?.value,globalValue:mn.user?.value??mn.application?.value,workspaceValue:mn.workspace?.value,workspaceFolderValue:mn.workspaceFolder?.value,defaultLanguageValue:mn.default?.override,globalLanguageValue:mn.user?.override??mn.application?.override,workspaceLanguageValue:mn.workspace?.override,workspaceFolderLanguageValue:mn.workspaceFolder?.override,languageIds:mn.overrideIdentifiers}}};return"object"==typeof ae&&(0,m.jB)(ot,ae,!1),Object.freeze(ot)}_toReadonlyValue(o){const p=P=>(0,_.Kn)(P)?new Proxy(P,{get:(Y,ae)=>p(Y[ae]),set:(Y,ae,We)=>{throw new Error(`TypeError: Cannot assign to read only property '${String(ae)}' of object`)},deleteProperty:(Y,ae)=>{throw new Error(`TypeError: Cannot delete read only property '${String(ae)}' of object`)},defineProperty:(Y,ae)=>{throw new Error(`TypeError: Cannot define property '${String(ae)}' for a readonly object`)},setPrototypeOf:Y=>{throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:()=>!1,preventExtensions:()=>!0}):P;return p(o)}_validateConfigurationAccess(o,p,P){const Y=Tt.eU.test(o)?4:this._configurationScopes.get(o),ae=P?`[${P.value}] `:"";4!==Y?3!==Y||p?.resource&&this._logService.warn(`${ae}Accessing a window scoped configuration for a resource is not expected. To associate '${o}' to a resource, define its scope to 'resource' in configuration contributions in 'package.json'.`):typeof p?.resource>"u"&&this._logService.warn(`${ae}Accessing a resource scoped configuration without providing a resource is not expected. To get the effective value for '${o}', provide the URI of a resource or 'null' for any resource.`)}_toConfigurationChangeEvent(o,p){const P=new Ye.YX(o,p,this._configuration,this._extHostWorkspace.workspace);return Object.freeze({affectsConfiguration:(Y,ae)=>P.affectsConfiguration(Y,Jd(ae))})}_toMap(o){return o.reduce((p,P)=>(p.set(P[0],P[1]),p),new Map)}}let pl=class{constructor(o,p,P,Y){this._workspaceContextService=p,this.configurationService=P,this._environmentService=Y;const ae=o.getProxy(ys.ExtHostConfiguration);ae.$initializeConfiguration(this._getConfigurationData()),this._configurationListener=P.onDidChangeConfiguration(We=>{ae.$acceptConfigurationChanged(this._getConfigurationData(),We.change)})}_getConfigurationData(){const o={...this.configurationService.getConfigurationData(),configurationScopes:[]};return(!this._environmentService.isBuilt||this._environmentService.isExtensionDevelopment)&&(o.configurationScopes=function Lo(){const be=[],o=oo.getConfigurationProperties();for(const p of Object.keys(o))be.push([p,o[p].scope]);return be.push(["launch",4]),be.push(["task",4]),be}()),o}dispose(){this._configurationListener.dispose()}$updateConfigurationOption(o,p,P,Y,ae){return Y={resource:Y?.resource?b.o.revive(Y.resource):void 0,overrideIdentifier:Y?.overrideIdentifier},this.writeConfiguration(o,p,P,Y,ae)}$removeConfigurationOption(o,p,P,Y){return P={resource:P?.resource?b.o.revive(P.resource):void 0,overrideIdentifier:P?.overrideIdentifier},this.writeConfiguration(o,p,void 0,P,Y)}writeConfiguration(o,p,P,Y,ae){o=o??this.deriveConfigurationTarget(p,Y);const We=this.configurationService.inspect(p,Y);switch(o){case 8:return this._updateValue(p,P,o,We?.memory?.override,Y,ae);case 6:return this._updateValue(p,P,o,We?.workspaceFolder?.override,Y,ae);case 5:return this._updateValue(p,P,o,We?.workspace?.override,Y,ae);case 4:return this._updateValue(p,P,o,We?.userRemote?.override,Y,ae);default:return this._updateValue(p,P,o,We?.userLocal?.override,Y,ae)}}_updateValue(o,p,P,Y,ae,We){return this.configurationService.updateValue(o,p,ae=!0===We?ae:!1===We?{resource:ae.resource}:ae.overrideIdentifier&&void 0!==Y?ae:{resource:ae.resource},P,!0)}deriveConfigurationTarget(o,p){if(p.resource&&3===this._workspaceContextService.getWorkbenchState()){const P=Ot.B.as(Tt.IP.Configuration).getConfigurationProperties();if(P[o]&&(4===P[o].scope||5===P[o].scope))return 6}return 5}};pl=(0,l._)([Cr(Ko.MainThreadConfiguration),(0,l.a)(1,xe.ec),(0,l.a)(2,qt.Ui),(0,l.a)(3,ft.Y)],pl);const $o={identifier:new rt.k("monaco"),isBuiltin:!0,isUserBuiltin:!0,isUnderDevelopment:!1,extensionLocation:b.o.from({scheme:"extension",path:"/"}),name:"monaco",publisher:"microsoft",version:"1.0.0",engines:{vscode:"1.69.0"},targetPlatform:"web"};class Ec{constructor(){this._onMessage=new pd,this.onMessage=this._onMessage.event}send(o){this._onMessage.fire(o)}}class Td extends Te{constructor(){super(...arguments),this.$showMessage=(o,p,P,Y)=>{const ae={...P,source:void 0};return super.$showMessage(o,p,ae,Y)}}}let Md,xd=class{constructor(o,p,P){this._proxy=o.getProxy(Ko.MainThreadConfiguration),this._extHostWorkspace=p,this._logService=P,this._actual=null}getConfigProvider(){return this._actual}$initializeConfiguration(o){this._actual=new qd(this._proxy,this._extHostWorkspace,o,this._logService)}$acceptConfigurationChanged(o,p){this.getConfigProvider().$acceptConfigurationChanged(o,p)}};function _o(){return null==Md&&(Md=function Lc(){const be=Le.IO.get(H.Hy),o=Le.IO.get(Ie.lT),p=Le.IO.get(Oe.S),P=Le.IO.get(me.S),Y=Le.IO.get(he.q),ae=Le.IO.get(Pe.O),We=Le.IO.get(Fe.p),ot=Le.IO.get(Me.eJ),Rt=Le.IO.get(de.$),mn=Le.IO.get(g.lT),Fn=Le.IO.get(Q.p),di=Le.IO.get(C.b),wi=Le.IO.get(C.k),Yn=Le.IO.get(C.f),pi=Le.IO.get(C.j),Ri=Le.IO.get(C.c),Bi=Le.IO.get(C.I),Is=Le.IO.get(C.l),ks=Le.IO.get(C.m),br=Le.IO.get(C.g),Uc=Le.IO.get(ce.R9),Ol=Le.IO.get(Ae.b),kl=Le.IO.get(C.h),rd=Le.IO.get(dt.vu),qr=Le.IO.get(C.e),da=Le.IO.get(it.v4),pg=Le.IO.get(C.d),_g=Le.IO.get(bt.c_),vg=Le.IO.get(Bt.p),Cg=Le.IO.get(qt.Ui),yg=Le.IO.get(xe.ec),bg=Le.IO.get(W.d),Sg=Le.IO.get(L.TG),wg=new Ec,ps=new Ca(wg),cu=new gd,As={_serviceBrand:void 0,remoteAuthority:null,extensionHostKind:1,getProxy:function(Fd){return ps.getProxy(Fd)},set:function(Fd,kg){return ps.set(Fd,kg)},assertRegistered:function(Fd){ps.assertRegistered(Fd)},drain:function(){return ps.drain()},dispose(){ps.dispose()}},Dg={_serviceBrand:void 0,version:"1.0.0",parentPid:0,get environment(){return(0,W.u)()},allExtensions:[C.S.get().extension??$o],myExtensions:[(C.S.get().extension??$o).identifier],consoleForward:{includeStack:!1,logNative:!1},get telemetryInfo(){return(0,W.u)()},logLevel:A.in.Trace,get logsLocation(){return(0,W.u)()},get logFile(){return(0,W.u)()},autoStart:!1,remote:{isRemote:!1,authority:void 0,connectionData:null},uiKind:Mr.Web},La=new A.$V(new t.C),uu=new va(As,La),Eg=new X(As,La),hu=new gc(null);ps.set(Ko.MainThreadWindow,new wd(As,pg,da)),ps.set(Ko.MainThreadCommands,new Wl(As,be,bg));const ic=ps.set(ys.ExtHostCommands,new Qa(As,La)),kd=ps.set(ys.ExtHostDocumentsAndEditors,new mi(As,La)),jc=ps.set(ys.ExtHostDocuments,new Ul(As,kd)),Lg=ps.set(ys.ExtHostLanguages,new xl(As,jc,ic.converter,hu)),Ig=ps.set(ys.ExtHostWindow,new $l(As)),Tg=ps.set(ys.ExtHostQuickOpen,function Ud(be,o,p){const P=be.getProxy(Ko.MainThreadQuickOpen);let ae=(()=>{class wi{constructor(pi,Ri){this._extensionId=pi,this._onDidDispose=Ri,this._id=Fn._nextId++,this._visible=!1,this._expectingHide=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!0,this._value="",this._buttons=[],this._handlesToButtons=new Map,this._onDidAcceptEmitter=new l.E,this._onDidChangeValueEmitter=new l.E,this._onDidTriggerButtonEmitter=new l.E,this._onDidHideEmitter=new l.E,this._pendingUpdate={id:this._id},this._disposed=!1,this._disposables=[this._onDidTriggerButtonEmitter,this._onDidHideEmitter,this._onDidAcceptEmitter,this._onDidChangeValueEmitter],this.onDidChangeValue=this._onDidChangeValueEmitter.event,this.onDidAccept=this._onDidAcceptEmitter.event,this.onDidTriggerButton=this._onDidTriggerButtonEmitter.event,this.onDidHide=this._onDidHideEmitter.event}get title(){return this._title}set title(pi){this._title=pi,this.update({title:pi})}get step(){return this._steps}set step(pi){this._steps=pi,this.update({step:pi})}get totalSteps(){return this._totalSteps}set totalSteps(pi){this._totalSteps=pi,this.update({totalSteps:pi})}get enabled(){return this._enabled}set enabled(pi){this._enabled=pi,this.update({enabled:pi})}get busy(){return this._busy}set busy(pi){this._busy=pi,this.update({busy:pi})}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(pi){this._ignoreFocusOut=pi,this.update({ignoreFocusOut:pi})}get value(){return this._value}set value(pi){this._value=pi,this.update({value:pi})}get placeholder(){return this._placeholder}set placeholder(pi){this._placeholder=pi,this.update({placeholder:pi})}get buttons(){return this._buttons}set buttons(pi){this._buttons=pi.slice(),this._handlesToButtons.clear(),pi.forEach((Ri,Bi)=>{this._handlesToButtons.set(Ri===gs.Back?-1:Bi,Ri)}),this.update({buttons:pi.map((Ri,Bi)=>({...mn(Ri),tooltip:Ri.tooltip,handle:Ri===gs.Back?-1:Bi}))})}show(){this._visible=!0,this._expectingHide=!0,this.update({visible:!0})}hide(){this._visible=!1,this.update({visible:!1})}_fireDidAccept(){this._onDidAcceptEmitter.fire()}_fireDidChangeValue(pi){this._value=pi,this._onDidChangeValueEmitter.fire(pi)}_fireDidTriggerButton(pi){const Ri=this._handlesToButtons.get(pi);Ri&&this._onDidTriggerButtonEmitter.fire(Ri)}_fireDidHide(){this._expectingHide&&(this._expectingHide=this._visible,this._onDidHideEmitter.fire())}dispose(){this._disposed||(this._disposed=!0,this._fireDidHide(),this._disposables=(0,k.B9)(this._disposables),this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this._onDidDispose(),P.$dispose(this._id))}update(pi){if(!this._disposed){for(const Ri of Object.keys(pi)){const Bi=pi[Ri];this._pendingUpdate[Ri]=void 0===Bi?null:Bi}"visible"in this._pendingUpdate?(this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this.dispatchUpdate()):this._visible&&!this._updateTimeout&&(this._updateTimeout=setTimeout(()=>{this._updateTimeout=void 0,this.dispatchUpdate()},0))}}dispatchUpdate(){P.$createOrUpdate(this._pendingUpdate),this._pendingUpdate={id:this._id}}}return wi._nextId=1,wi})();function mn(wi){const Yn=function We(wi){if(wi instanceof Ws)return{id:wi.id};const Yn=function Rt(wi){return"object"==typeof wi&&"dark"in wi?wi.dark:wi}(wi),pi=function ot(wi){return"object"==typeof wi&&"light"in wi?wi.light:wi}(wi);return{dark:"string"==typeof Yn?b.o.file(Yn):Yn,light:"string"==typeof pi?b.o.file(pi):pi}}(wi.iconPath);let pi,Ri;return"id"in Yn?Ri=Ce.kS.asClassName(Yn):pi=Yn,{iconPath:pi,iconClass:Ri}}class Fn extends ae{constructor(Yn,pi){super(Yn.identifier,pi),this._items=[],this._handlesToItems=new Map,this._itemsToHandles=new Map,this._canSelectMany=!1,this._matchOnDescription=!0,this._matchOnDetail=!0,this._sortByLabel=!0,this._keepScrollPosition=!1,this._activeItems=[],this._onDidChangeActiveEmitter=new l.E,this._selectedItems=[],this._onDidChangeSelectionEmitter=new l.E,this._onDidTriggerItemButtonEmitter=new l.E,this.onDidChangeActive=this._onDidChangeActiveEmitter.event,this.onDidChangeSelection=this._onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this._onDidTriggerItemButtonEmitter.event,this._disposables.push(this._onDidChangeActiveEmitter,this._onDidChangeSelectionEmitter,this._onDidTriggerItemButtonEmitter),this.update({type:"quickPick"})}get items(){return this._items}set items(Yn){this._items=Yn.slice(),this._handlesToItems.clear(),this._itemsToHandles.clear(),Yn.forEach((Ri,Bi)=>{this._handlesToItems.set(Bi,Ri),this._itemsToHandles.set(Ri,Bi)});const pi=[];for(let Ri=0;Ri<Yn.length;Ri++){const Bi=Yn[Ri];pi.push(Bi.kind===Cs.Separator?{type:"separator",label:Bi.label}:{handle:Ri,label:Bi.label,description:Bi.description,detail:Bi.detail,picked:Bi.picked,alwaysShow:Bi.alwaysShow,buttons:Bi.buttons?.map((Is,ks)=>({...mn(Is),tooltip:Is.tooltip,handle:ks}))})}this.update({items:pi})}get canSelectMany(){return this._canSelectMany}set canSelectMany(Yn){this._canSelectMany=Yn,this.update({canSelectMany:Yn})}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(Yn){this._matchOnDescription=Yn,this.update({matchOnDescription:Yn})}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(Yn){this._matchOnDetail=Yn,this.update({matchOnDetail:Yn})}get sortByLabel(){return this._sortByLabel}set sortByLabel(Yn){this._sortByLabel=Yn,this.update({sortByLabel:Yn})}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(Yn){this._keepScrollPosition=Yn,this.update({keepScrollPosition:Yn})}get activeItems(){return this._activeItems}set activeItems(Yn){this._activeItems=Yn.filter(pi=>this._itemsToHandles.has(pi)),this.update({activeItems:this._activeItems.map(pi=>this._itemsToHandles.get(pi))})}get selectedItems(){return this._selectedItems}set selectedItems(Yn){this._selectedItems=Yn.filter(pi=>this._itemsToHandles.has(pi)),this.update({selectedItems:this._selectedItems.map(pi=>this._itemsToHandles.get(pi))})}_fireDidChangeActive(Yn){const pi=(0,S.kX)(Yn.map(Ri=>this._handlesToItems.get(Ri)));this._activeItems=pi,this._onDidChangeActiveEmitter.fire(pi)}_fireDidChangeSelection(Yn){const pi=(0,S.kX)(Yn.map(Ri=>this._handlesToItems.get(Ri)));this._selectedItems=pi,this._onDidChangeSelectionEmitter.fire(pi)}_fireDidTriggerItemButton(Yn,pi){const Ri=this._handlesToItems.get(Yn);if(!Ri||!Ri.buttons||!Ri.buttons.length)return;const Bi=Ri.buttons[pi];Bi&&this._onDidTriggerItemButtonEmitter.fire({button:Bi,item:Ri})}}class di extends ae{constructor(Yn,pi){super(Yn.identifier,pi),this._password=!1,this.update({type:"inputBox"})}get password(){return this._password}set password(Yn){this._password=Yn,this.update({password:Yn})}get prompt(){return this._prompt}set prompt(Yn){this._prompt=Yn,this.update({prompt:Yn})}get validationMessage(){return this._validationMessage}set validationMessage(Yn){this._validationMessage=Yn,this.update(Yn?"string"==typeof Yn?{validationMessage:Yn,severity:J.Z.Error}:{validationMessage:Yn.message,severity:Yn.severity??J.Z.Error}:{validationMessage:void 0,severity:J.Z.Ignore})}}return new class Y{constructor(Yn,pi){this._sessions=new Map,this._instances=0,this._workspace=Yn,this._commands=pi}showQuickPick(Yn,pi,Ri=j.T.None){this._onDidSelectItem=void 0;const Bi=Promise.resolve(Yn),Is=++this._instances,ks=P.$show(Is,{title:pi?.title,placeHolder:pi?.placeHolder,matchOnDescription:pi?.matchOnDescription,matchOnDetail:pi?.matchOnDetail,ignoreFocusLost:pi?.ignoreFocusOut,canPickMany:pi?.canPickMany},Ri),br={},Uc=ks.then(()=>br);return Promise.race([Uc,Bi]).then(Ol=>{if(Ol!==br)return Bi.then(kl=>{const rd=[];for(let qr=0;qr<kl.length;qr++){const da=kl[qr];rd.push("string"==typeof da?{label:da,handle:qr}:da.kind===Cs.Separator?{type:"separator",label:da.label}:{label:da.label,description:da.description,detail:da.detail,picked:da.picked,alwaysShow:da.alwaysShow,handle:qr})}return pi&&"function"==typeof pi.onDidSelectItem&&(this._onDidSelectItem=qr=>{pi.onDidSelectItem(kl[qr])}),P.$setItems(Is,rd),ks.then(qr=>"number"==typeof qr?kl[qr]:Array.isArray(qr)?qr.map(da=>kl[da]):void 0)})}).then(void 0,Ol=>{if(!(0,I.n2)(Ol))return P.$setError(Is,Ol),Promise.reject(Ol)})}$onItemSelected(Yn){this._onDidSelectItem?.(Yn)}showInput(Yn,pi=j.T.None){return this._validateInput=Yn?.validateInput,P.$input(Yn,"function"==typeof this._validateInput,pi).then(void 0,Ri=>{if(!(0,I.n2)(Ri))return Promise.reject(Ri)})}$validateInput(Yn){var pi=this;return(0,s.Z)(function*(){if(!pi._validateInput)return;const Ri=yield pi._validateInput(Yn);if(!Ri||"string"==typeof Ri)return Ri;let Bi;switch(Ri.severity){case Js.Info:Bi=J.Z.Info;break;case Js.Warning:Bi=J.Z.Warning;break;case Js.Error:Bi=J.Z.Error;break;default:Bi=Ri.message?J.Z.Error:J.Z.Ignore}return{content:Ri.message,severity:Bi}})()}showWorkspaceFolderPick(Yn,pi=j.T.None){var Ri=this;return(0,s.Z)(function*(){const Bi=yield Ri._commands.executeCommand("_workbench.pickWorkspaceFolder",[Yn]);if(!Bi)return;const Is=yield Ri._workspace.getWorkspaceFolders2();return Is?Is.find(ks=>ks.uri.toString()===Bi.uri.toString()):void 0})()}createQuickPick(Yn){const pi=new Fn(Yn,()=>this._sessions.delete(pi._id));return this._sessions.set(pi._id,pi),pi}createInputBox(Yn){const pi=new di(Yn,()=>this._sessions.delete(pi._id));return this._sessions.set(pi._id,pi),pi}$onDidChangeValue(Yn,pi){this._sessions.get(Yn)?._fireDidChangeValue(pi)}$onDidAccept(Yn){const pi=this._sessions.get(Yn);pi&&pi._fireDidAccept()}$onDidChangeActive(Yn,pi){const Ri=this._sessions.get(Yn);Ri instanceof Fn&&Ri._fireDidChangeActive(pi)}$onDidChangeSelection(Yn,pi){const Ri=this._sessions.get(Yn);Ri instanceof Fn&&Ri._fireDidChangeSelection(pi)}$onDidTriggerButton(Yn,pi){this._sessions.get(Yn)?._fireDidTriggerButton(pi)}$onDidTriggerItemButton(Yn,pi,Ri){const Bi=this._sessions.get(Yn);Bi instanceof Fn&&Bi._fireDidTriggerItemButton(pi,Ri)}$onDidHide(Yn){const pi=this._sessions.get(Yn);pi&&pi._fireDidHide()}}(o,p)}(As,null,ic)),fu=ps.set(ys.ExtHostDiagnostics,new Qr(As,La,cu)),xg=ps.set(ys.ExtHostProgress,new Ue(ps.getProxy(Ko.MainThreadProgress))),Mg=ps.set(ys.ExtHostDocumentContentProviders,new hn(As,kd,La)),Pg=ps.set(ys.ExtHostEditors,new Si(As,kd)),Ag=new mc(As),Ng=ps.set(ys.ExtHostLanguageFeatures,new el(ps,hu,jc,ic,fu,La,uu)),gu=ps.set(ys.ExtHostWorkspace,new Sa(As,Dg,cu,La)),Rg=ps.set(ys.ExtHostConfiguration,new xd(As,gu,La));return ps.set(ys.ExtHostTelemetry,new pc),ps.set(Ko.MainThreadMessageService,new Td(As,o,be,p)),ps.set(Ko.MainThreadDiagnostics,new yr(As,mn,wi)),ps.set(Ko.MainThreadQuickOpen,new M(As,ot)),ps.set(Ko.MainThreadTelemetry,new zl(As,Ol,Is,kl)),ps.set(Ko.MainThreadProgress,new kt(As,Uc,be)),ps.set(Ko.MainThreadDocumentContentProviders,new Qt(As,P,ae,Y,We)),ps.set(Ko.MainThreadBulkEdits,new bd(As,rd,La)),ps.set(Ko.MainThreadLanguages,new Sd(As,ae,Y,P,qr)),ps.set(Ko.MainThreadClipboard,new Dd(As,Fn)),ps.set(Ko.MainThreadLanguageFeatures,new il(As,ae,_g,vg)),ps.set(Ko.MainThreadConfiguration,new pl(As,yg,Cg,Is)),new Os(As,Y,pi,di,Rt,Ri,P,Bi,Yn,Is,ks,wi,Fn,br,Sg),{extHostLogService:La,extHostApiDeprecationService:uu,extHostMessageService:Eg,extHostDocumentsAndEditors:kd,extHostBulkEdits:new yd(As,kd),extHostDocuments:jc,extHostDocumentContentProviders:Mg,extHostQuickOpen:Tg,extHostProgress:xg,extHostDiagnostics:fu,extHostEditors:Pg,extHostCommands:ic,extHostLanguages:Lg,extHostWindow:Ig,extHostClipboard:Ag,extHostLanguageFeatures:Ng,extHostWorkspace:gu,extHostConfiguration:Rg}}()),Md}xd=(0,l._)([(0,l.a)(0,Ma),(0,l.a)(1,Vt),(0,l.a)(2,A.VZ)],xd);var Ic=e(10919),Tc=e(6326),od=(()=>(function(be){be[be.Initial=1]="Initial",be[be.Dynamic=2]="Dynamic"}(od||(od={})),od))();const Pd={createDiagnosticCollection(be){const{extHostDiagnostics:o}=_o(),p=C.S.get().extension??$o;return o.createDiagnosticCollection(p.identifier,be)},get onDidChangeDiagnostics(){const{extHostDiagnostics:be}=_o();return be.onDidChangeDiagnostics},getDiagnostics:be=>{const{extHostDiagnostics:o}=_o();return o.getDiagnostics(be)},getLanguages(){const{extHostLanguages:be}=_o();return be.getLanguages()},setTextDocumentLanguage(be,o){const{extHostLanguages:p}=_o();return p.changeLanguage(be.uri,o)},match:(be,o)=>(0,Ic.G)(Er.from(be),o.uri,o.languageId,!0,void 0,void 0),registerCodeActionsProvider(be,o,p){const{extHostLanguageFeatures:P}=_o(),Y=C.S.get().extension??$o;return P.registerCodeActionProvider(Y,be,o,p)},registerCodeLensProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerCodeLensProvider(P,be,o)},registerDefinitionProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerDefinitionProvider(P,be,o)},registerDeclarationProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerDeclarationProvider(P,be,o)},registerImplementationProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerImplementationProvider(P,be,o)},registerTypeDefinitionProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerTypeDefinitionProvider(P,be,o)},registerHoverProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerHoverProvider(P,be,o,P.identifier)},registerEvaluatableExpressionProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerEvaluatableExpressionProvider(P,be,o,P.identifier)},registerInlineValuesProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerInlineValuesProvider(P,be,o,P.identifier)},registerDocumentHighlightProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerDocumentHighlightProvider(P,be,o)},registerLinkedEditingRangeProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerLinkedEditingRangeProvider(P,be,o)},registerReferenceProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerReferenceProvider(P,be,o)},registerRenameProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerRenameProvider(P,be,o)},registerDocumentSymbolProvider(be,o,p){const{extHostLanguageFeatures:P}=_o(),Y=C.S.get().extension??$o;return P.registerDocumentSymbolProvider(Y,be,o,p)},registerWorkspaceSymbolProvider(be){const{extHostLanguageFeatures:o}=_o(),p=C.S.get().extension??$o;return o.registerWorkspaceSymbolProvider(p,be)},registerDocumentFormattingEditProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerDocumentFormattingEditProvider(P,be,o)},registerDocumentRangeFormattingEditProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerDocumentRangeFormattingEditProvider(P,be,o)},registerOnTypeFormattingEditProvider(be,o,p,...P){const{extHostLanguageFeatures:Y}=_o(),ae=C.S.get().extension??$o;return Y.registerOnTypeFormattingEditProvider(ae,be,o,[p].concat(P))},registerDocumentSemanticTokensProvider(be,o,p){const{extHostLanguageFeatures:P}=_o(),Y=C.S.get().extension??$o;return P.registerDocumentSemanticTokensProvider(Y,be,o,p)},registerDocumentRangeSemanticTokensProvider(be,o,p){const{extHostLanguageFeatures:P}=_o(),Y=C.S.get().extension??$o;return P.registerDocumentRangeSemanticTokensProvider(Y,be,o,p)},registerSignatureHelpProvider(be,o,p,...P){const{extHostLanguageFeatures:Y}=_o(),ae=C.S.get().extension??$o;return Y.registerSignatureHelpProvider(ae,be,o,"object"==typeof p?p:typeof p>"u"?[]:[p,...P])},registerCompletionItemProvider(be,o,...p){const{extHostLanguageFeatures:P}=_o(),Y=C.S.get().extension??$o;return P.registerCompletionItemProvider(Y,be,o,p)},registerDocumentLinkProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerDocumentLinkProvider(P,be,o)},registerColorProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerColorProvider(P,be,o)},registerFoldingRangeProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerFoldingRangeProvider(P,be,o)},registerSelectionRangeProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerSelectionRangeProvider(P,be,o)},registerCallHierarchyProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerCallHierarchyProvider(P,be,o)},registerTypeHierarchyProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerTypeHierarchyProvider(P,be,o)},setLanguageConfiguration:(be,o)=>{const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.setLanguageConfiguration(P,be,o)},registerInlayHintsProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerInlayHintsProvider(P,be,o)},createLanguageStatusItem(be,o){const{extHostLanguages:p}=_o(),P=C.S.get().extension??$o;return p.createLanguageStatusItem(P,be,o)},registerInlineCompletionItemProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerInlineCompletionsProvider(P,be,o)},registerDocumentDropEditProvider(be,o){const{extHostLanguageFeatures:p}=_o(),P=C.S.get().extension??$o;return p.registerDocumentOnDropEditProvider(P,be,o)}},Rl={registerCommand(be,o,p){const{extHostCommands:P}=_o();return P.registerCommand(!0,be,o,p,void 0,C.S.get().extension??$o)},registerTextEditorCommand(be,o,p){const{extHostCommands:P,extHostEditors:Y,extHostLogService:ae}=_o();return P.registerCommand(!0,be,(...We)=>{const ot=Y.getActiveTextEditor();if(null!=ot)return ot.edit(Rt=>{o.apply(p,[ot,Rt,...We])}).then(Rt=>{Rt||ae.warn("Edits from command "+be+" were not applied.")},Rt=>{ae.warn("An error occurred while running command "+be,Rt)});ae.warn("Cannot execute "+be+" because there is no active text editor.")},void 0,void 0,C.S.get().extension??$o)},executeCommand(be,...o){const{extHostCommands:p}=_o();return p.executeCommand(be,...o)},getCommands(be=!1){const{extHostCommands:o}=_o();return o.getCommands(be)}},Ad={fs:new class tc{constructor(){this.stat=W.u}isWritableFileSystem(){return!1}readDirectory(){return Promise.resolve([])}createDirectory(){return Promise.resolve()}readFile(){return Promise.resolve(new Uint8Array(0))}writeFile(){return Promise.resolve()}delete(){return Promise.resolve()}rename(){return Promise.resolve()}copy(){return Promise.resolve()}},workspaceFile:void 0,createFileSystemWatcher(be,o,p,P){const{workspace:Y}=C.S.get();return null!=Y?.createFileSystemWatcher?Y.createFileSystemWatcher(be,o,p,P):{ignoreCreateEvents:o??!1,ignoreChangeEvents:p??!1,ignoreDeleteEvents:P??!1,onDidCreate:O.ju.None,onDidChange:O.ju.None,onDidDelete:O.ju.None,dispose:()=>{}}},applyEdit:function(){var be=(0,s.Z)(function*(o){const{extHostBulkEdits:p}=_o(),P=C.S.get().extension??$o;return p.applyWorkspaceEdit(o,P)});return function(p){return be.apply(this,arguments)}}(),getConfiguration:(be,o)=>{const{extHostConfiguration:p}=_o();return p.getConfigProvider().getConfiguration(be,o,C.S.get().extension??$o)},onDidChangeConfiguration(be,o,p){const{extHostConfiguration:P}=_o();return P.getConfigProvider().onDidChangeConfiguration(be,o,p)},get rootPath(){const{workspace:be}=C.S.get();return be?.rootPath},get workspaceFolders(){const{workspace:be}=C.S.get();if(null==be)return;if("workspaceFolders"in be)return be.workspaceFolders;const o=be.rootPath;if(null==o)return;const p=b.o.file(o);return[{uri:p,index:0,name:p.toString()}]},getWorkspaceFolder(be){return this.workspaceFolders?.find(o=>be.path.startsWith(o.uri.path))},get onDidChangeWorkspaceFolders(){const{workspace:be}=C.S.get();return be?.onDidChangeWorkspaceFolders??O.ju.None},get textDocuments(){const{extHostDocuments:be}=_o();return Array.from(be.getAllDocumentData().map(o=>o.document))},get onDidOpenTextDocument(){const{extHostDocuments:be}=_o();return be.onDidAddDocument},get onDidCloseTextDocument(){const{extHostDocuments:be}=_o();return be.onDidRemoveDocument},get onDidChangeTextDocument(){const{extHostDocuments:be}=_o();return be.onDidChangeDocument},get onWillSaveTextDocument(){const{workspace:be}=C.S.get();return be?.onWillSaveTextDocument??O.ju.None},get onDidSaveTextDocument(){const{workspace:be}=C.S.get();return be?.onDidSaveTextDocument??O.ju.None},get onWillCreateFiles(){return O.ju.None},get onDidCreateFiles(){return O.ju.None},get onWillDeleteFiles(){return O.ju.None},get onDidDeleteFiles(){return O.ju.None},get onWillRenameFiles(){return O.ju.None},get onDidRenameFiles(){return O.ju.None},get onDidGrantWorkspaceTrust(){return O.ju.None},asRelativePath:W.u,updateWorkspaceFolders(be,o,...p){const{workspace:P}=C.S.get();return null!=P?.updateWorkspaceFolders&&P.updateWorkspaceFolders(be,o,...p)},findFiles:W.u,saveAll:W.u,openTextDocument(be){const{extHostDocuments:o}=_o();let p;const P=be;if("string"==typeof be)p=Promise.resolve(b.o.file(be));else if(b.o.isUri(be))p=Promise.resolve(be);else{if(null!=P&&"object"!=typeof P)throw new Error("illegal argument - uriOrFileNameOrOptions");p=o.createDocumentData(P)}return p.then(Y=>o.ensureDocumentData(Y).then(ae=>ae.document))},registerTextDocumentContentProvider(be,o){const{extHostDocumentContentProviders:p}=_o();return p.registerTextDocumentContentProvider(be,o)},registerTaskProvider:W.u,registerFileSystemProvider:W.u,openNotebookDocument:W.u,registerNotebookSerializer:W.u,notebookDocuments:[],onDidOpenNotebookDocument:W.u,onDidCloseNotebookDocument:W.u,isTrusted:!0,name:void 0,onDidChangeNotebookDocument:W.u,onDidSaveNotebookDocument:W.u};class Nd{constructor(o){this.uri=o}}function sd(be,o){return{label:be.uri.fsPath,group:o,get isActive(){return be.isAttachedToEditor()},isDirty:!1,isPinned:!1,isPreview:!1,input:new Nd(be.uri)}}const Va={isActive:!0,activeTab:void 0,viewColumn:ne.One,get tabs(){return Le.IO.get(he.q).getModels().map(o=>sd(o,Va))}},Rd={showInformationMessage(be,...o){const{extHostMessageService:p}=_o();return p.showMessage(C.S.get().extension??$o,J.Z.Info,be,o[0],o.slice(1))},showWarningMessage(be,...o){const{extHostMessageService:p}=_o();return p.showMessage(C.S.get().extension??$o,J.Z.Warning,be,o[0],o.slice(1))},showErrorMessage(be,...o){const{extHostMessageService:p}=_o();return p.showMessage(C.S.get().extension??$o,J.Z.Error,be,o[0],o.slice(1))},createOutputChannel(be){const{window:o}=C.S.get();return o?.createOutputChannel?.call(o,be)??{name:be,append:()=>{},appendLine:()=>{},clear:W.u,show:()=>{},hide:W.u,replace:W.u,dispose:()=>{}}},withScmProgress(be){const{extHostProgress:o}=_o();return o.withProgress(C.S.get().extension??$o,{location:Ms.SourceControl},()=>be({report(){}}))},withProgress(be,o){const{extHostProgress:p}=_o();return p.withProgress(C.S.get().extension??$o,be,o)},showTextDocument:function(){var be=(0,s.Z)(function*(o,p,P){const{extHostEditors:Y}=_o(),ae=yield b.o.isUri(o)?Promise.resolve(Ad.openTextDocument(o)):Promise.resolve(o);return Y.showTextDocument(ae,p,P)});return function(p,P,Y){return be.apply(this,arguments)}}(),createQuickPick(){const{extHostQuickOpen:be}=_o();return be.createQuickPick(C.S.get().extension??$o)},showQuickPick(be,o,p){const{extHostQuickOpen:P}=_o();return P.showQuickPick(be,o,p)},createInputBox(){const{extHostQuickOpen:be}=_o(),o=C.S.get().extension??$o;return be.createInputBox(o)},showInputBox(be,o){const{extHostQuickOpen:p}=_o();return p.showInput(be,o)},createTextEditorDecorationType:W.u,showWorkspaceFolderPick:W.u,showOpenDialog:W.u,showSaveDialog:W.u,createWebviewPanel:W.u,setStatusBarMessage:W.u,createStatusBarItem:W.u,createTerminal:W.u,registerTreeDataProvider:W.u,createTreeView:W.u,registerWebviewPanelSerializer:W.u,get activeTextEditor(){const{extHostEditors:be}=_o();return be.getActiveTextEditor()},get visibleTextEditors(){const{extHostEditors:be}=_o();return be.getVisibleTextEditors()},onDidChangeActiveTextEditor(be,o,p){const{extHostEditors:P}=_o();return P.onDidChangeActiveTextEditor(be,o,p)},onDidChangeVisibleTextEditors(be,o,p){const{extHostEditors:P}=_o();return P.onDidChangeVisibleTextEditors(be,o,p)},onDidChangeTextEditorSelection(be,o,p){const{extHostEditors:P}=_o();return P.onDidChangeTextEditorSelection(be,o,p)},onDidChangeTextEditorVisibleRanges(be,o,p){const{extHostEditors:P}=_o();return P.onDidChangeTextEditorVisibleRanges(be,o,p)},onDidChangeTextEditorOptions(be,o,p){const{extHostEditors:P}=_o();return P.onDidChangeTextEditorOptions(be,o,p)},onDidChangeTextEditorViewColumn(be,o,p){const{extHostEditors:P}=_o();return P.onDidChangeTextEditorViewColumn(be,o,p)},get terminals(){return(0,W.u)()},get activeTerminal(){return(0,W.u)()},onDidChangeActiveTerminal:O.ju.None,onDidOpenTerminal:O.ju.None,onDidCloseTerminal:O.ju.None,get state(){return(0,W.u)()},onDidChangeWindowState:O.ju.None,registerUriHandler:W.u,registerWebviewViewProvider:W.u,registerCustomEditorProvider:W.u,registerTerminalLinkProvider:W.u,get activeColorTheme(){return(0,W.u)()},onDidChangeActiveColorTheme:O.ju.None,registerFileDecorationProvider:W.u,registerTerminalProfileProvider:W.u,onDidChangeTerminalState:O.ju.None,tabGroups:{get all(){return[Va]},activeTabGroup:Va,onDidChangeTabGroups:O.ju.None,onDidChangeTabs(be){const o=Le.IO.get(he.q),p=new k.SL;return p.add(o.onModelAdded(P=>{be({opened:[sd(P,Va)],closed:[],changed:[]})})),p.add(o.onModelRemoved(P=>{be({opened:[],closed:[sd(P,Va)],changed:[]})})),p},close:W.u},showNotebookDocument:W.u,visibleNotebookEditors:[],onDidChangeVisibleNotebookEditors:O.ju.None,activeNotebookEditor:void 0,onDidChangeActiveNotebookEditor:O.ju.None,onDidChangeNotebookEditorSelection:O.ju.None,onDidChangeNotebookEditorVisibleRanges:O.ju.None},xc={appName:"Monaco",appRoot:"",language:window.navigator.language??"en-US",get uriScheme(){return(0,W.u)()},get clipboard(){const{extHostClipboard:be}=_o();return be.value},get machineId(){return(0,W.u)()},get sessionId(){return(0,W.u)()},remoteName:void 0,shell:"",uiKind:Mr.Web,asExternalUri:be=>(0,s.Z)(function*(){const{extHostWindow:o}=_o();try{return yield o.asExternalUri(be,{allowTunneling:!1})}catch(p){if((0,it.xn)(be,z.lg.http)||(0,it.xn)(be,z.lg.https))return be;throw p}})(),openExternal:function(){var be=(0,s.Z)(function*(o,p){const{extHostWindow:P}=_o();return P.openUri(o,{allowTunneling:!1,allowContributedOpeners:p?.allowContributedOpeners})});return function(p,P){return be.apply(this,arguments)}}(),appHost:"web",isNewAppInstall:!1,isTelemetryEnabled:!1,onDidChangeTelemetryEnabled:O.ju.None},Ur=void 0,Mc={version:"1.69.0",tasks:Ur,notebooks:Ur,scm:Ur,debug:Ur,extensions:Ur,comments:Ur,authentication:Ur,tests:Ur,env:xc,commands:Rl,window:Rd,workspace:Ad,languages:Pd,Breakpoint:er,CallHierarchyIncomingCall:class Gt{constructor(o,p){this.fromRanges=p,this.from=o}},CallHierarchyItem:rn,CallHierarchyOutgoingCall:class wn{constructor(o,p){this.fromRanges=p,this.to=o}},CancellationError:I.FU,CancellationTokenSource:ie,CodeAction:Qe,CodeActionKind:qe,CodeActionTriggerKind:_e,CodeLens:xn,Color:Di,ColorInformation:Ai,ColorPresentation:ui,ColorThemeKind:Ur,CommentMode:ir,CommentThreadCollapsibleState:Ss,CompletionItem:ue,CompletionItemKind:Ui,CompletionItemTag:Mn,CompletionList:Ge,CompletionTriggerKind:ho,ConfigurationTarget:ds,CustomExecution:os,DebugAdapterExecutable:Tr,DebugAdapterInlineImplementation:tr,DebugAdapterNamedPipeServer:ma,DebugAdapterServer:_r,DebugConfigurationProviderTriggerKind:od,DebugConsoleMode:Es,DecorationRangeBehavior:Vn,Diagnostic:vn,DiagnosticRelatedInformation:_t,DiagnosticSeverity:gn,DiagnosticTag:Yt,Disposable:un,DocumentHighlight:Ii,DocumentHighlightKind:Pi,DocumentLink:gi,DocumentSymbol:ee,EndOfLine:Dn,EnvironmentVariableMutatorType:In,EvaluatableExpression:vs,InlineValueText:Fr,InlineValueVariableLookup:zr,InlineValueEvaluatableExpression:ar,EventEmitter:l.E,ExtensionKind:Wr,ExtensionMode:vi,FileChangeType:Yi,FileDecoration:class Ia{constructor(o,p,P){this.badge=o,this.tooltip=p,this.color=P}static validate(o){if(o.badge){let p=(0,r.vH)(o.badge,0);if(p<o.badge.length&&(p+=(0,r.vH)(o.badge,p)),o.badge.length>p)throw new Error("The 'badge'-property must be undefined or a short character")}if(!o.color&&!o.badge&&!o.tooltip)throw new Error("The decoration is empty");return!0}},FileSystemError:fr,FileType:C.F,FilePermission:C.a,FoldingRange:xr,FoldingRangeKind:Fs,FunctionBreakpoint:is,Hover:$n,IndentAction:Tc.wU,Location:Be,MarkdownString:Wn,OverviewRulerLane:Et.sh,ParameterInformation:Xn,Position:ht,ProcessExecution:Go,ProgressLocation:Ms,QuickInputButtons:gs,Range:Kt,RelativePattern:rr,Selection:nn,SelectionRange:ct,SemanticTokens:Vo,SemanticTokensBuilder:mo,SemanticTokensEdit:Ds,SemanticTokensEdits:ws,SemanticTokensLegend:class Br{constructor(o,p=[]){this.tokenTypes=o,this.tokenModifiers=p}},ShellExecution:nr,ShellQuoting:fs,SignatureHelp:ci,SignatureHelpTriggerKind:Ci,SignatureInformation:si,SnippetString:jt,SourceBreakpoint:Qs,StatusBarAlignment:Ne,SymbolInformation:F,SymbolKind:ii,SymbolTag:Ut,Task:Bs,TaskGroup:_s,TaskPanelKind:bo,TaskRevealKind:fo,TaskScope:Zs,TerminalLink:class lo{constructor(o,p,P){if(this.startIndex=o,this.length=p,this.tooltip=P,"number"!=typeof o||o<0)throw(0,I.b1)("startIndex");if("number"!=typeof p||p<1)throw(0,I.b1)("length");if(void 0!==P&&"string"!=typeof P)throw(0,I.b1)("tooltip")}},TerminalLocation:Hi,TerminalProfile:class Fo{constructor(o){if(this.options=o,"object"!=typeof o)throw(0,I.b1)("options")}},TextDocumentSaveReason:It,TextEdit:bn,TextEditorCursorStyle:ge.d2,TextEditorLineNumbersStyle:at,TextEditorRevealType:ln,TextEditorSelectionChangeKind:pn,TextDocumentChangeReason:Sn,ThemeColor:Ir,ThemeIcon:Ws,TreeItem:Ns,TreeItemCollapsibleState:qs,TypeHierarchyItem:Dr,UIKind:Mr,Uri:b.o,ViewColumn:ne,WorkspaceEdit:Wt,InlayHint:uo,InlayHintLabelPart:Ji,InlayHintKind:Li,NotebookRange:cr,NotebookCellKind:At,NotebookCellData:Nn,NotebookData:class le{constructor(o){this.cells=o}},NotebookCellStatusBarAlignment:Nt,NotebookCellOutput:$e,NotebookCellOutputItem:ve,NotebookCellStatusBarItem:class Ln{constructor(o,p){this.text=o,this.alignment=p}},NotebookControllerAffinity:Jn,LinkedEditingRanges:class Ro{constructor(o,p){this.ranges=o,this.wordPattern=p}},TestRunRequest:zo,TestMessage:js,TestTag:wr,TestRunProfileKind:Xo,DataTransfer:Ur,DataTransferItem:Ur,LanguageStatusSeverity:En,QuickPickItemKind:Cs,TabInputText:Nd,TabInputTextDiff:class ea{constructor(o,p){this.original=o,this.modified=p}},TabInputCustom:class ca{constructor(o,p){this.uri=o,this.viewType=p}},TabInputNotebook:class hd{constructor(o,p){this.uri=o,this.notebookType=p}},TabInputNotebookDiff:class al{constructor(o,p,P){this.original=o,this.modified=p,this.notebookType=P}},TabInputWebview:class vl{constructor(o){this.viewType=o}},TabInputTerminal:class or{constructor(){}},InputBoxValidationSeverity:Js,InlineCompletionList:V,InlineCompletionTriggerKind:Ys,InlineCompletionItem:Re,DocumentDropEdit:Sr,NotebookEditorRevealType:on},{version:Pc,tasks:Ac,notebooks:Nc,scm:Rc,debug:Oc,extensions:kc,comments:du,authentication:Fc,tests:Bc,env:Wc,commands:je,window:B,workspace:G,languages:Ve,Breakpoint:Mt,CallHierarchyIncomingCall:Tn,CallHierarchyItem:kn,CallHierarchyOutgoingCall:hi,CancellationError:yi,CancellationTokenSource:$i,CodeAction:Ao,CodeActionKind:Wo,CodeActionTriggerKind:Ps,CodeLens:Or,Color:la,ColorInformation:bs,ColorPresentation:Vs,ColorThemeKind:_l,CommentMode:nc,CommentThreadCollapsibleState:kr,CompletionItem:Od,CompletionItemKind:Hc,CompletionItemTag:Vc,CompletionList:Xu,CompletionTriggerKind:Ju,ConfigurationTarget:qu,CustomExecution:eh,DebugAdapterExecutable:th,DebugAdapterInlineImplementation:nh,DebugAdapterNamedPipeServer:ih,DebugAdapterServer:oh,DebugConfigurationProviderTriggerKind:sh,DebugConsoleMode:rh,DecorationRangeBehavior:ah,Diagnostic:lh,DiagnosticRelatedInformation:dh,DiagnosticSeverity:ch,DiagnosticTag:uh,Disposable:hh,DocumentHighlight:fh,DocumentHighlightKind:gh,DocumentLink:mh,DocumentSymbol:ph,EndOfLine:_h,EnvironmentVariableMutatorType:vh,EvaluatableExpression:Ch,InlineValueText:yh,InlineValueVariableLookup:bh,InlineValueEvaluatableExpression:Sh,EventEmitter:wh,ExtensionKind:Dh,ExtensionMode:Eh,FileChangeType:Lh,FileDecoration:Ih,FileSystemError:Th,FileType:xh,FilePermission:Mh,FoldingRange:Ph,FoldingRangeKind:Ah,FunctionBreakpoint:Nh,Hover:Rh,IndentAction:Oh,Location:kh,MarkdownString:Fh,OverviewRulerLane:Bh,ParameterInformation:Wh,Position:Hh,ProcessExecution:Vh,ProgressLocation:Uh,QuickInputButtons:jh,Range:Kh,RelativePattern:zh,Selection:$h,SelectionRange:Gh,SemanticTokens:Zh,SemanticTokensBuilder:Qh,SemanticTokensEdit:Yh,SemanticTokensEdits:Xh,SemanticTokensLegend:Jh,ShellExecution:qh,ShellQuoting:ef,SignatureHelp:tf,SignatureHelpTriggerKind:nf,SignatureInformation:sf,SnippetString:rf,SourceBreakpoint:af,StatusBarAlignment:lf,SymbolInformation:df,SymbolKind:cf,SymbolTag:uf,Task:hf,TaskGroup:ff,TaskPanelKind:gf,TaskRevealKind:mf,TaskScope:pf,TerminalLink:_f,TerminalLocation:vf,TerminalProfile:Cf,TextDocumentSaveReason:yf,TextEdit:bf,TextEditorCursorStyle:Sf,TextEditorLineNumbersStyle:wf,TextEditorRevealType:Df,TextEditorSelectionChangeKind:Ef,TextDocumentChangeReason:Lf,ThemeColor:If,ThemeIcon:Tf,TreeItem:xf,TreeItemCollapsibleState:Mf,TypeHierarchyItem:Pf,UIKind:Af,Uri:Nf,ViewColumn:Rf,WorkspaceEdit:Of,InlayHint:kf,InlayHintLabelPart:Ff,InlayHintKind:Bf,NotebookRange:Wf,NotebookCellKind:Hf,NotebookCellData:Vf,NotebookData:Uf,NotebookCellStatusBarAlignment:jf,NotebookCellOutput:Kf,NotebookCellOutputItem:zf,NotebookCellStatusBarItem:$f,NotebookControllerAffinity:Gf,LinkedEditingRanges:Zf,TestRunRequest:Qf,TestMessage:Yf,TestTag:Xf,TestRunProfileKind:Jf,DataTransfer:qf,DataTransferItem:eg,LanguageStatusSeverity:tg,QuickPickItemKind:ng,TabInputText:ig,TabInputTextDiff:og,TabInputCustom:sg,TabInputNotebook:rg,TabInputNotebookDiff:ag,TabInputWebview:lg,TabInputTerminal:dg,InputBoxValidationSeverity:cg,InlineCompletionList:ug,InlineCompletionTriggerKind:hg,InlineCompletionItem:fg,DocumentDropEdit:gg,NotebookEditorRevealType:mg}=Mc},16741:(yt,T,e)=>{"use strict";e.d(T,{B:()=>b,I:()=>r,r:()=>f}),e(63896),e(31864),e(9590);var C=e(3219);function f(u,n){return new Promise((d,y)=>{const g=n.onCancellationRequested(()=>{g.dispose(),y(new C.FU)});u.then(d,y).finally(()=>g.dispose())})}class b{constructor(){this._isOpen=!1,this._promise=new Promise((n,d)=>{this._completePromise=n})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}class r{constructor(n,d=(()=>Date.now())){this.interval=n,this.nowFn=d,this.lastIncrementTime=0,this.value=0}increment(){const n=this.nowFn();return n-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=n,this.value=0),this.value++,this.value}}},15729:(yt,T,e)=>{"use strict";e.d(T,{I:()=>$,d:()=>z,i:()=>N,m:()=>O,u:()=>ce});var s=e(78450),t=e(63896),C=(e(8424),e(52236)),f=e(30888),I=e(31864),b=e(93547),S=e(99385),D=e(82761),_=e(21576),r=e(52253),a=e(41883),u=e(53708),n=e(64455),d=e(60896),y=e(9590),g=e(34059),v=e(56740),m=e(26109),w=e(29390),E=e(77697),L=e(94418),x=e(16936),A=e(84834),k=e(38336);const W=(0,f.yh)("policy"),z=(0,f.yh)("extensionService");function N(Je,vt){return!!Je.enabledApiProposals&&Je.enabledApiProposals.includes(vt)}function O(Je,vt){if(!N(Je,vt))throw new Error(`Extension '${Je.identifier.value}' CANNOT use API proposal: ${vt}.\nIts package.json#enabledApiProposals-property declares: ${Je.enabledApiProposals?.join(", ")??"[]"} but NOT ${vt}.\n The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ${Je.identifier.value}`)}const $=(0,f.yh)("lifecycleService"),j=(0,f.yh)("ILanguageDetectionService"),q=(0,f.yh)("keyboardLayoutService");class Z{constructor(vt){this._OS=vt}dumpDebugInfo(){return"FallbackKeyboardMapper dispatching on keyCode"}resolveKeybinding(vt){return[new b.j(vt,this._OS)]}resolveKeyboardEvent(vt){const Et=new S.QC(vt.ctrlKey,vt.shiftKey,vt.altKey,vt.metaKey,vt.keyCode);return new b.j(Et.toChord(),this._OS)}resolveUserBinding(vt){return b.j.resolveUserBinding(vt,this._OS)}}const J=(0,C.s)(D.Y),Ce=(0,f.yh)("IUserDataInitializationService"),Se=(0,f.yh)("hostColorSchemeService"),xe=(0,f.yh)("preferencesService"),Me=(0,f.yh)("textMateService"),Oe=(0,f.yh)("IUserDataProfileService");let se=class extends _.JT{constructor(vt,Et){super(),this._onDidChangeCurrentProfile=this._register(new t.E),this.onDidChangeCurrentProfile=this._onDidChangeCurrentProfile.event,this._onDidUpdateCurrentProfile=this._register(new t.E),this.onDidUpdateCurrentProfile=this._onDidUpdateCurrentProfile.event,this._currentProfile=vt,this._register(Et.onDidChangeProfiles(Xe=>{if(this._currentProfile.isDefault)return void(this._currentProfile=Et.defaultProfile);const re=Xe.updated.find(pe=>this._currentProfile.id===pe.id);re&&(this._currentProfile=re,this._onDidUpdateCurrentProfile.fire())}))}get currentProfile(){return this._currentProfile}updateCurrentProfile(vt,Et){var Xe=this;return(0,s.Z)(function*(){if(Xe._currentProfile.id===vt.id)return;const re=Xe._currentProfile;Xe._currentProfile=vt;const pe=[];Xe._onDidChangeCurrentProfile.fire({preserveData:Et,previous:re,profile:vt,join(ge){pe.push(ge)}}),yield a.jT.settled(pe)})()}};function ce(){throw new Error("unsupported")}se=(0,t._)([(0,t.a)(1,C.r)],se),(0,u.z)(C.b,class{constructor(){this._serviceBrand=void 0,this.onDidActiveEditorChange=I.ju.None,this.onDidVisibleEditorsChange=I.ju.None,this.onDidEditorsChange=I.ju.None,this.onDidCloseEditor=I.ju.None,this.activeEditorPane=void 0,this.activeEditor=void 0,this.activeTextEditorLanguageId=void 0,this.visibleEditorPanes=[],this.visibleEditors=[],this.visibleTextEditorControls=[],this.editors=[],this.count=0,this.getEditors=()=>[],this.openEditor=ce,this.openEditors=ce,this.replaceEditors=(0,s.Z)(function*(){}),this.isOpened=()=>!1,this.isVisible=()=>!1,this.closeEditor=(0,s.Z)(function*(){}),this.closeEditors=(0,s.Z)(function*(){}),this.findEditors=()=>[],this.save=(0,s.Z)(function*(){return!1}),this.saveAll=(0,s.Z)(function*(){return!1}),this.revert=(0,s.Z)(function*(){return!1}),this.revertAll=(0,s.Z)(function*(){return!1})}get activeTextEditorControl(){return n.IO.get(d.$).getFocusedCodeEditor()??void 0}}),(0,u.z)(C.f,class{constructor(){this._serviceBrand=void 0,this.onDidPaneCompositeOpen=I.ju.None,this.onDidPaneCompositeClose=I.ju.None,this.openPaneComposite=ce,this.getActivePaneComposite=()=>{},this.getPaneComposite=()=>{},this.getPaneComposites=()=>[],this.getPinnedPaneCompositeIds=()=>[],this.getVisiblePaneCompositeIds=()=>[],this.getProgressIndicator=()=>{},this.hideActivePaneComposite=()=>{},this.getLastActivePaneCompositeId=ce,this.showActivity=ce}}),(0,u.z)(C.k,class{constructor(){this._serviceBrand=void 0,this.extUri=new y.U9(()=>!1)}asCanonicalUri(vt){return vt}});const Ee=new t.E;class me{constructor(){this.onDidCreate=I.ju.None,this.onDidResolve=I.ju.None,this.onDidChangeDirty=I.ju.None,this.onDidChangeReadonly=I.ju.None,this.onDidRemove=I.ju.None,this.onDidChangeOrphaned=I.ju.None,this.onDidChangeEncoding=I.ju.None,this.onDidSaveError=I.ju.None,this.onDidSave=Ee.event,this.onDidRevert=I.ju.None,this.models=[],this.saveErrorHandler={onSaveError:ce},this.get=()=>{},this.resolve=ce,this.addSaveParticipant=ce,this.runSaveParticipants=ce}canDispose(){return!0}}(0,u.z)(C.j,class{constructor(){this._serviceBrand=void 0,this.files=new me,this.isDirty=()=>!1,this.save=ce,this.saveAs=ce,this.revert=ce,this.read=ce,this.readStream=ce,this.write=ce,this.create=ce,this.getEncodedReadable=ce,this.getDecodedStream=ce}get untitled(){return ce()}get encoding(){return ce()}dispose(){}}),(0,u.z)(C.c,class{constructor(){this._serviceBrand=void 0,this.onDidChangeFileSystemProviderRegistrations=I.ju.None,this.onDidChangeFileSystemProviderCapabilities=I.ju.None,this.onWillActivateFileSystemProvider=I.ju.None,this.registerProvider=ce,this.getProvider=function(){},this.activateProvider=(0,s.Z)(function*(){}),this.canHandleResource=(0,s.Z)(function*(){return!1}),this.hasProvider=()=>!1,this.hasCapability=()=>!1,this.listCapabilities=()=>[],this.onDidFilesChange=I.ju.None,this.onDidRunOperation=I.ju.None,this.resolve=ce,this.resolveAll=ce,this.stat=ce,this.exists=(0,s.Z)(function*(){return!1}),this.readFile=ce,this.readFileStream=ce,this.writeFile=ce,this.move=ce,this.canMove=ce,this.copy=ce,this.canCopy=ce,this.cloneFile=ce,this.createFile=ce,this.canCreateFile=ce,this.createFolder=ce,this.del=ce,this.canDelete=ce,this.onDidWatchError=I.ju.None,this.watch=ce}dispose(){}});class Pe{constructor(){this.onDidModelChange=I.ju.None,this.onWillDispose=I.ju.None,this.onDidActiveEditorChange=I.ju.None,this.onWillCloseEditor=I.ju.None,this.onDidCloseEditor=I.ju.None,this.onWillMoveEditor=I.ju.None,this.onWillOpenEditor=I.ju.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=ce,this.findEditors=ce,this.getEditorByIndex=ce,this.getIndexOfEditor=ce,this.openEditor=ce,this.openEditors=ce,this.isPinned=ce,this.isSticky=ce,this.isActive=ce,this.contains=ce,this.moveEditor=ce,this.moveEditors=ce,this.copyEditor=ce,this.copyEditors=ce,this.closeEditor=ce,this.closeEditors=ce,this.closeAllEditors=ce,this.replaceEditors=ce,this.pinEditor=ce,this.stickEditor=ce,this.unstickEditor=ce,this.lock=ce,this.isFirst=()=>!0,this.isLast=()=>!0}get scopedContextKeyService(){return n.IO.get(k.i6)}focus(){}}(0,u.z)(C.I,class{constructor(){this._serviceBrand=void 0,this.onDidChangeActiveGroup=I.ju.None,this.onDidAddGroup=I.ju.None,this.onDidRemoveGroup=I.ju.None,this.onDidMoveGroup=I.ju.None,this.onDidActivateGroup=I.ju.None,this.onDidLayout=I.ju.None,this.onDidScroll=I.ju.None,this.onDidChangeGroupIndex=I.ju.None,this.onDidChangeGroupLocked=I.ju.None,this.activeGroup=new Pe,this.groups=[],this.count=0,this.orientation=0,this.isReady=!1,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.getGroups=()=>[],this.getGroup=()=>{},this.activateGroup=ce,this.getSize=ce,this.setSize=ce,this.arrangeGroups=ce,this.applyLayout=ce,this.centerLayout=ce,this.isLayoutCentered=()=>!1,this.setGroupOrientation=ce,this.findGroup=()=>{},this.addGroup=ce,this.removeGroup=ce,this.moveGroup=ce,this.mergeGroup=ce,this.mergeAllGroups=ce,this.copyGroup=ce,this.onDidChangeEditorPartOptions=I.ju.None,this.enforcePartOptions=ce}get contentDimension(){return ce()}get sideGroup(){return ce()}get partOptions(){return ce()}});class he{constructor(){this._serviceBrand=void 0,this.skipReleaseNotes=!0,this.skipWelcome=!0,this.disableWorkspaceTrust=!0,this.debugRenderer=!1,this.keyboardLayoutResource=v.o.from({scheme:"user",path:"/keyboardLayout.json"}),this.snippetsHome=v.o.from({scheme:"user",path:"/snippets"}),this.sync=void 0,this.isExtensionDevelopment=!1,this.disableExtensions=!1,this.logsPath="",this.verbose=!1,this.isBuilt=!0,this.disableTelemetry=!1}get logFile(){return ce()}get extHostLogsPath(){return ce()}get webviewExternalEndpoint(){return ce()}get userRoamingDataHome(){return ce()}get argvResource(){return ce()}get untitledWorkspacesHome(){return ce()}get globalStorageHome(){return ce()}get workspaceStorageHome(){return ce()}get localHistoryHome(){return ce()}get cacheHome(){return ce()}get userDataSyncHome(){return ce()}get userDataSyncLogResource(){return ce()}get debugExtensionHost(){return ce()}get telemetryLogResource(){return ce()}get serviceMachineIdResource(){return ce()}get stateResource(){return ce()}get editSessionsLogResource(){return ce()}}(0,u.z)(C.l,he),(0,u.z)(D.Y,he),(0,u.z)(J,he),(0,u.z)(C.m,class{constructor(){this._serviceBrand=void 0,this.onWillRunWorkingCopyFileOperation=I.ju.None,this.onDidFailWorkingCopyFileOperation=I.ju.None,this.onDidRunWorkingCopyFileOperation=I.ju.None,this.addFileOperationParticipant=ce,this.hasSaveParticipants=!1,this.addSaveParticipant=ce,this.runSaveParticipants=ce,this.create=ce,this.createFolder=ce,this.move=ce,this.copy=ce,this.delete=ce,this.registerWorkingCopyProvider=ce,this.getDirty=ce}}),(0,u.z)(C.g,class{constructor(){this._serviceBrand=void 0,this.defaultUriScheme=g.lg.file,this.userHome=ce,this.hasValidBasename=ce,this.resolvedUserHome=void 0}get path(){return ce()}fileURI(vt){return(0,s.Z)(function*(){return v.o.file(vt)})()}}),(0,u.z)(m.R9,class{constructor(){this._serviceBrand=void 0}withProgress(vt,Et,Xe){const{window:re}=C.S.get();return null!=re?.withProgress?re.withProgress(vt,Et,Xe):Et({report:()=>{}})}}),(0,u.z)(C.h,class{constructor(){this._serviceBrand=void 0,this.version="1.69.0",this.nameShort="Code - OSS Dev",this.nameLong="Code - OSS Dev",this.applicationName="code-oss",this.dataFolderName=".vscode-oss",this.urlProtocol="code-oss",this.reportIssueUrl="https://github.com/microsoft/vscode/issues/new",this.licenseName="MIT",this.licenseUrl="https://github.com/microsoft/vscode/blob/main/LICENSE.txt",this.serverApplicationName="code-server-oss"}}),(0,u.z)(C.e,class{constructor(){this._provider=new w.c,this.onDidChange=this._provider.onDidChange}addStatus(vt){return this._provider.register(vt.selector,vt)}getLanguageStatus(vt){return this._provider.ordered(vt).sort((Et,Xe)=>{let re=Xe.severity-Et.severity;return 0===re&&(re=(0,E.qu)(Et.source,Xe.source)),0===re&&(re=(0,E.qu)(Et.id,Xe.id)),re})}});const Fe=(0,L.go)(window),Ze=new x.Y(window.document,"visibilitychange"),ze=I.ju.latch(I.ju.any(I.ju.map(Fe.onDidFocus,()=>document.hasFocus()),I.ju.map(Fe.onDidBlur,()=>document.hasFocus()),I.ju.map(Ze.event,()=>document.hasFocus())));(0,u.z)(C.d,class{constructor(){this.onDidChangeFocus=ze,this.openWindow=ce,this.restart=ce,this.reload=ce,this.close=ce}get hasFocus(){return document.hasFocus()}hadLastFocus(){return(0,s.Z)(function*(){return!0})()}focus(){return(0,s.Z)(function*(){window.focus()})()}toggleFullScreen(){return(0,s.Z)(function*(){document.fullscreenEnabled?yield document.body.requestFullscreen():yield document.exitFullscreen()})()}}),(0,u.z)($,class{constructor(){this.startupKind=1,this.phase=2,this.onBeforeShutdown=I.ju.None,this.onShutdownVeto=I.ju.None,this.onBeforeShutdownError=I.ju.None,this.onWillShutdown=I.ju.None,this.onDidShutdown=I.ju.None,this.shutdown=ce}when(){return(0,s.Z)(function*(){})()}}),(0,u.z)(j,class{isEnabledForLanguage(){return!1}detectLanguage(){return(0,s.Z)(function*(){})()}}),(0,u.z)(z,class K{constructor(){this.onDidRegisterExtensions=I.ju.None,this.onDidChangeExtensionsStatus=I.ju.None,this.onDidChangeExtensions=I.ju.None,this.onWillActivateByEvent=I.ju.None,this.onDidChangeResponsiveChange=I.ju.None}activateByEvent(vt){return Promise.resolve(void 0)}activationEventIsDone(vt){return!1}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtensions(){return Promise.resolve([])}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(vt){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPort(vt,Et){return Promise.resolve(0)}getInspectPorts(vt,Et){return Promise.resolve([])}stopExtensionHosts(){}restartExtensionHost(){return(0,s.Z)(function*(){})()}startExtensionHosts(){return(0,s.Z)(function*(){})()}setRemoteEnvironment(vt){return(0,s.Z)(function*(){})()}canAddExtension(){return!1}canRemoveExtension(){return!1}_activateById(vt,Et){return Promise.resolve()}}),(0,u.z)(q,class{constructor(){this.onDidChangeKeyboardLayout=I.ju.None,this.getRawKeyboardMapping=()=>null,this.getCurrentKeyboardLayout=()=>null,this.getAllKeyboardLayouts=()=>[],this.getKeyboardMapper=()=>new Z(A.OS),this.validateCurrentKeyboardMapping=()=>{}}}),(0,u.z)(Ce,class{requiresInitialization(){return(0,s.Z)(function*(){return!1})()}whenInitializationFinished(){return(0,s.Z)(function*(){})()}initializeRequiredResources(){return(0,s.Z)(function*(){})()}initializeInstalledExtensions(){return(0,s.Z)(function*(){})()}initializeOtherResources(){return(0,s.Z)(function*(){})()}}),(0,u.z)(Se,class Ie extends _.JT{constructor(){super(),this._onDidSchemeChangeEvent=this._register(new t.E),this.registerListeners()}registerListeners(){(0,r.addMatchMediaChangeListener)("(prefers-color-scheme: dark)",()=>{this._onDidSchemeChangeEvent.fire()}),(0,r.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onDidSchemeChangeEvent.fire()})}get onDidChangeColorScheme(){return this._onDidSchemeChangeEvent.event}get dark(){return!window.matchMedia("(prefers-color-scheme: light)").matches&&!!window.matchMedia("(prefers-color-scheme: dark)").matches}get highContrast(){return!!window.matchMedia("(forced-colors: active)").matches}}),(0,u.z)(xe,class{constructor(){this.workspaceSettingsResource=null,this.getFolderSettingsResource=ce,this.createPreferencesEditorModel=ce,this.resolveModel=ce,this.createSettings2EditorModel=ce,this.openRawDefaultSettings=ce,this.openSettings=ce,this.openUserSettings=ce,this.openRemoteSettings=ce,this.openWorkspaceSettings=ce,this.openFolderSettings=ce,this.openGlobalKeybindingSettings=ce,this.openDefaultKeybindingsFile=ce,this.getEditableSettingsURI=ce,this.createSplitJsonEditorInput=ce,this.openApplicationSettings=ce,this.openLanguageSpecificSettings=ce}get userSettingsResource(){return ce()}}),(0,u.z)(Me,class{constructor(){this.onDidEncounterLanguage=I.ju.None,this.createGrammar=ce,this.startDebugMode=ce}});const fe={id:"default",isDefault:!0,name:"default",location:v.o.from({scheme:"user",path:"/profile.json"}),get globalStorageHome(){return ce()},settingsResource:v.o.from({scheme:"user",path:"/settings.json"}),keybindingsResource:v.o.from({scheme:"user",path:"/keybindings.json"}),get tasksResource(){return ce()},get snippetsHome(){return v.o.from({scheme:"user",path:"/snippets"})},extensionsResource:void 0};(0,u.z)(C.r,class{constructor(){this.defaultProfile=fe,this.onDidChangeProfiles=I.ju.None,this.profiles=[fe],this.createProfile=ce,this.updateProfile=ce,this.setProfileForWorkspace=ce,this.getProfile=()=>fe,this.removeProfile=ce}get profilesHome(){return ce()}});let Ke=class extends se{constructor(vt){super(fe,vt)}};Ke=(0,t._)([(0,t.a)(0,C.r)],Ke),(0,u.z)(Oe,Ke),(0,u.z)(W,class{constructor(){this.onDidChange=I.ju.None,this.registerPolicyDefinitions=ce,this.getPolicyValue=()=>{},this.serialize=()=>{}}}),(0,u.z)(C.i,class{constructor(){this.getSnippetFiles=ce,this.isEnabled=ce,this.updateEnablement=ce,this.updateUsageTimestamp=ce,this.getSnippets=(0,s.Z)(function*(){return[]}),this.getSnippetsSync=ce}})},8424:(yt,T,e)=>{"use strict";e.d(T,{C:()=>ko,N:()=>Ze,R:()=>bi,u:()=>Fe,v:()=>Ht,w:()=>Kn,x:()=>lt,y:()=>he});var s=e(78450),t=e(28554),l=e(21576),C=e(3219),f=e(14089),I=e(78239),b=e(82941),S=e(41883),D=e(94418),_=e(22070),r=e(84968),a=e(65107),u=e(63896),n=e(25739),d=e(14940),y=e(61669),g=e(64050),v=e(83916),m=e(64455),w=e(54439),E=e(13341),L=e(56740),x=e(63312),A=e(77697),k=e(60828),W=e(56767),H=e(31864),z=e(25468),N=e(38336),O=e(96713),K=e(83310),$=e(42749),j=e(35425),q=e(96245),R=e(16936),Z=e(47888),J=e(5912),Ce=e(23944),Se=e(84834),Ie=e(48460),xe=e(19623),Me=e(52364),Oe=e(57908),se=e(90517),ce=e(62608),Ee=e(53708),me=e(79889);function he(Re){return Re?new Error(`readonly property '${Re} cannot be changed'`):new Error("readonly property cannot be changed")}function Fe(Re){const V=new Error(`${Re} has been disposed`);return V.name="DISPOSED",V}class Ze extends Error{constructor(V){super("NotImplemented"),V&&(this.message=V)}}class ze extends Error{constructor(V){super(V),this.name="ErrorNoTelemetry"}static fromError(V){if(V instanceof ze)return V;const ne=new ze;return ne.message=V.message,ne.stack=V.stack,ne}static isErrorNoTelemetry(V){return"ErrorNoTelemetry"===V.name}}const ye=typeof Buffer<"u";let Ae,ft;class dt{constructor(V){this.buffer=V,this.byteLength=this.buffer.byteLength}static alloc(V){return new dt(ye?Buffer.allocUnsafe(V):new Uint8Array(V))}static wrap(V){return ye&&!Buffer.isBuffer(V)&&(V=Buffer.from(V.buffer,V.byteOffset,V.byteLength)),new dt(V)}static fromString(V,ne){return!ne?.dontUseNodeBuffer&&ye?new dt(Buffer.from(V)):(Ae||(Ae=new TextEncoder),new dt(Ae.encode(V)))}static fromByteArray(V){const ne=dt.alloc(V.length);for(let Ne=0,at=V.length;Ne<at;Ne++)ne.buffer[Ne]=V[Ne];return ne}static concat(V,ne){if(typeof ne>"u"){ne=0;for(let It=0,ln=V.length;It<ln;It++)ne+=V[It].byteLength}const Ne=dt.alloc(ne);let at=0;for(let It=0,ln=V.length;It<ln;It++){const pn=V[It];Ne.set(pn,at),at+=pn.byteLength}return Ne}clone(){const V=dt.alloc(this.byteLength);return V.set(this),V}toString(){return ye?this.buffer.toString():(ft||(ft=new TextDecoder),ft.decode(this.buffer))}slice(V,ne){return new dt(this.buffer.subarray(V,ne))}set(V,ne){if(V instanceof dt)this.buffer.set(V.buffer,ne);else if(V instanceof Uint8Array)this.buffer.set(V,ne);else if(V instanceof ArrayBuffer)this.buffer.set(new Uint8Array(V),ne);else{if(!ArrayBuffer.isView(V))throw new Error("Unknown argument 'array'");this.buffer.set(new Uint8Array(V.buffer,V.byteOffset,V.byteLength),ne)}}readUInt32BE(V){return function it(Re,V){return Re[V]*2**24+65536*Re[V+1]+256*Re[V+2]+Re[V+3]}(this.buffer,V)}writeUInt32BE(V,ne){!function et(Re,V,ne){Re[ne+3]=V,Re[ne+2]=V>>>=8,Re[ne+1]=V>>>=8,Re[ne]=V>>>=8}(this.buffer,V,ne)}readUInt32LE(V){return function st(Re,V){return Re[V+0]<<0>>>0|Re[V+1]<<8>>>0|Re[V+2]<<16>>>0|Re[V+3]<<24>>>0}(this.buffer,V)}writeUInt32LE(V,ne){!function St(Re,V,ne){Re[ne+0]=255&V,Re[ne+1]=255&(V>>>=8),Re[ne+2]=255&(V>>>=8),Re[ne+3]=255&(V>>>=8)}(this.buffer,V,ne)}readUInt8(V){return function mt(Re,V){return Re[V]}(this.buffer,V)}writeUInt8(V,ne){!function bt(Re,V,ne){Re[ne]=V}(this.buffer,V,ne)}}const ie="done",te="active",oe="infinite",we="infinite-long-running",nt="discrete",He={progressBarBackground:r.Il.fromHex("#0E70C0")};let De=(()=>{class Re extends l.JT{constructor(ne,Ne){super(),this.options=Ne||Object.create(null),(0,b.jB)(this.options,He,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new S.pY(()=>(0,D.$Z)(this.element),0)),this.longRunningScheduler=this._register(new S.pY(()=>this.infiniteLongRunning(),Re.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(ne)}create(ne){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),ne.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(te,oe,we,nt),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}done(){return this.doDone(!0)}stop(){return this.doDone(!1)}doDone(ne){return this.element.classList.add(ie),this.element.classList.contains(oe)?(this.bit.style.opacity="0",ne?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",ne?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(nt,ie,we),this.element.classList.add(te,oe),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(we)}total(ne){return this.workedVal=0,this.totalWork=ne,this.element.setAttribute("aria-valuemax",ne.toString()),this}hasTotal(){return(0,_.hj)(this.totalWork)}worked(ne){return ne=Math.max(1,Number(ne)),this.doSetWorked(this.workedVal+ne)}setWorked(ne){return ne=Math.max(1,Number(ne)),this.doSetWorked(ne)}doSetWorked(ne){const Ne=this.totalWork||100;return this.workedVal=ne,this.workedVal=Math.min(Ne,this.workedVal),this.element.classList.remove(oe,we,ie),this.element.classList.add(te,nt),this.element.setAttribute("aria-valuenow",ne.toString()),this.bit.style.width=this.workedVal/Ne*100+"%",this}getContainer(){return this.element}show(ne){this.showDelayedScheduler.cancel(),"number"==typeof ne?this.showDelayedScheduler.schedule(ne):(0,D.$Z)(this.element)}hide(){(0,D.Cp)(this.element),this.showDelayedScheduler.cancel()}style(ne){this.progressBarBackground=ne.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const ne=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=ne}}}return Re.LONG_RUNNING_INFINITE_THRESHOLD=1e4,Re})();function lt(Re,V,ne){const Ne=function pt(Re,V,ne){const Ne=[];function at(pn,Sn,Vn){if(0===Sn&&0===Vn.length)return;const gi=Ne[Ne.length-1];gi&&gi.start+gi.deleteCount===pn?(gi.deleteCount+=Sn,gi.toInsert.push(...Vn)):Ne.push({start:pn,deleteCount:Sn,toInsert:Vn})}let It=0,ln=0;for(;;){if(It===Re.length){at(It,0,V.slice(ln));break}if(ln===V.length){at(It,Re.length-It,[]);break}const Sn=V[ln],Vn=ne(Re[It],Sn);0===Vn?(It+=1,ln+=1):Vn<0?(at(It,1,[]),It+=1):Vn>0&&(at(It,0,[Sn]),ln+=1)}return Ne}(Re,V,ne),at=[],It=[];for(const ln of Ne)at.push(...Re.slice(ln.start,ln.start+ln.deleteCount)),It.push(...ln.toInsert);return{removed:at,added:It}}function Ht(Re){let V=0;for(let ne=0;ne<Re.length;ne++)Re[ne]&&(Re[V]=Re[ne],V+=1);Re.length=V}function an(Re,V){let ne;if("number"==typeof V){let Ne=V;ne=()=>{const at=179426549*Math.sin(Ne++);return at-Math.floor(at)}}else ne=Math.random;for(let Ne=Re.length-1;Ne>0;Ne-=1){const at=Math.floor(ne()*(Ne+1)),It=Re[Ne];Re[Ne]=Re[at],Re[at]=It}}function Kn(Re,V){return Array.isArray(Re)?Re.map(V):V(Re)}let Gn=(()=>{class Re extends l.JT{constructor(ne=!1){super(),this._onDidEncounterLanguage=this._register(new u.E),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new u.E({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,Re.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new n.t(!0,ne)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Re.instanceCount--,super.dispose()}registerLanguage(ne){return this._registry.registerLanguage(ne)}isRegisteredLanguageId(ne){return this._registry.isRegisteredLanguageId(ne)}getRegisteredLanguageIds(){return this._registry.getRegisteredLanguageIds()}getSortedRegisteredLanguageNames(){return this._registry.getSortedRegisteredLanguageNames()}getLanguageName(ne){return this._registry.getLanguageName(ne)}getMimeType(ne){return this._registry.getMimeType(ne)}getIcon(ne){return this._registry.getIcon(ne)}getExtensions(ne){return this._registry.getExtensions(ne)}getFilenames(ne){return this._registry.getFilenames(ne)}getConfigurationFiles(ne){return this._registry.getConfigurationFiles(ne)}getLanguageIdByLanguageName(ne){return this._registry.getLanguageIdByLanguageName(ne)}getLanguageIdByMimeType(ne){return this._registry.getLanguageIdByMimeType(ne)}guessLanguageIdByFilepathOrFirstLine(ne,Ne){const at=this._registry.guessLanguageIdByFilepathOrFirstLine(ne,Ne);return(0,d.Xh)(at,null)}createById(ne){return new li(this.onDidChange,()=>this._createAndGetLanguageIdentifier(ne))}createByMimeType(ne){return new li(this.onDidChange,()=>{const Ne=this.getLanguageIdByMimeType(ne);return this._createAndGetLanguageIdentifier(Ne)})}createByFilepathOrFirstLine(ne,Ne){return new li(this.onDidChange,()=>{const at=this.guessLanguageIdByFilepathOrFirstLine(ne,Ne);return this._createAndGetLanguageIdentifier(at)})}_createAndGetLanguageIdentifier(ne){return(!ne||!this.isRegisteredLanguageId(ne))&&(ne=y.bd),this._encounteredLanguages.has(ne)||(this._encounteredLanguages.add(ne),g.RW.getOrCreate(ne),this._onDidEncounterLanguage.fire(ne)),ne}}return Re.instanceCount=0,Re})();class li{constructor(V,ne){this._onDidChangeLanguages=V,this._selector=ne,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new u.E({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const V=this._selector();V!==this.languageId&&(this.languageId=V,this._emitter?.fire(this.languageId))}}var en,wt;class Dt{constructor(){this._value="",this._pos=0}reset(V){return this._value=V,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(V){return V.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class $t{constructor(V=!0){this._caseSensitive=V}reset(V){return this._value=V,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let V=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!V)break;this._from++}else V=!1;return this}cmp(V){return this._caseSensitive?(0,A.TT)(V,this._value,0,V.length,this._from,this._to):(0,A.j_)(V,this._value,0,V.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class tn{constructor(V=!0,ne=!0){this._splitOnBackslash=V,this._caseSensitive=ne}reset(V){this._from=0,this._to=0,this._value=V,this._valueLen=V.length;for(let ne=V.length-1;ne>=0;ne--,this._valueLen--){const Ne=this._value.charCodeAt(ne);if(!(47===Ne||this._splitOnBackslash&&92===Ne))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let V=!0;for(;this._to<this._valueLen;this._to++){const ne=this._value.charCodeAt(this._to);if(47===ne||this._splitOnBackslash&&92===ne){if(!V)break;this._from++}else V=!1}return this}cmp(V){return this._caseSensitive?(0,A.TT)(V,this._value,0,V.length,this._from,this._to):(0,A.j_)(V,this._value,0,V.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class cn{constructor(V,ne){this._ignorePathCasing=V,this._ignoreQueryAndFragment=ne,this._states=[],this._stateIdx=0}reset(V){return this._value=V,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new tn(!1,!this._ignorePathCasing(V)),this._pathIterator.reset(V.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(V)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(V){if(1===this._states[this._stateIdx])return(0,A.zY)(V,this._value.scheme);if(2===this._states[this._stateIdx])return(0,A.zY)(V,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(V);if(4===this._states[this._stateIdx])return(0,A.qu)(V,this._value.query);if(5===this._states[this._stateIdx])return(0,A.qu)(V,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class Cn{constructor(){this.height=1}isEmpty(){return!(this.left||this.mid||this.right||this.value)}rotateLeft(){const V=this.right;return this.right=V.left,V.left=this,this.updateHeight(),V.updateHeight(),V}rotateRight(){const V=this.left;return this.left=V.right,V.right=this,this.updateHeight(),V.updateHeight(),V}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}class Pn{constructor(V){this._iter=V}static forUris(V=(()=>!1),ne=(()=>!1)){return new Pn(new cn(V,ne))}static forPaths(V=!1){return new Pn(new tn(void 0,!V))}static forStrings(){return new Pn(new Dt)}static forConfigKeys(){return new Pn(new $t)}clear(){this._root=void 0}fill(V,ne){if(ne){const Ne=ne.slice(0);an(Ne);for(const at of Ne)this.set(at,V)}else{const Ne=V.slice(0);an(Ne);for(const at of Ne)this.set(at[0],at[1])}}set(V,ne){const Ne=this._iter.reset(V);let at;this._root||(this._root=new Cn,this._root.segment=Ne.value());const It=[];for(at=this._root;;){const pn=Ne.cmp(at.segment);if(pn>0)at.left||(at.left=new Cn,at.left.segment=Ne.value()),It.push([-1,at]),at=at.left;else if(pn<0)at.right||(at.right=new Cn,at.right.segment=Ne.value()),It.push([1,at]),at=at.right;else{if(!Ne.hasNext())break;Ne.next(),at.mid||(at.mid=new Cn,at.mid.segment=Ne.value()),It.push([0,at]),at=at.mid}}const ln=at.value;at.value=ne,at.key=V;for(let pn=It.length-1;pn>=0;pn--){const Sn=It[pn][1];Sn.updateHeight();const Vn=Sn.balanceFactor();if(Vn<-1||Vn>1){const gi=It[pn][0],Di=It[pn+1][0];if(1===gi&&1===Di)It[pn][1]=Sn.rotateLeft();else if(-1===gi&&-1===Di)It[pn][1]=Sn.rotateRight();else if(1===gi&&-1===Di)Sn.right=It[pn+1][1]=It[pn+1][1].rotateRight(),It[pn][1]=Sn.rotateLeft();else{if(-1!==gi||1!==Di)throw new Error;Sn.left=It[pn+1][1]=It[pn+1][1].rotateLeft(),It[pn][1]=Sn.rotateRight()}if(pn>0)switch(It[pn-1][0]){case-1:It[pn-1][1].left=It[pn][1];break;case 1:It[pn-1][1].right=It[pn][1];break;case 0:It[pn-1][1].mid=It[pn][1]}else this._root=It[0][1]}}return ln}get(V){return this._getNode(V)?.value}_getNode(V){const ne=this._iter.reset(V);let Ne=this._root;for(;Ne;){const at=ne.cmp(Ne.segment);if(at>0)Ne=Ne.left;else if(at<0)Ne=Ne.right;else{if(!ne.hasNext())break;ne.next(),Ne=Ne.mid}}return Ne}has(V){const ne=this._getNode(V);return!(void 0===ne?.value&&void 0===ne?.mid)}delete(V){return this._delete(V,!1)}deleteSuperstr(V){return this._delete(V,!0)}_delete(V,ne){const Ne=this._iter.reset(V),at=[];let It=this._root;for(;It;){const ln=Ne.cmp(It.segment);if(ln>0)at.push([-1,It]),It=It.left;else if(ln<0)at.push([1,It]),It=It.right;else{if(!Ne.hasNext())break;Ne.next(),at.push([0,It]),It=It.mid}}if(It){if(ne?(It.left=void 0,It.mid=void 0,It.right=void 0,It.height=1):(It.key=void 0,It.value=void 0),!It.mid&&!It.value)if(It.left&&It.right){const ln=this._min(It.right),{key:pn,value:Sn,segment:Vn}=ln;this._delete(ln.key,!1),It.key=pn,It.value=Sn,It.segment=Vn}else{const ln=It.left??It.right;if(at.length>0){const[pn,Sn]=at[at.length-1];switch(pn){case-1:Sn.left=ln;break;case 0:Sn.mid=ln;break;case 1:Sn.right=ln}}else this._root=ln}for(let ln=at.length-1;ln>=0;ln--){const pn=at[ln][1];pn.updateHeight();const Sn=pn.balanceFactor();if(Sn>1?(pn.right.balanceFactor()>=0||(pn.right=pn.right.rotateRight()),at[ln][1]=pn.rotateLeft()):Sn<-1&&(pn.left.balanceFactor()<=0||(pn.left=pn.left.rotateLeft()),at[ln][1]=pn.rotateRight()),ln>0)switch(at[ln-1][0]){case-1:at[ln-1][1].left=at[ln][1];break;case 1:at[ln-1][1].right=at[ln][1];break;case 0:at[ln-1][1].mid=at[ln][1]}else this._root=at[0][1]}}}_min(V){for(;V.left;)V=V.left;return V}findSubstr(V){const ne=this._iter.reset(V);let at,Ne=this._root;for(;Ne;){const It=ne.cmp(Ne.segment);if(It>0)Ne=Ne.left;else if(It<0)Ne=Ne.right;else{if(!ne.hasNext())break;ne.next(),at=Ne.value||at,Ne=Ne.mid}}return Ne&&Ne.value||at}findSuperstr(V){const ne=this._iter.reset(V);let Ne=this._root;for(;Ne;){const at=ne.cmp(Ne.segment);if(at>0)Ne=Ne.left;else if(at<0)Ne=Ne.right;else{if(!ne.hasNext())return Ne.mid?this._entries(Ne.mid):void 0;ne.next(),Ne=Ne.mid}}}forEach(V){for(const[ne,Ne]of this)V(Ne,ne)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(V){const ne=[];return this._dfsEntries(V,ne),ne[Symbol.iterator]()}_dfsEntries(V,ne){V&&(V.left&&this._dfsEntries(V.left,ne),V.value&&ne.push([V.key,V.value]),V.mid&&this._dfsEntries(V.mid,ne),V.right&&this._dfsEntries(V.right,ne))}_isBalanced(){const V=ne=>{if(!ne)return!0;const Ne=ne.balanceFactor();return!(Ne<-1||Ne>1)&&V(ne.left)&&V(ne.right)};return V(this._root)}}class Hn{constructor(V,ne){this.uri=V,this.value=ne}}let zn=(()=>{class Re{constructor(ne,Ne){this[en]="ResourceMap",ne instanceof Re?(this.map=new Map(ne.map),this.toKey=Ne??Re.defaultToKey):(this.map=new Map,this.toKey=ne??Re.defaultToKey)}set(ne,Ne){return this.map.set(this.toKey(ne),new Hn(ne,Ne)),this}get(ne){return this.map.get(this.toKey(ne))?.value}has(ne){return this.map.has(this.toKey(ne))}get size(){return this.map.size}clear(){this.map.clear()}delete(ne){return this.map.delete(this.toKey(ne))}forEach(ne,Ne){typeof Ne<"u"&&(ne=ne.bind(Ne));for(const[at,It]of this.map)ne(It.value,It.uri,this)}*values(){for(const ne of this.map.values())yield ne.value}*keys(){for(const ne of this.map.values())yield ne.uri}*entries(){for(const ne of this.map.values())yield[ne.uri,ne.value]}*[(en=Symbol.toStringTag,Symbol.iterator)](){for(const[,ne]of this.map)yield[ne.uri,ne.value]}}return Re.defaultToKey=V=>V.toString(),Re})();class bi{constructor(V,ne){this[wt]="ResourceSet",V&&"function"!=typeof V?(this._map=new zn(ne),V.forEach(this.add,this)):this._map=new zn(V)}get size(){return this._map.size}add(V){return this._map.set(V,V),this}clear(){this._map.clear()}delete(V){return this._map.delete(V)}forEach(V,ne){this._map.forEach((Ne,at)=>V.call(ne,at,at,this))}has(V){return this._map.has(V)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(wt=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}class Ei{constructor(V={},ne=[],Ne=[]){this._contents=V,this._keys=ne,this._overrides=Ne,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}isFrozen(){return this.frozen}getValue(V){return V?(0,W.Mt)(this.contents,V):this.contents}getOverrideValue(V,ne){const Ne=this.getContentsForOverrideIdentifer(ne);return Ne?V?(0,W.Mt)(Ne,V):Ne:void 0}getKeysForOverrideIdentifier(V){const ne=[];for(const Ne of this.overrides)Ne.identifiers.includes(V)&&ne.push(...Ne.keys);return(0,d.EB)(ne)}getAllOverrideIdentifiers(){const V=[];for(const ne of this.overrides)V.push(...ne.identifiers);return(0,d.EB)(V)}override(V){let ne=this.overrideConfigurations.get(V);return ne||(ne=this.createOverrideConfigurationModel(V),this.overrideConfigurations.set(V,ne)),ne}merge(...V){const ne=(0,b.I8)(this.contents),Ne=(0,b.I8)(this.overrides),at=[...this.keys];for(const It of V)if(!It.isEmpty()){this.mergeContents(ne,It.contents);for(const ln of It.overrides){const[pn]=Ne.filter(Sn=>(0,d.fS)(Sn.identifiers,ln.identifiers));pn?(this.mergeContents(pn.contents,ln.contents),pn.keys.push(...ln.keys),pn.keys=(0,d.EB)(pn.keys)):Ne.push((0,b.I8)(ln))}for(const ln of It.keys)-1===at.indexOf(ln)&&at.push(ln)}return new Ei(ne,at,Ne)}freeze(){return this.frozen=!0,this}clone(){return new Ei((0,b.I8)(this.contents),[...this.keys],(0,b.I8)(this.overrides))}createOverrideConfigurationModel(V){const ne=this.getContentsForOverrideIdentifer(V);if(!ne||"object"!=typeof ne||!Object.keys(ne).length)return this;const Ne={};for(const at of(0,d.EB)([...Object.keys(this.contents),...Object.keys(ne)])){let It=this.contents[at];const ln=ne[at];ln&&("object"==typeof It&&"object"==typeof ln?(It=(0,b.I8)(It),this.mergeContents(It,ln)):It=ln),Ne[at]=It}return new Ei(Ne,this.keys,this.overrides)}mergeContents(V,ne){for(const Ne of Object.keys(ne))Ne in V&&(0,_.Kn)(V[Ne])&&(0,_.Kn)(ne[Ne])?this.mergeContents(V[Ne],ne[Ne]):V[Ne]=(0,b.I8)(ne[Ne])}checkAndFreeze(V){return this.frozen&&!Object.isFrozen(V)?(0,b._A)(V):V}getContentsForOverrideIdentifer(V){let ne=null,Ne=null;const at=It=>{It&&(Ne?this.mergeContents(Ne,It):Ne=(0,b.I8)(It))};for(const It of this.overrides)(0,d.fS)(It.identifiers,[V])?ne=It.contents:It.identifiers.includes(V)&&at(It.contents);return at(ne),Ne}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(V,ne){this.addKey(V),(0,W.KV)(this.contents,V,ne,Ne=>{throw new Error(Ne)})}removeValue(V){this.removeKey(V)&&(0,W.xL)(this.contents,V)}addKey(V){let ne=this.keys.length;for(let Ne=0;Ne<ne;Ne++)0===V.indexOf(this.keys[Ne])&&(ne=Ne);this.keys.splice(ne,1,V)}removeKey(V){const ne=this.keys.indexOf(V);return-1!==ne&&(this.keys.splice(ne,1),!0)}}class Qi{constructor(V,ne,Ne,at,It=new Ei,ln=new Ei,pn=new x.Y9,Sn=new Ei,Vn=new x.Y9,gi=!0){this._defaultConfiguration=V,this._policyConfiguration=ne,this._applicationConfiguration=Ne,this._localUserConfiguration=at,this._remoteUserConfiguration=It,this._workspaceConfiguration=ln,this._folderConfigurations=pn,this._memoryConfiguration=Sn,this._memoryConfigurationByResource=Vn,this._freeze=gi,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new x.Y9,this._userConfiguration=null}getValue(V,ne,Ne){return this.getConsolidatedConfigurationModel(V,ne,Ne).getValue(V)}updateValue(V,ne,Ne={}){let at;Ne.resource?(at=this._memoryConfigurationByResource.get(Ne.resource),at||(at=new Ei,this._memoryConfigurationByResource.set(Ne.resource,at))):at=this._memoryConfiguration,void 0===ne?at.removeValue(V):at.setValue(V,ne),Ne.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(V,ne,Ne){const at=this.getConsolidatedConfigurationModel(V,ne,Ne),It=this.getFolderConfigurationModelForResource(ne.resource,Ne),ln=ne.resource&&this._memoryConfigurationByResource.get(ne.resource)||this._memoryConfiguration,pn=ne.overrideIdentifier?this._defaultConfiguration.freeze().override(ne.overrideIdentifier).getValue(V):this._defaultConfiguration.freeze().getValue(V),Sn=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(V),Vn=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(V),gi=ne.overrideIdentifier?this.userConfiguration.freeze().override(ne.overrideIdentifier).getValue(V):this.userConfiguration.freeze().getValue(V),Di=ne.overrideIdentifier?this.localUserConfiguration.freeze().override(ne.overrideIdentifier).getValue(V):this.localUserConfiguration.freeze().getValue(V),Ai=ne.overrideIdentifier?this.remoteUserConfiguration.freeze().override(ne.overrideIdentifier).getValue(V):this.remoteUserConfiguration.freeze().getValue(V),ui=Ne?ne.overrideIdentifier?this._workspaceConfiguration.freeze().override(ne.overrideIdentifier).getValue(V):this._workspaceConfiguration.freeze().getValue(V):void 0,lo=It?ne.overrideIdentifier?It.freeze().override(ne.overrideIdentifier).getValue(V):It.freeze().getValue(V):void 0,Hi=ne.overrideIdentifier?ln.override(ne.overrideIdentifier).getValue(V):ln.getValue(V),Fo=at.getValue(V),fo=(0,d.EB)(at.overrides.map(bo=>bo.identifiers).flat()).filter(bo=>void 0!==at.getOverrideValue(V,bo));return{defaultValue:pn,policyValue:Sn,applicationValue:Vn,userValue:gi,userLocalValue:Di,userRemoteValue:Ai,workspaceValue:ui,workspaceFolderValue:lo,memoryValue:Hi,value:Fo,default:void 0!==pn?{value:this._defaultConfiguration.freeze().getValue(V),override:ne.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,policy:void 0!==Sn?{value:Sn}:void 0,application:void 0!==Vn?{value:Vn,override:ne.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,user:void 0!==gi?{value:this.userConfiguration.freeze().getValue(V),override:ne.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,userLocal:void 0!==Di?{value:this.localUserConfiguration.freeze().getValue(V),override:ne.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,userRemote:void 0!==Ai?{value:this.remoteUserConfiguration.freeze().getValue(V),override:ne.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,workspace:void 0!==ui?{value:this._workspaceConfiguration.freeze().getValue(V),override:ne.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==lo?{value:It?.freeze().getValue(V),override:ne.overrideIdentifier?It?.freeze().getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,memory:void 0!==Hi?{value:ln.getValue(V),override:ne.overrideIdentifier?ln.getOverrideValue(V,ne.overrideIdentifier):void 0}:void 0,overrideIdentifiers:fo.length?fo:void 0}}keys(V){const ne=this.getFolderConfigurationModelForResource(void 0,V);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:ne?ne.freeze().keys:[]}}updateDefaultConfiguration(V){this._defaultConfiguration=V,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updatePolicyConfiguration(V){this._policyConfiguration=V}updateApplicationConfiguration(V){this._applicationConfiguration=V,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(V){this._localUserConfiguration=V,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(V){this._remoteUserConfiguration=V,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(V){this._workspaceConfiguration=V,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(V,ne){this._folderConfigurations.set(V,ne),this._foldersConsolidatedConfigurations.delete(V)}deleteFolderConfiguration(V){this.folderConfigurations.delete(V),this._foldersConsolidatedConfigurations.delete(V)}compareAndUpdateDefaultConfiguration(V,ne){const Ne=[];if(!ne){const{added:at,updated:It,removed:ln}=Wi(this._defaultConfiguration,V);ne=[...at,...It,...ln]}for(const at of ne)for(const It of(0,k.ny)(at)){const ln=this._defaultConfiguration.getKeysForOverrideIdentifier(It),pn=V.getKeysForOverrideIdentifier(It),Sn=[...pn.filter(Vn=>-1===ln.indexOf(Vn)),...ln.filter(Vn=>-1===pn.indexOf(Vn)),...ln.filter(Vn=>!(0,b.fS)(this._defaultConfiguration.override(It).getValue(Vn),V.override(It).getValue(Vn)))];Ne.push([It,Sn])}return this.updateDefaultConfiguration(V),{keys:ne,overrides:Ne}}compareAndUpdatePolicyConfiguration(V){const{added:ne,updated:Ne,removed:at}=Wi(this._policyConfiguration,V),It=[...ne,...Ne,...at];return It.length&&this.updatePolicyConfiguration(V),{keys:It,overrides:[]}}compareAndUpdateApplicationConfiguration(V){const{added:ne,updated:Ne,removed:at,overrides:It}=Wi(this.applicationConfiguration,V),ln=[...ne,...Ne,...at];return ln.length&&this.updateApplicationConfiguration(V),{keys:ln,overrides:It}}compareAndUpdateLocalUserConfiguration(V){const{added:ne,updated:Ne,removed:at,overrides:It}=Wi(this.localUserConfiguration,V),ln=[...ne,...Ne,...at];return ln.length&&this.updateLocalUserConfiguration(V),{keys:ln,overrides:It}}compareAndUpdateRemoteUserConfiguration(V){const{added:ne,updated:Ne,removed:at,overrides:It}=Wi(this.remoteUserConfiguration,V),ln=[...ne,...Ne,...at];return ln.length&&this.updateRemoteUserConfiguration(V),{keys:ln,overrides:It}}compareAndUpdateWorkspaceConfiguration(V){const{added:ne,updated:Ne,removed:at,overrides:It}=Wi(this.workspaceConfiguration,V),ln=[...ne,...Ne,...at];return ln.length&&this.updateWorkspaceConfiguration(V),{keys:ln,overrides:It}}compareAndUpdateFolderConfiguration(V,ne){const Ne=this.folderConfigurations.get(V),{added:at,updated:It,removed:ln,overrides:pn}=Wi(Ne,ne),Sn=[...at,...It,...ln];return(Sn.length||!Ne)&&this.updateFolderConfiguration(V,ne),{keys:Sn,overrides:pn}}compareAndDeleteFolderConfiguration(V){const ne=this.folderConfigurations.get(V);if(!ne)throw new Error("Unknown folder");this.deleteFolderConfiguration(V);const{added:Ne,updated:at,removed:It,overrides:ln}=Wi(ne,void 0);return{keys:[...Ne,...at,...It],overrides:ln}}get defaults(){return this._defaultConfiguration}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidatedConfigurationModel(V,ne,Ne){let at=this.getConsolidatedConfigurationModelForResource(ne,Ne);return ne.overrideIdentifier&&(at=at.override(ne.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(V)&&(at=at.merge(this._policyConfiguration)),at}getConsolidatedConfigurationModelForResource({resource:V},ne){let Ne=this.getWorkspaceConsolidatedConfiguration();if(ne&&V){const at=ne.getFolder(V);at&&(Ne=this.getFolderConsolidatedConfiguration(at.uri)||Ne);const It=this._memoryConfigurationByResource.get(V);It&&(Ne=Ne.merge(It))}return Ne}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(V){let ne=this._foldersConsolidatedConfigurations.get(V);if(!ne){const Ne=this.getWorkspaceConsolidatedConfiguration(),at=this._folderConfigurations.get(V);at?(ne=Ne.merge(at),this._freeze&&(ne=ne.freeze()),this._foldersConsolidatedConfigurations.set(V,ne)):ne=Ne}return ne}getFolderConfigurationModelForResource(V,ne){if(ne&&V){const Ne=ne.getFolder(V);if(Ne)return this._folderConfigurations.get(Ne.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((V,ne)=>{const{contents:Ne,overrides:at,keys:It}=this._folderConfigurations.get(ne);return V.push([ne,{contents:Ne,overrides:at,keys:It}]),V},[])}}allKeys(){const V=new Set;return this._defaultConfiguration.freeze().keys.forEach(ne=>V.add(ne)),this.userConfiguration.freeze().keys.forEach(ne=>V.add(ne)),this._workspaceConfiguration.freeze().keys.forEach(ne=>V.add(ne)),this._folderConfigurations.forEach(ne=>ne.freeze().keys.forEach(Ne=>V.add(Ne))),[...V.values()]}allOverrideIdentifiers(){const V=new Set;return this._defaultConfiguration.freeze().getAllOverrideIdentifiers().forEach(ne=>V.add(ne)),this.userConfiguration.freeze().getAllOverrideIdentifiers().forEach(ne=>V.add(ne)),this._workspaceConfiguration.freeze().getAllOverrideIdentifiers().forEach(ne=>V.add(ne)),this._folderConfigurations.forEach(ne=>ne.freeze().getAllOverrideIdentifiers().forEach(Ne=>V.add(Ne))),[...V.values()]}getAllKeysForOverrideIdentifier(V){const ne=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(V).forEach(Ne=>ne.add(Ne)),this.userConfiguration.getKeysForOverrideIdentifier(V).forEach(Ne=>ne.add(Ne)),this._workspaceConfiguration.getKeysForOverrideIdentifier(V).forEach(Ne=>ne.add(Ne)),this._folderConfigurations.forEach(Ne=>Ne.getKeysForOverrideIdentifier(V).forEach(at=>ne.add(at))),[...ne.values()]}static parse(V){const ne=this.parseConfigurationModel(V.defaults),Ne=this.parseConfigurationModel(V.policy),at=this.parseConfigurationModel(V.application),It=this.parseConfigurationModel(V.user),ln=this.parseConfigurationModel(V.workspace),pn=V.folders.reduce((Sn,Vn)=>(Sn.set(L.o.revive(Vn[0]),this.parseConfigurationModel(Vn[1])),Sn),new x.Y9);return new Qi(ne,Ne,at,It,new Ei,ln,pn,new Ei,new x.Y9,!1)}static parseConfigurationModel(V){return new Ei(V.contents,V.keys,V.overrides).freeze()}}function Wi(Re,V){const{added:ne,removed:Ne,updated:at}=xo(V,Re),It=[],ln=Re?.getAllOverrideIdentifiers()||[],pn=V?.getAllOverrideIdentifiers()||[];if(V){const Sn=pn.filter(Vn=>!ln.includes(Vn));for(const Vn of Sn)It.push([Vn,V.getKeysForOverrideIdentifier(Vn)])}if(Re){const Sn=ln.filter(Vn=>!pn.includes(Vn));for(const Vn of Sn)It.push([Vn,Re.getKeysForOverrideIdentifier(Vn)])}if(V&&Re)for(const Sn of ln)if(pn.includes(Sn)){const Vn=xo({contents:Re.getOverrideValue(void 0,Sn)||{},keys:Re.getKeysForOverrideIdentifier(Sn)},{contents:V.getOverrideValue(void 0,Sn)||{},keys:V.getKeysForOverrideIdentifier(Sn)});It.push([Sn,[...Vn.added,...Vn.removed,...Vn.updated]])}return{added:ne,removed:Ne,updated:at,overrides:It}}function xo(Re,V){const ne=Re?V?Re.keys.filter(It=>-1===V.keys.indexOf(It)):[...Re.keys]:[],Ne=V?Re?V.keys.filter(It=>-1===Re.keys.indexOf(It)):[...V.keys]:[],at=[];if(Re&&V)for(const It of V.keys)if(-1!==Re.keys.indexOf(It)){const ln=(0,W.Mt)(V.contents,It),pn=(0,W.Mt)(Re.contents,It);(0,b.fS)(ln,pn)||at.push(It)}return{added:ne,removed:Ne,updated:at}}function ro(){return(new Date).toISOString()}var Co=(()=>((Co=Co||{})[Co.Trace=0]="Trace",Co[Co.Debug=1]="Debug",Co[Co.Info=2]="Info",Co[Co.Warning=3]="Warning",Co[Co.Error=4]="Error",Co[Co.Critical=5]="Critical",Co[Co.Off=6]="Off",Co))();const Mo=Co.Info;class Oo extends l.JT{constructor(){super(...arguments),this.level=Mo,this._onDidChangeLogLevel=this._register(new u.E),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(V){this.level!==V&&(this.level=V,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class ko extends Oo{constructor(V=Mo){super(),this.setLevel(V),this.useColors=!Se.ED}trace(V,...ne){this.getLevel()<=Co.Trace&&(this.useColors?console.log(`\x1b[90m[main ${ro()}]\x1b[0m`,V,...ne):console.log(`[main ${ro()}]`,V,...ne))}debug(V,...ne){this.getLevel()<=Co.Debug&&(this.useColors?console.log(`\x1b[90m[main ${ro()}]\x1b[0m`,V,...ne):console.log(`[main ${ro()}]`,V,...ne))}info(V,...ne){this.getLevel()<=Co.Info&&(this.useColors?console.log(`\x1b[90m[main ${ro()}]\x1b[0m`,V,...ne):console.log(`[main ${ro()}]`,V,...ne))}warn(V,...ne){this.getLevel()<=Co.Warning&&(this.useColors?console.warn(`\x1b[93m[main ${ro()}]\x1b[0m`,V,...ne):console.warn(`[main ${ro()}]`,V,...ne))}error(V,...ne){this.getLevel()<=Co.Error&&(this.useColors?console.error(`\x1b[91m[main ${ro()}]\x1b[0m`,V,...ne):console.error(`[main ${ro()}]`,V,...ne))}critical(V,...ne){this.getLevel()<=Co.Critical&&(this.useColors?console.error(`\x1b[90m[main ${ro()}]\x1b[0m`,V,...ne):console.error(`[main ${ro()}]`,V,...ne))}dispose(){}flush(){}}function Do(Re){return Re&&"object"==typeof Re&&(!Re.overrideIdentifier||"string"==typeof Re.overrideIdentifier)&&(!Re.resource||Re.resource instanceof L.o)}const ni=Object.prototype.hasOwnProperty,Zt="vs.editor.nullLanguage";class sn{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Zt,0),this._register(y.bd,1),this._nextLanguageId=2}_register(V,ne){this._languageIdToLanguage[ne]=V,this._languageToLanguageId.set(V,ne)}register(V){if(this._languageToLanguageId.has(V))return;const ne=this._nextLanguageId++;this._register(V,ne)}encodeLanguageId(V){return this._languageToLanguageId.get(V)||0}decodeLanguageId(V){return this._languageIdToLanguage[V]||Zt}}let dn=(()=>{class Re extends l.JT{constructor(ne=!0,Ne=!1){super(),this._onDidChange=this._register(new u.E),this.onDidChange=this._onDidChange.event,Re.instanceCount++,this._warnOnOverwrite=Ne,this.languageIdCodec=new sn,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},ne&&(this._initializeFromRegistry(),this._register(y.dQ.onDidChangeLanguages(at=>{this._initializeFromRegistry()})))}dispose(){Re.instanceCount--,super.dispose()}setDynamicLanguages(ne){this._dynamicLanguages=ne,this._initializeFromRegistry()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,O.UU)();const ne=[].concat(y.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(ne)}registerLanguage(ne){return y.dQ.registerLanguage(ne)}_registerLanguages(ne){for(const Ne of ne)this._registerLanguage(Ne);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(Ne=>{const at=this._languages[Ne];at.name&&(this._nameMap[at.name]=at.identifier),at.aliases.forEach(It=>{this._lowercaseNameMap[It.toLowerCase()]=at.identifier}),at.mimetypes.forEach(It=>{this._mimeTypesMap[It]=at.identifier})}),z.B.as(k.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(ne){const Ne=ne.id;let at;ni.call(this._languages,Ne)?at=this._languages[Ne]:(this.languageIdCodec.register(Ne),at={identifier:Ne,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[Ne]=at),this._mergeLanguage(at,ne)}_mergeLanguage(ne,Ne){const at=Ne.id;let It=null;if(Array.isArray(Ne.mimetypes)&&Ne.mimetypes.length>0&&(ne.mimetypes.push(...Ne.mimetypes),It=Ne.mimetypes[0]),It||(It=`text/x-${at}`,ne.mimetypes.push(It)),Array.isArray(Ne.extensions)){ne.extensions=Ne.configuration?Ne.extensions.concat(ne.extensions):ne.extensions.concat(Ne.extensions);for(const Sn of Ne.extensions)(0,O.Jw)({id:at,mime:It,extension:Sn},this._warnOnOverwrite)}if(Array.isArray(Ne.filenames))for(const Sn of Ne.filenames)(0,O.Jw)({id:at,mime:It,filename:Sn},this._warnOnOverwrite),ne.filenames.push(Sn);if(Array.isArray(Ne.filenamePatterns))for(const Sn of Ne.filenamePatterns)(0,O.Jw)({id:at,mime:It,filepattern:Sn},this._warnOnOverwrite);if("string"==typeof Ne.firstLine&&Ne.firstLine.length>0){let Sn=Ne.firstLine;"^"!==Sn.charAt(0)&&(Sn="^"+Sn);try{const Vn=new RegExp(Sn);(0,A.IO)(Vn)||(0,O.Jw)({id:at,mime:It,firstline:Vn},this._warnOnOverwrite)}catch(Vn){(0,C.dL)(Vn)}}ne.aliases.push(at);let ln=null;if(typeof Ne.aliases<"u"&&Array.isArray(Ne.aliases)&&(ln=0===Ne.aliases.length?[null]:Ne.aliases),null!==ln)for(const Sn of ln)!Sn||0===Sn.length||ne.aliases.push(Sn);const pn=null!==ln&&ln.length>0;pn&&null===ln[0]||(pn||!ne.name)&&(ne.name=(pn?ln[0]:null)||at),Ne.configuration&&ne.configurationFiles.push(Ne.configuration),Ne.icon&&ne.icons.push(Ne.icon)}isRegisteredLanguageId(ne){return!!ne&&ni.call(this._languages,ne)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getSortedRegisteredLanguageNames(){const ne=[];for(const Ne in this._nameMap)ni.call(this._nameMap,Ne)&&ne.push({languageName:Ne,languageId:this._nameMap[Ne]});return ne.sort((Ne,at)=>(0,A.zY)(Ne.languageName,at.languageName)),ne}getLanguageName(ne){return ni.call(this._languages,ne)?this._languages[ne].name:null}getMimeType(ne){return ni.call(this._languages,ne)&&this._languages[ne].mimetypes[0]||null}getExtensions(ne){return ni.call(this._languages,ne)?this._languages[ne].extensions:[]}getFilenames(ne){return ni.call(this._languages,ne)?this._languages[ne].filenames:[]}getIcon(ne){return ni.call(this._languages,ne)&&this._languages[ne].icons[0]||null}getConfigurationFiles(ne){return ni.call(this._languages,ne)&&this._languages[ne].configurationFiles||[]}getLanguageIdByLanguageName(ne){const Ne=ne.toLowerCase();return ni.call(this._lowercaseNameMap,Ne)?this._lowercaseNameMap[Ne]:null}getLanguageIdByMimeType(ne){return ne&&ni.call(this._mimeTypesMap,ne)?this._mimeTypesMap[ne]:null}guessLanguageIdByFilepathOrFirstLine(ne,Ne){return ne||Ne?(0,O.ST)(ne,Ne):[]}}return Re.instanceCount=0,Re})();class Bn{constructor(V){this.trait=V,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(V){return V}renderElement(V,ne,Ne){const at=this.renderedElements.findIndex(It=>It.templateData===Ne);if(at>=0){const It=this.renderedElements[at];this.trait.unrender(Ne),It.index=ne}else this.renderedElements.push({index:ne,templateData:Ne});this.trait.renderIndex(ne,Ne)}splice(V,ne,Ne){const at=[];for(const It of this.renderedElements)It.index<V?at.push(It):It.index>=V+ne&&at.push({index:It.index+Ne-ne,templateData:It.templateData});this.renderedElements=at}renderIndexes(V){for(const{index:ne,templateData:Ne}of this.renderedElements)V.indexOf(ne)>-1&&this.trait.renderIndex(ne,Ne)}disposeTemplate(V){const ne=this.renderedElements.findIndex(Ne=>Ne.templateData===V);ne<0||this.renderedElements.splice(ne,1)}}class An{constructor(V){this._trait=V,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new u.E,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new Bn(this)}splice(V,ne,Ne){ne=Math.max(0,Math.min(ne,this.length-V));const at=Ne.length-ne,It=V+ne,ln=[...this.sortedIndexes.filter(Sn=>Sn<V),...Ne.map((Sn,Vn)=>Sn?Vn+V:-1).filter(Sn=>-1!==Sn),...this.sortedIndexes.filter(Sn=>Sn>=It).map(Sn=>Sn+at)],pn=this.length+at;if(this.sortedIndexes.length>0&&0===ln.length&&pn>0){const Sn=this.sortedIndexes.find(Vn=>Vn>=V)??pn-1;ln.push(Math.min(Sn,pn-1))}this.renderer.splice(V,ne,Ne.length),this._set(ln,ln),this.length=pn}renderIndex(V,ne){ne.classList.toggle(this._trait,this.contains(V))}unrender(V){V.classList.remove(this._trait)}set(V,ne){return this._set(V,[...V].sort(ee),ne)}_set(V,ne,Ne){const at=this.indexes,It=this.sortedIndexes;this.indexes=V,this.sortedIndexes=ne;const ln=Ut(It,V);return this.renderer.renderIndexes(ln),this._onChange.fire({indexes:V,browserEvent:Ne}),at}get(){return this.indexes}contains(V){return(0,d.ry)(this.sortedIndexes,V,ee)>=0}dispose(){(0,l.B9)(this._onChange)}}class un extends An{constructor(V){super("selected"),this.setAriaSelected=V}renderIndex(V,ne){super.renderIndex(V,ne),this.setAriaSelected&&(this.contains(V)?ne.setAttribute("aria-selected","true"):ne.setAttribute("aria-selected","false"))}}class ht{constructor(V,ne,Ne){this.trait=V,this.view=ne,this.identityProvider=Ne}splice(V,ne,Ne){if(!this.identityProvider)return this.trait.splice(V,ne,Ne.map(()=>!1));const at=this.trait.get().map(ln=>this.identityProvider.getId(this.view.element(ln)).toString()),It=Ne.map(ln=>at.indexOf(this.identityProvider.getId(ln).toString())>-1);this.trait.splice(V,ne,It)}}function Kt(Re){return"INPUT"===Re.tagName||"TEXTAREA"===Re.tagName}function nn(Re){return!!Re.classList.contains("monaco-editor")||!(Re.classList.contains("monaco-list")||!Re.parentElement)&&nn(Re.parentElement)}class Dn{constructor(V,ne,Ne){this.list=V,this.view=ne,this.disposables=new l.SL,this.multipleSelectionDisposables=new l.SL,this.onKeyDown.filter(at=>3===at.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(at=>16===at.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(at=>18===at.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(at=>11===at.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(at=>12===at.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(at=>9===at.keyCode).on(this.onEscape,this,this.disposables),!1!==Ne.multipleSelectionSupport&&this.onKeyDown.filter(at=>(Se.dz?at.metaKey:at.ctrlKey)&&31===at.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(H.ju.chain(this.disposables.add(new R.Y(this.view.domNode,"keydown")).event).filter(V=>!Kt(V.target)).map(V=>new Z.y(V)))}updateOptions(V){void 0!==V.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),V.multipleSelectionSupport&&this.onKeyDown.filter(ne=>(Se.dz?ne.metaKey:ne.ctrlKey)&&31===ne.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection(this.list.getFocus(),V.browserEvent)}onUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPrevious(1,!1,V.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNext(1,!1,V.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onPageUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPreviousPage(V.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onPageDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNextPage(V.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onCtrlA(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection((0,d.w6)(this.list.length),V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(V){this.list.getSelection().length&&(V.preventDefault(),V.stopPropagation(),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}var In=(()=>((In=In||{})[In.Automatic=0]="Automatic",In[In.Trigger=1]="Trigger",In))(),bn=(()=>((bn=bn||{})[bn.Idle=0]="Idle",bn[bn.Typing=1]="Typing",bn))();const Ct=new class{mightProducePrintableCharacter(Re){return!(Re.ctrlKey||Re.metaKey||Re.altKey)&&(Re.keyCode>=31&&Re.keyCode<=56||Re.keyCode>=21&&Re.keyCode<=30||Re.keyCode>=93&&Re.keyCode<=102||Re.keyCode>=80&&Re.keyCode<=90)}};class Wt{constructor(V,ne,Ne,at,It){this.list=V,this.view=ne,this.keyboardNavigationLabelProvider=Ne,this.keyboardNavigationEventFilter=at,this.delegate=It,this.enabled=!1,this.state=bn.Idle,this.mode=In.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new l.SL,this.disposables=new l.SL,this.updateOptions(V.options)}updateOptions(V){V.typeNavigationEnabled??1?this.enable():this.disable(),this.mode=V.typeNavigationMode??In.Automatic}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let V=!1;const ne=this.enabledDisposables.add(H.ju.chain(this.enabledDisposables.add(new R.Y(this.view.domNode,"keydown")).event)).filter(It=>!Kt(It.target)).filter(()=>this.mode===In.Automatic||this.triggered).map(It=>new Z.y(It)).filter(It=>V||this.keyboardNavigationEventFilter(It)).filter(It=>this.delegate.mightProducePrintableCharacter(It)).forEach(R.p).map(It=>It.browserEvent.key).event,Ne=H.ju.debounce(ne,()=>null,800,void 0,void 0,this.enabledDisposables);H.ju.reduce(H.ju.any(ne,Ne),(It,ln)=>null===ln?null:(It||"")+ln,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Ne(this.onClear,this,this.enabledDisposables),ne(()=>V=!0,void 0,this.enabledDisposables),Ne(()=>V=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){const V=this.list.getFocus();if(V.length>0&&V[0]===this.previouslyFocused){const ne=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(V[0]));ne&&(0,Ie.Z9)(ne)}this.previouslyFocused=-1}onInput(V){if(!V)return this.state=bn.Idle,void(this.triggered=!1);const ne=this.list.getFocus(),Ne=ne.length>0?ne[0]:0,at=this.state===bn.Idle?1:0;this.state=bn.Typing;for(let It=0;It<this.list.length;It++){const ln=(Ne+It+at)%this.list.length,pn=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ln)),Sn=pn&&pn.toString();if(typeof Sn>"u"||(0,xe.Ji)(V,Sn))return this.previouslyFocused=Ne,this.list.setFocus([ln]),void this.list.reveal(ln)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class jt{constructor(V,ne){this.list=V,this.view=ne,this.disposables=new l.SL,this.disposables.add(H.ju.chain(this.disposables.add(new R.Y(ne.domNode,"keydown")).event)).filter(at=>!Kt(at.target)).map(at=>new Z.y(at)).filter(at=>!(2!==at.keyCode||at.ctrlKey||at.metaKey||at.shiftKey||at.altKey)).on(this.onTab,this,this.disposables)}onTab(V){if(V.target!==this.view.domNode)return;const ne=this.list.getFocus();if(0===ne.length)return;const Ne=this.view.domElement(ne[0]);if(!Ne)return;const at=Ne.querySelector("[tabIndex]");if(!(at&&at instanceof HTMLElement&&-1!==at.tabIndex))return;const It=window.getComputedStyle(at);"hidden"===It.visibility||"none"===It.display||(V.preventDefault(),V.stopPropagation(),at.focus())}dispose(){this.disposables.dispose()}}const _t={isSelectionSingleChangeEvent:function Yt(Re){return Se.dz?Re.browserEvent.metaKey:Re.browserEvent.ctrlKey},isSelectionRangeChangeEvent:function gn(Re){return Re.browserEvent.shiftKey}};class vn{constructor(V){this.list=V,this.disposables=new l.SL,this._onPointer=new u.E,this.onPointer=this._onPointer.event,!1!==V.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_t),this.mouseSupport=typeof V.options.mouseSupport>"u"||!!V.options.mouseSupport,this.mouseSupport&&(V.onMouseDown(this.onMouseDown,this,this.disposables),V.onContextMenu(this.onContextMenu,this,this.disposables),V.onMouseDblClick(this.onDoubleClick,this,this.disposables),V.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Me.o.addTarget(V.getHTMLElement()))),H.ju.any(V.onMouseClick,V.onMouseMiddleClick,V.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(V){void 0!==V.multipleSelectionSupport&&(this.multipleSelectionController=void 0,V.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_t))}isSelectionSingleChangeEvent(V){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(V)}isSelectionRangeChangeEvent(V){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(V)}isSelectionChangeEvent(V){return this.isSelectionSingleChangeEvent(V)||this.isSelectionRangeChangeEvent(V)}onMouseDown(V){nn(V.browserEvent.target)||document.activeElement!==V.browserEvent.target&&this.list.domFocus()}onContextMenu(V){nn(V.browserEvent.target)||this.list.setFocus(typeof V.index>"u"?[]:[V.index],V.browserEvent)}onViewPointer(V){if(!this.mouseSupport||Kt(V.browserEvent.target)||nn(V.browserEvent.target))return;const ne=V.index;return typeof ne>"u"?(this.list.setFocus([],V.browserEvent),this.list.setSelection([],V.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(V)||this.isSelectionChangeEvent(V)?this.changeSelection(V):(this.list.setFocus([ne],V.browserEvent),this.list.setAnchor(ne),function Be(Re){return Re instanceof MouseEvent&&2===Re.button}(V.browserEvent)||this.list.setSelection([ne],V.browserEvent),void this._onPointer.fire(V))}onDoubleClick(V){if(Kt(V.browserEvent.target)||nn(V.browserEvent.target)||this.isSelectionChangeEvent(V))return;const ne=this.list.getFocus();this.list.setSelection(ne,V.browserEvent)}changeSelection(V){const ne=V.index;let Ne=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(V)){typeof Ne>"u"&&(Ne=this.list.getFocus()[0]??ne,this.list.setAnchor(Ne));const at=Math.min(Ne,ne),It=Math.max(Ne,ne),ln=(0,d.w6)(at,It+1),pn=this.list.getSelection(),Sn=function ii(Re,V){const ne=Re.indexOf(V);if(-1===ne)return[];const Ne=[];let at=ne-1;for(;at>=0&&Re[at]===V-(ne-at);)Ne.push(Re[at--]);for(Ne.reverse(),at=ne;at<Re.length&&Re[at]===V+(at-ne);)Ne.push(Re[at++]);return Ne}(Ut(pn,[Ne]),Ne);if(0===Sn.length)return;const Vn=Ut(ln,function F(Re,V){const ne=[];let Ne=0,at=0;for(;Ne<Re.length||at<V.length;)if(Ne>=Re.length)ne.push(V[at++]);else if(at>=V.length)ne.push(Re[Ne++]);else{if(Re[Ne]===V[at]){Ne++,at++;continue}Re[Ne]<V[at]?ne.push(Re[Ne++]):at++}return ne}(pn,Sn));this.list.setSelection(Vn,V.browserEvent),this.list.setFocus([ne],V.browserEvent)}else if(this.isSelectionSingleChangeEvent(V)){const at=this.list.getSelection(),It=at.filter(ln=>ln!==ne);this.list.setFocus([ne]),this.list.setAnchor(ne),this.list.setSelection(at.length===It.length?[...It,ne]:It,V.browserEvent)}}dispose(){this.disposables.dispose()}}class $n{constructor(V,ne){this.styleElement=V,this.selectorSuffix=ne}style(V){const ne=this.selectorSuffix&&`.${this.selectorSuffix}`,Ne=[];V.listBackground&&(V.listBackground.isOpaque()?Ne.push(`.monaco-list${ne} .monaco-list-rows { background: ${V.listBackground}; }`):Se.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),V.listFocusBackground&&(Ne.push(`.monaco-list${ne}:focus .monaco-list-row.focused { background-color: ${V.listFocusBackground}; }`),Ne.push(`.monaco-list${ne}:focus .monaco-list-row.focused:hover { background-color: ${V.listFocusBackground}; }`)),V.listFocusForeground&&Ne.push(`.monaco-list${ne}:focus .monaco-list-row.focused { color: ${V.listFocusForeground}; }`),V.listActiveSelectionBackground&&(Ne.push(`.monaco-list${ne}:focus .monaco-list-row.selected { background-color: ${V.listActiveSelectionBackground}; }`),Ne.push(`.monaco-list${ne}:focus .monaco-list-row.selected:hover { background-color: ${V.listActiveSelectionBackground}; }`)),V.listActiveSelectionForeground&&Ne.push(`.monaco-list${ne}:focus .monaco-list-row.selected { color: ${V.listActiveSelectionForeground}; }`),V.listActiveSelectionIconForeground&&Ne.push(`.monaco-list${ne}:focus .monaco-list-row.selected .codicon { color: ${V.listActiveSelectionIconForeground}; }`),V.listFocusAndSelectionOutline&&Ne.push(`.monaco-list${ne}:focus .monaco-list-row.selected { outline-color: ${V.listFocusAndSelectionOutline} !important; }`),V.listFocusAndSelectionBackground&&Ne.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ne}:focus .monaco-list-row.selected.focused { background-color: ${V.listFocusAndSelectionBackground}; }\n\t\t\t`),V.listFocusAndSelectionForeground&&Ne.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ne}:focus .monaco-list-row.selected.focused { color: ${V.listFocusAndSelectionForeground}; }\n\t\t\t`),V.listInactiveFocusForeground&&(Ne.push(`.monaco-list${ne} .monaco-list-row.focused { color:  ${V.listInactiveFocusForeground}; }`),Ne.push(`.monaco-list${ne} .monaco-list-row.focused:hover { color:  ${V.listInactiveFocusForeground}; }`)),V.listInactiveSelectionIconForeground&&Ne.push(`.monaco-list${ne} .monaco-list-row.focused .codicon { color:  ${V.listInactiveSelectionIconForeground}; }`),V.listInactiveFocusBackground&&(Ne.push(`.monaco-list${ne} .monaco-list-row.focused { background-color:  ${V.listInactiveFocusBackground}; }`),Ne.push(`.monaco-list${ne} .monaco-list-row.focused:hover { background-color:  ${V.listInactiveFocusBackground}; }`)),V.listInactiveSelectionBackground&&(Ne.push(`.monaco-list${ne} .monaco-list-row.selected { background-color:  ${V.listInactiveSelectionBackground}; }`),Ne.push(`.monaco-list${ne} .monaco-list-row.selected:hover { background-color:  ${V.listInactiveSelectionBackground}; }`)),V.listInactiveSelectionForeground&&Ne.push(`.monaco-list${ne} .monaco-list-row.selected { color: ${V.listInactiveSelectionForeground}; }`),V.listHoverBackground&&Ne.push(`.monaco-list${ne}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${V.listHoverBackground}; }`),V.listHoverForeground&&Ne.push(`.monaco-list${ne} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${V.listHoverForeground}; }`),V.listSelectionOutline&&Ne.push(`.monaco-list${ne} .monaco-list-row.selected { outline: 1px dotted ${V.listSelectionOutline}; outline-offset: -1px; }`),V.listFocusOutline&&Ne.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ne}:focus .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${ne}.last-focused .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),V.listInactiveFocusOutline&&Ne.push(`.monaco-list${ne} .monaco-list-row.focused { outline: 1px dotted ${V.listInactiveFocusOutline}; outline-offset: -1px; }`),V.listHoverOutline&&Ne.push(`.monaco-list${ne} .monaco-list-row:hover { outline: 1px dashed ${V.listHoverOutline}; outline-offset: -1px; }`),V.listDropBackground&&Ne.push(`\n\t\t\t\t.monaco-list${ne}.drop-target,\n\t\t\t\t.monaco-list${ne} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${ne} .monaco-list-row.drop-target { background-color: ${V.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),V.tableColumnsBorder&&Ne.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${V.tableColumnsBorder};\n\t\t\t}`),V.tableOddRowsBackgroundColor&&Ne.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${V.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=Ne.join("\n")}}const Pi={listFocusBackground:r.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:r.Il.fromHex("#0E639C"),listActiveSelectionForeground:r.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:r.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:r.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:r.Il.fromHex("#094771"),listFocusAndSelectionForeground:r.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:r.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:r.Il.fromHex("#FFFFFF"),listHoverBackground:r.Il.fromHex("#2A2D2E"),listDropBackground:r.Il.fromHex("#383B3D"),treeIndentGuidesStroke:r.Il.fromHex("#a9a9a9"),tableColumnsBorder:r.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:r.Il.fromHex("#cccccc").transparent(.04)},Ii={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function Ut(Re,V){const ne=[];let Ne=0,at=0;for(;Ne<Re.length||at<V.length;)if(Ne>=Re.length)ne.push(V[at++]);else if(at>=V.length)ne.push(Re[Ne++]);else{if(Re[Ne]===V[at]){ne.push(Re[Ne]),Ne++,at++;continue}ne.push(Re[Ne]<V[at]?Re[Ne++]:V[at++])}return ne}const ee=(Re,V)=>Re-V;class _e{constructor(V,ne){this._templateId=V,this.renderers=ne}get templateId(){return this._templateId}renderTemplate(V){return this.renderers.map(ne=>ne.renderTemplate(V))}renderElement(V,ne,Ne,at){let It=0;for(const ln of this.renderers)ln.renderElement(V,ne,Ne[It++],at)}disposeElement(V,ne,Ne,at){let It=0;for(const ln of this.renderers)ln.disposeElement?.(V,ne,Ne[It],at),It+=1}disposeTemplate(V){let ne=0;for(const Ne of this.renderers)Ne.disposeTemplate(V[ne++])}}class Qe{constructor(V){this.accessibilityProvider=V,this.templateId="a18n"}renderTemplate(V){return V}renderElement(V,ne,Ne){const at=this.accessibilityProvider.getAriaLabel(V);at?Ne.setAttribute("aria-label",at):Ne.removeAttribute("aria-label");const It=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(V);"number"==typeof It?Ne.setAttribute("aria-level",`${It}`):Ne.removeAttribute("aria-level")}disposeTemplate(V){}}class qe{constructor(V,ne){this.list=V,this.dnd=ne}getDragElements(V){const ne=this.list.getSelectedElements();return ne.indexOf(V)>-1?ne:[V]}getDragURI(V){return this.dnd.getDragURI(V)}getDragLabel(V,ne){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V,ne)}onDragStart(V,ne){this.dnd.onDragStart?.(V,ne)}onDragOver(V,ne,Ne,at){return this.dnd.onDragOver(V,ne,Ne,at)}onDragLeave(V,ne,Ne,at){this.dnd.onDragLeave?.(V,ne,Ne,at)}onDragEnd(V){this.dnd.onDragEnd?.(V)}drop(V,ne,Ne,at){this.dnd.drop(V,ne,Ne,at)}}function rn(Re,V){const ne=Math.pow(10,V);return Math.round(Re*ne)/ne}class Gt{constructor(V,ne,Ne,at=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,V)),this.g=0|Math.min(255,Math.max(0,ne)),this.b=0|Math.min(255,Math.max(0,Ne)),this.a=rn(Math.max(Math.min(1,at),0),3)}static equals(V,ne){return V.r===ne.r&&V.g===ne.g&&V.b===ne.b&&V.a===ne.a}}class wn{constructor(V,ne,Ne,at){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,V),0),this.s=rn(Math.max(Math.min(1,ne),0),3),this.l=rn(Math.max(Math.min(1,Ne),0),3),this.a=rn(Math.max(Math.min(1,at),0),3)}static equals(V,ne){return V.h===ne.h&&V.s===ne.s&&V.l===ne.l&&V.a===ne.a}static fromRGBA(V){const ne=V.r/255,Ne=V.g/255,at=V.b/255,It=V.a,ln=Math.max(ne,Ne,at),pn=Math.min(ne,Ne,at);let Sn=0,Vn=0;const gi=(pn+ln)/2,Di=ln-pn;if(Di>0){switch(Vn=Math.min(gi<=.5?Di/(2*gi):Di/(2-2*gi),1),ln){case ne:Sn=(Ne-at)/Di+(Ne<at?6:0);break;case Ne:Sn=(at-ne)/Di+2;break;case at:Sn=(ne-Ne)/Di+4}Sn*=60,Sn=Math.round(Sn)}return new wn(Sn,Vn,gi,It)}static _hue2rgb(V,ne,Ne){return Ne<0&&(Ne+=1),Ne>1&&(Ne-=1),Ne<1/6?V+6*(ne-V)*Ne:Ne<.5?ne:Ne<2/3?V+(ne-V)*(2/3-Ne)*6:V}static toRGBA(V){const ne=V.h/360,{s:Ne,l:at,a:It}=V;let ln,pn,Sn;if(0===Ne)ln=pn=Sn=at;else{const Vn=at<.5?at*(1+Ne):at+Ne-at*Ne,gi=2*at-Vn;ln=wn._hue2rgb(gi,Vn,ne+1/3),pn=wn._hue2rgb(gi,Vn,ne),Sn=wn._hue2rgb(gi,Vn,ne-1/3)}return new Gt(Math.round(255*ln),Math.round(255*pn),Math.round(255*Sn),It)}}class En{constructor(V,ne,Ne,at){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,V),0),this.s=rn(Math.max(Math.min(1,ne),0),3),this.v=rn(Math.max(Math.min(1,Ne),0),3),this.a=rn(Math.max(Math.min(1,at),0),3)}static equals(V,ne){return V.h===ne.h&&V.s===ne.s&&V.v===ne.v&&V.a===ne.a}static fromRGBA(V){const ne=V.r/255,Ne=V.g/255,at=V.b/255,It=Math.max(ne,Ne,at),pn=It-Math.min(ne,Ne,at),Sn=0===It?0:pn/It;let Vn;return Vn=0===pn?0:It===ne?((Ne-at)/pn%6+6)%6:It===Ne?(at-ne)/pn+2:(ne-Ne)/pn+4,new En(Math.round(60*Vn),Sn,It,V.a)}static toRGBA(V){const{h:ne,s:Ne,v:at,a:It}=V,ln=at*Ne,pn=ln*(1-Math.abs(ne/60%2-1)),Sn=at-ln;let[Vn,gi,Di]=[0,0,0];return ne<60?(Vn=ln,gi=pn):ne<120?(Vn=pn,gi=ln):ne<180?(gi=ln,Di=pn):ne<240?(gi=pn,Di=ln):ne<300?(Vn=pn,Di=ln):ne<=360&&(Vn=ln,Di=pn),Vn=Math.round(255*(Vn+Sn)),gi=Math.round(255*(gi+Sn)),Di=Math.round(255*(Di+Sn)),new Gt(Vn,gi,Di,It)}}class xn{constructor(V){if(!V)throw new Error("Color needs a value");if(V instanceof Gt)this.rgba=V;else if(V instanceof wn)this._hsla=V,this.rgba=wn.toRGBA(V);else{if(!(V instanceof En))throw new Error("Invalid color ctor argument");this._hsva=V,this.rgba=En.toRGBA(V)}}static fromHex(V){return xn.Format.CSS.parseHex(V)||xn.red}get hsla(){return this._hsla?this._hsla:wn.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:En.fromRGBA(this.rgba)}equals(V){return!!V&&Gt.equals(this.rgba,V.rgba)&&wn.equals(this.hsla,V.hsla)&&En.equals(this.hsva,V.hsva)}getRelativeLuminance(){return rn(.2126*xn._relativeLuminanceForComponent(this.rgba.r)+.7152*xn._relativeLuminanceForComponent(this.rgba.g)+.0722*xn._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(V){const ne=V/255;return ne<=.03928?ne/12.92:Math.pow((ne+.055)/1.055,2.4)}getContrastRatio(V){const ne=this.getRelativeLuminance(),Ne=V.getRelativeLuminance();return ne>Ne?(ne+.05)/(Ne+.05):(Ne+.05)/(ne+.05)}isDarker(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(V){return this.getRelativeLuminance()>V.getRelativeLuminance()}isDarkerThan(V){return this.getRelativeLuminance()<V.getRelativeLuminance()}lighten(V){return new xn(new wn(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*V,this.hsla.a))}darken(V){return new xn(new wn(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*V,this.hsla.a))}transparent(V){const{r:ne,g:Ne,b:at,a:It}=this.rgba;return new xn(new Gt(ne,Ne,at,It*V))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new xn(new Gt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(V){const ne=V.rgba,Ne=this.rgba.a,at=ne.a,It=Ne+at*(1-Ne);return It<1e-6?xn.transparent:new xn(new Gt(this.rgba.r*Ne/It+ne.r*at*(1-Ne)/It,this.rgba.g*Ne/It+ne.g*at*(1-Ne)/It,this.rgba.b*Ne/It+ne.b*at*(1-Ne)/It,It))}makeOpaque(V){if(this.isOpaque()||1!==V.rgba.a)return this;const{r:ne,g:Ne,b:at,a:It}=this.rgba;return new xn(new Gt(V.rgba.r-It*(V.rgba.r-ne),V.rgba.g-It*(V.rgba.g-Ne),V.rgba.b-It*(V.rgba.b-at),1))}flatten(...V){const ne=V.reduceRight((Ne,at)=>xn._flatten(at,Ne));return xn._flatten(this,ne)}static _flatten(V,ne){const Ne=1-V.rgba.a;return new xn(new Gt(Ne*ne.rgba.r+V.rgba.a*V.rgba.r,Ne*ne.rgba.g+V.rgba.a*V.rgba.g,Ne*ne.rgba.b+V.rgba.a*V.rgba.b))}toString(){return this._toString||(this._toString=xn.Format.CSS.format(this)),this._toString}static getLighterColor(V,ne,Ne){if(V.isLighterThan(ne))return V;Ne=Ne||.5;const at=V.getRelativeLuminance(),It=ne.getRelativeLuminance();return V.lighten(Ne=Ne*(It-at)/It)}static getDarkerColor(V,ne,Ne){if(V.isDarkerThan(ne))return V;Ne=Ne||.5;const at=V.getRelativeLuminance(),It=ne.getRelativeLuminance();return V.darken(Ne=Ne*(at-It)/at)}}var Re,V,Wn,Xn;function si(Re,V){Object.defineProperties(Re,Object.getOwnPropertyDescriptors(V))}function ci(Re,V,ne,Ne){for(const at of Object.getOwnPropertyNames(V))Object.hasOwnProperty.call(Re,at)||(Re[at]=function(...It){return ne(V[at].call(this,...It.map(Ne)))})}xn.white=new xn(new Gt(255,255,255,1)),xn.black=new xn(new Gt(0,0,0,1)),xn.red=new xn(new Gt(255,0,0,1)),xn.blue=new xn(new Gt(0,0,255,1)),xn.green=new xn(new Gt(0,255,0,1)),xn.cyan=new xn(new Gt(0,255,255,1)),xn.lightgrey=new xn(new Gt(211,211,211,1)),xn.transparent=new xn(new Gt(0,0,0,0)),function(ne){function pn(ui){const lo=ui.toString(16);return 2!==lo.length?"0"+lo:lo}function Ai(ui){switch(ui){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}ne.formatRGB=function Ne(ui){return 1===ui.rgba.a?`rgb(${ui.rgba.r}, ${ui.rgba.g}, ${ui.rgba.b})`:Re.Format.CSS.formatRGBA(ui)},ne.formatRGBA=function at(ui){return`rgba(${ui.rgba.r}, ${ui.rgba.g}, ${ui.rgba.b}, ${+ui.rgba.a.toFixed(2)})`},ne.formatHSL=function It(ui){return 1===ui.hsla.a?`hsl(${ui.hsla.h}, ${(100*ui.hsla.s).toFixed(2)}%, ${(100*ui.hsla.l).toFixed(2)}%)`:Re.Format.CSS.formatHSLA(ui)},ne.formatHSLA=function ln(ui){return`hsla(${ui.hsla.h}, ${(100*ui.hsla.s).toFixed(2)}%, ${(100*ui.hsla.l).toFixed(2)}%, ${ui.hsla.a.toFixed(2)})`},ne.formatHex=function Sn(ui){return`#${pn(ui.rgba.r)}${pn(ui.rgba.g)}${pn(ui.rgba.b)}`},ne.formatHexA=function Vn(ui,lo=!1){return lo&&1===ui.rgba.a?Re.Format.CSS.formatHex(ui):`#${pn(ui.rgba.r)}${pn(ui.rgba.g)}${pn(ui.rgba.b)}${pn(Math.round(255*ui.rgba.a))}`},ne.format=function gi(ui){return ui.isOpaque()?Re.Format.CSS.formatHex(ui):Re.Format.CSS.formatRGBA(ui)},ne.parseHex=function Di(ui){const lo=ui.length;if(0===lo||35!==ui.charCodeAt(0))return null;if(7===lo){const Hi=16*Ai(ui.charCodeAt(1))+Ai(ui.charCodeAt(2)),Fo=16*Ai(ui.charCodeAt(3))+Ai(ui.charCodeAt(4)),fo=16*Ai(ui.charCodeAt(5))+Ai(ui.charCodeAt(6));return new Re(new Gt(Hi,Fo,fo,1))}if(9===lo){const Hi=16*Ai(ui.charCodeAt(1))+Ai(ui.charCodeAt(2)),Fo=16*Ai(ui.charCodeAt(3))+Ai(ui.charCodeAt(4)),fo=16*Ai(ui.charCodeAt(5))+Ai(ui.charCodeAt(6)),bo=16*Ai(ui.charCodeAt(7))+Ai(ui.charCodeAt(8));return new Re(new Gt(Hi,Fo,fo,bo/255))}if(4===lo){const Hi=Ai(ui.charCodeAt(1)),Fo=Ai(ui.charCodeAt(2)),fo=Ai(ui.charCodeAt(3));return new Re(new Gt(16*Hi+Hi,16*Fo+Fo,16*fo+fo))}if(5===lo){const Hi=Ai(ui.charCodeAt(1)),Fo=Ai(ui.charCodeAt(2)),fo=Ai(ui.charCodeAt(3)),bo=Ai(ui.charCodeAt(4));return new Re(new Gt(16*Hi+Hi,16*Fo+Fo,16*fo+fo,(16*bo+bo)/255))}return null}}((V=(Re=xn||(xn={})).Format||(Re.Format={})).CSS||(V.CSS={})),null==se.Yj.prototype.text?se.Yj.prototype.text=function(Re){return this.parse(Re).toString()}:console.warn("Useless polyfill: SnippetParser"),si(Oe.$V.prototype,class so extends l.JT{constructor(V){super(),this.logger=V,this._register(V)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(V){this.logger.setLevel(V)}getLevel(){return this.logger.getLevel()}trace(V,...ne){this.logger.trace(V,...ne)}debug(V,...ne){this.logger.debug(V,...ne)}info(V,...ne){this.logger.info(V,...ne)}warn(V,...ne){this.logger.warn(V,...ne)}error(V,...ne){this.logger.error(V,...ne)}critical(V,...ne){this.logger.critical(V,...ne)}flush(){this.logger.flush()}}.prototype),si($.aV.prototype,class ct{constructor(V,ne,Ne,at,It=Ii){this.user=V,this._options=It,this.focus=new An("focused"),this.anchor=new An("anchor"),this.eventBufferer=new H.E7,this._ariaLabel="",this.disposables=new l.SL,this._onDidDispose=new u.E,this.onDidDispose=this._onDidDispose.event;const ln=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new un("listbox"!==ln),(0,b.jB)(It,Pi,!1);const pn=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=It.accessibilityProvider,this.accessibilityProvider&&(pn.push(new Qe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),at=at.map(Vn=>new _e(Vn.templateId,[...pn,Vn]));const Sn={...It,dnd:It.dnd&&new qe(this,It.dnd)};if(this.view=new j.Bv(ne,Ne,at,Sn),this.view.domNode.setAttribute("role",ln),It.styleController)this.styleController=It.styleController(this.view.domId);else{const Vn=(0,D.dS)(this.view.domNode);this.styleController=new $n(Vn,this.view.domId)}this.spliceable=new q.J([new ht(this.focus,this.view,It.identityProvider),new ht(this.selection,this.view,It.identityProvider),new ht(this.anchor,this.view,It.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new jt(this,this.view)),("boolean"!=typeof It.keyboardSupport||It.keyboardSupport)&&(this.keyboardController=new Dn(this,this.view,It),this.disposables.add(this.keyboardController)),It.keyboardNavigationLabelProvider&&(this.typeNavigationController=new Wt(this,this.view,It.keyboardNavigationLabelProvider,It.keyboardNavigationEventFilter??(()=>!0),It.keyboardNavigationDelegate||Ct),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(It),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return H.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),V=>this.toListEvent(V),this.disposables)}get onDidChangeSelection(){return H.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),V=>this.toListEvent(V),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let V=!1;const ne=this.disposables.add(H.ju.chain(this.disposables.add(new R.Y(this.view.domNode,"keydown")).event)).map(It=>new Z.y(It)).filter(It=>V=58===It.keyCode||It.shiftKey&&68===It.keyCode).map(R.p).filter(()=>!1).event,Ne=this.disposables.add(H.ju.chain(this.disposables.add(new R.Y(this.view.domNode,"keyup")).event)).forEach(()=>V=!1).map(It=>new Z.y(It)).filter(It=>58===It.keyCode||It.shiftKey&&68===It.keyCode).map(R.p).map(({browserEvent:It})=>{const ln=this.getFocus(),pn=ln.length?ln[0]:void 0;return{index:pn,element:typeof pn<"u"?this.view.element(pn):void 0,anchor:typeof pn<"u"?this.view.domElement(pn):this.view.domNode,browserEvent:It}}).event,at=this.disposables.add(H.ju.chain(this.view.onContextMenu)).filter(It=>!V).map(({element:It,index:ln,browserEvent:pn})=>({element:It,index:ln,anchor:{x:pn.pageX+1,y:pn.pageY},browserEvent:pn})).event;return H.ju.any(ne,Ne,at)}get onKeyDown(){return this.disposables.add(new R.Y(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new R.Y(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new R.Y(this.view.domNode,"keypress")).event}get onDidFocus(){return H.ju.signal(this.disposables.add(new R.Y(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return H.ju.signal(this.disposables.add(new R.Y(this.view.domNode,"blur",!0)).event)}createMouseController(V){return new vn(this)}updateOptions(V={}){this._options={...this._options,...V},this.typeNavigationController?.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(V),this.keyboardController?.updateOptions(V),this.view.updateOptions(V)}get options(){return this._options}splice(V,ne,Ne=[]){if(V<0||V>this.view.length)throw new J.A(this.user,`Invalid start index: ${V}`);if(ne<0)throw new J.A(this.user,`Invalid delete count: ${ne}`);0===ne&&0===Ne.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(V,ne,Ne))}updateWidth(V){this.view.updateWidth(V)}updateElementHeight(V,ne){this.view.updateElementHeight(V,ne,null)}rerender(){this.view.rerender()}element(V){return this.view.element(V)}indexOf(V){return this.view.indexOf(V)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(V){this.view.setScrollTop(V)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(V){this.view.setScrollLeft(V)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(V){this._ariaLabel=V,this.view.domNode.setAttribute("aria-label",V)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(V,ne){this.view.layout(V,ne)}triggerTypeNavigation(){this.typeNavigationController&&this.typeNavigationController.trigger()}setSelection(V,ne){for(const Ne of V)if(Ne<0||Ne>=this.length)throw new J.A(this.user,`Invalid index ${Ne}`);this.selection.set(V,ne)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(V=>this.view.element(V))}setAnchor(V){if(typeof V>"u")this.anchor.set([]);else{if(V<0||V>=this.length)throw new J.A(this.user,`Invalid index ${V}`);this.anchor.set([V])}}getAnchor(){return(0,d.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const V=this.getAnchor();return typeof V>"u"?void 0:this.element(V)}setFocus(V,ne){for(const Ne of V)if(Ne<0||Ne>=this.length)throw new J.A(this.user,`Invalid index ${Ne}`);this.focus.set(V,ne)}focusNext(V=1,ne=!1,Ne,at){if(0===this.length)return;const It=this.focus.get(),ln=this.findNextIndex(It.length>0?It[0]+V:0,ne,at);ln>-1&&this.setFocus([ln],Ne)}focusPrevious(V=1,ne=!1,Ne,at){if(0===this.length)return;const It=this.focus.get(),ln=this.findPreviousIndex(It.length>0?It[0]-V:0,ne,at);ln>-1&&this.setFocus([ln],Ne)}focusNextPage(V,ne){var Ne=this;return(0,s.Z)(function*(){let at=Ne.view.indexAt(Ne.view.getScrollTop()+Ne.view.renderHeight);at=0===at?0:at-1;const It=Ne.getFocus()[0];if(It!==at&&(void 0===It||at>It)){const ln=Ne.findPreviousIndex(at,!1,ne);Ne.setFocus(ln>-1&&It!==ln?[ln]:[at],V)}else{const ln=Ne.view.getScrollTop();let pn=ln+Ne.view.renderHeight;at>It&&(pn-=Ne.view.elementHeight(at)),Ne.view.setScrollTop(pn),Ne.view.getScrollTop()!==ln&&(Ne.setFocus([]),yield(0,S.Vs)(0),yield Ne.focusNextPage(V,ne))}})()}focusPreviousPage(V,ne){var Ne=this;return(0,s.Z)(function*(){let at;const It=Ne.view.getScrollTop();at=0===It?Ne.view.indexAt(It):Ne.view.indexAfter(It-1);const ln=Ne.getFocus()[0];if(ln!==at&&(void 0===ln||ln>=at)){const pn=Ne.findNextIndex(at,!1,ne);Ne.setFocus(pn>-1&&ln!==pn?[pn]:[at],V)}else{const pn=It;Ne.view.setScrollTop(It-Ne.view.renderHeight),Ne.view.getScrollTop()!==pn&&(Ne.setFocus([]),yield(0,S.Vs)(0),yield Ne.focusPreviousPage(V,ne))}})()}focusLast(V,ne){if(0===this.length)return;const Ne=this.findPreviousIndex(this.length-1,!1,ne);Ne>-1&&this.setFocus([Ne],V)}focusFirst(V,ne){this.focusNth(0,V,ne)}focusNth(V,ne,Ne){if(0===this.length)return;const at=this.findNextIndex(V,!1,Ne);at>-1&&this.setFocus([at],ne)}findNextIndex(V,ne=!1,Ne){for(let at=0;at<this.length;at++){if(V>=this.length&&!ne)return-1;if(V%=this.length,!Ne||Ne(this.element(V)))return V;V++}return-1}findPreviousIndex(V,ne=!1,Ne){for(let at=0;at<this.length;at++){if(V<0&&!ne)return-1;if(V=(this.length+V%this.length)%this.length,!Ne||Ne(this.element(V)))return V;V--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(V=>this.view.element(V))}reveal(V,ne){if(V<0||V>=this.length)throw new J.A(this.user,`Invalid index ${V}`);const Ne=this.view.getScrollTop(),at=this.view.elementTop(V),It=this.view.elementHeight(V);if((0,_.hj)(ne))this.view.setScrollTop((It-this.view.renderHeight)*(0,Ce.uZ)(ne,0,1)+at);else{const ln=at+It,pn=Ne+this.view.renderHeight;at<Ne&&ln>=pn||(at<Ne||ln>=pn&&It>=this.view.renderHeight?this.view.setScrollTop(at):ln>=pn&&this.view.setScrollTop(ln-this.view.renderHeight))}}getRelativeTop(V){if(V<0||V>=this.length)throw new J.A(this.user,`Invalid index ${V}`);const ne=this.view.getScrollTop(),Ne=this.view.elementTop(V),at=this.view.elementHeight(V);return Ne<ne||Ne+at>ne+this.view.renderHeight?null:Math.abs((ne-Ne)/(at-this.view.renderHeight))}isDOMFocused(){return this.view.domNode===document.activeElement}getHTMLElement(){return this.view.domNode}getElementID(V){return this.view.getElementDomId(V)}style(V){this.styleController.style(V)}toListEvent({indexes:V,browserEvent:ne}){return{indexes:V,elements:V.map(Ne=>this.view.element(Ne)),browserEvent:ne}}_onFocusChange(){const V=this.focus.get();this.view.domNode.classList.toggle("element-focused",V.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){const V=this.focus.get();if(V.length>0){let ne;this.accessibilityProvider?.getActiveDescendantId&&(ne=this.accessibilityProvider.getActiveDescendantId(this.view.element(V[0]))),this.view.domNode.setAttribute("aria-activedescendant",ne||this.view.getElementDomId(V[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const V=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===V.length),this.view.domNode.classList.toggle("selection-single",1===V.length),this.view.domNode.classList.toggle("selection-multiple",V.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}.prototype),si(K.md.prototype,u.W.prototype),si(n.t.prototype,dn.prototype),si(C.qL.prototype,class Pe{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(V){setTimeout(()=>{throw V.stack?ze.isErrorNoTelemetry(V)?new ze(V.message+"\n\n"+V.stack):new Error(V.message+"\n\n"+V.stack):V},0)}}addListener(V){return this.listeners.push(V),()=>{this._removeListener(V)}}emit(V){this.listeners.forEach(ne=>{ne(V)})}_removeListener(V){this.listeners.splice(this.listeners.indexOf(V),1)}setUnexpectedErrorHandler(V){this.unexpectedErrorHandler=V}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(V){this.unexpectedErrorHandler(V),this.emit(V)}onUnexpectedExternalError(V){this.unexpectedErrorHandler(V)}}.prototype),si(N.uy.prototype,u.R.prototype),si(w.VK.prototype,Qi.prototype),si(x.Id.prototype,Pn.prototype),si(m.AC.prototype,class Ho{constructor(){this._onDidChangeConfiguration=new u.E,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new w.VK(new E.l,new w.VV,new w.VV,new w.VV)}getValue(V,ne){const Ne="string"==typeof V?V:void 0,at=Do(V)?V:Do(ne)?ne:{};return this._configuration.getValue(Ne,at,void 0)}updateValues(V){const ne={data:this._configuration.toData()},Ne=[];for(const at of V){const[It,ln]=at;this.getValue(It)!==ln&&(this._configuration.updateValue(It,ln),Ne.push(It))}if(Ne.length>0){const at=new w.YX({keys:Ne,overrides:[]},ne,this._configuration);at.source=8,at.sourceConfig=null,this._onDidChangeConfiguration.fire(at)}return Promise.resolve()}updateValue(V,ne,Ne,at){return this.updateValues([[V,ne]])}inspect(V,ne={}){return this._configuration.inspect(V,ne,void 0)}keys(){return this._configuration.keys(void 0)}reloadConfiguration(){return Promise.resolve(void 0)}getConfigurationData(){const V={contents:{},keys:[],overrides:[]};return{defaults:V,policy:V,application:V,user:V,workspace:V,folders:[]}}}.prototype),si(a.T.prototype,Gn.prototype),si(v.EO.prototype,u.e.prototype),si(f.bB.prototype,class rt extends l.JT{constructor(V){super(),this.themeService=V,this.theme=V.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(ne=>this.onThemeChange(ne)))}onThemeChange(V){this.theme=V,this.updateStyles()}updateStyles(){}getColor(V,ne){let Ne=this.theme.getColor(V);return Ne&&ne&&(Ne=ne(Ne,this.theme)),Ne?Ne.toString():null}}.prototype),si(I.k.prototype,De.prototype);const Ci=z.B.as("base.contributions.json");Ci.getSchemaContributions??(Ci.getSchemaContributions=()=>({schemas:Ci.schemasById})),Ci.onDidChangeSchema??(Ci.onDidChangeSchema=Ci._onDidChangeSchema.event);const Li=z.B.as("base.contributions.theming");Li.onThemingParticipantAdded??(Li.onThemingParticipantAdded=Li.onThemingParticipantAddedEmitter.event);const Ji=z.B.as(k.IP.Configuration);function uo(Re){return function(){const V=Re.call(this);return V.onDidTriggerButton??(V.onDidTriggerButton=V.onDidTriggerButtonEmitter.event),V}}function Ui(Re){return Re instanceof t.KN?dt.wrap(Re.buffer):Re}function Mn(Re){return Re instanceof dt?t.KN.wrap(Re.buffer):Re}Ji.onDidUpdateConfiguration??(Ji.onDidUpdateConfiguration=Ji._onDidUpdateConfiguration.event),Ji.onDidSchemaChange??(Ji.onDidSchemaChange=Ji._onDidSchemaChange.event),Ji.notifyConfigurationSchemaUpdated??(Ji.notifyConfigurationSchemaUpdated=()=>{Ji._onDidSchemaChange.fire()}),(Wn=v.EO.prototype).onDidClose??(Wn.onDidClose=H.ju.None),ce.O.prototype.createQuickPick=uo(ce.O.prototype.createQuickPick),ce.O.prototype.createInputBox=uo(ce.O.prototype.createInputBox),(Xn=(0,Ee.d)().find(([Re])=>Re===me.e)[1].ctor.prototype).onDidChangeFormatters??(Xn.onDidChangeFormatters=H.ju.None);for(const Re of Object.getOwnPropertyNames(dt))if(!Object.hasOwnProperty.call(t.KN,Re)){const V=dt[Re];dt[Re]=t.KN[Re]=function(...ne){return Mn(V.call(t.KN,...ne.map(Ui)))}}ci(t.KN.prototype,dt.prototype,Mn,Ui),ci(r.Il.prototype,xn.prototype,function ue(Re){if(Re instanceof xn){const V=Re.rgba;return new r.Il(new r.VS(V.r,V.g,V.g,V.a))}return Re},function Ge(Re){if(Re instanceof r.Il){const V=Re.rgba;return new xn(new Gt(V.r,V.g,V.g,V.a))}return Re})},52236:(yt,T,e)=>{"use strict";e.d(T,{A:()=>re,F:()=>v,I:()=>vt,P:()=>O,Q:()=>it,S:()=>bt,a:()=>m,b:()=>Xe,c:()=>g,d:()=>st,e:()=>et,f:()=>ft,g:()=>Ae,h:()=>dt,i:()=>St,j:()=>de,k:()=>Ie,l:()=>Q,m:()=>ye,p:()=>pe,r:()=>Oe,s:()=>y,u:()=>W});var s=e(78450),t=e(30888),l=e(82761),C=e(63896),f=e(63312),I=e(1200),b=e(21576),S=e(9590),D=e(56740),_=e(83310),r=e(50540),a=e(40703),u=e(41883),n=e(57908);function y(Bt){return Bt}e(31864);const g=(0,t.yh)("fileService");var v=(()=>((v=v||{})[v.Unknown=0]="Unknown",v[v.File=1]="File",v[v.Directory=2]="Directory",v[v.SymbolicLink=64]="SymbolicLink",v))(),m=(()=>((m=m||{})[m.Readonly=1]="Readonly",m))(),W=(()=>((W=W||{}).FileExists="EntryExists",W.FileNotFound="EntryNotFound",W.FileNotADirectory="EntryNotADirectory",W.FileIsADirectory="EntryIsADirectory",W.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",W.FileTooLarge="EntryTooLarge",W.FileWriteLocked="EntryWriteLocked",W.NoPermissions="NoPermissions",W.Unavailable="Unavailable",W.Unknown="Unknown",W))();class H extends Error{constructor(Lt,Ye){super(Lt),this.code=Ye}}function O(Bt,Lt){return Bt.name=Lt?`${Lt} (FileSystemError)`:"FileSystemError",Bt}class R extends Error{constructor(Lt,Ye,Tt){super(Lt),this.fileOperationResult=Ye,this.options=Tt}}const Ie=(0,t.yh)("IUriIdentityService"),Me="workbench.experimental.settingsProfiles.enabled",Oe=(0,t.yh)("IUserDataProfilesService");function ce(Bt,Lt,Ye){return{id:(0,r.vp)(Lt.path).toString(16),name:Bt,location:Lt,isDefault:!1,globalStorageHome:(0,S.Vo)(Lt,"globalStorage"),settingsResource:(0,S.Vo)(Lt,"settings.json"),keybindingsResource:(0,S.Vo)(Lt,"keybindings.json"),tasksResource:(0,S.Vo)(Lt,"tasks.json"),snippetsHome:(0,S.Vo)(Lt,"snippets"),extensionsResource:(0,S.Vo)(Lt,"extensions.json"),useDefaultFlags:Ye}}let Ee=class extends b.JT{constructor(Lt,Ye,Tt,qt){super(),this.environmentService=Lt,this.fileService=Ye,this.uriIdentityService=Tt,this.logService=qt,this.enabled=!1,this.defaultProfileShouldIncludeExtensionsResourceAlways=!1,this._onDidChangeProfiles=this._register(new C.E),this.onDidChangeProfiles=this._onDidChangeProfiles.event,this._onWillCreateProfile=this._register(new C.E),this.onWillCreateProfile=this._onWillCreateProfile.event,this._onWillRemoveProfile=this._register(new C.E),this.onWillRemoveProfile=this._onWillRemoveProfile.event,this.profilesHome=(0,S.Vo)(this.environmentService.userRoamingDataHome,"profiles")}get defaultProfile(){return this.profiles[0]}get profiles(){return this.profilesObject.profiles}setEnablement(Lt){this.enabled!==Lt&&(this._profilesObject=void 0,this.enabled=Lt)}get profilesObject(){if(!this._profilesObject){const Lt=this.enabled?this.getStoredProfiles().map(Ot=>ce(Ot.name,Ot.location,Ot.useDefaultFlags)):[];let Ye;const Tt=new f.Y9;if(Lt.length){const Ot=this.getStoredProfileAssociations();if(Ot.workspaces)for(const[Ft,rt]of Object.entries(Ot.workspaces)){const Le=D.o.parse(Ft),ie=D.o.parse(rt),te=Lt.find(oe=>this.uriIdentityService.extUri.isEqual(oe.location,ie));te&&Tt.set(Le,te)}if(Ot.emptyWindow){const Ft=D.o.parse(Ot.emptyWindow);Ye=Lt.find(rt=>this.uriIdentityService.extUri.isEqual(rt.location,Ft))}}const qt=ce((0,I.NC)("defaultProfile","Default"),this.environmentService.userRoamingDataHome);Lt.unshift({...qt,isDefault:!0,extensionsResource:this.defaultProfileShouldIncludeExtensionsResourceAlways||Lt.length>0?qt.extensionsResource:void 0}),this._profilesObject={profiles:Lt,workspaces:Tt,emptyWindow:Ye}}return this._profilesObject}getProfile(Lt){const Ye=this.getWorkspace(Lt);return(D.o.isUri(Ye)?this.profilesObject.workspaces.get(Ye):this.profilesObject.emptyWindow)??this.defaultProfile}getWorkspace(Lt){return(0,_.eb)(Lt)?Lt.uri:(0,C.i)(Lt)?Lt.configPath:"empty-window"}createProfile(Lt,Ye,Tt){var qt=this;return(0,s.Z)(function*(){if(!qt.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${Me}' setting.`);if(qt.getStoredProfiles().some(rt=>rt.name===Lt))throw new Error(`Profile with name ${Lt} already exists`);const Ot=ce(Lt,(0,S.Vo)(qt.profilesHome,(0,r.vp)((0,a.R)()).toString(16)),Ye);yield qt.fileService.createFolder(Ot.location);const Ft=[];return qt._onWillCreateProfile.fire({profile:Ot,join(rt){Ft.push(rt)}}),yield u.jT.settled(Ft),qt.updateProfiles([Ot],[],[]),Tt&&(yield qt.setProfileForWorkspace(Ot,Tt)),Ot})()}updateProfile(Lt,Ye,Tt){var qt=this;return(0,s.Z)(function*(){if(!qt.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${Me}' setting.`);let Ot=qt.profiles.find(Ft=>Ft.id===Lt.id);if(!Ot)throw new Error(`Profile '${Lt.name}' does not exist`);return Ot=ce(Ye,Ot.location,Tt),qt.updateProfiles([],[],[Ot]),Ot})()}setProfileForWorkspace(Lt,Ye){var Tt=this;return(0,s.Z)(function*(){if(!Tt.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${Me}' setting.`);const qt=Tt.profiles.find(Ot=>Ot.id===Lt.id);if(!qt)throw new Error(`Profile '${Lt.name}' does not exist`);Tt.updateWorkspaceAssociation(Ye,qt)})()}unsetWorkspace(Lt){var Ye=this;return(0,s.Z)(function*(){if(!Ye.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${Me}' setting.`);Ye.updateWorkspaceAssociation(Lt)})()}removeProfile(Lt){var Ye=this;return(0,s.Z)(function*(){if(!Ye.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${Me}' setting.`);if(Lt.isDefault)throw new Error("Cannot remove default profile");const Tt=Ye.profiles.find(Ot=>Ot.id===Lt.id);if(!Tt)throw new Error(`Profile '${Lt.name}' does not exist`);const qt=[];Ye._onWillRemoveProfile.fire({profile:Tt,join(Ot){qt.push(Ot)}}),yield u.jT.settled(qt),Tt.id===Ye.profilesObject.emptyWindow?.id&&(Ye.profilesObject.emptyWindow=void 0);for(const Ot of[...Ye.profilesObject.workspaces.keys()])Tt.id===Ye.profilesObject.workspaces.get(Ot)?.id&&Ye.profilesObject.workspaces.delete(Ot);Ye.updateStoredProfileAssociations(),Ye.updateProfiles([],[Tt],[]);try{1===Ye.profiles.length?yield Ye.fileService.del(Ye.profilesHome,{recursive:!0}):yield Ye.fileService.del(Tt.location,{recursive:!0})}catch(Ot){Ye.logService.error(Ot)}})()}updateProfiles(Lt,Ye,Tt){const qt=[];for(let Ot of[...this.profilesObject.profiles,...Lt])Ot.isDefault||Ye.some(Ft=>Ot.id===Ft.id)||(Ot=Tt.find(Ft=>Ot.id===Ft.id)??Ot,qt.push({location:Ot.location,name:Ot.name,useDefaultFlags:Ot.useDefaultFlags}));this.saveStoredProfiles(qt),this._profilesObject=void 0,this.triggerProfilesChanges(Lt,Ye,Tt)}triggerProfilesChanges(Lt,Ye,Tt){this._onDidChangeProfiles.fire({added:Lt,removed:Ye,updated:Tt,all:this.profiles})}updateWorkspaceAssociation(Lt,Ye){const Tt=this.getWorkspace(Lt);D.o.isUri(Tt)?(this.profilesObject.workspaces.delete(Tt),Ye&&!Ye.isDefault&&this.profilesObject.workspaces.set(Tt,Ye)):this.profilesObject.emptyWindow=Ye?.isDefault?void 0:Ye,this.updateStoredProfileAssociations()}updateStoredProfileAssociations(){const Lt={};for(const[Tt,qt]of this.profilesObject.workspaces.entries())Lt[Tt.toString()]=qt.location.toString();const Ye=this.profilesObject.emptyWindow?.location.toString();this.saveStoredProfileAssociations({workspaces:Lt,emptyWindow:Ye}),this._profilesObject=void 0}getStoredProfiles(){return[]}saveStoredProfiles(Lt){throw new Error("not implemented")}getStoredProfileAssociations(){return{}}saveStoredProfileAssociations(Lt){throw new Error("not implemented")}};Ee.PROFILES_KEY="userDataProfiles",Ee.PROFILE_ASSOCIATIONS_KEY="profileAssociations",Ee=(0,C._)([(0,C.a)(0,l.Y),(0,C.a)(1,g),(0,C.a)(2,Ie),(0,C.a)(3,n.VZ)],Ee);const vt=(0,t.yh)("editorGroupsService"),Xe=(0,t.yh)("editorService"),re=-1,pe=-2,de=(0,t.yh)("textFileService"),Q=l.Y,ye=(0,t.yh)("workingCopyFileService"),Ae=(0,t.yh)("pathService"),ft=(0,t.yh)("paneCompositePartService"),dt=(0,t.yh)("productService"),it="vscode://schemas/vscode-product",et=(0,t.yh)("ILanguageStatusService"),st=(0,t.yh)("hostService"),St=(0,t.yh)("snippetService");let mt;var bt,Bt;(Bt=bt||(bt={})).get=()=>mt??{},Bt.install=function Lt(Ye){return null!=mt&&console.warn("Services have been overridden"),mt=Ye,{dispose:()=>{mt===Ye&&(mt=void 0)}}}},30125:(yt,T,e)=>{"use strict";function t(_){return Array.isArray(_)&&_.every(r=>function s(_){return"string"==typeof _}(r))}function f(_){return function C(_){return typeof _>"u"}(_)||null===_}function I(..._){const r=[];for(let a=0;a<_.length;a++){const u=_[a];if(f(u))throw new Error(`Assertion Failed: argument at index ${a} is undefined or null`);r.push(u)}return r}function D(_){return typeof _>"u"?null:_}e.d(T,{a:()=>I,b:()=>t,w:()=>D})},63896:(yt,T,e)=>{"use strict";e.d(T,{E:()=>I,N:()=>S,R:()=>x,W:()=>H,_:()=>r,a:()=>a,b:()=>b,c:()=>n,d:()=>u,e:()=>D,i:()=>W});var s=e(79388),t=e(31864),l=e(84834),C=e(9590),f=e(56740);const I=s.Emitter;var b=(()=>((b=b||{})[b.WORKSPACE=0]="WORKSPACE",b[b.PROFILE=1]="PROFILE",b[b.APPLICATION=2]="APPLICATION",b))(),S=(()=>((S=S||{})[S.OFF=0]="OFF",S[S.SILENT=1]="SILENT",S[S.ERROR=2]="ERROR",S))();class D{constructor(){this.progress=new _,this.onDidClose=t.ju.None,this.onDidChangeVisibility=t.ju.None}updateSeverity(N){}updateMessage(N){}updateActions(N){}close(){}}class _{infinite(){}done(){}total(N){}worked(N){}}function r(z,N,O,K){var q,$=arguments.length,j=$<3?N:null===K?K=Object.getOwnPropertyDescriptor(N,O):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(z,N,O,K);else for(var R=z.length-1;R>=0;R--)(q=z[R])&&(j=($<3?q(j):$>3?q(N,O,j):q(N,O))||j);return $>3&&j&&Object.defineProperty(N,O,j),j}function a(z,N){return function(O,K){N(O,K,z)}}function u(z,N,O,K){if("a"===O&&!K)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof N?z!==N||!K:!N.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===O?K:"a"===O?K.call(z):K?K.value:N.get(z)}function n(z,N,O,K,$){if("m"===K)throw new TypeError("Private method is not writable");if("a"===K&&!$)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof N?z!==N||!$:!N.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===K?$.call(z,O):$?$.value=O:N.set(z,O),O}const d=new Map;d.set("false",!1),d.set("true",!0),d.set("isMac",l.dz),d.set("isLinux",l.IJ),d.set("isWindows",l.ED),d.set("isWeb",l.$L),d.set("isMacNative",l.dz&&!l.$L),d.set("isEdge",l.un),d.set("isFirefox",l.vU),d.set("isChrome",l.i7),d.set("isSafari",l.G6);class g{constructor(){this.type=0}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!1}serialize(){return"false"}keys(){return[]}map(N){return this}negate(){return v.INSTANCE}}g.INSTANCE=new g;class v{constructor(){this.type=1}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!0}serialize(){return"true"}keys(){return[]}map(N){return this}negate(){return g.INSTANCE}}v.INSTANCE=new v;class m{constructor(N,O){this.key=N,this.negated=O,this.type=2}static create(N,O=null){const K=d.get(N);return"boolean"==typeof K?K?v.INSTANCE:g.INSTANCE:new m(N,O)}cmp(N){return N.type!==this.type?this.type-N.type:A(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}substituteConstants(){const N=d.get(this.key);return"boolean"==typeof N?N?v.INSTANCE:g.INSTANCE:this}evaluate(N){return!!N.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(N){return N.mapDefined(this.key)}negate(){return this.negated||(this.negated=L.create(this.key,this)),this.negated}}class w{constructor(N,O,K){this.key=N,this.value=O,this.negated=K,this.type=4}static create(N,O,K=null){if("boolean"==typeof O)return O?m.create(N,K):L.create(N,K);const $=d.get(N);return"boolean"==typeof $?O===($?"true":"false")?v.INSTANCE:g.INSTANCE:new w(N,O,K)}cmp(N){return N.type!==this.type?this.type-N.type:k(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){const N=d.get(this.key);return"boolean"==typeof N?this.value===(N?"true":"false")?v.INSTANCE:g.INSTANCE:this}evaluate(N){return N.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(N){return N.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}class E{constructor(N,O,K){this.key=N,this.value=O,this.negated=K,this.type=5}static create(N,O,K=null){if("boolean"==typeof O)return O?L.create(N,K):m.create(N,K);const $=d.get(N);return"boolean"==typeof $?O===($?"true":"false")?g.INSTANCE:v.INSTANCE:new E(N,O,K)}cmp(N){return N.type!==this.type?this.type-N.type:k(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){const N=d.get(this.key);return"boolean"==typeof N?this.value===(N?"true":"false")?g.INSTANCE:v.INSTANCE:this}evaluate(N){return N.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(N){return N.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class L{constructor(N,O){this.key=N,this.negated=O,this.type=3}static create(N,O=null){const K=d.get(N);return"boolean"==typeof K?K?g.INSTANCE:v.INSTANCE:new L(N,O)}cmp(N){return N.type!==this.type?this.type-N.type:A(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}substituteConstants(){const N=d.get(this.key);return"boolean"==typeof N?N?g.INSTANCE:v.INSTANCE:this}evaluate(N){return!N.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(N){return N.mapNot(this.key)}negate(){return this.negated||(this.negated=m.create(this.key,this)),this.negated}}let x=(()=>{class z extends m{constructor(O,K,$){super(O,null),this._defaultValue=K,"object"==typeof $?z._info.push({...$,key:O}):!0!==$&&z._info.push({key:O,description:$,type:null!=K?typeof K:void 0})}static all(){return z._info.values()}bindTo(O){return O.createKey(this.key,this._defaultValue)}getValue(O){return O.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(O){return w.create(this.key,O)}notEqualsTo(O){return E.create(this.key,O)}}return z._info=[],z})();function A(z,N){return z<N?-1:z>N?1:0}function k(z,N,O,K){return z<O?-1:z>O?1:N<K?-1:N>K?1:0}function W(z){const N=z;return"string"==typeof N?.id&&f.o.isUri(N.configPath)}class H{constructor(N,O){this.raw=O,this.uri=N.uri,this.index=N.index,this.name=N.name}toResource(N){return(0,C.Vo)(this.uri,N)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},78450:(yt,T,e)=>{"use strict";function s(l,C,f,I,b,S,D){try{var _=l[S](D),r=_.value}catch(a){return void f(a)}_.done?C(r):Promise.resolve(r).then(I,b)}function t(l){return function(){var C=this,f=arguments;return new Promise(function(I,b){var S=l.apply(C,f);function D(r){s(S,I,b,D,_,"next",r)}function _(r){s(S,I,b,D,_,"throw",r)}D(void 0)})}}e.d(T,{Z:()=>t})},13688:(yt,T,e)=>{"use strict";function s(f){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(f)}function C(f,I,b){return(I=function l(f){var I=function t(f,I){if("object"!==s(f)||null===f)return f;var b=f[Symbol.toPrimitive];if(void 0!==b){var S=b.call(f,I||"default");if("object"!==s(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(f)}(f,"string");return"symbol"===s(I)?I:String(I)}(I))in f?Object.defineProperty(f,I,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[I]=b,f}e.d(T,{Z:()=>C})}}]);